import { fhir, valueSetCodes } from '@fhir-typescript/r4-core';
// create a new patient object
let patient = new fhir.Patient({
    name: [{
            // you can use the native TS/JS types for values
            given: ['givenName'],
            // or your can use FHIR primitives to add extended properties inline
            family: new fhir.FhirString({ extension: [new fhir.Extension({ url: 'http://example.org/ext-1', valueString: 'test' })] }),
        }],
    // can use the JSON-style choice types
    deceasedBoolean: true,
    // or you can use FHIR primitives on the root elements
    multipleBirth: new fhir.FhirBoolean({ value: true }),
});
// all array-type elements are non-nullable to simplify your code
patient.identifier.push(new fhir.Identifier({ value: 'abc-123' }));
// Codes are exposed as constants:
patient.contact.push(new fhir.PatientContact({ gender: valueSetCodes.AdministrativeGenderCodes.Female }));
// and codes are exposed from the root class as well, according to the element and binding strength
patient.contact.push(new fhir.PatientContact({ gender: fhir.Patient.genderRequiredCodes.Other }));
// and have type hinting
patient.gender = new fhir.FhirCode({ value: 'other' });
// Codings are also available
patient.maritalStatus = new fhir.CodeableConcept({ coding: [fhir.Patient.maritalStatusExtensibleCodings.Unknown] });
// and can be used fluently
patient.maritalStatus = new fhir.CodeableConcept()
    .addCoding(fhir.Patient.maritalStatusExtensibleCodings.Unmarried)
    .addCoding(fhir.Patient.maritalStatusExtensibleCodings.NeverMarried);
// Extensions are also fluent
patient
    .addExtension({ url: 'http://example.org/ext-1', value: new fhir.FhirString({ value: 'test-again' }) })
    .addExtension({ url: 'http://example.org/ext-2', value: new fhir.FhirString({ value: 'test-2' }) })
    .addExtension({ url: 'http://example.org/ext-3', extension: [
        { url: 'part1', valueString: 'value1' },
        { url: 'part2', valueString: 'value2' },
        { url: 'nested', extension: [{ url: 'part3', valueString: 'value3' }] }
    ]
});
// and can be removed easily
patient.removeExtensions('http://example.org/ext-2');
// or searched
console.log('ext-3', JSON.stringify(patient.findExtension('http://example.org/ext-3')));
// even nested parts
console.log('part2', patient.findExtension('part2', true));
console.log('part3', patient.findExtension('part3', true));
// or repeating extensions
console.log('ext-1', JSON.stringify(patient.filterExtensions('http://example.org/ext-1')));
// serialization uses the standard JSON calls
console.log('Serialied:', JSON.stringify(patient, null, 2));
// The SDK can check *basic* conformance to the specs (see docs for details)
let p2 = new fhir.Patient();
p2.communication.push(new fhir.PatientCommunication({ preferred: false }));
let issues = p2.doModelValidation();
/*
  outputs:
Found issue: {
  severity: 'error',
  code: 'required',
  diagnostics: 'Missing required property language fhir: Patient.communication.language:CodeableConcept',
  expression: [ 'Patient.communication[0]' ]
}
*/
if (issues && (issues.length > 0)) {
    issues.forEach((i) => console.log('Found issue:', i));
}
// FtsIssue is compatible with OperationOutcomeIssue (OperationOutcome.issue), but contains no extensions
let outcome = new fhir.OperationOutcome({ issue: issues });
console.log('Outcome:', JSON.stringify(outcome));
// // // and parsing works out of the box too
// let jp:string = '{"resourceType":"Patient","id":"example","text":{"status":"generated","div":"<div xmlns=\\"http://www.w3.org/1999/xhtml\\">\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>Name</td>\\n\\t\\t\\t\\t\\t\\t<td>Peter James \\n              <b>Chalmers</b> (&quot;Jim&quot;)\\n            </td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>Address</td>\\n\\t\\t\\t\\t\\t\\t<td>534 Erewhon, Pleasantville, Vic, 3999</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>Contacts</td>\\n\\t\\t\\t\\t\\t\\t<td>Home: unknown. Work: (03) 5555 6473</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>Id</td>\\n\\t\\t\\t\\t\\t\\t<td>MRN: 12345 (Acme Healthcare)</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t</table>\\n\\t\\t</div>"},"identifier":[{"use":"usual","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0203","code":"MR"}]},"system":"urn:oid:1.2.36.146.595.217.0.1","value":"12345","period":{"start":"2001-05-06"},"assigner":{"display":"Acme Healthcare"}}],"active":true,"name":[{"use":"official","family":"Chalmers","given":["Peter","James"]},{"use":"usual","given":["Jim"]},{"use":"maiden","family":"Windsor","given":["Peter","James"],"period":{"end":"2002"}}],"telecom":[{"use":"home"},{"system":"phone","value":"(03) 5555 6473","use":"work","rank":1},{"system":"phone","value":"(03) 3410 5613","use":"mobile","rank":2},{"system":"phone","value":"(03) 5555 8834","use":"old","period":{"end":"2014"}}],"gender":"male","birthDate":"1974-12-25","_birthDate":{"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthTime","valueDateTime":"1974-12-25T14:35:45-05:00"}]},"deceasedBoolean":false,"address":[{"use":"home","type":"both","text":"534 Erewhon St PeasantVille, Rainbow, Vic  3999","line":["534 Erewhon St"],"city":"PleasantVille","district":"Rainbow","state":"Vic","postalCode":"3999","period":{"start":"1974-12-25"}}],"contact":[{"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"N"}]}],"name":{"family":"du Marché","_family":{"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/humanname-own-prefix","valueString":"VV"}]},"given":["Bénédicte"]},"telecom":[{"system":"phone","value":"+33 (237) 998327"}],"address":{"use":"home","type":"both","line":["534 Erewhon St"],"city":"PleasantVille","district":"Rainbow","state":"Vic","postalCode":"3999","period":{"start":"1974-12-25"}},"gender":"female","period":{"start":"2012"}}],"managingOrganization":{"reference":"Organization/1"}}';
// let parsed:fhir.Patient = new fhir.Patient(JSON.parse(jp));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFL0QsOEJBQThCO0FBQzlCLElBQUksT0FBTyxHQUFnQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDMUMsSUFBSSxFQUFFLENBQUU7WUFDTixnREFBZ0Q7WUFDaEQsS0FBSyxFQUFFLENBQUMsV0FBVyxDQUFDO1lBQ3BCLG9FQUFvRTtZQUNwRSxNQUFNLEVBQUUsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUMsR0FBRyxFQUFDLDBCQUEwQixFQUFFLFdBQVcsRUFBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQztTQUNySCxDQUFDO0lBQ0Ysc0NBQXNDO0lBQ3RDLGVBQWUsRUFBRSxJQUFJO0lBQ3JCLHNEQUFzRDtJQUN0RCxhQUFhLEVBQUUsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBQyxDQUFDO0NBQ25ELENBQUMsQ0FBQztBQUVILGlFQUFpRTtBQUNqRSxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFDLENBQUMsQ0FBQyxDQUFDO0FBRWpFLGtDQUFrQztBQUNsQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBQyxNQUFNLEVBQUUsYUFBYSxDQUFDLHlCQUF5QixDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUMsQ0FBQztBQUN4RyxtR0FBbUc7QUFDbkcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsY0FBYyxD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QUFNLEdBQW1CLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0FBQ3BEOzs7Ozs7OztFQVFFO0FBQ0YsSUFBSSxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQ2pDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDdkQ7QUFDRCx5R0FBeUc7QUFDekcsSUFBSSxPQUFPLEdBQXlCLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQTBDLEVBQUMsQ0FBQyxDQUFDO0FBQ25ILE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUVqRCw2Q0FBNkM7QUFDN0MsMGpGQUEwakY7QUFDMWpGLDhEQUE4RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZoaXIsIHZhbHVlU2V0Q29kZXMgfSBmcm9tICdAZmhpci10eXBlc2NyaXB0L3I0LWNvcmUnO1xyXG5cclxuLy8gY3JlYXRlIGEgbmV3IHBhdGllbnQgb2JqZWN0XHJcbmxldCBwYXRpZW50OmZoaXIuUGF0aWVudCA9IG5ldyBmaGlyLlBhdGllbnQoe1xyXG4gIG5hbWU6IFsgeyBcclxuICAgIC8vIHlvdSBjYW4gdXNlIHRoZSBuYXRpdmUgVFMvSlMgdHlwZXMgZm9yIHZhbHVlc1xyXG4gICAgZ2l2ZW46IFsnZ2l2ZW5OYW1lJ10sIFxyXG4gICAgLy8gb3IgeW91ciBjYW4gdXNlIEZISVIgcHJpbWl0aXZlcyB0byBhZGQgZXh0ZW5kZWQgcHJvcGVydGllcyBpbmxpbmVcclxuICAgIGZhbWlseTogbmV3IGZoaXIuRmhpclN0cmluZyh7ZXh0ZW5zaW9uOiBbbmV3IGZoaXIuRXh0ZW5zaW9uKHt1cmw6J2h0dHA6Ly9leGFtcGxlLm9yZy9leHQtMScsIHZhbHVlU3RyaW5nOid0ZXN0J30pXX0pLFxyXG4gIH1dLFxyXG4gIC8vIGNhbiB1c2UgdGhlIEpTT04tc3R5bGUgY2hvaWNlIHR5cGVzXHJcbiAgZGVjZWFzZWRCb29sZWFuOiB0cnVlLFxyXG4gIC8vIG9yIHlvdSBjYW4gdXNlIEZISVIgcHJpbWl0aXZlcyBvbiB0aGUgcm9vdCBlbGVtZW50c1xyXG4gIG11bHRpcGxlQmlydGg6IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogdHJ1ZX0pLFxyXG59KTtcclxuXHJcbi8vIGFsbCBhcnJheS10eXBlIGVsZW1lbnRzIGFyZSBub24tbnVsbGFibGUgdG8gc2ltcGxpZnkgeW91ciBjb2RlXHJcbnBhdGllbnQuaWRlbnRpZmllci5wdXNoKG5ldyBmaGlyLklkZW50aWZpZXIoe3ZhbHVlOiAnYWJjLTEyMyd9KSk7XHJcblxyXG4vLyBDb2RlcyBhcmUgZXhwb3NlZCBhcyBjb25zdGFudHM6XHJcbnBhdGllbnQuY29udGFjdC5wdXNoKG5ldyBmaGlyLlBhdGllbnRDb250YWN0KHtnZW5kZXI6IHZhbHVlU2V0Q29kZXMuQWRtaW5pc3RyYXRpdmVHZW5kZXJDb2Rlcy5GZW1hbGV9KSk7XHJcbi8vIGFuZCBjb2RlcyBhcmUgZXhwb3NlZCBmcm9tIHRoZSByb290IGNsYXNzIGFzIHdlbGwsIGFjY29yZGluZyB0byB0aGUgZWxlbWVudCBhbmQgYmluZGluZyBzdHJlbmd0aFxyXG5wYXRpZW50LmNvbnRhY3QucHVzaChuZXcgZmhpci5QYXRpZW50Q29udGFjdCh7Z2VuZGVyOiBmaGlyLlBhdGllbnQuZ2VuZGVyUmVxdWlyZWRDb2Rlcy5PdGhlcn0pKTtcclxuLy8gYW5kIGhhdmUgdHlwZSBoaW50aW5nXHJcbnBhdGllbnQuZ2VuZGVyID0gbmV3IGZoaXIuRmhpckNvZGU8dmFsdWVTZXRDb2Rlcy5BZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPih7dmFsdWU6ICdvdGhlcid9KTtcclxuXHJcbi8vIENvZGluZ3MgYXJlIGFsc28gYXZhaWxhYmxlXHJcbnBhdGllbnQubWFyaXRhbFN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh7IGNvZGluZzogW2ZoaXIuUGF0aWVudC5tYXJpdGFsU3RhdHVzRXh0ZW5zaWJsZUNvZGluZ3MuVW5rbm93bl19KTtcclxuLy8gYW5kIGNhbiBiZSB1c2VkIGZsdWVudGx5XHJcbnBhdGllbnQubWFyaXRhbFN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCgpXHJcbiAgLmFkZENvZGluZyhmaGlyLlBhdGllbnQubWFyaXRhbFN0YXR1c0V4dGVuc2libGVDb2RpbmdzLlVubWFycmllZClcclxuICAuYWRkQ29kaW5nKGZoaXIuUGF0aWVudC5tYXJpdGFsU3RhdHVzRXh0ZW5zaWJsZUNvZGluZ3MuTmV2ZXJNYXJyaWVkKTtcclxuXHJcbi8vIEV4dGVuc2lvbnMgYXJlIGFsc28gZmx1ZW50XHJcbnBhdGllbnRcclxuICAuYWRkRXh0ZW5zaW9uKHt1cmw6ICdodHRwOi8vZXhhbXBsZS5vcmcvZXh0LTEnLCB2YWx1ZTogbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6ICd0ZXN0LWFnYWluJ30pfSlcclxuICAuYWRkRXh0ZW5zaW9uKHt1cmw6ICdodHRwOi8vZXhhbXBsZS5vcmcvZXh0LTInLCB2YWx1ZTogbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6ICd0ZXN0LTInfSl9KVxyXG4gIC5hZGRFeHRlbnNpb24oe3VybDogJ2h0dHA6Ly9leGFtcGxlLm9yZy9leHQtMycsIGV4dGVuc2lvbjogW1xyXG4gICAge3VybDogJ3BhcnQxJywgdmFsdWVTdHJpbmc6ICd2YWx1ZTEnfSwgXHJcbiAgICB7dXJsOiAncGFydDInLCB2YWx1ZVN0cmluZzogJ3ZhbHVlMid9LFxyXG4gICAge3VybDogJ25lc3RlZCcsIGV4dGVuc2lvbjogW3t1cmw6ICdwYXJ0MycsIHZhbHVlU3RyaW5nOiAndmFsdWUzJ31dfV1cclxuICB9KTtcclxuLy8gYW5kIGNhbiBiZSByZW1vdmVkIGVhc2lseVxyXG5wYXRpZW50LnJlbW92ZUV4dGVuc2lvbnMoJ2h0dHA6Ly9leGFtcGxlLm9yZy9leHQtMicpO1xyXG4vLyBvciBzZWFyY2hlZFxyXG5jb25zb2xlLmxvZygnZXh0LTMnLCBKU09OLnN0cmluZ2lmeShwYXRpZW50LmZpbmRFeHRlbnNpb24oJ2h0dHA6Ly9leGFtcGxlLm9yZy9leHQtMycpKSk7XHJcbi8vIGV2ZW4gbmVzdGVkIHBhcnRzXHJcbmNvbnNvbGUubG9nKCdwYXJ0MicsIHBhdGllbnQuZmluZEV4dGVuc2lvbigncGFydDInLCB0cnVlKSk7XHJcbmNvbnNvbGUubG9nKCdwYXJ0MycsIHBhdGllbnQuZmluZEV4dGVuc2lvbigncGFydDMnLCB0cnVlKSk7XHJcbi8vIG9yIHJlcGVhdGluZyBleHRlbnNpb25zXHJcbmNvbnNvbGUubG9nKCdleHQtMScsIEpTT04uc3RyaW5naWZ5KHBhdGllbnQuZmlsdGVyRXh0ZW5zaW9ucygnaHR0cDovL2V4YW1wbGUub3JnL2V4dC0xJykpKTtcclxuXHJcbi8vIHNlcmlhbGl6YXRpb24gdXNlcyB0aGUgc3RhbmRhcmQgSlNPTiBjYWxsc1xyXG5jb25zb2xlLmxvZygnU2VyaWFsaWVkOicsIEpTT04uc3RyaW5naWZ5KHBhdGllbnQsIG51bGwsIDIpKTtcclxuXHJcbi8vIFRoZSBTREsgY2FuIGNoZWNrICpiYXNpYyogY29uZm9ybWFuY2UgdG8gdGhlIHNwZWNzIChzZWUgZG9jcyBmb3IgZGV0YWlscylcclxubGV0IHAyOmZoaXIuUGF0aWVudCA9IG5ldyBmaGlyLlBhdGllbnQoKTtcclxucDIuY29tbXVuaWNhdGlvbi5wdXNoKG5ldyBmaGlyLlBhdGllbnRDb21tdW5pY2F0aW9uKHtwcmVmZXJyZWQ6IGZhbHNlfSkpO1xyXG5sZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHAyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbi8qXHJcbiAgb3V0cHV0czpcclxuRm91bmQgaXNzdWU6IHtcclxuICBzZXZlcml0eTogJ2Vycm9yJyxcclxuICBjb2RlOiAncmVxdWlyZWQnLFxyXG4gIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBsYW5ndWFnZSBmaGlyOiBQYXRpZW50LmNvbW11bmljYXRpb24ubGFuZ3VhZ2U6Q29kZWFibGVDb25jZXB0JyxcclxuICBleHByZXNzaW9uOiBbICdQYXRpZW50LmNvbW11bmljYXRpb25bMF0nIF1cclxufVxyXG4qL1xyXG5pZiAoaXNzdWVzICYmIChpc3N1ZXMubGVuZ3RoID4gMCkpIHtcclxuICBpc3N1ZXMuZm9yRWFjaCgoaSkgPT4gY29uc29sZS5sb2coJ0ZvdW5kIGlzc3VlOicsIGkpKTtcclxufVxyXG4vLyBGdHNJc3N1ZSBpcyBjb21wYXRpYmxlIHdpdGggT3BlcmF0aW9uT3V0Y29tZUlzc3VlIChPcGVyYXRpb25PdXRjb21lLmlzc3VlKSwgYnV0IGNvbnRhaW5zIG5vIGV4dGVuc2lvbnNcclxubGV0IG91dGNvbWU6Zmhpci5PcGVyYXRpb25PdXRjb21lID0gbmV3IGZoaXIuT3BlcmF0aW9uT3V0Y29tZSh7aXNzdWU6IGlzc3VlcyBhcyBmaGlyLk9wZXJhdGlvbk91dGNvbWVJc3N1ZUFyZ3NbXX0pO1xyXG5jb25zb2xlLmxvZygnT3V0Y29tZTonLCBKU09OLnN0cmluZ2lmeShvdXRjb21lKSk7XHJcblxyXG4vLyAvLyAvLyBhbmQgcGFyc2luZyB3b3JrcyBvdXQgb2YgdGhlIGJveCB0b29cclxuLy8gbGV0IGpwOnN0cmluZyA9ICd7XCJyZXNvdXJjZVR5cGVcIjpcIlBhdGllbnRcIixcImlkXCI6XCJleGFtcGxlXCIsXCJ0ZXh0XCI6e1wic3RhdHVzXCI6XCJnZW5lcmF0ZWRcIixcImRpdlwiOlwiPGRpdiB4bWxucz1cXFxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcXFwiPlxcXFxuXFxcXHRcXFxcdFxcXFx0PHRhYmxlPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHQ8dGJvZHk+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRyPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRkPk5hbWU8L3RkPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRkPlBldGVyIEphbWVzIFxcXFxuICAgICAgICAgICAgICA8Yj5DaGFsbWVyczwvYj4gKCZxdW90O0ppbSZxdW90OylcXFxcbiAgICAgICAgICAgIDwvdGQ+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PC90cj5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8dHI+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8dGQ+QWRkcmVzczwvdGQ+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8dGQ+NTM0IEVyZXdob24sIFBsZWFzYW50dmlsbGUsIFZpYywgMzk5OTwvdGQ+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PC90cj5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8dHI+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8dGQ+Q29udGFjdHM8L3RkPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRkPkhvbWU6IHVua25vd24uIFdvcms6ICgwMykgNTU1NSA2NDczPC90ZD5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8L3RyPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDx0cj5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDx0ZD5JZDwvdGQ+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8dGQ+TVJOOiAxMjM0NSAoQWNtZSBIZWFsdGhjYXJlKTwvdGQ+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PC90cj5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0PC90Ym9keT5cXFxcblxcXFx0XFxcXHRcXFxcdDwvdGFibGU+XFxcXG5cXFxcdFxcXFx0PC9kaXY+XCJ9LFwiaWRlbnRpZmllclwiOlt7XCJ1c2VcIjpcInVzdWFsXCIsXCJ0eXBlXCI6e1wiY29kaW5nXCI6W3tcInN5c3RlbVwiOlwiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92Mi0wMjAzXCIsXCJjb2RlXCI6XCJNUlwifV19LFwic3lzdGVtXCI6XCJ1cm46b2lkOjEuMi4zNi4xNDYuNTk1LjIxNy4wLjFcIixcInZhbHVlXCI6XCIxMjM0NVwiLFwicGVyaW9kXCI6e1wic3RhcnRcIjpcIjIwMDEtMDUtMDZcIn0sXCJhc3NpZ25lclwiOntcImRpc3BsYXlcIjpcIkFjbWUgSGVhbHRoY2FyZVwifX1dLFwiYWN0aXZlXCI6dHJ1ZSxcIm5hbWVcIjpbe1widXNlXCI6XCJvZmZpY2lhbFwiLFwiZmFtaWx5XCI6XCJDaGFsbWVyc1wiLFwiZ2l2ZW5cIjpbXCJQZXRlclwiLFwiSmFtZXNcIl19LHtcInVzZVwiOlwidXN1YWxcIixcImdpdmVuXCI6W1wiSmltXCJdfSx7XCJ1c2VcIjpcIm1haWRlblwiLFwiZmFtaWx5XCI6XCJXaW5kc29yXCIsXCJnaXZlblwiOltcIlBldGVyXCIsXCJKYW1lc1wiXSxcInBlcmlvZFwiOntcImVuZFwiOlwiMjAwMlwifX1dLFwidGVsZWNvbVwiOlt7XCJ1c2VcIjpcImhvbWVcIn0se1wic3lzdGVtXCI6XCJwaG9uZVwiLFwidmFsdWVcIjpcIigwMykgNTU1NSA2NDczXCIsXCJ1c2VcIjpcIndvcmtcIixcInJhbmtcIjoxfSx7XCJzeXN0ZW1cIjpcInBob25lXCIsXCJ2YWx1ZVwiOlwiKDAzKSAzNDEwIDU2MTNcIixcInVzZVwiOlwibW9iaWxlXCIsXCJyYW5rXCI6Mn0se1wic3lzdGVtXCI6XCJwaG9uZVwiLFwidmFsdWVcIjpcIigwMykgNTU1NSA4ODM0XCIsXCJ1c2VcIjpcIm9sZFwiLFwicGVyaW9kXCI6e1wiZW5kXCI6XCIyMDE0XCJ9fV0sXCJnZW5kZXJcIjpcIm1hbGVcIixcImJpcnRoRGF0ZVwiOlwiMTk3NC0xMi0yNVwiLFwiX2JpcnRoRGF0ZVwiOntcImV4dGVuc2lvblwiOlt7XCJ1cmxcIjpcImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9wYXRpZW50LWJpcnRoVGltZVwiLFwidmFsdWVEYXRlVGltZVwiOlwiMTk3NC0xMi0yNVQxNDozNTo0NS0wNTowMFwifV19LFwiZGVjZWFzZWRCb29sZWFuXCI6ZmFsc2UsXCJhZGRyZXNzXCI6W3tcInVzZVwiOlwiaG9tZVwiLFwidHlwZVwiOlwiYm90aFwiLFwidGV4dFwiOlwiNTM0IEVyZXdob24gU3QgUGVhc2FudFZpbGxlLCBSYWluYm93LCBWaWMgIDM5OTlcIixcImxpbmVcIjpbXCI1MzQgRXJld2hvbiBTdFwiXSxcImNpdHlcIjpcIlBsZWFzYW50VmlsbGVcIixcImRpc3RyaWN0XCI6XCJSYWluYm93XCIsXCJzdGF0ZVwiOlwiVmljXCIsXCJwb3N0YWxDb2RlXCI6XCIzOTk5XCIsXCJwZXJpb2RcIjp7XCJzdGFydFwiOlwiMTk3NC0xMi0yNVwifX1dLFwiY29udGFjdFwiOlt7XCJyZWxhdGlvbnNoaXBcIjpbe1wiY29kaW5nXCI6W3tcInN5c3RlbVwiOlwiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92Mi0wMTMxXCIsXCJjb2RlXCI6XCJOXCJ9XX1dLFwibmFtZVwiOntcImZhbWlseVwiOlwiZHUgTWFyY2jDqVwiLFwiX2ZhbWlseVwiOntcImV4dGVuc2lvblwiOlt7XCJ1cmxcIjpcImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9odW1hbm5hbWUtb3duLXByZWZpeFwiLFwidmFsdWVTdHJpbmdcIjpcIlZWXCJ9XX0sXCJnaXZlblwiOltcIkLDqW7DqWRpY3RlXCJdfSxcInRlbGVjb21cIjpbe1wic3lzdGVtXCI6XCJwaG9uZVwiLFwidmFsdWVcIjpcIiszMyAoMjM3KSA5OTgzMjdcIn1dLFwiYWRkcmVzc1wiOntcInVzZVwiOlwiaG9tZVwiLFwidHlwZVwiOlwiYm90aFwiLFwibGluZVwiOltcIjUzNCBFcmV3aG9uIFN0XCJdLFwiY2l0eVwiOlwiUGxlYXNhbnRWaWxsZVwiLFwiZGlzdHJpY3RcIjpcIlJhaW5ib3dcIixcInN0YXRlXCI6XCJWaWNcIixcInBvc3RhbENvZGVcIjpcIjM5OTlcIixcInBlcmlvZFwiOntcInN0YXJ0XCI6XCIxOTc0LTEyLTI1XCJ9fSxcImdlbmRlclwiOlwiZmVtYWxlXCIsXCJwZXJpb2RcIjp7XCJzdGFydFwiOlwiMjAxMlwifX1dLFwibWFuYWdpbmdPcmdhbml6YXRpb25cIjp7XCJyZWZlcmVuY2VcIjpcIk9yZ2FuaXphdGlvbi8xXCJ9fSc7XHJcbi8vIGxldCBwYXJzZWQ6Zmhpci5QYXRpZW50ID0gbmV3IGZoaXIuUGF0aWVudChKU09OLnBhcnNlKGpwKSk7XHJcbiJdfQ==