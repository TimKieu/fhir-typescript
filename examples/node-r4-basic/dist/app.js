import { fhir, valueSetCodes } from '@fhir-typescript/r4-core';
// create a new patient object
let patient = new fhir.Patient({
    name: [{
            // you can use the native TS/JS types for values
            given: ['givenName'],
            // or your can use FHIR primitives to add extended properties inline
            family: new fhir.FhirString({ extension: [new fhir.Extension({ url: 'http://example.org/ext-1', valueString: 'test' })] }),
        }],
    // can use the JSON-style choice types
    deceasedBoolean: true,
    // or you can use FHIR primitives on the root elements
    multipleBirth: new fhir.FhirBoolean({ value: true }),
});
// all array-type elements are non-nullable to simplify your code
patient.identifier.push(new fhir.Identifier({ value: 'abc-123' }));
// Codes are exposed as constants:
patient.contact.push(new fhir.PatientContact({ gender: valueSetCodes.AdministrativeGenderCodes.Female }));
// and codes are exposed from the root class as well, according to the element and binding strength
patient.contact.push(new fhir.PatientContact({ gender: fhir.Patient.genderRequiredCodes.Other }));
// and have type hinting
patient.gender = new fhir.FhirCode({ value: 'other' });
// Codings are also available
patient.maritalStatus = new fhir.CodeableConcept({ coding: [fhir.Patient.maritalStatusExtensibleCodings.Unknown] });
// and can be used fluently
patient.maritalStatus = new fhir.CodeableConcept()
    .addCoding(fhir.Patient.maritalStatusExtensibleCodings.Unmarried)
    .addCoding(fhir.Patient.maritalStatusExtensibleCodings.NeverMarried);
// Extensions are also fluent
patient
    .addExtension({ url: 'http://example.org/ext-1', value: new fhir.FhirString({ value: 'test-again' }) })
    .addExtension({ url: 'http://example.org/ext-2', value: new fhir.FhirString({ value: 'test-2' }) })
    .addExtension({ url: 'http://example.org/ext-3', extension: [
        { url: 'part1', valueString: 'value1' },
        { url: 'part2', valueString: 'value2' },
        { url: 'nested', extension: [{ url: 'part3', valueString: 'value3' }] }
    ]
});
// and can be removed easily
patient.removeExtensions('http://example.org/ext-2');
// or searched
console.log('ext-3', JSON.stringify(patient.findExtension('http://example.org/ext-3')));
// even nested parts
console.log('part2', patient.findExtension('part2', true));
console.log('part3', patient.findExtension('part3', true));
// or repeating extensions
console.log('ext-1', JSON.stringify(patient.filterExtensions('http://example.org/ext-1')));
// serialization uses the standard JSON calls
console.log('Serialied:', JSON.stringify(patient, null, 2));
// The SDK can check *basic* conformance to the specs (see docs for details)
let p2 = new fhir.Patient();
p2.communication.push(new fhir.PatientCommunication({ preferred: false }));
let issues = p2.doModelValidation();
/*
  outputs:
Found issue: {
  severity: 'error',
  code: 'required',
  diagnostics: 'Missing required property language:fhir.CodeableConcept fhir: Patient.communication.language:CodeableConcept'
}
*/
if (issues && (issues.length > 0)) {
    issues.forEach((i) => console.log('Found issue:', i));
}
// FtsIssue is compatible with OperationOutcomeIssue (OperationOutcome.issue), but contains no extensions
let outcome = new fhir.OperationOutcome({ issue: issues });
console.log('Outcome:', JSON.stringify(outcome));
// // // and parsing works out of the box too
// let jp:string = '{"resourceType":"Patient","id":"example","text":{"status":"generated","div":"<div xmlns=\\"http://www.w3.org/1999/xhtml\\">\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>Name</td>\\n\\t\\t\\t\\t\\t\\t<td>Peter James \\n              <b>Chalmers</b> (&quot;Jim&quot;)\\n            </td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>Address</td>\\n\\t\\t\\t\\t\\t\\t<td>534 Erewhon, Pleasantville, Vic, 3999</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>Contacts</td>\\n\\t\\t\\t\\t\\t\\t<td>Home: unknown. Work: (03) 5555 6473</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>Id</td>\\n\\t\\t\\t\\t\\t\\t<td>MRN: 12345 (Acme Healthcare)</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t</table>\\n\\t\\t</div>"},"identifier":[{"use":"usual","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0203","code":"MR"}]},"system":"urn:oid:1.2.36.146.595.217.0.1","value":"12345","period":{"start":"2001-05-06"},"assigner":{"display":"Acme Healthcare"}}],"active":true,"name":[{"use":"official","family":"Chalmers","given":["Peter","James"]},{"use":"usual","given":["Jim"]},{"use":"maiden","family":"Windsor","given":["Peter","James"],"period":{"end":"2002"}}],"telecom":[{"use":"home"},{"system":"phone","value":"(03) 5555 6473","use":"work","rank":1},{"system":"phone","value":"(03) 3410 5613","use":"mobile","rank":2},{"system":"phone","value":"(03) 5555 8834","use":"old","period":{"end":"2014"}}],"gender":"male","birthDate":"1974-12-25","_birthDate":{"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthTime","valueDateTime":"1974-12-25T14:35:45-05:00"}]},"deceasedBoolean":false,"address":[{"use":"home","type":"both","text":"534 Erewhon St PeasantVille, Rainbow, Vic  3999","line":["534 Erewhon St"],"city":"PleasantVille","district":"Rainbow","state":"Vic","postalCode":"3999","period":{"start":"1974-12-25"}}],"contact":[{"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"N"}]}],"name":{"family":"du Marché","_family":{"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/humanname-own-prefix","valueString":"VV"}]},"given":["Bénédicte"]},"telecom":[{"system":"phone","value":"+33 (237) 998327"}],"address":{"use":"home","type":"both","line":["534 Erewhon St"],"city":"PleasantVille","district":"Rainbow","state":"Vic","postalCode":"3999","period":{"start":"1974-12-25"}},"gender":"female","period":{"start":"2012"}}],"managingOrganization":{"reference":"Organization/1"}}';
// let parsed:fhir.Patient = new fhir.Patient(JSON.parse(jp));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFL0QsOEJBQThCO0FBQzlCLElBQUksT0FBTyxHQUFnQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDMUMsSUFBSSxFQUFFLENBQUU7WUFDTixnREFBZ0Q7WUFDaEQsS0FBSyxFQUFFLENBQUMsV0FBVyxDQUFDO1lBQ3BCLG9FQUFvRTtZQUNwRSxNQUFNLEVBQUUsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUMsR0FBRyxFQUFDLDBCQUEwQixFQUFFLFdBQVcsRUFBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQztTQUNySCxDQUFDO0lBQ0Ysc0NBQXNDO0lBQ3RDLGVBQWUsRUFBRSxJQUFJO0lBQ3JCLHNEQUFzRDtJQUN0RCxhQUFhLEVBQUUsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBQyxDQUFDO0NBQ25ELENBQUMsQ0FBQztBQUVILGlFQUFpRTtBQUNqRSxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFDLENBQUMsQ0FBQyxDQUFDO0FBRWpFLGtDQUFrQztBQUNsQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBQyxNQUFNLEVBQUUsYUFBYSxDQUFDLHlCQUF5QixDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUMsQ0FBQztBQUN4RyxtR0FBbUc7QUFDbkcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsY0FBYyxD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QUFNLEdBQW1CLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0FBQ3BEOzs7Ozs7O0VBT0U7QUFDRixJQUFJLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDakMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN2RDtBQUNELHlHQUF5RztBQUN6RyxJQUFJLE9BQU8sR0FBeUIsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBMEMsRUFBQyxDQUFDLENBQUM7QUFDbkgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBRWpELDZDQUE2QztBQUM3QywwakZBQTBqRjtBQUMxakYsOERBQThEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmhpciwgdmFsdWVTZXRDb2RlcyB9IGZyb20gJ0BmaGlyLXR5cGVzY3JpcHQvcjQtY29yZSc7XHJcblxyXG4vLyBjcmVhdGUgYSBuZXcgcGF0aWVudCBvYmplY3RcclxubGV0IHBhdGllbnQ6Zmhpci5QYXRpZW50ID0gbmV3IGZoaXIuUGF0aWVudCh7XHJcbiAgbmFtZTogWyB7IFxyXG4gICAgLy8geW91IGNhbiB1c2UgdGhlIG5hdGl2ZSBUUy9KUyB0eXBlcyBmb3IgdmFsdWVzXHJcbiAgICBnaXZlbjogWydnaXZlbk5hbWUnXSwgXHJcbiAgICAvLyBvciB5b3VyIGNhbiB1c2UgRkhJUiBwcmltaXRpdmVzIHRvIGFkZCBleHRlbmRlZCBwcm9wZXJ0aWVzIGlubGluZVxyXG4gICAgZmFtaWx5OiBuZXcgZmhpci5GaGlyU3RyaW5nKHtleHRlbnNpb246IFtuZXcgZmhpci5FeHRlbnNpb24oe3VybDonaHR0cDovL2V4YW1wbGUub3JnL2V4dC0xJywgdmFsdWVTdHJpbmc6J3Rlc3QnfSldfSksXHJcbiAgfV0sXHJcbiAgLy8gY2FuIHVzZSB0aGUgSlNPTi1zdHlsZSBjaG9pY2UgdHlwZXNcclxuICBkZWNlYXNlZEJvb2xlYW46IHRydWUsXHJcbiAgLy8gb3IgeW91IGNhbiB1c2UgRkhJUiBwcmltaXRpdmVzIG9uIHRoZSByb290IGVsZW1lbnRzXHJcbiAgbXVsdGlwbGVCaXJ0aDogbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiB0cnVlfSksXHJcbn0pO1xyXG5cclxuLy8gYWxsIGFycmF5LXR5cGUgZWxlbWVudHMgYXJlIG5vbi1udWxsYWJsZSB0byBzaW1wbGlmeSB5b3VyIGNvZGVcclxucGF0aWVudC5pZGVudGlmaWVyLnB1c2gobmV3IGZoaXIuSWRlbnRpZmllcih7dmFsdWU6ICdhYmMtMTIzJ30pKTtcclxuXHJcbi8vIENvZGVzIGFyZSBleHBvc2VkIGFzIGNvbnN0YW50czpcclxucGF0aWVudC5jb250YWN0LnB1c2gobmV3IGZoaXIuUGF0aWVudENvbnRhY3Qoe2dlbmRlcjogdmFsdWVTZXRDb2Rlcy5BZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzLkZlbWFsZX0pKTtcclxuLy8gYW5kIGNvZGVzIGFyZSBleHBvc2VkIGZyb20gdGhlIHJvb3QgY2xhc3MgYXMgd2VsbCwgYWNjb3JkaW5nIHRvIHRoZSBlbGVtZW50IGFuZCBiaW5kaW5nIHN0cmVuZ3RoXHJcbnBhdGllbnQuY29udGFjdC5wdXNoKG5ldyBmaGlyLlBhdGllbnRDb250YWN0KHtnZW5kZXI6IGZoaXIuUGF0aWVudC5nZW5kZXJSZXF1aXJlZENvZGVzLk90aGVyfSkpO1xyXG4vLyBhbmQgaGF2ZSB0eXBlIGhpbnRpbmdcclxucGF0aWVudC5nZW5kZXIgPSBuZXcgZmhpci5GaGlyQ29kZTx2YWx1ZVNldENvZGVzLkFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+KHt2YWx1ZTogJ290aGVyJ30pO1xyXG5cclxuLy8gQ29kaW5ncyBhcmUgYWxzbyBhdmFpbGFibGVcclxucGF0aWVudC5tYXJpdGFsU3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHsgY29kaW5nOiBbZmhpci5QYXRpZW50Lm1hcml0YWxTdGF0dXNFeHRlbnNpYmxlQ29kaW5ncy5Vbmtub3duXX0pO1xyXG4vLyBhbmQgY2FuIGJlIHVzZWQgZmx1ZW50bHlcclxucGF0aWVudC5tYXJpdGFsU3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KClcclxuICAuYWRkQ29kaW5nKGZoaXIuUGF0aWVudC5tYXJpdGFsU3RhdHVzRXh0ZW5zaWJsZUNvZGluZ3MuVW5tYXJyaWVkKVxyXG4gIC5hZGRDb2RpbmcoZmhpci5QYXRpZW50Lm1hcml0YWxTdGF0dXNFeHRlbnNpYmxlQ29kaW5ncy5OZXZlck1hcnJpZWQpO1xyXG5cclxuLy8gRXh0ZW5zaW9ucyBhcmUgYWxzbyBmbHVlbnRcclxucGF0aWVudFxyXG4gIC5hZGRFeHRlbnNpb24oe3VybDogJ2h0dHA6Ly9leGFtcGxlLm9yZy9leHQtMScsIHZhbHVlOiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogJ3Rlc3QtYWdhaW4nfSl9KVxyXG4gIC5hZGRFeHRlbnNpb24oe3VybDogJ2h0dHA6Ly9leGFtcGxlLm9yZy9leHQtMicsIHZhbHVlOiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogJ3Rlc3QtMid9KX0pXHJcbiAgLmFkZEV4dGVuc2lvbih7dXJsOiAnaHR0cDovL2V4YW1wbGUub3JnL2V4dC0zJywgZXh0ZW5zaW9uOiBbXHJcbiAgICB7dXJsOiAncGFydDEnLCB2YWx1ZVN0cmluZzogJ3ZhbHVlMSd9LCBcclxuICAgIHt1cmw6ICdwYXJ0MicsIHZhbHVlU3RyaW5nOiAndmFsdWUyJ30sXHJcbiAgICB7dXJsOiAnbmVzdGVkJywgZXh0ZW5zaW9uOiBbe3VybDogJ3BhcnQzJywgdmFsdWVTdHJpbmc6ICd2YWx1ZTMnfV19XVxyXG4gIH0pO1xyXG4vLyBhbmQgY2FuIGJlIHJlbW92ZWQgZWFzaWx5XHJcbnBhdGllbnQucmVtb3ZlRXh0ZW5zaW9ucygnaHR0cDovL2V4YW1wbGUub3JnL2V4dC0yJyk7XHJcbi8vIG9yIHNlYXJjaGVkXHJcbmNvbnNvbGUubG9nKCdleHQtMycsIEpTT04uc3RyaW5naWZ5KHBhdGllbnQuZmluZEV4dGVuc2lvbignaHR0cDovL2V4YW1wbGUub3JnL2V4dC0zJykpKTtcclxuLy8gZXZlbiBuZXN0ZWQgcGFydHNcclxuY29uc29sZS5sb2coJ3BhcnQyJywgcGF0aWVudC5maW5kRXh0ZW5zaW9uKCdwYXJ0MicsIHRydWUpKTtcclxuY29uc29sZS5sb2coJ3BhcnQzJywgcGF0aWVudC5maW5kRXh0ZW5zaW9uKCdwYXJ0MycsIHRydWUpKTtcclxuLy8gb3IgcmVwZWF0aW5nIGV4dGVuc2lvbnNcclxuY29uc29sZS5sb2coJ2V4dC0xJywgSlNPTi5zdHJpbmdpZnkocGF0aWVudC5maWx0ZXJFeHRlbnNpb25zKCdodHRwOi8vZXhhbXBsZS5vcmcvZXh0LTEnKSkpO1xyXG5cclxuLy8gc2VyaWFsaXphdGlvbiB1c2VzIHRoZSBzdGFuZGFyZCBKU09OIGNhbGxzXHJcbmNvbnNvbGUubG9nKCdTZXJpYWxpZWQ6JywgSlNPTi5zdHJpbmdpZnkocGF0aWVudCwgbnVsbCwgMikpO1xyXG5cclxuLy8gVGhlIFNESyBjYW4gY2hlY2sgKmJhc2ljKiBjb25mb3JtYW5jZSB0byB0aGUgc3BlY3MgKHNlZSBkb2NzIGZvciBkZXRhaWxzKVxyXG5sZXQgcDI6Zmhpci5QYXRpZW50ID0gbmV3IGZoaXIuUGF0aWVudCgpO1xyXG5wMi5jb21tdW5pY2F0aW9uLnB1c2gobmV3IGZoaXIuUGF0aWVudENvbW11bmljYXRpb24oe3ByZWZlcnJlZDogZmFsc2V9KSk7XHJcbmxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gcDIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuLypcclxuICBvdXRwdXRzOlxyXG5Gb3VuZCBpc3N1ZToge1xyXG4gIHNldmVyaXR5OiAnZXJyb3InLFxyXG4gIGNvZGU6ICdyZXF1aXJlZCcsXHJcbiAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGxhbmd1YWdlOmZoaXIuQ29kZWFibGVDb25jZXB0IGZoaXI6IFBhdGllbnQuY29tbXVuaWNhdGlvbi5sYW5ndWFnZTpDb2RlYWJsZUNvbmNlcHQnXHJcbn1cclxuKi9cclxuaWYgKGlzc3VlcyAmJiAoaXNzdWVzLmxlbmd0aCA+IDApKSB7XHJcbiAgaXNzdWVzLmZvckVhY2goKGkpID0+IGNvbnNvbGUubG9nKCdGb3VuZCBpc3N1ZTonLCBpKSk7XHJcbn1cclxuLy8gRnRzSXNzdWUgaXMgY29tcGF0aWJsZSB3aXRoIE9wZXJhdGlvbk91dGNvbWVJc3N1ZSAoT3BlcmF0aW9uT3V0Y29tZS5pc3N1ZSksIGJ1dCBjb250YWlucyBubyBleHRlbnNpb25zXHJcbmxldCBvdXRjb21lOmZoaXIuT3BlcmF0aW9uT3V0Y29tZSA9IG5ldyBmaGlyLk9wZXJhdGlvbk91dGNvbWUoe2lzc3VlOiBpc3N1ZXMgYXMgZmhpci5PcGVyYXRpb25PdXRjb21lSXNzdWVBcmdzW119KTtcclxuY29uc29sZS5sb2coJ091dGNvbWU6JywgSlNPTi5zdHJpbmdpZnkob3V0Y29tZSkpO1xyXG5cclxuLy8gLy8gLy8gYW5kIHBhcnNpbmcgd29ya3Mgb3V0IG9mIHRoZSBib3ggdG9vXHJcbi8vIGxldCBqcDpzdHJpbmcgPSAne1wicmVzb3VyY2VUeXBlXCI6XCJQYXRpZW50XCIsXCJpZFwiOlwiZXhhbXBsZVwiLFwidGV4dFwiOntcInN0YXR1c1wiOlwiZ2VuZXJhdGVkXCIsXCJkaXZcIjpcIjxkaXYgeG1sbnM9XFxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXFxcIj5cXFxcblxcXFx0XFxcXHRcXFxcdDx0YWJsZT5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0PHRib2R5PlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDx0cj5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDx0ZD5OYW1lPC90ZD5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDx0ZD5QZXRlciBKYW1lcyBcXFxcbiAgICAgICAgICAgICAgPGI+Q2hhbG1lcnM8L2I+ICgmcXVvdDtKaW0mcXVvdDspXFxcXG4gICAgICAgICAgICA8L3RkPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDwvdHI+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRyPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRkPkFkZHJlc3M8L3RkPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRkPjUzNCBFcmV3aG9uLCBQbGVhc2FudHZpbGxlLCBWaWMsIDM5OTk8L3RkPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDwvdHI+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRyPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRkPkNvbnRhY3RzPC90ZD5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDx0ZD5Ib21lOiB1bmtub3duLiBXb3JrOiAoMDMpIDU1NTUgNjQ3MzwvdGQ+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PC90cj5cXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8dHI+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHQ8dGQ+SWQ8L3RkPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0PHRkPk1STjogMTIzNDUgKEFjbWUgSGVhbHRoY2FyZSk8L3RkPlxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdDwvdHI+XFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdDwvdGJvZHk+XFxcXG5cXFxcdFxcXFx0XFxcXHQ8L3RhYmxlPlxcXFxuXFxcXHRcXFxcdDwvZGl2PlwifSxcImlkZW50aWZpZXJcIjpbe1widXNlXCI6XCJ1c3VhbFwiLFwidHlwZVwiOntcImNvZGluZ1wiOlt7XCJzeXN0ZW1cIjpcImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vdjItMDIwM1wiLFwiY29kZVwiOlwiTVJcIn1dfSxcInN5c3RlbVwiOlwidXJuOm9pZDoxLjIuMzYuMTQ2LjU5NS4yMTcuMC4xXCIsXCJ2YWx1ZVwiOlwiMTIzNDVcIixcInBlcmlvZFwiOntcInN0YXJ0XCI6XCIyMDAxLTA1LTA2XCJ9LFwiYXNzaWduZXJcIjp7XCJkaXNwbGF5XCI6XCJBY21lIEhlYWx0aGNhcmVcIn19XSxcImFjdGl2ZVwiOnRydWUsXCJuYW1lXCI6W3tcInVzZVwiOlwib2ZmaWNpYWxcIixcImZhbWlseVwiOlwiQ2hhbG1lcnNcIixcImdpdmVuXCI6W1wiUGV0ZXJcIixcIkphbWVzXCJdfSx7XCJ1c2VcIjpcInVzdWFsXCIsXCJnaXZlblwiOltcIkppbVwiXX0se1widXNlXCI6XCJtYWlkZW5cIixcImZhbWlseVwiOlwiV2luZHNvclwiLFwiZ2l2ZW5cIjpbXCJQZXRlclwiLFwiSmFtZXNcIl0sXCJwZXJpb2RcIjp7XCJlbmRcIjpcIjIwMDJcIn19XSxcInRlbGVjb21cIjpbe1widXNlXCI6XCJob21lXCJ9LHtcInN5c3RlbVwiOlwicGhvbmVcIixcInZhbHVlXCI6XCIoMDMpIDU1NTUgNjQ3M1wiLFwidXNlXCI6XCJ3b3JrXCIsXCJyYW5rXCI6MX0se1wic3lzdGVtXCI6XCJwaG9uZVwiLFwidmFsdWVcIjpcIigwMykgMzQxMCA1NjEzXCIsXCJ1c2VcIjpcIm1vYmlsZVwiLFwicmFua1wiOjJ9LHtcInN5c3RlbVwiOlwicGhvbmVcIixcInZhbHVlXCI6XCIoMDMpIDU1NTUgODgzNFwiLFwidXNlXCI6XCJvbGRcIixcInBlcmlvZFwiOntcImVuZFwiOlwiMjAxNFwifX1dLFwiZ2VuZGVyXCI6XCJtYWxlXCIsXCJiaXJ0aERhdGVcIjpcIjE5NzQtMTItMjVcIixcIl9iaXJ0aERhdGVcIjp7XCJleHRlbnNpb25cIjpbe1widXJsXCI6XCJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vcGF0aWVudC1iaXJ0aFRpbWVcIixcInZhbHVlRGF0ZVRpbWVcIjpcIjE5NzQtMTItMjVUMTQ6MzU6NDUtMDU6MDBcIn1dfSxcImRlY2Vhc2VkQm9vbGVhblwiOmZhbHNlLFwiYWRkcmVzc1wiOlt7XCJ1c2VcIjpcImhvbWVcIixcInR5cGVcIjpcImJvdGhcIixcInRleHRcIjpcIjUzNCBFcmV3aG9uIFN0IFBlYXNhbnRWaWxsZSwgUmFpbmJvdywgVmljICAzOTk5XCIsXCJsaW5lXCI6W1wiNTM0IEVyZXdob24gU3RcIl0sXCJjaXR5XCI6XCJQbGVhc2FudFZpbGxlXCIsXCJkaXN0cmljdFwiOlwiUmFpbmJvd1wiLFwic3RhdGVcIjpcIlZpY1wiLFwicG9zdGFsQ29kZVwiOlwiMzk5OVwiLFwicGVyaW9kXCI6e1wic3RhcnRcIjpcIjE5NzQtMTItMjVcIn19XSxcImNvbnRhY3RcIjpbe1wicmVsYXRpb25zaGlwXCI6W3tcImNvZGluZ1wiOlt7XCJzeXN0ZW1cIjpcImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vdjItMDEzMVwiLFwiY29kZVwiOlwiTlwifV19XSxcIm5hbWVcIjp7XCJmYW1pbHlcIjpcImR1IE1hcmNow6lcIixcIl9mYW1pbHlcIjp7XCJleHRlbnNpb25cIjpbe1widXJsXCI6XCJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vaHVtYW5uYW1lLW93bi1wcmVmaXhcIixcInZhbHVlU3RyaW5nXCI6XCJWVlwifV19LFwiZ2l2ZW5cIjpbXCJCw6luw6lkaWN0ZVwiXX0sXCJ0ZWxlY29tXCI6W3tcInN5c3RlbVwiOlwicGhvbmVcIixcInZhbHVlXCI6XCIrMzMgKDIzNykgOTk4MzI3XCJ9XSxcImFkZHJlc3NcIjp7XCJ1c2VcIjpcImhvbWVcIixcInR5cGVcIjpcImJvdGhcIixcImxpbmVcIjpbXCI1MzQgRXJld2hvbiBTdFwiXSxcImNpdHlcIjpcIlBsZWFzYW50VmlsbGVcIixcImRpc3RyaWN0XCI6XCJSYWluYm93XCIsXCJzdGF0ZVwiOlwiVmljXCIsXCJwb3N0YWxDb2RlXCI6XCIzOTk5XCIsXCJwZXJpb2RcIjp7XCJzdGFydFwiOlwiMTk3NC0xMi0yNVwifX0sXCJnZW5kZXJcIjpcImZlbWFsZVwiLFwicGVyaW9kXCI6e1wic3RhcnRcIjpcIjIwMTJcIn19XSxcIm1hbmFnaW5nT3JnYW5pemF0aW9uXCI6e1wicmVmZXJlbmNlXCI6XCJPcmdhbml6YXRpb24vMVwifX0nO1xyXG4vLyBsZXQgcGFyc2VkOmZoaXIuUGF0aWVudCA9IG5ldyBmaGlyLlBhdGllbnQoSlNPTi5wYXJzZShqcCkpO1xyXG4iXX0=