// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: ChargeItem
import * as fhir from '../fhir.js';
// @ts-ignore
import { ChargeitemStatusVsValidation } from '../fhirValueSets/ChargeitemStatusVsValidation.js';
/**
 * Indicates who or what performed or participated in the charged service.
 */
export class ChargeItemPerformer extends fhir.BackboneElement {
    /**
     * Default constructor for ChargeItemPerformer - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['function']) {
            this.function = new fhir.CodeableConcept(source.function);
        }
        if (source['actor']) {
            this.actor = new fhir.Reference(source.actor);
        }
        else {
            this.actor = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ChargeItem.performer';
        }
        this.vOS('function', exp);
        this.vRS('actor', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ChargeItemPerformer._fts_dataType = 'ChargeItemPerformer';
/**
 * The resource ChargeItem describes the provision of healthcare provider products for a certain patient, therefore referring not only to the product, but containing in addition details of the provision, like date, time, amounts and participating organizations and persons. Main Usage of the ChargeItem is to enable the billing process and internal cost allocation.
 */
export class ChargeItem extends fhir.DomainResource {
    /**
     * Default constructor for ChargeItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ChargeItem';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['definitionUri']) {
            this.definitionUri = source.definitionUri.map((x) => new fhir.FhirUri({ value: x }));
        }
        else {
            this.definitionUri = [];
        }
        if (source['_definitionUri']) {
            source._definitionUri.forEach((x, i) => {
                if (this.definitionUri.length >= i) {
                    if (x) {
                        this.definitionUri[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.definitionUri.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['definitionCanonical']) {
            this.definitionCanonical = source.definitionCanonical.map((x) => new fhir.FhirCanonical({ value: x }));
        }
        else {
            this.definitionCanonical = [];
        }
        if (source['_definitionCanonical']) {
            source._definitionCanonical.forEach((x, i) => {
                if (this.definitionCanonical.length >= i) {
                    if (x) {
                        this.definitionCanonical[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.definitionCanonical.push(new fhir.FhirCanonical(x));
                    }
                }
            });
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['partOf']) {
            this.partOf = source.partOf.map((x) => new fhir.Reference(x));
        }
        else {
            this.partOf = [];
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        else {
            this.subject = null;
        }
        if (source['context']) {
            this.context = new fhir.Reference(source.context);
        }
        if (source['occurrence']) {
            this.occurrence = source.occurrence;
        }
        else if (source['occurrenceDateTime']) {
            this.occurrence = new fhir.FhirDateTime({ value: source.occurrenceDateTime });
        }
        else if (source['occurrencePeriod']) {
            this.occurrence = new fhir.Period(source.occurrencePeriod);
        }
        else if (source['occurrenceTiming']) {
            this.occurrence = new fhir.Timing(source.occurrenceTiming);
        }
        if (source['performer']) {
            this.performer = source.performer.map((x) => new fhir.ChargeItemPerformer(x));
        }
        else {
            this.performer = [];
        }
        if (source['performingOrganization']) {
            this.performingOrganization = new fhir.Reference(source.performingOrganization);
        }
        if (source['requestingOrganization']) {
            this.requestingOrganization = new fhir.Reference(source.requestingOrganization);
        }
        if (source['costCenter']) {
            this.costCenter = new fhir.Reference(source.costCenter);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        if (source['bodysite']) {
            this.bodysite = source.bodysite.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.bodysite = [];
        }
        if (source['factorOverride']) {
            this.factorOverride = new fhir.FhirDecimal({ value: source.factorOverride });
        }
        if (source['_factorOverride']) {
            if (this.factorOverride) {
                this.factorOverride.addExtendedProperties(source._factorOverride);
            }
            else {
                this.factorOverride = new fhir.FhirDecimal(source._factorOverride);
            }
        }
        if (source['priceOverride']) {
            this.priceOverride = new fhir.Money(source.priceOverride);
        }
        if (source['overrideReason']) {
            this.overrideReason = new fhir.FhirString({ value: source.overrideReason });
        }
        if (source['_overrideReason']) {
            if (this.overrideReason) {
                this.overrideReason.addExtendedProperties(source._overrideReason);
            }
            else {
                this.overrideReason = new fhir.FhirString(source._overrideReason);
            }
        }
        if (source['enterer']) {
            this.enterer = new fhir.Reference(source.enterer);
        }
        if (source['enteredDate']) {
            this.enteredDate = new fhir.FhirDateTime({ value: source.enteredDate });
        }
        if (source['_enteredDate']) {
            if (this.enteredDate) {
                this.enteredDate.addExtendedProperties(source._enteredDate);
            }
            else {
                this.enteredDate = new fhir.FhirDateTime(source._enteredDate);
            }
        }
        if (source['reason']) {
            this.reason = source.reason.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reason = [];
        }
        if (source['service']) {
            this.service = source.service.map((x) => new fhir.Reference(x));
        }
        else {
            this.service = [];
        }
        if (source['product']) {
            this.product = source.product;
        }
        else if (source['productReference']) {
            this.product = new fhir.Reference(source.productReference);
        }
        else if (source['productCodeableConcept']) {
            this.product = new fhir.CodeableConcept(source.productCodeableConcept);
        }
        if (source['account']) {
            this.account = source.account.map((x) => new fhir.Reference(x));
        }
        else {
            this.account = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['supportingInformation']) {
            this.supportingInformation = source.supportingInformation.map((x) => new fhir.Reference(x));
        }
        else {
            this.supportingInformation = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ChargeItem';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOA('definitionUri', exp);
        this.vOA('definitionCanonical', exp);
        this.vRSV('status', exp, 'ChargeitemStatus', ChargeitemStatusVsValidation, 'r');
        this.vOA('partOf', exp);
        this.vRS('code', exp);
        this.vRS('subject', exp);
        this.vOS('context', exp);
        this.vOS('occurrence', exp);
        this.vOA('performer', exp);
        this.vOS('performingOrganization', exp);
        this.vOS('requestingOrganization', exp);
        this.vOS('costCenter', exp);
        this.vOS('quantity', exp);
        this.vOA('bodysite', exp);
        this.vOS('factorOverride', exp);
        this.vOS('priceOverride', exp);
        this.vOS('overrideReason', exp);
        this.vOS('enterer', exp);
        this.vOS('enteredDate', exp);
        this.vOA('reason', exp);
        this.vOA('service', exp);
        this.vOS('product', exp);
        this.vOA('account', exp);
        this.vOA('note', exp);
        this.vOA('supportingInformation', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ChargeItem._fts_dataType = 'ChargeItem';
/**
 * Internal flag to properly serialize choice-type element ChargeItem.occurrence[x]
 */
ChargeItem._fts_occurrenceIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element ChargeItem.product[x]
 */
ChargeItem._fts_productIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhcmdlSXRlbS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQ2hhcmdlSXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFRbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBdUJoRzs7R0FFRztBQUNILE1BQU0sT0FBTyxtQkFBb0IsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWEzRDs7T0FFRztJQUNILFlBQVksU0FBMEMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDaEcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQUU7YUFDbEU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztTQUFFO0lBQzdCLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxzQkFBc0IsQ0FBQTtTQUFFO1FBQ2hELElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3hCLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3JCLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBOUJEOztHQUVHO0FBQzZCLGlDQUFhLEdBQVUscUJBQXFCLENBQUM7QUE0TC9FOztHQUVHO0FBQ0gsTUFBTSxPQUFPLFVBQVcsU0FBUSxJQUFJLENBQUMsY0FBYztJQTBIakQ7O09BRUc7SUFDSCxZQUFZLFNBQWlDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3ZGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDakMsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2hHO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM5QixJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFDLEtBQUssRUFBRSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMvRztZQUFFLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDakMsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUM1QixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRTtnQkFDcEMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7b0JBQUUsSUFBSSxDQUFDLEVBQUU7d0JBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFBRTtpQkFBRTtxQkFDN0Y7b0JBQUUsSUFBSSxDQUFDLEVBQUU7d0JBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQThCLENBQUMsQ0FBQyxDQUFDO3FCQUFFO2lCQUFFO1lBQ2hHLENBQUMsQ0FBQyxDQUFDO1NBQ0o7UUFDRCxJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFDLEtBQUssRUFBRSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN2STtZQUFFLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUN2QyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFO1lBQ2xDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQzFDLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7b0JBQUUsSUFBSSxDQUFDLEVBQUU7d0JBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDO3FCQUFFO2lCQUFFO3FCQUN6RztvQkFBRSxJQUFJLENBQUMsRUFBRTt3QkFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFvQyxDQUFDLENBQUMsQ0FBQztxQkFBRTtpQkFBRTtZQUNsSCxDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBMkIsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTthQUN2RztZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUFFLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLE9BQVEsQ0FBQyxDQUFDO2FBQUU7aUJBQ25FO2dCQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUEyQixNQUFNLENBQUMsT0FBaUMsQ0FBQyxDQUFDO2FBQUU7U0FDOUc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbkY7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDckU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7YUFDeEU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzdCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDN0UsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7U0FBRTthQUM3RCxJQUFJLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLGtCQUFrQixFQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2xILElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUFFO2FBQy9GLElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUFFO1FBQ3BHLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3RHO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM3QixJQUFJLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FBQztTQUFFO1FBQzFILElBQUksTUFBTSxDQUFDLHdCQUF3QixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1NBQUU7UUFDMUgsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUFFO1FBQy9FLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMvRjtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxjQUFjLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDN0csSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUM3QixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsZUFBZ0IsQ0FBQyxDQUFDO2FBQUU7aUJBQzNGO2dCQUFFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxlQUFnRCxDQUFDLENBQUM7YUFBRTtTQUM5RztRQUNELElBQUksTUFBTSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQUU7UUFDM0YsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxjQUFjLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDNUcsSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUM3QixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsZUFBZ0IsQ0FBQyxDQUFDO2FBQUU7aUJBQzNGO2dCQUFFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxlQUErQyxDQUFDLENBQUM7YUFBRTtTQUM1RztRQUNELElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDN0UsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3JHLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQzFCLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxZQUFhLENBQUMsQ0FBQzthQUFFO2lCQUNsRjtnQkFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsWUFBOEMsQ0FBQyxDQUFDO2FBQUU7U0FDMUc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDekY7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN0RjtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDM0IsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7U0FBRTthQUNwRCxJQUFJLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FBRTthQUMvRixJQUFJLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUM7U0FBRTtRQUN0SCxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDdEY7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzNCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUM5RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDeEIsSUFBSSxNQUFNLENBQUMsdUJBQXVCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2hJO1lBQUUsSUFBSSxDQUFDLHFCQUFxQixHQUFHLEVBQUUsQ0FBQztTQUFFO0lBQzNDLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxZQUFZLENBQUE7U0FBRTtRQUN0QyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxrQkFBa0IsRUFBQyw0QkFBNEIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMzRSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3RDLElBQUksQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM5QixJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzlCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzNCLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDckMsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUEzT0Q7O0dBRUc7QUFDNkIsd0JBQWEsR0FBVSxZQUFZLENBQUM7QUEwQ3BFOztHQUVHO0FBQ3VCLGtDQUF1QixHQUFRLElBQUksQ0FBQztBQXlEOUQ7O0dBRUc7QUFDdUIsK0JBQW9CLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBDaGFyZ2VJdGVtXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQZXJmb3JtZXJSb2xlQ29kZXMsICBQZXJmb3JtZXJSb2xlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BlcmZvcm1lclJvbGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGVyZm9ybWVyUm9sZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGVyZm9ybWVyUm9sZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2hhcmdlaXRlbVN0YXR1c0NvZGVzLCAgQ2hhcmdlaXRlbVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DaGFyZ2VpdGVtU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENoYXJnZWl0ZW1TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NoYXJnZWl0ZW1TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENoYXJnZWl0ZW1CaWxsaW5nQ29kZXMsICBDaGFyZ2VpdGVtQmlsbGluZ0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DaGFyZ2VpdGVtQmlsbGluZ0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDaGFyZ2VpdGVtQmlsbGluZ1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2hhcmdlaXRlbUJpbGxpbmdWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEJvZHlTaXRlQ29kZXMsICBCb2R5U2l0ZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Cb2R5U2l0ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCb2R5U2l0ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQm9keVNpdGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2hhcmdlSXRlbVBlcmZvcm1lciB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDaGFyZ2VJdGVtUGVyZm9ybWVyQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSB0eXBlIG9mIHBlcmZvcm1hbmNlIG9yIHBhcnRpY2lwYXRpb24oZS5nLiBwcmltYXJ5IHN1cmdlb24sIGFuZXN0aGVzaW9sb2dpZXN0LCBldGMuKS5cclxuICAgKi9cclxuICBmdW5jdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRldmljZSwgcHJhY3RpdGlvbmVyLCBldGMuIHdobyBwZXJmb3JtZWQgb3IgcGFydGljaXBhdGVkIGluIHRoZSBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIGFjdG9yOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZGljYXRlcyB3aG8gb3Igd2hhdCBwZXJmb3JtZWQgb3IgcGFydGljaXBhdGVkIGluIHRoZSBjaGFyZ2VkIHNlcnZpY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2hhcmdlSXRlbVBlcmZvcm1lciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NoYXJnZUl0ZW1QZXJmb3JtZXInO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgdHlwZSBvZiBwZXJmb3JtYW5jZSBvciBwYXJ0aWNpcGF0aW9uKGUuZy4gcHJpbWFyeSBzdXJnZW9uLCBhbmVzdGhlc2lvbG9naWVzdCwgZXRjLikuXHJcbiAgICovXHJcbiAgcHVibGljIGZ1bmN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXZpY2UsIHByYWN0aXRpb25lciwgZXRjLiB3aG8gcGVyZm9ybWVkIG9yIHBhcnRpY2lwYXRlZCBpbiB0aGUgc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWN0b3I6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2hhcmdlSXRlbVBlcmZvcm1lciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENoYXJnZUl0ZW1QZXJmb3JtZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZnVuY3Rpb24nXSkgeyB0aGlzLmZ1bmN0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5mdW5jdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdG9yJ10pIHsgdGhpcy5hY3RvciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuYWN0b3IpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY3RvciA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDaGFyZ2VJdGVtLnBlcmZvcm1lcicgfVxyXG4gICAgdGhpcy52T1MoJ2Z1bmN0aW9uJyxleHApXHJcbiAgICB0aGlzLnZSUygnYWN0b3InLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDaGFyZ2VJdGVtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENoYXJnZUl0ZW1BcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJDaGFyZ2VJdGVtXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXJzIGFzc2lnbmVkIHRvIHRoaXMgZXZlbnQgcGVyZm9ybWVyIG9yIG90aGVyIHN5c3RlbXMuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlcyB0aGUgKGV4dGVybmFsKSBzb3VyY2Ugb2YgcHJpY2luZyBpbmZvcm1hdGlvbiwgcnVsZXMgb2YgYXBwbGljYXRpb24gZm9yIHRoZSBjb2RlIHRoaXMgQ2hhcmdlSXRlbSB1c2VzLlxyXG4gICAqL1xyXG4gIGRlZmluaXRpb25Vcmk/OiBmaGlyLkZoaXJVcmlbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDaGFyZ2VJdGVtLmRlZmluaXRpb25VcmlcclxuICAgKi9cclxuICBfZGVmaW5pdGlvblVyaT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlcyB0aGUgc291cmNlIG9mIHByaWNpbmcgaW5mb3JtYXRpb24sIHJ1bGVzIG9mIGFwcGxpY2F0aW9uIGZvciB0aGUgY29kZSB0aGlzIENoYXJnZUl0ZW0gdXNlcy5cclxuICAgKi9cclxuICBkZWZpbml0aW9uQ2Fub25pY2FsPzogZmhpci5GaGlyQ2Fub25pY2FsW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2hhcmdlSXRlbS5kZWZpbml0aW9uQ2Fub25pY2FsXHJcbiAgICovXHJcbiAgX2RlZmluaXRpb25DYW5vbmljYWw/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFVua25vd24gZG9lcyBub3QgcmVwcmVzZW50IFwib3RoZXJcIiAtIG9uZSBvZiB0aGUgZGVmaW5lZCBzdGF0dXNlcyBtdXN0IGFwcGx5LiAgVW5rbm93biBpcyB1c2VkIHdoZW4gdGhlIGF1dGhvcmluZyBzeXN0ZW0gaXMgbm90IHN1cmUgd2hhdCB0aGUgY3VycmVudCBzdGF0dXMgaXMuXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGUgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmtzIHRoZSBjaGFyZ2UgaXRlbSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxDaGFyZ2VpdGVtU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENoYXJnZUl0ZW0uc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ2hhcmdlSXRlbXMgY2FuIGJlIGdyb3VwZWQgdG8gbGFyZ2VyIENoYXJnZUl0ZW1zIGNvdmVyaW5nIHRoZSB3aG9sZSBzZXQuXHJcbiAgICovXHJcbiAgcGFydE9mPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSB0aGF0IGlkZW50aWZpZXMgdGhlIGNoYXJnZSwgbGlrZSBhIGJpbGxpbmcgY29kZS5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBzZXQgb2YgaW5kaXZpZHVhbHMgdGhlIGFjdGlvbiBpcyBiZWluZyBvciB3YXMgcGVyZm9ybWVkIG9uLlxyXG4gICAqL1xyXG4gIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBlbmNvdW50ZXIgb3IgZXBpc29kZSBvZiBjYXJlIHRoYXQgZXN0YWJsaXNoZXMgdGhlIGNvbnRleHQgZm9yIHRoaXMgZXZlbnQuXHJcbiAgICovXHJcbiAgY29udGV4dD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxpc3Qgb2YgdHlwZXMgbWF5IGJlIGNvbnN0cmFpbmVkIGFzIGFwcHJvcHJpYXRlIGZvciB0aGUgdHlwZSBvZiBjaGFyZ2UgaXRlbS5cclxuICAgKi9cclxuICBvY2N1cnJlbmNlPzogZmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2R8Zmhpci5UaW1pbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsaXN0IG9mIHR5cGVzIG1heSBiZSBjb25zdHJhaW5lZCBhcyBhcHByb3ByaWF0ZSBmb3IgdGhlIHR5cGUgb2YgY2hhcmdlIGl0ZW0uXHJcbiAgICovXHJcbiAgb2NjdXJyZW5jZURhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGlzdCBvZiB0eXBlcyBtYXkgYmUgY29uc3RyYWluZWQgYXMgYXBwcm9wcmlhdGUgZm9yIHRoZSB0eXBlIG9mIGNoYXJnZSBpdGVtLlxyXG4gICAqL1xyXG4gIG9jY3VycmVuY2VQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsaXN0IG9mIHR5cGVzIG1heSBiZSBjb25zdHJhaW5lZCBhcyBhcHByb3ByaWF0ZSBmb3IgdGhlIHR5cGUgb2YgY2hhcmdlIGl0ZW0uXHJcbiAgICovXHJcbiAgb2NjdXJyZW5jZVRpbWluZz86IGZoaXIuVGltaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdobyBvciB3aGF0IHBlcmZvcm1lZCBvciBwYXJ0aWNpcGF0ZWQgaW4gdGhlIGNoYXJnZWQgc2VydmljZS5cclxuICAgKi9cclxuICBwZXJmb3JtZXI/OiBmaGlyLkNoYXJnZUl0ZW1QZXJmb3JtZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFByYWN0aXRpb25lcnMgYW5kIERldmljZXMgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBtdWx0aXBsZSBvcmdhbml6YXRpb25zLiBJdCBoYXMgdG8gYmUgbWFkZSBjbGVhciwgb24gYmVoYWxmIG9mIHdoaWNoIE9yZ2FuaXphdGlvbiB0aGUgc2VydmljZXMgaGF2ZSBiZWVuIHJlbmRlcmVkLlxyXG4gICAqL1xyXG4gIHBlcmZvcm1pbmdPcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZW5kZXJlZCBTZXJ2aWNlIG1pZ2h0IG5vdCBiZSBhc3NvY2lhdGVkIHdpdGggYSBSZXF1ZXN0LiBUaGlzIHByb3BlcnR5IGluZGljYXRlcyB3aGljaCBPcmdhbml6YXRpb24gcmVxdWVzdGVkIHRoZSBzZXJ2aWNlcyB0byBiZSByZW5kZXJlZC4gKEluIG1hbnkgY2FzZXMsIHRoaXMgbWF5IGp1c3QgYmUgdGhlIERlcGFydG1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBFbmNvdW50ZXIubG9jYXRpb24pLlxyXG4gICAqL1xyXG4gIHJlcXVlc3RpbmdPcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb3N0Q2VudGVyIGNvdWxkIGVpdGhlciBiZSBnaXZlbiBhcyBhIHJlZmVyZW5jZSB0byBhbiBPcmdhbml6YXRpb24oUm9sZSkgcmVzb3VyY2Ugb3IgYXMgdGhlIGlkZW50aWZpZXIgb2YgdGhlIGNvc3QgY2VudGVyIGRldGVybWluZWQgYnkgUmVmZXJlbmNlLmlkZW50aWZpZXIudmFsdWUgYW5kIFJlZmVyZW5jZS5pZGVudGlmaWVyLnN5c3RlbSwgZGVwZW5kaW5nIG9uIHVzZSBjYXNlIHJlcXVpcmVtZW50cy5cclxuICAgKi9cclxuICBjb3N0Q2VudGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbiBtYW55IGNhc2VzIHRoaXMgbWF5IGp1c3QgYmUgYSB2YWx1ZSwgaWYgdGhlIHVuZGVybHlpbmcgdW5pdHMgYXJlIGltcGxpY2l0IGluIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBjaGFyZ2UgaXRlbSBjb2RlLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9ubHkgdXNlZCBpZiBub3QgaW1wbGljaXQgaW4gY29kZSBmb3VuZCBpbiBDb25kaXRpb24uY29kZS4gSWYgdGhlIHVzZSBjYXNlIHJlcXVpcmVzIGF0dHJpYnV0ZXMgZnJvbSB0aGUgQm9keVNpdGUgcmVzb3VyY2UgKGUuZy4gdG8gaWRlbnRpZnkgYW5kIHRyYWNrIHNlcGFyYXRlbHkpIHRoZW4gdXNlIHRoZSBzdGFuZGFyZCBleHRlbnNpb24gW2JvZHlTaXRlXShleHRlbnNpb24tYm9keXNpdGUuaHRtbCkuICBNYXkgYmUgYSBzdW1tYXJ5IGNvZGUsIG9yIGEgcmVmZXJlbmNlIHRvIGEgdmVyeSBwcmVjaXNlIGRlZmluaXRpb24gb2YgdGhlIGxvY2F0aW9uLCBvciBib3RoLlxyXG4gICAqL1xyXG4gIGJvZHlzaXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGlzIG5vIHJlYXNvbiB0byBjYXJyeSB0aGUgZmFjdG9yIGluIHRoZSBpbnN0YW5jZSBvZiBhIENoYXJnZUl0ZW0gdW5sZXNzIHNwZWNpYWwgY2lyY3Vtc3RhbmNlcyByZXF1aXJlIGEgbWFudWFsIG92ZXJyaWRlLiBUaGUgZmFjdG9ycyBhcmUgdXN1YWxseSBkZWZpbmVkIGJ5IGEgc2V0IG9mIHJ1bGVzIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBmYWN0b3JPdmVycmlkZT86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2hhcmdlSXRlbS5mYWN0b3JPdmVycmlkZVxyXG4gICAqL1xyXG4gIF9mYWN0b3JPdmVycmlkZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBwcmljZU92ZXJyaWRlPzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlcml2ZWQgUHJvZmlsZXMgbWF5IGNob29zZSB0byBhZGQgaW52YXJpYW50cyByZXF1aXJpbmcgdGhpcyBmaWVsZCB0byBiZSBwb3B1bGF0ZWQgaWYgZWl0aGVyIHByaWNlT3ZlcnJpZGUgb3IgZmFjdG9yT3ZlcnJpZGUgaGF2ZSBiZWVuIGZpbGxlZC5cclxuICAgKi9cclxuICBvdmVycmlkZVJlYXNvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDaGFyZ2VJdGVtLm92ZXJyaWRlUmVhc29uXHJcbiAgICovXHJcbiAgX292ZXJyaWRlUmVhc29uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgZW50ZXJlciBpcyBhbHNvIHRoZSBwZXJzb24gY29uc2lkZXJlZCByZXNwb25zaWJsZSBmb3IgZmFjdG9yL3ByaWNlIG92ZXJyaWRlcyBpZiBhcHBsaWNhYmxlLlxyXG4gICAqL1xyXG4gIGVudGVyZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3R1YWwgZGF0ZSB3aGVuIHRoZSBzZXJ2aWNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2hhcmdlIGhhcyBiZWVuIHJlbmRlcmVkIGlzIGNhcHR1cmVkIGluIG9jY3VycmVuY2VbeF0uXHJcbiAgICovXHJcbiAgZW50ZXJlZERhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDaGFyZ2VJdGVtLmVudGVyZWREYXRlXHJcbiAgICovXHJcbiAgX2VudGVyZWREYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJZiB0aGUgYXBwbGljYXRpb24gb2YgdGhlIGNoYXJnZSBpdGVtIHJlcXVpcmVzIGEgcmVhc29uIHRvIGJlIGdpdmVuLCBpdCBjYW4gYmUgY2FwdHVyZWQgaGVyZS4gVGV4dHVhbCByZWFzb25zIGNhbiBiZSBjYXB0dXJlZCB1c2luZyByZWFzb25Db2RlLnRleHQuXHJcbiAgICovXHJcbiAgcmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlZCB0aGUgcmVuZGVyZWQgc2VydmljZSB0aGF0IGNhdXNlZCB0aGlzIGNoYXJnZS5cclxuICAgKi9cclxuICBzZXJ2aWNlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIGRldmljZSwgZm9vZCwgZHJ1ZyBvciBvdGhlciBwcm9kdWN0IGJlaW5nIGNoYXJnZWQgZWl0aGVyIGJ5IHR5cGUgY29kZSBvciByZWZlcmVuY2UgdG8gYW4gaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgcHJvZHVjdD86IGZoaXIuUmVmZXJlbmNlfGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHRoZSBkZXZpY2UsIGZvb2QsIGRydWcgb3Igb3RoZXIgcHJvZHVjdCBiZWluZyBjaGFyZ2VkIGVpdGhlciBieSB0eXBlIGNvZGUgb3IgcmVmZXJlbmNlIHRvIGFuIGluc3RhbmNlLlxyXG4gICAqL1xyXG4gIHByb2R1Y3RSZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIGRldmljZSwgZm9vZCwgZHJ1ZyBvciBvdGhlciBwcm9kdWN0IGJlaW5nIGNoYXJnZWQgZWl0aGVyIGJ5IHR5cGUgY29kZSBvciByZWZlcmVuY2UgdG8gYW4gaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgcHJvZHVjdENvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3lzdGVtcyBwb3N0aW5nIHRoZSBDaGFyZ2VJdGVtcyBtaWdodCBub3QgYWx3YXlzIGJlIGFibGUgdG8gZGV0ZXJtaW5lLCB3aGljaCBhY2NvdW50cyB0aGUgSXRlbXMgbmVlZCB0byBiZSBwbGFjZXMgaW50by4gSXQgaXMgdXAgdG8gdGhlIHBvc3Rwcm9jZXNzaW5nIEZpbmFuY2lhbCBTeXN0ZW0gdG8gYXBwbHkgaW50ZXJuYWwgcnVsZXMgdG8gZGVjaWRlIGJhc2VkIG9uIHRoZSBFbmNvdW50ZXIvRXBpc29kZU9mQ2FyZS9QYXRpZW50L0NvdmVyYWdlIGNvbnRleHQgYW5kIHRoZSB0eXBlIG9mIENoYXJnZUl0ZW0sIHdoaWNoIEFjY291bnQgaXMgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgYWNjb3VudD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb21tZW50cyBtYWRlIGFib3V0IHRoZSBldmVudCBieSB0aGUgcGVyZm9ybWVyLCBzdWJqZWN0IG9yIG90aGVyIHBhcnRpY2lwYW50cy5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGdXJ0aGVyIGluZm9ybWF0aW9uIHN1cHBvcnRpbmcgdGhpcyBjaGFyZ2UuXHJcbiAgICovXHJcbiAgc3VwcG9ydGluZ0luZm9ybWF0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHJlc291cmNlIENoYXJnZUl0ZW0gZGVzY3JpYmVzIHRoZSBwcm92aXNpb24gb2YgaGVhbHRoY2FyZSBwcm92aWRlciBwcm9kdWN0cyBmb3IgYSBjZXJ0YWluIHBhdGllbnQsIHRoZXJlZm9yZSByZWZlcnJpbmcgbm90IG9ubHkgdG8gdGhlIHByb2R1Y3QsIGJ1dCBjb250YWluaW5nIGluIGFkZGl0aW9uIGRldGFpbHMgb2YgdGhlIHByb3Zpc2lvbiwgbGlrZSBkYXRlLCB0aW1lLCBhbW91bnRzIGFuZCBwYXJ0aWNpcGF0aW5nIG9yZ2FuaXphdGlvbnMgYW5kIHBlcnNvbnMuIE1haW4gVXNhZ2Ugb2YgdGhlIENoYXJnZUl0ZW0gaXMgdG8gZW5hYmxlIHRoZSBiaWxsaW5nIHByb2Nlc3MgYW5kIGludGVybmFsIGNvc3QgYWxsb2NhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDaGFyZ2VJdGVtIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDaGFyZ2VJdGVtJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkNoYXJnZUl0ZW1cIjtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVycyBhc3NpZ25lZCB0byB0aGlzIGV2ZW50IHBlcmZvcm1lciBvciBvdGhlciBzeXN0ZW1zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2VzIHRoZSAoZXh0ZXJuYWwpIHNvdXJjZSBvZiBwcmljaW5nIGluZm9ybWF0aW9uLCBydWxlcyBvZiBhcHBsaWNhdGlvbiBmb3IgdGhlIGNvZGUgdGhpcyBDaGFyZ2VJdGVtIHVzZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRlZmluaXRpb25Vcmk6IGZoaXIuRmhpclVyaVtdO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZXMgdGhlIHNvdXJjZSBvZiBwcmljaW5nIGluZm9ybWF0aW9uLCBydWxlcyBvZiBhcHBsaWNhdGlvbiBmb3IgdGhlIGNvZGUgdGhpcyBDaGFyZ2VJdGVtIHVzZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRlZmluaXRpb25DYW5vbmljYWw6IGZoaXIuRmhpckNhbm9uaWNhbFtdO1xyXG4gIC8qKlxyXG4gICAqIFVua25vd24gZG9lcyBub3QgcmVwcmVzZW50IFwib3RoZXJcIiAtIG9uZSBvZiB0aGUgZGVmaW5lZCBzdGF0dXNlcyBtdXN0IGFwcGx5LiAgVW5rbm93biBpcyB1c2VkIHdoZW4gdGhlIGF1dGhvcmluZyBzeXN0ZW0gaXMgbm90IHN1cmUgd2hhdCB0aGUgY3VycmVudCBzdGF0dXMgaXMuXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGUgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmtzIHRoZSBjaGFyZ2UgaXRlbSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Q2hhcmdlaXRlbVN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIENoYXJnZUl0ZW1zIGNhbiBiZSBncm91cGVkIHRvIGxhcmdlciBDaGFyZ2VJdGVtcyBjb3ZlcmluZyB0aGUgd2hvbGUgc2V0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJ0T2Y6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgaWRlbnRpZmllcyB0aGUgY2hhcmdlLCBsaWtlIGEgYmlsbGluZyBjb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIG9yIHNldCBvZiBpbmRpdmlkdWFscyB0aGUgYWN0aW9uIGlzIGJlaW5nIG9yIHdhcyBwZXJmb3JtZWQgb24uXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGVuY291bnRlciBvciBlcGlzb2RlIG9mIGNhcmUgdGhhdCBlc3RhYmxpc2hlcyB0aGUgY29udGV4dCBmb3IgdGhpcyBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGV4dD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGlzdCBvZiB0eXBlcyBtYXkgYmUgY29uc3RyYWluZWQgYXMgYXBwcm9wcmlhdGUgZm9yIHRoZSB0eXBlIG9mIGNoYXJnZSBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvY2N1cnJlbmNlPzogKGZoaXIuRmhpckRhdGVUaW1lfGZoaXIuUGVyaW9kfGZoaXIuVGltaW5nKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDaGFyZ2VJdGVtLm9jY3VycmVuY2VbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfb2NjdXJyZW5jZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aG8gb3Igd2hhdCBwZXJmb3JtZWQgb3IgcGFydGljaXBhdGVkIGluIHRoZSBjaGFyZ2VkIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmZvcm1lcjogZmhpci5DaGFyZ2VJdGVtUGVyZm9ybWVyW107XHJcbiAgLyoqXHJcbiAgICogUHJhY3RpdGlvbmVycyBhbmQgRGV2aWNlcyBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIG11bHRpcGxlIG9yZ2FuaXphdGlvbnMuIEl0IGhhcyB0byBiZSBtYWRlIGNsZWFyLCBvbiBiZWhhbGYgb2Ygd2hpY2ggT3JnYW5pemF0aW9uIHRoZSBzZXJ2aWNlcyBoYXZlIGJlZW4gcmVuZGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmZvcm1pbmdPcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlbmRlcmVkIFNlcnZpY2UgbWlnaHQgbm90IGJlIGFzc29jaWF0ZWQgd2l0aCBhIFJlcXVlc3QuIFRoaXMgcHJvcGVydHkgaW5kaWNhdGVzIHdoaWNoIE9yZ2FuaXphdGlvbiByZXF1ZXN0ZWQgdGhlIHNlcnZpY2VzIHRvIGJlIHJlbmRlcmVkLiAoSW4gbWFueSBjYXNlcywgdGhpcyBtYXkganVzdCBiZSB0aGUgRGVwYXJ0bWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIEVuY291bnRlci5sb2NhdGlvbikuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3RpbmdPcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvc3RDZW50ZXIgY291bGQgZWl0aGVyIGJlIGdpdmVuIGFzIGEgcmVmZXJlbmNlIHRvIGFuIE9yZ2FuaXphdGlvbihSb2xlKSByZXNvdXJjZSBvciBhcyB0aGUgaWRlbnRpZmllciBvZiB0aGUgY29zdCBjZW50ZXIgZGV0ZXJtaW5lZCBieSBSZWZlcmVuY2UuaWRlbnRpZmllci52YWx1ZSBhbmQgUmVmZXJlbmNlLmlkZW50aWZpZXIuc3lzdGVtLCBkZXBlbmRpbmcgb24gdXNlIGNhc2UgcmVxdWlyZW1lbnRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3N0Q2VudGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluIG1hbnkgY2FzZXMgdGhpcyBtYXkganVzdCBiZSBhIHZhbHVlLCBpZiB0aGUgdW5kZXJseWluZyB1bml0cyBhcmUgaW1wbGljaXQgaW4gdGhlIGRlZmluaXRpb24gb2YgdGhlIGNoYXJnZSBpdGVtIGNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT25seSB1c2VkIGlmIG5vdCBpbXBsaWNpdCBpbiBjb2RlIGZvdW5kIGluIENvbmRpdGlvbi5jb2RlLiBJZiB0aGUgdXNlIGNhc2UgcmVxdWlyZXMgYXR0cmlidXRlcyBmcm9tIHRoZSBCb2R5U2l0ZSByZXNvdXJjZSAoZS5nLiB0byBpZGVudGlmeSBhbmQgdHJhY2sgc2VwYXJhdGVseSkgdGhlbiB1c2UgdGhlIHN0YW5kYXJkIGV4dGVuc2lvbiBbYm9keVNpdGVdKGV4dGVuc2lvbi1ib2R5c2l0ZS5odG1sKS4gIE1heSBiZSBhIHN1bW1hcnkgY29kZSwgb3IgYSByZWZlcmVuY2UgdG8gYSB2ZXJ5IHByZWNpc2UgZGVmaW5pdGlvbiBvZiB0aGUgbG9jYXRpb24sIG9yIGJvdGguXHJcbiAgICovXHJcbiAgcHVibGljIGJvZHlzaXRlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGlzIG5vIHJlYXNvbiB0byBjYXJyeSB0aGUgZmFjdG9yIGluIHRoZSBpbnN0YW5jZSBvZiBhIENoYXJnZUl0ZW0gdW5sZXNzIHNwZWNpYWwgY2lyY3Vtc3RhbmNlcyByZXF1aXJlIGEgbWFudWFsIG92ZXJyaWRlLiBUaGUgZmFjdG9ycyBhcmUgdXN1YWxseSBkZWZpbmVkIGJ5IGEgc2V0IG9mIHJ1bGVzIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjdG9yT3ZlcnJpZGU/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBubyByZWFzb24gdG8gY2FycnkgdGhlIHByaWNlIGluIHRoZSBpbnN0YW5jZSBvZiBhIENoYXJnZUl0ZW0gdW5sZXNzIGNpcmN1bXN0YW5jZXMgcmVxdWlyZSBhIG1hbnVhbCBvdmVycmlkZS4gVGhlIGxpc3QgcHJpY2VzIG9yIGFyZSB1c3VhbGx5IGRlZmluZWQgaW4gYSBiYWNrIGNhdGFsb2d1ZSBvZiB0aGUgYmlsbGluZyBjb2RlcyAgKHNlZSBDaGFyZ2VJdGVtLmRlZmluaXRpb24pLiBEZXJpdmVkIHByb2ZpbGVzIG1heSByZXF1aXJlIGEgQ2hhcmdlSXRlbS5vdmVycmlkZVJlYXNvbiB0byBiZSBwcm92aWRlZCBpZiBlaXRoZXIgZmFjdG9yIG9yIHByaWNlIGFyZSBtYW51YWxseSBvdmVycmlkZGVuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmljZU92ZXJyaWRlPzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVyaXZlZCBQcm9maWxlcyBtYXkgY2hvb3NlIHRvIGFkZCBpbnZhcmlhbnRzIHJlcXVpcmluZyB0aGlzIGZpZWxkIHRvIGJlIHBvcHVsYXRlZCBpZiBlaXRoZXIgcHJpY2VPdmVycmlkZSBvciBmYWN0b3JPdmVycmlkZSBoYXZlIGJlZW4gZmlsbGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZVJlYXNvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGVudGVyZXIgaXMgYWxzbyB0aGUgcGVyc29uIGNvbnNpZGVyZWQgcmVzcG9uc2libGUgZm9yIGZhY3Rvci9wcmljZSBvdmVycmlkZXMgaWYgYXBwbGljYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgZW50ZXJlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIGRhdGUgd2hlbiB0aGUgc2VydmljZSBhc3NvY2lhdGVkIHdpdGggdGhlIGNoYXJnZSBoYXMgYmVlbiByZW5kZXJlZCBpcyBjYXB0dXJlZCBpbiBvY2N1cnJlbmNlW3hdLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRlcmVkRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgYXBwbGljYXRpb24gb2YgdGhlIGNoYXJnZSBpdGVtIHJlcXVpcmVzIGEgcmVhc29uIHRvIGJlIGdpdmVuLCBpdCBjYW4gYmUgY2FwdHVyZWQgaGVyZS4gVGV4dHVhbCByZWFzb25zIGNhbiBiZSBjYXB0dXJlZCB1c2luZyByZWFzb25Db2RlLnRleHQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYXNvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZWQgdGhlIHJlbmRlcmVkIHNlcnZpY2UgdGhhdCBjYXVzZWQgdGhpcyBjaGFyZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcnZpY2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgZGV2aWNlLCBmb29kLCBkcnVnIG9yIG90aGVyIHByb2R1Y3QgYmVpbmcgY2hhcmdlZCBlaXRoZXIgYnkgdHlwZSBjb2RlIG9yIHJlZmVyZW5jZSB0byBhbiBpbnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZHVjdD86IChmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ2hhcmdlSXRlbS5wcm9kdWN0W3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3Byb2R1Y3RJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBTeXN0ZW1zIHBvc3RpbmcgdGhlIENoYXJnZUl0ZW1zIG1pZ2h0IG5vdCBhbHdheXMgYmUgYWJsZSB0byBkZXRlcm1pbmUsIHdoaWNoIGFjY291bnRzIHRoZSBJdGVtcyBuZWVkIHRvIGJlIHBsYWNlcyBpbnRvLiBJdCBpcyB1cCB0byB0aGUgcG9zdHByb2Nlc3NpbmcgRmluYW5jaWFsIFN5c3RlbSB0byBhcHBseSBpbnRlcm5hbCBydWxlcyB0byBkZWNpZGUgYmFzZWQgb24gdGhlIEVuY291bnRlci9FcGlzb2RlT2ZDYXJlL1BhdGllbnQvQ292ZXJhZ2UgY29udGV4dCBhbmQgdGhlIHR5cGUgb2YgQ2hhcmdlSXRlbSwgd2hpY2ggQWNjb3VudCBpcyBhcHByb3ByaWF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWNjb3VudDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBDb21tZW50cyBtYWRlIGFib3V0IHRoZSBldmVudCBieSB0aGUgcGVyZm9ybWVyLCBzdWJqZWN0IG9yIG90aGVyIHBhcnRpY2lwYW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZTogZmhpci5Bbm5vdGF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRnVydGhlciBpbmZvcm1hdGlvbiBzdXBwb3J0aW5nIHRoaXMgY2hhcmdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdXBwb3J0aW5nSW5mb3JtYXRpb246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2hhcmdlSXRlbSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENoYXJnZUl0ZW1BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQ2hhcmdlSXRlbSc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZWZpbml0aW9uVXJpJ10pIHsgdGhpcy5kZWZpbml0aW9uVXJpID0gc291cmNlLmRlZmluaXRpb25VcmkubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVmaW5pdGlvblVyaSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVmaW5pdGlvblVyaSddKSB7XHJcbiAgICAgIHNvdXJjZS5fZGVmaW5pdGlvblVyaS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kZWZpbml0aW9uVXJpLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuZGVmaW5pdGlvblVyaVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLmRlZmluaXRpb25VcmkucHVzaChuZXcgZmhpci5GaGlyVXJpKHggYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZWZpbml0aW9uQ2Fub25pY2FsJ10pIHsgdGhpcy5kZWZpbml0aW9uQ2Fub25pY2FsID0gc291cmNlLmRlZmluaXRpb25DYW5vbmljYWwubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVmaW5pdGlvbkNhbm9uaWNhbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVmaW5pdGlvbkNhbm9uaWNhbCddKSB7XHJcbiAgICAgIHNvdXJjZS5fZGVmaW5pdGlvbkNhbm9uaWNhbC5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kZWZpbml0aW9uQ2Fub25pY2FsLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuZGVmaW5pdGlvbkNhbm9uaWNhbFtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLmRlZmluaXRpb25DYW5vbmljYWwucHVzaChuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHggYXMgUGFydGlhbDxmaGlyLkZoaXJDYW5vbmljYWxBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPENoYXJnZWl0ZW1TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Q2hhcmdlaXRlbVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFydE9mJ10pIHsgdGhpcy5wYXJ0T2YgPSBzb3VyY2UucGFydE9mLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFydE9mID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1YmplY3QgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250ZXh0J10pIHsgdGhpcy5jb250ZXh0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5jb250ZXh0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb2NjdXJyZW5jZSddKSB7IHRoaXMub2NjdXJyZW5jZSA9IHNvdXJjZS5vY2N1cnJlbmNlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ29jY3VycmVuY2VEYXRlVGltZSddKSB7IHRoaXMub2NjdXJyZW5jZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5vY2N1cnJlbmNlRGF0ZVRpbWV9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydvY2N1cnJlbmNlUGVyaW9kJ10pIHsgdGhpcy5vY2N1cnJlbmNlID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5vY2N1cnJlbmNlUGVyaW9kKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydvY2N1cnJlbmNlVGltaW5nJ10pIHsgdGhpcy5vY2N1cnJlbmNlID0gbmV3IGZoaXIuVGltaW5nKHNvdXJjZS5vY2N1cnJlbmNlVGltaW5nKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyZm9ybWVyJ10pIHsgdGhpcy5wZXJmb3JtZXIgPSBzb3VyY2UucGVyZm9ybWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2hhcmdlSXRlbVBlcmZvcm1lcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcmZvcm1lciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJmb3JtaW5nT3JnYW5pemF0aW9uJ10pIHsgdGhpcy5wZXJmb3JtaW5nT3JnYW5pemF0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wZXJmb3JtaW5nT3JnYW5pemF0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdGluZ09yZ2FuaXphdGlvbiddKSB7IHRoaXMucmVxdWVzdGluZ09yZ2FuaXphdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVxdWVzdGluZ09yZ2FuaXphdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Nvc3RDZW50ZXInXSkgeyB0aGlzLmNvc3RDZW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNvc3RDZW50ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UucXVhbnRpdHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydib2R5c2l0ZSddKSB7IHRoaXMuYm9keXNpdGUgPSBzb3VyY2UuYm9keXNpdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ib2R5c2l0ZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmYWN0b3JPdmVycmlkZSddKSB7IHRoaXMuZmFjdG9yT3ZlcnJpZGUgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5mYWN0b3JPdmVycmlkZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZmFjdG9yT3ZlcnJpZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5mYWN0b3JPdmVycmlkZSkgeyB0aGlzLmZhY3Rvck92ZXJyaWRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ZhY3Rvck92ZXJyaWRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZmFjdG9yT3ZlcnJpZGUgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2ZhY3Rvck92ZXJyaWRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJpY2VPdmVycmlkZSddKSB7IHRoaXMucHJpY2VPdmVycmlkZSA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS5wcmljZU92ZXJyaWRlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3ZlcnJpZGVSZWFzb24nXSkgeyB0aGlzLm92ZXJyaWRlUmVhc29uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5vdmVycmlkZVJlYXNvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3ZlcnJpZGVSZWFzb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5vdmVycmlkZVJlYXNvbikgeyB0aGlzLm92ZXJyaWRlUmVhc29uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX292ZXJyaWRlUmVhc29uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3ZlcnJpZGVSZWFzb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fb3ZlcnJpZGVSZWFzb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2VudGVyZXInXSkgeyB0aGlzLmVudGVyZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmVudGVyZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydlbnRlcmVkRGF0ZSddKSB7IHRoaXMuZW50ZXJlZERhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZW50ZXJlZERhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2VudGVyZWREYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZW50ZXJlZERhdGUpIHsgdGhpcy5lbnRlcmVkRGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9lbnRlcmVkRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmVudGVyZWREYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZW50ZXJlZERhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uJ10pIHsgdGhpcy5yZWFzb24gPSBzb3VyY2UucmVhc29uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVhc29uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcnZpY2UnXSkgeyB0aGlzLnNlcnZpY2UgPSBzb3VyY2Uuc2VydmljZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlcnZpY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZHVjdCddKSB7IHRoaXMucHJvZHVjdCA9IHNvdXJjZS5wcm9kdWN0OyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3Byb2R1Y3RSZWZlcmVuY2UnXSkgeyB0aGlzLnByb2R1Y3QgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnByb2R1Y3RSZWZlcmVuY2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3Byb2R1Y3RDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLnByb2R1Y3QgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnByb2R1Y3RDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBpZiAoc291cmNlWydhY2NvdW50J10pIHsgdGhpcy5hY2NvdW50ID0gc291cmNlLmFjY291bnQubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY2NvdW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1cHBvcnRpbmdJbmZvcm1hdGlvbiddKSB7IHRoaXMuc3VwcG9ydGluZ0luZm9ybWF0aW9uID0gc291cmNlLnN1cHBvcnRpbmdJbmZvcm1hdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1cHBvcnRpbmdJbmZvcm1hdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2hhcmdlSXRlbScgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9BKCdkZWZpbml0aW9uVXJpJyxleHApXHJcbiAgICB0aGlzLnZPQSgnZGVmaW5pdGlvbkNhbm9uaWNhbCcsZXhwKVxyXG4gICAgdGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnQ2hhcmdlaXRlbVN0YXR1cycsQ2hhcmdlaXRlbVN0YXR1c1ZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPQSgncGFydE9mJyxleHApXHJcbiAgICB0aGlzLnZSUygnY29kZScsZXhwKVxyXG4gICAgdGhpcy52UlMoJ3N1YmplY3QnLGV4cClcclxuICAgIHRoaXMudk9TKCdjb250ZXh0JyxleHApXHJcbiAgICB0aGlzLnZPUygnb2NjdXJyZW5jZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3BlcmZvcm1lcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3BlcmZvcm1pbmdPcmdhbml6YXRpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCdyZXF1ZXN0aW5nT3JnYW5pemF0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygnY29zdENlbnRlcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3F1YW50aXR5JyxleHApXHJcbiAgICB0aGlzLnZPQSgnYm9keXNpdGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdmYWN0b3JPdmVycmlkZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3ByaWNlT3ZlcnJpZGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdvdmVycmlkZVJlYXNvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2VudGVyZXInLGV4cClcclxuICAgIHRoaXMudk9TKCdlbnRlcmVkRGF0ZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3JlYXNvbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3NlcnZpY2UnLGV4cClcclxuICAgIHRoaXMudk9TKCdwcm9kdWN0JyxleHApXHJcbiAgICB0aGlzLnZPQSgnYWNjb3VudCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ25vdGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdzdXBwb3J0aW5nSW5mb3JtYXRpb24nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==