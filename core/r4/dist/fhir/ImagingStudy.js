// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: ImagingStudy
import * as fhir from '../fhir.js';
// @ts-ignore
import { ImagingstudyStatusVsValidation } from '../fhirValueSets/ImagingstudyStatusVsValidation.js';
/**
 * If the person who performed the series is not known, their Organization may be recorded. A patient, or related person, may be the performer, e.g. for patient-captured images.
 */
export class ImagingStudySeriesPerformer extends fhir.BackboneElement {
    /**
     * Default constructor for ImagingStudySeriesPerformer - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['function']) {
            this.function = new fhir.CodeableConcept(source.function);
        }
        if (source['actor']) {
            this.actor = new fhir.Reference(source.actor);
        }
        else {
            this.actor = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ImagingStudy.series.performer';
        }
        iss.push(...this.vOS('function', exp));
        iss.push(...this.vRS('actor', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImagingStudySeriesPerformer._fts_dataType = 'ImagingStudySeriesPerformer';
/**
 * A single SOP instance within the series, e.g. an image, or presentation state.
 */
export class ImagingStudySeriesInstance extends fhir.BackboneElement {
    /**
     * Default constructor for ImagingStudySeriesInstance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['uid']) {
            this.uid = new fhir.FhirId({ value: source.uid });
        }
        else {
            this.uid = null;
        }
        if (source['_uid']) {
            if (this.uid) {
                this.uid.addExtendedProperties(source._uid);
            }
            else {
                this.uid = new fhir.FhirId(source._uid);
            }
        }
        if (source['sopClass']) {
            this.sopClass = new fhir.Coding(source.sopClass);
        }
        else {
            this.sopClass = null;
        }
        if (source['number']) {
            this.number = new fhir.FhirUnsignedInt({ value: source.number });
        }
        if (source['_number']) {
            if (this.number) {
                this.number.addExtendedProperties(source._number);
            }
            else {
                this.number = new fhir.FhirUnsignedInt(source._number);
            }
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['_title']) {
            if (this.title) {
                this.title.addExtendedProperties(source._title);
            }
            else {
                this.title = new fhir.FhirString(source._title);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ImagingStudy.series.instance';
        }
        iss.push(...this.vRS('uid', exp));
        iss.push(...this.vRS('sopClass', exp));
        iss.push(...this.vOS('number', exp));
        iss.push(...this.vOS('title', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImagingStudySeriesInstance._fts_dataType = 'ImagingStudySeriesInstance';
/**
 * Each study has one or more series of images or other content.
 */
export class ImagingStudySeries extends fhir.BackboneElement {
    /**
     * Default constructor for ImagingStudySeries - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['uid']) {
            this.uid = new fhir.FhirId({ value: source.uid });
        }
        else {
            this.uid = null;
        }
        if (source['_uid']) {
            if (this.uid) {
                this.uid.addExtendedProperties(source._uid);
            }
            else {
                this.uid = new fhir.FhirId(source._uid);
            }
        }
        if (source['number']) {
            this.number = new fhir.FhirUnsignedInt({ value: source.number });
        }
        if (source['_number']) {
            if (this.number) {
                this.number.addExtendedProperties(source._number);
            }
            else {
                this.number = new fhir.FhirUnsignedInt(source._number);
            }
        }
        if (source['modality']) {
            this.modality = new fhir.Coding(source.modality);
        }
        else {
            this.modality = null;
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['numberOfInstances']) {
            this.numberOfInstances = new fhir.FhirUnsignedInt({ value: source.numberOfInstances });
        }
        if (source['_numberOfInstances']) {
            if (this.numberOfInstances) {
                this.numberOfInstances.addExtendedProperties(source._numberOfInstances);
            }
            else {
                this.numberOfInstances = new fhir.FhirUnsignedInt(source._numberOfInstances);
            }
        }
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.Reference(x));
        }
        else {
            this.endpoint = [];
        }
        if (source['bodySite']) {
            this.bodySite = new fhir.Coding(source.bodySite);
        }
        if (source['laterality']) {
            this.laterality = new fhir.Coding(source.laterality);
        }
        if (source['specimen']) {
            this.specimen = source.specimen.map((x) => new fhir.Reference(x));
        }
        else {
            this.specimen = [];
        }
        if (source['started']) {
            this.started = new fhir.FhirDateTime({ value: source.started });
        }
        if (source['_started']) {
            if (this.started) {
                this.started.addExtendedProperties(source._started);
            }
            else {
                this.started = new fhir.FhirDateTime(source._started);
            }
        }
        if (source['performer']) {
            this.performer = source.performer.map((x) => new fhir.ImagingStudySeriesPerformer(x));
        }
        else {
            this.performer = [];
        }
        if (source['instance']) {
            this.instance = source.instance.map((x) => new fhir.ImagingStudySeriesInstance(x));
        }
        else {
            this.instance = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ImagingStudy.series';
        }
        iss.push(...this.vRS('uid', exp));
        iss.push(...this.vOS('number', exp));
        iss.push(...this.vRS('modality', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('numberOfInstances', exp));
        iss.push(...this.vOA('endpoint', exp));
        iss.push(...this.vOS('bodySite', exp));
        iss.push(...this.vOS('laterality', exp));
        iss.push(...this.vOA('specimen', exp));
        iss.push(...this.vOS('started', exp));
        iss.push(...this.vOA('performer', exp));
        iss.push(...this.vOA('instance', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImagingStudySeries._fts_dataType = 'ImagingStudySeries';
/**
 * Representation of the content produced in a DICOM imaging study. A study comprises a set of series, each of which includes a set of Service-Object Pair Instances (SOP Instances - images or other data) acquired or produced in a common context.  A series is of only one modality (e.g. X-ray, CT, MR, ultrasound), but a study may have multiple series of different modalities.
 */
export class ImagingStudy extends fhir.DomainResource {
    /**
     * Default constructor for ImagingStudy - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ImagingStudy';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['modality']) {
            this.modality = source.modality.map((x) => new fhir.Coding(x));
        }
        else {
            this.modality = [];
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        else {
            this.subject = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['started']) {
            this.started = new fhir.FhirDateTime({ value: source.started });
        }
        if (source['_started']) {
            if (this.started) {
                this.started.addExtendedProperties(source._started);
            }
            else {
                this.started = new fhir.FhirDateTime(source._started);
            }
        }
        if (source['basedOn']) {
            this.basedOn = source.basedOn.map((x) => new fhir.Reference(x));
        }
        else {
            this.basedOn = [];
        }
        if (source['referrer']) {
            this.referrer = new fhir.Reference(source.referrer);
        }
        if (source['interpreter']) {
            this.interpreter = source.interpreter.map((x) => new fhir.Reference(x));
        }
        else {
            this.interpreter = [];
        }
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.Reference(x));
        }
        else {
            this.endpoint = [];
        }
        if (source['numberOfSeries']) {
            this.numberOfSeries = new fhir.FhirUnsignedInt({ value: source.numberOfSeries });
        }
        if (source['_numberOfSeries']) {
            if (this.numberOfSeries) {
                this.numberOfSeries.addExtendedProperties(source._numberOfSeries);
            }
            else {
                this.numberOfSeries = new fhir.FhirUnsignedInt(source._numberOfSeries);
            }
        }
        if (source['numberOfInstances']) {
            this.numberOfInstances = new fhir.FhirUnsignedInt({ value: source.numberOfInstances });
        }
        if (source['_numberOfInstances']) {
            if (this.numberOfInstances) {
                this.numberOfInstances.addExtendedProperties(source._numberOfInstances);
            }
            else {
                this.numberOfInstances = new fhir.FhirUnsignedInt(source._numberOfInstances);
            }
        }
        if (source['procedureReference']) {
            this.procedureReference = new fhir.Reference(source.procedureReference);
        }
        if (source['procedureCode']) {
            this.procedureCode = source.procedureCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.procedureCode = [];
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        if (source['reasonCode']) {
            this.reasonCode = source.reasonCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reasonCode = [];
        }
        if (source['reasonReference']) {
            this.reasonReference = source.reasonReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.reasonReference = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['series']) {
            this.series = source.series.map((x) => new fhir.ImagingStudySeries(x));
        }
        else {
            this.series = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ImagingStudy';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'ImagingstudyStatus', ImagingstudyStatusVsValidation, 'r'));
        iss.push(...this.vOA('modality', exp));
        iss.push(...this.vRS('subject', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vOS('started', exp));
        iss.push(...this.vOA('basedOn', exp));
        iss.push(...this.vOS('referrer', exp));
        iss.push(...this.vOA('interpreter', exp));
        iss.push(...this.vOA('endpoint', exp));
        iss.push(...this.vOS('numberOfSeries', exp));
        iss.push(...this.vOS('numberOfInstances', exp));
        iss.push(...this.vOS('procedureReference', exp));
        iss.push(...this.vOA('procedureCode', exp));
        iss.push(...this.vOS('location', exp));
        iss.push(...this.vOA('reasonCode', exp));
        iss.push(...this.vOA('reasonReference', exp));
        iss.push(...this.vOA('note', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOA('series', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImagingStudy._fts_dataType = 'ImagingStudy';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW1hZ2luZ1N0dWR5LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9JbWFnaW5nU3R1ZHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsOEJBQThCO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBb0JuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLDhCQUE4QixFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFtQnBHOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDJCQUE0QixTQUFRLElBQUksQ0FBQyxlQUFlO0lBYW5FOztPQUVHO0lBQ0gsWUFBWSxTQUFrRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN4RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQUU7UUFDdEYsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FBRTthQUNsRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQUU7SUFDN0IsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLCtCQUErQixDQUFBO1NBQUU7UUFDekQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFH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U0FBRTtRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLG9CQUFvQixFQUFDLDhCQUE4QixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDN0YsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDaEQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBL0tEOztHQUVHO0FBQzZCLDBCQUFhLEdBQVUsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBJbWFnaW5nU3R1ZHlcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcmllc1BlcmZvcm1lckZ1bmN0aW9uQ29kZXMsICBTZXJpZXNQZXJmb3JtZXJGdW5jdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZXJpZXNQZXJmb3JtZXJGdW5jdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZXJpZXNQZXJmb3JtZXJGdW5jdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VyaWVzUGVyZm9ybWVyRnVuY3Rpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpY29tQ2lkMjlBY3F1aXNpdGlvbk1vZGFsaXR5Q29kZXMsICBEaWNvbUNpZDI5QWNxdWlzaXRpb25Nb2RhbGl0eUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWNvbUNpZDI5QWNxdWlzaXRpb25Nb2RhbGl0eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaWNvbUNpZDI5QWNxdWlzaXRpb25Nb2RhbGl0eVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGljb21DaWQyOUFjcXVpc2l0aW9uTW9kYWxpdHlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEJvZHlTaXRlQ29kZXMsICBCb2R5U2l0ZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Cb2R5U2l0ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCb2R5U2l0ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQm9keVNpdGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEJvZHlzaXRlTGF0ZXJhbGl0eUNvZGVzLCAgQm9keXNpdGVMYXRlcmFsaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JvZHlzaXRlTGF0ZXJhbGl0eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCb2R5c2l0ZUxhdGVyYWxpdHlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JvZHlzaXRlTGF0ZXJhbGl0eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW1hZ2luZ3N0dWR5U3RhdHVzQ29kZXMsICBJbWFnaW5nc3R1ZHlTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW1hZ2luZ3N0dWR5U3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEltYWdpbmdzdHVkeVN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW1hZ2luZ3N0dWR5U3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQcm9jZWR1cmVSZWFzb25Db2RlcywgIFByb2NlZHVyZVJlYXNvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Qcm9jZWR1cmVSZWFzb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvY2VkdXJlUmVhc29uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Qcm9jZWR1cmVSZWFzb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1hZ2luZ1N0dWR5U2VyaWVzUGVyZm9ybWVyIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEltYWdpbmdTdHVkeVNlcmllc1BlcmZvcm1lckFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIERpc3Rpbmd1aXNoZXMgdGhlIHR5cGUgb2YgaW52b2x2ZW1lbnQgb2YgdGhlIHBlcmZvcm1lciBpbiB0aGUgc2VyaWVzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hvIG9yIHdoYXQgcGVyZm9ybWVkIHRoZSBzZXJpZXMuXHJcbiAgICovXHJcbiAgYWN0b3I6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogSWYgdGhlIHBlcnNvbiB3aG8gcGVyZm9ybWVkIHRoZSBzZXJpZXMgaXMgbm90IGtub3duLCB0aGVpciBPcmdhbml6YXRpb24gbWF5IGJlIHJlY29yZGVkLiBBIHBhdGllbnQsIG9yIHJlbGF0ZWQgcGVyc29uLCBtYXkgYmUgdGhlIHBlcmZvcm1lciwgZS5nLiBmb3IgcGF0aWVudC1jYXB0dXJlZCBpbWFnZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW1hZ2luZ1N0dWR5U2VyaWVzUGVyZm9ybWVyIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSW1hZ2luZ1N0dWR5U2VyaWVzUGVyZm9ybWVyJztcclxuICAvKipcclxuICAgKiBEaXN0aW5ndWlzaGVzIHRoZSB0eXBlIG9mIGludm9sdmVtZW50IG9mIHRoZSBwZXJmb3JtZXIgaW4gdGhlIHNlcmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgZnVuY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdobyBvciB3aGF0IHBlcmZvcm1lZCB0aGUgc2VyaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3RvcjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbWFnaW5nU3R1ZHlTZXJpZXNQZXJmb3JtZXIgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbWFnaW5nU3R1ZHlTZXJpZXNQZXJmb3JtZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZnVuY3Rpb24nXSkgeyB0aGlzLmZ1bmN0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5mdW5jdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdG9yJ10pIHsgdGhpcy5hY3RvciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuYWN0b3IpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY3RvciA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdJbWFnaW5nU3R1ZHkuc2VyaWVzLnBlcmZvcm1lcicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Z1bmN0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdhY3RvcicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1hZ2luZ1N0dWR5U2VyaWVzSW5zdGFuY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2luZ1N0dWR5U2VyaWVzSW5zdGFuY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTZWUgIFtESUNPTSBQUzMuMyBDLjEyLjFdKGh0dHA6Ly9kaWNvbS5uZW1hLm9yZy9tZWRpY2FsL2RpY29tL2N1cnJlbnQvb3V0cHV0L2NodG1sL3BhcnQwMy9zZWN0X0MuMTIuaHRtbCNzZWN0X0MuMTIuMSkuXHJcbiAgICovXHJcbiAgdWlkOiBmaGlyLkZoaXJJZHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkuc2VyaWVzLmluc3RhbmNlLnVpZFxyXG4gICAqL1xyXG4gIF91aWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIERJQ09NIGluc3RhbmNlICB0eXBlLlxyXG4gICAqL1xyXG4gIHNvcENsYXNzOiBmaGlyLkNvZGluZ0FyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIGluc3RhbmNlIGluIHRoZSBzZXJpZXMuXHJcbiAgICovXHJcbiAgbnVtYmVyPzogZmhpci5GaGlyVW5zaWduZWRJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5LnNlcmllcy5pbnN0YW5jZS5udW1iZXJcclxuICAgKi9cclxuICBfbnVtYmVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBQYXJ0aWN1bGFybHkgZm9yIHBvc3QtYWNxdWlzaXRpb24gYW5hbHl0aWMgb2JqZWN0cywgc3VjaCBhcyBTUiwgcHJlc2VudGF0aW9uIHN0YXRlcywgdmFsdWUgbWFwcGluZywgZXRjLlxyXG4gICAqL1xyXG4gIHRpdGxlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5zZXJpZXMuaW5zdGFuY2UudGl0bGVcclxuICAgKi9cclxuICBfdGl0bGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzaW5nbGUgU09QIGluc3RhbmNlIHdpdGhpbiB0aGUgc2VyaWVzLCBlLmcuIGFuIGltYWdlLCBvciBwcmVzZW50YXRpb24gc3RhdGUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW1hZ2luZ1N0dWR5U2VyaWVzSW5zdGFuY2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbWFnaW5nU3R1ZHlTZXJpZXNJbnN0YW5jZSc7XHJcbiAgLyoqXHJcbiAgICogU2VlICBbRElDT00gUFMzLjMgQy4xMi4xXShodHRwOi8vZGljb20ubmVtYS5vcmcvbWVkaWNhbC9kaWNvbS9jdXJyZW50L291dHB1dC9jaHRtbC9wYXJ0MDMvc2VjdF9DLjEyLmh0bWwjc2VjdF9DLjEyLjEpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1aWQ6IGZoaXIuRmhpcklkfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRElDT00gaW5zdGFuY2UgIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIHNvcENsYXNzOiBmaGlyLkNvZGluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgaW5zdGFuY2UgaW4gdGhlIHNlcmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgbnVtYmVyPzogZmhpci5GaGlyVW5zaWduZWRJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBhcnRpY3VsYXJseSBmb3IgcG9zdC1hY3F1aXNpdGlvbiBhbmFseXRpYyBvYmplY3RzLCBzdWNoIGFzIFNSLCBwcmVzZW50YXRpb24gc3RhdGVzLCB2YWx1ZSBtYXBwaW5nLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIHRpdGxlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbWFnaW5nU3R1ZHlTZXJpZXNJbnN0YW5jZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEltYWdpbmdTdHVkeVNlcmllc0luc3RhbmNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3VpZCddKSB7IHRoaXMudWlkID0gbmV3IGZoaXIuRmhpcklkKHt2YWx1ZTogc291cmNlLnVpZH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51aWQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdWlkJ10pIHtcclxuICAgICAgaWYgKHRoaXMudWlkKSB7IHRoaXMudWlkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3VpZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVpZCA9IG5ldyBmaGlyLkZoaXJJZChzb3VyY2UuX3VpZCBhcyBQYXJ0aWFsPGZoaXIuRmhpcklkQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzb3BDbGFzcyddKSB7IHRoaXMuc29wQ2xhc3MgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnNvcENsYXNzKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc29wQ2xhc3MgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydudW1iZXInXSkgeyB0aGlzLm51bWJlciA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludCh7dmFsdWU6IHNvdXJjZS5udW1iZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX251bWJlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLm51bWJlcikgeyB0aGlzLm51bWJlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9udW1iZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5udW1iZXIgPSBuZXcgZmhpci5GaGlyVW5zaWduZWRJbnQoc291cmNlLl9udW1iZXIgYXMgUGFydGlhbDxmaGlyLkZoaXJVbnNpZ25lZEludEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndGl0bGUnXSkgeyB0aGlzLnRpdGxlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS50aXRsZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGl0bGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50aXRsZSkgeyB0aGlzLnRpdGxlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3RpdGxlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fdGl0bGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdJbWFnaW5nU3R1ZHkuc2VyaWVzLmluc3RhbmNlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndWlkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzb3BDbGFzcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbnVtYmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0aXRsZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1hZ2luZ1N0dWR5U2VyaWVzIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEltYWdpbmdTdHVkeVNlcmllc0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFNlZSBbRElDT00gUFMzLjMgQy43LjNdKGh0dHA6Ly9kaWNvbS5uZW1hLm9yZy9tZWRpY2FsL2RpY29tL2N1cnJlbnQvb3V0cHV0L2NodG1sL3BhcnQwMy9zZWN0X0MuNy4zLmh0bWwpLlxyXG4gICAqL1xyXG4gIHVpZDogZmhpci5GaGlySWR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5LnNlcmllcy51aWRcclxuICAgKi9cclxuICBfdWlkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgbnVtZXJpYyBpZGVudGlmaWVyIG9mIHRoaXMgc2VyaWVzIGluIHRoZSBzdHVkeS5cclxuICAgKi9cclxuICBudW1iZXI/OiBmaGlyLkZoaXJVbnNpZ25lZEludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkuc2VyaWVzLm51bWJlclxyXG4gICAqL1xyXG4gIF9udW1iZXI/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtb2RhbGl0eSBvZiB0aGlzIHNlcmllcyBzZXF1ZW5jZS5cclxuICAgKi9cclxuICBtb2RhbGl0eTogZmhpci5Db2RpbmdBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgc2VyaWVzLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5zZXJpZXMuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE51bWJlciBvZiBTT1AgSW5zdGFuY2VzIGluIHRoZSBTdHVkeS4gVGhlIHZhbHVlIGdpdmVuIG1heSBiZSBsYXJnZXIgdGhhbiB0aGUgbnVtYmVyIG9mIGluc3RhbmNlIGVsZW1lbnRzIHRoaXMgcmVzb3VyY2UgY29udGFpbnMgZHVlIHRvIHJlc291cmNlIGF2YWlsYWJpbGl0eSwgc2VjdXJpdHksIG9yIG90aGVyIGZhY3RvcnMuIFRoaXMgZWxlbWVudCBzaG91bGQgYmUgcHJlc2VudCBpZiBhbnkgaW5zdGFuY2UgZWxlbWVudHMgYXJlIHByZXNlbnQuXHJcbiAgICovXHJcbiAgbnVtYmVyT2ZJbnN0YW5jZXM/OiBmaGlyLkZoaXJVbnNpZ25lZEludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkuc2VyaWVzLm51bWJlck9mSW5zdGFuY2VzXHJcbiAgICovXHJcbiAgX251bWJlck9mSW5zdGFuY2VzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUeXBpY2FsIGVuZHBvaW50IHR5cGVzIGluY2x1ZGUgRElDT00gV0FETy1SUywgd2hpY2ggaXMgdXNlZCB0byByZXRyaWV2ZSBESUNPTSBpbnN0YW5jZXMgaW4gbmF0aXZlIG9yIHJlbmRlcmVkIChlLmcuLCBKUEcsIFBORykgZm9ybWF0cyB1c2luZyBhIFJFU1RmdWwgQVBJOyBESUNPTSBXQURPLVVSSSwgd2hpY2ggY2FuIHNpbWlsYXJseSByZXRyaWV2ZSBuYXRpdmUgb3IgcmVuZGVyZWQgaW5zdGFuY2VzLCBleGNlcHQgdXNpbmcgYW4gSFRUUCBxdWVyeS1iYXNlZCBhcHByb2FjaDsgYW5kIERJQ09NIFFJRE8tUlMsIHdoaWNoIGFsbG93cyBSRVNUZnVsIHF1ZXJ5IGZvciBESUNPTSBpbmZvcm1hdGlvbiB3aXRob3V0IHJldHJpZXZpbmcgdGhlIGFjdHVhbCBpbnN0YW5jZXMuXHJcbiAgICovXHJcbiAgZW5kcG9pbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFuYXRvbWljIHN0cnVjdHVyZXMgZXhhbWluZWQuIFNlZSBESUNPTSBQYXJ0IDE2IEFubmV4IEwgKGh0dHA6Ly9kaWNvbS5uZW1hLm9yZy9tZWRpY2FsL2RpY29tL2N1cnJlbnQvb3V0cHV0L2NodG1sL3BhcnQxNi9jaGFwdGVyX0wuaHRtbCkgZm9yIERJQ09NIHRvIFNOT01FRC1DVCBtYXBwaW5ncy4gVGhlIGJvZHlTaXRlIG1heSBpbmRpY2F0ZSB0aGUgbGF0ZXJhbGl0eSBvZiBib2R5IHBhcnQgaW1hZ2VkOyBpZiBzbywgaXQgc2hhbGwgYmUgY29uc2lzdGVudCB3aXRoIGFueSBjb250ZW50IG9mIEltYWdpbmdTdHVkeS5zZXJpZXMubGF0ZXJhbGl0eS5cclxuICAgKi9cclxuICBib2R5U2l0ZT86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxhdGVyYWxpdHkgb2YgdGhlIChwb3NzaWJseSBwYWlyZWQpIGFuYXRvbWljIHN0cnVjdHVyZXMgZXhhbWluZWQuIEUuZy4sIHRoZSBsZWZ0IGtuZWUsIGJvdGggbHVuZ3MsIG9yIHVucGFpcmVkIGFiZG9tZW4uIElmIHByZXNlbnQsIHNoYWxsIGJlIGNvbnNpc3RlbnQgd2l0aCBhbnkgbGF0ZXJhbGl0eSBpbmZvcm1hdGlvbiBpbmRpY2F0ZWQgaW4gSW1hZ2luZ1N0dWR5LnNlcmllcy5ib2R5U2l0ZS5cclxuICAgKi9cclxuICBsYXRlcmFsaXR5PzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2ltZW4gaW1hZ2VkLCBlLmcuLCBmb3Igd2hvbGUgc2xpZGUgaW1hZ2luZyBvZiBhIGJpb3BzeS5cclxuICAgKi9cclxuICBzcGVjaW1lbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhbmQgdGltZSB0aGUgc2VyaWVzIHdhcyBzdGFydGVkLlxyXG4gICAqL1xyXG4gIHN0YXJ0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkuc2VyaWVzLnN0YXJ0ZWRcclxuICAgKi9cclxuICBfc3RhcnRlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHBlcnNvbiB3aG8gcGVyZm9ybWVkIHRoZSBzZXJpZXMgaXMgbm90IGtub3duLCB0aGVpciBPcmdhbml6YXRpb24gbWF5IGJlIHJlY29yZGVkLiBBIHBhdGllbnQsIG9yIHJlbGF0ZWQgcGVyc29uLCBtYXkgYmUgdGhlIHBlcmZvcm1lciwgZS5nLiBmb3IgcGF0aWVudC1jYXB0dXJlZCBpbWFnZXMuXHJcbiAgICovXHJcbiAgcGVyZm9ybWVyPzogZmhpci5JbWFnaW5nU3R1ZHlTZXJpZXNQZXJmb3JtZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc2luZ2xlIFNPUCBpbnN0YW5jZSB3aXRoaW4gdGhlIHNlcmllcywgZS5nLiBhbiBpbWFnZSwgb3IgcHJlc2VudGF0aW9uIHN0YXRlLlxyXG4gICAqL1xyXG4gIGluc3RhbmNlPzogZmhpci5JbWFnaW5nU3R1ZHlTZXJpZXNJbnN0YW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFYWNoIHN0dWR5IGhhcyBvbmUgb3IgbW9yZSBzZXJpZXMgb2YgaW1hZ2VzIG9yIG90aGVyIGNvbnRlbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW1hZ2luZ1N0dWR5U2VyaWVzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSW1hZ2luZ1N0dWR5U2VyaWVzJztcclxuICAvKipcclxuICAgKiBTZWUgW0RJQ09NIFBTMy4zIEMuNy4zXShodHRwOi8vZGljb20ubmVtYS5vcmcvbWVkaWNhbC9kaWNvbS9jdXJyZW50L291dHB1dC9jaHRtbC9wYXJ0MDMvc2VjdF9DLjcuMy5odG1sKS5cclxuICAgKi9cclxuICBwdWJsaWMgdWlkOiBmaGlyLkZoaXJJZHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1lcmljIGlkZW50aWZpZXIgb2YgdGhpcyBzZXJpZXMgaW4gdGhlIHN0dWR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBudW1iZXI/OiBmaGlyLkZoaXJVbnNpZ25lZEludHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vZGFsaXR5IG9mIHRoaXMgc2VyaWVzIHNlcXVlbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RhbGl0eTogZmhpci5Db2Rpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHRoZSBzZXJpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOdW1iZXIgb2YgU09QIEluc3RhbmNlcyBpbiB0aGUgU3R1ZHkuIFRoZSB2YWx1ZSBnaXZlbiBtYXkgYmUgbGFyZ2VyIHRoYW4gdGhlIG51bWJlciBvZiBpbnN0YW5jZSBlbGVtZW50cyB0aGlzIHJlc291cmNlIGNvbnRhaW5zIGR1ZSB0byByZXNvdXJjZSBhdmFpbGFiaWxpdHksIHNlY3VyaXR5LCBvciBvdGhlciBmYWN0b3JzLiBUaGlzIGVsZW1lbnQgc2hvdWxkIGJlIHByZXNlbnQgaWYgYW55IGluc3RhbmNlIGVsZW1lbnRzIGFyZSBwcmVzZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBudW1iZXJPZkluc3RhbmNlcz86IGZoaXIuRmhpclVuc2lnbmVkSW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsIGVuZHBvaW50IHR5cGVzIGluY2x1ZGUgRElDT00gV0FETy1SUywgd2hpY2ggaXMgdXNlZCB0byByZXRyaWV2ZSBESUNPTSBpbnN0YW5jZXMgaW4gbmF0aXZlIG9yIHJlbmRlcmVkIChlLmcuLCBKUEcsIFBORykgZm9ybWF0cyB1c2luZyBhIFJFU1RmdWwgQVBJOyBESUNPTSBXQURPLVVSSSwgd2hpY2ggY2FuIHNpbWlsYXJseSByZXRyaWV2ZSBuYXRpdmUgb3IgcmVuZGVyZWQgaW5zdGFuY2VzLCBleGNlcHQgdXNpbmcgYW4gSFRUUCBxdWVyeS1iYXNlZCBhcHByb2FjaDsgYW5kIERJQ09NIFFJRE8tUlMsIHdoaWNoIGFsbG93cyBSRVNUZnVsIHF1ZXJ5IGZvciBESUNPTSBpbmZvcm1hdGlvbiB3aXRob3V0IHJldHJpZXZpbmcgdGhlIGFjdHVhbCBpbnN0YW5jZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGVuZHBvaW50OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbmF0b21pYyBzdHJ1Y3R1cmVzIGV4YW1pbmVkLiBTZWUgRElDT00gUGFydCAxNiBBbm5leCBMIChodHRwOi8vZGljb20ubmVtYS5vcmcvbWVkaWNhbC9kaWNvbS9jdXJyZW50L291dHB1dC9jaHRtbC9wYXJ0MTYvY2hhcHRlcl9MLmh0bWwpIGZvciBESUNPTSB0byBTTk9NRUQtQ1QgbWFwcGluZ3MuIFRoZSBib2R5U2l0ZSBtYXkgaW5kaWNhdGUgdGhlIGxhdGVyYWxpdHkgb2YgYm9keSBwYXJ0IGltYWdlZDsgaWYgc28sIGl0IHNoYWxsIGJlIGNvbnNpc3RlbnQgd2l0aCBhbnkgY29udGVudCBvZiBJbWFnaW5nU3R1ZHkuc2VyaWVzLmxhdGVyYWxpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGJvZHlTaXRlPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsYXRlcmFsaXR5IG9mIHRoZSAocG9zc2libHkgcGFpcmVkKSBhbmF0b21pYyBzdHJ1Y3R1cmVzIGV4YW1pbmVkLiBFLmcuLCB0aGUgbGVmdCBrbmVlLCBib3RoIGx1bmdzLCBvciB1bnBhaXJlZCBhYmRvbWVuLiBJZiBwcmVzZW50LCBzaGFsbCBiZSBjb25zaXN0ZW50IHdpdGggYW55IGxhdGVyYWxpdHkgaW5mb3JtYXRpb24gaW5kaWNhdGVkIGluIEltYWdpbmdTdHVkeS5zZXJpZXMuYm9keVNpdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGxhdGVyYWxpdHk/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpbWVuIGltYWdlZCwgZS5nLiwgZm9yIHdob2xlIHNsaWRlIGltYWdpbmcgb2YgYSBiaW9wc3kuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpbWVuOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIHRoZSBzZXJpZXMgd2FzIHN0YXJ0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXJ0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHBlcnNvbiB3aG8gcGVyZm9ybWVkIHRoZSBzZXJpZXMgaXMgbm90IGtub3duLCB0aGVpciBPcmdhbml6YXRpb24gbWF5IGJlIHJlY29yZGVkLiBBIHBhdGllbnQsIG9yIHJlbGF0ZWQgcGVyc29uLCBtYXkgYmUgdGhlIHBlcmZvcm1lciwgZS5nLiBmb3IgcGF0aWVudC1jYXB0dXJlZCBpbWFnZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmZvcm1lcjogZmhpci5JbWFnaW5nU3R1ZHlTZXJpZXNQZXJmb3JtZXJbXTtcclxuICAvKipcclxuICAgKiBBIHNpbmdsZSBTT1AgaW5zdGFuY2Ugd2l0aGluIHRoZSBzZXJpZXMsIGUuZy4gYW4gaW1hZ2UsIG9yIHByZXNlbnRhdGlvbiBzdGF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdGFuY2U6IGZoaXIuSW1hZ2luZ1N0dWR5U2VyaWVzSW5zdGFuY2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbWFnaW5nU3R1ZHlTZXJpZXMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbWFnaW5nU3R1ZHlTZXJpZXNBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndWlkJ10pIHsgdGhpcy51aWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2UudWlkfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnVpZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ191aWQnXSkge1xyXG4gICAgICBpZiAodGhpcy51aWQpIHsgdGhpcy51aWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdWlkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudWlkID0gbmV3IGZoaXIuRmhpcklkKHNvdXJjZS5fdWlkIGFzIFBhcnRpYWw8Zmhpci5GaGlySWRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ251bWJlciddKSB7IHRoaXMubnVtYmVyID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHt2YWx1ZTogc291cmNlLm51bWJlcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbnVtYmVyJ10pIHtcclxuICAgICAgaWYgKHRoaXMubnVtYmVyKSB7IHRoaXMubnVtYmVyLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX251bWJlciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm51bWJlciA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludChzb3VyY2UuX251bWJlciBhcyBQYXJ0aWFsPGZoaXIuRmhpclVuc2lnbmVkSW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtb2RhbGl0eSddKSB7IHRoaXMubW9kYWxpdHkgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLm1vZGFsaXR5KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kYWxpdHkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbnVtYmVyT2ZJbnN0YW5jZXMnXSkgeyB0aGlzLm51bWJlck9mSW5zdGFuY2VzID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHt2YWx1ZTogc291cmNlLm51bWJlck9mSW5zdGFuY2VzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19udW1iZXJPZkluc3RhbmNlcyddKSB7XHJcbiAgICAgIGlmICh0aGlzLm51bWJlck9mSW5zdGFuY2VzKSB7IHRoaXMubnVtYmVyT2ZJbnN0YW5jZXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbnVtYmVyT2ZJbnN0YW5jZXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5udW1iZXJPZkluc3RhbmNlcyA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludChzb3VyY2UuX251bWJlck9mSW5zdGFuY2VzIGFzIFBhcnRpYWw8Zmhpci5GaGlyVW5zaWduZWRJbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2VuZHBvaW50J10pIHsgdGhpcy5lbmRwb2ludCA9IHNvdXJjZS5lbmRwb2ludC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVuZHBvaW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2JvZHlTaXRlJ10pIHsgdGhpcy5ib2R5U2l0ZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UuYm9keVNpdGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydsYXRlcmFsaXR5J10pIHsgdGhpcy5sYXRlcmFsaXR5ID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5sYXRlcmFsaXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3BlY2ltZW4nXSkgeyB0aGlzLnNwZWNpbWVuID0gc291cmNlLnNwZWNpbWVuLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3BlY2ltZW4gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhcnRlZCddKSB7IHRoaXMuc3RhcnRlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5zdGFydGVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGFydGVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhcnRlZCkgeyB0aGlzLnN0YXJ0ZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhcnRlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXJ0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9zdGFydGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmZvcm1lciddKSB7IHRoaXMucGVyZm9ybWVyID0gc291cmNlLnBlcmZvcm1lci5tYXAoKHgpID0+IG5ldyBmaGlyLkltYWdpbmdTdHVkeVNlcmllc1BlcmZvcm1lcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcmZvcm1lciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnN0YW5jZSddKSB7IHRoaXMuaW5zdGFuY2UgPSBzb3VyY2UuaW5zdGFuY2UubWFwKCh4KSA9PiBuZXcgZmhpci5JbWFnaW5nU3R1ZHlTZXJpZXNJbnN0YW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluc3RhbmNlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdJbWFnaW5nU3R1ZHkuc2VyaWVzJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndWlkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdudW1iZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ21vZGFsaXR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbnVtYmVyT2ZJbnN0YW5jZXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2VuZHBvaW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdib2R5U2l0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbGF0ZXJhbGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3BlY2ltZW4nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3N0YXJ0ZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BlcmZvcm1lcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaW5zdGFuY2UnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEltYWdpbmdTdHVkeSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbWFnaW5nU3R1ZHlBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJJbWFnaW5nU3R1ZHlcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2VlIGRpc2N1c3Npb24gdW5kZXIgW0ltYWdpbmcgU3R1ZHkgSW1wbGVtZW50YXRpb24gTm90ZXNdKGltYWdpbmdzdHVkeS5odG1sI25vdGVzKSBmb3IgZW5jb2Rpbmcgb2YgRElDT00gU3R1ZHkgSW5zdGFuY2UgVUlELiBBY2Nlc3Npb24gTnVtYmVyIHNob3VsZCB1c2UgQUNTTiBJZGVudGlmaWVyIHR5cGUuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVW5rbm93biBkb2VzIG5vdCByZXByZXNlbnQgXCJvdGhlclwiIC0gb25lIG9mIHRoZSBkZWZpbmVkIHN0YXR1c2VzIG11c3QgYXBwbHkuICBVbmtub3duIGlzIHVzZWQgd2hlbiB0aGUgYXV0aG9yaW5nIHN5c3RlbSBpcyBub3Qgc3VyZSB3aGF0IHRoZSBjdXJyZW50IHN0YXR1cyBpcy5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8SW1hZ2luZ3N0dWR5U3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgYWxsIHRoZSBzZXJpZXMubW9kYWxpdHkgdmFsdWVzIHRoYXQgYXJlIGFjdHVhbCBhY3F1aXNpdGlvbiBtb2RhbGl0aWVzLCBpLmUuIHRob3NlIGluIHRoZSBESUNPTSBDb250ZXh0IEdyb3VwIDI5ICh2YWx1ZSBzZXQgT0lEIDEuMi44NDAuMTAwMDguNi4xLjE5KS5cclxuICAgKi9cclxuICBtb2RhbGl0eT86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBRQSBwaGFudG9tcyBjYW4gYmUgcmVjb3JkZWQgd2l0aCBhIERldmljZTsgbXVsdGlwbGUgc3ViamVjdHMgKHN1Y2ggYXMgbWljZSkgY2FuIGJlIHJlY29yZGVkIHdpdGggYSBHcm91cC5cclxuICAgKi9cclxuICBzdWJqZWN0OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIHdpbGwgdHlwaWNhbGx5IGJlIHRoZSBlbmNvdW50ZXIgdGhlIGV2ZW50IG9jY3VycmVkIHdpdGhpbiwgYnV0IHNvbWUgZXZlbnRzIG1heSBiZSBpbml0aWF0ZWQgcHJpb3IgdG8gb3IgYWZ0ZXIgdGhlIG9mZmljaWFsIGNvbXBsZXRpb24gb2YgYW4gZW5jb3VudGVyIGJ1dCBzdGlsbCBiZSB0aWVkIHRvIHRoZSBjb250ZXh0IG9mIHRoZSBlbmNvdW50ZXIgKGUuZy4gcHJlLWFkbWlzc2lvbiB0ZXN0KS5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERhdGUgYW5kIHRpbWUgdGhlIHN0dWR5IHN0YXJ0ZWQuXHJcbiAgICovXHJcbiAgc3RhcnRlZD86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5zdGFydGVkXHJcbiAgICovXHJcbiAgX3N0YXJ0ZWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgbGlzdCBvZiB0aGUgZGlhZ25vc3RpYyByZXF1ZXN0cyB0aGF0IHJlc3VsdGVkIGluIHRoaXMgaW1hZ2luZyBzdHVkeSBiZWluZyBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgYmFzZWRPbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVxdWVzdGluZy9yZWZlcnJpbmcgcGh5c2ljaWFuLlxyXG4gICAqL1xyXG4gIHJlZmVycmVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaG8gcmVhZCB0aGUgc3R1ZHkgYW5kIGludGVycHJldGVkIHRoZSBpbWFnZXMgb3Igb3RoZXIgY29udGVudC5cclxuICAgKi9cclxuICBpbnRlcnByZXRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsIGVuZHBvaW50IHR5cGVzIGluY2x1ZGUgRElDT00gV0FETy1SUywgd2hpY2ggaXMgdXNlZCB0byByZXRyaWV2ZSBESUNPTSBpbnN0YW5jZXMgaW4gbmF0aXZlIG9yIHJlbmRlcmVkIChlLmcuLCBKUEcsIFBORyksIGZvcm1hdHMgdXNpbmcgYSBSRVNUZnVsIEFQSTsgRElDT00gV0FETy1VUkksIHdoaWNoIGNhbiBzaW1pbGFybHkgcmV0cmlldmUgbmF0aXZlIG9yIHJlbmRlcmVkIGluc3RhbmNlcywgZXhjZXB0IHVzaW5nIGFuIEhUVFAgcXVlcnktYmFzZWQgYXBwcm9hY2g7IERJQ09NIFFJRE8tUlMsIHdoaWNoIGFsbG93cyBSRVNUZnVsIHF1ZXJ5IGZvciBESUNPTSBpbmZvcm1hdGlvbiB3aXRob3V0IHJldHJpZXZpbmcgdGhlIGFjdHVhbCBpbnN0YW5jZXM7IG9yIElIRSBJbnZva2UgSW1hZ2UgRGlzcGxheSAoSUlEKSwgd2hpY2ggcHJvdmlkZXMgc3RhbmRhcmQgaW52b2NhdGlvbiBvZiBhbiBpbWFnaW5nIHdlYiB2aWV3ZXIuXHJcbiAgICovXHJcbiAgZW5kcG9pbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTnVtYmVyIG9mIFNlcmllcyBpbiB0aGUgU3R1ZHkuIFRoaXMgdmFsdWUgZ2l2ZW4gbWF5IGJlIGxhcmdlciB0aGFuIHRoZSBudW1iZXIgb2Ygc2VyaWVzIGVsZW1lbnRzIHRoaXMgUmVzb3VyY2UgY29udGFpbnMgZHVlIHRvIHJlc291cmNlIGF2YWlsYWJpbGl0eSwgc2VjdXJpdHksIG9yIG90aGVyIGZhY3RvcnMuIFRoaXMgZWxlbWVudCBzaG91bGQgYmUgcHJlc2VudCBpZiBhbnkgc2VyaWVzIGVsZW1lbnRzIGFyZSBwcmVzZW50LlxyXG4gICAqL1xyXG4gIG51bWJlck9mU2VyaWVzPzogZmhpci5GaGlyVW5zaWduZWRJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5Lm51bWJlck9mU2VyaWVzXHJcbiAgICovXHJcbiAgX251bWJlck9mU2VyaWVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBOdW1iZXIgb2YgU09QIEluc3RhbmNlcyBpbiBTdHVkeS4gVGhpcyB2YWx1ZSBnaXZlbiBtYXkgYmUgbGFyZ2VyIHRoYW4gdGhlIG51bWJlciBvZiBpbnN0YW5jZSBlbGVtZW50cyB0aGlzIHJlc291cmNlIGNvbnRhaW5zIGR1ZSB0byByZXNvdXJjZSBhdmFpbGFiaWxpdHksIHNlY3VyaXR5LCBvciBvdGhlciBmYWN0b3JzLiBUaGlzIGVsZW1lbnQgc2hvdWxkIGJlIHByZXNlbnQgaWYgYW55IGluc3RhbmNlIGVsZW1lbnRzIGFyZSBwcmVzZW50LlxyXG4gICAqL1xyXG4gIG51bWJlck9mSW5zdGFuY2VzPzogZmhpci5GaGlyVW5zaWduZWRJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5Lm51bWJlck9mSW5zdGFuY2VzXHJcbiAgICovXHJcbiAgX251bWJlck9mSW5zdGFuY2VzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcHJvY2VkdXJlIHdoaWNoIHRoaXMgSW1hZ2luZ1N0dWR5IHdhcyBwYXJ0IG9mLlxyXG4gICAqL1xyXG4gIHByb2NlZHVyZVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGUgZm9yIHRoZSBwZXJmb3JtZWQgcHJvY2VkdXJlIHR5cGUuXHJcbiAgICovXHJcbiAgcHJvY2VkdXJlQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJpbmNpcGFsIHBoeXNpY2FsIGxvY2F0aW9uIHdoZXJlIHRoZSBJbWFnaW5nU3R1ZHkgd2FzIHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpcHRpb24gb2YgY2xpbmljYWwgY29uZGl0aW9uIGluZGljYXRpbmcgd2h5IHRoZSBJbWFnaW5nU3R1ZHkgd2FzIHJlcXVlc3RlZC5cclxuICAgKi9cclxuICByZWFzb25Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyBhbm90aGVyIHJlc291cmNlIHdob3NlIGV4aXN0ZW5jZSBqdXN0aWZpZXMgdGhpcyBTdHVkeS5cclxuICAgKi9cclxuICByZWFzb25SZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGVyIHRoZSByZWNvbW1lbmRlZCBESUNPTSBtYXBwaW5nLCB0aGlzIGVsZW1lbnQgaXMgZGVyaXZlZCBmcm9tIHRoZSBTdHVkeSBEZXNjcmlwdGlvbiBhdHRyaWJ1dGUgKDAwMDgsMTAzMCkuIE9ic2VydmF0aW9ucyBvciBmaW5kaW5ncyBhYm91dCB0aGUgaW1hZ2luZyBzdHVkeSBzaG91bGQgYmUgcmVjb3JkZWQgaW4gYW5vdGhlciByZXNvdXJjZSwgZS5nLiBPYnNlcnZhdGlvbiwgYW5kIG5vdCBpbiB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIEltYWdpbmcgTWFuYWdlciBkZXNjcmlwdGlvbiBvZiB0aGUgc3R1ZHkuIEluc3RpdHV0aW9uLWdlbmVyYXRlZCBkZXNjcmlwdGlvbiBvciBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgU3R1ZHkgKGNvbXBvbmVudCkgcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRWFjaCBzdHVkeSBoYXMgb25lIG9yIG1vcmUgc2VyaWVzIG9mIGltYWdlcyBvciBvdGhlciBjb250ZW50LlxyXG4gICAqL1xyXG4gIHNlcmllcz86IGZoaXIuSW1hZ2luZ1N0dWR5U2VyaWVzQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb250ZW50IHByb2R1Y2VkIGluIGEgRElDT00gaW1hZ2luZyBzdHVkeS4gQSBzdHVkeSBjb21wcmlzZXMgYSBzZXQgb2Ygc2VyaWVzLCBlYWNoIG9mIHdoaWNoIGluY2x1ZGVzIGEgc2V0IG9mIFNlcnZpY2UtT2JqZWN0IFBhaXIgSW5zdGFuY2VzIChTT1AgSW5zdGFuY2VzIC0gaW1hZ2VzIG9yIG90aGVyIGRhdGEpIGFjcXVpcmVkIG9yIHByb2R1Y2VkIGluIGEgY29tbW9uIGNvbnRleHQuICBBIHNlcmllcyBpcyBvZiBvbmx5IG9uZSBtb2RhbGl0eSAoZS5nLiBYLXJheSwgQ1QsIE1SLCB1bHRyYXNvdW5kKSwgYnV0IGEgc3R1ZHkgbWF5IGhhdmUgbXVsdGlwbGUgc2VyaWVzIG9mIGRpZmZlcmVudCBtb2RhbGl0aWVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEltYWdpbmdTdHVkeSBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSW1hZ2luZ1N0dWR5JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkltYWdpbmdTdHVkeVwiO1xyXG4gIC8qKlxyXG4gICAqIFNlZSBkaXNjdXNzaW9uIHVuZGVyIFtJbWFnaW5nIFN0dWR5IEltcGxlbWVudGF0aW9uIE5vdGVzXShpbWFnaW5nc3R1ZHkuaHRtbCNub3RlcykgZm9yIGVuY29kaW5nIG9mIERJQ09NIFN0dWR5IEluc3RhbmNlIFVJRC4gQWNjZXNzaW9uIE51bWJlciBzaG91bGQgdXNlIEFDU04gSWRlbnRpZmllciB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBVbmtub3duIGRvZXMgbm90IHJlcHJlc2VudCBcIm90aGVyXCIgLSBvbmUgb2YgdGhlIGRlZmluZWQgc3RhdHVzZXMgbXVzdCBhcHBseS4gIFVua25vd24gaXMgdXNlZCB3aGVuIHRoZSBhdXRob3Jpbmcgc3lzdGVtIGlzIG5vdCBzdXJlIHdoYXQgdGhlIGN1cnJlbnQgc3RhdHVzIGlzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8SW1hZ2luZ3N0dWR5U3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIGFsbCB0aGUgc2VyaWVzLm1vZGFsaXR5IHZhbHVlcyB0aGF0IGFyZSBhY3R1YWwgYWNxdWlzaXRpb24gbW9kYWxpdGllcywgaS5lLiB0aG9zZSBpbiB0aGUgRElDT00gQ29udGV4dCBHcm91cCAyOSAodmFsdWUgc2V0IE9JRCAxLjIuODQwLjEwMDA4LjYuMS4xOSkuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGFsaXR5OiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFFBIHBoYW50b21zIGNhbiBiZSByZWNvcmRlZCB3aXRoIGEgRGV2aWNlOyBtdWx0aXBsZSBzdWJqZWN0cyAoc3VjaCBhcyBtaWNlKSBjYW4gYmUgcmVjb3JkZWQgd2l0aCBhIEdyb3VwLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0OiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgd2lsbCB0eXBpY2FsbHkgYmUgdGhlIGVuY291bnRlciB0aGUgZXZlbnQgb2NjdXJyZWQgd2l0aGluLCBidXQgc29tZSBldmVudHMgbWF5IGJlIGluaXRpYXRlZCBwcmlvciB0byBvciBhZnRlciB0aGUgb2ZmaWNpYWwgY29tcGxldGlvbiBvZiBhbiBlbmNvdW50ZXIgYnV0IHN0aWxsIGJlIHRpZWQgdG8gdGhlIGNvbnRleHQgb2YgdGhlIGVuY291bnRlciAoZS5nLiBwcmUtYWRtaXNzaW9uIHRlc3QpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSBhbmQgdGltZSB0aGUgc3R1ZHkgc3RhcnRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhcnRlZD86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgdGhlIGRpYWdub3N0aWMgcmVxdWVzdHMgdGhhdCByZXN1bHRlZCBpbiB0aGlzIGltYWdpbmcgc3R1ZHkgYmVpbmcgcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBiYXNlZE9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXF1ZXN0aW5nL3JlZmVycmluZyBwaHlzaWNpYW4uXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVycmVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdobyByZWFkIHRoZSBzdHVkeSBhbmQgaW50ZXJwcmV0ZWQgdGhlIGltYWdlcyBvciBvdGhlciBjb250ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnRlcnByZXRlcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUeXBpY2FsIGVuZHBvaW50IHR5cGVzIGluY2x1ZGUgRElDT00gV0FETy1SUywgd2hpY2ggaXMgdXNlZCB0byByZXRyaWV2ZSBESUNPTSBpbnN0YW5jZXMgaW4gbmF0aXZlIG9yIHJlbmRlcmVkIChlLmcuLCBKUEcsIFBORyksIGZvcm1hdHMgdXNpbmcgYSBSRVNUZnVsIEFQSTsgRElDT00gV0FETy1VUkksIHdoaWNoIGNhbiBzaW1pbGFybHkgcmV0cmlldmUgbmF0aXZlIG9yIHJlbmRlcmVkIGluc3RhbmNlcywgZXhjZXB0IHVzaW5nIGFuIEhUVFAgcXVlcnktYmFzZWQgYXBwcm9hY2g7IERJQ09NIFFJRE8tUlMsIHdoaWNoIGFsbG93cyBSRVNUZnVsIHF1ZXJ5IGZvciBESUNPTSBpbmZvcm1hdGlvbiB3aXRob3V0IHJldHJpZXZpbmcgdGhlIGFjdHVhbCBpbnN0YW5jZXM7IG9yIElIRSBJbnZva2UgSW1hZ2UgRGlzcGxheSAoSUlEKSwgd2hpY2ggcHJvdmlkZXMgc3RhbmRhcmQgaW52b2NhdGlvbiBvZiBhbiBpbWFnaW5nIHdlYiB2aWV3ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGVuZHBvaW50OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIE51bWJlciBvZiBTZXJpZXMgaW4gdGhlIFN0dWR5LiBUaGlzIHZhbHVlIGdpdmVuIG1heSBiZSBsYXJnZXIgdGhhbiB0aGUgbnVtYmVyIG9mIHNlcmllcyBlbGVtZW50cyB0aGlzIFJlc291cmNlIGNvbnRhaW5zIGR1ZSB0byByZXNvdXJjZSBhdmFpbGFiaWxpdHksIHNlY3VyaXR5LCBvciBvdGhlciBmYWN0b3JzLiBUaGlzIGVsZW1lbnQgc2hvdWxkIGJlIHByZXNlbnQgaWYgYW55IHNlcmllcyBlbGVtZW50cyBhcmUgcHJlc2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgbnVtYmVyT2ZTZXJpZXM/OiBmaGlyLkZoaXJVbnNpZ25lZEludHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTnVtYmVyIG9mIFNPUCBJbnN0YW5jZXMgaW4gU3R1ZHkuIFRoaXMgdmFsdWUgZ2l2ZW4gbWF5IGJlIGxhcmdlciB0aGFuIHRoZSBudW1iZXIgb2YgaW5zdGFuY2UgZWxlbWVudHMgdGhpcyByZXNvdXJjZSBjb250YWlucyBkdWUgdG8gcmVzb3VyY2UgYXZhaWxhYmlsaXR5LCBzZWN1cml0eSwgb3Igb3RoZXIgZmFjdG9ycy4gVGhpcyBlbGVtZW50IHNob3VsZCBiZSBwcmVzZW50IGlmIGFueSBpbnN0YW5jZSBlbGVtZW50cyBhcmUgcHJlc2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgbnVtYmVyT2ZJbnN0YW5jZXM/OiBmaGlyLkZoaXJVbnNpZ25lZEludHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2NlZHVyZSB3aGljaCB0aGlzIEltYWdpbmdTdHVkeSB3YXMgcGFydCBvZi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvY2VkdXJlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlIGZvciB0aGUgcGVyZm9ybWVkIHByb2NlZHVyZSB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9jZWR1cmVDb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmluY2lwYWwgcGh5c2ljYWwgbG9jYXRpb24gd2hlcmUgdGhlIEltYWdpbmdTdHVkeSB3YXMgcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmlwdGlvbiBvZiBjbGluaWNhbCBjb25kaXRpb24gaW5kaWNhdGluZyB3aHkgdGhlIEltYWdpbmdTdHVkeSB3YXMgcmVxdWVzdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb25Db2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyBhbm90aGVyIHJlc291cmNlIHdob3NlIGV4aXN0ZW5jZSBqdXN0aWZpZXMgdGhpcyBTdHVkeS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uUmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFBlciB0aGUgcmVjb21tZW5kZWQgRElDT00gbWFwcGluZywgdGhpcyBlbGVtZW50IGlzIGRlcml2ZWQgZnJvbSB0aGUgU3R1ZHkgRGVzY3JpcHRpb24gYXR0cmlidXRlICgwMDA4LDEwMzApLiBPYnNlcnZhdGlvbnMgb3IgZmluZGluZ3MgYWJvdXQgdGhlIGltYWdpbmcgc3R1ZHkgc2hvdWxkIGJlIHJlY29yZGVkIGluIGFub3RoZXIgcmVzb3VyY2UsIGUuZy4gT2JzZXJ2YXRpb24sIGFuZCBub3QgaW4gdGhpcyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlOiBmaGlyLkFubm90YXRpb25bXTtcclxuICAvKipcclxuICAgKiBUaGUgSW1hZ2luZyBNYW5hZ2VyIGRlc2NyaXB0aW9uIG9mIHRoZSBzdHVkeS4gSW5zdGl0dXRpb24tZ2VuZXJhdGVkIGRlc2NyaXB0aW9uIG9yIGNsYXNzaWZpY2F0aW9uIG9mIHRoZSBTdHVkeSAoY29tcG9uZW50KSBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFYWNoIHN0dWR5IGhhcyBvbmUgb3IgbW9yZSBzZXJpZXMgb2YgaW1hZ2VzIG9yIG90aGVyIGNvbnRlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcmllczogZmhpci5JbWFnaW5nU3R1ZHlTZXJpZXNbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbWFnaW5nU3R1ZHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbWFnaW5nU3R1ZHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnSW1hZ2luZ1N0dWR5JztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8SW1hZ2luZ3N0dWR5U3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEltYWdpbmdzdHVkeVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kYWxpdHknXSkgeyB0aGlzLm1vZGFsaXR5ID0gc291cmNlLm1vZGFsaXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kYWxpdHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1YmplY3QgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydlbmNvdW50ZXInXSkgeyB0aGlzLmVuY291bnRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZW5jb3VudGVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhcnRlZCddKSB7IHRoaXMuc3RhcnRlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5zdGFydGVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGFydGVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhcnRlZCkgeyB0aGlzLnN0YXJ0ZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhcnRlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXJ0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9zdGFydGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Jhc2VkT24nXSkgeyB0aGlzLmJhc2VkT24gPSBzb3VyY2UuYmFzZWRPbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmJhc2VkT24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJyZXInXSkgeyB0aGlzLnJlZmVycmVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWZlcnJlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVycHJldGVyJ10pIHsgdGhpcy5pbnRlcnByZXRlciA9IHNvdXJjZS5pbnRlcnByZXRlci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmludGVycHJldGVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuZHBvaW50J10pIHsgdGhpcy5lbmRwb2ludCA9IHNvdXJjZS5lbmRwb2ludC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVuZHBvaW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ251bWJlck9mU2VyaWVzJ10pIHsgdGhpcy5udW1iZXJPZlNlcmllcyA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludCh7dmFsdWU6IHNvdXJjZS5udW1iZXJPZlNlcmllc30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbnVtYmVyT2ZTZXJpZXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5udW1iZXJPZlNlcmllcykgeyB0aGlzLm51bWJlck9mU2VyaWVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX251bWJlck9mU2VyaWVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubnVtYmVyT2ZTZXJpZXMgPSBuZXcgZmhpci5GaGlyVW5zaWduZWRJbnQoc291cmNlLl9udW1iZXJPZlNlcmllcyBhcyBQYXJ0aWFsPGZoaXIuRmhpclVuc2lnbmVkSW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydudW1iZXJPZkluc3RhbmNlcyddKSB7IHRoaXMubnVtYmVyT2ZJbnN0YW5jZXMgPSBuZXcgZmhpci5GaGlyVW5zaWduZWRJbnQoe3ZhbHVlOiBzb3VyY2UubnVtYmVyT2ZJbnN0YW5jZXN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX251bWJlck9mSW5zdGFuY2VzJ10pIHtcclxuICAgICAgaWYgKHRoaXMubnVtYmVyT2ZJbnN0YW5jZXMpIHsgdGhpcy5udW1iZXJPZkluc3RhbmNlcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9udW1iZXJPZkluc3RhbmNlcyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm51bWJlck9mSW5zdGFuY2VzID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHNvdXJjZS5fbnVtYmVyT2ZJbnN0YW5jZXMgYXMgUGFydGlhbDxmaGlyLkZoaXJVbnNpZ25lZEludEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvY2VkdXJlUmVmZXJlbmNlJ10pIHsgdGhpcy5wcm9jZWR1cmVSZWZlcmVuY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnByb2NlZHVyZVJlZmVyZW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2NlZHVyZUNvZGUnXSkgeyB0aGlzLnByb2NlZHVyZUNvZGUgPSBzb3VyY2UucHJvY2VkdXJlQ29kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2NlZHVyZUNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbG9jYXRpb24nXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5sb2NhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbkNvZGUnXSkgeyB0aGlzLnJlYXNvbkNvZGUgPSBzb3VyY2UucmVhc29uQ29kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlYXNvbkNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uUmVmZXJlbmNlJ10pIHsgdGhpcy5yZWFzb25SZWZlcmVuY2UgPSBzb3VyY2UucmVhc29uUmVmZXJlbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVhc29uUmVmZXJlbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZXJpZXMnXSkgeyB0aGlzLnNlcmllcyA9IHNvdXJjZS5zZXJpZXMubWFwKCh4KSA9PiBuZXcgZmhpci5JbWFnaW5nU3R1ZHlTZXJpZXMoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXJpZXMgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0ltYWdpbmdTdHVkeScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlBTKCdyZXNvdXJjZVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnSW1hZ2luZ3N0dWR5U3RhdHVzJyxJbWFnaW5nc3R1ZHlTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbW9kYWxpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3N1YmplY3QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2VuY291bnRlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3RhcnRlZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYmFzZWRPbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVmZXJyZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2ludGVycHJldGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdlbmRwb2ludCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbnVtYmVyT2ZTZXJpZXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ251bWJlck9mSW5zdGFuY2VzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwcm9jZWR1cmVSZWZlcmVuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3Byb2NlZHVyZUNvZGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2xvY2F0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdyZWFzb25Db2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdyZWFzb25SZWZlcmVuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ25vdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzZXJpZXMnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19