// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: MolecularSequence
import * as fhir from '../fhir.js';
// @ts-ignore
import { OrientationTypeVsValidation } from '../fhirValueSets/OrientationTypeVsValidation.js';
// @ts-ignore
import { StrandTypeVsValidation } from '../fhirValueSets/StrandTypeVsValidation.js';
// @ts-ignore
import { QualityTypeVsValidation } from '../fhirValueSets/QualityTypeVsValidation.js';
// @ts-ignore
import { RepositoryTypeVsValidation } from '../fhirValueSets/RepositoryTypeVsValidation.js';
// @ts-ignore
import { SequenceTypeVsValidation } from '../fhirValueSets/SequenceTypeVsValidation.js';
/**
 * A sequence that is used as a reference to describe variants that are present in a sequence analyzed.
 */
export class MolecularSequenceReferenceSeq extends fhir.BackboneElement {
    /**
     * Default constructor for MolecularSequenceReferenceSeq - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['chromosome']) {
            this.chromosome = new fhir.CodeableConcept(source.chromosome);
        }
        if (source['genomeBuild']) {
            this.genomeBuild = new fhir.FhirString({ value: source.genomeBuild });
        }
        if (source['_genomeBuild']) {
            if (this.genomeBuild) {
                this.genomeBuild.addExtendedProperties(source._genomeBuild);
            }
            else {
                this.genomeBuild = new fhir.FhirString(source._genomeBuild);
            }
        }
        if (source['orientation']) {
            this.orientation = new fhir.FhirCode({ value: source.orientation });
        }
        if (source['_orientation']) {
            if (this.orientation) {
                this.orientation.addExtendedProperties(source._orientation);
            }
            else {
                this.orientation = new fhir.FhirCode(source._orientation);
            }
        }
        if (source['referenceSeqId']) {
            this.referenceSeqId = new fhir.CodeableConcept(source.referenceSeqId);
        }
        if (source['referenceSeqPointer']) {
            this.referenceSeqPointer = new fhir.Reference(source.referenceSeqPointer);
        }
        if (source['referenceSeqString']) {
            this.referenceSeqString = new fhir.FhirString({ value: source.referenceSeqString });
        }
        if (source['_referenceSeqString']) {
            if (this.referenceSeqString) {
                this.referenceSeqString.addExtendedProperties(source._referenceSeqString);
            }
            else {
                this.referenceSeqString = new fhir.FhirString(source._referenceSeqString);
            }
        }
        if (source['strand']) {
            this.strand = new fhir.FhirCode({ value: source.strand });
        }
        if (source['_strand']) {
            if (this.strand) {
                this.strand.addExtendedProperties(source._strand);
            }
            else {
                this.strand = new fhir.FhirCode(source._strand);
            }
        }
        if (source['windowStart']) {
            this.windowStart = new fhir.FhirInteger({ value: source.windowStart });
        }
        if (source['_windowStart']) {
            if (this.windowStart) {
                this.windowStart.addExtendedProperties(source._windowStart);
            }
            else {
                this.windowStart = new fhir.FhirInteger(source._windowStart);
            }
        }
        if (source['windowEnd']) {
            this.windowEnd = new fhir.FhirInteger({ value: source.windowEnd });
        }
        if (source['_windowEnd']) {
            if (this.windowEnd) {
                this.windowEnd.addExtendedProperties(source._windowEnd);
            }
            else {
                this.windowEnd = new fhir.FhirInteger(source._windowEnd);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence.referenceSeq';
        }
        this.vOS('chromosome', exp);
        this.vOS('genomeBuild', exp);
        this.vOSV('orientation', exp, 'OrientationType', OrientationTypeVsValidation, 'r');
        this.vOS('referenceSeqId', exp);
        this.vOS('referenceSeqPointer', exp);
        this.vOS('referenceSeqString', exp);
        this.vOSV('strand', exp, 'StrandType', StrandTypeVsValidation, 'r');
        this.vOS('windowStart', exp);
        this.vOS('windowEnd', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequenceReferenceSeq._fts_dataType = 'MolecularSequenceReferenceSeq';
/**
 * The definition of variant here originates from Sequence ontology ([variant_of](http://www.sequenceontology.org/browser/current_svn/term/variant_of)). This element can represent amino acid or nucleic sequence change(including insertion,deletion,SNP,etc.)  It can represent some complex mutation or segment variation with the assist of CIGAR string.
 */
export class MolecularSequenceVariant extends fhir.BackboneElement {
    /**
     * Default constructor for MolecularSequenceVariant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['start']) {
            this.start = new fhir.FhirInteger({ value: source.start });
        }
        if (source['_start']) {
            if (this.start) {
                this.start.addExtendedProperties(source._start);
            }
            else {
                this.start = new fhir.FhirInteger(source._start);
            }
        }
        if (source['end']) {
            this.end = new fhir.FhirInteger({ value: source.end });
        }
        if (source['_end']) {
            if (this.end) {
                this.end.addExtendedProperties(source._end);
            }
            else {
                this.end = new fhir.FhirInteger(source._end);
            }
        }
        if (source['observedAllele']) {
            this.observedAllele = new fhir.FhirString({ value: source.observedAllele });
        }
        if (source['_observedAllele']) {
            if (this.observedAllele) {
                this.observedAllele.addExtendedProperties(source._observedAllele);
            }
            else {
                this.observedAllele = new fhir.FhirString(source._observedAllele);
            }
        }
        if (source['referenceAllele']) {
            this.referenceAllele = new fhir.FhirString({ value: source.referenceAllele });
        }
        if (source['_referenceAllele']) {
            if (this.referenceAllele) {
                this.referenceAllele.addExtendedProperties(source._referenceAllele);
            }
            else {
                this.referenceAllele = new fhir.FhirString(source._referenceAllele);
            }
        }
        if (source['cigar']) {
            this.cigar = new fhir.FhirString({ value: source.cigar });
        }
        if (source['_cigar']) {
            if (this.cigar) {
                this.cigar.addExtendedProperties(source._cigar);
            }
            else {
                this.cigar = new fhir.FhirString(source._cigar);
            }
        }
        if (source['variantPointer']) {
            this.variantPointer = new fhir.Reference(source.variantPointer);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence.variant';
        }
        this.vOS('start', exp);
        this.vOS('end', exp);
        this.vOS('observedAllele', exp);
        this.vOS('referenceAllele', exp);
        this.vOS('cigar', exp);
        this.vOS('variantPointer', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequenceVariant._fts_dataType = 'MolecularSequenceVariant';
/**
 * Receiver Operator Characteristic (ROC) Curve  to give sensitivity/specificity tradeoff.
 */
export class MolecularSequenceQualityRoc extends fhir.BackboneElement {
    /**
     * Default constructor for MolecularSequenceQualityRoc - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['score']) {
            this.score = source.score.map((x) => new fhir.FhirInteger({ value: x }));
        }
        else {
            this.score = [];
        }
        if (source['_score']) {
            source._score.forEach((x, i) => {
                if (this.score.length >= i) {
                    if (x) {
                        this.score[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.score.push(new fhir.FhirInteger(x));
                    }
                }
            });
        }
        if (source['numTP']) {
            this.numTP = source.numTP.map((x) => new fhir.FhirInteger({ value: x }));
        }
        else {
            this.numTP = [];
        }
        if (source['_numTP']) {
            source._numTP.forEach((x, i) => {
                if (this.numTP.length >= i) {
                    if (x) {
                        this.numTP[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.numTP.push(new fhir.FhirInteger(x));
                    }
                }
            });
        }
        if (source['numFP']) {
            this.numFP = source.numFP.map((x) => new fhir.FhirInteger({ value: x }));
        }
        else {
            this.numFP = [];
        }
        if (source['_numFP']) {
            source._numFP.forEach((x, i) => {
                if (this.numFP.length >= i) {
                    if (x) {
                        this.numFP[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.numFP.push(new fhir.FhirInteger(x));
                    }
                }
            });
        }
        if (source['numFN']) {
            this.numFN = source.numFN.map((x) => new fhir.FhirInteger({ value: x }));
        }
        else {
            this.numFN = [];
        }
        if (source['_numFN']) {
            source._numFN.forEach((x, i) => {
                if (this.numFN.length >= i) {
                    if (x) {
                        this.numFN[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.numFN.push(new fhir.FhirInteger(x));
                    }
                }
            });
        }
        if (source['precision']) {
            this.precision = source.precision.map((x) => new fhir.FhirDecimal({ value: x }));
        }
        else {
            this.precision = [];
        }
        if (source['_precision']) {
            source._precision.forEach((x, i) => {
                if (this.precision.length >= i) {
                    if (x) {
                        this.precision[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.precision.push(new fhir.FhirDecimal(x));
                    }
                }
            });
        }
        if (source['sensitivity']) {
            this.sensitivity = source.sensitivity.map((x) => new fhir.FhirDecimal({ value: x }));
        }
        else {
            this.sensitivity = [];
        }
        if (source['_sensitivity']) {
            source._sensitivity.forEach((x, i) => {
                if (this.sensitivity.length >= i) {
                    if (x) {
                        this.sensitivity[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.sensitivity.push(new fhir.FhirDecimal(x));
                    }
                }
            });
        }
        if (source['fMeasure']) {
            this.fMeasure = source.fMeasure.map((x) => new fhir.FhirDecimal({ value: x }));
        }
        else {
            this.fMeasure = [];
        }
        if (source['_fMeasure']) {
            source._fMeasure.forEach((x, i) => {
                if (this.fMeasure.length >= i) {
                    if (x) {
                        this.fMeasure[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.fMeasure.push(new fhir.FhirDecimal(x));
                    }
                }
            });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence.quality.roc';
        }
        this.vOA('score', exp);
        this.vOA('numTP', exp);
        this.vOA('numFP', exp);
        this.vOA('numFN', exp);
        this.vOA('precision', exp);
        this.vOA('sensitivity', exp);
        this.vOA('fMeasure', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequenceQualityRoc._fts_dataType = 'MolecularSequenceQualityRoc';
/**
 * An experimental feature attribute that defines the quality of the feature in a quantitative way, such as a phred quality score ([SO:0001686](http://www.sequenceontology.org/browser/current_svn/term/SO:0001686)).
 */
export class MolecularSequenceQuality extends fhir.BackboneElement {
    /**
     * Default constructor for MolecularSequenceQuality - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['standardSequence']) {
            this.standardSequence = new fhir.CodeableConcept(source.standardSequence);
        }
        if (source['start']) {
            this.start = new fhir.FhirInteger({ value: source.start });
        }
        if (source['_start']) {
            if (this.start) {
                this.start.addExtendedProperties(source._start);
            }
            else {
                this.start = new fhir.FhirInteger(source._start);
            }
        }
        if (source['end']) {
            this.end = new fhir.FhirInteger({ value: source.end });
        }
        if (source['_end']) {
            if (this.end) {
                this.end.addExtendedProperties(source._end);
            }
            else {
                this.end = new fhir.FhirInteger(source._end);
            }
        }
        if (source['score']) {
            this.score = new fhir.Quantity(source.score);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
        if (source['truthTP']) {
            this.truthTP = new fhir.FhirDecimal({ value: source.truthTP });
        }
        if (source['_truthTP']) {
            if (this.truthTP) {
                this.truthTP.addExtendedProperties(source._truthTP);
            }
            else {
                this.truthTP = new fhir.FhirDecimal(source._truthTP);
            }
        }
        if (source['queryTP']) {
            this.queryTP = new fhir.FhirDecimal({ value: source.queryTP });
        }
        if (source['_queryTP']) {
            if (this.queryTP) {
                this.queryTP.addExtendedProperties(source._queryTP);
            }
            else {
                this.queryTP = new fhir.FhirDecimal(source._queryTP);
            }
        }
        if (source['truthFN']) {
            this.truthFN = new fhir.FhirDecimal({ value: source.truthFN });
        }
        if (source['_truthFN']) {
            if (this.truthFN) {
                this.truthFN.addExtendedProperties(source._truthFN);
            }
            else {
                this.truthFN = new fhir.FhirDecimal(source._truthFN);
            }
        }
        if (source['queryFP']) {
            this.queryFP = new fhir.FhirDecimal({ value: source.queryFP });
        }
        if (source['_queryFP']) {
            if (this.queryFP) {
                this.queryFP.addExtendedProperties(source._queryFP);
            }
            else {
                this.queryFP = new fhir.FhirDecimal(source._queryFP);
            }
        }
        if (source['gtFP']) {
            this.gtFP = new fhir.FhirDecimal({ value: source.gtFP });
        }
        if (source['_gtFP']) {
            if (this.gtFP) {
                this.gtFP.addExtendedProperties(source._gtFP);
            }
            else {
                this.gtFP = new fhir.FhirDecimal(source._gtFP);
            }
        }
        if (source['precision']) {
            this.precision = new fhir.FhirDecimal({ value: source.precision });
        }
        if (source['_precision']) {
            if (this.precision) {
                this.precision.addExtendedProperties(source._precision);
            }
            else {
                this.precision = new fhir.FhirDecimal(source._precision);
            }
        }
        if (source['recall']) {
            this.recall = new fhir.FhirDecimal({ value: source.recall });
        }
        if (source['_recall']) {
            if (this.recall) {
                this.recall.addExtendedProperties(source._recall);
            }
            else {
                this.recall = new fhir.FhirDecimal(source._recall);
            }
        }
        if (source['fScore']) {
            this.fScore = new fhir.FhirDecimal({ value: source.fScore });
        }
        if (source['_fScore']) {
            if (this.fScore) {
                this.fScore.addExtendedProperties(source._fScore);
            }
            else {
                this.fScore = new fhir.FhirDecimal(source._fScore);
            }
        }
        if (source['roc']) {
            this.roc = new fhir.MolecularSequenceQualityRoc(source.roc);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence.quality';
        }
        this.vRSV('type', exp, 'QualityType', QualityTypeVsValidation, 'r');
        this.vOS('standardSequence', exp);
        this.vOS('start', exp);
        this.vOS('end', exp);
        this.vOS('score', exp);
        this.vOS('method', exp);
        this.vOS('truthTP', exp);
        this.vOS('queryTP', exp);
        this.vOS('truthFN', exp);
        this.vOS('queryFP', exp);
        this.vOS('gtFP', exp);
        this.vOS('precision', exp);
        this.vOS('recall', exp);
        this.vOS('fScore', exp);
        this.vOS('roc', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequenceQuality._fts_dataType = 'MolecularSequenceQuality';
/**
 * Configurations of the external repository. The repository shall store target's observedSeq or records related with target's observedSeq.
 */
export class MolecularSequenceRepository extends fhir.BackboneElement {
    /**
     * Default constructor for MolecularSequenceRepository - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['datasetId']) {
            this.datasetId = new fhir.FhirString({ value: source.datasetId });
        }
        if (source['_datasetId']) {
            if (this.datasetId) {
                this.datasetId.addExtendedProperties(source._datasetId);
            }
            else {
                this.datasetId = new fhir.FhirString(source._datasetId);
            }
        }
        if (source['variantsetId']) {
            this.variantsetId = new fhir.FhirString({ value: source.variantsetId });
        }
        if (source['_variantsetId']) {
            if (this.variantsetId) {
                this.variantsetId.addExtendedProperties(source._variantsetId);
            }
            else {
                this.variantsetId = new fhir.FhirString(source._variantsetId);
            }
        }
        if (source['readsetId']) {
            this.readsetId = new fhir.FhirString({ value: source.readsetId });
        }
        if (source['_readsetId']) {
            if (this.readsetId) {
                this.readsetId.addExtendedProperties(source._readsetId);
            }
            else {
                this.readsetId = new fhir.FhirString(source._readsetId);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence.repository';
        }
        this.vRSV('type', exp, 'RepositoryType', RepositoryTypeVsValidation, 'r');
        this.vOS('url', exp);
        this.vOS('name', exp);
        this.vOS('datasetId', exp);
        this.vOS('variantsetId', exp);
        this.vOS('readsetId', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequenceRepository._fts_dataType = 'MolecularSequenceRepository';
/**
 * Structural variant outer.
 */
export class MolecularSequenceStructureVariantOuter extends fhir.BackboneElement {
    /**
     * Default constructor for MolecularSequenceStructureVariantOuter - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['start']) {
            this.start = new fhir.FhirInteger({ value: source.start });
        }
        if (source['_start']) {
            if (this.start) {
                this.start.addExtendedProperties(source._start);
            }
            else {
                this.start = new fhir.FhirInteger(source._start);
            }
        }
        if (source['end']) {
            this.end = new fhir.FhirInteger({ value: source.end });
        }
        if (source['_end']) {
            if (this.end) {
                this.end.addExtendedProperties(source._end);
            }
            else {
                this.end = new fhir.FhirInteger(source._end);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence.structureVariant.outer';
        }
        this.vOS('start', exp);
        this.vOS('end', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequenceStructureVariantOuter._fts_dataType = 'MolecularSequenceStructureVariantOuter';
/**
 * Structural variant inner.
 */
export class MolecularSequenceStructureVariantInner extends fhir.BackboneElement {
    /**
     * Default constructor for MolecularSequenceStructureVariantInner - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['start']) {
            this.start = new fhir.FhirInteger({ value: source.start });
        }
        if (source['_start']) {
            if (this.start) {
                this.start.addExtendedProperties(source._start);
            }
            else {
                this.start = new fhir.FhirInteger(source._start);
            }
        }
        if (source['end']) {
            this.end = new fhir.FhirInteger({ value: source.end });
        }
        if (source['_end']) {
            if (this.end) {
                this.end.addExtendedProperties(source._end);
            }
            else {
                this.end = new fhir.FhirInteger(source._end);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence.structureVariant.inner';
        }
        this.vOS('start', exp);
        this.vOS('end', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequenceStructureVariantInner._fts_dataType = 'MolecularSequenceStructureVariantInner';
/**
 * Information about chromosome structure variation.
 */
export class MolecularSequenceStructureVariant extends fhir.BackboneElement {
    /**
     * Default constructor for MolecularSequenceStructureVariant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['variantType']) {
            this.variantType = new fhir.CodeableConcept(source.variantType);
        }
        if (source['exact']) {
            this.exact = new fhir.FhirBoolean({ value: source.exact });
        }
        if (source['_exact']) {
            if (this.exact) {
                this.exact.addExtendedProperties(source._exact);
            }
            else {
                this.exact = new fhir.FhirBoolean(source._exact);
            }
        }
        if (source['length']) {
            this.length = new fhir.FhirInteger({ value: source.length });
        }
        if (source['_length']) {
            if (this.length) {
                this.length.addExtendedProperties(source._length);
            }
            else {
                this.length = new fhir.FhirInteger(source._length);
            }
        }
        if (source['outer']) {
            this.outer = new fhir.MolecularSequenceStructureVariantOuter(source.outer);
        }
        if (source['inner']) {
            this.inner = new fhir.MolecularSequenceStructureVariantInner(source.inner);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence.structureVariant';
        }
        this.vOS('variantType', exp);
        this.vOS('exact', exp);
        this.vOS('length', exp);
        this.vOS('outer', exp);
        this.vOS('inner', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequenceStructureVariant._fts_dataType = 'MolecularSequenceStructureVariant';
/**
 * Raw data describing a biological sequence.
 */
export class MolecularSequence extends fhir.DomainResource {
    /**
     * Default constructor for MolecularSequence - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MolecularSequence';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['coordinateSystem']) {
            this.coordinateSystem = new fhir.FhirInteger({ value: source.coordinateSystem });
        }
        else {
            this.coordinateSystem = null;
        }
        if (source['_coordinateSystem']) {
            if (this.coordinateSystem) {
                this.coordinateSystem.addExtendedProperties(source._coordinateSystem);
            }
            else {
                this.coordinateSystem = new fhir.FhirInteger(source._coordinateSystem);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        if (source['specimen']) {
            this.specimen = new fhir.Reference(source.specimen);
        }
        if (source['device']) {
            this.device = new fhir.Reference(source.device);
        }
        if (source['performer']) {
            this.performer = new fhir.Reference(source.performer);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        if (source['referenceSeq']) {
            this.referenceSeq = new fhir.MolecularSequenceReferenceSeq(source.referenceSeq);
        }
        if (source['variant']) {
            this.variant = source.variant.map((x) => new fhir.MolecularSequenceVariant(x));
        }
        else {
            this.variant = [];
        }
        if (source['observedSeq']) {
            this.observedSeq = new fhir.FhirString({ value: source.observedSeq });
        }
        if (source['_observedSeq']) {
            if (this.observedSeq) {
                this.observedSeq.addExtendedProperties(source._observedSeq);
            }
            else {
                this.observedSeq = new fhir.FhirString(source._observedSeq);
            }
        }
        if (source['quality']) {
            this.quality = source.quality.map((x) => new fhir.MolecularSequenceQuality(x));
        }
        else {
            this.quality = [];
        }
        if (source['readCoverage']) {
            this.readCoverage = new fhir.FhirInteger({ value: source.readCoverage });
        }
        if (source['_readCoverage']) {
            if (this.readCoverage) {
                this.readCoverage.addExtendedProperties(source._readCoverage);
            }
            else {
                this.readCoverage = new fhir.FhirInteger(source._readCoverage);
            }
        }
        if (source['repository']) {
            this.repository = source.repository.map((x) => new fhir.MolecularSequenceRepository(x));
        }
        else {
            this.repository = [];
        }
        if (source['pointer']) {
            this.pointer = source.pointer.map((x) => new fhir.Reference(x));
        }
        else {
            this.pointer = [];
        }
        if (source['structureVariant']) {
            this.structureVariant = source.structureVariant.map((x) => new fhir.MolecularSequenceStructureVariant(x));
        }
        else {
            this.structureVariant = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MolecularSequence';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOSV('type', exp, 'SequenceType', SequenceTypeVsValidation, 'r');
        this.vRS('coordinateSystem', exp);
        this.vOS('patient', exp);
        this.vOS('specimen', exp);
        this.vOS('device', exp);
        this.vOS('performer', exp);
        this.vOS('quantity', exp);
        this.vOS('referenceSeq', exp);
        this.vOA('variant', exp);
        this.vOS('observedSeq', exp);
        this.vOA('quality', exp);
        this.vOS('readCoverage', exp);
        this.vOA('repository', exp);
        this.vOA('pointer', exp);
        this.vOA('structureVariant', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MolecularSequence._fts_dataType = 'MolecularSequence';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9sZWN1bGFyU2VxdWVuY2UuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL01vbGVjdWxhclNlcXVlbmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLG1DQUFtQztBQUVuQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQVFuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0saURBQWlELENBQUM7QUFHOUYsYUFBYTtBQUNiLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBR3BGLGFBQWE7QUFDYixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQztBQUd0RixhQUFhO0FBQ2IsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFHNUYsYUFBYTtBQUNiLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDhDQUE4QyxDQUFDO0FBbUV4Rjs7R0FFRztBQUNILE1BQU0sT0FBTyw2QkFBOEIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXlDckU7O09BRUc7SUFDSCxZQUFZLFNBQW9ELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FBRTtRQUM1RixJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDbkcsSUFBSSxN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LElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3hCLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3pCLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3hCLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzNCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDaEMsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE5SUQ7O0dBRUc7QUFDNkIsK0JBQWEsR0FBVSxtQkFBbUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogTW9sZWN1bGFyU2VxdWVuY2VcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENocm9tb3NvbWVIdW1hbkNvZGVzLCAgQ2hyb21vc29tZUh1bWFuQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Nocm9tb3NvbWVIdW1hbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDaHJvbW9zb21lSHVtYW5Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Nocm9tb3NvbWVIdW1hblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT3JpZW50YXRpb25UeXBlQ29kZXMsICBPcmllbnRhdGlvblR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT3JpZW50YXRpb25UeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9yaWVudGF0aW9uVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT3JpZW50YXRpb25UeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTdHJhbmRUeXBlQ29kZXMsICBTdHJhbmRUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1N0cmFuZFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU3RyYW5kVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3RyYW5kVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUXVhbGl0eVR5cGVDb2RlcywgIFF1YWxpdHlUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1F1YWxpdHlUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFF1YWxpdHlUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9RdWFsaXR5VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVwb3NpdG9yeVR5cGVDb2RlcywgIFJlcG9zaXRvcnlUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcG9zaXRvcnlUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlcG9zaXRvcnlUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXBvc2l0b3J5VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VxdWVuY2VUeXBlQ29kZXMsICBTZXF1ZW5jZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VxdWVuY2VUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcXVlbmNlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VxdWVuY2VUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1vbGVjdWxhclNlcXVlbmNlUmVmZXJlbmNlU2VxIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1vbGVjdWxhclNlcXVlbmNlUmVmZXJlbmNlU2VxQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU3RydWN0dXJhbCB1bml0IGNvbXBvc2VkIG9mIGEgbnVjbGVpYyBhY2lkIG1vbGVjdWxlIHdoaWNoIGNvbnRyb2xzIGl0cyBvd24gcmVwbGljYXRpb24gdGhyb3VnaCB0aGUgaW50ZXJhY3Rpb24gb2Ygc3BlY2lmaWMgcHJvdGVpbnMgYXQgb25lIG9yIG1vcmUgb3JpZ2lucyBvZiByZXBsaWNhdGlvbiAoW1NPOjAwMDAzNDBdKGh0dHA6Ly93d3cuc2VxdWVuY2VvbnRvbG9neS5vcmcvYnJvd3Nlci9jdXJyZW50X3N2bi90ZXJtL1NPOjAwMDAzNDApKS5cclxuICAgKi9cclxuICBjaHJvbW9zb21lPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgR2Vub21lIEJ1aWxkIHVzZWQgZm9yIHJlZmVyZW5jZSwgZm9sbG93aW5nIEdSQ2ggYnVpbGQgdmVyc2lvbnMgZS5nLiAnR1JDaCAzNycuICBWZXJzaW9uIG51bWJlciBtdXN0IGJlIGluY2x1ZGVkIGlmIGEgdmVyc2lvbmVkIHJlbGVhc2Ugb2YgYSBwcmltYXJ5IGJ1aWxkIHdhcyB1c2VkLlxyXG4gICAqL1xyXG4gIGdlbm9tZUJ1aWxkPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnJlZmVyZW5jZVNlcS5nZW5vbWVCdWlsZFxyXG4gICAqL1xyXG4gIF9nZW5vbWVCdWlsZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSByZWxhdGl2ZSByZWZlcmVuY2UgdG8gYSBETkEgc3RyYW5kIGJhc2VkIG9uIGdlbmUgb3JpZW50YXRpb24uIFRoZSBzdHJhbmQgdGhhdCBjb250YWlucyB0aGUgb3BlbiByZWFkaW5nIGZyYW1lIG9mIHRoZSBnZW5lIGlzIHRoZSBcInNlbnNlXCIgc3RyYW5kLCBhbmQgdGhlIG9wcG9zaXRlIGNvbXBsZW1lbnRhcnkgc3RyYW5kIGlzIHRoZSBcImFudGlzZW5zZVwiIHN0cmFuZC5cclxuICAgKi9cclxuICBvcmllbnRhdGlvbj86IGZoaXIuRmhpckNvZGU8T3JpZW50YXRpb25UeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnJlZmVyZW5jZVNlcS5vcmllbnRhdGlvblxyXG4gICAqL1xyXG4gIF9vcmllbnRhdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIGlkZW50aWZpZXIgb2YgcmVmZXJlbmNlIHNlcXVlbmNlIHN1Ym1pdHRlZCB0byBOQ0JJLiBJdCBtdXN0IG1hdGNoIHRoZSB0eXBlIGluIHRoZSBNb2xlY3VsYXJTZXF1ZW5jZS50eXBlIGZpZWxkLiBGb3IgZXhhbXBsZSwgdGhlIHByZWZpeCwg4oCcTkdf4oCdIGlkZW50aWZpZXMgcmVmZXJlbmNlIHNlcXVlbmNlIGZvciBnZW5lcywg4oCcTk1f4oCdIGZvciBtZXNzZW5nZXIgUk5BIHRyYW5zY3JpcHRzLCBhbmQg4oCcTlBf4oCdIGZvciBhbWlubyBhY2lkIHNlcXVlbmNlcy5cclxuICAgKi9cclxuICByZWZlcmVuY2VTZXFJZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBwb2ludGVyIHRvIGFub3RoZXIgTW9sZWN1bGFyU2VxdWVuY2UgZW50aXR5IGFzIHJlZmVyZW5jZSBzZXF1ZW5jZS5cclxuICAgKi9cclxuICByZWZlcmVuY2VTZXFQb2ludGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHN0cmluZyBsaWtlIFwiQUNHVFwiLlxyXG4gICAqL1xyXG4gIHJlZmVyZW5jZVNlcVN0cmluZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5yZWZlcmVuY2VTZXEucmVmZXJlbmNlU2VxU3RyaW5nXHJcbiAgICovXHJcbiAgX3JlZmVyZW5jZVNlcVN0cmluZz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgcmVmZXJlbmNlIHRvIGEgc3RyYW5kLiBUaGUgV2F0c29uIHN0cmFuZCBpcyB0aGUgc3RyYW5kIHdob3NlIDUnLWVuZCBpcyBvbiB0aGUgc2hvcnQgYXJtIG9mIHRoZSBjaHJvbW9zb21lLCBhbmQgdGhlIENyaWNrIHN0cmFuZCBhcyB0aGUgb25lIHdob3NlIDUnLWVuZCBpcyBvbiB0aGUgbG9uZyBhcm0uXHJcbiAgICovXHJcbiAgc3RyYW5kPzogZmhpci5GaGlyQ29kZTxTdHJhbmRUeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnJlZmVyZW5jZVNlcS5zdHJhbmRcclxuICAgKi9cclxuICBfc3RyYW5kPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBTdGFydCBwb3NpdGlvbiBvZiB0aGUgd2luZG93IG9uIHRoZSByZWZlcmVuY2Ugc2VxdWVuY2UuIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyBlaXRoZXIgMC1iYXNlZCBvciAxLWJhc2VkLCB0aGVuIHN0YXJ0IHBvc2l0aW9uIGlzIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICB3aW5kb3dTdGFydD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucmVmZXJlbmNlU2VxLndpbmRvd1N0YXJ0XHJcbiAgICovXHJcbiAgX3dpbmRvd1N0YXJ0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBFbmQgcG9zaXRpb24gb2YgdGhlIHdpbmRvdyBvbiB0aGUgcmVmZXJlbmNlIHNlcXVlbmNlLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMC1iYXNlZCB0aGVuIGVuZCBpcyBleGNsdXNpdmUgYW5kIGRvZXMgbm90IGluY2x1ZGUgdGhlIGxhc3QgcG9zaXRpb24uIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyAxLWJhc2UsIHRoZW4gZW5kIGlzIGluY2x1c2l2ZSBhbmQgaW5jbHVkZXMgdGhlIGxhc3QgcG9zaXRpb24uXHJcbiAgICovXHJcbiAgd2luZG93RW5kPzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5yZWZlcmVuY2VTZXEud2luZG93RW5kXHJcbiAgICovXHJcbiAgX3dpbmRvd0VuZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNlcXVlbmNlIHRoYXQgaXMgdXNlZCBhcyBhIHJlZmVyZW5jZSB0byBkZXNjcmliZSB2YXJpYW50cyB0aGF0IGFyZSBwcmVzZW50IGluIGEgc2VxdWVuY2UgYW5hbHl6ZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTW9sZWN1bGFyU2VxdWVuY2VSZWZlcmVuY2VTZXEgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNb2xlY3VsYXJTZXF1ZW5jZVJlZmVyZW5jZVNlcSc7XHJcbiAgLyoqXHJcbiAgICogU3RydWN0dXJhbCB1bml0IGNvbXBvc2VkIG9mIGEgbnVjbGVpYyBhY2lkIG1vbGVjdWxlIHdoaWNoIGNvbnRyb2xzIGl0cyBvd24gcmVwbGljYXRpb24gdGhyb3VnaCB0aGUgaW50ZXJhY3Rpb24gb2Ygc3BlY2lmaWMgcHJvdGVpbnMgYXQgb25lIG9yIG1vcmUgb3JpZ2lucyBvZiByZXBsaWNhdGlvbiAoW1NPOjAwMDAzNDBdKGh0dHA6Ly93d3cuc2VxdWVuY2VvbnRvbG9neS5vcmcvYnJvd3Nlci9jdXJyZW50X3N2bi90ZXJtL1NPOjAwMDAzNDApKS5cclxuICAgKi9cclxuICBwdWJsaWMgY2hyb21vc29tZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgR2Vub21lIEJ1aWxkIHVzZWQgZm9yIHJlZmVyZW5jZSwgZm9sbG93aW5nIEdSQ2ggYnVpbGQgdmVyc2lvbnMgZS5nLiAnR1JDaCAzNycuICBWZXJzaW9uIG51bWJlciBtdXN0IGJlIGluY2x1ZGVkIGlmIGEgdmVyc2lvbmVkIHJlbGVhc2Ugb2YgYSBwcmltYXJ5IGJ1aWxkIHdhcyB1c2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZW5vbWVCdWlsZD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWxhdGl2ZSByZWZlcmVuY2UgdG8gYSBETkEgc3RyYW5kIGJhc2VkIG9uIGdlbmUgb3JpZW50YXRpb24uIFRoZSBzdHJhbmQgdGhhdCBjb250YWlucyB0aGUgb3BlbiByZWFkaW5nIGZyYW1lIG9mIHRoZSBnZW5lIGlzIHRoZSBcInNlbnNlXCIgc3RyYW5kLCBhbmQgdGhlIG9wcG9zaXRlIGNvbXBsZW1lbnRhcnkgc3RyYW5kIGlzIHRoZSBcImFudGlzZW5zZVwiIHN0cmFuZC5cclxuICAgKi9cclxuICBwdWJsaWMgb3JpZW50YXRpb24/OiBmaGlyLkZoaXJDb2RlPE9yaWVudGF0aW9uVHlwZUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIGlkZW50aWZpZXIgb2YgcmVmZXJlbmNlIHNlcXVlbmNlIHN1Ym1pdHRlZCB0byBOQ0JJLiBJdCBtdXN0IG1hdGNoIHRoZSB0eXBlIGluIHRoZSBNb2xlY3VsYXJTZXF1ZW5jZS50eXBlIGZpZWxkLiBGb3IgZXhhbXBsZSwgdGhlIHByZWZpeCwg4oCcTkdf4oCdIGlkZW50aWZpZXMgcmVmZXJlbmNlIHNlcXVlbmNlIGZvciBnZW5lcywg4oCcTk1f4oCdIGZvciBtZXNzZW5nZXIgUk5BIHRyYW5zY3JpcHRzLCBhbmQg4oCcTlBf4oCdIGZvciBhbWlubyBhY2lkIHNlcXVlbmNlcy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJlbmNlU2VxSWQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBwb2ludGVyIHRvIGFub3RoZXIgTW9sZWN1bGFyU2VxdWVuY2UgZW50aXR5IGFzIHJlZmVyZW5jZSBzZXF1ZW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJlbmNlU2VxUG9pbnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHN0cmluZyBsaWtlIFwiQUNHVFwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2VTZXFTdHJpbmc/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIHJlZmVyZW5jZSB0byBhIHN0cmFuZC4gVGhlIFdhdHNvbiBzdHJhbmQgaXMgdGhlIHN0cmFuZCB3aG9zZSA1Jy1lbmQgaXMgb24gdGhlIHNob3J0IGFybSBvZiB0aGUgY2hyb21vc29tZSwgYW5kIHRoZSBDcmljayBzdHJhbmQgYXMgdGhlIG9uZSB3aG9zZSA1Jy1lbmQgaXMgb24gdGhlIGxvbmcgYXJtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdHJhbmQ/OiBmaGlyLkZoaXJDb2RlPFN0cmFuZFR5cGVDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IHBvc2l0aW9uIG9mIHRoZSB3aW5kb3cgb24gdGhlIHJlZmVyZW5jZSBzZXF1ZW5jZS4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIGVpdGhlciAwLWJhc2VkIG9yIDEtYmFzZWQsIHRoZW4gc3RhcnQgcG9zaXRpb24gaXMgaW5jbHVzaXZlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3aW5kb3dTdGFydD86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVuZCBwb3NpdGlvbiBvZiB0aGUgd2luZG93IG9uIHRoZSByZWZlcmVuY2Ugc2VxdWVuY2UuIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyAwLWJhc2VkIHRoZW4gZW5kIGlzIGV4Y2x1c2l2ZSBhbmQgZG9lcyBub3QgaW5jbHVkZSB0aGUgbGFzdCBwb3NpdGlvbi4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIDEtYmFzZSwgdGhlbiBlbmQgaXMgaW5jbHVzaXZlIGFuZCBpbmNsdWRlcyB0aGUgbGFzdCBwb3NpdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgd2luZG93RW5kPzogZmhpci5GaGlySW50ZWdlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTW9sZWN1bGFyU2VxdWVuY2VSZWZlcmVuY2VTZXEgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNb2xlY3VsYXJTZXF1ZW5jZVJlZmVyZW5jZVNlcUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjaHJvbW9zb21lJ10pIHsgdGhpcy5jaHJvbW9zb21lID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jaHJvbW9zb21lKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZ2Vub21lQnVpbGQnXSkgeyB0aGlzLmdlbm9tZUJ1aWxkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5nZW5vbWVCdWlsZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZ2Vub21lQnVpbGQnXSkge1xyXG4gICAgICBpZiAodGhpcy5nZW5vbWVCdWlsZCkgeyB0aGlzLmdlbm9tZUJ1aWxkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2dlbm9tZUJ1aWxkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZ2Vub21lQnVpbGQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZ2Vub21lQnVpbGQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29yaWVudGF0aW9uJ10pIHsgdGhpcy5vcmllbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJDb2RlPE9yaWVudGF0aW9uVHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5vcmllbnRhdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3JpZW50YXRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5vcmllbnRhdGlvbikgeyB0aGlzLm9yaWVudGF0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29yaWVudGF0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3JpZW50YXRpb24gPSBuZXcgZmhpci5GaGlyQ29kZTxPcmllbnRhdGlvblR5cGVDb2RlVHlwZT4oc291cmNlLl9vcmllbnRhdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlU2VxSWQnXSkgeyB0aGlzLnJlZmVyZW5jZVNlcUlkID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZWZlcmVuY2VTZXFJZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZVNlcVBvaW50ZXInXSkgeyB0aGlzLnJlZmVyZW5jZVNlcVBvaW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZmVyZW5jZVNlcVBvaW50ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2VTZXFTdHJpbmcnXSkgeyB0aGlzLnJlZmVyZW5jZVNlcVN0cmluZyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucmVmZXJlbmNlU2VxU3RyaW5nfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19yZWZlcmVuY2VTZXFTdHJpbmcnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZWZlcmVuY2VTZXFTdHJpbmcpIHsgdGhpcy5yZWZlcmVuY2VTZXFTdHJpbmcuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcmVmZXJlbmNlU2VxU3RyaW5nISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVmZXJlbmNlU2VxU3RyaW5nID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3JlZmVyZW5jZVNlcVN0cmluZyBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RyYW5kJ10pIHsgdGhpcy5zdHJhbmQgPSBuZXcgZmhpci5GaGlyQ29kZTxTdHJhbmRUeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0cmFuZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RyYW5kJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RyYW5kKSB7IHRoaXMuc3RyYW5kLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0cmFuZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0cmFuZCA9IG5ldyBmaGlyLkZoaXJDb2RlPFN0cmFuZFR5cGVDb2RlVHlwZT4oc291cmNlLl9zdHJhbmQgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3dpbmRvd1N0YXJ0J10pIHsgdGhpcy53aW5kb3dTdGFydCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLndpbmRvd1N0YXJ0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ193aW5kb3dTdGFydCddKSB7XHJcbiAgICAgIGlmICh0aGlzLndpbmRvd1N0YXJ0KSB7IHRoaXMud2luZG93U3RhcnQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fd2luZG93U3RhcnQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy53aW5kb3dTdGFydCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fd2luZG93U3RhcnQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd3aW5kb3dFbmQnXSkgeyB0aGlzLndpbmRvd0VuZCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLndpbmRvd0VuZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfd2luZG93RW5kJ10pIHtcclxuICAgICAgaWYgKHRoaXMud2luZG93RW5kKSB7IHRoaXMud2luZG93RW5kLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3dpbmRvd0VuZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLndpbmRvd0VuZCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fd2luZG93RW5kIGFzIFBhcnRpYWw8Zmhpci5GaGlySW50ZWdlckFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01vbGVjdWxhclNlcXVlbmNlLnJlZmVyZW5jZVNlcScgfVxyXG4gICAgdGhpcy52T1MoJ2Nocm9tb3NvbWUnLGV4cClcclxuICAgIHRoaXMudk9TKCdnZW5vbWVCdWlsZCcsZXhwKVxyXG4gICAgdGhpcy52T1NWKCdvcmllbnRhdGlvbicsZXhwLCdPcmllbnRhdGlvblR5cGUnLE9yaWVudGF0aW9uVHlwZVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPUygncmVmZXJlbmNlU2VxSWQnLGV4cClcclxuICAgIHRoaXMudk9TKCdyZWZlcmVuY2VTZXFQb2ludGVyJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVmZXJlbmNlU2VxU3RyaW5nJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ3N0cmFuZCcsZXhwLCdTdHJhbmRUeXBlJyxTdHJhbmRUeXBlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCd3aW5kb3dTdGFydCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3dpbmRvd0VuZCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1vbGVjdWxhclNlcXVlbmNlVmFyaWFudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNb2xlY3VsYXJTZXF1ZW5jZVZhcmlhbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTdGFydCBwb3NpdGlvbiBvZiB0aGUgdmFyaWFudCBvbiB0aGUgIHJlZmVyZW5jZSBzZXF1ZW5jZS4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIGVpdGhlciAwLWJhc2VkIG9yIDEtYmFzZWQsIHRoZW4gc3RhcnQgcG9zaXRpb24gaXMgaW5jbHVzaXZlLlxyXG4gICAqL1xyXG4gIHN0YXJ0PzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS52YXJpYW50LnN0YXJ0XHJcbiAgICovXHJcbiAgX3N0YXJ0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBFbmQgcG9zaXRpb24gb2YgdGhlIHZhcmlhbnQgb24gdGhlIHJlZmVyZW5jZSBzZXF1ZW5jZS4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIDAtYmFzZWQgdGhlbiBlbmQgaXMgZXhjbHVzaXZlIGFuZCBkb2VzIG5vdCBpbmNsdWRlIHRoZSBsYXN0IHBvc2l0aW9uLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMS1iYXNlLCB0aGVuIGVuZCBpcyBpbmNsdXNpdmUgYW5kIGluY2x1ZGVzIHRoZSBsYXN0IHBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIGVuZD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UudmFyaWFudC5lbmRcclxuICAgKi9cclxuICBfZW5kPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBbiBhbGxlbGUgaXMgb25lIG9mIGEgc2V0IG9mIGNvZXhpc3Rpbmcgc2VxdWVuY2UgdmFyaWFudHMgb2YgYSBnZW5lIChbU086MDAwMTAyM10oaHR0cDovL3d3dy5zZXF1ZW5jZW9udG9sb2d5Lm9yZy9icm93c2VyL2N1cnJlbnRfc3ZuL3Rlcm0vU086MDAwMTAyMykpLiAgTnVjbGVvdGlkZShzKS9hbWlubyBhY2lkcyBmcm9tIHN0YXJ0IHBvc2l0aW9uIG9mIHNlcXVlbmNlIHRvIHN0b3AgcG9zaXRpb24gb2Ygc2VxdWVuY2Ugb24gdGhlIHBvc2l0aXZlICgrKSBzdHJhbmQgb2YgdGhlIG9ic2VydmVkICBzZXF1ZW5jZS4gV2hlbiB0aGUgc2VxdWVuY2UgIHR5cGUgaXMgRE5BLCBpdCBzaG91bGQgYmUgdGhlIHNlcXVlbmNlIG9uIHRoZSBwb3NpdGl2ZSAoKykgc3RyYW5kLiBUaGlzIHdpbGwgbGF5IGluIHRoZSByYW5nZSBiZXR3ZWVuIHZhcmlhbnQuc3RhcnQgYW5kIHZhcmlhbnQuZW5kLlxyXG4gICAqL1xyXG4gIG9ic2VydmVkQWxsZWxlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnZhcmlhbnQub2JzZXJ2ZWRBbGxlbGVcclxuICAgKi9cclxuICBfb2JzZXJ2ZWRBbGxlbGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFsbGVsZSBpcyBvbmUgb2YgYSBzZXQgb2YgY29leGlzdGluZyBzZXF1ZW5jZSB2YXJpYW50cyBvZiBhIGdlbmUgKFtTTzowMDAxMDIzXShodHRwOi8vd3d3LnNlcXVlbmNlb250b2xvZ3kub3JnL2Jyb3dzZXIvY3VycmVudF9zdm4vdGVybS9TTzowMDAxMDIzKSkuIE51Y2xlb3RpZGUocykvYW1pbm8gYWNpZHMgZnJvbSBzdGFydCBwb3NpdGlvbiBvZiBzZXF1ZW5jZSB0byBzdG9wIHBvc2l0aW9uIG9mIHNlcXVlbmNlIG9uIHRoZSBwb3NpdGl2ZSAoKykgc3RyYW5kIG9mIHRoZSByZWZlcmVuY2Ugc2VxdWVuY2UuIFdoZW4gdGhlIHNlcXVlbmNlICB0eXBlIGlzIEROQSwgaXQgc2hvdWxkIGJlIHRoZSBzZXF1ZW5jZSBvbiB0aGUgcG9zaXRpdmUgKCspIHN0cmFuZC4gVGhpcyB3aWxsIGxheSBpbiB0aGUgcmFuZ2UgYmV0d2VlbiB2YXJpYW50LnN0YXJ0IGFuZCB2YXJpYW50LmVuZC5cclxuICAgKi9cclxuICByZWZlcmVuY2VBbGxlbGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UudmFyaWFudC5yZWZlcmVuY2VBbGxlbGVcclxuICAgKi9cclxuICBfcmVmZXJlbmNlQWxsZWxlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBDSUdBUiBzdHJpbmcgZm9yIGFsaWduaW5nIHRoZSBzZXF1ZW5jZSB3aXRoIHJlZmVyZW5jZSBiYXNlcy4gU2VlIGRldGFpbGVkIGRvY3VtZW50YXRpb24gW2hlcmVdKGh0dHA6Ly9zdXBwb3J0LmlsbHVtaW5hLmNvbS9oZWxwL1NlcXVlbmNpbmdBbmFseXNpc1dvcmtmbG93L0NvbnRlbnQvVmF1bHQvSW5mb3JtYXRpY3MvU2VxdWVuY2luZ19BbmFseXNpcy9DQVNBVkEvc3dTRVFfbUNBX0V4dGVuZGVkQ0lHQVJGb3JtYXQuaHRtKS5cclxuICAgKi9cclxuICBjaWdhcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS52YXJpYW50LmNpZ2FyXHJcbiAgICovXHJcbiAgX2NpZ2FyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIHBvaW50ZXIgdG8gYW4gT2JzZXJ2YXRpb24gY29udGFpbmluZyB2YXJpYW50IGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHZhcmlhbnRQb2ludGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBkZWZpbml0aW9uIG9mIHZhcmlhbnQgaGVyZSBvcmlnaW5hdGVzIGZyb20gU2VxdWVuY2Ugb250b2xvZ3kgKFt2YXJpYW50X29mXShodHRwOi8vd3d3LnNlcXVlbmNlb250b2xvZ3kub3JnL2Jyb3dzZXIvY3VycmVudF9zdm4vdGVybS92YXJpYW50X29mKSkuIFRoaXMgZWxlbWVudCBjYW4gcmVwcmVzZW50IGFtaW5vIGFjaWQgb3IgbnVjbGVpYyBzZXF1ZW5jZSBjaGFuZ2UoaW5jbHVkaW5nIGluc2VydGlvbixkZWxldGlvbixTTlAsZXRjLikgIEl0IGNhbiByZXByZXNlbnQgc29tZSBjb21wbGV4IG11dGF0aW9uIG9yIHNlZ21lbnQgdmFyaWF0aW9uIHdpdGggdGhlIGFzc2lzdCBvZiBDSUdBUiBzdHJpbmcuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTW9sZWN1bGFyU2VxdWVuY2VWYXJpYW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTW9sZWN1bGFyU2VxdWVuY2VWYXJpYW50JztcclxuICAvKipcclxuICAgKiBTdGFydCBwb3NpdGlvbiBvZiB0aGUgdmFyaWFudCBvbiB0aGUgIHJlZmVyZW5jZSBzZXF1ZW5jZS4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIGVpdGhlciAwLWJhc2VkIG9yIDEtYmFzZWQsIHRoZW4gc3RhcnQgcG9zaXRpb24gaXMgaW5jbHVzaXZlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGFydD86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVuZCBwb3NpdGlvbiBvZiB0aGUgdmFyaWFudCBvbiB0aGUgcmVmZXJlbmNlIHNlcXVlbmNlLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMC1iYXNlZCB0aGVuIGVuZCBpcyBleGNsdXNpdmUgYW5kIGRvZXMgbm90IGluY2x1ZGUgdGhlIGxhc3QgcG9zaXRpb24uIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyAxLWJhc2UsIHRoZW4gZW5kIGlzIGluY2x1c2l2ZSBhbmQgaW5jbHVkZXMgdGhlIGxhc3QgcG9zaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGVuZD86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFsbGVsZSBpcyBvbmUgb2YgYSBzZXQgb2YgY29leGlzdGluZyBzZXF1ZW5jZSB2YXJpYW50cyBvZiBhIGdlbmUgKFtTTzowMDAxMDIzXShodHRwOi8vd3d3LnNlcXVlbmNlb250b2xvZ3kub3JnL2Jyb3dzZXIvY3VycmVudF9zdm4vdGVybS9TTzowMDAxMDIzKSkuICBOdWNsZW90aWRlKHMpL2FtaW5vIGFjaWRzIGZyb20gc3RhcnQgcG9zaXRpb24gb2Ygc2VxdWVuY2UgdG8gc3RvcCBwb3NpdGlvbiBvZiBzZXF1ZW5jZSBvbiB0aGUgcG9zaXRpdmUgKCspIHN0cmFuZCBvZiB0aGUgb2JzZXJ2ZWQgIHNlcXVlbmNlLiBXaGVuIHRoZSBzZXF1ZW5jZSAgdHlwZSBpcyBETkEsIGl0IHNob3VsZCBiZSB0aGUgc2VxdWVuY2Ugb24gdGhlIHBvc2l0aXZlICgrKSBzdHJhbmQuIFRoaXMgd2lsbCBsYXkgaW4gdGhlIHJhbmdlIGJldHdlZW4gdmFyaWFudC5zdGFydCBhbmQgdmFyaWFudC5lbmQuXHJcbiAgICovXHJcbiAgcHVibGljIG9ic2VydmVkQWxsZWxlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBhbGxlbGUgaXMgb25lIG9mIGEgc2V0IG9mIGNvZXhpc3Rpbmcgc2VxdWVuY2UgdmFyaWFudHMgb2YgYSBnZW5lIChbU086MDAwMTAyM10oaHR0cDovL3d3dy5zZXF1ZW5jZW9udG9sb2d5Lm9yZy9icm93c2VyL2N1cnJlbnRfc3ZuL3Rlcm0vU086MDAwMTAyMykpLiBOdWNsZW90aWRlKHMpL2FtaW5vIGFjaWRzIGZyb20gc3RhcnQgcG9zaXRpb24gb2Ygc2VxdWVuY2UgdG8gc3RvcCBwb3NpdGlvbiBvZiBzZXF1ZW5jZSBvbiB0aGUgcG9zaXRpdmUgKCspIHN0cmFuZCBvZiB0aGUgcmVmZXJlbmNlIHNlcXVlbmNlLiBXaGVuIHRoZSBzZXF1ZW5jZSAgdHlwZSBpcyBETkEsIGl0IHNob3VsZCBiZSB0aGUgc2VxdWVuY2Ugb24gdGhlIHBvc2l0aXZlICgrKSBzdHJhbmQuIFRoaXMgd2lsbCBsYXkgaW4gdGhlIHJhbmdlIGJldHdlZW4gdmFyaWFudC5zdGFydCBhbmQgdmFyaWFudC5lbmQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZUFsbGVsZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgQ0lHQVIgc3RyaW5nIGZvciBhbGlnbmluZyB0aGUgc2VxdWVuY2Ugd2l0aCByZWZlcmVuY2UgYmFzZXMuIFNlZSBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIFtoZXJlXShodHRwOi8vc3VwcG9ydC5pbGx1bWluYS5jb20vaGVscC9TZXF1ZW5jaW5nQW5hbHlzaXNXb3JrZmxvdy9Db250ZW50L1ZhdWx0L0luZm9ybWF0aWNzL1NlcXVlbmNpbmdfQW5hbHlzaXMvQ0FTQVZBL3N3U0VRX21DQV9FeHRlbmRlZENJR0FSRm9ybWF0Lmh0bSkuXHJcbiAgICovXHJcbiAgcHVibGljIGNpZ2FyPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHBvaW50ZXIgdG8gYW4gT2JzZXJ2YXRpb24gY29udGFpbmluZyB2YXJpYW50IGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YXJpYW50UG9pbnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNb2xlY3VsYXJTZXF1ZW5jZVZhcmlhbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNb2xlY3VsYXJTZXF1ZW5jZVZhcmlhbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc3RhcnQnXSkgeyB0aGlzLnN0YXJ0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2Uuc3RhcnR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXJ0J10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhcnQpIHsgdGhpcy5zdGFydC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGFydCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXJ0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9zdGFydCBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2VuZCddKSB7IHRoaXMuZW5kID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UuZW5kfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19lbmQnXSkge1xyXG4gICAgICBpZiAodGhpcy5lbmQpIHsgdGhpcy5lbmQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZW5kISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZW5kID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9lbmQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvYnNlcnZlZEFsbGVsZSddKSB7IHRoaXMub2JzZXJ2ZWRBbGxlbGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm9ic2VydmVkQWxsZWxlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19vYnNlcnZlZEFsbGVsZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm9ic2VydmVkQWxsZWxlKSB7IHRoaXMub2JzZXJ2ZWRBbGxlbGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fb2JzZXJ2ZWRBbGxlbGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vYnNlcnZlZEFsbGVsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9vYnNlcnZlZEFsbGVsZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlQWxsZWxlJ10pIHsgdGhpcy5yZWZlcmVuY2VBbGxlbGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnJlZmVyZW5jZUFsbGVsZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVmZXJlbmNlQWxsZWxlJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVmZXJlbmNlQWxsZWxlKSB7IHRoaXMucmVmZXJlbmNlQWxsZWxlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlZmVyZW5jZUFsbGVsZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlZmVyZW5jZUFsbGVsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9yZWZlcmVuY2VBbGxlbGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NpZ2FyJ10pIHsgdGhpcy5jaWdhciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY2lnYXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NpZ2FyJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY2lnYXIpIHsgdGhpcy5jaWdhci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jaWdhciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNpZ2FyID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2NpZ2FyIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2YXJpYW50UG9pbnRlciddKSB7IHRoaXMudmFyaWFudFBvaW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnZhcmlhbnRQb2ludGVyKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01vbGVjdWxhclNlcXVlbmNlLnZhcmlhbnQnIH1cclxuICAgIHRoaXMudk9TKCdzdGFydCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2VuZCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ29ic2VydmVkQWxsZWxlJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVmZXJlbmNlQWxsZWxlJyxleHApXHJcbiAgICB0aGlzLnZPUygnY2lnYXInLGV4cClcclxuICAgIHRoaXMudk9TKCd2YXJpYW50UG9pbnRlcicsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eVJvYyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNb2xlY3VsYXJTZXF1ZW5jZVF1YWxpdHlSb2NBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJbnZpZHVhbCBkYXRhIHBvaW50IHJlcHJlc2VudGluZyB0aGUgR1EgKGdlbm90eXBlIHF1YWxpdHkpIHNjb3JlIHRocmVzaG9sZC5cclxuICAgKi9cclxuICBzY29yZT86IGZoaXIuRmhpckludGVnZXJbXXwobnVtYmVyfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5xdWFsaXR5LnJvYy5zY29yZVxyXG4gICAqL1xyXG4gIF9zY29yZT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiB0cnVlIHBvc2l0aXZlcyBpZiB0aGUgR1Egc2NvcmUgdGhyZXNob2xkIHdhcyBzZXQgdG8gXCJzY29yZVwiIGZpZWxkIHZhbHVlLlxyXG4gICAqL1xyXG4gIG51bVRQPzogZmhpci5GaGlySW50ZWdlcltdfChudW1iZXJ8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnF1YWxpdHkucm9jLm51bVRQXHJcbiAgICovXHJcbiAgX251bVRQPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIGZhbHNlIHBvc2l0aXZlcyBpZiB0aGUgR1Egc2NvcmUgdGhyZXNob2xkIHdhcyBzZXQgdG8gXCJzY29yZVwiIGZpZWxkIHZhbHVlLlxyXG4gICAqL1xyXG4gIG51bUZQPzogZmhpci5GaGlySW50ZWdlcltdfChudW1iZXJ8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnF1YWxpdHkucm9jLm51bUZQXHJcbiAgICovXHJcbiAgX251bUZQPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIGZhbHNlIG5lZ2F0aXZlcyBpZiB0aGUgR1Egc2NvcmUgdGhyZXNob2xkIHdhcyBzZXQgdG8gXCJzY29yZVwiIGZpZWxkIHZhbHVlLlxyXG4gICAqL1xyXG4gIG51bUZOPzogZmhpci5GaGlySW50ZWdlcltdfChudW1iZXJ8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnF1YWxpdHkucm9jLm51bUZOXHJcbiAgICovXHJcbiAgX251bUZOPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBDYWxjdWxhdGVkIHByZWNpc2lvbiBpZiB0aGUgR1Egc2NvcmUgdGhyZXNob2xkIHdhcyBzZXQgdG8gXCJzY29yZVwiIGZpZWxkIHZhbHVlLlxyXG4gICAqL1xyXG4gIHByZWNpc2lvbj86IGZoaXIuRmhpckRlY2ltYWxbXXwobnVtYmVyfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5xdWFsaXR5LnJvYy5wcmVjaXNpb25cclxuICAgKi9cclxuICBfcHJlY2lzaW9uPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBDYWxjdWxhdGVkIHNlbnNpdGl2aXR5IGlmIHRoZSBHUSBzY29yZSB0aHJlc2hvbGQgd2FzIHNldCB0byBcInNjb3JlXCIgZmllbGQgdmFsdWUuXHJcbiAgICovXHJcbiAgc2Vuc2l0aXZpdHk/OiBmaGlyLkZoaXJEZWNpbWFsW118KG51bWJlcnxudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucXVhbGl0eS5yb2Muc2Vuc2l0aXZpdHlcclxuICAgKi9cclxuICBfc2Vuc2l0aXZpdHk/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZWQgZlNjb3JlIGlmIHRoZSBHUSBzY29yZSB0aHJlc2hvbGQgd2FzIHNldCB0byBcInNjb3JlXCIgZmllbGQgdmFsdWUuXHJcbiAgICovXHJcbiAgZk1lYXN1cmU/OiBmaGlyLkZoaXJEZWNpbWFsW118KG51bWJlcnxudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucXVhbGl0eS5yb2MuZk1lYXN1cmVcclxuICAgKi9cclxuICBfZk1lYXN1cmU/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG59XHJcblxyXG4vKipcclxuICogUmVjZWl2ZXIgT3BlcmF0b3IgQ2hhcmFjdGVyaXN0aWMgKFJPQykgQ3VydmUgIHRvIGdpdmUgc2Vuc2l0aXZpdHkvc3BlY2lmaWNpdHkgdHJhZGVvZmYuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTW9sZWN1bGFyU2VxdWVuY2VRdWFsaXR5Um9jIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTW9sZWN1bGFyU2VxdWVuY2VRdWFsaXR5Um9jJztcclxuICAvKipcclxuICAgKiBJbnZpZHVhbCBkYXRhIHBvaW50IHJlcHJlc2VudGluZyB0aGUgR1EgKGdlbm90eXBlIHF1YWxpdHkpIHNjb3JlIHRocmVzaG9sZC5cclxuICAgKi9cclxuICBwdWJsaWMgc2NvcmU6IGZoaXIuRmhpckludGVnZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHRydWUgcG9zaXRpdmVzIGlmIHRoZSBHUSBzY29yZSB0aHJlc2hvbGQgd2FzIHNldCB0byBcInNjb3JlXCIgZmllbGQgdmFsdWUuXHJcbiAgICovXHJcbiAgcHVibGljIG51bVRQOiBmaGlyLkZoaXJJbnRlZ2VyW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiBmYWxzZSBwb3NpdGl2ZXMgaWYgdGhlIEdRIHNjb3JlIHRocmVzaG9sZCB3YXMgc2V0IHRvIFwic2NvcmVcIiBmaWVsZCB2YWx1ZS5cclxuICAgKi9cclxuICBwdWJsaWMgbnVtRlA6IGZoaXIuRmhpckludGVnZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIGZhbHNlIG5lZ2F0aXZlcyBpZiB0aGUgR1Egc2NvcmUgdGhyZXNob2xkIHdhcyBzZXQgdG8gXCJzY29yZVwiIGZpZWxkIHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBudW1GTjogZmhpci5GaGlySW50ZWdlcltdO1xyXG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZWQgcHJlY2lzaW9uIGlmIHRoZSBHUSBzY29yZSB0aHJlc2hvbGQgd2FzIHNldCB0byBcInNjb3JlXCIgZmllbGQgdmFsdWUuXHJcbiAgICovXHJcbiAgcHVibGljIHByZWNpc2lvbjogZmhpci5GaGlyRGVjaW1hbFtdO1xyXG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZWQgc2Vuc2l0aXZpdHkgaWYgdGhlIEdRIHNjb3JlIHRocmVzaG9sZCB3YXMgc2V0IHRvIFwic2NvcmVcIiBmaWVsZCB2YWx1ZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2Vuc2l0aXZpdHk6IGZoaXIuRmhpckRlY2ltYWxbXTtcclxuICAvKipcclxuICAgKiBDYWxjdWxhdGVkIGZTY29yZSBpZiB0aGUgR1Egc2NvcmUgdGhyZXNob2xkIHdhcyBzZXQgdG8gXCJzY29yZVwiIGZpZWxkIHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmTWVhc3VyZTogZmhpci5GaGlyRGVjaW1hbFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eVJvYyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eVJvY0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzY29yZSddKSB7IHRoaXMuc2NvcmUgPSBzb3VyY2Uuc2NvcmUubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNjb3JlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19zY29yZSddKSB7XHJcbiAgICAgIHNvdXJjZS5fc2NvcmUuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NvcmUubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5zY29yZVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnNjb3JlLnB1c2gobmV3IGZoaXIuRmhpckludGVnZXIoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydudW1UUCddKSB7IHRoaXMubnVtVFAgPSBzb3VyY2UubnVtVFAubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm51bVRQID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19udW1UUCddKSB7XHJcbiAgICAgIHNvdXJjZS5fbnVtVFAuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubnVtVFAubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5udW1UUFtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLm51bVRQLnB1c2gobmV3IGZoaXIuRmhpckludGVnZXIoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydudW1GUCddKSB7IHRoaXMubnVtRlAgPSBzb3VyY2UubnVtRlAubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm51bUZQID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19udW1GUCddKSB7XHJcbiAgICAgIHNvdXJjZS5fbnVtRlAuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubnVtRlAubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5udW1GUFtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLm51bUZQLnB1c2gobmV3IGZoaXIuRmhpckludGVnZXIoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydudW1GTiddKSB7IHRoaXMubnVtRk4gPSBzb3VyY2UubnVtRk4ubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm51bUZOID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19udW1GTiddKSB7XHJcbiAgICAgIHNvdXJjZS5fbnVtRk4uZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubnVtRk4ubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5udW1GTltpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLm51bUZOLnB1c2gobmV3IGZoaXIuRmhpckludGVnZXIoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwcmVjaXNpb24nXSkgeyB0aGlzLnByZWNpc2lvbiA9IHNvdXJjZS5wcmVjaXNpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByZWNpc2lvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJlY2lzaW9uJ10pIHtcclxuICAgICAgc291cmNlLl9wcmVjaXNpb24uZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJlY2lzaW9uLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMucHJlY2lzaW9uW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMucHJlY2lzaW9uLnB1c2gobmV3IGZoaXIuRmhpckRlY2ltYWwoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZW5zaXRpdml0eSddKSB7IHRoaXMuc2Vuc2l0aXZpdHkgPSBzb3VyY2Uuc2Vuc2l0aXZpdHkubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlbnNpdGl2aXR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19zZW5zaXRpdml0eSddKSB7XHJcbiAgICAgIHNvdXJjZS5fc2Vuc2l0aXZpdHkuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2Vuc2l0aXZpdHkubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5zZW5zaXRpdml0eVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnNlbnNpdGl2aXR5LnB1c2gobmV3IGZoaXIuRmhpckRlY2ltYWwoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydmTWVhc3VyZSddKSB7IHRoaXMuZk1lYXN1cmUgPSBzb3VyY2UuZk1lYXN1cmUubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZNZWFzdXJlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19mTWVhc3VyZSddKSB7XHJcbiAgICAgIHNvdXJjZS5fZk1lYXN1cmUuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZk1lYXN1cmUubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5mTWVhc3VyZVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLmZNZWFzdXJlLnB1c2gobmV3IGZoaXIuRmhpckRlY2ltYWwoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTW9sZWN1bGFyU2VxdWVuY2UucXVhbGl0eS5yb2MnIH1cclxuICAgIHRoaXMudk9BKCdzY29yZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ251bVRQJyxleHApXHJcbiAgICB0aGlzLnZPQSgnbnVtRlAnLGV4cClcclxuICAgIHRoaXMudk9BKCdudW1GTicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3ByZWNpc2lvbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3NlbnNpdGl2aXR5JyxleHApXHJcbiAgICB0aGlzLnZPQSgnZk1lYXN1cmUnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNb2xlY3VsYXJTZXF1ZW5jZVF1YWxpdHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTW9sZWN1bGFyU2VxdWVuY2VRdWFsaXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSU5ERUwgLyBTTlAgLyBVbmRlZmluZWQgdmFyaWFudC5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkZoaXJDb2RlPFF1YWxpdHlUeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnF1YWxpdHkudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBHb2xkIHN0YW5kYXJkIHNlcXVlbmNlIHVzZWQgZm9yIGNvbXBhcmluZyBhZ2FpbnN0LlxyXG4gICAqL1xyXG4gIHN0YW5kYXJkU2VxdWVuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzZXF1ZW5jZS4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIGVpdGhlciAwLWJhc2VkIG9yIDEtYmFzZWQsIHRoZW4gc3RhcnQgcG9zaXRpb24gaXMgaW5jbHVzaXZlLlxyXG4gICAqL1xyXG4gIHN0YXJ0PzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5xdWFsaXR5LnN0YXJ0XHJcbiAgICovXHJcbiAgX3N0YXJ0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBFbmQgcG9zaXRpb24gb2YgdGhlIHNlcXVlbmNlLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMC1iYXNlZCB0aGVuIGVuZCBpcyBleGNsdXNpdmUgYW5kIGRvZXMgbm90IGluY2x1ZGUgdGhlIGxhc3QgcG9zaXRpb24uIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyAxLWJhc2UsIHRoZW4gZW5kIGlzIGluY2x1c2l2ZSBhbmQgaW5jbHVkZXMgdGhlIGxhc3QgcG9zaXRpb24uXHJcbiAgICovXHJcbiAgZW5kPzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5xdWFsaXR5LmVuZFxyXG4gICAqL1xyXG4gIF9lbmQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzY29yZSBvZiBhbiBleHBlcmltZW50YWxseSBkZXJpdmVkIGZlYXR1cmUgc3VjaCBhcyBhIHAtdmFsdWUgKFtTTzowMDAxNjg1XShodHRwOi8vd3d3LnNlcXVlbmNlb250b2xvZ3kub3JnL2Jyb3dzZXIvY3VycmVudF9zdm4vdGVybS9TTzowMDAxNjg1KSkuXHJcbiAgICovXHJcbiAgc2NvcmU/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hpY2ggbWV0aG9kIGlzIHVzZWQgdG8gZ2V0IHNlcXVlbmNlIHF1YWxpdHkuXHJcbiAgICovXHJcbiAgbWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUcnVlIHBvc2l0aXZlcywgZnJvbSB0aGUgcGVyc3BlY3RpdmUgb2YgdGhlIHRydXRoIGRhdGEsIGkuZS4gdGhlIG51bWJlciBvZiBzaXRlcyBpbiB0aGUgVHJ1dGggQ2FsbCBTZXQgZm9yIHdoaWNoIHRoZXJlIGFyZSBwYXRocyB0aHJvdWdoIHRoZSBRdWVyeSBDYWxsIFNldCB0aGF0IGFyZSBjb25zaXN0ZW50IHdpdGggYWxsIG9mIHRoZSBhbGxlbGVzIGF0IHRoaXMgc2l0ZSwgYW5kIGZvciB3aGljaCB0aGVyZSBpcyBhbiBhY2N1cmF0ZSBnZW5vdHlwZSBjYWxsIGZvciB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgdHJ1dGhUUD86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucXVhbGl0eS50cnV0aFRQXHJcbiAgICovXHJcbiAgX3RydXRoVFA/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRydWUgcG9zaXRpdmVzLCBmcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiB0aGUgcXVlcnkgZGF0YSwgaS5lLiB0aGUgbnVtYmVyIG9mIHNpdGVzIGluIHRoZSBRdWVyeSBDYWxsIFNldCBmb3Igd2hpY2ggdGhlcmUgYXJlIHBhdGhzIHRocm91Z2ggdGhlIFRydXRoIENhbGwgU2V0IHRoYXQgYXJlIGNvbnNpc3RlbnQgd2l0aCBhbGwgb2YgdGhlIGFsbGVsZXMgYXQgdGhpcyBzaXRlLCBhbmQgZm9yIHdoaWNoIHRoZXJlIGlzIGFuIGFjY3VyYXRlIGdlbm90eXBlIGNhbGwgZm9yIHRoZSBldmVudC5cclxuICAgKi9cclxuICBxdWVyeVRQPzogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5xdWFsaXR5LnF1ZXJ5VFBcclxuICAgKi9cclxuICBfcXVlcnlUUD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRmFsc2UgbmVnYXRpdmVzLCBpLmUuIHRoZSBudW1iZXIgb2Ygc2l0ZXMgaW4gdGhlIFRydXRoIENhbGwgU2V0IGZvciB3aGljaCB0aGVyZSBpcyBubyBwYXRoIHRocm91Z2ggdGhlIFF1ZXJ5IENhbGwgU2V0IHRoYXQgaXMgY29uc2lzdGVudCB3aXRoIGFsbCBvZiB0aGUgYWxsZWxlcyBhdCB0aGlzIHNpdGUsIG9yIHNpdGVzIGZvciB3aGljaCB0aGVyZSBpcyBhbiBpbmFjY3VyYXRlIGdlbm90eXBlIGNhbGwgZm9yIHRoZSBldmVudC4gU2l0ZXMgd2l0aCBjb3JyZWN0IHZhcmlhbnQgYnV0IGluY29ycmVjdCBnZW5vdHlwZSBhcmUgY291bnRlZCBoZXJlLlxyXG4gICAqL1xyXG4gIHRydXRoRk4/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnF1YWxpdHkudHJ1dGhGTlxyXG4gICAqL1xyXG4gIF90cnV0aEZOPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBGYWxzZSBwb3NpdGl2ZXMsIGkuZS4gdGhlIG51bWJlciBvZiBzaXRlcyBpbiB0aGUgUXVlcnkgQ2FsbCBTZXQgZm9yIHdoaWNoIHRoZXJlIGlzIG5vIHBhdGggdGhyb3VnaCB0aGUgVHJ1dGggQ2FsbCBTZXQgdGhhdCBpcyBjb25zaXN0ZW50IHdpdGggdGhpcyBzaXRlLiBTaXRlcyB3aXRoIGNvcnJlY3QgdmFyaWFudCBidXQgaW5jb3JyZWN0IGdlbm90eXBlIGFyZSBjb3VudGVkIGhlcmUuXHJcbiAgICovXHJcbiAgcXVlcnlGUD86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucXVhbGl0eS5xdWVyeUZQXHJcbiAgICovXHJcbiAgX3F1ZXJ5RlA/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgZmFsc2UgcG9zaXRpdmVzIHdoZXJlIHRoZSBub24tUkVGIGFsbGVsZXMgaW4gdGhlIFRydXRoIGFuZCBRdWVyeSBDYWxsIFNldHMgbWF0Y2ggKGkuZS4gY2FzZXMgd2hlcmUgdGhlIHRydXRoIGlzIDEvMSBhbmQgdGhlIHF1ZXJ5IGlzIDAvMSBvciBzaW1pbGFyKS5cclxuICAgKi9cclxuICBndEZQPzogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5xdWFsaXR5Lmd0RlBcclxuICAgKi9cclxuICBfZ3RGUD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUVVFUlkuVFAgLyAoUVVFUlkuVFAgKyBRVUVSWS5GUCkuXHJcbiAgICovXHJcbiAgcHJlY2lzaW9uPzogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5xdWFsaXR5LnByZWNpc2lvblxyXG4gICAqL1xyXG4gIF9wcmVjaXNpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRSVVRILlRQIC8gKFRSVVRILlRQICsgVFJVVEguRk4pLlxyXG4gICAqL1xyXG4gIHJlY2FsbD86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucXVhbGl0eS5yZWNhbGxcclxuICAgKi9cclxuICBfcmVjYWxsPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBIYXJtb25pYyBtZWFuIG9mIFJlY2FsbCBhbmQgUHJlY2lzaW9uLCBjb21wdXRlZCBhczogMiAqIHByZWNpc2lvbiAqIHJlY2FsbCAvIChwcmVjaXNpb24gKyByZWNhbGwpLlxyXG4gICAqL1xyXG4gIGZTY29yZT86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucXVhbGl0eS5mU2NvcmVcclxuICAgKi9cclxuICBfZlNjb3JlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBSZWNlaXZlciBPcGVyYXRvciBDaGFyYWN0ZXJpc3RpYyAoUk9DKSBDdXJ2ZSAgdG8gZ2l2ZSBzZW5zaXRpdml0eS9zcGVjaWZpY2l0eSB0cmFkZW9mZi5cclxuICAgKi9cclxuICByb2M/OiBmaGlyLk1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eVJvY0FyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgYXR0cmlidXRlIHRoYXQgZGVmaW5lcyB0aGUgcXVhbGl0eSBvZiB0aGUgZmVhdHVyZSBpbiBhIHF1YW50aXRhdGl2ZSB3YXksIHN1Y2ggYXMgYSBwaHJlZCBxdWFsaXR5IHNjb3JlIChbU086MDAwMTY4Nl0oaHR0cDovL3d3dy5zZXF1ZW5jZW9udG9sb2d5Lm9yZy9icm93c2VyL2N1cnJlbnRfc3ZuL3Rlcm0vU086MDAwMTY4NikpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01vbGVjdWxhclNlcXVlbmNlUXVhbGl0eSc7XHJcbiAgLyoqXHJcbiAgICogSU5ERUwgLyBTTlAgLyBVbmRlZmluZWQgdmFyaWFudC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyQ29kZTxRdWFsaXR5VHlwZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEdvbGQgc3RhbmRhcmQgc2VxdWVuY2UgdXNlZCBmb3IgY29tcGFyaW5nIGFnYWluc3QuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YW5kYXJkU2VxdWVuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RhcnQgcG9zaXRpb24gb2YgdGhlIHNlcXVlbmNlLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgZWl0aGVyIDAtYmFzZWQgb3IgMS1iYXNlZCwgdGhlbiBzdGFydCBwb3NpdGlvbiBpcyBpbmNsdXNpdmUuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXJ0PzogZmhpci5GaGlySW50ZWdlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRW5kIHBvc2l0aW9uIG9mIHRoZSBzZXF1ZW5jZS4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIDAtYmFzZWQgdGhlbiBlbmQgaXMgZXhjbHVzaXZlIGFuZCBkb2VzIG5vdCBpbmNsdWRlIHRoZSBsYXN0IHBvc2l0aW9uLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMS1iYXNlLCB0aGVuIGVuZCBpcyBpbmNsdXNpdmUgYW5kIGluY2x1ZGVzIHRoZSBsYXN0IHBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmQ/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2NvcmUgb2YgYW4gZXhwZXJpbWVudGFsbHkgZGVyaXZlZCBmZWF0dXJlIHN1Y2ggYXMgYSBwLXZhbHVlIChbU086MDAwMTY4NV0oaHR0cDovL3d3dy5zZXF1ZW5jZW9udG9sb2d5Lm9yZy9icm93c2VyL2N1cnJlbnRfc3ZuL3Rlcm0vU086MDAwMTY4NSkpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzY29yZT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoaWNoIG1ldGhvZCBpcyB1c2VkIHRvIGdldCBzZXF1ZW5jZSBxdWFsaXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHJ1ZSBwb3NpdGl2ZXMsIGZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIHRoZSB0cnV0aCBkYXRhLCBpLmUuIHRoZSBudW1iZXIgb2Ygc2l0ZXMgaW4gdGhlIFRydXRoIENhbGwgU2V0IGZvciB3aGljaCB0aGVyZSBhcmUgcGF0aHMgdGhyb3VnaCB0aGUgUXVlcnkgQ2FsbCBTZXQgdGhhdCBhcmUgY29uc2lzdGVudCB3aXRoIGFsbCBvZiB0aGUgYWxsZWxlcyBhdCB0aGlzIHNpdGUsIGFuZCBmb3Igd2hpY2ggdGhlcmUgaXMgYW4gYWNjdXJhdGUgZ2Vub3R5cGUgY2FsbCBmb3IgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0cnV0aFRQPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHJ1ZSBwb3NpdGl2ZXMsIGZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIHRoZSBxdWVyeSBkYXRhLCBpLmUuIHRoZSBudW1iZXIgb2Ygc2l0ZXMgaW4gdGhlIFF1ZXJ5IENhbGwgU2V0IGZvciB3aGljaCB0aGVyZSBhcmUgcGF0aHMgdGhyb3VnaCB0aGUgVHJ1dGggQ2FsbCBTZXQgdGhhdCBhcmUgY29uc2lzdGVudCB3aXRoIGFsbCBvZiB0aGUgYWxsZWxlcyBhdCB0aGlzIHNpdGUsIGFuZCBmb3Igd2hpY2ggdGhlcmUgaXMgYW4gYWNjdXJhdGUgZ2Vub3R5cGUgY2FsbCBmb3IgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWVyeVRQPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRmFsc2UgbmVnYXRpdmVzLCBpLmUuIHRoZSBudW1iZXIgb2Ygc2l0ZXMgaW4gdGhlIFRydXRoIENhbGwgU2V0IGZvciB3aGljaCB0aGVyZSBpcyBubyBwYXRoIHRocm91Z2ggdGhlIFF1ZXJ5IENhbGwgU2V0IHRoYXQgaXMgY29uc2lzdGVudCB3aXRoIGFsbCBvZiB0aGUgYWxsZWxlcyBhdCB0aGlzIHNpdGUsIG9yIHNpdGVzIGZvciB3aGljaCB0aGVyZSBpcyBhbiBpbmFjY3VyYXRlIGdlbm90eXBlIGNhbGwgZm9yIHRoZSBldmVudC4gU2l0ZXMgd2l0aCBjb3JyZWN0IHZhcmlhbnQgYnV0IGluY29ycmVjdCBnZW5vdHlwZSBhcmUgY291bnRlZCBoZXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0cnV0aEZOPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRmFsc2UgcG9zaXRpdmVzLCBpLmUuIHRoZSBudW1iZXIgb2Ygc2l0ZXMgaW4gdGhlIFF1ZXJ5IENhbGwgU2V0IGZvciB3aGljaCB0aGVyZSBpcyBubyBwYXRoIHRocm91Z2ggdGhlIFRydXRoIENhbGwgU2V0IHRoYXQgaXMgY29uc2lzdGVudCB3aXRoIHRoaXMgc2l0ZS4gU2l0ZXMgd2l0aCBjb3JyZWN0IHZhcmlhbnQgYnV0IGluY29ycmVjdCBnZW5vdHlwZSBhcmUgY291bnRlZCBoZXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWVyeUZQPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiBmYWxzZSBwb3NpdGl2ZXMgd2hlcmUgdGhlIG5vbi1SRUYgYWxsZWxlcyBpbiB0aGUgVHJ1dGggYW5kIFF1ZXJ5IENhbGwgU2V0cyBtYXRjaCAoaS5lLiBjYXNlcyB3aGVyZSB0aGUgdHJ1dGggaXMgMS8xIGFuZCB0aGUgcXVlcnkgaXMgMC8xIG9yIHNpbWlsYXIpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBndEZQPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUVVFUlkuVFAgLyAoUVVFUlkuVFAgKyBRVUVSWS5GUCkuXHJcbiAgICovXHJcbiAgcHVibGljIHByZWNpc2lvbj86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRSVVRILlRQIC8gKFRSVVRILlRQICsgVFJVVEguRk4pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNhbGw/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIYXJtb25pYyBtZWFuIG9mIFJlY2FsbCBhbmQgUHJlY2lzaW9uLCBjb21wdXRlZCBhczogMiAqIHByZWNpc2lvbiAqIHJlY2FsbCAvIChwcmVjaXNpb24gKyByZWNhbGwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmU2NvcmU/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWNlaXZlciBPcGVyYXRvciBDaGFyYWN0ZXJpc3RpYyAoUk9DKSBDdXJ2ZSAgdG8gZ2l2ZSBzZW5zaXRpdml0eS9zcGVjaWZpY2l0eSB0cmFkZW9mZi5cclxuICAgKi9cclxuICBwdWJsaWMgcm9jPzogZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVF1YWxpdHlSb2N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8UXVhbGl0eVR5cGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFF1YWxpdHlUeXBlQ29kZVR5cGU+KHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhbmRhcmRTZXF1ZW5jZSddKSB7IHRoaXMuc3RhbmRhcmRTZXF1ZW5jZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhbmRhcmRTZXF1ZW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXJ0J10pIHsgdGhpcy5zdGFydCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLnN0YXJ0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGFydCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXJ0KSB7IHRoaXMuc3RhcnQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhcnQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGFydCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fc3RhcnQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydlbmQnXSkgeyB0aGlzLmVuZCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLmVuZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZW5kJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZW5kKSB7IHRoaXMuZW5kLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2VuZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmVuZCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fZW5kIGFzIFBhcnRpYWw8Zmhpci5GaGlySW50ZWdlckFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2NvcmUnXSkgeyB0aGlzLnNjb3JlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnNjb3JlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWV0aG9kJ10pIHsgdGhpcy5tZXRob2QgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLm1ldGhvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RydXRoVFAnXSkgeyB0aGlzLnRydXRoVFAgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS50cnV0aFRQfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190cnV0aFRQJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHJ1dGhUUCkgeyB0aGlzLnRydXRoVFAuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHJ1dGhUUCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnRydXRoVFAgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX3RydXRoVFAgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydxdWVyeVRQJ10pIHsgdGhpcy5xdWVyeVRQID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UucXVlcnlUUH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcXVlcnlUUCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnF1ZXJ5VFApIHsgdGhpcy5xdWVyeVRQLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3F1ZXJ5VFAhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5xdWVyeVRQID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9xdWVyeVRQIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndHJ1dGhGTiddKSB7IHRoaXMudHJ1dGhGTiA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLnRydXRoRk59KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3RydXRoRk4nXSkge1xyXG4gICAgICBpZiAodGhpcy50cnV0aEZOKSB7IHRoaXMudHJ1dGhGTi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90cnV0aEZOISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHJ1dGhGTiA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fdHJ1dGhGTiBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3F1ZXJ5RlAnXSkgeyB0aGlzLnF1ZXJ5RlAgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5xdWVyeUZQfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19xdWVyeUZQJ10pIHtcclxuICAgICAgaWYgKHRoaXMucXVlcnlGUCkgeyB0aGlzLnF1ZXJ5RlAuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcXVlcnlGUCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnF1ZXJ5RlAgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX3F1ZXJ5RlAgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydndEZQJ10pIHsgdGhpcy5ndEZQID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UuZ3RGUH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZ3RGUCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmd0RlApIHsgdGhpcy5ndEZQLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2d0RlAhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5ndEZQID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9ndEZQIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJlY2lzaW9uJ10pIHsgdGhpcy5wcmVjaXNpb24gPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5wcmVjaXNpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ByZWNpc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByZWNpc2lvbikgeyB0aGlzLnByZWNpc2lvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcmVjaXNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcmVjaXNpb24gPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX3ByZWNpc2lvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlY2FsbCddKSB7IHRoaXMucmVjYWxsID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UucmVjYWxsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19yZWNhbGwnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZWNhbGwpIHsgdGhpcy5yZWNhbGwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcmVjYWxsISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVjYWxsID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9yZWNhbGwgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydmU2NvcmUnXSkgeyB0aGlzLmZTY29yZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmZTY29yZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZlNjb3JlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZlNjb3JlKSB7IHRoaXMuZlNjb3JlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ZTY29yZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZTY29yZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fZlNjb3JlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncm9jJ10pIHsgdGhpcy5yb2MgPSBuZXcgZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVF1YWxpdHlSb2Moc291cmNlLnJvYyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNb2xlY3VsYXJTZXF1ZW5jZS5xdWFsaXR5JyB9XHJcbiAgICB0aGlzLnZSU1YoJ3R5cGUnLGV4cCwnUXVhbGl0eVR5cGUnLFF1YWxpdHlUeXBlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdzdGFuZGFyZFNlcXVlbmNlJyxleHApXHJcbiAgICB0aGlzLnZPUygnc3RhcnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdlbmQnLGV4cClcclxuICAgIHRoaXMudk9TKCdzY29yZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ21ldGhvZCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3RydXRoVFAnLGV4cClcclxuICAgIHRoaXMudk9TKCdxdWVyeVRQJyxleHApXHJcbiAgICB0aGlzLnZPUygndHJ1dGhGTicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3F1ZXJ5RlAnLGV4cClcclxuICAgIHRoaXMudk9TKCdndEZQJyxleHApXHJcbiAgICB0aGlzLnZPUygncHJlY2lzaW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVjYWxsJyxleHApXHJcbiAgICB0aGlzLnZPUygnZlNjb3JlJyxleHApXHJcbiAgICB0aGlzLnZPUygncm9jJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTW9sZWN1bGFyU2VxdWVuY2VSZXBvc2l0b3J5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1vbGVjdWxhclNlcXVlbmNlUmVwb3NpdG9yeUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENsaWNrIGFuZCBzZWUgLyBSRVNUZnVsIEFQSSAvIE5lZWQgbG9naW4gdG8gc2VlIC8gUkVTVGZ1bCBBUEkgd2l0aCBhdXRoZW50aWNhdGlvbiAvIE90aGVyIHdheXMgdG8gc2VlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuRmhpckNvZGU8UmVwb3NpdG9yeVR5cGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucmVwb3NpdG9yeS50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFVSSSBvZiBhbiBleHRlcm5hbCByZXBvc2l0b3J5IHdoaWNoIGNvbnRhaW5zIGZ1cnRoZXIgZGV0YWlscyBhYm91dCB0aGUgZ2VuZXRpY3MgZGF0YS5cclxuICAgKi9cclxuICB1cmw/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UucmVwb3NpdG9yeS51cmxcclxuICAgKi9cclxuICBfdXJsPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBVUkkgb2YgYW4gZXh0ZXJuYWwgcmVwb3NpdG9yeSB3aGljaCBjb250YWlucyBmdXJ0aGVyIGRldGFpbHMgYWJvdXQgdGhlIGdlbmV0aWNzIGRhdGEuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5yZXBvc2l0b3J5Lm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWQgb2YgdGhlIHZhcmlhbnQgaW4gdGhpcyBleHRlcm5hbCByZXBvc2l0b3J5LiBUaGUgc2VydmVyIHdpbGwgdW5kZXJzdGFuZCBob3cgdG8gdXNlIHRoaXMgaWQgdG8gY2FsbCBmb3IgbW9yZSBpbmZvIGFib3V0IGRhdGFzZXRzIGluIGV4dGVybmFsIHJlcG9zaXRvcnkuXHJcbiAgICovXHJcbiAgZGF0YXNldElkPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnJlcG9zaXRvcnkuZGF0YXNldElkXHJcbiAgICovXHJcbiAgX2RhdGFzZXRJZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWQgb2YgdGhlIHZhcmlhbnRzZXQgaW4gdGhpcyBleHRlcm5hbCByZXBvc2l0b3J5LiBUaGUgc2VydmVyIHdpbGwgdW5kZXJzdGFuZCBob3cgdG8gdXNlIHRoaXMgaWQgdG8gY2FsbCBmb3IgbW9yZSBpbmZvIGFib3V0IHZhcmlhbnRzZXRzIGluIGV4dGVybmFsIHJlcG9zaXRvcnkuXHJcbiAgICovXHJcbiAgdmFyaWFudHNldElkPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnJlcG9zaXRvcnkudmFyaWFudHNldElkXHJcbiAgICovXHJcbiAgX3ZhcmlhbnRzZXRJZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWQgb2YgdGhlIHJlYWQgaW4gdGhpcyBleHRlcm5hbCByZXBvc2l0b3J5LlxyXG4gICAqL1xyXG4gIHJlYWRzZXRJZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS5yZXBvc2l0b3J5LnJlYWRzZXRJZFxyXG4gICAqL1xyXG4gIF9yZWFkc2V0SWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogQ29uZmlndXJhdGlvbnMgb2YgdGhlIGV4dGVybmFsIHJlcG9zaXRvcnkuIFRoZSByZXBvc2l0b3J5IHNoYWxsIHN0b3JlIHRhcmdldCdzIG9ic2VydmVkU2VxIG9yIHJlY29yZHMgcmVsYXRlZCB3aXRoIHRhcmdldCdzIG9ic2VydmVkU2VxLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1vbGVjdWxhclNlcXVlbmNlUmVwb3NpdG9yeSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01vbGVjdWxhclNlcXVlbmNlUmVwb3NpdG9yeSc7XHJcbiAgLyoqXHJcbiAgICogQ2xpY2sgYW5kIHNlZSAvIFJFU1RmdWwgQVBJIC8gTmVlZCBsb2dpbiB0byBzZWUgLyBSRVNUZnVsIEFQSSB3aXRoIGF1dGhlbnRpY2F0aW9uIC8gT3RoZXIgd2F5cyB0byBzZWUgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuRmhpckNvZGU8UmVwb3NpdG9yeVR5cGVDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBVUkkgb2YgYW4gZXh0ZXJuYWwgcmVwb3NpdG9yeSB3aGljaCBjb250YWlucyBmdXJ0aGVyIGRldGFpbHMgYWJvdXQgdGhlIGdlbmV0aWNzIGRhdGEuXHJcbiAgICovXHJcbiAgcHVibGljIHVybD86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVVJJIG9mIGFuIGV4dGVybmFsIHJlcG9zaXRvcnkgd2hpY2ggY29udGFpbnMgZnVydGhlciBkZXRhaWxzIGFib3V0IHRoZSBnZW5ldGljcyBkYXRhLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZCBvZiB0aGUgdmFyaWFudCBpbiB0aGlzIGV4dGVybmFsIHJlcG9zaXRvcnkuIFRoZSBzZXJ2ZXIgd2lsbCB1bmRlcnN0YW5kIGhvdyB0byB1c2UgdGhpcyBpZCB0byBjYWxsIGZvciBtb3JlIGluZm8gYWJvdXQgZGF0YXNldHMgaW4gZXh0ZXJuYWwgcmVwb3NpdG9yeS5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0YXNldElkPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZCBvZiB0aGUgdmFyaWFudHNldCBpbiB0aGlzIGV4dGVybmFsIHJlcG9zaXRvcnkuIFRoZSBzZXJ2ZXIgd2lsbCB1bmRlcnN0YW5kIGhvdyB0byB1c2UgdGhpcyBpZCB0byBjYWxsIGZvciBtb3JlIGluZm8gYWJvdXQgdmFyaWFudHNldHMgaW4gZXh0ZXJuYWwgcmVwb3NpdG9yeS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFyaWFudHNldElkPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZCBvZiB0aGUgcmVhZCBpbiB0aGlzIGV4dGVybmFsIHJlcG9zaXRvcnkuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYWRzZXRJZD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTW9sZWN1bGFyU2VxdWVuY2VSZXBvc2l0b3J5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TW9sZWN1bGFyU2VxdWVuY2VSZXBvc2l0b3J5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxSZXBvc2l0b3J5VHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8UmVwb3NpdG9yeVR5cGVDb2RlVHlwZT4oc291cmNlLl90eXBlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ191cmwnXSkge1xyXG4gICAgICBpZiAodGhpcy51cmwpIHsgdGhpcy51cmwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXJsISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX3VybCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGFzZXRJZCddKSB7IHRoaXMuZGF0YXNldElkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kYXRhc2V0SWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGFzZXRJZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGFzZXRJZCkgeyB0aGlzLmRhdGFzZXRJZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRhc2V0SWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kYXRhc2V0SWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGF0YXNldElkIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2YXJpYW50c2V0SWQnXSkgeyB0aGlzLnZhcmlhbnRzZXRJZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmFyaWFudHNldElkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ192YXJpYW50c2V0SWQnXSkge1xyXG4gICAgICBpZiAodGhpcy52YXJpYW50c2V0SWQpIHsgdGhpcy52YXJpYW50c2V0SWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdmFyaWFudHNldElkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudmFyaWFudHNldElkID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZhcmlhbnRzZXRJZCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhZHNldElkJ10pIHsgdGhpcy5yZWFkc2V0SWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnJlYWRzZXRJZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVhZHNldElkJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVhZHNldElkKSB7IHRoaXMucmVhZHNldElkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlYWRzZXRJZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlYWRzZXRJZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9yZWFkc2V0SWQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNb2xlY3VsYXJTZXF1ZW5jZS5yZXBvc2l0b3J5JyB9XHJcbiAgICB0aGlzLnZSU1YoJ3R5cGUnLGV4cCwnUmVwb3NpdG9yeVR5cGUnLFJlcG9zaXRvcnlUeXBlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCd1cmwnLGV4cClcclxuICAgIHRoaXMudk9TKCduYW1lJyxleHApXHJcbiAgICB0aGlzLnZPUygnZGF0YXNldElkJyxleHApXHJcbiAgICB0aGlzLnZPUygndmFyaWFudHNldElkJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVhZHNldElkJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50T3V0ZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50T3V0ZXJBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIHZhcmlhbnQgb3V0ZXIgc3RhcnQuIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyBlaXRoZXIgMC1iYXNlZCBvciAxLWJhc2VkLCB0aGVuIHN0YXJ0IHBvc2l0aW9uIGlzIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICBzdGFydD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2Uuc3RydWN0dXJlVmFyaWFudC5vdXRlci5zdGFydFxyXG4gICAqL1xyXG4gIF9zdGFydD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogU3RydWN0dXJhbCB2YXJpYW50IG91dGVyIGVuZC4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIDAtYmFzZWQgdGhlbiBlbmQgaXMgZXhjbHVzaXZlIGFuZCBkb2VzIG5vdCBpbmNsdWRlIHRoZSBsYXN0IHBvc2l0aW9uLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMS1iYXNlLCB0aGVuIGVuZCBpcyBpbmNsdXNpdmUgYW5kIGluY2x1ZGVzIHRoZSBsYXN0IHBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIGVuZD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2Uuc3RydWN0dXJlVmFyaWFudC5vdXRlci5lbmRcclxuICAgKi9cclxuICBfZW5kPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0cnVjdHVyYWwgdmFyaWFudCBvdXRlci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNb2xlY3VsYXJTZXF1ZW5jZVN0cnVjdHVyZVZhcmlhbnRPdXRlciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudE91dGVyJztcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIHZhcmlhbnQgb3V0ZXIgc3RhcnQuIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyBlaXRoZXIgMC1iYXNlZCBvciAxLWJhc2VkLCB0aGVuIHN0YXJ0IHBvc2l0aW9uIGlzIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhcnQ/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIHZhcmlhbnQgb3V0ZXIgZW5kLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMC1iYXNlZCB0aGVuIGVuZCBpcyBleGNsdXNpdmUgYW5kIGRvZXMgbm90IGluY2x1ZGUgdGhlIGxhc3QgcG9zaXRpb24uIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyAxLWJhc2UsIHRoZW4gZW5kIGlzIGluY2x1c2l2ZSBhbmQgaW5jbHVkZXMgdGhlIGxhc3QgcG9zaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGVuZD86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudE91dGVyIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50T3V0ZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc3RhcnQnXSkgeyB0aGlzLnN0YXJ0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2Uuc3RhcnR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXJ0J10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhcnQpIHsgdGhpcy5zdGFydC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGFydCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXJ0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9zdGFydCBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2VuZCddKSB7IHRoaXMuZW5kID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UuZW5kfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19lbmQnXSkge1xyXG4gICAgICBpZiAodGhpcy5lbmQpIHsgdGhpcy5lbmQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZW5kISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZW5kID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9lbmQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTW9sZWN1bGFyU2VxdWVuY2Uuc3RydWN0dXJlVmFyaWFudC5vdXRlcicgfVxyXG4gICAgdGhpcy52T1MoJ3N0YXJ0JyxleHApXHJcbiAgICB0aGlzLnZPUygnZW5kJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50SW5uZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50SW5uZXJBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIHZhcmlhbnQgaW5uZXIgc3RhcnQuIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyBlaXRoZXIgMC1iYXNlZCBvciAxLWJhc2VkLCB0aGVuIHN0YXJ0IHBvc2l0aW9uIGlzIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICBzdGFydD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2Uuc3RydWN0dXJlVmFyaWFudC5pbm5lci5zdGFydFxyXG4gICAqL1xyXG4gIF9zdGFydD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogU3RydWN0dXJhbCB2YXJpYW50IGlubmVyIGVuZC4gSWYgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGlzIDAtYmFzZWQgdGhlbiBlbmQgaXMgZXhjbHVzaXZlIGFuZCBkb2VzIG5vdCBpbmNsdWRlIHRoZSBsYXN0IHBvc2l0aW9uLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMS1iYXNlLCB0aGVuIGVuZCBpcyBpbmNsdXNpdmUgYW5kIGluY2x1ZGVzIHRoZSBsYXN0IHBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIGVuZD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2Uuc3RydWN0dXJlVmFyaWFudC5pbm5lci5lbmRcclxuICAgKi9cclxuICBfZW5kPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0cnVjdHVyYWwgdmFyaWFudCBpbm5lci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNb2xlY3VsYXJTZXF1ZW5jZVN0cnVjdHVyZVZhcmlhbnRJbm5lciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudElubmVyJztcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIHZhcmlhbnQgaW5uZXIgc3RhcnQuIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyBlaXRoZXIgMC1iYXNlZCBvciAxLWJhc2VkLCB0aGVuIHN0YXJ0IHBvc2l0aW9uIGlzIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhcnQ/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIHZhcmlhbnQgaW5uZXIgZW5kLiBJZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgMC1iYXNlZCB0aGVuIGVuZCBpcyBleGNsdXNpdmUgYW5kIGRvZXMgbm90IGluY2x1ZGUgdGhlIGxhc3QgcG9zaXRpb24uIElmIHRoZSBjb29yZGluYXRlIHN5c3RlbSBpcyAxLWJhc2UsIHRoZW4gZW5kIGlzIGluY2x1c2l2ZSBhbmQgaW5jbHVkZXMgdGhlIGxhc3QgcG9zaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGVuZD86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudElubmVyIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50SW5uZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc3RhcnQnXSkgeyB0aGlzLnN0YXJ0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2Uuc3RhcnR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXJ0J10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhcnQpIHsgdGhpcy5zdGFydC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGFydCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXJ0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9zdGFydCBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2VuZCddKSB7IHRoaXMuZW5kID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UuZW5kfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19lbmQnXSkge1xyXG4gICAgICBpZiAodGhpcy5lbmQpIHsgdGhpcy5lbmQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZW5kISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZW5kID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9lbmQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTW9sZWN1bGFyU2VxdWVuY2Uuc3RydWN0dXJlVmFyaWFudC5pbm5lcicgfVxyXG4gICAgdGhpcy52T1MoJ3N0YXJ0JyxleHApXHJcbiAgICB0aGlzLnZPUygnZW5kJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IGNocm9tb3NvbWUgc3RydWN0dXJlIHZhcmlhdGlvbiBETkEgY2hhbmdlIHR5cGUuXHJcbiAgICovXHJcbiAgdmFyaWFudFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gaW5kaWNhdGUgaWYgdGhlIG91dGVyIGFuZCBpbm5lciBzdGFydC1lbmQgdmFsdWVzIGhhdmUgdGhlIHNhbWUgbWVhbmluZy5cclxuICAgKi9cclxuICBleGFjdD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnN0cnVjdHVyZVZhcmlhbnQuZXhhY3RcclxuICAgKi9cclxuICBfZXhhY3Q/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIExlbmd0aCBvZiB0aGUgdmFyaWFudCBjaHJvbW9zb21lLlxyXG4gICAqL1xyXG4gIGxlbmd0aD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2Uuc3RydWN0dXJlVmFyaWFudC5sZW5ndGhcclxuICAgKi9cclxuICBfbGVuZ3RoPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIHZhcmlhbnQgb3V0ZXIuXHJcbiAgICovXHJcbiAgb3V0ZXI/OiBmaGlyLk1vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudE91dGVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RydWN0dXJhbCB2YXJpYW50IGlubmVyLlxyXG4gICAqL1xyXG4gIGlubmVyPzogZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVN0cnVjdHVyZVZhcmlhbnRJbm5lckFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gYWJvdXQgY2hyb21vc29tZSBzdHJ1Y3R1cmUgdmFyaWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudCc7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgY2hyb21vc29tZSBzdHJ1Y3R1cmUgdmFyaWF0aW9uIEROQSBjaGFuZ2UgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFyaWFudFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlZCB0byBpbmRpY2F0ZSBpZiB0aGUgb3V0ZXIgYW5kIGlubmVyIHN0YXJ0LWVuZCB2YWx1ZXMgaGF2ZSB0aGUgc2FtZSBtZWFuaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleGFjdD86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExlbmd0aCBvZiB0aGUgdmFyaWFudCBjaHJvbW9zb21lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsZW5ndGg/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIHZhcmlhbnQgb3V0ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIG91dGVyPzogZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVN0cnVjdHVyZVZhcmlhbnRPdXRlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RydWN0dXJhbCB2YXJpYW50IGlubmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbm5lcj86IGZoaXIuTW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50SW5uZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1vbGVjdWxhclNlcXVlbmNlU3RydWN0dXJlVmFyaWFudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd2YXJpYW50VHlwZSddKSB7IHRoaXMudmFyaWFudFR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhcmlhbnRUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhhY3QnXSkgeyB0aGlzLmV4YWN0ID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuZXhhY3R9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2V4YWN0J10pIHtcclxuICAgICAgaWYgKHRoaXMuZXhhY3QpIHsgdGhpcy5leGFjdC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9leGFjdCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmV4YWN0ID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9leGFjdCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2xlbmd0aCddKSB7IHRoaXMubGVuZ3RoID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UubGVuZ3RofSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19sZW5ndGgnXSkge1xyXG4gICAgICBpZiAodGhpcy5sZW5ndGgpIHsgdGhpcy5sZW5ndGguYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbGVuZ3RoISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubGVuZ3RoID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9sZW5ndGggYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvdXRlciddKSB7IHRoaXMub3V0ZXIgPSBuZXcgZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVN0cnVjdHVyZVZhcmlhbnRPdXRlcihzb3VyY2Uub3V0ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbm5lciddKSB7IHRoaXMuaW5uZXIgPSBuZXcgZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVN0cnVjdHVyZVZhcmlhbnRJbm5lcihzb3VyY2UuaW5uZXIpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTW9sZWN1bGFyU2VxdWVuY2Uuc3RydWN0dXJlVmFyaWFudCcgfVxyXG4gICAgdGhpcy52T1MoJ3ZhcmlhbnRUeXBlJyxleHApXHJcbiAgICB0aGlzLnZPUygnZXhhY3QnLGV4cClcclxuICAgIHRoaXMudk9TKCdsZW5ndGgnLGV4cClcclxuICAgIHRoaXMudk9TKCdvdXRlcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2lubmVyJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTW9sZWN1bGFyU2VxdWVuY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTW9sZWN1bGFyU2VxdWVuY2VBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJNb2xlY3VsYXJTZXF1ZW5jZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHBhcnRpY3VsYXIgc2VxdWVuY2UgaW5zdGFuY2UuIFRoaXMgaXMgYSBGSElSLWRlZmluZWQgaWQuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW1pbm8gQWNpZCBTZXF1ZW5jZS8gRE5BIFNlcXVlbmNlIC8gUk5BIFNlcXVlbmNlLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkZoaXJDb2RlPFNlcXVlbmNlVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNb2xlY3VsYXJTZXF1ZW5jZS50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIHNlcXVlbmNlIGlzIG51bWJlcmVkIHN0YXJ0aW5nIGF0IDAgKDAtYmFzZWQgbnVtYmVyaW5nIG9yIGNvb3JkaW5hdGVzLCBpbmNsdXNpdmUgc3RhcnQsIGV4Y2x1c2l2ZSBlbmQpIG9yIHN0YXJ0aW5nIGF0IDEgKDEtYmFzZWQgbnVtYmVyaW5nLCBpbmNsdXNpdmUgc3RhcnQgYW5kIGluY2x1c2l2ZSBlbmQpLlxyXG4gICAqL1xyXG4gIGNvb3JkaW5hdGVTeXN0ZW06IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2UuY29vcmRpbmF0ZVN5c3RlbVxyXG4gICAqL1xyXG4gIF9jb29yZGluYXRlU3lzdGVtPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcGF0aWVudCB3aG9zZSBzZXF1ZW5jaW5nIHJlc3VsdHMgYXJlIGRlc2NyaWJlZCBieSB0aGlzIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHBhdGllbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpbWVuIHVzZWQgZm9yIHNlcXVlbmNpbmcuXHJcbiAgICovXHJcbiAgc3BlY2ltZW4/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgZm9yIHNlcXVlbmNpbmcsIGZvciBleGFtcGxlLCBjaGlwIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIGRldmljZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXphdGlvbiBvciBsYWIgdGhhdCBzaG91bGQgYmUgcmVzcG9uc2libGUgZm9yIHRoaXMgcmVzdWx0LlxyXG4gICAqL1xyXG4gIHBlcmZvcm1lcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiBjb3BpZXMgb2YgdGhlIHNlcXVlbmNlIG9mIGludGVyZXN0LiAoUk5BU2VxKS5cclxuICAgKi9cclxuICBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNlcXVlbmNlIHRoYXQgaXMgdXNlZCBhcyBhIHJlZmVyZW5jZSB0byBkZXNjcmliZSB2YXJpYW50cyB0aGF0IGFyZSBwcmVzZW50IGluIGEgc2VxdWVuY2UgYW5hbHl6ZWQuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlU2VxPzogZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVJlZmVyZW5jZVNlcUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZWZpbml0aW9uIG9mIHZhcmlhbnQgaGVyZSBvcmlnaW5hdGVzIGZyb20gU2VxdWVuY2Ugb250b2xvZ3kgKFt2YXJpYW50X29mXShodHRwOi8vd3d3LnNlcXVlbmNlb250b2xvZ3kub3JnL2Jyb3dzZXIvY3VycmVudF9zdm4vdGVybS92YXJpYW50X29mKSkuIFRoaXMgZWxlbWVudCBjYW4gcmVwcmVzZW50IGFtaW5vIGFjaWQgb3IgbnVjbGVpYyBzZXF1ZW5jZSBjaGFuZ2UoaW5jbHVkaW5nIGluc2VydGlvbixkZWxldGlvbixTTlAsZXRjLikgIEl0IGNhbiByZXByZXNlbnQgc29tZSBjb21wbGV4IG11dGF0aW9uIG9yIHNlZ21lbnQgdmFyaWF0aW9uIHdpdGggdGhlIGFzc2lzdCBvZiBDSUdBUiBzdHJpbmcuXHJcbiAgICovXHJcbiAgdmFyaWFudD86IGZoaXIuTW9sZWN1bGFyU2VxdWVuY2VWYXJpYW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTZXF1ZW5jZSB0aGF0IHdhcyBvYnNlcnZlZC4gSXQgaXMgdGhlIHJlc3VsdCBtYXJrZWQgYnkgcmVmZXJlbmNlU2VxIGFsb25nIHdpdGggdmFyaWFudCByZWNvcmRzIG9uIHJlZmVyZW5jZVNlcS4gVGhpcyBzaGFsbCBzdGFydCBmcm9tIHJlZmVyZW5jZVNlcS53aW5kb3dTdGFydCBhbmQgZW5kIGJ5IHJlZmVyZW5jZVNlcS53aW5kb3dFbmQuXHJcbiAgICovXHJcbiAgb2JzZXJ2ZWRTZXE/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTW9sZWN1bGFyU2VxdWVuY2Uub2JzZXJ2ZWRTZXFcclxuICAgKi9cclxuICBfb2JzZXJ2ZWRTZXE/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGF0dHJpYnV0ZSB0aGF0IGRlZmluZXMgdGhlIHF1YWxpdHkgb2YgdGhlIGZlYXR1cmUgaW4gYSBxdWFudGl0YXRpdmUgd2F5LCBzdWNoIGFzIGEgcGhyZWQgcXVhbGl0eSBzY29yZSAoW1NPOjAwMDE2ODZdKGh0dHA6Ly93d3cuc2VxdWVuY2VvbnRvbG9neS5vcmcvYnJvd3Nlci9jdXJyZW50X3N2bi90ZXJtL1NPOjAwMDE2ODYpKS5cclxuICAgKi9cclxuICBxdWFsaXR5PzogZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVF1YWxpdHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvdmVyYWdlIChyZWFkIGRlcHRoIG9yIGRlcHRoKSBpcyB0aGUgYXZlcmFnZSBudW1iZXIgb2YgcmVhZHMgcmVwcmVzZW50aW5nIGEgZ2l2ZW4gbnVjbGVvdGlkZSBpbiB0aGUgcmVjb25zdHJ1Y3RlZCBzZXF1ZW5jZS5cclxuICAgKi9cclxuICByZWFkQ292ZXJhZ2U/OiBmaGlyLkZoaXJJbnRlZ2VyfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1vbGVjdWxhclNlcXVlbmNlLnJlYWRDb3ZlcmFnZVxyXG4gICAqL1xyXG4gIF9yZWFkQ292ZXJhZ2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvbmZpZ3VyYXRpb25zIG9mIHRoZSBleHRlcm5hbCByZXBvc2l0b3J5LiBUaGUgcmVwb3NpdG9yeSBzaGFsbCBzdG9yZSB0YXJnZXQncyBvYnNlcnZlZFNlcSBvciByZWNvcmRzIHJlbGF0ZWQgd2l0aCB0YXJnZXQncyBvYnNlcnZlZFNlcS5cclxuICAgKi9cclxuICByZXBvc2l0b3J5PzogZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVJlcG9zaXRvcnlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBvaW50ZXIgdG8gbmV4dCBhdG9taWMgc2VxdWVuY2Ugd2hpY2ggYXQgbW9zdCBjb250YWlucyBvbmUgdmFyaWFudC5cclxuICAgKi9cclxuICBwb2ludGVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IGNocm9tb3NvbWUgc3RydWN0dXJlIHZhcmlhdGlvbi5cclxuICAgKi9cclxuICBzdHJ1Y3R1cmVWYXJpYW50PzogZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVN0cnVjdHVyZVZhcmlhbnRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogUmF3IGRhdGEgZGVzY3JpYmluZyBhIGJpb2xvZ2ljYWwgc2VxdWVuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTW9sZWN1bGFyU2VxdWVuY2UgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01vbGVjdWxhclNlcXVlbmNlJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIk1vbGVjdWxhclNlcXVlbmNlXCI7XHJcbiAgLyoqXHJcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBwYXJ0aWN1bGFyIHNlcXVlbmNlIGluc3RhbmNlLiBUaGlzIGlzIGEgRkhJUi1kZWZpbmVkIGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBBbWlubyBBY2lkIFNlcXVlbmNlLyBETkEgU2VxdWVuY2UgLyBSTkEgU2VxdWVuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlPFNlcXVlbmNlVHlwZUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciB0aGUgc2VxdWVuY2UgaXMgbnVtYmVyZWQgc3RhcnRpbmcgYXQgMCAoMC1iYXNlZCBudW1iZXJpbmcgb3IgY29vcmRpbmF0ZXMsIGluY2x1c2l2ZSBzdGFydCwgZXhjbHVzaXZlIGVuZCkgb3Igc3RhcnRpbmcgYXQgMSAoMS1iYXNlZCBudW1iZXJpbmcsIGluY2x1c2l2ZSBzdGFydCBhbmQgaW5jbHVzaXZlIGVuZCkuXHJcbiAgICovXHJcbiAgcHVibGljIGNvb3JkaW5hdGVTeXN0ZW06IGZoaXIuRmhpckludGVnZXJ8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGF0aWVudCB3aG9zZSBzZXF1ZW5jaW5nIHJlc3VsdHMgYXJlIGRlc2NyaWJlZCBieSB0aGlzIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpbWVuIHVzZWQgZm9yIHNlcXVlbmNpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpbWVuPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgZm9yIHNlcXVlbmNpbmcsIGZvciBleGFtcGxlLCBjaGlwIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXZpY2U/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXphdGlvbiBvciBsYWIgdGhhdCBzaG91bGQgYmUgcmVzcG9uc2libGUgZm9yIHRoaXMgcmVzdWx0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJmb3JtZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiBjb3BpZXMgb2YgdGhlIHNlcXVlbmNlIG9mIGludGVyZXN0LiAoUk5BU2VxKS5cclxuICAgKi9cclxuICBwdWJsaWMgcXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNlcXVlbmNlIHRoYXQgaXMgdXNlZCBhcyBhIHJlZmVyZW5jZSB0byBkZXNjcmliZSB2YXJpYW50cyB0aGF0IGFyZSBwcmVzZW50IGluIGEgc2VxdWVuY2UgYW5hbHl6ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZVNlcT86IGZoaXIuTW9sZWN1bGFyU2VxdWVuY2VSZWZlcmVuY2VTZXF8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZWZpbml0aW9uIG9mIHZhcmlhbnQgaGVyZSBvcmlnaW5hdGVzIGZyb20gU2VxdWVuY2Ugb250b2xvZ3kgKFt2YXJpYW50X29mXShodHRwOi8vd3d3LnNlcXVlbmNlb250b2xvZ3kub3JnL2Jyb3dzZXIvY3VycmVudF9zdm4vdGVybS92YXJpYW50X29mKSkuIFRoaXMgZWxlbWVudCBjYW4gcmVwcmVzZW50IGFtaW5vIGFjaWQgb3IgbnVjbGVpYyBzZXF1ZW5jZSBjaGFuZ2UoaW5jbHVkaW5nIGluc2VydGlvbixkZWxldGlvbixTTlAsZXRjLikgIEl0IGNhbiByZXByZXNlbnQgc29tZSBjb21wbGV4IG11dGF0aW9uIG9yIHNlZ21lbnQgdmFyaWF0aW9uIHdpdGggdGhlIGFzc2lzdCBvZiBDSUdBUiBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHZhcmlhbnQ6IGZoaXIuTW9sZWN1bGFyU2VxdWVuY2VWYXJpYW50W107XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2UgdGhhdCB3YXMgb2JzZXJ2ZWQuIEl0IGlzIHRoZSByZXN1bHQgbWFya2VkIGJ5IHJlZmVyZW5jZVNlcSBhbG9uZyB3aXRoIHZhcmlhbnQgcmVjb3JkcyBvbiByZWZlcmVuY2VTZXEuIFRoaXMgc2hhbGwgc3RhcnQgZnJvbSByZWZlcmVuY2VTZXEud2luZG93U3RhcnQgYW5kIGVuZCBieSByZWZlcmVuY2VTZXEud2luZG93RW5kLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvYnNlcnZlZFNlcT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgYXR0cmlidXRlIHRoYXQgZGVmaW5lcyB0aGUgcXVhbGl0eSBvZiB0aGUgZmVhdHVyZSBpbiBhIHF1YW50aXRhdGl2ZSB3YXksIHN1Y2ggYXMgYSBwaHJlZCBxdWFsaXR5IHNjb3JlIChbU086MDAwMTY4Nl0oaHR0cDovL3d3dy5zZXF1ZW5jZW9udG9sb2d5Lm9yZy9icm93c2VyL2N1cnJlbnRfc3ZuL3Rlcm0vU086MDAwMTY4NikpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFsaXR5OiBmaGlyLk1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIENvdmVyYWdlIChyZWFkIGRlcHRoIG9yIGRlcHRoKSBpcyB0aGUgYXZlcmFnZSBudW1iZXIgb2YgcmVhZHMgcmVwcmVzZW50aW5nIGEgZ2l2ZW4gbnVjbGVvdGlkZSBpbiB0aGUgcmVjb25zdHJ1Y3RlZCBzZXF1ZW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhZENvdmVyYWdlPzogZmhpci5GaGlySW50ZWdlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29uZmlndXJhdGlvbnMgb2YgdGhlIGV4dGVybmFsIHJlcG9zaXRvcnkuIFRoZSByZXBvc2l0b3J5IHNoYWxsIHN0b3JlIHRhcmdldCdzIG9ic2VydmVkU2VxIG9yIHJlY29yZHMgcmVsYXRlZCB3aXRoIHRhcmdldCdzIG9ic2VydmVkU2VxLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXBvc2l0b3J5OiBmaGlyLk1vbGVjdWxhclNlcXVlbmNlUmVwb3NpdG9yeVtdO1xyXG4gIC8qKlxyXG4gICAqIFBvaW50ZXIgdG8gbmV4dCBhdG9taWMgc2VxdWVuY2Ugd2hpY2ggYXQgbW9zdCBjb250YWlucyBvbmUgdmFyaWFudC5cclxuICAgKi9cclxuICBwdWJsaWMgcG9pbnRlcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCBjaHJvbW9zb21lIHN0cnVjdHVyZSB2YXJpYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHN0cnVjdHVyZVZhcmlhbnQ6IGZoaXIuTW9sZWN1bGFyU2VxdWVuY2VTdHJ1Y3R1cmVWYXJpYW50W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTW9sZWN1bGFyU2VxdWVuY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNb2xlY3VsYXJTZXF1ZW5jZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdNb2xlY3VsYXJTZXF1ZW5jZSc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8U2VxdWVuY2VUeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnR5cGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFNlcXVlbmNlVHlwZUNvZGVUeXBlPihzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Nvb3JkaW5hdGVTeXN0ZW0nXSkgeyB0aGlzLmNvb3JkaW5hdGVTeXN0ZW0gPSBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHNvdXJjZS5jb29yZGluYXRlU3lzdGVtfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvb3JkaW5hdGVTeXN0ZW0gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29vcmRpbmF0ZVN5c3RlbSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvb3JkaW5hdGVTeXN0ZW0pIHsgdGhpcy5jb29yZGluYXRlU3lzdGVtLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Nvb3JkaW5hdGVTeXN0ZW0hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb29yZGluYXRlU3lzdGVtID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9jb29yZGluYXRlU3lzdGVtIGFzIFBhcnRpYWw8Zmhpci5GaGlySW50ZWdlckFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aWVudCddKSB7IHRoaXMucGF0aWVudCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGF0aWVudCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NwZWNpbWVuJ10pIHsgdGhpcy5zcGVjaW1lbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3BlY2ltZW4pOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXZpY2UnXSkgeyB0aGlzLmRldmljZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZGV2aWNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyZm9ybWVyJ10pIHsgdGhpcy5wZXJmb3JtZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBlcmZvcm1lcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10pIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5xdWFudGl0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZVNlcSddKSB7IHRoaXMucmVmZXJlbmNlU2VxID0gbmV3IGZoaXIuTW9sZWN1bGFyU2VxdWVuY2VSZWZlcmVuY2VTZXEoc291cmNlLnJlZmVyZW5jZVNlcSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhcmlhbnQnXSkgeyB0aGlzLnZhcmlhbnQgPSBzb3VyY2UudmFyaWFudC5tYXAoKHgpID0+IG5ldyBmaGlyLk1vbGVjdWxhclNlcXVlbmNlVmFyaWFudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhcmlhbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb2JzZXJ2ZWRTZXEnXSkgeyB0aGlzLm9ic2VydmVkU2VxID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5vYnNlcnZlZFNlcX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb2JzZXJ2ZWRTZXEnXSkge1xyXG4gICAgICBpZiAodGhpcy5vYnNlcnZlZFNlcSkgeyB0aGlzLm9ic2VydmVkU2VxLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29ic2VydmVkU2VxISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub2JzZXJ2ZWRTZXEgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fb2JzZXJ2ZWRTZXEgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YWxpdHknXSkgeyB0aGlzLnF1YWxpdHkgPSBzb3VyY2UucXVhbGl0eS5tYXAoKHgpID0+IG5ldyBmaGlyLk1vbGVjdWxhclNlcXVlbmNlUXVhbGl0eSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnF1YWxpdHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhZENvdmVyYWdlJ10pIHsgdGhpcy5yZWFkQ292ZXJhZ2UgPSBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHNvdXJjZS5yZWFkQ292ZXJhZ2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlYWRDb3ZlcmFnZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlYWRDb3ZlcmFnZSkgeyB0aGlzLnJlYWRDb3ZlcmFnZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZWFkQ292ZXJhZ2UhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZWFkQ292ZXJhZ2UgPSBuZXcgZmhpci5GaGlySW50ZWdlcihzb3VyY2UuX3JlYWRDb3ZlcmFnZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcG9zaXRvcnknXSkgeyB0aGlzLnJlcG9zaXRvcnkgPSBzb3VyY2UucmVwb3NpdG9yeS5tYXAoKHgpID0+IG5ldyBmaGlyLk1vbGVjdWxhclNlcXVlbmNlUmVwb3NpdG9yeSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlcG9zaXRvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncG9pbnRlciddKSB7IHRoaXMucG9pbnRlciA9IHNvdXJjZS5wb2ludGVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucG9pbnRlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdHJ1Y3R1cmVWYXJpYW50J10pIHsgdGhpcy5zdHJ1Y3R1cmVWYXJpYW50ID0gc291cmNlLnN0cnVjdHVyZVZhcmlhbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Nb2xlY3VsYXJTZXF1ZW5jZVN0cnVjdHVyZVZhcmlhbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdHJ1Y3R1cmVWYXJpYW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNb2xlY3VsYXJTZXF1ZW5jZScgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9TVigndHlwZScsZXhwLCdTZXF1ZW5jZVR5cGUnLFNlcXVlbmNlVHlwZVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZSUygnY29vcmRpbmF0ZVN5c3RlbScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3BhdGllbnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdzcGVjaW1lbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RldmljZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3BlcmZvcm1lcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3F1YW50aXR5JyxleHApXHJcbiAgICB0aGlzLnZPUygncmVmZXJlbmNlU2VxJyxleHApXHJcbiAgICB0aGlzLnZPQSgndmFyaWFudCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ29ic2VydmVkU2VxJyxleHApXHJcbiAgICB0aGlzLnZPQSgncXVhbGl0eScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3JlYWRDb3ZlcmFnZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3JlcG9zaXRvcnknLGV4cClcclxuICAgIHRoaXMudk9BKCdwb2ludGVyJyxleHApXHJcbiAgICB0aGlzLnZPQSgnc3RydWN0dXJlVmFyaWFudCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19