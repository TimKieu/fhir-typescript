// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: TestScript
import * as fhir from '../fhir.js';
// @ts-ignore
import { TestscriptProfileOriginTypesCodings, } from '../fhirValueSets/TestscriptProfileOriginTypesCodings.js';
// @ts-ignore
import { TestscriptProfileDestinationTypesCodings, } from '../fhirValueSets/TestscriptProfileDestinationTypesCodings.js';
// @ts-ignore
import { TestscriptOperationCodesCodings, } from '../fhirValueSets/TestscriptOperationCodesCodings.js';
// @ts-ignore
import { DefinedTypesCodings, } from '../fhirValueSets/DefinedTypesCodings.js';
// @ts-ignore
import { HttpOperationsCodings, } from '../fhirValueSets/HttpOperationsCodings.js';
// @ts-ignore
import { AssertDirectionCodesCodings, } from '../fhirValueSets/AssertDirectionCodesCodings.js';
// @ts-ignore
import { AssertOperatorCodesCodings, } from '../fhirValueSets/AssertOperatorCodesCodings.js';
// @ts-ignore
import { AssertResponseCodeTypesCodings, } from '../fhirValueSets/AssertResponseCodeTypesCodings.js';
// @ts-ignore
import { PublicationStatusCodings, } from '../fhirValueSets/PublicationStatusCodings.js';
/**
 * The purpose of this element is to define the profile of an origin element used elsewhere in the script.  Test engines could then use the origin-profile mapping to offer a filtered list of test systems that can serve as the sender for the interaction.
 */
export class TestScriptOrigin extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptOrigin - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['index']) {
            this.index = new fhir.FhirInteger({ value: source.index });
        }
        else {
            this.index = null;
        }
        if (source['profile']) {
            this.profile = new fhir.Coding(source.profile);
        }
        else {
            this.profile = null;
        }
    }
    /**
     * Extensible-bound Value Set for profile (TestScript.origin.profile)
     */
    static profileExtensibleCoding() {
        return TestscriptProfileOriginTypesCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['index']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property index:fhir.FhirInteger fhir: TestScript.origin.index:integer', });
        }
        if (this["index"]) {
            issues.push(...this.index.doModelValidation());
        }
        if (!this['profile']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property profile:fhir.Coding fhir: TestScript.origin.profile:Coding', });
        }
        if (this["profile"]) {
            issues.push(...this.profile.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptOrigin._fts_dataType = 'TestScriptOrigin';
/**
 * The purpose of this element is to define the profile of a destination element used elsewhere in the script.  Test engines could then use the destination-profile mapping to offer a filtered list of test systems that can serve as the receiver for the interaction.
 */
export class TestScriptDestination extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptDestination - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['index']) {
            this.index = new fhir.FhirInteger({ value: source.index });
        }
        else {
            this.index = null;
        }
        if (source['profile']) {
            this.profile = new fhir.Coding(source.profile);
        }
        else {
            this.profile = null;
        }
    }
    /**
     * Extensible-bound Value Set for profile (TestScript.destination.profile)
     */
    static profileExtensibleCoding() {
        return TestscriptProfileDestinationTypesCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['index']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property index:fhir.FhirInteger fhir: TestScript.destination.index:integer', });
        }
        if (this["index"]) {
            issues.push(...this.index.doModelValidation());
        }
        if (!this['profile']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property profile:fhir.Coding fhir: TestScript.destination.profile:Coding', });
        }
        if (this["profile"]) {
            issues.push(...this.profile.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptDestination._fts_dataType = 'TestScriptDestination';
/**
 * A link to the FHIR specification that this test is covering.
 */
export class TestScriptMetadataLink extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptMetadataLink - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        else {
            this.url = null;
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['url']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property url:fhir.FhirUri fhir: TestScript.metadata.link.url:uri', });
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptMetadataLink._fts_dataType = 'TestScriptMetadataLink';
/**
 * When the metadata capabilities section is defined at TestScript.metadata or at TestScript.setup.metadata, and the server's conformance statement does not contain the elements defined in the minimal conformance statement, then all the tests in the TestScript are skipped.  When the metadata capabilities section is defined at TestScript.test.metadata and the server's conformance statement does not contain the elements defined in the minimal conformance statement, then only that test is skipped.  The "metadata.capabilities.required" and "metadata.capabilities.validated" elements only indicate whether the capabilities are the primary focus of the test script or not.  They do not impact the skipping logic.  Capabilities whose "metadata.capabilities.validated" flag is true are the primary focus of the test script.
 */
export class TestScriptMetadataCapability extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptMetadataCapability - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['required']) {
            this.required = new fhir.FhirBoolean({ value: source.required });
        }
        else {
            this.required = null;
        }
        if (source['validated']) {
            this.validated = new fhir.FhirBoolean({ value: source.validated });
        }
        else {
            this.validated = null;
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['origin']) {
            this.origin = source.origin.map((x) => new fhir.FhirInteger({ value: x }));
        }
        else {
            this.origin = [];
        }
        if (source['destination']) {
            this.destination = new fhir.FhirInteger({ value: source.destination });
        }
        if (source['link']) {
            this.link = source.link.map((x) => new fhir.FhirUri({ value: x }));
        }
        else {
            this.link = [];
        }
        if (source['capabilities']) {
            this.capabilities = new fhir.FhirCanonical({ value: source.capabilities });
        }
        else {
            this.capabilities = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['required']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property required:fhir.FhirBoolean fhir: TestScript.metadata.capability.required:boolean', });
        }
        if (this["required"]) {
            issues.push(...this.required.doModelValidation());
        }
        if (!this['validated']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property validated:fhir.FhirBoolean fhir: TestScript.metadata.capability.validated:boolean', });
        }
        if (this["validated"]) {
            issues.push(...this.validated.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["origin"]) {
            this.origin.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["destination"]) {
            issues.push(...this.destination.doModelValidation());
        }
        if (this["link"]) {
            this.link.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['capabilities']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property capabilities:fhir.FhirCanonical fhir: TestScript.metadata.capability.capabilities:canonical', });
        }
        if (this["capabilities"]) {
            issues.push(...this.capabilities.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptMetadataCapability._fts_dataType = 'TestScriptMetadataCapability';
/**
 * The required capability must exist and are assumed to function correctly on the FHIR server being tested.
 */
export class TestScriptMetadata extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptMetadata - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['link']) {
            this.link = source.link.map((x) => new fhir.TestScriptMetadataLink(x));
        }
        else {
            this.link = [];
        }
        if (source['capability']) {
            this.capability = source.capability.map((x) => new fhir.TestScriptMetadataCapability(x));
        }
        else {
            this.capability = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["link"]) {
            this.link.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['capability']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property capability:fhir.TestScriptMetadataCapability[] fhir: TestScript.metadata.capability:capability', });
        }
        else if (!Array.isArray(this.capability)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property capability:fhir.TestScriptMetadataCapability[] fhir: TestScript.metadata.capability:capability', });
        }
        else if (this.capability.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property capability:fhir.TestScriptMetadataCapability[] fhir: TestScript.metadata.capability:capability', });
        }
        if (this["capability"]) {
            this.capability.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptMetadata._fts_dataType = 'TestScriptMetadata';
/**
 * Fixture in the test script - by reference (uri). All fixtures are required for the test script to execute.
 */
export class TestScriptFixture extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptFixture - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['autocreate']) {
            this.autocreate = new fhir.FhirBoolean({ value: source.autocreate });
        }
        else {
            this.autocreate = null;
        }
        if (source['autodelete']) {
            this.autodelete = new fhir.FhirBoolean({ value: source.autodelete });
        }
        else {
            this.autodelete = null;
        }
        if (source['resource']) {
            this.resource = new fhir.Reference(source.resource);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['autocreate']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property autocreate:fhir.FhirBoolean fhir: TestScript.fixture.autocreate:boolean', });
        }
        if (this["autocreate"]) {
            issues.push(...this.autocreate.doModelValidation());
        }
        if (!this['autodelete']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property autodelete:fhir.FhirBoolean fhir: TestScript.fixture.autodelete:boolean', });
        }
        if (this["autodelete"]) {
            issues.push(...this.autodelete.doModelValidation());
        }
        if (this["resource"]) {
            issues.push(...this.resource.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptFixture._fts_dataType = 'TestScriptFixture';
/**
 * Variables would be set based either on XPath/JSONPath expressions against fixtures (static and response), or headerField evaluations against response headers. If variable evaluates to nodelist or anything other than a primitive value, then test engine would report an error.  Variables would be used to perform clean replacements in "operation.params", "operation.requestHeader.value", and "operation.url" element values during operation calls and in "assert.value" during assertion evaluations. This limits the places that test engines would need to look for placeholders "${}".  Variables are scoped to the whole script. They are NOT evaluated at declaration. They are evaluated by test engine when used for substitutions in "operation.params", "operation.requestHeader.value", and "operation.url" element values during operation calls and in "assert.value" during assertion evaluations.  See example testscript-search.xml.
 */
export class TestScriptVariable extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptVariable - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['defaultValue']) {
            this.defaultValue = new fhir.FhirString({ value: source.defaultValue });
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['expression']) {
            this.expression = new fhir.FhirString({ value: source.expression });
        }
        if (source['headerField']) {
            this.headerField = new fhir.FhirString({ value: source.headerField });
        }
        if (source['hint']) {
            this.hint = new fhir.FhirString({ value: source.hint });
        }
        if (source['path']) {
            this.path = new fhir.FhirString({ value: source.path });
        }
        if (source['sourceId']) {
            this.sourceId = new fhir.FhirId({ value: source.sourceId });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: TestScript.variable.name:string', });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["defaultValue"]) {
            issues.push(...this.defaultValue.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["expression"]) {
            issues.push(...this.expression.doModelValidation());
        }
        if (this["headerField"]) {
            issues.push(...this.headerField.doModelValidation());
        }
        if (this["hint"]) {
            issues.push(...this.hint.doModelValidation());
        }
        if (this["path"]) {
            issues.push(...this.path.doModelValidation());
        }
        if (this["sourceId"]) {
            issues.push(...this.sourceId.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptVariable._fts_dataType = 'TestScriptVariable';
/**
 * This gives control to test-script writers to set headers explicitly based on test requirements.  It will allow for testing using:  - "If-Modified-Since" and "If-None-Match" headers.  See http://build.fhir.org/http.html#2.1.0.5.1 - "If-Match" header.  See http://build.fhir.org/http.html#2.1.0.11 - Conditional Create using "If-None-Exist".  See http://build.fhir.org/http.html#2.1.0.13.1 - Invalid "Content-Type" header for negative testing. - etc.
 */
export class TestScriptSetupActionOperationRequestHeader extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptSetupActionOperationRequestHeader - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['field']) {
            this.field = new fhir.FhirString({ value: source.field });
        }
        else {
            this.field = null;
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        else {
            this.value = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['field']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property field:fhir.FhirString fhir: TestScript.setup.action.operation.requestHeader.field:string', });
        }
        if (this["field"]) {
            issues.push(...this.field.doModelValidation());
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value:fhir.FhirString fhir: TestScript.setup.action.operation.requestHeader.value:string', });
        }
        if (this["value"]) {
            issues.push(...this.value.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptSetupActionOperationRequestHeader._fts_dataType = 'TestScriptSetupActionOperationRequestHeader';
/**
 * The operation to perform.
 */
export class TestScriptSetupActionOperation extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptSetupActionOperation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        if (source['resource']) {
            this.resource = new fhir.FhirCode({ value: source.resource });
        }
        if (source['label']) {
            this.label = new fhir.FhirString({ value: source.label });
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['accept']) {
            this.accept = new fhir.FhirCode({ value: source.accept });
        }
        if (source['contentType']) {
            this.contentType = new fhir.FhirCode({ value: source.contentType });
        }
        if (source['destination']) {
            this.destination = new fhir.FhirInteger({ value: source.destination });
        }
        if (source['encodeRequestUrl']) {
            this.encodeRequestUrl = new fhir.FhirBoolean({ value: source.encodeRequestUrl });
        }
        else {
            this.encodeRequestUrl = null;
        }
        if (source['method']) {
            this.method = source.method;
        }
        if (source['origin']) {
            this.origin = new fhir.FhirInteger({ value: source.origin });
        }
        if (source['params']) {
            this.params = new fhir.FhirString({ value: source.params });
        }
        if (source['requestHeader']) {
            this.requestHeader = source.requestHeader.map((x) => new fhir.TestScriptSetupActionOperationRequestHeader(x));
        }
        else {
            this.requestHeader = [];
        }
        if (source['requestId']) {
            this.requestId = new fhir.FhirId({ value: source.requestId });
        }
        if (source['responseId']) {
            this.responseId = new fhir.FhirId({ value: source.responseId });
        }
        if (source['sourceId']) {
            this.sourceId = new fhir.FhirId({ value: source.sourceId });
        }
        if (source['targetId']) {
            this.targetId = new fhir.FhirId({ value: source.targetId });
        }
        if (source['url']) {
            this.url = new fhir.FhirString({ value: source.url });
        }
    }
    /**
     * Extensible-bound Value Set for type (TestScript.setup.action.operation.type)
     */
    static typeExtensibleCoding() {
        return TestscriptOperationCodesCodings;
    }
    /**
     * Required-bound Value Set for resource (TestScript.setup.action.operation.resource)
     */
    static resourceRequiredCoding() {
        return DefinedTypesCodings;
    }
    /**
     * Required-bound Value Set for method (TestScript.setup.action.operation.method)
     */
    static methodRequiredCoding() {
        return HttpOperationsCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["resource"]) {
            issues.push(...this.resource.doModelValidation());
        }
        if (this["label"]) {
            issues.push(...this.label.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["accept"]) {
            issues.push(...this.accept.doModelValidation());
        }
        if (this["contentType"]) {
            issues.push(...this.contentType.doModelValidation());
        }
        if (this["destination"]) {
            issues.push(...this.destination.doModelValidation());
        }
        if (!this['encodeRequestUrl']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property encodeRequestUrl:fhir.FhirBoolean fhir: TestScript.setup.action.operation.encodeRequestUrl:boolean', });
        }
        if (this["encodeRequestUrl"]) {
            issues.push(...this.encodeRequestUrl.doModelValidation());
        }
        if (this["origin"]) {
            issues.push(...this.origin.doModelValidation());
        }
        if (this["params"]) {
            issues.push(...this.params.doModelValidation());
        }
        if (this["requestHeader"]) {
            this.requestHeader.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["requestId"]) {
            issues.push(...this.requestId.doModelValidation());
        }
        if (this["responseId"]) {
            issues.push(...this.responseId.doModelValidation());
        }
        if (this["sourceId"]) {
            issues.push(...this.sourceId.doModelValidation());
        }
        if (this["targetId"]) {
            issues.push(...this.targetId.doModelValidation());
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptSetupActionOperation._fts_dataType = 'TestScriptSetupActionOperation';
/**
 * In order to evaluate an assertion, the request, response, and results of the most recently executed operation must always be maintained by the test engine.
 */
export class TestScriptSetupActionAssert extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptSetupActionAssert - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['label']) {
            this.label = new fhir.FhirString({ value: source.label });
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['direction']) {
            this.direction = source.direction;
        }
        if (source['compareToSourceId']) {
            this.compareToSourceId = new fhir.FhirString({ value: source.compareToSourceId });
        }
        if (source['compareToSourceExpression']) {
            this.compareToSourceExpression = new fhir.FhirString({ value: source.compareToSourceExpression });
        }
        if (source['compareToSourcePath']) {
            this.compareToSourcePath = new fhir.FhirString({ value: source.compareToSourcePath });
        }
        if (source['contentType']) {
            this.contentType = new fhir.FhirCode({ value: source.contentType });
        }
        if (source['expression']) {
            this.expression = new fhir.FhirString({ value: source.expression });
        }
        if (source['headerField']) {
            this.headerField = new fhir.FhirString({ value: source.headerField });
        }
        if (source['minimumId']) {
            this.minimumId = new fhir.FhirString({ value: source.minimumId });
        }
        if (source['navigationLinks']) {
            this.navigationLinks = new fhir.FhirBoolean({ value: source.navigationLinks });
        }
        if (source['operator']) {
            this.operator = source.operator;
        }
        if (source['path']) {
            this.path = new fhir.FhirString({ value: source.path });
        }
        if (source['requestMethod']) {
            this.requestMethod = source.requestMethod;
        }
        if (source['requestURL']) {
            this.requestURL = new fhir.FhirString({ value: source.requestURL });
        }
        if (source['resource']) {
            this.resource = new fhir.FhirCode({ value: source.resource });
        }
        if (source['response']) {
            this.response = source.response;
        }
        if (source['responseCode']) {
            this.responseCode = new fhir.FhirString({ value: source.responseCode });
        }
        if (source['sourceId']) {
            this.sourceId = new fhir.FhirId({ value: source.sourceId });
        }
        if (source['validateProfileId']) {
            this.validateProfileId = new fhir.FhirId({ value: source.validateProfileId });
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        if (source['warningOnly']) {
            this.warningOnly = new fhir.FhirBoolean({ value: source.warningOnly });
        }
        else {
            this.warningOnly = null;
        }
    }
    /**
     * Required-bound Value Set for direction (TestScript.setup.action.assert.direction)
     */
    static directionRequiredCoding() {
        return AssertDirectionCodesCodings;
    }
    /**
     * Required-bound Value Set for operator (TestScript.setup.action.assert.operator)
     */
    static operatorRequiredCoding() {
        return AssertOperatorCodesCodings;
    }
    /**
     * Required-bound Value Set for requestMethod (TestScript.setup.action.assert.requestMethod)
     */
    static requestMethodRequiredCoding() {
        return HttpOperationsCodings;
    }
    /**
     * Required-bound Value Set for resource (TestScript.setup.action.assert.resource)
     */
    static resourceRequiredCoding() {
        return DefinedTypesCodings;
    }
    /**
     * Required-bound Value Set for response (TestScript.setup.action.assert.response)
     */
    static responseRequiredCoding() {
        return AssertResponseCodeTypesCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["label"]) {
            issues.push(...this.label.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["compareToSourceId"]) {
            issues.push(...this.compareToSourceId.doModelValidation());
        }
        if (this["compareToSourceExpression"]) {
            issues.push(...this.compareToSourceExpression.doModelValidation());
        }
        if (this["compareToSourcePath"]) {
            issues.push(...this.compareToSourcePath.doModelValidation());
        }
        if (this["contentType"]) {
            issues.push(...this.contentType.doModelValidation());
        }
        if (this["expression"]) {
            issues.push(...this.expression.doModelValidation());
        }
        if (this["headerField"]) {
            issues.push(...this.headerField.doModelValidation());
        }
        if (this["minimumId"]) {
            issues.push(...this.minimumId.doModelValidation());
        }
        if (this["navigationLinks"]) {
            issues.push(...this.navigationLinks.doModelValidation());
        }
        if (this["path"]) {
            issues.push(...this.path.doModelValidation());
        }
        if (this["requestURL"]) {
            issues.push(...this.requestURL.doModelValidation());
        }
        if (this["resource"]) {
            issues.push(...this.resource.doModelValidation());
        }
        if (this["responseCode"]) {
            issues.push(...this.responseCode.doModelValidation());
        }
        if (this["sourceId"]) {
            issues.push(...this.sourceId.doModelValidation());
        }
        if (this["validateProfileId"]) {
            issues.push(...this.validateProfileId.doModelValidation());
        }
        if (this["value"]) {
            issues.push(...this.value.doModelValidation());
        }
        if (!this['warningOnly']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property warningOnly:fhir.FhirBoolean fhir: TestScript.setup.action.assert.warningOnly:boolean', });
        }
        if (this["warningOnly"]) {
            issues.push(...this.warningOnly.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptSetupActionAssert._fts_dataType = 'TestScriptSetupActionAssert';
/**
 * An action should contain either an operation or an assertion but not both.  It can contain any number of variables.
 */
export class TestScriptSetupAction extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptSetupAction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['operation']) {
            this.operation = new fhir.TestScriptSetupActionOperation(source.operation);
        }
        if (source['assert']) {
            this.assert = new fhir.TestScriptSetupActionAssert(source.assert);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["operation"]) {
            issues.push(...this.operation.doModelValidation());
        }
        if (this["assert"]) {
            issues.push(...this.assert.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptSetupAction._fts_dataType = 'TestScriptSetupAction';
/**
 * A series of required setup operations before tests are executed.
 */
export class TestScriptSetup extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptSetup - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['action']) {
            this.action = source.action.map((x) => new fhir.TestScriptSetupAction(x));
        }
        else {
            this.action = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['action']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property action:fhir.TestScriptSetupAction[] fhir: TestScript.setup.action:action', });
        }
        else if (!Array.isArray(this.action)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property action:fhir.TestScriptSetupAction[] fhir: TestScript.setup.action:action', });
        }
        else if (this.action.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property action:fhir.TestScriptSetupAction[] fhir: TestScript.setup.action:action', });
        }
        if (this["action"]) {
            this.action.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptSetup._fts_dataType = 'TestScriptSetup';
/**
 * An action should contain either an operation or an assertion but not both.  It can contain any number of variables.
 */
export class TestScriptTestAction extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptTestAction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['operation']) {
            this.operation = new fhir.TestScriptSetupActionOperation(source.operation);
        }
        if (source['assert']) {
            this.assert = new fhir.TestScriptSetupActionAssert(source.assert);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["operation"]) {
            issues.push(...this.operation.doModelValidation());
        }
        if (this["assert"]) {
            issues.push(...this.assert.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptTestAction._fts_dataType = 'TestScriptTestAction';
/**
 * A test in this script.
 */
export class TestScriptTest extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptTest - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['action']) {
            this.action = source.action.map((x) => new fhir.TestScriptTestAction(x));
        }
        else {
            this.action = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (!this['action']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property action:fhir.TestScriptTestAction[] fhir: TestScript.test.action:action', });
        }
        else if (!Array.isArray(this.action)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property action:fhir.TestScriptTestAction[] fhir: TestScript.test.action:action', });
        }
        else if (this.action.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property action:fhir.TestScriptTestAction[] fhir: TestScript.test.action:action', });
        }
        if (this["action"]) {
            this.action.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptTest._fts_dataType = 'TestScriptTest';
/**
 * An action should contain either an operation or an assertion but not both.  It can contain any number of variables.
 */
export class TestScriptTeardownAction extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptTeardownAction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['operation']) {
            this.operation = new fhir.TestScriptSetupActionOperation(source.operation);
        }
        else {
            this.operation = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['operation']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property operation:fhir.TestScriptSetupActionOperation fhir: TestScript.teardown.action.operation:TestScript.setup.action.operation', });
        }
        if (this["operation"]) {
            issues.push(...this.operation.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptTeardownAction._fts_dataType = 'TestScriptTeardownAction';
/**
 * A series of operations required to clean up after all the tests are executed (successfully or otherwise).
 */
export class TestScriptTeardown extends fhir.BackboneElement {
    /**
     * Default constructor for TestScriptTeardown - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['action']) {
            this.action = source.action.map((x) => new fhir.TestScriptTeardownAction(x));
        }
        else {
            this.action = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['action']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property action:fhir.TestScriptTeardownAction[] fhir: TestScript.teardown.action:action', });
        }
        else if (!Array.isArray(this.action)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property action:fhir.TestScriptTeardownAction[] fhir: TestScript.teardown.action:action', });
        }
        else if (this.action.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property action:fhir.TestScriptTeardownAction[] fhir: TestScript.teardown.action:action', });
        }
        if (this["action"]) {
            this.action.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScriptTeardown._fts_dataType = 'TestScriptTeardown';
/**
 * A structured set of tests against a FHIR server or client implementation to determine compliance against the FHIR specification.
 */
export class TestScript extends fhir.DomainResource {
    /**
     * Default constructor for TestScript - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'TestScript';
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        else {
            this.url = null;
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['status']) {
            this.status = source.status;
        }
        else {
            this.status = null;
        }
        if (source['experimental']) {
            this.experimental = new fhir.FhirBoolean({ value: source.experimental });
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['publisher']) {
            this.publisher = new fhir.FhirString({ value: source.publisher });
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.contact = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['useContext']) {
            this.useContext = source.useContext.map((x) => new fhir.UsageContext(x));
        }
        else {
            this.useContext = [];
        }
        if (source['jurisdiction']) {
            this.jurisdiction = source.jurisdiction.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.jurisdiction = [];
        }
        if (source['purpose']) {
            this.purpose = new fhir.FhirMarkdown({ value: source.purpose });
        }
        if (source['copyright']) {
            this.copyright = new fhir.FhirMarkdown({ value: source.copyright });
        }
        if (source['origin']) {
            this.origin = source.origin.map((x) => new fhir.TestScriptOrigin(x));
        }
        else {
            this.origin = [];
        }
        if (source['destination']) {
            this.destination = source.destination.map((x) => new fhir.TestScriptDestination(x));
        }
        else {
            this.destination = [];
        }
        if (source['metadata']) {
            this.metadata = new fhir.TestScriptMetadata(source.metadata);
        }
        if (source['fixture']) {
            this.fixture = source.fixture.map((x) => new fhir.TestScriptFixture(x));
        }
        else {
            this.fixture = [];
        }
        if (source['profile']) {
            this.profile = source.profile.map((x) => new fhir.Reference(x));
        }
        else {
            this.profile = [];
        }
        if (source['variable']) {
            this.variable = source.variable.map((x) => new fhir.TestScriptVariable(x));
        }
        else {
            this.variable = [];
        }
        if (source['setup']) {
            this.setup = new fhir.TestScriptSetup(source.setup);
        }
        if (source['test']) {
            this.test = source.test.map((x) => new fhir.TestScriptTest(x));
        }
        else {
            this.test = [];
        }
        if (source['teardown']) {
            this.teardown = new fhir.TestScriptTeardown(source.teardown);
        }
    }
    /**
     * Required-bound Value Set for status (TestScript.status)
     */
    static statusRequiredCoding() {
        return PublicationStatusCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"TestScript" fhir: TestScript.resourceType:"TestScript"', });
        }
        if (!this['url']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property url:fhir.FhirUri fhir: TestScript.url:uri', });
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        if (this["identifier"]) {
            issues.push(...this.identifier.doModelValidation());
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation());
        }
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: TestScript.name:string', });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["title"]) {
            issues.push(...this.title.doModelValidation());
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:PublicationStatusCodeType fhir: TestScript.status:code', });
        }
        if (this["experimental"]) {
            issues.push(...this.experimental.doModelValidation());
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation());
        }
        if (this["publisher"]) {
            issues.push(...this.publisher.doModelValidation());
        }
        if (this["contact"]) {
            this.contact.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["useContext"]) {
            this.useContext.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["jurisdiction"]) {
            this.jurisdiction.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["purpose"]) {
            issues.push(...this.purpose.doModelValidation());
        }
        if (this["copyright"]) {
            issues.push(...this.copyright.doModelValidation());
        }
        if (this["origin"]) {
            this.origin.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["destination"]) {
            this.destination.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["metadata"]) {
            issues.push(...this.metadata.doModelValidation());
        }
        if (this["fixture"]) {
            this.fixture.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["profile"]) {
            this.profile.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["variable"]) {
            this.variable.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["setup"]) {
            issues.push(...this.setup.doModelValidation());
        }
        if (this["test"]) {
            this.test.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["teardown"]) {
            issues.push(...this.teardown.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
TestScript._fts_dataType = 'TestScript';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGVzdFNjcmlwdC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvVGVzdFNjcmlwdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFFbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxtQ0FBbUMsR0FBMEMsTUFBTSx5REFBeUQsQ0FBQztBQUd0SixhQUFhO0FBQ2IsT0FBTyxFQUFFLHdDQUF3QyxHQUErQyxNQUFNLDhEQUE4RCxDQUFDO0FBR3JLLGFBQWE7QUFDYixPQUFPLEVBQUUsK0JBQStCLEdBQXNDLE1BQU0scURBQXFELENBQUM7QUFHMUksYUFBYTtBQUNiLE9BQU8sRUFBRSxtQkFBbUIsR0FBMEIsTUFBTSx5Q0FBeUMsQ0FBQztBQUd0RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHFCQUFxQixHQUE0QixNQUFNLDJDQUEyQyxDQUFDO0FBRzVHLGFBQWE7QUFDYixPQUFPLEVBQUUsMkJBQTJCLEdBQWtDLE1BQU0saURBQWlELENBQUM7QUFHOUgsYUFBYTtBQUNiLE9BQU8sRUFBRSwwQkFBMEIsR0FBaUMsTUFBTSxnREFBZ0QsQ0FBQztBQUczSCxhQUFhO0FBQ2IsT0FBTyxFQUFFLDhCQUE4QixHQUFxQyxNQUFNLG9EQUFvRCxDQUFDO0FBR3ZJLGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEdBQStCLE1BQU0sOENBQThDLENBQUM7QUFtQnJIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGdCQUFpQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBZXhEOztPQUVHO0lBQ0gsWUFBWSxTQUF1QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM3RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFD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LFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNwRixJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLDJDQUEyQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMxSTtZQUFFLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDakMsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3pGLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFVBQVUsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUM1RixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdEYsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksTUFBTSxDQUFDLEtBQUss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Q0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDNUUsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUFwTUQ7O0dBRUc7QUFDNkIsd0JBQWEsR0FBVSxZQUFZLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IFRlc3RTY3JpcHRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRlc3RzY3JpcHRQcm9maWxlT3JpZ2luVHlwZXNDb2RpbmdzLCBUZXN0c2NyaXB0UHJvZmlsZU9yaWdpblR5cGVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGVzdHNjcmlwdFByb2ZpbGVPcmlnaW5UeXBlc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRlc3RzY3JpcHRQcm9maWxlT3JpZ2luVHlwZXNDb2RlcywgIFRlc3RzY3JpcHRQcm9maWxlT3JpZ2luVHlwZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGVzdHNjcmlwdFByb2ZpbGVPcmlnaW5UeXBlc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUZXN0c2NyaXB0UHJvZmlsZURlc3RpbmF0aW9uVHlwZXNDb2RpbmdzLCBUZXN0c2NyaXB0UHJvZmlsZURlc3RpbmF0aW9uVHlwZXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UZXN0c2NyaXB0UHJvZmlsZURlc3RpbmF0aW9uVHlwZXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUZXN0c2NyaXB0UHJvZmlsZURlc3RpbmF0aW9uVHlwZXNDb2RlcywgIFRlc3RzY3JpcHRQcm9maWxlRGVzdGluYXRpb25UeXBlc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UZXN0c2NyaXB0UHJvZmlsZURlc3RpbmF0aW9uVHlwZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGVzdHNjcmlwdE9wZXJhdGlvbkNvZGVzQ29kaW5ncywgVGVzdHNjcmlwdE9wZXJhdGlvbkNvZGVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGVzdHNjcmlwdE9wZXJhdGlvbkNvZGVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGVzdHNjcmlwdE9wZXJhdGlvbkNvZGVzQ29kZXMsICBUZXN0c2NyaXB0T3BlcmF0aW9uQ29kZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGVzdHNjcmlwdE9wZXJhdGlvbkNvZGVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERlZmluZWRUeXBlc0NvZGluZ3MsIERlZmluZWRUeXBlc0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RlZmluZWRUeXBlc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERlZmluZWRUeXBlc0NvZGVzLCAgRGVmaW5lZFR5cGVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RlZmluZWRUeXBlc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBIdHRwT3BlcmF0aW9uc0NvZGluZ3MsIEh0dHBPcGVyYXRpb25zQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSHR0cE9wZXJhdGlvbnNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBIdHRwT3BlcmF0aW9uc0NvZGVzLCAgSHR0cE9wZXJhdGlvbnNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSHR0cE9wZXJhdGlvbnNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXNzZXJ0RGlyZWN0aW9uQ29kZXNDb2RpbmdzLCBBc3NlcnREaXJlY3Rpb25Db2Rlc0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Fzc2VydERpcmVjdGlvbkNvZGVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXNzZXJ0RGlyZWN0aW9uQ29kZXNDb2RlcywgIEFzc2VydERpcmVjdGlvbkNvZGVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Fzc2VydERpcmVjdGlvbkNvZGVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFzc2VydE9wZXJhdG9yQ29kZXNDb2RpbmdzLCBBc3NlcnRPcGVyYXRvckNvZGVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXNzZXJ0T3BlcmF0b3JDb2Rlc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFzc2VydE9wZXJhdG9yQ29kZXNDb2RlcywgIEFzc2VydE9wZXJhdG9yQ29kZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXNzZXJ0T3BlcmF0b3JDb2Rlc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBc3NlcnRSZXNwb25zZUNvZGVUeXBlc0NvZGluZ3MsIEFzc2VydFJlc3BvbnNlQ29kZVR5cGVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXNzZXJ0UmVzcG9uc2VDb2RlVHlwZXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBc3NlcnRSZXNwb25zZUNvZGVUeXBlc0NvZGVzLCAgQXNzZXJ0UmVzcG9uc2VDb2RlVHlwZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXNzZXJ0UmVzcG9uc2VDb2RlVHlwZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNDb2RpbmdzLCBQdWJsaWNhdGlvblN0YXR1c0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNDb2RlcywgIFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzQ29kZXMuanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVGVzdFNjcmlwdE9yaWdpbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUZXN0U2NyaXB0T3JpZ2luQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBnaXZlbiBvcmlnaW4gaW5kZXggKGUuZy4gMSkgY2FuIGFwcGVhciBvbmx5IG9uY2UgaW4gdGhlIGxpc3QgKGUuZy4gT3JpZ2luIDEgY2Fubm90IGJlIHNwZWNpZmllZCB0d2ljZSAuLi4gb25jZSBhcyBGb3JtRmlsbGVyIGFuZCBhZ2FpbiBhcyBGb3JtUHJvY2Vzc29yIHdpdGhpbiB0aGUgc2FtZSBzY3JpcHQgYXMgdGhhdCBjb3VsZCBnZXQgY29uZnVzaW5nIGR1cmluZyB0ZXN0IGNvbmZpZ3VyYXRpb24pLiBcclxuICAgKiBEaWZmZXJlbnQgb3JpZ2luIGluZGljZXMgY291bGQgcGxheSB0aGUgc2FtZSBhY3RvciBpbiB0aGUgc2FtZSB0ZXN0IHNjcmlwdCAoZS5nLiBZb3UgY291bGQgaGF2ZSB0d28gZGlmZmVyZW50IHRlc3Qgc3lzdGVtcyBhY3RpbmcgYXMgRm9ybS1GaWxsZXIpLlxyXG4gICAqIFRoZSBvcmlnaW4gaW5kaWNlcyBwcm92aWRlZCBlbHNld2hlcmUgaW4gdGhlIHRlc3Qgc2NyaXB0IG11c3QgYmUgb25lIG9mIHRoZXNlIG9yaWdpbiBpbmRpY2VzLlxyXG4gICAqL1xyXG4gIGluZGV4OiBmaGlyLkZoaXJJbnRlZ2VyfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTXVzdCBiZSBhIFwic2VuZGVyXCIvXCJjbGllbnRcIiBwcm9maWxlLlxyXG4gICAqL1xyXG4gIHByb2ZpbGU6IGZoaXIuQ29kaW5nQXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBlbGVtZW50IGlzIHRvIGRlZmluZSB0aGUgcHJvZmlsZSBvZiBhbiBvcmlnaW4gZWxlbWVudCB1c2VkIGVsc2V3aGVyZSBpbiB0aGUgc2NyaXB0LiAgVGVzdCBlbmdpbmVzIGNvdWxkIHRoZW4gdXNlIHRoZSBvcmlnaW4tcHJvZmlsZSBtYXBwaW5nIHRvIG9mZmVyIGEgZmlsdGVyZWQgbGlzdCBvZiB0ZXN0IHN5c3RlbXMgdGhhdCBjYW4gc2VydmUgYXMgdGhlIHNlbmRlciBmb3IgdGhlIGludGVyYWN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRPcmlnaW4gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdUZXN0U2NyaXB0T3JpZ2luJztcclxuICAvKipcclxuICAgKiBBIGdpdmVuIG9yaWdpbiBpbmRleCAoZS5nLiAxKSBjYW4gYXBwZWFyIG9ubHkgb25jZSBpbiB0aGUgbGlzdCAoZS5nLiBPcmlnaW4gMSBjYW5ub3QgYmUgc3BlY2lmaWVkIHR3aWNlIC4uLiBvbmNlIGFzIEZvcm1GaWxsZXIgYW5kIGFnYWluIGFzIEZvcm1Qcm9jZXNzb3Igd2l0aGluIHRoZSBzYW1lIHNjcmlwdCBhcyB0aGF0IGNvdWxkIGdldCBjb25mdXNpbmcgZHVyaW5nIHRlc3QgY29uZmlndXJhdGlvbikuIFxyXG4gICAqIERpZmZlcmVudCBvcmlnaW4gaW5kaWNlcyBjb3VsZCBwbGF5IHRoZSBzYW1lIGFjdG9yIGluIHRoZSBzYW1lIHRlc3Qgc2NyaXB0IChlLmcuIFlvdSBjb3VsZCBoYXZlIHR3byBkaWZmZXJlbnQgdGVzdCBzeXN0ZW1zIGFjdGluZyBhcyBGb3JtLUZpbGxlcikuXHJcbiAgICogVGhlIG9yaWdpbiBpbmRpY2VzIHByb3ZpZGVkIGVsc2V3aGVyZSBpbiB0aGUgdGVzdCBzY3JpcHQgbXVzdCBiZSBvbmUgb2YgdGhlc2Ugb3JpZ2luIGluZGljZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGluZGV4OiBmaGlyLkZoaXJJbnRlZ2VyfG51bGw7XHJcbiAgLyoqXHJcbiAgICogTXVzdCBiZSBhIFwic2VuZGVyXCIvXCJjbGllbnRcIiBwcm9maWxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9maWxlOiBmaGlyLkNvZGluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFRlc3RTY3JpcHRPcmlnaW4gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxUZXN0U2NyaXB0T3JpZ2luQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2luZGV4J10pIHsgdGhpcy5pbmRleCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLmluZGV4fSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluZGV4ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZmlsZSddKSB7IHRoaXMucHJvZmlsZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UucHJvZmlsZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2ZpbGUgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciBwcm9maWxlIChUZXN0U2NyaXB0Lm9yaWdpbi5wcm9maWxlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcHJvZmlsZUV4dGVuc2libGVDb2RpbmcoKTpUZXN0c2NyaXB0UHJvZmlsZU9yaWdpblR5cGVzQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gVGVzdHNjcmlwdFByb2ZpbGVPcmlnaW5UeXBlc0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ2luZGV4J10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBpbmRleDpmaGlyLkZoaXJJbnRlZ2VyIGZoaXI6IFRlc3RTY3JpcHQub3JpZ2luLmluZGV4OmludGVnZXInLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiaW5kZXhcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pbmRleC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydwcm9maWxlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwcm9maWxlOmZoaXIuQ29kaW5nIGZoaXI6IFRlc3RTY3JpcHQub3JpZ2luLnByb2ZpbGU6Q29kaW5nJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInByb2ZpbGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcm9maWxlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVGVzdFNjcmlwdERlc3RpbmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RTY3JpcHREZXN0aW5hdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgZ2l2ZW4gZGVzdGluYXRpb24gaW5kZXggKGUuZy4gMSkgY2FuIGFwcGVhciBvbmx5IG9uY2UgaW4gdGhlIGxpc3QgKGUuZy4gRGVzdGluYXRpb24gMSBjYW5ub3QgYmUgc3BlY2lmaWVkIHR3aWNlIC4uLiBvbmNlIGFzIEZvcm0tTWFuYWdlciBhbmQgYWdhaW4gYXMgRm9ybS1Qcm9jZXNzb3Igd2l0aGluIHRoZSBzYW1lIHNjcmlwdCBhcyB0aGF0IGNvdWxkIGdldCBjb25mdXNpbmcgZHVyaW5nIHRlc3QgY29uZmlndXJhdGlvbikuIFxyXG4gICAqIERpZmZlcmVudCBkZXN0aW5hdGlvbiBpbmRpY2VzIGNvdWxkIHBsYXkgdGhlIHNhbWUgYWN0b3IgaW4gdGhlIHNhbWUgdGVzdCBzY3JpcHQgKGUuZy4gWW91IGNvdWxkIGhhdmUgdHdvIGRpZmZlcmVudCB0ZXN0IHN5c3RlbXMgYWN0aW5nIGFzIEZvcm0tTWFuYWdlcikuXHJcbiAgICogVGhlIGRlc3RpbmF0aW9uIGluZGljZXMgcHJvdmlkZWQgZWxzZXdoZXJlIGluIHRoZSB0ZXN0IHNjcmlwdCBtdXN0IGJlIG9uZSBvZiB0aGVzZSBkZXN0aW5hdGlvbiBpbmRpY2VzLlxyXG4gICAqL1xyXG4gIGluZGV4OiBmaGlyLkZoaXJJbnRlZ2VyfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTXVzdCBiZSBhIFwicmVjZWl2ZXJcIi9cInNlcnZlclwiIHByb2ZpbGUuXHJcbiAgICovXHJcbiAgcHJvZmlsZTogZmhpci5Db2RpbmdBcmdzfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcHVycG9zZSBvZiB0aGlzIGVsZW1lbnQgaXMgdG8gZGVmaW5lIHRoZSBwcm9maWxlIG9mIGEgZGVzdGluYXRpb24gZWxlbWVudCB1c2VkIGVsc2V3aGVyZSBpbiB0aGUgc2NyaXB0LiAgVGVzdCBlbmdpbmVzIGNvdWxkIHRoZW4gdXNlIHRoZSBkZXN0aW5hdGlvbi1wcm9maWxlIG1hcHBpbmcgdG8gb2ZmZXIgYSBmaWx0ZXJlZCBsaXN0IG9mIHRlc3Qgc3lzdGVtcyB0aGF0IGNhbiBzZXJ2ZSBhcyB0aGUgcmVjZWl2ZXIgZm9yIHRoZSBpbnRlcmFjdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZXN0U2NyaXB0RGVzdGluYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdUZXN0U2NyaXB0RGVzdGluYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIEEgZ2l2ZW4gZGVzdGluYXRpb24gaW5kZXggKGUuZy4gMSkgY2FuIGFwcGVhciBvbmx5IG9uY2UgaW4gdGhlIGxpc3QgKGUuZy4gRGVzdGluYXRpb24gMSBjYW5ub3QgYmUgc3BlY2lmaWVkIHR3aWNlIC4uLiBvbmNlIGFzIEZvcm0tTWFuYWdlciBhbmQgYWdhaW4gYXMgRm9ybS1Qcm9jZXNzb3Igd2l0aGluIHRoZSBzYW1lIHNjcmlwdCBhcyB0aGF0IGNvdWxkIGdldCBjb25mdXNpbmcgZHVyaW5nIHRlc3QgY29uZmlndXJhdGlvbikuIFxyXG4gICAqIERpZmZlcmVudCBkZXN0aW5hdGlvbiBpbmRpY2VzIGNvdWxkIHBsYXkgdGhlIHNhbWUgYWN0b3IgaW4gdGhlIHNhbWUgdGVzdCBzY3JpcHQgKGUuZy4gWW91IGNvdWxkIGhhdmUgdHdvIGRpZmZlcmVudCB0ZXN0IHN5c3RlbXMgYWN0aW5nIGFzIEZvcm0tTWFuYWdlcikuXHJcbiAgICogVGhlIGRlc3RpbmF0aW9uIGluZGljZXMgcHJvdmlkZWQgZWxzZXdoZXJlIGluIHRoZSB0ZXN0IHNjcmlwdCBtdXN0IGJlIG9uZSBvZiB0aGVzZSBkZXN0aW5hdGlvbiBpbmRpY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbmRleDogZmhpci5GaGlySW50ZWdlcnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIE11c3QgYmUgYSBcInJlY2VpdmVyXCIvXCJzZXJ2ZXJcIiBwcm9maWxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9maWxlOiBmaGlyLkNvZGluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFRlc3RTY3JpcHREZXN0aW5hdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFRlc3RTY3JpcHREZXN0aW5hdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydpbmRleCddKSB7IHRoaXMuaW5kZXggPSBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHNvdXJjZS5pbmRleH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbmRleCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2ZpbGUnXSkgeyB0aGlzLnByb2ZpbGUgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnByb2ZpbGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9maWxlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgcHJvZmlsZSAoVGVzdFNjcmlwdC5kZXN0aW5hdGlvbi5wcm9maWxlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcHJvZmlsZUV4dGVuc2libGVDb2RpbmcoKTpUZXN0c2NyaXB0UHJvZmlsZURlc3RpbmF0aW9uVHlwZXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBUZXN0c2NyaXB0UHJvZmlsZURlc3RpbmF0aW9uVHlwZXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydpbmRleCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgaW5kZXg6Zmhpci5GaGlySW50ZWdlciBmaGlyOiBUZXN0U2NyaXB0LmRlc3RpbmF0aW9uLmluZGV4OmludGVnZXInLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiaW5kZXhcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pbmRleC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydwcm9maWxlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwcm9maWxlOmZoaXIuQ29kaW5nIGZoaXI6IFRlc3RTY3JpcHQuZGVzdGluYXRpb24ucHJvZmlsZTpDb2RpbmcnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicHJvZmlsZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByb2ZpbGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBUZXN0U2NyaXB0TWV0YWRhdGFMaW5rIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RTY3JpcHRNZXRhZGF0YUxpbmtBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBVUkwgdG8gYSBwYXJ0aWN1bGFyIHJlcXVpcmVtZW50IG9yIGZlYXR1cmUgd2l0aGluIHRoZSBGSElSIHNwZWNpZmljYXRpb24uXHJcbiAgICovXHJcbiAgdXJsOiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaG9ydCBkZXNjcmlwdGlvbiBvZiB0aGUgbGluay5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBsaW5rIHRvIHRoZSBGSElSIHNwZWNpZmljYXRpb24gdGhhdCB0aGlzIHRlc3QgaXMgY292ZXJpbmcuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGVzdFNjcmlwdE1ldGFkYXRhTGluayBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Rlc3RTY3JpcHRNZXRhZGF0YUxpbmsnO1xyXG4gIC8qKlxyXG4gICAqIFVSTCB0byBhIHBhcnRpY3VsYXIgcmVxdWlyZW1lbnQgb3IgZmVhdHVyZSB3aXRoaW4gdGhlIEZISVIgc3BlY2lmaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdXJsOiBmaGlyLkZoaXJVcml8bnVsbDtcclxuICAvKipcclxuICAgKiBTaG9ydCBkZXNjcmlwdGlvbiBvZiB0aGUgbGluay5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFRlc3RTY3JpcHRNZXRhZGF0YUxpbmsgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxUZXN0U2NyaXB0TWV0YWRhdGFMaW5rQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3VybCddKSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS51cmx9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudXJsID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3VybCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdXJsOmZoaXIuRmhpclVyaSBmaGlyOiBUZXN0U2NyaXB0Lm1ldGFkYXRhLmxpbmsudXJsOnVyaScsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ1cmxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51cmwuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFRlc3RTY3JpcHRNZXRhZGF0YUNhcGFiaWxpdHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVzdFNjcmlwdE1ldGFkYXRhQ2FwYWJpbGl0eUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoZSB0ZXN0IGV4ZWN1dGlvbiB3aWxsIHJlcXVpcmUgdGhlIGdpdmVuIGNhcGFiaWxpdGllcyBvZiB0aGUgc2VydmVyIGluIG9yZGVyIGZvciB0aGlzIHRlc3Qgc2NyaXB0IHRvIGV4ZWN1dGUuXHJcbiAgICovXHJcbiAgcmVxdWlyZWQ6IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciBvciBub3QgdGhlIHRlc3QgZXhlY3V0aW9uIHdpbGwgdmFsaWRhdGUgdGhlIGdpdmVuIGNhcGFiaWxpdGllcyBvZiB0aGUgc2VydmVyIGluIG9yZGVyIGZvciB0aGlzIHRlc3Qgc2NyaXB0IHRvIGV4ZWN1dGUuXHJcbiAgICovXHJcbiAgdmFsaWRhdGVkOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaXB0aW9uIG9mIHRoZSBjYXBhYmlsaXRpZXMgdGhhdCB0aGlzIHRlc3Qgc2NyaXB0IGlzIHJlcXVpcmluZyB0aGUgc2VydmVyIHRvIHN1cHBvcnQuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGljaCBvcmlnaW4gc2VydmVyIHRoZXNlIHJlcXVpcmVtZW50cyBhcHBseSB0by5cclxuICAgKi9cclxuICBvcmlnaW4/OiBmaGlyLkZoaXJJbnRlZ2VyW118bnVtYmVyW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoaWNoIHNlcnZlciB0aGVzZSByZXF1aXJlbWVudHMgYXBwbHkgdG8uXHJcbiAgICovXHJcbiAgZGVzdGluYXRpb24/OiBmaGlyLkZoaXJJbnRlZ2VyfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTGlua3MgdG8gdGhlIEZISVIgc3BlY2lmaWNhdGlvbiB0aGF0IGRlc2NyaWJlcyB0aGlzIGludGVyYWN0aW9uIGFuZCB0aGUgcmVzb3VyY2VzIGludm9sdmVkIGluIG1vcmUgZGV0YWlsLlxyXG4gICAqL1xyXG4gIGxpbms/OiBmaGlyLkZoaXJVcmlbXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBvZiB0aGUgc2VydmVyIGhhcyB0byBjb250YWluIGF0IGEgbWluaW11bSB0aGUgY29udGVudHMgb2YgdGhlIHJlZmVyZW5jZSBwb2ludGVkIHRvIGJ5IHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBjYXBhYmlsaXRpZXM6IGZoaXIuRmhpckNhbm9uaWNhbHxzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogV2hlbiB0aGUgbWV0YWRhdGEgY2FwYWJpbGl0aWVzIHNlY3Rpb24gaXMgZGVmaW5lZCBhdCBUZXN0U2NyaXB0Lm1ldGFkYXRhIG9yIGF0IFRlc3RTY3JpcHQuc2V0dXAubWV0YWRhdGEsIGFuZCB0aGUgc2VydmVyJ3MgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIGVsZW1lbnRzIGRlZmluZWQgaW4gdGhlIG1pbmltYWwgY29uZm9ybWFuY2Ugc3RhdGVtZW50LCB0aGVuIGFsbCB0aGUgdGVzdHMgaW4gdGhlIFRlc3RTY3JpcHQgYXJlIHNraXBwZWQuICBXaGVuIHRoZSBtZXRhZGF0YSBjYXBhYmlsaXRpZXMgc2VjdGlvbiBpcyBkZWZpbmVkIGF0IFRlc3RTY3JpcHQudGVzdC5tZXRhZGF0YSBhbmQgdGhlIHNlcnZlcidzIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBkb2VzIG5vdCBjb250YWluIHRoZSBlbGVtZW50cyBkZWZpbmVkIGluIHRoZSBtaW5pbWFsIGNvbmZvcm1hbmNlIHN0YXRlbWVudCwgdGhlbiBvbmx5IHRoYXQgdGVzdCBpcyBza2lwcGVkLiAgVGhlIFwibWV0YWRhdGEuY2FwYWJpbGl0aWVzLnJlcXVpcmVkXCIgYW5kIFwibWV0YWRhdGEuY2FwYWJpbGl0aWVzLnZhbGlkYXRlZFwiIGVsZW1lbnRzIG9ubHkgaW5kaWNhdGUgd2hldGhlciB0aGUgY2FwYWJpbGl0aWVzIGFyZSB0aGUgcHJpbWFyeSBmb2N1cyBvZiB0aGUgdGVzdCBzY3JpcHQgb3Igbm90LiAgVGhleSBkbyBub3QgaW1wYWN0IHRoZSBza2lwcGluZyBsb2dpYy4gIENhcGFiaWxpdGllcyB3aG9zZSBcIm1ldGFkYXRhLmNhcGFiaWxpdGllcy52YWxpZGF0ZWRcIiBmbGFnIGlzIHRydWUgYXJlIHRoZSBwcmltYXJ5IGZvY3VzIG9mIHRoZSB0ZXN0IHNjcmlwdC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZXN0U2NyaXB0TWV0YWRhdGFDYXBhYmlsaXR5IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVGVzdFNjcmlwdE1ldGFkYXRhQ2FwYWJpbGl0eSc7XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciBvciBub3QgdGhlIHRlc3QgZXhlY3V0aW9uIHdpbGwgcmVxdWlyZSB0aGUgZ2l2ZW4gY2FwYWJpbGl0aWVzIG9mIHRoZSBzZXJ2ZXIgaW4gb3JkZXIgZm9yIHRoaXMgdGVzdCBzY3JpcHQgdG8gZXhlY3V0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWlyZWQ6IGZoaXIuRmhpckJvb2xlYW58bnVsbDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGVzdCBleGVjdXRpb24gd2lsbCB2YWxpZGF0ZSB0aGUgZ2l2ZW4gY2FwYWJpbGl0aWVzIG9mIHRoZSBzZXJ2ZXIgaW4gb3JkZXIgZm9yIHRoaXMgdGVzdCBzY3JpcHQgdG8gZXhlY3V0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdGVkOiBmaGlyLkZoaXJCb29sZWFufG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpcHRpb24gb2YgdGhlIGNhcGFiaWxpdGllcyB0aGF0IHRoaXMgdGVzdCBzY3JpcHQgaXMgcmVxdWlyaW5nIHRoZSBzZXJ2ZXIgdG8gc3VwcG9ydC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoaWNoIG9yaWdpbiBzZXJ2ZXIgdGhlc2UgcmVxdWlyZW1lbnRzIGFwcGx5IHRvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmlnaW4/OiBmaGlyLkZoaXJJbnRlZ2VyW107XHJcbiAgLyoqXHJcbiAgICogV2hpY2ggc2VydmVyIHRoZXNlIHJlcXVpcmVtZW50cyBhcHBseSB0by5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzdGluYXRpb24/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMaW5rcyB0byB0aGUgRkhJUiBzcGVjaWZpY2F0aW9uIHRoYXQgZGVzY3JpYmVzIHRoaXMgaW50ZXJhY3Rpb24gYW5kIHRoZSByZXNvdXJjZXMgaW52b2x2ZWQgaW4gbW9yZSBkZXRhaWwuXHJcbiAgICovXHJcbiAgcHVibGljIGxpbms/OiBmaGlyLkZoaXJVcmlbXTtcclxuICAvKipcclxuICAgKiBUaGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50IG9mIHRoZSBzZXJ2ZXIgaGFzIHRvIGNvbnRhaW4gYXQgYSBtaW5pbXVtIHRoZSBjb250ZW50cyBvZiB0aGUgcmVmZXJlbmNlIHBvaW50ZWQgdG8gYnkgdGhpcyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXBhYmlsaXRpZXM6IGZoaXIuRmhpckNhbm9uaWNhbHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFRlc3RTY3JpcHRNZXRhZGF0YUNhcGFiaWxpdHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxUZXN0U2NyaXB0TWV0YWRhdGFDYXBhYmlsaXR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3JlcXVpcmVkJ10pIHsgdGhpcy5yZXF1aXJlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnJlcXVpcmVkfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlcXVpcmVkID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRhdGVkJ10pIHsgdGhpcy52YWxpZGF0ZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS52YWxpZGF0ZWR9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsaWRhdGVkID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmlnaW4nXSkgeyB0aGlzLm9yaWdpbiA9IHNvdXJjZS5vcmlnaW4ubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm9yaWdpbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXN0aW5hdGlvbiddKSB7IHRoaXMuZGVzdGluYXRpb24gPSBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHNvdXJjZS5kZXN0aW5hdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydsaW5rJ10pIHsgdGhpcy5saW5rID0gc291cmNlLmxpbmsubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubGluayA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXBhYmlsaXRpZXMnXSkgeyB0aGlzLmNhcGFiaWxpdGllcyA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiBzb3VyY2UuY2FwYWJpbGl0aWVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhcGFiaWxpdGllcyA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVxdWlyZWQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlcXVpcmVkOmZoaXIuRmhpckJvb2xlYW4gZmhpcjogVGVzdFNjcmlwdC5tZXRhZGF0YS5jYXBhYmlsaXR5LnJlcXVpcmVkOmJvb2xlYW4nLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicmVxdWlyZWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZXF1aXJlZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd2YWxpZGF0ZWQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHZhbGlkYXRlZDpmaGlyLkZoaXJCb29sZWFuIGZoaXI6IFRlc3RTY3JpcHQubWV0YWRhdGEuY2FwYWJpbGl0eS52YWxpZGF0ZWQ6Ym9vbGVhbicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ2YWxpZGF0ZWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52YWxpZGF0ZWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcmlnaW5cIl0pIHsgdGhpcy5vcmlnaW4uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRlc3RpbmF0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVzdGluYXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibGlua1wiXSkgeyB0aGlzLmxpbmsuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAoIXRoaXNbJ2NhcGFiaWxpdGllcyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgY2FwYWJpbGl0aWVzOmZoaXIuRmhpckNhbm9uaWNhbCBmaGlyOiBUZXN0U2NyaXB0Lm1ldGFkYXRhLmNhcGFiaWxpdHkuY2FwYWJpbGl0aWVzOmNhbm9uaWNhbCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJjYXBhYmlsaXRpZXNcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jYXBhYmlsaXRpZXMuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBUZXN0U2NyaXB0TWV0YWRhdGEgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVzdFNjcmlwdE1ldGFkYXRhQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBsaW5rIHRvIHRoZSBGSElSIHNwZWNpZmljYXRpb24gdGhhdCB0aGlzIHRlc3QgaXMgY292ZXJpbmcuXHJcbiAgICovXHJcbiAgbGluaz86IGZoaXIuVGVzdFNjcmlwdE1ldGFkYXRhTGlua0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgbWV0YWRhdGEgY2FwYWJpbGl0aWVzIHNlY3Rpb24gaXMgZGVmaW5lZCBhdCBUZXN0U2NyaXB0Lm1ldGFkYXRhIG9yIGF0IFRlc3RTY3JpcHQuc2V0dXAubWV0YWRhdGEsIGFuZCB0aGUgc2VydmVyJ3MgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIGVsZW1lbnRzIGRlZmluZWQgaW4gdGhlIG1pbmltYWwgY29uZm9ybWFuY2Ugc3RhdGVtZW50LCB0aGVuIGFsbCB0aGUgdGVzdHMgaW4gdGhlIFRlc3RTY3JpcHQgYXJlIHNraXBwZWQuICBXaGVuIHRoZSBtZXRhZGF0YSBjYXBhYmlsaXRpZXMgc2VjdGlvbiBpcyBkZWZpbmVkIGF0IFRlc3RTY3JpcHQudGVzdC5tZXRhZGF0YSBhbmQgdGhlIHNlcnZlcidzIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBkb2VzIG5vdCBjb250YWluIHRoZSBlbGVtZW50cyBkZWZpbmVkIGluIHRoZSBtaW5pbWFsIGNvbmZvcm1hbmNlIHN0YXRlbWVudCwgdGhlbiBvbmx5IHRoYXQgdGVzdCBpcyBza2lwcGVkLiAgVGhlIFwibWV0YWRhdGEuY2FwYWJpbGl0aWVzLnJlcXVpcmVkXCIgYW5kIFwibWV0YWRhdGEuY2FwYWJpbGl0aWVzLnZhbGlkYXRlZFwiIGVsZW1lbnRzIG9ubHkgaW5kaWNhdGUgd2hldGhlciB0aGUgY2FwYWJpbGl0aWVzIGFyZSB0aGUgcHJpbWFyeSBmb2N1cyBvZiB0aGUgdGVzdCBzY3JpcHQgb3Igbm90LiAgVGhleSBkbyBub3QgaW1wYWN0IHRoZSBza2lwcGluZyBsb2dpYy4gIENhcGFiaWxpdGllcyB3aG9zZSBcIm1ldGFkYXRhLmNhcGFiaWxpdGllcy52YWxpZGF0ZWRcIiBmbGFnIGlzIHRydWUgYXJlIHRoZSBwcmltYXJ5IGZvY3VzIG9mIHRoZSB0ZXN0IHNjcmlwdC5cclxuICAgKi9cclxuICBjYXBhYmlsaXR5OiBmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YUNhcGFiaWxpdHlBcmdzW118bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSByZXF1aXJlZCBjYXBhYmlsaXR5IG11c3QgZXhpc3QgYW5kIGFyZSBhc3N1bWVkIHRvIGZ1bmN0aW9uIGNvcnJlY3RseSBvbiB0aGUgRkhJUiBzZXJ2ZXIgYmVpbmcgdGVzdGVkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRNZXRhZGF0YSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Rlc3RTY3JpcHRNZXRhZGF0YSc7XHJcbiAgLyoqXHJcbiAgICogQSBsaW5rIHRvIHRoZSBGSElSIHNwZWNpZmljYXRpb24gdGhhdCB0aGlzIHRlc3QgaXMgY292ZXJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGxpbms/OiBmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YUxpbmtbXTtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSBtZXRhZGF0YSBjYXBhYmlsaXRpZXMgc2VjdGlvbiBpcyBkZWZpbmVkIGF0IFRlc3RTY3JpcHQubWV0YWRhdGEgb3IgYXQgVGVzdFNjcmlwdC5zZXR1cC5tZXRhZGF0YSwgYW5kIHRoZSBzZXJ2ZXIncyBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgZG9lcyBub3QgY29udGFpbiB0aGUgZWxlbWVudHMgZGVmaW5lZCBpbiB0aGUgbWluaW1hbCBjb25mb3JtYW5jZSBzdGF0ZW1lbnQsIHRoZW4gYWxsIHRoZSB0ZXN0cyBpbiB0aGUgVGVzdFNjcmlwdCBhcmUgc2tpcHBlZC4gIFdoZW4gdGhlIG1ldGFkYXRhIGNhcGFiaWxpdGllcyBzZWN0aW9uIGlzIGRlZmluZWQgYXQgVGVzdFNjcmlwdC50ZXN0Lm1ldGFkYXRhIGFuZCB0aGUgc2VydmVyJ3MgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIGVsZW1lbnRzIGRlZmluZWQgaW4gdGhlIG1pbmltYWwgY29uZm9ybWFuY2Ugc3RhdGVtZW50LCB0aGVuIG9ubHkgdGhhdCB0ZXN0IGlzIHNraXBwZWQuICBUaGUgXCJtZXRhZGF0YS5jYXBhYmlsaXRpZXMucmVxdWlyZWRcIiBhbmQgXCJtZXRhZGF0YS5jYXBhYmlsaXRpZXMudmFsaWRhdGVkXCIgZWxlbWVudHMgb25seSBpbmRpY2F0ZSB3aGV0aGVyIHRoZSBjYXBhYmlsaXRpZXMgYXJlIHRoZSBwcmltYXJ5IGZvY3VzIG9mIHRoZSB0ZXN0IHNjcmlwdCBvciBub3QuICBUaGV5IGRvIG5vdCBpbXBhY3QgdGhlIHNraXBwaW5nIGxvZ2ljLiAgQ2FwYWJpbGl0aWVzIHdob3NlIFwibWV0YWRhdGEuY2FwYWJpbGl0aWVzLnZhbGlkYXRlZFwiIGZsYWcgaXMgdHJ1ZSBhcmUgdGhlIHByaW1hcnkgZm9jdXMgb2YgdGhlIHRlc3Qgc2NyaXB0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXBhYmlsaXR5OiBmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YUNhcGFiaWxpdHlbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBUZXN0U2NyaXB0TWV0YWRhdGEgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxUZXN0U2NyaXB0TWV0YWRhdGFBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbGluayddKSB7IHRoaXMubGluayA9IHNvdXJjZS5saW5rLm1hcCgoeCkgPT4gbmV3IGZoaXIuVGVzdFNjcmlwdE1ldGFkYXRhTGluayh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmxpbmsgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2FwYWJpbGl0eSddKSB7IHRoaXMuY2FwYWJpbGl0eSA9IHNvdXJjZS5jYXBhYmlsaXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuVGVzdFNjcmlwdE1ldGFkYXRhQ2FwYWJpbGl0eSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhcGFiaWxpdHkgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJsaW5rXCJdKSB7IHRoaXMubGluay5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICghdGhpc1snY2FwYWJpbGl0eSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgY2FwYWJpbGl0eTpmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YUNhcGFiaWxpdHlbXSBmaGlyOiBUZXN0U2NyaXB0Lm1ldGFkYXRhLmNhcGFiaWxpdHk6Y2FwYWJpbGl0eScsIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmNhcGFiaWxpdHkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdzdHJ1Y3R1cmUnLCAgZGlhZ25vc3RpY3M6ICdGb3VuZCBzY2FsYXIgaW4gYXJyYXkgcHJvcGVydHkgY2FwYWJpbGl0eTpmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YUNhcGFiaWxpdHlbXSBmaGlyOiBUZXN0U2NyaXB0Lm1ldGFkYXRhLmNhcGFiaWxpdHk6Y2FwYWJpbGl0eScsIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmNhcGFiaWxpdHkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgY2FwYWJpbGl0eTpmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YUNhcGFiaWxpdHlbXSBmaGlyOiBUZXN0U2NyaXB0Lm1ldGFkYXRhLmNhcGFiaWxpdHk6Y2FwYWJpbGl0eScsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJjYXBhYmlsaXR5XCJdKSB7IHRoaXMuY2FwYWJpbGl0eS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBUZXN0U2NyaXB0Rml4dHVyZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUZXN0U2NyaXB0Rml4dHVyZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGltcGxpY2l0bHkgY3JlYXRlIHRoZSBmaXh0dXJlIGR1cmluZyBzZXR1cC4gSWYgdHJ1ZSwgdGhlIGZpeHR1cmUgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIG9uIGVhY2ggc2VydmVyIGJlaW5nIHRlc3RlZCBkdXJpbmcgc2V0dXAsIHRoZXJlZm9yZSBubyBjcmVhdGUgb3BlcmF0aW9uIGlzIHJlcXVpcmVkIGZvciB0aGlzIGZpeHR1cmUgaW4gdGhlIFRlc3RTY3JpcHQuc2V0dXAgc2VjdGlvbi5cclxuICAgKi9cclxuICBhdXRvY3JlYXRlOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGltcGxpY2l0bHkgZGVsZXRlIHRoZSBmaXh0dXJlIGR1cmluZyB0ZWFyZG93bi4gSWYgdHJ1ZSwgdGhlIGZpeHR1cmUgaXMgYXV0b21hdGljYWxseSBkZWxldGVkIG9uIGVhY2ggc2VydmVyIGJlaW5nIHRlc3RlZCBkdXJpbmcgdGVhcmRvd24sIHRoZXJlZm9yZSBubyBkZWxldGUgb3BlcmF0aW9uIGlzIHJlcXVpcmVkIGZvciB0aGlzIGZpeHR1cmUgaW4gdGhlIFRlc3RTY3JpcHQudGVhcmRvd24gc2VjdGlvbi5cclxuICAgKi9cclxuICBhdXRvZGVsZXRlOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNlZSBodHRwOi8vYnVpbGQuZmhpci5vcmcvcmVzb3VyY2VsaXN0Lmh0bWwgZm9yIGNvbXBsZXRlIGxpc3Qgb2YgcmVzb3VyY2UgdHlwZXMuXHJcbiAgICovXHJcbiAgcmVzb3VyY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRml4dHVyZSBpbiB0aGUgdGVzdCBzY3JpcHQgLSBieSByZWZlcmVuY2UgKHVyaSkuIEFsbCBmaXh0dXJlcyBhcmUgcmVxdWlyZWQgZm9yIHRoZSB0ZXN0IHNjcmlwdCB0byBleGVjdXRlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRGaXh0dXJlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVGVzdFNjcmlwdEZpeHR1cmUnO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGltcGxpY2l0bHkgY3JlYXRlIHRoZSBmaXh0dXJlIGR1cmluZyBzZXR1cC4gSWYgdHJ1ZSwgdGhlIGZpeHR1cmUgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIG9uIGVhY2ggc2VydmVyIGJlaW5nIHRlc3RlZCBkdXJpbmcgc2V0dXAsIHRoZXJlZm9yZSBubyBjcmVhdGUgb3BlcmF0aW9uIGlzIHJlcXVpcmVkIGZvciB0aGlzIGZpeHR1cmUgaW4gdGhlIFRlc3RTY3JpcHQuc2V0dXAgc2VjdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0b2NyZWF0ZTogZmhpci5GaGlyQm9vbGVhbnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGltcGxpY2l0bHkgZGVsZXRlIHRoZSBmaXh0dXJlIGR1cmluZyB0ZWFyZG93bi4gSWYgdHJ1ZSwgdGhlIGZpeHR1cmUgaXMgYXV0b21hdGljYWxseSBkZWxldGVkIG9uIGVhY2ggc2VydmVyIGJlaW5nIHRlc3RlZCBkdXJpbmcgdGVhcmRvd24sIHRoZXJlZm9yZSBubyBkZWxldGUgb3BlcmF0aW9uIGlzIHJlcXVpcmVkIGZvciB0aGlzIGZpeHR1cmUgaW4gdGhlIFRlc3RTY3JpcHQudGVhcmRvd24gc2VjdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0b2RlbGV0ZTogZmhpci5GaGlyQm9vbGVhbnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNlZSBodHRwOi8vYnVpbGQuZmhpci5vcmcvcmVzb3VyY2VsaXN0Lmh0bWwgZm9yIGNvbXBsZXRlIGxpc3Qgb2YgcmVzb3VyY2UgdHlwZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc291cmNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFRlc3RTY3JpcHRGaXh0dXJlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VGVzdFNjcmlwdEZpeHR1cmVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnYXV0b2NyZWF0ZSddKSB7IHRoaXMuYXV0b2NyZWF0ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmF1dG9jcmVhdGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXV0b2NyZWF0ZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2F1dG9kZWxldGUnXSkgeyB0aGlzLmF1dG9kZWxldGUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5hdXRvZGVsZXRlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmF1dG9kZWxldGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXNvdXJjZSddKSB7IHRoaXMucmVzb3VyY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlc291cmNlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydhdXRvY3JlYXRlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBhdXRvY3JlYXRlOmZoaXIuRmhpckJvb2xlYW4gZmhpcjogVGVzdFNjcmlwdC5maXh0dXJlLmF1dG9jcmVhdGU6Ym9vbGVhbicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJhdXRvY3JlYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYXV0b2NyZWF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydhdXRvZGVsZXRlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBhdXRvZGVsZXRlOmZoaXIuRmhpckJvb2xlYW4gZmhpcjogVGVzdFNjcmlwdC5maXh0dXJlLmF1dG9kZWxldGU6Ym9vbGVhbicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJhdXRvZGVsZXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYXV0b2RlbGV0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJyZXNvdXJjZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlc291cmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVGVzdFNjcmlwdFZhcmlhYmxlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RTY3JpcHRWYXJpYWJsZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFBsYWNlaG9sZGVycyB3b3VsZCBjb250YWluIHRoZSB2YXJpYWJsZSBuYW1lIHdyYXBwZWQgaW4gJHt9IGluIFwib3BlcmF0aW9uLnBhcmFtc1wiLCBcIm9wZXJhdGlvbi5yZXF1ZXN0SGVhZGVyLnZhbHVlXCIsIGFuZCBcIm9wZXJhdGlvbi51cmxcIiBlbGVtZW50cy4gIFRoZXNlIHBsYWNlaG9sZGVycyB3b3VsZCBuZWVkIHRvIGJlIHJlcGxhY2VkIGJ5IHRoZSB2YXJpYWJsZSB2YWx1ZSBiZWZvcmUgdGhlIG9wZXJhdGlvbiBpcyBleGVjdXRlZC5cclxuICAgKi9cclxuICBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGVsZW1lbnQgaXMgdG8gYWxsb3cgZm9yIGEgcHJlLWRlZmluZWQgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIGRlZmF1bHQgb3IgYXMgYW4gb3ZlcnJpZGUgdmFsdWUuIFRlc3QgZW5naW5lcyBjYW4gb3B0aW9uYWxseSB1c2UgdGhpcyBhcyBhIHBsYWNlaG9sZGVyIGZvciB1c2VyLWRlZmluZWQgZXhlY3V0aW9uIHRpbWUgdmFsdWVzLlxyXG4gICAqL1xyXG4gIGRlZmF1bHRWYWx1ZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZnJlZSB0ZXh0IG5hdHVyYWwgbGFuZ3VhZ2UgZGVzY3JpcHRpb24gb2YgdGhlIHZhcmlhYmxlIGFuZCBpdHMgcHVycG9zZS5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGhlYWRlckZpZWxkIGlzIGRlZmluZWQsIHRoZW4gdGhlIHZhcmlhYmxlIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIGhlYWRlcnMgdGhhdCBzb3VyY2VJZCBpcyBwb2ludGluZyB0by4gIElmIGV4cHJlc3Npb24gb3IgcGF0aCBpcyBkZWZpbmVkLCB0aGVuIHRoZSB2YXJpYWJsZSB3aWxsIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBmaXh0dXJlIGJvZHkgdGhhdCBzb3VyY2VJZCBpcyBwb2ludGluZyB0by4gIEl0IGlzIGFuIGVycm9yIHRvIGRlZmluZSBhbnkgY29tYmluYXRpb24gb2YgZXhwcmVzc2lvbiwgaGVhZGVyRmllbGQgYW5kIHBhdGguXHJcbiAgICovXHJcbiAgZXhwcmVzc2lvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGhlYWRlckZpZWxkIGlzIGRlZmluZWQsIHRoZW4gdGhlIHZhcmlhYmxlIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIGhlYWRlcnMgdGhhdCBzb3VyY2VJZCBpcyBwb2ludGluZyB0by4gIElmIHBhdGggaXMgZGVmaW5lZCwgdGhlbiB0aGUgdmFyaWFibGUgd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgZml4dHVyZSBib2R5IHRoYXQgc291cmNlSWQgaXMgcG9pbnRpbmcgdG8uICBJdCBpcyBhbiBlcnJvciB0byBkZWZpbmUgYm90aCBoZWFkZXJGaWVsZCBhbmQgcGF0aC5cclxuICAgKi9cclxuICBoZWFkZXJGaWVsZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERpc3BsYXlhYmxlIHRleHQgc3RyaW5nIHdpdGggaGludCBoZWxwIGluZm9ybWF0aW9uIHRvIHRoZSB1c2VyIHdoZW4gZW50ZXJpbmcgYSBkZWZhdWx0IHZhbHVlLlxyXG4gICAqL1xyXG4gIGhpbnQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBoZWFkZXJGaWVsZCBpcyBkZWZpbmVkLCB0aGVuIHRoZSB2YXJpYWJsZSB3aWxsIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBoZWFkZXJzIHRoYXQgc291cmNlSWQgaXMgcG9pbnRpbmcgdG8uICBJZiBleHByZXNzaW9uIG9yIHBhdGggaXMgZGVmaW5lZCwgdGhlbiB0aGUgdmFyaWFibGUgd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgZml4dHVyZSBib2R5IHRoYXQgc291cmNlSWQgaXMgcG9pbnRpbmcgdG8uICBJdCBpcyBhbiBlcnJvciB0byBkZWZpbmUgYW55IGNvbWJpbmF0aW9uIG9mIGV4cHJlc3Npb24sIGhlYWRlckZpZWxkIGFuZCBwYXRoLlxyXG4gICAqL1xyXG4gIHBhdGg/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGNhbiBiZSBhIHN0YXRpY2FsbHkgZGVmaW5lZCBmaXh0dXJlIChhdCB0aGUgdG9wIG9mIHRoZSBUZXN0U2NyaXB0KSBvciBhIGR5bmFtaWNhbGx5IHNldCBmaXh0dXJlIGNyZWF0ZWQgYnkgcmVzcG9uc2VJZCBvZiB0aGUgYGFjdGlvbi5vcGVyYXRpb25gIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgc291cmNlSWQ/OiBmaGlyLkZoaXJJZHxzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVmFyaWFibGVzIHdvdWxkIGJlIHNldCBiYXNlZCBlaXRoZXIgb24gWFBhdGgvSlNPTlBhdGggZXhwcmVzc2lvbnMgYWdhaW5zdCBmaXh0dXJlcyAoc3RhdGljIGFuZCByZXNwb25zZSksIG9yIGhlYWRlckZpZWxkIGV2YWx1YXRpb25zIGFnYWluc3QgcmVzcG9uc2UgaGVhZGVycy4gSWYgdmFyaWFibGUgZXZhbHVhdGVzIHRvIG5vZGVsaXN0IG9yIGFueXRoaW5nIG90aGVyIHRoYW4gYSBwcmltaXRpdmUgdmFsdWUsIHRoZW4gdGVzdCBlbmdpbmUgd291bGQgcmVwb3J0IGFuIGVycm9yLiAgVmFyaWFibGVzIHdvdWxkIGJlIHVzZWQgdG8gcGVyZm9ybSBjbGVhbiByZXBsYWNlbWVudHMgaW4gXCJvcGVyYXRpb24ucGFyYW1zXCIsIFwib3BlcmF0aW9uLnJlcXVlc3RIZWFkZXIudmFsdWVcIiwgYW5kIFwib3BlcmF0aW9uLnVybFwiIGVsZW1lbnQgdmFsdWVzIGR1cmluZyBvcGVyYXRpb24gY2FsbHMgYW5kIGluIFwiYXNzZXJ0LnZhbHVlXCIgZHVyaW5nIGFzc2VydGlvbiBldmFsdWF0aW9ucy4gVGhpcyBsaW1pdHMgdGhlIHBsYWNlcyB0aGF0IHRlc3QgZW5naW5lcyB3b3VsZCBuZWVkIHRvIGxvb2sgZm9yIHBsYWNlaG9sZGVycyBcIiR7fVwiLiAgVmFyaWFibGVzIGFyZSBzY29wZWQgdG8gdGhlIHdob2xlIHNjcmlwdC4gVGhleSBhcmUgTk9UIGV2YWx1YXRlZCBhdCBkZWNsYXJhdGlvbi4gVGhleSBhcmUgZXZhbHVhdGVkIGJ5IHRlc3QgZW5naW5lIHdoZW4gdXNlZCBmb3Igc3Vic3RpdHV0aW9ucyBpbiBcIm9wZXJhdGlvbi5wYXJhbXNcIiwgXCJvcGVyYXRpb24ucmVxdWVzdEhlYWRlci52YWx1ZVwiLCBhbmQgXCJvcGVyYXRpb24udXJsXCIgZWxlbWVudCB2YWx1ZXMgZHVyaW5nIG9wZXJhdGlvbiBjYWxscyBhbmQgaW4gXCJhc3NlcnQudmFsdWVcIiBkdXJpbmcgYXNzZXJ0aW9uIGV2YWx1YXRpb25zLiAgU2VlIGV4YW1wbGUgdGVzdHNjcmlwdC1zZWFyY2gueG1sLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRWYXJpYWJsZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Rlc3RTY3JpcHRWYXJpYWJsZSc7XHJcbiAgLyoqXHJcbiAgICogUGxhY2Vob2xkZXJzIHdvdWxkIGNvbnRhaW4gdGhlIHZhcmlhYmxlIG5hbWUgd3JhcHBlZCBpbiAke30gaW4gXCJvcGVyYXRpb24ucGFyYW1zXCIsIFwib3BlcmF0aW9uLnJlcXVlc3RIZWFkZXIudmFsdWVcIiwgYW5kIFwib3BlcmF0aW9uLnVybFwiIGVsZW1lbnRzLiAgVGhlc2UgcGxhY2Vob2xkZXJzIHdvdWxkIG5lZWQgdG8gYmUgcmVwbGFjZWQgYnkgdGhlIHZhcmlhYmxlIHZhbHVlIGJlZm9yZSB0aGUgb3BlcmF0aW9uIGlzIGV4ZWN1dGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGVsZW1lbnQgaXMgdG8gYWxsb3cgZm9yIGEgcHJlLWRlZmluZWQgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIGRlZmF1bHQgb3IgYXMgYW4gb3ZlcnJpZGUgdmFsdWUuIFRlc3QgZW5naW5lcyBjYW4gb3B0aW9uYWxseSB1c2UgdGhpcyBhcyBhIHBsYWNlaG9sZGVyIGZvciB1c2VyLWRlZmluZWQgZXhlY3V0aW9uIHRpbWUgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWZhdWx0VmFsdWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZnJlZSB0ZXh0IG5hdHVyYWwgbGFuZ3VhZ2UgZGVzY3JpcHRpb24gb2YgdGhlIHZhcmlhYmxlIGFuZCBpdHMgcHVycG9zZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGhlYWRlckZpZWxkIGlzIGRlZmluZWQsIHRoZW4gdGhlIHZhcmlhYmxlIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIGhlYWRlcnMgdGhhdCBzb3VyY2VJZCBpcyBwb2ludGluZyB0by4gIElmIGV4cHJlc3Npb24gb3IgcGF0aCBpcyBkZWZpbmVkLCB0aGVuIHRoZSB2YXJpYWJsZSB3aWxsIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBmaXh0dXJlIGJvZHkgdGhhdCBzb3VyY2VJZCBpcyBwb2ludGluZyB0by4gIEl0IGlzIGFuIGVycm9yIHRvIGRlZmluZSBhbnkgY29tYmluYXRpb24gb2YgZXhwcmVzc2lvbiwgaGVhZGVyRmllbGQgYW5kIHBhdGguXHJcbiAgICovXHJcbiAgcHVibGljIGV4cHJlc3Npb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGhlYWRlckZpZWxkIGlzIGRlZmluZWQsIHRoZW4gdGhlIHZhcmlhYmxlIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIGhlYWRlcnMgdGhhdCBzb3VyY2VJZCBpcyBwb2ludGluZyB0by4gIElmIHBhdGggaXMgZGVmaW5lZCwgdGhlbiB0aGUgdmFyaWFibGUgd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgZml4dHVyZSBib2R5IHRoYXQgc291cmNlSWQgaXMgcG9pbnRpbmcgdG8uICBJdCBpcyBhbiBlcnJvciB0byBkZWZpbmUgYm90aCBoZWFkZXJGaWVsZCBhbmQgcGF0aC5cclxuICAgKi9cclxuICBwdWJsaWMgaGVhZGVyRmllbGQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERpc3BsYXlhYmxlIHRleHQgc3RyaW5nIHdpdGggaGludCBoZWxwIGluZm9ybWF0aW9uIHRvIHRoZSB1c2VyIHdoZW4gZW50ZXJpbmcgYSBkZWZhdWx0IHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoaW50PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBoZWFkZXJGaWVsZCBpcyBkZWZpbmVkLCB0aGVuIHRoZSB2YXJpYWJsZSB3aWxsIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBoZWFkZXJzIHRoYXQgc291cmNlSWQgaXMgcG9pbnRpbmcgdG8uICBJZiBleHByZXNzaW9uIG9yIHBhdGggaXMgZGVmaW5lZCwgdGhlbiB0aGUgdmFyaWFibGUgd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgZml4dHVyZSBib2R5IHRoYXQgc291cmNlSWQgaXMgcG9pbnRpbmcgdG8uICBJdCBpcyBhbiBlcnJvciB0byBkZWZpbmUgYW55IGNvbWJpbmF0aW9uIG9mIGV4cHJlc3Npb24sIGhlYWRlckZpZWxkIGFuZCBwYXRoLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRoPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGNhbiBiZSBhIHN0YXRpY2FsbHkgZGVmaW5lZCBmaXh0dXJlIChhdCB0aGUgdG9wIG9mIHRoZSBUZXN0U2NyaXB0KSBvciBhIGR5bmFtaWNhbGx5IHNldCBmaXh0dXJlIGNyZWF0ZWQgYnkgcmVzcG9uc2VJZCBvZiB0aGUgYGFjdGlvbi5vcGVyYXRpb25gIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZUlkPzogZmhpci5GaGlySWR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFRlc3RTY3JpcHRWYXJpYWJsZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFRlc3RTY3JpcHRWYXJpYWJsZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkZWZhdWx0VmFsdWUnXSkgeyB0aGlzLmRlZmF1bHRWYWx1ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVmYXVsdFZhbHVlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhwcmVzc2lvbiddKSB7IHRoaXMuZXhwcmVzc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZXhwcmVzc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydoZWFkZXJGaWVsZCddKSB7IHRoaXMuaGVhZGVyRmllbGQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmhlYWRlckZpZWxkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2hpbnQnXSkgeyB0aGlzLmhpbnQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmhpbnR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aCddKSB7IHRoaXMucGF0aCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucGF0aH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2VJZCddKSB7IHRoaXMuc291cmNlSWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2Uuc291cmNlSWR9KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWyduYW1lJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBuYW1lOmZoaXIuRmhpclN0cmluZyBmaGlyOiBUZXN0U2NyaXB0LnZhcmlhYmxlLm5hbWU6c3RyaW5nJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcIm5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uYW1lLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRlZmF1bHRWYWx1ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlZmF1bHRWYWx1ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlc2NyaXB0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImV4cHJlc3Npb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5leHByZXNzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImhlYWRlckZpZWxkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaGVhZGVyRmllbGQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaGludFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmhpbnQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGF0aFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBhdGguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic291cmNlSWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zb3VyY2VJZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvblJlcXVlc3RIZWFkZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uUmVxdWVzdEhlYWRlckFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElmIGhlYWRlciBlbGVtZW50IGlzIHNwZWNpZmllZCwgdGhlbiBmaWVsZCBpcyByZXF1aXJlZC5cclxuICAgKi9cclxuICBmaWVsZDogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgaGVhZGVyIGVsZW1lbnQgaXMgc3BlY2lmaWVkLCB0aGVuIHZhbHVlIGlzIHJlcXVpcmVkLiAgTm8gY29udmVyc2lvbnMgd2lsbCBiZSBkb25lIGJ5IHRoZSB0ZXN0IGVuZ2luZSBlLmcuIFwieG1sXCIgdG8gXCJhcHBsaWNhdGlvbi9maGlyK3htbFwiLiAgVGhlIHZhbHVlcyB3aWxsIGJlIHNldCBpbiBIVFRQIGhlYWRlcnMgXCJhcy1pc1wiLiAgVGVzdCBlbmdpbmVzIGRvIGhhdmUgdG8gbG9vayBmb3IgcGxhY2Vob2xkZXJzICgke30pIGFuZCByZXBsYWNlIHRoZSB2YXJpYWJsZSBwbGFjZWhvbGRlcnMgd2l0aCB0aGUgdmFyaWFibGUgdmFsdWVzIGF0IHJ1bnRpbWUgYmVmb3JlIHNlbmRpbmcgdGhlIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgdmFsdWU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBnaXZlcyBjb250cm9sIHRvIHRlc3Qtc2NyaXB0IHdyaXRlcnMgdG8gc2V0IGhlYWRlcnMgZXhwbGljaXRseSBiYXNlZCBvbiB0ZXN0IHJlcXVpcmVtZW50cy4gIEl0IHdpbGwgYWxsb3cgZm9yIHRlc3RpbmcgdXNpbmc6ICAtIFwiSWYtTW9kaWZpZWQtU2luY2VcIiBhbmQgXCJJZi1Ob25lLU1hdGNoXCIgaGVhZGVycy4gIFNlZSBodHRwOi8vYnVpbGQuZmhpci5vcmcvaHR0cC5odG1sIzIuMS4wLjUuMSAtIFwiSWYtTWF0Y2hcIiBoZWFkZXIuICBTZWUgaHR0cDovL2J1aWxkLmZoaXIub3JnL2h0dHAuaHRtbCMyLjEuMC4xMSAtIENvbmRpdGlvbmFsIENyZWF0ZSB1c2luZyBcIklmLU5vbmUtRXhpc3RcIi4gIFNlZSBodHRwOi8vYnVpbGQuZmhpci5vcmcvaHR0cC5odG1sIzIuMS4wLjEzLjEgLSBJbnZhbGlkIFwiQ29udGVudC1UeXBlXCIgaGVhZGVyIGZvciBuZWdhdGl2ZSB0ZXN0aW5nLiAtIGV0Yy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZXN0U2NyaXB0U2V0dXBBY3Rpb25PcGVyYXRpb25SZXF1ZXN0SGVhZGVyIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uUmVxdWVzdEhlYWRlcic7XHJcbiAgLyoqXHJcbiAgICogSWYgaGVhZGVyIGVsZW1lbnQgaXMgc3BlY2lmaWVkLCB0aGVuIGZpZWxkIGlzIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaWVsZDogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWYgaGVhZGVyIGVsZW1lbnQgaXMgc3BlY2lmaWVkLCB0aGVuIHZhbHVlIGlzIHJlcXVpcmVkLiAgTm8gY29udmVyc2lvbnMgd2lsbCBiZSBkb25lIGJ5IHRoZSB0ZXN0IGVuZ2luZSBlLmcuIFwieG1sXCIgdG8gXCJhcHBsaWNhdGlvbi9maGlyK3htbFwiLiAgVGhlIHZhbHVlcyB3aWxsIGJlIHNldCBpbiBIVFRQIGhlYWRlcnMgXCJhcy1pc1wiLiAgVGVzdCBlbmdpbmVzIGRvIGhhdmUgdG8gbG9vayBmb3IgcGxhY2Vob2xkZXJzICgke30pIGFuZCByZXBsYWNlIHRoZSB2YXJpYWJsZSBwbGFjZWhvbGRlcnMgd2l0aCB0aGUgdmFyaWFibGUgdmFsdWVzIGF0IHJ1bnRpbWUgYmVmb3JlIHNlbmRpbmcgdGhlIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBUZXN0U2NyaXB0U2V0dXBBY3Rpb25PcGVyYXRpb25SZXF1ZXN0SGVhZGVyIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uUmVxdWVzdEhlYWRlckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydmaWVsZCddKSB7IHRoaXMuZmllbGQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmZpZWxkfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZpZWxkID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52YWx1ZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snZmllbGQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGZpZWxkOmZoaXIuRmhpclN0cmluZyBmaGlyOiBUZXN0U2NyaXB0LnNldHVwLmFjdGlvbi5vcGVyYXRpb24ucmVxdWVzdEhlYWRlci5maWVsZDpzdHJpbmcnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZmllbGRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5maWVsZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd2YWx1ZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdmFsdWU6Zmhpci5GaGlyU3RyaW5nIGZoaXI6IFRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uLm9wZXJhdGlvbi5yZXF1ZXN0SGVhZGVyLnZhbHVlOnN0cmluZycsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ2YWx1ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZhbHVlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFNlZSBodHRwOi8vYnVpbGQuZmhpci5vcmcvaHR0cC5odG1sIGZvciBsaXN0IG9mIHNlcnZlciBpbnRlcmFjdGlvbnMuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgXCJ1cmxcIiBlbGVtZW50IGlzIHNwZWNpZmllZCwgdGhlbiBcInRhcmdldElkXCIsIFwicGFyYW1zXCIsIGFuZCBcInJlc291cmNlXCIgZWxlbWVudHMgd2lsbCBiZSBpZ25vcmVkIGFzIFwidXJsXCIgZWxlbWVudCB3aWxsIGhhdmUgZXZlcnl0aGluZyBuZWVkZWQgZm9yIGNvbnN0cnVjdGluZyB0aGUgcmVxdWVzdCB1cmwuICBJZiBcInBhcmFtc1wiIGVsZW1lbnQgaXMgc3BlY2lmaWVkLCB0aGVuIFwidGFyZ2V0SWRcIiBlbGVtZW50IGlzIGlnbm9yZWQuIEZvciBGSElSIG9wZXJhdGlvbnMgdGhhdCByZXF1aXJlIGEgcmVzb3VyY2UgKGUuZy4gXCJyZWFkXCIgYW5kIFwidnJlYWRcIiBvcGVyYXRpb25zKSwgdGhlIFwicmVzb3VyY2VcIiBlbGVtZW50IG11c3QgYmUgc3BlY2lmaWVkIHdoZW4gXCJwYXJhbXNcIiBlbGVtZW50IGlzIHNwZWNpZmllZC4gIElmIFwidXJsXCIgYW5kIFwicGFyYW1zXCIgZWxlbWVudHMgYXJlIGFic2VudCwgdGhlbiB0aGUgcmVxdWVzdCB1cmwgd2lsbCBiZSBjb25zdHJ1Y3RlZCBmcm9tIFwidGFyZ2V0SWRcIiBmaXh0dXJlIGlmIHByZXNlbnQuIEZvciBcInJlYWRcIiBvcGVyYXRpb24sIHRoZSByZXNvdXJjZSBhbmQgaWQgdmFsdWVzIHdpbGwgYmUgZXh0cmFjdGVkIGZyb20gXCJ0YXJnZXRJZFwiIGZpeHR1cmUgYW5kIHVzZWQgdG8gY29uc3RydWN0IHRoZSB1cmwuIEZvciBcInZyZWFkXCIgYW5kIFwiaGlzdG9yeVwiIG9wZXJhdGlvbnMsIHRoZSB2ZXJzaW9uSWQgdmFsdWUgd2lsbCBhbHNvIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcmVzb3VyY2U/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBoYXMgbm8gaW1wYWN0IG9uIHRoZSB2ZXJpZmljYXRpb24gaXRzZWxmLlxyXG4gICAqL1xyXG4gIGxhYmVsPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBoYXMgbm8gaW1wYWN0IG9uIHRoZSB2ZXJpZmljYXRpb24gaXRzZWxmLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhpcyBpcyBzcGVjaWZpZWQsIHRoZW4gdGVzdCBlbmdpbmUgc2hhbGwgc2V0IHRoZSAnQWNjZXB0JyBoZWFkZXIgdG8gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUuICBJZiB5b3UnZCBsaWtlIHRvIGV4cGxpY2l0bHkgc2V0IHRoZSAnQWNjZXB0JyB0byBzb21lIG90aGVyIHZhbHVlIHRoZW4gdXNlIHRoZSAncmVxdWVzdEhlYWRlcicgZWxlbWVudC5cclxuICAgKi9cclxuICBhY2NlcHQ/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhpcyBpcyBzcGVjaWZpZWQsIHRoZW4gdGVzdCBlbmdpbmUgc2hhbGwgc2V0IHRoZSAnQ29udGVudC1UeXBlJyBoZWFkZXIgdG8gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUuICBJZiB5b3UnZCBsaWtlIHRvIGV4cGxpY2l0bHkgc2V0IHRoZSAnQ29udGVudC1UeXBlJyB0byBzb21lIG90aGVyIHZhbHVlIHRoZW4gdXNlIHRoZSAncmVxdWVzdEhlYWRlcicgZWxlbWVudC5cclxuICAgKi9cclxuICBjb250ZW50VHlwZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBtdWx0aXBsZSBUZXN0U2NyaXB0LmRlc3RpbmF0aW9uIGVsZW1lbnRzIGFyZSBkZWZpbmVkIGFuZCBvcGVyYXRpb24uZGVzdGluYXRpb24gaXMgdW5kZWZpbmVkLCB0ZXN0IGVuZ2luZSB3aWxsIHJlcG9ydCBhbiBlcnJvciBhcyBpdCBjYW5ub3QgZGV0ZXJtaW5lIHdoYXQgZGVzdGluYXRpb24gdG8gdXNlIGZvciB0aGUgZXhjaGFuZ2UuXHJcbiAgICovXHJcbiAgZGVzdGluYXRpb24/OiBmaGlyLkZoaXJJbnRlZ2VyfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciBvciBub3QgdG8gaW1wbGljaXRseSBzZW5kIHRoZSByZXF1ZXN0IHVybCBpbiBlbmNvZGVkIGZvcm1hdC4gVGhlIGRlZmF1bHQgaXMgdHJ1ZSB0byBtYXRjaCB0aGUgc3RhbmRhcmQgUkVTVGZ1bCBjbGllbnQgYmVoYXZpb3IuIFNldCB0byBmYWxzZSB3aGVuIGNvbW11bmljYXRpbmcgd2l0aCBhIHNlcnZlciB0aGF0IGRvZXMgbm90IHN1cHBvcnQgZW5jb2RlZCB1cmwgcGF0aHMuXHJcbiAgICovXHJcbiAgZW5jb2RlUmVxdWVzdFVybDogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoZSBleHBsaWNpdCBIVFRQIG1ldGhvZCBpcyBzdXBwb3J0IG9mICBIVFRQIFBPU1QgbWV0aG9kIGludm9jYXRpb24gb2YgdGhlIEZISVIgc2VhcmNoLiBPdGhlciB1c2VzIHdpbGwgaW5jbHVkZSBzdXBwb3J0IG9mIG5lZ2F0aXZlIHRlc3RpbmcuXHJcbiAgICovXHJcbiAgbWV0aG9kPzogSHR0cE9wZXJhdGlvbnNDb2RlVHlwZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgYWJzZW50LCB0ZXN0IGVuZ2luZSB3aWxsIHNlbmQgdGhlIG1lc3NhZ2UuICBXaGVuIHByZXNlbnQsIHRlc3QgZW5naW5lIHdpbGwgbm90IHNlbmQgdGhlIHJlcXVlc3QgbWVzc2FnZSBidXQgd2lsbCB3YWl0IGZvciB0aGUgcmVxdWVzdCBtZXNzYWdlIHRvIGJlIHNlbnQgZnJvbSB0aGlzIG9yaWdpbiBzZXJ2ZXIuXHJcbiAgICovXHJcbiAgb3JpZ2luPzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIFwidXJsXCIgZWxlbWVudCBpcyBzcGVjaWZpZWQsIHRoZW4gXCJ0YXJnZXRJZFwiLCBcInBhcmFtc1wiLCBhbmQgXCJyZXNvdXJjZVwiIGVsZW1lbnRzIHdpbGwgYmUgaWdub3JlZCBhcyBcInVybFwiIGVsZW1lbnQgd2lsbCBoYXZlIGV2ZXJ5dGhpbmcgbmVlZGVkIGZvciBjb25zdHJ1Y3RpbmcgdGhlIHJlcXVlc3QgdXJsLiAgSWYgXCJwYXJhbXNcIiBlbGVtZW50IGlzIHNwZWNpZmllZCwgdGhlbiBcInRhcmdldElkXCIgZWxlbWVudCBpcyBpZ25vcmVkLiAgRm9yIEZISVIgb3BlcmF0aW9ucyB0aGF0IHJlcXVpcmUgYSByZXNvdXJjZSAoZS5nLiBcInJlYWRcIiBhbmQgXCJ2cmVhZFwiIG9wZXJhdGlvbnMpLCB0aGUgXCJyZXNvdXJjZVwiIGVsZW1lbnQgbXVzdCBiZSBzcGVjaWZpZWQgd2hlbiBcInBhcmFtc1wiIGVsZW1lbnQgaXMgc3BlY2lmaWVkLiAgSWYgXCJ1cmxcIiBhbmQgXCJwYXJhbXNcIiBlbGVtZW50cyBhcmUgYWJzZW50LCB0aGVuIHRoZSByZXF1ZXN0IHVybCB3aWxsIGJlIGNvbnN0cnVjdGVkIGZyb20gXCJ0YXJnZXRJZFwiIGZpeHR1cmUgaWYgcHJlc2VudC4gIEZvciBcInJlYWRcIiBvcGVyYXRpb24sIHRoZSByZXNvdXJjZSBhbmQgaWQgdmFsdWVzIHdpbGwgYmUgZXh0cmFjdGVkIGZyb20gXCJ0YXJnZXRJZFwiIGZpeHR1cmUgYW5kIHVzZWQgdG8gY29uc3RydWN0IHRoZSB1cmwuICBGb3IgXCJ2cmVhZFwiIGFuZCBcImhpc3RvcnlcIiBvcGVyYXRpb25zLCB0aGUgdmVyc2lvbklkIHZhbHVlIHdpbGwgYWxzbyBiZSB1c2VkLiAgIFRlc3QgZW5naW5lcyB3b3VsZCBhcHBlbmQgd2hhdGV2ZXIgaXMgc3BlY2lmaWVkIGZvciBcInBhcmFtc1wiIHRvIHRoZSBVUkwgYWZ0ZXIgdGhlIHJlc291cmNlIHR5cGUgd2l0aG91dCB0YW1wZXJpbmcgd2l0aCB0aGUgc3RyaW5nIChiZXlvbmQgZW5jb2RpbmcgdGhlIFVSTCBmb3IgSFRUUCkuICBUaGUgXCJwYXJhbXNcIiBlbGVtZW50IGRvZXMgbm90IGNvcnJlc3BvbmQgZXhhY3RseSB0byBcInNlYXJjaCBwYXJhbWV0ZXJzXCIuICBOb3IgaXMgaXQgdGhlIFwicGF0aFwiLiAgSXQgY29ycmVzcG9uZHMgdG8gdGhlIHBhcnQgb2YgdGhlIFVSTCB0aGF0IGNvbWVzIGFmdGVyIHRoZSBbdHlwZV0gKHdoZW4gXCJyZXNvdXJjZVwiIGVsZW1lbnQgaXMgc3BlY2lmaWVkKTsgZS5nLiBJdCBjb3JyZXNwb25kcyB0byBcIi9baWRdL19oaXN0b3J5L1t2aWRdIHs/X2Zvcm1hdD1bbWltZS10eXBlXX1cIiBpbiB0aGUgZm9sbG93aW5nIG9wZXJhdGlvbjogR0VUIFtiYXNlXS9bdHlwZV0vW2lkXS9faGlzdG9yeS9bdmlkXSB7P19mb3JtYXQ9W21pbWUtdHlwZV19ICBUZXN0IGVuZ2luZXMgZG8gaGF2ZSB0byBsb29rIGZvciBwbGFjZWhvbGRlcnMgKCR7fSkgYW5kIHJlcGxhY2UgdGhlIHZhcmlhYmxlIHBsYWNlaG9sZGVycyB3aXRoIHRoZSB2YXJpYWJsZSB2YWx1ZXMgYXQgcnVudGltZSBiZWZvcmUgc2VuZGluZyB0aGUgcmVxdWVzdC5cclxuICAgKi9cclxuICBwYXJhbXM/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGdpdmVzIGNvbnRyb2wgdG8gdGVzdC1zY3JpcHQgd3JpdGVycyB0byBzZXQgaGVhZGVycyBleHBsaWNpdGx5IGJhc2VkIG9uIHRlc3QgcmVxdWlyZW1lbnRzLiAgSXQgd2lsbCBhbGxvdyBmb3IgdGVzdGluZyB1c2luZzogIC0gXCJJZi1Nb2RpZmllZC1TaW5jZVwiIGFuZCBcIklmLU5vbmUtTWF0Y2hcIiBoZWFkZXJzLiAgU2VlIGh0dHA6Ly9idWlsZC5maGlyLm9yZy9odHRwLmh0bWwjMi4xLjAuNS4xIC0gXCJJZi1NYXRjaFwiIGhlYWRlci4gIFNlZSBodHRwOi8vYnVpbGQuZmhpci5vcmcvaHR0cC5odG1sIzIuMS4wLjExIC0gQ29uZGl0aW9uYWwgQ3JlYXRlIHVzaW5nIFwiSWYtTm9uZS1FeGlzdFwiLiAgU2VlIGh0dHA6Ly9idWlsZC5maGlyLm9yZy9odHRwLmh0bWwjMi4xLjAuMTMuMSAtIEludmFsaWQgXCJDb250ZW50LVR5cGVcIiBoZWFkZXIgZm9yIG5lZ2F0aXZlIHRlc3RpbmcuIC0gZXRjLlxyXG4gICAqL1xyXG4gIHJlcXVlc3RIZWFkZXI/OiBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvblJlcXVlc3RIZWFkZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGEgcmVxdWVzdElkIGlzIHN1cHBsaWVkLCB0aGVuIHRoZSByZXN1bHRpbmcgcmVxdWVzdCAoYm90aCBoZWFkZXJzIGFuZCBib2R5KSBpcyBtYXBwZWQgdG8gdGhlIGZpeHR1cmUgSUQgKHdoaWNoIG1heSBiZSBlbnRpcmVseSBuZXcgYW5kIHByZXZpb3VzbHkgdW5kZWNsYXJlZCkgZGVzaWduYXRlZCBieSBcInJlcXVlc3RJZFwiLiAgSWYgcmVxdWVzdElkIGlzIG5vdCBzcGVjaWZpZWQsIGl0IGlzIHRoZSB0ZXN0IGVuZ2luZSdzIHJlc3BvbnNpYmlsaXR5IHRvIHN0b3JlIHRoZSByZXF1ZXN0IGFuZCB1c2UgaXQgYXMgdGhlIHJlcXVlc3RJZCBpbiBzdWJzZXF1ZW50IGFzc2VydGlvbnMgd2hlbiBhc3NlcnRpb24gcGF0aCBhbmQvb3IgaGVhZGVyRmllbGQgaXMgc3BlY2lmaWVkLCBkaXJlY3Rpb24gaXMgZXF1YWwgdG8gcmVxdWVzdCwgYW5kIHRoZSByZXF1ZXN0SWQgaW4gbm90IHNwZWNpZmllZC5cclxuICAgKi9cclxuICByZXF1ZXN0SWQ/OiBmaGlyLkZoaXJJZHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGEgcmVzcG9uc2VJZCBpcyBzdXBwbGllZCwgYW5kIHRoZSBzZXJ2ZXIgcmVzcG9uZHMsIHRoZW4gdGhlIHJlc3VsdGluZyByZXNwb25zZSAoYm90aCBoZWFkZXJzIGFuZCBib2R5KSBpcyBtYXBwZWQgdG8gdGhlIGZpeHR1cmUgSUQgKHdoaWNoIG1heSBiZSBlbnRpcmVseSBuZXcgYW5kIHByZXZpb3VzbHkgdW5kZWNsYXJlZCkgZGVzaWduYXRlZCBieSBcInJlc3BvbnNlSWRcIi4gIElmIHJlc3BvbnNlSWQgaXMgbm90IHNwZWNpZmllZCwgaXQgaXMgdGhlIHRlc3QgZW5naW5lJ3MgcmVzcG9uc2liaWxpdHkgdG8gc3RvcmUgdGhlIHJlc3BvbnNlIGFuZCB1c2UgaXQgYXMgdGhlIHJlc3BvbnNlSWQgaW4gc3Vic2VxdWVudCBhc3NlcnRpb25zIHdoZW4gYXNzZXJ0aW9uIHBhdGggYW5kL29yIGhlYWRlckZpZWxkIGlzIHNwZWNpZmllZCBhbmQgdGhlIHJlc3BvbnNlSWQgaXMgbm90IHNwZWNpZmllZC5cclxuICAgKi9cclxuICByZXNwb25zZUlkPzogZmhpci5GaGlySWR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaWQgb2YgdGhlIGZpeHR1cmUgdXNlZCBhcyB0aGUgYm9keSBvZiBhIFBVVCBvciBQT1NUIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgc291cmNlSWQ/OiBmaGlyLkZoaXJJZHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIFwidXJsXCIgZWxlbWVudCBpcyBzcGVjaWZpZWQsIHRoZW4gXCJ0YXJnZXRJZFwiLCBcInBhcmFtc1wiLCBhbmQgXCJyZXNvdXJjZVwiIGVsZW1lbnRzIHdpbGwgYmUgaWdub3JlZCBhcyBcInVybFwiIGVsZW1lbnQgd2lsbCBoYXZlIGV2ZXJ5dGhpbmcgbmVlZGVkIGZvciBjb25zdHJ1Y3RpbmcgdGhlIHJlcXVlc3QgdXJsLiAgSWYgXCJwYXJhbXNcIiBlbGVtZW50IGlzIHNwZWNpZmllZCwgdGhlbiBcInRhcmdldElkXCIgZWxlbWVudCBpcyBpZ25vcmVkLiAgRm9yIEZISVIgb3BlcmF0aW9ucyB0aGF0IHJlcXVpcmUgYSByZXNvdXJjZSAoZS5nLiBcInJlYWRcIiBhbmQgXCJ2cmVhZFwiIG9wZXJhdGlvbnMpLCB0aGUgXCJyZXNvdXJjZVwiIGVsZW1lbnQgbXVzdCBiZSBzcGVjaWZpZWQgd2hlbiBcInBhcmFtc1wiIGVsZW1lbnQgaXMgc3BlY2lmaWVkLiAgSWYgXCJ1cmxcIiBhbmQgXCJwYXJhbXNcIiBlbGVtZW50cyBhcmUgYWJzZW50LCB0aGVuIHRoZSByZXF1ZXN0IHVybCB3aWxsIGJlIGNvbnN0cnVjdGVkIGZyb20gXCJ0YXJnZXRJZFwiIGZpeHR1cmUgaWYgcHJlc2VudC4gIEZvciBcInJlYWRcIiBvcGVyYXRpb24sIHRoZSByZXNvdXJjZSBhbmQgaWQgdmFsdWVzIHdpbGwgYmUgZXh0cmFjdGVkIGZyb20gXCJ0YXJnZXRJZFwiIGZpeHR1cmUgYW5kIHVzZWQgdG8gY29uc3RydWN0IHRoZSB1cmwuICBGb3IgXCJ2cmVhZFwiIGFuZCBcImhpc3RvcnlcIiBvcGVyYXRpb25zLCB0aGUgdmVyc2lvbklkIHZhbHVlIHdpbGwgYWxzbyBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIHRhcmdldElkPzogZmhpci5GaGlySWR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2VkIHRvIHNldCB0aGUgcmVxdWVzdCBVUkwgZXhwbGljaXRseS4gIElmIFwidXJsXCIgZWxlbWVudCBpcyBkZWZpbmVkLCB0aGVuIFwidGFyZ2V0SWRcIiwgXCJyZXNvdXJjZVwiLCBhbmQgXCJwYXJhbXNcIiBlbGVtZW50cyB3aWxsIGJlIGlnbm9yZWQuICBUZXN0IGVuZ2luZXMgd291bGQgdXNlIHdoYXRldmVyIGlzIHNwZWNpZmllZCBpbiBcInVybFwiIHdpdGhvdXQgdGFtcGVyaW5nIHdpdGggdGhlIHN0cmluZyAoYmV5b25kIGVuY29kaW5nIHRoZSBVUkwgZm9yIEhUVFApLiAgVGVzdCBlbmdpbmVzIGRvIGhhdmUgdG8gbG9vayBmb3IgcGxhY2Vob2xkZXJzICgke30pIGFuZCByZXBsYWNlIHRoZSB2YXJpYWJsZSBwbGFjZWhvbGRlcnMgd2l0aCB0aGUgdmFyaWFibGUgdmFsdWVzIGF0IHJ1bnRpbWUgYmVmb3JlIHNlbmRpbmcgdGhlIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgdXJsPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uJztcclxuICAvKipcclxuICAgKiBTZWUgaHR0cDovL2J1aWxkLmZoaXIub3JnL2h0dHAuaHRtbCBmb3IgbGlzdCBvZiBzZXJ2ZXIgaW50ZXJhY3Rpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIFwidXJsXCIgZWxlbWVudCBpcyBzcGVjaWZpZWQsIHRoZW4gXCJ0YXJnZXRJZFwiLCBcInBhcmFtc1wiLCBhbmQgXCJyZXNvdXJjZVwiIGVsZW1lbnRzIHdpbGwgYmUgaWdub3JlZCBhcyBcInVybFwiIGVsZW1lbnQgd2lsbCBoYXZlIGV2ZXJ5dGhpbmcgbmVlZGVkIGZvciBjb25zdHJ1Y3RpbmcgdGhlIHJlcXVlc3QgdXJsLiAgSWYgXCJwYXJhbXNcIiBlbGVtZW50IGlzIHNwZWNpZmllZCwgdGhlbiBcInRhcmdldElkXCIgZWxlbWVudCBpcyBpZ25vcmVkLiBGb3IgRkhJUiBvcGVyYXRpb25zIHRoYXQgcmVxdWlyZSBhIHJlc291cmNlIChlLmcuIFwicmVhZFwiIGFuZCBcInZyZWFkXCIgb3BlcmF0aW9ucyksIHRoZSBcInJlc291cmNlXCIgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIFwicGFyYW1zXCIgZWxlbWVudCBpcyBzcGVjaWZpZWQuICBJZiBcInVybFwiIGFuZCBcInBhcmFtc1wiIGVsZW1lbnRzIGFyZSBhYnNlbnQsIHRoZW4gdGhlIHJlcXVlc3QgdXJsIHdpbGwgYmUgY29uc3RydWN0ZWQgZnJvbSBcInRhcmdldElkXCIgZml4dHVyZSBpZiBwcmVzZW50LiBGb3IgXCJyZWFkXCIgb3BlcmF0aW9uLCB0aGUgcmVzb3VyY2UgYW5kIGlkIHZhbHVlcyB3aWxsIGJlIGV4dHJhY3RlZCBmcm9tIFwidGFyZ2V0SWRcIiBmaXh0dXJlIGFuZCB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdXJsLiBGb3IgXCJ2cmVhZFwiIGFuZCBcImhpc3RvcnlcIiBvcGVyYXRpb25zLCB0aGUgdmVyc2lvbklkIHZhbHVlIHdpbGwgYWxzbyBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNvdXJjZT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaGFzIG5vIGltcGFjdCBvbiB0aGUgdmVyaWZpY2F0aW9uIGl0c2VsZi5cclxuICAgKi9cclxuICBwdWJsaWMgbGFiZWw/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaGFzIG5vIGltcGFjdCBvbiB0aGUgdmVyaWZpY2F0aW9uIGl0c2VsZi5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgaXMgc3BlY2lmaWVkLCB0aGVuIHRlc3QgZW5naW5lIHNoYWxsIHNldCB0aGUgJ0FjY2VwdCcgaGVhZGVyIHRvIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlLiAgSWYgeW91J2QgbGlrZSB0byBleHBsaWNpdGx5IHNldCB0aGUgJ0FjY2VwdCcgdG8gc29tZSBvdGhlciB2YWx1ZSB0aGVuIHVzZSB0aGUgJ3JlcXVlc3RIZWFkZXInIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGFjY2VwdD86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgaXMgc3BlY2lmaWVkLCB0aGVuIHRlc3QgZW5naW5lIHNoYWxsIHNldCB0aGUgJ0NvbnRlbnQtVHlwZScgaGVhZGVyIHRvIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlLiAgSWYgeW91J2QgbGlrZSB0byBleHBsaWNpdGx5IHNldCB0aGUgJ0NvbnRlbnQtVHlwZScgdG8gc29tZSBvdGhlciB2YWx1ZSB0aGVuIHVzZSB0aGUgJ3JlcXVlc3RIZWFkZXInIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRlbnRUeXBlPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgbXVsdGlwbGUgVGVzdFNjcmlwdC5kZXN0aW5hdGlvbiBlbGVtZW50cyBhcmUgZGVmaW5lZCBhbmQgb3BlcmF0aW9uLmRlc3RpbmF0aW9uIGlzIHVuZGVmaW5lZCwgdGVzdCBlbmdpbmUgd2lsbCByZXBvcnQgYW4gZXJyb3IgYXMgaXQgY2Fubm90IGRldGVybWluZSB3aGF0IGRlc3RpbmF0aW9uIHRvIHVzZSBmb3IgdGhlIGV4Y2hhbmdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXN0aW5hdGlvbj86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGltcGxpY2l0bHkgc2VuZCB0aGUgcmVxdWVzdCB1cmwgaW4gZW5jb2RlZCBmb3JtYXQuIFRoZSBkZWZhdWx0IGlzIHRydWUgdG8gbWF0Y2ggdGhlIHN0YW5kYXJkIFJFU1RmdWwgY2xpZW50IGJlaGF2aW9yLiBTZXQgdG8gZmFsc2Ugd2hlbiBjb21tdW5pY2F0aW5nIHdpdGggYSBzZXJ2ZXIgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IGVuY29kZWQgdXJsIHBhdGhzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvZGVSZXF1ZXN0VXJsOiBmaGlyLkZoaXJCb29sZWFufG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGUgZXhwbGljaXQgSFRUUCBtZXRob2QgaXMgc3VwcG9ydCBvZiAgSFRUUCBQT1NUIG1ldGhvZCBpbnZvY2F0aW9uIG9mIHRoZSBGSElSIHNlYXJjaC4gT3RoZXIgdXNlcyB3aWxsIGluY2x1ZGUgc3VwcG9ydCBvZiBuZWdhdGl2ZSB0ZXN0aW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2Q/OiBIdHRwT3BlcmF0aW9uc0NvZGVUeXBlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBhYnNlbnQsIHRlc3QgZW5naW5lIHdpbGwgc2VuZCB0aGUgbWVzc2FnZS4gIFdoZW4gcHJlc2VudCwgdGVzdCBlbmdpbmUgd2lsbCBub3Qgc2VuZCB0aGUgcmVxdWVzdCBtZXNzYWdlIGJ1dCB3aWxsIHdhaXQgZm9yIHRoZSByZXF1ZXN0IG1lc3NhZ2UgdG8gYmUgc2VudCBmcm9tIHRoaXMgb3JpZ2luIHNlcnZlci5cclxuICAgKi9cclxuICBwdWJsaWMgb3JpZ2luPzogZmhpci5GaGlySW50ZWdlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgXCJ1cmxcIiBlbGVtZW50IGlzIHNwZWNpZmllZCwgdGhlbiBcInRhcmdldElkXCIsIFwicGFyYW1zXCIsIGFuZCBcInJlc291cmNlXCIgZWxlbWVudHMgd2lsbCBiZSBpZ25vcmVkIGFzIFwidXJsXCIgZWxlbWVudCB3aWxsIGhhdmUgZXZlcnl0aGluZyBuZWVkZWQgZm9yIGNvbnN0cnVjdGluZyB0aGUgcmVxdWVzdCB1cmwuICBJZiBcInBhcmFtc1wiIGVsZW1lbnQgaXMgc3BlY2lmaWVkLCB0aGVuIFwidGFyZ2V0SWRcIiBlbGVtZW50IGlzIGlnbm9yZWQuICBGb3IgRkhJUiBvcGVyYXRpb25zIHRoYXQgcmVxdWlyZSBhIHJlc291cmNlIChlLmcuIFwicmVhZFwiIGFuZCBcInZyZWFkXCIgb3BlcmF0aW9ucyksIHRoZSBcInJlc291cmNlXCIgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIFwicGFyYW1zXCIgZWxlbWVudCBpcyBzcGVjaWZpZWQuICBJZiBcInVybFwiIGFuZCBcInBhcmFtc1wiIGVsZW1lbnRzIGFyZSBhYnNlbnQsIHRoZW4gdGhlIHJlcXVlc3QgdXJsIHdpbGwgYmUgY29uc3RydWN0ZWQgZnJvbSBcInRhcmdldElkXCIgZml4dHVyZSBpZiBwcmVzZW50LiAgRm9yIFwicmVhZFwiIG9wZXJhdGlvbiwgdGhlIHJlc291cmNlIGFuZCBpZCB2YWx1ZXMgd2lsbCBiZSBleHRyYWN0ZWQgZnJvbSBcInRhcmdldElkXCIgZml4dHVyZSBhbmQgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHVybC4gIEZvciBcInZyZWFkXCIgYW5kIFwiaGlzdG9yeVwiIG9wZXJhdGlvbnMsIHRoZSB2ZXJzaW9uSWQgdmFsdWUgd2lsbCBhbHNvIGJlIHVzZWQuICAgVGVzdCBlbmdpbmVzIHdvdWxkIGFwcGVuZCB3aGF0ZXZlciBpcyBzcGVjaWZpZWQgZm9yIFwicGFyYW1zXCIgdG8gdGhlIFVSTCBhZnRlciB0aGUgcmVzb3VyY2UgdHlwZSB3aXRob3V0IHRhbXBlcmluZyB3aXRoIHRoZSBzdHJpbmcgKGJleW9uZCBlbmNvZGluZyB0aGUgVVJMIGZvciBIVFRQKS4gIFRoZSBcInBhcmFtc1wiIGVsZW1lbnQgZG9lcyBub3QgY29ycmVzcG9uZCBleGFjdGx5IHRvIFwic2VhcmNoIHBhcmFtZXRlcnNcIi4gIE5vciBpcyBpdCB0aGUgXCJwYXRoXCIuICBJdCBjb3JyZXNwb25kcyB0byB0aGUgcGFydCBvZiB0aGUgVVJMIHRoYXQgY29tZXMgYWZ0ZXIgdGhlIFt0eXBlXSAod2hlbiBcInJlc291cmNlXCIgZWxlbWVudCBpcyBzcGVjaWZpZWQpOyBlLmcuIEl0IGNvcnJlc3BvbmRzIHRvIFwiL1tpZF0vX2hpc3RvcnkvW3ZpZF0gez9fZm9ybWF0PVttaW1lLXR5cGVdfVwiIGluIHRoZSBmb2xsb3dpbmcgb3BlcmF0aW9uOiBHRVQgW2Jhc2VdL1t0eXBlXS9baWRdL19oaXN0b3J5L1t2aWRdIHs/X2Zvcm1hdD1bbWltZS10eXBlXX0gIFRlc3QgZW5naW5lcyBkbyBoYXZlIHRvIGxvb2sgZm9yIHBsYWNlaG9sZGVycyAoJHt9KSBhbmQgcmVwbGFjZSB0aGUgdmFyaWFibGUgcGxhY2Vob2xkZXJzIHdpdGggdGhlIHZhcmlhYmxlIHZhbHVlcyBhdCBydW50aW1lIGJlZm9yZSBzZW5kaW5nIHRoZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJhbXM/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZ2l2ZXMgY29udHJvbCB0byB0ZXN0LXNjcmlwdCB3cml0ZXJzIHRvIHNldCBoZWFkZXJzIGV4cGxpY2l0bHkgYmFzZWQgb24gdGVzdCByZXF1aXJlbWVudHMuICBJdCB3aWxsIGFsbG93IGZvciB0ZXN0aW5nIHVzaW5nOiAgLSBcIklmLU1vZGlmaWVkLVNpbmNlXCIgYW5kIFwiSWYtTm9uZS1NYXRjaFwiIGhlYWRlcnMuICBTZWUgaHR0cDovL2J1aWxkLmZoaXIub3JnL2h0dHAuaHRtbCMyLjEuMC41LjEgLSBcIklmLU1hdGNoXCIgaGVhZGVyLiAgU2VlIGh0dHA6Ly9idWlsZC5maGlyLm9yZy9odHRwLmh0bWwjMi4xLjAuMTEgLSBDb25kaXRpb25hbCBDcmVhdGUgdXNpbmcgXCJJZi1Ob25lLUV4aXN0XCIuICBTZWUgaHR0cDovL2J1aWxkLmZoaXIub3JnL2h0dHAuaHRtbCMyLjEuMC4xMy4xIC0gSW52YWxpZCBcIkNvbnRlbnQtVHlwZVwiIGhlYWRlciBmb3IgbmVnYXRpdmUgdGVzdGluZy4gLSBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3RIZWFkZXI/OiBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvblJlcXVlc3RIZWFkZXJbXTtcclxuICAvKipcclxuICAgKiBJZiBhIHJlcXVlc3RJZCBpcyBzdXBwbGllZCwgdGhlbiB0aGUgcmVzdWx0aW5nIHJlcXVlc3QgKGJvdGggaGVhZGVycyBhbmQgYm9keSkgaXMgbWFwcGVkIHRvIHRoZSBmaXh0dXJlIElEICh3aGljaCBtYXkgYmUgZW50aXJlbHkgbmV3IGFuZCBwcmV2aW91c2x5IHVuZGVjbGFyZWQpIGRlc2lnbmF0ZWQgYnkgXCJyZXF1ZXN0SWRcIi4gIElmIHJlcXVlc3RJZCBpcyBub3Qgc3BlY2lmaWVkLCBpdCBpcyB0aGUgdGVzdCBlbmdpbmUncyByZXNwb25zaWJpbGl0eSB0byBzdG9yZSB0aGUgcmVxdWVzdCBhbmQgdXNlIGl0IGFzIHRoZSByZXF1ZXN0SWQgaW4gc3Vic2VxdWVudCBhc3NlcnRpb25zIHdoZW4gYXNzZXJ0aW9uIHBhdGggYW5kL29yIGhlYWRlckZpZWxkIGlzIHNwZWNpZmllZCwgZGlyZWN0aW9uIGlzIGVxdWFsIHRvIHJlcXVlc3QsIGFuZCB0aGUgcmVxdWVzdElkIGluIG5vdCBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3RJZD86IGZoaXIuRmhpcklkfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBhIHJlc3BvbnNlSWQgaXMgc3VwcGxpZWQsIGFuZCB0aGUgc2VydmVyIHJlc3BvbmRzLCB0aGVuIHRoZSByZXN1bHRpbmcgcmVzcG9uc2UgKGJvdGggaGVhZGVycyBhbmQgYm9keSkgaXMgbWFwcGVkIHRvIHRoZSBmaXh0dXJlIElEICh3aGljaCBtYXkgYmUgZW50aXJlbHkgbmV3IGFuZCBwcmV2aW91c2x5IHVuZGVjbGFyZWQpIGRlc2lnbmF0ZWQgYnkgXCJyZXNwb25zZUlkXCIuICBJZiByZXNwb25zZUlkIGlzIG5vdCBzcGVjaWZpZWQsIGl0IGlzIHRoZSB0ZXN0IGVuZ2luZSdzIHJlc3BvbnNpYmlsaXR5IHRvIHN0b3JlIHRoZSByZXNwb25zZSBhbmQgdXNlIGl0IGFzIHRoZSByZXNwb25zZUlkIGluIHN1YnNlcXVlbnQgYXNzZXJ0aW9ucyB3aGVuIGFzc2VydGlvbiBwYXRoIGFuZC9vciBoZWFkZXJGaWVsZCBpcyBzcGVjaWZpZWQgYW5kIHRoZSByZXNwb25zZUlkIGlzIG5vdCBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc3BvbnNlSWQ/OiBmaGlyLkZoaXJJZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkIG9mIHRoZSBmaXh0dXJlIHVzZWQgYXMgdGhlIGJvZHkgb2YgYSBQVVQgb3IgUE9TVCByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2VJZD86IGZoaXIuRmhpcklkfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBcInVybFwiIGVsZW1lbnQgaXMgc3BlY2lmaWVkLCB0aGVuIFwidGFyZ2V0SWRcIiwgXCJwYXJhbXNcIiwgYW5kIFwicmVzb3VyY2VcIiBlbGVtZW50cyB3aWxsIGJlIGlnbm9yZWQgYXMgXCJ1cmxcIiBlbGVtZW50IHdpbGwgaGF2ZSBldmVyeXRoaW5nIG5lZWRlZCBmb3IgY29uc3RydWN0aW5nIHRoZSByZXF1ZXN0IHVybC4gIElmIFwicGFyYW1zXCIgZWxlbWVudCBpcyBzcGVjaWZpZWQsIHRoZW4gXCJ0YXJnZXRJZFwiIGVsZW1lbnQgaXMgaWdub3JlZC4gIEZvciBGSElSIG9wZXJhdGlvbnMgdGhhdCByZXF1aXJlIGEgcmVzb3VyY2UgKGUuZy4gXCJyZWFkXCIgYW5kIFwidnJlYWRcIiBvcGVyYXRpb25zKSwgdGhlIFwicmVzb3VyY2VcIiBlbGVtZW50IG11c3QgYmUgc3BlY2lmaWVkIHdoZW4gXCJwYXJhbXNcIiBlbGVtZW50IGlzIHNwZWNpZmllZC4gIElmIFwidXJsXCIgYW5kIFwicGFyYW1zXCIgZWxlbWVudHMgYXJlIGFic2VudCwgdGhlbiB0aGUgcmVxdWVzdCB1cmwgd2lsbCBiZSBjb25zdHJ1Y3RlZCBmcm9tIFwidGFyZ2V0SWRcIiBmaXh0dXJlIGlmIHByZXNlbnQuICBGb3IgXCJyZWFkXCIgb3BlcmF0aW9uLCB0aGUgcmVzb3VyY2UgYW5kIGlkIHZhbHVlcyB3aWxsIGJlIGV4dHJhY3RlZCBmcm9tIFwidGFyZ2V0SWRcIiBmaXh0dXJlIGFuZCB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdXJsLiAgRm9yIFwidnJlYWRcIiBhbmQgXCJoaXN0b3J5XCIgb3BlcmF0aW9ucywgdGhlIHZlcnNpb25JZCB2YWx1ZSB3aWxsIGFsc28gYmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdGFyZ2V0SWQ/OiBmaGlyLkZoaXJJZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlZCB0byBzZXQgdGhlIHJlcXVlc3QgVVJMIGV4cGxpY2l0bHkuICBJZiBcInVybFwiIGVsZW1lbnQgaXMgZGVmaW5lZCwgdGhlbiBcInRhcmdldElkXCIsIFwicmVzb3VyY2VcIiwgYW5kIFwicGFyYW1zXCIgZWxlbWVudHMgd2lsbCBiZSBpZ25vcmVkLiAgVGVzdCBlbmdpbmVzIHdvdWxkIHVzZSB3aGF0ZXZlciBpcyBzcGVjaWZpZWQgaW4gXCJ1cmxcIiB3aXRob3V0IHRhbXBlcmluZyB3aXRoIHRoZSBzdHJpbmcgKGJleW9uZCBlbmNvZGluZyB0aGUgVVJMIGZvciBIVFRQKS4gIFRlc3QgZW5naW5lcyBkbyBoYXZlIHRvIGxvb2sgZm9yIHBsYWNlaG9sZGVycyAoJHt9KSBhbmQgcmVwbGFjZSB0aGUgdmFyaWFibGUgcGxhY2Vob2xkZXJzIHdpdGggdGhlIHZhcmlhYmxlIHZhbHVlcyBhdCBydW50aW1lIGJlZm9yZSBzZW5kaW5nIHRoZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cmw/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzb3VyY2UnXSkgeyB0aGlzLnJlc291cmNlID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UucmVzb3VyY2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGFiZWwnXSkgeyB0aGlzLmxhYmVsID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5sYWJlbH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjY2VwdCddKSB7IHRoaXMuYWNjZXB0ID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuYWNjZXB0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRlbnRUeXBlJ10pIHsgdGhpcy5jb250ZW50VHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLmNvbnRlbnRUeXBlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc3RpbmF0aW9uJ10pIHsgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLmRlc3RpbmF0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY29kZVJlcXVlc3RVcmwnXSkgeyB0aGlzLmVuY29kZVJlcXVlc3RVcmwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5lbmNvZGVSZXF1ZXN0VXJsfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVuY29kZVJlcXVlc3RVcmwgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydtZXRob2QnXSkgeyB0aGlzLm1ldGhvZCA9IHNvdXJjZS5tZXRob2Q7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yaWdpbiddKSB7IHRoaXMub3JpZ2luID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2Uub3JpZ2lufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhcmFtcyddKSB7IHRoaXMucGFyYW1zID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wYXJhbXN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdEhlYWRlciddKSB7IHRoaXMucmVxdWVzdEhlYWRlciA9IHNvdXJjZS5yZXF1ZXN0SGVhZGVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uUmVxdWVzdEhlYWRlcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlcXVlc3RIZWFkZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdElkJ10pIHsgdGhpcy5yZXF1ZXN0SWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2UucmVxdWVzdElkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc3BvbnNlSWQnXSkgeyB0aGlzLnJlc3BvbnNlSWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2UucmVzcG9uc2VJZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2VJZCddKSB7IHRoaXMuc291cmNlSWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2Uuc291cmNlSWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0SWQnXSkgeyB0aGlzLnRhcmdldElkID0gbmV3IGZoaXIuRmhpcklkKHt2YWx1ZTogc291cmNlLnRhcmdldElkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VybCddKSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS51cmx9KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoVGVzdFNjcmlwdC5zZXR1cC5hY3Rpb24ub3BlcmF0aW9uLnR5cGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyB0eXBlRXh0ZW5zaWJsZUNvZGluZygpOlRlc3RzY3JpcHRPcGVyYXRpb25Db2Rlc0NvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFRlc3RzY3JpcHRPcGVyYXRpb25Db2Rlc0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgcmVzb3VyY2UgKFRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uLm9wZXJhdGlvbi5yZXNvdXJjZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJlc291cmNlUmVxdWlyZWRDb2RpbmcoKTpEZWZpbmVkVHlwZXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBEZWZpbmVkVHlwZXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIG1ldGhvZCAoVGVzdFNjcmlwdC5zZXR1cC5hY3Rpb24ub3BlcmF0aW9uLm1ldGhvZClcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG1ldGhvZFJlcXVpcmVkQ29kaW5nKCk6SHR0cE9wZXJhdGlvbnNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBIdHRwT3BlcmF0aW9uc0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlc291cmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVzb3VyY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibGFiZWxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5sYWJlbC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlc2NyaXB0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImFjY2VwdFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFjY2VwdC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb250ZW50VHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvbnRlbnRUeXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRlc3RpbmF0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVzdGluYXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1snZW5jb2RlUmVxdWVzdFVybCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgZW5jb2RlUmVxdWVzdFVybDpmaGlyLkZoaXJCb29sZWFuIGZoaXI6IFRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uLm9wZXJhdGlvbi5lbmNvZGVSZXF1ZXN0VXJsOmJvb2xlYW4nLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZW5jb2RlUmVxdWVzdFVybFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmVuY29kZVJlcXVlc3RVcmwuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wib3JpZ2luXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3JpZ2luLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBhcmFtc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBhcmFtcy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJyZXF1ZXN0SGVhZGVyXCJdKSB7IHRoaXMucmVxdWVzdEhlYWRlci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicmVxdWVzdElkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVxdWVzdElkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlc3BvbnNlSWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZXNwb25zZUlkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZUlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc291cmNlSWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widGFyZ2V0SWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50YXJnZXRJZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1cmxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51cmwuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBUZXN0U2NyaXB0U2V0dXBBY3Rpb25Bc3NlcnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVzdFNjcmlwdFNldHVwQWN0aW9uQXNzZXJ0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBoYXMgbm8gaW1wYWN0IG9uIHRoZSB2ZXJpZmljYXRpb24gaXRzZWxmLlxyXG4gICAqL1xyXG4gIGxhYmVsPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBoYXMgbm8gaW1wYWN0IG9uIHRoZSB2ZXJpZmljYXRpb24gaXRzZWxmLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGRpcmVjdGlvbiBpcyBzcGVjaWZpZWQgYXMgXCJyZXNwb25zZVwiICh0aGUgZGVmYXVsdCksIHRoZW4gdGhlIHByb2Nlc3Npbmcgb2YgdGhpcyBhc3NlcnQgaXMgYWdhaW5zdCB0aGUgcmVjZWl2ZWQgcmVzcG9uc2UgbWVzc2FnZS4gSWYgdGhlIGRpcmVjdGlvbiBpcyBzcGVjaWZpZWQgYXMgXCJyZXF1ZXN0XCIsIHRoZW4gdGhlIHByb2Nlc3Npbmcgb2YgdGhpcyBhc3NlcnQgaXMgYWdhaW5zdCB0aGUgc2VudCByZXF1ZXN0IG1lc3NhZ2UuXHJcbiAgICovXHJcbiAgZGlyZWN0aW9uPzogQXNzZXJ0RGlyZWN0aW9uQ29kZXNDb2RlVHlwZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWQgb2YgdGhlIHNvdXJjZSBmaXh0dXJlIHVzZWQgYXMgdGhlIGNvbnRlbnRzIHRvIGJlIGV2YWx1YXRlZCBieSBlaXRoZXIgdGhlIFwic291cmNlL2V4cHJlc3Npb25cIiBvciBcInNvdXJjZUlkL3BhdGhcIiBkZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIGNvbXBhcmVUb1NvdXJjZUlkPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlZmhpcnBhdGggZXhwcmVzc2lvbiB0byBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgZXhwZWN0ZWQgZml4dHVyZSB0byBjb21wYXJlIHRvLiBJZ25vcmVkIGlmIFwiYXNzZXJ0LnZhbHVlXCIgaXMgdXNlZC4gVGhlIGV2YWx1YXRpb24gd2lsbCBiZSBkb25lIGJlZm9yZSB0aGUgYXNzZXJ0aW9uIGlzIGV2YWx1YXRlZC5cclxuICAgKi9cclxuICBjb21wYXJlVG9Tb3VyY2VFeHByZXNzaW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIFhQYXRoIG9yIEpTT05QYXRoIGV4cHJlc3Npb24gdG8gYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIGV4cGVjdGVkIGZpeHR1cmUgdG8gY29tcGFyZSB0by4gSWdub3JlZCBpZiBcImFzc2VydC52YWx1ZVwiIGlzIHVzZWQuIFRoZSBldmFsdWF0aW9uIHdpbGwgYmUgZG9uZSBiZWZvcmUgdGhlIGFzc2VydGlvbiBpcyBldmFsdWF0ZWQuXHJcbiAgICovXHJcbiAgY29tcGFyZVRvU291cmNlUGF0aD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgaXMgc3BlY2lmaWVkLCB0aGVuIHRlc3QgZW5naW5lIHNoYWxsIGNvbmZpcm0gdGhhdCB0aGUgY29udGVudC10eXBlIG9mIHRoZSBsYXN0IG9wZXJhdGlvbidzIGhlYWRlcnMgaXMgc2V0IHRvIHRoaXMgdmFsdWUuICBJZiBcImFzc2VydC5zb3VyY2VJZFwiIGVsZW1lbnQgaXMgc3BlY2lmaWVkLCB0aGVuIHRoZSBldmFsdWF0aW9uIHdpbGwgYmUgZG9uZSBhZ2FpbnN0IHRoZSBoZWFkZXJzIG1hcHBlZCB0byB0aGF0IHNvdXJjZUlkIChhbmQgbm90IHRoZSBsYXN0IG9wZXJhdGlvbidzIGhlYWRlcnMpLiAgSWYgeW91J2QgbGlrZSB0byBoYXZlIG1vcmUgY29udHJvbCBvdmVyIHRoZSBzdHJpbmcsIHRoZW4gdXNlICdhc3NlcnQuaGVhZGVyRmllbGQnIGluc3RlYWQuXHJcbiAgICovXHJcbiAgY29udGVudFR5cGU/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgYm90aCBcImV4cHJlc3Npb25cIiBhbmQgYSBcImZpeHR1cmVJZFwiIGFyZSBzcGVjaWZpZWQsIHRoZW4gdGhlIGV4cHJlc3Npb24gd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgcmVxdWVzdCBvciByZXNwb25zZSBib2R5IG1hcHBlZCB0byB0aGUgZml4dHVyZUlkLiAgSWYgXCJleHByZXNzaW9uXCIgaXMgc3BlY2lmaWVkIGFuZCBhIFwiZml4dHVyZUlkXCIgaXMgbm90LCB0aGVuIHRoZSBleHByZXNzaW9uIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIHJlc3BvbnNlIGJvZHkgb2YgdGhlIGxhc3Qgb3BlcmF0aW9uLiAgVGVzdCBlbmdpbmVzIGFyZSB0byBzdG9yZSB0aGUgcmVxdWVzdCBhbmQgcmVzcG9uc2UgYm9keSBhbmQgaGVhZGVycyBvZiB0aGUgbGFzdCBvcGVyYXRpb24gYXQgYWxsIHRpbWVzIGZvciBzdWJzZXF1ZW50IGFzc2VydGlvbnMuXHJcbiAgICovXHJcbiAgZXhwcmVzc2lvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIFwiaGVhZGVyRmllbGRcIiBpcyBzcGVjaWZpZWQgdGhlbiBcInZhbHVlXCIgbXVzdCBiZSBzcGVjaWZpZWQuICBJZiBcInNvdXJjZUlkXCIgaXMgbm90IHNwZWNpZmllZCwgdGhlbiBcImhlYWRlckZpZWxkXCIgd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgbGFzdCBvcGVyYXRpb24ncyByZXNwb25zZSBoZWFkZXJzLiAgVGVzdCBlbmdpbmVzIGFyZSB0byBrZWVwIHRyYWNrIG9mIHRoZSBsYXN0IG9wZXJhdGlvbidzIHJlc3BvbnNlIGJvZHkgYW5kIHJlc3BvbnNlIGhlYWRlcnMuXHJcbiAgICovXHJcbiAgaGVhZGVyRmllbGQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIHJlc3BvbnNlIGNvbnRhaW5zIGFsbCB0aGUgZWxlbWVudC9jb250ZW50IGluIGFub3RoZXIgZml4dHVyZSBwb2ludGVkIHRvIGJ5IG1pbmltdW1JZC4gIFRoaXMgY2FuIGJlIGEgc3RhdGljYWxseSBkZWZpbmVkIGZpeHR1cmUgb3Igb25lIHRoYXQgaXMgZHluYW1pY2FsbHkgc2V0IHZpYSByZXNwb25zZUlkLlxyXG4gICAqL1xyXG4gIG1pbmltdW1JZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFzc2VydHMgdGhhdCB0aGUgQnVuZGxlIGNvbnRhaW5zIGZpcnN0LCBsYXN0LCBhbmQgbmV4dCBsaW5rcy5cclxuICAgKi9cclxuICBuYXZpZ2F0aW9uTGlua3M/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9wZXJhdG9ycyBhcmUgdXNlZnVsIGVzcGVjaWFsbHkgZm9yIG5lZ2F0aXZlIHRlc3RpbmcuICBJZiBvcGVyYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIHRoZSBcImVxdWFsc1wiIG9wZXJhdG9yIGlzIGFzc3VtZWQ7IGUuZy4gYGBgJmx0O2NvZGUmZ3Q7ICAgJmx0O2Fzc2VydCZndDsgICZsdDtvcGVyYXRvciB2YWx1ZT1cImluXCIgLyZndDsgICZsdDtyZXNwb25zZUNvZGUgdmFsdWU9XCIyMDAsMjAxLDIwNFwiIC8mZ3Q7ICAgICZsdDsvYXNzZXJ0Jmd0OyAgICAmbHQ7YXNzZXJ0Jmd0OyAgJmx0O29wZXJhdG9yIHZhbHVlPVwibm90RXF1YWxzXCIgLyZndDsgICZsdDtyZXNwb25zZSB2YWx1ZT1cIm9rYXlcIi8mZ3Q7ICAgJmx0Oy9hc3NlcnQmZ3Q7ICAgICZsdDthc3NlcnQmZ3Q7ICAmbHQ7b3BlcmF0b3IgdmFsdWU9XCJncmVhdGVyVGhhblwiIC8mZ3Q7ICAgICZsdDtyZXNwb25zZUhlYWRlciZndDsgICAgICZsdDtmaWVsZCB2YWx1ZT1cIkNvbnRlbnQtTGVuZ3RoXCIgLyZndDsgICAgICZsdDt2YWx1ZSB2YWx1ZT1cIjBcIiAvJmd0OyAgICAmbHQ7L3Jlc3BvbnNlSGVhZGVyLyZndDsgICAmbHQ7L2Fzc2VydCZndDsgJmx0Oy9jb2RlJmd0OyBgYGAuXHJcbiAgICovXHJcbiAgb3BlcmF0b3I/OiBBc3NlcnRPcGVyYXRvckNvZGVzQ29kZVR5cGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGJvdGggXCJwYXRoXCIgYW5kIGEgXCJmaXh0dXJlSWRcIiBhcmUgc3BlY2lmaWVkLCB0aGVuIHRoZSBwYXRoIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2UgYm9keSBtYXBwZWQgdG8gdGhlIGZpeHR1cmVJZC4gIElmIFwicGF0aFwiIGlzIHNwZWNpZmllZCBhbmQgYSBcImZpeHR1cmVJZFwiIGlzIG5vdCwgdGhlbiB0aGUgcGF0aCB3aWxsIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSByZXNwb25zZSBib2R5IG9mIHRoZSBsYXN0IG9wZXJhdGlvbi4gIFRlc3QgZW5naW5lcyBhcmUgdG8gc3RvcmUgdGhlIHJlcXVlc3QgYW5kIHJlc3BvbnNlIGJvZHkgYW5kIGhlYWRlcnMgb2YgdGhlIGxhc3Qgb3BlcmF0aW9uIGF0IGFsbCB0aW1lcyBmb3Igc3Vic2VxdWVudCBhc3NlcnRpb25zLlxyXG4gICAqL1xyXG4gIHBhdGg/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBcInJlcXVlc3RNZXRob2RcIiBpcyBzcGVjaWZpZWQgdGhlbiBpdCB3aWxsIGJlIHVzZWQgaW4gcGxhY2Ugb2YgXCJ2YWx1ZVwiLiBUaGUgXCJyZXF1ZXN0TWV0aG9kXCIgd2lsbCBldmFsdWF0ZSBhZ2FpbnN0IHRoZSBsYXN0IG9wZXJhdGlvbidzIHJlcXVlc3QgSFRUUCBvcGVyYXRpb24uXHJcbiAgICovXHJcbiAgcmVxdWVzdE1ldGhvZD86IEh0dHBPcGVyYXRpb25zQ29kZVR5cGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIFwicmVxdWVzdFVSTFwiIGlzIHNwZWNpZmllZCB0aGVuIGl0IHdpbGwgYmUgdXNlZCBpbiBwbGFjZSBvZiBcInZhbHVlXCIuIFRoZSBcInJlcXVlc3RVUkxcIiB3aWxsIGV2YWx1YXRlIGFnYWluc3QgdGhlIGxhc3Qgb3BlcmF0aW9uJ3MgZnVsbCByZXF1ZXN0IFVSTCBwYXRoIHN0cmluZy5cclxuICAgKi9cclxuICByZXF1ZXN0VVJMPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB3aWxsIGJlIGV4cGVjdGVkIHJlc291cmNlIHR5cGUgaW4gcmVzcG9uc2UgYm9keSBlLmcuIGluIHJlYWQsIHZyZWFkLCBzZWFyY2gsIGV0Yy4gIFNlZSBodHRwOi8vYnVpbGQuZmhpci5vcmcvcmVzb3VyY2VsaXN0Lmh0bWwgZm9yIGNvbXBsZXRlIGxpc3Qgb2YgcmVzb3VyY2UgdHlwZXM7IGUuZy4gJmx0O2Fzc2VydCAmZ3Q7ICZsdDtyZXNvdXJjZVR5cGUgdmFsdWU9XCJQYXRpZW50XCIgJmx0Oy9hc3NlcnQmZ3Q7LlxyXG4gICAqL1xyXG4gIHJlc291cmNlPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgYSBzaG9ydGVyIHdheSBvZiBhY2hpZXZpbmcgc2ltaWxhciB2ZXJpZmljYXRpb25zIHZpYSBcImFzc2VydC5yZXNwb25zZUNvZGVcIi4gIElmIHlvdSBuZWVkIG1vcmUgY29udHJvbCwgdGhlbiB1c2UgXCJhc3NlcnQucmVzcG9uc2VDb2RlXCIgIGUuZy4gJmx0O2Fzc2VydCZndDsgICZsdDtjb250ZW50VHlwZSB2YWx1ZT1cImpzb25cIiAvJmd0OyAgJmx0O3Jlc3BvbnNlIHZhbHVlPVwib2theVwiLyZndDsgJmx0Oy9hc3NlcnQmZ3Q7LlxyXG4gICAqL1xyXG4gIHJlc3BvbnNlPzogQXNzZXJ0UmVzcG9uc2VDb2RlVHlwZXNDb2RlVHlwZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gYmUgdXNlZCB3aXRoIFwib3BlcmF0b3JcIiBhdHRyaWJ1dGUgdmFsdWUuIEFzc2VydHMgdGhhdCB0aGUgcmVzcG9uc2UgY29kZSBlcXVhbHMgdGhpcyB2YWx1ZSBpZiBcIm9wZXJhdG9yXCIgaXMgbm90IHNwZWNpZmllZC4gICBJZiB0aGUgb3BlcmF0b3IgaXMgXCJpblwiIG9yIFwibm90SW5cIiB0aGVuIHRoZSByZXNwb25zZUNvZGUgd291bGQgYmUgYSBjb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiB2YWx1ZXMgZS5nLiBcIjIwMCwyMDFcIi4gT3RoZXJ3aXNlLCBpdCdzIGV4cGVjdGVkIHRvIGJlIGEgbnVtZXJpYyB2YWx1ZS4gICBJZiBcImZpeHR1cmVcIiBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIHRoZSBcInJlc3BvbnNlQm9keUlkXCIgdmFsdWUgb2YgdGhlIGxhc3Qgb3BlcmF0aW9uIGlzIGFzc3VtZWQuXHJcbiAgICovXHJcbiAgcmVzcG9uc2VDb2RlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjYW4gYmUgYSBzdGF0aWNhbGx5IGRlZmluZWQgZml4dHVyZSAoYXQgdGhlIHRvcCBvZiB0aGUgdGVzdHNjcmlwdCkgb3IgYSBkeW5hbWljYWxseSBzZXQgZml4dHVyZSBjcmVhdGVkIGJ5IHJlc3BvbnNlSWQgb2YgdGhlIGFjdGlvbi5vcGVyYXRpb24gZWxlbWVudC5cclxuICAgKi9cclxuICBzb3VyY2VJZD86IGZoaXIuRmhpcklkfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIElEIG9mIGEgUHJvZmlsZSBmaXh0dXJlLiBBc3NlcnRzIHRoYXQgdGhlIHJlc3BvbnNlIGlzIHZhbGlkIGFjY29yZGluZyB0byB0aGUgUHJvZmlsZSBzcGVjaWZpZWQgYnkgdmFsaWRhdGVQcm9maWxlSWQuXHJcbiAgICovXHJcbiAgdmFsaWRhdGVQcm9maWxlSWQ/OiBmaGlyLkZoaXJJZHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdHJpbmctcmVwcmVzZW50YXRpb24gb2YgYSBudW1iZXIsIHN0cmluZywgb3IgYm9vbGVhbiB0aGF0IGlzIGV4cGVjdGVkLiAgVGVzdCBlbmdpbmVzIGRvIGhhdmUgdG8gbG9vayBmb3IgcGxhY2Vob2xkZXJzICgke30pIGFuZCByZXBsYWNlIHRoZSB2YXJpYWJsZSBwbGFjZWhvbGRlcnMgd2l0aCB0aGUgdmFyaWFibGUgdmFsdWVzIGF0IHJ1bnRpbWUgYmVmb3JlIGNvbXBhcmluZyB0aGlzIHZhbHVlIHRvIHRoZSBhY3R1YWwgdmFsdWUuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGVsZW1lbnQgaXMgc3BlY2lmaWVkIGFuZCBpdCBpcyB0cnVlLCB0aGVuIGFzc2VydGlvbiBmYWlsdXJlcyBjYW4gYmUgbG9nZ2VkIGJ5IHRlc3QgZW5naW5lIGJ1dCBzaG91bGQgbm90IHN0b3AgdGhlIHRlc3Qgc2NyaXB0IGV4ZWN1dGlvbiBmcm9tIHByb2NlZWRpbmcuICBUaGVyZSBhcmUgbGlrZWx5IGNhc2VzIHdoZXJlIHRoZSBzcGVjIGlzIG5vdCBjbGVhciBvbiB3aGF0IHNob3VsZCBoYXBwZW4uIElmIHRoZSBzcGVjIHNheXMgc29tZXRoaW5nIGlzIG9wdGlvbmFsIChtYXliZSBhIHJlc3BvbnNlIGhlYWRlciBmb3IgZXhhbXBsZSksIGJ1dCBhIHNlcnZlciBkb2VzbuKAmXQgZG8gaXQsIHdlIGNvdWxkIGNob29zZSB0byBpc3N1ZSBhIHdhcm5pbmcuXHJcbiAgICovXHJcbiAgd2FybmluZ09ubHk6IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbiBvcmRlciB0byBldmFsdWF0ZSBhbiBhc3NlcnRpb24sIHRoZSByZXF1ZXN0LCByZXNwb25zZSwgYW5kIHJlc3VsdHMgb2YgdGhlIG1vc3QgcmVjZW50bHkgZXhlY3V0ZWQgb3BlcmF0aW9uIG11c3QgYWx3YXlzIGJlIG1haW50YWluZWQgYnkgdGhlIHRlc3QgZW5naW5lLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRTZXR1cEFjdGlvbkFzc2VydCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Rlc3RTY3JpcHRTZXR1cEFjdGlvbkFzc2VydCc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBoYXMgbm8gaW1wYWN0IG9uIHRoZSB2ZXJpZmljYXRpb24gaXRzZWxmLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsYWJlbD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBoYXMgbm8gaW1wYWN0IG9uIHRoZSB2ZXJpZmljYXRpb24gaXRzZWxmLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGRpcmVjdGlvbiBpcyBzcGVjaWZpZWQgYXMgXCJyZXNwb25zZVwiICh0aGUgZGVmYXVsdCksIHRoZW4gdGhlIHByb2Nlc3Npbmcgb2YgdGhpcyBhc3NlcnQgaXMgYWdhaW5zdCB0aGUgcmVjZWl2ZWQgcmVzcG9uc2UgbWVzc2FnZS4gSWYgdGhlIGRpcmVjdGlvbiBpcyBzcGVjaWZpZWQgYXMgXCJyZXF1ZXN0XCIsIHRoZW4gdGhlIHByb2Nlc3Npbmcgb2YgdGhpcyBhc3NlcnQgaXMgYWdhaW5zdCB0aGUgc2VudCByZXF1ZXN0IG1lc3NhZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRpcmVjdGlvbj86IEFzc2VydERpcmVjdGlvbkNvZGVzQ29kZVR5cGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkIG9mIHRoZSBzb3VyY2UgZml4dHVyZSB1c2VkIGFzIHRoZSBjb250ZW50cyB0byBiZSBldmFsdWF0ZWQgYnkgZWl0aGVyIHRoZSBcInNvdXJjZS9leHByZXNzaW9uXCIgb3IgXCJzb3VyY2VJZC9wYXRoXCIgZGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgY29tcGFyZVRvU291cmNlSWQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZWZoaXJwYXRoIGV4cHJlc3Npb24gdG8gYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIGV4cGVjdGVkIGZpeHR1cmUgdG8gY29tcGFyZSB0by4gSWdub3JlZCBpZiBcImFzc2VydC52YWx1ZVwiIGlzIHVzZWQuIFRoZSBldmFsdWF0aW9uIHdpbGwgYmUgZG9uZSBiZWZvcmUgdGhlIGFzc2VydGlvbiBpcyBldmFsdWF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbXBhcmVUb1NvdXJjZUV4cHJlc3Npb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBYUGF0aCBvciBKU09OUGF0aCBleHByZXNzaW9uIHRvIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBleHBlY3RlZCBmaXh0dXJlIHRvIGNvbXBhcmUgdG8uIElnbm9yZWQgaWYgXCJhc3NlcnQudmFsdWVcIiBpcyB1c2VkLiBUaGUgZXZhbHVhdGlvbiB3aWxsIGJlIGRvbmUgYmVmb3JlIHRoZSBhc3NlcnRpb24gaXMgZXZhbHVhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21wYXJlVG9Tb3VyY2VQYXRoPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGlzIHNwZWNpZmllZCwgdGhlbiB0ZXN0IGVuZ2luZSBzaGFsbCBjb25maXJtIHRoYXQgdGhlIGNvbnRlbnQtdHlwZSBvZiB0aGUgbGFzdCBvcGVyYXRpb24ncyBoZWFkZXJzIGlzIHNldCB0byB0aGlzIHZhbHVlLiAgSWYgXCJhc3NlcnQuc291cmNlSWRcIiBlbGVtZW50IGlzIHNwZWNpZmllZCwgdGhlbiB0aGUgZXZhbHVhdGlvbiB3aWxsIGJlIGRvbmUgYWdhaW5zdCB0aGUgaGVhZGVycyBtYXBwZWQgdG8gdGhhdCBzb3VyY2VJZCAoYW5kIG5vdCB0aGUgbGFzdCBvcGVyYXRpb24ncyBoZWFkZXJzKS4gIElmIHlvdSdkIGxpa2UgdG8gaGF2ZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc3RyaW5nLCB0aGVuIHVzZSAnYXNzZXJ0LmhlYWRlckZpZWxkJyBpbnN0ZWFkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250ZW50VHlwZT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGJvdGggXCJleHByZXNzaW9uXCIgYW5kIGEgXCJmaXh0dXJlSWRcIiBhcmUgc3BlY2lmaWVkLCB0aGVuIHRoZSBleHByZXNzaW9uIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2UgYm9keSBtYXBwZWQgdG8gdGhlIGZpeHR1cmVJZC4gIElmIFwiZXhwcmVzc2lvblwiIGlzIHNwZWNpZmllZCBhbmQgYSBcImZpeHR1cmVJZFwiIGlzIG5vdCwgdGhlbiB0aGUgZXhwcmVzc2lvbiB3aWxsIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSByZXNwb25zZSBib2R5IG9mIHRoZSBsYXN0IG9wZXJhdGlvbi4gIFRlc3QgZW5naW5lcyBhcmUgdG8gc3RvcmUgdGhlIHJlcXVlc3QgYW5kIHJlc3BvbnNlIGJvZHkgYW5kIGhlYWRlcnMgb2YgdGhlIGxhc3Qgb3BlcmF0aW9uIGF0IGFsbCB0aW1lcyBmb3Igc3Vic2VxdWVudCBhc3NlcnRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHByZXNzaW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBcImhlYWRlckZpZWxkXCIgaXMgc3BlY2lmaWVkIHRoZW4gXCJ2YWx1ZVwiIG11c3QgYmUgc3BlY2lmaWVkLiAgSWYgXCJzb3VyY2VJZFwiIGlzIG5vdCBzcGVjaWZpZWQsIHRoZW4gXCJoZWFkZXJGaWVsZFwiIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIGxhc3Qgb3BlcmF0aW9uJ3MgcmVzcG9uc2UgaGVhZGVycy4gIFRlc3QgZW5naW5lcyBhcmUgdG8ga2VlcCB0cmFjayBvZiB0aGUgbGFzdCBvcGVyYXRpb24ncyByZXNwb25zZSBib2R5IGFuZCByZXNwb25zZSBoZWFkZXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoZWFkZXJGaWVsZD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXNzZXJ0cyB0aGF0IHRoZSByZXNwb25zZSBjb250YWlucyBhbGwgdGhlIGVsZW1lbnQvY29udGVudCBpbiBhbm90aGVyIGZpeHR1cmUgcG9pbnRlZCB0byBieSBtaW5pbXVtSWQuICBUaGlzIGNhbiBiZSBhIHN0YXRpY2FsbHkgZGVmaW5lZCBmaXh0dXJlIG9yIG9uZSB0aGF0IGlzIGR5bmFtaWNhbGx5IHNldCB2aWEgcmVzcG9uc2VJZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWluaW11bUlkPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBc3NlcnRzIHRoYXQgdGhlIEJ1bmRsZSBjb250YWlucyBmaXJzdCwgbGFzdCwgYW5kIG5leHQgbGlua3MuXHJcbiAgICovXHJcbiAgcHVibGljIG5hdmlnYXRpb25MaW5rcz86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9wZXJhdG9ycyBhcmUgdXNlZnVsIGVzcGVjaWFsbHkgZm9yIG5lZ2F0aXZlIHRlc3RpbmcuICBJZiBvcGVyYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIHRoZSBcImVxdWFsc1wiIG9wZXJhdG9yIGlzIGFzc3VtZWQ7IGUuZy4gYGBgJmx0O2NvZGUmZ3Q7ICAgJmx0O2Fzc2VydCZndDsgICZsdDtvcGVyYXRvciB2YWx1ZT1cImluXCIgLyZndDsgICZsdDtyZXNwb25zZUNvZGUgdmFsdWU9XCIyMDAsMjAxLDIwNFwiIC8mZ3Q7ICAgICZsdDsvYXNzZXJ0Jmd0OyAgICAmbHQ7YXNzZXJ0Jmd0OyAgJmx0O29wZXJhdG9yIHZhbHVlPVwibm90RXF1YWxzXCIgLyZndDsgICZsdDtyZXNwb25zZSB2YWx1ZT1cIm9rYXlcIi8mZ3Q7ICAgJmx0Oy9hc3NlcnQmZ3Q7ICAgICZsdDthc3NlcnQmZ3Q7ICAmbHQ7b3BlcmF0b3IgdmFsdWU9XCJncmVhdGVyVGhhblwiIC8mZ3Q7ICAgICZsdDtyZXNwb25zZUhlYWRlciZndDsgICAgICZsdDtmaWVsZCB2YWx1ZT1cIkNvbnRlbnQtTGVuZ3RoXCIgLyZndDsgICAgICZsdDt2YWx1ZSB2YWx1ZT1cIjBcIiAvJmd0OyAgICAmbHQ7L3Jlc3BvbnNlSGVhZGVyLyZndDsgICAmbHQ7L2Fzc2VydCZndDsgJmx0Oy9jb2RlJmd0OyBgYGAuXHJcbiAgICovXHJcbiAgcHVibGljIG9wZXJhdG9yPzogQXNzZXJ0T3BlcmF0b3JDb2Rlc0NvZGVUeXBlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBib3RoIFwicGF0aFwiIGFuZCBhIFwiZml4dHVyZUlkXCIgYXJlIHNwZWNpZmllZCwgdGhlbiB0aGUgcGF0aCB3aWxsIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlIGJvZHkgbWFwcGVkIHRvIHRoZSBmaXh0dXJlSWQuICBJZiBcInBhdGhcIiBpcyBzcGVjaWZpZWQgYW5kIGEgXCJmaXh0dXJlSWRcIiBpcyBub3QsIHRoZW4gdGhlIHBhdGggd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0aGUgbGFzdCBvcGVyYXRpb24uICBUZXN0IGVuZ2luZXMgYXJlIHRvIHN0b3JlIHRoZSByZXF1ZXN0IGFuZCByZXNwb25zZSBib2R5IGFuZCBoZWFkZXJzIG9mIHRoZSBsYXN0IG9wZXJhdGlvbiBhdCBhbGwgdGltZXMgZm9yIHN1YnNlcXVlbnQgYXNzZXJ0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0aD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgXCJyZXF1ZXN0TWV0aG9kXCIgaXMgc3BlY2lmaWVkIHRoZW4gaXQgd2lsbCBiZSB1c2VkIGluIHBsYWNlIG9mIFwidmFsdWVcIi4gVGhlIFwicmVxdWVzdE1ldGhvZFwiIHdpbGwgZXZhbHVhdGUgYWdhaW5zdCB0aGUgbGFzdCBvcGVyYXRpb24ncyByZXF1ZXN0IEhUVFAgb3BlcmF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0TWV0aG9kPzogSHR0cE9wZXJhdGlvbnNDb2RlVHlwZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgXCJyZXF1ZXN0VVJMXCIgaXMgc3BlY2lmaWVkIHRoZW4gaXQgd2lsbCBiZSB1c2VkIGluIHBsYWNlIG9mIFwidmFsdWVcIi4gVGhlIFwicmVxdWVzdFVSTFwiIHdpbGwgZXZhbHVhdGUgYWdhaW5zdCB0aGUgbGFzdCBvcGVyYXRpb24ncyBmdWxsIHJlcXVlc3QgVVJMIHBhdGggc3RyaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0VVJMPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHdpbGwgYmUgZXhwZWN0ZWQgcmVzb3VyY2UgdHlwZSBpbiByZXNwb25zZSBib2R5IGUuZy4gaW4gcmVhZCwgdnJlYWQsIHNlYXJjaCwgZXRjLiAgU2VlIGh0dHA6Ly9idWlsZC5maGlyLm9yZy9yZXNvdXJjZWxpc3QuaHRtbCBmb3IgY29tcGxldGUgbGlzdCBvZiByZXNvdXJjZSB0eXBlczsgZS5nLiAmbHQ7YXNzZXJ0ICZndDsgJmx0O3Jlc291cmNlVHlwZSB2YWx1ZT1cIlBhdGllbnRcIiAmbHQ7L2Fzc2VydCZndDsuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc291cmNlPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBhIHNob3J0ZXIgd2F5IG9mIGFjaGlldmluZyBzaW1pbGFyIHZlcmlmaWNhdGlvbnMgdmlhIFwiYXNzZXJ0LnJlc3BvbnNlQ29kZVwiLiAgSWYgeW91IG5lZWQgbW9yZSBjb250cm9sLCB0aGVuIHVzZSBcImFzc2VydC5yZXNwb25zZUNvZGVcIiAgZS5nLiAmbHQ7YXNzZXJ0Jmd0OyAgJmx0O2NvbnRlbnRUeXBlIHZhbHVlPVwianNvblwiIC8mZ3Q7ICAmbHQ7cmVzcG9uc2UgdmFsdWU9XCJva2F5XCIvJmd0OyAmbHQ7L2Fzc2VydCZndDsuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc3BvbnNlPzogQXNzZXJ0UmVzcG9uc2VDb2RlVHlwZXNDb2RlVHlwZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gYmUgdXNlZCB3aXRoIFwib3BlcmF0b3JcIiBhdHRyaWJ1dGUgdmFsdWUuIEFzc2VydHMgdGhhdCB0aGUgcmVzcG9uc2UgY29kZSBlcXVhbHMgdGhpcyB2YWx1ZSBpZiBcIm9wZXJhdG9yXCIgaXMgbm90IHNwZWNpZmllZC4gICBJZiB0aGUgb3BlcmF0b3IgaXMgXCJpblwiIG9yIFwibm90SW5cIiB0aGVuIHRoZSByZXNwb25zZUNvZGUgd291bGQgYmUgYSBjb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiB2YWx1ZXMgZS5nLiBcIjIwMCwyMDFcIi4gT3RoZXJ3aXNlLCBpdCdzIGV4cGVjdGVkIHRvIGJlIGEgbnVtZXJpYyB2YWx1ZS4gICBJZiBcImZpeHR1cmVcIiBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIHRoZSBcInJlc3BvbnNlQm9keUlkXCIgdmFsdWUgb2YgdGhlIGxhc3Qgb3BlcmF0aW9uIGlzIGFzc3VtZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc3BvbnNlQ29kZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjYW4gYmUgYSBzdGF0aWNhbGx5IGRlZmluZWQgZml4dHVyZSAoYXQgdGhlIHRvcCBvZiB0aGUgdGVzdHNjcmlwdCkgb3IgYSBkeW5hbWljYWxseSBzZXQgZml4dHVyZSBjcmVhdGVkIGJ5IHJlc3BvbnNlSWQgb2YgdGhlIGFjdGlvbi5vcGVyYXRpb24gZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlSWQ/OiBmaGlyLkZoaXJJZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIElEIG9mIGEgUHJvZmlsZSBmaXh0dXJlLiBBc3NlcnRzIHRoYXQgdGhlIHJlc3BvbnNlIGlzIHZhbGlkIGFjY29yZGluZyB0byB0aGUgUHJvZmlsZSBzcGVjaWZpZWQgYnkgdmFsaWRhdGVQcm9maWxlSWQuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbGlkYXRlUHJvZmlsZUlkPzogZmhpci5GaGlySWR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdHJpbmctcmVwcmVzZW50YXRpb24gb2YgYSBudW1iZXIsIHN0cmluZywgb3IgYm9vbGVhbiB0aGF0IGlzIGV4cGVjdGVkLiAgVGVzdCBlbmdpbmVzIGRvIGhhdmUgdG8gbG9vayBmb3IgcGxhY2Vob2xkZXJzICgke30pIGFuZCByZXBsYWNlIHRoZSB2YXJpYWJsZSBwbGFjZWhvbGRlcnMgd2l0aCB0aGUgdmFyaWFibGUgdmFsdWVzIGF0IHJ1bnRpbWUgYmVmb3JlIGNvbXBhcmluZyB0aGlzIHZhbHVlIHRvIHRoZSBhY3R1YWwgdmFsdWUuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGVsZW1lbnQgaXMgc3BlY2lmaWVkIGFuZCBpdCBpcyB0cnVlLCB0aGVuIGFzc2VydGlvbiBmYWlsdXJlcyBjYW4gYmUgbG9nZ2VkIGJ5IHRlc3QgZW5naW5lIGJ1dCBzaG91bGQgbm90IHN0b3AgdGhlIHRlc3Qgc2NyaXB0IGV4ZWN1dGlvbiBmcm9tIHByb2NlZWRpbmcuICBUaGVyZSBhcmUgbGlrZWx5IGNhc2VzIHdoZXJlIHRoZSBzcGVjIGlzIG5vdCBjbGVhciBvbiB3aGF0IHNob3VsZCBoYXBwZW4uIElmIHRoZSBzcGVjIHNheXMgc29tZXRoaW5nIGlzIG9wdGlvbmFsIChtYXliZSBhIHJlc3BvbnNlIGhlYWRlciBmb3IgZXhhbXBsZSksIGJ1dCBhIHNlcnZlciBkb2VzbuKAmXQgZG8gaXQsIHdlIGNvdWxkIGNob29zZSB0byBpc3N1ZSBhIHdhcm5pbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHdhcm5pbmdPbmx5OiBmaGlyLkZoaXJCb29sZWFufG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVGVzdFNjcmlwdFNldHVwQWN0aW9uQXNzZXJ0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VGVzdFNjcmlwdFNldHVwQWN0aW9uQXNzZXJ0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2xhYmVsJ10pIHsgdGhpcy5sYWJlbCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubGFiZWx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXJlY3Rpb24nXSkgeyB0aGlzLmRpcmVjdGlvbiA9IHNvdXJjZS5kaXJlY3Rpb247IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbXBhcmVUb1NvdXJjZUlkJ10pIHsgdGhpcy5jb21wYXJlVG9Tb3VyY2VJZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29tcGFyZVRvU291cmNlSWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tcGFyZVRvU291cmNlRXhwcmVzc2lvbiddKSB7IHRoaXMuY29tcGFyZVRvU291cmNlRXhwcmVzc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29tcGFyZVRvU291cmNlRXhwcmVzc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21wYXJlVG9Tb3VyY2VQYXRoJ10pIHsgdGhpcy5jb21wYXJlVG9Tb3VyY2VQYXRoID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5jb21wYXJlVG9Tb3VyY2VQYXRofSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRlbnRUeXBlJ10pIHsgdGhpcy5jb250ZW50VHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLmNvbnRlbnRUeXBlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2V4cHJlc3Npb24nXSkgeyB0aGlzLmV4cHJlc3Npb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmV4cHJlc3Npb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaGVhZGVyRmllbGQnXSkgeyB0aGlzLmhlYWRlckZpZWxkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5oZWFkZXJGaWVsZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydtaW5pbXVtSWQnXSkgeyB0aGlzLm1pbmltdW1JZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubWluaW11bUlkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25hdmlnYXRpb25MaW5rcyddKSB7IHRoaXMubmF2aWdhdGlvbkxpbmtzID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UubmF2aWdhdGlvbkxpbmtzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29wZXJhdG9yJ10pIHsgdGhpcy5vcGVyYXRvciA9IHNvdXJjZS5vcGVyYXRvcjsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aCddKSB7IHRoaXMucGF0aCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucGF0aH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXF1ZXN0TWV0aG9kJ10pIHsgdGhpcy5yZXF1ZXN0TWV0aG9kID0gc291cmNlLnJlcXVlc3RNZXRob2Q7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcXVlc3RVUkwnXSkgeyB0aGlzLnJlcXVlc3RVUkwgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnJlcXVlc3RVUkx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzb3VyY2UnXSkgeyB0aGlzLnJlc291cmNlID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UucmVzb3VyY2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzcG9uc2UnXSkgeyB0aGlzLnJlc3BvbnNlID0gc291cmNlLnJlc3BvbnNlOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXNwb25zZUNvZGUnXSkgeyB0aGlzLnJlc3BvbnNlQ29kZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucmVzcG9uc2VDb2RlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZUlkJ10pIHsgdGhpcy5zb3VyY2VJZCA9IG5ldyBmaGlyLkZoaXJJZCh7dmFsdWU6IHNvdXJjZS5zb3VyY2VJZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWxpZGF0ZVByb2ZpbGVJZCddKSB7IHRoaXMudmFsaWRhdGVQcm9maWxlSWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2UudmFsaWRhdGVQcm9maWxlSWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52YWx1ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd3YXJuaW5nT25seSddKSB7IHRoaXMud2FybmluZ09ubHkgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS53YXJuaW5nT25seX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy53YXJuaW5nT25seSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBkaXJlY3Rpb24gKFRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uLmFzc2VydC5kaXJlY3Rpb24pXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBkaXJlY3Rpb25SZXF1aXJlZENvZGluZygpOkFzc2VydERpcmVjdGlvbkNvZGVzQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gQXNzZXJ0RGlyZWN0aW9uQ29kZXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIG9wZXJhdG9yIChUZXN0U2NyaXB0LnNldHVwLmFjdGlvbi5hc3NlcnQub3BlcmF0b3IpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvcGVyYXRvclJlcXVpcmVkQ29kaW5nKCk6QXNzZXJ0T3BlcmF0b3JDb2Rlc0NvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIEFzc2VydE9wZXJhdG9yQ29kZXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHJlcXVlc3RNZXRob2QgKFRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uLmFzc2VydC5yZXF1ZXN0TWV0aG9kKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVxdWVzdE1ldGhvZFJlcXVpcmVkQ29kaW5nKCk6SHR0cE9wZXJhdGlvbnNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBIdHRwT3BlcmF0aW9uc0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgcmVzb3VyY2UgKFRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uLmFzc2VydC5yZXNvdXJjZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJlc291cmNlUmVxdWlyZWRDb2RpbmcoKTpEZWZpbmVkVHlwZXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBEZWZpbmVkVHlwZXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHJlc3BvbnNlIChUZXN0U2NyaXB0LnNldHVwLmFjdGlvbi5hc3NlcnQucmVzcG9uc2UpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZXNwb25zZVJlcXVpcmVkQ29kaW5nKCk6QXNzZXJ0UmVzcG9uc2VDb2RlVHlwZXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBBc3NlcnRSZXNwb25zZUNvZGVUeXBlc0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcImxhYmVsXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubGFiZWwuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb21wYXJlVG9Tb3VyY2VJZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvbXBhcmVUb1NvdXJjZUlkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbXBhcmVUb1NvdXJjZUV4cHJlc3Npb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb21wYXJlVG9Tb3VyY2VFeHByZXNzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbXBhcmVUb1NvdXJjZVBhdGhcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb21wYXJlVG9Tb3VyY2VQYXRoLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbnRlbnRUeXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29udGVudFR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZXhwcmVzc2lvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmV4cHJlc3Npb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaGVhZGVyRmllbGRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5oZWFkZXJGaWVsZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJtaW5pbXVtSWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5taW5pbXVtSWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmF2aWdhdGlvbkxpbmtzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmF2aWdhdGlvbkxpbmtzLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBhdGhcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYXRoLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlcXVlc3RVUkxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZXF1ZXN0VVJMLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlc291cmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVzb3VyY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVzcG9uc2VDb2RlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVzcG9uc2VDb2RlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZUlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc291cmNlSWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widmFsaWRhdGVQcm9maWxlSWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52YWxpZGF0ZVByb2ZpbGVJZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ2YWx1ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZhbHVlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3dhcm5pbmdPbmx5J10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB3YXJuaW5nT25seTpmaGlyLkZoaXJCb29sZWFuIGZoaXI6IFRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uLmFzc2VydC53YXJuaW5nT25seTpib29sZWFuJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcIndhcm5pbmdPbmx5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMud2FybmluZ09ubHkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBUZXN0U2NyaXB0U2V0dXBBY3Rpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVzdFNjcmlwdFNldHVwQWN0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9wZXJhdGlvbiB0byBwZXJmb3JtLlxyXG4gICAqL1xyXG4gIG9wZXJhdGlvbj86IGZoaXIuVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gb3JkZXIgdG8gZXZhbHVhdGUgYW4gYXNzZXJ0aW9uLCB0aGUgcmVxdWVzdCwgcmVzcG9uc2UsIGFuZCByZXN1bHRzIG9mIHRoZSBtb3N0IHJlY2VudGx5IGV4ZWN1dGVkIG9wZXJhdGlvbiBtdXN0IGFsd2F5cyBiZSBtYWludGFpbmVkIGJ5IHRoZSB0ZXN0IGVuZ2luZS5cclxuICAgKi9cclxuICBhc3NlcnQ/OiBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbkFzc2VydEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQW4gYWN0aW9uIHNob3VsZCBjb250YWluIGVpdGhlciBhbiBvcGVyYXRpb24gb3IgYW4gYXNzZXJ0aW9uIGJ1dCBub3QgYm90aC4gIEl0IGNhbiBjb250YWluIGFueSBudW1iZXIgb2YgdmFyaWFibGVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRTZXR1cEFjdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Rlc3RTY3JpcHRTZXR1cEFjdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9wZXJhdGlvbiB0byBwZXJmb3JtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcGVyYXRpb24/OiBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gb3JkZXIgdG8gZXZhbHVhdGUgYW4gYXNzZXJ0aW9uLCB0aGUgcmVxdWVzdCwgcmVzcG9uc2UsIGFuZCByZXN1bHRzIG9mIHRoZSBtb3N0IHJlY2VudGx5IGV4ZWN1dGVkIG9wZXJhdGlvbiBtdXN0IGFsd2F5cyBiZSBtYWludGFpbmVkIGJ5IHRoZSB0ZXN0IGVuZ2luZS5cclxuICAgKi9cclxuICBwdWJsaWMgYXNzZXJ0PzogZmhpci5UZXN0U2NyaXB0U2V0dXBBY3Rpb25Bc3NlcnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFRlc3RTY3JpcHRTZXR1cEFjdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFRlc3RTY3JpcHRTZXR1cEFjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydvcGVyYXRpb24nXSkgeyB0aGlzLm9wZXJhdGlvbiA9IG5ldyBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvbihzb3VyY2Uub3BlcmF0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXNzZXJ0J10pIHsgdGhpcy5hc3NlcnQgPSBuZXcgZmhpci5UZXN0U2NyaXB0U2V0dXBBY3Rpb25Bc3NlcnQoc291cmNlLmFzc2VydCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1wib3BlcmF0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3BlcmF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImFzc2VydFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFzc2VydC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFRlc3RTY3JpcHRTZXR1cCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUZXN0U2NyaXB0U2V0dXBBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbiBhY3Rpb24gc2hvdWxkIGNvbnRhaW4gZWl0aGVyIGFuIG9wZXJhdGlvbiBvciBhbiBhc3NlcnRpb24gYnV0IG5vdCBib3RoLiAgSXQgY2FuIGNvbnRhaW4gYW55IG51bWJlciBvZiB2YXJpYWJsZXMuXHJcbiAgICovXHJcbiAgYWN0aW9uOiBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbkFyZ3NbXXxudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzZXJpZXMgb2YgcmVxdWlyZWQgc2V0dXAgb3BlcmF0aW9ucyBiZWZvcmUgdGVzdHMgYXJlIGV4ZWN1dGVkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRTZXR1cCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Rlc3RTY3JpcHRTZXR1cCc7XHJcbiAgLyoqXHJcbiAgICogQW4gYWN0aW9uIHNob3VsZCBjb250YWluIGVpdGhlciBhbiBvcGVyYXRpb24gb3IgYW4gYXNzZXJ0aW9uIGJ1dCBub3QgYm90aC4gIEl0IGNhbiBjb250YWluIGFueSBudW1iZXIgb2YgdmFyaWFibGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3Rpb246IGZoaXIuVGVzdFNjcmlwdFNldHVwQWN0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVGVzdFNjcmlwdFNldHVwIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VGVzdFNjcmlwdFNldHVwQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2FjdGlvbiddKSB7IHRoaXMuYWN0aW9uID0gc291cmNlLmFjdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFjdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ2FjdGlvbiddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgYWN0aW9uOmZoaXIuVGVzdFNjcmlwdFNldHVwQWN0aW9uW10gZmhpcjogVGVzdFNjcmlwdC5zZXR1cC5hY3Rpb246YWN0aW9uJywgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuYWN0aW9uKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnc3RydWN0dXJlJywgIGRpYWdub3N0aWNzOiAnRm91bmQgc2NhbGFyIGluIGFycmF5IHByb3BlcnR5IGFjdGlvbjpmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbltdIGZoaXI6IFRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uOmFjdGlvbicsIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmFjdGlvbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBhY3Rpb246Zmhpci5UZXN0U2NyaXB0U2V0dXBBY3Rpb25bXSBmaGlyOiBUZXN0U2NyaXB0LnNldHVwLmFjdGlvbjphY3Rpb24nLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiYWN0aW9uXCJdKSB7IHRoaXMuYWN0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFRlc3RTY3JpcHRUZXN0QWN0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RTY3JpcHRUZXN0QWN0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQW4gb3BlcmF0aW9uIHdvdWxkIGludm9sdmUgYSBSRVNUIHJlcXVlc3QgdG8gYSBzZXJ2ZXIuXHJcbiAgICovXHJcbiAgb3BlcmF0aW9uPzogZmhpci5UZXN0U2NyaXB0U2V0dXBBY3Rpb25PcGVyYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbiBvcmRlciB0byBldmFsdWF0ZSBhbiBhc3NlcnRpb24sIHRoZSByZXF1ZXN0LCByZXNwb25zZSwgYW5kIHJlc3VsdHMgb2YgdGhlIG1vc3QgcmVjZW50bHkgZXhlY3V0ZWQgb3BlcmF0aW9uIG11c3QgYWx3YXlzIGJlIG1haW50YWluZWQgYnkgdGhlIHRlc3QgZW5naW5lLlxyXG4gICAqL1xyXG4gIGFzc2VydD86IGZoaXIuVGVzdFNjcmlwdFNldHVwQWN0aW9uQXNzZXJ0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbiBhY3Rpb24gc2hvdWxkIGNvbnRhaW4gZWl0aGVyIGFuIG9wZXJhdGlvbiBvciBhbiBhc3NlcnRpb24gYnV0IG5vdCBib3RoLiAgSXQgY2FuIGNvbnRhaW4gYW55IG51bWJlciBvZiB2YXJpYWJsZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGVzdFNjcmlwdFRlc3RBY3Rpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdUZXN0U2NyaXB0VGVzdEFjdGlvbic7XHJcbiAgLyoqXHJcbiAgICogQW4gb3BlcmF0aW9uIHdvdWxkIGludm9sdmUgYSBSRVNUIHJlcXVlc3QgdG8gYSBzZXJ2ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIG9wZXJhdGlvbj86IGZoaXIuVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbiBvcmRlciB0byBldmFsdWF0ZSBhbiBhc3NlcnRpb24sIHRoZSByZXF1ZXN0LCByZXNwb25zZSwgYW5kIHJlc3VsdHMgb2YgdGhlIG1vc3QgcmVjZW50bHkgZXhlY3V0ZWQgb3BlcmF0aW9uIG11c3QgYWx3YXlzIGJlIG1haW50YWluZWQgYnkgdGhlIHRlc3QgZW5naW5lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhc3NlcnQ/OiBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbkFzc2VydHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVGVzdFNjcmlwdFRlc3RBY3Rpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxUZXN0U2NyaXB0VGVzdEFjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydvcGVyYXRpb24nXSkgeyB0aGlzLm9wZXJhdGlvbiA9IG5ldyBmaGlyLlRlc3RTY3JpcHRTZXR1cEFjdGlvbk9wZXJhdGlvbihzb3VyY2Uub3BlcmF0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXNzZXJ0J10pIHsgdGhpcy5hc3NlcnQgPSBuZXcgZmhpci5UZXN0U2NyaXB0U2V0dXBBY3Rpb25Bc3NlcnQoc291cmNlLmFzc2VydCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1wib3BlcmF0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3BlcmF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImFzc2VydFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFzc2VydC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFRlc3RTY3JpcHRUZXN0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RTY3JpcHRUZXN0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgdGhpcyB0ZXN0IHVzZWQgZm9yIHRyYWNraW5nL2xvZ2dpbmcgcHVycG9zZXMgYnkgdGVzdCBlbmdpbmVzLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNob3J0IGRlc2NyaXB0aW9uIG9mIHRoZSB0ZXN0IHVzZWQgYnkgdGVzdCBlbmdpbmVzIGZvciB0cmFja2luZyBhbmQgcmVwb3J0aW5nIHB1cnBvc2VzLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gYWN0aW9uIHNob3VsZCBjb250YWluIGVpdGhlciBhbiBvcGVyYXRpb24gb3IgYW4gYXNzZXJ0aW9uIGJ1dCBub3QgYm90aC4gIEl0IGNhbiBjb250YWluIGFueSBudW1iZXIgb2YgdmFyaWFibGVzLlxyXG4gICAqL1xyXG4gIGFjdGlvbjogZmhpci5UZXN0U2NyaXB0VGVzdEFjdGlvbkFyZ3NbXXxudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQSB0ZXN0IGluIHRoaXMgc2NyaXB0LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRUZXN0IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVGVzdFNjcmlwdFRlc3QnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIG9mIHRoaXMgdGVzdCB1c2VkIGZvciB0cmFja2luZy9sb2dnaW5nIHB1cnBvc2VzIGJ5IHRlc3QgZW5naW5lcy5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzaG9ydCBkZXNjcmlwdGlvbiBvZiB0aGUgdGVzdCB1c2VkIGJ5IHRlc3QgZW5naW5lcyBmb3IgdHJhY2tpbmcgYW5kIHJlcG9ydGluZyBwdXJwb3Nlcy5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFjdGlvbiBzaG91bGQgY29udGFpbiBlaXRoZXIgYW4gb3BlcmF0aW9uIG9yIGFuIGFzc2VydGlvbiBidXQgbm90IGJvdGguICBJdCBjYW4gY29udGFpbiBhbnkgbnVtYmVyIG9mIHZhcmlhYmxlcy5cclxuICAgKi9cclxuICBwdWJsaWMgYWN0aW9uOiBmaGlyLlRlc3RTY3JpcHRUZXN0QWN0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVGVzdFNjcmlwdFRlc3QgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxUZXN0U2NyaXB0VGVzdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWN0aW9uJ10pIHsgdGhpcy5hY3Rpb24gPSBzb3VyY2UuYWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuVGVzdFNjcmlwdFRlc3RBY3Rpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY3Rpb24gPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJuYW1lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmFtZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlc2NyaXB0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2FjdGlvbiddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgYWN0aW9uOmZoaXIuVGVzdFNjcmlwdFRlc3RBY3Rpb25bXSBmaGlyOiBUZXN0U2NyaXB0LnRlc3QuYWN0aW9uOmFjdGlvbicsIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmFjdGlvbikpIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3N0cnVjdHVyZScsICBkaWFnbm9zdGljczogJ0ZvdW5kIHNjYWxhciBpbiBhcnJheSBwcm9wZXJ0eSBhY3Rpb246Zmhpci5UZXN0U2NyaXB0VGVzdEFjdGlvbltdIGZoaXI6IFRlc3RTY3JpcHQudGVzdC5hY3Rpb246YWN0aW9uJywgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aW9uLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGFjdGlvbjpmaGlyLlRlc3RTY3JpcHRUZXN0QWN0aW9uW10gZmhpcjogVGVzdFNjcmlwdC50ZXN0LmFjdGlvbjphY3Rpb24nLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiYWN0aW9uXCJdKSB7IHRoaXMuYWN0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFRlc3RTY3JpcHRUZWFyZG93bkFjdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUZXN0U2NyaXB0VGVhcmRvd25BY3Rpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbiBvcGVyYXRpb24gd291bGQgaW52b2x2ZSBhIFJFU1QgcmVxdWVzdCB0byBhIHNlcnZlci5cclxuICAgKi9cclxuICBvcGVyYXRpb246IGZoaXIuVGVzdFNjcmlwdFNldHVwQWN0aW9uT3BlcmF0aW9uQXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQW4gYWN0aW9uIHNob3VsZCBjb250YWluIGVpdGhlciBhbiBvcGVyYXRpb24gb3IgYW4gYXNzZXJ0aW9uIGJ1dCBub3QgYm90aC4gIEl0IGNhbiBjb250YWluIGFueSBudW1iZXIgb2YgdmFyaWFibGVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRUZWFyZG93bkFjdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Rlc3RTY3JpcHRUZWFyZG93bkFjdGlvbic7XHJcbiAgLyoqXHJcbiAgICogQW4gb3BlcmF0aW9uIHdvdWxkIGludm9sdmUgYSBSRVNUIHJlcXVlc3QgdG8gYSBzZXJ2ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIG9wZXJhdGlvbjogZmhpci5UZXN0U2NyaXB0U2V0dXBBY3Rpb25PcGVyYXRpb258bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBUZXN0U2NyaXB0VGVhcmRvd25BY3Rpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxUZXN0U2NyaXB0VGVhcmRvd25BY3Rpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnb3BlcmF0aW9uJ10pIHsgdGhpcy5vcGVyYXRpb24gPSBuZXcgZmhpci5UZXN0U2NyaXB0U2V0dXBBY3Rpb25PcGVyYXRpb24oc291cmNlLm9wZXJhdGlvbik7IH1cclxuICAgIGVsc2UgeyB0aGlzLm9wZXJhdGlvbiA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snb3BlcmF0aW9uJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBvcGVyYXRpb246Zmhpci5UZXN0U2NyaXB0U2V0dXBBY3Rpb25PcGVyYXRpb24gZmhpcjogVGVzdFNjcmlwdC50ZWFyZG93bi5hY3Rpb24ub3BlcmF0aW9uOlRlc3RTY3JpcHQuc2V0dXAuYWN0aW9uLm9wZXJhdGlvbicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJvcGVyYXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vcGVyYXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBUZXN0U2NyaXB0VGVhcmRvd24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVzdFNjcmlwdFRlYXJkb3duQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQW4gYWN0aW9uIHNob3VsZCBjb250YWluIGVpdGhlciBhbiBvcGVyYXRpb24gb3IgYW4gYXNzZXJ0aW9uIGJ1dCBub3QgYm90aC4gIEl0IGNhbiBjb250YWluIGFueSBudW1iZXIgb2YgdmFyaWFibGVzLlxyXG4gICAqL1xyXG4gIGFjdGlvbjogZmhpci5UZXN0U2NyaXB0VGVhcmRvd25BY3Rpb25BcmdzW118bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc2VyaWVzIG9mIG9wZXJhdGlvbnMgcmVxdWlyZWQgdG8gY2xlYW4gdXAgYWZ0ZXIgYWxsIHRoZSB0ZXN0cyBhcmUgZXhlY3V0ZWQgKHN1Y2Nlc3NmdWxseSBvciBvdGhlcndpc2UpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRlc3RTY3JpcHRUZWFyZG93biBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Rlc3RTY3JpcHRUZWFyZG93bic7XHJcbiAgLyoqXHJcbiAgICogQW4gYWN0aW9uIHNob3VsZCBjb250YWluIGVpdGhlciBhbiBvcGVyYXRpb24gb3IgYW4gYXNzZXJ0aW9uIGJ1dCBub3QgYm90aC4gIEl0IGNhbiBjb250YWluIGFueSBudW1iZXIgb2YgdmFyaWFibGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3Rpb246IGZoaXIuVGVzdFNjcmlwdFRlYXJkb3duQWN0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVGVzdFNjcmlwdFRlYXJkb3duIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VGVzdFNjcmlwdFRlYXJkb3duQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2FjdGlvbiddKSB7IHRoaXMuYWN0aW9uID0gc291cmNlLmFjdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlRlc3RTY3JpcHRUZWFyZG93bkFjdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFjdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ2FjdGlvbiddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgYWN0aW9uOmZoaXIuVGVzdFNjcmlwdFRlYXJkb3duQWN0aW9uW10gZmhpcjogVGVzdFNjcmlwdC50ZWFyZG93bi5hY3Rpb246YWN0aW9uJywgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuYWN0aW9uKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnc3RydWN0dXJlJywgIGRpYWdub3N0aWNzOiAnRm91bmQgc2NhbGFyIGluIGFycmF5IHByb3BlcnR5IGFjdGlvbjpmaGlyLlRlc3RTY3JpcHRUZWFyZG93bkFjdGlvbltdIGZoaXI6IFRlc3RTY3JpcHQudGVhcmRvd24uYWN0aW9uOmFjdGlvbicsIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmFjdGlvbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBhY3Rpb246Zmhpci5UZXN0U2NyaXB0VGVhcmRvd25BY3Rpb25bXSBmaGlyOiBUZXN0U2NyaXB0LnRlYXJkb3duLmFjdGlvbjphY3Rpb24nLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiYWN0aW9uXCJdKSB7IHRoaXMuYWN0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFRlc3RTY3JpcHQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVzdFNjcmlwdEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIlRlc3RTY3JpcHRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FuIGJlIGEgdXJuOnV1aWQ6IG9yIGEgdXJuOm9pZDogYnV0IHJlYWwgaHR0cDogYWRkcmVzc2VzIGFyZSBwcmVmZXJyZWQuICBNdWx0aXBsZSBpbnN0YW5jZXMgbWF5IHNoYXJlIHRoZSBzYW1lIFVSTCBpZiB0aGV5IGhhdmUgYSBkaXN0aW5jdCB2ZXJzaW9uLlxyXG4gICAqIFRoZSBkZXRlcm1pbmF0aW9uIG9mIHdoZW4gdG8gY3JlYXRlIGEgbmV3IHZlcnNpb24gb2YgYSByZXNvdXJjZSAoc2FtZSB1cmwsIG5ldyB2ZXJzaW9uKSB2cy4gZGVmaW5pbmcgYSBuZXcgYXJ0aWZhY3QgaXMgdXAgdG8gdGhlIGF1dGhvci4gIENvbnNpZGVyYXRpb25zIGZvciBtYWtpbmcgdGhpcyBkZWNpc2lvbiBhcmUgZm91bmQgaW4gW1RlY2huaWNhbCBhbmQgQnVzaW5lc3MgVmVyc2lvbnNdKHJlc291cmNlLmh0bWwjdmVyc2lvbnMpLiBcclxuICAgKiBJbiBzb21lIGNhc2VzLCB0aGUgcmVzb3VyY2UgY2FuIG5vIGxvbmdlciBiZSBmb3VuZCBhdCB0aGUgc3RhdGVkIHVybCwgYnV0IHRoZSB1cmwgaXRzZWxmIGNhbm5vdCBjaGFuZ2UuIEltcGxlbWVudGF0aW9ucyBjYW4gdXNlIHRoZSBbbWV0YS5zb3VyY2VdKHJlc291cmNlLmh0bWwjbWV0YSkgZWxlbWVudCB0byBpbmRpY2F0ZSB3aGVyZSB0aGUgY3VycmVudCBtYXN0ZXIgc291cmNlIG9mIHRoZSByZXNvdXJjZSBjYW4gYmUgZm91bmQuXHJcbiAgICovXHJcbiAgdXJsOiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHksIHRoaXMgaXMgdXNlZCBmb3IgaWRlbnRpZmllcnMgdGhhdCBjYW4gZ28gaW4gYW4gSEw3IFYzIElJIChpbnN0YW5jZSBpZGVudGlmaWVyKSBkYXRhIHR5cGUsIGFuZCBjYW4gdGhlbiBpZGVudGlmeSB0aGlzIHRlc3Qgc2NyaXB0IG91dHNpZGUgb2YgRkhJUiwgd2hlcmUgaXQgaXMgbm90IHBvc3NpYmxlIHRvIHVzZSB0aGUgbG9naWNhbCBVUkkuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIG1heSBiZSBkaWZmZXJlbnQgdGVzdCBzY3JpcHQgaW5zdGFuY2VzIHRoYXQgaGF2ZSB0aGUgc2FtZSBpZGVudGlmaWVyIGJ1dCBkaWZmZXJlbnQgdmVyc2lvbnMuICBUaGUgdmVyc2lvbiBjYW4gYmUgYXBwZW5kZWQgdG8gdGhlIHVybCBpbiBhIHJlZmVyZW5jZSB0byBhbGxvdyBhIHJlZmVyZW5jZSB0byBhIHBhcnRpY3VsYXIgYnVzaW5lc3MgdmVyc2lvbiBvZiB0aGUgdGVzdCBzY3JpcHQgd2l0aCB0aGUgZm9ybWF0IFt1cmxdfFt2ZXJzaW9uXS5cclxuICAgKi9cclxuICB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgaXMgbm90IGV4cGVjdGVkIHRvIGJlIGdsb2JhbGx5IHVuaXF1ZS4gVGhlIG5hbWUgc2hvdWxkIGJlIGEgc2ltcGxlIGFscGhhbnVtZXJpYyB0eXBlIG5hbWUgdG8gZW5zdXJlIHRoYXQgaXQgaXMgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5LlxyXG4gICAqL1xyXG4gIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbmFtZSBkb2VzIG5vdCBuZWVkIHRvIGJlIG1hY2hpbmUtcHJvY2Vzc2luZyBmcmllbmRseSBhbmQgbWF5IGNvbnRhaW4gcHVuY3R1YXRpb24sIHdoaXRlLXNwYWNlLCBldGMuXHJcbiAgICovXHJcbiAgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgZmlsdGVyaW5nIG9mIHRlc3Qgc2NyaXB0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiB0ZXN0IHNjcmlwdHMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHVzZSB2ZXJzdXMgbm90LlxyXG4gICAqL1xyXG4gIGV4cGVyaW1lbnRhbD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSByZXNvdXJjZSBsYXN0LW1vZGlmaWVkLWRhdGUsIHNpbmNlIHRoZSByZXNvdXJjZSBtYXkgYmUgYSBzZWNvbmRhcnkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRlc3Qgc2NyaXB0LiBBZGRpdGlvbmFsIHNwZWNpZmljIGRhdGVzIG1heSBiZSBhZGRlZCBhcyBleHRlbnNpb25zIG9yIGJlIGZvdW5kIGJ5IGNvbnN1bHRpbmcgUHJvdmVuYW5jZXMgYXNzb2NpYXRlZCB3aXRoIHBhc3QgdmVyc2lvbnMgb2YgdGhlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgYW4gb3JnYW5pemF0aW9uIGJ1dCBtYXkgYmUgYW4gaW5kaXZpZHVhbC4gVGhlIHB1Ymxpc2hlciAob3Igc3Rld2FyZCkgb2YgdGhlIHRlc3Qgc2NyaXB0IGlzIHRoZSBvcmdhbml6YXRpb24gb3IgaW5kaXZpZHVhbCBwcmltYXJpbHkgcmVzcG9uc2libGUgZm9yIHRoZSBtYWludGVuYW5jZSBhbmQgdXBrZWVwIG9mIHRoZSB0ZXN0IHNjcmlwdC4gVGhpcyBpcyBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gdGhhdCBkZXZlbG9wZWQgYW5kIGluaXRpYWxseSBhdXRob3JlZCB0aGUgY29udGVudC4gVGhlIHB1Ymxpc2hlciBpcyB0aGUgcHJpbWFyeSBwb2ludCBvZiBjb250YWN0IGZvciBxdWVzdGlvbnMgb3IgaXNzdWVzIHdpdGggdGhlIHRlc3Qgc2NyaXB0LiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIGEgd2ViIHNpdGUsIGFuIGVtYWlsIGFkZHJlc3MsIGEgdGVsZXBob25lIG51bWJlciwgZXRjLlxyXG4gICAqL1xyXG4gIGNvbnRhY3Q/OiBmaGlyLkNvbnRhY3REZXRhaWxBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpcHRpb24gY2FuIGJlIHVzZWQgdG8gY2FwdHVyZSBkZXRhaWxzIHN1Y2ggYXMgd2h5IHRoZSB0ZXN0IHNjcmlwdCB3YXMgYnVpbHQsIGNvbW1lbnRzIGFib3V0IG1pc3VzZSwgaW5zdHJ1Y3Rpb25zIGZvciBjbGluaWNhbCB1c2UgYW5kIGludGVycHJldGF0aW9uLCBsaXRlcmF0dXJlIHJlZmVyZW5jZXMsIGV4YW1wbGVzIGZyb20gdGhlIHBhcGVyIHdvcmxkLCBldGMuIEl0IGlzIG5vdCBhIHJlbmRlcmluZyBvZiB0aGUgdGVzdCBzY3JpcHQgYXMgY29udmV5ZWQgaW4gdGhlICd0ZXh0JyBmaWVsZCBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmLiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQgKGUuZy4gdGhlIGxhbmd1YWdlIG9mIHRoZSB0ZXN0IHNjcmlwdCBpcyBwcmVzdW1lZCB0byBiZSB0aGUgcHJlZG9taW5hbnQgbGFuZ3VhZ2UgaW4gdGhlIHBsYWNlIHRoZSB0ZXN0IHNjcmlwdCB3YXMgY3JlYXRlZCkuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gbXVsdGlwbGUgdXNlQ29udGV4dHMgYXJlIHNwZWNpZmllZCwgdGhlcmUgaXMgbm8gZXhwZWN0YXRpb24gdGhhdCBhbGwgb3IgYW55IG9mIHRoZSBjb250ZXh0cyBhcHBseS5cclxuICAgKi9cclxuICB1c2VDb250ZXh0PzogZmhpci5Vc2FnZUNvbnRleHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0IG1heSBiZSBwb3NzaWJsZSBmb3IgdGhlIHRlc3Qgc2NyaXB0IHRvIGJlIHVzZWQgaW4ganVyaXNkaWN0aW9ucyBvdGhlciB0aGFuIHRob3NlIGZvciB3aGljaCBpdCB3YXMgb3JpZ2luYWxseSBkZXNpZ25lZCBvciBpbnRlbmRlZC5cclxuICAgKi9cclxuICBqdXJpc2RpY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGRvZXMgbm90IGRlc2NyaWJlIHRoZSB1c2FnZSBvZiB0aGUgdGVzdCBzY3JpcHQuIEluc3RlYWQsIGl0IHByb3ZpZGVzIHRyYWNlYWJpbGl0eSBvZiAnJ3doeScnIHRoZSByZXNvdXJjZSBpcyBlaXRoZXIgbmVlZGVkIG9yICcnd2h5JycgaXQgaXMgZGVmaW5lZCBhcyBpdCBpcy4gIFRoaXMgbWF5IGJlIHVzZWQgdG8gcG9pbnQgdG8gc291cmNlIG1hdGVyaWFscyBvciBzcGVjaWZpY2F0aW9ucyB0aGF0IGRyb3ZlIHRoZSBzdHJ1Y3R1cmUgb2YgdGhpcyB0ZXN0IHNjcmlwdC5cclxuICAgKi9cclxuICBwdXJwb3NlPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgcmVsYXRpbmcgdG8gdGhlIHRlc3Qgc2NyaXB0IGFuZC9vciBpdHMgY29udGVudHMuIENvcHlyaWdodCBzdGF0ZW1lbnRzIGFyZSBnZW5lcmFsbHkgbGVnYWwgcmVzdHJpY3Rpb25zIG9uIHRoZSB1c2UgYW5kIHB1Ymxpc2hpbmcgb2YgdGhlIHRlc3Qgc2NyaXB0LlxyXG4gICAqL1xyXG4gIGNvcHlyaWdodD86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBlbGVtZW50IGlzIHRvIGRlZmluZSB0aGUgcHJvZmlsZSBvZiBhbiBvcmlnaW4gZWxlbWVudCB1c2VkIGVsc2V3aGVyZSBpbiB0aGUgc2NyaXB0LiAgVGVzdCBlbmdpbmVzIGNvdWxkIHRoZW4gdXNlIHRoZSBvcmlnaW4tcHJvZmlsZSBtYXBwaW5nIHRvIG9mZmVyIGEgZmlsdGVyZWQgbGlzdCBvZiB0ZXN0IHN5c3RlbXMgdGhhdCBjYW4gc2VydmUgYXMgdGhlIHNlbmRlciBmb3IgdGhlIGludGVyYWN0aW9uLlxyXG4gICAqL1xyXG4gIG9yaWdpbj86IGZoaXIuVGVzdFNjcmlwdE9yaWdpbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBlbGVtZW50IGlzIHRvIGRlZmluZSB0aGUgcHJvZmlsZSBvZiBhIGRlc3RpbmF0aW9uIGVsZW1lbnQgdXNlZCBlbHNld2hlcmUgaW4gdGhlIHNjcmlwdC4gIFRlc3QgZW5naW5lcyBjb3VsZCB0aGVuIHVzZSB0aGUgZGVzdGluYXRpb24tcHJvZmlsZSBtYXBwaW5nIHRvIG9mZmVyIGEgZmlsdGVyZWQgbGlzdCBvZiB0ZXN0IHN5c3RlbXMgdGhhdCBjYW4gc2VydmUgYXMgdGhlIHJlY2VpdmVyIGZvciB0aGUgaW50ZXJhY3Rpb24uXHJcbiAgICovXHJcbiAgZGVzdGluYXRpb24/OiBmaGlyLlRlc3RTY3JpcHREZXN0aW5hdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlcXVpcmVkIGNhcGFiaWxpdHkgbXVzdCBleGlzdCBhbmQgYXJlIGFzc3VtZWQgdG8gZnVuY3Rpb24gY29ycmVjdGx5IG9uIHRoZSBGSElSIHNlcnZlciBiZWluZyB0ZXN0ZWQuXHJcbiAgICovXHJcbiAgbWV0YWRhdGE/OiBmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZpeHR1cmUgaW4gdGhlIHRlc3Qgc2NyaXB0IC0gYnkgcmVmZXJlbmNlICh1cmkpLiBBbGwgZml4dHVyZXMgYXJlIHJlcXVpcmVkIGZvciB0aGUgdGVzdCBzY3JpcHQgdG8gZXhlY3V0ZS5cclxuICAgKi9cclxuICBmaXh0dXJlPzogZmhpci5UZXN0U2NyaXB0Rml4dHVyZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2VlIGh0dHA6Ly9idWlsZC5maGlyLm9yZy9yZXNvdXJjZWxpc3QuaHRtbCBmb3IgY29tcGxldGUgbGlzdCBvZiByZXNvdXJjZSB0eXBlcy5cclxuICAgKi9cclxuICBwcm9maWxlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFZhcmlhYmxlcyB3b3VsZCBiZSBzZXQgYmFzZWQgZWl0aGVyIG9uIFhQYXRoL0pTT05QYXRoIGV4cHJlc3Npb25zIGFnYWluc3QgZml4dHVyZXMgKHN0YXRpYyBhbmQgcmVzcG9uc2UpLCBvciBoZWFkZXJGaWVsZCBldmFsdWF0aW9ucyBhZ2FpbnN0IHJlc3BvbnNlIGhlYWRlcnMuIElmIHZhcmlhYmxlIGV2YWx1YXRlcyB0byBub2RlbGlzdCBvciBhbnl0aGluZyBvdGhlciB0aGFuIGEgcHJpbWl0aXZlIHZhbHVlLCB0aGVuIHRlc3QgZW5naW5lIHdvdWxkIHJlcG9ydCBhbiBlcnJvci4gIFZhcmlhYmxlcyB3b3VsZCBiZSB1c2VkIHRvIHBlcmZvcm0gY2xlYW4gcmVwbGFjZW1lbnRzIGluIFwib3BlcmF0aW9uLnBhcmFtc1wiLCBcIm9wZXJhdGlvbi5yZXF1ZXN0SGVhZGVyLnZhbHVlXCIsIGFuZCBcIm9wZXJhdGlvbi51cmxcIiBlbGVtZW50IHZhbHVlcyBkdXJpbmcgb3BlcmF0aW9uIGNhbGxzIGFuZCBpbiBcImFzc2VydC52YWx1ZVwiIGR1cmluZyBhc3NlcnRpb24gZXZhbHVhdGlvbnMuIFRoaXMgbGltaXRzIHRoZSBwbGFjZXMgdGhhdCB0ZXN0IGVuZ2luZXMgd291bGQgbmVlZCB0byBsb29rIGZvciBwbGFjZWhvbGRlcnMgXCIke31cIi4gIFZhcmlhYmxlcyBhcmUgc2NvcGVkIHRvIHRoZSB3aG9sZSBzY3JpcHQuIFRoZXkgYXJlIE5PVCBldmFsdWF0ZWQgYXQgZGVjbGFyYXRpb24uIFRoZXkgYXJlIGV2YWx1YXRlZCBieSB0ZXN0IGVuZ2luZSB3aGVuIHVzZWQgZm9yIHN1YnN0aXR1dGlvbnMgaW4gXCJvcGVyYXRpb24ucGFyYW1zXCIsIFwib3BlcmF0aW9uLnJlcXVlc3RIZWFkZXIudmFsdWVcIiwgYW5kIFwib3BlcmF0aW9uLnVybFwiIGVsZW1lbnQgdmFsdWVzIGR1cmluZyBvcGVyYXRpb24gY2FsbHMgYW5kIGluIFwiYXNzZXJ0LnZhbHVlXCIgZHVyaW5nIGFzc2VydGlvbiBldmFsdWF0aW9ucy4gIFNlZSBleGFtcGxlIHRlc3RzY3JpcHQtc2VhcmNoLnhtbC5cclxuICAgKi9cclxuICB2YXJpYWJsZT86IGZoaXIuVGVzdFNjcmlwdFZhcmlhYmxlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNlcmllcyBvZiByZXF1aXJlZCBzZXR1cCBvcGVyYXRpb25zIGJlZm9yZSB0ZXN0cyBhcmUgZXhlY3V0ZWQuXHJcbiAgICovXHJcbiAgc2V0dXA/OiBmaGlyLlRlc3RTY3JpcHRTZXR1cEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdGVzdCBpbiB0aGlzIHNjcmlwdC5cclxuICAgKi9cclxuICB0ZXN0PzogZmhpci5UZXN0U2NyaXB0VGVzdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzZXJpZXMgb2Ygb3BlcmF0aW9ucyByZXF1aXJlZCB0byBjbGVhbiB1cCBhZnRlciBhbGwgdGhlIHRlc3RzIGFyZSBleGVjdXRlZCAoc3VjY2Vzc2Z1bGx5IG9yIG90aGVyd2lzZSkuXHJcbiAgICovXHJcbiAgdGVhcmRvd24/OiBmaGlyLlRlc3RTY3JpcHRUZWFyZG93bkFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzdHJ1Y3R1cmVkIHNldCBvZiB0ZXN0cyBhZ2FpbnN0IGEgRkhJUiBzZXJ2ZXIgb3IgY2xpZW50IGltcGxlbWVudGF0aW9uIHRvIGRldGVybWluZSBjb21wbGlhbmNlIGFnYWluc3QgdGhlIEZISVIgc3BlY2lmaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZXN0U2NyaXB0IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdUZXN0U2NyaXB0JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlRlc3RTY3JpcHRcIjtcclxuICAvKipcclxuICAgKiBDYW4gYmUgYSB1cm46dXVpZDogb3IgYSB1cm46b2lkOiBidXQgcmVhbCBodHRwOiBhZGRyZXNzZXMgYXJlIHByZWZlcnJlZC4gIE11bHRpcGxlIGluc3RhbmNlcyBtYXkgc2hhcmUgdGhlIHNhbWUgVVJMIGlmIHRoZXkgaGF2ZSBhIGRpc3RpbmN0IHZlcnNpb24uXHJcbiAgICogVGhlIGRldGVybWluYXRpb24gb2Ygd2hlbiB0byBjcmVhdGUgYSBuZXcgdmVyc2lvbiBvZiBhIHJlc291cmNlIChzYW1lIHVybCwgbmV3IHZlcnNpb24pIHZzLiBkZWZpbmluZyBhIG5ldyBhcnRpZmFjdCBpcyB1cCB0byB0aGUgYXV0aG9yLiAgQ29uc2lkZXJhdGlvbnMgZm9yIG1ha2luZyB0aGlzIGRlY2lzaW9uIGFyZSBmb3VuZCBpbiBbVGVjaG5pY2FsIGFuZCBCdXNpbmVzcyBWZXJzaW9uc10ocmVzb3VyY2UuaHRtbCN2ZXJzaW9ucykuIFxyXG4gICAqIEluIHNvbWUgY2FzZXMsIHRoZSByZXNvdXJjZSBjYW4gbm8gbG9uZ2VyIGJlIGZvdW5kIGF0IHRoZSBzdGF0ZWQgdXJsLCBidXQgdGhlIHVybCBpdHNlbGYgY2Fubm90IGNoYW5nZS4gSW1wbGVtZW50YXRpb25zIGNhbiB1c2UgdGhlIFttZXRhLnNvdXJjZV0ocmVzb3VyY2UuaHRtbCNtZXRhKSBlbGVtZW50IHRvIGluZGljYXRlIHdoZXJlIHRoZSBjdXJyZW50IG1hc3RlciBzb3VyY2Ugb2YgdGhlIHJlc291cmNlIGNhbiBiZSBmb3VuZC5cclxuICAgKi9cclxuICBwdWJsaWMgdXJsOiBmaGlyLkZoaXJVcml8bnVsbDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHksIHRoaXMgaXMgdXNlZCBmb3IgaWRlbnRpZmllcnMgdGhhdCBjYW4gZ28gaW4gYW4gSEw3IFYzIElJIChpbnN0YW5jZSBpZGVudGlmaWVyKSBkYXRhIHR5cGUsIGFuZCBjYW4gdGhlbiBpZGVudGlmeSB0aGlzIHRlc3Qgc2NyaXB0IG91dHNpZGUgb2YgRkhJUiwgd2hlcmUgaXQgaXMgbm90IHBvc3NpYmxlIHRvIHVzZSB0aGUgbG9naWNhbCBVUkkuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIG1heSBiZSBkaWZmZXJlbnQgdGVzdCBzY3JpcHQgaW5zdGFuY2VzIHRoYXQgaGF2ZSB0aGUgc2FtZSBpZGVudGlmaWVyIGJ1dCBkaWZmZXJlbnQgdmVyc2lvbnMuICBUaGUgdmVyc2lvbiBjYW4gYmUgYXBwZW5kZWQgdG8gdGhlIHVybCBpbiBhIHJlZmVyZW5jZSB0byBhbGxvdyBhIHJlZmVyZW5jZSB0byBhIHBhcnRpY3VsYXIgYnVzaW5lc3MgdmVyc2lvbiBvZiB0aGUgdGVzdCBzY3JpcHQgd2l0aCB0aGUgZm9ybWF0IFt1cmxdfFt2ZXJzaW9uXS5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgaXMgbm90IGV4cGVjdGVkIHRvIGJlIGdsb2JhbGx5IHVuaXF1ZS4gVGhlIG5hbWUgc2hvdWxkIGJlIGEgc2ltcGxlIGFscGhhbnVtZXJpYyB0eXBlIG5hbWUgdG8gZW5zdXJlIHRoYXQgaXQgaXMgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIG5hbWUgZG9lcyBub3QgbmVlZCB0byBiZSBtYWNoaW5lLXByb2Nlc3NpbmcgZnJpZW5kbHkgYW5kIG1heSBjb250YWluIHB1bmN0dWF0aW9uLCB3aGl0ZS1zcGFjZSwgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aXRsZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiB0ZXN0IHNjcmlwdHMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHVzZSB2ZXJzdXMgbm90LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgZmlsdGVyaW5nIG9mIHRlc3Qgc2NyaXB0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgcHVibGljIGV4cGVyaW1lbnRhbD86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgcmVzb3VyY2UgbGFzdC1tb2RpZmllZC1kYXRlLCBzaW5jZSB0aGUgcmVzb3VyY2UgbWF5IGJlIGEgc2Vjb25kYXJ5IHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0ZXN0IHNjcmlwdC4gQWRkaXRpb25hbCBzcGVjaWZpYyBkYXRlcyBtYXkgYmUgYWRkZWQgYXMgZXh0ZW5zaW9ucyBvciBiZSBmb3VuZCBieSBjb25zdWx0aW5nIFByb3ZlbmFuY2VzIGFzc29jaWF0ZWQgd2l0aCBwYXN0IHZlcnNpb25zIG9mIHRoZSByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc3VhbGx5IGFuIG9yZ2FuaXphdGlvbiBidXQgbWF5IGJlIGFuIGluZGl2aWR1YWwuIFRoZSBwdWJsaXNoZXIgKG9yIHN0ZXdhcmQpIG9mIHRoZSB0ZXN0IHNjcmlwdCBpcyB0aGUgb3JnYW5pemF0aW9uIG9yIGluZGl2aWR1YWwgcHJpbWFyaWx5IHJlc3BvbnNpYmxlIGZvciB0aGUgbWFpbnRlbmFuY2UgYW5kIHVwa2VlcCBvZiB0aGUgdGVzdCBzY3JpcHQuIFRoaXMgaXMgbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIGluZGl2aWR1YWwgb3Igb3JnYW5pemF0aW9uIHRoYXQgZGV2ZWxvcGVkIGFuZCBpbml0aWFsbHkgYXV0aG9yZWQgdGhlIGNvbnRlbnQuIFRoZSBwdWJsaXNoZXIgaXMgdGhlIHByaW1hcnkgcG9pbnQgb2YgY29udGFjdCBmb3IgcXVlc3Rpb25zIG9yIGlzc3VlcyB3aXRoIHRoZSB0ZXN0IHNjcmlwdC4gVGhpcyBpdGVtIFNIT1VMRCBiZSBwb3B1bGF0ZWQgdW5sZXNzIHRoZSBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgZnJvbSBjb250ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdWJsaXNoZXI/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1heSBiZSBhIHdlYiBzaXRlLCBhbiBlbWFpbCBhZGRyZXNzLCBhIHRlbGVwaG9uZSBudW1iZXIsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFjdD86IGZoaXIuQ29udGFjdERldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpcHRpb24gY2FuIGJlIHVzZWQgdG8gY2FwdHVyZSBkZXRhaWxzIHN1Y2ggYXMgd2h5IHRoZSB0ZXN0IHNjcmlwdCB3YXMgYnVpbHQsIGNvbW1lbnRzIGFib3V0IG1pc3VzZSwgaW5zdHJ1Y3Rpb25zIGZvciBjbGluaWNhbCB1c2UgYW5kIGludGVycHJldGF0aW9uLCBsaXRlcmF0dXJlIHJlZmVyZW5jZXMsIGV4YW1wbGVzIGZyb20gdGhlIHBhcGVyIHdvcmxkLCBldGMuIEl0IGlzIG5vdCBhIHJlbmRlcmluZyBvZiB0aGUgdGVzdCBzY3JpcHQgYXMgY29udmV5ZWQgaW4gdGhlICd0ZXh0JyBmaWVsZCBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmLiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQgKGUuZy4gdGhlIGxhbmd1YWdlIG9mIHRoZSB0ZXN0IHNjcmlwdCBpcyBwcmVzdW1lZCB0byBiZSB0aGUgcHJlZG9taW5hbnQgbGFuZ3VhZ2UgaW4gdGhlIHBsYWNlIHRoZSB0ZXN0IHNjcmlwdCB3YXMgY3JlYXRlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gbXVsdGlwbGUgdXNlQ29udGV4dHMgYXJlIHNwZWNpZmllZCwgdGhlcmUgaXMgbm8gZXhwZWN0YXRpb24gdGhhdCBhbGwgb3IgYW55IG9mIHRoZSBjb250ZXh0cyBhcHBseS5cclxuICAgKi9cclxuICBwdWJsaWMgdXNlQ29udGV4dD86IGZoaXIuVXNhZ2VDb250ZXh0W107XHJcbiAgLyoqXHJcbiAgICogSXQgbWF5IGJlIHBvc3NpYmxlIGZvciB0aGUgdGVzdCBzY3JpcHQgdG8gYmUgdXNlZCBpbiBqdXJpc2RpY3Rpb25zIG90aGVyIHRoYW4gdGhvc2UgZm9yIHdoaWNoIGl0IHdhcyBvcmlnaW5hbGx5IGRlc2lnbmVkIG9yIGludGVuZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBqdXJpc2RpY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBkb2VzIG5vdCBkZXNjcmliZSB0aGUgdXNhZ2Ugb2YgdGhlIHRlc3Qgc2NyaXB0LiBJbnN0ZWFkLCBpdCBwcm92aWRlcyB0cmFjZWFiaWxpdHkgb2YgJyd3aHknJyB0aGUgcmVzb3VyY2UgaXMgZWl0aGVyIG5lZWRlZCBvciAnJ3doeScnIGl0IGlzIGRlZmluZWQgYXMgaXQgaXMuICBUaGlzIG1heSBiZSB1c2VkIHRvIHBvaW50IHRvIHNvdXJjZSBtYXRlcmlhbHMgb3Igc3BlY2lmaWNhdGlvbnMgdGhhdCBkcm92ZSB0aGUgc3RydWN0dXJlIG9mIHRoaXMgdGVzdCBzY3JpcHQuXHJcbiAgICovXHJcbiAgcHVibGljIHB1cnBvc2U/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb3B5cmlnaHQgc3RhdGVtZW50IHJlbGF0aW5nIHRvIHRoZSB0ZXN0IHNjcmlwdCBhbmQvb3IgaXRzIGNvbnRlbnRzLiBDb3B5cmlnaHQgc3RhdGVtZW50cyBhcmUgZ2VuZXJhbGx5IGxlZ2FsIHJlc3RyaWN0aW9ucyBvbiB0aGUgdXNlIGFuZCBwdWJsaXNoaW5nIG9mIHRoZSB0ZXN0IHNjcmlwdC5cclxuICAgKi9cclxuICBwdWJsaWMgY29weXJpZ2h0PzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgZWxlbWVudCBpcyB0byBkZWZpbmUgdGhlIHByb2ZpbGUgb2YgYW4gb3JpZ2luIGVsZW1lbnQgdXNlZCBlbHNld2hlcmUgaW4gdGhlIHNjcmlwdC4gIFRlc3QgZW5naW5lcyBjb3VsZCB0aGVuIHVzZSB0aGUgb3JpZ2luLXByb2ZpbGUgbWFwcGluZyB0byBvZmZlciBhIGZpbHRlcmVkIGxpc3Qgb2YgdGVzdCBzeXN0ZW1zIHRoYXQgY2FuIHNlcnZlIGFzIHRoZSBzZW5kZXIgZm9yIHRoZSBpbnRlcmFjdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb3JpZ2luPzogZmhpci5UZXN0U2NyaXB0T3JpZ2luW107XHJcbiAgLyoqXHJcbiAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBlbGVtZW50IGlzIHRvIGRlZmluZSB0aGUgcHJvZmlsZSBvZiBhIGRlc3RpbmF0aW9uIGVsZW1lbnQgdXNlZCBlbHNld2hlcmUgaW4gdGhlIHNjcmlwdC4gIFRlc3QgZW5naW5lcyBjb3VsZCB0aGVuIHVzZSB0aGUgZGVzdGluYXRpb24tcHJvZmlsZSBtYXBwaW5nIHRvIG9mZmVyIGEgZmlsdGVyZWQgbGlzdCBvZiB0ZXN0IHN5c3RlbXMgdGhhdCBjYW4gc2VydmUgYXMgdGhlIHJlY2VpdmVyIGZvciB0aGUgaW50ZXJhY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGRlc3RpbmF0aW9uPzogZmhpci5UZXN0U2NyaXB0RGVzdGluYXRpb25bXTtcclxuICAvKipcclxuICAgKiBUaGUgcmVxdWlyZWQgY2FwYWJpbGl0eSBtdXN0IGV4aXN0IGFuZCBhcmUgYXNzdW1lZCB0byBmdW5jdGlvbiBjb3JyZWN0bHkgb24gdGhlIEZISVIgc2VydmVyIGJlaW5nIHRlc3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWV0YWRhdGE/OiBmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRml4dHVyZSBpbiB0aGUgdGVzdCBzY3JpcHQgLSBieSByZWZlcmVuY2UgKHVyaSkuIEFsbCBmaXh0dXJlcyBhcmUgcmVxdWlyZWQgZm9yIHRoZSB0ZXN0IHNjcmlwdCB0byBleGVjdXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaXh0dXJlPzogZmhpci5UZXN0U2NyaXB0Rml4dHVyZVtdO1xyXG4gIC8qKlxyXG4gICAqIFNlZSBodHRwOi8vYnVpbGQuZmhpci5vcmcvcmVzb3VyY2VsaXN0Lmh0bWwgZm9yIGNvbXBsZXRlIGxpc3Qgb2YgcmVzb3VyY2UgdHlwZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2ZpbGU/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFZhcmlhYmxlcyB3b3VsZCBiZSBzZXQgYmFzZWQgZWl0aGVyIG9uIFhQYXRoL0pTT05QYXRoIGV4cHJlc3Npb25zIGFnYWluc3QgZml4dHVyZXMgKHN0YXRpYyBhbmQgcmVzcG9uc2UpLCBvciBoZWFkZXJGaWVsZCBldmFsdWF0aW9ucyBhZ2FpbnN0IHJlc3BvbnNlIGhlYWRlcnMuIElmIHZhcmlhYmxlIGV2YWx1YXRlcyB0byBub2RlbGlzdCBvciBhbnl0aGluZyBvdGhlciB0aGFuIGEgcHJpbWl0aXZlIHZhbHVlLCB0aGVuIHRlc3QgZW5naW5lIHdvdWxkIHJlcG9ydCBhbiBlcnJvci4gIFZhcmlhYmxlcyB3b3VsZCBiZSB1c2VkIHRvIHBlcmZvcm0gY2xlYW4gcmVwbGFjZW1lbnRzIGluIFwib3BlcmF0aW9uLnBhcmFtc1wiLCBcIm9wZXJhdGlvbi5yZXF1ZXN0SGVhZGVyLnZhbHVlXCIsIGFuZCBcIm9wZXJhdGlvbi51cmxcIiBlbGVtZW50IHZhbHVlcyBkdXJpbmcgb3BlcmF0aW9uIGNhbGxzIGFuZCBpbiBcImFzc2VydC52YWx1ZVwiIGR1cmluZyBhc3NlcnRpb24gZXZhbHVhdGlvbnMuIFRoaXMgbGltaXRzIHRoZSBwbGFjZXMgdGhhdCB0ZXN0IGVuZ2luZXMgd291bGQgbmVlZCB0byBsb29rIGZvciBwbGFjZWhvbGRlcnMgXCIke31cIi4gIFZhcmlhYmxlcyBhcmUgc2NvcGVkIHRvIHRoZSB3aG9sZSBzY3JpcHQuIFRoZXkgYXJlIE5PVCBldmFsdWF0ZWQgYXQgZGVjbGFyYXRpb24uIFRoZXkgYXJlIGV2YWx1YXRlZCBieSB0ZXN0IGVuZ2luZSB3aGVuIHVzZWQgZm9yIHN1YnN0aXR1dGlvbnMgaW4gXCJvcGVyYXRpb24ucGFyYW1zXCIsIFwib3BlcmF0aW9uLnJlcXVlc3RIZWFkZXIudmFsdWVcIiwgYW5kIFwib3BlcmF0aW9uLnVybFwiIGVsZW1lbnQgdmFsdWVzIGR1cmluZyBvcGVyYXRpb24gY2FsbHMgYW5kIGluIFwiYXNzZXJ0LnZhbHVlXCIgZHVyaW5nIGFzc2VydGlvbiBldmFsdWF0aW9ucy4gIFNlZSBleGFtcGxlIHRlc3RzY3JpcHQtc2VhcmNoLnhtbC5cclxuICAgKi9cclxuICBwdWJsaWMgdmFyaWFibGU/OiBmaGlyLlRlc3RTY3JpcHRWYXJpYWJsZVtdO1xyXG4gIC8qKlxyXG4gICAqIEEgc2VyaWVzIG9mIHJlcXVpcmVkIHNldHVwIG9wZXJhdGlvbnMgYmVmb3JlIHRlc3RzIGFyZSBleGVjdXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc2V0dXA/OiBmaGlyLlRlc3RTY3JpcHRTZXR1cHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB0ZXN0IGluIHRoaXMgc2NyaXB0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZXN0PzogZmhpci5UZXN0U2NyaXB0VGVzdFtdO1xyXG4gIC8qKlxyXG4gICAqIEEgc2VyaWVzIG9mIG9wZXJhdGlvbnMgcmVxdWlyZWQgdG8gY2xlYW4gdXAgYWZ0ZXIgYWxsIHRoZSB0ZXN0cyBhcmUgZXhlY3V0ZWQgKHN1Y2Nlc3NmdWxseSBvciBvdGhlcndpc2UpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZWFyZG93bj86IGZoaXIuVGVzdFNjcmlwdFRlYXJkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBUZXN0U2NyaXB0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VGVzdFNjcmlwdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdUZXN0U2NyaXB0JztcclxuICAgIGlmIChzb3VyY2VbJ3VybCddKSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS51cmx9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudXJsID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmlkZW50aWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJzaW9uJ10pIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52ZXJzaW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubmFtZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RpdGxlJ10pIHsgdGhpcy50aXRsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudGl0bGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBzb3VyY2Uuc3RhdHVzOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydleHBlcmltZW50YWwnXSkgeyB0aGlzLmV4cGVyaW1lbnRhbCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmV4cGVyaW1lbnRhbH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlJ10pIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVibGlzaGVyJ10pIHsgdGhpcy5wdWJsaXNoZXIgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnB1Ymxpc2hlcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWN0J10pIHsgdGhpcy5jb250YWN0ID0gc291cmNlLmNvbnRhY3QubWFwKCh4KSA9PiBuZXcgZmhpci5Db250YWN0RGV0YWlsKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29udGFjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndXNlQ29udGV4dCddKSB7IHRoaXMudXNlQ29udGV4dCA9IHNvdXJjZS51c2VDb250ZXh0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuVXNhZ2VDb250ZXh0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudXNlQ29udGV4dCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydqdXJpc2RpY3Rpb24nXSkgeyB0aGlzLmp1cmlzZGljdGlvbiA9IHNvdXJjZS5qdXJpc2RpY3Rpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5qdXJpc2RpY3Rpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVycG9zZSddKSB7IHRoaXMucHVycG9zZSA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5wdXJwb3NlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvcHlyaWdodCddKSB7IHRoaXMuY29weXJpZ2h0ID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmNvcHlyaWdodH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmlnaW4nXSkgeyB0aGlzLm9yaWdpbiA9IHNvdXJjZS5vcmlnaW4ubWFwKCh4KSA9PiBuZXcgZmhpci5UZXN0U2NyaXB0T3JpZ2luKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3JpZ2luID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc3RpbmF0aW9uJ10pIHsgdGhpcy5kZXN0aW5hdGlvbiA9IHNvdXJjZS5kZXN0aW5hdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlRlc3RTY3JpcHREZXN0aW5hdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRlc3RpbmF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21ldGFkYXRhJ10pIHsgdGhpcy5tZXRhZGF0YSA9IG5ldyBmaGlyLlRlc3RTY3JpcHRNZXRhZGF0YShzb3VyY2UubWV0YWRhdGEpOyB9XHJcbiAgICBpZiAoc291cmNlWydmaXh0dXJlJ10pIHsgdGhpcy5maXh0dXJlID0gc291cmNlLmZpeHR1cmUubWFwKCh4KSA9PiBuZXcgZmhpci5UZXN0U2NyaXB0Rml4dHVyZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZpeHR1cmUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZmlsZSddKSB7IHRoaXMucHJvZmlsZSA9IHNvdXJjZS5wcm9maWxlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvZmlsZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YXJpYWJsZSddKSB7IHRoaXMudmFyaWFibGUgPSBzb3VyY2UudmFyaWFibGUubWFwKCh4KSA9PiBuZXcgZmhpci5UZXN0U2NyaXB0VmFyaWFibGUoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YXJpYWJsZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXR1cCddKSB7IHRoaXMuc2V0dXAgPSBuZXcgZmhpci5UZXN0U2NyaXB0U2V0dXAoc291cmNlLnNldHVwKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGVzdCddKSB7IHRoaXMudGVzdCA9IHNvdXJjZS50ZXN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuVGVzdFNjcmlwdFRlc3QoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50ZXN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RlYXJkb3duJ10pIHsgdGhpcy50ZWFyZG93biA9IG5ldyBmaGlyLlRlc3RTY3JpcHRUZWFyZG93bihzb3VyY2UudGVhcmRvd24pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzIChUZXN0U2NyaXB0LnN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHN0YXR1c1JlcXVpcmVkQ29kaW5nKCk6UHVibGljYXRpb25TdGF0dXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBQdWJsaWNhdGlvblN0YXR1c0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3Jlc291cmNlVHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2VUeXBlOlwiVGVzdFNjcmlwdFwiIGZoaXI6IFRlc3RTY3JpcHQucmVzb3VyY2VUeXBlOlwiVGVzdFNjcmlwdFwiJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXNbJ3VybCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdXJsOmZoaXIuRmhpclVyaSBmaGlyOiBUZXN0U2NyaXB0LnVybDp1cmknLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widXJsXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudXJsLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pZGVudGlmaWVyLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInZlcnNpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52ZXJzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ25hbWUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG5hbWU6Zmhpci5GaGlyU3RyaW5nIGZoaXI6IFRlc3RTY3JpcHQubmFtZTpzdHJpbmcnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widGl0bGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50aXRsZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydzdGF0dXMnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHN0YXR1czpQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlIGZoaXI6IFRlc3RTY3JpcHQuc3RhdHVzOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZXhwZXJpbWVudGFsXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZXhwZXJpbWVudGFsLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kYXRlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInB1Ymxpc2hlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnB1Ymxpc2hlci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb250YWN0XCJdKSB7IHRoaXMuY29udGFjdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1c2VDb250ZXh0XCJdKSB7IHRoaXMudXNlQ29udGV4dC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wianVyaXNkaWN0aW9uXCJdKSB7IHRoaXMuanVyaXNkaWN0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwdXJwb3NlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHVycG9zZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb3B5cmlnaHRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb3B5cmlnaHQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wib3JpZ2luXCJdKSB7IHRoaXMub3JpZ2luLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXN0aW5hdGlvblwiXSkgeyB0aGlzLmRlc3RpbmF0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJtZXRhZGF0YVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1ldGFkYXRhLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImZpeHR1cmVcIl0pIHsgdGhpcy5maXh0dXJlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm9maWxlXCJdKSB7IHRoaXMucHJvZmlsZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widmFyaWFibGVcIl0pIHsgdGhpcy52YXJpYWJsZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wic2V0dXBcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zZXR1cC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ0ZXN0XCJdKSB7IHRoaXMudGVzdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widGVhcmRvd25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50ZWFyZG93bi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19