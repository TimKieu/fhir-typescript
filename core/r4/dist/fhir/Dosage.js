// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR ComplexType: Dosage
import * as fhir from '../fhir.js';
/**
 * The amount of medication administered.
 */
export class DosageDoseAndRate extends fhir.FhirElement {
    /**
     * Default constructor for DosageDoseAndRate - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['dose']) {
            this.dose = source.dose;
        }
        else if (source['doseRange']) {
            this.dose = new fhir.Range(source.doseRange, options);
        }
        else if (source['doseQuantity']) {
            this.dose = new fhir.Quantity(source.doseQuantity, options);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio, options);
        }
        else if (source['rateRange']) {
            this.rate = new fhir.Range(source.rateRange, options);
        }
        else if (source['rateQuantity']) {
            this.rate = new fhir.Quantity(source.rateQuantity, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Dosage.doseAndRate';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('dose', exp));
        iss.push(...this.vOS('rate', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DosageDoseAndRate._fts_dataType = 'DosageDoseAndRate';
/**
 * Internal flag to properly serialize choice-type element Dosage.doseAndRate.dose[x]
 */
DosageDoseAndRate._fts_doseIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Dosage.doseAndRate.rate[x]
 */
DosageDoseAndRate._fts_rateIsChoice = true;
/**
 * Indicates how the medication is/was taken or should be taken by the patient.
 */
export class Dosage extends fhir.BackboneElement {
    /**
     * Default constructor for Dosage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirInteger({ value: source.sequence }, options);
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirInteger(source._sequence, options);
            }
        }
        if (source['text'] !== undefined) {
            this.text = new fhir.FhirString({ value: source.text }, options);
        }
        if (source['_text']) {
            if (this.text) {
                this.text.addExtendedProperties(source._text);
            }
            else {
                this.text = new fhir.FhirString(source._text, options);
            }
        }
        if (source['additionalInstruction']) {
            this.additionalInstruction = source.additionalInstruction.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.additionalInstruction = [];
        }
        if (source['patientInstruction'] !== undefined) {
            this.patientInstruction = new fhir.FhirString({ value: source.patientInstruction }, options);
        }
        if (source['_patientInstruction']) {
            if (this.patientInstruction) {
                this.patientInstruction.addExtendedProperties(source._patientInstruction);
            }
            else {
                this.patientInstruction = new fhir.FhirString(source._patientInstruction, options);
            }
        }
        if (source['timing']) {
            this.timing = new fhir.Timing(source.timing, options);
        }
        if (source['asNeeded']) {
            this.asNeeded = source.asNeeded;
        }
        else if (source['asNeededBoolean'] !== undefined) {
            this.asNeeded = new fhir.FhirBoolean({ value: source.asNeededBoolean }, options);
        }
        else if (source['asNeededCodeableConcept']) {
            this.asNeeded = new fhir.CodeableConcept(source.asNeededCodeableConcept, options);
        }
        if (source['site']) {
            this.site = new fhir.CodeableConcept(source.site, options);
        }
        if (source['route']) {
            this.route = new fhir.CodeableConcept(source.route, options);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method, options);
        }
        if (source['doseAndRate']) {
            this.doseAndRate = source.doseAndRate.map((x) => new fhir.DosageDoseAndRate(x, options));
        }
        else {
            this.doseAndRate = [];
        }
        if (source['maxDosePerPeriod']) {
            this.maxDosePerPeriod = new fhir.Ratio(source.maxDosePerPeriod, options);
        }
        if (source['maxDosePerAdministration']) {
            this.maxDosePerAdministration = new fhir.Quantity(source.maxDosePerAdministration, options);
        }
        if (source['maxDosePerLifetime']) {
            this.maxDosePerLifetime = new fhir.Quantity(source.maxDosePerLifetime, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Dosage';
        }
        iss.push(...this.vOS('sequence', exp));
        iss.push(...this.vOS('text', exp));
        iss.push(...this.vOA('additionalInstruction', exp));
        iss.push(...this.vOS('patientInstruction', exp));
        iss.push(...this.vOS('timing', exp));
        iss.push(...this.vOS('asNeeded', exp));
        iss.push(...this.vOS('site', exp));
        iss.push(...this.vOS('route', exp));
        iss.push(...this.vOS('method', exp));
        iss.push(...this.vOA('doseAndRate', exp));
        iss.push(...this.vOS('maxDosePerPeriod', exp));
        iss.push(...this.vOS('maxDosePerAdministration', exp));
        iss.push(...this.vOS('maxDosePerLifetime', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Dosage._fts_dataType = 'Dosage';
/**
 * Internal flag to properly serialize choice-type element Dosage.asNeeded[x]
 */
Dosage._fts_asNeededIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9zYWdlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9Eb3NhZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsMkJBQTJCO0FBRTNCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBNERuQzs7R0FFRztBQUNILE1BQU0sT0FBTyxpQkFBa0IsU0FBUSxJQUFJLENBQUMsV0FBVztJQTBCckQ7O09BRUc7SUFDSCxZQUFZLFNBQXdDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzlGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDbkYsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7U0FBRTthQUMzQyxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUNuRixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUNqRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFFO2FBQzNDLElBQUks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b250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgQ29tcGxleFR5cGU6IERvc2FnZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRG9zZVJhdGVUeXBlQ29kZXMsICBEb3NlUmF0ZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9zZVJhdGVUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERvc2VSYXRlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9zZVJhdGVUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBcHByb2FjaFNpdGVDb2RlcywgIEFwcHJvYWNoU2l0ZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BcHByb2FjaFNpdGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXBwcm9hY2hTaXRlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BcHByb2FjaFNpdGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJvdXRlQ29kZXMsICBSb3V0ZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Sb3V0ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSb3V0ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkbWluaXN0cmF0aW9uTWV0aG9kQ29kZXMsICBBZG1pbmlzdHJhdGlvbk1ldGhvZENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZG1pbmlzdHJhdGlvbk1ldGhvZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZG1pbmlzdHJhdGlvbk1ldGhvZFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYXRpb25NZXRob2RWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRG9zYWdlRG9zZUFuZFJhdGUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG9zYWdlRG9zZUFuZFJhdGVBcmdzIGV4dGVuZHMgZmhpci5GaGlyRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIGRvc2Ugb3IgcmF0ZSBzcGVjaWZpZWQsIGZvciBleGFtcGxlLCBvcmRlcmVkIG9yIGNhbGN1bGF0ZWQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgc3BlY2lmaWVzIHRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG1lZGljYXRpb24sIG5vdCB0aGUgcXVhbnRpdHkgZm9yIGVhY2ggYWN0aXZlIGluZ3JlZGllbnQocykuIEVhY2ggaW5ncmVkaWVudCBhbW91bnQgY2FuIGJlIGNvbW11bmljYXRlZCBpbiB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS4gRm9yIGV4YW1wbGUsIGlmIG9uZSB3YW50cyB0byBjb21tdW5pY2F0ZSB0aGF0IGEgdGFibGV0IHdhcyAzNzUgbWcsIHdoZXJlIHRoZSBkb3NlIHdhcyBvbmUgdGFibGV0LCB5b3UgY2FuIHVzZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZSB0byBkb2N1bWVudCB0aGF0IHRoZSB0YWJsZXQgd2FzIGNvbXByaXNlZCBvZiAzNzUgbWcgb2YgZHJ1ZyBYWVouIEFsdGVybmF0aXZlbHkgaWYgdGhlIGRvc2Ugd2FzIDM3NSBtZywgdGhlbiB5b3UgbWF5IG9ubHkgbmVlZCB0byB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gaW5kaWNhdGUgdGhpcyB3YXMgYSB0YWJsZXQuIElmIHRoZSBleGFtcGxlIHdlcmUgYW4gSVYgc3VjaCBhcyBkb3BhbWluZSBhbmQgeW91IHdhbnRlZCB0byBjb21tdW5pY2F0ZSB0aGF0IDQwMG1nIG9mIGRvcGFtaW5lIHdhcyBtaXhlZCBpbiA1MDAgbWwgb2Ygc29tZSBJViBzb2x1dGlvbiwgdGhlbiB0aGlzIHdvdWxkIGFsbCBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIElmIHRoZSBhZG1pbmlzdHJhdGlvbiBpcyBub3QgaW50ZW5kZWQgdG8gYmUgaW5zdGFudGFuZW91cyAocmF0ZSBpcyBwcmVzZW50IG9yIHRpbWluZyBoYXMgYSBkdXJhdGlvbiksIHRoaXMgY2FuIGJlIHNwZWNpZmllZCB0byBjb252ZXkgdGhlIHRvdGFsIGFtb3VudCB0byBiZSBhZG1pbmlzdGVyZWQgb3ZlciB0aGUgcGVyaW9kIG9mIHRpbWUgYXMgaW5kaWNhdGVkIGJ5IHRoZSBzY2hlZHVsZSBlLmcuIDUwMCBtbCBpbiBkb3NlLCB3aXRoIHRpbWluZyB1c2VkIHRvIGNvbnZleSB0aGF0IHRoaXMgc2hvdWxkIGJlIGRvbmUgb3ZlciA0IGhvdXJzLlxyXG4gICAqL1xyXG4gIGRvc2U/OiBmaGlyLlJhbmdlfGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIHNwZWNpZmllcyB0aGUgcXVhbnRpdHkgb2YgdGhlIHNwZWNpZmllZCBtZWRpY2F0aW9uLCBub3QgdGhlIHF1YW50aXR5IGZvciBlYWNoIGFjdGl2ZSBpbmdyZWRpZW50KHMpLiBFYWNoIGluZ3JlZGllbnQgYW1vdW50IGNhbiBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIEZvciBleGFtcGxlLCBpZiBvbmUgd2FudHMgdG8gY29tbXVuaWNhdGUgdGhhdCBhIHRhYmxldCB3YXMgMzc1IG1nLCB3aGVyZSB0aGUgZG9zZSB3YXMgb25lIHRhYmxldCwgeW91IGNhbiB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gZG9jdW1lbnQgdGhhdCB0aGUgdGFibGV0IHdhcyBjb21wcmlzZWQgb2YgMzc1IG1nIG9mIGRydWcgWFlaLiBBbHRlcm5hdGl2ZWx5IGlmIHRoZSBkb3NlIHdhcyAzNzUgbWcsIHRoZW4geW91IG1heSBvbmx5IG5lZWQgdG8gdXNlIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlIHRvIGluZGljYXRlIHRoaXMgd2FzIGEgdGFibGV0LiBJZiB0aGUgZXhhbXBsZSB3ZXJlIGFuIElWIHN1Y2ggYXMgZG9wYW1pbmUgYW5kIHlvdSB3YW50ZWQgdG8gY29tbXVuaWNhdGUgdGhhdCA0MDBtZyBvZiBkb3BhbWluZSB3YXMgbWl4ZWQgaW4gNTAwIG1sIG9mIHNvbWUgSVYgc29sdXRpb24sIHRoZW4gdGhpcyB3b3VsZCBhbGwgYmUgY29tbXVuaWNhdGVkIGluIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlLiBJZiB0aGUgYWRtaW5pc3RyYXRpb24gaXMgbm90IGludGVuZGVkIHRvIGJlIGluc3RhbnRhbmVvdXMgKHJhdGUgaXMgcHJlc2VudCBvciB0aW1pbmcgaGFzIGEgZHVyYXRpb24pLCB0aGlzIGNhbiBiZSBzcGVjaWZpZWQgdG8gY29udmV5IHRoZSB0b3RhbCBhbW91bnQgdG8gYmUgYWRtaW5pc3RlcmVkIG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lIGFzIGluZGljYXRlZCBieSB0aGUgc2NoZWR1bGUgZS5nLiA1MDAgbWwgaW4gZG9zZSwgd2l0aCB0aW1pbmcgdXNlZCB0byBjb252ZXkgdGhhdCB0aGlzIHNob3VsZCBiZSBkb25lIG92ZXIgNCBob3Vycy5cclxuICAgKi9cclxuICBkb3NlUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgc3BlY2lmaWVzIHRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG1lZGljYXRpb24sIG5vdCB0aGUgcXVhbnRpdHkgZm9yIGVhY2ggYWN0aXZlIGluZ3JlZGllbnQocykuIEVhY2ggaW5ncmVkaWVudCBhbW91bnQgY2FuIGJlIGNvbW11bmljYXRlZCBpbiB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS4gRm9yIGV4YW1wbGUsIGlmIG9uZSB3YW50cyB0byBjb21tdW5pY2F0ZSB0aGF0IGEgdGFibGV0IHdhcyAzNzUgbWcsIHdoZXJlIHRoZSBkb3NlIHdhcyBvbmUgdGFibGV0LCB5b3UgY2FuIHVzZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZSB0byBkb2N1bWVudCB0aGF0IHRoZSB0YWJsZXQgd2FzIGNvbXByaXNlZCBvZiAzNzUgbWcgb2YgZHJ1ZyBYWVouIEFsdGVybmF0aXZlbHkgaWYgdGhlIGRvc2Ugd2FzIDM3NSBtZywgdGhlbiB5b3UgbWF5IG9ubHkgbmVlZCB0byB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gaW5kaWNhdGUgdGhpcyB3YXMgYSB0YWJsZXQuIElmIHRoZSBleGFtcGxlIHdlcmUgYW4gSVYgc3VjaCBhcyBkb3BhbWluZSBhbmQgeW91IHdhbnRlZCB0byBjb21tdW5pY2F0ZSB0aGF0IDQwMG1nIG9mIGRvcGFtaW5lIHdhcyBtaXhlZCBpbiA1MDAgbWwgb2Ygc29tZSBJViBzb2x1dGlvbiwgdGhlbiB0aGlzIHdvdWxkIGFsbCBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIElmIHRoZSBhZG1pbmlzdHJhdGlvbiBpcyBub3QgaW50ZW5kZWQgdG8gYmUgaW5zdGFudGFuZW91cyAocmF0ZSBpcyBwcmVzZW50IG9yIHRpbWluZyBoYXMgYSBkdXJhdGlvbiksIHRoaXMgY2FuIGJlIHNwZWNpZmllZCB0byBjb252ZXkgdGhlIHRvdGFsIGFtb3VudCB0byBiZSBhZG1pbmlzdGVyZWQgb3ZlciB0aGUgcGVyaW9kIG9mIHRpbWUgYXMgaW5kaWNhdGVkIGJ5IHRoZSBzY2hlZHVsZSBlLmcuIDUwMCBtbCBpbiBkb3NlLCB3aXRoIHRpbWluZyB1c2VkIHRvIGNvbnZleSB0aGF0IHRoaXMgc2hvdWxkIGJlIGRvbmUgb3ZlciA0IGhvdXJzLlxyXG4gICAqL1xyXG4gIGRvc2VRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzdXBwbHkgYm90aCBhIHJhdGUgYW5kIGEgZG9zZVF1YW50aXR5IHRvIHByb3ZpZGUgZnVsbCBkZXRhaWxzIGFib3V0IGhvdyB0aGUgbWVkaWNhdGlvbiBpcyB0byBiZSBhZG1pbmlzdGVyZWQgYW5kIHN1cHBsaWVkLiBJZiB0aGUgcmF0ZSBpcyBpbnRlbmRlZCB0byBjaGFuZ2Ugb3ZlciB0aW1lLCBkZXBlbmRpbmcgb24gbG9jYWwgcnVsZXMvcmVndWxhdGlvbnMsIGVhY2ggY2hhbmdlIHNob3VsZCBiZSBjYXB0dXJlZCBhcyBhIG5ldyB2ZXJzaW9uIG9mIHRoZSBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIGFuIHVwZGF0ZWQgcmF0ZSwgb3IgY2FwdHVyZWQgd2l0aCBhIG5ldyBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIHRoZSBuZXcgcmF0ZS5cclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzcGVjaWZ5IGEgcmF0ZSBvdmVyIHRpbWUgKGZvciBleGFtcGxlLCAxMDAgbWwvaG91cikgdXNpbmcgZWl0aGVyIHRoZSByYXRlUmF0aW8gYW5kIHJhdGVRdWFudGl0eS4gIFRoZSByYXRlUXVhbnRpdHkgYXBwcm9hY2ggcmVxdWlyZXMgc3lzdGVtcyB0byBoYXZlIHRoZSBjYXBhYmlsaXR5IHRvIHBhcnNlIFVDVU0gZ3JhbW1lciB3aGVyZSBtbC9ob3VyIGlzIGluY2x1ZGVkIHJhdGhlciB0aGFuIGEgc3BlY2lmaWMgcmF0aW8gd2hlcmUgdGhlIHRpbWUgaXMgc3BlY2lmaWVkIGFzIHRoZSBkZW5vbWluYXRvci4gIFdoZXJlIGEgcmF0ZSBzdWNoIGFzIDUwMG1sIG92ZXIgMiBob3VycyBpcyBzcGVjaWZpZWQsIHRoZSB1c2Ugb2YgcmF0ZVJhdGlvIG1heSBiZSBtb3JlIHNlbWFudGljYWxseSBjb3JyZWN0IHRoYW4gc3BlY2lmeWluZyB1c2luZyBhIHJhdGVRdWFudGl0eSBvZiAyNTAgbWcvaG91ci5cclxuICAgKi9cclxuICByYXRlPzogZmhpci5SYXRpb3xmaGlyLlJhbmdlfGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHN1cHBseSBib3RoIGEgcmF0ZSBhbmQgYSBkb3NlUXVhbnRpdHkgdG8gcHJvdmlkZSBmdWxsIGRldGFpbHMgYWJvdXQgaG93IHRoZSBtZWRpY2F0aW9uIGlzIHRvIGJlIGFkbWluaXN0ZXJlZCBhbmQgc3VwcGxpZWQuIElmIHRoZSByYXRlIGlzIGludGVuZGVkIHRvIGNoYW5nZSBvdmVyIHRpbWUsIGRlcGVuZGluZyBvbiBsb2NhbCBydWxlcy9yZWd1bGF0aW9ucywgZWFjaCBjaGFuZ2Ugc2hvdWxkIGJlIGNhcHR1cmVkIGFzIGEgbmV3IHZlcnNpb24gb2YgdGhlIE1lZGljYXRpb25SZXF1ZXN0IHdpdGggYW4gdXBkYXRlZCByYXRlLCBvciBjYXB0dXJlZCB3aXRoIGEgbmV3IE1lZGljYXRpb25SZXF1ZXN0IHdpdGggdGhlIG5ldyByYXRlLlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHNwZWNpZnkgYSByYXRlIG92ZXIgdGltZSAoZm9yIGV4YW1wbGUsIDEwMCBtbC9ob3VyKSB1c2luZyBlaXRoZXIgdGhlIHJhdGVSYXRpbyBhbmQgcmF0ZVF1YW50aXR5LiAgVGhlIHJhdGVRdWFudGl0eSBhcHByb2FjaCByZXF1aXJlcyBzeXN0ZW1zIHRvIGhhdmUgdGhlIGNhcGFiaWxpdHkgdG8gcGFyc2UgVUNVTSBncmFtbWVyIHdoZXJlIG1sL2hvdXIgaXMgaW5jbHVkZWQgcmF0aGVyIHRoYW4gYSBzcGVjaWZpYyByYXRpbyB3aGVyZSB0aGUgdGltZSBpcyBzcGVjaWZpZWQgYXMgdGhlIGRlbm9taW5hdG9yLiAgV2hlcmUgYSByYXRlIHN1Y2ggYXMgNTAwbWwgb3ZlciAyIGhvdXJzIGlzIHNwZWNpZmllZCwgdGhlIHVzZSBvZiByYXRlUmF0aW8gbWF5IGJlIG1vcmUgc2VtYW50aWNhbGx5IGNvcnJlY3QgdGhhbiBzcGVjaWZ5aW5nIHVzaW5nIGEgcmF0ZVF1YW50aXR5IG9mIDI1MCBtZy9ob3VyLlxyXG4gICAqL1xyXG4gIHJhdGVSYXRpbz86IGZoaXIuUmF0aW9BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzdXBwbHkgYm90aCBhIHJhdGUgYW5kIGEgZG9zZVF1YW50aXR5IHRvIHByb3ZpZGUgZnVsbCBkZXRhaWxzIGFib3V0IGhvdyB0aGUgbWVkaWNhdGlvbiBpcyB0byBiZSBhZG1pbmlzdGVyZWQgYW5kIHN1cHBsaWVkLiBJZiB0aGUgcmF0ZSBpcyBpbnRlbmRlZCB0byBjaGFuZ2Ugb3ZlciB0aW1lLCBkZXBlbmRpbmcgb24gbG9jYWwgcnVsZXMvcmVndWxhdGlvbnMsIGVhY2ggY2hhbmdlIHNob3VsZCBiZSBjYXB0dXJlZCBhcyBhIG5ldyB2ZXJzaW9uIG9mIHRoZSBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIGFuIHVwZGF0ZWQgcmF0ZSwgb3IgY2FwdHVyZWQgd2l0aCBhIG5ldyBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIHRoZSBuZXcgcmF0ZS5cclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzcGVjaWZ5IGEgcmF0ZSBvdmVyIHRpbWUgKGZvciBleGFtcGxlLCAxMDAgbWwvaG91cikgdXNpbmcgZWl0aGVyIHRoZSByYXRlUmF0aW8gYW5kIHJhdGVRdWFudGl0eS4gIFRoZSByYXRlUXVhbnRpdHkgYXBwcm9hY2ggcmVxdWlyZXMgc3lzdGVtcyB0byBoYXZlIHRoZSBjYXBhYmlsaXR5IHRvIHBhcnNlIFVDVU0gZ3JhbW1lciB3aGVyZSBtbC9ob3VyIGlzIGluY2x1ZGVkIHJhdGhlciB0aGFuIGEgc3BlY2lmaWMgcmF0aW8gd2hlcmUgdGhlIHRpbWUgaXMgc3BlY2lmaWVkIGFzIHRoZSBkZW5vbWluYXRvci4gIFdoZXJlIGEgcmF0ZSBzdWNoIGFzIDUwMG1sIG92ZXIgMiBob3VycyBpcyBzcGVjaWZpZWQsIHRoZSB1c2Ugb2YgcmF0ZVJhdGlvIG1heSBiZSBtb3JlIHNlbWFudGljYWxseSBjb3JyZWN0IHRoYW4gc3BlY2lmeWluZyB1c2luZyBhIHJhdGVRdWFudGl0eSBvZiAyNTAgbWcvaG91ci5cclxuICAgKi9cclxuICByYXRlUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gc3VwcGx5IGJvdGggYSByYXRlIGFuZCBhIGRvc2VRdWFudGl0eSB0byBwcm92aWRlIGZ1bGwgZGV0YWlscyBhYm91dCBob3cgdGhlIG1lZGljYXRpb24gaXMgdG8gYmUgYWRtaW5pc3RlcmVkIGFuZCBzdXBwbGllZC4gSWYgdGhlIHJhdGUgaXMgaW50ZW5kZWQgdG8gY2hhbmdlIG92ZXIgdGltZSwgZGVwZW5kaW5nIG9uIGxvY2FsIHJ1bGVzL3JlZ3VsYXRpb25zLCBlYWNoIGNoYW5nZSBzaG91bGQgYmUgY2FwdHVyZWQgYXMgYSBuZXcgdmVyc2lvbiBvZiB0aGUgTWVkaWNhdGlvblJlcXVlc3Qgd2l0aCBhbiB1cGRhdGVkIHJhdGUsIG9yIGNhcHR1cmVkIHdpdGggYSBuZXcgTWVkaWNhdGlvblJlcXVlc3Qgd2l0aCB0aGUgbmV3IHJhdGUuXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gc3BlY2lmeSBhIHJhdGUgb3ZlciB0aW1lIChmb3IgZXhhbXBsZSwgMTAwIG1sL2hvdXIpIHVzaW5nIGVpdGhlciB0aGUgcmF0ZVJhdGlvIGFuZCByYXRlUXVhbnRpdHkuICBUaGUgcmF0ZVF1YW50aXR5IGFwcHJvYWNoIHJlcXVpcmVzIHN5c3RlbXMgdG8gaGF2ZSB0aGUgY2FwYWJpbGl0eSB0byBwYXJzZSBVQ1VNIGdyYW1tZXIgd2hlcmUgbWwvaG91ciBpcyBpbmNsdWRlZCByYXRoZXIgdGhhbiBhIHNwZWNpZmljIHJhdGlvIHdoZXJlIHRoZSB0aW1lIGlzIHNwZWNpZmllZCBhcyB0aGUgZGVub21pbmF0b3IuICBXaGVyZSBhIHJhdGUgc3VjaCBhcyA1MDBtbCBvdmVyIDIgaG91cnMgaXMgc3BlY2lmaWVkLCB0aGUgdXNlIG9mIHJhdGVSYXRpbyBtYXkgYmUgbW9yZSBzZW1hbnRpY2FsbHkgY29ycmVjdCB0aGFuIHNwZWNpZnlpbmcgdXNpbmcgYSByYXRlUXVhbnRpdHkgb2YgMjUwIG1nL2hvdXIuXHJcbiAgICovXHJcbiAgcmF0ZVF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGFtb3VudCBvZiBtZWRpY2F0aW9uIGFkbWluaXN0ZXJlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEb3NhZ2VEb3NlQW5kUmF0ZSBleHRlbmRzIGZoaXIuRmhpckVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRG9zYWdlRG9zZUFuZFJhdGUnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIGRvc2Ugb3IgcmF0ZSBzcGVjaWZpZWQsIGZvciBleGFtcGxlLCBvcmRlcmVkIG9yIGNhbGN1bGF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgc3BlY2lmaWVzIHRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG1lZGljYXRpb24sIG5vdCB0aGUgcXVhbnRpdHkgZm9yIGVhY2ggYWN0aXZlIGluZ3JlZGllbnQocykuIEVhY2ggaW5ncmVkaWVudCBhbW91bnQgY2FuIGJlIGNvbW11bmljYXRlZCBpbiB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS4gRm9yIGV4YW1wbGUsIGlmIG9uZSB3YW50cyB0byBjb21tdW5pY2F0ZSB0aGF0IGEgdGFibGV0IHdhcyAzNzUgbWcsIHdoZXJlIHRoZSBkb3NlIHdhcyBvbmUgdGFibGV0LCB5b3UgY2FuIHVzZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZSB0byBkb2N1bWVudCB0aGF0IHRoZSB0YWJsZXQgd2FzIGNvbXByaXNlZCBvZiAzNzUgbWcgb2YgZHJ1ZyBYWVouIEFsdGVybmF0aXZlbHkgaWYgdGhlIGRvc2Ugd2FzIDM3NSBtZywgdGhlbiB5b3UgbWF5IG9ubHkgbmVlZCB0byB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gaW5kaWNhdGUgdGhpcyB3YXMgYSB0YWJsZXQuIElmIHRoZSBleGFtcGxlIHdlcmUgYW4gSVYgc3VjaCBhcyBkb3BhbWluZSBhbmQgeW91IHdhbnRlZCB0byBjb21tdW5pY2F0ZSB0aGF0IDQwMG1nIG9mIGRvcGFtaW5lIHdhcyBtaXhlZCBpbiA1MDAgbWwgb2Ygc29tZSBJViBzb2x1dGlvbiwgdGhlbiB0aGlzIHdvdWxkIGFsbCBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIElmIHRoZSBhZG1pbmlzdHJhdGlvbiBpcyBub3QgaW50ZW5kZWQgdG8gYmUgaW5zdGFudGFuZW91cyAocmF0ZSBpcyBwcmVzZW50IG9yIHRpbWluZyBoYXMgYSBkdXJhdGlvbiksIHRoaXMgY2FuIGJlIHNwZWNpZmllZCB0byBjb252ZXkgdGhlIHRvdGFsIGFtb3VudCB0byBiZSBhZG1pbmlzdGVyZWQgb3ZlciB0aGUgcGVyaW9kIG9mIHRpbWUgYXMgaW5kaWNhdGVkIGJ5IHRoZSBzY2hlZHVsZSBlLmcuIDUwMCBtbCBpbiBkb3NlLCB3aXRoIHRpbWluZyB1c2VkIHRvIGNvbnZleSB0aGF0IHRoaXMgc2hvdWxkIGJlIGRvbmUgb3ZlciA0IGhvdXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb3NlPzogKGZoaXIuUmFuZ2V8Zmhpci5RdWFudGl0eSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgRG9zYWdlLmRvc2VBbmRSYXRlLmRvc2VbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfZG9zZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHN1cHBseSBib3RoIGEgcmF0ZSBhbmQgYSBkb3NlUXVhbnRpdHkgdG8gcHJvdmlkZSBmdWxsIGRldGFpbHMgYWJvdXQgaG93IHRoZSBtZWRpY2F0aW9uIGlzIHRvIGJlIGFkbWluaXN0ZXJlZCBhbmQgc3VwcGxpZWQuIElmIHRoZSByYXRlIGlzIGludGVuZGVkIHRvIGNoYW5nZSBvdmVyIHRpbWUsIGRlcGVuZGluZyBvbiBsb2NhbCBydWxlcy9yZWd1bGF0aW9ucywgZWFjaCBjaGFuZ2Ugc2hvdWxkIGJlIGNhcHR1cmVkIGFzIGEgbmV3IHZlcnNpb24gb2YgdGhlIE1lZGljYXRpb25SZXF1ZXN0IHdpdGggYW4gdXBkYXRlZCByYXRlLCBvciBjYXB0dXJlZCB3aXRoIGEgbmV3IE1lZGljYXRpb25SZXF1ZXN0IHdpdGggdGhlIG5ldyByYXRlLlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHNwZWNpZnkgYSByYXRlIG92ZXIgdGltZSAoZm9yIGV4YW1wbGUsIDEwMCBtbC9ob3VyKSB1c2luZyBlaXRoZXIgdGhlIHJhdGVSYXRpbyBhbmQgcmF0ZVF1YW50aXR5LiAgVGhlIHJhdGVRdWFudGl0eSBhcHByb2FjaCByZXF1aXJlcyBzeXN0ZW1zIHRvIGhhdmUgdGhlIGNhcGFiaWxpdHkgdG8gcGFyc2UgVUNVTSBncmFtbWVyIHdoZXJlIG1sL2hvdXIgaXMgaW5jbHVkZWQgcmF0aGVyIHRoYW4gYSBzcGVjaWZpYyByYXRpbyB3aGVyZSB0aGUgdGltZSBpcyBzcGVjaWZpZWQgYXMgdGhlIGRlbm9taW5hdG9yLiAgV2hlcmUgYSByYXRlIHN1Y2ggYXMgNTAwbWwgb3ZlciAyIGhvdXJzIGlzIHNwZWNpZmllZCwgdGhlIHVzZSBvZiByYXRlUmF0aW8gbWF5IGJlIG1vcmUgc2VtYW50aWNhbGx5IGNvcnJlY3QgdGhhbiBzcGVjaWZ5aW5nIHVzaW5nIGEgcmF0ZVF1YW50aXR5IG9mIDI1MCBtZy9ob3VyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByYXRlPzogKGZoaXIuUmF0aW98Zmhpci5SYW5nZXxmaGlyLlF1YW50aXR5KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBEb3NhZ2UuZG9zZUFuZFJhdGUucmF0ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19yYXRlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRG9zYWdlRG9zZUFuZFJhdGUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxEb3NhZ2VEb3NlQW5kUmF0ZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9zZSddKSB7IHRoaXMuZG9zZSA9IHNvdXJjZS5kb3NlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Rvc2VSYW5nZSddKSB7IHRoaXMuZG9zZSA9IG5ldyBmaGlyLlJhbmdlKHNvdXJjZS5kb3NlUmFuZ2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Rvc2VRdWFudGl0eSddKSB7IHRoaXMuZG9zZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5kb3NlUXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyYXRlJ10pIHsgdGhpcy5yYXRlID0gc291cmNlLnJhdGU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVJhdGlvJ10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUmF0aW8oc291cmNlLnJhdGVSYXRpbywgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVJhbmdlJ10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUmFuZ2Uoc291cmNlLnJhdGVSYW5nZSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVF1YW50aXR5J10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnJhdGVRdWFudGl0eSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdEb3NhZ2UuZG9zZUFuZFJhdGUnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkb3NlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyYXRlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBEb3NhZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG9zYWdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSBvcmRlciBpbiB3aGljaCB0aGUgZG9zYWdlIGluc3RydWN0aW9ucyBzaG91bGQgYmUgYXBwbGllZCBvciBpbnRlcnByZXRlZC5cclxuICAgKi9cclxuICBzZXF1ZW5jZT86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRG9zYWdlLnNlcXVlbmNlXHJcbiAgICovXHJcbiAgX3NlcXVlbmNlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBlLmcuIFNJRy5cclxuICAgKi9cclxuICB0ZXh0PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERvc2FnZS50ZXh0XHJcbiAgICovXHJcbiAgX3RleHQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IGFkbWluaXN0cmF0aW9uIG9yIHByZXBhcmF0aW9uIG9mIHRoZSBtZWRpY2F0aW9uIChlLmcuIFwiaW5mdXNlIGFzIHJhcGlkbHkgYXMgcG9zc2libHkgdmlhIGludHJhcGVyaXRvbmVhbCBwb3J0XCIgb3IgXCJpbW1lZGlhdGVseSBmb2xsb3dpbmcgZHJ1ZyB4XCIpIHNob3VsZCBiZSBwb3B1bGF0ZWQgaW4gZG9zYWdlLnRleHQuXHJcbiAgICovXHJcbiAgYWRkaXRpb25hbEluc3RydWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluc3RydWN0aW9ucyBpbiB0ZXJtcyB0aGF0IGFyZSB1bmRlcnN0b29kIGJ5IHRoZSBwYXRpZW50IG9yIGNvbnN1bWVyLlxyXG4gICAqL1xyXG4gIHBhdGllbnRJbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBEb3NhZ2UucGF0aWVudEluc3RydWN0aW9uXHJcbiAgICovXHJcbiAgX3BhdGllbnRJbnN0cnVjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBhdHRyaWJ1dGUgbWlnaHQgbm90IGFsd2F5cyBiZSBwb3B1bGF0ZWQgd2hpbGUgdGhlIERvc2FnZS50ZXh0IGlzIGV4cGVjdGVkIHRvIGJlIHBvcHVsYXRlZC4gIElmIGJvdGggYXJlIHBvcHVsYXRlZCwgdGhlbiB0aGUgRG9zYWdlLnRleHQgc2hvdWxkIHJlZmxlY3QgdGhlIGNvbnRlbnQgb2YgdGhlIERvc2FnZS50aW1pbmcuXHJcbiAgICovXHJcbiAgdGltaW5nPzogZmhpci5UaW1pbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGhvdXQgYSByZWFzb24gYnkgc2V0dGluZyB0aGUgQm9vbGVhbiA9IFRydWUuICBJbiB0aGlzIGNhc2UgdGhlIENvZGVhYmxlQ29uY2VwdCBpcyBub3QgcG9wdWxhdGVkLiAgT3IgeW91IGNhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aCBhIHJlYXNvbiBieSBpbmNsdWRpbmcgdGhlIENvZGVhYmxlQ29uY2VwdC4gIEluIHRoaXMgY2FzZSB0aGUgQm9vbGVhbiBpcyBhc3N1bWVkIHRvIGJlIFRydWUuICBJZiB5b3Ugc2V0IHRoZSBCb29sZWFuIHRvIEZhbHNlLCB0aGVuIHRoZSBkb3NlIGlzIGdpdmVuIGFjY29yZGluZyB0byB0aGUgc2NoZWR1bGUgYW5kIGlzIG5vdCBcInByblwiIG9yIFwiYXMgbmVlZGVkXCIuXHJcbiAgICovXHJcbiAgYXNOZWVkZWQ/OiBmaGlyLkZoaXJCb29sZWFufGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGhvdXQgYSByZWFzb24gYnkgc2V0dGluZyB0aGUgQm9vbGVhbiA9IFRydWUuICBJbiB0aGlzIGNhc2UgdGhlIENvZGVhYmxlQ29uY2VwdCBpcyBub3QgcG9wdWxhdGVkLiAgT3IgeW91IGNhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aCBhIHJlYXNvbiBieSBpbmNsdWRpbmcgdGhlIENvZGVhYmxlQ29uY2VwdC4gIEluIHRoaXMgY2FzZSB0aGUgQm9vbGVhbiBpcyBhc3N1bWVkIHRvIGJlIFRydWUuICBJZiB5b3Ugc2V0IHRoZSBCb29sZWFuIHRvIEZhbHNlLCB0aGVuIHRoZSBkb3NlIGlzIGdpdmVuIGFjY29yZGluZyB0byB0aGUgc2NoZWR1bGUgYW5kIGlzIG5vdCBcInByblwiIG9yIFwiYXMgbmVlZGVkXCIuXHJcbiAgICovXHJcbiAgYXNOZWVkZWRCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGhvdXQgYSByZWFzb24gYnkgc2V0dGluZyB0aGUgQm9vbGVhbiA9IFRydWUuICBJbiB0aGlzIGNhc2UgdGhlIENvZGVhYmxlQ29uY2VwdCBpcyBub3QgcG9wdWxhdGVkLiAgT3IgeW91IGNhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aCBhIHJlYXNvbiBieSBpbmNsdWRpbmcgdGhlIENvZGVhYmxlQ29uY2VwdC4gIEluIHRoaXMgY2FzZSB0aGUgQm9vbGVhbiBpcyBhc3N1bWVkIHRvIGJlIFRydWUuICBJZiB5b3Ugc2V0IHRoZSBCb29sZWFuIHRvIEZhbHNlLCB0aGVuIHRoZSBkb3NlIGlzIGdpdmVuIGFjY29yZGluZyB0byB0aGUgc2NoZWR1bGUgYW5kIGlzIG5vdCBcInByblwiIG9yIFwiYXMgbmVlZGVkXCIuXHJcbiAgICovXHJcbiAgYXNOZWVkZWRDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSB1c2UgY2FzZSByZXF1aXJlcyBhdHRyaWJ1dGVzIGZyb20gdGhlIEJvZHlTaXRlIHJlc291cmNlIChlLmcuIHRvIGlkZW50aWZ5IGFuZCB0cmFjayBzZXBhcmF0ZWx5KSB0aGVuIHVzZSB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uIFtib2R5U2l0ZV0oZXh0ZW5zaW9uLWJvZHlzaXRlLmh0bWwpLiAgTWF5IGJlIGEgc3VtbWFyeSBjb2RlLCBvciBhIHJlZmVyZW5jZSB0byBhIHZlcnkgcHJlY2lzZSBkZWZpbml0aW9uIG9mIHRoZSBsb2NhdGlvbiwgb3IgYm90aC5cclxuICAgKi9cclxuICBzaXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIb3cgZHJ1ZyBzaG91bGQgZW50ZXIgYm9keS5cclxuICAgKi9cclxuICByb3V0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGVybWlub2xvZ2llcyB1c2VkIG9mdGVuIHByZS1jb29yZGluYXRlIHRoaXMgdGVybSB3aXRoIHRoZSByb3V0ZSBhbmQgb3IgZm9ybSBvZiBhZG1pbmlzdHJhdGlvbi5cclxuICAgKi9cclxuICBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgbWVkaWNhdGlvbiBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgZG9zZUFuZFJhdGU/OiBmaGlyLkRvc2FnZURvc2VBbmRSYXRlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGludGVuZGVkIGZvciB1c2UgYXMgYW4gYWRqdW5jdCB0byB0aGUgZG9zYWdlIHdoZW4gdGhlcmUgaXMgYW4gdXBwZXIgY2FwLiAgRm9yIGV4YW1wbGUgXCIyIHRhYmxldHMgZXZlcnkgNCBob3VycyB0byBhIG1heGltdW0gb2YgOC9kYXlcIi5cclxuICAgKi9cclxuICBtYXhEb3NlUGVyUGVyaW9kPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgaW50ZW5kZWQgZm9yIHVzZSBhcyBhbiBhZGp1bmN0IHRvIHRoZSBkb3NhZ2Ugd2hlbiB0aGVyZSBpcyBhbiB1cHBlciBjYXAuICBGb3IgZXhhbXBsZSwgYSBib2R5IHN1cmZhY2UgYXJlYSByZWxhdGVkIGRvc2Ugd2l0aCBhIG1heGltdW0gYW1vdW50LCBzdWNoIGFzIDEuNSBtZy9tMiAobWF4aW11bSAyIG1nKSBJViBvdmVyIDUg4oCTIDEwIG1pbnV0ZXMgd291bGQgaGF2ZSBkb3NlUXVhbnRpdHkgb2YgMS41IG1nL20yIGFuZCBtYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24gb2YgMiBtZy5cclxuICAgKi9cclxuICBtYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXBwZXIgbGltaXQgb24gbWVkaWNhdGlvbiBwZXIgbGlmZXRpbWUgb2YgdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgbWF4RG9zZVBlckxpZmV0aW1lPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5kaWNhdGVzIGhvdyB0aGUgbWVkaWNhdGlvbiBpcy93YXMgdGFrZW4gb3Igc2hvdWxkIGJlIHRha2VuIGJ5IHRoZSBwYXRpZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERvc2FnZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0Rvc2FnZSc7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSBvcmRlciBpbiB3aGljaCB0aGUgZG9zYWdlIGluc3RydWN0aW9ucyBzaG91bGQgYmUgYXBwbGllZCBvciBpbnRlcnByZXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc2VxdWVuY2U/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBlLmcuIFNJRy5cclxuICAgKi9cclxuICBwdWJsaWMgdGV4dD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgYWRtaW5pc3RyYXRpb24gb3IgcHJlcGFyYXRpb24gb2YgdGhlIG1lZGljYXRpb24gKGUuZy4gXCJpbmZ1c2UgYXMgcmFwaWRseSBhcyBwb3NzaWJseSB2aWEgaW50cmFwZXJpdG9uZWFsIHBvcnRcIiBvciBcImltbWVkaWF0ZWx5IGZvbGxvd2luZyBkcnVnIHhcIikgc2hvdWxkIGJlIHBvcHVsYXRlZCBpbiBkb3NhZ2UudGV4dC5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkaXRpb25hbEluc3RydWN0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluc3RydWN0aW9ucyBpbiB0ZXJtcyB0aGF0IGFyZSB1bmRlcnN0b29kIGJ5IHRoZSBwYXRpZW50IG9yIGNvbnN1bWVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50SW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYXR0cmlidXRlIG1pZ2h0IG5vdCBhbHdheXMgYmUgcG9wdWxhdGVkIHdoaWxlIHRoZSBEb3NhZ2UudGV4dCBpcyBleHBlY3RlZCB0byBiZSBwb3B1bGF0ZWQuICBJZiBib3RoIGFyZSBwb3B1bGF0ZWQsIHRoZW4gdGhlIERvc2FnZS50ZXh0IHNob3VsZCByZWZsZWN0IHRoZSBjb250ZW50IG9mIHRoZSBEb3NhZ2UudGltaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aW1pbmc/OiBmaGlyLlRpbWluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FuIGV4cHJlc3MgXCJhcyBuZWVkZWRcIiB3aXRob3V0IGEgcmVhc29uIGJ5IHNldHRpbmcgdGhlIEJvb2xlYW4gPSBUcnVlLiAgSW4gdGhpcyBjYXNlIHRoZSBDb2RlYWJsZUNvbmNlcHQgaXMgbm90IHBvcHVsYXRlZC4gIE9yIHlvdSBjYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGggYSByZWFzb24gYnkgaW5jbHVkaW5nIHRoZSBDb2RlYWJsZUNvbmNlcHQuICBJbiB0aGlzIGNhc2UgdGhlIEJvb2xlYW4gaXMgYXNzdW1lZCB0byBiZSBUcnVlLiAgSWYgeW91IHNldCB0aGUgQm9vbGVhbiB0byBGYWxzZSwgdGhlbiB0aGUgZG9zZSBpcyBnaXZlbiBhY2NvcmRpbmcgdG8gdGhlIHNjaGVkdWxlIGFuZCBpcyBub3QgXCJwcm5cIiBvciBcImFzIG5lZWRlZFwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhc05lZWRlZD86IChmaGlyLkZoaXJCb29sZWFufGZoaXIuQ29kZWFibGVDb25jZXB0KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBEb3NhZ2UuYXNOZWVkZWRbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfYXNOZWVkZWRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBJZiB0aGUgdXNlIGNhc2UgcmVxdWlyZXMgYXR0cmlidXRlcyBmcm9tIHRoZSBCb2R5U2l0ZSByZXNvdXJjZSAoZS5nLiB0byBpZGVudGlmeSBhbmQgdHJhY2sgc2VwYXJhdGVseSkgdGhlbiB1c2UgdGhlIHN0YW5kYXJkIGV4dGVuc2lvbiBbYm9keVNpdGVdKGV4dGVuc2lvbi1ib2R5c2l0ZS5odG1sKS4gIE1heSBiZSBhIHN1bW1hcnkgY29kZSwgb3IgYSByZWZlcmVuY2UgdG8gYSB2ZXJ5IHByZWNpc2UgZGVmaW5pdGlvbiBvZiB0aGUgbG9jYXRpb24sIG9yIGJvdGguXHJcbiAgICovXHJcbiAgcHVibGljIHNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSG93IGRydWcgc2hvdWxkIGVudGVyIGJvZHkuXHJcbiAgICovXHJcbiAgcHVibGljIHJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRlcm1pbm9sb2dpZXMgdXNlZCBvZnRlbiBwcmUtY29vcmRpbmF0ZSB0aGlzIHRlcm0gd2l0aCB0aGUgcm91dGUgYW5kIG9yIGZvcm0gb2YgYWRtaW5pc3RyYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYW1vdW50IG9mIG1lZGljYXRpb24gYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb3NlQW5kUmF0ZTogZmhpci5Eb3NhZ2VEb3NlQW5kUmF0ZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgaW50ZW5kZWQgZm9yIHVzZSBhcyBhbiBhZGp1bmN0IHRvIHRoZSBkb3NhZ2Ugd2hlbiB0aGVyZSBpcyBhbiB1cHBlciBjYXAuICBGb3IgZXhhbXBsZSBcIjIgdGFibGV0cyBldmVyeSA0IGhvdXJzIHRvIGEgbWF4aW11bSBvZiA4L2RheVwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhEb3NlUGVyUGVyaW9kPzogZmhpci5SYXRpb3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBpbnRlbmRlZCBmb3IgdXNlIGFzIGFuIGFkanVuY3QgdG8gdGhlIGRvc2FnZSB3aGVuIHRoZXJlIGlzIGFuIHVwcGVyIGNhcC4gIEZvciBleGFtcGxlLCBhIGJvZHkgc3VyZmFjZSBhcmVhIHJlbGF0ZWQgZG9zZSB3aXRoIGEgbWF4aW11bSBhbW91bnQsIHN1Y2ggYXMgMS41IG1nL20yIChtYXhpbXVtIDIgbWcpIElWIG92ZXIgNSDigJMgMTAgbWludXRlcyB3b3VsZCBoYXZlIGRvc2VRdWFudGl0eSBvZiAxLjUgbWcvbTIgYW5kIG1heERvc2VQZXJBZG1pbmlzdHJhdGlvbiBvZiAyIG1nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVcHBlciBsaW1pdCBvbiBtZWRpY2F0aW9uIHBlciBsaWZldGltZSBvZiB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4RG9zZVBlckxpZmV0aW1lPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRG9zYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RG9zYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NlcXVlbmNlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NlcXVlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2VxdWVuY2UpIHsgdGhpcy5zZXF1ZW5jZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXF1ZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9zZXF1ZW5jZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3RleHQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudGV4dCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudGV4dH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGV4dCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRleHQpIHsgdGhpcy50ZXh0LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3RleHQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50ZXh0ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3RleHQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2FkZGl0aW9uYWxJbnN0cnVjdGlvbiddKSB7IHRoaXMuYWRkaXRpb25hbEluc3RydWN0aW9uID0gc291cmNlLmFkZGl0aW9uYWxJbnN0cnVjdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFkZGl0aW9uYWxJbnN0cnVjdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50SW5zdHJ1Y3Rpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucGF0aWVudEluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wYXRpZW50SW5zdHJ1Y3Rpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3BhdGllbnRJbnN0cnVjdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnBhdGllbnRJbnN0cnVjdGlvbikgeyB0aGlzLnBhdGllbnRJbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wYXRpZW50SW5zdHJ1Y3Rpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wYXRpZW50SW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcGF0aWVudEluc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0aW1pbmcnXSkgeyB0aGlzLnRpbWluZyA9IG5ldyBmaGlyLlRpbWluZyhzb3VyY2UudGltaW5nLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXNOZWVkZWQnXSkgeyB0aGlzLmFzTmVlZGVkID0gc291cmNlLmFzTmVlZGVkOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2FzTmVlZGVkQm9vbGVhbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5hc05lZWRlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmFzTmVlZGVkQm9vbGVhbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2FzTmVlZGVkQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5hc05lZWRlZCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYXNOZWVkZWRDb2RlYWJsZUNvbmNlcHQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzaXRlJ10pIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zaXRlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm91dGUnXSkgeyB0aGlzLnJvdXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yb3V0ZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21ldGhvZCddKSB7IHRoaXMubWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZXRob2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydkb3NlQW5kUmF0ZSddKSB7IHRoaXMuZG9zZUFuZFJhdGUgPSBzb3VyY2UuZG9zZUFuZFJhdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Eb3NhZ2VEb3NlQW5kUmF0ZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvc2VBbmRSYXRlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21heERvc2VQZXJQZXJpb2QnXSkgeyB0aGlzLm1heERvc2VQZXJQZXJpb2QgPSBuZXcgZmhpci5SYXRpbyhzb3VyY2UubWF4RG9zZVBlclBlcmlvZCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21heERvc2VQZXJBZG1pbmlzdHJhdGlvbiddKSB7IHRoaXMubWF4RG9zZVBlckFkbWluaXN0cmF0aW9uID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm1heERvc2VQZXJBZG1pbmlzdHJhdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21heERvc2VQZXJMaWZldGltZSddKSB7IHRoaXMubWF4RG9zZVBlckxpZmV0aW1lID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm1heERvc2VQZXJMaWZldGltZSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdEb3NhZ2UnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzZXF1ZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndGV4dCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYWRkaXRpb25hbEluc3RydWN0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwYXRpZW50SW5zdHJ1Y3Rpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3RpbWluZycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYXNOZWVkZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NpdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JvdXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtZXRob2QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2Rvc2VBbmRSYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtYXhEb3NlUGVyUGVyaW9kJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heERvc2VQZXJMaWZldGltZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=