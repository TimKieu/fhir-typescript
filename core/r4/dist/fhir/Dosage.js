// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR ComplexType: Dosage
import * as fhir from '../fhir.js';
/**
 * The amount of medication administered.
 */
export class DosageDoseAndRate extends fhir.FhirElement {
    /**
     * Default constructor for DosageDoseAndRate - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['dose']) {
            this.dose = source.dose;
        }
        else if (source['doseRange']) {
            this.dose = new fhir.Range(source.doseRange);
        }
        else if (source['doseQuantity']) {
            this.dose = new fhir.Quantity(source.doseQuantity);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio);
        }
        else if (source['rateRange']) {
            this.rate = new fhir.Range(source.rateRange);
        }
        else if (source['rateQuantity']) {
            this.rate = new fhir.Quantity(source.rateQuantity);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Dosage.doseAndRate';
        }
        this.vOptS('type', expression);
        this.vOptS('dose', expression);
        this.vOptS('rate', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DosageDoseAndRate._fts_dataType = 'DosageDoseAndRate';
/**
 * Internal flag to properly serialize choice-type element Dosage.doseAndRate.dose[x]
 */
DosageDoseAndRate._fts_doseIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Dosage.doseAndRate.rate[x]
 */
DosageDoseAndRate._fts_rateIsChoice = true;
/**
 * Indicates how the medication is/was taken or should be taken by the patient.
 */
export class Dosage extends fhir.BackboneElement {
    /**
     * Default constructor for Dosage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirInteger({ value: source.sequence });
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirInteger(source._sequence);
            }
        }
        if (source['text']) {
            this.text = new fhir.FhirString({ value: source.text });
        }
        if (source['_text']) {
            if (this.text) {
                this.text.addExtendedProperties(source._text);
            }
            else {
                this.text = new fhir.FhirString(source._text);
            }
        }
        if (source['additionalInstruction']) {
            this.additionalInstruction = source.additionalInstruction.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.additionalInstruction = [];
        }
        if (source['patientInstruction']) {
            this.patientInstruction = new fhir.FhirString({ value: source.patientInstruction });
        }
        if (source['_patientInstruction']) {
            if (this.patientInstruction) {
                this.patientInstruction.addExtendedProperties(source._patientInstruction);
            }
            else {
                this.patientInstruction = new fhir.FhirString(source._patientInstruction);
            }
        }
        if (source['timing']) {
            this.timing = new fhir.Timing(source.timing);
        }
        if (source['asNeeded']) {
            this.asNeeded = source.asNeeded;
        }
        else if (source['asNeededBoolean']) {
            this.asNeeded = new fhir.FhirBoolean({ value: source.asNeededBoolean });
        }
        else if (source['asNeededCodeableConcept']) {
            this.asNeeded = new fhir.CodeableConcept(source.asNeededCodeableConcept);
        }
        if (source['site']) {
            this.site = new fhir.CodeableConcept(source.site);
        }
        if (source['route']) {
            this.route = new fhir.CodeableConcept(source.route);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
        if (source['doseAndRate']) {
            this.doseAndRate = source.doseAndRate.map((x) => new fhir.DosageDoseAndRate(x));
        }
        else {
            this.doseAndRate = [];
        }
        if (source['maxDosePerPeriod']) {
            this.maxDosePerPeriod = new fhir.Ratio(source.maxDosePerPeriod);
        }
        if (source['maxDosePerAdministration']) {
            this.maxDosePerAdministration = new fhir.Quantity(source.maxDosePerAdministration);
        }
        if (source['maxDosePerLifetime']) {
            this.maxDosePerLifetime = new fhir.Quantity(source.maxDosePerLifetime);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Dosage';
        }
        this.vOptS('sequence', expression);
        this.vOptS('text', expression);
        this.vOptA('additionalInstruction', expression);
        this.vOptS('patientInstruction', expression);
        this.vOptS('timing', expression);
        this.vOptS('asNeeded', expression);
        this.vOptS('site', expression);
        this.vOptS('route', expression);
        this.vOptS('method', expression);
        this.vOptA('doseAndRate', expression);
        this.vOptS('maxDosePerPeriod', expression);
        this.vOptS('maxDosePerAdministration', expression);
        this.vOptS('maxDosePerLifetime', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Dosage._fts_dataType = 'Dosage';
/**
 * Internal flag to properly serialize choice-type element Dosage.asNeeded[x]
 */
Dosage._fts_asNeededIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9zYWdlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9Eb3NhZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsMkJBQTJCO0FBRTNCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBNERuQzs7R0FFRztBQUNILE1BQU0sT0FBTyxpQkFBa0IsU0FBUSxJQUFJLENBQUMsV0FBVztJQTBCckQ7O09BRUc7SUFDSCxZQUFZLFNBQXdDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzlGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFFO2FBQzNDLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7YUFDMUUsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7U0FBRTtRQUN4RixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFFO2FBQzNDLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUs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QUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQW5IRDs7R0FFRztBQUM2QixvQkFBYSxHQUFVLFFBQVEsQ0FBQztBQXlCaEU7O0dBRUc7QUFDdUIsNEJBQXFCLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIENvbXBsZXhUeXBlOiBEb3NhZ2VcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERvc2VSYXRlVHlwZUNvZGVzLCAgRG9zZVJhdGVUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Rvc2VSYXRlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEb3NlUmF0ZVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Rvc2VSYXRlVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXBwcm9hY2hTaXRlQ29kZXMsICBBcHByb2FjaFNpdGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXBwcm9hY2hTaXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFwcHJvYWNoU2l0ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXBwcm9hY2hTaXRlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSb3V0ZUNvZGVzLCAgUm91dGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUm91dGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JvdXRlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZG1pbmlzdHJhdGlvbk1ldGhvZENvZGVzLCAgQWRtaW5pc3RyYXRpb25NZXRob2RDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYXRpb25NZXRob2RDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWRtaW5pc3RyYXRpb25NZXRob2RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkbWluaXN0cmF0aW9uTWV0aG9kVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIERvc2FnZURvc2VBbmRSYXRlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIERvc2FnZURvc2VBbmRSYXRlQXJncyBleHRlbmRzIGZoaXIuRmhpckVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBkb3NlIG9yIHJhdGUgc3BlY2lmaWVkLCBmb3IgZXhhbXBsZSwgb3JkZXJlZCBvciBjYWxjdWxhdGVkLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIHNwZWNpZmllcyB0aGUgcXVhbnRpdHkgb2YgdGhlIHNwZWNpZmllZCBtZWRpY2F0aW9uLCBub3QgdGhlIHF1YW50aXR5IGZvciBlYWNoIGFjdGl2ZSBpbmdyZWRpZW50KHMpLiBFYWNoIGluZ3JlZGllbnQgYW1vdW50IGNhbiBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIEZvciBleGFtcGxlLCBpZiBvbmUgd2FudHMgdG8gY29tbXVuaWNhdGUgdGhhdCBhIHRhYmxldCB3YXMgMzc1IG1nLCB3aGVyZSB0aGUgZG9zZSB3YXMgb25lIHRhYmxldCwgeW91IGNhbiB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gZG9jdW1lbnQgdGhhdCB0aGUgdGFibGV0IHdhcyBjb21wcmlzZWQgb2YgMzc1IG1nIG9mIGRydWcgWFlaLiBBbHRlcm5hdGl2ZWx5IGlmIHRoZSBkb3NlIHdhcyAzNzUgbWcsIHRoZW4geW91IG1heSBvbmx5IG5lZWQgdG8gdXNlIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlIHRvIGluZGljYXRlIHRoaXMgd2FzIGEgdGFibGV0LiBJZiB0aGUgZXhhbXBsZSB3ZXJlIGFuIElWIHN1Y2ggYXMgZG9wYW1pbmUgYW5kIHlvdSB3YW50ZWQgdG8gY29tbXVuaWNhdGUgdGhhdCA0MDBtZyBvZiBkb3BhbWluZSB3YXMgbWl4ZWQgaW4gNTAwIG1sIG9mIHNvbWUgSVYgc29sdXRpb24sIHRoZW4gdGhpcyB3b3VsZCBhbGwgYmUgY29tbXVuaWNhdGVkIGluIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlLiBJZiB0aGUgYWRtaW5pc3RyYXRpb24gaXMgbm90IGludGVuZGVkIHRvIGJlIGluc3RhbnRhbmVvdXMgKHJhdGUgaXMgcHJlc2VudCBvciB0aW1pbmcgaGFzIGEgZHVyYXRpb24pLCB0aGlzIGNhbiBiZSBzcGVjaWZpZWQgdG8gY29udmV5IHRoZSB0b3RhbCBhbW91bnQgdG8gYmUgYWRtaW5pc3RlcmVkIG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lIGFzIGluZGljYXRlZCBieSB0aGUgc2NoZWR1bGUgZS5nLiA1MDAgbWwgaW4gZG9zZSwgd2l0aCB0aW1pbmcgdXNlZCB0byBjb252ZXkgdGhhdCB0aGlzIHNob3VsZCBiZSBkb25lIG92ZXIgNCBob3Vycy5cclxuICAgKi9cclxuICBkb3NlPzogZmhpci5SYW5nZXxmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3RlIHRoYXQgdGhpcyBzcGVjaWZpZXMgdGhlIHF1YW50aXR5IG9mIHRoZSBzcGVjaWZpZWQgbWVkaWNhdGlvbiwgbm90IHRoZSBxdWFudGl0eSBmb3IgZWFjaCBhY3RpdmUgaW5ncmVkaWVudChzKS4gRWFjaCBpbmdyZWRpZW50IGFtb3VudCBjYW4gYmUgY29tbXVuaWNhdGVkIGluIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlLiBGb3IgZXhhbXBsZSwgaWYgb25lIHdhbnRzIHRvIGNvbW11bmljYXRlIHRoYXQgYSB0YWJsZXQgd2FzIDM3NSBtZywgd2hlcmUgdGhlIGRvc2Ugd2FzIG9uZSB0YWJsZXQsIHlvdSBjYW4gdXNlIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlIHRvIGRvY3VtZW50IHRoYXQgdGhlIHRhYmxldCB3YXMgY29tcHJpc2VkIG9mIDM3NSBtZyBvZiBkcnVnIFhZWi4gQWx0ZXJuYXRpdmVseSBpZiB0aGUgZG9zZSB3YXMgMzc1IG1nLCB0aGVuIHlvdSBtYXkgb25seSBuZWVkIHRvIHVzZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZSB0byBpbmRpY2F0ZSB0aGlzIHdhcyBhIHRhYmxldC4gSWYgdGhlIGV4YW1wbGUgd2VyZSBhbiBJViBzdWNoIGFzIGRvcGFtaW5lIGFuZCB5b3Ugd2FudGVkIHRvIGNvbW11bmljYXRlIHRoYXQgNDAwbWcgb2YgZG9wYW1pbmUgd2FzIG1peGVkIGluIDUwMCBtbCBvZiBzb21lIElWIHNvbHV0aW9uLCB0aGVuIHRoaXMgd291bGQgYWxsIGJlIGNvbW11bmljYXRlZCBpbiB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS4gSWYgdGhlIGFkbWluaXN0cmF0aW9uIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50YW5lb3VzIChyYXRlIGlzIHByZXNlbnQgb3IgdGltaW5nIGhhcyBhIGR1cmF0aW9uKSwgdGhpcyBjYW4gYmUgc3BlY2lmaWVkIHRvIGNvbnZleSB0aGUgdG90YWwgYW1vdW50IHRvIGJlIGFkbWluaXN0ZXJlZCBvdmVyIHRoZSBwZXJpb2Qgb2YgdGltZSBhcyBpbmRpY2F0ZWQgYnkgdGhlIHNjaGVkdWxlIGUuZy4gNTAwIG1sIGluIGRvc2UsIHdpdGggdGltaW5nIHVzZWQgdG8gY29udmV5IHRoYXQgdGhpcyBzaG91bGQgYmUgZG9uZSBvdmVyIDQgaG91cnMuXHJcbiAgICovXHJcbiAgZG9zZVJhbmdlPzogZmhpci5SYW5nZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIHNwZWNpZmllcyB0aGUgcXVhbnRpdHkgb2YgdGhlIHNwZWNpZmllZCBtZWRpY2F0aW9uLCBub3QgdGhlIHF1YW50aXR5IGZvciBlYWNoIGFjdGl2ZSBpbmdyZWRpZW50KHMpLiBFYWNoIGluZ3JlZGllbnQgYW1vdW50IGNhbiBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIEZvciBleGFtcGxlLCBpZiBvbmUgd2FudHMgdG8gY29tbXVuaWNhdGUgdGhhdCBhIHRhYmxldCB3YXMgMzc1IG1nLCB3aGVyZSB0aGUgZG9zZSB3YXMgb25lIHRhYmxldCwgeW91IGNhbiB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gZG9jdW1lbnQgdGhhdCB0aGUgdGFibGV0IHdhcyBjb21wcmlzZWQgb2YgMzc1IG1nIG9mIGRydWcgWFlaLiBBbHRlcm5hdGl2ZWx5IGlmIHRoZSBkb3NlIHdhcyAzNzUgbWcsIHRoZW4geW91IG1heSBvbmx5IG5lZWQgdG8gdXNlIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlIHRvIGluZGljYXRlIHRoaXMgd2FzIGEgdGFibGV0LiBJZiB0aGUgZXhhbXBsZSB3ZXJlIGFuIElWIHN1Y2ggYXMgZG9wYW1pbmUgYW5kIHlvdSB3YW50ZWQgdG8gY29tbXVuaWNhdGUgdGhhdCA0MDBtZyBvZiBkb3BhbWluZSB3YXMgbWl4ZWQgaW4gNTAwIG1sIG9mIHNvbWUgSVYgc29sdXRpb24sIHRoZW4gdGhpcyB3b3VsZCBhbGwgYmUgY29tbXVuaWNhdGVkIGluIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlLiBJZiB0aGUgYWRtaW5pc3RyYXRpb24gaXMgbm90IGludGVuZGVkIHRvIGJlIGluc3RhbnRhbmVvdXMgKHJhdGUgaXMgcHJlc2VudCBvciB0aW1pbmcgaGFzIGEgZHVyYXRpb24pLCB0aGlzIGNhbiBiZSBzcGVjaWZpZWQgdG8gY29udmV5IHRoZSB0b3RhbCBhbW91bnQgdG8gYmUgYWRtaW5pc3RlcmVkIG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lIGFzIGluZGljYXRlZCBieSB0aGUgc2NoZWR1bGUgZS5nLiA1MDAgbWwgaW4gZG9zZSwgd2l0aCB0aW1pbmcgdXNlZCB0byBjb252ZXkgdGhhdCB0aGlzIHNob3VsZCBiZSBkb25lIG92ZXIgNCBob3Vycy5cclxuICAgKi9cclxuICBkb3NlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gc3VwcGx5IGJvdGggYSByYXRlIGFuZCBhIGRvc2VRdWFudGl0eSB0byBwcm92aWRlIGZ1bGwgZGV0YWlscyBhYm91dCBob3cgdGhlIG1lZGljYXRpb24gaXMgdG8gYmUgYWRtaW5pc3RlcmVkIGFuZCBzdXBwbGllZC4gSWYgdGhlIHJhdGUgaXMgaW50ZW5kZWQgdG8gY2hhbmdlIG92ZXIgdGltZSwgZGVwZW5kaW5nIG9uIGxvY2FsIHJ1bGVzL3JlZ3VsYXRpb25zLCBlYWNoIGNoYW5nZSBzaG91bGQgYmUgY2FwdHVyZWQgYXMgYSBuZXcgdmVyc2lvbiBvZiB0aGUgTWVkaWNhdGlvblJlcXVlc3Qgd2l0aCBhbiB1cGRhdGVkIHJhdGUsIG9yIGNhcHR1cmVkIHdpdGggYSBuZXcgTWVkaWNhdGlvblJlcXVlc3Qgd2l0aCB0aGUgbmV3IHJhdGUuXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gc3BlY2lmeSBhIHJhdGUgb3ZlciB0aW1lIChmb3IgZXhhbXBsZSwgMTAwIG1sL2hvdXIpIHVzaW5nIGVpdGhlciB0aGUgcmF0ZVJhdGlvIGFuZCByYXRlUXVhbnRpdHkuICBUaGUgcmF0ZVF1YW50aXR5IGFwcHJvYWNoIHJlcXVpcmVzIHN5c3RlbXMgdG8gaGF2ZSB0aGUgY2FwYWJpbGl0eSB0byBwYXJzZSBVQ1VNIGdyYW1tZXIgd2hlcmUgbWwvaG91ciBpcyBpbmNsdWRlZCByYXRoZXIgdGhhbiBhIHNwZWNpZmljIHJhdGlvIHdoZXJlIHRoZSB0aW1lIGlzIHNwZWNpZmllZCBhcyB0aGUgZGVub21pbmF0b3IuICBXaGVyZSBhIHJhdGUgc3VjaCBhcyA1MDBtbCBvdmVyIDIgaG91cnMgaXMgc3BlY2lmaWVkLCB0aGUgdXNlIG9mIHJhdGVSYXRpbyBtYXkgYmUgbW9yZSBzZW1hbnRpY2FsbHkgY29ycmVjdCB0aGFuIHNwZWNpZnlpbmcgdXNpbmcgYSByYXRlUXVhbnRpdHkgb2YgMjUwIG1nL2hvdXIuXHJcbiAgICovXHJcbiAgcmF0ZT86IGZoaXIuUmF0aW98Zmhpci5SYW5nZXxmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzdXBwbHkgYm90aCBhIHJhdGUgYW5kIGEgZG9zZVF1YW50aXR5IHRvIHByb3ZpZGUgZnVsbCBkZXRhaWxzIGFib3V0IGhvdyB0aGUgbWVkaWNhdGlvbiBpcyB0byBiZSBhZG1pbmlzdGVyZWQgYW5kIHN1cHBsaWVkLiBJZiB0aGUgcmF0ZSBpcyBpbnRlbmRlZCB0byBjaGFuZ2Ugb3ZlciB0aW1lLCBkZXBlbmRpbmcgb24gbG9jYWwgcnVsZXMvcmVndWxhdGlvbnMsIGVhY2ggY2hhbmdlIHNob3VsZCBiZSBjYXB0dXJlZCBhcyBhIG5ldyB2ZXJzaW9uIG9mIHRoZSBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIGFuIHVwZGF0ZWQgcmF0ZSwgb3IgY2FwdHVyZWQgd2l0aCBhIG5ldyBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIHRoZSBuZXcgcmF0ZS5cclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzcGVjaWZ5IGEgcmF0ZSBvdmVyIHRpbWUgKGZvciBleGFtcGxlLCAxMDAgbWwvaG91cikgdXNpbmcgZWl0aGVyIHRoZSByYXRlUmF0aW8gYW5kIHJhdGVRdWFudGl0eS4gIFRoZSByYXRlUXVhbnRpdHkgYXBwcm9hY2ggcmVxdWlyZXMgc3lzdGVtcyB0byBoYXZlIHRoZSBjYXBhYmlsaXR5IHRvIHBhcnNlIFVDVU0gZ3JhbW1lciB3aGVyZSBtbC9ob3VyIGlzIGluY2x1ZGVkIHJhdGhlciB0aGFuIGEgc3BlY2lmaWMgcmF0aW8gd2hlcmUgdGhlIHRpbWUgaXMgc3BlY2lmaWVkIGFzIHRoZSBkZW5vbWluYXRvci4gIFdoZXJlIGEgcmF0ZSBzdWNoIGFzIDUwMG1sIG92ZXIgMiBob3VycyBpcyBzcGVjaWZpZWQsIHRoZSB1c2Ugb2YgcmF0ZVJhdGlvIG1heSBiZSBtb3JlIHNlbWFudGljYWxseSBjb3JyZWN0IHRoYW4gc3BlY2lmeWluZyB1c2luZyBhIHJhdGVRdWFudGl0eSBvZiAyNTAgbWcvaG91ci5cclxuICAgKi9cclxuICByYXRlUmF0aW8/OiBmaGlyLlJhdGlvQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gc3VwcGx5IGJvdGggYSByYXRlIGFuZCBhIGRvc2VRdWFudGl0eSB0byBwcm92aWRlIGZ1bGwgZGV0YWlscyBhYm91dCBob3cgdGhlIG1lZGljYXRpb24gaXMgdG8gYmUgYWRtaW5pc3RlcmVkIGFuZCBzdXBwbGllZC4gSWYgdGhlIHJhdGUgaXMgaW50ZW5kZWQgdG8gY2hhbmdlIG92ZXIgdGltZSwgZGVwZW5kaW5nIG9uIGxvY2FsIHJ1bGVzL3JlZ3VsYXRpb25zLCBlYWNoIGNoYW5nZSBzaG91bGQgYmUgY2FwdHVyZWQgYXMgYSBuZXcgdmVyc2lvbiBvZiB0aGUgTWVkaWNhdGlvblJlcXVlc3Qgd2l0aCBhbiB1cGRhdGVkIHJhdGUsIG9yIGNhcHR1cmVkIHdpdGggYSBuZXcgTWVkaWNhdGlvblJlcXVlc3Qgd2l0aCB0aGUgbmV3IHJhdGUuXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gc3BlY2lmeSBhIHJhdGUgb3ZlciB0aW1lIChmb3IgZXhhbXBsZSwgMTAwIG1sL2hvdXIpIHVzaW5nIGVpdGhlciB0aGUgcmF0ZVJhdGlvIGFuZCByYXRlUXVhbnRpdHkuICBUaGUgcmF0ZVF1YW50aXR5IGFwcHJvYWNoIHJlcXVpcmVzIHN5c3RlbXMgdG8gaGF2ZSB0aGUgY2FwYWJpbGl0eSB0byBwYXJzZSBVQ1VNIGdyYW1tZXIgd2hlcmUgbWwvaG91ciBpcyBpbmNsdWRlZCByYXRoZXIgdGhhbiBhIHNwZWNpZmljIHJhdGlvIHdoZXJlIHRoZSB0aW1lIGlzIHNwZWNpZmllZCBhcyB0aGUgZGVub21pbmF0b3IuICBXaGVyZSBhIHJhdGUgc3VjaCBhcyA1MDBtbCBvdmVyIDIgaG91cnMgaXMgc3BlY2lmaWVkLCB0aGUgdXNlIG9mIHJhdGVSYXRpbyBtYXkgYmUgbW9yZSBzZW1hbnRpY2FsbHkgY29ycmVjdCB0aGFuIHNwZWNpZnlpbmcgdXNpbmcgYSByYXRlUXVhbnRpdHkgb2YgMjUwIG1nL2hvdXIuXHJcbiAgICovXHJcbiAgcmF0ZVJhbmdlPzogZmhpci5SYW5nZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHN1cHBseSBib3RoIGEgcmF0ZSBhbmQgYSBkb3NlUXVhbnRpdHkgdG8gcHJvdmlkZSBmdWxsIGRldGFpbHMgYWJvdXQgaG93IHRoZSBtZWRpY2F0aW9uIGlzIHRvIGJlIGFkbWluaXN0ZXJlZCBhbmQgc3VwcGxpZWQuIElmIHRoZSByYXRlIGlzIGludGVuZGVkIHRvIGNoYW5nZSBvdmVyIHRpbWUsIGRlcGVuZGluZyBvbiBsb2NhbCBydWxlcy9yZWd1bGF0aW9ucywgZWFjaCBjaGFuZ2Ugc2hvdWxkIGJlIGNhcHR1cmVkIGFzIGEgbmV3IHZlcnNpb24gb2YgdGhlIE1lZGljYXRpb25SZXF1ZXN0IHdpdGggYW4gdXBkYXRlZCByYXRlLCBvciBjYXB0dXJlZCB3aXRoIGEgbmV3IE1lZGljYXRpb25SZXF1ZXN0IHdpdGggdGhlIG5ldyByYXRlLlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHNwZWNpZnkgYSByYXRlIG92ZXIgdGltZSAoZm9yIGV4YW1wbGUsIDEwMCBtbC9ob3VyKSB1c2luZyBlaXRoZXIgdGhlIHJhdGVSYXRpbyBhbmQgcmF0ZVF1YW50aXR5LiAgVGhlIHJhdGVRdWFudGl0eSBhcHByb2FjaCByZXF1aXJlcyBzeXN0ZW1zIHRvIGhhdmUgdGhlIGNhcGFiaWxpdHkgdG8gcGFyc2UgVUNVTSBncmFtbWVyIHdoZXJlIG1sL2hvdXIgaXMgaW5jbHVkZWQgcmF0aGVyIHRoYW4gYSBzcGVjaWZpYyByYXRpbyB3aGVyZSB0aGUgdGltZSBpcyBzcGVjaWZpZWQgYXMgdGhlIGRlbm9taW5hdG9yLiAgV2hlcmUgYSByYXRlIHN1Y2ggYXMgNTAwbWwgb3ZlciAyIGhvdXJzIGlzIHNwZWNpZmllZCwgdGhlIHVzZSBvZiByYXRlUmF0aW8gbWF5IGJlIG1vcmUgc2VtYW50aWNhbGx5IGNvcnJlY3QgdGhhbiBzcGVjaWZ5aW5nIHVzaW5nIGEgcmF0ZVF1YW50aXR5IG9mIDI1MCBtZy9ob3VyLlxyXG4gICAqL1xyXG4gIHJhdGVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBhbW91bnQgb2YgbWVkaWNhdGlvbiBhZG1pbmlzdGVyZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRG9zYWdlRG9zZUFuZFJhdGUgZXh0ZW5kcyBmaGlyLkZoaXJFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0Rvc2FnZURvc2VBbmRSYXRlJztcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBkb3NlIG9yIHJhdGUgc3BlY2lmaWVkLCBmb3IgZXhhbXBsZSwgb3JkZXJlZCBvciBjYWxjdWxhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIHNwZWNpZmllcyB0aGUgcXVhbnRpdHkgb2YgdGhlIHNwZWNpZmllZCBtZWRpY2F0aW9uLCBub3QgdGhlIHF1YW50aXR5IGZvciBlYWNoIGFjdGl2ZSBpbmdyZWRpZW50KHMpLiBFYWNoIGluZ3JlZGllbnQgYW1vdW50IGNhbiBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIEZvciBleGFtcGxlLCBpZiBvbmUgd2FudHMgdG8gY29tbXVuaWNhdGUgdGhhdCBhIHRhYmxldCB3YXMgMzc1IG1nLCB3aGVyZSB0aGUgZG9zZSB3YXMgb25lIHRhYmxldCwgeW91IGNhbiB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gZG9jdW1lbnQgdGhhdCB0aGUgdGFibGV0IHdhcyBjb21wcmlzZWQgb2YgMzc1IG1nIG9mIGRydWcgWFlaLiBBbHRlcm5hdGl2ZWx5IGlmIHRoZSBkb3NlIHdhcyAzNzUgbWcsIHRoZW4geW91IG1heSBvbmx5IG5lZWQgdG8gdXNlIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlIHRvIGluZGljYXRlIHRoaXMgd2FzIGEgdGFibGV0LiBJZiB0aGUgZXhhbXBsZSB3ZXJlIGFuIElWIHN1Y2ggYXMgZG9wYW1pbmUgYW5kIHlvdSB3YW50ZWQgdG8gY29tbXVuaWNhdGUgdGhhdCA0MDBtZyBvZiBkb3BhbWluZSB3YXMgbWl4ZWQgaW4gNTAwIG1sIG9mIHNvbWUgSVYgc29sdXRpb24sIHRoZW4gdGhpcyB3b3VsZCBhbGwgYmUgY29tbXVuaWNhdGVkIGluIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlLiBJZiB0aGUgYWRtaW5pc3RyYXRpb24gaXMgbm90IGludGVuZGVkIHRvIGJlIGluc3RhbnRhbmVvdXMgKHJhdGUgaXMgcHJlc2VudCBvciB0aW1pbmcgaGFzIGEgZHVyYXRpb24pLCB0aGlzIGNhbiBiZSBzcGVjaWZpZWQgdG8gY29udmV5IHRoZSB0b3RhbCBhbW91bnQgdG8gYmUgYWRtaW5pc3RlcmVkIG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lIGFzIGluZGljYXRlZCBieSB0aGUgc2NoZWR1bGUgZS5nLiA1MDAgbWwgaW4gZG9zZSwgd2l0aCB0aW1pbmcgdXNlZCB0byBjb252ZXkgdGhhdCB0aGlzIHNob3VsZCBiZSBkb25lIG92ZXIgNCBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgZG9zZT86IChmaGlyLlJhbmdlfGZoaXIuUXVhbnRpdHkpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IERvc2FnZS5kb3NlQW5kUmF0ZS5kb3NlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2Rvc2VJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzdXBwbHkgYm90aCBhIHJhdGUgYW5kIGEgZG9zZVF1YW50aXR5IHRvIHByb3ZpZGUgZnVsbCBkZXRhaWxzIGFib3V0IGhvdyB0aGUgbWVkaWNhdGlvbiBpcyB0byBiZSBhZG1pbmlzdGVyZWQgYW5kIHN1cHBsaWVkLiBJZiB0aGUgcmF0ZSBpcyBpbnRlbmRlZCB0byBjaGFuZ2Ugb3ZlciB0aW1lLCBkZXBlbmRpbmcgb24gbG9jYWwgcnVsZXMvcmVndWxhdGlvbnMsIGVhY2ggY2hhbmdlIHNob3VsZCBiZSBjYXB0dXJlZCBhcyBhIG5ldyB2ZXJzaW9uIG9mIHRoZSBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIGFuIHVwZGF0ZWQgcmF0ZSwgb3IgY2FwdHVyZWQgd2l0aCBhIG5ldyBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIHRoZSBuZXcgcmF0ZS5cclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzcGVjaWZ5IGEgcmF0ZSBvdmVyIHRpbWUgKGZvciBleGFtcGxlLCAxMDAgbWwvaG91cikgdXNpbmcgZWl0aGVyIHRoZSByYXRlUmF0aW8gYW5kIHJhdGVRdWFudGl0eS4gIFRoZSByYXRlUXVhbnRpdHkgYXBwcm9hY2ggcmVxdWlyZXMgc3lzdGVtcyB0byBoYXZlIHRoZSBjYXBhYmlsaXR5IHRvIHBhcnNlIFVDVU0gZ3JhbW1lciB3aGVyZSBtbC9ob3VyIGlzIGluY2x1ZGVkIHJhdGhlciB0aGFuIGEgc3BlY2lmaWMgcmF0aW8gd2hlcmUgdGhlIHRpbWUgaXMgc3BlY2lmaWVkIGFzIHRoZSBkZW5vbWluYXRvci4gIFdoZXJlIGEgcmF0ZSBzdWNoIGFzIDUwMG1sIG92ZXIgMiBob3VycyBpcyBzcGVjaWZpZWQsIHRoZSB1c2Ugb2YgcmF0ZVJhdGlvIG1heSBiZSBtb3JlIHNlbWFudGljYWxseSBjb3JyZWN0IHRoYW4gc3BlY2lmeWluZyB1c2luZyBhIHJhdGVRdWFudGl0eSBvZiAyNTAgbWcvaG91ci5cclxuICAgKi9cclxuICBwdWJsaWMgcmF0ZT86IChmaGlyLlJhdGlvfGZoaXIuUmFuZ2V8Zmhpci5RdWFudGl0eSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgRG9zYWdlLmRvc2VBbmRSYXRlLnJhdGVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfcmF0ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIERvc2FnZURvc2VBbmRSYXRlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RG9zYWdlRG9zZUFuZFJhdGVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rvc2UnXSkgeyB0aGlzLmRvc2UgPSBzb3VyY2UuZG9zZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydkb3NlUmFuZ2UnXSkgeyB0aGlzLmRvc2UgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UuZG9zZVJhbmdlKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydkb3NlUXVhbnRpdHknXSkgeyB0aGlzLmRvc2UgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuZG9zZVF1YW50aXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmF0ZSddKSB7IHRoaXMucmF0ZSA9IHNvdXJjZS5yYXRlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JhdGVSYXRpbyddKSB7IHRoaXMucmF0ZSA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS5yYXRlUmF0aW8pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JhdGVSYW5nZSddKSB7IHRoaXMucmF0ZSA9IG5ldyBmaGlyLlJhbmdlKHNvdXJjZS5yYXRlUmFuZ2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JhdGVRdWFudGl0eSddKSB7IHRoaXMucmF0ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5yYXRlUXVhbnRpdHkpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0Rvc2FnZS5kb3NlQW5kUmF0ZScgfVxyXG4gICAgdGhpcy52T3B0UygndHlwZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2Rvc2UnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdyYXRlJyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIERvc2FnZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBEb3NhZ2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIHNob3VsZCBiZSBhcHBsaWVkIG9yIGludGVycHJldGVkLlxyXG4gICAqL1xyXG4gIHNlcXVlbmNlPzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBEb3NhZ2Uuc2VxdWVuY2VcclxuICAgKi9cclxuICBfc2VxdWVuY2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGUuZy4gU0lHLlxyXG4gICAqL1xyXG4gIHRleHQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRG9zYWdlLnRleHRcclxuICAgKi9cclxuICBfdGV4dD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgYWRtaW5pc3RyYXRpb24gb3IgcHJlcGFyYXRpb24gb2YgdGhlIG1lZGljYXRpb24gKGUuZy4gXCJpbmZ1c2UgYXMgcmFwaWRseSBhcyBwb3NzaWJseSB2aWEgaW50cmFwZXJpdG9uZWFsIHBvcnRcIiBvciBcImltbWVkaWF0ZWx5IGZvbGxvd2luZyBkcnVnIHhcIikgc2hvdWxkIGJlIHBvcHVsYXRlZCBpbiBkb3NhZ2UudGV4dC5cclxuICAgKi9cclxuICBhZGRpdGlvbmFsSW5zdHJ1Y3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5zdHJ1Y3Rpb25zIGluIHRlcm1zIHRoYXQgYXJlIHVuZGVyc3Rvb2QgYnkgdGhlIHBhdGllbnQgb3IgY29uc3VtZXIuXHJcbiAgICovXHJcbiAgcGF0aWVudEluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERvc2FnZS5wYXRpZW50SW5zdHJ1Y3Rpb25cclxuICAgKi9cclxuICBfcGF0aWVudEluc3RydWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGF0dHJpYnV0ZSBtaWdodCBub3QgYWx3YXlzIGJlIHBvcHVsYXRlZCB3aGlsZSB0aGUgRG9zYWdlLnRleHQgaXMgZXhwZWN0ZWQgdG8gYmUgcG9wdWxhdGVkLiAgSWYgYm90aCBhcmUgcG9wdWxhdGVkLCB0aGVuIHRoZSBEb3NhZ2UudGV4dCBzaG91bGQgcmVmbGVjdCB0aGUgY29udGVudCBvZiB0aGUgRG9zYWdlLnRpbWluZy5cclxuICAgKi9cclxuICB0aW1pbmc/OiBmaGlyLlRpbWluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aG91dCBhIHJlYXNvbiBieSBzZXR0aW5nIHRoZSBCb29sZWFuID0gVHJ1ZS4gIEluIHRoaXMgY2FzZSB0aGUgQ29kZWFibGVDb25jZXB0IGlzIG5vdCBwb3B1bGF0ZWQuICBPciB5b3UgY2FuIGV4cHJlc3MgXCJhcyBuZWVkZWRcIiB3aXRoIGEgcmVhc29uIGJ5IGluY2x1ZGluZyB0aGUgQ29kZWFibGVDb25jZXB0LiAgSW4gdGhpcyBjYXNlIHRoZSBCb29sZWFuIGlzIGFzc3VtZWQgdG8gYmUgVHJ1ZS4gIElmIHlvdSBzZXQgdGhlIEJvb2xlYW4gdG8gRmFsc2UsIHRoZW4gdGhlIGRvc2UgaXMgZ2l2ZW4gYWNjb3JkaW5nIHRvIHRoZSBzY2hlZHVsZSBhbmQgaXMgbm90IFwicHJuXCIgb3IgXCJhcyBuZWVkZWRcIi5cclxuICAgKi9cclxuICBhc05lZWRlZD86IGZoaXIuRmhpckJvb2xlYW58Zmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aG91dCBhIHJlYXNvbiBieSBzZXR0aW5nIHRoZSBCb29sZWFuID0gVHJ1ZS4gIEluIHRoaXMgY2FzZSB0aGUgQ29kZWFibGVDb25jZXB0IGlzIG5vdCBwb3B1bGF0ZWQuICBPciB5b3UgY2FuIGV4cHJlc3MgXCJhcyBuZWVkZWRcIiB3aXRoIGEgcmVhc29uIGJ5IGluY2x1ZGluZyB0aGUgQ29kZWFibGVDb25jZXB0LiAgSW4gdGhpcyBjYXNlIHRoZSBCb29sZWFuIGlzIGFzc3VtZWQgdG8gYmUgVHJ1ZS4gIElmIHlvdSBzZXQgdGhlIEJvb2xlYW4gdG8gRmFsc2UsIHRoZW4gdGhlIGRvc2UgaXMgZ2l2ZW4gYWNjb3JkaW5nIHRvIHRoZSBzY2hlZHVsZSBhbmQgaXMgbm90IFwicHJuXCIgb3IgXCJhcyBuZWVkZWRcIi5cclxuICAgKi9cclxuICBhc05lZWRlZEJvb2xlYW4/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aG91dCBhIHJlYXNvbiBieSBzZXR0aW5nIHRoZSBCb29sZWFuID0gVHJ1ZS4gIEluIHRoaXMgY2FzZSB0aGUgQ29kZWFibGVDb25jZXB0IGlzIG5vdCBwb3B1bGF0ZWQuICBPciB5b3UgY2FuIGV4cHJlc3MgXCJhcyBuZWVkZWRcIiB3aXRoIGEgcmVhc29uIGJ5IGluY2x1ZGluZyB0aGUgQ29kZWFibGVDb25jZXB0LiAgSW4gdGhpcyBjYXNlIHRoZSBCb29sZWFuIGlzIGFzc3VtZWQgdG8gYmUgVHJ1ZS4gIElmIHlvdSBzZXQgdGhlIEJvb2xlYW4gdG8gRmFsc2UsIHRoZW4gdGhlIGRvc2UgaXMgZ2l2ZW4gYWNjb3JkaW5nIHRvIHRoZSBzY2hlZHVsZSBhbmQgaXMgbm90IFwicHJuXCIgb3IgXCJhcyBuZWVkZWRcIi5cclxuICAgKi9cclxuICBhc05lZWRlZENvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHVzZSBjYXNlIHJlcXVpcmVzIGF0dHJpYnV0ZXMgZnJvbSB0aGUgQm9keVNpdGUgcmVzb3VyY2UgKGUuZy4gdG8gaWRlbnRpZnkgYW5kIHRyYWNrIHNlcGFyYXRlbHkpIHRoZW4gdXNlIHRoZSBzdGFuZGFyZCBleHRlbnNpb24gW2JvZHlTaXRlXShleHRlbnNpb24tYm9keXNpdGUuaHRtbCkuICBNYXkgYmUgYSBzdW1tYXJ5IGNvZGUsIG9yIGEgcmVmZXJlbmNlIHRvIGEgdmVyeSBwcmVjaXNlIGRlZmluaXRpb24gb2YgdGhlIGxvY2F0aW9uLCBvciBib3RoLlxyXG4gICAqL1xyXG4gIHNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhvdyBkcnVnIHNob3VsZCBlbnRlciBib2R5LlxyXG4gICAqL1xyXG4gIHJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXJtaW5vbG9naWVzIHVzZWQgb2Z0ZW4gcHJlLWNvb3JkaW5hdGUgdGhpcyB0ZXJtIHdpdGggdGhlIHJvdXRlIGFuZCBvciBmb3JtIG9mIGFkbWluaXN0cmF0aW9uLlxyXG4gICAqL1xyXG4gIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiBtZWRpY2F0aW9uIGFkbWluaXN0ZXJlZC5cclxuICAgKi9cclxuICBkb3NlQW5kUmF0ZT86IGZoaXIuRG9zYWdlRG9zZUFuZFJhdGVBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgaW50ZW5kZWQgZm9yIHVzZSBhcyBhbiBhZGp1bmN0IHRvIHRoZSBkb3NhZ2Ugd2hlbiB0aGVyZSBpcyBhbiB1cHBlciBjYXAuICBGb3IgZXhhbXBsZSBcIjIgdGFibGV0cyBldmVyeSA0IGhvdXJzIHRvIGEgbWF4aW11bSBvZiA4L2RheVwiLlxyXG4gICAqL1xyXG4gIG1heERvc2VQZXJQZXJpb2Q/OiBmaGlyLlJhdGlvQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBpbnRlbmRlZCBmb3IgdXNlIGFzIGFuIGFkanVuY3QgdG8gdGhlIGRvc2FnZSB3aGVuIHRoZXJlIGlzIGFuIHVwcGVyIGNhcC4gIEZvciBleGFtcGxlLCBhIGJvZHkgc3VyZmFjZSBhcmVhIHJlbGF0ZWQgZG9zZSB3aXRoIGEgbWF4aW11bSBhbW91bnQsIHN1Y2ggYXMgMS41IG1nL20yIChtYXhpbXVtIDIgbWcpIElWIG92ZXIgNSDigJMgMTAgbWludXRlcyB3b3VsZCBoYXZlIGRvc2VRdWFudGl0eSBvZiAxLjUgbWcvbTIgYW5kIG1heERvc2VQZXJBZG1pbmlzdHJhdGlvbiBvZiAyIG1nLlxyXG4gICAqL1xyXG4gIG1heERvc2VQZXJBZG1pbmlzdHJhdGlvbj86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVcHBlciBsaW1pdCBvbiBtZWRpY2F0aW9uIHBlciBsaWZldGltZSBvZiB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBtYXhEb3NlUGVyTGlmZXRpbWU/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmRpY2F0ZXMgaG93IHRoZSBtZWRpY2F0aW9uIGlzL3dhcyB0YWtlbiBvciBzaG91bGQgYmUgdGFrZW4gYnkgdGhlIHBhdGllbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRG9zYWdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRG9zYWdlJztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIHNob3VsZCBiZSBhcHBsaWVkIG9yIGludGVycHJldGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZT86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGUuZy4gU0lHLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZXh0PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCBhZG1pbmlzdHJhdGlvbiBvciBwcmVwYXJhdGlvbiBvZiB0aGUgbWVkaWNhdGlvbiAoZS5nLiBcImluZnVzZSBhcyByYXBpZGx5IGFzIHBvc3NpYmx5IHZpYSBpbnRyYXBlcml0b25lYWwgcG9ydFwiIG9yIFwiaW1tZWRpYXRlbHkgZm9sbG93aW5nIGRydWcgeFwiKSBzaG91bGQgYmUgcG9wdWxhdGVkIGluIGRvc2FnZS50ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRpdGlvbmFsSW5zdHJ1Y3Rpb246IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogSW5zdHJ1Y3Rpb25zIGluIHRlcm1zIHRoYXQgYXJlIHVuZGVyc3Rvb2QgYnkgdGhlIHBhdGllbnQgb3IgY29uc3VtZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnRJbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBhdHRyaWJ1dGUgbWlnaHQgbm90IGFsd2F5cyBiZSBwb3B1bGF0ZWQgd2hpbGUgdGhlIERvc2FnZS50ZXh0IGlzIGV4cGVjdGVkIHRvIGJlIHBvcHVsYXRlZC4gIElmIGJvdGggYXJlIHBvcHVsYXRlZCwgdGhlbiB0aGUgRG9zYWdlLnRleHQgc2hvdWxkIHJlZmxlY3QgdGhlIGNvbnRlbnQgb2YgdGhlIERvc2FnZS50aW1pbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHRpbWluZz86IGZoaXIuVGltaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGhvdXQgYSByZWFzb24gYnkgc2V0dGluZyB0aGUgQm9vbGVhbiA9IFRydWUuICBJbiB0aGlzIGNhc2UgdGhlIENvZGVhYmxlQ29uY2VwdCBpcyBub3QgcG9wdWxhdGVkLiAgT3IgeW91IGNhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aCBhIHJlYXNvbiBieSBpbmNsdWRpbmcgdGhlIENvZGVhYmxlQ29uY2VwdC4gIEluIHRoaXMgY2FzZSB0aGUgQm9vbGVhbiBpcyBhc3N1bWVkIHRvIGJlIFRydWUuICBJZiB5b3Ugc2V0IHRoZSBCb29sZWFuIHRvIEZhbHNlLCB0aGVuIHRoZSBkb3NlIGlzIGdpdmVuIGFjY29yZGluZyB0byB0aGUgc2NoZWR1bGUgYW5kIGlzIG5vdCBcInByblwiIG9yIFwiYXMgbmVlZGVkXCIuXHJcbiAgICovXHJcbiAgcHVibGljIGFzTmVlZGVkPzogKGZoaXIuRmhpckJvb2xlYW58Zmhpci5Db2RlYWJsZUNvbmNlcHQpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IERvc2FnZS5hc05lZWRlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19hc05lZWRlZElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSB1c2UgY2FzZSByZXF1aXJlcyBhdHRyaWJ1dGVzIGZyb20gdGhlIEJvZHlTaXRlIHJlc291cmNlIChlLmcuIHRvIGlkZW50aWZ5IGFuZCB0cmFjayBzZXBhcmF0ZWx5KSB0aGVuIHVzZSB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uIFtib2R5U2l0ZV0oZXh0ZW5zaW9uLWJvZHlzaXRlLmh0bWwpLiAgTWF5IGJlIGEgc3VtbWFyeSBjb2RlLCBvciBhIHJlZmVyZW5jZSB0byBhIHZlcnkgcHJlY2lzZSBkZWZpbml0aW9uIG9mIHRoZSBsb2NhdGlvbiwgb3IgYm90aC5cclxuICAgKi9cclxuICBwdWJsaWMgc2l0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIb3cgZHJ1ZyBzaG91bGQgZW50ZXIgYm9keS5cclxuICAgKi9cclxuICBwdWJsaWMgcm91dGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGVybWlub2xvZ2llcyB1c2VkIG9mdGVuIHByZS1jb29yZGluYXRlIHRoaXMgdGVybSB3aXRoIHRoZSByb3V0ZSBhbmQgb3IgZm9ybSBvZiBhZG1pbmlzdHJhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgbWVkaWNhdGlvbiBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRvc2VBbmRSYXRlOiBmaGlyLkRvc2FnZURvc2VBbmRSYXRlW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBpbnRlbmRlZCBmb3IgdXNlIGFzIGFuIGFkanVuY3QgdG8gdGhlIGRvc2FnZSB3aGVuIHRoZXJlIGlzIGFuIHVwcGVyIGNhcC4gIEZvciBleGFtcGxlIFwiMiB0YWJsZXRzIGV2ZXJ5IDQgaG91cnMgdG8gYSBtYXhpbXVtIG9mIDgvZGF5XCIuXHJcbiAgICovXHJcbiAgcHVibGljIG1heERvc2VQZXJQZXJpb2Q/OiBmaGlyLlJhdGlvfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGludGVuZGVkIGZvciB1c2UgYXMgYW4gYWRqdW5jdCB0byB0aGUgZG9zYWdlIHdoZW4gdGhlcmUgaXMgYW4gdXBwZXIgY2FwLiAgRm9yIGV4YW1wbGUsIGEgYm9keSBzdXJmYWNlIGFyZWEgcmVsYXRlZCBkb3NlIHdpdGggYSBtYXhpbXVtIGFtb3VudCwgc3VjaCBhcyAxLjUgbWcvbTIgKG1heGltdW0gMiBtZykgSVYgb3ZlciA1IOKAkyAxMCBtaW51dGVzIHdvdWxkIGhhdmUgZG9zZVF1YW50aXR5IG9mIDEuNSBtZy9tMiBhbmQgbWF4RG9zZVBlckFkbWluaXN0cmF0aW9uIG9mIDIgbWcuXHJcbiAgICovXHJcbiAgcHVibGljIG1heERvc2VQZXJBZG1pbmlzdHJhdGlvbj86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVwcGVyIGxpbWl0IG9uIG1lZGljYXRpb24gcGVyIGxpZmV0aW1lIG9mIHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhEb3NlUGVyTGlmZXRpbWU/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBEb3NhZ2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxEb3NhZ2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2VxdWVuY2UnXSkgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NlcXVlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2VxdWVuY2UpIHsgdGhpcy5zZXF1ZW5jZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXF1ZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9zZXF1ZW5jZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3RleHQnXSkgeyB0aGlzLnRleHQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRleHR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3RleHQnXSkge1xyXG4gICAgICBpZiAodGhpcy50ZXh0KSB7IHRoaXMudGV4dC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90ZXh0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudGV4dCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl90ZXh0IGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhZGRpdGlvbmFsSW5zdHJ1Y3Rpb24nXSkgeyB0aGlzLmFkZGl0aW9uYWxJbnN0cnVjdGlvbiA9IHNvdXJjZS5hZGRpdGlvbmFsSW5zdHJ1Y3Rpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hZGRpdGlvbmFsSW5zdHJ1Y3Rpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aWVudEluc3RydWN0aW9uJ10pIHsgdGhpcy5wYXRpZW50SW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnBhdGllbnRJbnN0cnVjdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcGF0aWVudEluc3RydWN0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMucGF0aWVudEluc3RydWN0aW9uKSB7IHRoaXMucGF0aWVudEluc3RydWN0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3BhdGllbnRJbnN0cnVjdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBhdGllbnRJbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wYXRpZW50SW5zdHJ1Y3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3RpbWluZyddKSB7IHRoaXMudGltaW5nID0gbmV3IGZoaXIuVGltaW5nKHNvdXJjZS50aW1pbmcpOyB9XHJcbiAgICBpZiAoc291cmNlWydhc05lZWRlZCddKSB7IHRoaXMuYXNOZWVkZWQgPSBzb3VyY2UuYXNOZWVkZWQ7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYXNOZWVkZWRCb29sZWFuJ10pIHsgdGhpcy5hc05lZWRlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmFzTmVlZGVkQm9vbGVhbn0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2FzTmVlZGVkQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5hc05lZWRlZCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYXNOZWVkZWRDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBpZiAoc291cmNlWydzaXRlJ10pIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zaXRlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm91dGUnXSkgeyB0aGlzLnJvdXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yb3V0ZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21ldGhvZCddKSB7IHRoaXMubWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZXRob2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydkb3NlQW5kUmF0ZSddKSB7IHRoaXMuZG9zZUFuZFJhdGUgPSBzb3VyY2UuZG9zZUFuZFJhdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Eb3NhZ2VEb3NlQW5kUmF0ZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvc2VBbmRSYXRlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21heERvc2VQZXJQZXJpb2QnXSkgeyB0aGlzLm1heERvc2VQZXJQZXJpb2QgPSBuZXcgZmhpci5SYXRpbyhzb3VyY2UubWF4RG9zZVBlclBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21heERvc2VQZXJBZG1pbmlzdHJhdGlvbiddKSB7IHRoaXMubWF4RG9zZVBlckFkbWluaXN0cmF0aW9uID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm1heERvc2VQZXJBZG1pbmlzdHJhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ21heERvc2VQZXJMaWZldGltZSddKSB7IHRoaXMubWF4RG9zZVBlckxpZmV0aW1lID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm1heERvc2VQZXJMaWZldGltZSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnRG9zYWdlJyB9XHJcbiAgICB0aGlzLnZPcHRTKCdzZXF1ZW5jZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3RleHQnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdhZGRpdGlvbmFsSW5zdHJ1Y3Rpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdwYXRpZW50SW5zdHJ1Y3Rpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCd0aW1pbmcnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdhc05lZWRlZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3NpdGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdyb3V0ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ21ldGhvZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2Rvc2VBbmRSYXRlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnbWF4RG9zZVBlclBlcmlvZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ21heERvc2VQZXJBZG1pbmlzdHJhdGlvbicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ21heERvc2VQZXJMaWZldGltZScsZXhwcmVzc2lvbilcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==