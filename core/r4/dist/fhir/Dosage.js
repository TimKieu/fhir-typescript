// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR ComplexType: Dosage
import * as fhir from '../fhir.js';
/**
 * The amount of medication administered.
 */
export class DosageDoseAndRate extends fhir.FhirElement {
    /**
     * Default constructor for DosageDoseAndRate - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['dose']) {
            this.dose = source.dose;
        }
        else if (source['doseRange']) {
            this.dose = new fhir.Range(source.doseRange);
        }
        else if (source['doseQuantity']) {
            this.dose = new fhir.Quantity(source.doseQuantity);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio);
        }
        else if (source['rateRange']) {
            this.rate = new fhir.Range(source.rateRange);
        }
        else if (source['rateQuantity']) {
            this.rate = new fhir.Quantity(source.rateQuantity);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DosageDoseAndRate._fts_dataType = 'DosageDoseAndRate';
/**
 * Internal flag to properly serialize choice-type element Dosage.doseAndRate.dose[x]
 */
DosageDoseAndRate._fts_doseIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Dosage.doseAndRate.rate[x]
 */
DosageDoseAndRate._fts_rateIsChoice = true;
/**
 * Indicates how the medication is/was taken or should be taken by the patient.
 */
export class Dosage extends fhir.BackboneElement {
    /**
     * Default constructor for Dosage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirInteger({ value: source.sequence });
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirInteger(source._sequence);
            }
        }
        if (source['text']) {
            this.text = new fhir.FhirString({ value: source.text });
        }
        if (source['_text']) {
            if (this.text) {
                this.text.addExtendedProperties(source._text);
            }
            else {
                this.text = new fhir.FhirString(source._text);
            }
        }
        if (source['additionalInstruction']) {
            this.additionalInstruction = source.additionalInstruction.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.additionalInstruction = [];
        }
        if (source['patientInstruction']) {
            this.patientInstruction = new fhir.FhirString({ value: source.patientInstruction });
        }
        if (source['_patientInstruction']) {
            if (this.patientInstruction) {
                this.patientInstruction.addExtendedProperties(source._patientInstruction);
            }
            else {
                this.patientInstruction = new fhir.FhirString(source._patientInstruction);
            }
        }
        if (source['timing']) {
            this.timing = new fhir.Timing(source.timing);
        }
        if (source['asNeeded']) {
            this.asNeeded = source.asNeeded;
        }
        else if (source['asNeededBoolean']) {
            this.asNeeded = new fhir.FhirBoolean({ value: source.asNeededBoolean });
        }
        else if (source['asNeededCodeableConcept']) {
            this.asNeeded = new fhir.CodeableConcept(source.asNeededCodeableConcept);
        }
        if (source['site']) {
            this.site = new fhir.CodeableConcept(source.site);
        }
        if (source['route']) {
            this.route = new fhir.CodeableConcept(source.route);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
        if (source['doseAndRate']) {
            this.doseAndRate = source.doseAndRate.map((x) => new fhir.DosageDoseAndRate(x));
        }
        else {
            this.doseAndRate = [];
        }
        if (source['maxDosePerPeriod']) {
            this.maxDosePerPeriod = new fhir.Ratio(source.maxDosePerPeriod);
        }
        if (source['maxDosePerAdministration']) {
            this.maxDosePerAdministration = new fhir.Quantity(source.maxDosePerAdministration);
        }
        if (source['maxDosePerLifetime']) {
            this.maxDosePerLifetime = new fhir.Quantity(source.maxDosePerLifetime);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (this["text"]) {
            issues.push(...this.text.doModelValidation());
        }
        if (this["additionalInstruction"]) {
            this.additionalInstruction.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["patientInstruction"]) {
            issues.push(...this.patientInstruction.doModelValidation());
        }
        if (this["timing"]) {
            issues.push(...this.timing.doModelValidation());
        }
        if (this["site"]) {
            issues.push(...this.site.doModelValidation());
        }
        if (this["route"]) {
            issues.push(...this.route.doModelValidation());
        }
        if (this["method"]) {
            issues.push(...this.method.doModelValidation());
        }
        if (this["doseAndRate"]) {
            this.doseAndRate.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["maxDosePerPeriod"]) {
            issues.push(...this.maxDosePerPeriod.doModelValidation());
        }
        if (this["maxDosePerAdministration"]) {
            issues.push(...this.maxDosePerAdministration.doModelValidation());
        }
        if (this["maxDosePerLifetime"]) {
            issues.push(...this.maxDosePerLifetime.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Dosage._fts_dataType = 'Dosage';
/**
 * Internal flag to properly serialize choice-type element Dosage.asNeeded[x]
 */
Dosage._fts_asNeededIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9zYWdlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9Eb3NhZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsMkJBQTJCO0FBRTNCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBNERuQzs7R0FFRztBQUNILE1BQU0sT0FBTyxpQkFBa0IsU0FBUSxJQUFJLENBQUMsV0FBVztJQTBCckQ7O09BRUc7SUFDSCxZQUFZLFNBQXdDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzlGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFFO2FBQzNDLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7YUFDMUUsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7U0FBRTtRQUN4RixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFFO2FBQzNDLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUs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QUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDeEUsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ3hHLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzVGLElBQUksSUFBSSxDQUFDLDBCQUEwQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzVHLElBQUksSUFBSSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ2hHLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBakhEOztHQUVHO0FBQzZCLG9CQUFhLEdBQVUsUUFBUSxDQUFDO0FBeUJoRTs7R0FFRztBQUN1Qiw0QkFBcUIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgQ29tcGxleFR5cGU6IERvc2FnZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRG9zZVJhdGVUeXBlQ29kaW5ncywgRG9zZVJhdGVUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9zZVJhdGVUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRG9zZVJhdGVUeXBlQ29kZXMsICBEb3NlUmF0ZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9zZVJhdGVUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFwcHJvYWNoU2l0ZUNvZGluZ3MsIEFwcHJvYWNoU2l0ZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FwcHJvYWNoU2l0ZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFwcHJvYWNoU2l0ZUNvZGVzLCAgQXBwcm9hY2hTaXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FwcHJvYWNoU2l0ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSb3V0ZUNvZGluZ3MsIFJvdXRlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSb3V0ZUNvZGVzLCAgUm91dGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWRtaW5pc3RyYXRpb25NZXRob2RDb2RpbmdzLCBBZG1pbmlzdHJhdGlvbk1ldGhvZENvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkbWluaXN0cmF0aW9uTWV0aG9kQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWRtaW5pc3RyYXRpb25NZXRob2RDb2RlcywgIEFkbWluaXN0cmF0aW9uTWV0aG9kQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkbWluaXN0cmF0aW9uTWV0aG9kQ29kZXMuanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRG9zYWdlRG9zZUFuZFJhdGUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG9zYWdlRG9zZUFuZFJhdGVBcmdzIGV4dGVuZHMgZmhpci5GaGlyRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIGRvc2Ugb3IgcmF0ZSBzcGVjaWZpZWQsIGZvciBleGFtcGxlLCBvcmRlcmVkIG9yIGNhbGN1bGF0ZWQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgc3BlY2lmaWVzIHRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG1lZGljYXRpb24sIG5vdCB0aGUgcXVhbnRpdHkgZm9yIGVhY2ggYWN0aXZlIGluZ3JlZGllbnQocykuIEVhY2ggaW5ncmVkaWVudCBhbW91bnQgY2FuIGJlIGNvbW11bmljYXRlZCBpbiB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS4gRm9yIGV4YW1wbGUsIGlmIG9uZSB3YW50cyB0byBjb21tdW5pY2F0ZSB0aGF0IGEgdGFibGV0IHdhcyAzNzUgbWcsIHdoZXJlIHRoZSBkb3NlIHdhcyBvbmUgdGFibGV0LCB5b3UgY2FuIHVzZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZSB0byBkb2N1bWVudCB0aGF0IHRoZSB0YWJsZXQgd2FzIGNvbXByaXNlZCBvZiAzNzUgbWcgb2YgZHJ1ZyBYWVouIEFsdGVybmF0aXZlbHkgaWYgdGhlIGRvc2Ugd2FzIDM3NSBtZywgdGhlbiB5b3UgbWF5IG9ubHkgbmVlZCB0byB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gaW5kaWNhdGUgdGhpcyB3YXMgYSB0YWJsZXQuIElmIHRoZSBleGFtcGxlIHdlcmUgYW4gSVYgc3VjaCBhcyBkb3BhbWluZSBhbmQgeW91IHdhbnRlZCB0byBjb21tdW5pY2F0ZSB0aGF0IDQwMG1nIG9mIGRvcGFtaW5lIHdhcyBtaXhlZCBpbiA1MDAgbWwgb2Ygc29tZSBJViBzb2x1dGlvbiwgdGhlbiB0aGlzIHdvdWxkIGFsbCBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIElmIHRoZSBhZG1pbmlzdHJhdGlvbiBpcyBub3QgaW50ZW5kZWQgdG8gYmUgaW5zdGFudGFuZW91cyAocmF0ZSBpcyBwcmVzZW50IG9yIHRpbWluZyBoYXMgYSBkdXJhdGlvbiksIHRoaXMgY2FuIGJlIHNwZWNpZmllZCB0byBjb252ZXkgdGhlIHRvdGFsIGFtb3VudCB0byBiZSBhZG1pbmlzdGVyZWQgb3ZlciB0aGUgcGVyaW9kIG9mIHRpbWUgYXMgaW5kaWNhdGVkIGJ5IHRoZSBzY2hlZHVsZSBlLmcuIDUwMCBtbCBpbiBkb3NlLCB3aXRoIHRpbWluZyB1c2VkIHRvIGNvbnZleSB0aGF0IHRoaXMgc2hvdWxkIGJlIGRvbmUgb3ZlciA0IGhvdXJzLlxyXG4gICAqL1xyXG4gIGRvc2U/OiBmaGlyLlJhbmdlfGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIHNwZWNpZmllcyB0aGUgcXVhbnRpdHkgb2YgdGhlIHNwZWNpZmllZCBtZWRpY2F0aW9uLCBub3QgdGhlIHF1YW50aXR5IGZvciBlYWNoIGFjdGl2ZSBpbmdyZWRpZW50KHMpLiBFYWNoIGluZ3JlZGllbnQgYW1vdW50IGNhbiBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIEZvciBleGFtcGxlLCBpZiBvbmUgd2FudHMgdG8gY29tbXVuaWNhdGUgdGhhdCBhIHRhYmxldCB3YXMgMzc1IG1nLCB3aGVyZSB0aGUgZG9zZSB3YXMgb25lIHRhYmxldCwgeW91IGNhbiB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gZG9jdW1lbnQgdGhhdCB0aGUgdGFibGV0IHdhcyBjb21wcmlzZWQgb2YgMzc1IG1nIG9mIGRydWcgWFlaLiBBbHRlcm5hdGl2ZWx5IGlmIHRoZSBkb3NlIHdhcyAzNzUgbWcsIHRoZW4geW91IG1heSBvbmx5IG5lZWQgdG8gdXNlIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlIHRvIGluZGljYXRlIHRoaXMgd2FzIGEgdGFibGV0LiBJZiB0aGUgZXhhbXBsZSB3ZXJlIGFuIElWIHN1Y2ggYXMgZG9wYW1pbmUgYW5kIHlvdSB3YW50ZWQgdG8gY29tbXVuaWNhdGUgdGhhdCA0MDBtZyBvZiBkb3BhbWluZSB3YXMgbWl4ZWQgaW4gNTAwIG1sIG9mIHNvbWUgSVYgc29sdXRpb24sIHRoZW4gdGhpcyB3b3VsZCBhbGwgYmUgY29tbXVuaWNhdGVkIGluIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlLiBJZiB0aGUgYWRtaW5pc3RyYXRpb24gaXMgbm90IGludGVuZGVkIHRvIGJlIGluc3RhbnRhbmVvdXMgKHJhdGUgaXMgcHJlc2VudCBvciB0aW1pbmcgaGFzIGEgZHVyYXRpb24pLCB0aGlzIGNhbiBiZSBzcGVjaWZpZWQgdG8gY29udmV5IHRoZSB0b3RhbCBhbW91bnQgdG8gYmUgYWRtaW5pc3RlcmVkIG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lIGFzIGluZGljYXRlZCBieSB0aGUgc2NoZWR1bGUgZS5nLiA1MDAgbWwgaW4gZG9zZSwgd2l0aCB0aW1pbmcgdXNlZCB0byBjb252ZXkgdGhhdCB0aGlzIHNob3VsZCBiZSBkb25lIG92ZXIgNCBob3Vycy5cclxuICAgKi9cclxuICBkb3NlUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgc3BlY2lmaWVzIHRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG1lZGljYXRpb24sIG5vdCB0aGUgcXVhbnRpdHkgZm9yIGVhY2ggYWN0aXZlIGluZ3JlZGllbnQocykuIEVhY2ggaW5ncmVkaWVudCBhbW91bnQgY2FuIGJlIGNvbW11bmljYXRlZCBpbiB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS4gRm9yIGV4YW1wbGUsIGlmIG9uZSB3YW50cyB0byBjb21tdW5pY2F0ZSB0aGF0IGEgdGFibGV0IHdhcyAzNzUgbWcsIHdoZXJlIHRoZSBkb3NlIHdhcyBvbmUgdGFibGV0LCB5b3UgY2FuIHVzZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZSB0byBkb2N1bWVudCB0aGF0IHRoZSB0YWJsZXQgd2FzIGNvbXByaXNlZCBvZiAzNzUgbWcgb2YgZHJ1ZyBYWVouIEFsdGVybmF0aXZlbHkgaWYgdGhlIGRvc2Ugd2FzIDM3NSBtZywgdGhlbiB5b3UgbWF5IG9ubHkgbmVlZCB0byB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gaW5kaWNhdGUgdGhpcyB3YXMgYSB0YWJsZXQuIElmIHRoZSBleGFtcGxlIHdlcmUgYW4gSVYgc3VjaCBhcyBkb3BhbWluZSBhbmQgeW91IHdhbnRlZCB0byBjb21tdW5pY2F0ZSB0aGF0IDQwMG1nIG9mIGRvcGFtaW5lIHdhcyBtaXhlZCBpbiA1MDAgbWwgb2Ygc29tZSBJViBzb2x1dGlvbiwgdGhlbiB0aGlzIHdvdWxkIGFsbCBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIElmIHRoZSBhZG1pbmlzdHJhdGlvbiBpcyBub3QgaW50ZW5kZWQgdG8gYmUgaW5zdGFudGFuZW91cyAocmF0ZSBpcyBwcmVzZW50IG9yIHRpbWluZyBoYXMgYSBkdXJhdGlvbiksIHRoaXMgY2FuIGJlIHNwZWNpZmllZCB0byBjb252ZXkgdGhlIHRvdGFsIGFtb3VudCB0byBiZSBhZG1pbmlzdGVyZWQgb3ZlciB0aGUgcGVyaW9kIG9mIHRpbWUgYXMgaW5kaWNhdGVkIGJ5IHRoZSBzY2hlZHVsZSBlLmcuIDUwMCBtbCBpbiBkb3NlLCB3aXRoIHRpbWluZyB1c2VkIHRvIGNvbnZleSB0aGF0IHRoaXMgc2hvdWxkIGJlIGRvbmUgb3ZlciA0IGhvdXJzLlxyXG4gICAqL1xyXG4gIGRvc2VRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzdXBwbHkgYm90aCBhIHJhdGUgYW5kIGEgZG9zZVF1YW50aXR5IHRvIHByb3ZpZGUgZnVsbCBkZXRhaWxzIGFib3V0IGhvdyB0aGUgbWVkaWNhdGlvbiBpcyB0byBiZSBhZG1pbmlzdGVyZWQgYW5kIHN1cHBsaWVkLiBJZiB0aGUgcmF0ZSBpcyBpbnRlbmRlZCB0byBjaGFuZ2Ugb3ZlciB0aW1lLCBkZXBlbmRpbmcgb24gbG9jYWwgcnVsZXMvcmVndWxhdGlvbnMsIGVhY2ggY2hhbmdlIHNob3VsZCBiZSBjYXB0dXJlZCBhcyBhIG5ldyB2ZXJzaW9uIG9mIHRoZSBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIGFuIHVwZGF0ZWQgcmF0ZSwgb3IgY2FwdHVyZWQgd2l0aCBhIG5ldyBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIHRoZSBuZXcgcmF0ZS5cclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzcGVjaWZ5IGEgcmF0ZSBvdmVyIHRpbWUgKGZvciBleGFtcGxlLCAxMDAgbWwvaG91cikgdXNpbmcgZWl0aGVyIHRoZSByYXRlUmF0aW8gYW5kIHJhdGVRdWFudGl0eS4gIFRoZSByYXRlUXVhbnRpdHkgYXBwcm9hY2ggcmVxdWlyZXMgc3lzdGVtcyB0byBoYXZlIHRoZSBjYXBhYmlsaXR5IHRvIHBhcnNlIFVDVU0gZ3JhbW1lciB3aGVyZSBtbC9ob3VyIGlzIGluY2x1ZGVkIHJhdGhlciB0aGFuIGEgc3BlY2lmaWMgcmF0aW8gd2hlcmUgdGhlIHRpbWUgaXMgc3BlY2lmaWVkIGFzIHRoZSBkZW5vbWluYXRvci4gIFdoZXJlIGEgcmF0ZSBzdWNoIGFzIDUwMG1sIG92ZXIgMiBob3VycyBpcyBzcGVjaWZpZWQsIHRoZSB1c2Ugb2YgcmF0ZVJhdGlvIG1heSBiZSBtb3JlIHNlbWFudGljYWxseSBjb3JyZWN0IHRoYW4gc3BlY2lmeWluZyB1c2luZyBhIHJhdGVRdWFudGl0eSBvZiAyNTAgbWcvaG91ci5cclxuICAgKi9cclxuICByYXRlPzogZmhpci5SYXRpb3xmaGlyLlJhbmdlfGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHN1cHBseSBib3RoIGEgcmF0ZSBhbmQgYSBkb3NlUXVhbnRpdHkgdG8gcHJvdmlkZSBmdWxsIGRldGFpbHMgYWJvdXQgaG93IHRoZSBtZWRpY2F0aW9uIGlzIHRvIGJlIGFkbWluaXN0ZXJlZCBhbmQgc3VwcGxpZWQuIElmIHRoZSByYXRlIGlzIGludGVuZGVkIHRvIGNoYW5nZSBvdmVyIHRpbWUsIGRlcGVuZGluZyBvbiBsb2NhbCBydWxlcy9yZWd1bGF0aW9ucywgZWFjaCBjaGFuZ2Ugc2hvdWxkIGJlIGNhcHR1cmVkIGFzIGEgbmV3IHZlcnNpb24gb2YgdGhlIE1lZGljYXRpb25SZXF1ZXN0IHdpdGggYW4gdXBkYXRlZCByYXRlLCBvciBjYXB0dXJlZCB3aXRoIGEgbmV3IE1lZGljYXRpb25SZXF1ZXN0IHdpdGggdGhlIG5ldyByYXRlLlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHNwZWNpZnkgYSByYXRlIG92ZXIgdGltZSAoZm9yIGV4YW1wbGUsIDEwMCBtbC9ob3VyKSB1c2luZyBlaXRoZXIgdGhlIHJhdGVSYXRpbyBhbmQgcmF0ZVF1YW50aXR5LiAgVGhlIHJhdGVRdWFudGl0eSBhcHByb2FjaCByZXF1aXJlcyBzeXN0ZW1zIHRvIGhhdmUgdGhlIGNhcGFiaWxpdHkgdG8gcGFyc2UgVUNVTSBncmFtbWVyIHdoZXJlIG1sL2hvdXIgaXMgaW5jbHVkZWQgcmF0aGVyIHRoYW4gYSBzcGVjaWZpYyByYXRpbyB3aGVyZSB0aGUgdGltZSBpcyBzcGVjaWZpZWQgYXMgdGhlIGRlbm9taW5hdG9yLiAgV2hlcmUgYSByYXRlIHN1Y2ggYXMgNTAwbWwgb3ZlciAyIGhvdXJzIGlzIHNwZWNpZmllZCwgdGhlIHVzZSBvZiByYXRlUmF0aW8gbWF5IGJlIG1vcmUgc2VtYW50aWNhbGx5IGNvcnJlY3QgdGhhbiBzcGVjaWZ5aW5nIHVzaW5nIGEgcmF0ZVF1YW50aXR5IG9mIDI1MCBtZy9ob3VyLlxyXG4gICAqL1xyXG4gIHJhdGVSYXRpbz86IGZoaXIuUmF0aW9BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzdXBwbHkgYm90aCBhIHJhdGUgYW5kIGEgZG9zZVF1YW50aXR5IHRvIHByb3ZpZGUgZnVsbCBkZXRhaWxzIGFib3V0IGhvdyB0aGUgbWVkaWNhdGlvbiBpcyB0byBiZSBhZG1pbmlzdGVyZWQgYW5kIHN1cHBsaWVkLiBJZiB0aGUgcmF0ZSBpcyBpbnRlbmRlZCB0byBjaGFuZ2Ugb3ZlciB0aW1lLCBkZXBlbmRpbmcgb24gbG9jYWwgcnVsZXMvcmVndWxhdGlvbnMsIGVhY2ggY2hhbmdlIHNob3VsZCBiZSBjYXB0dXJlZCBhcyBhIG5ldyB2ZXJzaW9uIG9mIHRoZSBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIGFuIHVwZGF0ZWQgcmF0ZSwgb3IgY2FwdHVyZWQgd2l0aCBhIG5ldyBNZWRpY2F0aW9uUmVxdWVzdCB3aXRoIHRoZSBuZXcgcmF0ZS5cclxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBzcGVjaWZ5IGEgcmF0ZSBvdmVyIHRpbWUgKGZvciBleGFtcGxlLCAxMDAgbWwvaG91cikgdXNpbmcgZWl0aGVyIHRoZSByYXRlUmF0aW8gYW5kIHJhdGVRdWFudGl0eS4gIFRoZSByYXRlUXVhbnRpdHkgYXBwcm9hY2ggcmVxdWlyZXMgc3lzdGVtcyB0byBoYXZlIHRoZSBjYXBhYmlsaXR5IHRvIHBhcnNlIFVDVU0gZ3JhbW1lciB3aGVyZSBtbC9ob3VyIGlzIGluY2x1ZGVkIHJhdGhlciB0aGFuIGEgc3BlY2lmaWMgcmF0aW8gd2hlcmUgdGhlIHRpbWUgaXMgc3BlY2lmaWVkIGFzIHRoZSBkZW5vbWluYXRvci4gIFdoZXJlIGEgcmF0ZSBzdWNoIGFzIDUwMG1sIG92ZXIgMiBob3VycyBpcyBzcGVjaWZpZWQsIHRoZSB1c2Ugb2YgcmF0ZVJhdGlvIG1heSBiZSBtb3JlIHNlbWFudGljYWxseSBjb3JyZWN0IHRoYW4gc3BlY2lmeWluZyB1c2luZyBhIHJhdGVRdWFudGl0eSBvZiAyNTAgbWcvaG91ci5cclxuICAgKi9cclxuICByYXRlUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gc3VwcGx5IGJvdGggYSByYXRlIGFuZCBhIGRvc2VRdWFudGl0eSB0byBwcm92aWRlIGZ1bGwgZGV0YWlscyBhYm91dCBob3cgdGhlIG1lZGljYXRpb24gaXMgdG8gYmUgYWRtaW5pc3RlcmVkIGFuZCBzdXBwbGllZC4gSWYgdGhlIHJhdGUgaXMgaW50ZW5kZWQgdG8gY2hhbmdlIG92ZXIgdGltZSwgZGVwZW5kaW5nIG9uIGxvY2FsIHJ1bGVzL3JlZ3VsYXRpb25zLCBlYWNoIGNoYW5nZSBzaG91bGQgYmUgY2FwdHVyZWQgYXMgYSBuZXcgdmVyc2lvbiBvZiB0aGUgTWVkaWNhdGlvblJlcXVlc3Qgd2l0aCBhbiB1cGRhdGVkIHJhdGUsIG9yIGNhcHR1cmVkIHdpdGggYSBuZXcgTWVkaWNhdGlvblJlcXVlc3Qgd2l0aCB0aGUgbmV3IHJhdGUuXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gc3BlY2lmeSBhIHJhdGUgb3ZlciB0aW1lIChmb3IgZXhhbXBsZSwgMTAwIG1sL2hvdXIpIHVzaW5nIGVpdGhlciB0aGUgcmF0ZVJhdGlvIGFuZCByYXRlUXVhbnRpdHkuICBUaGUgcmF0ZVF1YW50aXR5IGFwcHJvYWNoIHJlcXVpcmVzIHN5c3RlbXMgdG8gaGF2ZSB0aGUgY2FwYWJpbGl0eSB0byBwYXJzZSBVQ1VNIGdyYW1tZXIgd2hlcmUgbWwvaG91ciBpcyBpbmNsdWRlZCByYXRoZXIgdGhhbiBhIHNwZWNpZmljIHJhdGlvIHdoZXJlIHRoZSB0aW1lIGlzIHNwZWNpZmllZCBhcyB0aGUgZGVub21pbmF0b3IuICBXaGVyZSBhIHJhdGUgc3VjaCBhcyA1MDBtbCBvdmVyIDIgaG91cnMgaXMgc3BlY2lmaWVkLCB0aGUgdXNlIG9mIHJhdGVSYXRpbyBtYXkgYmUgbW9yZSBzZW1hbnRpY2FsbHkgY29ycmVjdCB0aGFuIHNwZWNpZnlpbmcgdXNpbmcgYSByYXRlUXVhbnRpdHkgb2YgMjUwIG1nL2hvdXIuXHJcbiAgICovXHJcbiAgcmF0ZVF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGFtb3VudCBvZiBtZWRpY2F0aW9uIGFkbWluaXN0ZXJlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEb3NhZ2VEb3NlQW5kUmF0ZSBleHRlbmRzIGZoaXIuRmhpckVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRG9zYWdlRG9zZUFuZFJhdGUnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIGRvc2Ugb3IgcmF0ZSBzcGVjaWZpZWQsIGZvciBleGFtcGxlLCBvcmRlcmVkIG9yIGNhbGN1bGF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgc3BlY2lmaWVzIHRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG1lZGljYXRpb24sIG5vdCB0aGUgcXVhbnRpdHkgZm9yIGVhY2ggYWN0aXZlIGluZ3JlZGllbnQocykuIEVhY2ggaW5ncmVkaWVudCBhbW91bnQgY2FuIGJlIGNvbW11bmljYXRlZCBpbiB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS4gRm9yIGV4YW1wbGUsIGlmIG9uZSB3YW50cyB0byBjb21tdW5pY2F0ZSB0aGF0IGEgdGFibGV0IHdhcyAzNzUgbWcsIHdoZXJlIHRoZSBkb3NlIHdhcyBvbmUgdGFibGV0LCB5b3UgY2FuIHVzZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZSB0byBkb2N1bWVudCB0aGF0IHRoZSB0YWJsZXQgd2FzIGNvbXByaXNlZCBvZiAzNzUgbWcgb2YgZHJ1ZyBYWVouIEFsdGVybmF0aXZlbHkgaWYgdGhlIGRvc2Ugd2FzIDM3NSBtZywgdGhlbiB5b3UgbWF5IG9ubHkgbmVlZCB0byB1c2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UgdG8gaW5kaWNhdGUgdGhpcyB3YXMgYSB0YWJsZXQuIElmIHRoZSBleGFtcGxlIHdlcmUgYW4gSVYgc3VjaCBhcyBkb3BhbWluZSBhbmQgeW91IHdhbnRlZCB0byBjb21tdW5pY2F0ZSB0aGF0IDQwMG1nIG9mIGRvcGFtaW5lIHdhcyBtaXhlZCBpbiA1MDAgbWwgb2Ygc29tZSBJViBzb2x1dGlvbiwgdGhlbiB0aGlzIHdvdWxkIGFsbCBiZSBjb21tdW5pY2F0ZWQgaW4gdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuIElmIHRoZSBhZG1pbmlzdHJhdGlvbiBpcyBub3QgaW50ZW5kZWQgdG8gYmUgaW5zdGFudGFuZW91cyAocmF0ZSBpcyBwcmVzZW50IG9yIHRpbWluZyBoYXMgYSBkdXJhdGlvbiksIHRoaXMgY2FuIGJlIHNwZWNpZmllZCB0byBjb252ZXkgdGhlIHRvdGFsIGFtb3VudCB0byBiZSBhZG1pbmlzdGVyZWQgb3ZlciB0aGUgcGVyaW9kIG9mIHRpbWUgYXMgaW5kaWNhdGVkIGJ5IHRoZSBzY2hlZHVsZSBlLmcuIDUwMCBtbCBpbiBkb3NlLCB3aXRoIHRpbWluZyB1c2VkIHRvIGNvbnZleSB0aGF0IHRoaXMgc2hvdWxkIGJlIGRvbmUgb3ZlciA0IGhvdXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb3NlPzogKGZoaXIuUmFuZ2V8Zmhpci5RdWFudGl0eSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgRG9zYWdlLmRvc2VBbmRSYXRlLmRvc2VbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfZG9zZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHN1cHBseSBib3RoIGEgcmF0ZSBhbmQgYSBkb3NlUXVhbnRpdHkgdG8gcHJvdmlkZSBmdWxsIGRldGFpbHMgYWJvdXQgaG93IHRoZSBtZWRpY2F0aW9uIGlzIHRvIGJlIGFkbWluaXN0ZXJlZCBhbmQgc3VwcGxpZWQuIElmIHRoZSByYXRlIGlzIGludGVuZGVkIHRvIGNoYW5nZSBvdmVyIHRpbWUsIGRlcGVuZGluZyBvbiBsb2NhbCBydWxlcy9yZWd1bGF0aW9ucywgZWFjaCBjaGFuZ2Ugc2hvdWxkIGJlIGNhcHR1cmVkIGFzIGEgbmV3IHZlcnNpb24gb2YgdGhlIE1lZGljYXRpb25SZXF1ZXN0IHdpdGggYW4gdXBkYXRlZCByYXRlLCBvciBjYXB0dXJlZCB3aXRoIGEgbmV3IE1lZGljYXRpb25SZXF1ZXN0IHdpdGggdGhlIG5ldyByYXRlLlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIHNwZWNpZnkgYSByYXRlIG92ZXIgdGltZSAoZm9yIGV4YW1wbGUsIDEwMCBtbC9ob3VyKSB1c2luZyBlaXRoZXIgdGhlIHJhdGVSYXRpbyBhbmQgcmF0ZVF1YW50aXR5LiAgVGhlIHJhdGVRdWFudGl0eSBhcHByb2FjaCByZXF1aXJlcyBzeXN0ZW1zIHRvIGhhdmUgdGhlIGNhcGFiaWxpdHkgdG8gcGFyc2UgVUNVTSBncmFtbWVyIHdoZXJlIG1sL2hvdXIgaXMgaW5jbHVkZWQgcmF0aGVyIHRoYW4gYSBzcGVjaWZpYyByYXRpbyB3aGVyZSB0aGUgdGltZSBpcyBzcGVjaWZpZWQgYXMgdGhlIGRlbm9taW5hdG9yLiAgV2hlcmUgYSByYXRlIHN1Y2ggYXMgNTAwbWwgb3ZlciAyIGhvdXJzIGlzIHNwZWNpZmllZCwgdGhlIHVzZSBvZiByYXRlUmF0aW8gbWF5IGJlIG1vcmUgc2VtYW50aWNhbGx5IGNvcnJlY3QgdGhhbiBzcGVjaWZ5aW5nIHVzaW5nIGEgcmF0ZVF1YW50aXR5IG9mIDI1MCBtZy9ob3VyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByYXRlPzogKGZoaXIuUmF0aW98Zmhpci5SYW5nZXxmaGlyLlF1YW50aXR5KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBEb3NhZ2UuZG9zZUFuZFJhdGUucmF0ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19yYXRlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRG9zYWdlRG9zZUFuZFJhdGUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxEb3NhZ2VEb3NlQW5kUmF0ZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9zZSddKSB7IHRoaXMuZG9zZSA9IHNvdXJjZS5kb3NlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Rvc2VSYW5nZSddKSB7IHRoaXMuZG9zZSA9IG5ldyBmaGlyLlJhbmdlKHNvdXJjZS5kb3NlUmFuZ2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Rvc2VRdWFudGl0eSddKSB7IHRoaXMuZG9zZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5kb3NlUXVhbnRpdHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydyYXRlJ10pIHsgdGhpcy5yYXRlID0gc291cmNlLnJhdGU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVJhdGlvJ10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUmF0aW8oc291cmNlLnJhdGVSYXRpbyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVJhbmdlJ10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUmFuZ2Uoc291cmNlLnJhdGVSYW5nZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVF1YW50aXR5J10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnJhdGVRdWFudGl0eSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBEb3NhZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG9zYWdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSBvcmRlciBpbiB3aGljaCB0aGUgZG9zYWdlIGluc3RydWN0aW9ucyBzaG91bGQgYmUgYXBwbGllZCBvciBpbnRlcnByZXRlZC5cclxuICAgKi9cclxuICBzZXF1ZW5jZT86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRG9zYWdlLnNlcXVlbmNlXHJcbiAgICovXHJcbiAgX3NlcXVlbmNlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBlLmcuIFNJRy5cclxuICAgKi9cclxuICB0ZXh0PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERvc2FnZS50ZXh0XHJcbiAgICovXHJcbiAgX3RleHQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IGFkbWluaXN0cmF0aW9uIG9yIHByZXBhcmF0aW9uIG9mIHRoZSBtZWRpY2F0aW9uIChlLmcuIFwiaW5mdXNlIGFzIHJhcGlkbHkgYXMgcG9zc2libHkgdmlhIGludHJhcGVyaXRvbmVhbCBwb3J0XCIgb3IgXCJpbW1lZGlhdGVseSBmb2xsb3dpbmcgZHJ1ZyB4XCIpIHNob3VsZCBiZSBwb3B1bGF0ZWQgaW4gZG9zYWdlLnRleHQuXHJcbiAgICovXHJcbiAgYWRkaXRpb25hbEluc3RydWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluc3RydWN0aW9ucyBpbiB0ZXJtcyB0aGF0IGFyZSB1bmRlcnN0b29kIGJ5IHRoZSBwYXRpZW50IG9yIGNvbnN1bWVyLlxyXG4gICAqL1xyXG4gIHBhdGllbnRJbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBEb3NhZ2UucGF0aWVudEluc3RydWN0aW9uXHJcbiAgICovXHJcbiAgX3BhdGllbnRJbnN0cnVjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBhdHRyaWJ1dGUgbWlnaHQgbm90IGFsd2F5cyBiZSBwb3B1bGF0ZWQgd2hpbGUgdGhlIERvc2FnZS50ZXh0IGlzIGV4cGVjdGVkIHRvIGJlIHBvcHVsYXRlZC4gIElmIGJvdGggYXJlIHBvcHVsYXRlZCwgdGhlbiB0aGUgRG9zYWdlLnRleHQgc2hvdWxkIHJlZmxlY3QgdGhlIGNvbnRlbnQgb2YgdGhlIERvc2FnZS50aW1pbmcuXHJcbiAgICovXHJcbiAgdGltaW5nPzogZmhpci5UaW1pbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGhvdXQgYSByZWFzb24gYnkgc2V0dGluZyB0aGUgQm9vbGVhbiA9IFRydWUuICBJbiB0aGlzIGNhc2UgdGhlIENvZGVhYmxlQ29uY2VwdCBpcyBub3QgcG9wdWxhdGVkLiAgT3IgeW91IGNhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aCBhIHJlYXNvbiBieSBpbmNsdWRpbmcgdGhlIENvZGVhYmxlQ29uY2VwdC4gIEluIHRoaXMgY2FzZSB0aGUgQm9vbGVhbiBpcyBhc3N1bWVkIHRvIGJlIFRydWUuICBJZiB5b3Ugc2V0IHRoZSBCb29sZWFuIHRvIEZhbHNlLCB0aGVuIHRoZSBkb3NlIGlzIGdpdmVuIGFjY29yZGluZyB0byB0aGUgc2NoZWR1bGUgYW5kIGlzIG5vdCBcInByblwiIG9yIFwiYXMgbmVlZGVkXCIuXHJcbiAgICovXHJcbiAgYXNOZWVkZWQ/OiBmaGlyLkZoaXJCb29sZWFufGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGhvdXQgYSByZWFzb24gYnkgc2V0dGluZyB0aGUgQm9vbGVhbiA9IFRydWUuICBJbiB0aGlzIGNhc2UgdGhlIENvZGVhYmxlQ29uY2VwdCBpcyBub3QgcG9wdWxhdGVkLiAgT3IgeW91IGNhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aCBhIHJlYXNvbiBieSBpbmNsdWRpbmcgdGhlIENvZGVhYmxlQ29uY2VwdC4gIEluIHRoaXMgY2FzZSB0aGUgQm9vbGVhbiBpcyBhc3N1bWVkIHRvIGJlIFRydWUuICBJZiB5b3Ugc2V0IHRoZSBCb29sZWFuIHRvIEZhbHNlLCB0aGVuIHRoZSBkb3NlIGlzIGdpdmVuIGFjY29yZGluZyB0byB0aGUgc2NoZWR1bGUgYW5kIGlzIG5vdCBcInByblwiIG9yIFwiYXMgbmVlZGVkXCIuXHJcbiAgICovXHJcbiAgYXNOZWVkZWRCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGhvdXQgYSByZWFzb24gYnkgc2V0dGluZyB0aGUgQm9vbGVhbiA9IFRydWUuICBJbiB0aGlzIGNhc2UgdGhlIENvZGVhYmxlQ29uY2VwdCBpcyBub3QgcG9wdWxhdGVkLiAgT3IgeW91IGNhbiBleHByZXNzIFwiYXMgbmVlZGVkXCIgd2l0aCBhIHJlYXNvbiBieSBpbmNsdWRpbmcgdGhlIENvZGVhYmxlQ29uY2VwdC4gIEluIHRoaXMgY2FzZSB0aGUgQm9vbGVhbiBpcyBhc3N1bWVkIHRvIGJlIFRydWUuICBJZiB5b3Ugc2V0IHRoZSBCb29sZWFuIHRvIEZhbHNlLCB0aGVuIHRoZSBkb3NlIGlzIGdpdmVuIGFjY29yZGluZyB0byB0aGUgc2NoZWR1bGUgYW5kIGlzIG5vdCBcInByblwiIG9yIFwiYXMgbmVlZGVkXCIuXHJcbiAgICovXHJcbiAgYXNOZWVkZWRDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSB1c2UgY2FzZSByZXF1aXJlcyBhdHRyaWJ1dGVzIGZyb20gdGhlIEJvZHlTaXRlIHJlc291cmNlIChlLmcuIHRvIGlkZW50aWZ5IGFuZCB0cmFjayBzZXBhcmF0ZWx5KSB0aGVuIHVzZSB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uIFtib2R5U2l0ZV0oZXh0ZW5zaW9uLWJvZHlzaXRlLmh0bWwpLiAgTWF5IGJlIGEgc3VtbWFyeSBjb2RlLCBvciBhIHJlZmVyZW5jZSB0byBhIHZlcnkgcHJlY2lzZSBkZWZpbml0aW9uIG9mIHRoZSBsb2NhdGlvbiwgb3IgYm90aC5cclxuICAgKi9cclxuICBzaXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIb3cgZHJ1ZyBzaG91bGQgZW50ZXIgYm9keS5cclxuICAgKi9cclxuICByb3V0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGVybWlub2xvZ2llcyB1c2VkIG9mdGVuIHByZS1jb29yZGluYXRlIHRoaXMgdGVybSB3aXRoIHRoZSByb3V0ZSBhbmQgb3IgZm9ybSBvZiBhZG1pbmlzdHJhdGlvbi5cclxuICAgKi9cclxuICBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgbWVkaWNhdGlvbiBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgZG9zZUFuZFJhdGU/OiBmaGlyLkRvc2FnZURvc2VBbmRSYXRlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGludGVuZGVkIGZvciB1c2UgYXMgYW4gYWRqdW5jdCB0byB0aGUgZG9zYWdlIHdoZW4gdGhlcmUgaXMgYW4gdXBwZXIgY2FwLiAgRm9yIGV4YW1wbGUgXCIyIHRhYmxldHMgZXZlcnkgNCBob3VycyB0byBhIG1heGltdW0gb2YgOC9kYXlcIi5cclxuICAgKi9cclxuICBtYXhEb3NlUGVyUGVyaW9kPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgaW50ZW5kZWQgZm9yIHVzZSBhcyBhbiBhZGp1bmN0IHRvIHRoZSBkb3NhZ2Ugd2hlbiB0aGVyZSBpcyBhbiB1cHBlciBjYXAuICBGb3IgZXhhbXBsZSwgYSBib2R5IHN1cmZhY2UgYXJlYSByZWxhdGVkIGRvc2Ugd2l0aCBhIG1heGltdW0gYW1vdW50LCBzdWNoIGFzIDEuNSBtZy9tMiAobWF4aW11bSAyIG1nKSBJViBvdmVyIDUg4oCTIDEwIG1pbnV0ZXMgd291bGQgaGF2ZSBkb3NlUXVhbnRpdHkgb2YgMS41IG1nL20yIGFuZCBtYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24gb2YgMiBtZy5cclxuICAgKi9cclxuICBtYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXBwZXIgbGltaXQgb24gbWVkaWNhdGlvbiBwZXIgbGlmZXRpbWUgb2YgdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgbWF4RG9zZVBlckxpZmV0aW1lPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5kaWNhdGVzIGhvdyB0aGUgbWVkaWNhdGlvbiBpcy93YXMgdGFrZW4gb3Igc2hvdWxkIGJlIHRha2VuIGJ5IHRoZSBwYXRpZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERvc2FnZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0Rvc2FnZSc7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSBvcmRlciBpbiB3aGljaCB0aGUgZG9zYWdlIGluc3RydWN0aW9ucyBzaG91bGQgYmUgYXBwbGllZCBvciBpbnRlcnByZXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc2VxdWVuY2U/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBlLmcuIFNJRy5cclxuICAgKi9cclxuICBwdWJsaWMgdGV4dD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgYWRtaW5pc3RyYXRpb24gb3IgcHJlcGFyYXRpb24gb2YgdGhlIG1lZGljYXRpb24gKGUuZy4gXCJpbmZ1c2UgYXMgcmFwaWRseSBhcyBwb3NzaWJseSB2aWEgaW50cmFwZXJpdG9uZWFsIHBvcnRcIiBvciBcImltbWVkaWF0ZWx5IGZvbGxvd2luZyBkcnVnIHhcIikgc2hvdWxkIGJlIHBvcHVsYXRlZCBpbiBkb3NhZ2UudGV4dC5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkaXRpb25hbEluc3RydWN0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluc3RydWN0aW9ucyBpbiB0ZXJtcyB0aGF0IGFyZSB1bmRlcnN0b29kIGJ5IHRoZSBwYXRpZW50IG9yIGNvbnN1bWVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50SW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYXR0cmlidXRlIG1pZ2h0IG5vdCBhbHdheXMgYmUgcG9wdWxhdGVkIHdoaWxlIHRoZSBEb3NhZ2UudGV4dCBpcyBleHBlY3RlZCB0byBiZSBwb3B1bGF0ZWQuICBJZiBib3RoIGFyZSBwb3B1bGF0ZWQsIHRoZW4gdGhlIERvc2FnZS50ZXh0IHNob3VsZCByZWZsZWN0IHRoZSBjb250ZW50IG9mIHRoZSBEb3NhZ2UudGltaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aW1pbmc/OiBmaGlyLlRpbWluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FuIGV4cHJlc3MgXCJhcyBuZWVkZWRcIiB3aXRob3V0IGEgcmVhc29uIGJ5IHNldHRpbmcgdGhlIEJvb2xlYW4gPSBUcnVlLiAgSW4gdGhpcyBjYXNlIHRoZSBDb2RlYWJsZUNvbmNlcHQgaXMgbm90IHBvcHVsYXRlZC4gIE9yIHlvdSBjYW4gZXhwcmVzcyBcImFzIG5lZWRlZFwiIHdpdGggYSByZWFzb24gYnkgaW5jbHVkaW5nIHRoZSBDb2RlYWJsZUNvbmNlcHQuICBJbiB0aGlzIGNhc2UgdGhlIEJvb2xlYW4gaXMgYXNzdW1lZCB0byBiZSBUcnVlLiAgSWYgeW91IHNldCB0aGUgQm9vbGVhbiB0byBGYWxzZSwgdGhlbiB0aGUgZG9zZSBpcyBnaXZlbiBhY2NvcmRpbmcgdG8gdGhlIHNjaGVkdWxlIGFuZCBpcyBub3QgXCJwcm5cIiBvciBcImFzIG5lZWRlZFwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhc05lZWRlZD86IChmaGlyLkZoaXJCb29sZWFufGZoaXIuQ29kZWFibGVDb25jZXB0KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBEb3NhZ2UuYXNOZWVkZWRbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfYXNOZWVkZWRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBJZiB0aGUgdXNlIGNhc2UgcmVxdWlyZXMgYXR0cmlidXRlcyBmcm9tIHRoZSBCb2R5U2l0ZSByZXNvdXJjZSAoZS5nLiB0byBpZGVudGlmeSBhbmQgdHJhY2sgc2VwYXJhdGVseSkgdGhlbiB1c2UgdGhlIHN0YW5kYXJkIGV4dGVuc2lvbiBbYm9keVNpdGVdKGV4dGVuc2lvbi1ib2R5c2l0ZS5odG1sKS4gIE1heSBiZSBhIHN1bW1hcnkgY29kZSwgb3IgYSByZWZlcmVuY2UgdG8gYSB2ZXJ5IHByZWNpc2UgZGVmaW5pdGlvbiBvZiB0aGUgbG9jYXRpb24sIG9yIGJvdGguXHJcbiAgICovXHJcbiAgcHVibGljIHNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSG93IGRydWcgc2hvdWxkIGVudGVyIGJvZHkuXHJcbiAgICovXHJcbiAgcHVibGljIHJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRlcm1pbm9sb2dpZXMgdXNlZCBvZnRlbiBwcmUtY29vcmRpbmF0ZSB0aGlzIHRlcm0gd2l0aCB0aGUgcm91dGUgYW5kIG9yIGZvcm0gb2YgYWRtaW5pc3RyYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYW1vdW50IG9mIG1lZGljYXRpb24gYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb3NlQW5kUmF0ZTogZmhpci5Eb3NhZ2VEb3NlQW5kUmF0ZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgaW50ZW5kZWQgZm9yIHVzZSBhcyBhbiBhZGp1bmN0IHRvIHRoZSBkb3NhZ2Ugd2hlbiB0aGVyZSBpcyBhbiB1cHBlciBjYXAuICBGb3IgZXhhbXBsZSBcIjIgdGFibGV0cyBldmVyeSA0IGhvdXJzIHRvIGEgbWF4aW11bSBvZiA4L2RheVwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhEb3NlUGVyUGVyaW9kPzogZmhpci5SYXRpb3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBpbnRlbmRlZCBmb3IgdXNlIGFzIGFuIGFkanVuY3QgdG8gdGhlIGRvc2FnZSB3aGVuIHRoZXJlIGlzIGFuIHVwcGVyIGNhcC4gIEZvciBleGFtcGxlLCBhIGJvZHkgc3VyZmFjZSBhcmVhIHJlbGF0ZWQgZG9zZSB3aXRoIGEgbWF4aW11bSBhbW91bnQsIHN1Y2ggYXMgMS41IG1nL20yIChtYXhpbXVtIDIgbWcpIElWIG92ZXIgNSDigJMgMTAgbWludXRlcyB3b3VsZCBoYXZlIGRvc2VRdWFudGl0eSBvZiAxLjUgbWcvbTIgYW5kIG1heERvc2VQZXJBZG1pbmlzdHJhdGlvbiBvZiAyIG1nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVcHBlciBsaW1pdCBvbiBtZWRpY2F0aW9uIHBlciBsaWZldGltZSBvZiB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4RG9zZVBlckxpZmV0aW1lPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRG9zYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RG9zYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NlcXVlbmNlJ10pIHsgdGhpcy5zZXF1ZW5jZSA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLnNlcXVlbmNlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zZXF1ZW5jZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNlcXVlbmNlKSB7IHRoaXMuc2VxdWVuY2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc2VxdWVuY2UhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zZXF1ZW5jZSA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fc2VxdWVuY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0ZXh0J10pIHsgdGhpcy50ZXh0ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS50ZXh0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190ZXh0J10pIHtcclxuICAgICAgaWYgKHRoaXMudGV4dCkgeyB0aGlzLnRleHQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdGV4dCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnRleHQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fdGV4dCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkaXRpb25hbEluc3RydWN0aW9uJ10pIHsgdGhpcy5hZGRpdGlvbmFsSW5zdHJ1Y3Rpb24gPSBzb3VyY2UuYWRkaXRpb25hbEluc3RydWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWRkaXRpb25hbEluc3RydWN0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnRJbnN0cnVjdGlvbiddKSB7IHRoaXMucGF0aWVudEluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wYXRpZW50SW5zdHJ1Y3Rpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3BhdGllbnRJbnN0cnVjdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnBhdGllbnRJbnN0cnVjdGlvbikgeyB0aGlzLnBhdGllbnRJbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wYXRpZW50SW5zdHJ1Y3Rpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wYXRpZW50SW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcGF0aWVudEluc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0aW1pbmcnXSkgeyB0aGlzLnRpbWluZyA9IG5ldyBmaGlyLlRpbWluZyhzb3VyY2UudGltaW5nKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXNOZWVkZWQnXSkgeyB0aGlzLmFzTmVlZGVkID0gc291cmNlLmFzTmVlZGVkOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2FzTmVlZGVkQm9vbGVhbiddKSB7IHRoaXMuYXNOZWVkZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5hc05lZWRlZEJvb2xlYW59KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydhc05lZWRlZENvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuYXNOZWVkZWQgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmFzTmVlZGVkQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2l0ZSddKSB7IHRoaXMuc2l0ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc2l0ZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JvdXRlJ10pIHsgdGhpcy5yb3V0ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uucm91dGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydtZXRob2QnXSkgeyB0aGlzLm1ldGhvZCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubWV0aG9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9zZUFuZFJhdGUnXSkgeyB0aGlzLmRvc2VBbmRSYXRlID0gc291cmNlLmRvc2VBbmRSYXRlLm1hcCgoeCkgPT4gbmV3IGZoaXIuRG9zYWdlRG9zZUFuZFJhdGUoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kb3NlQW5kUmF0ZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhEb3NlUGVyUGVyaW9kJ10pIHsgdGhpcy5tYXhEb3NlUGVyUGVyaW9kID0gbmV3IGZoaXIuUmF0aW8oc291cmNlLm1heERvc2VQZXJQZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24nXSkgeyB0aGlzLm1heERvc2VQZXJBZG1pbmlzdHJhdGlvbiA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5tYXhEb3NlUGVyQWRtaW5pc3RyYXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhEb3NlUGVyTGlmZXRpbWUnXSkgeyB0aGlzLm1heERvc2VQZXJMaWZldGltZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5tYXhEb3NlUGVyTGlmZXRpbWUpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcInNlcXVlbmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc2VxdWVuY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widGV4dFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnRleHQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYWRkaXRpb25hbEluc3RydWN0aW9uXCJdKSB7IHRoaXMuYWRkaXRpb25hbEluc3RydWN0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwYXRpZW50SW5zdHJ1Y3Rpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYXRpZW50SW5zdHJ1Y3Rpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widGltaW5nXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudGltaW5nLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInNpdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zaXRlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJvdXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucm91dGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibWV0aG9kXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubWV0aG9kLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRvc2VBbmRSYXRlXCJdKSB7IHRoaXMuZG9zZUFuZFJhdGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm1heERvc2VQZXJQZXJpb2RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tYXhEb3NlUGVyUGVyaW9kLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm1heERvc2VQZXJBZG1pbmlzdHJhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1heERvc2VQZXJBZG1pbmlzdHJhdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJtYXhEb3NlUGVyTGlmZXRpbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tYXhEb3NlUGVyTGlmZXRpbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==