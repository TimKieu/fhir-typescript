// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: AdverseEvent
import * as fhir from '../fhir.js';
// @ts-ignore
import { AdverseEventActualityVsValidation } from '../fhirValueSets/AdverseEventActualityVsValidation.js';
// @ts-ignore
import { AdverseEventSeverityVsValidation } from '../fhirValueSets/AdverseEventSeverityVsValidation.js';
// @ts-ignore
import { AdverseEventOutcomeVsValidation } from '../fhirValueSets/AdverseEventOutcomeVsValidation.js';
/**
 * Information on the possible cause of the event.
 */
export class AdverseEventSuspectEntityCausality extends fhir.BackboneElement {
    /**
     * Default constructor for AdverseEventSuspectEntityCausality - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['assessment']) {
            this.assessment = new fhir.CodeableConcept(source.assessment, options);
        }
        if (source['productRelatedness'] !== undefined) {
            this.productRelatedness = new fhir.FhirString({ value: source.productRelatedness }, options);
        }
        if (source['_productRelatedness']) {
            if (this.productRelatedness) {
                this.productRelatedness.addExtendedProperties(source._productRelatedness);
            }
            else {
                this.productRelatedness = new fhir.FhirString(source._productRelatedness, options);
            }
        }
        if (source['author']) {
            this.author = new fhir.Reference(source.author, options);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdverseEvent.suspectEntity.causality';
        }
        iss.push(...this.vOS('assessment', exp));
        iss.push(...this.vOS('productRelatedness', exp));
        iss.push(...this.vOS('author', exp));
        iss.push(...this.vOS('method', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEventSuspectEntityCausality._fts_dataType = 'AdverseEventSuspectEntityCausality';
/**
 * Describes the entity that is suspected to have caused the adverse event.
 */
export class AdverseEventSuspectEntity extends fhir.BackboneElement {
    /**
     * Default constructor for AdverseEventSuspectEntity - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['instance']) {
            this.instance = new fhir.Reference(source.instance, options);
        }
        else {
            this.instance = null;
        }
        if (source['causality']) {
            this.causality = source.causality.map((x) => new fhir.AdverseEventSuspectEntityCausality(x, options));
        }
        else {
            this.causality = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdverseEvent.suspectEntity';
        }
        iss.push(...this.vRS('instance', exp));
        iss.push(...this.vOA('causality', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEventSuspectEntity._fts_dataType = 'AdverseEventSuspectEntity';
/**
 * Actual or  potential/avoided event causing unintended physical injury resulting from or contributed to by medical care, a research study or other healthcare setting factors that requires additional monitoring, treatment, or hospitalization, or that results in death.
 */
export class AdverseEvent extends fhir.DomainResource {
    /**
     * Default constructor for AdverseEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AdverseEvent';
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier, options);
        }
        if (source['actuality'] !== undefined) {
            this.actuality = new fhir.FhirCode({ value: source.actuality }, options);
        }
        else {
            this.actuality = null;
        }
        if (source['_actuality']) {
            if (this.actuality) {
                this.actuality.addExtendedProperties(source._actuality);
            }
            else {
                this.actuality = new fhir.FhirCode(source._actuality, options);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.category = [];
        }
        if (source['event']) {
            this.event = new fhir.CodeableConcept(source.event, options);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject, options);
        }
        else {
            this.subject = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter, options);
        }
        if (source['date'] !== undefined) {
            this.date = new fhir.FhirDateTime({ value: source.date }, options);
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date, options);
            }
        }
        if (source['detected'] !== undefined) {
            this.detected = new fhir.FhirDateTime({ value: source.detected }, options);
        }
        if (source['_detected']) {
            if (this.detected) {
                this.detected.addExtendedProperties(source._detected);
            }
            else {
                this.detected = new fhir.FhirDateTime(source._detected, options);
            }
        }
        if (source['recordedDate'] !== undefined) {
            this.recordedDate = new fhir.FhirDateTime({ value: source.recordedDate }, options);
        }
        if (source['_recordedDate']) {
            if (this.recordedDate) {
                this.recordedDate.addExtendedProperties(source._recordedDate);
            }
            else {
                this.recordedDate = new fhir.FhirDateTime(source._recordedDate, options);
            }
        }
        if (source['resultingCondition']) {
            this.resultingCondition = source.resultingCondition.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.resultingCondition = [];
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location, options);
        }
        if (source['seriousness']) {
            this.seriousness = new fhir.CodeableConcept(source.seriousness, options);
        }
        if (source['severity']) {
            this.severity = new fhir.CodeableConcept(source.severity, options);
        }
        if (source['outcome']) {
            this.outcome = new fhir.CodeableConcept(source.outcome, options);
        }
        if (source['recorder']) {
            this.recorder = new fhir.Reference(source.recorder, options);
        }
        if (source['contributor']) {
            this.contributor = source.contributor.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.contributor = [];
        }
        if (source['suspectEntity']) {
            this.suspectEntity = source.suspectEntity.map((x) => new fhir.AdverseEventSuspectEntity(x, options));
        }
        else {
            this.suspectEntity = [];
        }
        if (source['subjectMedicalHistory']) {
            this.subjectMedicalHistory = source.subjectMedicalHistory.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.subjectMedicalHistory = [];
        }
        if (source['referenceDocument']) {
            this.referenceDocument = source.referenceDocument.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.referenceDocument = [];
        }
        if (source['study']) {
            this.study = source.study.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.study = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdverseEvent';
        }
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vRSV('actuality', exp, 'AdverseEventActuality', AdverseEventActualityVsValidation, 'r'));
        iss.push(...this.vOA('category', exp));
        iss.push(...this.vOS('event', exp));
        iss.push(...this.vRS('subject', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vOS('date', exp));
        iss.push(...this.vOS('detected', exp));
        iss.push(...this.vOS('recordedDate', exp));
        iss.push(...this.vOA('resultingCondition', exp));
        iss.push(...this.vOS('location', exp));
        iss.push(...this.vOS('seriousness', exp));
        iss.push(...this.vOSV('severity', exp, 'AdverseEventSeverity', AdverseEventSeverityVsValidation, 'r'));
        iss.push(...this.vOSV('outcome', exp, 'AdverseEventOutcome', AdverseEventOutcomeVsValidation, 'r'));
        iss.push(...this.vOS('recorder', exp));
        iss.push(...this.vOA('contributor', exp));
        iss.push(...this.vOA('suspectEntity', exp));
        iss.push(...this.vOA('subjectMedicalHistory', exp));
        iss.push(...this.vOA('referenceDocument', exp));
        iss.push(...this.vOA('study', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEvent._fts_dataType = 'AdverseEvent';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWR2ZXJzZUV2ZW50LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BZHZlcnNlRXZlbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsOEJBQThCO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBWW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsaUNBQWlDLEVBQUUsTUFBTSx1REFBdUQsQ0FBQztBQWUxRyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sc0RBQXNELENBQUM7QUFHeEcsYUFBYTtBQUNiLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLHFEQUFxRCxDQUFDO0FBMkJ0Rzs7R0FFRztBQUNILE1BQU0sT0FBTyxrQ0FBbUMsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXFCMUU7O09BRUc7SUFDSCxZQUFZLFNBQXlELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQy9HLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDckcsSUFBSSxNQUFNLENBQUMsb0JBQW9CLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxrQkFBa0IsRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDL0ksSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUNqQyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtnQkFBRSxJQUFJLENBQUMsa0JBQWtCLENB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LEdBQUcsQ0FBQyxlQUFlLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25ELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDL0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXZLRDs7R0FFRztBQUM2QiwwQkFBYSxHQUFVLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQWR2ZXJzZUV2ZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2RlcywgIEFkdmVyc2VFdmVudENhdXNhbGl0eUFzc2Vzc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5QXNzZXNzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudENhdXNhbGl0eU1ldGhvZENvZGVzLCAgQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5TWV0aG9kQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudENhdXNhbGl0eU1ldGhvZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXVzYWxpdHlNZXRob2RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudENhdXNhbGl0eU1ldGhvZFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50QWN0dWFsaXR5Q29kZXMsICBBZHZlcnNlRXZlbnRBY3R1YWxpdHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50QWN0dWFsaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudEFjdHVhbGl0eVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50QWN0dWFsaXR5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXRlZ29yeUNvZGVzLCAgQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudENhdGVnb3J5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRUeXBlQ29kZXMsICBBZHZlcnNlRXZlbnRUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50VHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50U2VyaW91c25lc3NDb2RlcywgIEFkdmVyc2VFdmVudFNlcmlvdXNuZXNzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudFNlcmlvdXNuZXNzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudFNlcmlvdXNuZXNzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRTZXJpb3VzbmVzc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50U2V2ZXJpdHlDb2RlcywgIEFkdmVyc2VFdmVudFNldmVyaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudFNldmVyaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudFNldmVyaXR5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRTZXZlcml0eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50T3V0Y29tZUNvZGVzLCAgQWR2ZXJzZUV2ZW50T3V0Y29tZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRPdXRjb21lQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQXNzZXNzbWVudCBvZiBpZiB0aGUgZW50aXR5IGNhdXNlZCB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgYXNzZXNzbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5UHJvZHVjdFJlbGF0ZWRuZXNzLlxyXG4gICAqL1xyXG4gIHByb2R1Y3RSZWxhdGVkbmVzcz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBZHZlcnNlRXZlbnQuc3VzcGVjdEVudGl0eS5jYXVzYWxpdHkucHJvZHVjdFJlbGF0ZWRuZXNzXHJcbiAgICovXHJcbiAgX3Byb2R1Y3RSZWxhdGVkbmVzcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5QXV0aG9yLlxyXG4gICAqL1xyXG4gIGF1dGhvcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvYmFiaWxpdHlTY2FsZSB8IEJheWVzaWFuIHwgQ2hlY2tsaXN0LlxyXG4gICAqL1xyXG4gIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBvbiB0aGUgcG9zc2libGUgY2F1c2Ugb2YgdGhlIGV2ZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5JztcclxuICAvKipcclxuICAgKiBBc3Nlc3NtZW50IG9mIGlmIHRoZSBlbnRpdHkgY2F1c2VkIHRoZSBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgYXNzZXNzbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQuc3VzcGVjdEVudGl0eS5jYXVzYWxpdHlQcm9kdWN0UmVsYXRlZG5lc3MuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3RSZWxhdGVkbmVzcz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5QXV0aG9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdXRob3I/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvYmFiaWxpdHlTY2FsZSB8IEJheWVzaWFuIHwgQ2hlY2tsaXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnYXNzZXNzbWVudCddKSB7IHRoaXMuYXNzZXNzbWVudCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYXNzZXNzbWVudCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3RSZWxhdGVkbmVzcyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5wcm9kdWN0UmVsYXRlZG5lc3MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnByb2R1Y3RSZWxhdGVkbmVzc30sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJvZHVjdFJlbGF0ZWRuZXNzJ10pIHtcclxuICAgICAgaWYgKHRoaXMucHJvZHVjdFJlbGF0ZWRuZXNzKSB7IHRoaXMucHJvZHVjdFJlbGF0ZWRuZXNzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Byb2R1Y3RSZWxhdGVkbmVzcyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnByb2R1Y3RSZWxhdGVkbmVzcyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wcm9kdWN0UmVsYXRlZG5lc3MgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2F1dGhvciddKSB7IHRoaXMuYXV0aG9yID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5hdXRob3IsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtZXRob2QnXSkgeyB0aGlzLm1ldGhvZCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubWV0aG9kLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0FkdmVyc2VFdmVudC5zdXNwZWN0RW50aXR5LmNhdXNhbGl0eScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Fzc2Vzc21lbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Byb2R1Y3RSZWxhdGVkbmVzcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYXV0aG9yJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtZXRob2QnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIGFjdHVhbCBpbnN0YW5jZSBvZiB3aGF0IGNhdXNlZCB0aGUgYWR2ZXJzZSBldmVudC4gIE1heSBiZSBhIHN1YnN0YW5jZSwgbWVkaWNhdGlvbiwgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiwgbWVkaWNhdGlvbiBzdGF0ZW1lbnQgb3IgYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgaW5zdGFuY2U6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIHRoZSBwb3NzaWJsZSBjYXVzZSBvZiB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgY2F1c2FsaXR5PzogZmhpci5BZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlc2NyaWJlcyB0aGUgZW50aXR5IHRoYXQgaXMgc3VzcGVjdGVkIHRvIGhhdmUgY2F1c2VkIHRoZSBhZHZlcnNlIGV2ZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5JztcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHRoZSBhY3R1YWwgaW5zdGFuY2Ugb2Ygd2hhdCBjYXVzZWQgdGhlIGFkdmVyc2UgZXZlbnQuICBNYXkgYmUgYSBzdWJzdGFuY2UsIG1lZGljYXRpb24sIG1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24sIG1lZGljYXRpb24gc3RhdGVtZW50IG9yIGEgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnN0YW5jZTogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBvbiB0aGUgcG9zc2libGUgY2F1c2Ugb2YgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXVzYWxpdHk6IGZoaXIuQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2luc3RhbmNlJ10pIHsgdGhpcy5pbnN0YW5jZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuaW5zdGFuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnN0YW5jZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdXNhbGl0eSddKSB7IHRoaXMuY2F1c2FsaXR5ID0gc291cmNlLmNhdXNhbGl0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHkoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jYXVzYWxpdHkgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0FkdmVyc2VFdmVudC5zdXNwZWN0RW50aXR5JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnaW5zdGFuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2NhdXNhbGl0eScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWR2ZXJzZUV2ZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFkdmVyc2VFdmVudEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkFkdmVyc2VFdmVudFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGEgYnVzaW5lc3MgaWRlbnRpZmllciwgbm90IGEgcmVzb3VyY2UgaWRlbnRpZmllciAoc2VlIFtkaXNjdXNzaW9uXShyZXNvdXJjZS5odG1sI2lkZW50aWZpZXJzKSkuICBJdCBpcyBiZXN0IHByYWN0aWNlIGZvciB0aGUgaWRlbnRpZmllciB0byBvbmx5IGFwcGVhciBvbiBhIHNpbmdsZSByZXNvdXJjZSBpbnN0YW5jZSwgaG93ZXZlciBidXNpbmVzcyBwcmFjdGljZXMgbWF5IG9jY2FzaW9uYWxseSBkaWN0YXRlIHRoYXQgbXVsdGlwbGUgcmVzb3VyY2UgaW5zdGFuY2VzIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBjYW4gZXhpc3QgLSBwb3NzaWJseSBldmVuIHdpdGggZGlmZmVyZW50IHJlc291cmNlIHR5cGVzLiAgRm9yIGV4YW1wbGUsIG11bHRpcGxlIFBhdGllbnQgYW5kIGEgUGVyc29uIHJlc291cmNlIGluc3RhbmNlIG1pZ2h0IHNoYXJlIHRoZSBzYW1lIHNvY2lhbCBpbnN1cmFuY2UgbnVtYmVyLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoZSBldmVudCBhY3R1YWxseSBoYXBwZW5lZCwgb3IganVzdCBoYWQgdGhlIHBvdGVudGlhbCB0by4gTm90ZSB0aGF0IHRoaXMgaXMgaW5kZXBlbmRlbnQgb2Ygd2hldGhlciBhbnlvbmUgd2FzIGFmZmVjdGVkIG9yIGhhcm1lZCBvciBob3cgc2V2ZXJlbHkuXHJcbiAgICovXHJcbiAgYWN0dWFsaXR5OiBmaGlyLkZoaXJDb2RlPEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBZHZlcnNlRXZlbnQuYWN0dWFsaXR5XHJcbiAgICovXHJcbiAgX2FjdHVhbGl0eT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIG92ZXJhbGwgdHlwZSBvZiBldmVudCwgaW50ZW5kZWQgZm9yIHNlYXJjaCBhbmQgZmlsdGVyaW5nIHB1cnBvc2VzLlxyXG4gICAqL1xyXG4gIGNhdGVnb3J5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBkZWZpbmVzIHRoZSBzcGVjaWZpYyB0eXBlIG9mIGV2ZW50IHRoYXQgb2NjdXJyZWQgb3IgdGhhdCB3YXMgcHJldmVudGVkIGZyb20gb2NjdXJyaW5nLlxyXG4gICAqL1xyXG4gIGV2ZW50PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBBZHZlcnNlRXZlbnQucmVzdWx0aW5nQ29uZGl0aW9uIGRpZmZlcnMgYW1vbmcgbWVtYmVycyBvZiB0aGUgZ3JvdXAsIHRoZW4gdXNlIFBhdGllbnQgYXMgdGhlIHN1YmplY3QuXHJcbiAgICovXHJcbiAgc3ViamVjdDogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB3aWxsIHR5cGljYWxseSBiZSB0aGUgZW5jb3VudGVyIHRoZSBldmVudCBvY2N1cnJlZCB3aXRoaW4sIGJ1dCBzb21lIGFjdGl2aXRpZXMgbWF5IGJlIGluaXRpYXRlZCBwcmlvciB0byBvciBhZnRlciB0aGUgb2ZmaWNpYWwgY29tcGxldGlvbiBvZiBhbiBlbmNvdW50ZXIgYnV0IHN0aWxsIGJlIHRpZWQgdG8gdGhlIGNvbnRleHQgb2YgdGhlIGVuY291bnRlci4gIEZvciBleGFtcGxlLCBpZiBhIG1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24gd2FzIGNvbnNpZGVyZWQgYW4gYWR2ZXJzZSBldmVudCBiZWNhdXNlIGl0IHJlc3VsdGVkIGluIGEgcmFzaCwgdGhlbiB0aGUgZW5jb3VudGVyIHdoZW4gdGhlIG1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24gd2FzIGdpdmVuIGlzIHRoZSBjb250ZXh0LiAgSWYgdGhlIHBhdGllbnQgcmVwb3J0cyB0aGUgQWR2ZXJzZUV2ZW50IGR1cmluZyBhIHNlY29uZCBlbmNvdW50ZXIsIHRoYXQgc2Vjb25kIGVuY291bnRlciBpcyBub3QgdGhlIGNvbnRleHQuXHJcbiAgICovXHJcbiAgZW5jb3VudGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSAoYW5kIHBlcmhhcHMgdGltZSkgd2hlbiB0aGUgYWR2ZXJzZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBkYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWR2ZXJzZUV2ZW50LmRhdGVcclxuICAgKi9cclxuICBfZGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRXN0aW1hdGVkIG9yIGFjdHVhbCBkYXRlIHRoZSBBZHZlcnNlRXZlbnQgYmVnYW4sIGluIHRoZSBvcGluaW9uIG9mIHRoZSByZXBvcnRlci5cclxuICAgKi9cclxuICBkZXRlY3RlZD86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFkdmVyc2VFdmVudC5kZXRlY3RlZFxyXG4gICAqL1xyXG4gIF9kZXRlY3RlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29yZGVkRGF0ZSByZXByZXNlbnRzIHRoZSBkYXRlIHdoZW4gdGhpcyBwYXJ0aWN1bGFyIEFkdmVyc2VFdmVudCByZWNvcmQgd2FzIGNyZWF0ZWQgaW4gdGhlIHN5c3RlbSwgbm90IHRoZSBkYXRlIG9mIHRoZSBtb3N0IHJlY2VudCB1cGRhdGUuICBUaGUgZGF0ZSBvZiB0aGUgbGFzdCByZWNvcmQgbW9kaWZpY2F0aW9uIGNhbiBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgcmVzb3VyY2UgbWV0YWRhdGEuXHJcbiAgICovXHJcbiAgcmVjb3JkZWREYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWR2ZXJzZUV2ZW50LnJlY29yZGVkRGF0ZVxyXG4gICAqL1xyXG4gIF9yZWNvcmRlZERhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluY2x1ZGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZWFjdGlvbiB0aGF0IG9jY3VycmVkIGFzIGEgcmVzdWx0IG9mIGV4cG9zdXJlIHRvIGEgc3Vic3RhbmNlIChmb3IgZXhhbXBsZSwgYSBkcnVnIG9yIGEgY2hlbWljYWwpLlxyXG4gICAqL1xyXG4gIHJlc3VsdGluZ0NvbmRpdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5mb3JtYXRpb24gYWJvdXQgd2hlcmUgdGhlIGFkdmVyc2UgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgbG9jYXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFzc2Vzc21lbnQgd2hldGhlciB0aGlzIGV2ZW50IHdhcyBvZiByZWFsIGltcG9ydGFuY2UuXHJcbiAgICovXHJcbiAgc2VyaW91c25lc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgc2V2ZXJpdHkgb2YgdGhlIGFkdmVyc2UgZXZlbnQsIGluIHJlbGF0aW9uIHRvIHRoZSBzdWJqZWN0LiBDb250cmFzdCB0byBBZHZlcnNlRXZlbnQuc2VyaW91c25lc3MgLSBhIHNldmVyZSByYXNoIG1pZ2h0IG5vdCBiZSBzZXJpb3VzLCBidXQgYSBtaWxkIGhlYXJ0IHByb2JsZW0gaXMuXHJcbiAgICovXHJcbiAgc2V2ZXJpdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgdHlwZSBvZiBvdXRjb21lIGZyb20gdGhlIGFkdmVyc2UgZXZlbnQuXHJcbiAgICovXHJcbiAgb3V0Y29tZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gd2hvIHJlY29yZGVkIHRoZSBhZHZlcnNlIGV2ZW50LiAgTWF5IGJlIHRoZSBwYXRpZW50IG9yIGEgcHJhY3RpdGlvbmVyLlxyXG4gICAqL1xyXG4gIHJlY29yZGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQYXJ0aWVzIHRoYXQgbWF5IG9yIHNob3VsZCBjb250cmlidXRlIG9yIGhhdmUgY29udHJpYnV0ZWQgaW5mb3JtYXRpb24gdG8gdGhlIGFkdmVyc2UgZXZlbnQsIHdoaWNoIGNhbiBjb25zaXN0IG9mIG9uZSBvciBtb3JlIGFjdGl2aXRpZXMuICBTdWNoIGluZm9ybWF0aW9uIGluY2x1ZGVzIGluZm9ybWF0aW9uIGxlYWRpbmcgdG8gdGhlIGRlY2lzaW9uIHRvIHBlcmZvcm0gdGhlIGFjdGl2aXR5IGFuZCBob3cgdG8gcGVyZm9ybSB0aGUgYWN0aXZpdHkgKGUuZy4gY29uc3VsdGFudCksIGluZm9ybWF0aW9uIHRoYXQgdGhlIGFjdGl2aXR5IGl0c2VsZiBzZWVrcyB0byByZXZlYWwgKGUuZy4gaW5mb3JtYW50IG9mIGNsaW5pY2FsIGhpc3RvcnkpLCBvciBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGFjdGl2aXR5IHdhcyBwZXJmb3JtZWQgKGUuZy4gaW5mb3JtYW50IHdpdG5lc3MpLlxyXG4gICAqL1xyXG4gIGNvbnRyaWJ1dG9yPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgZW50aXR5IHRoYXQgaXMgc3VzcGVjdGVkIHRvIGhhdmUgY2F1c2VkIHRoZSBhZHZlcnNlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHN1c3BlY3RFbnRpdHk/OiBmaGlyLkFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkdmVyc2VFdmVudC5zdWJqZWN0TWVkaWNhbEhpc3RvcnkuXHJcbiAgICovXHJcbiAgc3ViamVjdE1lZGljYWxIaXN0b3J5PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkdmVyc2VFdmVudC5yZWZlcmVuY2VEb2N1bWVudC5cclxuICAgKi9cclxuICByZWZlcmVuY2VEb2N1bWVudD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQuc3R1ZHkuXHJcbiAgICovXHJcbiAgc3R1ZHk/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBY3R1YWwgb3IgIHBvdGVudGlhbC9hdm9pZGVkIGV2ZW50IGNhdXNpbmcgdW5pbnRlbmRlZCBwaHlzaWNhbCBpbmp1cnkgcmVzdWx0aW5nIGZyb20gb3IgY29udHJpYnV0ZWQgdG8gYnkgbWVkaWNhbCBjYXJlLCBhIHJlc2VhcmNoIHN0dWR5IG9yIG90aGVyIGhlYWx0aGNhcmUgc2V0dGluZyBmYWN0b3JzIHRoYXQgcmVxdWlyZXMgYWRkaXRpb25hbCBtb25pdG9yaW5nLCB0cmVhdG1lbnQsIG9yIGhvc3BpdGFsaXphdGlvbiwgb3IgdGhhdCByZXN1bHRzIGluIGRlYXRoLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkdmVyc2VFdmVudCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWR2ZXJzZUV2ZW50JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkFkdmVyc2VFdmVudFwiO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgYSBidXNpbmVzcyBpZGVudGlmaWVyLCBub3QgYSByZXNvdXJjZSBpZGVudGlmaWVyIChzZWUgW2Rpc2N1c3Npb25dKHJlc291cmNlLmh0bWwjaWRlbnRpZmllcnMpKS4gIEl0IGlzIGJlc3QgcHJhY3RpY2UgZm9yIHRoZSBpZGVudGlmaWVyIHRvIG9ubHkgYXBwZWFyIG9uIGEgc2luZ2xlIHJlc291cmNlIGluc3RhbmNlLCBob3dldmVyIGJ1c2luZXNzIHByYWN0aWNlcyBtYXkgb2NjYXNpb25hbGx5IGRpY3RhdGUgdGhhdCBtdWx0aXBsZSByZXNvdXJjZSBpbnN0YW5jZXMgd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyIGNhbiBleGlzdCAtIHBvc3NpYmx5IGV2ZW4gd2l0aCBkaWZmZXJlbnQgcmVzb3VyY2UgdHlwZXMuICBGb3IgZXhhbXBsZSwgbXVsdGlwbGUgUGF0aWVudCBhbmQgYSBQZXJzb24gcmVzb3VyY2UgaW5zdGFuY2UgbWlnaHQgc2hhcmUgdGhlIHNhbWUgc29jaWFsIGluc3VyYW5jZSBudW1iZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIGV2ZW50IGFjdHVhbGx5IGhhcHBlbmVkLCBvciBqdXN0IGhhZCB0aGUgcG90ZW50aWFsIHRvLiBOb3RlIHRoYXQgdGhpcyBpcyBpbmRlcGVuZGVudCBvZiB3aGV0aGVyIGFueW9uZSB3YXMgYWZmZWN0ZWQgb3IgaGFybWVkIG9yIGhvdyBzZXZlcmVseS5cclxuICAgKi9cclxuICBwdWJsaWMgYWN0dWFsaXR5OiBmaGlyLkZoaXJDb2RlPEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvdmVyYWxsIHR5cGUgb2YgZXZlbnQsIGludGVuZGVkIGZvciBzZWFyY2ggYW5kIGZpbHRlcmluZyBwdXJwb3Nlcy5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGRlZmluZXMgdGhlIHNwZWNpZmljIHR5cGUgb2YgZXZlbnQgdGhhdCBvY2N1cnJlZCBvciB0aGF0IHdhcyBwcmV2ZW50ZWQgZnJvbSBvY2N1cnJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGV2ZW50PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIEFkdmVyc2VFdmVudC5yZXN1bHRpbmdDb25kaXRpb24gZGlmZmVycyBhbW9uZyBtZW1iZXJzIG9mIHRoZSBncm91cCwgdGhlbiB1c2UgUGF0aWVudCBhcyB0aGUgc3ViamVjdC5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdDogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIHdpbGwgdHlwaWNhbGx5IGJlIHRoZSBlbmNvdW50ZXIgdGhlIGV2ZW50IG9jY3VycmVkIHdpdGhpbiwgYnV0IHNvbWUgYWN0aXZpdGllcyBtYXkgYmUgaW5pdGlhdGVkIHByaW9yIHRvIG9yIGFmdGVyIHRoZSBvZmZpY2lhbCBjb21wbGV0aW9uIG9mIGFuIGVuY291bnRlciBidXQgc3RpbGwgYmUgdGllZCB0byB0aGUgY29udGV4dCBvZiB0aGUgZW5jb3VudGVyLiAgRm9yIGV4YW1wbGUsIGlmIGEgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiB3YXMgY29uc2lkZXJlZCBhbiBhZHZlcnNlIGV2ZW50IGJlY2F1c2UgaXQgcmVzdWx0ZWQgaW4gYSByYXNoLCB0aGVuIHRoZSBlbmNvdW50ZXIgd2hlbiB0aGUgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiB3YXMgZ2l2ZW4gaXMgdGhlIGNvbnRleHQuICBJZiB0aGUgcGF0aWVudCByZXBvcnRzIHRoZSBBZHZlcnNlRXZlbnQgZHVyaW5nIGEgc2Vjb25kIGVuY291bnRlciwgdGhhdCBzZWNvbmQgZW5jb3VudGVyIGlzIG5vdCB0aGUgY29udGV4dC5cclxuICAgKi9cclxuICBwdWJsaWMgZW5jb3VudGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIChhbmQgcGVyaGFwcyB0aW1lKSB3aGVuIHRoZSBhZHZlcnNlIGV2ZW50IG9jY3VycmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVzdGltYXRlZCBvciBhY3R1YWwgZGF0ZSB0aGUgQWR2ZXJzZUV2ZW50IGJlZ2FuLCBpbiB0aGUgb3BpbmlvbiBvZiB0aGUgcmVwb3J0ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGRldGVjdGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWNvcmRlZERhdGUgcmVwcmVzZW50cyB0aGUgZGF0ZSB3aGVuIHRoaXMgcGFydGljdWxhciBBZHZlcnNlRXZlbnQgcmVjb3JkIHdhcyBjcmVhdGVkIGluIHRoZSBzeXN0ZW0sIG5vdCB0aGUgZGF0ZSBvZiB0aGUgbW9zdCByZWNlbnQgdXBkYXRlLiAgVGhlIGRhdGUgb2YgdGhlIGxhc3QgcmVjb3JkIG1vZGlmaWNhdGlvbiBjYW4gYmUgcmV0cmlldmVkIGZyb20gdGhlIHJlc291cmNlIG1ldGFkYXRhLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNvcmRlZERhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5jbHVkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlYWN0aW9uIHRoYXQgb2NjdXJyZWQgYXMgYSByZXN1bHQgb2YgZXhwb3N1cmUgdG8gYSBzdWJzdGFuY2UgKGZvciBleGFtcGxlLCBhIGRydWcgb3IgYSBjaGVtaWNhbCkuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc3VsdGluZ0NvbmRpdGlvbjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgaW5mb3JtYXRpb24gYWJvdXQgd2hlcmUgdGhlIGFkdmVyc2UgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGxvY2F0aW9uPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFzc2Vzc21lbnQgd2hldGhlciB0aGlzIGV2ZW50IHdhcyBvZiByZWFsIGltcG9ydGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcmlvdXNuZXNzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgc2V2ZXJpdHkgb2YgdGhlIGFkdmVyc2UgZXZlbnQsIGluIHJlbGF0aW9uIHRvIHRoZSBzdWJqZWN0LiBDb250cmFzdCB0byBBZHZlcnNlRXZlbnQuc2VyaW91c25lc3MgLSBhIHNldmVyZSByYXNoIG1pZ2h0IG5vdCBiZSBzZXJpb3VzLCBidXQgYSBtaWxkIGhlYXJ0IHByb2JsZW0gaXMuXHJcbiAgICovXHJcbiAgcHVibGljIHNldmVyaXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgdHlwZSBvZiBvdXRjb21lIGZyb20gdGhlIGFkdmVyc2UgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIG91dGNvbWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gd2hvIHJlY29yZGVkIHRoZSBhZHZlcnNlIGV2ZW50LiAgTWF5IGJlIHRoZSBwYXRpZW50IG9yIGEgcHJhY3RpdGlvbmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNvcmRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQYXJ0aWVzIHRoYXQgbWF5IG9yIHNob3VsZCBjb250cmlidXRlIG9yIGhhdmUgY29udHJpYnV0ZWQgaW5mb3JtYXRpb24gdG8gdGhlIGFkdmVyc2UgZXZlbnQsIHdoaWNoIGNhbiBjb25zaXN0IG9mIG9uZSBvciBtb3JlIGFjdGl2aXRpZXMuICBTdWNoIGluZm9ybWF0aW9uIGluY2x1ZGVzIGluZm9ybWF0aW9uIGxlYWRpbmcgdG8gdGhlIGRlY2lzaW9uIHRvIHBlcmZvcm0gdGhlIGFjdGl2aXR5IGFuZCBob3cgdG8gcGVyZm9ybSB0aGUgYWN0aXZpdHkgKGUuZy4gY29uc3VsdGFudCksIGluZm9ybWF0aW9uIHRoYXQgdGhlIGFjdGl2aXR5IGl0c2VsZiBzZWVrcyB0byByZXZlYWwgKGUuZy4gaW5mb3JtYW50IG9mIGNsaW5pY2FsIGhpc3RvcnkpLCBvciBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGFjdGl2aXR5IHdhcyBwZXJmb3JtZWQgKGUuZy4gaW5mb3JtYW50IHdpdG5lc3MpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250cmlidXRvcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIGVudGl0eSB0aGF0IGlzIHN1c3BlY3RlZCB0byBoYXZlIGNhdXNlZCB0aGUgYWR2ZXJzZSBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VzcGVjdEVudGl0eTogZmhpci5BZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5W107XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1YmplY3RNZWRpY2FsSGlzdG9yeS5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdE1lZGljYWxIaXN0b3J5OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEFkdmVyc2VFdmVudC5yZWZlcmVuY2VEb2N1bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJlbmNlRG9jdW1lbnQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN0dWR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdHVkeTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBZHZlcnNlRXZlbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBZHZlcnNlRXZlbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQWR2ZXJzZUV2ZW50JztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWN0dWFsaXR5J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmFjdHVhbGl0eSA9IG5ldyBmaGlyLkZoaXJDb2RlPEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5hY3R1YWxpdHl9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWN0dWFsaXR5ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FjdHVhbGl0eSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFjdHVhbGl0eSkgeyB0aGlzLmFjdHVhbGl0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hY3R1YWxpdHkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hY3R1YWxpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxBZHZlcnNlRXZlbnRBY3R1YWxpdHlDb2RlVHlwZT4oc291cmNlLl9hY3R1YWxpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2V2ZW50J10pIHsgdGhpcy5ldmVudCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZXZlbnQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViamVjdCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGUpIHsgdGhpcy5kYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXRlY3RlZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kZXRlY3RlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kZXRlY3RlZH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGV0ZWN0ZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXRlY3RlZCkgeyB0aGlzLmRldGVjdGVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RldGVjdGVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGV0ZWN0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kZXRlY3RlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZWNvcmRlZERhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucmVjb3JkZWREYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnJlY29yZGVkRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVjb3JkZWREYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVjb3JkZWREYXRlKSB7IHRoaXMucmVjb3JkZWREYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlY29yZGVkRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlY29yZGVkRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3JlY29yZGVkRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZXN1bHRpbmdDb25kaXRpb24nXSkgeyB0aGlzLnJlc3VsdGluZ0NvbmRpdGlvbiA9IHNvdXJjZS5yZXN1bHRpbmdDb25kaXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZXN1bHRpbmdDb25kaXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbG9jYXRpb24nXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5sb2NhdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcmlvdXNuZXNzJ10pIHsgdGhpcy5zZXJpb3VzbmVzcyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc2VyaW91c25lc3MsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXZlcml0eSddKSB7IHRoaXMuc2V2ZXJpdHkgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNldmVyaXR5LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0Y29tZSddKSB7IHRoaXMub3V0Y29tZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uub3V0Y29tZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlY29yZGVyJ10pIHsgdGhpcy5yZWNvcmRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVjb3JkZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250cmlidXRvciddKSB7IHRoaXMuY29udHJpYnV0b3IgPSBzb3VyY2UuY29udHJpYnV0b3IubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250cmlidXRvciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdXNwZWN0RW50aXR5J10pIHsgdGhpcy5zdXNwZWN0RW50aXR5ID0gc291cmNlLnN1c3BlY3RFbnRpdHkubWFwKCh4KSA9PiBuZXcgZmhpci5BZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3VzcGVjdEVudGl0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0TWVkaWNhbEhpc3RvcnknXSkgeyB0aGlzLnN1YmplY3RNZWRpY2FsSGlzdG9yeSA9IHNvdXJjZS5zdWJqZWN0TWVkaWNhbEhpc3RvcnkubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJqZWN0TWVkaWNhbEhpc3RvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlRG9jdW1lbnQnXSkgeyB0aGlzLnJlZmVyZW5jZURvY3VtZW50ID0gc291cmNlLnJlZmVyZW5jZURvY3VtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVmZXJlbmNlRG9jdW1lbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3R1ZHknXSkgeyB0aGlzLnN0dWR5ID0gc291cmNlLnN0dWR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3R1ZHkgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0FkdmVyc2VFdmVudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdhY3R1YWxpdHknLGV4cCwnQWR2ZXJzZUV2ZW50QWN0dWFsaXR5JyxBZHZlcnNlRXZlbnRBY3R1YWxpdHlWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY2F0ZWdvcnknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2V2ZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzdWJqZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdlbmNvdW50ZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RldGVjdGVkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZWNvcmRlZERhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3Jlc3VsdGluZ0NvbmRpdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbG9jYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NlcmlvdXNuZXNzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignc2V2ZXJpdHknLGV4cCwnQWR2ZXJzZUV2ZW50U2V2ZXJpdHknLEFkdmVyc2VFdmVudFNldmVyaXR5VnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdvdXRjb21lJyxleHAsJ0FkdmVyc2VFdmVudE91dGNvbWUnLEFkdmVyc2VFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVjb3JkZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2NvbnRyaWJ1dG9yJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzdXNwZWN0RW50aXR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzdWJqZWN0TWVkaWNhbEhpc3RvcnknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3JlZmVyZW5jZURvY3VtZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzdHVkeScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=