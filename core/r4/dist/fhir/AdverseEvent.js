// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: AdverseEvent
import * as fhir from '../fhir.js';
// @ts-ignore
import { AdverseEventActualityCodes } from '../fhirValueSets/AdverseEventActualityCodes.js';
// @ts-ignore
import { AdverseEventCategoryCodings, } from '../fhirValueSets/AdverseEventCategoryCodings.js';
// @ts-ignore
import { AdverseEventSeverityCodes } from '../fhirValueSets/AdverseEventSeverityCodes.js';
// @ts-ignore
import { AdverseEventOutcomeCodes } from '../fhirValueSets/AdverseEventOutcomeCodes.js';
/**
 * Information on the possible cause of the event.
 */
export class AdverseEventSuspectEntityCausality extends fhir.BackboneElement {
    /**
     * Default constructor for AdverseEventSuspectEntityCausality - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['assessment']) {
            this.assessment = new fhir.CodeableConcept(source.assessment);
        }
        if (source['productRelatedness']) {
            this.productRelatedness = new fhir.FhirString({ value: source.productRelatedness });
        }
        if (source['_productRelatedness']) {
            if (this.productRelatedness) {
                this.productRelatedness.addExtendedProperties(source._productRelatedness);
            }
            else {
                this.productRelatedness = new fhir.FhirString(source._productRelatedness);
            }
        }
        if (source['author']) {
            this.author = new fhir.Reference(source.author);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AdverseEvent.suspectEntity.causality';
        }
        if (this["assessment"]) {
            issues.push(...this.assessment.doModelValidation(expression + '.assessment'));
        }
        if (this["productRelatedness"]) {
            issues.push(...this.productRelatedness.doModelValidation(expression + '.productRelatedness'));
        }
        if (this["author"]) {
            issues.push(...this.author.doModelValidation(expression + '.author'));
        }
        if (this["method"]) {
            issues.push(...this.method.doModelValidation(expression + '.method'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEventSuspectEntityCausality._fts_dataType = 'AdverseEventSuspectEntityCausality';
/**
 * Describes the entity that is suspected to have caused the adverse event.
 */
export class AdverseEventSuspectEntity extends fhir.BackboneElement {
    /**
     * Default constructor for AdverseEventSuspectEntity - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['instance']) {
            this.instance = new fhir.Reference(source.instance);
        }
        else {
            this.instance = null;
        }
        if (source['causality']) {
            this.causality = source.causality.map((x) => new fhir.AdverseEventSuspectEntityCausality(x));
        }
        else {
            this.causality = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AdverseEvent.suspectEntity';
        }
        if (!this['instance']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property instance fhir: AdverseEvent.suspectEntity.instance:Reference', expression: [expression] });
        }
        if (this["instance"]) {
            issues.push(...this.instance.doModelValidation(expression + '.instance'));
        }
        if (this["causality"]) {
            this.causality.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.causality[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEventSuspectEntity._fts_dataType = 'AdverseEventSuspectEntity';
/**
 * Actual or  potential/avoided event causing unintended physical injury resulting from or contributed to by medical care, a research study or other healthcare setting factors that requires additional monitoring, treatment, or hospitalization, or that results in death.
 */
export class AdverseEvent extends fhir.DomainResource {
    /**
     * Default constructor for AdverseEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AdverseEvent';
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['actuality']) {
            this.actuality = new fhir.FhirCode({ value: source.actuality });
        }
        else {
            this.actuality = null;
        }
        if (source['_actuality']) {
            if (this.actuality) {
                this.actuality.addExtendedProperties(source._actuality);
            }
            else {
                this.actuality = new fhir.FhirCode(source._actuality);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['event']) {
            this.event = new fhir.CodeableConcept(source.event);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        else {
            this.subject = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['detected']) {
            this.detected = new fhir.FhirDateTime({ value: source.detected });
        }
        if (source['_detected']) {
            if (this.detected) {
                this.detected.addExtendedProperties(source._detected);
            }
            else {
                this.detected = new fhir.FhirDateTime(source._detected);
            }
        }
        if (source['recordedDate']) {
            this.recordedDate = new fhir.FhirDateTime({ value: source.recordedDate });
        }
        if (source['_recordedDate']) {
            if (this.recordedDate) {
                this.recordedDate.addExtendedProperties(source._recordedDate);
            }
            else {
                this.recordedDate = new fhir.FhirDateTime(source._recordedDate);
            }
        }
        if (source['resultingCondition']) {
            this.resultingCondition = source.resultingCondition.map((x) => new fhir.Reference(x));
        }
        else {
            this.resultingCondition = [];
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        if (source['seriousness']) {
            this.seriousness = new fhir.CodeableConcept(source.seriousness);
        }
        if (source['severity']) {
            this.severity = new fhir.CodeableConcept(source.severity);
        }
        if (source['outcome']) {
            this.outcome = new fhir.CodeableConcept(source.outcome);
        }
        if (source['recorder']) {
            this.recorder = new fhir.Reference(source.recorder);
        }
        if (source['contributor']) {
            this.contributor = source.contributor.map((x) => new fhir.Reference(x));
        }
        else {
            this.contributor = [];
        }
        if (source['suspectEntity']) {
            this.suspectEntity = source.suspectEntity.map((x) => new fhir.AdverseEventSuspectEntity(x));
        }
        else {
            this.suspectEntity = [];
        }
        if (source['subjectMedicalHistory']) {
            this.subjectMedicalHistory = source.subjectMedicalHistory.map((x) => new fhir.Reference(x));
        }
        else {
            this.subjectMedicalHistory = [];
        }
        if (source['referenceDocument']) {
            this.referenceDocument = source.referenceDocument.map((x) => new fhir.Reference(x));
        }
        else {
            this.referenceDocument = [];
        }
        if (source['study']) {
            this.study = source.study.map((x) => new fhir.Reference(x));
        }
        else {
            this.study = [];
        }
    }
    /**
     * Required-bound Value Set for actuality (AdverseEvent.actuality)
     */
    static get actualityRequiredCodes() {
        return AdverseEventActualityCodes;
    }
    /**
     * Extensible-bound Value Set for category (AdverseEvent.category)
     */
    static get categoryExtensibleCodings() {
        return AdverseEventCategoryCodings;
    }
    /**
     * Required-bound Value Set for severity (AdverseEvent.severity)
     */
    static get severityRequiredCodes() {
        return AdverseEventSeverityCodes;
    }
    /**
     * Required-bound Value Set for outcome (AdverseEvent.outcome)
     */
    static get outcomeRequiredCodes() {
        return AdverseEventOutcomeCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AdverseEvent';
        }
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType fhir: AdverseEvent.resourceType:"AdverseEvent"', expression: [expression] });
        }
        if (this["identifier"]) {
            issues.push(...this.identifier.doModelValidation(expression + '.identifier'));
        }
        if (!this['actuality']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property actuality fhir: AdverseEvent.actuality:code', expression: [expression] });
        }
        if (this['actuality'] && (!Object.values(AdverseEventActualityCodes).includes(this.actuality.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property actuality fhir: AdverseEvent.actuality:code Required binding to: AdverseEventActuality', expression: [expression] });
        }
        if (this["actuality"]) {
            issues.push(...this.actuality.doModelValidation(expression + '.actuality'));
        }
        if (this["category"]) {
            this.category.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.category[${i}]`)); });
        }
        if (this["event"]) {
            issues.push(...this.event.doModelValidation(expression + '.event'));
        }
        if (!this['subject']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property subject fhir: AdverseEvent.subject:Reference', expression: [expression] });
        }
        if (this["subject"]) {
            issues.push(...this.subject.doModelValidation(expression + '.subject'));
        }
        if (this["encounter"]) {
            issues.push(...this.encounter.doModelValidation(expression + '.encounter'));
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation(expression + '.date'));
        }
        if (this["detected"]) {
            issues.push(...this.detected.doModelValidation(expression + '.detected'));
        }
        if (this["recordedDate"]) {
            issues.push(...this.recordedDate.doModelValidation(expression + '.recordedDate'));
        }
        if (this["resultingCondition"]) {
            this.resultingCondition.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.resultingCondition[${i}]`)); });
        }
        if (this["location"]) {
            issues.push(...this.location.doModelValidation(expression + '.location'));
        }
        if (this["seriousness"]) {
            issues.push(...this.seriousness.doModelValidation(expression + '.seriousness'));
        }
        if (this["severity"]) {
            issues.push(...this.severity.doModelValidation(expression + '.severity'));
        }
        if (this["outcome"]) {
            issues.push(...this.outcome.doModelValidation(expression + '.outcome'));
        }
        if (this["recorder"]) {
            issues.push(...this.recorder.doModelValidation(expression + '.recorder'));
        }
        if (this["contributor"]) {
            this.contributor.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.contributor[${i}]`)); });
        }
        if (this["suspectEntity"]) {
            this.suspectEntity.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.suspectEntity[${i}]`)); });
        }
        if (this["subjectMedicalHistory"]) {
            this.subjectMedicalHistory.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.subjectMedicalHistory[${i}]`)); });
        }
        if (this["referenceDocument"]) {
            this.referenceDocument.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.referenceDocument[${i}]`)); });
        }
        if (this["study"]) {
            this.study.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.study[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEvent._fts_dataType = 'AdverseEvent';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWR2ZXJzZUV2ZW50LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BZHZlcnNlRXZlbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsOEJBQThCO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBWW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsMEJBQTBCLEVBQWtDLE1BQU0sZ0RBQWdELENBQUM7QUFDNUgsYUFBYTtBQUNiLE9BQU8sRUFBRSwyQkFBMkIsR0FBa0MsTUFBTSxpREFBaUQsQ0FBQztBQWE5SCxhQUFhO0FBQ2IsT0FBTyxFQUFFLHlCQUF5QixFQUFpQyxNQUFNLCtDQUErQyxDQUFDO0FBR3pILGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEVBQWdDLE1BQU0sOENBQThDLENBQUM7QUEyQnRIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGtDQUFtQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBcUIxRTs7T0FFRztJQUNILFlBQVksU0FBeUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDL0csS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUFFO1FBQzVGLElBQUksTUFBTSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxrQkFBa0IsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUN4SCxJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFO1lBQ2pDLElBQUksSUFBSSxDQUFDLGtCQUFrQixF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QUEwQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ3ZLLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsc0JBQXNCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDM0osSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUN2SCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTNNRDs7R0FFRztBQUM2QiwwQkFBYSxHQUFVLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQWR2ZXJzZUV2ZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2RpbmdzLCBBZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2RlcywgIEFkdmVyc2VFdmVudENhdXNhbGl0eUFzc2Vzc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5TWV0aG9kQ29kaW5ncywgQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5TWV0aG9kQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5TWV0aG9kQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5TWV0aG9kQ29kZXMsICBBZHZlcnNlRXZlbnRDYXVzYWxpdHlNZXRob2RDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5TWV0aG9kQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGluZ3MsIEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVzLCAgQWR2ZXJzZUV2ZW50QWN0dWFsaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXRlZ29yeUNvZGluZ3MsIEFkdmVyc2VFdmVudENhdGVnb3J5Q29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXRlZ29yeUNvZGVzLCAgQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50VHlwZUNvZGluZ3MsIEFkdmVyc2VFdmVudFR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50VHlwZUNvZGVzLCAgQWR2ZXJzZUV2ZW50VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudFNlcmlvdXNuZXNzQ29kaW5ncywgQWR2ZXJzZUV2ZW50U2VyaW91c25lc3NDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRTZXJpb3VzbmVzc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudFNlcmlvdXNuZXNzQ29kZXMsICBBZHZlcnNlRXZlbnRTZXJpb3VzbmVzc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRTZXJpb3VzbmVzc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRTZXZlcml0eUNvZGluZ3MsIEFkdmVyc2VFdmVudFNldmVyaXR5Q29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50U2V2ZXJpdHlDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRTZXZlcml0eUNvZGVzLCAgQWR2ZXJzZUV2ZW50U2V2ZXJpdHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50U2V2ZXJpdHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50T3V0Y29tZUNvZGluZ3MsIEFkdmVyc2VFdmVudE91dGNvbWVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRPdXRjb21lQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50T3V0Y29tZUNvZGVzLCAgQWR2ZXJzZUV2ZW50T3V0Y29tZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRPdXRjb21lQ29kZXMuanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQXNzZXNzbWVudCBvZiBpZiB0aGUgZW50aXR5IGNhdXNlZCB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgYXNzZXNzbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5UHJvZHVjdFJlbGF0ZWRuZXNzLlxyXG4gICAqL1xyXG4gIHByb2R1Y3RSZWxhdGVkbmVzcz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBZHZlcnNlRXZlbnQuc3VzcGVjdEVudGl0eS5jYXVzYWxpdHkucHJvZHVjdFJlbGF0ZWRuZXNzXHJcbiAgICovXHJcbiAgX3Byb2R1Y3RSZWxhdGVkbmVzcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5QXV0aG9yLlxyXG4gICAqL1xyXG4gIGF1dGhvcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvYmFiaWxpdHlTY2FsZSB8IEJheWVzaWFuIHwgQ2hlY2tsaXN0LlxyXG4gICAqL1xyXG4gIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBvbiB0aGUgcG9zc2libGUgY2F1c2Ugb2YgdGhlIGV2ZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5JztcclxuICAvKipcclxuICAgKiBBc3Nlc3NtZW50IG9mIGlmIHRoZSBlbnRpdHkgY2F1c2VkIHRoZSBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgYXNzZXNzbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQuc3VzcGVjdEVudGl0eS5jYXVzYWxpdHlQcm9kdWN0UmVsYXRlZG5lc3MuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3RSZWxhdGVkbmVzcz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5QXV0aG9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdXRob3I/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvYmFiaWxpdHlTY2FsZSB8IEJheWVzaWFuIHwgQ2hlY2tsaXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnYXNzZXNzbWVudCddKSB7IHRoaXMuYXNzZXNzbWVudCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYXNzZXNzbWVudCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3RSZWxhdGVkbmVzcyddKSB7IHRoaXMucHJvZHVjdFJlbGF0ZWRuZXNzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wcm9kdWN0UmVsYXRlZG5lc3N9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3Byb2R1Y3RSZWxhdGVkbmVzcyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb2R1Y3RSZWxhdGVkbmVzcykgeyB0aGlzLnByb2R1Y3RSZWxhdGVkbmVzcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcm9kdWN0UmVsYXRlZG5lc3MhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcm9kdWN0UmVsYXRlZG5lc3MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcHJvZHVjdFJlbGF0ZWRuZXNzIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdXRob3InXSkgeyB0aGlzLmF1dGhvciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuYXV0aG9yKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWV0aG9kJ10pIHsgdGhpcy5tZXRob2QgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLm1ldGhvZCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5JyB9XHJcbiAgICBpZiAodGhpc1tcImFzc2Vzc21lbnRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hc3Nlc3NtZW50LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5hc3Nlc3NtZW50JykpOyB9XHJcbiAgICBpZiAodGhpc1tcInByb2R1Y3RSZWxhdGVkbmVzc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByb2R1Y3RSZWxhdGVkbmVzcy5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucHJvZHVjdFJlbGF0ZWRuZXNzJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImF1dGhvclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmF1dGhvci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuYXV0aG9yJykpOyB9XHJcbiAgICBpZiAodGhpc1tcIm1ldGhvZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1ldGhvZC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycubWV0aG9kJykpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHdoYXQgY2F1c2VkIHRoZSBhZHZlcnNlIGV2ZW50LiAgTWF5IGJlIGEgc3Vic3RhbmNlLCBtZWRpY2F0aW9uLCBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uLCBtZWRpY2F0aW9uIHN0YXRlbWVudCBvciBhIGRldmljZS5cclxuICAgKi9cclxuICBpbnN0YW5jZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gdGhlIHBvc3NpYmxlIGNhdXNlIG9mIHRoZSBldmVudC5cclxuICAgKi9cclxuICBjYXVzYWxpdHk/OiBmaGlyLkFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHlBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVzY3JpYmVzIHRoZSBlbnRpdHkgdGhhdCBpcyBzdXNwZWN0ZWQgdG8gaGF2ZSBjYXVzZWQgdGhlIGFkdmVyc2UgZXZlbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHknO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIGFjdHVhbCBpbnN0YW5jZSBvZiB3aGF0IGNhdXNlZCB0aGUgYWR2ZXJzZSBldmVudC4gIE1heSBiZSBhIHN1YnN0YW5jZSwgbWVkaWNhdGlvbiwgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiwgbWVkaWNhdGlvbiBzdGF0ZW1lbnQgb3IgYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGluc3RhbmNlOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIHRoZSBwb3NzaWJsZSBjYXVzZSBvZiB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdXNhbGl0eTogZmhpci5BZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaW5zdGFuY2UnXSkgeyB0aGlzLmluc3RhbmNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5pbnN0YW5jZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluc3RhbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F1c2FsaXR5J10pIHsgdGhpcy5jYXVzYWxpdHkgPSBzb3VyY2UuY2F1c2FsaXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdXNhbGl0eSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0FkdmVyc2VFdmVudC5zdXNwZWN0RW50aXR5JyB9XHJcbiAgICBpZiAoIXRoaXNbJ2luc3RhbmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGluc3RhbmNlIGZoaXI6IEFkdmVyc2VFdmVudC5zdXNwZWN0RW50aXR5Lmluc3RhbmNlOlJlZmVyZW5jZScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiaW5zdGFuY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pbnN0YW5jZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuaW5zdGFuY2UnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY2F1c2FsaXR5XCJdKSB7IHRoaXMuY2F1c2FsaXR5LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5jYXVzYWxpdHlbJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBZHZlcnNlRXZlbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWR2ZXJzZUV2ZW50QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQWR2ZXJzZUV2ZW50XCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgYSBidXNpbmVzcyBpZGVudGlmaWVyLCBub3QgYSByZXNvdXJjZSBpZGVudGlmaWVyIChzZWUgW2Rpc2N1c3Npb25dKHJlc291cmNlLmh0bWwjaWRlbnRpZmllcnMpKS4gIEl0IGlzIGJlc3QgcHJhY3RpY2UgZm9yIHRoZSBpZGVudGlmaWVyIHRvIG9ubHkgYXBwZWFyIG9uIGEgc2luZ2xlIHJlc291cmNlIGluc3RhbmNlLCBob3dldmVyIGJ1c2luZXNzIHByYWN0aWNlcyBtYXkgb2NjYXNpb25hbGx5IGRpY3RhdGUgdGhhdCBtdWx0aXBsZSByZXNvdXJjZSBpbnN0YW5jZXMgd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyIGNhbiBleGlzdCAtIHBvc3NpYmx5IGV2ZW4gd2l0aCBkaWZmZXJlbnQgcmVzb3VyY2UgdHlwZXMuICBGb3IgZXhhbXBsZSwgbXVsdGlwbGUgUGF0aWVudCBhbmQgYSBQZXJzb24gcmVzb3VyY2UgaW5zdGFuY2UgbWlnaHQgc2hhcmUgdGhlIHNhbWUgc29jaWFsIGluc3VyYW5jZSBudW1iZXIuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIGV2ZW50IGFjdHVhbGx5IGhhcHBlbmVkLCBvciBqdXN0IGhhZCB0aGUgcG90ZW50aWFsIHRvLiBOb3RlIHRoYXQgdGhpcyBpcyBpbmRlcGVuZGVudCBvZiB3aGV0aGVyIGFueW9uZSB3YXMgYWZmZWN0ZWQgb3IgaGFybWVkIG9yIGhvdyBzZXZlcmVseS5cclxuICAgKi9cclxuICBhY3R1YWxpdHk6IGZoaXIuRmhpckNvZGU8QWR2ZXJzZUV2ZW50QWN0dWFsaXR5Q29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFkdmVyc2VFdmVudC5hY3R1YWxpdHlcclxuICAgKi9cclxuICBfYWN0dWFsaXR5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgb3ZlcmFsbCB0eXBlIG9mIGV2ZW50LCBpbnRlbmRlZCBmb3Igc2VhcmNoIGFuZCBmaWx0ZXJpbmcgcHVycG9zZXMuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGRlZmluZXMgdGhlIHNwZWNpZmljIHR5cGUgb2YgZXZlbnQgdGhhdCBvY2N1cnJlZCBvciB0aGF0IHdhcyBwcmV2ZW50ZWQgZnJvbSBvY2N1cnJpbmcuXHJcbiAgICovXHJcbiAgZXZlbnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIEFkdmVyc2VFdmVudC5yZXN1bHRpbmdDb25kaXRpb24gZGlmZmVycyBhbW9uZyBtZW1iZXJzIG9mIHRoZSBncm91cCwgdGhlbiB1c2UgUGF0aWVudCBhcyB0aGUgc3ViamVjdC5cclxuICAgKi9cclxuICBzdWJqZWN0OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIHdpbGwgdHlwaWNhbGx5IGJlIHRoZSBlbmNvdW50ZXIgdGhlIGV2ZW50IG9jY3VycmVkIHdpdGhpbiwgYnV0IHNvbWUgYWN0aXZpdGllcyBtYXkgYmUgaW5pdGlhdGVkIHByaW9yIHRvIG9yIGFmdGVyIHRoZSBvZmZpY2lhbCBjb21wbGV0aW9uIG9mIGFuIGVuY291bnRlciBidXQgc3RpbGwgYmUgdGllZCB0byB0aGUgY29udGV4dCBvZiB0aGUgZW5jb3VudGVyLiAgRm9yIGV4YW1wbGUsIGlmIGEgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiB3YXMgY29uc2lkZXJlZCBhbiBhZHZlcnNlIGV2ZW50IGJlY2F1c2UgaXQgcmVzdWx0ZWQgaW4gYSByYXNoLCB0aGVuIHRoZSBlbmNvdW50ZXIgd2hlbiB0aGUgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiB3YXMgZ2l2ZW4gaXMgdGhlIGNvbnRleHQuICBJZiB0aGUgcGF0aWVudCByZXBvcnRzIHRoZSBBZHZlcnNlRXZlbnQgZHVyaW5nIGEgc2Vjb25kIGVuY291bnRlciwgdGhhdCBzZWNvbmQgZW5jb3VudGVyIGlzIG5vdCB0aGUgY29udGV4dC5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIChhbmQgcGVyaGFwcyB0aW1lKSB3aGVuIHRoZSBhZHZlcnNlIGV2ZW50IG9jY3VycmVkLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBZHZlcnNlRXZlbnQuZGF0ZVxyXG4gICAqL1xyXG4gIF9kYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBFc3RpbWF0ZWQgb3IgYWN0dWFsIGRhdGUgdGhlIEFkdmVyc2VFdmVudCBiZWdhbiwgaW4gdGhlIG9waW5pb24gb2YgdGhlIHJlcG9ydGVyLlxyXG4gICAqL1xyXG4gIGRldGVjdGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWR2ZXJzZUV2ZW50LmRldGVjdGVkXHJcbiAgICovXHJcbiAgX2RldGVjdGVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcmVjb3JkZWREYXRlIHJlcHJlc2VudHMgdGhlIGRhdGUgd2hlbiB0aGlzIHBhcnRpY3VsYXIgQWR2ZXJzZUV2ZW50IHJlY29yZCB3YXMgY3JlYXRlZCBpbiB0aGUgc3lzdGVtLCBub3QgdGhlIGRhdGUgb2YgdGhlIG1vc3QgcmVjZW50IHVwZGF0ZS4gIFRoZSBkYXRlIG9mIHRoZSBsYXN0IHJlY29yZCBtb2RpZmljYXRpb24gY2FuIGJlIHJldHJpZXZlZCBmcm9tIHRoZSByZXNvdXJjZSBtZXRhZGF0YS5cclxuICAgKi9cclxuICByZWNvcmRlZERhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBZHZlcnNlRXZlbnQucmVjb3JkZWREYXRlXHJcbiAgICovXHJcbiAgX3JlY29yZGVkRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW5jbHVkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlYWN0aW9uIHRoYXQgb2NjdXJyZWQgYXMgYSByZXN1bHQgb2YgZXhwb3N1cmUgdG8gYSBzdWJzdGFuY2UgKGZvciBleGFtcGxlLCBhIGRydWcgb3IgYSBjaGVtaWNhbCkuXHJcbiAgICovXHJcbiAgcmVzdWx0aW5nQ29uZGl0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmZvcm1hdGlvbiBhYm91dCB3aGVyZSB0aGUgYWR2ZXJzZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXNzZXNzbWVudCB3aGV0aGVyIHRoaXMgZXZlbnQgd2FzIG9mIHJlYWwgaW1wb3J0YW5jZS5cclxuICAgKi9cclxuICBzZXJpb3VzbmVzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBzZXZlcml0eSBvZiB0aGUgYWR2ZXJzZSBldmVudCwgaW4gcmVsYXRpb24gdG8gdGhlIHN1YmplY3QuIENvbnRyYXN0IHRvIEFkdmVyc2VFdmVudC5zZXJpb3VzbmVzcyAtIGEgc2V2ZXJlIHJhc2ggbWlnaHQgbm90IGJlIHNlcmlvdXMsIGJ1dCBhIG1pbGQgaGVhcnQgcHJvYmxlbSBpcy5cclxuICAgKi9cclxuICBzZXZlcml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSB0eXBlIG9mIG91dGNvbWUgZnJvbSB0aGUgYWR2ZXJzZSBldmVudC5cclxuICAgKi9cclxuICBvdXRjb21lPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBvbiB3aG8gcmVjb3JkZWQgdGhlIGFkdmVyc2UgZXZlbnQuICBNYXkgYmUgdGhlIHBhdGllbnQgb3IgYSBwcmFjdGl0aW9uZXIuXHJcbiAgICovXHJcbiAgcmVjb3JkZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBhcnRpZXMgdGhhdCBtYXkgb3Igc2hvdWxkIGNvbnRyaWJ1dGUgb3IgaGF2ZSBjb250cmlidXRlZCBpbmZvcm1hdGlvbiB0byB0aGUgYWR2ZXJzZSBldmVudCwgd2hpY2ggY2FuIGNvbnNpc3Qgb2Ygb25lIG9yIG1vcmUgYWN0aXZpdGllcy4gIFN1Y2ggaW5mb3JtYXRpb24gaW5jbHVkZXMgaW5mb3JtYXRpb24gbGVhZGluZyB0byB0aGUgZGVjaXNpb24gdG8gcGVyZm9ybSB0aGUgYWN0aXZpdHkgYW5kIGhvdyB0byBwZXJmb3JtIHRoZSBhY3Rpdml0eSAoZS5nLiBjb25zdWx0YW50KSwgaW5mb3JtYXRpb24gdGhhdCB0aGUgYWN0aXZpdHkgaXRzZWxmIHNlZWtzIHRvIHJldmVhbCAoZS5nLiBpbmZvcm1hbnQgb2YgY2xpbmljYWwgaGlzdG9yeSksIG9yIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYWN0aXZpdHkgd2FzIHBlcmZvcm1lZCAoZS5nLiBpbmZvcm1hbnQgd2l0bmVzcykuXHJcbiAgICovXHJcbiAgY29udHJpYnV0b3I/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBlbnRpdHkgdGhhdCBpcyBzdXNwZWN0ZWQgdG8gaGF2ZSBjYXVzZWQgdGhlIGFkdmVyc2UgZXZlbnQuXHJcbiAgICovXHJcbiAgc3VzcGVjdEVudGl0eT86IGZoaXIuQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1YmplY3RNZWRpY2FsSGlzdG9yeS5cclxuICAgKi9cclxuICBzdWJqZWN0TWVkaWNhbEhpc3Rvcnk/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnJlZmVyZW5jZURvY3VtZW50LlxyXG4gICAqL1xyXG4gIHJlZmVyZW5jZURvY3VtZW50PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkdmVyc2VFdmVudC5zdHVkeS5cclxuICAgKi9cclxuICBzdHVkeT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFjdHVhbCBvciAgcG90ZW50aWFsL2F2b2lkZWQgZXZlbnQgY2F1c2luZyB1bmludGVuZGVkIHBoeXNpY2FsIGluanVyeSByZXN1bHRpbmcgZnJvbSBvciBjb250cmlidXRlZCB0byBieSBtZWRpY2FsIGNhcmUsIGEgcmVzZWFyY2ggc3R1ZHkgb3Igb3RoZXIgaGVhbHRoY2FyZSBzZXR0aW5nIGZhY3RvcnMgdGhhdCByZXF1aXJlcyBhZGRpdGlvbmFsIG1vbml0b3JpbmcsIHRyZWF0bWVudCwgb3IgaG9zcGl0YWxpemF0aW9uLCBvciB0aGF0IHJlc3VsdHMgaW4gZGVhdGguXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWR2ZXJzZUV2ZW50IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBZHZlcnNlRXZlbnQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQWR2ZXJzZUV2ZW50XCI7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBhIGJ1c2luZXNzIGlkZW50aWZpZXIsIG5vdCBhIHJlc291cmNlIGlkZW50aWZpZXIgKHNlZSBbZGlzY3Vzc2lvbl0ocmVzb3VyY2UuaHRtbCNpZGVudGlmaWVycykpLiAgSXQgaXMgYmVzdCBwcmFjdGljZSBmb3IgdGhlIGlkZW50aWZpZXIgdG8gb25seSBhcHBlYXIgb24gYSBzaW5nbGUgcmVzb3VyY2UgaW5zdGFuY2UsIGhvd2V2ZXIgYnVzaW5lc3MgcHJhY3RpY2VzIG1heSBvY2Nhc2lvbmFsbHkgZGljdGF0ZSB0aGF0IG11bHRpcGxlIHJlc291cmNlIGluc3RhbmNlcyB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgY2FuIGV4aXN0IC0gcG9zc2libHkgZXZlbiB3aXRoIGRpZmZlcmVudCByZXNvdXJjZSB0eXBlcy4gIEZvciBleGFtcGxlLCBtdWx0aXBsZSBQYXRpZW50IGFuZCBhIFBlcnNvbiByZXNvdXJjZSBpbnN0YW5jZSBtaWdodCBzaGFyZSB0aGUgc2FtZSBzb2NpYWwgaW5zdXJhbmNlIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciB0aGUgZXZlbnQgYWN0dWFsbHkgaGFwcGVuZWQsIG9yIGp1c3QgaGFkIHRoZSBwb3RlbnRpYWwgdG8uIE5vdGUgdGhhdCB0aGlzIGlzIGluZGVwZW5kZW50IG9mIHdoZXRoZXIgYW55b25lIHdhcyBhZmZlY3RlZCBvciBoYXJtZWQgb3IgaG93IHNldmVyZWx5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3R1YWxpdHk6IGZoaXIuRmhpckNvZGU8QWR2ZXJzZUV2ZW50QWN0dWFsaXR5Q29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIG92ZXJhbGwgdHlwZSBvZiBldmVudCwgaW50ZW5kZWQgZm9yIHNlYXJjaCBhbmQgZmlsdGVyaW5nIHB1cnBvc2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgZGVmaW5lcyB0aGUgc3BlY2lmaWMgdHlwZSBvZiBldmVudCB0aGF0IG9jY3VycmVkIG9yIHRoYXQgd2FzIHByZXZlbnRlZCBmcm9tIG9jY3VycmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgZXZlbnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgQWR2ZXJzZUV2ZW50LnJlc3VsdGluZ0NvbmRpdGlvbiBkaWZmZXJzIGFtb25nIG1lbWJlcnMgb2YgdGhlIGdyb3VwLCB0aGVuIHVzZSBQYXRpZW50IGFzIHRoZSBzdWJqZWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0OiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgd2lsbCB0eXBpY2FsbHkgYmUgdGhlIGVuY291bnRlciB0aGUgZXZlbnQgb2NjdXJyZWQgd2l0aGluLCBidXQgc29tZSBhY3Rpdml0aWVzIG1heSBiZSBpbml0aWF0ZWQgcHJpb3IgdG8gb3IgYWZ0ZXIgdGhlIG9mZmljaWFsIGNvbXBsZXRpb24gb2YgYW4gZW5jb3VudGVyIGJ1dCBzdGlsbCBiZSB0aWVkIHRvIHRoZSBjb250ZXh0IG9mIHRoZSBlbmNvdW50ZXIuICBGb3IgZXhhbXBsZSwgaWYgYSBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uIHdhcyBjb25zaWRlcmVkIGFuIGFkdmVyc2UgZXZlbnQgYmVjYXVzZSBpdCByZXN1bHRlZCBpbiBhIHJhc2gsIHRoZW4gdGhlIGVuY291bnRlciB3aGVuIHRoZSBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uIHdhcyBnaXZlbiBpcyB0aGUgY29udGV4dC4gIElmIHRoZSBwYXRpZW50IHJlcG9ydHMgdGhlIEFkdmVyc2VFdmVudCBkdXJpbmcgYSBzZWNvbmQgZW5jb3VudGVyLCB0aGF0IHNlY29uZCBlbmNvdW50ZXIgaXMgbm90IHRoZSBjb250ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgKGFuZCBwZXJoYXBzIHRpbWUpIHdoZW4gdGhlIGFkdmVyc2UgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXN0aW1hdGVkIG9yIGFjdHVhbCBkYXRlIHRoZSBBZHZlcnNlRXZlbnQgYmVnYW4sIGluIHRoZSBvcGluaW9uIG9mIHRoZSByZXBvcnRlci5cclxuICAgKi9cclxuICBwdWJsaWMgZGV0ZWN0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29yZGVkRGF0ZSByZXByZXNlbnRzIHRoZSBkYXRlIHdoZW4gdGhpcyBwYXJ0aWN1bGFyIEFkdmVyc2VFdmVudCByZWNvcmQgd2FzIGNyZWF0ZWQgaW4gdGhlIHN5c3RlbSwgbm90IHRoZSBkYXRlIG9mIHRoZSBtb3N0IHJlY2VudCB1cGRhdGUuICBUaGUgZGF0ZSBvZiB0aGUgbGFzdCByZWNvcmQgbW9kaWZpY2F0aW9uIGNhbiBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgcmVzb3VyY2UgbWV0YWRhdGEuXHJcbiAgICovXHJcbiAgcHVibGljIHJlY29yZGVkRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmNsdWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVhY3Rpb24gdGhhdCBvY2N1cnJlZCBhcyBhIHJlc3VsdCBvZiBleHBvc3VyZSB0byBhIHN1YnN0YW5jZSAoZm9yIGV4YW1wbGUsIGEgZHJ1ZyBvciBhIGNoZW1pY2FsKS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVzdWx0aW5nQ29uZGl0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmZvcm1hdGlvbiBhYm91dCB3aGVyZSB0aGUgYWR2ZXJzZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbG9jYXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXNzZXNzbWVudCB3aGV0aGVyIHRoaXMgZXZlbnQgd2FzIG9mIHJlYWwgaW1wb3J0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2VyaW91c25lc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBzZXZlcml0eSBvZiB0aGUgYWR2ZXJzZSBldmVudCwgaW4gcmVsYXRpb24gdG8gdGhlIHN1YmplY3QuIENvbnRyYXN0IHRvIEFkdmVyc2VFdmVudC5zZXJpb3VzbmVzcyAtIGEgc2V2ZXJlIHJhc2ggbWlnaHQgbm90IGJlIHNlcmlvdXMsIGJ1dCBhIG1pbGQgaGVhcnQgcHJvYmxlbSBpcy5cclxuICAgKi9cclxuICBwdWJsaWMgc2V2ZXJpdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSB0eXBlIG9mIG91dGNvbWUgZnJvbSB0aGUgYWR2ZXJzZSBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgb3V0Y29tZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBvbiB3aG8gcmVjb3JkZWQgdGhlIGFkdmVyc2UgZXZlbnQuICBNYXkgYmUgdGhlIHBhdGllbnQgb3IgYSBwcmFjdGl0aW9uZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHJlY29yZGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBhcnRpZXMgdGhhdCBtYXkgb3Igc2hvdWxkIGNvbnRyaWJ1dGUgb3IgaGF2ZSBjb250cmlidXRlZCBpbmZvcm1hdGlvbiB0byB0aGUgYWR2ZXJzZSBldmVudCwgd2hpY2ggY2FuIGNvbnNpc3Qgb2Ygb25lIG9yIG1vcmUgYWN0aXZpdGllcy4gIFN1Y2ggaW5mb3JtYXRpb24gaW5jbHVkZXMgaW5mb3JtYXRpb24gbGVhZGluZyB0byB0aGUgZGVjaXNpb24gdG8gcGVyZm9ybSB0aGUgYWN0aXZpdHkgYW5kIGhvdyB0byBwZXJmb3JtIHRoZSBhY3Rpdml0eSAoZS5nLiBjb25zdWx0YW50KSwgaW5mb3JtYXRpb24gdGhhdCB0aGUgYWN0aXZpdHkgaXRzZWxmIHNlZWtzIHRvIHJldmVhbCAoZS5nLiBpbmZvcm1hbnQgb2YgY2xpbmljYWwgaGlzdG9yeSksIG9yIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYWN0aXZpdHkgd2FzIHBlcmZvcm1lZCAoZS5nLiBpbmZvcm1hbnQgd2l0bmVzcykuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRyaWJ1dG9yOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgZW50aXR5IHRoYXQgaXMgc3VzcGVjdGVkIHRvIGhhdmUgY2F1c2VkIHRoZSBhZHZlcnNlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdXNwZWN0RW50aXR5OiBmaGlyLkFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlbXTtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQuc3ViamVjdE1lZGljYWxIaXN0b3J5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0TWVkaWNhbEhpc3Rvcnk6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnJlZmVyZW5jZURvY3VtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2VEb2N1bWVudDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQuc3R1ZHkuXHJcbiAgICovXHJcbiAgcHVibGljIHN0dWR5OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFkdmVyc2VFdmVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkdmVyc2VFdmVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdBZHZlcnNlRXZlbnQnO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmlkZW50aWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydhY3R1YWxpdHknXSkgeyB0aGlzLmFjdHVhbGl0eSA9IG5ldyBmaGlyLkZoaXJDb2RlPEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5hY3R1YWxpdHl9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWN0dWFsaXR5ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FjdHVhbGl0eSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFjdHVhbGl0eSkgeyB0aGlzLmFjdHVhbGl0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hY3R1YWxpdHkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hY3R1YWxpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxBZHZlcnNlRXZlbnRBY3R1YWxpdHlDb2RlVHlwZT4oc291cmNlLl9hY3R1YWxpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2V2ZW50J10pIHsgdGhpcy5ldmVudCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZXZlbnQpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViamVjdCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlJ10pIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV0ZWN0ZWQnXSkgeyB0aGlzLmRldGVjdGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRldGVjdGVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXRlY3RlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRldGVjdGVkKSB7IHRoaXMuZGV0ZWN0ZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGV0ZWN0ZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXRlY3RlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RldGVjdGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlY29yZGVkRGF0ZSddKSB7IHRoaXMucmVjb3JkZWREYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnJlY29yZGVkRGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVjb3JkZWREYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVjb3JkZWREYXRlKSB7IHRoaXMucmVjb3JkZWREYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlY29yZGVkRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlY29yZGVkRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3JlY29yZGVkRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZXN1bHRpbmdDb25kaXRpb24nXSkgeyB0aGlzLnJlc3VsdGluZ0NvbmRpdGlvbiA9IHNvdXJjZS5yZXN1bHRpbmdDb25kaXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZXN1bHRpbmdDb25kaXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbG9jYXRpb24nXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5sb2NhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcmlvdXNuZXNzJ10pIHsgdGhpcy5zZXJpb3VzbmVzcyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc2VyaW91c25lc3MpOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXZlcml0eSddKSB7IHRoaXMuc2V2ZXJpdHkgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNldmVyaXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0Y29tZSddKSB7IHRoaXMub3V0Y29tZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uub3V0Y29tZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlY29yZGVyJ10pIHsgdGhpcy5yZWNvcmRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVjb3JkZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250cmlidXRvciddKSB7IHRoaXMuY29udHJpYnV0b3IgPSBzb3VyY2UuY29udHJpYnV0b3IubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250cmlidXRvciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdXNwZWN0RW50aXR5J10pIHsgdGhpcy5zdXNwZWN0RW50aXR5ID0gc291cmNlLnN1c3BlY3RFbnRpdHkubWFwKCh4KSA9PiBuZXcgZmhpci5BZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3VzcGVjdEVudGl0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0TWVkaWNhbEhpc3RvcnknXSkgeyB0aGlzLnN1YmplY3RNZWRpY2FsSGlzdG9yeSA9IHNvdXJjZS5zdWJqZWN0TWVkaWNhbEhpc3RvcnkubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJqZWN0TWVkaWNhbEhpc3RvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlRG9jdW1lbnQnXSkgeyB0aGlzLnJlZmVyZW5jZURvY3VtZW50ID0gc291cmNlLnJlZmVyZW5jZURvY3VtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVmZXJlbmNlRG9jdW1lbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3R1ZHknXSkgeyB0aGlzLnN0dWR5ID0gc291cmNlLnN0dWR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3R1ZHkgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGFjdHVhbGl0eSAoQWR2ZXJzZUV2ZW50LmFjdHVhbGl0eSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBhY3R1YWxpdHlSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgY2F0ZWdvcnkgKEFkdmVyc2VFdmVudC5jYXRlZ29yeSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBjYXRlZ29yeUV4dGVuc2libGVDb2RpbmdzKCk6QWR2ZXJzZUV2ZW50Q2F0ZWdvcnlDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBBZHZlcnNlRXZlbnRDYXRlZ29yeUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc2V2ZXJpdHkgKEFkdmVyc2VFdmVudC5zZXZlcml0eSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBzZXZlcml0eVJlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gQWR2ZXJzZUV2ZW50U2V2ZXJpdHlDb2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBvdXRjb21lIChBZHZlcnNlRXZlbnQub3V0Y29tZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBvdXRjb21lUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBBZHZlcnNlRXZlbnRPdXRjb21lQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0FkdmVyc2VFdmVudCcgfVxyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZVR5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2VUeXBlIGZoaXI6IEFkdmVyc2VFdmVudC5yZXNvdXJjZVR5cGU6XCJBZHZlcnNlRXZlbnRcIicsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiaWRlbnRpZmllclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmlkZW50aWZpZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmlkZW50aWZpZXInKSk7IH1cclxuICAgIGlmICghdGhpc1snYWN0dWFsaXR5J10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGFjdHVhbGl0eSBmaGlyOiBBZHZlcnNlRXZlbnQuYWN0dWFsaXR5OmNvZGUnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1snYWN0dWFsaXR5J10gJiYgKCFPYmplY3QudmFsdWVzKEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVzKS5pbmNsdWRlcyh0aGlzLmFjdHVhbGl0eS52YWx1ZSBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgYWN0dWFsaXR5IGZoaXI6IEFkdmVyc2VFdmVudC5hY3R1YWxpdHk6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBBZHZlcnNlRXZlbnRBY3R1YWxpdHknLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImFjdHVhbGl0eVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFjdHVhbGl0eS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuYWN0dWFsaXR5JykpOyB9XHJcbiAgICBpZiAodGhpc1tcImNhdGVnb3J5XCJdKSB7IHRoaXMuY2F0ZWdvcnkuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLmNhdGVnb3J5WyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImV2ZW50XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZXZlbnQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmV2ZW50JykpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3N1YmplY3QnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc3ViamVjdCBmaGlyOiBBZHZlcnNlRXZlbnQuc3ViamVjdDpSZWZlcmVuY2UnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInN1YmplY3RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdWJqZWN0LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zdWJqZWN0JykpOyB9XHJcbiAgICBpZiAodGhpc1tcImVuY291bnRlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmVuY291bnRlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuZW5jb3VudGVyJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImRhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kYXRlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5kYXRlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImRldGVjdGVkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGV0ZWN0ZWQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmRldGVjdGVkJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlY29yZGVkRGF0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlY29yZGVkRGF0ZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucmVjb3JkZWREYXRlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlc3VsdGluZ0NvbmRpdGlvblwiXSkgeyB0aGlzLnJlc3VsdGluZ0NvbmRpdGlvbi5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AucmVzdWx0aW5nQ29uZGl0aW9uWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImxvY2F0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubG9jYXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmxvY2F0aW9uJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInNlcmlvdXNuZXNzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc2VyaW91c25lc3MuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnNlcmlvdXNuZXNzJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInNldmVyaXR5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc2V2ZXJpdHkuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnNldmVyaXR5JykpOyB9XHJcbiAgICBpZiAodGhpc1tcIm91dGNvbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vdXRjb21lLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5vdXRjb21lJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlY29yZGVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVjb3JkZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnJlY29yZGVyJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbnRyaWJ1dG9yXCJdKSB7IHRoaXMuY29udHJpYnV0b3IuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLmNvbnRyaWJ1dG9yWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInN1c3BlY3RFbnRpdHlcIl0pIHsgdGhpcy5zdXNwZWN0RW50aXR5LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5zdXNwZWN0RW50aXR5WyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInN1YmplY3RNZWRpY2FsSGlzdG9yeVwiXSkgeyB0aGlzLnN1YmplY3RNZWRpY2FsSGlzdG9yeS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2Auc3ViamVjdE1lZGljYWxIaXN0b3J5WyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInJlZmVyZW5jZURvY3VtZW50XCJdKSB7IHRoaXMucmVmZXJlbmNlRG9jdW1lbnQuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnJlZmVyZW5jZURvY3VtZW50WyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInN0dWR5XCJdKSB7IHRoaXMuc3R1ZHkuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnN0dWR5WyR7aX1dYCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=