// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: AdverseEvent
import * as fhir from '../fhir.js';
// @ts-ignore
import { AdverseEventActualityVsValidation } from '../fhirValueSets/AdverseEventActualityVsValidation.js';
// @ts-ignore
import { AdverseEventSeverityVsValidation } from '../fhirValueSets/AdverseEventSeverityVsValidation.js';
// @ts-ignore
import { AdverseEventOutcomeVsValidation } from '../fhirValueSets/AdverseEventOutcomeVsValidation.js';
/**
 * Information on the possible cause of the event.
 */
export class AdverseEventSuspectEntityCausality extends fhir.BackboneElement {
    /**
     * Default constructor for AdverseEventSuspectEntityCausality - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['assessment']) {
            this.assessment = new fhir.CodeableConcept(source.assessment);
        }
        if (source['productRelatedness']) {
            this.productRelatedness = new fhir.FhirString({ value: source.productRelatedness });
        }
        if (source['_productRelatedness']) {
            if (this.productRelatedness) {
                this.productRelatedness.addExtendedProperties(source._productRelatedness);
            }
            else {
                this.productRelatedness = new fhir.FhirString(source._productRelatedness);
            }
        }
        if (source['author']) {
            this.author = new fhir.Reference(source.author);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdverseEvent.suspectEntity.causality';
        }
        this.vOS('assessment', exp);
        this.vOS('productRelatedness', exp);
        this.vOS('author', exp);
        this.vOS('method', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEventSuspectEntityCausality._fts_dataType = 'AdverseEventSuspectEntityCausality';
/**
 * Describes the entity that is suspected to have caused the adverse event.
 */
export class AdverseEventSuspectEntity extends fhir.BackboneElement {
    /**
     * Default constructor for AdverseEventSuspectEntity - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['instance']) {
            this.instance = new fhir.Reference(source.instance);
        }
        else {
            this.instance = null;
        }
        if (source['causality']) {
            this.causality = source.causality.map((x) => new fhir.AdverseEventSuspectEntityCausality(x));
        }
        else {
            this.causality = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdverseEvent.suspectEntity';
        }
        this.vRS('instance', exp);
        this.vOA('causality', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEventSuspectEntity._fts_dataType = 'AdverseEventSuspectEntity';
/**
 * Actual or  potential/avoided event causing unintended physical injury resulting from or contributed to by medical care, a research study or other healthcare setting factors that requires additional monitoring, treatment, or hospitalization, or that results in death.
 */
export class AdverseEvent extends fhir.DomainResource {
    /**
     * Default constructor for AdverseEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AdverseEvent';
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['actuality']) {
            this.actuality = new fhir.FhirCode({ value: source.actuality });
        }
        else {
            this.actuality = null;
        }
        if (source['_actuality']) {
            if (this.actuality) {
                this.actuality.addExtendedProperties(source._actuality);
            }
            else {
                this.actuality = new fhir.FhirCode(source._actuality);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['event']) {
            this.event = new fhir.CodeableConcept(source.event);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        else {
            this.subject = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['detected']) {
            this.detected = new fhir.FhirDateTime({ value: source.detected });
        }
        if (source['_detected']) {
            if (this.detected) {
                this.detected.addExtendedProperties(source._detected);
            }
            else {
                this.detected = new fhir.FhirDateTime(source._detected);
            }
        }
        if (source['recordedDate']) {
            this.recordedDate = new fhir.FhirDateTime({ value: source.recordedDate });
        }
        if (source['_recordedDate']) {
            if (this.recordedDate) {
                this.recordedDate.addExtendedProperties(source._recordedDate);
            }
            else {
                this.recordedDate = new fhir.FhirDateTime(source._recordedDate);
            }
        }
        if (source['resultingCondition']) {
            this.resultingCondition = source.resultingCondition.map((x) => new fhir.Reference(x));
        }
        else {
            this.resultingCondition = [];
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        if (source['seriousness']) {
            this.seriousness = new fhir.CodeableConcept(source.seriousness);
        }
        if (source['severity']) {
            this.severity = new fhir.CodeableConcept(source.severity);
        }
        if (source['outcome']) {
            this.outcome = new fhir.CodeableConcept(source.outcome);
        }
        if (source['recorder']) {
            this.recorder = new fhir.Reference(source.recorder);
        }
        if (source['contributor']) {
            this.contributor = source.contributor.map((x) => new fhir.Reference(x));
        }
        else {
            this.contributor = [];
        }
        if (source['suspectEntity']) {
            this.suspectEntity = source.suspectEntity.map((x) => new fhir.AdverseEventSuspectEntity(x));
        }
        else {
            this.suspectEntity = [];
        }
        if (source['subjectMedicalHistory']) {
            this.subjectMedicalHistory = source.subjectMedicalHistory.map((x) => new fhir.Reference(x));
        }
        else {
            this.subjectMedicalHistory = [];
        }
        if (source['referenceDocument']) {
            this.referenceDocument = source.referenceDocument.map((x) => new fhir.Reference(x));
        }
        else {
            this.referenceDocument = [];
        }
        if (source['study']) {
            this.study = source.study.map((x) => new fhir.Reference(x));
        }
        else {
            this.study = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdverseEvent';
        }
        this.vRS('resourceType', exp);
        this.vOS('identifier', exp);
        this.vRSV('actuality', exp, 'AdverseEventActuality', AdverseEventActualityVsValidation, 'r');
        this.vOA('category', exp);
        this.vOS('event', exp);
        this.vRS('subject', exp);
        this.vOS('encounter', exp);
        this.vOS('date', exp);
        this.vOS('detected', exp);
        this.vOS('recordedDate', exp);
        this.vOA('resultingCondition', exp);
        this.vOS('location', exp);
        this.vOS('seriousness', exp);
        this.vOSV('severity', exp, 'AdverseEventSeverity', AdverseEventSeverityVsValidation, 'r');
        this.vOSV('outcome', exp, 'AdverseEventOutcome', AdverseEventOutcomeVsValidation, 'r');
        this.vOS('recorder', exp);
        this.vOA('contributor', exp);
        this.vOA('suspectEntity', exp);
        this.vOA('subjectMedicalHistory', exp);
        this.vOA('referenceDocument', exp);
        this.vOA('study', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdverseEvent._fts_dataType = 'AdverseEvent';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWR2ZXJzZUV2ZW50LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BZHZlcnNlRXZlbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsOEJBQThCO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBWW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsaUNBQWlDLEVBQUUsTUFBTSx1REFBdUQsQ0FBQztBQWUxRyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sc0RBQXNELENBQUM7QUFHeEcsYUFBYTtBQUNiLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLHFEQUFxRCxDQUFDO0FBMkJ0Rzs7R0FFRztBQUNILE1BQU0sT0FBTyxrQ0FBbUMsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXFCMUU7O09BRUc7SUFDSCxZQUFZLFNBQXlELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQy9HLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FBRTtRQUM1RixJQUFJLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsa0JBQWtCLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDeEgsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUNqQyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtnQkFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLG1CQUFv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ckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNqQyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNyQixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXhLRDs7R0FFRztBQUM2QiwwQkFBYSxHQUFVLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQWR2ZXJzZUV2ZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2RlcywgIEFkdmVyc2VFdmVudENhdXNhbGl0eUFzc2Vzc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5QXNzZXNzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRDYXVzYWxpdHlBc3Nlc3NWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudENhdXNhbGl0eU1ldGhvZENvZGVzLCAgQWR2ZXJzZUV2ZW50Q2F1c2FsaXR5TWV0aG9kQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudENhdXNhbGl0eU1ldGhvZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXVzYWxpdHlNZXRob2RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudENhdXNhbGl0eU1ldGhvZFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50QWN0dWFsaXR5Q29kZXMsICBBZHZlcnNlRXZlbnRBY3R1YWxpdHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50QWN0dWFsaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudEFjdHVhbGl0eVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50QWN0dWFsaXR5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRDYXRlZ29yeUNvZGVzLCAgQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50Q2F0ZWdvcnlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudENhdGVnb3J5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZHZlcnNlRXZlbnRUeXBlQ29kZXMsICBBZHZlcnNlRXZlbnRUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50VHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWR2ZXJzZUV2ZW50VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50U2VyaW91c25lc3NDb2RlcywgIEFkdmVyc2VFdmVudFNlcmlvdXNuZXNzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudFNlcmlvdXNuZXNzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudFNlcmlvdXNuZXNzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRTZXJpb3VzbmVzc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50U2V2ZXJpdHlDb2RlcywgIEFkdmVyc2VFdmVudFNldmVyaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudFNldmVyaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudFNldmVyaXR5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRTZXZlcml0eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWR2ZXJzZUV2ZW50T3V0Y29tZUNvZGVzLCAgQWR2ZXJzZUV2ZW50T3V0Y29tZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZHZlcnNlRXZlbnRPdXRjb21lQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkdmVyc2VFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkdmVyc2VFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQXNzZXNzbWVudCBvZiBpZiB0aGUgZW50aXR5IGNhdXNlZCB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgYXNzZXNzbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5UHJvZHVjdFJlbGF0ZWRuZXNzLlxyXG4gICAqL1xyXG4gIHByb2R1Y3RSZWxhdGVkbmVzcz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBZHZlcnNlRXZlbnQuc3VzcGVjdEVudGl0eS5jYXVzYWxpdHkucHJvZHVjdFJlbGF0ZWRuZXNzXHJcbiAgICovXHJcbiAgX3Byb2R1Y3RSZWxhdGVkbmVzcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5QXV0aG9yLlxyXG4gICAqL1xyXG4gIGF1dGhvcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvYmFiaWxpdHlTY2FsZSB8IEJheWVzaWFuIHwgQ2hlY2tsaXN0LlxyXG4gICAqL1xyXG4gIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBvbiB0aGUgcG9zc2libGUgY2F1c2Ugb2YgdGhlIGV2ZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5JztcclxuICAvKipcclxuICAgKiBBc3Nlc3NtZW50IG9mIGlmIHRoZSBlbnRpdHkgY2F1c2VkIHRoZSBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgYXNzZXNzbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQuc3VzcGVjdEVudGl0eS5jYXVzYWxpdHlQcm9kdWN0UmVsYXRlZG5lc3MuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3RSZWxhdGVkbmVzcz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHkuY2F1c2FsaXR5QXV0aG9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdXRob3I/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvYmFiaWxpdHlTY2FsZSB8IEJheWVzaWFuIHwgQ2hlY2tsaXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnYXNzZXNzbWVudCddKSB7IHRoaXMuYXNzZXNzbWVudCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYXNzZXNzbWVudCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3RSZWxhdGVkbmVzcyddKSB7IHRoaXMucHJvZHVjdFJlbGF0ZWRuZXNzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wcm9kdWN0UmVsYXRlZG5lc3N9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3Byb2R1Y3RSZWxhdGVkbmVzcyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb2R1Y3RSZWxhdGVkbmVzcykgeyB0aGlzLnByb2R1Y3RSZWxhdGVkbmVzcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcm9kdWN0UmVsYXRlZG5lc3MhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcm9kdWN0UmVsYXRlZG5lc3MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcHJvZHVjdFJlbGF0ZWRuZXNzIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdXRob3InXSkgeyB0aGlzLmF1dGhvciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuYXV0aG9yKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWV0aG9kJ10pIHsgdGhpcy5tZXRob2QgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLm1ldGhvZCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBZHZlcnNlRXZlbnQuc3VzcGVjdEVudGl0eS5jYXVzYWxpdHknIH1cclxuICAgIHRoaXMudk9TKCdhc3Nlc3NtZW50JyxleHApXHJcbiAgICB0aGlzLnZPUygncHJvZHVjdFJlbGF0ZWRuZXNzJyxleHApXHJcbiAgICB0aGlzLnZPUygnYXV0aG9yJyxleHApXHJcbiAgICB0aGlzLnZPUygnbWV0aG9kJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHdoYXQgY2F1c2VkIHRoZSBhZHZlcnNlIGV2ZW50LiAgTWF5IGJlIGEgc3Vic3RhbmNlLCBtZWRpY2F0aW9uLCBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uLCBtZWRpY2F0aW9uIHN0YXRlbWVudCBvciBhIGRldmljZS5cclxuICAgKi9cclxuICBpbnN0YW5jZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gdGhlIHBvc3NpYmxlIGNhdXNlIG9mIHRoZSBldmVudC5cclxuICAgKi9cclxuICBjYXVzYWxpdHk/OiBmaGlyLkFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlDYXVzYWxpdHlBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVzY3JpYmVzIHRoZSBlbnRpdHkgdGhhdCBpcyBzdXNwZWN0ZWQgdG8gaGF2ZSBjYXVzZWQgdGhlIGFkdmVyc2UgZXZlbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHknO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIGFjdHVhbCBpbnN0YW5jZSBvZiB3aGF0IGNhdXNlZCB0aGUgYWR2ZXJzZSBldmVudC4gIE1heSBiZSBhIHN1YnN0YW5jZSwgbWVkaWNhdGlvbiwgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiwgbWVkaWNhdGlvbiBzdGF0ZW1lbnQgb3IgYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGluc3RhbmNlOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIHRoZSBwb3NzaWJsZSBjYXVzZSBvZiB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdXNhbGl0eTogZmhpci5BZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5Q2F1c2FsaXR5W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaW5zdGFuY2UnXSkgeyB0aGlzLmluc3RhbmNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5pbnN0YW5jZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluc3RhbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F1c2FsaXR5J10pIHsgdGhpcy5jYXVzYWxpdHkgPSBzb3VyY2UuY2F1c2FsaXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eUNhdXNhbGl0eSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdXNhbGl0eSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWR2ZXJzZUV2ZW50LnN1c3BlY3RFbnRpdHknIH1cclxuICAgIHRoaXMudlJTKCdpbnN0YW5jZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2NhdXNhbGl0eScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEFkdmVyc2VFdmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZHZlcnNlRXZlbnRBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJBZHZlcnNlRXZlbnRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBhIGJ1c2luZXNzIGlkZW50aWZpZXIsIG5vdCBhIHJlc291cmNlIGlkZW50aWZpZXIgKHNlZSBbZGlzY3Vzc2lvbl0ocmVzb3VyY2UuaHRtbCNpZGVudGlmaWVycykpLiAgSXQgaXMgYmVzdCBwcmFjdGljZSBmb3IgdGhlIGlkZW50aWZpZXIgdG8gb25seSBhcHBlYXIgb24gYSBzaW5nbGUgcmVzb3VyY2UgaW5zdGFuY2UsIGhvd2V2ZXIgYnVzaW5lc3MgcHJhY3RpY2VzIG1heSBvY2Nhc2lvbmFsbHkgZGljdGF0ZSB0aGF0IG11bHRpcGxlIHJlc291cmNlIGluc3RhbmNlcyB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgY2FuIGV4aXN0IC0gcG9zc2libHkgZXZlbiB3aXRoIGRpZmZlcmVudCByZXNvdXJjZSB0eXBlcy4gIEZvciBleGFtcGxlLCBtdWx0aXBsZSBQYXRpZW50IGFuZCBhIFBlcnNvbiByZXNvdXJjZSBpbnN0YW5jZSBtaWdodCBzaGFyZSB0aGUgc2FtZSBzb2NpYWwgaW5zdXJhbmNlIG51bWJlci5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciB0aGUgZXZlbnQgYWN0dWFsbHkgaGFwcGVuZWQsIG9yIGp1c3QgaGFkIHRoZSBwb3RlbnRpYWwgdG8uIE5vdGUgdGhhdCB0aGlzIGlzIGluZGVwZW5kZW50IG9mIHdoZXRoZXIgYW55b25lIHdhcyBhZmZlY3RlZCBvciBoYXJtZWQgb3IgaG93IHNldmVyZWx5LlxyXG4gICAqL1xyXG4gIGFjdHVhbGl0eTogZmhpci5GaGlyQ29kZTxBZHZlcnNlRXZlbnRBY3R1YWxpdHlDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWR2ZXJzZUV2ZW50LmFjdHVhbGl0eVxyXG4gICAqL1xyXG4gIF9hY3R1YWxpdHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvdmVyYWxsIHR5cGUgb2YgZXZlbnQsIGludGVuZGVkIGZvciBzZWFyY2ggYW5kIGZpbHRlcmluZyBwdXJwb3Nlcy5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgZGVmaW5lcyB0aGUgc3BlY2lmaWMgdHlwZSBvZiBldmVudCB0aGF0IG9jY3VycmVkIG9yIHRoYXQgd2FzIHByZXZlbnRlZCBmcm9tIG9jY3VycmluZy5cclxuICAgKi9cclxuICBldmVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgQWR2ZXJzZUV2ZW50LnJlc3VsdGluZ0NvbmRpdGlvbiBkaWZmZXJzIGFtb25nIG1lbWJlcnMgb2YgdGhlIGdyb3VwLCB0aGVuIHVzZSBQYXRpZW50IGFzIHRoZSBzdWJqZWN0LlxyXG4gICAqL1xyXG4gIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgd2lsbCB0eXBpY2FsbHkgYmUgdGhlIGVuY291bnRlciB0aGUgZXZlbnQgb2NjdXJyZWQgd2l0aGluLCBidXQgc29tZSBhY3Rpdml0aWVzIG1heSBiZSBpbml0aWF0ZWQgcHJpb3IgdG8gb3IgYWZ0ZXIgdGhlIG9mZmljaWFsIGNvbXBsZXRpb24gb2YgYW4gZW5jb3VudGVyIGJ1dCBzdGlsbCBiZSB0aWVkIHRvIHRoZSBjb250ZXh0IG9mIHRoZSBlbmNvdW50ZXIuICBGb3IgZXhhbXBsZSwgaWYgYSBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uIHdhcyBjb25zaWRlcmVkIGFuIGFkdmVyc2UgZXZlbnQgYmVjYXVzZSBpdCByZXN1bHRlZCBpbiBhIHJhc2gsIHRoZW4gdGhlIGVuY291bnRlciB3aGVuIHRoZSBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uIHdhcyBnaXZlbiBpcyB0aGUgY29udGV4dC4gIElmIHRoZSBwYXRpZW50IHJlcG9ydHMgdGhlIEFkdmVyc2VFdmVudCBkdXJpbmcgYSBzZWNvbmQgZW5jb3VudGVyLCB0aGF0IHNlY29uZCBlbmNvdW50ZXIgaXMgbm90IHRoZSBjb250ZXh0LlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgKGFuZCBwZXJoYXBzIHRpbWUpIHdoZW4gdGhlIGFkdmVyc2UgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFkdmVyc2VFdmVudC5kYXRlXHJcbiAgICovXHJcbiAgX2RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEVzdGltYXRlZCBvciBhY3R1YWwgZGF0ZSB0aGUgQWR2ZXJzZUV2ZW50IGJlZ2FuLCBpbiB0aGUgb3BpbmlvbiBvZiB0aGUgcmVwb3J0ZXIuXHJcbiAgICovXHJcbiAgZGV0ZWN0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBZHZlcnNlRXZlbnQuZGV0ZWN0ZWRcclxuICAgKi9cclxuICBfZGV0ZWN0ZWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWNvcmRlZERhdGUgcmVwcmVzZW50cyB0aGUgZGF0ZSB3aGVuIHRoaXMgcGFydGljdWxhciBBZHZlcnNlRXZlbnQgcmVjb3JkIHdhcyBjcmVhdGVkIGluIHRoZSBzeXN0ZW0sIG5vdCB0aGUgZGF0ZSBvZiB0aGUgbW9zdCByZWNlbnQgdXBkYXRlLiAgVGhlIGRhdGUgb2YgdGhlIGxhc3QgcmVjb3JkIG1vZGlmaWNhdGlvbiBjYW4gYmUgcmV0cmlldmVkIGZyb20gdGhlIHJlc291cmNlIG1ldGFkYXRhLlxyXG4gICAqL1xyXG4gIHJlY29yZGVkRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFkdmVyc2VFdmVudC5yZWNvcmRlZERhdGVcclxuICAgKi9cclxuICBfcmVjb3JkZWREYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmNsdWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVhY3Rpb24gdGhhdCBvY2N1cnJlZCBhcyBhIHJlc3VsdCBvZiBleHBvc3VyZSB0byBhIHN1YnN0YW5jZSAoZm9yIGV4YW1wbGUsIGEgZHJ1ZyBvciBhIGNoZW1pY2FsKS5cclxuICAgKi9cclxuICByZXN1bHRpbmdDb25kaXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluZm9ybWF0aW9uIGFib3V0IHdoZXJlIHRoZSBhZHZlcnNlIGV2ZW50IG9jY3VycmVkLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBc3Nlc3NtZW50IHdoZXRoZXIgdGhpcyBldmVudCB3YXMgb2YgcmVhbCBpbXBvcnRhbmNlLlxyXG4gICAqL1xyXG4gIHNlcmlvdXNuZXNzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIHNldmVyaXR5IG9mIHRoZSBhZHZlcnNlIGV2ZW50LCBpbiByZWxhdGlvbiB0byB0aGUgc3ViamVjdC4gQ29udHJhc3QgdG8gQWR2ZXJzZUV2ZW50LnNlcmlvdXNuZXNzIC0gYSBzZXZlcmUgcmFzaCBtaWdodCBub3QgYmUgc2VyaW91cywgYnV0IGEgbWlsZCBoZWFydCBwcm9ibGVtIGlzLlxyXG4gICAqL1xyXG4gIHNldmVyaXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIHR5cGUgb2Ygb3V0Y29tZSBmcm9tIHRoZSBhZHZlcnNlIGV2ZW50LlxyXG4gICAqL1xyXG4gIG91dGNvbWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIHdobyByZWNvcmRlZCB0aGUgYWR2ZXJzZSBldmVudC4gIE1heSBiZSB0aGUgcGF0aWVudCBvciBhIHByYWN0aXRpb25lci5cclxuICAgKi9cclxuICByZWNvcmRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGFydGllcyB0aGF0IG1heSBvciBzaG91bGQgY29udHJpYnV0ZSBvciBoYXZlIGNvbnRyaWJ1dGVkIGluZm9ybWF0aW9uIHRvIHRoZSBhZHZlcnNlIGV2ZW50LCB3aGljaCBjYW4gY29uc2lzdCBvZiBvbmUgb3IgbW9yZSBhY3Rpdml0aWVzLiAgU3VjaCBpbmZvcm1hdGlvbiBpbmNsdWRlcyBpbmZvcm1hdGlvbiBsZWFkaW5nIHRvIHRoZSBkZWNpc2lvbiB0byBwZXJmb3JtIHRoZSBhY3Rpdml0eSBhbmQgaG93IHRvIHBlcmZvcm0gdGhlIGFjdGl2aXR5IChlLmcuIGNvbnN1bHRhbnQpLCBpbmZvcm1hdGlvbiB0aGF0IHRoZSBhY3Rpdml0eSBpdHNlbGYgc2Vla3MgdG8gcmV2ZWFsIChlLmcuIGluZm9ybWFudCBvZiBjbGluaWNhbCBoaXN0b3J5KSwgb3IgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBhY3Rpdml0eSB3YXMgcGVyZm9ybWVkIChlLmcuIGluZm9ybWFudCB3aXRuZXNzKS5cclxuICAgKi9cclxuICBjb250cmlidXRvcj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIGVudGl0eSB0aGF0IGlzIHN1c3BlY3RlZCB0byBoYXZlIGNhdXNlZCB0aGUgYWR2ZXJzZSBldmVudC5cclxuICAgKi9cclxuICBzdXNwZWN0RW50aXR5PzogZmhpci5BZHZlcnNlRXZlbnRTdXNwZWN0RW50aXR5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQuc3ViamVjdE1lZGljYWxIaXN0b3J5LlxyXG4gICAqL1xyXG4gIHN1YmplY3RNZWRpY2FsSGlzdG9yeT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQucmVmZXJlbmNlRG9jdW1lbnQuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlRG9jdW1lbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWR2ZXJzZUV2ZW50LnN0dWR5LlxyXG4gICAqL1xyXG4gIHN0dWR5PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQWN0dWFsIG9yICBwb3RlbnRpYWwvYXZvaWRlZCBldmVudCBjYXVzaW5nIHVuaW50ZW5kZWQgcGh5c2ljYWwgaW5qdXJ5IHJlc3VsdGluZyBmcm9tIG9yIGNvbnRyaWJ1dGVkIHRvIGJ5IG1lZGljYWwgY2FyZSwgYSByZXNlYXJjaCBzdHVkeSBvciBvdGhlciBoZWFsdGhjYXJlIHNldHRpbmcgZmFjdG9ycyB0aGF0IHJlcXVpcmVzIGFkZGl0aW9uYWwgbW9uaXRvcmluZywgdHJlYXRtZW50LCBvciBob3NwaXRhbGl6YXRpb24sIG9yIHRoYXQgcmVzdWx0cyBpbiBkZWF0aC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBZHZlcnNlRXZlbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FkdmVyc2VFdmVudCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJBZHZlcnNlRXZlbnRcIjtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGEgYnVzaW5lc3MgaWRlbnRpZmllciwgbm90IGEgcmVzb3VyY2UgaWRlbnRpZmllciAoc2VlIFtkaXNjdXNzaW9uXShyZXNvdXJjZS5odG1sI2lkZW50aWZpZXJzKSkuICBJdCBpcyBiZXN0IHByYWN0aWNlIGZvciB0aGUgaWRlbnRpZmllciB0byBvbmx5IGFwcGVhciBvbiBhIHNpbmdsZSByZXNvdXJjZSBpbnN0YW5jZSwgaG93ZXZlciBidXNpbmVzcyBwcmFjdGljZXMgbWF5IG9jY2FzaW9uYWxseSBkaWN0YXRlIHRoYXQgbXVsdGlwbGUgcmVzb3VyY2UgaW5zdGFuY2VzIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBjYW4gZXhpc3QgLSBwb3NzaWJseSBldmVuIHdpdGggZGlmZmVyZW50IHJlc291cmNlIHR5cGVzLiAgRm9yIGV4YW1wbGUsIG11bHRpcGxlIFBhdGllbnQgYW5kIGEgUGVyc29uIHJlc291cmNlIGluc3RhbmNlIG1pZ2h0IHNoYXJlIHRoZSBzYW1lIHNvY2lhbCBpbnN1cmFuY2UgbnVtYmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoZSBldmVudCBhY3R1YWxseSBoYXBwZW5lZCwgb3IganVzdCBoYWQgdGhlIHBvdGVudGlhbCB0by4gTm90ZSB0aGF0IHRoaXMgaXMgaW5kZXBlbmRlbnQgb2Ygd2hldGhlciBhbnlvbmUgd2FzIGFmZmVjdGVkIG9yIGhhcm1lZCBvciBob3cgc2V2ZXJlbHkuXHJcbiAgICovXHJcbiAgcHVibGljIGFjdHVhbGl0eTogZmhpci5GaGlyQ29kZTxBZHZlcnNlRXZlbnRBY3R1YWxpdHlDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgb3ZlcmFsbCB0eXBlIG9mIGV2ZW50LCBpbnRlbmRlZCBmb3Igc2VhcmNoIGFuZCBmaWx0ZXJpbmcgcHVycG9zZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdGVnb3J5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBkZWZpbmVzIHRoZSBzcGVjaWZpYyB0eXBlIG9mIGV2ZW50IHRoYXQgb2NjdXJyZWQgb3IgdGhhdCB3YXMgcHJldmVudGVkIGZyb20gb2NjdXJyaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBldmVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBBZHZlcnNlRXZlbnQucmVzdWx0aW5nQ29uZGl0aW9uIGRpZmZlcnMgYW1vbmcgbWVtYmVycyBvZiB0aGUgZ3JvdXAsIHRoZW4gdXNlIFBhdGllbnQgYXMgdGhlIHN1YmplY3QuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB3aWxsIHR5cGljYWxseSBiZSB0aGUgZW5jb3VudGVyIHRoZSBldmVudCBvY2N1cnJlZCB3aXRoaW4sIGJ1dCBzb21lIGFjdGl2aXRpZXMgbWF5IGJlIGluaXRpYXRlZCBwcmlvciB0byBvciBhZnRlciB0aGUgb2ZmaWNpYWwgY29tcGxldGlvbiBvZiBhbiBlbmNvdW50ZXIgYnV0IHN0aWxsIGJlIHRpZWQgdG8gdGhlIGNvbnRleHQgb2YgdGhlIGVuY291bnRlci4gIEZvciBleGFtcGxlLCBpZiBhIG1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24gd2FzIGNvbnNpZGVyZWQgYW4gYWR2ZXJzZSBldmVudCBiZWNhdXNlIGl0IHJlc3VsdGVkIGluIGEgcmFzaCwgdGhlbiB0aGUgZW5jb3VudGVyIHdoZW4gdGhlIG1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24gd2FzIGdpdmVuIGlzIHRoZSBjb250ZXh0LiAgSWYgdGhlIHBhdGllbnQgcmVwb3J0cyB0aGUgQWR2ZXJzZUV2ZW50IGR1cmluZyBhIHNlY29uZCBlbmNvdW50ZXIsIHRoYXQgc2Vjb25kIGVuY291bnRlciBpcyBub3QgdGhlIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSAoYW5kIHBlcmhhcHMgdGltZSkgd2hlbiB0aGUgYWR2ZXJzZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFc3RpbWF0ZWQgb3IgYWN0dWFsIGRhdGUgdGhlIEFkdmVyc2VFdmVudCBiZWdhbiwgaW4gdGhlIG9waW5pb24gb2YgdGhlIHJlcG9ydGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXRlY3RlZD86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVjb3JkZWREYXRlIHJlcHJlc2VudHMgdGhlIGRhdGUgd2hlbiB0aGlzIHBhcnRpY3VsYXIgQWR2ZXJzZUV2ZW50IHJlY29yZCB3YXMgY3JlYXRlZCBpbiB0aGUgc3lzdGVtLCBub3QgdGhlIGRhdGUgb2YgdGhlIG1vc3QgcmVjZW50IHVwZGF0ZS4gIFRoZSBkYXRlIG9mIHRoZSBsYXN0IHJlY29yZCBtb2RpZmljYXRpb24gY2FuIGJlIHJldHJpZXZlZCBmcm9tIHRoZSByZXNvdXJjZSBtZXRhZGF0YS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVjb3JkZWREYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluY2x1ZGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZWFjdGlvbiB0aGF0IG9jY3VycmVkIGFzIGEgcmVzdWx0IG9mIGV4cG9zdXJlIHRvIGEgc3Vic3RhbmNlIChmb3IgZXhhbXBsZSwgYSBkcnVnIG9yIGEgY2hlbWljYWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXN1bHRpbmdDb25kaXRpb246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGluZm9ybWF0aW9uIGFib3V0IHdoZXJlIHRoZSBhZHZlcnNlIGV2ZW50IG9jY3VycmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBc3Nlc3NtZW50IHdoZXRoZXIgdGhpcyBldmVudCB3YXMgb2YgcmVhbCBpbXBvcnRhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJpb3VzbmVzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIHNldmVyaXR5IG9mIHRoZSBhZHZlcnNlIGV2ZW50LCBpbiByZWxhdGlvbiB0byB0aGUgc3ViamVjdC4gQ29udHJhc3QgdG8gQWR2ZXJzZUV2ZW50LnNlcmlvdXNuZXNzIC0gYSBzZXZlcmUgcmFzaCBtaWdodCBub3QgYmUgc2VyaW91cywgYnV0IGEgbWlsZCBoZWFydCBwcm9ibGVtIGlzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXZlcml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIHR5cGUgb2Ygb3V0Y29tZSBmcm9tIHRoZSBhZHZlcnNlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIHdobyByZWNvcmRlZCB0aGUgYWR2ZXJzZSBldmVudC4gIE1heSBiZSB0aGUgcGF0aWVudCBvciBhIHByYWN0aXRpb25lci5cclxuICAgKi9cclxuICBwdWJsaWMgcmVjb3JkZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGFydGllcyB0aGF0IG1heSBvciBzaG91bGQgY29udHJpYnV0ZSBvciBoYXZlIGNvbnRyaWJ1dGVkIGluZm9ybWF0aW9uIHRvIHRoZSBhZHZlcnNlIGV2ZW50LCB3aGljaCBjYW4gY29uc2lzdCBvZiBvbmUgb3IgbW9yZSBhY3Rpdml0aWVzLiAgU3VjaCBpbmZvcm1hdGlvbiBpbmNsdWRlcyBpbmZvcm1hdGlvbiBsZWFkaW5nIHRvIHRoZSBkZWNpc2lvbiB0byBwZXJmb3JtIHRoZSBhY3Rpdml0eSBhbmQgaG93IHRvIHBlcmZvcm0gdGhlIGFjdGl2aXR5IChlLmcuIGNvbnN1bHRhbnQpLCBpbmZvcm1hdGlvbiB0aGF0IHRoZSBhY3Rpdml0eSBpdHNlbGYgc2Vla3MgdG8gcmV2ZWFsIChlLmcuIGluZm9ybWFudCBvZiBjbGluaWNhbCBoaXN0b3J5KSwgb3IgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBhY3Rpdml0eSB3YXMgcGVyZm9ybWVkIChlLmcuIGluZm9ybWFudCB3aXRuZXNzKS5cclxuICAgKi9cclxuICBwdWJsaWMgY29udHJpYnV0b3I6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBlbnRpdHkgdGhhdCBpcyBzdXNwZWN0ZWQgdG8gaGF2ZSBjYXVzZWQgdGhlIGFkdmVyc2UgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHN1c3BlY3RFbnRpdHk6IGZoaXIuQWR2ZXJzZUV2ZW50U3VzcGVjdEVudGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIEFkdmVyc2VFdmVudC5zdWJqZWN0TWVkaWNhbEhpc3RvcnkuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3RNZWRpY2FsSGlzdG9yeTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBBZHZlcnNlRXZlbnQucmVmZXJlbmNlRG9jdW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZURvY3VtZW50OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEFkdmVyc2VFdmVudC5zdHVkeS5cclxuICAgKi9cclxuICBwdWJsaWMgc3R1ZHk6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWR2ZXJzZUV2ZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QWR2ZXJzZUV2ZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0FkdmVyc2VFdmVudCc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UuaWRlbnRpZmllcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdHVhbGl0eSddKSB7IHRoaXMuYWN0dWFsaXR5ID0gbmV3IGZoaXIuRmhpckNvZGU8QWR2ZXJzZUV2ZW50QWN0dWFsaXR5Q29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmFjdHVhbGl0eX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY3R1YWxpdHkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWN0dWFsaXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMuYWN0dWFsaXR5KSB7IHRoaXMuYWN0dWFsaXR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FjdHVhbGl0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFjdHVhbGl0eSA9IG5ldyBmaGlyLkZoaXJDb2RlPEFkdmVyc2VFdmVudEFjdHVhbGl0eUNvZGVUeXBlPihzb3VyY2UuX2FjdHVhbGl0eSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gc291cmNlLmNhdGVnb3J5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2F0ZWdvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXZlbnQnXSkgeyB0aGlzLmV2ZW50ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5ldmVudCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YmplY3QnXSkgeyB0aGlzLnN1YmplY3QgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnN1YmplY3QpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJqZWN0ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW5jb3VudGVyJ10pIHsgdGhpcy5lbmNvdW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmVuY291bnRlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGUnXSkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGUpIHsgdGhpcy5kYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXRlY3RlZCddKSB7IHRoaXMuZGV0ZWN0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGV0ZWN0ZWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RldGVjdGVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGV0ZWN0ZWQpIHsgdGhpcy5kZXRlY3RlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXRlY3RlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRldGVjdGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZGV0ZWN0ZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVjb3JkZWREYXRlJ10pIHsgdGhpcy5yZWNvcmRlZERhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UucmVjb3JkZWREYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19yZWNvcmRlZERhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZWNvcmRlZERhdGUpIHsgdGhpcy5yZWNvcmRlZERhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcmVjb3JkZWREYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVjb3JkZWREYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fcmVjb3JkZWREYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc3VsdGluZ0NvbmRpdGlvbiddKSB7IHRoaXMucmVzdWx0aW5nQ29uZGl0aW9uID0gc291cmNlLnJlc3VsdGluZ0NvbmRpdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlc3VsdGluZ0NvbmRpdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydsb2NhdGlvbiddKSB7IHRoaXMubG9jYXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmxvY2F0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VyaW91c25lc3MnXSkgeyB0aGlzLnNlcmlvdXNuZXNzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zZXJpb3VzbmVzcyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NldmVyaXR5J10pIHsgdGhpcy5zZXZlcml0eSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc2V2ZXJpdHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydvdXRjb21lJ10pIHsgdGhpcy5vdXRjb21lID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5vdXRjb21lKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVjb3JkZXInXSkgeyB0aGlzLnJlY29yZGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWNvcmRlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRyaWJ1dG9yJ10pIHsgdGhpcy5jb250cmlidXRvciA9IHNvdXJjZS5jb250cmlidXRvci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRyaWJ1dG9yID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1c3BlY3RFbnRpdHknXSkgeyB0aGlzLnN1c3BlY3RFbnRpdHkgPSBzb3VyY2Uuc3VzcGVjdEVudGl0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkFkdmVyc2VFdmVudFN1c3BlY3RFbnRpdHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdXNwZWN0RW50aXR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YmplY3RNZWRpY2FsSGlzdG9yeSddKSB7IHRoaXMuc3ViamVjdE1lZGljYWxIaXN0b3J5ID0gc291cmNlLnN1YmplY3RNZWRpY2FsSGlzdG9yeS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1YmplY3RNZWRpY2FsSGlzdG9yeSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2VEb2N1bWVudCddKSB7IHRoaXMucmVmZXJlbmNlRG9jdW1lbnQgPSBzb3VyY2UucmVmZXJlbmNlRG9jdW1lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWZlcmVuY2VEb2N1bWVudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdHVkeSddKSB7IHRoaXMuc3R1ZHkgPSBzb3VyY2Uuc3R1ZHkubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdHVkeSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWR2ZXJzZUV2ZW50JyB9XHJcbiAgICB0aGlzLnZSUygncmVzb3VyY2VUeXBlJyxleHApXHJcbiAgICB0aGlzLnZPUygnaWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52UlNWKCdhY3R1YWxpdHknLGV4cCwnQWR2ZXJzZUV2ZW50QWN0dWFsaXR5JyxBZHZlcnNlRXZlbnRBY3R1YWxpdHlWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T0EoJ2NhdGVnb3J5JyxleHApXHJcbiAgICB0aGlzLnZPUygnZXZlbnQnLGV4cClcclxuICAgIHRoaXMudlJTKCdzdWJqZWN0JyxleHApXHJcbiAgICB0aGlzLnZPUygnZW5jb3VudGVyJyxleHApXHJcbiAgICB0aGlzLnZPUygnZGF0ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RldGVjdGVkJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVjb3JkZWREYXRlJyxleHApXHJcbiAgICB0aGlzLnZPQSgncmVzdWx0aW5nQ29uZGl0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygnbG9jYXRpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCdzZXJpb3VzbmVzcycsZXhwKVxyXG4gICAgdGhpcy52T1NWKCdzZXZlcml0eScsZXhwLCdBZHZlcnNlRXZlbnRTZXZlcml0eScsQWR2ZXJzZUV2ZW50U2V2ZXJpdHlWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1NWKCdvdXRjb21lJyxleHAsJ0FkdmVyc2VFdmVudE91dGNvbWUnLEFkdmVyc2VFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1MoJ3JlY29yZGVyJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY29udHJpYnV0b3InLGV4cClcclxuICAgIHRoaXMudk9BKCdzdXNwZWN0RW50aXR5JyxleHApXHJcbiAgICB0aGlzLnZPQSgnc3ViamVjdE1lZGljYWxIaXN0b3J5JyxleHApXHJcbiAgICB0aGlzLnZPQSgncmVmZXJlbmNlRG9jdW1lbnQnLGV4cClcclxuICAgIHRoaXMudk9BKCdzdHVkeScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19