// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR ComplexType: ProdCharacteristic
import * as fhir from '../fhir.js';
/**
 * The marketing status describes the date when a medicinal product is actually put on the market or the date as of which it is no longer available.
 */
export class ProdCharacteristic extends fhir.BackboneElement {
    /**
     * Default constructor for ProdCharacteristic - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['height']) {
            this.height = new fhir.Quantity(source.height, options);
        }
        if (source['width']) {
            this.width = new fhir.Quantity(source.width, options);
        }
        if (source['depth']) {
            this.depth = new fhir.Quantity(source.depth, options);
        }
        if (source['weight']) {
            this.weight = new fhir.Quantity(source.weight, options);
        }
        if (source['nominalVolume']) {
            this.nominalVolume = new fhir.Quantity(source.nominalVolume, options);
        }
        if (source['externalDiameter']) {
            this.externalDiameter = new fhir.Quantity(source.externalDiameter, options);
        }
        if (source['shape'] !== undefined) {
            this.shape = new fhir.FhirString({ value: source.shape }, options);
        }
        if (source['_shape']) {
            if (this.shape) {
                this.shape.addExtendedProperties(source._shape);
            }
            else {
                this.shape = new fhir.FhirString(source._shape, options);
            }
        }
        if (source['color'] !== undefined) {
            this.color = source.color.map((x) => new fhir.FhirString({ value: x }, options));
        }
        else {
            this.color = [];
        }
        if (source['_color']) {
            source._color.forEach((x, i) => {
                if (this.color.length >= i) {
                    if (x) {
                        this.color[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.color.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['imprint'] !== undefined) {
            this.imprint = source.imprint.map((x) => new fhir.FhirString({ value: x }, options));
        }
        else {
            this.imprint = [];
        }
        if (source['_imprint']) {
            source._imprint.forEach((x, i) => {
                if (this.imprint.length >= i) {
                    if (x) {
                        this.imprint[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.imprint.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['image']) {
            this.image = source.image.map((x) => new fhir.Attachment(x, options));
        }
        else {
            this.image = [];
        }
        if (source['scoring']) {
            this.scoring = new fhir.CodeableConcept(source.scoring, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ProdCharacteristic';
        }
        iss.push(...this.vOS('height', exp));
        iss.push(...this.vOS('width', exp));
        iss.push(...this.vOS('depth', exp));
        iss.push(...this.vOS('weight', exp));
        iss.push(...this.vOS('nominalVolume', exp));
        iss.push(...this.vOS('externalDiameter', exp));
        iss.push(...this.vOS('shape', exp));
        iss.push(...this.vOA('color', exp));
        iss.push(...this.vOA('imprint', exp));
        iss.push(...this.vOA('image', exp));
        iss.push(...this.vOS('scoring', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ProdCharacteristic._fts_dataType = 'ProdCharacteristic';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvZENoYXJhY3RlcmlzdGljLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9Qcm9kQ2hhcmFjdGVyaXN0aWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsdUNBQXVDO0FBRXZDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBZ0VuQzs7R0FFRztBQUNILE1BQU0sT0FBTyxrQkFBbUIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlEMUQ7O09BRUc7SUFDSCxZQUFZLFNBQXlDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQy9GLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDbEYsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDL0UsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDL0UsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDbEYsSUFBSSxNQUFNLENBQUMsZUFBZSxDQUFDLEVB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LENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUF0R0Q7O0dBRUc7QUFDNkIsZ0NBQWEsR0FBVSxvQkFBb0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBDb21wbGV4VHlwZTogUHJvZENoYXJhY3RlcmlzdGljXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFByb2RDaGFyYWN0ZXJpc3RpYyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQcm9kQ2hhcmFjdGVyaXN0aWNBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgaGVpZ2h0IGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgYW5kIGl0cyB1bml0IG9mIG1lYXN1cmVtZW50IFRoZSB1bml0IG9mIG1lYXN1cmVtZW50IHNoYWxsIGJlIHNwZWNpZmllZCBpbiBhY2NvcmRhbmNlIHdpdGggSVNPIDExMjQwIGFuZCB0aGUgcmVzdWx0aW5nIHRlcm1pbm9sb2d5IFRoZSBzeW1ib2wgYW5kIHRoZSBzeW1ib2wgaWRlbnRpZmllciBzaGFsbCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIGhlaWdodD86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgd2lkdGggY2FuIGJlIHNwZWNpZmllZCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBhbmQgaXRzIHVuaXQgb2YgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgd2lkdGg/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgYXBwbGljYWJsZSwgdGhlIGRlcHRoIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgYW5kIGl0cyB1bml0IG9mIG1lYXN1cmVtZW50IFRoZSB1bml0IG9mIG1lYXN1cmVtZW50IHNoYWxsIGJlIHNwZWNpZmllZCBpbiBhY2NvcmRhbmNlIHdpdGggSVNPIDExMjQwIGFuZCB0aGUgcmVzdWx0aW5nIHRlcm1pbm9sb2d5IFRoZSBzeW1ib2wgYW5kIHRoZSBzeW1ib2wgaWRlbnRpZmllciBzaGFsbCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIGRlcHRoPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSB3ZWlnaHQgY2FuIGJlIHNwZWNpZmllZCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBhbmQgaXRzIHVuaXQgb2YgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgd2VpZ2h0PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSBub21pbmFsIHZvbHVtZSBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGFuZCBpdHMgdW5pdCBvZiBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBub21pbmFsVm9sdW1lPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSBleHRlcm5hbCBkaWFtZXRlciBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGFuZCBpdHMgdW5pdCBvZiBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBleHRlcm5hbERpYW1ldGVyPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSBzaGFwZSBjYW4gYmUgc3BlY2lmaWVkIEFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeSBzaGFsbCBiZSB1c2VkIFRoZSB0ZXJtIGFuZCB0aGUgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgc2hhcGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUHJvZENoYXJhY3RlcmlzdGljLnNoYXBlXHJcbiAgICovXHJcbiAgX3NoYXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgY29sb3IgY2FuIGJlIHNwZWNpZmllZCBBbiBhcHByb3ByaWF0ZSBjb250cm9sbGVkIHZvY2FidWxhcnkgc2hhbGwgYmUgdXNlZCBUaGUgdGVybSBhbmQgdGhlIHRlcm0gaWRlbnRpZmllciBzaGFsbCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIGNvbG9yPzogZmhpci5GaGlyU3RyaW5nW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUHJvZENoYXJhY3RlcmlzdGljLmNvbG9yXHJcbiAgICovXHJcbiAgX2NvbG9yPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgaW1wcmludCBjYW4gYmUgc3BlY2lmaWVkIGFzIHRleHQuXHJcbiAgICovXHJcbiAgaW1wcmludD86IGZoaXIuRmhpclN0cmluZ1tdfChzdHJpbmd8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFByb2RDaGFyYWN0ZXJpc3RpYy5pbXByaW50XHJcbiAgICovXHJcbiAgX2ltcHJpbnQ/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSBpbWFnZSBjYW4gYmUgcHJvdmlkZWQgVGhlIGZvcm1hdCBvZiB0aGUgaW1hZ2UgYXR0YWNobWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgYnkgcmVnaW9uYWwgaW1wbGVtZW50YXRpb25zLlxyXG4gICAqL1xyXG4gIGltYWdlPzogZmhpci5BdHRhY2htZW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgc2NvcmluZyBjYW4gYmUgc3BlY2lmaWVkIEFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeSBzaGFsbCBiZSB1c2VkIFRoZSB0ZXJtIGFuZCB0aGUgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgc2NvcmluZz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgbWFya2V0aW5nIHN0YXR1cyBkZXNjcmliZXMgdGhlIGRhdGUgd2hlbiBhIG1lZGljaW5hbCBwcm9kdWN0IGlzIGFjdHVhbGx5IHB1dCBvbiB0aGUgbWFya2V0IG9yIHRoZSBkYXRlIGFzIG9mIHdoaWNoIGl0IGlzIG5vIGxvbmdlciBhdmFpbGFibGUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUHJvZENoYXJhY3RlcmlzdGljIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnUHJvZENoYXJhY3RlcmlzdGljJztcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgaGVpZ2h0IGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgYW5kIGl0cyB1bml0IG9mIG1lYXN1cmVtZW50IFRoZSB1bml0IG9mIG1lYXN1cmVtZW50IHNoYWxsIGJlIHNwZWNpZmllZCBpbiBhY2NvcmRhbmNlIHdpdGggSVNPIDExMjQwIGFuZCB0aGUgcmVzdWx0aW5nIHRlcm1pbm9sb2d5IFRoZSBzeW1ib2wgYW5kIHRoZSBzeW1ib2wgaWRlbnRpZmllciBzaGFsbCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoZWlnaHQ/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgd2lkdGggY2FuIGJlIHNwZWNpZmllZCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBhbmQgaXRzIHVuaXQgb2YgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHdpZHRoPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgYXBwbGljYWJsZSwgdGhlIGRlcHRoIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgYW5kIGl0cyB1bml0IG9mIG1lYXN1cmVtZW50IFRoZSB1bml0IG9mIG1lYXN1cmVtZW50IHNoYWxsIGJlIHNwZWNpZmllZCBpbiBhY2NvcmRhbmNlIHdpdGggSVNPIDExMjQwIGFuZCB0aGUgcmVzdWx0aW5nIHRlcm1pbm9sb2d5IFRoZSBzeW1ib2wgYW5kIHRoZSBzeW1ib2wgaWRlbnRpZmllciBzaGFsbCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXB0aD86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSB3ZWlnaHQgY2FuIGJlIHNwZWNpZmllZCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBhbmQgaXRzIHVuaXQgb2YgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHdlaWdodD86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSBub21pbmFsIHZvbHVtZSBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGFuZCBpdHMgdW5pdCBvZiBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbm9taW5hbFZvbHVtZT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSBleHRlcm5hbCBkaWFtZXRlciBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGFuZCBpdHMgdW5pdCBvZiBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZXh0ZXJuYWxEaWFtZXRlcj86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSBzaGFwZSBjYW4gYmUgc3BlY2lmaWVkIEFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeSBzaGFsbCBiZSB1c2VkIFRoZSB0ZXJtIGFuZCB0aGUgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHNoYXBlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgY29sb3IgY2FuIGJlIHNwZWNpZmllZCBBbiBhcHByb3ByaWF0ZSBjb250cm9sbGVkIHZvY2FidWxhcnkgc2hhbGwgYmUgdXNlZCBUaGUgdGVybSBhbmQgdGhlIHRlcm0gaWRlbnRpZmllciBzaGFsbCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2xvcjogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgYXBwbGljYWJsZSwgdGhlIGltcHJpbnQgY2FuIGJlIHNwZWNpZmllZCBhcyB0ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbXByaW50OiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBXaGVyZSBhcHBsaWNhYmxlLCB0aGUgaW1hZ2UgY2FuIGJlIHByb3ZpZGVkIFRoZSBmb3JtYXQgb2YgdGhlIGltYWdlIGF0dGFjaG1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGJ5IHJlZ2lvbmFsIGltcGxlbWVudGF0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgaW1hZ2U6IGZoaXIuQXR0YWNobWVudFtdO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGFwcGxpY2FibGUsIHRoZSBzY29yaW5nIGNhbiBiZSBzcGVjaWZpZWQgQW4gYXBwcm9wcmlhdGUgY29udHJvbGxlZCB2b2NhYnVsYXJ5IHNoYWxsIGJlIHVzZWQgVGhlIHRlcm0gYW5kIHRoZSB0ZXJtIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc2NvcmluZz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQcm9kQ2hhcmFjdGVyaXN0aWMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQcm9kQ2hhcmFjdGVyaXN0aWNBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaGVpZ2h0J10pIHsgdGhpcy5oZWlnaHQgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuaGVpZ2h0LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2lkdGgnXSkgeyB0aGlzLndpZHRoID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLndpZHRoLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVwdGgnXSkgeyB0aGlzLmRlcHRoID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmRlcHRoLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2VpZ2h0J10pIHsgdGhpcy53ZWlnaHQgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2Uud2VpZ2h0LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm9taW5hbFZvbHVtZSddKSB7IHRoaXMubm9taW5hbFZvbHVtZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5ub21pbmFsVm9sdW1lLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXh0ZXJuYWxEaWFtZXRlciddKSB7IHRoaXMuZXh0ZXJuYWxEaWFtZXRlciA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5leHRlcm5hbERpYW1ldGVyLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2hhcGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc2hhcGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnNoYXBlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zaGFwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNoYXBlKSB7IHRoaXMuc2hhcGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc2hhcGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zaGFwZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9zaGFwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29sb3InXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY29sb3IgPSBzb3VyY2UuY29sb3IubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0sIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29sb3IgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvbG9yJ10pIHtcclxuICAgICAgc291cmNlLl9jb2xvci5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5jb2xvci5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLmNvbG9yW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuY29sb3IucHVzaChuZXcgZmhpci5GaGlyU3RyaW5nKHggYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpbXByaW50J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmltcHJpbnQgPSBzb3VyY2UuaW1wcmludC5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbXByaW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbXByaW50J10pIHtcclxuICAgICAgc291cmNlLl9pbXByaW50LmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmltcHJpbnQubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5pbXByaW50W2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuaW1wcmludC5wdXNoKG5ldyBmaGlyLkZoaXJTdHJpbmcoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2ltYWdlJ10pIHsgdGhpcy5pbWFnZSA9IHNvdXJjZS5pbWFnZS5tYXAoKHgpID0+IG5ldyBmaGlyLkF0dGFjaG1lbnQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbWFnZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzY29yaW5nJ10pIHsgdGhpcy5zY29yaW5nID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zY29yaW5nLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1Byb2RDaGFyYWN0ZXJpc3RpYycgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2hlaWdodCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnd2lkdGgnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RlcHRoJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd3ZWlnaHQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25vbWluYWxWb2x1bWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2V4dGVybmFsRGlhbWV0ZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NoYXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb2xvcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaW1wcmludCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaW1hZ2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Njb3JpbmcnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19