// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Consent
import * as fhir from '../fhir.js';
// @ts-ignore
import { ConsentDataMeaningVsValidation } from '../fhirValueSets/ConsentDataMeaningVsValidation.js';
// @ts-ignore
import { ConsentProvisionTypeVsValidation } from '../fhirValueSets/ConsentProvisionTypeVsValidation.js';
// @ts-ignore
import { ConsentStateVsValidation } from '../fhirValueSets/ConsentStateVsValidation.js';
/**
 * The references to the policies that are included in this consent scope. Policies may be organizational, but are often defined jurisdictionally, or in law.
 */
export class ConsentPolicy extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentPolicy - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['authority']) {
            this.authority = new fhir.FhirUri({ value: source.authority });
        }
        if (source['_authority']) {
            if (this.authority) {
                this.authority.addExtendedProperties(source._authority);
            }
            else {
                this.authority = new fhir.FhirUri(source._authority);
            }
        }
        if (source['uri']) {
            this.uri = new fhir.FhirUri({ value: source.uri });
        }
        if (source['_uri']) {
            if (this.uri) {
                this.uri.addExtendedProperties(source._uri);
            }
            else {
                this.uri = new fhir.FhirUri(source._uri);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Consent.policy';
        }
        this.vOptS('authority', expression);
        this.vOptS('uri', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentPolicy._fts_dataType = 'ConsentPolicy';
/**
 * Whether a treatment instruction (e.g. artificial respiration yes or no) was verified with the patient, his/her family or another authorized person.
 */
export class ConsentVerification extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentVerification - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['verified']) {
            this.verified = new fhir.FhirBoolean({ value: source.verified });
        }
        else {
            this.verified = null;
        }
        if (source['_verified']) {
            if (this.verified) {
                this.verified.addExtendedProperties(source._verified);
            }
            else {
                this.verified = new fhir.FhirBoolean(source._verified);
            }
        }
        if (source['verifiedWith']) {
            this.verifiedWith = new fhir.Reference(source.verifiedWith);
        }
        if (source['verificationDate']) {
            this.verificationDate = new fhir.FhirDateTime({ value: source.verificationDate });
        }
        if (source['_verificationDate']) {
            if (this.verificationDate) {
                this.verificationDate.addExtendedProperties(source._verificationDate);
            }
            else {
                this.verificationDate = new fhir.FhirDateTime(source._verificationDate);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Consent.verification';
        }
        this.vReqS('verified', expression);
        this.vOptS('verifiedWith', expression);
        this.vOptS('verificationDate', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentVerification._fts_dataType = 'ConsentVerification';
/**
 * Who or what is controlled by this rule. Use group to identify a set of actors by some property they share (e.g. 'admitting officers').
 */
export class ConsentProvisionActor extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentProvisionActor - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['role']) {
            this.role = new fhir.CodeableConcept(source.role);
        }
        else {
            this.role = null;
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference);
        }
        else {
            this.reference = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Consent.provision.actor';
        }
        this.vReqS('role', expression);
        this.vReqS('reference', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentProvisionActor._fts_dataType = 'ConsentProvisionActor';
/**
 * The resources controlled by this rule if specific resources are referenced.
 */
export class ConsentProvisionData extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentProvisionData - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['meaning']) {
            this.meaning = new fhir.FhirCode({ value: source.meaning });
        }
        else {
            this.meaning = null;
        }
        if (source['_meaning']) {
            if (this.meaning) {
                this.meaning.addExtendedProperties(source._meaning);
            }
            else {
                this.meaning = new fhir.FhirCode(source._meaning);
            }
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference);
        }
        else {
            this.reference = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Consent.provision.data';
        }
        this.vReqSV('meaning', expression, 'ConsentDataMeaning', ConsentDataMeaningVsValidation, 'r');
        this.vReqS('reference', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentProvisionData._fts_dataType = 'ConsentProvisionData';
/**
 * An exception to the base policy of this consent. An exception can be an addition or removal of access permissions.
 */
export class ConsentProvision extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentProvision - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        if (source['actor']) {
            this.actor = source.actor.map((x) => new fhir.ConsentProvisionActor(x));
        }
        else {
            this.actor = [];
        }
        if (source['action']) {
            this.action = source.action.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.action = [];
        }
        if (source['securityLabel']) {
            this.securityLabel = source.securityLabel.map((x) => new fhir.Coding(x));
        }
        else {
            this.securityLabel = [];
        }
        if (source['purpose']) {
            this.purpose = source.purpose.map((x) => new fhir.Coding(x));
        }
        else {
            this.purpose = [];
        }
        if (source['class']) {
            this.class = source.class.map((x) => new fhir.Coding(x));
        }
        else {
            this.class = [];
        }
        if (source['code']) {
            this.code = source.code.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.code = [];
        }
        if (source['dataPeriod']) {
            this.dataPeriod = new fhir.Period(source.dataPeriod);
        }
        if (source['data']) {
            this.data = source.data.map((x) => new fhir.ConsentProvisionData(x));
        }
        else {
            this.data = [];
        }
        if (source['provision']) {
            this.provision = source.provision.map((x) => new fhir.ConsentProvision(x));
        }
        else {
            this.provision = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Consent.provision';
        }
        this.vOptSV('type', expression, 'ConsentProvisionType', ConsentProvisionTypeVsValidation, 'r');
        this.vOptS('period', expression);
        this.vOptA('actor', expression);
        this.vOptA('action', expression);
        this.vOptA('securityLabel', expression);
        this.vOptA('purpose', expression);
        this.vOptA('class', expression);
        this.vOptA('code', expression);
        this.vOptS('dataPeriod', expression);
        this.vOptA('data', expression);
        this.vOptA('provision', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentProvision._fts_dataType = 'ConsentProvision';
/**
 * A record of a healthcare consumer’s  choices, which permits or denies identified recipient(s) or recipient role(s) to perform one or more actions within a given policy context, for specific purposes and periods of time.
 */
export class Consent extends fhir.DomainResource {
    /**
     * Default constructor for Consent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Consent';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['scope']) {
            this.scope = new fhir.CodeableConcept(source.scope);
        }
        else {
            this.scope = null;
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        if (source['dateTime']) {
            this.dateTime = new fhir.FhirDateTime({ value: source.dateTime });
        }
        if (source['_dateTime']) {
            if (this.dateTime) {
                this.dateTime.addExtendedProperties(source._dateTime);
            }
            else {
                this.dateTime = new fhir.FhirDateTime(source._dateTime);
            }
        }
        if (source['performer']) {
            this.performer = source.performer.map((x) => new fhir.Reference(x));
        }
        else {
            this.performer = [];
        }
        if (source['organization']) {
            this.organization = source.organization.map((x) => new fhir.Reference(x));
        }
        else {
            this.organization = [];
        }
        if (source['source']) {
            this.source = source.source;
        }
        else if (source['sourceAttachment']) {
            this.source = new fhir.Attachment(source.sourceAttachment);
        }
        else if (source['sourceReference']) {
            this.source = new fhir.Reference(source.sourceReference);
        }
        if (source['policy']) {
            this.policy = source.policy.map((x) => new fhir.ConsentPolicy(x));
        }
        else {
            this.policy = [];
        }
        if (source['policyRule']) {
            this.policyRule = new fhir.CodeableConcept(source.policyRule);
        }
        if (source['verification']) {
            this.verification = source.verification.map((x) => new fhir.ConsentVerification(x));
        }
        else {
            this.verification = [];
        }
        if (source['provision']) {
            this.provision = new fhir.ConsentProvision(source.provision);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Consent';
        }
        this.vReqS('resourceType', expression);
        this.vOptA('identifier', expression);
        this.vReqSV('status', expression, 'ConsentState', ConsentStateVsValidation, 'r');
        this.vReqS('scope', expression);
        this.vReqA('category', expression);
        this.vOptS('patient', expression);
        this.vOptS('dateTime', expression);
        this.vOptA('performer', expression);
        this.vOptA('organization', expression);
        this.vOptS('source', expression);
        this.vOptA('policy', expression);
        this.vOptS('policyRule', expression);
        this.vOptA('verification', expression);
        this.vOptS('provision', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Consent._fts_dataType = 'Consent';
/**
 * Internal flag to properly serialize choice-type element Consent.source[x]
 */
Consent._fts_sourceIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uc2VudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQ29uc2VudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyx5QkFBeUI7QUFFekIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFRbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBR3BHLGFBQWE7QUFDYixPQUFPLEVBQUUsZ0NBQWdDLEVBQUUsTUFBTSxzREFBc0QsQ0FBQztBQXVCeEcsYUFBYTtBQUNiLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDhDQUE4QyxDQUFDO0FBbUN4Rjs7R0FFRztBQUNILE1BQU0sT0FBTyxhQUFjLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhckQ7O09BRUc7SUFDSCxZQUFZLFNBQW9DLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzFGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzFGLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ3hCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxVQUFXLENBQUMsQ0FBQzthQUFFO2lCQUM1RTtnQkFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBdUMsQ0FBQyxDQUFDO2FBQUU7U0FDNUY7UUFDRCxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMs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QyxVQUFVLENBQUMsQ0FBQTtRQUM5QixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNsQyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTNIRDs7R0FFRztBQUM2QixxQkFBYSxHQUFVLFNBQVMsQ0FBQztBQXlDakU7O0dBRUc7QUFDdUIsMkJBQW1CLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBDb25zZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZWN1cml0eVJvbGVUeXBlQ29kZXMsICBTZWN1cml0eVJvbGVUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlY3VyaXR5Um9sZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VjdXJpdHlSb2xlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VjdXJpdHlSb2xlVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudERhdGFNZWFuaW5nQ29kZXMsICBDb25zZW50RGF0YU1lYW5pbmdDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudERhdGFNZWFuaW5nQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnREYXRhTWVhbmluZ1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudERhdGFNZWFuaW5nVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50UHJvdmlzaW9uVHlwZUNvZGVzLCAgQ29uc2VudFByb3Zpc2lvblR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudFByb3Zpc2lvblR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudFByb3Zpc2lvblR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRQcm92aXNpb25UeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50QWN0aW9uQ29kZXMsICBDb25zZW50QWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRBY3Rpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudEFjdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudEFjdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VjdXJpdHlMYWJlbHNDb2RlcywgIFNlY3VyaXR5TGFiZWxzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlY3VyaXR5TGFiZWxzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlY3VyaXR5TGFiZWxzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZWN1cml0eUxhYmVsc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNQdXJwb3NlT2ZVc2VDb2RlcywgIFYzUHVycG9zZU9mVXNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzUHVycG9zZU9mVXNlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzUHVycG9zZU9mVXNlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WM1B1cnBvc2VPZlVzZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudENvbnRlbnRDbGFzc0NvZGVzLCAgQ29uc2VudENvbnRlbnRDbGFzc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50Q29udGVudENsYXNzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRDb250ZW50Q2xhc3NWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRDb250ZW50Q2xhc3NWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRDb250ZW50Q29kZXMsICBDb25zZW50Q29udGVudENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50Q29udGVudENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50Q29udGVudFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudENvbnRlbnRWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRTdGF0ZUNvZGVzLCAgQ29uc2VudFN0YXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRTdGF0ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50U3RhdGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRTdGF0ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudFNjb3BlQ29kZXMsICBDb25zZW50U2NvcGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudFNjb3BlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRTY29wZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudFNjb3BlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50Q2F0ZWdvcnlDb2RlcywgIENvbnNlbnRDYXRlZ29yeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50Q2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudENhdGVnb3J5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50Q2F0ZWdvcnlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRQb2xpY3lDb2RlcywgIENvbnNlbnRQb2xpY3lDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudFBvbGljeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50UG9saWN5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50UG9saWN5VnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbnNlbnRQb2xpY3kgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2VudFBvbGljeUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEVudGl0eSBvciBPcmdhbml6YXRpb24gaGF2aW5nIHJlZ3VsYXRvcnkganVyaXNkaWN0aW9uIG9yIGFjY291bnRhYmlsaXR5IGZvciAgZW5mb3JjaW5nIHBvbGljaWVzIHBlcnRhaW5pbmcgdG8gQ29uc2VudCBEaXJlY3RpdmVzLlxyXG4gICAqL1xyXG4gIGF1dGhvcml0eT86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25zZW50LnBvbGljeS5hdXRob3JpdHlcclxuICAgKi9cclxuICBfYXV0aG9yaXR5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgZm9yIGRpc2NvdmVyYWJpbGl0eSAvIGRvY3VtZW50YXRpb24gYW5kIGRvZXMgbm90IG1vZGlmeSBvciBxdWFsaWZ5IHRoZSBwb2xpY3kgcnVsZXMuXHJcbiAgICovXHJcbiAgdXJpPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbnNlbnQucG9saWN5LnVyaVxyXG4gICAqL1xyXG4gIF91cmk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHJlZmVyZW5jZXMgdG8gdGhlIHBvbGljaWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIHRoaXMgY29uc2VudCBzY29wZS4gUG9saWNpZXMgbWF5IGJlIG9yZ2FuaXphdGlvbmFsLCBidXQgYXJlIG9mdGVuIGRlZmluZWQganVyaXNkaWN0aW9uYWxseSwgb3IgaW4gbGF3LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnNlbnRQb2xpY3kgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25zZW50UG9saWN5JztcclxuICAvKipcclxuICAgKiBFbnRpdHkgb3IgT3JnYW5pemF0aW9uIGhhdmluZyByZWd1bGF0b3J5IGp1cmlzZGljdGlvbiBvciBhY2NvdW50YWJpbGl0eSBmb3IgIGVuZm9yY2luZyBwb2xpY2llcyBwZXJ0YWluaW5nIHRvIENvbnNlbnQgRGlyZWN0aXZlcy5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aG9yaXR5PzogZmhpci5GaGlyVXJpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgZm9yIGRpc2NvdmVyYWJpbGl0eSAvIGRvY3VtZW50YXRpb24gYW5kIGRvZXMgbm90IG1vZGlmeSBvciBxdWFsaWZ5IHRoZSBwb2xpY3kgcnVsZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHVyaT86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uc2VudFBvbGljeSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbnNlbnRQb2xpY3lBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnYXV0aG9yaXR5J10pIHsgdGhpcy5hdXRob3JpdHkgPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLmF1dGhvcml0eX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYXV0aG9yaXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMuYXV0aG9yaXR5KSB7IHRoaXMuYXV0aG9yaXR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2F1dGhvcml0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmF1dGhvcml0eSA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl9hdXRob3JpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3VyaSddKSB7IHRoaXMudXJpID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS51cml9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3VyaSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnVyaSkgeyB0aGlzLnVyaS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl91cmkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy51cmkgPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fdXJpIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0NvbnNlbnQucG9saWN5JyB9XHJcbiAgICB0aGlzLnZPcHRTKCdhdXRob3JpdHknLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCd1cmknLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uc2VudFZlcmlmaWNhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25zZW50VmVyaWZpY2F0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSGFzIHRoZSBpbnN0cnVjdGlvbiBiZWVuIHZlcmlmaWVkLlxyXG4gICAqL1xyXG4gIHZlcmlmaWVkOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25zZW50LnZlcmlmaWNhdGlvbi52ZXJpZmllZFxyXG4gICAqL1xyXG4gIF92ZXJpZmllZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hvIHZlcmlmaWVkIHRoZSBpbnN0cnVjdGlvbiAoUGF0aWVudCwgUmVsYXRpdmUgb3Igb3RoZXIgQXV0aG9yaXplZCBQZXJzb24pLlxyXG4gICAqL1xyXG4gIHZlcmlmaWVkV2l0aD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSB2ZXJpZmljYXRpb24gd2FzIGNvbGxlY3RlZC5cclxuICAgKi9cclxuICB2ZXJpZmljYXRpb25EYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uc2VudC52ZXJpZmljYXRpb24udmVyaWZpY2F0aW9uRGF0ZVxyXG4gICAqL1xyXG4gIF92ZXJpZmljYXRpb25EYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFdoZXRoZXIgYSB0cmVhdG1lbnQgaW5zdHJ1Y3Rpb24gKGUuZy4gYXJ0aWZpY2lhbCByZXNwaXJhdGlvbiB5ZXMgb3Igbm8pIHdhcyB2ZXJpZmllZCB3aXRoIHRoZSBwYXRpZW50LCBoaXMvaGVyIGZhbWlseSBvciBhbm90aGVyIGF1dGhvcml6ZWQgcGVyc29uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnNlbnRWZXJpZmljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25zZW50VmVyaWZpY2F0aW9uJztcclxuICAvKipcclxuICAgKiBIYXMgdGhlIGluc3RydWN0aW9uIGJlZW4gdmVyaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHZlcmlmaWVkOiBmaGlyLkZoaXJCb29sZWFufG51bGw7XHJcbiAgLyoqXHJcbiAgICogV2hvIHZlcmlmaWVkIHRoZSBpbnN0cnVjdGlvbiAoUGF0aWVudCwgUmVsYXRpdmUgb3Igb3RoZXIgQXV0aG9yaXplZCBQZXJzb24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2ZXJpZmllZFdpdGg/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSB2ZXJpZmljYXRpb24gd2FzIGNvbGxlY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyaWZpY2F0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25zZW50VmVyaWZpY2F0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uc2VudFZlcmlmaWNhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd2ZXJpZmllZCddKSB7IHRoaXMudmVyaWZpZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS52ZXJpZmllZH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52ZXJpZmllZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ192ZXJpZmllZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcmlmaWVkKSB7IHRoaXMudmVyaWZpZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdmVyaWZpZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJpZmllZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fdmVyaWZpZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJpZmllZFdpdGgnXSkgeyB0aGlzLnZlcmlmaWVkV2l0aCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UudmVyaWZpZWRXaXRoKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyaWZpY2F0aW9uRGF0ZSddKSB7IHRoaXMudmVyaWZpY2F0aW9uRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS52ZXJpZmljYXRpb25EYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ192ZXJpZmljYXRpb25EYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudmVyaWZpY2F0aW9uRGF0ZSkgeyB0aGlzLnZlcmlmaWNhdGlvbkRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdmVyaWZpY2F0aW9uRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnZlcmlmaWNhdGlvbkRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl92ZXJpZmljYXRpb25EYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQ29uc2VudC52ZXJpZmljYXRpb24nIH1cclxuICAgIHRoaXMudlJlcVMoJ3ZlcmlmaWVkJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygndmVyaWZpZWRXaXRoJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygndmVyaWZpY2F0aW9uRGF0ZScsZXhwcmVzc2lvbilcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25zZW50UHJvdmlzaW9uQWN0b3IgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2VudFByb3Zpc2lvbkFjdG9yQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSG93IHRoZSBpbmRpdmlkdWFsIGlzIGludm9sdmVkIGluIHRoZSByZXNvdXJjZXMgY29udGVudCB0aGF0IGlzIGRlc2NyaWJlZCBpbiB0aGUgZXhjZXB0aW9uLlxyXG4gICAqL1xyXG4gIHJvbGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXNvdXJjZSB0aGF0IGlkZW50aWZpZXMgdGhlIGFjdG9yLiBUbyBpZGVudGlmeSBhY3RvcnMgYnkgdHlwZSwgdXNlIGdyb3VwIHRvIGlkZW50aWZ5IGEgc2V0IG9mIGFjdG9ycyBieSBzb21lIHByb3BlcnR5IHRoZXkgc2hhcmUgKGUuZy4gJ2FkbWl0dGluZyBvZmZpY2VycycpLlxyXG4gICAqL1xyXG4gIHJlZmVyZW5jZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXaG8gb3Igd2hhdCBpcyBjb250cm9sbGVkIGJ5IHRoaXMgcnVsZS4gVXNlIGdyb3VwIHRvIGlkZW50aWZ5IGEgc2V0IG9mIGFjdG9ycyBieSBzb21lIHByb3BlcnR5IHRoZXkgc2hhcmUgKGUuZy4gJ2FkbWl0dGluZyBvZmZpY2VycycpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnNlbnRQcm92aXNpb25BY3RvciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbnNlbnRQcm92aXNpb25BY3Rvcic7XHJcbiAgLyoqXHJcbiAgICogSG93IHRoZSBpbmRpdmlkdWFsIGlzIGludm9sdmVkIGluIHRoZSByZXNvdXJjZXMgY29udGVudCB0aGF0IGlzIGRlc2NyaWJlZCBpbiB0aGUgZXhjZXB0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb2xlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXNvdXJjZSB0aGF0IGlkZW50aWZpZXMgdGhlIGFjdG9yLiBUbyBpZGVudGlmeSBhY3RvcnMgYnkgdHlwZSwgdXNlIGdyb3VwIHRvIGlkZW50aWZ5IGEgc2V0IG9mIGFjdG9ycyBieSBzb21lIHByb3BlcnR5IHRoZXkgc2hhcmUgKGUuZy4gJ2FkbWl0dGluZyBvZmZpY2VycycpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uc2VudFByb3Zpc2lvbkFjdG9yIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uc2VudFByb3Zpc2lvbkFjdG9yQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3JvbGUnXSkgeyB0aGlzLnJvbGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJvbGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yb2xlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlJ10pIHsgdGhpcy5yZWZlcmVuY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZmVyZW5jZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZmVyZW5jZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQ29uc2VudC5wcm92aXNpb24uYWN0b3InIH1cclxuICAgIHRoaXMudlJlcVMoJ3JvbGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZSZXFTKCdyZWZlcmVuY2UnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uc2VudFByb3Zpc2lvbkRhdGEgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2VudFByb3Zpc2lvbkRhdGFBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBIb3cgdGhlIHJlc291cmNlIHJlZmVyZW5jZSBpcyBpbnRlcnByZXRlZCB3aGVuIHRlc3RpbmcgY29uc2VudCByZXN0cmljdGlvbnMuXHJcbiAgICovXHJcbiAgbWVhbmluZzogZmhpci5GaGlyQ29kZTxDb25zZW50RGF0YU1lYW5pbmdDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uc2VudC5wcm92aXNpb24uZGF0YS5tZWFuaW5nXHJcbiAgICovXHJcbiAgX21lYW5pbmc/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIGEgc3BlY2lmaWMgcmVzb3VyY2UgdGhhdCBkZWZpbmVzIHdoaWNoIHJlc291cmNlcyBhcmUgY292ZXJlZCBieSB0aGlzIGNvbnNlbnQuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSByZXNvdXJjZXMgY29udHJvbGxlZCBieSB0aGlzIHJ1bGUgaWYgc3BlY2lmaWMgcmVzb3VyY2VzIGFyZSByZWZlcmVuY2VkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnNlbnRQcm92aXNpb25EYXRhIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29uc2VudFByb3Zpc2lvbkRhdGEnO1xyXG4gIC8qKlxyXG4gICAqIEhvdyB0aGUgcmVzb3VyY2UgcmVmZXJlbmNlIGlzIGludGVycHJldGVkIHdoZW4gdGVzdGluZyBjb25zZW50IHJlc3RyaWN0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgbWVhbmluZzogZmhpci5GaGlyQ29kZTxDb25zZW50RGF0YU1lYW5pbmdDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSB0byBhIHNwZWNpZmljIHJlc291cmNlIHRoYXQgZGVmaW5lcyB3aGljaCByZXNvdXJjZXMgYXJlIGNvdmVyZWQgYnkgdGhpcyBjb25zZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uc2VudFByb3Zpc2lvbkRhdGEgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25zZW50UHJvdmlzaW9uRGF0YUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydtZWFuaW5nJ10pIHsgdGhpcy5tZWFuaW5nID0gbmV3IGZoaXIuRmhpckNvZGU8Q29uc2VudERhdGFNZWFuaW5nQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLm1lYW5pbmd9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubWVhbmluZyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tZWFuaW5nJ10pIHtcclxuICAgICAgaWYgKHRoaXMubWVhbmluZykgeyB0aGlzLm1lYW5pbmcuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbWVhbmluZyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1lYW5pbmcgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25zZW50RGF0YU1lYW5pbmdDb2RlVHlwZT4oc291cmNlLl9tZWFuaW5nIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2UnXSkgeyB0aGlzLnJlZmVyZW5jZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVmZXJlbmNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVmZXJlbmNlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdDb25zZW50LnByb3Zpc2lvbi5kYXRhJyB9XHJcbiAgICB0aGlzLnZSZXFTVignbWVhbmluZycsZXhwcmVzc2lvbiwnQ29uc2VudERhdGFNZWFuaW5nJyxDb25zZW50RGF0YU1lYW5pbmdWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52UmVxUygncmVmZXJlbmNlJyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbnNlbnRQcm92aXNpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2VudFByb3Zpc2lvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEFjdGlvbiAgdG8gdGFrZSAtIHBlcm1pdCBvciBkZW55IC0gd2hlbiB0aGUgcnVsZSBjb25kaXRpb25zIGFyZSBtZXQuICBOb3QgcGVybWl0dGVkIGluIHJvb3QgcnVsZSwgcmVxdWlyZWQgaW4gYWxsIG5lc3RlZCBydWxlcy5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5GaGlyQ29kZTxDb25zZW50UHJvdmlzaW9uVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25zZW50LnByb3Zpc2lvbi50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lZnJhbWUgaW4gdGhpcyBydWxlIGlzIHZhbGlkLlxyXG4gICAqL1xyXG4gIHBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hvIG9yIHdoYXQgaXMgY29udHJvbGxlZCBieSB0aGlzIHJ1bGUuIFVzZSBncm91cCB0byBpZGVudGlmeSBhIHNldCBvZiBhY3RvcnMgYnkgc29tZSBwcm9wZXJ0eSB0aGV5IHNoYXJlIChlLmcuICdhZG1pdHRpbmcgb2ZmaWNlcnMnKS5cclxuICAgKi9cclxuICBhY3Rvcj86IGZoaXIuQ29uc2VudFByb3Zpc2lvbkFjdG9yQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyB0aGUgZGlyZWN0IGFjdGlvbiAobm90IHRoZSBncm91bmRzIGZvciB0aGUgYWN0aW9uIGNvdmVyZWQgaW4gdGhlIHB1cnBvc2UgZWxlbWVudCkuIEF0IHByZXNlbnQsIHRoZSBvbmx5IGFjdGlvbiBpbiB0aGUgdW5kZXJzdG9vZCBhbmQgdGVzdGVkIHNjb3BlIG9mIHRoaXMgcmVzb3VyY2UgaXMgJ3JlYWQnLlxyXG4gICAqL1xyXG4gIGFjdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgY29uc2VudCBzcGVjaWZpZXMgYSBzZWN1cml0eSBsYWJlbCBvZiBcIlJcIiB0aGVuIGl0IGFwcGxpZXMgdG8gYWxsIHJlc291cmNlcyB0aGF0IGFyZSBsYWJlbGVkIFwiUlwiIG9yIGxvd2VyLiBFLmcuIGZvciBDb25maWRlbnRpYWxpdHksIGl0J3MgYSBoaWdoIHdhdGVyIG1hcmsuIEZvciBvdGhlciBraW5kcyBvZiBzZWN1cml0eSBsYWJlbHMsIHN1YnN1bXB0aW9uIGxvZ2ljIGFwcGxpZXMuIFdoZW4gdGhlIHB1cnBvc2Ugb2YgdXNlIHRhZyBpcyBvbiB0aGUgZGF0YSwgYWNjZXNzIHJlcXVlc3QgcHVycG9zZSBvZiB1c2Ugc2hhbGwgbm90IGNvbmZsaWN0LlxyXG4gICAqL1xyXG4gIHNlY3VyaXR5TGFiZWw/OiBmaGlyLkNvZGluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgcHVycG9zZSBvZiB1c2UgdGFnIGlzIG9uIHRoZSBkYXRhLCBhY2Nlc3MgcmVxdWVzdCBwdXJwb3NlIG9mIHVzZSBzaGFsbCBub3QgY29uZmxpY3QuXHJcbiAgICovXHJcbiAgcHVycG9zZT86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNdWx0aXBsZSB0eXBlcyBhcmUgb3InZWQgdG9nZXRoZXIuIFRoZSBpbnRlbnRpb24gb2YgdGhlIGNvbnRlbnRUeXBlIGVsZW1lbnQgaXMgdGhhdCB0aGUgY29kZXMgcmVmZXIgdG8gcHJvZmlsZXMgb3IgZG9jdW1lbnQgdHlwZXMgZGVmaW5lZCBpbiBhIHN0YW5kYXJkIG9yIGFuIGltcGxlbWVudGF0aW9uIGd1aWRlIHNvbWV3aGVyZS5cclxuICAgKi9cclxuICBjbGFzcz86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsIHVzZSBvZiB0aGlzIGlzIGEgRG9jdW1lbnQgY29kZSB3aXRoIGNsYXNzID0gQ0RBLlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBoYXMgYSBkaWZmZXJlbnQgc2Vuc2UgdG8gdGhlIENvbnNlbnQucGVyaW9kIC0gdGhhdCBpcyB3aGVuIHRoZSBjb25zZW50IGFncmVlbWVudCBob2xkcy4gVGhpcyBpcyB0aGUgdGltZSBwZXJpb2Qgb2YgdGhlIGRhdGEgdGhhdCBpcyBjb250cm9sbGVkIGJ5IHRoZSBhZ3JlZW1lbnQuXHJcbiAgICovXHJcbiAgZGF0YVBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlc291cmNlcyBjb250cm9sbGVkIGJ5IHRoaXMgcnVsZSBpZiBzcGVjaWZpYyByZXNvdXJjZXMgYXJlIHJlZmVyZW5jZWQuXHJcbiAgICovXHJcbiAgZGF0YT86IGZoaXIuQ29uc2VudFByb3Zpc2lvbkRhdGFBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJ1bGVzIHdoaWNoIHByb3ZpZGUgZXhjZXB0aW9ucyB0byB0aGUgYmFzZSBydWxlIG9yIHN1YnJ1bGVzLlxyXG4gICAqL1xyXG4gIHByb3Zpc2lvbj86IGZoaXIuQ29uc2VudFByb3Zpc2lvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbiBleGNlcHRpb24gdG8gdGhlIGJhc2UgcG9saWN5IG9mIHRoaXMgY29uc2VudC4gQW4gZXhjZXB0aW9uIGNhbiBiZSBhbiBhZGRpdGlvbiBvciByZW1vdmFsIG9mIGFjY2VzcyBwZXJtaXNzaW9ucy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25zZW50UHJvdmlzaW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29uc2VudFByb3Zpc2lvbic7XHJcbiAgLyoqXHJcbiAgICogQWN0aW9uICB0byB0YWtlIC0gcGVybWl0IG9yIGRlbnkgLSB3aGVuIHRoZSBydWxlIGNvbmRpdGlvbnMgYXJlIG1ldC4gIE5vdCBwZXJtaXR0ZWQgaW4gcm9vdCBydWxlLCByZXF1aXJlZCBpbiBhbGwgbmVzdGVkIHJ1bGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5GaGlyQ29kZTxDb25zZW50UHJvdmlzaW9uVHlwZUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWVmcmFtZSBpbiB0aGlzIHJ1bGUgaXMgdmFsaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaG8gb3Igd2hhdCBpcyBjb250cm9sbGVkIGJ5IHRoaXMgcnVsZS4gVXNlIGdyb3VwIHRvIGlkZW50aWZ5IGEgc2V0IG9mIGFjdG9ycyBieSBzb21lIHByb3BlcnR5IHRoZXkgc2hhcmUgKGUuZy4gJ2FkbWl0dGluZyBvZmZpY2VycycpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3RvcjogZmhpci5Db25zZW50UHJvdmlzaW9uQWN0b3JbXTtcclxuICAvKipcclxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyB0aGUgZGlyZWN0IGFjdGlvbiAobm90IHRoZSBncm91bmRzIGZvciB0aGUgYWN0aW9uIGNvdmVyZWQgaW4gdGhlIHB1cnBvc2UgZWxlbWVudCkuIEF0IHByZXNlbnQsIHRoZSBvbmx5IGFjdGlvbiBpbiB0aGUgdW5kZXJzdG9vZCBhbmQgdGVzdGVkIHNjb3BlIG9mIHRoaXMgcmVzb3VyY2UgaXMgJ3JlYWQnLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3Rpb246IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGNvbnNlbnQgc3BlY2lmaWVzIGEgc2VjdXJpdHkgbGFiZWwgb2YgXCJSXCIgdGhlbiBpdCBhcHBsaWVzIHRvIGFsbCByZXNvdXJjZXMgdGhhdCBhcmUgbGFiZWxlZCBcIlJcIiBvciBsb3dlci4gRS5nLiBmb3IgQ29uZmlkZW50aWFsaXR5LCBpdCdzIGEgaGlnaCB3YXRlciBtYXJrLiBGb3Igb3RoZXIga2luZHMgb2Ygc2VjdXJpdHkgbGFiZWxzLCBzdWJzdW1wdGlvbiBsb2dpYyBhcHBsaWVzLiBXaGVuIHRoZSBwdXJwb3NlIG9mIHVzZSB0YWcgaXMgb24gdGhlIGRhdGEsIGFjY2VzcyByZXF1ZXN0IHB1cnBvc2Ugb2YgdXNlIHNoYWxsIG5vdCBjb25mbGljdC5cclxuICAgKi9cclxuICBwdWJsaWMgc2VjdXJpdHlMYWJlbDogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSBwdXJwb3NlIG9mIHVzZSB0YWcgaXMgb24gdGhlIGRhdGEsIGFjY2VzcyByZXF1ZXN0IHB1cnBvc2Ugb2YgdXNlIHNoYWxsIG5vdCBjb25mbGljdC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZTogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBNdWx0aXBsZSB0eXBlcyBhcmUgb3InZWQgdG9nZXRoZXIuIFRoZSBpbnRlbnRpb24gb2YgdGhlIGNvbnRlbnRUeXBlIGVsZW1lbnQgaXMgdGhhdCB0aGUgY29kZXMgcmVmZXIgdG8gcHJvZmlsZXMgb3IgZG9jdW1lbnQgdHlwZXMgZGVmaW5lZCBpbiBhIHN0YW5kYXJkIG9yIGFuIGltcGxlbWVudGF0aW9uIGd1aWRlIHNvbWV3aGVyZS5cclxuICAgKi9cclxuICBwdWJsaWMgY2xhc3M6IGZoaXIuQ29kaW5nW107XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbCB1c2Ugb2YgdGhpcyBpcyBhIERvY3VtZW50IGNvZGUgd2l0aCBjbGFzcyA9IENEQS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGhhcyBhIGRpZmZlcmVudCBzZW5zZSB0byB0aGUgQ29uc2VudC5wZXJpb2QgLSB0aGF0IGlzIHdoZW4gdGhlIGNvbnNlbnQgYWdyZWVtZW50IGhvbGRzLiBUaGlzIGlzIHRoZSB0aW1lIHBlcmlvZCBvZiB0aGUgZGF0YSB0aGF0IGlzIGNvbnRyb2xsZWQgYnkgdGhlIGFncmVlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0YVBlcmlvZD86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVzb3VyY2VzIGNvbnRyb2xsZWQgYnkgdGhpcyBydWxlIGlmIHNwZWNpZmljIHJlc291cmNlcyBhcmUgcmVmZXJlbmNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0YTogZmhpci5Db25zZW50UHJvdmlzaW9uRGF0YVtdO1xyXG4gIC8qKlxyXG4gICAqIFJ1bGVzIHdoaWNoIHByb3ZpZGUgZXhjZXB0aW9ucyB0byB0aGUgYmFzZSBydWxlIG9yIHN1YnJ1bGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm92aXNpb246IGZoaXIuQ29uc2VudFByb3Zpc2lvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbnNlbnRQcm92aXNpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25zZW50UHJvdmlzaW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25zZW50UHJvdmlzaW9uVHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25zZW50UHJvdmlzaW9uVHlwZUNvZGVUeXBlPihzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmlvZCddKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5wZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydhY3RvciddKSB7IHRoaXMuYWN0b3IgPSBzb3VyY2UuYWN0b3IubWFwKCh4KSA9PiBuZXcgZmhpci5Db25zZW50UHJvdmlzaW9uQWN0b3IoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY3RvciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhY3Rpb24nXSkgeyB0aGlzLmFjdGlvbiA9IHNvdXJjZS5hY3Rpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY3Rpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VjdXJpdHlMYWJlbCddKSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IHNvdXJjZS5zZWN1cml0eUxhYmVsLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwdXJwb3NlJ10pIHsgdGhpcy5wdXJwb3NlID0gc291cmNlLnB1cnBvc2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RpbmcoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wdXJwb3NlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NsYXNzJ10pIHsgdGhpcy5jbGFzcyA9IHNvdXJjZS5jbGFzcy5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNsYXNzID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBzb3VyY2UuY29kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0YVBlcmlvZCddKSB7IHRoaXMuZGF0YVBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UuZGF0YVBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGEnXSkgeyB0aGlzLmRhdGEgPSBzb3VyY2UuZGF0YS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnNlbnRQcm92aXNpb25EYXRhKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGF0YSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm92aXNpb24nXSkgeyB0aGlzLnByb3Zpc2lvbiA9IHNvdXJjZS5wcm92aXNpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db25zZW50UHJvdmlzaW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvdmlzaW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQ29uc2VudC5wcm92aXNpb24nIH1cclxuICAgIHRoaXMudk9wdFNWKCd0eXBlJyxleHByZXNzaW9uLCdDb25zZW50UHJvdmlzaW9uVHlwZScsQ29uc2VudFByb3Zpc2lvblR5cGVWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T3B0UygncGVyaW9kJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnYWN0b3InLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdhY3Rpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdzZWN1cml0eUxhYmVsJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgncHVycG9zZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2NsYXNzJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnY29kZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2RhdGFQZXJpb2QnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdkYXRhJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgncHJvdmlzaW9uJyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbnNlbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2VudEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkNvbnNlbnRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpZGVudGlmaWVyIGlkZW50aWZpZXMgdGhpcyBjb3B5IG9mIHRoZSBjb25zZW50LiBXaGVyZSB0aGlzIGlkZW50aWZpZXIgaXMgYWxzbyB1c2VkIGVsc2V3aGVyZSBhcyB0aGUgaWRlbnRpZmllciBmb3IgYSBjb25zZW50IHJlY29yZCAoZS5nLiBhIENEQSBjb25zZW50IGRvY3VtZW50KSB0aGVuIHRoZSBjb25zZW50IGRldGFpbHMgYXJlIGV4cGVjdGVkIHRvIGJlIHRoZSBzYW1lLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIHRoZSBjb2RlcyByZWplY3RlZCBhbmQgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmsgdGhlIENvbnNlbnQgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Q29uc2VudFN0YXRlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbnNlbnQuc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBzZWxlY3RvciBvZiB0aGUgdHlwZSBvZiBjb25zZW50IGJlaW5nIHByZXNlbnRlZDogQURSLCBQcml2YWN5LCBUcmVhdG1lbnQsIFJlc2VhcmNoLiAgVGhpcyBsaXN0IGlzIG5vdyBleHRlbnNpYmxlLlxyXG4gICAqL1xyXG4gIHNjb3BlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGNsYXNzaWZpY2F0aW9uIG9mIHRoZSB0eXBlIG9mIGNvbnNlbnRzIGZvdW5kIGluIHRoZSBzdGF0ZW1lbnQuIFRoaXMgZWxlbWVudCBzdXBwb3J0cyBpbmRleGluZyBhbmQgcmV0cmlldmFsIG9mIGNvbnNlbnQgc3RhdGVtZW50cy5cclxuICAgKi9cclxuICBjYXRlZ29yeTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118bnVsbDtcclxuICAvKipcclxuICAgKiBDb21tb25seSwgdGhlIHBhdGllbnQgdGhlIGNvbnNlbnQgcGVydGFpbnMgdG8gaXMgdGhlIGF1dGhvciwgYnV0IGZvciB5b3VuZyBhbmQgb2xkIHBlb3BsZSwgaXQgbWF5IGJlIHNvbWUgb3RoZXIgcGVyc29uLlxyXG4gICAqL1xyXG4gIHBhdGllbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgbm90IHRoZSB0aW1lIG9mIHRoZSBvcmlnaW5hbCBjb25zZW50LCBidXQgdGhlIHRpbWUgdGhhdCB0aGlzIHN0YXRlbWVudCB3YXMgbWFkZSBvciBkZXJpdmVkLlxyXG4gICAqL1xyXG4gIGRhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uc2VudC5kYXRlVGltZVxyXG4gICAqL1xyXG4gIF9kYXRlVGltZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ29tbW9ubHksIHRoZSBwYXRpZW50IHRoZSBjb25zZW50IHBlcnRhaW5zIHRvIGlzIHRoZSBjb25zZW50b3IsIGJ1dCBwYXJ0aWN1bGFybHkgZm9yIHlvdW5nIGFuZCBvbGQgcGVvcGxlLCBpdCBtYXkgYmUgc29tZSBvdGhlciBwZXJzb24gLSBlLmcuIGEgbGVnYWwgZ3VhcmRpYW4uXHJcbiAgICovXHJcbiAgcGVyZm9ybWVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbml6YXRpb24gdGhhdCBtYW5hZ2VzIHRoZSBjb25zZW50LCBhbmQgdGhlIGZyYW1ld29yayB3aXRoaW4gd2hpY2ggaXQgaXMgZXhlY3V0ZWQuXHJcbiAgICovXHJcbiAgb3JnYW5pemF0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzb3VyY2UgY2FuIGJlIGNvbnRhaW5lZCBpbmxpbmUgKEF0dGFjaG1lbnQpLCByZWZlcmVuY2VkIGRpcmVjdGx5IChDb25zZW50KSwgcmVmZXJlbmNlZCBpbiBhIGNvbnNlbnQgcmVwb3NpdG9yeSAoRG9jdW1lbnRSZWZlcmVuY2UpLCBvciBzaW1wbHkgYnkgYW4gaWRlbnRpZmllciAoSWRlbnRpZmllciksIGUuZy4gYSBDREEgZG9jdW1lbnQgaWQuXHJcbiAgICovXHJcbiAgc291cmNlPzogZmhpci5BdHRhY2htZW50fGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIGNhbiBiZSBjb250YWluZWQgaW5saW5lIChBdHRhY2htZW50KSwgcmVmZXJlbmNlZCBkaXJlY3RseSAoQ29uc2VudCksIHJlZmVyZW5jZWQgaW4gYSBjb25zZW50IHJlcG9zaXRvcnkgKERvY3VtZW50UmVmZXJlbmNlKSwgb3Igc2ltcGx5IGJ5IGFuIGlkZW50aWZpZXIgKElkZW50aWZpZXIpLCBlLmcuIGEgQ0RBIGRvY3VtZW50IGlkLlxyXG4gICAqL1xyXG4gIHNvdXJjZUF0dGFjaG1lbnQ/OiBmaGlyLkF0dGFjaG1lbnRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIGNhbiBiZSBjb250YWluZWQgaW5saW5lIChBdHRhY2htZW50KSwgcmVmZXJlbmNlZCBkaXJlY3RseSAoQ29uc2VudCksIHJlZmVyZW5jZWQgaW4gYSBjb25zZW50IHJlcG9zaXRvcnkgKERvY3VtZW50UmVmZXJlbmNlKSwgb3Igc2ltcGx5IGJ5IGFuIGlkZW50aWZpZXIgKElkZW50aWZpZXIpLCBlLmcuIGEgQ0RBIGRvY3VtZW50IGlkLlxyXG4gICAqL1xyXG4gIHNvdXJjZVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlZmVyZW5jZXMgdG8gdGhlIHBvbGljaWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIHRoaXMgY29uc2VudCBzY29wZS4gUG9saWNpZXMgbWF5IGJlIG9yZ2FuaXphdGlvbmFsLCBidXQgYXJlIG9mdGVuIGRlZmluZWQganVyaXNkaWN0aW9uYWxseSwgb3IgaW4gbGF3LlxyXG4gICAqL1xyXG4gIHBvbGljeT86IGZoaXIuQ29uc2VudFBvbGljeUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHBvbGljeVJ1bGUgaXMgYWJzZW50LCBjb21wdXRhYmxlIGNvbnNlbnQgd291bGQgbmVlZCB0byBiZSBjb25zdHJ1Y3RlZCBmcm9tIHRoZSBlbGVtZW50cyBvZiB0aGUgQ29uc2VudCByZXNvdXJjZS5cclxuICAgKi9cclxuICBwb2xpY3lSdWxlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIGEgdHJlYXRtZW50IGluc3RydWN0aW9uIChlLmcuIGFydGlmaWNpYWwgcmVzcGlyYXRpb24geWVzIG9yIG5vKSB3YXMgdmVyaWZpZWQgd2l0aCB0aGUgcGF0aWVudCwgaGlzL2hlciBmYW1pbHkgb3IgYW5vdGhlciBhdXRob3JpemVkIHBlcnNvbi5cclxuICAgKi9cclxuICB2ZXJpZmljYXRpb24/OiBmaGlyLkNvbnNlbnRWZXJpZmljYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGV4Y2VwdGlvbiB0byB0aGUgYmFzZSBwb2xpY3kgb2YgdGhpcyBjb25zZW50LiBBbiBleGNlcHRpb24gY2FuIGJlIGFuIGFkZGl0aW9uIG9yIHJlbW92YWwgb2YgYWNjZXNzIHBlcm1pc3Npb25zLlxyXG4gICAqL1xyXG4gIHByb3Zpc2lvbj86IGZoaXIuQ29uc2VudFByb3Zpc2lvbkFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSByZWNvcmQgb2YgYSBoZWFsdGhjYXJlIGNvbnN1bWVy4oCZcyAgY2hvaWNlcywgd2hpY2ggcGVybWl0cyBvciBkZW5pZXMgaWRlbnRpZmllZCByZWNpcGllbnQocykgb3IgcmVjaXBpZW50IHJvbGUocykgdG8gcGVyZm9ybSBvbmUgb3IgbW9yZSBhY3Rpb25zIHdpdGhpbiBhIGdpdmVuIHBvbGljeSBjb250ZXh0LCBmb3Igc3BlY2lmaWMgcHVycG9zZXMgYW5kIHBlcmlvZHMgb2YgdGltZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25zZW50IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25zZW50JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkNvbnNlbnRcIjtcclxuICAvKipcclxuICAgKiBUaGlzIGlkZW50aWZpZXIgaWRlbnRpZmllcyB0aGlzIGNvcHkgb2YgdGhlIGNvbnNlbnQuIFdoZXJlIHRoaXMgaWRlbnRpZmllciBpcyBhbHNvIHVzZWQgZWxzZXdoZXJlIGFzIHRoZSBpZGVudGlmaWVyIGZvciBhIGNvbnNlbnQgcmVjb3JkIChlLmcuIGEgQ0RBIGNvbnNlbnQgZG9jdW1lbnQpIHRoZW4gdGhlIGNvbnNlbnQgZGV0YWlscyBhcmUgZXhwZWN0ZWQgdG8gYmUgdGhlIHNhbWUuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIHRoZSBjb2RlcyByZWplY3RlZCBhbmQgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmsgdGhlIENvbnNlbnQgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPENvbnNlbnRTdGF0ZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgc2VsZWN0b3Igb2YgdGhlIHR5cGUgb2YgY29uc2VudCBiZWluZyBwcmVzZW50ZWQ6IEFEUiwgUHJpdmFjeSwgVHJlYXRtZW50LCBSZXNlYXJjaC4gIFRoaXMgbGlzdCBpcyBub3cgZXh0ZW5zaWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2NvcGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgdHlwZSBvZiBjb25zZW50cyBmb3VuZCBpbiB0aGUgc3RhdGVtZW50LiBUaGlzIGVsZW1lbnQgc3VwcG9ydHMgaW5kZXhpbmcgYW5kIHJldHJpZXZhbCBvZiBjb25zZW50IHN0YXRlbWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdGVnb3J5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIENvbW1vbmx5LCB0aGUgcGF0aWVudCB0aGUgY29uc2VudCBwZXJ0YWlucyB0byBpcyB0aGUgYXV0aG9yLCBidXQgZm9yIHlvdW5nIGFuZCBvbGQgcGVvcGxlLCBpdCBtYXkgYmUgc29tZSBvdGhlciBwZXJzb24uXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBub3QgdGhlIHRpbWUgb2YgdGhlIG9yaWdpbmFsIGNvbnNlbnQsIGJ1dCB0aGUgdGltZSB0aGF0IHRoaXMgc3RhdGVtZW50IHdhcyBtYWRlIG9yIGRlcml2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbW1vbmx5LCB0aGUgcGF0aWVudCB0aGUgY29uc2VudCBwZXJ0YWlucyB0byBpcyB0aGUgY29uc2VudG9yLCBidXQgcGFydGljdWxhcmx5IGZvciB5b3VuZyBhbmQgb2xkIHBlb3BsZSwgaXQgbWF5IGJlIHNvbWUgb3RoZXIgcGVyc29uIC0gZS5nLiBhIGxlZ2FsIGd1YXJkaWFuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJmb3JtZXI6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXphdGlvbiB0aGF0IG1hbmFnZXMgdGhlIGNvbnNlbnQsIGFuZCB0aGUgZnJhbWV3b3JrIHdpdGhpbiB3aGljaCBpdCBpcyBleGVjdXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pemF0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzb3VyY2UgY2FuIGJlIGNvbnRhaW5lZCBpbmxpbmUgKEF0dGFjaG1lbnQpLCByZWZlcmVuY2VkIGRpcmVjdGx5IChDb25zZW50KSwgcmVmZXJlbmNlZCBpbiBhIGNvbnNlbnQgcmVwb3NpdG9yeSAoRG9jdW1lbnRSZWZlcmVuY2UpLCBvciBzaW1wbHkgYnkgYW4gaWRlbnRpZmllciAoSWRlbnRpZmllciksIGUuZy4gYSBDREEgZG9jdW1lbnQgaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZT86IChmaGlyLkF0dGFjaG1lbnR8Zmhpci5SZWZlcmVuY2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENvbnNlbnQuc291cmNlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3NvdXJjZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWZlcmVuY2VzIHRvIHRoZSBwb2xpY2llcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGlzIGNvbnNlbnQgc2NvcGUuIFBvbGljaWVzIG1heSBiZSBvcmdhbml6YXRpb25hbCwgYnV0IGFyZSBvZnRlbiBkZWZpbmVkIGp1cmlzZGljdGlvbmFsbHksIG9yIGluIGxhdy5cclxuICAgKi9cclxuICBwdWJsaWMgcG9saWN5OiBmaGlyLkNvbnNlbnRQb2xpY3lbXTtcclxuICAvKipcclxuICAgKiBJZiB0aGUgcG9saWN5UnVsZSBpcyBhYnNlbnQsIGNvbXB1dGFibGUgY29uc2VudCB3b3VsZCBuZWVkIHRvIGJlIGNvbnN0cnVjdGVkIGZyb20gdGhlIGVsZW1lbnRzIG9mIHRoZSBDb25zZW50IHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb2xpY3lSdWxlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgYSB0cmVhdG1lbnQgaW5zdHJ1Y3Rpb24gKGUuZy4gYXJ0aWZpY2lhbCByZXNwaXJhdGlvbiB5ZXMgb3Igbm8pIHdhcyB2ZXJpZmllZCB3aXRoIHRoZSBwYXRpZW50LCBoaXMvaGVyIGZhbWlseSBvciBhbm90aGVyIGF1dGhvcml6ZWQgcGVyc29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2ZXJpZmljYXRpb246IGZoaXIuQ29uc2VudFZlcmlmaWNhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIEFuIGV4Y2VwdGlvbiB0byB0aGUgYmFzZSBwb2xpY3kgb2YgdGhpcyBjb25zZW50LiBBbiBleGNlcHRpb24gY2FuIGJlIGFuIGFkZGl0aW9uIG9yIHJlbW92YWwgb2YgYWNjZXNzIHBlcm1pc3Npb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm92aXNpb24/OiBmaGlyLkNvbnNlbnRQcm92aXNpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbnNlbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25zZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0NvbnNlbnQnO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25zZW50U3RhdGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Q29uc2VudFN0YXRlQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzY29wZSddKSB7IHRoaXMuc2NvcGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNjb3BlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2NvcGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXRlZ29yeSddKSB7IHRoaXMuY2F0ZWdvcnkgPSBzb3VyY2UuY2F0ZWdvcnkubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jYXRlZ29yeSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50J10pIHsgdGhpcy5wYXRpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXRpZW50KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZVRpbWUnXSkgeyB0aGlzLmRhdGVUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRhdGVUaW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlVGltZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGVUaW1lKSB7IHRoaXMuZGF0ZVRpbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZVRpbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kYXRlVGltZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RhdGVUaW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmZvcm1lciddKSB7IHRoaXMucGVyZm9ybWVyID0gc291cmNlLnBlcmZvcm1lci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcmZvcm1lciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmdhbml6YXRpb24nXSkgeyB0aGlzLm9yZ2FuaXphdGlvbiA9IHNvdXJjZS5vcmdhbml6YXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vcmdhbml6YXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlJ10pIHsgdGhpcy5zb3VyY2UgPSBzb3VyY2Uuc291cmNlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3NvdXJjZUF0dGFjaG1lbnQnXSkgeyB0aGlzLnNvdXJjZSA9IG5ldyBmaGlyLkF0dGFjaG1lbnQoc291cmNlLnNvdXJjZUF0dGFjaG1lbnQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3NvdXJjZVJlZmVyZW5jZSddKSB7IHRoaXMuc291cmNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zb3VyY2VSZWZlcmVuY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydwb2xpY3knXSkgeyB0aGlzLnBvbGljeSA9IHNvdXJjZS5wb2xpY3kubWFwKCh4KSA9PiBuZXcgZmhpci5Db25zZW50UG9saWN5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucG9saWN5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BvbGljeVJ1bGUnXSkgeyB0aGlzLnBvbGljeVJ1bGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnBvbGljeVJ1bGUpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJpZmljYXRpb24nXSkgeyB0aGlzLnZlcmlmaWNhdGlvbiA9IHNvdXJjZS52ZXJpZmljYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db25zZW50VmVyaWZpY2F0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmVyaWZpY2F0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb3Zpc2lvbiddKSB7IHRoaXMucHJvdmlzaW9uID0gbmV3IGZoaXIuQ29uc2VudFByb3Zpc2lvbihzb3VyY2UucHJvdmlzaW9uKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdDb25zZW50JyB9XHJcbiAgICB0aGlzLnZSZXFTKCdyZXNvdXJjZVR5cGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdpZGVudGlmaWVyJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52UmVxU1YoJ3N0YXR1cycsZXhwcmVzc2lvbiwnQ29uc2VudFN0YXRlJyxDb25zZW50U3RhdGVWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52UmVxUygnc2NvcGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZSZXFBKCdjYXRlZ29yeScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3BhdGllbnQnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdkYXRlVGltZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ3BlcmZvcm1lcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ29yZ2FuaXphdGlvbicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3NvdXJjZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ3BvbGljeScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3BvbGljeVJ1bGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCd2ZXJpZmljYXRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdwcm92aXNpb24nLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=