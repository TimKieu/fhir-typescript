// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Consent
import * as fhir from '../fhir.js';
// @ts-ignore
import { ConsentDataMeaningVsValidation } from '../fhirValueSets/ConsentDataMeaningVsValidation.js';
// @ts-ignore
import { ConsentProvisionTypeVsValidation } from '../fhirValueSets/ConsentProvisionTypeVsValidation.js';
// @ts-ignore
import { ConsentStateVsValidation } from '../fhirValueSets/ConsentStateVsValidation.js';
/**
 * The references to the policies that are included in this consent scope. Policies may be organizational, but are often defined jurisdictionally, or in law.
 */
export class ConsentPolicy extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentPolicy - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['authority'] !== undefined) {
            this.authority = new fhir.FhirUri({ value: source.authority }, options);
        }
        if (source['_authority']) {
            if (this.authority) {
                this.authority.addExtendedProperties(source._authority);
            }
            else {
                this.authority = new fhir.FhirUri(source._authority, options);
            }
        }
        if (source['uri'] !== undefined) {
            this.uri = new fhir.FhirUri({ value: source.uri }, options);
        }
        if (source['_uri']) {
            if (this.uri) {
                this.uri.addExtendedProperties(source._uri);
            }
            else {
                this.uri = new fhir.FhirUri(source._uri, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Consent.policy';
        }
        iss.push(...this.vOS('authority', exp));
        iss.push(...this.vOS('uri', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentPolicy._fts_dataType = 'ConsentPolicy';
/**
 * Whether a treatment instruction (e.g. artificial respiration yes or no) was verified with the patient, his/her family or another authorized person.
 */
export class ConsentVerification extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentVerification - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['verified'] !== undefined) {
            this.verified = new fhir.FhirBoolean({ value: source.verified }, options);
        }
        else {
            this.verified = null;
        }
        if (source['_verified']) {
            if (this.verified) {
                this.verified.addExtendedProperties(source._verified);
            }
            else {
                this.verified = new fhir.FhirBoolean(source._verified, options);
            }
        }
        if (source['verifiedWith']) {
            this.verifiedWith = new fhir.Reference(source.verifiedWith, options);
        }
        if (source['verificationDate'] !== undefined) {
            this.verificationDate = new fhir.FhirDateTime({ value: source.verificationDate }, options);
        }
        if (source['_verificationDate']) {
            if (this.verificationDate) {
                this.verificationDate.addExtendedProperties(source._verificationDate);
            }
            else {
                this.verificationDate = new fhir.FhirDateTime(source._verificationDate, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Consent.verification';
        }
        iss.push(...this.vRS('verified', exp));
        iss.push(...this.vOS('verifiedWith', exp));
        iss.push(...this.vOS('verificationDate', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentVerification._fts_dataType = 'ConsentVerification';
/**
 * Who or what is controlled by this rule. Use group to identify a set of actors by some property they share (e.g. 'admitting officers').
 */
export class ConsentProvisionActor extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentProvisionActor - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['role']) {
            this.role = new fhir.CodeableConcept(source.role, options);
        }
        else {
            this.role = null;
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference, options);
        }
        else {
            this.reference = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Consent.provision.actor';
        }
        iss.push(...this.vRS('role', exp));
        iss.push(...this.vRS('reference', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentProvisionActor._fts_dataType = 'ConsentProvisionActor';
/**
 * The resources controlled by this rule if specific resources are referenced.
 */
export class ConsentProvisionData extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentProvisionData - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['meaning'] !== undefined) {
            this.meaning = new fhir.FhirCode({ value: source.meaning }, options);
        }
        else {
            this.meaning = null;
        }
        if (source['_meaning']) {
            if (this.meaning) {
                this.meaning.addExtendedProperties(source._meaning);
            }
            else {
                this.meaning = new fhir.FhirCode(source._meaning, options);
            }
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference, options);
        }
        else {
            this.reference = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Consent.provision.data';
        }
        iss.push(...this.vRSV('meaning', exp, 'ConsentDataMeaning', ConsentDataMeaningVsValidation, 'r'));
        iss.push(...this.vRS('reference', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentProvisionData._fts_dataType = 'ConsentProvisionData';
/**
 * An exception to the base policy of this consent. An exception can be an addition or removal of access permissions.
 */
export class ConsentProvision extends fhir.BackboneElement {
    /**
     * Default constructor for ConsentProvision - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type'] !== undefined) {
            this.type = new fhir.FhirCode({ value: source.type }, options);
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type, options);
            }
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period, options);
        }
        if (source['actor']) {
            this.actor = source.actor.map((x) => new fhir.ConsentProvisionActor(x, options));
        }
        else {
            this.actor = [];
        }
        if (source['action']) {
            this.action = source.action.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.action = [];
        }
        if (source['securityLabel']) {
            this.securityLabel = source.securityLabel.map((x) => new fhir.Coding(x, options));
        }
        else {
            this.securityLabel = [];
        }
        if (source['purpose']) {
            this.purpose = source.purpose.map((x) => new fhir.Coding(x, options));
        }
        else {
            this.purpose = [];
        }
        if (source['class']) {
            this.class = source.class.map((x) => new fhir.Coding(x, options));
        }
        else {
            this.class = [];
        }
        if (source['code']) {
            this.code = source.code.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.code = [];
        }
        if (source['dataPeriod']) {
            this.dataPeriod = new fhir.Period(source.dataPeriod, options);
        }
        if (source['data']) {
            this.data = source.data.map((x) => new fhir.ConsentProvisionData(x, options));
        }
        else {
            this.data = [];
        }
        if (source['provision']) {
            this.provision = source.provision.map((x) => new fhir.ConsentProvision(x, options));
        }
        else {
            this.provision = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Consent.provision';
        }
        iss.push(...this.vOSV('type', exp, 'ConsentProvisionType', ConsentProvisionTypeVsValidation, 'r'));
        iss.push(...this.vOS('period', exp));
        iss.push(...this.vOA('actor', exp));
        iss.push(...this.vOA('action', exp));
        iss.push(...this.vOA('securityLabel', exp));
        iss.push(...this.vOA('purpose', exp));
        iss.push(...this.vOA('class', exp));
        iss.push(...this.vOA('code', exp));
        iss.push(...this.vOS('dataPeriod', exp));
        iss.push(...this.vOA('data', exp));
        iss.push(...this.vOA('provision', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConsentProvision._fts_dataType = 'ConsentProvision';
/**
 * A record of a healthcare consumer’s  choices, which permits or denies identified recipient(s) or recipient role(s) to perform one or more actions within a given policy context, for specific purposes and periods of time.
 */
export class Consent extends fhir.DomainResource {
    /**
     * Default constructor for Consent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Consent';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['scope']) {
            this.scope = new fhir.CodeableConcept(source.scope, options);
        }
        else {
            this.scope = null;
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.category = [];
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        if (source['dateTime'] !== undefined) {
            this.dateTime = new fhir.FhirDateTime({ value: source.dateTime }, options);
        }
        if (source['_dateTime']) {
            if (this.dateTime) {
                this.dateTime.addExtendedProperties(source._dateTime);
            }
            else {
                this.dateTime = new fhir.FhirDateTime(source._dateTime, options);
            }
        }
        if (source['performer']) {
            this.performer = source.performer.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.performer = [];
        }
        if (source['organization']) {
            this.organization = source.organization.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.organization = [];
        }
        if (source['source']) {
            this.source = source.source;
        }
        else if (source['sourceAttachment']) {
            this.source = new fhir.Attachment(source.sourceAttachment, options);
        }
        else if (source['sourceReference']) {
            this.source = new fhir.Reference(source.sourceReference, options);
        }
        if (source['policy']) {
            this.policy = source.policy.map((x) => new fhir.ConsentPolicy(x, options));
        }
        else {
            this.policy = [];
        }
        if (source['policyRule']) {
            this.policyRule = new fhir.CodeableConcept(source.policyRule, options);
        }
        if (source['verification']) {
            this.verification = source.verification.map((x) => new fhir.ConsentVerification(x, options));
        }
        else {
            this.verification = [];
        }
        if (source['provision']) {
            this.provision = new fhir.ConsentProvision(source.provision, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Consent';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'ConsentState', ConsentStateVsValidation, 'r'));
        iss.push(...this.vRS('scope', exp));
        iss.push(...this.vRA('category', exp));
        iss.push(...this.vOS('patient', exp));
        iss.push(...this.vOS('dateTime', exp));
        iss.push(...this.vOA('performer', exp));
        iss.push(...this.vOA('organization', exp));
        iss.push(...this.vOS('source', exp));
        iss.push(...this.vOA('policy', exp));
        iss.push(...this.vOS('policyRule', exp));
        iss.push(...this.vOA('verification', exp));
        iss.push(...this.vOS('provision', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Consent._fts_dataType = 'Consent';
/**
 * Internal flag to properly serialize choice-type element Consent.source[x]
 */
Consent._fts_sourceIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uc2VudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQ29uc2VudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyx5QkFBeUI7QUFFekIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFRbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBR3BHLGFBQWE7QUFDYixPQUFPLEVBQUUsZ0NBQWdDLEVBQUUsTUFBTSxzREFBc0QsQ0FBQztBQXVCeEcsYUFBYTtBQUNiLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDhDQUE4QyxDQUFDO0FBbUN4Rjs7R0FFRztBQUNILE1BQU0sT0FBTyxhQUFjLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhckQ7O09BRUc7SUFDSCxZQUFZLFNBQW9DLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzFGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDakgsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFVBQVcsQ0FBQyxDQUFDO2FBQUU7aUJBQzVFO2dCQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUF1QyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDckc7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QUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxtQkFBbUIsQ0FBQTtTQUFFO1FBQzdDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsc0JBQXNCLEVBQUMsZ0NBQWdDLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMvRixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztR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LElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxjQUFjLEVBQUMsd0JBQXdCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBMUhEOztHQUVHO0FBQzZCLHFCQUFhLEdBQVUsU0FBUyxDQUFDO0FBeUNqRTs7R0FFRztBQUN1QiwyQkFBbUIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IENvbnNlbnRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlY3VyaXR5Um9sZVR5cGVDb2RlcywgIFNlY3VyaXR5Um9sZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VjdXJpdHlSb2xlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZWN1cml0eVJvbGVUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZWN1cml0eVJvbGVUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50RGF0YU1lYW5pbmdDb2RlcywgIENvbnNlbnREYXRhTWVhbmluZ0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50RGF0YU1lYW5pbmdDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudERhdGFNZWFuaW5nVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50RGF0YU1lYW5pbmdWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRQcm92aXNpb25UeXBlQ29kZXMsICBDb25zZW50UHJvdmlzaW9uVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50UHJvdmlzaW9uVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50UHJvdmlzaW9uVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudFByb3Zpc2lvblR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRBY3Rpb25Db2RlcywgIENvbnNlbnRBY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudEFjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50QWN0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50QWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZWN1cml0eUxhYmVsc0NvZGVzLCAgU2VjdXJpdHlMYWJlbHNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VjdXJpdHlMYWJlbHNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VjdXJpdHlMYWJlbHNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlY3VyaXR5TGFiZWxzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM1B1cnBvc2VPZlVzZUNvZGVzLCAgVjNQdXJwb3NlT2ZVc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjNQdXJwb3NlT2ZVc2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNQdXJwb3NlT2ZVc2VWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzUHVycG9zZU9mVXNlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50Q29udGVudENsYXNzQ29kZXMsICBDb25zZW50Q29udGVudENsYXNzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRDb250ZW50Q2xhc3NDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudENvbnRlbnRDbGFzc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudENvbnRlbnRDbGFzc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudENvbnRlbnRDb2RlcywgIENvbnNlbnRDb250ZW50Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRDb250ZW50Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRDb250ZW50VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50Q29udGVudFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudFN0YXRlQ29kZXMsICBDb25zZW50U3RhdGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudFN0YXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRTdGF0ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2VudFN0YXRlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50U2NvcGVDb2RlcywgIENvbnNlbnRTY29wZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50U2NvcGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudFNjb3BlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50U2NvcGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRDYXRlZ29yeUNvZGVzLCAgQ29uc2VudENhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRDYXRlZ29yeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zZW50Q2F0ZWdvcnlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRDYXRlZ29yeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2VudFBvbGljeUNvZGVzLCAgQ29uc2VudFBvbGljeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25zZW50UG9saWN5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNlbnRQb2xpY3lWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNlbnRQb2xpY3lWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uc2VudFBvbGljeSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25zZW50UG9saWN5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogRW50aXR5IG9yIE9yZ2FuaXphdGlvbiBoYXZpbmcgcmVndWxhdG9yeSBqdXJpc2RpY3Rpb24gb3IgYWNjb3VudGFiaWxpdHkgZm9yICBlbmZvcmNpbmcgcG9saWNpZXMgcGVydGFpbmluZyB0byBDb25zZW50IERpcmVjdGl2ZXMuXHJcbiAgICovXHJcbiAgYXV0aG9yaXR5PzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbnNlbnQucG9saWN5LmF1dGhvcml0eVxyXG4gICAqL1xyXG4gIF9hdXRob3JpdHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBmb3IgZGlzY292ZXJhYmlsaXR5IC8gZG9jdW1lbnRhdGlvbiBhbmQgZG9lcyBub3QgbW9kaWZ5IG9yIHF1YWxpZnkgdGhlIHBvbGljeSBydWxlcy5cclxuICAgKi9cclxuICB1cmk/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uc2VudC5wb2xpY3kudXJpXHJcbiAgICovXHJcbiAgX3VyaT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcmVmZXJlbmNlcyB0byB0aGUgcG9saWNpZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gdGhpcyBjb25zZW50IHNjb3BlLiBQb2xpY2llcyBtYXkgYmUgb3JnYW5pemF0aW9uYWwsIGJ1dCBhcmUgb2Z0ZW4gZGVmaW5lZCBqdXJpc2RpY3Rpb25hbGx5LCBvciBpbiBsYXcuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uc2VudFBvbGljeSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbnNlbnRQb2xpY3knO1xyXG4gIC8qKlxyXG4gICAqIEVudGl0eSBvciBPcmdhbml6YXRpb24gaGF2aW5nIHJlZ3VsYXRvcnkganVyaXNkaWN0aW9uIG9yIGFjY291bnRhYmlsaXR5IGZvciAgZW5mb3JjaW5nIHBvbGljaWVzIHBlcnRhaW5pbmcgdG8gQ29uc2VudCBEaXJlY3RpdmVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdXRob3JpdHk/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBmb3IgZGlzY292ZXJhYmlsaXR5IC8gZG9jdW1lbnRhdGlvbiBhbmQgZG9lcyBub3QgbW9kaWZ5IG9yIHF1YWxpZnkgdGhlIHBvbGljeSBydWxlcy5cclxuICAgKi9cclxuICBwdWJsaWMgdXJpPzogZmhpci5GaGlyVXJpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25zZW50UG9saWN5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uc2VudFBvbGljeUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhdXRob3JpdHknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuYXV0aG9yaXR5ID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5hdXRob3JpdHl9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2F1dGhvcml0eSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmF1dGhvcml0eSkgeyB0aGlzLmF1dGhvcml0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hdXRob3JpdHkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hdXRob3JpdHkgPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fYXV0aG9yaXR5IGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd1cmknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudXJpID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS51cml9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3VyaSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnVyaSkgeyB0aGlzLnVyaS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl91cmkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy51cmkgPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fdXJpIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uc2VudC5wb2xpY3knIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhdXRob3JpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3VyaScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uc2VudFZlcmlmaWNhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25zZW50VmVyaWZpY2F0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSGFzIHRoZSBpbnN0cnVjdGlvbiBiZWVuIHZlcmlmaWVkLlxyXG4gICAqL1xyXG4gIHZlcmlmaWVkOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25zZW50LnZlcmlmaWNhdGlvbi52ZXJpZmllZFxyXG4gICAqL1xyXG4gIF92ZXJpZmllZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hvIHZlcmlmaWVkIHRoZSBpbnN0cnVjdGlvbiAoUGF0aWVudCwgUmVsYXRpdmUgb3Igb3RoZXIgQXV0aG9yaXplZCBQZXJzb24pLlxyXG4gICAqL1xyXG4gIHZlcmlmaWVkV2l0aD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSB2ZXJpZmljYXRpb24gd2FzIGNvbGxlY3RlZC5cclxuICAgKi9cclxuICB2ZXJpZmljYXRpb25EYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uc2VudC52ZXJpZmljYXRpb24udmVyaWZpY2F0aW9uRGF0ZVxyXG4gICAqL1xyXG4gIF92ZXJpZmljYXRpb25EYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFdoZXRoZXIgYSB0cmVhdG1lbnQgaW5zdHJ1Y3Rpb24gKGUuZy4gYXJ0aWZpY2lhbCByZXNwaXJhdGlvbiB5ZXMgb3Igbm8pIHdhcyB2ZXJpZmllZCB3aXRoIHRoZSBwYXRpZW50LCBoaXMvaGVyIGZhbWlseSBvciBhbm90aGVyIGF1dGhvcml6ZWQgcGVyc29uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnNlbnRWZXJpZmljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25zZW50VmVyaWZpY2F0aW9uJztcclxuICAvKipcclxuICAgKiBIYXMgdGhlIGluc3RydWN0aW9uIGJlZW4gdmVyaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHZlcmlmaWVkOiBmaGlyLkZoaXJCb29sZWFufG51bGw7XHJcbiAgLyoqXHJcbiAgICogV2hvIHZlcmlmaWVkIHRoZSBpbnN0cnVjdGlvbiAoUGF0aWVudCwgUmVsYXRpdmUgb3Igb3RoZXIgQXV0aG9yaXplZCBQZXJzb24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2ZXJpZmllZFdpdGg/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSB2ZXJpZmljYXRpb24gd2FzIGNvbGxlY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyaWZpY2F0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25zZW50VmVyaWZpY2F0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uc2VudFZlcmlmaWNhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd2ZXJpZmllZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy52ZXJpZmllZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnZlcmlmaWVkfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZlcmlmaWVkID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZlcmlmaWVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMudmVyaWZpZWQpIHsgdGhpcy52ZXJpZmllZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92ZXJpZmllZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnZlcmlmaWVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl92ZXJpZmllZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcmlmaWVkV2l0aCddKSB7IHRoaXMudmVyaWZpZWRXaXRoID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS52ZXJpZmllZFdpdGgsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJpZmljYXRpb25EYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZlcmlmaWNhdGlvbkRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UudmVyaWZpY2F0aW9uRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyaWZpY2F0aW9uRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcmlmaWNhdGlvbkRhdGUpIHsgdGhpcy52ZXJpZmljYXRpb25EYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcmlmaWNhdGlvbkRhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJpZmljYXRpb25EYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fdmVyaWZpY2F0aW9uRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uc2VudC52ZXJpZmljYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd2ZXJpZmllZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndmVyaWZpZWRXaXRoJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd2ZXJpZmljYXRpb25EYXRlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25zZW50UHJvdmlzaW9uQWN0b3IgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2VudFByb3Zpc2lvbkFjdG9yQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSG93IHRoZSBpbmRpdmlkdWFsIGlzIGludm9sdmVkIGluIHRoZSByZXNvdXJjZXMgY29udGVudCB0aGF0IGlzIGRlc2NyaWJlZCBpbiB0aGUgZXhjZXB0aW9uLlxyXG4gICAqL1xyXG4gIHJvbGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXNvdXJjZSB0aGF0IGlkZW50aWZpZXMgdGhlIGFjdG9yLiBUbyBpZGVudGlmeSBhY3RvcnMgYnkgdHlwZSwgdXNlIGdyb3VwIHRvIGlkZW50aWZ5IGEgc2V0IG9mIGFjdG9ycyBieSBzb21lIHByb3BlcnR5IHRoZXkgc2hhcmUgKGUuZy4gJ2FkbWl0dGluZyBvZmZpY2VycycpLlxyXG4gICAqL1xyXG4gIHJlZmVyZW5jZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXaG8gb3Igd2hhdCBpcyBjb250cm9sbGVkIGJ5IHRoaXMgcnVsZS4gVXNlIGdyb3VwIHRvIGlkZW50aWZ5IGEgc2V0IG9mIGFjdG9ycyBieSBzb21lIHByb3BlcnR5IHRoZXkgc2hhcmUgKGUuZy4gJ2FkbWl0dGluZyBvZmZpY2VycycpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnNlbnRQcm92aXNpb25BY3RvciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbnNlbnRQcm92aXNpb25BY3Rvcic7XHJcbiAgLyoqXHJcbiAgICogSG93IHRoZSBpbmRpdmlkdWFsIGlzIGludm9sdmVkIGluIHRoZSByZXNvdXJjZXMgY29udGVudCB0aGF0IGlzIGRlc2NyaWJlZCBpbiB0aGUgZXhjZXB0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb2xlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXNvdXJjZSB0aGF0IGlkZW50aWZpZXMgdGhlIGFjdG9yLiBUbyBpZGVudGlmeSBhY3RvcnMgYnkgdHlwZSwgdXNlIGdyb3VwIHRvIGlkZW50aWZ5IGEgc2V0IG9mIGFjdG9ycyBieSBzb21lIHByb3BlcnR5IHRoZXkgc2hhcmUgKGUuZy4gJ2FkbWl0dGluZyBvZmZpY2VycycpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uc2VudFByb3Zpc2lvbkFjdG9yIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uc2VudFByb3Zpc2lvbkFjdG9yQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3JvbGUnXSkgeyB0aGlzLnJvbGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJvbGUsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yb2xlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlJ10pIHsgdGhpcy5yZWZlcmVuY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZmVyZW5jZSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZmVyZW5jZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25zZW50LnByb3Zpc2lvbi5hY3RvcicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3JvbGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3JlZmVyZW5jZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uc2VudFByb3Zpc2lvbkRhdGEgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2VudFByb3Zpc2lvbkRhdGFBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBIb3cgdGhlIHJlc291cmNlIHJlZmVyZW5jZSBpcyBpbnRlcnByZXRlZCB3aGVuIHRlc3RpbmcgY29uc2VudCByZXN0cmljdGlvbnMuXHJcbiAgICovXHJcbiAgbWVhbmluZzogZmhpci5GaGlyQ29kZTxDb25zZW50RGF0YU1lYW5pbmdDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uc2VudC5wcm92aXNpb24uZGF0YS5tZWFuaW5nXHJcbiAgICovXHJcbiAgX21lYW5pbmc/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIGEgc3BlY2lmaWMgcmVzb3VyY2UgdGhhdCBkZWZpbmVzIHdoaWNoIHJlc291cmNlcyBhcmUgY292ZXJlZCBieSB0aGlzIGNvbnNlbnQuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSByZXNvdXJjZXMgY29udHJvbGxlZCBieSB0aGlzIHJ1bGUgaWYgc3BlY2lmaWMgcmVzb3VyY2VzIGFyZSByZWZlcmVuY2VkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnNlbnRQcm92aXNpb25EYXRhIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29uc2VudFByb3Zpc2lvbkRhdGEnO1xyXG4gIC8qKlxyXG4gICAqIEhvdyB0aGUgcmVzb3VyY2UgcmVmZXJlbmNlIGlzIGludGVycHJldGVkIHdoZW4gdGVzdGluZyBjb25zZW50IHJlc3RyaWN0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgbWVhbmluZzogZmhpci5GaGlyQ29kZTxDb25zZW50RGF0YU1lYW5pbmdDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSB0byBhIHNwZWNpZmljIHJlc291cmNlIHRoYXQgZGVmaW5lcyB3aGljaCByZXNvdXJjZXMgYXJlIGNvdmVyZWQgYnkgdGhpcyBjb25zZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uc2VudFByb3Zpc2lvbkRhdGEgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25zZW50UHJvdmlzaW9uRGF0YUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydtZWFuaW5nJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm1lYW5pbmcgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25zZW50RGF0YU1lYW5pbmdDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UubWVhbmluZ30sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tZWFuaW5nID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX21lYW5pbmcnXSkge1xyXG4gICAgICBpZiAodGhpcy5tZWFuaW5nKSB7IHRoaXMubWVhbmluZy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tZWFuaW5nISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubWVhbmluZyA9IG5ldyBmaGlyLkZoaXJDb2RlPENvbnNlbnREYXRhTWVhbmluZ0NvZGVUeXBlPihzb3VyY2UuX21lYW5pbmcgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZSddKSB7IHRoaXMucmVmZXJlbmNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWZlcmVuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWZlcmVuY2UgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uc2VudC5wcm92aXNpb24uZGF0YScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdtZWFuaW5nJyxleHAsJ0NvbnNlbnREYXRhTWVhbmluZycsQ29uc2VudERhdGFNZWFuaW5nVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3JlZmVyZW5jZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uc2VudFByb3Zpc2lvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25zZW50UHJvdmlzaW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQWN0aW9uICB0byB0YWtlIC0gcGVybWl0IG9yIGRlbnkgLSB3aGVuIHRoZSBydWxlIGNvbmRpdGlvbnMgYXJlIG1ldC4gIE5vdCBwZXJtaXR0ZWQgaW4gcm9vdCBydWxlLCByZXF1aXJlZCBpbiBhbGwgbmVzdGVkIHJ1bGVzLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkZoaXJDb2RlPENvbnNlbnRQcm92aXNpb25UeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbnNlbnQucHJvdmlzaW9uLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWVmcmFtZSBpbiB0aGlzIHJ1bGUgaXMgdmFsaWQuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaG8gb3Igd2hhdCBpcyBjb250cm9sbGVkIGJ5IHRoaXMgcnVsZS4gVXNlIGdyb3VwIHRvIGlkZW50aWZ5IGEgc2V0IG9mIGFjdG9ycyBieSBzb21lIHByb3BlcnR5IHRoZXkgc2hhcmUgKGUuZy4gJ2FkbWl0dGluZyBvZmZpY2VycycpLlxyXG4gICAqL1xyXG4gIGFjdG9yPzogZmhpci5Db25zZW50UHJvdmlzaW9uQWN0b3JBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIGlzIHRoZSBkaXJlY3QgYWN0aW9uIChub3QgdGhlIGdyb3VuZHMgZm9yIHRoZSBhY3Rpb24gY292ZXJlZCBpbiB0aGUgcHVycG9zZSBlbGVtZW50KS4gQXQgcHJlc2VudCwgdGhlIG9ubHkgYWN0aW9uIGluIHRoZSB1bmRlcnN0b29kIGFuZCB0ZXN0ZWQgc2NvcGUgb2YgdGhpcyByZXNvdXJjZSBpcyAncmVhZCcuXHJcbiAgICovXHJcbiAgYWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBjb25zZW50IHNwZWNpZmllcyBhIHNlY3VyaXR5IGxhYmVsIG9mIFwiUlwiIHRoZW4gaXQgYXBwbGllcyB0byBhbGwgcmVzb3VyY2VzIHRoYXQgYXJlIGxhYmVsZWQgXCJSXCIgb3IgbG93ZXIuIEUuZy4gZm9yIENvbmZpZGVudGlhbGl0eSwgaXQncyBhIGhpZ2ggd2F0ZXIgbWFyay4gRm9yIG90aGVyIGtpbmRzIG9mIHNlY3VyaXR5IGxhYmVscywgc3Vic3VtcHRpb24gbG9naWMgYXBwbGllcy4gV2hlbiB0aGUgcHVycG9zZSBvZiB1c2UgdGFnIGlzIG9uIHRoZSBkYXRhLCBhY2Nlc3MgcmVxdWVzdCBwdXJwb3NlIG9mIHVzZSBzaGFsbCBub3QgY29uZmxpY3QuXHJcbiAgICovXHJcbiAgc2VjdXJpdHlMYWJlbD86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSBwdXJwb3NlIG9mIHVzZSB0YWcgaXMgb24gdGhlIGRhdGEsIGFjY2VzcyByZXF1ZXN0IHB1cnBvc2Ugb2YgdXNlIHNoYWxsIG5vdCBjb25mbGljdC5cclxuICAgKi9cclxuICBwdXJwb3NlPzogZmhpci5Db2RpbmdBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE11bHRpcGxlIHR5cGVzIGFyZSBvcidlZCB0b2dldGhlci4gVGhlIGludGVudGlvbiBvZiB0aGUgY29udGVudFR5cGUgZWxlbWVudCBpcyB0aGF0IHRoZSBjb2RlcyByZWZlciB0byBwcm9maWxlcyBvciBkb2N1bWVudCB0eXBlcyBkZWZpbmVkIGluIGEgc3RhbmRhcmQgb3IgYW4gaW1wbGVtZW50YXRpb24gZ3VpZGUgc29tZXdoZXJlLlxyXG4gICAqL1xyXG4gIGNsYXNzPzogZmhpci5Db2RpbmdBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWwgdXNlIG9mIHRoaXMgaXMgYSBEb2N1bWVudCBjb2RlIHdpdGggY2xhc3MgPSBDREEuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGhhcyBhIGRpZmZlcmVudCBzZW5zZSB0byB0aGUgQ29uc2VudC5wZXJpb2QgLSB0aGF0IGlzIHdoZW4gdGhlIGNvbnNlbnQgYWdyZWVtZW50IGhvbGRzLiBUaGlzIGlzIHRoZSB0aW1lIHBlcmlvZCBvZiB0aGUgZGF0YSB0aGF0IGlzIGNvbnRyb2xsZWQgYnkgdGhlIGFncmVlbWVudC5cclxuICAgKi9cclxuICBkYXRhUGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVzb3VyY2VzIGNvbnRyb2xsZWQgYnkgdGhpcyBydWxlIGlmIHNwZWNpZmljIHJlc291cmNlcyBhcmUgcmVmZXJlbmNlZC5cclxuICAgKi9cclxuICBkYXRhPzogZmhpci5Db25zZW50UHJvdmlzaW9uRGF0YUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUnVsZXMgd2hpY2ggcHJvdmlkZSBleGNlcHRpb25zIHRvIHRoZSBiYXNlIHJ1bGUgb3Igc3VicnVsZXMuXHJcbiAgICovXHJcbiAgcHJvdmlzaW9uPzogZmhpci5Db25zZW50UHJvdmlzaW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFuIGV4Y2VwdGlvbiB0byB0aGUgYmFzZSBwb2xpY3kgb2YgdGhpcyBjb25zZW50LiBBbiBleGNlcHRpb24gY2FuIGJlIGFuIGFkZGl0aW9uIG9yIHJlbW92YWwgb2YgYWNjZXNzIHBlcm1pc3Npb25zLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnNlbnRQcm92aXNpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25zZW50UHJvdmlzaW9uJztcclxuICAvKipcclxuICAgKiBBY3Rpb24gIHRvIHRha2UgLSBwZXJtaXQgb3IgZGVueSAtIHdoZW4gdGhlIHJ1bGUgY29uZGl0aW9ucyBhcmUgbWV0LiAgTm90IHBlcm1pdHRlZCBpbiByb290IHJ1bGUsIHJlcXVpcmVkIGluIGFsbCBuZXN0ZWQgcnVsZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlPENvbnNlbnRQcm92aXNpb25UeXBlQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZWZyYW1lIGluIHRoaXMgcnVsZSBpcyB2YWxpZC5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdobyBvciB3aGF0IGlzIGNvbnRyb2xsZWQgYnkgdGhpcyBydWxlLiBVc2UgZ3JvdXAgdG8gaWRlbnRpZnkgYSBzZXQgb2YgYWN0b3JzIGJ5IHNvbWUgcHJvcGVydHkgdGhleSBzaGFyZSAoZS5nLiAnYWRtaXR0aW5nIG9mZmljZXJzJykuXHJcbiAgICovXHJcbiAgcHVibGljIGFjdG9yOiBmaGlyLkNvbnNlbnRQcm92aXNpb25BY3RvcltdO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIGlzIHRoZSBkaXJlY3QgYWN0aW9uIChub3QgdGhlIGdyb3VuZHMgZm9yIHRoZSBhY3Rpb24gY292ZXJlZCBpbiB0aGUgcHVycG9zZSBlbGVtZW50KS4gQXQgcHJlc2VudCwgdGhlIG9ubHkgYWN0aW9uIGluIHRoZSB1bmRlcnN0b29kIGFuZCB0ZXN0ZWQgc2NvcGUgb2YgdGhpcyByZXNvdXJjZSBpcyAncmVhZCcuXHJcbiAgICovXHJcbiAgcHVibGljIGFjdGlvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBJZiB0aGUgY29uc2VudCBzcGVjaWZpZXMgYSBzZWN1cml0eSBsYWJlbCBvZiBcIlJcIiB0aGVuIGl0IGFwcGxpZXMgdG8gYWxsIHJlc291cmNlcyB0aGF0IGFyZSBsYWJlbGVkIFwiUlwiIG9yIGxvd2VyLiBFLmcuIGZvciBDb25maWRlbnRpYWxpdHksIGl0J3MgYSBoaWdoIHdhdGVyIG1hcmsuIEZvciBvdGhlciBraW5kcyBvZiBzZWN1cml0eSBsYWJlbHMsIHN1YnN1bXB0aW9uIGxvZ2ljIGFwcGxpZXMuIFdoZW4gdGhlIHB1cnBvc2Ugb2YgdXNlIHRhZyBpcyBvbiB0aGUgZGF0YSwgYWNjZXNzIHJlcXVlc3QgcHVycG9zZSBvZiB1c2Ugc2hhbGwgbm90IGNvbmZsaWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWN1cml0eUxhYmVsOiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHB1cnBvc2Ugb2YgdXNlIHRhZyBpcyBvbiB0aGUgZGF0YSwgYWNjZXNzIHJlcXVlc3QgcHVycG9zZSBvZiB1c2Ugc2hhbGwgbm90IGNvbmZsaWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdXJwb3NlOiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIE11bHRpcGxlIHR5cGVzIGFyZSBvcidlZCB0b2dldGhlci4gVGhlIGludGVudGlvbiBvZiB0aGUgY29udGVudFR5cGUgZWxlbWVudCBpcyB0aGF0IHRoZSBjb2RlcyByZWZlciB0byBwcm9maWxlcyBvciBkb2N1bWVudCB0eXBlcyBkZWZpbmVkIGluIGEgc3RhbmRhcmQgb3IgYW4gaW1wbGVtZW50YXRpb24gZ3VpZGUgc29tZXdoZXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFzczogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBUeXBpY2FsIHVzZSBvZiB0aGlzIGlzIGEgRG9jdW1lbnQgY29kZSB3aXRoIGNsYXNzID0gQ0RBLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaGFzIGEgZGlmZmVyZW50IHNlbnNlIHRvIHRoZSBDb25zZW50LnBlcmlvZCAtIHRoYXQgaXMgd2hlbiB0aGUgY29uc2VudCBhZ3JlZW1lbnQgaG9sZHMuIFRoaXMgaXMgdGhlIHRpbWUgcGVyaW9kIG9mIHRoZSBkYXRhIHRoYXQgaXMgY29udHJvbGxlZCBieSB0aGUgYWdyZWVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRhUGVyaW9kPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXNvdXJjZXMgY29udHJvbGxlZCBieSB0aGlzIHJ1bGUgaWYgc3BlY2lmaWMgcmVzb3VyY2VzIGFyZSByZWZlcmVuY2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRhOiBmaGlyLkNvbnNlbnRQcm92aXNpb25EYXRhW107XHJcbiAgLyoqXHJcbiAgICogUnVsZXMgd2hpY2ggcHJvdmlkZSBleGNlcHRpb25zIHRvIHRoZSBiYXNlIHJ1bGUgb3Igc3VicnVsZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHByb3Zpc2lvbjogZmhpci5Db25zZW50UHJvdmlzaW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uc2VudFByb3Zpc2lvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbnNlbnRQcm92aXNpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8Q29uc2VudFByb3Zpc2lvblR5cGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudHlwZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8Q29uc2VudFByb3Zpc2lvblR5cGVDb2RlVHlwZT4oc291cmNlLl90eXBlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UucGVyaW9kLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWN0b3InXSkgeyB0aGlzLmFjdG9yID0gc291cmNlLmFjdG9yLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29uc2VudFByb3Zpc2lvbkFjdG9yKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWN0b3IgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWN0aW9uJ10pIHsgdGhpcy5hY3Rpb24gPSBzb3VyY2UuYWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWN0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlY3VyaXR5TGFiZWwnXSkgeyB0aGlzLnNlY3VyaXR5TGFiZWwgPSBzb3VyY2Uuc2VjdXJpdHlMYWJlbC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlY3VyaXR5TGFiZWwgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVycG9zZSddKSB7IHRoaXMucHVycG9zZSA9IHNvdXJjZS5wdXJwb3NlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHVycG9zZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjbGFzcyddKSB7IHRoaXMuY2xhc3MgPSBzb3VyY2UuY2xhc3MubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RpbmcoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jbGFzcyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gc291cmNlLmNvZGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGFQZXJpb2QnXSkgeyB0aGlzLmRhdGFQZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLmRhdGFQZXJpb2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRhJ10pIHsgdGhpcy5kYXRhID0gc291cmNlLmRhdGEubWFwKCh4KSA9PiBuZXcgZmhpci5Db25zZW50UHJvdmlzaW9uRGF0YSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRhdGEgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvdmlzaW9uJ10pIHsgdGhpcy5wcm92aXNpb24gPSBzb3VyY2UucHJvdmlzaW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29uc2VudFByb3Zpc2lvbih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb3Zpc2lvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uc2VudC5wcm92aXNpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVigndHlwZScsZXhwLCdDb25zZW50UHJvdmlzaW9uVHlwZScsQ29uc2VudFByb3Zpc2lvblR5cGVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncGVyaW9kJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdhY3RvcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYWN0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzZWN1cml0eUxhYmVsJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwdXJwb3NlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjbGFzcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY29kZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGF0YVBlcmlvZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZGF0YScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHJvdmlzaW9uJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25zZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbnNlbnRBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJDb25zZW50XCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaWRlbnRpZmllciBpZGVudGlmaWVzIHRoaXMgY29weSBvZiB0aGUgY29uc2VudC4gV2hlcmUgdGhpcyBpZGVudGlmaWVyIGlzIGFsc28gdXNlZCBlbHNld2hlcmUgYXMgdGhlIGlkZW50aWZpZXIgZm9yIGEgY29uc2VudCByZWNvcmQgKGUuZy4gYSBDREEgY29uc2VudCBkb2N1bWVudCkgdGhlbiB0aGUgY29uc2VudCBkZXRhaWxzIGFyZSBleHBlY3RlZCB0byBiZSB0aGUgc2FtZS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyB0aGUgY29kZXMgcmVqZWN0ZWQgYW5kIGVudGVyZWQtaW4tZXJyb3IgdGhhdCBtYXJrIHRoZSBDb25zZW50IGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPENvbnNlbnRTdGF0ZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25zZW50LnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgc2VsZWN0b3Igb2YgdGhlIHR5cGUgb2YgY29uc2VudCBiZWluZyBwcmVzZW50ZWQ6IEFEUiwgUHJpdmFjeSwgVHJlYXRtZW50LCBSZXNlYXJjaC4gIFRoaXMgbGlzdCBpcyBub3cgZXh0ZW5zaWJsZS5cclxuICAgKi9cclxuICBzY29wZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgdHlwZSBvZiBjb25zZW50cyBmb3VuZCBpbiB0aGUgc3RhdGVtZW50LiBUaGlzIGVsZW1lbnQgc3VwcG9ydHMgaW5kZXhpbmcgYW5kIHJldHJpZXZhbCBvZiBjb25zZW50IHN0YXRlbWVudHMuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQ29tbW9ubHksIHRoZSBwYXRpZW50IHRoZSBjb25zZW50IHBlcnRhaW5zIHRvIGlzIHRoZSBhdXRob3IsIGJ1dCBmb3IgeW91bmcgYW5kIG9sZCBwZW9wbGUsIGl0IG1heSBiZSBzb21lIG90aGVyIHBlcnNvbi5cclxuICAgKi9cclxuICBwYXRpZW50PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIG5vdCB0aGUgdGltZSBvZiB0aGUgb3JpZ2luYWwgY29uc2VudCwgYnV0IHRoZSB0aW1lIHRoYXQgdGhpcyBzdGF0ZW1lbnQgd2FzIG1hZGUgb3IgZGVyaXZlZC5cclxuICAgKi9cclxuICBkYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbnNlbnQuZGF0ZVRpbWVcclxuICAgKi9cclxuICBfZGF0ZVRpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvbW1vbmx5LCB0aGUgcGF0aWVudCB0aGUgY29uc2VudCBwZXJ0YWlucyB0byBpcyB0aGUgY29uc2VudG9yLCBidXQgcGFydGljdWxhcmx5IGZvciB5b3VuZyBhbmQgb2xkIHBlb3BsZSwgaXQgbWF5IGJlIHNvbWUgb3RoZXIgcGVyc29uIC0gZS5nLiBhIGxlZ2FsIGd1YXJkaWFuLlxyXG4gICAqL1xyXG4gIHBlcmZvcm1lcj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JnYW5pemF0aW9uIHRoYXQgbWFuYWdlcyB0aGUgY29uc2VudCwgYW5kIHRoZSBmcmFtZXdvcmsgd2l0aGluIHdoaWNoIGl0IGlzIGV4ZWN1dGVkLlxyXG4gICAqL1xyXG4gIG9yZ2FuaXphdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIGNhbiBiZSBjb250YWluZWQgaW5saW5lIChBdHRhY2htZW50KSwgcmVmZXJlbmNlZCBkaXJlY3RseSAoQ29uc2VudCksIHJlZmVyZW5jZWQgaW4gYSBjb25zZW50IHJlcG9zaXRvcnkgKERvY3VtZW50UmVmZXJlbmNlKSwgb3Igc2ltcGx5IGJ5IGFuIGlkZW50aWZpZXIgKElkZW50aWZpZXIpLCBlLmcuIGEgQ0RBIGRvY3VtZW50IGlkLlxyXG4gICAqL1xyXG4gIHNvdXJjZT86IGZoaXIuQXR0YWNobWVudHxmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNvdXJjZSBjYW4gYmUgY29udGFpbmVkIGlubGluZSAoQXR0YWNobWVudCksIHJlZmVyZW5jZWQgZGlyZWN0bHkgKENvbnNlbnQpLCByZWZlcmVuY2VkIGluIGEgY29uc2VudCByZXBvc2l0b3J5IChEb2N1bWVudFJlZmVyZW5jZSksIG9yIHNpbXBseSBieSBhbiBpZGVudGlmaWVyIChJZGVudGlmaWVyKSwgZS5nLiBhIENEQSBkb2N1bWVudCBpZC5cclxuICAgKi9cclxuICBzb3VyY2VBdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNvdXJjZSBjYW4gYmUgY29udGFpbmVkIGlubGluZSAoQXR0YWNobWVudCksIHJlZmVyZW5jZWQgZGlyZWN0bHkgKENvbnNlbnQpLCByZWZlcmVuY2VkIGluIGEgY29uc2VudCByZXBvc2l0b3J5IChEb2N1bWVudFJlZmVyZW5jZSksIG9yIHNpbXBseSBieSBhbiBpZGVudGlmaWVyIChJZGVudGlmaWVyKSwgZS5nLiBhIENEQSBkb2N1bWVudCBpZC5cclxuICAgKi9cclxuICBzb3VyY2VSZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWZlcmVuY2VzIHRvIHRoZSBwb2xpY2llcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGlzIGNvbnNlbnQgc2NvcGUuIFBvbGljaWVzIG1heSBiZSBvcmdhbml6YXRpb25hbCwgYnV0IGFyZSBvZnRlbiBkZWZpbmVkIGp1cmlzZGljdGlvbmFsbHksIG9yIGluIGxhdy5cclxuICAgKi9cclxuICBwb2xpY3k/OiBmaGlyLkNvbnNlbnRQb2xpY3lBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBwb2xpY3lSdWxlIGlzIGFic2VudCwgY29tcHV0YWJsZSBjb25zZW50IHdvdWxkIG5lZWQgdG8gYmUgY29uc3RydWN0ZWQgZnJvbSB0aGUgZWxlbWVudHMgb2YgdGhlIENvbnNlbnQgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcG9saWN5UnVsZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciBhIHRyZWF0bWVudCBpbnN0cnVjdGlvbiAoZS5nLiBhcnRpZmljaWFsIHJlc3BpcmF0aW9uIHllcyBvciBubykgd2FzIHZlcmlmaWVkIHdpdGggdGhlIHBhdGllbnQsIGhpcy9oZXIgZmFtaWx5IG9yIGFub3RoZXIgYXV0aG9yaXplZCBwZXJzb24uXHJcbiAgICovXHJcbiAgdmVyaWZpY2F0aW9uPzogZmhpci5Db25zZW50VmVyaWZpY2F0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBleGNlcHRpb24gdG8gdGhlIGJhc2UgcG9saWN5IG9mIHRoaXMgY29uc2VudC4gQW4gZXhjZXB0aW9uIGNhbiBiZSBhbiBhZGRpdGlvbiBvciByZW1vdmFsIG9mIGFjY2VzcyBwZXJtaXNzaW9ucy5cclxuICAgKi9cclxuICBwcm92aXNpb24/OiBmaGlyLkNvbnNlbnRQcm92aXNpb25BcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVjb3JkIG9mIGEgaGVhbHRoY2FyZSBjb25zdW1lcuKAmXMgIGNob2ljZXMsIHdoaWNoIHBlcm1pdHMgb3IgZGVuaWVzIGlkZW50aWZpZWQgcmVjaXBpZW50KHMpIG9yIHJlY2lwaWVudCByb2xlKHMpIHRvIHBlcmZvcm0gb25lIG9yIG1vcmUgYWN0aW9ucyB3aXRoaW4gYSBnaXZlbiBwb2xpY3kgY29udGV4dCwgZm9yIHNwZWNpZmljIHB1cnBvc2VzIGFuZCBwZXJpb2RzIG9mIHRpbWUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uc2VudCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29uc2VudCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJDb25zZW50XCI7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpZGVudGlmaWVyIGlkZW50aWZpZXMgdGhpcyBjb3B5IG9mIHRoZSBjb25zZW50LiBXaGVyZSB0aGlzIGlkZW50aWZpZXIgaXMgYWxzbyB1c2VkIGVsc2V3aGVyZSBhcyB0aGUgaWRlbnRpZmllciBmb3IgYSBjb25zZW50IHJlY29yZCAoZS5nLiBhIENEQSBjb25zZW50IGRvY3VtZW50KSB0aGVuIHRoZSBjb25zZW50IGRldGFpbHMgYXJlIGV4cGVjdGVkIHRvIGJlIHRoZSBzYW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyB0aGUgY29kZXMgcmVqZWN0ZWQgYW5kIGVudGVyZWQtaW4tZXJyb3IgdGhhdCBtYXJrIHRoZSBDb25zZW50IGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxDb25zZW50U3RhdGVDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBBIHNlbGVjdG9yIG9mIHRoZSB0eXBlIG9mIGNvbnNlbnQgYmVpbmcgcHJlc2VudGVkOiBBRFIsIFByaXZhY3ksIFRyZWF0bWVudCwgUmVzZWFyY2guICBUaGlzIGxpc3QgaXMgbm93IGV4dGVuc2libGUuXHJcbiAgICovXHJcbiAgcHVibGljIHNjb3BlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgY2xhc3NpZmljYXRpb24gb2YgdGhlIHR5cGUgb2YgY29uc2VudHMgZm91bmQgaW4gdGhlIHN0YXRlbWVudC4gVGhpcyBlbGVtZW50IHN1cHBvcnRzIGluZGV4aW5nIGFuZCByZXRyaWV2YWwgb2YgY29uc2VudCBzdGF0ZW1lbnRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBDb21tb25seSwgdGhlIHBhdGllbnQgdGhlIGNvbnNlbnQgcGVydGFpbnMgdG8gaXMgdGhlIGF1dGhvciwgYnV0IGZvciB5b3VuZyBhbmQgb2xkIHBlb3BsZSwgaXQgbWF5IGJlIHNvbWUgb3RoZXIgcGVyc29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgbm90IHRoZSB0aW1lIG9mIHRoZSBvcmlnaW5hbCBjb25zZW50LCBidXQgdGhlIHRpbWUgdGhhdCB0aGlzIHN0YXRlbWVudCB3YXMgbWFkZSBvciBkZXJpdmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb21tb25seSwgdGhlIHBhdGllbnQgdGhlIGNvbnNlbnQgcGVydGFpbnMgdG8gaXMgdGhlIGNvbnNlbnRvciwgYnV0IHBhcnRpY3VsYXJseSBmb3IgeW91bmcgYW5kIG9sZCBwZW9wbGUsIGl0IG1heSBiZSBzb21lIG90aGVyIHBlcnNvbiAtIGUuZy4gYSBsZWdhbCBndWFyZGlhbi5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyZm9ybWVyOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbml6YXRpb24gdGhhdCBtYW5hZ2VzIHRoZSBjb25zZW50LCBhbmQgdGhlIGZyYW1ld29yayB3aXRoaW4gd2hpY2ggaXQgaXMgZXhlY3V0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZ2FuaXphdGlvbjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIGNhbiBiZSBjb250YWluZWQgaW5saW5lIChBdHRhY2htZW50KSwgcmVmZXJlbmNlZCBkaXJlY3RseSAoQ29uc2VudCksIHJlZmVyZW5jZWQgaW4gYSBjb25zZW50IHJlcG9zaXRvcnkgKERvY3VtZW50UmVmZXJlbmNlKSwgb3Igc2ltcGx5IGJ5IGFuIGlkZW50aWZpZXIgKElkZW50aWZpZXIpLCBlLmcuIGEgQ0RBIGRvY3VtZW50IGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2U/OiAoZmhpci5BdHRhY2htZW50fGZoaXIuUmVmZXJlbmNlKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDb25zZW50LnNvdXJjZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19zb3VyY2VJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgcmVmZXJlbmNlcyB0byB0aGUgcG9saWNpZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gdGhpcyBjb25zZW50IHNjb3BlLiBQb2xpY2llcyBtYXkgYmUgb3JnYW5pemF0aW9uYWwsIGJ1dCBhcmUgb2Z0ZW4gZGVmaW5lZCBqdXJpc2RpY3Rpb25hbGx5LCBvciBpbiBsYXcuXHJcbiAgICovXHJcbiAgcHVibGljIHBvbGljeTogZmhpci5Db25zZW50UG9saWN5W107XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHBvbGljeVJ1bGUgaXMgYWJzZW50LCBjb21wdXRhYmxlIGNvbnNlbnQgd291bGQgbmVlZCB0byBiZSBjb25zdHJ1Y3RlZCBmcm9tIHRoZSBlbGVtZW50cyBvZiB0aGUgQ29uc2VudCByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgcG9saWN5UnVsZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIGEgdHJlYXRtZW50IGluc3RydWN0aW9uIChlLmcuIGFydGlmaWNpYWwgcmVzcGlyYXRpb24geWVzIG9yIG5vKSB3YXMgdmVyaWZpZWQgd2l0aCB0aGUgcGF0aWVudCwgaGlzL2hlciBmYW1pbHkgb3IgYW5vdGhlciBhdXRob3JpemVkIHBlcnNvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyaWZpY2F0aW9uOiBmaGlyLkNvbnNlbnRWZXJpZmljYXRpb25bXTtcclxuICAvKipcclxuICAgKiBBbiBleGNlcHRpb24gdG8gdGhlIGJhc2UgcG9saWN5IG9mIHRoaXMgY29uc2VudC4gQW4gZXhjZXB0aW9uIGNhbiBiZSBhbiBhZGRpdGlvbiBvciByZW1vdmFsIG9mIGFjY2VzcyBwZXJtaXNzaW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvdmlzaW9uPzogZmhpci5Db25zZW50UHJvdmlzaW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25zZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uc2VudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdDb25zZW50JztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25zZW50U3RhdGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Q29uc2VudFN0YXRlQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzY29wZSddKSB7IHRoaXMuc2NvcGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNjb3BlLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2NvcGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXRlZ29yeSddKSB7IHRoaXMuY2F0ZWdvcnkgPSBzb3VyY2UuY2F0ZWdvcnkubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jYXRlZ29yeSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50J10pIHsgdGhpcy5wYXRpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXRpZW50LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZVRpbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZVRpbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGVUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZVRpbWUpIHsgdGhpcy5kYXRlVGltZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGVUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZGF0ZVRpbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyZm9ybWVyJ10pIHsgdGhpcy5wZXJmb3JtZXIgPSBzb3VyY2UucGVyZm9ybWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGVyZm9ybWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXphdGlvbiddKSB7IHRoaXMub3JnYW5pemF0aW9uID0gc291cmNlLm9yZ2FuaXphdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm9yZ2FuaXphdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2UnXSkgeyB0aGlzLnNvdXJjZSA9IHNvdXJjZS5zb3VyY2U7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnc291cmNlQXR0YWNobWVudCddKSB7IHRoaXMuc291cmNlID0gbmV3IGZoaXIuQXR0YWNobWVudChzb3VyY2Uuc291cmNlQXR0YWNobWVudCwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnc291cmNlUmVmZXJlbmNlJ10pIHsgdGhpcy5zb3VyY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnNvdXJjZVJlZmVyZW5jZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BvbGljeSddKSB7IHRoaXMucG9saWN5ID0gc291cmNlLnBvbGljeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnNlbnRQb2xpY3koeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wb2xpY3kgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncG9saWN5UnVsZSddKSB7IHRoaXMucG9saWN5UnVsZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucG9saWN5UnVsZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcmlmaWNhdGlvbiddKSB7IHRoaXMudmVyaWZpY2F0aW9uID0gc291cmNlLnZlcmlmaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnNlbnRWZXJpZmljYXRpb24oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52ZXJpZmljYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvdmlzaW9uJ10pIHsgdGhpcy5wcm92aXNpb24gPSBuZXcgZmhpci5Db25zZW50UHJvdmlzaW9uKHNvdXJjZS5wcm92aXNpb24sIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uc2VudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnQ29uc2VudFN0YXRlJyxDb25zZW50U3RhdGVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnc2NvcGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UkEoJ2NhdGVnb3J5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwYXRpZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkYXRlVGltZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncGVyZm9ybWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdvcmdhbml6YXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NvdXJjZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncG9saWN5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwb2xpY3lSdWxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd2ZXJpZmljYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Byb3Zpc2lvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=