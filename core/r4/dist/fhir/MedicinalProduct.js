// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: MedicinalProduct
import * as fhir from '../fhir.js';
/**
 * Coding words or phrases of the name.
 */
export class MedicinalProductNameNamePart extends fhir.BackboneElement {
    /**
     * Default constructor for MedicinalProductNameNamePart - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['part']) {
            this.part = new fhir.FhirString({ value: source.part });
        }
        else {
            this.part = null;
        }
        if (source['_part']) {
            if (this.part) {
                this.part.addExtendedProperties(source._part);
            }
            else {
                this.part = new fhir.FhirString(source._part);
            }
        }
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        else {
            this.type = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicinalProduct.name.namePart';
        }
        this.vRS('part', exp);
        this.vRS('type', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicinalProductNameNamePart._fts_dataType = 'MedicinalProductNameNamePart';
/**
 * Country where the name applies.
 */
export class MedicinalProductNameCountryLanguage extends fhir.BackboneElement {
    /**
     * Default constructor for MedicinalProductNameCountryLanguage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['country']) {
            this.country = new fhir.CodeableConcept(source.country);
        }
        else {
            this.country = null;
        }
        if (source['jurisdiction']) {
            this.jurisdiction = new fhir.CodeableConcept(source.jurisdiction);
        }
        if (source['language']) {
            this.language = new fhir.CodeableConcept(source.language);
        }
        else {
            this.language = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicinalProduct.name.countryLanguage';
        }
        this.vRS('country', exp);
        this.vOS('jurisdiction', exp);
        this.vRS('language', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicinalProductNameCountryLanguage._fts_dataType = 'MedicinalProductNameCountryLanguage';
/**
 * The product's name, including full name and possibly coded parts.
 */
export class MedicinalProductName extends fhir.BackboneElement {
    /**
     * Default constructor for MedicinalProductName - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['productName']) {
            this.productName = new fhir.FhirString({ value: source.productName });
        }
        else {
            this.productName = null;
        }
        if (source['_productName']) {
            if (this.productName) {
                this.productName.addExtendedProperties(source._productName);
            }
            else {
                this.productName = new fhir.FhirString(source._productName);
            }
        }
        if (source['namePart']) {
            this.namePart = source.namePart.map((x) => new fhir.MedicinalProductNameNamePart(x));
        }
        else {
            this.namePart = [];
        }
        if (source['countryLanguage']) {
            this.countryLanguage = source.countryLanguage.map((x) => new fhir.MedicinalProductNameCountryLanguage(x));
        }
        else {
            this.countryLanguage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicinalProduct.name';
        }
        this.vRS('productName', exp);
        this.vOA('namePart', exp);
        this.vOA('countryLanguage', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicinalProductName._fts_dataType = 'MedicinalProductName';
/**
 * An operation applied to the product, for manufacturing or adminsitrative purpose.
 */
export class MedicinalProductManufacturingBusinessOperation extends fhir.BackboneElement {
    /**
     * Default constructor for MedicinalProductManufacturingBusinessOperation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['operationType']) {
            this.operationType = new fhir.CodeableConcept(source.operationType);
        }
        if (source['authorisationReferenceNumber']) {
            this.authorisationReferenceNumber = new fhir.Identifier(source.authorisationReferenceNumber);
        }
        if (source['effectiveDate']) {
            this.effectiveDate = new fhir.FhirDateTime({ value: source.effectiveDate });
        }
        if (source['_effectiveDate']) {
            if (this.effectiveDate) {
                this.effectiveDate.addExtendedProperties(source._effectiveDate);
            }
            else {
                this.effectiveDate = new fhir.FhirDateTime(source._effectiveDate);
            }
        }
        if (source['confidentialityIndicator']) {
            this.confidentialityIndicator = new fhir.CodeableConcept(source.confidentialityIndicator);
        }
        if (source['manufacturer']) {
            this.manufacturer = source.manufacturer.map((x) => new fhir.Reference(x));
        }
        else {
            this.manufacturer = [];
        }
        if (source['regulator']) {
            this.regulator = new fhir.Reference(source.regulator);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicinalProduct.manufacturingBusinessOperation';
        }
        this.vOS('operationType', exp);
        this.vOS('authorisationReferenceNumber', exp);
        this.vOS('effectiveDate', exp);
        this.vOS('confidentialityIndicator', exp);
        this.vOA('manufacturer', exp);
        this.vOS('regulator', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicinalProductManufacturingBusinessOperation._fts_dataType = 'MedicinalProductManufacturingBusinessOperation';
/**
 * Indicates if the medicinal product has an orphan designation for the treatment of a rare disease.
 */
export class MedicinalProductSpecialDesignation extends fhir.BackboneElement {
    /**
     * Default constructor for MedicinalProductSpecialDesignation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['intendedUse']) {
            this.intendedUse = new fhir.CodeableConcept(source.intendedUse);
        }
        if (source['indication']) {
            this.indication = source.indication;
        }
        else if (source['indicationCodeableConcept']) {
            this.indication = new fhir.CodeableConcept(source.indicationCodeableConcept);
        }
        else if (source['indicationReference']) {
            this.indication = new fhir.Reference(source.indicationReference);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['species']) {
            this.species = new fhir.CodeableConcept(source.species);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicinalProduct.specialDesignation';
        }
        this.vOA('identifier', exp);
        this.vOS('type', exp);
        this.vOS('intendedUse', exp);
        this.vOS('indication', exp);
        this.vOS('status', exp);
        this.vOS('date', exp);
        this.vOS('species', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicinalProductSpecialDesignation._fts_dataType = 'MedicinalProductSpecialDesignation';
/**
 * Internal flag to properly serialize choice-type element MedicinalProduct.specialDesignation.indication[x]
 */
MedicinalProductSpecialDesignation._fts_indicationIsChoice = true;
/**
 * Detailed definition of a medicinal product, typically for uses other than direct patient care (e.g. regulatory use).
 */
export class MedicinalProduct extends fhir.DomainResource {
    /**
     * Default constructor for MedicinalProduct - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MedicinalProduct';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['domain']) {
            this.domain = new fhir.Coding(source.domain);
        }
        if (source['combinedPharmaceuticalDoseForm']) {
            this.combinedPharmaceuticalDoseForm = new fhir.CodeableConcept(source.combinedPharmaceuticalDoseForm);
        }
        if (source['legalStatusOfSupply']) {
            this.legalStatusOfSupply = new fhir.CodeableConcept(source.legalStatusOfSupply);
        }
        if (source['additionalMonitoringIndicator']) {
            this.additionalMonitoringIndicator = new fhir.CodeableConcept(source.additionalMonitoringIndicator);
        }
        if (source['specialMeasures']) {
            this.specialMeasures = source.specialMeasures.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.specialMeasures = [];
        }
        if (source['_specialMeasures']) {
            source._specialMeasures.forEach((x, i) => {
                if (this.specialMeasures.length >= i) {
                    if (x) {
                        this.specialMeasures[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.specialMeasures.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['paediatricUseIndicator']) {
            this.paediatricUseIndicator = new fhir.CodeableConcept(source.paediatricUseIndicator);
        }
        if (source['productClassification']) {
            this.productClassification = source.productClassification.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.productClassification = [];
        }
        if (source['marketingStatus']) {
            this.marketingStatus = source.marketingStatus.map((x) => new fhir.MarketingStatus(x));
        }
        else {
            this.marketingStatus = [];
        }
        if (source['pharmaceuticalProduct']) {
            this.pharmaceuticalProduct = source.pharmaceuticalProduct.map((x) => new fhir.Reference(x));
        }
        else {
            this.pharmaceuticalProduct = [];
        }
        if (source['packagedMedicinalProduct']) {
            this.packagedMedicinalProduct = source.packagedMedicinalProduct.map((x) => new fhir.Reference(x));
        }
        else {
            this.packagedMedicinalProduct = [];
        }
        if (source['attachedDocument']) {
            this.attachedDocument = source.attachedDocument.map((x) => new fhir.Reference(x));
        }
        else {
            this.attachedDocument = [];
        }
        if (source['masterFile']) {
            this.masterFile = source.masterFile.map((x) => new fhir.Reference(x));
        }
        else {
            this.masterFile = [];
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.Reference(x));
        }
        else {
            this.contact = [];
        }
        if (source['clinicalTrial']) {
            this.clinicalTrial = source.clinicalTrial.map((x) => new fhir.Reference(x));
        }
        else {
            this.clinicalTrial = [];
        }
        if (source['name']) {
            this.name = source.name.map((x) => new fhir.MedicinalProductName(x));
        }
        else {
            this.name = [];
        }
        if (source['crossReference']) {
            this.crossReference = source.crossReference.map((x) => new fhir.Identifier(x));
        }
        else {
            this.crossReference = [];
        }
        if (source['manufacturingBusinessOperation']) {
            this.manufacturingBusinessOperation = source.manufacturingBusinessOperation.map((x) => new fhir.MedicinalProductManufacturingBusinessOperation(x));
        }
        else {
            this.manufacturingBusinessOperation = [];
        }
        if (source['specialDesignation']) {
            this.specialDesignation = source.specialDesignation.map((x) => new fhir.MedicinalProductSpecialDesignation(x));
        }
        else {
            this.specialDesignation = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicinalProduct';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOS('type', exp);
        this.vOS('domain', exp);
        this.vOS('combinedPharmaceuticalDoseForm', exp);
        this.vOS('legalStatusOfSupply', exp);
        this.vOS('additionalMonitoringIndicator', exp);
        this.vOA('specialMeasures', exp);
        this.vOS('paediatricUseIndicator', exp);
        this.vOA('productClassification', exp);
        this.vOA('marketingStatus', exp);
        this.vOA('pharmaceuticalProduct', exp);
        this.vOA('packagedMedicinalProduct', exp);
        this.vOA('attachedDocument', exp);
        this.vOA('masterFile', exp);
        this.vOA('contact', exp);
        this.vOA('clinicalTrial', exp);
        this.vRA('name', exp);
        this.vOA('crossReference', exp);
        this.vOA('manufacturingBusinessOperation', exp);
        this.vOA('specialDesignation', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicinalProduct._fts_dataType = 'MedicinalProduct';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWNpbmFsUHJvZHVjdC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvTWVkaWNpbmFsUHJvZHVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFFbEMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFvQm5DOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRCQUE2QixTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXBFOztPQUVHO0lBQ0gsWUFBWSxTQUFtRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN6RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUN6RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQUU7aUJBQzdEO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFxQyxDQUFDLENBQUM7YUFBRTtTQUN4RjtRQUNELElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDNUQ7WUFBRSxJQUFJ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RyxDQUFDLENBQUE7UUFDckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixJQUFJLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3JDLElBQUksQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzlCLElBQUksQ0FBQyxHQUFHLENBQUMsZ0NBQWdDLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDOUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNsQyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQW5LRDs7R0FFRztBQUM2Qiw4QkFBYSxHQUFVLGtCQUFrQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBNZWRpY2luYWxQcm9kdWN0XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljaW5hbFByb2R1Y3ROYW1lTmFtZVBhcnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNpbmFsUHJvZHVjdE5hbWVOYW1lUGFydEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgZnJhZ21lbnQgb2YgYSBwcm9kdWN0IG5hbWUuXHJcbiAgICovXHJcbiAgcGFydDogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1lZGljaW5hbFByb2R1Y3QubmFtZS5uYW1lUGFydC5wYXJ0XHJcbiAgICovXHJcbiAgX3BhcnQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIElkZW5pZnlpbmcgdHlwZSBmb3IgdGhpcyBwYXJ0IG9mIHRoZSBuYW1lIChlLmcuIHN0cmVuZ3RoIHBhcnQpLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kaW5nQXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQ29kaW5nIHdvcmRzIG9yIHBocmFzZXMgb2YgdGhlIG5hbWUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNpbmFsUHJvZHVjdE5hbWVOYW1lUGFydCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljaW5hbFByb2R1Y3ROYW1lTmFtZVBhcnQnO1xyXG4gIC8qKlxyXG4gICAqIEEgZnJhZ21lbnQgb2YgYSBwcm9kdWN0IG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIHBhcnQ6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIElkZW5pZnlpbmcgdHlwZSBmb3IgdGhpcyBwYXJ0IG9mIHRoZSBuYW1lIChlLmcuIHN0cmVuZ3RoIHBhcnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljaW5hbFByb2R1Y3ROYW1lTmFtZVBhcnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2luYWxQcm9kdWN0TmFtZU5hbWVQYXJ0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3BhcnQnXSkgeyB0aGlzLnBhcnQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnBhcnR9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFydCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wYXJ0J10pIHtcclxuICAgICAgaWYgKHRoaXMucGFydCkgeyB0aGlzLnBhcnQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcGFydCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBhcnQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcGFydCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNpbmFsUHJvZHVjdC5uYW1lLm5hbWVQYXJ0JyB9XHJcbiAgICB0aGlzLnZSUygncGFydCcsZXhwKVxyXG4gICAgdGhpcy52UlMoJ3R5cGUnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2luYWxQcm9kdWN0TmFtZUNvdW50cnlMYW5ndWFnZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2luYWxQcm9kdWN0TmFtZUNvdW50cnlMYW5ndWFnZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENvdW50cnkgY29kZSBmb3Igd2hlcmUgdGhpcyBuYW1lIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgY291bnRyeTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSnVyaXNkaWN0aW9uIGNvZGUgZm9yIHdoZXJlIHRoaXMgbmFtZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIGp1cmlzZGljdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTGFuZ3VhZ2UgY29kZSBmb3IgdGhpcyBuYW1lLlxyXG4gICAqL1xyXG4gIGxhbmd1YWdlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvdW50cnkgd2hlcmUgdGhlIG5hbWUgYXBwbGllcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2luYWxQcm9kdWN0TmFtZUNvdW50cnlMYW5ndWFnZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljaW5hbFByb2R1Y3ROYW1lQ291bnRyeUxhbmd1YWdlJztcclxuICAvKipcclxuICAgKiBDb3VudHJ5IGNvZGUgZm9yIHdoZXJlIHRoaXMgbmFtZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3VudHJ5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEp1cmlzZGljdGlvbiBjb2RlIGZvciB3aGVyZSB0aGlzIG5hbWUgYXBwbGllcy5cclxuICAgKi9cclxuICBwdWJsaWMganVyaXNkaWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExhbmd1YWdlIGNvZGUgZm9yIHRoaXMgbmFtZS5cclxuICAgKi9cclxuICBwdWJsaWMgbGFuZ3VhZ2U6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNpbmFsUHJvZHVjdE5hbWVDb3VudHJ5TGFuZ3VhZ2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2luYWxQcm9kdWN0TmFtZUNvdW50cnlMYW5ndWFnZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb3VudHJ5J10pIHsgdGhpcy5jb3VudHJ5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb3VudHJ5KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY291bnRyeSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2p1cmlzZGljdGlvbiddKSB7IHRoaXMuanVyaXNkaWN0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5qdXJpc2RpY3Rpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydsYW5ndWFnZSddKSB7IHRoaXMubGFuZ3VhZ2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmxhbmd1YWdlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubGFuZ3VhZ2UgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNpbmFsUHJvZHVjdC5uYW1lLmNvdW50cnlMYW5ndWFnZScgfVxyXG4gICAgdGhpcy52UlMoJ2NvdW50cnknLGV4cClcclxuICAgIHRoaXMudk9TKCdqdXJpc2RpY3Rpb24nLGV4cClcclxuICAgIHRoaXMudlJTKCdsYW5ndWFnZScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljaW5hbFByb2R1Y3ROYW1lIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljaW5hbFByb2R1Y3ROYW1lQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZ1bGwgcHJvZHVjdCBuYW1lLlxyXG4gICAqL1xyXG4gIHByb2R1Y3ROYW1lOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNpbmFsUHJvZHVjdC5uYW1lLnByb2R1Y3ROYW1lXHJcbiAgICovXHJcbiAgX3Byb2R1Y3ROYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBDb2Rpbmcgd29yZHMgb3IgcGhyYXNlcyBvZiB0aGUgbmFtZS5cclxuICAgKi9cclxuICBuYW1lUGFydD86IGZoaXIuTWVkaWNpbmFsUHJvZHVjdE5hbWVOYW1lUGFydEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ291bnRyeSB3aGVyZSB0aGUgbmFtZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIGNvdW50cnlMYW5ndWFnZT86IGZoaXIuTWVkaWNpbmFsUHJvZHVjdE5hbWVDb3VudHJ5TGFuZ3VhZ2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHByb2R1Y3QncyBuYW1lLCBpbmNsdWRpbmcgZnVsbCBuYW1lIGFuZCBwb3NzaWJseSBjb2RlZCBwYXJ0cy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2luYWxQcm9kdWN0TmFtZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljaW5hbFByb2R1Y3ROYW1lJztcclxuICAvKipcclxuICAgKiBUaGUgZnVsbCBwcm9kdWN0IG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3ROYW1lOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBDb2Rpbmcgd29yZHMgb3IgcGhyYXNlcyBvZiB0aGUgbmFtZS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZVBhcnQ6IGZoaXIuTWVkaWNpbmFsUHJvZHVjdE5hbWVOYW1lUGFydFtdO1xyXG4gIC8qKlxyXG4gICAqIENvdW50cnkgd2hlcmUgdGhlIG5hbWUgYXBwbGllcy5cclxuICAgKi9cclxuICBwdWJsaWMgY291bnRyeUxhbmd1YWdlOiBmaGlyLk1lZGljaW5hbFByb2R1Y3ROYW1lQ291bnRyeUxhbmd1YWdlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNpbmFsUHJvZHVjdE5hbWUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2luYWxQcm9kdWN0TmFtZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydwcm9kdWN0TmFtZSddKSB7IHRoaXMucHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnByb2R1Y3ROYW1lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2R1Y3ROYW1lID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3Byb2R1Y3ROYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMucHJvZHVjdE5hbWUpIHsgdGhpcy5wcm9kdWN0TmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcm9kdWN0TmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3Byb2R1Y3ROYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lUGFydCddKSB7IHRoaXMubmFtZVBhcnQgPSBzb3VyY2UubmFtZVBhcnQubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2luYWxQcm9kdWN0TmFtZU5hbWVQYXJ0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubmFtZVBhcnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY291bnRyeUxhbmd1YWdlJ10pIHsgdGhpcy5jb3VudHJ5TGFuZ3VhZ2UgPSBzb3VyY2UuY291bnRyeUxhbmd1YWdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNpbmFsUHJvZHVjdE5hbWVDb3VudHJ5TGFuZ3VhZ2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb3VudHJ5TGFuZ3VhZ2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lZGljaW5hbFByb2R1Y3QubmFtZScgfVxyXG4gICAgdGhpcy52UlMoJ3Byb2R1Y3ROYW1lJyxleHApXHJcbiAgICB0aGlzLnZPQSgnbmFtZVBhcnQnLGV4cClcclxuICAgIHRoaXMudk9BKCdjb3VudHJ5TGFuZ3VhZ2UnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2luYWxQcm9kdWN0TWFudWZhY3R1cmluZ0J1c2luZXNzT3BlcmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljaW5hbFByb2R1Y3RNYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBtYW51ZmFjdHVyaW5nIG9wZXJhdGlvbi5cclxuICAgKi9cclxuICBvcGVyYXRpb25UeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWd1bGF0b3J5IGF1dGhvcml6YXRpb24gcmVmZXJlbmNlIG51bWJlci5cclxuICAgKi9cclxuICBhdXRob3Jpc2F0aW9uUmVmZXJlbmNlTnVtYmVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVndWxhdG9yeSBhdXRob3JpemF0aW9uIGRhdGUuXHJcbiAgICovXHJcbiAgZWZmZWN0aXZlRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1lZGljaW5hbFByb2R1Y3QubWFudWZhY3R1cmluZ0J1c2luZXNzT3BlcmF0aW9uLmVmZmVjdGl2ZURhdGVcclxuICAgKi9cclxuICBfZWZmZWN0aXZlRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVG8gaW5kaWNhdGUgaWYgdGhpcyBwcm9jZXMgaXMgY29tbWVyY2lhbGx5IGNvbmZpZGVudGlhbC5cclxuICAgKi9cclxuICBjb25maWRlbnRpYWxpdHlJbmRpY2F0b3I/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYW51ZmFjdHVyZXIgb3IgZXN0YWJsaXNobWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIHByb2Nlc3MuXHJcbiAgICovXHJcbiAgbWFudWZhY3R1cmVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVndWxhdG9yIHdoaWNoIG92ZXJzZWVzIHRoZSBvcGVyYXRpb24uXHJcbiAgICovXHJcbiAgcmVndWxhdG9yPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFuIG9wZXJhdGlvbiBhcHBsaWVkIHRvIHRoZSBwcm9kdWN0LCBmb3IgbWFudWZhY3R1cmluZyBvciBhZG1pbnNpdHJhdGl2ZSBwdXJwb3NlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljaW5hbFByb2R1Y3RNYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2luYWxQcm9kdWN0TWFudWZhY3R1cmluZ0J1c2luZXNzT3BlcmF0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBtYW51ZmFjdHVyaW5nIG9wZXJhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb3BlcmF0aW9uVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWd1bGF0b3J5IGF1dGhvcml6YXRpb24gcmVmZXJlbmNlIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aG9yaXNhdGlvblJlZmVyZW5jZU51bWJlcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVndWxhdG9yeSBhdXRob3JpemF0aW9uIGRhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGVmZmVjdGl2ZURhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gaW5kaWNhdGUgaWYgdGhpcyBwcm9jZXMgaXMgY29tbWVyY2lhbGx5IGNvbmZpZGVudGlhbC5cclxuICAgKi9cclxuICBwdWJsaWMgY29uZmlkZW50aWFsaXR5SW5kaWNhdG9yPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYW51ZmFjdHVyZXIgb3IgZXN0YWJsaXNobWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIHByb2Nlc3MuXHJcbiAgICovXHJcbiAgcHVibGljIG1hbnVmYWN0dXJlcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBBIHJlZ3VsYXRvciB3aGljaCBvdmVyc2VlcyB0aGUgb3BlcmF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWd1bGF0b3I/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNpbmFsUHJvZHVjdE1hbnVmYWN0dXJpbmdCdXNpbmVzc09wZXJhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljaW5hbFByb2R1Y3RNYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnb3BlcmF0aW9uVHlwZSddKSB7IHRoaXMub3BlcmF0aW9uVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uub3BlcmF0aW9uVHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2F1dGhvcmlzYXRpb25SZWZlcmVuY2VOdW1iZXInXSkgeyB0aGlzLmF1dGhvcmlzYXRpb25SZWZlcmVuY2VOdW1iZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5hdXRob3Jpc2F0aW9uUmVmZXJlbmNlTnVtYmVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZWZmZWN0aXZlRGF0ZSddKSB7IHRoaXMuZWZmZWN0aXZlRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5lZmZlY3RpdmVEYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19lZmZlY3RpdmVEYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZWZmZWN0aXZlRGF0ZSkgeyB0aGlzLmVmZmVjdGl2ZURhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZWZmZWN0aXZlRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmVmZmVjdGl2ZURhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9lZmZlY3RpdmVEYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbmZpZGVudGlhbGl0eUluZGljYXRvciddKSB7IHRoaXMuY29uZmlkZW50aWFsaXR5SW5kaWNhdG9yID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb25maWRlbnRpYWxpdHlJbmRpY2F0b3IpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYW51ZmFjdHVyZXInXSkgeyB0aGlzLm1hbnVmYWN0dXJlciA9IHNvdXJjZS5tYW51ZmFjdHVyZXIubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYW51ZmFjdHVyZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVndWxhdG9yJ10pIHsgdGhpcy5yZWd1bGF0b3IgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZ3VsYXRvcik7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWRpY2luYWxQcm9kdWN0Lm1hbnVmYWN0dXJpbmdCdXNpbmVzc09wZXJhdGlvbicgfVxyXG4gICAgdGhpcy52T1MoJ29wZXJhdGlvblR5cGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdhdXRob3Jpc2F0aW9uUmVmZXJlbmNlTnVtYmVyJyxleHApXHJcbiAgICB0aGlzLnZPUygnZWZmZWN0aXZlRGF0ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NvbmZpZGVudGlhbGl0eUluZGljYXRvcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ21hbnVmYWN0dXJlcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3JlZ3VsYXRvcicsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljaW5hbFByb2R1Y3RTcGVjaWFsRGVzaWduYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNpbmFsUHJvZHVjdFNwZWNpYWxEZXNpZ25hdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgZm9yIHRoZSBkZXNpZ25hdGlvbiwgb3IgcHJvY2VkdXJlIG51bWJlci5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBzcGVjaWFsIGRlc2lnbmF0aW9uLCBlLmcuIG9ycGhhbiBkcnVnLCBtaW5vciB1c2UuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGludGVuZGVkIHVzZSBvZiB0aGUgcHJvZHVjdCwgZS5nLiBwcmV2ZW50aW9uLCB0cmVhdG1lbnQuXHJcbiAgICovXHJcbiAgaW50ZW5kZWRVc2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbmRpdGlvbiBmb3Igd2hpY2ggdGhlIG1lZGljaW5hbCB1c2UgYXBwbGllcy5cclxuICAgKi9cclxuICBpbmRpY2F0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbmRpdGlvbiBmb3Igd2hpY2ggdGhlIG1lZGljaW5hbCB1c2UgYXBwbGllcy5cclxuICAgKi9cclxuICBpbmRpY2F0aW9uQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb25kaXRpb24gZm9yIHdoaWNoIHRoZSBtZWRpY2luYWwgdXNlIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgaW5kaWNhdGlvblJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgZ3JhbnRlZCwgcGVuZGluZywgZXhwaXJlZCBvciB3aXRoZHJhd24uXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEYXRlIHdoZW4gdGhlIGRlc2lnbmF0aW9uIHdhcyBncmFudGVkLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2luYWxQcm9kdWN0LnNwZWNpYWxEZXNpZ25hdGlvbi5kYXRlXHJcbiAgICovXHJcbiAgX2RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFuaW1hbCBzcGVjaWVzIGZvciB3aGljaCB0aGlzIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgc3BlY2llcz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmRpY2F0ZXMgaWYgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGhhcyBhbiBvcnBoYW4gZGVzaWduYXRpb24gZm9yIHRoZSB0cmVhdG1lbnQgb2YgYSByYXJlIGRpc2Vhc2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNpbmFsUHJvZHVjdFNwZWNpYWxEZXNpZ25hdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljaW5hbFByb2R1Y3RTcGVjaWFsRGVzaWduYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgZm9yIHRoZSBkZXNpZ25hdGlvbiwgb3IgcHJvY2VkdXJlIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2Ygc3BlY2lhbCBkZXNpZ25hdGlvbiwgZS5nLiBvcnBoYW4gZHJ1ZywgbWlub3IgdXNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlbmRlZCB1c2Ugb2YgdGhlIHByb2R1Y3QsIGUuZy4gcHJldmVudGlvbiwgdHJlYXRtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnRlbmRlZFVzZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb25kaXRpb24gZm9yIHdoaWNoIHRoZSBtZWRpY2luYWwgdXNlIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGluZGljYXRpb24/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljaW5hbFByb2R1Y3Quc3BlY2lhbERlc2lnbmF0aW9uLmluZGljYXRpb25beF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfaW5kaWNhdGlvbklzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIGdyYW50ZWQsIHBlbmRpbmcsIGV4cGlyZWQgb3Igd2l0aGRyYXduLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSB3aGVuIHRoZSBkZXNpZ25hdGlvbiB3YXMgZ3JhbnRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbmltYWwgc3BlY2llcyBmb3Igd2hpY2ggdGhpcyBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzcGVjaWVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljaW5hbFByb2R1Y3RTcGVjaWFsRGVzaWduYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2luYWxQcm9kdWN0U3BlY2lhbERlc2lnbmF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlbmRlZFVzZSddKSB7IHRoaXMuaW50ZW5kZWRVc2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmludGVuZGVkVXNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5kaWNhdGlvbiddKSB7IHRoaXMuaW5kaWNhdGlvbiA9IHNvdXJjZS5pbmRpY2F0aW9uOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2luZGljYXRpb25Db2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLmluZGljYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmluZGljYXRpb25Db2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2luZGljYXRpb25SZWZlcmVuY2UnXSkgeyB0aGlzLmluZGljYXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmluZGljYXRpb25SZWZlcmVuY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZSkgeyB0aGlzLmRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NwZWNpZXMnXSkgeyB0aGlzLnNwZWNpZXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNwZWNpZXMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNpbmFsUHJvZHVjdC5zcGVjaWFsRGVzaWduYXRpb24nIH1cclxuICAgIHRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApXHJcbiAgICB0aGlzLnZPUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2ludGVuZGVkVXNlJyxleHApXHJcbiAgICB0aGlzLnZPUygnaW5kaWNhdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3N0YXR1cycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RhdGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdzcGVjaWVzJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNpbmFsUHJvZHVjdCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2luYWxQcm9kdWN0QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiTWVkaWNpbmFsUHJvZHVjdFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBCdXNpbmVzcyBpZGVudGlmaWVyIGZvciB0aGlzIHByb2R1Y3QuIENvdWxkIGJlIGFuIE1QSUQuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVndWxhdG9yeSB0eXBlLCBlLmcuIEludmVzdGlnYXRpb25hbCBvciBBdXRob3JpemVkLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgbWVkaWNpbmUgYXBwbGllcyB0byBodW1hbiBvciB2ZXRlcmluYXJ5IHVzZXMuXHJcbiAgICovXHJcbiAgZG9tYWluPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZG9zZSBmb3JtIGZvciBhIHNpbmdsZSBwYXJ0IHByb2R1Y3QsIG9yIGNvbWJpbmVkIGZvcm0gb2YgYSBtdWx0aXBsZSBwYXJ0IHByb2R1Y3QuXHJcbiAgICovXHJcbiAgY29tYmluZWRQaGFybWFjZXV0aWNhbERvc2VGb3JtPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGVnYWwgc3RhdHVzIG9mIHN1cHBseSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgYXMgY2xhc3NpZmllZCBieSB0aGUgcmVndWxhdG9yLlxyXG4gICAqL1xyXG4gIGxlZ2FsU3RhdHVzT2ZTdXBwbHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIE1lZGljaW5hbCBQcm9kdWN0IGlzIHN1YmplY3QgdG8gYWRkaXRpb25hbCBtb25pdG9yaW5nIGZvciByZWd1bGF0b3J5IHJlYXNvbnMuXHJcbiAgICovXHJcbiAgYWRkaXRpb25hbE1vbml0b3JpbmdJbmRpY2F0b3I/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIE1lZGljaW5hbCBQcm9kdWN0IGlzIHN1YmplY3QgdG8gc3BlY2lhbCBtZWFzdXJlcyBmb3IgcmVndWxhdG9yeSByZWFzb25zLlxyXG4gICAqL1xyXG4gIHNwZWNpYWxNZWFzdXJlcz86IGZoaXIuRmhpclN0cmluZ1tdfChzdHJpbmd8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1lZGljaW5hbFByb2R1Y3Quc3BlY2lhbE1lYXN1cmVzXHJcbiAgICovXHJcbiAgX3NwZWNpYWxNZWFzdXJlcz86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogSWYgYXV0aG9yaXNlZCBmb3IgdXNlIGluIGNoaWxkcmVuLlxyXG4gICAqL1xyXG4gIHBhZWRpYXRyaWNVc2VJbmRpY2F0b3I/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyB0aGUgcHJvZHVjdCB0byBiZSBjbGFzc2lmaWVkIGJ5IHZhcmlvdXMgc3lzdGVtcy5cclxuICAgKi9cclxuICBwcm9kdWN0Q2xhc3NpZmljYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFya2V0aW5nIHN0YXR1cyBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QsIGluIGNvbnRyYXN0IHRvIG1hcmtldGluZyBhdXRob3JpemF0b24uXHJcbiAgICovXHJcbiAgbWFya2V0aW5nU3RhdHVzPzogZmhpci5NYXJrZXRpbmdTdGF0dXNBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBoYXJtYWNldXRpY2FsIGFzcGVjdHMgb2YgcHJvZHVjdC5cclxuICAgKi9cclxuICBwaGFybWFjZXV0aWNhbFByb2R1Y3Q/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGFja2FnZSByZXByZXNlbnRhdGlvbiBmb3IgdGhlIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcGFja2FnZWRNZWRpY2luYWxQcm9kdWN0PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN1cHBvcnRpbmcgZG9jdW1lbnRhdGlvbiwgdHlwaWNhbGx5IGZvciByZWd1bGF0b3J5IHN1Ym1pc3Npb24uXHJcbiAgICovXHJcbiAgYXR0YWNoZWREb2N1bWVudD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIG1hc3RlciBmaWxlIGZvciB0byB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgKGUuZy4gUGhhcm1hY292aWdpbGFuY2UgU3lzdGVtIE1hc3RlciBGaWxlKS5cclxuICAgKi9cclxuICBtYXN0ZXJGaWxlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcHJvZHVjdCBzcGVjaWZpYyBjb250YWN0LCBwZXJzb24gKGluIGEgcm9sZSksIG9yIGFuIG9yZ2FuaXphdGlvbi5cclxuICAgKi9cclxuICBjb250YWN0PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENsaW5pY2FsIHRyaWFscyBvciBzdHVkaWVzIHRoYXQgdGhpcyBwcm9kdWN0IGlzIGludm9sdmVkIGluLlxyXG4gICAqL1xyXG4gIGNsaW5pY2FsVHJpYWw/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3QncyBuYW1lLCBpbmNsdWRpbmcgZnVsbCBuYW1lIGFuZCBwb3NzaWJseSBjb2RlZCBwYXJ0cy5cclxuICAgKi9cclxuICBuYW1lOiBmaGlyLk1lZGljaW5hbFByb2R1Y3ROYW1lQXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIGFub3RoZXIgcHJvZHVjdCwgZS5nLiBmb3IgbGlua2luZyBhdXRob3Jpc2VkIHRvIGludmVzdGlnYXRpb25hbCBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIGNyb3NzUmVmZXJlbmNlPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvcGVyYXRpb24gYXBwbGllZCB0byB0aGUgcHJvZHVjdCwgZm9yIG1hbnVmYWN0dXJpbmcgb3IgYWRtaW5zaXRyYXRpdmUgcHVycG9zZS5cclxuICAgKi9cclxuICBtYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb24/OiBmaGlyLk1lZGljaW5hbFByb2R1Y3RNYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyBpZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaGFzIGFuIG9ycGhhbiBkZXNpZ25hdGlvbiBmb3IgdGhlIHRyZWF0bWVudCBvZiBhIHJhcmUgZGlzZWFzZS5cclxuICAgKi9cclxuICBzcGVjaWFsRGVzaWduYXRpb24/OiBmaGlyLk1lZGljaW5hbFByb2R1Y3RTcGVjaWFsRGVzaWduYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGV0YWlsZWQgZGVmaW5pdGlvbiBvZiBhIG1lZGljaW5hbCBwcm9kdWN0LCB0eXBpY2FsbHkgZm9yIHVzZXMgb3RoZXIgdGhhbiBkaXJlY3QgcGF0aWVudCBjYXJlIChlLmcuIHJlZ3VsYXRvcnkgdXNlKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2luYWxQcm9kdWN0IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2luYWxQcm9kdWN0JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIk1lZGljaW5hbFByb2R1Y3RcIjtcclxuICAvKipcclxuICAgKiBCdXNpbmVzcyBpZGVudGlmaWVyIGZvciB0aGlzIHByb2R1Y3QuIENvdWxkIGJlIGFuIE1QSUQuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFJlZ3VsYXRvcnkgdHlwZSwgZS5nLiBJbnZlc3RpZ2F0aW9uYWwgb3IgQXV0aG9yaXplZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIG1lZGljaW5lIGFwcGxpZXMgdG8gaHVtYW4gb3IgdmV0ZXJpbmFyeSB1c2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb21haW4/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvc2UgZm9ybSBmb3IgYSBzaW5nbGUgcGFydCBwcm9kdWN0LCBvciBjb21iaW5lZCBmb3JtIG9mIGEgbXVsdGlwbGUgcGFydCBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21iaW5lZFBoYXJtYWNldXRpY2FsRG9zZUZvcm0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxlZ2FsIHN0YXR1cyBvZiBzdXBwbHkgb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGFzIGNsYXNzaWZpZWQgYnkgdGhlIHJlZ3VsYXRvci5cclxuICAgKi9cclxuICBwdWJsaWMgbGVnYWxTdGF0dXNPZlN1cHBseT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoZSBNZWRpY2luYWwgUHJvZHVjdCBpcyBzdWJqZWN0IHRvIGFkZGl0aW9uYWwgbW9uaXRvcmluZyBmb3IgcmVndWxhdG9yeSByZWFzb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRpdGlvbmFsTW9uaXRvcmluZ0luZGljYXRvcj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoZSBNZWRpY2luYWwgUHJvZHVjdCBpcyBzdWJqZWN0IHRvIHNwZWNpYWwgbWVhc3VyZXMgZm9yIHJlZ3VsYXRvcnkgcmVhc29ucy5cclxuICAgKi9cclxuICBwdWJsaWMgc3BlY2lhbE1lYXN1cmVzOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBJZiBhdXRob3Jpc2VkIGZvciB1c2UgaW4gY2hpbGRyZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHBhZWRpYXRyaWNVc2VJbmRpY2F0b3I/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIHRoZSBwcm9kdWN0IHRvIGJlIGNsYXNzaWZpZWQgYnkgdmFyaW91cyBzeXN0ZW1zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9kdWN0Q2xhc3NpZmljYXRpb246IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogTWFya2V0aW5nIHN0YXR1cyBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QsIGluIGNvbnRyYXN0IHRvIG1hcmtldGluZyBhdXRob3JpemF0b24uXHJcbiAgICovXHJcbiAgcHVibGljIG1hcmtldGluZ1N0YXR1czogZmhpci5NYXJrZXRpbmdTdGF0dXNbXTtcclxuICAvKipcclxuICAgKiBQaGFybWFjZXV0aWNhbCBhc3BlY3RzIG9mIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcHVibGljIHBoYXJtYWNldXRpY2FsUHJvZHVjdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBQYWNrYWdlIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgcHJvZHVjdC5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZWRNZWRpY2luYWxQcm9kdWN0OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFN1cHBvcnRpbmcgZG9jdW1lbnRhdGlvbiwgdHlwaWNhbGx5IGZvciByZWd1bGF0b3J5IHN1Ym1pc3Npb24uXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGFjaGVkRG9jdW1lbnQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQSBtYXN0ZXIgZmlsZSBmb3IgdG8gdGhlIG1lZGljaW5hbCBwcm9kdWN0IChlLmcuIFBoYXJtYWNvdmlnaWxhbmNlIFN5c3RlbSBNYXN0ZXIgRmlsZSkuXHJcbiAgICovXHJcbiAgcHVibGljIG1hc3RlckZpbGU6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQSBwcm9kdWN0IHNwZWNpZmljIGNvbnRhY3QsIHBlcnNvbiAoaW4gYSByb2xlKSwgb3IgYW4gb3JnYW5pemF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250YWN0OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIENsaW5pY2FsIHRyaWFscyBvciBzdHVkaWVzIHRoYXQgdGhpcyBwcm9kdWN0IGlzIGludm9sdmVkIGluLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGluaWNhbFRyaWFsOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0J3MgbmFtZSwgaW5jbHVkaW5nIGZ1bGwgbmFtZSBhbmQgcG9zc2libHkgY29kZWQgcGFydHMuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU6IGZoaXIuTWVkaWNpbmFsUHJvZHVjdE5hbWVbXTtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gYW5vdGhlciBwcm9kdWN0LCBlLmcuIGZvciBsaW5raW5nIGF1dGhvcmlzZWQgdG8gaW52ZXN0aWdhdGlvbmFsIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcHVibGljIGNyb3NzUmVmZXJlbmNlOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBBbiBvcGVyYXRpb24gYXBwbGllZCB0byB0aGUgcHJvZHVjdCwgZm9yIG1hbnVmYWN0dXJpbmcgb3IgYWRtaW5zaXRyYXRpdmUgcHVycG9zZS5cclxuICAgKi9cclxuICBwdWJsaWMgbWFudWZhY3R1cmluZ0J1c2luZXNzT3BlcmF0aW9uOiBmaGlyLk1lZGljaW5hbFByb2R1Y3RNYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb25bXTtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGhhcyBhbiBvcnBoYW4gZGVzaWduYXRpb24gZm9yIHRoZSB0cmVhdG1lbnQgb2YgYSByYXJlIGRpc2Vhc2UuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpYWxEZXNpZ25hdGlvbjogZmhpci5NZWRpY2luYWxQcm9kdWN0U3BlY2lhbERlc2lnbmF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNpbmFsUHJvZHVjdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljaW5hbFByb2R1Y3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnTWVkaWNpbmFsUHJvZHVjdCc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9tYWluJ10pIHsgdGhpcy5kb21haW4gPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLmRvbWFpbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbWJpbmVkUGhhcm1hY2V1dGljYWxEb3NlRm9ybSddKSB7IHRoaXMuY29tYmluZWRQaGFybWFjZXV0aWNhbERvc2VGb3JtID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb21iaW5lZFBoYXJtYWNldXRpY2FsRG9zZUZvcm0pOyB9XHJcbiAgICBpZiAoc291cmNlWydsZWdhbFN0YXR1c09mU3VwcGx5J10pIHsgdGhpcy5sZWdhbFN0YXR1c09mU3VwcGx5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5sZWdhbFN0YXR1c09mU3VwcGx5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkaXRpb25hbE1vbml0b3JpbmdJbmRpY2F0b3InXSkgeyB0aGlzLmFkZGl0aW9uYWxNb25pdG9yaW5nSW5kaWNhdG9yID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hZGRpdGlvbmFsTW9uaXRvcmluZ0luZGljYXRvcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NwZWNpYWxNZWFzdXJlcyddKSB7IHRoaXMuc3BlY2lhbE1lYXN1cmVzID0gc291cmNlLnNwZWNpYWxNZWFzdXJlcy5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zcGVjaWFsTWVhc3VyZXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NwZWNpYWxNZWFzdXJlcyddKSB7XHJcbiAgICAgIHNvdXJjZS5fc3BlY2lhbE1lYXN1cmVzLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNwZWNpYWxNZWFzdXJlcy5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLnNwZWNpYWxNZWFzdXJlc1tpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnNwZWNpYWxNZWFzdXJlcy5wdXNoKG5ldyBmaGlyLkZoaXJTdHJpbmcoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BhZWRpYXRyaWNVc2VJbmRpY2F0b3InXSkgeyB0aGlzLnBhZWRpYXRyaWNVc2VJbmRpY2F0b3IgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnBhZWRpYXRyaWNVc2VJbmRpY2F0b3IpOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9kdWN0Q2xhc3NpZmljYXRpb24nXSkgeyB0aGlzLnByb2R1Y3RDbGFzc2lmaWNhdGlvbiA9IHNvdXJjZS5wcm9kdWN0Q2xhc3NpZmljYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9kdWN0Q2xhc3NpZmljYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWFya2V0aW5nU3RhdHVzJ10pIHsgdGhpcy5tYXJrZXRpbmdTdGF0dXMgPSBzb3VyY2UubWFya2V0aW5nU3RhdHVzLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWFya2V0aW5nU3RhdHVzKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubWFya2V0aW5nU3RhdHVzID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BoYXJtYWNldXRpY2FsUHJvZHVjdCddKSB7IHRoaXMucGhhcm1hY2V1dGljYWxQcm9kdWN0ID0gc291cmNlLnBoYXJtYWNldXRpY2FsUHJvZHVjdC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBoYXJtYWNldXRpY2FsUHJvZHVjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlZE1lZGljaW5hbFByb2R1Y3QnXSkgeyB0aGlzLnBhY2thZ2VkTWVkaWNpbmFsUHJvZHVjdCA9IHNvdXJjZS5wYWNrYWdlZE1lZGljaW5hbFByb2R1Y3QubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYWNrYWdlZE1lZGljaW5hbFByb2R1Y3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXR0YWNoZWREb2N1bWVudCddKSB7IHRoaXMuYXR0YWNoZWREb2N1bWVudCA9IHNvdXJjZS5hdHRhY2hlZERvY3VtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXR0YWNoZWREb2N1bWVudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXN0ZXJGaWxlJ10pIHsgdGhpcy5tYXN0ZXJGaWxlID0gc291cmNlLm1hc3RlckZpbGUubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYXN0ZXJGaWxlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRhY3QnXSkgeyB0aGlzLmNvbnRhY3QgPSBzb3VyY2UuY29udGFjdC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhY3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xpbmljYWxUcmlhbCddKSB7IHRoaXMuY2xpbmljYWxUcmlhbCA9IHNvdXJjZS5jbGluaWNhbFRyaWFsLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2xpbmljYWxUcmlhbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gc291cmNlLm5hbWUubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2luYWxQcm9kdWN0TmFtZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY3Jvc3NSZWZlcmVuY2UnXSkgeyB0aGlzLmNyb3NzUmVmZXJlbmNlID0gc291cmNlLmNyb3NzUmVmZXJlbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNyb3NzUmVmZXJlbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbnVmYWN0dXJpbmdCdXNpbmVzc09wZXJhdGlvbiddKSB7IHRoaXMubWFudWZhY3R1cmluZ0J1c2luZXNzT3BlcmF0aW9uID0gc291cmNlLm1hbnVmYWN0dXJpbmdCdXNpbmVzc09wZXJhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljaW5hbFByb2R1Y3RNYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3BlY2lhbERlc2lnbmF0aW9uJ10pIHsgdGhpcy5zcGVjaWFsRGVzaWduYXRpb24gPSBzb3VyY2Uuc3BlY2lhbERlc2lnbmF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNpbmFsUHJvZHVjdFNwZWNpYWxEZXNpZ25hdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNwZWNpYWxEZXNpZ25hdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNpbmFsUHJvZHVjdCcgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9TKCd0eXBlJyxleHApXHJcbiAgICB0aGlzLnZPUygnZG9tYWluJyxleHApXHJcbiAgICB0aGlzLnZPUygnY29tYmluZWRQaGFybWFjZXV0aWNhbERvc2VGb3JtJyxleHApXHJcbiAgICB0aGlzLnZPUygnbGVnYWxTdGF0dXNPZlN1cHBseScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2FkZGl0aW9uYWxNb25pdG9yaW5nSW5kaWNhdG9yJyxleHApXHJcbiAgICB0aGlzLnZPQSgnc3BlY2lhbE1lYXN1cmVzJyxleHApXHJcbiAgICB0aGlzLnZPUygncGFlZGlhdHJpY1VzZUluZGljYXRvcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3Byb2R1Y3RDbGFzc2lmaWNhdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ21hcmtldGluZ1N0YXR1cycsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3BoYXJtYWNldXRpY2FsUHJvZHVjdCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3BhY2thZ2VkTWVkaWNpbmFsUHJvZHVjdCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2F0dGFjaGVkRG9jdW1lbnQnLGV4cClcclxuICAgIHRoaXMudk9BKCdtYXN0ZXJGaWxlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY29udGFjdCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2NsaW5pY2FsVHJpYWwnLGV4cClcclxuICAgIHRoaXMudlJBKCduYW1lJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY3Jvc3NSZWZlcmVuY2UnLGV4cClcclxuICAgIHRoaXMudk9BKCdtYW51ZmFjdHVyaW5nQnVzaW5lc3NPcGVyYXRpb24nLGV4cClcclxuICAgIHRoaXMudk9BKCdzcGVjaWFsRGVzaWduYXRpb24nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==