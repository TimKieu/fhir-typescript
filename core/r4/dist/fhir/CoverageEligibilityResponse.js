// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: CoverageEligibilityResponse
import * as fhir from '../fhir.js';
// @ts-ignore
import { FmStatusVsValidation } from '../fhirValueSets/FmStatusVsValidation.js';
// @ts-ignore
import { EligibilityresponsePurposeVsValidation } from '../fhirValueSets/EligibilityresponsePurposeVsValidation.js';
// @ts-ignore
import { RemittanceOutcomeVsValidation } from '../fhirValueSets/RemittanceOutcomeVsValidation.js';
/**
 * Benefits used to date.
 */
export class CoverageEligibilityResponseInsuranceItemBenefit extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageEligibilityResponseInsuranceItemBenefit - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['allowed']) {
            this.allowed = source.allowed;
        }
        else if (source['allowedUnsignedInt']) {
            this.allowed = new fhir.FhirUnsignedInt({ value: source.allowedUnsignedInt });
        }
        else if (source['allowedString']) {
            this.allowed = new fhir.FhirString({ value: source.allowedString });
        }
        else if (source['allowedMoney']) {
            this.allowed = new fhir.Money(source.allowedMoney);
        }
        if (source['used']) {
            this.used = source.used;
        }
        else if (source['usedUnsignedInt']) {
            this.used = new fhir.FhirUnsignedInt({ value: source.usedUnsignedInt });
        }
        else if (source['usedString']) {
            this.used = new fhir.FhirString({ value: source.usedString });
        }
        else if (source['usedMoney']) {
            this.used = new fhir.Money(source.usedMoney);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'CoverageEligibilityResponse.insurance.item.benefit';
        }
        this.vReqS('type', expression);
        this.vOptS('allowed', expression);
        this.vOptS('used', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageEligibilityResponseInsuranceItemBenefit._fts_dataType = 'CoverageEligibilityResponseInsuranceItemBenefit';
/**
 * Internal flag to properly serialize choice-type element CoverageEligibilityResponse.insurance.item.benefit.allowed[x]
 */
CoverageEligibilityResponseInsuranceItemBenefit._fts_allowedIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element CoverageEligibilityResponse.insurance.item.benefit.used[x]
 */
CoverageEligibilityResponseInsuranceItemBenefit._fts_usedIsChoice = true;
/**
 * Benefits and optionally current balances, and authorization details by category or service.
 */
export class CoverageEligibilityResponseInsuranceItem extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageEligibilityResponseInsuranceItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category);
        }
        if (source['productOrService']) {
            this.productOrService = new fhir.CodeableConcept(source.productOrService);
        }
        if (source['modifier']) {
            this.modifier = source.modifier.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.modifier = [];
        }
        if (source['provider']) {
            this.provider = new fhir.Reference(source.provider);
        }
        if (source['excluded']) {
            this.excluded = new fhir.FhirBoolean({ value: source.excluded });
        }
        if (source['_excluded']) {
            if (this.excluded) {
                this.excluded.addExtendedProperties(source._excluded);
            }
            else {
                this.excluded = new fhir.FhirBoolean(source._excluded);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['network']) {
            this.network = new fhir.CodeableConcept(source.network);
        }
        if (source['unit']) {
            this.unit = new fhir.CodeableConcept(source.unit);
        }
        if (source['term']) {
            this.term = new fhir.CodeableConcept(source.term);
        }
        if (source['benefit']) {
            this.benefit = source.benefit.map((x) => new fhir.CoverageEligibilityResponseInsuranceItemBenefit(x));
        }
        else {
            this.benefit = [];
        }
        if (source['authorizationRequired']) {
            this.authorizationRequired = new fhir.FhirBoolean({ value: source.authorizationRequired });
        }
        if (source['_authorizationRequired']) {
            if (this.authorizationRequired) {
                this.authorizationRequired.addExtendedProperties(source._authorizationRequired);
            }
            else {
                this.authorizationRequired = new fhir.FhirBoolean(source._authorizationRequired);
            }
        }
        if (source['authorizationSupporting']) {
            this.authorizationSupporting = source.authorizationSupporting.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.authorizationSupporting = [];
        }
        if (source['authorizationUrl']) {
            this.authorizationUrl = new fhir.FhirUri({ value: source.authorizationUrl });
        }
        if (source['_authorizationUrl']) {
            if (this.authorizationUrl) {
                this.authorizationUrl.addExtendedProperties(source._authorizationUrl);
            }
            else {
                this.authorizationUrl = new fhir.FhirUri(source._authorizationUrl);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'CoverageEligibilityResponse.insurance.item';
        }
        this.vOptS('category', expression);
        this.vOptS('productOrService', expression);
        this.vOptA('modifier', expression);
        this.vOptS('provider', expression);
        this.vOptS('excluded', expression);
        this.vOptS('name', expression);
        this.vOptS('description', expression);
        this.vOptS('network', expression);
        this.vOptS('unit', expression);
        this.vOptS('term', expression);
        this.vOptA('benefit', expression);
        this.vOptS('authorizationRequired', expression);
        this.vOptA('authorizationSupporting', expression);
        this.vOptS('authorizationUrl', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageEligibilityResponseInsuranceItem._fts_dataType = 'CoverageEligibilityResponseInsuranceItem';
/**
 * All insurance coverages for the patient which may be applicable for reimbursement, of the products and services listed in the claim, are typically provided in the claim to allow insurers to confirm the ordering of the insurance coverages relative to local 'coordination of benefit' rules. One coverage (and only one) with 'focal=true' is to be used in the adjudication of this claim. Coverages appearing before the focal Coverage in the list, and where 'subrogation=false', should provide a reference to the ClaimResponse containing the adjudication results of the prior claim.
 */
export class CoverageEligibilityResponseInsurance extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageEligibilityResponseInsurance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['coverage']) {
            this.coverage = new fhir.Reference(source.coverage);
        }
        else {
            this.coverage = null;
        }
        if (source['inforce']) {
            this.inforce = new fhir.FhirBoolean({ value: source.inforce });
        }
        if (source['_inforce']) {
            if (this.inforce) {
                this.inforce.addExtendedProperties(source._inforce);
            }
            else {
                this.inforce = new fhir.FhirBoolean(source._inforce);
            }
        }
        if (source['benefitPeriod']) {
            this.benefitPeriod = new fhir.Period(source.benefitPeriod);
        }
        if (source['item']) {
            this.item = source.item.map((x) => new fhir.CoverageEligibilityResponseInsuranceItem(x));
        }
        else {
            this.item = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'CoverageEligibilityResponse.insurance';
        }
        this.vReqS('coverage', expression);
        this.vOptS('inforce', expression);
        this.vOptS('benefitPeriod', expression);
        this.vOptA('item', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageEligibilityResponseInsurance._fts_dataType = 'CoverageEligibilityResponseInsurance';
/**
 * Errors encountered during the processing of the request.
 */
export class CoverageEligibilityResponseError extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageEligibilityResponseError - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'CoverageEligibilityResponse.error';
        }
        this.vReqS('code', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageEligibilityResponseError._fts_dataType = 'CoverageEligibilityResponseError';
/**
 * This resource provides eligibility and plan details from the processing of an CoverageEligibilityRequest resource.
 */
export class CoverageEligibilityResponse extends fhir.DomainResource {
    /**
     * Default constructor for CoverageEligibilityResponse - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'CoverageEligibilityResponse';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['purpose']) {
            this.purpose = source.purpose.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.purpose = [];
        }
        if (source['_purpose']) {
            source._purpose.forEach((x, i) => {
                if (this.purpose.length >= i) {
                    if (x) {
                        this.purpose[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.purpose.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        else {
            this.patient = null;
        }
        if (source['serviced']) {
            this.serviced = source.serviced;
        }
        else if (source['servicedDate']) {
            this.serviced = new fhir.FhirDate({ value: source.servicedDate });
        }
        else if (source['servicedPeriod']) {
            this.serviced = new fhir.Period(source.servicedPeriod);
        }
        if (source['created']) {
            this.created = new fhir.FhirDateTime({ value: source.created });
        }
        else {
            this.created = null;
        }
        if (source['_created']) {
            if (this.created) {
                this.created.addExtendedProperties(source._created);
            }
            else {
                this.created = new fhir.FhirDateTime(source._created);
            }
        }
        if (source['requestor']) {
            this.requestor = new fhir.Reference(source.requestor);
        }
        if (source['request']) {
            this.request = new fhir.Reference(source.request);
        }
        else {
            this.request = null;
        }
        if (source['outcome']) {
            this.outcome = new fhir.FhirCode({ value: source.outcome });
        }
        else {
            this.outcome = null;
        }
        if (source['_outcome']) {
            if (this.outcome) {
                this.outcome.addExtendedProperties(source._outcome);
            }
            else {
                this.outcome = new fhir.FhirCode(source._outcome);
            }
        }
        if (source['disposition']) {
            this.disposition = new fhir.FhirString({ value: source.disposition });
        }
        if (source['_disposition']) {
            if (this.disposition) {
                this.disposition.addExtendedProperties(source._disposition);
            }
            else {
                this.disposition = new fhir.FhirString(source._disposition);
            }
        }
        if (source['insurer']) {
            this.insurer = new fhir.Reference(source.insurer);
        }
        else {
            this.insurer = null;
        }
        if (source['insurance']) {
            this.insurance = source.insurance.map((x) => new fhir.CoverageEligibilityResponseInsurance(x));
        }
        else {
            this.insurance = [];
        }
        if (source['preAuthRef']) {
            this.preAuthRef = new fhir.FhirString({ value: source.preAuthRef });
        }
        if (source['_preAuthRef']) {
            if (this.preAuthRef) {
                this.preAuthRef.addExtendedProperties(source._preAuthRef);
            }
            else {
                this.preAuthRef = new fhir.FhirString(source._preAuthRef);
            }
        }
        if (source['form']) {
            this.form = new fhir.CodeableConcept(source.form);
        }
        if (source['error']) {
            this.error = source.error.map((x) => new fhir.CoverageEligibilityResponseError(x));
        }
        else {
            this.error = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'CoverageEligibilityResponse';
        }
        this.vReqS('resourceType', expression);
        this.vOptA('identifier', expression);
        this.vReqSV('status', expression, 'FmStatus', FmStatusVsValidation, 'r');
        this.vReqAV('purpose', expression, 'EligibilityresponsePurpose', EligibilityresponsePurposeVsValidation, 'r');
        this.vReqS('patient', expression);
        this.vOptS('serviced', expression);
        this.vReqS('created', expression);
        this.vOptS('requestor', expression);
        this.vReqS('request', expression);
        this.vReqSV('outcome', expression, 'RemittanceOutcome', RemittanceOutcomeVsValidation, 'r');
        this.vOptS('disposition', expression);
        this.vReqS('insurer', expression);
        this.vOptA('insurance', expression);
        this.vOptS('preAuthRef', expression);
        this.vOptS('form', expression);
        this.vOptA('error', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageEligibilityResponse._fts_dataType = 'CoverageEligibilityResponse';
/**
 * Internal flag to properly serialize choice-type element CoverageEligibilityResponse.serviced[x]
 */
CoverageEligibilityResponse._fts_servicedIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9Db3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsNkNBQTZDO0FBRTdDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBd0NuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFHaEYsYUFBYTtBQUNiLE9BQU8sRUFBRSxzQ0FBc0MsRUFBRSxNQUFNLDREQUE0RCxDQUFDO0FBR3BILGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQStDbEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sK0NBQWdELFNBQVEsSUFBSSxDQUFDLGVBQWU7SUF5QnZGOztPQUVHO0lBQ0gsWUFBWSxTQUFzRSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM1SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDckU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1NBQUU7YUFDcEQsSUFBSSxNQUFNLENBQUMsb0JBQW9CLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1B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Q2hDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2pDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2hDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFDLFVBQVUsRUFBQyxtQkFBbUIsRUFBQyw2QkFBNkIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2RixJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUM5QixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTNKRDs7R0FFRztBQUM2Qix5Q0FBYSxHQUFVLDZCQUE2QixDQUFDO0FBeUJyRjs7R0FFRztBQUN1QixpREFBcUIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQmVuZWZpdFR5cGVDb2RlcywgIEJlbmVmaXRUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JlbmVmaXRUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEJlbmVmaXRUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9CZW5lZml0VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXhCZW5lZml0Y2F0ZWdvcnlDb2RlcywgIEV4QmVuZWZpdGNhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V4QmVuZWZpdGNhdGVnb3J5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV4QmVuZWZpdGNhdGVnb3J5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeEJlbmVmaXRjYXRlZ29yeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VydmljZVVzY2xzQ29kZXMsICBTZXJ2aWNlVXNjbHNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VydmljZVVzY2xzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VVc2Nsc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VydmljZVVzY2xzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbU1vZGlmaWVyc0NvZGVzLCAgQ2xhaW1Nb2RpZmllcnNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1Nb2RpZmllcnNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1Nb2RpZmllcnNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltTW9kaWZpZXJzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCZW5lZml0TmV0d29ya0NvZGVzLCAgQmVuZWZpdE5ldHdvcmtDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQmVuZWZpdE5ldHdvcmtDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQmVuZWZpdE5ldHdvcmtWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JlbmVmaXROZXR3b3JrVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCZW5lZml0VW5pdENvZGVzLCAgQmVuZWZpdFVuaXRDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQmVuZWZpdFVuaXRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQmVuZWZpdFVuaXRWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JlbmVmaXRVbml0VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCZW5lZml0VGVybUNvZGVzLCAgQmVuZWZpdFRlcm1Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQmVuZWZpdFRlcm1Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQmVuZWZpdFRlcm1Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JlbmVmaXRUZXJtVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZWVsaWdpYmlsaXR5cmVzcG9uc2VFeEF1dGhTdXBwb3J0Q29kZXMsICBDb3ZlcmFnZWVsaWdpYmlsaXR5cmVzcG9uc2VFeEF1dGhTdXBwb3J0Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvdmVyYWdlZWxpZ2liaWxpdHlyZXNwb25zZUV4QXV0aFN1cHBvcnRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ292ZXJhZ2VlbGlnaWJpbGl0eXJlc3BvbnNlRXhBdXRoU3VwcG9ydFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ292ZXJhZ2VlbGlnaWJpbGl0eXJlc3BvbnNlRXhBdXRoU3VwcG9ydFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWRqdWRpY2F0aW9uRXJyb3JDb2RlcywgIEFkanVkaWNhdGlvbkVycm9yQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkanVkaWNhdGlvbkVycm9yQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkanVkaWNhdGlvbkVycm9yVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZGp1ZGljYXRpb25FcnJvclZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm1TdGF0dXNDb2RlcywgIEZtU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ZtU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZtU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9GbVN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRWxpZ2liaWxpdHlyZXNwb25zZVB1cnBvc2VDb2RlcywgIEVsaWdpYmlsaXR5cmVzcG9uc2VQdXJwb3NlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VsaWdpYmlsaXR5cmVzcG9uc2VQdXJwb3NlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVsaWdpYmlsaXR5cmVzcG9uc2VQdXJwb3NlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbGlnaWJpbGl0eXJlc3BvbnNlUHVycG9zZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVtaXR0YW5jZU91dGNvbWVDb2RlcywgIFJlbWl0dGFuY2VPdXRjb21lQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlbWl0dGFuY2VPdXRjb21lQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlbWl0dGFuY2VPdXRjb21lVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZW1pdHRhbmNlT3V0Y29tZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm9ybXNDb2RlcywgIEZvcm1zQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Zvcm1zQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZvcm1zVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Gb3Jtc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VJdGVtQmVuZWZpdCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VJdGVtQmVuZWZpdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiBkZWR1Y3RpYmxlLCB2aXNpdHMsIGJlbmVmaXQgYW1vdW50LlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgYmVuZWZpdCB3aGljaCBpcyBwZXJtaXR0ZWQgdW5kZXIgdGhlIGNvdmVyYWdlLlxyXG4gICAqL1xyXG4gIGFsbG93ZWQ/OiBmaGlyLkZoaXJVbnNpZ25lZEludHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YW50aXR5IG9mIHRoZSBiZW5lZml0IHdoaWNoIGlzIHBlcm1pdHRlZCB1bmRlciB0aGUgY292ZXJhZ2UuXHJcbiAgICovXHJcbiAgYWxsb3dlZFVuc2lnbmVkSW50PzogZmhpci5GaGlyVW5zaWduZWRJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhlIGJlbmVmaXQgd2hpY2ggaXMgcGVybWl0dGVkIHVuZGVyIHRoZSBjb3ZlcmFnZS5cclxuICAgKi9cclxuICBhbGxvd2VkU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YW50aXR5IG9mIHRoZSBiZW5lZml0IHdoaWNoIGlzIHBlcm1pdHRlZCB1bmRlciB0aGUgY292ZXJhZ2UuXHJcbiAgICovXHJcbiAgYWxsb3dlZE1vbmV5PzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgYmVuZWZpdCB3aGljaCBoYXZlIGJlZW4gY29uc3VtZWQgdG8gZGF0ZS5cclxuICAgKi9cclxuICB1c2VkPzogZmhpci5GaGlyVW5zaWduZWRJbnR8Zmhpci5GaGlyU3RyaW5nfGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgYmVuZWZpdCB3aGljaCBoYXZlIGJlZW4gY29uc3VtZWQgdG8gZGF0ZS5cclxuICAgKi9cclxuICB1c2VkVW5zaWduZWRJbnQ/OiBmaGlyLkZoaXJVbnNpZ25lZEludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgYmVuZWZpdCB3aGljaCBoYXZlIGJlZW4gY29uc3VtZWQgdG8gZGF0ZS5cclxuICAgKi9cclxuICB1c2VkU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YW50aXR5IG9mIHRoZSBiZW5lZml0IHdoaWNoIGhhdmUgYmVlbiBjb25zdW1lZCB0byBkYXRlLlxyXG4gICAqL1xyXG4gIHVzZWRNb25leT86IGZoaXIuTW9uZXlBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJlbmVmaXRzIHVzZWQgdG8gZGF0ZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VJdGVtQmVuZWZpdCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUluc3VyYW5jZUl0ZW1CZW5lZml0JztcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogZGVkdWN0aWJsZSwgdmlzaXRzLCBiZW5lZml0IGFtb3VudC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhlIGJlbmVmaXQgd2hpY2ggaXMgcGVybWl0dGVkIHVuZGVyIHRoZSBjb3ZlcmFnZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWxsb3dlZD86IChmaGlyLkZoaXJVbnNpZ25lZEludHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5Nb25leSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlLmluc3VyYW5jZS5pdGVtLmJlbmVmaXQuYWxsb3dlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19hbGxvd2VkSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YW50aXR5IG9mIHRoZSBiZW5lZml0IHdoaWNoIGhhdmUgYmVlbiBjb25zdW1lZCB0byBkYXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2VkPzogKGZoaXIuRmhpclVuc2lnbmVkSW50fGZoaXIuRmhpclN0cmluZ3xmaGlyLk1vbmV5KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UuaW5zdXJhbmNlLml0ZW0uYmVuZWZpdC51c2VkW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3VzZWRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VJdGVtQmVuZWZpdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUluc3VyYW5jZUl0ZW1CZW5lZml0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWxsb3dlZCddKSB7IHRoaXMuYWxsb3dlZCA9IHNvdXJjZS5hbGxvd2VkOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2FsbG93ZWRVbnNpZ25lZEludCddKSB7IHRoaXMuYWxsb3dlZCA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludCh7dmFsdWU6IHNvdXJjZS5hbGxvd2VkVW5zaWduZWRJbnR9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydhbGxvd2VkU3RyaW5nJ10pIHsgdGhpcy5hbGxvd2VkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hbGxvd2VkU3RyaW5nfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYWxsb3dlZE1vbmV5J10pIHsgdGhpcy5hbGxvd2VkID0gbmV3IGZoaXIuTW9uZXkoc291cmNlLmFsbG93ZWRNb25leSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VzZWQnXSkgeyB0aGlzLnVzZWQgPSBzb3VyY2UudXNlZDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd1c2VkVW5zaWduZWRJbnQnXSkgeyB0aGlzLnVzZWQgPSBuZXcgZmhpci5GaGlyVW5zaWduZWRJbnQoe3ZhbHVlOiBzb3VyY2UudXNlZFVuc2lnbmVkSW50fSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndXNlZFN0cmluZyddKSB7IHRoaXMudXNlZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudXNlZFN0cmluZ30pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3VzZWRNb25leSddKSB7IHRoaXMudXNlZCA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS51c2VkTW9uZXkpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0NvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZS5pbnN1cmFuY2UuaXRlbS5iZW5lZml0JyB9XHJcbiAgICB0aGlzLnZSZXFTKCd0eXBlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnYWxsb3dlZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3VzZWQnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlSW5zdXJhbmNlSXRlbSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VJdGVtQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogRXhhbXBsZXMgaW5jbHVkZSBNZWRpY2FsIENhcmUsIFBlcmlvZG9udGljcywgUmVuYWwgRGlhbHlzaXMsIFZpc2lvbiBDb3ZlcmFnZS5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29kZSB0byBpbmRpY2F0ZSB0aGUgUHJvZmVzc2lvbmFsIFNlcnZpY2Ugb3IgUHJvZHVjdCBzdXBwbGllZCAoZS5nLiBDVFAsIEhDUENTLCBVU0NMUywgSUNEMTAsIE5DUERQLCBESU4sIFJ4Tm9ybSwgQUNISSwgQ0NJKS5cclxuICAgKi9cclxuICBwcm9kdWN0T3JTZXJ2aWNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSBpbiBPcmFsIHdoZXRoZXIgdGhlIHRyZWF0bWVudCBpcyBjb3NtZXRpYyBvciBhc3NvY2lhdGVkIHdpdGggVE1KLCBvciBmb3IgTWVkaWNhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgd2FzIG91dHNpZGUgdGhlIGNsaW5pYyBvciBvdXQgb2Ygb2ZmaWNlIGhvdXJzLlxyXG4gICAqL1xyXG4gIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmFjdGl0aW9uZXIgd2hvIGlzIGVsaWdpYmxlIGZvciB0aGUgcHJvdmlzaW9uIG9mIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHJvdmlkZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRydWUgaWYgdGhlIGluZGljYXRlZCBjbGFzcyBvZiBzZXJ2aWNlIGlzIGV4Y2x1ZGVkIGZyb20gdGhlIHBsYW4sIG1pc3Npbmcgb3IgRmFsc2UgaW5kaWNhdGVzIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2UgaXMgaW5jbHVkZWQgaW4gdGhlIGNvdmVyYWdlLlxyXG4gICAqL1xyXG4gIGV4Y2x1ZGVkPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlLmluc3VyYW5jZS5pdGVtLmV4Y2x1ZGVkXHJcbiAgICovXHJcbiAgX2V4Y2x1ZGVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogTUVEMDEsIG9yIERFTlQyLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlLmluc3VyYW5jZS5pdGVtLm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgJ0RFTlQyIGNvdmVycyAxMDAlIG9mIGJhc2ljLCA1MCUgb2YgbWFqb3IgYnV0IGV4Y2x1ZGVzIE9ydGhvLCBJbXBsYW50cyBhbmQgQ29zbWV0aWMgc2VydmljZXMnLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZS5pbnN1cmFuY2UuaXRlbS5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSXMgYSBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgdGhlIGJlbmVmaXRzIHJlZmVyIHRvIGluLW5ldHdvcmsgcHJvdmlkZXJzIG9yIG91dC1vZi1uZXR3b3JrIHByb3ZpZGVycy5cclxuICAgKi9cclxuICBuZXR3b3JrPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGJlbmVmaXRzIGFwcGx5IHRvIGFuIGluZGl2aWR1YWwgb3IgdG8gdGhlIGZhbWlseS5cclxuICAgKi9cclxuICB1bml0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGVybSBvciBwZXJpb2Qgb2YgdGhlIHZhbHVlcyBzdWNoIGFzICdtYXhpbXVtIGxpZmV0aW1lIGJlbmVmaXQnIG9yICdtYXhpbXVtIGFubnVhbCB2aXNpdHMnLlxyXG4gICAqL1xyXG4gIHRlcm0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEJlbmVmaXRzIHVzZWQgdG8gZGF0ZS5cclxuICAgKi9cclxuICBiZW5lZml0PzogZmhpci5Db3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VJdGVtQmVuZWZpdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBib29sZWFuIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIGEgcHJlYXV0aG9yaXphdGlvbiBpcyByZXF1aXJlZCBwcmlvciB0byBhY3R1YWwgc2VydmljZSBkZWxpdmVyeS5cclxuICAgKi9cclxuICBhdXRob3JpemF0aW9uUmVxdWlyZWQ/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UuaW5zdXJhbmNlLml0ZW0uYXV0aG9yaXphdGlvblJlcXVpcmVkXHJcbiAgICovXHJcbiAgX2F1dGhvcml6YXRpb25SZXF1aXJlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ29kZXMgb3IgY29tbWVudHMgcmVnYXJkaW5nIGluZm9ybWF0aW9uIG9yIGFjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcmVhdXRob3JpemF0aW9uLlxyXG4gICAqL1xyXG4gIGF1dGhvcml6YXRpb25TdXBwb3J0aW5nPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgd2ViIGxvY2F0aW9uIGZvciBvYnRhaW5pbmcgcmVxdWlyZW1lbnRzIG9yIGRlc2NyaXB0aXZlIGluZm9ybWF0aW9uIHJlZ2FyZGluZyB0aGUgcHJlYXV0aG9yaXphdGlvbi5cclxuICAgKi9cclxuICBhdXRob3JpemF0aW9uVXJsPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZS5pbnN1cmFuY2UuaXRlbS5hdXRob3JpemF0aW9uVXJsXHJcbiAgICovXHJcbiAgX2F1dGhvcml6YXRpb25Vcmw/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogQmVuZWZpdHMgYW5kIG9wdGlvbmFsbHkgY3VycmVudCBiYWxhbmNlcywgYW5kIGF1dGhvcml6YXRpb24gZGV0YWlscyBieSBjYXRlZ29yeSBvciBzZXJ2aWNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUluc3VyYW5jZUl0ZW0gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VJdGVtJztcclxuICAvKipcclxuICAgKiBFeGFtcGxlcyBpbmNsdWRlIE1lZGljYWwgQ2FyZSwgUGVyaW9kb250aWNzLCBSZW5hbCBEaWFseXNpcywgVmlzaW9uIENvdmVyYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2RlIHRvIGluZGljYXRlIHRoZSBQcm9mZXNzaW9uYWwgU2VydmljZSBvciBQcm9kdWN0IHN1cHBsaWVkIChlLmcuIENUUCwgSENQQ1MsIFVTQ0xTLCBJQ0QxMCwgTkNQRFAsIERJTiwgUnhOb3JtLCBBQ0hJLCBDQ0kpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9kdWN0T3JTZXJ2aWNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIGluIE9yYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IGlzIGNvc21ldGljIG9yIGFzc29jaWF0ZWQgd2l0aCBUTUosIG9yIGZvciBNZWRpY2FsIHdoZXRoZXIgdGhlIHRyZWF0bWVudCB3YXMgb3V0c2lkZSB0aGUgY2xpbmljIG9yIG91dCBvZiBvZmZpY2UgaG91cnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGlmaWVyOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmFjdGl0aW9uZXIgd2hvIGlzIGVsaWdpYmxlIGZvciB0aGUgcHJvdmlzaW9uIG9mIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHByb3ZpZGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRydWUgaWYgdGhlIGluZGljYXRlZCBjbGFzcyBvZiBzZXJ2aWNlIGlzIGV4Y2x1ZGVkIGZyb20gdGhlIHBsYW4sIG1pc3Npbmcgb3IgRmFsc2UgaW5kaWNhdGVzIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2UgaXMgaW5jbHVkZWQgaW4gdGhlIGNvdmVyYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleGNsdWRlZD86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiBNRUQwMSwgb3IgREVOVDIuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlICdERU5UMiBjb3ZlcnMgMTAwJSBvZiBiYXNpYywgNTAlIG9mIG1ham9yIGJ1dCBleGNsdWRlcyBPcnRobywgSW1wbGFudHMgYW5kIENvc21ldGljIHNlcnZpY2VzJy5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElzIGEgZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoZSBiZW5lZml0cyByZWZlciB0byBpbi1uZXR3b3JrIHByb3ZpZGVycyBvciBvdXQtb2YtbmV0d29yayBwcm92aWRlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIG5ldHdvcms/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIGlmIHRoZSBiZW5lZml0cyBhcHBseSB0byBhbiBpbmRpdmlkdWFsIG9yIHRvIHRoZSBmYW1pbHkuXHJcbiAgICovXHJcbiAgcHVibGljIHVuaXQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRlcm0gb3IgcGVyaW9kIG9mIHRoZSB2YWx1ZXMgc3VjaCBhcyAnbWF4aW11bSBsaWZldGltZSBiZW5lZml0JyBvciAnbWF4aW11bSBhbm51YWwgdmlzaXRzJy5cclxuICAgKi9cclxuICBwdWJsaWMgdGVybT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBCZW5lZml0cyB1c2VkIHRvIGRhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGJlbmVmaXQ6IGZoaXIuQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlSW5zdXJhbmNlSXRlbUJlbmVmaXRbXTtcclxuICAvKipcclxuICAgKiBBIGJvb2xlYW4gZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgYSBwcmVhdXRob3JpemF0aW9uIGlzIHJlcXVpcmVkIHByaW9yIHRvIGFjdHVhbCBzZXJ2aWNlIGRlbGl2ZXJ5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdXRob3JpemF0aW9uUmVxdWlyZWQ/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2RlcyBvciBjb21tZW50cyByZWdhcmRpbmcgaW5mb3JtYXRpb24gb3IgYWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIHByZWF1dGhvcml6YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGF1dGhvcml6YXRpb25TdXBwb3J0aW5nOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEEgd2ViIGxvY2F0aW9uIGZvciBvYnRhaW5pbmcgcmVxdWlyZW1lbnRzIG9yIGRlc2NyaXB0aXZlIGluZm9ybWF0aW9uIHJlZ2FyZGluZyB0aGUgcHJlYXV0aG9yaXphdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aG9yaXphdGlvblVybD86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlSW5zdXJhbmNlSXRlbSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUluc3VyYW5jZUl0ZW1BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jYXRlZ29yeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3RPclNlcnZpY2UnXSkgeyB0aGlzLnByb2R1Y3RPclNlcnZpY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnByb2R1Y3RPclNlcnZpY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydtb2RpZmllciddKSB7IHRoaXMubW9kaWZpZXIgPSBzb3VyY2UubW9kaWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb2RpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm92aWRlciddKSB7IHRoaXMucHJvdmlkZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnByb3ZpZGVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhjbHVkZWQnXSkgeyB0aGlzLmV4Y2x1ZGVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuZXhjbHVkZWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2V4Y2x1ZGVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZXhjbHVkZWQpIHsgdGhpcy5leGNsdWRlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9leGNsdWRlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmV4Y2x1ZGVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9leGNsdWRlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0d29yayddKSB7IHRoaXMubmV0d29yayA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubmV0d29yayk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VuaXQnXSkgeyB0aGlzLnVuaXQgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnVuaXQpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0ZXJtJ10pIHsgdGhpcy50ZXJtID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50ZXJtKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmVuZWZpdCddKSB7IHRoaXMuYmVuZWZpdCA9IHNvdXJjZS5iZW5lZml0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlSW5zdXJhbmNlSXRlbUJlbmVmaXQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5iZW5lZml0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2F1dGhvcml6YXRpb25SZXF1aXJlZCddKSB7IHRoaXMuYXV0aG9yaXphdGlvblJlcXVpcmVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuYXV0aG9yaXphdGlvblJlcXVpcmVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hdXRob3JpemF0aW9uUmVxdWlyZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5hdXRob3JpemF0aW9uUmVxdWlyZWQpIHsgdGhpcy5hdXRob3JpemF0aW9uUmVxdWlyZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXV0aG9yaXphdGlvblJlcXVpcmVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYXV0aG9yaXphdGlvblJlcXVpcmVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9hdXRob3JpemF0aW9uUmVxdWlyZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdXRob3JpemF0aW9uU3VwcG9ydGluZyddKSB7IHRoaXMuYXV0aG9yaXphdGlvblN1cHBvcnRpbmcgPSBzb3VyY2UuYXV0aG9yaXphdGlvblN1cHBvcnRpbmcubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hdXRob3JpemF0aW9uU3VwcG9ydGluZyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhdXRob3JpemF0aW9uVXJsJ10pIHsgdGhpcy5hdXRob3JpemF0aW9uVXJsID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5hdXRob3JpemF0aW9uVXJsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hdXRob3JpemF0aW9uVXJsJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYXV0aG9yaXphdGlvblVybCkgeyB0aGlzLmF1dGhvcml6YXRpb25VcmwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXV0aG9yaXphdGlvblVybCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmF1dGhvcml6YXRpb25VcmwgPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fYXV0aG9yaXphdGlvblVybCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UuaW5zdXJhbmNlLml0ZW0nIH1cclxuICAgIHRoaXMudk9wdFMoJ2NhdGVnb3J5JyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygncHJvZHVjdE9yU2VydmljZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ21vZGlmaWVyJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygncHJvdmlkZXInLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdleGNsdWRlZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ25hbWUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdkZXNjcmlwdGlvbicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ25ldHdvcmsnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCd1bml0JyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygndGVybScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2JlbmVmaXQnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdhdXRob3JpemF0aW9uUmVxdWlyZWQnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdhdXRob3JpemF0aW9uU3VwcG9ydGluZycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2F1dGhvcml6YXRpb25VcmwnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlSW5zdXJhbmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUluc3VyYW5jZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byB0aGUgaW5zdXJhbmNlIGNhcmQgbGV2ZWwgaW5mb3JtYXRpb24gY29udGFpbmVkIGluIHRoZSBDb3ZlcmFnZSByZXNvdXJjZS4gVGhlIGNvdmVyYWdlIGlzc3VpbmcgaW5zdXJlciB3aWxsIHVzZSB0aGVzZSBkZXRhaWxzIHRvIGxvY2F0ZSB0aGUgcGF0aWVudCdzIGFjdHVhbCBjb3ZlcmFnZSB3aXRoaW4gdGhlIGluc3VyZXIncyBpbmZvcm1hdGlvbiBzeXN0ZW0uXHJcbiAgICovXHJcbiAgY292ZXJhZ2U6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgY292ZXJhZ2UgcHJvdmlkZWQgaXMgaW5mb3JjZSBjdXJyZW50bHkgaWYgbm8gc2VydmljZSBkYXRlKHMpIHNwZWNpZmllZCBvciBmb3IgdGhlIHdob2xlIGR1cmF0aW9uIG9mIHRoZSBzZXJ2aWNlIGRhdGVzLlxyXG4gICAqL1xyXG4gIGluZm9yY2U/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UuaW5zdXJhbmNlLmluZm9yY2VcclxuICAgKi9cclxuICBfaW5mb3JjZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRlcm0gb2YgdGhlIGJlbmVmaXRzIGRvY3VtZW50ZWQgaW4gdGhpcyByZXNwb25zZS5cclxuICAgKi9cclxuICBiZW5lZml0UGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBCZW5lZml0cyBhbmQgb3B0aW9uYWxseSBjdXJyZW50IGJhbGFuY2VzLCBhbmQgYXV0aG9yaXphdGlvbiBkZXRhaWxzIGJ5IGNhdGVnb3J5IG9yIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgaXRlbT86IGZoaXIuQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlSW5zdXJhbmNlSXRlbUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbGwgaW5zdXJhbmNlIGNvdmVyYWdlcyBmb3IgdGhlIHBhdGllbnQgd2hpY2ggbWF5IGJlIGFwcGxpY2FibGUgZm9yIHJlaW1idXJzZW1lbnQsIG9mIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMgbGlzdGVkIGluIHRoZSBjbGFpbSwgYXJlIHR5cGljYWxseSBwcm92aWRlZCBpbiB0aGUgY2xhaW0gdG8gYWxsb3cgaW5zdXJlcnMgdG8gY29uZmlybSB0aGUgb3JkZXJpbmcgb2YgdGhlIGluc3VyYW5jZSBjb3ZlcmFnZXMgcmVsYXRpdmUgdG8gbG9jYWwgJ2Nvb3JkaW5hdGlvbiBvZiBiZW5lZml0JyBydWxlcy4gT25lIGNvdmVyYWdlIChhbmQgb25seSBvbmUpIHdpdGggJ2ZvY2FsPXRydWUnIGlzIHRvIGJlIHVzZWQgaW4gdGhlIGFkanVkaWNhdGlvbiBvZiB0aGlzIGNsYWltLiBDb3ZlcmFnZXMgYXBwZWFyaW5nIGJlZm9yZSB0aGUgZm9jYWwgQ292ZXJhZ2UgaW4gdGhlIGxpc3QsIGFuZCB3aGVyZSAnc3Vicm9nYXRpb249ZmFsc2UnLCBzaG91bGQgcHJvdmlkZSBhIHJlZmVyZW5jZSB0byB0aGUgQ2xhaW1SZXNwb25zZSBjb250YWluaW5nIHRoZSBhZGp1ZGljYXRpb24gcmVzdWx0cyBvZiB0aGUgcHJpb3IgY2xhaW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlSW5zdXJhbmNlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlSW5zdXJhbmNlJztcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIGluc3VyYW5jZSBjYXJkIGxldmVsIGluZm9ybWF0aW9uIGNvbnRhaW5lZCBpbiB0aGUgQ292ZXJhZ2UgcmVzb3VyY2UuIFRoZSBjb3ZlcmFnZSBpc3N1aW5nIGluc3VyZXIgd2lsbCB1c2UgdGhlc2UgZGV0YWlscyB0byBsb2NhdGUgdGhlIHBhdGllbnQncyBhY3R1YWwgY292ZXJhZ2Ugd2l0aGluIHRoZSBpbnN1cmVyJ3MgaW5mb3JtYXRpb24gc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3ZlcmFnZTogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIGNvdmVyYWdlIHByb3ZpZGVkIGlzIGluZm9yY2UgY3VycmVudGx5IGlmIG5vIHNlcnZpY2UgZGF0ZShzKSBzcGVjaWZpZWQgb3IgZm9yIHRoZSB3aG9sZSBkdXJhdGlvbiBvZiB0aGUgc2VydmljZSBkYXRlcy5cclxuICAgKi9cclxuICBwdWJsaWMgaW5mb3JjZT86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0ZXJtIG9mIHRoZSBiZW5lZml0cyBkb2N1bWVudGVkIGluIHRoaXMgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcHVibGljIGJlbmVmaXRQZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQmVuZWZpdHMgYW5kIG9wdGlvbmFsbHkgY3VycmVudCBiYWxhbmNlcywgYW5kIGF1dGhvcml6YXRpb24gZGV0YWlscyBieSBjYXRlZ29yeSBvciBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpdGVtOiBmaGlyLkNvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUluc3VyYW5jZUl0ZW1bXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY292ZXJhZ2UnXSkgeyB0aGlzLmNvdmVyYWdlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5jb3ZlcmFnZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvdmVyYWdlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5mb3JjZSddKSB7IHRoaXMuaW5mb3JjZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmluZm9yY2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2luZm9yY2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5pbmZvcmNlKSB7IHRoaXMuaW5mb3JjZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pbmZvcmNlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaW5mb3JjZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5faW5mb3JjZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2JlbmVmaXRQZXJpb2QnXSkgeyB0aGlzLmJlbmVmaXRQZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLmJlbmVmaXRQZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydpdGVtJ10pIHsgdGhpcy5pdGVtID0gc291cmNlLml0ZW0ubWFwKCh4KSA9PiBuZXcgZmhpci5Db3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VJdGVtKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaXRlbSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0NvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZS5pbnN1cmFuY2UnIH1cclxuICAgIHRoaXMudlJlcVMoJ2NvdmVyYWdlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnaW5mb3JjZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2JlbmVmaXRQZXJpb2QnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdpdGVtJyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUVycm9yIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUVycm9yQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQW4gZXJyb3IgY29kZSxmcm9tIGEgc3BlY2lmaWVkIGNvZGUgc3lzdGVtLCB3aGljaCBkZXRhaWxzIHdoeSB0aGUgZWxpZ2liaWxpdHkgY2hlY2sgY291bGQgbm90IGJlIHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVycm9ycyBlbmNvdW50ZXJlZCBkdXJpbmcgdGhlIHByb2Nlc3Npbmcgb2YgdGhlIHJlcXVlc3QuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VFcnJvcic7XHJcbiAgLyoqXHJcbiAgICogQW4gZXJyb3IgY29kZSxmcm9tIGEgc3BlY2lmaWVkIGNvZGUgc3lzdGVtLCB3aGljaCBkZXRhaWxzIHdoeSB0aGUgZWxpZ2liaWxpdHkgY2hlY2sgY291bGQgbm90IGJlIHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VFcnJvciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUVycm9yQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UuZXJyb3InIH1cclxuICAgIHRoaXMudlJlcVMoJ2NvZGUnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkNvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGFzc2lnbmVkIHRvIHRoaXMgY292ZXJhZ2UgZWxpZ2libGl0eSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgdG8gc3BlY2lmeSB3aGV0aGVyIHJlcXVlc3Rpbmc6IHByaW9yIGF1dGhvcml6YXRpb24gcmVxdWlyZW1lbnRzIGZvciBzb21lIHNlcnZpY2UgY2F0ZWdvcmllcyBvciBiaWxsaW5nIGNvZGVzOyBiZW5lZml0cyBmb3IgY292ZXJhZ2VzIHNwZWNpZmllZCBvciBkaXNjb3ZlcmVkOyBkaXNjb3ZlcnkgYW5kIHJldHVybiBvZiBjb3ZlcmFnZXMgZm9yIHRoZSBwYXRpZW50OyBhbmQvb3IgdmFsaWRhdGlvbiB0aGF0IHRoZSBzcGVjaWZpZWQgY292ZXJhZ2UgaXMgaW4tZm9yY2UgYXQgdGhlIGRhdGUvcGVyaW9kIHNwZWNpZmllZCBvciAnbm93JyBpZiBub3Qgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1cnBvc2U6IGZoaXIuRmhpckNvZGU8RWxpZ2liaWxpdHlyZXNwb25zZVB1cnBvc2VDb2RlVHlwZT5bXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UucHVycG9zZVxyXG4gICAqL1xyXG4gIF9wdXJwb3NlPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGFydHkgd2hvIGlzIHRoZSBiZW5lZmljaWFyeSBvZiB0aGUgc3VwcGxpZWQgY292ZXJhZ2UgYW5kIGZvciB3aG9tIGVsaWdpYmlsaXR5IGlzIHNvdWdodC5cclxuICAgKi9cclxuICBwYXRpZW50OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBvciBkYXRlcyB3aGVuIHRoZSBlbmNsb3NlZCBzdWl0ZSBvZiBzZXJ2aWNlcyB3ZXJlIHBlcmZvcm1lZCBvciBjb21wbGV0ZWQuXHJcbiAgICovXHJcbiAgc2VydmljZWQ/OiBmaGlyLkZoaXJEYXRlfGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBvciBkYXRlcyB3aGVuIHRoZSBlbmNsb3NlZCBzdWl0ZSBvZiBzZXJ2aWNlcyB3ZXJlIHBlcmZvcm1lZCBvciBjb21wbGV0ZWQuXHJcbiAgICovXHJcbiAgc2VydmljZWREYXRlPzogZmhpci5GaGlyRGF0ZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIG9yIGRhdGVzIHdoZW4gdGhlIGVuY2xvc2VkIHN1aXRlIG9mIHNlcnZpY2VzIHdlcmUgcGVyZm9ybWVkIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBzZXJ2aWNlZFBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgdGhpcyByZXNvdXJjZSB3YXMgY3JlYXRlZC5cclxuICAgKi9cclxuICBjcmVhdGVkOiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UuY3JlYXRlZFxyXG4gICAqL1xyXG4gIF9jcmVhdGVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHkgdGhpcyBmaWVsZCB3b3VsZCBiZSAxLi4xIHdoZXJlIHRoaXMgcGFydHkgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBjbGFpbSBidXQgbm90IG5lY2Vzc2FyaWx5IHByb2Zlc3Npb25hbGx5IHJlc3BvbnNpYmxlIGZvciB0aGUgcHJvdmlzaW9uIG9mIHRoZSBpbmRpdmlkdWFsIHByb2R1Y3RzIGFuZCBzZXJ2aWNlcyBsaXN0ZWQgYmVsb3cuXHJcbiAgICovXHJcbiAgcmVxdWVzdG9yPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIHJlcXVlc3QgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcmVxdWVzdDogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlc291cmNlIG1heSBiZSB1c2VkIHRvIGluZGljYXRlIHRoYXQ6IHRoZSByZXF1ZXN0IGhhcyBiZWVuIGhlbGQgKHF1ZXVlZCkgZm9yIHByb2Nlc3Npbmc7IHRoYXQgaXQgaGFzIGJlZW4gcHJvY2Vzc2VkIGFuZCBlcnJvcnMgZm91bmQgKGVycm9yKTsgdGhhdCBubyBlcnJvcnMgd2VyZSBmb3VuZCBhbmQgdGhhdCBzb21lIG9mIHRoZSBhZGp1ZGljYXRpb24gaGFzIGJlZW4gdW5kZXJ0YWtlbiAocGFydGlhbCkgb3IgdGhhdCBhbGwgb2YgdGhlIGFkanVkaWNhdGlvbiBoYXMgYmVlbiB1bmRlcnRha2VuIChjb21wbGV0ZSkuXHJcbiAgICovXHJcbiAgb3V0Y29tZTogZmhpci5GaGlyQ29kZTxSZW1pdHRhbmNlT3V0Y29tZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2Uub3V0Y29tZVxyXG4gICAqL1xyXG4gIF9vdXRjb21lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGh1bWFuIHJlYWRhYmxlIGRlc2NyaXB0aW9uIG9mIHRoZSBzdGF0dXMgb2YgdGhlIGFkanVkaWNhdGlvbi5cclxuICAgKi9cclxuICBkaXNwb3NpdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UuZGlzcG9zaXRpb25cclxuICAgKi9cclxuICBfZGlzcG9zaXRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBJbnN1cmVyIHdobyBpc3N1ZWQgdGhlIGNvdmVyYWdlIGluIHF1ZXN0aW9uIGFuZCBpcyB0aGUgYXV0aG9yIG9mIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICBpbnN1cmVyOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBbGwgaW5zdXJhbmNlIGNvdmVyYWdlcyBmb3IgdGhlIHBhdGllbnQgd2hpY2ggbWF5IGJlIGFwcGxpY2FibGUgZm9yIHJlaW1idXJzZW1lbnQsIG9mIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMgbGlzdGVkIGluIHRoZSBjbGFpbSwgYXJlIHR5cGljYWxseSBwcm92aWRlZCBpbiB0aGUgY2xhaW0gdG8gYWxsb3cgaW5zdXJlcnMgdG8gY29uZmlybSB0aGUgb3JkZXJpbmcgb2YgdGhlIGluc3VyYW5jZSBjb3ZlcmFnZXMgcmVsYXRpdmUgdG8gbG9jYWwgJ2Nvb3JkaW5hdGlvbiBvZiBiZW5lZml0JyBydWxlcy4gT25lIGNvdmVyYWdlIChhbmQgb25seSBvbmUpIHdpdGggJ2ZvY2FsPXRydWUnIGlzIHRvIGJlIHVzZWQgaW4gdGhlIGFkanVkaWNhdGlvbiBvZiB0aGlzIGNsYWltLiBDb3ZlcmFnZXMgYXBwZWFyaW5nIGJlZm9yZSB0aGUgZm9jYWwgQ292ZXJhZ2UgaW4gdGhlIGxpc3QsIGFuZCB3aGVyZSAnc3Vicm9nYXRpb249ZmFsc2UnLCBzaG91bGQgcHJvdmlkZSBhIHJlZmVyZW5jZSB0byB0aGUgQ2xhaW1SZXNwb25zZSBjb250YWluaW5nIHRoZSBhZGp1ZGljYXRpb24gcmVzdWx0cyBvZiB0aGUgcHJpb3IgY2xhaW0uXHJcbiAgICovXHJcbiAgaW5zdXJhbmNlPzogZmhpci5Db3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIGZyb20gdGhlIEluc3VyZXIgdG8gd2hpY2ggdGhlc2Ugc2VydmljZXMgcGVydGFpbiB0byBiZSB1c2VkIG9uIGZ1cnRoZXIgY29tbXVuaWNhdGlvbiBhbmQgYXMgcHJvb2YgdGhhdCB0aGUgcmVxdWVzdCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBwcmVBdXRoUmVmPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvdmVyYWdlRWxpZ2liaWxpdHlSZXNwb25zZS5wcmVBdXRoUmVmXHJcbiAgICovXHJcbiAgX3ByZUF1dGhSZWY/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE1heSBiZSBuZWVkZWQgdG8gaWRlbnRpZnkgc3BlY2lmaWMganVyaXNkaWN0aW9uYWwgZm9ybXMuXHJcbiAgICovXHJcbiAgZm9ybT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXJyb3JzIGVuY291bnRlcmVkIGR1cmluZyB0aGUgcHJvY2Vzc2luZyBvZiB0aGUgcmVxdWVzdC5cclxuICAgKi9cclxuICBlcnJvcj86IGZoaXIuQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlRXJyb3JBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyByZXNvdXJjZSBwcm92aWRlcyBlbGlnaWJpbGl0eSBhbmQgcGxhbiBkZXRhaWxzIGZyb20gdGhlIHByb2Nlc3Npbmcgb2YgYW4gQ292ZXJhZ2VFbGlnaWJpbGl0eVJlcXVlc3QgcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlXCI7XHJcbiAgLyoqXHJcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBhc3NpZ25lZCB0byB0aGlzIGNvdmVyYWdlIGVsaWdpYmxpdHkgcmVxdWVzdC5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBDb2RlIHRvIHNwZWNpZnkgd2hldGhlciByZXF1ZXN0aW5nOiBwcmlvciBhdXRob3JpemF0aW9uIHJlcXVpcmVtZW50cyBmb3Igc29tZSBzZXJ2aWNlIGNhdGVnb3JpZXMgb3IgYmlsbGluZyBjb2RlczsgYmVuZWZpdHMgZm9yIGNvdmVyYWdlcyBzcGVjaWZpZWQgb3IgZGlzY292ZXJlZDsgZGlzY292ZXJ5IGFuZCByZXR1cm4gb2YgY292ZXJhZ2VzIGZvciB0aGUgcGF0aWVudDsgYW5kL29yIHZhbGlkYXRpb24gdGhhdCB0aGUgc3BlY2lmaWVkIGNvdmVyYWdlIGlzIGluLWZvcmNlIGF0IHRoZSBkYXRlL3BlcmlvZCBzcGVjaWZpZWQgb3IgJ25vdycgaWYgbm90IHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZTogZmhpci5GaGlyQ29kZTxFbGlnaWJpbGl0eXJlc3BvbnNlUHVycG9zZUNvZGVUeXBlPltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJ0eSB3aG8gaXMgdGhlIGJlbmVmaWNpYXJ5IG9mIHRoZSBzdXBwbGllZCBjb3ZlcmFnZSBhbmQgZm9yIHdob20gZWxpZ2liaWxpdHkgaXMgc291Z2h0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50OiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIG9yIGRhdGVzIHdoZW4gdGhlIGVuY2xvc2VkIHN1aXRlIG9mIHNlcnZpY2VzIHdlcmUgcGVyZm9ybWVkIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc2VydmljZWQ/OiAoZmhpci5GaGlyRGF0ZXxmaGlyLlBlcmlvZCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlLnNlcnZpY2VkW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3NlcnZpY2VkSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgdGhpcyByZXNvdXJjZSB3YXMgY3JlYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY3JlYXRlZDogZmhpci5GaGlyRGF0ZVRpbWV8bnVsbDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHkgdGhpcyBmaWVsZCB3b3VsZCBiZSAxLi4xIHdoZXJlIHRoaXMgcGFydHkgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBjbGFpbSBidXQgbm90IG5lY2Vzc2FyaWx5IHByb2Zlc3Npb25hbGx5IHJlc3BvbnNpYmxlIGZvciB0aGUgcHJvdmlzaW9uIG9mIHRoZSBpbmRpdmlkdWFsIHByb2R1Y3RzIGFuZCBzZXJ2aWNlcyBsaXN0ZWQgYmVsb3cuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3Rvcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIHJlcXVlc3QgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3Q6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlc291cmNlIG1heSBiZSB1c2VkIHRvIGluZGljYXRlIHRoYXQ6IHRoZSByZXF1ZXN0IGhhcyBiZWVuIGhlbGQgKHF1ZXVlZCkgZm9yIHByb2Nlc3Npbmc7IHRoYXQgaXQgaGFzIGJlZW4gcHJvY2Vzc2VkIGFuZCBlcnJvcnMgZm91bmQgKGVycm9yKTsgdGhhdCBubyBlcnJvcnMgd2VyZSBmb3VuZCBhbmQgdGhhdCBzb21lIG9mIHRoZSBhZGp1ZGljYXRpb24gaGFzIGJlZW4gdW5kZXJ0YWtlbiAocGFydGlhbCkgb3IgdGhhdCBhbGwgb2YgdGhlIGFkanVkaWNhdGlvbiBoYXMgYmVlbiB1bmRlcnRha2VuIChjb21wbGV0ZSkuXHJcbiAgICovXHJcbiAgcHVibGljIG91dGNvbWU6IGZoaXIuRmhpckNvZGU8UmVtaXR0YW5jZU91dGNvbWVDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBBIGh1bWFuIHJlYWRhYmxlIGRlc2NyaXB0aW9uIG9mIHRoZSBzdGF0dXMgb2YgdGhlIGFkanVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzcG9zaXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBJbnN1cmVyIHdobyBpc3N1ZWQgdGhlIGNvdmVyYWdlIGluIHF1ZXN0aW9uIGFuZCBpcyB0aGUgYXV0aG9yIG9mIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdXJlcjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBBbGwgaW5zdXJhbmNlIGNvdmVyYWdlcyBmb3IgdGhlIHBhdGllbnQgd2hpY2ggbWF5IGJlIGFwcGxpY2FibGUgZm9yIHJlaW1idXJzZW1lbnQsIG9mIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMgbGlzdGVkIGluIHRoZSBjbGFpbSwgYXJlIHR5cGljYWxseSBwcm92aWRlZCBpbiB0aGUgY2xhaW0gdG8gYWxsb3cgaW5zdXJlcnMgdG8gY29uZmlybSB0aGUgb3JkZXJpbmcgb2YgdGhlIGluc3VyYW5jZSBjb3ZlcmFnZXMgcmVsYXRpdmUgdG8gbG9jYWwgJ2Nvb3JkaW5hdGlvbiBvZiBiZW5lZml0JyBydWxlcy4gT25lIGNvdmVyYWdlIChhbmQgb25seSBvbmUpIHdpdGggJ2ZvY2FsPXRydWUnIGlzIHRvIGJlIHVzZWQgaW4gdGhlIGFkanVkaWNhdGlvbiBvZiB0aGlzIGNsYWltLiBDb3ZlcmFnZXMgYXBwZWFyaW5nIGJlZm9yZSB0aGUgZm9jYWwgQ292ZXJhZ2UgaW4gdGhlIGxpc3QsIGFuZCB3aGVyZSAnc3Vicm9nYXRpb249ZmFsc2UnLCBzaG91bGQgcHJvdmlkZSBhIHJlZmVyZW5jZSB0byB0aGUgQ2xhaW1SZXNwb25zZSBjb250YWluaW5nIHRoZSBhZGp1ZGljYXRpb24gcmVzdWx0cyBvZiB0aGUgcHJpb3IgY2xhaW0uXHJcbiAgICovXHJcbiAgcHVibGljIGluc3VyYW5jZTogZmhpci5Db3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2VbXTtcclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSBmcm9tIHRoZSBJbnN1cmVyIHRvIHdoaWNoIHRoZXNlIHNlcnZpY2VzIHBlcnRhaW4gdG8gYmUgdXNlZCBvbiBmdXJ0aGVyIGNvbW11bmljYXRpb24gYW5kIGFzIHByb29mIHRoYXQgdGhlIHJlcXVlc3Qgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHByZUF1dGhSZWY/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1heSBiZSBuZWVkZWQgdG8gaWRlbnRpZnkgc3BlY2lmaWMganVyaXNkaWN0aW9uYWwgZm9ybXMuXHJcbiAgICovXHJcbiAgcHVibGljIGZvcm0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXJyb3JzIGVuY291bnRlcmVkIGR1cmluZyB0aGUgcHJvY2Vzc2luZyBvZiB0aGUgcmVxdWVzdC5cclxuICAgKi9cclxuICBwdWJsaWMgZXJyb3I6IGZoaXIuQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlRXJyb3JbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3B1cnBvc2UnXSkgeyB0aGlzLnB1cnBvc2UgPSBzb3VyY2UucHVycG9zZS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDb2RlPEVsaWdpYmlsaXR5cmVzcG9uc2VQdXJwb3NlQ29kZVR5cGU+KHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHVycG9zZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHVycG9zZSddKSB7XHJcbiAgICAgIHNvdXJjZS5fcHVycG9zZS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wdXJwb3NlLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMucHVycG9zZVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnB1cnBvc2UucHVzaChuZXcgZmhpci5GaGlyQ29kZTxFbGlnaWJpbGl0eXJlc3BvbnNlUHVycG9zZUNvZGVUeXBlPih4IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aWVudCddKSB7IHRoaXMucGF0aWVudCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGF0aWVudCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhdGllbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXJ2aWNlZCddKSB7IHRoaXMuc2VydmljZWQgPSBzb3VyY2Uuc2VydmljZWQ7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnc2VydmljZWREYXRlJ10pIHsgdGhpcy5zZXJ2aWNlZCA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLnNlcnZpY2VkRGF0ZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3NlcnZpY2VkUGVyaW9kJ10pIHsgdGhpcy5zZXJ2aWNlZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2Uuc2VydmljZWRQZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydjcmVhdGVkJ10pIHsgdGhpcy5jcmVhdGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmNyZWF0ZWR9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY3JlYXRlZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jcmVhdGVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY3JlYXRlZCkgeyB0aGlzLmNyZWF0ZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY3JlYXRlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNyZWF0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9jcmVhdGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcXVlc3RvciddKSB7IHRoaXMucmVxdWVzdG9yID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZXF1ZXN0b3IpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXF1ZXN0J10pIHsgdGhpcy5yZXF1ZXN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZXF1ZXN0KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVxdWVzdCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ291dGNvbWUnXSkgeyB0aGlzLm91dGNvbWUgPSBuZXcgZmhpci5GaGlyQ29kZTxSZW1pdHRhbmNlT3V0Y29tZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5vdXRjb21lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm91dGNvbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3V0Y29tZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm91dGNvbWUpIHsgdGhpcy5vdXRjb21lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX291dGNvbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vdXRjb21lID0gbmV3IGZoaXIuRmhpckNvZGU8UmVtaXR0YW5jZU91dGNvbWVDb2RlVHlwZT4oc291cmNlLl9vdXRjb21lIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkaXNwb3NpdGlvbiddKSB7IHRoaXMuZGlzcG9zaXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRpc3Bvc2l0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kaXNwb3NpdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRpc3Bvc2l0aW9uKSB7IHRoaXMuZGlzcG9zaXRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGlzcG9zaXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kaXNwb3NpdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kaXNwb3NpdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5zdXJlciddKSB7IHRoaXMuaW5zdXJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuaW5zdXJlcik7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluc3VyZXIgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnN1cmFuY2UnXSkgeyB0aGlzLmluc3VyYW5jZSA9IHNvdXJjZS5pbnN1cmFuY2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VJbnN1cmFuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnN1cmFuY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJlQXV0aFJlZiddKSB7IHRoaXMucHJlQXV0aFJlZiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucHJlQXV0aFJlZn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJlQXV0aFJlZiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByZUF1dGhSZWYpIHsgdGhpcy5wcmVBdXRoUmVmLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ByZUF1dGhSZWYhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcmVBdXRoUmVmID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ByZUF1dGhSZWYgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Zvcm0nXSkgeyB0aGlzLmZvcm0gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmZvcm0pOyB9XHJcbiAgICBpZiAoc291cmNlWydlcnJvciddKSB7IHRoaXMuZXJyb3IgPSBzb3VyY2UuZXJyb3IubWFwKCh4KSA9PiBuZXcgZmhpci5Db3ZlcmFnZUVsaWdpYmlsaXR5UmVzcG9uc2VFcnJvcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVycm9yID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQ292ZXJhZ2VFbGlnaWJpbGl0eVJlc3BvbnNlJyB9XHJcbiAgICB0aGlzLnZSZXFTKCdyZXNvdXJjZVR5cGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdpZGVudGlmaWVyJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52UmVxU1YoJ3N0YXR1cycsZXhwcmVzc2lvbiwnRm1TdGF0dXMnLEZtU3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudlJlcUFWKCdwdXJwb3NlJyxleHByZXNzaW9uLCdFbGlnaWJpbGl0eXJlc3BvbnNlUHVycG9zZScsRWxpZ2liaWxpdHlyZXNwb25zZVB1cnBvc2VWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52UmVxUygncGF0aWVudCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3NlcnZpY2VkJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52UmVxUygnY3JlYXRlZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3JlcXVlc3RvcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudlJlcVMoJ3JlcXVlc3QnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZSZXFTVignb3V0Y29tZScsZXhwcmVzc2lvbiwnUmVtaXR0YW5jZU91dGNvbWUnLFJlbWl0dGFuY2VPdXRjb21lVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9wdFMoJ2Rpc3Bvc2l0aW9uJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52UmVxUygnaW5zdXJlcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2luc3VyYW5jZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3ByZUF1dGhSZWYnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdmb3JtJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnZXJyb3InLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=