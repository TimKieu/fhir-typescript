// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Claim
import * as fhir from '../fhir.js';
// @ts-ignore
import { V3ActIncidentCodeCodings, } from '../fhirValueSets/V3ActIncidentCodeCodings.js';
// @ts-ignore
import { FmStatusCodings, } from '../fhirValueSets/FmStatusCodings.js';
// @ts-ignore
import { ClaimTypeCodings, } from '../fhirValueSets/ClaimTypeCodings.js';
// @ts-ignore
import { ClaimUseCodings, } from '../fhirValueSets/ClaimUseCodings.js';
/**
 * For example,  for the original treatment and follow-up exams.
 */
export class ClaimRelated extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimRelated - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['claim']) {
            this.claim = new fhir.Reference(source.claim);
        }
        if (source['relationship']) {
            this.relationship = new fhir.CodeableConcept(source.relationship);
        }
        if (source['reference']) {
            this.reference = new fhir.Identifier(source.reference);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["claim"]) {
            issues.push(...this.claim.doModelValidation());
        }
        if (this["relationship"]) {
            issues.push(...this.relationship.doModelValidation());
        }
        if (this["reference"]) {
            issues.push(...this.reference.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimRelated._fts_dataType = 'ClaimRelated';
/**
 * Often providers agree to receive the benefits payable to reduce the near-term costs to the patient. The insurer may decline to pay the provider and choose to pay the subscriber instead.
 */
export class ClaimPayee extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimPayee - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['party']) {
            this.party = new fhir.Reference(source.party);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: Claim.payee.type:CodeableConcept', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["party"]) {
            issues.push(...this.party.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimPayee._fts_dataType = 'ClaimPayee';
/**
 * The members of the team who provided the products and services.
 */
export class ClaimCareTeam extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimCareTeam - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        else {
            this.sequence = null;
        }
        if (source['provider']) {
            this.provider = new fhir.Reference(source.provider);
        }
        else {
            this.provider = null;
        }
        if (source['responsible']) {
            this.responsible = new fhir.FhirBoolean({ value: source.responsible });
        }
        if (source['role']) {
            this.role = new fhir.CodeableConcept(source.role);
        }
        if (source['qualification']) {
            this.qualification = new fhir.CodeableConcept(source.qualification);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['sequence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property sequence:fhir.FhirPositiveInt fhir: Claim.careTeam.sequence:positiveInt', });
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (!this['provider']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property provider:fhir.Reference fhir: Claim.careTeam.provider:Reference', });
        }
        if (this["provider"]) {
            issues.push(...this.provider.doModelValidation());
        }
        if (this["responsible"]) {
            issues.push(...this.responsible.doModelValidation());
        }
        if (this["role"]) {
            issues.push(...this.role.doModelValidation());
        }
        if (this["qualification"]) {
            issues.push(...this.qualification.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimCareTeam._fts_dataType = 'ClaimCareTeam';
/**
 * Often there are multiple jurisdiction specific valuesets which are required.
 */
export class ClaimSupportingInfo extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimSupportingInfo - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        else {
            this.sequence = null;
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category);
        }
        else {
            this.category = null;
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['timing']) {
            this.timing = source.timing;
        }
        else if (source['timingDate']) {
            this.timing = new fhir.FhirDate({ value: source.timingDate });
        }
        else if (source['timingPeriod']) {
            this.timing = new fhir.Period(source.timingPeriod);
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment);
        }
        else if (source['valueReference']) {
            this.value = new fhir.Reference(source.valueReference);
        }
        if (source['reason']) {
            this.reason = new fhir.CodeableConcept(source.reason);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['sequence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property sequence:fhir.FhirPositiveInt fhir: Claim.supportingInfo.sequence:positiveInt', });
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (!this['category']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property category:fhir.CodeableConcept fhir: Claim.supportingInfo.category:CodeableConcept', });
        }
        if (this["category"]) {
            issues.push(...this.category.doModelValidation());
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation());
        }
        if (this["reason"]) {
            issues.push(...this.reason.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimSupportingInfo._fts_dataType = 'ClaimSupportingInfo';
/**
 * Internal flag to properly serialize choice-type element Claim.supportingInfo.timing[x]
 */
ClaimSupportingInfo._fts_timingIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Claim.supportingInfo.value[x]
 */
ClaimSupportingInfo._fts_valueIsChoice = true;
/**
 * Information about diagnoses relevant to the claim items.
 */
export class ClaimDiagnosis extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimDiagnosis - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        else {
            this.sequence = null;
        }
        if (source['diagnosis']) {
            this.diagnosis = source.diagnosis;
        }
        else if (source['diagnosisCodeableConcept']) {
            this.diagnosis = new fhir.CodeableConcept(source.diagnosisCodeableConcept);
        }
        else if (source['diagnosisReference']) {
            this.diagnosis = new fhir.Reference(source.diagnosisReference);
        }
        else {
            this.diagnosis = null;
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['onAdmission']) {
            this.onAdmission = new fhir.CodeableConcept(source.onAdmission);
        }
        if (source['packageCode']) {
            this.packageCode = new fhir.CodeableConcept(source.packageCode);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['sequence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property sequence:fhir.FhirPositiveInt fhir: Claim.diagnosis.sequence:positiveInt', });
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (!this['diagnosis']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property diagnosis: fhir: Claim.diagnosis.diagnosis[x]:', });
        }
        if (this["type"]) {
            this.type.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["onAdmission"]) {
            issues.push(...this.onAdmission.doModelValidation());
        }
        if (this["packageCode"]) {
            issues.push(...this.packageCode.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimDiagnosis._fts_dataType = 'ClaimDiagnosis';
/**
 * Internal flag to properly serialize choice-type element Claim.diagnosis.diagnosis[x]
 */
ClaimDiagnosis._fts_diagnosisIsChoice = true;
/**
 * Procedures performed on the patient relevant to the billing items with the claim.
 */
export class ClaimProcedure extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimProcedure - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        else {
            this.sequence = null;
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['procedure']) {
            this.procedure = source.procedure;
        }
        else if (source['procedureCodeableConcept']) {
            this.procedure = new fhir.CodeableConcept(source.procedureCodeableConcept);
        }
        else if (source['procedureReference']) {
            this.procedure = new fhir.Reference(source.procedureReference);
        }
        else {
            this.procedure = null;
        }
        if (source['udi']) {
            this.udi = source.udi.map((x) => new fhir.Reference(x));
        }
        else {
            this.udi = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['sequence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property sequence:fhir.FhirPositiveInt fhir: Claim.procedure.sequence:positiveInt', });
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (this["type"]) {
            this.type.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation());
        }
        if (!this['procedure']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property procedure: fhir: Claim.procedure.procedure[x]:', });
        }
        if (this["udi"]) {
            this.udi.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimProcedure._fts_dataType = 'ClaimProcedure';
/**
 * Internal flag to properly serialize choice-type element Claim.procedure.procedure[x]
 */
ClaimProcedure._fts_procedureIsChoice = true;
/**
 * All insurance coverages for the patient which may be applicable for reimbursement, of the products and services listed in the claim, are typically provided in the claim to allow insurers to confirm the ordering of the insurance coverages relative to local 'coordination of benefit' rules. One coverage (and only one) with 'focal=true' is to be used in the adjudication of this claim. Coverages appearing before the focal Coverage in the list, and where 'Coverage.subrogation=false', should provide a reference to the ClaimResponse containing the adjudication results of the prior claim.
 */
export class ClaimInsurance extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimInsurance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        else {
            this.sequence = null;
        }
        if (source['focal']) {
            this.focal = new fhir.FhirBoolean({ value: source.focal });
        }
        else {
            this.focal = null;
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['coverage']) {
            this.coverage = new fhir.Reference(source.coverage);
        }
        else {
            this.coverage = null;
        }
        if (source['businessArrangement']) {
            this.businessArrangement = new fhir.FhirString({ value: source.businessArrangement });
        }
        if (source['preAuthRef']) {
            this.preAuthRef = source.preAuthRef.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.preAuthRef = [];
        }
        if (source['claimResponse']) {
            this.claimResponse = new fhir.Reference(source.claimResponse);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['sequence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property sequence:fhir.FhirPositiveInt fhir: Claim.insurance.sequence:positiveInt', });
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (!this['focal']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property focal:fhir.FhirBoolean fhir: Claim.insurance.focal:boolean', });
        }
        if (this["focal"]) {
            issues.push(...this.focal.doModelValidation());
        }
        if (this["identifier"]) {
            issues.push(...this.identifier.doModelValidation());
        }
        if (!this['coverage']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property coverage:fhir.Reference fhir: Claim.insurance.coverage:Reference', });
        }
        if (this["coverage"]) {
            issues.push(...this.coverage.doModelValidation());
        }
        if (this["businessArrangement"]) {
            issues.push(...this.businessArrangement.doModelValidation());
        }
        if (this["preAuthRef"]) {
            this.preAuthRef.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["claimResponse"]) {
            issues.push(...this.claimResponse.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimInsurance._fts_dataType = 'ClaimInsurance';
/**
 * Details of an accident which resulted in injuries which required the products and services listed in the claim.
 */
export class ClaimAccident extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimAccident - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['date']) {
            this.date = new fhir.FhirDate({ value: source.date });
        }
        else {
            this.date = null;
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['location']) {
            this.location = source.location;
        }
        else if (source['locationAddress']) {
            this.location = new fhir.Address(source.locationAddress);
        }
        else if (source['locationReference']) {
            this.location = new fhir.Reference(source.locationReference);
        }
    }
    /**
     * Extensible-bound Value Set for type (Claim.accident.type)
     */
    static typeExtensibleCoding() {
        return V3ActIncidentCodeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['date']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property date:fhir.FhirDate fhir: Claim.accident.date:date', });
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation());
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimAccident._fts_dataType = 'ClaimAccident';
/**
 * Internal flag to properly serialize choice-type element Claim.accident.location[x]
 */
ClaimAccident._fts_locationIsChoice = true;
/**
 * A claim detail line. Either a simple (a product or service) or a 'group' of sub-details which are simple items.
 */
export class ClaimItemDetailSubDetail extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimItemDetailSubDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        else {
            this.sequence = null;
        }
        if (source['revenue']) {
            this.revenue = new fhir.CodeableConcept(source.revenue);
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category);
        }
        if (source['productOrService']) {
            this.productOrService = new fhir.CodeableConcept(source.productOrService);
        }
        else {
            this.productOrService = null;
        }
        if (source['modifier']) {
            this.modifier = source.modifier.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.modifier = [];
        }
        if (source['programCode']) {
            this.programCode = source.programCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.programCode = [];
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        if (source['unitPrice']) {
            this.unitPrice = new fhir.Money(source.unitPrice);
        }
        if (source['factor']) {
            this.factor = new fhir.FhirDecimal({ value: source.factor });
        }
        if (source['net']) {
            this.net = new fhir.Money(source.net);
        }
        if (source['udi']) {
            this.udi = source.udi.map((x) => new fhir.Reference(x));
        }
        else {
            this.udi = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['sequence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property sequence:fhir.FhirPositiveInt fhir: Claim.item.detail.subDetail.sequence:positiveInt', });
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (this["revenue"]) {
            issues.push(...this.revenue.doModelValidation());
        }
        if (this["category"]) {
            issues.push(...this.category.doModelValidation());
        }
        if (!this['productOrService']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property productOrService:fhir.CodeableConcept fhir: Claim.item.detail.subDetail.productOrService:CodeableConcept', });
        }
        if (this["productOrService"]) {
            issues.push(...this.productOrService.doModelValidation());
        }
        if (this["modifier"]) {
            this.modifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["programCode"]) {
            this.programCode.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["quantity"]) {
            issues.push(...this.quantity.doModelValidation());
        }
        if (this["unitPrice"]) {
            issues.push(...this.unitPrice.doModelValidation());
        }
        if (this["factor"]) {
            issues.push(...this.factor.doModelValidation());
        }
        if (this["net"]) {
            issues.push(...this.net.doModelValidation());
        }
        if (this["udi"]) {
            this.udi.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimItemDetailSubDetail._fts_dataType = 'ClaimItemDetailSubDetail';
/**
 * A claim detail line. Either a simple (a product or service) or a 'group' of sub-details which are simple items.
 */
export class ClaimItemDetail extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimItemDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        else {
            this.sequence = null;
        }
        if (source['revenue']) {
            this.revenue = new fhir.CodeableConcept(source.revenue);
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category);
        }
        if (source['productOrService']) {
            this.productOrService = new fhir.CodeableConcept(source.productOrService);
        }
        else {
            this.productOrService = null;
        }
        if (source['modifier']) {
            this.modifier = source.modifier.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.modifier = [];
        }
        if (source['programCode']) {
            this.programCode = source.programCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.programCode = [];
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        if (source['unitPrice']) {
            this.unitPrice = new fhir.Money(source.unitPrice);
        }
        if (source['factor']) {
            this.factor = new fhir.FhirDecimal({ value: source.factor });
        }
        if (source['net']) {
            this.net = new fhir.Money(source.net);
        }
        if (source['udi']) {
            this.udi = source.udi.map((x) => new fhir.Reference(x));
        }
        else {
            this.udi = [];
        }
        if (source['subDetail']) {
            this.subDetail = source.subDetail.map((x) => new fhir.ClaimItemDetailSubDetail(x));
        }
        else {
            this.subDetail = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['sequence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property sequence:fhir.FhirPositiveInt fhir: Claim.item.detail.sequence:positiveInt', });
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (this["revenue"]) {
            issues.push(...this.revenue.doModelValidation());
        }
        if (this["category"]) {
            issues.push(...this.category.doModelValidation());
        }
        if (!this['productOrService']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property productOrService:fhir.CodeableConcept fhir: Claim.item.detail.productOrService:CodeableConcept', });
        }
        if (this["productOrService"]) {
            issues.push(...this.productOrService.doModelValidation());
        }
        if (this["modifier"]) {
            this.modifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["programCode"]) {
            this.programCode.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["quantity"]) {
            issues.push(...this.quantity.doModelValidation());
        }
        if (this["unitPrice"]) {
            issues.push(...this.unitPrice.doModelValidation());
        }
        if (this["factor"]) {
            issues.push(...this.factor.doModelValidation());
        }
        if (this["net"]) {
            issues.push(...this.net.doModelValidation());
        }
        if (this["udi"]) {
            this.udi.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["subDetail"]) {
            this.subDetail.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimItemDetail._fts_dataType = 'ClaimItemDetail';
/**
 * A claim line. Either a simple  product or service or a 'group' of details which can each be a simple items or groups of sub-details.
 */
export class ClaimItem extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        else {
            this.sequence = null;
        }
        if (source['careTeamSequence']) {
            this.careTeamSequence = source.careTeamSequence.map((x) => new fhir.FhirPositiveInt({ value: x }));
        }
        else {
            this.careTeamSequence = [];
        }
        if (source['diagnosisSequence']) {
            this.diagnosisSequence = source.diagnosisSequence.map((x) => new fhir.FhirPositiveInt({ value: x }));
        }
        else {
            this.diagnosisSequence = [];
        }
        if (source['procedureSequence']) {
            this.procedureSequence = source.procedureSequence.map((x) => new fhir.FhirPositiveInt({ value: x }));
        }
        else {
            this.procedureSequence = [];
        }
        if (source['informationSequence']) {
            this.informationSequence = source.informationSequence.map((x) => new fhir.FhirPositiveInt({ value: x }));
        }
        else {
            this.informationSequence = [];
        }
        if (source['revenue']) {
            this.revenue = new fhir.CodeableConcept(source.revenue);
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category);
        }
        if (source['productOrService']) {
            this.productOrService = new fhir.CodeableConcept(source.productOrService);
        }
        else {
            this.productOrService = null;
        }
        if (source['modifier']) {
            this.modifier = source.modifier.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.modifier = [];
        }
        if (source['programCode']) {
            this.programCode = source.programCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.programCode = [];
        }
        if (source['serviced']) {
            this.serviced = source.serviced;
        }
        else if (source['servicedDate']) {
            this.serviced = new fhir.FhirDate({ value: source.servicedDate });
        }
        else if (source['servicedPeriod']) {
            this.serviced = new fhir.Period(source.servicedPeriod);
        }
        if (source['location']) {
            this.location = source.location;
        }
        else if (source['locationCodeableConcept']) {
            this.location = new fhir.CodeableConcept(source.locationCodeableConcept);
        }
        else if (source['locationAddress']) {
            this.location = new fhir.Address(source.locationAddress);
        }
        else if (source['locationReference']) {
            this.location = new fhir.Reference(source.locationReference);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        if (source['unitPrice']) {
            this.unitPrice = new fhir.Money(source.unitPrice);
        }
        if (source['factor']) {
            this.factor = new fhir.FhirDecimal({ value: source.factor });
        }
        if (source['net']) {
            this.net = new fhir.Money(source.net);
        }
        if (source['udi']) {
            this.udi = source.udi.map((x) => new fhir.Reference(x));
        }
        else {
            this.udi = [];
        }
        if (source['bodySite']) {
            this.bodySite = new fhir.CodeableConcept(source.bodySite);
        }
        if (source['subSite']) {
            this.subSite = source.subSite.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.subSite = [];
        }
        if (source['encounter']) {
            this.encounter = source.encounter.map((x) => new fhir.Reference(x));
        }
        else {
            this.encounter = [];
        }
        if (source['detail']) {
            this.detail = source.detail.map((x) => new fhir.ClaimItemDetail(x));
        }
        else {
            this.detail = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['sequence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property sequence:fhir.FhirPositiveInt fhir: Claim.item.sequence:positiveInt', });
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation());
        }
        if (this["careTeamSequence"]) {
            this.careTeamSequence.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["diagnosisSequence"]) {
            this.diagnosisSequence.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["procedureSequence"]) {
            this.procedureSequence.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["informationSequence"]) {
            this.informationSequence.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["revenue"]) {
            issues.push(...this.revenue.doModelValidation());
        }
        if (this["category"]) {
            issues.push(...this.category.doModelValidation());
        }
        if (!this['productOrService']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property productOrService:fhir.CodeableConcept fhir: Claim.item.productOrService:CodeableConcept', });
        }
        if (this["productOrService"]) {
            issues.push(...this.productOrService.doModelValidation());
        }
        if (this["modifier"]) {
            this.modifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["programCode"]) {
            this.programCode.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["quantity"]) {
            issues.push(...this.quantity.doModelValidation());
        }
        if (this["unitPrice"]) {
            issues.push(...this.unitPrice.doModelValidation());
        }
        if (this["factor"]) {
            issues.push(...this.factor.doModelValidation());
        }
        if (this["net"]) {
            issues.push(...this.net.doModelValidation());
        }
        if (this["udi"]) {
            this.udi.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["bodySite"]) {
            issues.push(...this.bodySite.doModelValidation());
        }
        if (this["subSite"]) {
            this.subSite.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["encounter"]) {
            this.encounter.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["detail"]) {
            this.detail.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimItem._fts_dataType = 'ClaimItem';
/**
 * Internal flag to properly serialize choice-type element Claim.item.serviced[x]
 */
ClaimItem._fts_servicedIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Claim.item.location[x]
 */
ClaimItem._fts_locationIsChoice = true;
/**
 * A provider issued list of professional services and products which have been provided, or are to be provided, to a patient which is sent to an insurer for reimbursement.
 */
export class Claim extends fhir.DomainResource {
    /**
     * Default constructor for Claim - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Claim';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = source.status;
        }
        else {
            this.status = null;
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['subType']) {
            this.subType = new fhir.CodeableConcept(source.subType);
        }
        if (source['use']) {
            this.use = source.use;
        }
        else {
            this.use = null;
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        else {
            this.patient = null;
        }
        if (source['billablePeriod']) {
            this.billablePeriod = new fhir.Period(source.billablePeriod);
        }
        if (source['created']) {
            this.created = new fhir.FhirDateTime({ value: source.created });
        }
        else {
            this.created = null;
        }
        if (source['enterer']) {
            this.enterer = new fhir.Reference(source.enterer);
        }
        if (source['insurer']) {
            this.insurer = new fhir.Reference(source.insurer);
        }
        if (source['provider']) {
            this.provider = new fhir.Reference(source.provider);
        }
        else {
            this.provider = null;
        }
        if (source['priority']) {
            this.priority = new fhir.CodeableConcept(source.priority);
        }
        else {
            this.priority = null;
        }
        if (source['fundsReserve']) {
            this.fundsReserve = new fhir.CodeableConcept(source.fundsReserve);
        }
        if (source['related']) {
            this.related = source.related.map((x) => new fhir.ClaimRelated(x));
        }
        else {
            this.related = [];
        }
        if (source['prescription']) {
            this.prescription = new fhir.Reference(source.prescription);
        }
        if (source['originalPrescription']) {
            this.originalPrescription = new fhir.Reference(source.originalPrescription);
        }
        if (source['payee']) {
            this.payee = new fhir.ClaimPayee(source.payee);
        }
        if (source['referral']) {
            this.referral = new fhir.Reference(source.referral);
        }
        if (source['facility']) {
            this.facility = new fhir.Reference(source.facility);
        }
        if (source['careTeam']) {
            this.careTeam = source.careTeam.map((x) => new fhir.ClaimCareTeam(x));
        }
        else {
            this.careTeam = [];
        }
        if (source['supportingInfo']) {
            this.supportingInfo = source.supportingInfo.map((x) => new fhir.ClaimSupportingInfo(x));
        }
        else {
            this.supportingInfo = [];
        }
        if (source['diagnosis']) {
            this.diagnosis = source.diagnosis.map((x) => new fhir.ClaimDiagnosis(x));
        }
        else {
            this.diagnosis = [];
        }
        if (source['procedure']) {
            this.procedure = source.procedure.map((x) => new fhir.ClaimProcedure(x));
        }
        else {
            this.procedure = [];
        }
        if (source['insurance']) {
            this.insurance = source.insurance.map((x) => new fhir.ClaimInsurance(x));
        }
        else {
            this.insurance = [];
        }
        if (source['accident']) {
            this.accident = new fhir.ClaimAccident(source.accident);
        }
        if (source['item']) {
            this.item = source.item.map((x) => new fhir.ClaimItem(x));
        }
        else {
            this.item = [];
        }
        if (source['total']) {
            this.total = new fhir.Money(source.total);
        }
    }
    /**
     * Required-bound Value Set for status (Claim.status)
     */
    static statusRequiredCoding() {
        return FmStatusCodings;
    }
    /**
     * Extensible-bound Value Set for type (Claim.type)
     */
    static typeExtensibleCoding() {
        return ClaimTypeCodings;
    }
    /**
     * Required-bound Value Set for use (Claim.use)
     */
    static useRequiredCoding() {
        return ClaimUseCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"Claim" fhir: Claim.resourceType:"Claim"', });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:FmStatusCodeType fhir: Claim.status:code', });
        }
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: Claim.type:CodeableConcept', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["subType"]) {
            issues.push(...this.subType.doModelValidation());
        }
        if (!this['use']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property use:ClaimUseCodeType fhir: Claim.use:code', });
        }
        if (!this['patient']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property patient:fhir.Reference fhir: Claim.patient:Reference', });
        }
        if (this["patient"]) {
            issues.push(...this.patient.doModelValidation());
        }
        if (this["billablePeriod"]) {
            issues.push(...this.billablePeriod.doModelValidation());
        }
        if (!this['created']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property created:fhir.FhirDateTime fhir: Claim.created:dateTime', });
        }
        if (this["created"]) {
            issues.push(...this.created.doModelValidation());
        }
        if (this["enterer"]) {
            issues.push(...this.enterer.doModelValidation());
        }
        if (this["insurer"]) {
            issues.push(...this.insurer.doModelValidation());
        }
        if (!this['provider']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property provider:fhir.Reference fhir: Claim.provider:Reference', });
        }
        if (this["provider"]) {
            issues.push(...this.provider.doModelValidation());
        }
        if (!this['priority']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property priority:fhir.CodeableConcept fhir: Claim.priority:CodeableConcept', });
        }
        if (this["priority"]) {
            issues.push(...this.priority.doModelValidation());
        }
        if (this["fundsReserve"]) {
            issues.push(...this.fundsReserve.doModelValidation());
        }
        if (this["related"]) {
            this.related.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["prescription"]) {
            issues.push(...this.prescription.doModelValidation());
        }
        if (this["originalPrescription"]) {
            issues.push(...this.originalPrescription.doModelValidation());
        }
        if (this["payee"]) {
            issues.push(...this.payee.doModelValidation());
        }
        if (this["referral"]) {
            issues.push(...this.referral.doModelValidation());
        }
        if (this["facility"]) {
            issues.push(...this.facility.doModelValidation());
        }
        if (this["careTeam"]) {
            this.careTeam.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["supportingInfo"]) {
            this.supportingInfo.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["diagnosis"]) {
            this.diagnosis.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["procedure"]) {
            this.procedure.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['insurance']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property insurance:fhir.ClaimInsurance[] fhir: Claim.insurance:insurance', });
        }
        else if (!Array.isArray(this.insurance)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property insurance:fhir.ClaimInsurance[] fhir: Claim.insurance:insurance', });
        }
        else if (this.insurance.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property insurance:fhir.ClaimInsurance[] fhir: Claim.insurance:insurance', });
        }
        if (this["insurance"]) {
            this.insurance.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["accident"]) {
            issues.push(...this.accident.doModelValidation());
        }
        if (this["item"]) {
            this.item.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["total"]) {
            issues.push(...this.total.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Claim._fts_dataType = 'Claim';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xhaW0uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0NsYWltLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLHVCQUF1QjtBQUV2QixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQThDbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSx3QkFBd0IsR0FBK0IsTUFBTSw4Q0FBOEMsQ0FBQztBQStCckgsYUFBYTtBQUNiLE9BQU8sRUFBRSxlQUFlLEdBQXNCLE1BQU0scUNBQXFDLENBQUM7QUFHMUYsYUFBYTtBQUNiLE9BQU8sRUFBRSxnQkFBZ0IsR0FBdUIsTUFBTSxzQ0FBc0MsQ0FBQztBQU83RixhQUFhO0FBQ2IsT0FBTyxFQUFFLGVBQWUsR0FBc0IsTUFBTSxxQ0FBcUMsQ0FBQztBQTZCMUY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sWUFBYSxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUJwRDs7T0FFRztJQUNILFlBQVksU0FBbUMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDekYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUFFO1FBQ3ZFLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQUU7UUFDbEcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7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QUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUM1RSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDMUYsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUN0RSxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXJQRDs7R0FFRztBQUM2QixtQkFBYSxHQUFVLE9BQU8sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQ2xhaW1cclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlbGF0ZWRDbGFpbVJlbGF0aW9uc2hpcENvZGluZ3MsIFJlbGF0ZWRDbGFpbVJlbGF0aW9uc2hpcENvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlbGF0ZWRDbGFpbVJlbGF0aW9uc2hpcENvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlbGF0ZWRDbGFpbVJlbGF0aW9uc2hpcENvZGVzLCAgUmVsYXRlZENsYWltUmVsYXRpb25zaGlwQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlbGF0ZWRDbGFpbVJlbGF0aW9uc2hpcENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYXllZXR5cGVDb2RpbmdzLCBQYXllZXR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYXllZXR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYXllZXR5cGVDb2RlcywgIFBheWVldHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYXllZXR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1DYXJldGVhbXJvbGVDb2RpbmdzLCBDbGFpbUNhcmV0ZWFtcm9sZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltQ2FyZXRlYW1yb2xlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1DYXJldGVhbXJvbGVDb2RlcywgIENsYWltQ2FyZXRlYW1yb2xlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltQ2FyZXRlYW1yb2xlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb3ZpZGVyUXVhbGlmaWNhdGlvbkNvZGluZ3MsIFByb3ZpZGVyUXVhbGlmaWNhdGlvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb3ZpZGVyUXVhbGlmaWNhdGlvbkNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb3ZpZGVyUXVhbGlmaWNhdGlvbkNvZGVzLCAgUHJvdmlkZXJRdWFsaWZpY2F0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb3ZpZGVyUXVhbGlmaWNhdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbUluZm9ybWF0aW9uY2F0ZWdvcnlDb2RpbmdzLCBDbGFpbUluZm9ybWF0aW9uY2F0ZWdvcnlDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbUluZm9ybWF0aW9uY2F0ZWdvcnlDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbUluZm9ybWF0aW9uY2F0ZWdvcnlDb2RlcywgIENsYWltSW5mb3JtYXRpb25jYXRlZ29yeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbUluZm9ybWF0aW9uY2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1FeGNlcHRpb25Db2RpbmdzLCBDbGFpbUV4Y2VwdGlvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltRXhjZXB0aW9uQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1FeGNlcHRpb25Db2RlcywgIENsYWltRXhjZXB0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltRXhjZXB0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1pc3NpbmdUb290aFJlYXNvbkNvZGluZ3MsIE1pc3NpbmdUb290aFJlYXNvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01pc3NpbmdUb290aFJlYXNvbkNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1pc3NpbmdUb290aFJlYXNvbkNvZGVzLCAgTWlzc2luZ1Rvb3RoUmVhc29uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01pc3NpbmdUb290aFJlYXNvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeERpYWdub3Npc3R5cGVDb2RpbmdzLCBFeERpYWdub3Npc3R5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeERpYWdub3Npc3R5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeERpYWdub3Npc3R5cGVDb2RlcywgIEV4RGlhZ25vc2lzdHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeERpYWdub3Npc3R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXhEaWFnbm9zaXNPbkFkbWlzc2lvbkNvZGluZ3MsIEV4RGlhZ25vc2lzT25BZG1pc3Npb25Db2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeERpYWdub3Npc09uQWRtaXNzaW9uQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXhEaWFnbm9zaXNPbkFkbWlzc2lvbkNvZGVzLCAgRXhEaWFnbm9zaXNPbkFkbWlzc2lvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeERpYWdub3Npc09uQWRtaXNzaW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV4RGlhZ25vc2lzcmVsYXRlZGdyb3VwQ29kaW5ncywgRXhEaWFnbm9zaXNyZWxhdGVkZ3JvdXBDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeERpYWdub3Npc3JlbGF0ZWRncm91cENvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV4RGlhZ25vc2lzcmVsYXRlZGdyb3VwQ29kZXMsICBFeERpYWdub3Npc3JlbGF0ZWRncm91cENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeERpYWdub3Npc3JlbGF0ZWRncm91cENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeFByb2NlZHVyZVR5cGVDb2RpbmdzLCBFeFByb2NlZHVyZVR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeFByb2NlZHVyZVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeFByb2NlZHVyZVR5cGVDb2RlcywgIEV4UHJvY2VkdXJlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FeFByb2NlZHVyZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNBY3RJbmNpZGVudENvZGVDb2RpbmdzLCBWM0FjdEluY2lkZW50Q29kZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzQWN0SW5jaWRlbnRDb2RlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNBY3RJbmNpZGVudENvZGVDb2RlcywgIFYzQWN0SW5jaWRlbnRDb2RlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzQWN0SW5jaWRlbnRDb2RlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV4UmV2ZW51ZUNlbnRlckNvZGluZ3MsIEV4UmV2ZW51ZUNlbnRlckNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V4UmV2ZW51ZUNlbnRlckNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV4UmV2ZW51ZUNlbnRlckNvZGVzLCAgRXhSZXZlbnVlQ2VudGVyQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V4UmV2ZW51ZUNlbnRlckNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeEJlbmVmaXRjYXRlZ29yeUNvZGluZ3MsIEV4QmVuZWZpdGNhdGVnb3J5Q29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhCZW5lZml0Y2F0ZWdvcnlDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeEJlbmVmaXRjYXRlZ29yeUNvZGVzLCAgRXhCZW5lZml0Y2F0ZWdvcnlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhCZW5lZml0Y2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VydmljZVVzY2xzQ29kaW5ncywgU2VydmljZVVzY2xzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VydmljZVVzY2xzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VydmljZVVzY2xzQ29kZXMsICBTZXJ2aWNlVXNjbHNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VydmljZVVzY2xzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltTW9kaWZpZXJzQ29kaW5ncywgQ2xhaW1Nb2RpZmllcnNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbU1vZGlmaWVyc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltTW9kaWZpZXJzQ29kZXMsICBDbGFpbU1vZGlmaWVyc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbU1vZGlmaWVyc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeFByb2dyYW1Db2RlQ29kaW5ncywgRXhQcm9ncmFtQ29kZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V4UHJvZ3JhbUNvZGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeFByb2dyYW1Db2RlQ29kZXMsICBFeFByb2dyYW1Db2RlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V4UHJvZ3JhbUNvZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVG9vdGhDb2RpbmdzLCBUb290aENvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Rvb3RoQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVG9vdGhDb2RlcywgIFRvb3RoQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Rvb3RoQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFN1cmZhY2VDb2RpbmdzLCBTdXJmYWNlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3VyZmFjZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFN1cmZhY2VDb2RlcywgIFN1cmZhY2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3VyZmFjZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBGbVN0YXR1c0NvZGluZ3MsIEZtU3RhdHVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRm1TdGF0dXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBGbVN0YXR1c0NvZGVzLCAgRm1TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRm1TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1UeXBlQ29kaW5ncywgQ2xhaW1UeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1UeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1UeXBlQ29kZXMsICBDbGFpbVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1UeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltU3VidHlwZUNvZGluZ3MsIENsYWltU3VidHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltU3VidHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltU3VidHlwZUNvZGVzLCAgQ2xhaW1TdWJ0eXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltU3VidHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbVVzZUNvZGluZ3MsIENsYWltVXNlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1Vc2VDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbVVzZUNvZGVzLCAgQ2xhaW1Vc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1Vc2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvY2Vzc1ByaW9yaXR5Q29kaW5ncywgUHJvY2Vzc1ByaW9yaXR5Q29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvY2Vzc1ByaW9yaXR5Q29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvY2Vzc1ByaW9yaXR5Q29kZXMsICBQcm9jZXNzUHJpb3JpdHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvY2Vzc1ByaW9yaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZ1bmRzcmVzZXJ2ZUNvZGluZ3MsIEZ1bmRzcmVzZXJ2ZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Z1bmRzcmVzZXJ2ZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZ1bmRzcmVzZXJ2ZUNvZGVzLCAgRnVuZHNyZXNlcnZlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Z1bmRzcmVzZXJ2ZUNvZGVzLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltUmVsYXRlZCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbVJlbGF0ZWRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gYSByZWxhdGVkIGNsYWltLlxyXG4gICAqL1xyXG4gIGNsYWltPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgcHJpb3IgY2xhaW0gb3IgdW1icmVsbGEuXHJcbiAgICovXHJcbiAgcmVsYXRpb25zaGlwPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgUHJvcGVydHkvQ2FzdWFsdHkgaW5zdXJlciBjbGFpbSAjIG9yIFdvcmtlcnMgQ29tcGVuc2F0aW9uIGNhc2UgIyAuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3IgZXhhbXBsZSwgIGZvciB0aGUgb3JpZ2luYWwgdHJlYXRtZW50IGFuZCBmb2xsb3ctdXAgZXhhbXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1SZWxhdGVkIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xhaW1SZWxhdGVkJztcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gYSByZWxhdGVkIGNsYWltLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFpbT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgcHJpb3IgY2xhaW0gb3IgdW1icmVsbGEuXHJcbiAgICovXHJcbiAgcHVibGljIHJlbGF0aW9uc2hpcD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgUHJvcGVydHkvQ2FzdWFsdHkgaW5zdXJlciBjbGFpbSAjIG9yIFdvcmtlcnMgQ29tcGVuc2F0aW9uIGNhc2UgIyAuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZT86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1SZWxhdGVkIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xhaW1SZWxhdGVkQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NsYWltJ10pIHsgdGhpcy5jbGFpbSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuY2xhaW0pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGlvbnNoaXAnXSkgeyB0aGlzLnJlbGF0aW9uc2hpcCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucmVsYXRpb25zaGlwKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlJ10pIHsgdGhpcy5yZWZlcmVuY2UgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5yZWZlcmVuY2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcImNsYWltXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY2xhaW0uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVsYXRpb25zaGlwXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVsYXRpb25zaGlwLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlZmVyZW5jZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlZmVyZW5jZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltUGF5ZWUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xhaW1QYXllZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgUGFydHkgdG8gYmUgcmVpbWJ1cnNlZDogc3Vic2NyaWJlciwgcHJvdmlkZXIsIG90aGVyLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIE5vdCByZXF1aXJlZCBpZiB0aGUgcGF5ZWUgaXMgJ3N1YnNjcmliZXInIG9yICdwcm92aWRlcicuXHJcbiAgICovXHJcbiAgcGFydHk/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogT2Z0ZW4gcHJvdmlkZXJzIGFncmVlIHRvIHJlY2VpdmUgdGhlIGJlbmVmaXRzIHBheWFibGUgdG8gcmVkdWNlIHRoZSBuZWFyLXRlcm0gY29zdHMgdG8gdGhlIHBhdGllbnQuIFRoZSBpbnN1cmVyIG1heSBkZWNsaW5lIHRvIHBheSB0aGUgcHJvdmlkZXIgYW5kIGNob29zZSB0byBwYXkgdGhlIHN1YnNjcmliZXIgaW5zdGVhZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGFpbVBheWVlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xhaW1QYXllZSc7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBQYXJ0eSB0byBiZSByZWltYnVyc2VkOiBzdWJzY3JpYmVyLCBwcm92aWRlciwgb3RoZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogTm90IHJlcXVpcmVkIGlmIHRoZSBwYXllZSBpcyAnc3Vic2NyaWJlcicgb3IgJ3Byb3ZpZGVyJy5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydHk/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1QYXllZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltUGF5ZWVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0eSddKSB7IHRoaXMucGFydHkgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhcnR5KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWyd0eXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0eXBlOmZoaXIuQ29kZWFibGVDb25jZXB0IGZoaXI6IENsYWltLnBheWVlLnR5cGU6Q29kZWFibGVDb25jZXB0JywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBhcnR5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGFydHkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGFpbUNhcmVUZWFtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltQ2FyZVRlYW1BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIG51bWJlciB0byB1bmlxdWVseSBpZGVudGlmeSBjYXJlIHRlYW0gZW50cmllcy5cclxuICAgKi9cclxuICBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNZW1iZXIgb2YgdGhlIHRlYW0gd2hvIHByb3ZpZGVkIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHJvdmlkZXI6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlc3BvbnNpYmxlIG1pZ2h0IG5vdCBiZSByZXF1aXJlZCB3aGVuIHRoZXJlIGlzIG9ubHkgYSBzaW5nbGUgcHJvdmlkZXIgbGlzdGVkLlxyXG4gICAqL1xyXG4gIHJlc3BvbnNpYmxlPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSb2xlIG1pZ2h0IG5vdCBiZSByZXF1aXJlZCB3aGVuIHRoZXJlIGlzIG9ubHkgYSBzaW5nbGUgcHJvdmlkZXIgbGlzdGVkLlxyXG4gICAqL1xyXG4gIHJvbGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFsaWZpY2F0aW9uIG9mIHRoZSBwcmFjdGl0aW9uZXIgd2hpY2ggaXMgYXBwbGljYWJsZSBmb3IgdGhpcyBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHF1YWxpZmljYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIG1lbWJlcnMgb2YgdGhlIHRlYW0gd2hvIHByb3ZpZGVkIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1DYXJlVGVhbSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsYWltQ2FyZVRlYW0nO1xyXG4gIC8qKlxyXG4gICAqIEEgbnVtYmVyIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGNhcmUgdGVhbSBlbnRyaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBNZW1iZXIgb2YgdGhlIHRlYW0gd2hvIHByb3ZpZGVkIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHByb3ZpZGVyOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlc3BvbnNpYmxlIG1pZ2h0IG5vdCBiZSByZXF1aXJlZCB3aGVuIHRoZXJlIGlzIG9ubHkgYSBzaW5nbGUgcHJvdmlkZXIgbGlzdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNwb25zaWJsZT86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJvbGUgbWlnaHQgbm90IGJlIHJlcXVpcmVkIHdoZW4gdGhlcmUgaXMgb25seSBhIHNpbmdsZSBwcm92aWRlciBsaXN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJvbGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YWxpZmljYXRpb24gb2YgdGhlIHByYWN0aXRpb25lciB3aGljaCBpcyBhcHBsaWNhYmxlIGZvciB0aGlzIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHF1YWxpZmljYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1DYXJlVGVhbSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltQ2FyZVRlYW1BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2VxdWVuY2UnXSkgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLnNlcXVlbmNlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvdmlkZXInXSkgeyB0aGlzLnByb3ZpZGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wcm92aWRlcik7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb3ZpZGVyID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzcG9uc2libGUnXSkgeyB0aGlzLnJlc3BvbnNpYmxlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UucmVzcG9uc2libGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm9sZSddKSB7IHRoaXMucm9sZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uucm9sZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YWxpZmljYXRpb24nXSkgeyB0aGlzLnF1YWxpZmljYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnF1YWxpZmljYXRpb24pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3NlcXVlbmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzZXF1ZW5jZTpmaGlyLkZoaXJQb3NpdGl2ZUludCBmaGlyOiBDbGFpbS5jYXJlVGVhbS5zZXF1ZW5jZTpwb3NpdGl2ZUludCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzZXF1ZW5jZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNlcXVlbmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3Byb3ZpZGVyJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwcm92aWRlcjpmaGlyLlJlZmVyZW5jZSBmaGlyOiBDbGFpbS5jYXJlVGVhbS5wcm92aWRlcjpSZWZlcmVuY2UnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicHJvdmlkZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcm92aWRlci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJyZXNwb25zaWJsZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlc3BvbnNpYmxlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJvbGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yb2xlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInF1YWxpZmljYXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5xdWFsaWZpY2F0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xhaW1TdXBwb3J0aW5nSW5mbyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbVN1cHBvcnRpbmdJbmZvQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBudW1iZXIgdG8gdW5pcXVlbHkgaWRlbnRpZnkgc3VwcG9ydGluZyBpbmZvcm1hdGlvbiBlbnRyaWVzLlxyXG4gICAqL1xyXG4gIHNlcXVlbmNlOiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWF5IGNvbnRhaW4gYSBjYXRlZ29yeSBmb3IgdGhlIGxvY2FsIGJpbGwgdHlwZSBjb2Rlcy5cclxuICAgKi9cclxuICBjYXRlZ29yeTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogU3lzdGVtIGFuZCBjb2RlIHBlcnRhaW5pbmcgdG8gdGhlIHNwZWNpZmljIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBzcGVjaWFsIGNvbmRpdGlvbnMgcmVsYXRpbmcgdG8gdGhlIHNldHRpbmcsIHRyZWF0bWVudCBvciBwYXRpZW50ICBmb3Igd2hpY2ggY2FyZSBpcyBzb3VnaHQuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgd2hlbiBvciBwZXJpb2QgdG8gd2hpY2ggdGhpcyBpbmZvcm1hdGlvbiByZWZlcnMuXHJcbiAgICovXHJcbiAgdGltaW5nPzogZmhpci5GaGlyRGF0ZXxmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgd2hlbiBvciBwZXJpb2QgdG8gd2hpY2ggdGhpcyBpbmZvcm1hdGlvbiByZWZlcnMuXHJcbiAgICovXHJcbiAgdGltaW5nRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIG9yIHBlcmlvZCB0byB3aGljaCB0aGlzIGluZm9ybWF0aW9uIHJlZmVycy5cclxuICAgKi9cclxuICB0aW1pbmdQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvdWxkIGJlIHVzZWQgdG8gcHJvdmlkZSByZWZlcmVuY2VzIHRvIG90aGVyIHJlc291cmNlcywgZG9jdW1lbnQuIEZvciBleGFtcGxlIGNvdWxkIGNvbnRhaW4gYSBQREYgaW4gYW4gQXR0YWNobWVudCBvZiB0aGUgUG9saWNlIFJlcG9ydCBmb3IgYW4gQWNjaWRlbnQuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkZoaXJCb29sZWFufGZoaXIuRmhpclN0cmluZ3xmaGlyLlF1YW50aXR5fGZoaXIuQXR0YWNobWVudHxmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ291bGQgYmUgdXNlZCB0byBwcm92aWRlIHJlZmVyZW5jZXMgdG8gb3RoZXIgcmVzb3VyY2VzLCBkb2N1bWVudC4gRm9yIGV4YW1wbGUgY291bGQgY29udGFpbiBhIFBERiBpbiBhbiBBdHRhY2htZW50IG9mIHRoZSBQb2xpY2UgUmVwb3J0IGZvciBhbiBBY2NpZGVudC5cclxuICAgKi9cclxuICB2YWx1ZUJvb2xlYW4/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvdWxkIGJlIHVzZWQgdG8gcHJvdmlkZSByZWZlcmVuY2VzIHRvIG90aGVyIHJlc291cmNlcywgZG9jdW1lbnQuIEZvciBleGFtcGxlIGNvdWxkIGNvbnRhaW4gYSBQREYgaW4gYW4gQXR0YWNobWVudCBvZiB0aGUgUG9saWNlIFJlcG9ydCBmb3IgYW4gQWNjaWRlbnQuXHJcbiAgICovXHJcbiAgdmFsdWVTdHJpbmc/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb3VsZCBiZSB1c2VkIHRvIHByb3ZpZGUgcmVmZXJlbmNlcyB0byBvdGhlciByZXNvdXJjZXMsIGRvY3VtZW50LiBGb3IgZXhhbXBsZSBjb3VsZCBjb250YWluIGEgUERGIGluIGFuIEF0dGFjaG1lbnQgb2YgdGhlIFBvbGljZSBSZXBvcnQgZm9yIGFuIEFjY2lkZW50LlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ291bGQgYmUgdXNlZCB0byBwcm92aWRlIHJlZmVyZW5jZXMgdG8gb3RoZXIgcmVzb3VyY2VzLCBkb2N1bWVudC4gRm9yIGV4YW1wbGUgY291bGQgY29udGFpbiBhIFBERiBpbiBhbiBBdHRhY2htZW50IG9mIHRoZSBQb2xpY2UgUmVwb3J0IGZvciBhbiBBY2NpZGVudC5cclxuICAgKi9cclxuICB2YWx1ZUF0dGFjaG1lbnQ/OiBmaGlyLkF0dGFjaG1lbnRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb3VsZCBiZSB1c2VkIHRvIHByb3ZpZGUgcmVmZXJlbmNlcyB0byBvdGhlciByZXNvdXJjZXMsIGRvY3VtZW50LiBGb3IgZXhhbXBsZSBjb3VsZCBjb250YWluIGEgUERGIGluIGFuIEF0dGFjaG1lbnQgb2YgdGhlIFBvbGljZSBSZXBvcnQgZm9yIGFuIEFjY2lkZW50LlxyXG4gICAqL1xyXG4gIHZhbHVlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogdGhlIHJlYXNvbiBmb3IgdGhlIGFkZGl0aW9uYWwgc3RheSwgb3Igd2h5IGEgdG9vdGggaXMgIG1pc3NpbmcuXHJcbiAgICovXHJcbiAgcmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9mdGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBqdXJpc2RpY3Rpb24gc3BlY2lmaWMgdmFsdWVzZXRzIHdoaWNoIGFyZSByZXF1aXJlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGFpbVN1cHBvcnRpbmdJbmZvIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xhaW1TdXBwb3J0aW5nSW5mbyc7XHJcbiAgLyoqXHJcbiAgICogQSBudW1iZXIgdG8gdW5pcXVlbHkgaWRlbnRpZnkgc3VwcG9ydGluZyBpbmZvcm1hdGlvbiBlbnRyaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBjb250YWluIGEgY2F0ZWdvcnkgZm9yIHRoZSBsb2NhbCBiaWxsIHR5cGUgY29kZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdGVnb3J5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFN5c3RlbSBhbmQgY29kZSBwZXJ0YWluaW5nIHRvIHRoZSBzcGVjaWZpYyBpbmZvcm1hdGlvbiByZWdhcmRpbmcgc3BlY2lhbCBjb25kaXRpb25zIHJlbGF0aW5nIHRvIHRoZSBzZXR0aW5nLCB0cmVhdG1lbnQgb3IgcGF0aWVudCAgZm9yIHdoaWNoIGNhcmUgaXMgc291Z2h0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gb3IgcGVyaW9kIHRvIHdoaWNoIHRoaXMgaW5mb3JtYXRpb24gcmVmZXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aW1pbmc/OiAoZmhpci5GaGlyRGF0ZXxmaGlyLlBlcmlvZCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ2xhaW0uc3VwcG9ydGluZ0luZm8udGltaW5nW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3RpbWluZ0lzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIENvdWxkIGJlIHVzZWQgdG8gcHJvdmlkZSByZWZlcmVuY2VzIHRvIG90aGVyIHJlc291cmNlcywgZG9jdW1lbnQuIEZvciBleGFtcGxlIGNvdWxkIGNvbnRhaW4gYSBQREYgaW4gYW4gQXR0YWNobWVudCBvZiB0aGUgUG9saWNlIFJlcG9ydCBmb3IgYW4gQWNjaWRlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlPzogKGZoaXIuRmhpckJvb2xlYW58Zmhpci5GaGlyU3RyaW5nfGZoaXIuUXVhbnRpdHl8Zmhpci5BdHRhY2htZW50fGZoaXIuUmVmZXJlbmNlKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDbGFpbS5zdXBwb3J0aW5nSW5mby52YWx1ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c192YWx1ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiB0aGUgcmVhc29uIGZvciB0aGUgYWRkaXRpb25hbCBzdGF5LCBvciB3aHkgYSB0b290aCBpcyAgbWlzc2luZy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltU3VwcG9ydGluZ0luZm8gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGFpbVN1cHBvcnRpbmdJbmZvQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NlcXVlbmNlJ10pIHsgdGhpcy5zZXF1ZW5jZSA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHNvdXJjZS5zZXF1ZW5jZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXF1ZW5jZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2F0ZWdvcnkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jYXRlZ29yeSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0aW1pbmcnXSkgeyB0aGlzLnRpbWluZyA9IHNvdXJjZS50aW1pbmc7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndGltaW5nRGF0ZSddKSB7IHRoaXMudGltaW5nID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UudGltaW5nRGF0ZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3RpbWluZ1BlcmlvZCddKSB7IHRoaXMudGltaW5nID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS50aW1pbmdQZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBzb3VyY2UudmFsdWU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVCb29sZWFuJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnZhbHVlQm9vbGVhbn0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlU3RyaW5nJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmFsdWVTdHJpbmd9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVF1YW50aXR5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS52YWx1ZVF1YW50aXR5KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUF0dGFjaG1lbnQnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuQXR0YWNobWVudChzb3VyY2UudmFsdWVBdHRhY2htZW50KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVJlZmVyZW5jZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnZhbHVlUmVmZXJlbmNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uJ10pIHsgdGhpcy5yZWFzb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJlYXNvbik7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snc2VxdWVuY2UnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHNlcXVlbmNlOmZoaXIuRmhpclBvc2l0aXZlSW50IGZoaXI6IENsYWltLnN1cHBvcnRpbmdJbmZvLnNlcXVlbmNlOnBvc2l0aXZlSW50JywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInNlcXVlbmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc2VxdWVuY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1snY2F0ZWdvcnknXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGNhdGVnb3J5OmZoaXIuQ29kZWFibGVDb25jZXB0IGZoaXI6IENsYWltLnN1cHBvcnRpbmdJbmZvLmNhdGVnb3J5OkNvZGVhYmxlQ29uY2VwdCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJjYXRlZ29yeVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNhdGVnb3J5LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvZGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb2RlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlYXNvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlYXNvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltRGlhZ25vc2lzIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltRGlhZ25vc2lzQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogRGlhZ25vc2lzIGFyZSBwcmVzZW50ZWQgaW4gbGlzdCBvcmRlciB0byB0aGVpciBleHBlY3RlZCBpbXBvcnRhbmNlOiBwcmltYXJ5LCBzZWNvbmRhcnksIGV0Yy5cclxuICAgKi9cclxuICBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmF0dXJlIG9mIGlsbG5lc3Mgb3IgcHJvYmxlbSBpbiBhIGNvZGVkIGZvcm0gb3IgYXMgYSByZWZlcmVuY2UgdG8gYW4gZXh0ZXJuYWwgZGVmaW5lZCBDb25kaXRpb24uXHJcbiAgICovXHJcbiAgZGlhZ25vc2lzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYXR1cmUgb2YgaWxsbmVzcyBvciBwcm9ibGVtIGluIGEgY29kZWQgZm9ybSBvciBhcyBhIHJlZmVyZW5jZSB0byBhbiBleHRlcm5hbCBkZWZpbmVkIENvbmRpdGlvbi5cclxuICAgKi9cclxuICBkaWFnbm9zaXNDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYXR1cmUgb2YgaWxsbmVzcyBvciBwcm9ibGVtIGluIGEgY29kZWQgZm9ybSBvciBhcyBhIHJlZmVyZW5jZSB0byBhbiBleHRlcm5hbCBkZWZpbmVkIENvbmRpdGlvbi5cclxuICAgKi9cclxuICBkaWFnbm9zaXNSZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiBhZG1pdHRpbmcsIHByaW1hcnksIHNlY29uZGFyeSwgZGlzY2hhcmdlLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGlvbiBvZiB3aGV0aGVyIHRoZSBkaWFnbm9zaXMgd2FzIHByZXNlbnQgb24gYWRtaXNzaW9uIHRvIGEgZmFjaWxpdHkuXHJcbiAgICovXHJcbiAgb25BZG1pc3Npb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIERSRyAoRGlhZ25vc2lzIFJlbGF0ZWQgR3JvdXApIG9yIGEgYnVuZGxlZCBiaWxsaW5nIGNvZGUuIEEgcGF0aWVudCBtYXkgaGF2ZSBhIGRpYWdub3NpcyBvZiBhIE15b2NhcmRpYWwgSW5mYXJjdGlvbiBhbmQgYSBEUkcgZm9yIEhlYXJ0QXR0YWNrIHdvdWxkIGJlIGFzc2lnbmVkLiBUaGUgQ2xhaW0gaXRlbSAoYW5kIHBvc3NpYmxlIHN1YnNlcXVlbnQgY2xhaW1zKSB3b3VsZCByZWZlciB0byB0aGUgRFJHIGZvciB0aG9zZSBsaW5lIGl0ZW1zIHRoYXQgd2VyZSBmb3Igc2VydmljZXMgcmVsYXRlZCB0byB0aGUgaGVhcnQgYXR0YWNrIGV2ZW50LlxyXG4gICAqL1xyXG4gIHBhY2thZ2VDb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZm9ybWF0aW9uIGFib3V0IGRpYWdub3NlcyByZWxldmFudCB0byB0aGUgY2xhaW0gaXRlbXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1EaWFnbm9zaXMgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbURpYWdub3Npcyc7XHJcbiAgLyoqXHJcbiAgICogRGlhZ25vc2lzIGFyZSBwcmVzZW50ZWQgaW4gbGlzdCBvcmRlciB0byB0aGVpciBleHBlY3RlZCBpbXBvcnRhbmNlOiBwcmltYXJ5LCBzZWNvbmRhcnksIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hdHVyZSBvZiBpbGxuZXNzIG9yIHByb2JsZW0gaW4gYSBjb2RlZCBmb3JtIG9yIGFzIGEgcmVmZXJlbmNlIHRvIGFuIGV4dGVybmFsIGRlZmluZWQgQ29uZGl0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaWFnbm9zaXM6IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsYWltLmRpYWdub3Npcy5kaWFnbm9zaXNbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfZGlhZ25vc2lzSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IGFkbWl0dGluZywgcHJpbWFyeSwgc2Vjb25kYXJ5LCBkaXNjaGFyZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRpb24gb2Ygd2hldGhlciB0aGUgZGlhZ25vc2lzIHdhcyBwcmVzZW50IG9uIGFkbWlzc2lvbiB0byBhIGZhY2lsaXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvbkFkbWlzc2lvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSBEUkcgKERpYWdub3NpcyBSZWxhdGVkIEdyb3VwKSBvciBhIGJ1bmRsZWQgYmlsbGluZyBjb2RlLiBBIHBhdGllbnQgbWF5IGhhdmUgYSBkaWFnbm9zaXMgb2YgYSBNeW9jYXJkaWFsIEluZmFyY3Rpb24gYW5kIGEgRFJHIGZvciBIZWFydEF0dGFjayB3b3VsZCBiZSBhc3NpZ25lZC4gVGhlIENsYWltIGl0ZW0gKGFuZCBwb3NzaWJsZSBzdWJzZXF1ZW50IGNsYWltcykgd291bGQgcmVmZXIgdG8gdGhlIERSRyBmb3IgdGhvc2UgbGluZSBpdGVtcyB0aGF0IHdlcmUgZm9yIHNlcnZpY2VzIHJlbGF0ZWQgdG8gdGhlIGhlYXJ0IGF0dGFjayBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZUNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1EaWFnbm9zaXMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGFpbURpYWdub3Npc0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzZXF1ZW5jZSddKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkaWFnbm9zaXMnXSkgeyB0aGlzLmRpYWdub3NpcyA9IHNvdXJjZS5kaWFnbm9zaXM7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZGlhZ25vc2lzQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5kaWFnbm9zaXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmRpYWdub3Npc0NvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZGlhZ25vc2lzUmVmZXJlbmNlJ10pIHsgdGhpcy5kaWFnbm9zaXMgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmRpYWdub3Npc1JlZmVyZW5jZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRpYWdub3NpcyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb25BZG1pc3Npb24nXSkgeyB0aGlzLm9uQWRtaXNzaW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5vbkFkbWlzc2lvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhY2thZ2VDb2RlJ10pIHsgdGhpcy5wYWNrYWdlQ29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGFja2FnZUNvZGUpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3NlcXVlbmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzZXF1ZW5jZTpmaGlyLkZoaXJQb3NpdGl2ZUludCBmaGlyOiBDbGFpbS5kaWFnbm9zaXMuc2VxdWVuY2U6cG9zaXRpdmVJbnQnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic2VxdWVuY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zZXF1ZW5jZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydkaWFnbm9zaXMnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGRpYWdub3NpczogZmhpcjogQ2xhaW0uZGlhZ25vc2lzLmRpYWdub3Npc1t4XTonLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyB0aGlzLnR5cGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm9uQWRtaXNzaW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub25BZG1pc3Npb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGFja2FnZUNvZGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYWNrYWdlQ29kZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltUHJvY2VkdXJlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltUHJvY2VkdXJlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBudW1iZXIgdG8gdW5pcXVlbHkgaWRlbnRpZnkgcHJvY2VkdXJlIGVudHJpZXMuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IHByaW1hcnksIHNlY29uZGFyeS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERhdGUgYW5kIG9wdGlvbmFsbHkgdGltZSB0aGUgcHJvY2VkdXJlIHdhcyBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGUgb3IgcmVmZXJlbmNlIHRvIGEgUHJvY2VkdXJlIHJlc291cmNlIHdoaWNoIGlkZW50aWZpZXMgdGhlIGNsaW5pY2FsIGludGVydmVudGlvbiBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgcHJvY2VkdXJlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlIG9yIHJlZmVyZW5jZSB0byBhIFByb2NlZHVyZSByZXNvdXJjZSB3aGljaCBpZGVudGlmaWVzIHRoZSBjbGluaWNhbCBpbnRlcnZlbnRpb24gcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIHByb2NlZHVyZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGUgb3IgcmVmZXJlbmNlIHRvIGEgUHJvY2VkdXJlIHJlc291cmNlIHdoaWNoIGlkZW50aWZpZXMgdGhlIGNsaW5pY2FsIGludGVydmVudGlvbiBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgcHJvY2VkdXJlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVbmlxdWUgRGV2aWNlIElkZW50aWZpZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxpbmUgaXRlbS5cclxuICAgKi9cclxuICB1ZGk/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcm9jZWR1cmVzIHBlcmZvcm1lZCBvbiB0aGUgcGF0aWVudCByZWxldmFudCB0byB0aGUgYmlsbGluZyBpdGVtcyB3aXRoIHRoZSBjbGFpbS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGFpbVByb2NlZHVyZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsYWltUHJvY2VkdXJlJztcclxuICAvKipcclxuICAgKiBBIG51bWJlciB0byB1bmlxdWVseSBpZGVudGlmeSBwcm9jZWR1cmUgZW50cmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IHByaW1hcnksIHNlY29uZGFyeS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGF0ZSBhbmQgb3B0aW9uYWxseSB0aW1lIHRoZSBwcm9jZWR1cmUgd2FzIHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY29kZSBvciByZWZlcmVuY2UgdG8gYSBQcm9jZWR1cmUgcmVzb3VyY2Ugd2hpY2ggaWRlbnRpZmllcyB0aGUgY2xpbmljYWwgaW50ZXJ2ZW50aW9uIHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvY2VkdXJlOiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDbGFpbS5wcm9jZWR1cmUucHJvY2VkdXJlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3Byb2NlZHVyZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFVuaXF1ZSBEZXZpY2UgSWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGluZSBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1ZGk/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltUHJvY2VkdXJlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xhaW1Qcm9jZWR1cmVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2VxdWVuY2UnXSkgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLnNlcXVlbmNlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IHNvdXJjZS50eXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlJ10pIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvY2VkdXJlJ10pIHsgdGhpcy5wcm9jZWR1cmUgPSBzb3VyY2UucHJvY2VkdXJlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3Byb2NlZHVyZUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMucHJvY2VkdXJlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5wcm9jZWR1cmVDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3Byb2NlZHVyZVJlZmVyZW5jZSddKSB7IHRoaXMucHJvY2VkdXJlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wcm9jZWR1cmVSZWZlcmVuY2UpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9jZWR1cmUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd1ZGknXSkgeyB0aGlzLnVkaSA9IHNvdXJjZS51ZGkubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51ZGkgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydzZXF1ZW5jZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc2VxdWVuY2U6Zmhpci5GaGlyUG9zaXRpdmVJbnQgZmhpcjogQ2xhaW0ucHJvY2VkdXJlLnNlcXVlbmNlOnBvc2l0aXZlSW50JywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInNlcXVlbmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc2VxdWVuY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyB0aGlzLnR5cGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kYXRlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3Byb2NlZHVyZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcHJvY2VkdXJlOiBmaGlyOiBDbGFpbS5wcm9jZWR1cmUucHJvY2VkdXJlW3hdOicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ1ZGlcIl0pIHsgdGhpcy51ZGkuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xhaW1JbnN1cmFuY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xhaW1JbnN1cmFuY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIG51bWJlciB0byB1bmlxdWVseSBpZGVudGlmeSBpbnN1cmFuY2UgZW50cmllcyBhbmQgcHJvdmlkZSBhIHNlcXVlbmNlIG9mIGNvdmVyYWdlcyB0byBjb252ZXkgY29vcmRpbmF0aW9uIG9mIGJlbmVmaXQgb3JkZXIuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBwYXRpZW50IG1heSAod2lsbCkgaGF2ZSBtdWx0aXBsZSBpbnN1cmFuY2UgcG9saWNpZXMgd2hpY2ggcHJvdmlkZSByZWltYnVyc2VtZW50IGZvciBoZWFsdGhjYXJlIHNlcnZpY2VzIGFuZCBwcm9kdWN0cy4gRm9yIGV4YW1wbGUgYSBwZXJzb24gbWF5IGFsc28gYmUgY292ZXJlZCBieSB0aGVpciBzcG91c2UncyBwb2xpY3kgYW5kIGJvdGggYXBwZWFyIGluIHRoZSBsaXN0IChhbmQgbWF5IGJlIGZyb20gdGhlIHNhbWUgaW5zdXJlcikuIFRoaXMgZmxhZyB3aWxsIGJlIHNldCB0byB0cnVlIGZvciBvbmx5IG9uZSBvZiB0aGUgbGlzdGVkIHBvbGljaWVzIGFuZCB0aGF0IHBvbGljeSB3aWxsIGJlIHVzZWQgZm9yIGFkanVkaWNhdGluZyB0aGlzIGNsYWltLiBPdGhlciBjbGFpbXMgd291bGQgYmUgY3JlYXRlZCB0byByZXF1ZXN0IGFkanVkaWNhdGlvbiBhZ2FpbnN0IHRoZSBvdGhlciBsaXN0ZWQgcG9saWNpZXMuXHJcbiAgICovXHJcbiAgZm9jYWw6IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT25seSByZXF1aXJlZCBpbiBqdXJpc2RpY3Rpb25zIHdoZXJlIGluc3VyZXJzLCByYXRoZXIgdGhhbiB0aGUgcHJvdmlkZXIsIGFyZSByZXF1aXJlZCB0byBzZW5kIGNsYWltcyB0byAgaW5zdXJlcnMgdGhhdCBhcHBlYXIgYWZ0ZXIgdGhlbSBpbiB0aGUgbGlzdC4gVGhpcyBlbGVtZW50IGlzIG5vdCByZXF1aXJlZCB3aGVuICdzdWJyb2dhdGlvbj10cnVlJy5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBpbnN1cmFuY2UgY2FyZCBsZXZlbCBpbmZvcm1hdGlvbiBjb250YWluZWQgaW4gdGhlIENvdmVyYWdlIHJlc291cmNlLiBUaGUgY292ZXJhZ2UgaXNzdWluZyBpbnN1cmVyIHdpbGwgdXNlIHRoZXNlIGRldGFpbHMgdG8gbG9jYXRlIHRoZSBwYXRpZW50J3MgYWN0dWFsIGNvdmVyYWdlIHdpdGhpbiB0aGUgaW5zdXJlcidzIGluZm9ybWF0aW9uIHN5c3RlbS5cclxuICAgKi9cclxuICBjb3ZlcmFnZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBidXNpbmVzcyBhZ3JlZW1lbnQgbnVtYmVyIGVzdGFibGlzaGVkIGJldHdlZW4gdGhlIHByb3ZpZGVyIGFuZCB0aGUgaW5zdXJlciBmb3Igc3BlY2lhbCBidXNpbmVzcyBwcm9jZXNzaW5nIHB1cnBvc2VzLlxyXG4gICAqL1xyXG4gIGJ1c2luZXNzQXJyYW5nZW1lbnQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGlzIGFuIGFscGhhbnVtZXJpYyBzdHJpbmcgdGhhdCBtYXkgYmUgcHJvdmlkZWQgb3ZlciB0aGUgcGhvbmUsIHZpYSB0ZXh0LCB2aWEgcGFwZXIsIG9yIHdpdGhpbiBhIENsYWltUmVzcG9uc2UgcmVzb3VyY2UgYW5kIGlzIG5vdCBhIEZISVIgSWRlbnRpZmllci5cclxuICAgKi9cclxuICBwcmVBdXRoUmVmPzogZmhpci5GaGlyU3RyaW5nW118c3RyaW5nW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE11c3Qgbm90IGJlIHNwZWNpZmllZCB3aGVuICdmb2NhbD10cnVlJyBmb3IgdGhpcyBpbnN1cmFuY2UuXHJcbiAgICovXHJcbiAgY2xhaW1SZXNwb25zZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbGwgaW5zdXJhbmNlIGNvdmVyYWdlcyBmb3IgdGhlIHBhdGllbnQgd2hpY2ggbWF5IGJlIGFwcGxpY2FibGUgZm9yIHJlaW1idXJzZW1lbnQsIG9mIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMgbGlzdGVkIGluIHRoZSBjbGFpbSwgYXJlIHR5cGljYWxseSBwcm92aWRlZCBpbiB0aGUgY2xhaW0gdG8gYWxsb3cgaW5zdXJlcnMgdG8gY29uZmlybSB0aGUgb3JkZXJpbmcgb2YgdGhlIGluc3VyYW5jZSBjb3ZlcmFnZXMgcmVsYXRpdmUgdG8gbG9jYWwgJ2Nvb3JkaW5hdGlvbiBvZiBiZW5lZml0JyBydWxlcy4gT25lIGNvdmVyYWdlIChhbmQgb25seSBvbmUpIHdpdGggJ2ZvY2FsPXRydWUnIGlzIHRvIGJlIHVzZWQgaW4gdGhlIGFkanVkaWNhdGlvbiBvZiB0aGlzIGNsYWltLiBDb3ZlcmFnZXMgYXBwZWFyaW5nIGJlZm9yZSB0aGUgZm9jYWwgQ292ZXJhZ2UgaW4gdGhlIGxpc3QsIGFuZCB3aGVyZSAnQ292ZXJhZ2Uuc3Vicm9nYXRpb249ZmFsc2UnLCBzaG91bGQgcHJvdmlkZSBhIHJlZmVyZW5jZSB0byB0aGUgQ2xhaW1SZXNwb25zZSBjb250YWluaW5nIHRoZSBhZGp1ZGljYXRpb24gcmVzdWx0cyBvZiB0aGUgcHJpb3IgY2xhaW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1JbnN1cmFuY2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbUluc3VyYW5jZSc7XHJcbiAgLyoqXHJcbiAgICogQSBudW1iZXIgdG8gdW5pcXVlbHkgaWRlbnRpZnkgaW5zdXJhbmNlIGVudHJpZXMgYW5kIHByb3ZpZGUgYSBzZXF1ZW5jZSBvZiBjb3ZlcmFnZXMgdG8gY29udmV5IGNvb3JkaW5hdGlvbiBvZiBiZW5lZml0IG9yZGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHBhdGllbnQgbWF5ICh3aWxsKSBoYXZlIG11bHRpcGxlIGluc3VyYW5jZSBwb2xpY2llcyB3aGljaCBwcm92aWRlIHJlaW1idXJzZW1lbnQgZm9yIGhlYWx0aGNhcmUgc2VydmljZXMgYW5kIHByb2R1Y3RzLiBGb3IgZXhhbXBsZSBhIHBlcnNvbiBtYXkgYWxzbyBiZSBjb3ZlcmVkIGJ5IHRoZWlyIHNwb3VzZSdzIHBvbGljeSBhbmQgYm90aCBhcHBlYXIgaW4gdGhlIGxpc3QgKGFuZCBtYXkgYmUgZnJvbSB0aGUgc2FtZSBpbnN1cmVyKS4gVGhpcyBmbGFnIHdpbGwgYmUgc2V0IHRvIHRydWUgZm9yIG9ubHkgb25lIG9mIHRoZSBsaXN0ZWQgcG9saWNpZXMgYW5kIHRoYXQgcG9saWN5IHdpbGwgYmUgdXNlZCBmb3IgYWRqdWRpY2F0aW5nIHRoaXMgY2xhaW0uIE90aGVyIGNsYWltcyB3b3VsZCBiZSBjcmVhdGVkIHRvIHJlcXVlc3QgYWRqdWRpY2F0aW9uIGFnYWluc3QgdGhlIG90aGVyIGxpc3RlZCBwb2xpY2llcy5cclxuICAgKi9cclxuICBwdWJsaWMgZm9jYWw6IGZoaXIuRmhpckJvb2xlYW58bnVsbDtcclxuICAvKipcclxuICAgKiBPbmx5IHJlcXVpcmVkIGluIGp1cmlzZGljdGlvbnMgd2hlcmUgaW5zdXJlcnMsIHJhdGhlciB0aGFuIHRoZSBwcm92aWRlciwgYXJlIHJlcXVpcmVkIHRvIHNlbmQgY2xhaW1zIHRvICBpbnN1cmVycyB0aGF0IGFwcGVhciBhZnRlciB0aGVtIGluIHRoZSBsaXN0LiBUaGlzIGVsZW1lbnQgaXMgbm90IHJlcXVpcmVkIHdoZW4gJ3N1YnJvZ2F0aW9uPXRydWUnLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIGluc3VyYW5jZSBjYXJkIGxldmVsIGluZm9ybWF0aW9uIGNvbnRhaW5lZCBpbiB0aGUgQ292ZXJhZ2UgcmVzb3VyY2UuIFRoZSBjb3ZlcmFnZSBpc3N1aW5nIGluc3VyZXIgd2lsbCB1c2UgdGhlc2UgZGV0YWlscyB0byBsb2NhdGUgdGhlIHBhdGllbnQncyBhY3R1YWwgY292ZXJhZ2Ugd2l0aGluIHRoZSBpbnN1cmVyJ3MgaW5mb3JtYXRpb24gc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3ZlcmFnZTogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGJ1c2luZXNzIGFncmVlbWVudCBudW1iZXIgZXN0YWJsaXNoZWQgYmV0d2VlbiB0aGUgcHJvdmlkZXIgYW5kIHRoZSBpbnN1cmVyIGZvciBzcGVjaWFsIGJ1c2luZXNzIHByb2Nlc3NpbmcgcHVycG9zZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGJ1c2luZXNzQXJyYW5nZW1lbnQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgdmFsdWUgaXMgYW4gYWxwaGFudW1lcmljIHN0cmluZyB0aGF0IG1heSBiZSBwcm92aWRlZCBvdmVyIHRoZSBwaG9uZSwgdmlhIHRleHQsIHZpYSBwYXBlciwgb3Igd2l0aGluIGEgQ2xhaW1SZXNwb25zZSByZXNvdXJjZSBhbmQgaXMgbm90IGEgRkhJUiBJZGVudGlmaWVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmVBdXRoUmVmPzogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogTXVzdCBub3QgYmUgc3BlY2lmaWVkIHdoZW4gJ2ZvY2FsPXRydWUnIGZvciB0aGlzIGluc3VyYW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgY2xhaW1SZXNwb25zZT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGFpbUluc3VyYW5jZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltSW5zdXJhbmNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NlcXVlbmNlJ10pIHsgdGhpcy5zZXF1ZW5jZSA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHNvdXJjZS5zZXF1ZW5jZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXF1ZW5jZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZvY2FsJ10pIHsgdGhpcy5mb2NhbCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmZvY2FsfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZvY2FsID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmlkZW50aWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb3ZlcmFnZSddKSB7IHRoaXMuY292ZXJhZ2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNvdmVyYWdlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY292ZXJhZ2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydidXNpbmVzc0FycmFuZ2VtZW50J10pIHsgdGhpcy5idXNpbmVzc0FycmFuZ2VtZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5idXNpbmVzc0FycmFuZ2VtZW50fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZUF1dGhSZWYnXSkgeyB0aGlzLnByZUF1dGhSZWYgPSBzb3VyY2UucHJlQXV0aFJlZi5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcmVBdXRoUmVmID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NsYWltUmVzcG9uc2UnXSkgeyB0aGlzLmNsYWltUmVzcG9uc2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNsYWltUmVzcG9uc2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3NlcXVlbmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzZXF1ZW5jZTpmaGlyLkZoaXJQb3NpdGl2ZUludCBmaGlyOiBDbGFpbS5pbnN1cmFuY2Uuc2VxdWVuY2U6cG9zaXRpdmVJbnQnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic2VxdWVuY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zZXF1ZW5jZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydmb2NhbCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgZm9jYWw6Zmhpci5GaGlyQm9vbGVhbiBmaGlyOiBDbGFpbS5pbnN1cmFuY2UuZm9jYWw6Ym9vbGVhbicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJmb2NhbFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmZvY2FsLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pZGVudGlmaWVyLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2NvdmVyYWdlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBjb3ZlcmFnZTpmaGlyLlJlZmVyZW5jZSBmaGlyOiBDbGFpbS5pbnN1cmFuY2UuY292ZXJhZ2U6UmVmZXJlbmNlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImNvdmVyYWdlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY292ZXJhZ2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYnVzaW5lc3NBcnJhbmdlbWVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmJ1c2luZXNzQXJyYW5nZW1lbnQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHJlQXV0aFJlZlwiXSkgeyB0aGlzLnByZUF1dGhSZWYuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImNsYWltUmVzcG9uc2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jbGFpbVJlc3BvbnNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xhaW1BY2NpZGVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbUFjY2lkZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgb2YgdGhlIGFjY2lkZW50IGhhcyB0byBwcmVjZWRlIHRoZSBkYXRlcyBvZiB0aGUgcHJvZHVjdHMgYW5kIHNlcnZpY2VzIGJ1dCB3aXRoaW4gYSByZWFzb25hYmxlIHRpbWVmcmFtZS5cclxuICAgKi9cclxuICBkYXRlOiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb3IgY29udGV4dCBvZiB0aGUgYWNjaWRlbnQgZXZlbnQgZm9yIHRoZSBwdXJwb3NlcyBvZiBzZWxlY3Rpb24gb2YgcG90ZW50aWFsIGluc3VyYW5jZSBjb3ZlcmFnZXMgYW5kIGRldGVybWluYXRpb24gb2YgY29vcmRpbmF0aW9uIGJldHdlZW4gaW5zdXJlcnMuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBoeXNpY2FsIGxvY2F0aW9uIG9mIHRoZSBhY2NpZGVudCBldmVudC5cclxuICAgKi9cclxuICBsb2NhdGlvbj86IGZoaXIuQWRkcmVzc3xmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBoeXNpY2FsIGxvY2F0aW9uIG9mIHRoZSBhY2NpZGVudCBldmVudC5cclxuICAgKi9cclxuICBsb2NhdGlvbkFkZHJlc3M/OiBmaGlyLkFkZHJlc3NBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgbG9jYXRpb24gb2YgdGhlIGFjY2lkZW50IGV2ZW50LlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERldGFpbHMgb2YgYW4gYWNjaWRlbnQgd2hpY2ggcmVzdWx0ZWQgaW4gaW5qdXJpZXMgd2hpY2ggcmVxdWlyZWQgdGhlIHByb2R1Y3RzIGFuZCBzZXJ2aWNlcyBsaXN0ZWQgaW4gdGhlIGNsYWltLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsYWltQWNjaWRlbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbUFjY2lkZW50JztcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBvZiB0aGUgYWNjaWRlbnQgaGFzIHRvIHByZWNlZGUgdGhlIGRhdGVzIG9mIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMgYnV0IHdpdGhpbiBhIHJlYXNvbmFibGUgdGltZWZyYW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlOiBmaGlyLkZoaXJEYXRlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb3IgY29udGV4dCBvZiB0aGUgYWNjaWRlbnQgZXZlbnQgZm9yIHRoZSBwdXJwb3NlcyBvZiBzZWxlY3Rpb24gb2YgcG90ZW50aWFsIGluc3VyYW5jZSBjb3ZlcmFnZXMgYW5kIGRldGVybWluYXRpb24gb2YgY29vcmRpbmF0aW9uIGJldHdlZW4gaW5zdXJlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBoeXNpY2FsIGxvY2F0aW9uIG9mIHRoZSBhY2NpZGVudCBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgbG9jYXRpb24/OiAoZmhpci5BZGRyZXNzfGZoaXIuUmVmZXJlbmNlKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDbGFpbS5hY2NpZGVudC5sb2NhdGlvblt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19sb2NhdGlvbklzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltQWNjaWRlbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGFpbUFjY2lkZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2RhdGUnXSkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbG9jYXRpb24nXSkgeyB0aGlzLmxvY2F0aW9uID0gc291cmNlLmxvY2F0aW9uOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2xvY2F0aW9uQWRkcmVzcyddKSB7IHRoaXMubG9jYXRpb24gPSBuZXcgZmhpci5BZGRyZXNzKHNvdXJjZS5sb2NhdGlvbkFkZHJlc3MpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2xvY2F0aW9uUmVmZXJlbmNlJ10pIHsgdGhpcy5sb2NhdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubG9jYXRpb25SZWZlcmVuY2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChDbGFpbS5hY2NpZGVudC50eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgdHlwZUV4dGVuc2libGVDb2RpbmcoKTpWM0FjdEluY2lkZW50Q29kZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFYzQWN0SW5jaWRlbnRDb2RlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snZGF0ZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgZGF0ZTpmaGlyLkZoaXJEYXRlIGZoaXI6IENsYWltLmFjY2lkZW50LmRhdGU6ZGF0ZScsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJkYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltSXRlbURldGFpbFN1YkRldGFpbCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbUl0ZW1EZXRhaWxTdWJEZXRhaWxBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIG51bWJlciB0byB1bmlxdWVseSBpZGVudGlmeSBpdGVtIGVudHJpZXMuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgcmV2ZW51ZSBvciBjb3N0IGNlbnRlciBwcm92aWRpbmcgdGhlIHByb2R1Y3QgYW5kL29yIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcmV2ZW51ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXhhbXBsZXMgaW5jbHVkZSBNZWRpY2FsIENhcmUsIFBlcmlvZG9udGljcywgUmVuYWwgRGlhbHlzaXMsIFZpc2lvbiBDb3ZlcmFnZS5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhpcyBpcyBhbiBhY3R1YWwgc2VydmljZSBvciBwcm9kdWN0IGxpbmUsIGkuZS4gbm90IGEgR3JvdXAsIHRoZW4gdXNlIGNvZGUgdG8gaW5kaWNhdGUgdGhlIFByb2Zlc3Npb25hbCBTZXJ2aWNlIG9yIFByb2R1Y3Qgc3VwcGxpZWQgKGUuZy4gQ1RQLCBIQ1BDUywgVVNDTFMsIElDRDEwLCBOQ1BEUCwgRElOLCBSeE5vcm0sIEFDSEksIENDSSkuIElmIGEgZ3JvdXBpbmcgaXRlbSB0aGVuIHVzZSBhIGdyb3VwIGNvZGUgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgdGhpbmcgYmVpbmcgZ3JvdXBlZCBlLmcuICdnbGFzc2VzJyBvciAnY29tcG91bmQnLlxyXG4gICAqL1xyXG4gIHByb2R1Y3RPclNlcnZpY2U6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIGluIE9yYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IGlzIGNvc21ldGljIG9yIGFzc29jaWF0ZWQgd2l0aCBUTUosIG9yIGZvciBNZWRpY2FsIHdoZXRoZXIgdGhlIHRyZWF0bWVudCB3YXMgb3V0c2lkZSB0aGUgY2xpbmljIG9yIG91dCBvZiBvZmZpY2UgaG91cnMuXHJcbiAgICovXHJcbiAgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IE5lb25hdGFsIHByb2dyYW0sIGNoaWxkIGRlbnRhbCBwcm9ncmFtIG9yIGRydWcgdXNlcnMgcmVjb3ZlcnkgcHJvZ3JhbS5cclxuICAgKi9cclxuICBwcm9ncmFtQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHJlcGV0aXRpb25zIG9mIGEgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBpdGVtIGlzIG5vdCBhIGdyb3VwIHRoZW4gdGhpcyBpcyB0aGUgZmVlIGZvciB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlLCBvdGhlcndpc2UgdGhpcyBpcyB0aGUgdG90YWwgb2YgdGhlIGZlZXMgZm9yIHRoZSBkZXRhaWxzIG9mIHRoZSBncm91cC5cclxuICAgKi9cclxuICB1bml0UHJpY2U/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gc2hvdyBhIDEwJSBzZW5pb3IncyBkaXNjb3VudCwgdGhlIHZhbHVlIGVudGVyZWQgaXM6IDAuOTAgKDEuMDAgLSAwLjEwKS5cclxuICAgKi9cclxuICBmYWN0b3I/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIHRoZSBmb3JtdWxhOiBxdWFudGl0eSAqIHVuaXRQcmljZSAqIGZhY3RvciAgPSBuZXQuIFF1YW50aXR5IGFuZCBmYWN0b3IgYXJlIGFzc3VtZWQgdG8gYmUgMSBpZiBub3Qgc3VwcGxpZWQuXHJcbiAgICovXHJcbiAgbmV0PzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVuaXF1ZSBEZXZpY2UgSWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGluZSBpdGVtLlxyXG4gICAqL1xyXG4gIHVkaT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgY2xhaW0gZGV0YWlsIGxpbmUuIEVpdGhlciBhIHNpbXBsZSAoYSBwcm9kdWN0IG9yIHNlcnZpY2UpIG9yIGEgJ2dyb3VwJyBvZiBzdWItZGV0YWlscyB3aGljaCBhcmUgc2ltcGxlIGl0ZW1zLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsYWltSXRlbURldGFpbFN1YkRldGFpbCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsYWltSXRlbURldGFpbFN1YkRldGFpbCc7XHJcbiAgLyoqXHJcbiAgICogQSBudW1iZXIgdG8gdW5pcXVlbHkgaWRlbnRpZnkgaXRlbSBlbnRyaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZXZlbnVlIG9yIGNvc3QgY2VudGVyIHByb3ZpZGluZyB0aGUgcHJvZHVjdCBhbmQvb3Igc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmV2ZW51ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlcyBpbmNsdWRlIE1lZGljYWwgQ2FyZSwgUGVyaW9kb250aWNzLCBSZW5hbCBEaWFseXNpcywgVmlzaW9uIENvdmVyYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGlzIGFuIGFjdHVhbCBzZXJ2aWNlIG9yIHByb2R1Y3QgbGluZSwgaS5lLiBub3QgYSBHcm91cCwgdGhlbiB1c2UgY29kZSB0byBpbmRpY2F0ZSB0aGUgUHJvZmVzc2lvbmFsIFNlcnZpY2Ugb3IgUHJvZHVjdCBzdXBwbGllZCAoZS5nLiBDVFAsIEhDUENTLCBVU0NMUywgSUNEMTAsIE5DUERQLCBESU4sIFJ4Tm9ybSwgQUNISSwgQ0NJKS4gSWYgYSBncm91cGluZyBpdGVtIHRoZW4gdXNlIGEgZ3JvdXAgY29kZSB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiB0aGluZyBiZWluZyBncm91cGVkIGUuZy4gJ2dsYXNzZXMnIG9yICdjb21wb3VuZCcuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3RPclNlcnZpY2U6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgaW4gT3JhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgaXMgY29zbWV0aWMgb3IgYXNzb2NpYXRlZCB3aXRoIFRNSiwgb3IgZm9yIE1lZGljYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IHdhcyBvdXRzaWRlIHRoZSBjbGluaWMgb3Igb3V0IG9mIG9mZmljZSBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiBOZW9uYXRhbCBwcm9ncmFtLCBjaGlsZCBkZW50YWwgcHJvZ3JhbSBvciBkcnVnIHVzZXJzIHJlY292ZXJ5IHByb2dyYW0uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2dyYW1Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHJlcGV0aXRpb25zIG9mIGEgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBpdGVtIGlzIG5vdCBhIGdyb3VwIHRoZW4gdGhpcyBpcyB0aGUgZmVlIGZvciB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlLCBvdGhlcndpc2UgdGhpcyBpcyB0aGUgdG90YWwgb2YgdGhlIGZlZXMgZm9yIHRoZSBkZXRhaWxzIG9mIHRoZSBncm91cC5cclxuICAgKi9cclxuICBwdWJsaWMgdW5pdFByaWNlPzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gc2hvdyBhIDEwJSBzZW5pb3IncyBkaXNjb3VudCwgdGhlIHZhbHVlIGVudGVyZWQgaXM6IDAuOTAgKDEuMDAgLSAwLjEwKS5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjdG9yPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIHRoZSBmb3JtdWxhOiBxdWFudGl0eSAqIHVuaXRQcmljZSAqIGZhY3RvciAgPSBuZXQuIFF1YW50aXR5IGFuZCBmYWN0b3IgYXJlIGFzc3VtZWQgdG8gYmUgMSBpZiBub3Qgc3VwcGxpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG5ldD86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVuaXF1ZSBEZXZpY2UgSWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGluZSBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1ZGk/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltSXRlbURldGFpbFN1YkRldGFpbCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltSXRlbURldGFpbFN1YkRldGFpbEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzZXF1ZW5jZSddKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXZlbnVlJ10pIHsgdGhpcy5yZXZlbnVlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZXZlbnVlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jYXRlZ29yeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3RPclNlcnZpY2UnXSkgeyB0aGlzLnByb2R1Y3RPclNlcnZpY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnByb2R1Y3RPclNlcnZpY2UpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9kdWN0T3JTZXJ2aWNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kaWZpZXInXSkgeyB0aGlzLm1vZGlmaWVyID0gc291cmNlLm1vZGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kaWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZ3JhbUNvZGUnXSkgeyB0aGlzLnByb2dyYW1Db2RlID0gc291cmNlLnByb2dyYW1Db2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvZ3JhbUNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5pdFByaWNlJ10pIHsgdGhpcy51bml0UHJpY2UgPSBuZXcgZmhpci5Nb25leShzb3VyY2UudW5pdFByaWNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFjdG9yJ10pIHsgdGhpcy5mYWN0b3IgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5mYWN0b3J9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0J10pIHsgdGhpcy5uZXQgPSBuZXcgZmhpci5Nb25leShzb3VyY2UubmV0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndWRpJ10pIHsgdGhpcy51ZGkgPSBzb3VyY2UudWRpLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudWRpID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snc2VxdWVuY2UnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHNlcXVlbmNlOmZoaXIuRmhpclBvc2l0aXZlSW50IGZoaXI6IENsYWltLml0ZW0uZGV0YWlsLnN1YkRldGFpbC5zZXF1ZW5jZTpwb3NpdGl2ZUludCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzZXF1ZW5jZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNlcXVlbmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJldmVudWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZXZlbnVlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNhdGVnb3J5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY2F0ZWdvcnkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sncHJvZHVjdE9yU2VydmljZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcHJvZHVjdE9yU2VydmljZTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBDbGFpbS5pdGVtLmRldGFpbC5zdWJEZXRhaWwucHJvZHVjdE9yU2VydmljZTpDb2RlYWJsZUNvbmNlcHQnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicHJvZHVjdE9yU2VydmljZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByb2R1Y3RPclNlcnZpY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibW9kaWZpZXJcIl0pIHsgdGhpcy5tb2RpZmllci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicHJvZ3JhbUNvZGVcIl0pIHsgdGhpcy5wcm9ncmFtQ29kZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicXVhbnRpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5xdWFudGl0eS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1bml0UHJpY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51bml0UHJpY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZmFjdG9yXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZmFjdG9yLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm5ldFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5ldC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1ZGlcIl0pIHsgdGhpcy51ZGkuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xhaW1JdGVtRGV0YWlsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltSXRlbURldGFpbEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgbnVtYmVyIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGl0ZW0gZW50cmllcy5cclxuICAgKi9cclxuICBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZXZlbnVlIG9yIGNvc3QgY2VudGVyIHByb3ZpZGluZyB0aGUgcHJvZHVjdCBhbmQvb3Igc2VydmljZS5cclxuICAgKi9cclxuICByZXZlbnVlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlcyBpbmNsdWRlIE1lZGljYWwgQ2FyZSwgUGVyaW9kb250aWNzLCBSZW5hbCBEaWFseXNpcywgVmlzaW9uIENvdmVyYWdlLlxyXG4gICAqL1xyXG4gIGNhdGVnb3J5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGlzIGFuIGFjdHVhbCBzZXJ2aWNlIG9yIHByb2R1Y3QgbGluZSwgaS5lLiBub3QgYSBHcm91cCwgdGhlbiB1c2UgY29kZSB0byBpbmRpY2F0ZSB0aGUgUHJvZmVzc2lvbmFsIFNlcnZpY2Ugb3IgUHJvZHVjdCBzdXBwbGllZCAoZS5nLiBDVFAsIEhDUENTLCBVU0NMUywgSUNEMTAsIE5DUERQLCBESU4sIFJ4Tm9ybSwgQUNISSwgQ0NJKS4gSWYgYSBncm91cGluZyBpdGVtIHRoZW4gdXNlIGEgZ3JvdXAgY29kZSB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiB0aGluZyBiZWluZyBncm91cGVkIGUuZy4gJ2dsYXNzZXMnIG9yICdjb21wb3VuZCcuXHJcbiAgICovXHJcbiAgcHJvZHVjdE9yU2VydmljZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgaW4gT3JhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgaXMgY29zbWV0aWMgb3IgYXNzb2NpYXRlZCB3aXRoIFRNSiwgb3IgZm9yIE1lZGljYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IHdhcyBvdXRzaWRlIHRoZSBjbGluaWMgb3Igb3V0IG9mIG9mZmljZSBob3Vycy5cclxuICAgKi9cclxuICBtb2RpZmllcj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogTmVvbmF0YWwgcHJvZ3JhbSwgY2hpbGQgZGVudGFsIHByb2dyYW0gb3IgZHJ1ZyB1c2VycyByZWNvdmVyeSBwcm9ncmFtLlxyXG4gICAqL1xyXG4gIHByb2dyYW1Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgcmVwZXRpdGlvbnMgb2YgYSBzZXJ2aWNlIG9yIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGl0ZW0gaXMgbm90IGEgZ3JvdXAgdGhlbiB0aGlzIGlzIHRoZSBmZWUgZm9yIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2UsIG90aGVyd2lzZSB0aGlzIGlzIHRoZSB0b3RhbCBvZiB0aGUgZmVlcyBmb3IgdGhlIGRldGFpbHMgb2YgdGhlIGdyb3VwLlxyXG4gICAqL1xyXG4gIHVuaXRQcmljZT86IGZoaXIuTW9uZXlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUbyBzaG93IGEgMTAlIHNlbmlvcidzIGRpc2NvdW50LCB0aGUgdmFsdWUgZW50ZXJlZCBpczogMC45MCAoMS4wMCAtIDAuMTApLlxyXG4gICAqL1xyXG4gIGZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgdGhlIGZvcm11bGE6IHF1YW50aXR5ICogdW5pdFByaWNlICogZmFjdG9yICA9IG5ldC4gUXVhbnRpdHkgYW5kIGZhY3RvciBhcmUgYXNzdW1lZCB0byBiZSAxIGlmIG5vdCBzdXBwbGllZC5cclxuICAgKi9cclxuICBuZXQ/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVW5pcXVlIERldmljZSBJZGVudGlmaWVycyBhc3NvY2lhdGVkIHdpdGggdGhpcyBsaW5lIGl0ZW0uXHJcbiAgICovXHJcbiAgdWRpPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY2xhaW0gZGV0YWlsIGxpbmUuIEVpdGhlciBhIHNpbXBsZSAoYSBwcm9kdWN0IG9yIHNlcnZpY2UpIG9yIGEgJ2dyb3VwJyBvZiBzdWItZGV0YWlscyB3aGljaCBhcmUgc2ltcGxlIGl0ZW1zLlxyXG4gICAqL1xyXG4gIHN1YkRldGFpbD86IGZoaXIuQ2xhaW1JdGVtRGV0YWlsU3ViRGV0YWlsQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgY2xhaW0gZGV0YWlsIGxpbmUuIEVpdGhlciBhIHNpbXBsZSAoYSBwcm9kdWN0IG9yIHNlcnZpY2UpIG9yIGEgJ2dyb3VwJyBvZiBzdWItZGV0YWlscyB3aGljaCBhcmUgc2ltcGxlIGl0ZW1zLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsYWltSXRlbURldGFpbCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsYWltSXRlbURldGFpbCc7XHJcbiAgLyoqXHJcbiAgICogQSBudW1iZXIgdG8gdW5pcXVlbHkgaWRlbnRpZnkgaXRlbSBlbnRyaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZXZlbnVlIG9yIGNvc3QgY2VudGVyIHByb3ZpZGluZyB0aGUgcHJvZHVjdCBhbmQvb3Igc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmV2ZW51ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlcyBpbmNsdWRlIE1lZGljYWwgQ2FyZSwgUGVyaW9kb250aWNzLCBSZW5hbCBEaWFseXNpcywgVmlzaW9uIENvdmVyYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGlzIGFuIGFjdHVhbCBzZXJ2aWNlIG9yIHByb2R1Y3QgbGluZSwgaS5lLiBub3QgYSBHcm91cCwgdGhlbiB1c2UgY29kZSB0byBpbmRpY2F0ZSB0aGUgUHJvZmVzc2lvbmFsIFNlcnZpY2Ugb3IgUHJvZHVjdCBzdXBwbGllZCAoZS5nLiBDVFAsIEhDUENTLCBVU0NMUywgSUNEMTAsIE5DUERQLCBESU4sIFJ4Tm9ybSwgQUNISSwgQ0NJKS4gSWYgYSBncm91cGluZyBpdGVtIHRoZW4gdXNlIGEgZ3JvdXAgY29kZSB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiB0aGluZyBiZWluZyBncm91cGVkIGUuZy4gJ2dsYXNzZXMnIG9yICdjb21wb3VuZCcuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3RPclNlcnZpY2U6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgaW4gT3JhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgaXMgY29zbWV0aWMgb3IgYXNzb2NpYXRlZCB3aXRoIFRNSiwgb3IgZm9yIE1lZGljYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IHdhcyBvdXRzaWRlIHRoZSBjbGluaWMgb3Igb3V0IG9mIG9mZmljZSBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiBOZW9uYXRhbCBwcm9ncmFtLCBjaGlsZCBkZW50YWwgcHJvZ3JhbSBvciBkcnVnIHVzZXJzIHJlY292ZXJ5IHByb2dyYW0uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2dyYW1Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHJlcGV0aXRpb25zIG9mIGEgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBpdGVtIGlzIG5vdCBhIGdyb3VwIHRoZW4gdGhpcyBpcyB0aGUgZmVlIGZvciB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlLCBvdGhlcndpc2UgdGhpcyBpcyB0aGUgdG90YWwgb2YgdGhlIGZlZXMgZm9yIHRoZSBkZXRhaWxzIG9mIHRoZSBncm91cC5cclxuICAgKi9cclxuICBwdWJsaWMgdW5pdFByaWNlPzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gc2hvdyBhIDEwJSBzZW5pb3IncyBkaXNjb3VudCwgdGhlIHZhbHVlIGVudGVyZWQgaXM6IDAuOTAgKDEuMDAgLSAwLjEwKS5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjdG9yPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIHRoZSBmb3JtdWxhOiBxdWFudGl0eSAqIHVuaXRQcmljZSAqIGZhY3RvciAgPSBuZXQuIFF1YW50aXR5IGFuZCBmYWN0b3IgYXJlIGFzc3VtZWQgdG8gYmUgMSBpZiBub3Qgc3VwcGxpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG5ldD86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVuaXF1ZSBEZXZpY2UgSWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGluZSBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1ZGk/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEEgY2xhaW0gZGV0YWlsIGxpbmUuIEVpdGhlciBhIHNpbXBsZSAoYSBwcm9kdWN0IG9yIHNlcnZpY2UpIG9yIGEgJ2dyb3VwJyBvZiBzdWItZGV0YWlscyB3aGljaCBhcmUgc2ltcGxlIGl0ZW1zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJEZXRhaWw/OiBmaGlyLkNsYWltSXRlbURldGFpbFN1YkRldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltSXRlbURldGFpbCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltSXRlbURldGFpbEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzZXF1ZW5jZSddKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXZlbnVlJ10pIHsgdGhpcy5yZXZlbnVlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZXZlbnVlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jYXRlZ29yeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3RPclNlcnZpY2UnXSkgeyB0aGlzLnByb2R1Y3RPclNlcnZpY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnByb2R1Y3RPclNlcnZpY2UpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9kdWN0T3JTZXJ2aWNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kaWZpZXInXSkgeyB0aGlzLm1vZGlmaWVyID0gc291cmNlLm1vZGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kaWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZ3JhbUNvZGUnXSkgeyB0aGlzLnByb2dyYW1Db2RlID0gc291cmNlLnByb2dyYW1Db2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvZ3JhbUNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5pdFByaWNlJ10pIHsgdGhpcy51bml0UHJpY2UgPSBuZXcgZmhpci5Nb25leShzb3VyY2UudW5pdFByaWNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFjdG9yJ10pIHsgdGhpcy5mYWN0b3IgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5mYWN0b3J9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0J10pIHsgdGhpcy5uZXQgPSBuZXcgZmhpci5Nb25leShzb3VyY2UubmV0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndWRpJ10pIHsgdGhpcy51ZGkgPSBzb3VyY2UudWRpLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudWRpID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YkRldGFpbCddKSB7IHRoaXMuc3ViRGV0YWlsID0gc291cmNlLnN1YkRldGFpbC5tYXAoKHgpID0+IG5ldyBmaGlyLkNsYWltSXRlbURldGFpbFN1YkRldGFpbCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1YkRldGFpbCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3NlcXVlbmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzZXF1ZW5jZTpmaGlyLkZoaXJQb3NpdGl2ZUludCBmaGlyOiBDbGFpbS5pdGVtLmRldGFpbC5zZXF1ZW5jZTpwb3NpdGl2ZUludCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzZXF1ZW5jZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNlcXVlbmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJldmVudWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZXZlbnVlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNhdGVnb3J5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY2F0ZWdvcnkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sncHJvZHVjdE9yU2VydmljZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcHJvZHVjdE9yU2VydmljZTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBDbGFpbS5pdGVtLmRldGFpbC5wcm9kdWN0T3JTZXJ2aWNlOkNvZGVhYmxlQ29uY2VwdCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm9kdWN0T3JTZXJ2aWNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHJvZHVjdE9yU2VydmljZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJtb2RpZmllclwiXSkgeyB0aGlzLm1vZGlmaWVyLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm9ncmFtQ29kZVwiXSkgeyB0aGlzLnByb2dyYW1Db2RlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJxdWFudGl0eVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnF1YW50aXR5LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInVuaXRQcmljZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnVuaXRQcmljZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJmYWN0b3JcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5mYWN0b3IuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmV0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmV0LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInVkaVwiXSkgeyB0aGlzLnVkaS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wic3ViRGV0YWlsXCJdKSB7IHRoaXMuc3ViRGV0YWlsLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltSXRlbSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbUl0ZW1BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIG51bWJlciB0byB1bmlxdWVseSBpZGVudGlmeSBpdGVtIGVudHJpZXMuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FyZVRlYW0gbWVtYmVycyByZWxhdGVkIHRvIHRoaXMgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIGNhcmVUZWFtU2VxdWVuY2U/OiBmaGlyLkZoaXJQb3NpdGl2ZUludFtdfG51bWJlcltdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEaWFnbm9zaXMgYXBwbGljYWJsZSBmb3IgdGhpcyBzZXJ2aWNlIG9yIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgZGlhZ25vc2lzU2VxdWVuY2U/OiBmaGlyLkZoaXJQb3NpdGl2ZUludFtdfG51bWJlcltdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcm9jZWR1cmVzIGFwcGxpY2FibGUgZm9yIHRoaXMgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHByb2NlZHVyZVNlcXVlbmNlPzogZmhpci5GaGlyUG9zaXRpdmVJbnRbXXxudW1iZXJbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXhjZXB0aW9ucywgc3BlY2lhbCBjb25kaXRpb25zIGFuZCBzdXBwb3J0aW5nIGluZm9ybWF0aW9uIGFwcGxpY2FibGUgZm9yIHRoaXMgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIGluZm9ybWF0aW9uU2VxdWVuY2U/OiBmaGlyLkZoaXJQb3NpdGl2ZUludFtdfG51bWJlcltdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZXZlbnVlIG9yIGNvc3QgY2VudGVyIHByb3ZpZGluZyB0aGUgcHJvZHVjdCBhbmQvb3Igc2VydmljZS5cclxuICAgKi9cclxuICByZXZlbnVlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlcyBpbmNsdWRlIE1lZGljYWwgQ2FyZSwgUGVyaW9kb250aWNzLCBSZW5hbCBEaWFseXNpcywgVmlzaW9uIENvdmVyYWdlLlxyXG4gICAqL1xyXG4gIGNhdGVnb3J5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGlzIGFuIGFjdHVhbCBzZXJ2aWNlIG9yIHByb2R1Y3QgbGluZSwgaS5lLiBub3QgYSBHcm91cCwgdGhlbiB1c2UgY29kZSB0byBpbmRpY2F0ZSB0aGUgUHJvZmVzc2lvbmFsIFNlcnZpY2Ugb3IgUHJvZHVjdCBzdXBwbGllZCAoZS5nLiBDVFAsIEhDUENTLCBVU0NMUywgSUNEMTAsIE5DUERQLCBESU4sIFJ4Tm9ybSwgQUNISSwgQ0NJKS4gSWYgYSBncm91cGluZyBpdGVtIHRoZW4gdXNlIGEgZ3JvdXAgY29kZSB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiB0aGluZyBiZWluZyBncm91cGVkIGUuZy4gJ2dsYXNzZXMnIG9yICdjb21wb3VuZCcuXHJcbiAgICovXHJcbiAgcHJvZHVjdE9yU2VydmljZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgaW4gT3JhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgaXMgY29zbWV0aWMgb3IgYXNzb2NpYXRlZCB3aXRoIFRNSiwgb3IgZm9yIE1lZGljYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IHdhcyBvdXRzaWRlIHRoZSBjbGluaWMgb3Igb3V0c2lkZSBvZiBvZmZpY2UgaG91cnMuXHJcbiAgICovXHJcbiAgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IE5lb25hdGFsIHByb2dyYW0sIGNoaWxkIGRlbnRhbCBwcm9ncmFtIG9yIGRydWcgdXNlcnMgcmVjb3ZlcnkgcHJvZ3JhbS5cclxuICAgKi9cclxuICBwcm9ncmFtQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBvciBkYXRlcyB3aGVuIHRoZSBzZXJ2aWNlIG9yIHByb2R1Y3Qgd2FzIHN1cHBsaWVkLCBwZXJmb3JtZWQgb3IgY29tcGxldGVkLlxyXG4gICAqL1xyXG4gIHNlcnZpY2VkPzogZmhpci5GaGlyRGF0ZXxmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgb3IgZGF0ZXMgd2hlbiB0aGUgc2VydmljZSBvciBwcm9kdWN0IHdhcyBzdXBwbGllZCwgcGVyZm9ybWVkIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBzZXJ2aWNlZERhdGU/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgb3IgZGF0ZXMgd2hlbiB0aGUgc2VydmljZSBvciBwcm9kdWN0IHdhcyBzdXBwbGllZCwgcGVyZm9ybWVkIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBzZXJ2aWNlZFBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIHByb2R1Y3Qgb3Igc2VydmljZSB3YXMgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgbG9jYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkFkZHJlc3N8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2Ugd2FzIHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlIHdhcyBwcm92aWRlZC5cclxuICAgKi9cclxuICBsb2NhdGlvbkFkZHJlc3M/OiBmaGlyLkFkZHJlc3NBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlIHdhcyBwcm92aWRlZC5cclxuICAgKi9cclxuICBsb2NhdGlvblJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiByZXBldGl0aW9ucyBvZiBhIHNlcnZpY2Ugb3IgcHJvZHVjdC5cclxuICAgKi9cclxuICBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgaXRlbSBpcyBub3QgYSBncm91cCB0aGVuIHRoaXMgaXMgdGhlIGZlZSBmb3IgdGhlIHByb2R1Y3Qgb3Igc2VydmljZSwgb3RoZXJ3aXNlIHRoaXMgaXMgdGhlIHRvdGFsIG9mIHRoZSBmZWVzIGZvciB0aGUgZGV0YWlscyBvZiB0aGUgZ3JvdXAuXHJcbiAgICovXHJcbiAgdW5pdFByaWNlPzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRvIHNob3cgYSAxMCUgc2VuaW9yJ3MgZGlzY291bnQsIHRoZSB2YWx1ZSBlbnRlcmVkIGlzOiAwLjkwICgxLjAwIC0gMC4xMCkuXHJcbiAgICovXHJcbiAgZmFjdG9yPzogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlLCB0aGUgZm9ybXVsYTogcXVhbnRpdHkgKiB1bml0UHJpY2UgKiBmYWN0b3IgID0gbmV0LiBRdWFudGl0eSBhbmQgZmFjdG9yIGFyZSBhc3N1bWVkIHRvIGJlIDEgaWYgbm90IHN1cHBsaWVkLlxyXG4gICAqL1xyXG4gIG5ldD86IGZoaXIuTW9uZXlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVbmlxdWUgRGV2aWNlIElkZW50aWZpZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxpbmUgaXRlbS5cclxuICAgKi9cclxuICB1ZGk/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IFByb3ZpZGluZyBhIHRvb3RoIGNvZGUsIGFsbG93cyBhbiBpbnN1cmVyIHRvIGlkZW50aWZ5IGEgcHJvdmlkZXIgcGVyZm9ybWluZyBhIGZpbGxpbmcgb24gYSB0b290aCB0aGF0IHdhcyBwcmV2aW91c2x5IHJlbW92ZWQuXHJcbiAgICovXHJcbiAgYm9keVNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVnaW9uIG9yIHN1cmZhY2Ugb2YgdGhlIGJvZHlTaXRlLCBlLmcuIGxpbWIgcmVnaW9uIG9yIHRvb3RoIHN1cmZhY2UocykuXHJcbiAgICovXHJcbiAgc3ViU2l0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHdpbGwgdHlwaWNhbGx5IGJlIHRoZSBlbmNvdW50ZXIgdGhlIGV2ZW50IG9jY3VycmVkIHdpdGhpbiwgYnV0IHNvbWUgYWN0aXZpdGllcyBtYXkgYmUgaW5pdGlhdGVkIHByaW9yIHRvIG9yIGFmdGVyIHRoZSBvZmZpY2lhbCBjb21wbGV0aW9uIG9mIGFuIGVuY291bnRlciBidXQgc3RpbGwgYmUgdGllZCB0byB0aGUgY29udGV4dCBvZiB0aGUgZW5jb3VudGVyLlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNsYWltIGRldGFpbCBsaW5lLiBFaXRoZXIgYSBzaW1wbGUgKGEgcHJvZHVjdCBvciBzZXJ2aWNlKSBvciBhICdncm91cCcgb2Ygc3ViLWRldGFpbHMgd2hpY2ggYXJlIHNpbXBsZSBpdGVtcy5cclxuICAgKi9cclxuICBkZXRhaWw/OiBmaGlyLkNsYWltSXRlbURldGFpbEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGNsYWltIGxpbmUuIEVpdGhlciBhIHNpbXBsZSAgcHJvZHVjdCBvciBzZXJ2aWNlIG9yIGEgJ2dyb3VwJyBvZiBkZXRhaWxzIHdoaWNoIGNhbiBlYWNoIGJlIGEgc2ltcGxlIGl0ZW1zIG9yIGdyb3VwcyBvZiBzdWItZGV0YWlscy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGFpbUl0ZW0gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbUl0ZW0nO1xyXG4gIC8qKlxyXG4gICAqIEEgbnVtYmVyIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGl0ZW0gZW50cmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQ2FyZVRlYW0gbWVtYmVycyByZWxhdGVkIHRvIHRoaXMgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXJlVGVhbVNlcXVlbmNlPzogZmhpci5GaGlyUG9zaXRpdmVJbnRbXTtcclxuICAvKipcclxuICAgKiBEaWFnbm9zaXMgYXBwbGljYWJsZSBmb3IgdGhpcyBzZXJ2aWNlIG9yIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcHVibGljIGRpYWdub3Npc1NlcXVlbmNlPzogZmhpci5GaGlyUG9zaXRpdmVJbnRbXTtcclxuICAvKipcclxuICAgKiBQcm9jZWR1cmVzIGFwcGxpY2FibGUgZm9yIHRoaXMgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9jZWR1cmVTZXF1ZW5jZT86IGZoaXIuRmhpclBvc2l0aXZlSW50W107XHJcbiAgLyoqXHJcbiAgICogRXhjZXB0aW9ucywgc3BlY2lhbCBjb25kaXRpb25zIGFuZCBzdXBwb3J0aW5nIGluZm9ybWF0aW9uIGFwcGxpY2FibGUgZm9yIHRoaXMgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbmZvcm1hdGlvblNlcXVlbmNlPzogZmhpci5GaGlyUG9zaXRpdmVJbnRbXTtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZXZlbnVlIG9yIGNvc3QgY2VudGVyIHByb3ZpZGluZyB0aGUgcHJvZHVjdCBhbmQvb3Igc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmV2ZW51ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlcyBpbmNsdWRlIE1lZGljYWwgQ2FyZSwgUGVyaW9kb250aWNzLCBSZW5hbCBEaWFseXNpcywgVmlzaW9uIENvdmVyYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGlzIGFuIGFjdHVhbCBzZXJ2aWNlIG9yIHByb2R1Y3QgbGluZSwgaS5lLiBub3QgYSBHcm91cCwgdGhlbiB1c2UgY29kZSB0byBpbmRpY2F0ZSB0aGUgUHJvZmVzc2lvbmFsIFNlcnZpY2Ugb3IgUHJvZHVjdCBzdXBwbGllZCAoZS5nLiBDVFAsIEhDUENTLCBVU0NMUywgSUNEMTAsIE5DUERQLCBESU4sIFJ4Tm9ybSwgQUNISSwgQ0NJKS4gSWYgYSBncm91cGluZyBpdGVtIHRoZW4gdXNlIGEgZ3JvdXAgY29kZSB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiB0aGluZyBiZWluZyBncm91cGVkIGUuZy4gJ2dsYXNzZXMnIG9yICdjb21wb3VuZCcuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3RPclNlcnZpY2U6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgaW4gT3JhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgaXMgY29zbWV0aWMgb3IgYXNzb2NpYXRlZCB3aXRoIFRNSiwgb3IgZm9yIE1lZGljYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IHdhcyBvdXRzaWRlIHRoZSBjbGluaWMgb3Igb3V0c2lkZSBvZiBvZmZpY2UgaG91cnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogTmVvbmF0YWwgcHJvZ3JhbSwgY2hpbGQgZGVudGFsIHByb2dyYW0gb3IgZHJ1ZyB1c2VycyByZWNvdmVyeSBwcm9ncmFtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9ncmFtQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgb3IgZGF0ZXMgd2hlbiB0aGUgc2VydmljZSBvciBwcm9kdWN0IHdhcyBzdXBwbGllZCwgcGVyZm9ybWVkIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc2VydmljZWQ/OiAoZmhpci5GaGlyRGF0ZXxmaGlyLlBlcmlvZCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ2xhaW0uaXRlbS5zZXJ2aWNlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19zZXJ2aWNlZElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2Ugd2FzIHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb2NhdGlvbj86IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkFkZHJlc3N8Zmhpci5SZWZlcmVuY2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsYWltLml0ZW0ubG9jYXRpb25beF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfbG9jYXRpb25Jc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHJlcGV0aXRpb25zIG9mIGEgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBpdGVtIGlzIG5vdCBhIGdyb3VwIHRoZW4gdGhpcyBpcyB0aGUgZmVlIGZvciB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlLCBvdGhlcndpc2UgdGhpcyBpcyB0aGUgdG90YWwgb2YgdGhlIGZlZXMgZm9yIHRoZSBkZXRhaWxzIG9mIHRoZSBncm91cC5cclxuICAgKi9cclxuICBwdWJsaWMgdW5pdFByaWNlPzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gc2hvdyBhIDEwJSBzZW5pb3IncyBkaXNjb3VudCwgdGhlIHZhbHVlIGVudGVyZWQgaXM6IDAuOTAgKDEuMDAgLSAwLjEwKS5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjdG9yPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIHRoZSBmb3JtdWxhOiBxdWFudGl0eSAqIHVuaXRQcmljZSAqIGZhY3RvciAgPSBuZXQuIFF1YW50aXR5IGFuZCBmYWN0b3IgYXJlIGFzc3VtZWQgdG8gYmUgMSBpZiBub3Qgc3VwcGxpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG5ldD86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVuaXF1ZSBEZXZpY2UgSWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGluZSBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1ZGk/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiBQcm92aWRpbmcgYSB0b290aCBjb2RlLCBhbGxvd3MgYW4gaW5zdXJlciB0byBpZGVudGlmeSBhIHByb3ZpZGVyIHBlcmZvcm1pbmcgYSBmaWxsaW5nIG9uIGEgdG9vdGggdGhhdCB3YXMgcHJldmlvdXNseSByZW1vdmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBib2R5U2l0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHJlZ2lvbiBvciBzdXJmYWNlIG9mIHRoZSBib2R5U2l0ZSwgZS5nLiBsaW1iIHJlZ2lvbiBvciB0b290aCBzdXJmYWNlKHMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJTaXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGlzIHdpbGwgdHlwaWNhbGx5IGJlIHRoZSBlbmNvdW50ZXIgdGhlIGV2ZW50IG9jY3VycmVkIHdpdGhpbiwgYnV0IHNvbWUgYWN0aXZpdGllcyBtYXkgYmUgaW5pdGlhdGVkIHByaW9yIHRvIG9yIGFmdGVyIHRoZSBvZmZpY2lhbCBjb21wbGV0aW9uIG9mIGFuIGVuY291bnRlciBidXQgc3RpbGwgYmUgdGllZCB0byB0aGUgY29udGV4dCBvZiB0aGUgZW5jb3VudGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEEgY2xhaW0gZGV0YWlsIGxpbmUuIEVpdGhlciBhIHNpbXBsZSAoYSBwcm9kdWN0IG9yIHNlcnZpY2UpIG9yIGEgJ2dyb3VwJyBvZiBzdWItZGV0YWlscyB3aGljaCBhcmUgc2ltcGxlIGl0ZW1zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXRhaWw/OiBmaGlyLkNsYWltSXRlbURldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltSXRlbSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltSXRlbUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzZXF1ZW5jZSddKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXJlVGVhbVNlcXVlbmNlJ10pIHsgdGhpcy5jYXJlVGVhbVNlcXVlbmNlID0gc291cmNlLmNhcmVUZWFtU2VxdWVuY2UubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jYXJlVGVhbVNlcXVlbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2RpYWdub3Npc1NlcXVlbmNlJ10pIHsgdGhpcy5kaWFnbm9zaXNTZXF1ZW5jZSA9IHNvdXJjZS5kaWFnbm9zaXNTZXF1ZW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRpYWdub3Npc1NlcXVlbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2NlZHVyZVNlcXVlbmNlJ10pIHsgdGhpcy5wcm9jZWR1cmVTZXF1ZW5jZSA9IHNvdXJjZS5wcm9jZWR1cmVTZXF1ZW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2NlZHVyZVNlcXVlbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2luZm9ybWF0aW9uU2VxdWVuY2UnXSkgeyB0aGlzLmluZm9ybWF0aW9uU2VxdWVuY2UgPSBzb3VyY2UuaW5mb3JtYXRpb25TZXF1ZW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluZm9ybWF0aW9uU2VxdWVuY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmV2ZW51ZSddKSB7IHRoaXMucmV2ZW51ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucmV2ZW51ZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2F0ZWdvcnkpOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9kdWN0T3JTZXJ2aWNlJ10pIHsgdGhpcy5wcm9kdWN0T3JTZXJ2aWNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5wcm9kdWN0T3JTZXJ2aWNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvZHVjdE9yU2VydmljZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ21vZGlmaWVyJ10pIHsgdGhpcy5tb2RpZmllciA9IHNvdXJjZS5tb2RpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vZGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2dyYW1Db2RlJ10pIHsgdGhpcy5wcm9ncmFtQ29kZSA9IHNvdXJjZS5wcm9ncmFtQ29kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2dyYW1Db2RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcnZpY2VkJ10pIHsgdGhpcy5zZXJ2aWNlZCA9IHNvdXJjZS5zZXJ2aWNlZDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydzZXJ2aWNlZERhdGUnXSkgeyB0aGlzLnNlcnZpY2VkID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2Uuc2VydmljZWREYXRlfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnc2VydmljZWRQZXJpb2QnXSkgeyB0aGlzLnNlcnZpY2VkID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5zZXJ2aWNlZFBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2xvY2F0aW9uJ10pIHsgdGhpcy5sb2NhdGlvbiA9IHNvdXJjZS5sb2NhdGlvbjsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydsb2NhdGlvbkNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMubG9jYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmxvY2F0aW9uQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydsb2NhdGlvbkFkZHJlc3MnXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuQWRkcmVzcyhzb3VyY2UubG9jYXRpb25BZGRyZXNzKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydsb2NhdGlvblJlZmVyZW5jZSddKSB7IHRoaXMubG9jYXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmxvY2F0aW9uUmVmZXJlbmNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5pdFByaWNlJ10pIHsgdGhpcy51bml0UHJpY2UgPSBuZXcgZmhpci5Nb25leShzb3VyY2UudW5pdFByaWNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFjdG9yJ10pIHsgdGhpcy5mYWN0b3IgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5mYWN0b3J9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0J10pIHsgdGhpcy5uZXQgPSBuZXcgZmhpci5Nb25leShzb3VyY2UubmV0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndWRpJ10pIHsgdGhpcy51ZGkgPSBzb3VyY2UudWRpLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudWRpID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2JvZHlTaXRlJ10pIHsgdGhpcy5ib2R5U2l0ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYm9keVNpdGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJTaXRlJ10pIHsgdGhpcy5zdWJTaXRlID0gc291cmNlLnN1YlNpdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJTaXRlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gc291cmNlLmVuY291bnRlci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVuY291bnRlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXRhaWwnXSkgeyB0aGlzLmRldGFpbCA9IHNvdXJjZS5kZXRhaWwubWFwKCh4KSA9PiBuZXcgZmhpci5DbGFpbUl0ZW1EZXRhaWwoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kZXRhaWwgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydzZXF1ZW5jZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc2VxdWVuY2U6Zmhpci5GaGlyUG9zaXRpdmVJbnQgZmhpcjogQ2xhaW0uaXRlbS5zZXF1ZW5jZTpwb3NpdGl2ZUludCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzZXF1ZW5jZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNlcXVlbmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNhcmVUZWFtU2VxdWVuY2VcIl0pIHsgdGhpcy5jYXJlVGVhbVNlcXVlbmNlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJkaWFnbm9zaXNTZXF1ZW5jZVwiXSkgeyB0aGlzLmRpYWdub3Npc1NlcXVlbmNlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm9jZWR1cmVTZXF1ZW5jZVwiXSkgeyB0aGlzLnByb2NlZHVyZVNlcXVlbmNlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJpbmZvcm1hdGlvblNlcXVlbmNlXCJdKSB7IHRoaXMuaW5mb3JtYXRpb25TZXF1ZW5jZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicmV2ZW51ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJldmVudWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY2F0ZWdvcnlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jYXRlZ29yeS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydwcm9kdWN0T3JTZXJ2aWNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwcm9kdWN0T3JTZXJ2aWNlOmZoaXIuQ29kZWFibGVDb25jZXB0IGZoaXI6IENsYWltLml0ZW0ucHJvZHVjdE9yU2VydmljZTpDb2RlYWJsZUNvbmNlcHQnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicHJvZHVjdE9yU2VydmljZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByb2R1Y3RPclNlcnZpY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibW9kaWZpZXJcIl0pIHsgdGhpcy5tb2RpZmllci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicHJvZ3JhbUNvZGVcIl0pIHsgdGhpcy5wcm9ncmFtQ29kZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicXVhbnRpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5xdWFudGl0eS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1bml0UHJpY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51bml0UHJpY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZmFjdG9yXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZmFjdG9yLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm5ldFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5ldC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1ZGlcIl0pIHsgdGhpcy51ZGkuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImJvZHlTaXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYm9keVNpdGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3ViU2l0ZVwiXSkgeyB0aGlzLnN1YlNpdGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImVuY291bnRlclwiXSkgeyB0aGlzLmVuY291bnRlci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZGV0YWlsXCJdKSB7IHRoaXMuZGV0YWlsLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQ2xhaW1cInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBhc3NpZ25lZCB0byB0aGlzIGNsYWltLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM6IEZtU3RhdHVzQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgbWFqb3JpdHkgb2YganVyaXNkaWN0aW9ucyB1c2U6IG9yYWwsIHBoYXJtYWN5LCB2aXNpb24sIHByb2Zlc3Npb25hbCBhbmQgaW5zdGl0dXRpb25hbCwgb3IgdmFyaWFudHMgb24gdGhvc2UgdGVybXMsIGFzIHRoZSBnZW5lcmFsIHN0eWxlcyBvZiBjbGFpbXMuIFRoZSB2YWx1ZXNldCBpcyBleHRlbnNpYmxlIHRvIGFjY29tbW9kYXRlIG90aGVyIGp1cmlzZGljdGlvbmFsIHJlcXVpcmVtZW50cy5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBjb250YWluIHRoZSBsb2NhbCBiaWxsIHR5cGUgY29kZXMsIGZvciBleGFtcGxlIHRoZSBVUyBVQi0wNCBiaWxsIHR5cGUgY29kZSBvciB0aGUgQ01TIGJpbGwgdHlwZS5cclxuICAgKi9cclxuICBzdWJUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGUgdG8gaW5kaWNhdGUgd2hldGhlciB0aGUgbmF0dXJlIG9mIHRoZSByZXF1ZXN0IGlzOiB0byByZXF1ZXN0IGFkanVkaWNhdGlvbiBvZiBwcm9kdWN0cyBhbmQgc2VydmljZXMgcHJldmlvdXNseSByZW5kZXJlZDsgb3IgcmVxdWVzdGluZyBhdXRob3JpemF0aW9uIGFuZCBhZGp1ZGljYXRpb24gZm9yIHByb3Zpc2lvbiBpbiB0aGUgZnV0dXJlOyBvciByZXF1ZXN0aW5nIHRoZSBub24tYmluZGluZyBhZGp1ZGljYXRpb24gb2YgdGhlIGxpc3RlZCBwcm9kdWN0cyBhbmQgc2VydmljZXMgd2hpY2ggY291bGQgYmUgcHJvdmlkZWQgaW4gdGhlIGZ1dHVyZS5cclxuICAgKi9cclxuICB1c2U6IENsYWltVXNlQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGFydHkgdG8gd2hvbSB0aGUgcHJvZmVzc2lvbmFsIHNlcnZpY2VzIGFuZC9vciBwcm9kdWN0cyBoYXZlIGJlZW4gc3VwcGxpZWQgb3IgYXJlIGJlaW5nIGNvbnNpZGVyZWQgYW5kIGZvciB3aG9tIGFjdHVhbCBvciBmb3JlY2FzdCByZWltYnVyc2VtZW50IGlzIHNvdWdodC5cclxuICAgKi9cclxuICBwYXRpZW50OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHkgdGhpcyB3b3VsZCBiZSB0b2RheSBvciBpbiB0aGUgcGFzdCBmb3IgYSBjbGFpbSwgYW5kIHRvZGF5IG9yIGluIHRoZSBmdXR1cmUgZm9yIHByZWF1dGhvcml6YXRpb25zIGFuZCBwcmVkZXRlcm1pbmF0aW9ucy4gVHlwaWNhbGx5IGxpbmUgaXRlbSBkYXRlcyBvZiBzZXJ2aWNlIHNob3VsZCBmYWxsIHdpdGhpbiB0aGUgYmlsbGluZyBwZXJpb2QgaWYgb25lIGlzIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBiaWxsYWJsZVBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBpcyBpbmRlcGVuZGVudCBvZiB0aGUgZGF0ZSBvZiBjcmVhdGlvbiBvZiB0aGUgcmVzb3VyY2UgYXMgaXQgbWF5IHJlZmxlY3QgdGhlIGNyZWF0aW9uIGRhdGUgb2YgYSBzb3VyY2UgZG9jdW1lbnQgcHJpb3IgdG8gZGlnaXRpemF0aW9uLiBUeXBpY2FsbHkgZm9yIGNsYWltcyBhbGwgc2VydmljZXMgbXVzdCBiZSBjb21wbGV0ZWQgYXMgb2YgdGhpcyBkYXRlLlxyXG4gICAqL1xyXG4gIGNyZWF0ZWQ6IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaXZpZHVhbCB3aG8gY3JlYXRlZCB0aGUgY2xhaW0sIHByZWRldGVybWluYXRpb24gb3IgcHJlYXV0aG9yaXphdGlvbi5cclxuICAgKi9cclxuICBlbnRlcmVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgSW5zdXJlciB3aG8gaXMgdGFyZ2V0IG9mIHRoZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIGluc3VyZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSB0aGlzIGZpZWxkIHdvdWxkIGJlIDEuLjEgd2hlcmUgdGhpcyBwYXJ0eSBpcyByZXNwb25zaWJsZSBmb3IgdGhlIGNsYWltIGJ1dCBub3QgbmVjZXNzYXJpbHkgcHJvZmVzc2lvbmFsbHkgcmVzcG9uc2libGUgZm9yIHRoZSBwcm92aXNpb24gb2YgdGhlIGluZGl2aWR1YWwgcHJvZHVjdHMgYW5kIHNlcnZpY2VzIGxpc3RlZCBiZWxvdy5cclxuICAgKi9cclxuICBwcm92aWRlcjogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWYgYSBjbGFpbSBwcm9jZXNzb3IgaXMgdW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBwcm9jZXNzaW5nIGFzIHBlciB0aGUgcHJpb3JpdHkgdGhlbiB0aGV5IHNob3VsZCBnZW5lcmF0ZSBhbmQgZXJyb3IgYW5kIG5vdCBwcm9jZXNzIHRoZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHByaW9yaXR5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIGlzIG9ubHkgdXNlZCBmb3IgcHJlYXV0aG9yaXphdGlvbnMuXHJcbiAgICovXHJcbiAgZnVuZHNSZXNlcnZlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgIGZvciB0aGUgb3JpZ2luYWwgdHJlYXRtZW50IGFuZCBmb2xsb3ctdXAgZXhhbXMuXHJcbiAgICovXHJcbiAgcmVsYXRlZD86IGZoaXIuQ2xhaW1SZWxhdGVkQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcmVzY3JpcHRpb24gdG8gc3VwcG9ydCB0aGUgZGlzcGVuc2luZyBvZiBwaGFybWFjeSwgZGV2aWNlIG9yIHZpc2lvbiBwcm9kdWN0cy5cclxuICAgKi9cclxuICBwcmVzY3JpcHRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlLCBhIHBoeXNpY2lhbiBtYXkgcHJlc2NyaWJlIGEgbWVkaWNhdGlvbiB3aGljaCB0aGUgcGhhcm1hY3kgZGV0ZXJtaW5lcyBpcyBjb250cmFpbmRpY2F0ZWQsIG9yIGZvciB3aGljaCB0aGUgcGF0aWVudCBoYXMgYW4gaW50b2xlcmFuY2UsIGFuZCB0aGVyZWZvcmUgaXNzdWVzIGEgbmV3IHByZXNjcmlwdGlvbiBmb3IgYW4gYWx0ZXJuYXRlIG1lZGljYXRpb24gd2hpY2ggaGFzIHRoZSBzYW1lIHRoZXJhcGV1dGljIGludGVudC4gVGhlIHByZXNjcmlwdGlvbiBmcm9tIHRoZSBwaGFybWFjeSBiZWNvbWVzIHRoZSAncHJlc2NyaXB0aW9uJyBhbmQgdGhhdCBmcm9tIHRoZSBwaHlzaWNpYW4gYmVjb21lcyB0aGUgJ29yaWdpbmFsIHByZXNjcmlwdGlvbicuXHJcbiAgICovXHJcbiAgb3JpZ2luYWxQcmVzY3JpcHRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9mdGVuIHByb3ZpZGVycyBhZ3JlZSB0byByZWNlaXZlIHRoZSBiZW5lZml0cyBwYXlhYmxlIHRvIHJlZHVjZSB0aGUgbmVhci10ZXJtIGNvc3RzIHRvIHRoZSBwYXRpZW50LiBUaGUgaW5zdXJlciBtYXkgZGVjbGluZSB0byBwYXkgdGhlIHByb3ZpZGVyIGFuZCBjaG9vc2UgdG8gcGF5IHRoZSBzdWJzY3JpYmVyIGluc3RlYWQuXHJcbiAgICovXHJcbiAgcGF5ZWU/OiBmaGlyLkNsYWltUGF5ZWVBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVmZXJyYWwgcmVzb3VyY2Ugd2hpY2ggbGlzdHMgdGhlIGRhdGUsIHByYWN0aXRpb25lciwgcmVhc29uIGFuZCBvdGhlciBzdXBwb3J0aW5nIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHJlZmVycmFsPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGYWNpbGl0eSB3aGVyZSB0aGUgc2VydmljZXMgd2VyZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBmYWNpbGl0eT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lbWJlcnMgb2YgdGhlIHRlYW0gd2hvIHByb3ZpZGVkIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMuXHJcbiAgICovXHJcbiAgY2FyZVRlYW0/OiBmaGlyLkNsYWltQ2FyZVRlYW1BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9mdGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBqdXJpc2RpY3Rpb24gc3BlY2lmaWMgdmFsdWVzZXRzIHdoaWNoIGFyZSByZXF1aXJlZC5cclxuICAgKi9cclxuICBzdXBwb3J0aW5nSW5mbz86IGZoaXIuQ2xhaW1TdXBwb3J0aW5nSW5mb0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgZGlhZ25vc2VzIHJlbGV2YW50IHRvIHRoZSBjbGFpbSBpdGVtcy5cclxuICAgKi9cclxuICBkaWFnbm9zaXM/OiBmaGlyLkNsYWltRGlhZ25vc2lzQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcm9jZWR1cmVzIHBlcmZvcm1lZCBvbiB0aGUgcGF0aWVudCByZWxldmFudCB0byB0aGUgYmlsbGluZyBpdGVtcyB3aXRoIHRoZSBjbGFpbS5cclxuICAgKi9cclxuICBwcm9jZWR1cmU/OiBmaGlyLkNsYWltUHJvY2VkdXJlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGwgaW5zdXJhbmNlIGNvdmVyYWdlcyBmb3IgdGhlIHBhdGllbnQgd2hpY2ggbWF5IGJlIGFwcGxpY2FibGUgZm9yIHJlaW1idXJzZW1lbnQsIG9mIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMgbGlzdGVkIGluIHRoZSBjbGFpbSwgYXJlIHR5cGljYWxseSBwcm92aWRlZCBpbiB0aGUgY2xhaW0gdG8gYWxsb3cgaW5zdXJlcnMgdG8gY29uZmlybSB0aGUgb3JkZXJpbmcgb2YgdGhlIGluc3VyYW5jZSBjb3ZlcmFnZXMgcmVsYXRpdmUgdG8gbG9jYWwgJ2Nvb3JkaW5hdGlvbiBvZiBiZW5lZml0JyBydWxlcy4gT25lIGNvdmVyYWdlIChhbmQgb25seSBvbmUpIHdpdGggJ2ZvY2FsPXRydWUnIGlzIHRvIGJlIHVzZWQgaW4gdGhlIGFkanVkaWNhdGlvbiBvZiB0aGlzIGNsYWltLiBDb3ZlcmFnZXMgYXBwZWFyaW5nIGJlZm9yZSB0aGUgZm9jYWwgQ292ZXJhZ2UgaW4gdGhlIGxpc3QsIGFuZCB3aGVyZSAnQ292ZXJhZ2Uuc3Vicm9nYXRpb249ZmFsc2UnLCBzaG91bGQgcHJvdmlkZSBhIHJlZmVyZW5jZSB0byB0aGUgQ2xhaW1SZXNwb25zZSBjb250YWluaW5nIHRoZSBhZGp1ZGljYXRpb24gcmVzdWx0cyBvZiB0aGUgcHJpb3IgY2xhaW0uXHJcbiAgICovXHJcbiAgaW5zdXJhbmNlOiBmaGlyLkNsYWltSW5zdXJhbmNlQXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGV0YWlscyBvZiBhbiBhY2NpZGVudCB3aGljaCByZXN1bHRlZCBpbiBpbmp1cmllcyB3aGljaCByZXF1aXJlZCB0aGUgcHJvZHVjdHMgYW5kIHNlcnZpY2VzIGxpc3RlZCBpbiB0aGUgY2xhaW0uXHJcbiAgICovXHJcbiAgYWNjaWRlbnQ/OiBmaGlyLkNsYWltQWNjaWRlbnRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNsYWltIGxpbmUuIEVpdGhlciBhIHNpbXBsZSAgcHJvZHVjdCBvciBzZXJ2aWNlIG9yIGEgJ2dyb3VwJyBvZiBkZXRhaWxzIHdoaWNoIGNhbiBlYWNoIGJlIGEgc2ltcGxlIGl0ZW1zIG9yIGdyb3VwcyBvZiBzdWItZGV0YWlscy5cclxuICAgKi9cclxuICBpdGVtPzogZmhpci5DbGFpbUl0ZW1BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0b3RhbCB2YWx1ZSBvZiB0aGUgYWxsIHRoZSBpdGVtcyBpbiB0aGUgY2xhaW0uXHJcbiAgICovXHJcbiAgdG90YWw/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHByb3ZpZGVyIGlzc3VlZCBsaXN0IG9mIHByb2Zlc3Npb25hbCBzZXJ2aWNlcyBhbmQgcHJvZHVjdHMgd2hpY2ggaGF2ZSBiZWVuIHByb3ZpZGVkLCBvciBhcmUgdG8gYmUgcHJvdmlkZWQsIHRvIGEgcGF0aWVudCB3aGljaCBpcyBzZW50IHRvIGFuIGluc3VyZXIgZm9yIHJlaW1idXJzZW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW0gZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsYWltJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkNsYWltXCI7XHJcbiAgLyoqXHJcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBhc3NpZ25lZCB0byB0aGlzIGNsYWltLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IEZtU3RhdHVzQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgbWFqb3JpdHkgb2YganVyaXNkaWN0aW9ucyB1c2U6IG9yYWwsIHBoYXJtYWN5LCB2aXNpb24sIHByb2Zlc3Npb25hbCBhbmQgaW5zdGl0dXRpb25hbCwgb3IgdmFyaWFudHMgb24gdGhvc2UgdGVybXMsIGFzIHRoZSBnZW5lcmFsIHN0eWxlcyBvZiBjbGFpbXMuIFRoZSB2YWx1ZXNldCBpcyBleHRlbnNpYmxlIHRvIGFjY29tbW9kYXRlIG90aGVyIGp1cmlzZGljdGlvbmFsIHJlcXVpcmVtZW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBjb250YWluIHRoZSBsb2NhbCBiaWxsIHR5cGUgY29kZXMsIGZvciBleGFtcGxlIHRoZSBVUyBVQi0wNCBiaWxsIHR5cGUgY29kZSBvciB0aGUgQ01TIGJpbGwgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGUgdG8gaW5kaWNhdGUgd2hldGhlciB0aGUgbmF0dXJlIG9mIHRoZSByZXF1ZXN0IGlzOiB0byByZXF1ZXN0IGFkanVkaWNhdGlvbiBvZiBwcm9kdWN0cyBhbmQgc2VydmljZXMgcHJldmlvdXNseSByZW5kZXJlZDsgb3IgcmVxdWVzdGluZyBhdXRob3JpemF0aW9uIGFuZCBhZGp1ZGljYXRpb24gZm9yIHByb3Zpc2lvbiBpbiB0aGUgZnV0dXJlOyBvciByZXF1ZXN0aW5nIHRoZSBub24tYmluZGluZyBhZGp1ZGljYXRpb24gb2YgdGhlIGxpc3RlZCBwcm9kdWN0cyBhbmQgc2VydmljZXMgd2hpY2ggY291bGQgYmUgcHJvdmlkZWQgaW4gdGhlIGZ1dHVyZS5cclxuICAgKi9cclxuICBwdWJsaWMgdXNlOiBDbGFpbVVzZUNvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhcnR5IHRvIHdob20gdGhlIHByb2Zlc3Npb25hbCBzZXJ2aWNlcyBhbmQvb3IgcHJvZHVjdHMgaGF2ZSBiZWVuIHN1cHBsaWVkIG9yIGFyZSBiZWluZyBjb25zaWRlcmVkIGFuZCBmb3Igd2hvbSBhY3R1YWwgb3IgZm9yZWNhc3QgcmVpbWJ1cnNlbWVudCBpcyBzb3VnaHQuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5IHRoaXMgd291bGQgYmUgdG9kYXkgb3IgaW4gdGhlIHBhc3QgZm9yIGEgY2xhaW0sIGFuZCB0b2RheSBvciBpbiB0aGUgZnV0dXJlIGZvciBwcmVhdXRob3JpemF0aW9ucyBhbmQgcHJlZGV0ZXJtaW5hdGlvbnMuIFR5cGljYWxseSBsaW5lIGl0ZW0gZGF0ZXMgb2Ygc2VydmljZSBzaG91bGQgZmFsbCB3aXRoaW4gdGhlIGJpbGxpbmcgcGVyaW9kIGlmIG9uZSBpcyBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGJpbGxhYmxlUGVyaW9kPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgaXMgaW5kZXBlbmRlbnQgb2YgdGhlIGRhdGUgb2YgY3JlYXRpb24gb2YgdGhlIHJlc291cmNlIGFzIGl0IG1heSByZWZsZWN0IHRoZSBjcmVhdGlvbiBkYXRlIG9mIGEgc291cmNlIGRvY3VtZW50IHByaW9yIHRvIGRpZ2l0aXphdGlvbi4gVHlwaWNhbGx5IGZvciBjbGFpbXMgYWxsIHNlcnZpY2VzIG11c3QgYmUgY29tcGxldGVkIGFzIG9mIHRoaXMgZGF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgY3JlYXRlZDogZmhpci5GaGlyRGF0ZVRpbWV8bnVsbDtcclxuICAvKipcclxuICAgKiBJbmRpdmlkdWFsIHdobyBjcmVhdGVkIHRoZSBjbGFpbSwgcHJlZGV0ZXJtaW5hdGlvbiBvciBwcmVhdXRob3JpemF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRlcmVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBJbnN1cmVyIHdobyBpcyB0YXJnZXQgb2YgdGhlIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgcHVibGljIGluc3VyZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5IHRoaXMgZmllbGQgd291bGQgYmUgMS4uMSB3aGVyZSB0aGlzIHBhcnR5IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgY2xhaW0gYnV0IG5vdCBuZWNlc3NhcmlseSBwcm9mZXNzaW9uYWxseSByZXNwb25zaWJsZSBmb3IgdGhlIHByb3Zpc2lvbiBvZiB0aGUgaW5kaXZpZHVhbCBwcm9kdWN0cyBhbmQgc2VydmljZXMgbGlzdGVkIGJlbG93LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm92aWRlcjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBJZiBhIGNsYWltIHByb2Nlc3NvciBpcyB1bmFibGUgdG8gY29tcGxldGUgdGhlIHByb2Nlc3NpbmcgYXMgcGVyIHRoZSBwcmlvcml0eSB0aGVuIHRoZXkgc2hvdWxkIGdlbmVyYXRlIGFuZCBlcnJvciBhbmQgbm90IHByb2Nlc3MgdGhlIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgcHVibGljIHByaW9yaXR5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgaXMgb25seSB1c2VkIGZvciBwcmVhdXRob3JpemF0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgZnVuZHNSZXNlcnZlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlLCAgZm9yIHRoZSBvcmlnaW5hbCB0cmVhdG1lbnQgYW5kIGZvbGxvdy11cCBleGFtcy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRlZD86IGZoaXIuQ2xhaW1SZWxhdGVkW107XHJcbiAgLyoqXHJcbiAgICogUHJlc2NyaXB0aW9uIHRvIHN1cHBvcnQgdGhlIGRpc3BlbnNpbmcgb2YgcGhhcm1hY3ksIGRldmljZSBvciB2aXNpb24gcHJvZHVjdHMuXHJcbiAgICovXHJcbiAgcHVibGljIHByZXNjcmlwdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgYSBwaHlzaWNpYW4gbWF5IHByZXNjcmliZSBhIG1lZGljYXRpb24gd2hpY2ggdGhlIHBoYXJtYWN5IGRldGVybWluZXMgaXMgY29udHJhaW5kaWNhdGVkLCBvciBmb3Igd2hpY2ggdGhlIHBhdGllbnQgaGFzIGFuIGludG9sZXJhbmNlLCBhbmQgdGhlcmVmb3JlIGlzc3VlcyBhIG5ldyBwcmVzY3JpcHRpb24gZm9yIGFuIGFsdGVybmF0ZSBtZWRpY2F0aW9uIHdoaWNoIGhhcyB0aGUgc2FtZSB0aGVyYXBldXRpYyBpbnRlbnQuIFRoZSBwcmVzY3JpcHRpb24gZnJvbSB0aGUgcGhhcm1hY3kgYmVjb21lcyB0aGUgJ3ByZXNjcmlwdGlvbicgYW5kIHRoYXQgZnJvbSB0aGUgcGh5c2ljaWFuIGJlY29tZXMgdGhlICdvcmlnaW5hbCBwcmVzY3JpcHRpb24nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmlnaW5hbFByZXNjcmlwdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPZnRlbiBwcm92aWRlcnMgYWdyZWUgdG8gcmVjZWl2ZSB0aGUgYmVuZWZpdHMgcGF5YWJsZSB0byByZWR1Y2UgdGhlIG5lYXItdGVybSBjb3N0cyB0byB0aGUgcGF0aWVudC4gVGhlIGluc3VyZXIgbWF5IGRlY2xpbmUgdG8gcGF5IHRoZSBwcm92aWRlciBhbmQgY2hvb3NlIHRvIHBheSB0aGUgc3Vic2NyaWJlciBpbnN0ZWFkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXllZT86IGZoaXIuQ2xhaW1QYXllZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlZmVycmFsIHJlc291cmNlIHdoaWNoIGxpc3RzIHRoZSBkYXRlLCBwcmFjdGl0aW9uZXIsIHJlYXNvbiBhbmQgb3RoZXIgc3VwcG9ydGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJyYWw/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRmFjaWxpdHkgd2hlcmUgdGhlIHNlcnZpY2VzIHdlcmUgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGZhY2lsaXR5PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZW1iZXJzIG9mIHRoZSB0ZWFtIHdobyBwcm92aWRlZCB0aGUgcHJvZHVjdHMgYW5kIHNlcnZpY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXJlVGVhbT86IGZoaXIuQ2xhaW1DYXJlVGVhbVtdO1xyXG4gIC8qKlxyXG4gICAqIE9mdGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBqdXJpc2RpY3Rpb24gc3BlY2lmaWMgdmFsdWVzZXRzIHdoaWNoIGFyZSByZXF1aXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VwcG9ydGluZ0luZm8/OiBmaGlyLkNsYWltU3VwcG9ydGluZ0luZm9bXTtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCBkaWFnbm9zZXMgcmVsZXZhbnQgdG8gdGhlIGNsYWltIGl0ZW1zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaWFnbm9zaXM/OiBmaGlyLkNsYWltRGlhZ25vc2lzW107XHJcbiAgLyoqXHJcbiAgICogUHJvY2VkdXJlcyBwZXJmb3JtZWQgb24gdGhlIHBhdGllbnQgcmVsZXZhbnQgdG8gdGhlIGJpbGxpbmcgaXRlbXMgd2l0aCB0aGUgY2xhaW0uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2NlZHVyZT86IGZoaXIuQ2xhaW1Qcm9jZWR1cmVbXTtcclxuICAvKipcclxuICAgKiBBbGwgaW5zdXJhbmNlIGNvdmVyYWdlcyBmb3IgdGhlIHBhdGllbnQgd2hpY2ggbWF5IGJlIGFwcGxpY2FibGUgZm9yIHJlaW1idXJzZW1lbnQsIG9mIHRoZSBwcm9kdWN0cyBhbmQgc2VydmljZXMgbGlzdGVkIGluIHRoZSBjbGFpbSwgYXJlIHR5cGljYWxseSBwcm92aWRlZCBpbiB0aGUgY2xhaW0gdG8gYWxsb3cgaW5zdXJlcnMgdG8gY29uZmlybSB0aGUgb3JkZXJpbmcgb2YgdGhlIGluc3VyYW5jZSBjb3ZlcmFnZXMgcmVsYXRpdmUgdG8gbG9jYWwgJ2Nvb3JkaW5hdGlvbiBvZiBiZW5lZml0JyBydWxlcy4gT25lIGNvdmVyYWdlIChhbmQgb25seSBvbmUpIHdpdGggJ2ZvY2FsPXRydWUnIGlzIHRvIGJlIHVzZWQgaW4gdGhlIGFkanVkaWNhdGlvbiBvZiB0aGlzIGNsYWltLiBDb3ZlcmFnZXMgYXBwZWFyaW5nIGJlZm9yZSB0aGUgZm9jYWwgQ292ZXJhZ2UgaW4gdGhlIGxpc3QsIGFuZCB3aGVyZSAnQ292ZXJhZ2Uuc3Vicm9nYXRpb249ZmFsc2UnLCBzaG91bGQgcHJvdmlkZSBhIHJlZmVyZW5jZSB0byB0aGUgQ2xhaW1SZXNwb25zZSBjb250YWluaW5nIHRoZSBhZGp1ZGljYXRpb24gcmVzdWx0cyBvZiB0aGUgcHJpb3IgY2xhaW0uXHJcbiAgICovXHJcbiAgcHVibGljIGluc3VyYW5jZTogZmhpci5DbGFpbUluc3VyYW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERldGFpbHMgb2YgYW4gYWNjaWRlbnQgd2hpY2ggcmVzdWx0ZWQgaW4gaW5qdXJpZXMgd2hpY2ggcmVxdWlyZWQgdGhlIHByb2R1Y3RzIGFuZCBzZXJ2aWNlcyBsaXN0ZWQgaW4gdGhlIGNsYWltLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY2NpZGVudD86IGZoaXIuQ2xhaW1BY2NpZGVudHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjbGFpbSBsaW5lLiBFaXRoZXIgYSBzaW1wbGUgIHByb2R1Y3Qgb3Igc2VydmljZSBvciBhICdncm91cCcgb2YgZGV0YWlscyB3aGljaCBjYW4gZWFjaCBiZSBhIHNpbXBsZSBpdGVtcyBvciBncm91cHMgb2Ygc3ViLWRldGFpbHMuXHJcbiAgICovXHJcbiAgcHVibGljIGl0ZW0/OiBmaGlyLkNsYWltSXRlbVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0b3RhbCB2YWx1ZSBvZiB0aGUgYWxsIHRoZSBpdGVtcyBpbiB0aGUgY2xhaW0uXHJcbiAgICovXHJcbiAgcHVibGljIHRvdGFsPzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW0gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGFpbUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdDbGFpbSc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IHNvdXJjZS5zdGF0dXM7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViVHlwZSddKSB7IHRoaXMuc3ViVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3ViVHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VzZSddKSB7IHRoaXMudXNlID0gc291cmNlLnVzZTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudXNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aWVudCddKSB7IHRoaXMucGF0aWVudCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGF0aWVudCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhdGllbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydiaWxsYWJsZVBlcmlvZCddKSB7IHRoaXMuYmlsbGFibGVQZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLmJpbGxhYmxlUGVyaW9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY3JlYXRlZCddKSB7IHRoaXMuY3JlYXRlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5jcmVhdGVkfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNyZWF0ZWQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydlbnRlcmVyJ10pIHsgdGhpcy5lbnRlcmVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbnRlcmVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5zdXJlciddKSB7IHRoaXMuaW5zdXJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuaW5zdXJlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb3ZpZGVyJ10pIHsgdGhpcy5wcm92aWRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucHJvdmlkZXIpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm92aWRlciA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByaW9yaXR5J10pIHsgdGhpcy5wcmlvcml0eSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucHJpb3JpdHkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcmlvcml0eSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Z1bmRzUmVzZXJ2ZSddKSB7IHRoaXMuZnVuZHNSZXNlcnZlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5mdW5kc1Jlc2VydmUpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGVkJ10pIHsgdGhpcy5yZWxhdGVkID0gc291cmNlLnJlbGF0ZWQubWFwKCh4KSA9PiBuZXcgZmhpci5DbGFpbVJlbGF0ZWQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWxhdGVkID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZXNjcmlwdGlvbiddKSB7IHRoaXMucHJlc2NyaXB0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wcmVzY3JpcHRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmlnaW5hbFByZXNjcmlwdGlvbiddKSB7IHRoaXMub3JpZ2luYWxQcmVzY3JpcHRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm9yaWdpbmFsUHJlc2NyaXB0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF5ZWUnXSkgeyB0aGlzLnBheWVlID0gbmV3IGZoaXIuQ2xhaW1QYXllZShzb3VyY2UucGF5ZWUpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcnJhbCddKSB7IHRoaXMucmVmZXJyYWwgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZmVycmFsKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFjaWxpdHknXSkgeyB0aGlzLmZhY2lsaXR5ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5mYWNpbGl0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NhcmVUZWFtJ10pIHsgdGhpcy5jYXJlVGVhbSA9IHNvdXJjZS5jYXJlVGVhbS5tYXAoKHgpID0+IG5ldyBmaGlyLkNsYWltQ2FyZVRlYW0oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jYXJlVGVhbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdXBwb3J0aW5nSW5mbyddKSB7IHRoaXMuc3VwcG9ydGluZ0luZm8gPSBzb3VyY2Uuc3VwcG9ydGluZ0luZm8ubWFwKCh4KSA9PiBuZXcgZmhpci5DbGFpbVN1cHBvcnRpbmdJbmZvKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3VwcG9ydGluZ0luZm8gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGlhZ25vc2lzJ10pIHsgdGhpcy5kaWFnbm9zaXMgPSBzb3VyY2UuZGlhZ25vc2lzLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2xhaW1EaWFnbm9zaXMoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kaWFnbm9zaXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvY2VkdXJlJ10pIHsgdGhpcy5wcm9jZWR1cmUgPSBzb3VyY2UucHJvY2VkdXJlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2xhaW1Qcm9jZWR1cmUoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9jZWR1cmUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5zdXJhbmNlJ10pIHsgdGhpcy5pbnN1cmFuY2UgPSBzb3VyY2UuaW5zdXJhbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2xhaW1JbnN1cmFuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnN1cmFuY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWNjaWRlbnQnXSkgeyB0aGlzLmFjY2lkZW50ID0gbmV3IGZoaXIuQ2xhaW1BY2NpZGVudChzb3VyY2UuYWNjaWRlbnQpOyB9XHJcbiAgICBpZiAoc291cmNlWydpdGVtJ10pIHsgdGhpcy5pdGVtID0gc291cmNlLml0ZW0ubWFwKCh4KSA9PiBuZXcgZmhpci5DbGFpbUl0ZW0oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pdGVtID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RvdGFsJ10pIHsgdGhpcy50b3RhbCA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS50b3RhbCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBzdGF0dXMgKENsYWltLnN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHN0YXR1c1JlcXVpcmVkQ29kaW5nKCk6Rm1TdGF0dXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBGbVN0YXR1c0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChDbGFpbS50eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgdHlwZUV4dGVuc2libGVDb2RpbmcoKTpDbGFpbVR5cGVDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBDbGFpbVR5cGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHVzZSAoQ2xhaW0udXNlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgdXNlUmVxdWlyZWRDb2RpbmcoKTpDbGFpbVVzZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIENsYWltVXNlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZXNvdXJjZVR5cGU6XCJDbGFpbVwiIGZoaXI6IENsYWltLnJlc291cmNlVHlwZTpcIkNsYWltXCInLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiaWRlbnRpZmllclwiXSkgeyB0aGlzLmlkZW50aWZpZXIuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAoIXRoaXNbJ3N0YXR1cyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc3RhdHVzOkZtU3RhdHVzQ29kZVR5cGUgZmhpcjogQ2xhaW0uc3RhdHVzOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBDbGFpbS50eXBlOkNvZGVhYmxlQ29uY2VwdCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdWJUeXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3ViVHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd1c2UnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHVzZTpDbGFpbVVzZUNvZGVUeXBlIGZoaXI6IENsYWltLnVzZTpjb2RlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXNbJ3BhdGllbnQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHBhdGllbnQ6Zmhpci5SZWZlcmVuY2UgZmhpcjogQ2xhaW0ucGF0aWVudDpSZWZlcmVuY2UnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicGF0aWVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBhdGllbnQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYmlsbGFibGVQZXJpb2RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5iaWxsYWJsZVBlcmlvZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydjcmVhdGVkJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBjcmVhdGVkOmZoaXIuRmhpckRhdGVUaW1lIGZoaXI6IENsYWltLmNyZWF0ZWQ6ZGF0ZVRpbWUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiY3JlYXRlZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNyZWF0ZWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZW50ZXJlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmVudGVyZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaW5zdXJlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmluc3VyZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sncHJvdmlkZXInXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHByb3ZpZGVyOmZoaXIuUmVmZXJlbmNlIGZoaXI6IENsYWltLnByb3ZpZGVyOlJlZmVyZW5jZScsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm92aWRlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByb3ZpZGVyLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3ByaW9yaXR5J10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwcmlvcml0eTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBDbGFpbS5wcmlvcml0eTpDb2RlYWJsZUNvbmNlcHQnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicHJpb3JpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcmlvcml0eS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJmdW5kc1Jlc2VydmVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5mdW5kc1Jlc2VydmUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVsYXRlZFwiXSkgeyB0aGlzLnJlbGF0ZWQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInByZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcmlnaW5hbFByZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm9yaWdpbmFsUHJlc2NyaXB0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBheWVlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGF5ZWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVmZXJyYWxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZWZlcnJhbC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJmYWNpbGl0eVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmZhY2lsaXR5LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNhcmVUZWFtXCJdKSB7IHRoaXMuY2FyZVRlYW0uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInN1cHBvcnRpbmdJbmZvXCJdKSB7IHRoaXMuc3VwcG9ydGluZ0luZm8uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRpYWdub3Npc1wiXSkgeyB0aGlzLmRpYWdub3Npcy5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicHJvY2VkdXJlXCJdKSB7IHRoaXMucHJvY2VkdXJlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKCF0aGlzWydpbnN1cmFuY2UnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGluc3VyYW5jZTpmaGlyLkNsYWltSW5zdXJhbmNlW10gZmhpcjogQ2xhaW0uaW5zdXJhbmNlOmluc3VyYW5jZScsIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmluc3VyYW5jZSkpIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3N0cnVjdHVyZScsICBkaWFnbm9zdGljczogJ0ZvdW5kIHNjYWxhciBpbiBhcnJheSBwcm9wZXJ0eSBpbnN1cmFuY2U6Zmhpci5DbGFpbUluc3VyYW5jZVtdIGZoaXI6IENsYWltLmluc3VyYW5jZTppbnN1cmFuY2UnLCB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5pbnN1cmFuY2UubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgaW5zdXJhbmNlOmZoaXIuQ2xhaW1JbnN1cmFuY2VbXSBmaGlyOiBDbGFpbS5pbnN1cmFuY2U6aW5zdXJhbmNlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImluc3VyYW5jZVwiXSkgeyB0aGlzLmluc3VyYW5jZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiYWNjaWRlbnRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hY2NpZGVudC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJpdGVtXCJdKSB7IHRoaXMuaXRlbS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widG90YWxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50b3RhbC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19