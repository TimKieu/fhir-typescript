// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: CapabilityStatement
import * as fhir from '../fhir.js';
// @ts-ignore
import { RestfulSecurityServiceCodings, } from '../fhirValueSets/RestfulSecurityServiceCodings.js';
// @ts-ignore
import { TypeRestfulInteractionCodings, } from '../fhirValueSets/TypeRestfulInteractionCodings.js';
// @ts-ignore
import { SearchParamTypeCodings, } from '../fhirValueSets/SearchParamTypeCodings.js';
// @ts-ignore
import { ResourceTypesCodings, } from '../fhirValueSets/ResourceTypesCodings.js';
// @ts-ignore
import { VersioningPolicyCodings, } from '../fhirValueSets/VersioningPolicyCodings.js';
// @ts-ignore
import { ConditionalReadStatusCodings, } from '../fhirValueSets/ConditionalReadStatusCodings.js';
// @ts-ignore
import { ConditionalDeleteStatusCodings, } from '../fhirValueSets/ConditionalDeleteStatusCodings.js';
// @ts-ignore
import { ReferenceHandlingPolicyCodings, } from '../fhirValueSets/ReferenceHandlingPolicyCodings.js';
// @ts-ignore
import { SystemRestfulInteractionCodings, } from '../fhirValueSets/SystemRestfulInteractionCodings.js';
// @ts-ignore
import { RestfulCapabilityModeCodings, } from '../fhirValueSets/RestfulCapabilityModeCodings.js';
// @ts-ignore
import { MessageTransportCodings, } from '../fhirValueSets/MessageTransportCodings.js';
// @ts-ignore
import { EventCapabilityModeCodings, } from '../fhirValueSets/EventCapabilityModeCodings.js';
// @ts-ignore
import { DocumentModeCodings, } from '../fhirValueSets/DocumentModeCodings.js';
// @ts-ignore
import { PublicationStatusCodings, } from '../fhirValueSets/PublicationStatusCodings.js';
// @ts-ignore
import { CapabilityStatementKindCodings, } from '../fhirValueSets/CapabilityStatementKindCodings.js';
// @ts-ignore
import { FHIRVersionCodings, } from '../fhirValueSets/FHIRVersionCodings.js';
/**
 * Software that is covered by this capability statement.  It is used when the capability statement describes the capabilities of a particular software version, independent of an installation.
 */
export class CapabilityStatementSoftware extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementSoftware - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['releaseDate']) {
            this.releaseDate = new fhir.FhirDateTime({ value: source.releaseDate });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: CapabilityStatement.software.name:string', });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation());
        }
        if (this["releaseDate"]) {
            issues.push(...this.releaseDate.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementSoftware._fts_dataType = 'CapabilityStatementSoftware';
/**
 * Identifies a specific implementation instance that is described by the capability statement - i.e. a particular installation, rather than the capabilities of a software program.
 */
export class CapabilityStatementImplementation extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementImplementation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        else {
            this.description = null;
        }
        if (source['url']) {
            this.url = new fhir.FhirUrl({ value: source.url });
        }
        if (source['custodian']) {
            this.custodian = new fhir.Reference(source.custodian);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['description']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property description:fhir.FhirString fhir: CapabilityStatement.implementation.description:string', });
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        if (this["custodian"]) {
            issues.push(...this.custodian.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementImplementation._fts_dataType = 'CapabilityStatementImplementation';
/**
 * Information about security implementation from an interface perspective - what a client needs to know.
 */
export class CapabilityStatementRestSecurity extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementRestSecurity - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['cors']) {
            this.cors = new fhir.FhirBoolean({ value: source.cors });
        }
        if (source['service']) {
            this.service = source.service.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.service = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
    }
    /**
     * Extensible-bound Value Set for service (CapabilityStatement.rest.security.service)
     */
    static serviceExtensibleCoding() {
        return RestfulSecurityServiceCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["cors"]) {
            issues.push(...this.cors.doModelValidation());
        }
        if (this["service"]) {
            this.service.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementRestSecurity._fts_dataType = 'CapabilityStatementRestSecurity';
/**
 * In general, a Resource will only appear in a CapabilityStatement if the server actually has some capabilities - e.g. there is at least one interaction supported. However interactions can be omitted to support summarization (_summary = true).
 */
export class CapabilityStatementRestResourceInteraction extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementRestResourceInteraction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = source.code;
        }
        else {
            this.code = null;
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirMarkdown({ value: source.documentation });
        }
    }
    /**
     * Required-bound Value Set for code (CapabilityStatement.rest.resource.interaction.code)
     */
    static codeRequiredCoding() {
        return TypeRestfulInteractionCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['code']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property code:TypeRestfulInteractionCodeType fhir: CapabilityStatement.rest.resource.interaction.code:code', });
        }
        if (this["documentation"]) {
            issues.push(...this.documentation.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementRestResourceInteraction._fts_dataType = 'CapabilityStatementRestResourceInteraction';
/**
 * The search parameters should include the control search parameters such as _sort, _count, etc. that also apply to this resource (though many will be listed at [CapabilityStatement.rest.searchParam](capabilitystatement-definitions.html#CapabilityStatement.rest.searchParam)). The behavior of some search parameters may be further described by other code or extension elements, or narrative within the capability statement or linked [SearchParameter](searchparameter.html#) definitions.
 */
export class CapabilityStatementRestResourceSearchParam extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementRestResourceSearchParam - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['definition']) {
            this.definition = new fhir.FhirCanonical({ value: source.definition });
        }
        if (source['type']) {
            this.type = source.type;
        }
        else {
            this.type = null;
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirMarkdown({ value: source.documentation });
        }
    }
    /**
     * Required-bound Value Set for type (CapabilityStatement.rest.resource.searchParam.type)
     */
    static typeRequiredCoding() {
        return SearchParamTypeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: CapabilityStatement.rest.resource.searchParam.name:string', });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["definition"]) {
            issues.push(...this.definition.doModelValidation());
        }
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:SearchParamTypeCodeType fhir: CapabilityStatement.rest.resource.searchParam.type:code', });
        }
        if (this["documentation"]) {
            issues.push(...this.documentation.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementRestResourceSearchParam._fts_dataType = 'CapabilityStatementRestResourceSearchParam';
/**
 * Operations linked from CapabilityStatement.rest.resource.operation must have OperationDefinition.type = true or OperationDefinition.instance = true.
 * If an operation that is listed in multiple CapabilityStatement.rest.resource.operation (e.g. for different resource types), then clients should understand that the operation is only supported on the specified resource types, and that may be a subset of those listed in OperationDefinition.resource.
 */
export class CapabilityStatementRestResourceOperation extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementRestResourceOperation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['definition']) {
            this.definition = new fhir.FhirCanonical({ value: source.definition });
        }
        else {
            this.definition = null;
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirMarkdown({ value: source.documentation });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: CapabilityStatement.rest.resource.operation.name:string', });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (!this['definition']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property definition:fhir.FhirCanonical fhir: CapabilityStatement.rest.resource.operation.definition:canonical', });
        }
        if (this["definition"]) {
            issues.push(...this.definition.doModelValidation());
        }
        if (this["documentation"]) {
            issues.push(...this.documentation.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementRestResourceOperation._fts_dataType = 'CapabilityStatementRestResourceOperation';
/**
 * Max of one repetition per resource type.
 */
export class CapabilityStatementRestResource extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementRestResource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['profile']) {
            this.profile = new fhir.FhirCanonical({ value: source.profile });
        }
        if (source['supportedProfile']) {
            this.supportedProfile = source.supportedProfile.map((x) => new fhir.FhirCanonical({ value: x }));
        }
        else {
            this.supportedProfile = [];
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirMarkdown({ value: source.documentation });
        }
        if (source['interaction']) {
            this.interaction = source.interaction.map((x) => new fhir.CapabilityStatementRestResourceInteraction(x));
        }
        else {
            this.interaction = [];
        }
        if (source['versioning']) {
            this.versioning = source.versioning;
        }
        if (source['readHistory']) {
            this.readHistory = new fhir.FhirBoolean({ value: source.readHistory });
        }
        if (source['updateCreate']) {
            this.updateCreate = new fhir.FhirBoolean({ value: source.updateCreate });
        }
        if (source['conditionalCreate']) {
            this.conditionalCreate = new fhir.FhirBoolean({ value: source.conditionalCreate });
        }
        if (source['conditionalRead']) {
            this.conditionalRead = source.conditionalRead;
        }
        if (source['conditionalUpdate']) {
            this.conditionalUpdate = new fhir.FhirBoolean({ value: source.conditionalUpdate });
        }
        if (source['conditionalDelete']) {
            this.conditionalDelete = source.conditionalDelete;
        }
        if (source['referencePolicy']) {
            this.referencePolicy = source.referencePolicy.map((x) => x);
        }
        else {
            this.referencePolicy = [];
        }
        if (source['searchInclude']) {
            this.searchInclude = source.searchInclude.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.searchInclude = [];
        }
        if (source['searchRevInclude']) {
            this.searchRevInclude = source.searchRevInclude.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.searchRevInclude = [];
        }
        if (source['searchParam']) {
            this.searchParam = source.searchParam.map((x) => new fhir.CapabilityStatementRestResourceSearchParam(x));
        }
        else {
            this.searchParam = [];
        }
        if (source['operation']) {
            this.operation = source.operation.map((x) => new fhir.CapabilityStatementRestResourceOperation(x));
        }
        else {
            this.operation = [];
        }
    }
    /**
     * Required-bound Value Set for type (CapabilityStatement.rest.resource.type)
     */
    static typeRequiredCoding() {
        return ResourceTypesCodings;
    }
    /**
     * Required-bound Value Set for versioning (CapabilityStatement.rest.resource.versioning)
     */
    static versioningRequiredCoding() {
        return VersioningPolicyCodings;
    }
    /**
     * Required-bound Value Set for conditionalRead (CapabilityStatement.rest.resource.conditionalRead)
     */
    static conditionalReadRequiredCoding() {
        return ConditionalReadStatusCodings;
    }
    /**
     * Required-bound Value Set for conditionalDelete (CapabilityStatement.rest.resource.conditionalDelete)
     */
    static conditionalDeleteRequiredCoding() {
        return ConditionalDeleteStatusCodings;
    }
    /**
     * Required-bound Value Set for referencePolicy (CapabilityStatement.rest.resource.referencePolicy)
     */
    static referencePolicyRequiredCoding() {
        return ReferenceHandlingPolicyCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.FhirCode fhir: CapabilityStatement.rest.resource.type:code', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["profile"]) {
            issues.push(...this.profile.doModelValidation());
        }
        if (this["supportedProfile"]) {
            this.supportedProfile.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["documentation"]) {
            issues.push(...this.documentation.doModelValidation());
        }
        if (this["interaction"]) {
            this.interaction.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["readHistory"]) {
            issues.push(...this.readHistory.doModelValidation());
        }
        if (this["updateCreate"]) {
            issues.push(...this.updateCreate.doModelValidation());
        }
        if (this["conditionalCreate"]) {
            issues.push(...this.conditionalCreate.doModelValidation());
        }
        if (this["conditionalUpdate"]) {
            issues.push(...this.conditionalUpdate.doModelValidation());
        }
        if (this["searchInclude"]) {
            this.searchInclude.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["searchRevInclude"]) {
            this.searchRevInclude.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["searchParam"]) {
            this.searchParam.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["operation"]) {
            this.operation.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementRestResource._fts_dataType = 'CapabilityStatementRestResource';
/**
 * A specification of restful operations supported by the system.
 */
export class CapabilityStatementRestInteraction extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementRestInteraction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = source.code;
        }
        else {
            this.code = null;
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirMarkdown({ value: source.documentation });
        }
    }
    /**
     * Required-bound Value Set for code (CapabilityStatement.rest.interaction.code)
     */
    static codeRequiredCoding() {
        return SystemRestfulInteractionCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['code']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property code:SystemRestfulInteractionCodeType fhir: CapabilityStatement.rest.interaction.code:code', });
        }
        if (this["documentation"]) {
            issues.push(...this.documentation.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementRestInteraction._fts_dataType = 'CapabilityStatementRestInteraction';
/**
 * Multiple repetitions allow definition of both client and/or server behaviors or possibly behaviors under different configuration settings (for software or requirements statements).
 */
export class CapabilityStatementRest extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementRest - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['mode']) {
            this.mode = source.mode;
        }
        else {
            this.mode = null;
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirMarkdown({ value: source.documentation });
        }
        if (source['security']) {
            this.security = new fhir.CapabilityStatementRestSecurity(source.security);
        }
        if (source['resource']) {
            this.resource = source.resource.map((x) => new fhir.CapabilityStatementRestResource(x));
        }
        else {
            this.resource = [];
        }
        if (source['interaction']) {
            this.interaction = source.interaction.map((x) => new fhir.CapabilityStatementRestInteraction(x));
        }
        else {
            this.interaction = [];
        }
        if (source['searchParam']) {
            this.searchParam = source.searchParam.map((x) => new fhir.CapabilityStatementRestResourceSearchParam(x));
        }
        else {
            this.searchParam = [];
        }
        if (source['operation']) {
            this.operation = source.operation.map((x) => new fhir.CapabilityStatementRestResourceOperation(x));
        }
        else {
            this.operation = [];
        }
        if (source['compartment']) {
            this.compartment = source.compartment.map((x) => new fhir.FhirCanonical({ value: x }));
        }
        else {
            this.compartment = [];
        }
    }
    /**
     * Required-bound Value Set for mode (CapabilityStatement.rest.mode)
     */
    static modeRequiredCoding() {
        return RestfulCapabilityModeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['mode']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property mode:RestfulCapabilityModeCodeType fhir: CapabilityStatement.rest.mode:code', });
        }
        if (this["documentation"]) {
            issues.push(...this.documentation.doModelValidation());
        }
        if (this["security"]) {
            issues.push(...this.security.doModelValidation());
        }
        if (this["resource"]) {
            this.resource.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["interaction"]) {
            this.interaction.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["searchParam"]) {
            this.searchParam.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["operation"]) {
            this.operation.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["compartment"]) {
            this.compartment.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementRest._fts_dataType = 'CapabilityStatementRest';
/**
 * An endpoint (network accessible address) to which messages and/or replies are to be sent.
 */
export class CapabilityStatementMessagingEndpoint extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementMessagingEndpoint - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['protocol']) {
            this.protocol = new fhir.Coding(source.protocol);
        }
        else {
            this.protocol = null;
        }
        if (source['address']) {
            this.address = new fhir.FhirUrl({ value: source.address });
        }
        else {
            this.address = null;
        }
    }
    /**
     * Extensible-bound Value Set for protocol (CapabilityStatement.messaging.endpoint.protocol)
     */
    static protocolExtensibleCoding() {
        return MessageTransportCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['protocol']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property protocol:fhir.Coding fhir: CapabilityStatement.messaging.endpoint.protocol:Coding', });
        }
        if (this["protocol"]) {
            issues.push(...this.protocol.doModelValidation());
        }
        if (!this['address']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property address:fhir.FhirUrl fhir: CapabilityStatement.messaging.endpoint.address:url', });
        }
        if (this["address"]) {
            issues.push(...this.address.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementMessagingEndpoint._fts_dataType = 'CapabilityStatementMessagingEndpoint';
/**
 * This is a proposed alternative to the messaging.event structure.
 */
export class CapabilityStatementMessagingSupportedMessage extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementMessagingSupportedMessage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['mode']) {
            this.mode = source.mode;
        }
        else {
            this.mode = null;
        }
        if (source['definition']) {
            this.definition = new fhir.FhirCanonical({ value: source.definition });
        }
        else {
            this.definition = null;
        }
    }
    /**
     * Required-bound Value Set for mode (CapabilityStatement.messaging.supportedMessage.mode)
     */
    static modeRequiredCoding() {
        return EventCapabilityModeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['mode']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property mode:EventCapabilityModeCodeType fhir: CapabilityStatement.messaging.supportedMessage.mode:code', });
        }
        if (!this['definition']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property definition:fhir.FhirCanonical fhir: CapabilityStatement.messaging.supportedMessage.definition:canonical', });
        }
        if (this["definition"]) {
            issues.push(...this.definition.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementMessagingSupportedMessage._fts_dataType = 'CapabilityStatementMessagingSupportedMessage';
/**
 * Multiple repetitions allow the documentation of multiple endpoints per solution.
 */
export class CapabilityStatementMessaging extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementMessaging - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.CapabilityStatementMessagingEndpoint(x));
        }
        else {
            this.endpoint = [];
        }
        if (source['reliableCache']) {
            this.reliableCache = new fhir.FhirUnsignedInt({ value: source.reliableCache });
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirMarkdown({ value: source.documentation });
        }
        if (source['supportedMessage']) {
            this.supportedMessage = source.supportedMessage.map((x) => new fhir.CapabilityStatementMessagingSupportedMessage(x));
        }
        else {
            this.supportedMessage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["endpoint"]) {
            this.endpoint.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["reliableCache"]) {
            issues.push(...this.reliableCache.doModelValidation());
        }
        if (this["documentation"]) {
            issues.push(...this.documentation.doModelValidation());
        }
        if (this["supportedMessage"]) {
            this.supportedMessage.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementMessaging._fts_dataType = 'CapabilityStatementMessaging';
/**
 * A document definition.
 */
export class CapabilityStatementDocument extends fhir.BackboneElement {
    /**
     * Default constructor for CapabilityStatementDocument - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['mode']) {
            this.mode = source.mode;
        }
        else {
            this.mode = null;
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirMarkdown({ value: source.documentation });
        }
        if (source['profile']) {
            this.profile = new fhir.FhirCanonical({ value: source.profile });
        }
        else {
            this.profile = null;
        }
    }
    /**
     * Required-bound Value Set for mode (CapabilityStatement.document.mode)
     */
    static modeRequiredCoding() {
        return DocumentModeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['mode']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property mode:DocumentModeCodeType fhir: CapabilityStatement.document.mode:code', });
        }
        if (this["documentation"]) {
            issues.push(...this.documentation.doModelValidation());
        }
        if (!this['profile']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property profile:fhir.FhirCanonical fhir: CapabilityStatement.document.profile:canonical', });
        }
        if (this["profile"]) {
            issues.push(...this.profile.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatementDocument._fts_dataType = 'CapabilityStatementDocument';
/**
 * A Capability Statement documents a set of capabilities (behaviors) of a FHIR Server for a particular version of FHIR that may be used as a statement of actual server functionality or a statement of required or desired server implementation.
 */
export class CapabilityStatement extends fhir.DomainResource {
    /**
     * Default constructor for CapabilityStatement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'CapabilityStatement';
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['status']) {
            this.status = source.status;
        }
        else {
            this.status = null;
        }
        if (source['experimental']) {
            this.experimental = new fhir.FhirBoolean({ value: source.experimental });
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        else {
            this.date = null;
        }
        if (source['publisher']) {
            this.publisher = new fhir.FhirString({ value: source.publisher });
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.contact = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['useContext']) {
            this.useContext = source.useContext.map((x) => new fhir.UsageContext(x));
        }
        else {
            this.useContext = [];
        }
        if (source['jurisdiction']) {
            this.jurisdiction = source.jurisdiction.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.jurisdiction = [];
        }
        if (source['purpose']) {
            this.purpose = new fhir.FhirMarkdown({ value: source.purpose });
        }
        if (source['copyright']) {
            this.copyright = new fhir.FhirMarkdown({ value: source.copyright });
        }
        if (source['kind']) {
            this.kind = source.kind;
        }
        else {
            this.kind = null;
        }
        if (source['instantiates']) {
            this.instantiates = source.instantiates.map((x) => new fhir.FhirCanonical({ value: x }));
        }
        else {
            this.instantiates = [];
        }
        if (source['imports']) {
            this.imports = source.imports.map((x) => new fhir.FhirCanonical({ value: x }));
        }
        else {
            this.imports = [];
        }
        if (source['software']) {
            this.software = new fhir.CapabilityStatementSoftware(source.software);
        }
        if (source['implementation']) {
            this.implementation = new fhir.CapabilityStatementImplementation(source.implementation);
        }
        if (source['fhirVersion']) {
            this.fhirVersion = new fhir.FhirCode({ value: source.fhirVersion });
        }
        else {
            this.fhirVersion = null;
        }
        if (source['format']) {
            this.format = source.format.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.format = [];
        }
        if (source['patchFormat']) {
            this.patchFormat = source.patchFormat.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.patchFormat = [];
        }
        if (source['implementationGuide']) {
            this.implementationGuide = source.implementationGuide.map((x) => new fhir.FhirCanonical({ value: x }));
        }
        else {
            this.implementationGuide = [];
        }
        if (source['rest']) {
            this.rest = source.rest.map((x) => new fhir.CapabilityStatementRest(x));
        }
        else {
            this.rest = [];
        }
        if (source['messaging']) {
            this.messaging = source.messaging.map((x) => new fhir.CapabilityStatementMessaging(x));
        }
        else {
            this.messaging = [];
        }
        if (source['document']) {
            this.document = source.document.map((x) => new fhir.CapabilityStatementDocument(x));
        }
        else {
            this.document = [];
        }
    }
    /**
     * Required-bound Value Set for status (CapabilityStatement.status)
     */
    static statusRequiredCoding() {
        return PublicationStatusCodings;
    }
    /**
     * Required-bound Value Set for kind (CapabilityStatement.kind)
     */
    static kindRequiredCoding() {
        return CapabilityStatementKindCodings;
    }
    /**
     * Required-bound Value Set for fhirVersion (CapabilityStatement.fhirVersion)
     */
    static fhirVersionRequiredCoding() {
        return FHIRVersionCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"CapabilityStatement" fhir: CapabilityStatement.resourceType:"CapabilityStatement"', });
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation());
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["title"]) {
            issues.push(...this.title.doModelValidation());
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:PublicationStatusCodeType fhir: CapabilityStatement.status:code', });
        }
        if (this["experimental"]) {
            issues.push(...this.experimental.doModelValidation());
        }
        if (!this['date']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property date:fhir.FhirDateTime fhir: CapabilityStatement.date:dateTime', });
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation());
        }
        if (this["publisher"]) {
            issues.push(...this.publisher.doModelValidation());
        }
        if (this["contact"]) {
            this.contact.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["useContext"]) {
            this.useContext.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["jurisdiction"]) {
            this.jurisdiction.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["purpose"]) {
            issues.push(...this.purpose.doModelValidation());
        }
        if (this["copyright"]) {
            issues.push(...this.copyright.doModelValidation());
        }
        if (!this['kind']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property kind:CapabilityStatementKindCodeType fhir: CapabilityStatement.kind:code', });
        }
        if (this["instantiates"]) {
            this.instantiates.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["imports"]) {
            this.imports.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["software"]) {
            issues.push(...this.software.doModelValidation());
        }
        if (this["implementation"]) {
            issues.push(...this.implementation.doModelValidation());
        }
        if (!this['fhirVersion']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property fhirVersion:fhir.FhirCode fhir: CapabilityStatement.fhirVersion:code', });
        }
        if (this["fhirVersion"]) {
            issues.push(...this.fhirVersion.doModelValidation());
        }
        if (!this['format']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property format:fhir.FhirCode[] fhir: CapabilityStatement.format:code', });
        }
        else if (!Array.isArray(this.format)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property format:fhir.FhirCode[] fhir: CapabilityStatement.format:code', });
        }
        else if (this.format.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property format:fhir.FhirCode[] fhir: CapabilityStatement.format:code', });
        }
        if (this["format"]) {
            this.format.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["patchFormat"]) {
            this.patchFormat.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["implementationGuide"]) {
            this.implementationGuide.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["rest"]) {
            this.rest.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["messaging"]) {
            this.messaging.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["document"]) {
            this.document.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CapabilityStatement._fts_dataType = 'CapabilityStatement';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FwYWJpbGl0eVN0YXRlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQ2FwYWJpbGl0eVN0YXRlbWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxxQ0FBcUM7QUFFckMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFFbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw2QkFBNkIsR0FBb0MsTUFBTSxtREFBbUQsQ0FBQztBQUdwSSxhQUFhO0FBQ2IsT0FBTyxFQUFFLDZCQUE2QixHQUFvQyxNQUFNLG1EQUFtRCxDQUFDO0FBR3BJLGFBQWE7QUFDYixPQUFPLEVBQUUsc0JBQXNCLEdBQTZCLE1BQU0sNENBQTRDLENBQUM7QUFHL0csYUFBYTtBQUNiLE9BQU8sRUFBRSxvQkFBb0IsR0FBMkIsTUFBTSwwQ0FBMEMsQ0FBQztBQUd6RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHVCQUF1QixHQUE4QixNQUFNLDZDQUE2QyxDQUFDO0FBR2xILGFBQWE7QUFDYixPQUFPLEVBQUUsNEJBQTRCLEdBQW1DLE1BQU0sa0RBQWtELENBQUM7QUFHakksYUFBYTtBQUNiLE9BQU8sRUFBRSw4QkFBOEIsR0FBcUMsTUFBTSxvREFBb0QsQ0FBQztBQUd2SSxhQUFhO0FBQ2IsT0FBTyxFQUFFLDhCQUE4QixHQUFxQyxNQUFNLG9EQUFvRCxDQUFDO0FBR3ZJLGFBQWE7QUFDYixPQUFPLEVBQUUsK0JBQStCLEdBQXNDLE1BQU0scURBQXFELENBQUM7QUFHMUksYUFBYTtBQUNiLE9BQU8sRUFBRSw0QkFBNEIsR0FBbUMsTUFBTSxrREFBa0QsQ0FBQztBQUdqSSxhQUFhO0FBQ2IsT0FBTyxFQUFFLHVCQUF1QixHQUE4QixNQUFNLDZDQUE2QyxDQUFDO0FBR2xILGFBQWE7QUFDYixPQUFPLEVBQUUsMEJBQTBCLEdBQWlDLE1BQU0sZ0RBQWdELENBQUM7QUFHM0gsYUFB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dGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBDYXBhYmlsaXR5U3RhdGVtZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXN0ZnVsU2VjdXJpdHlTZXJ2aWNlQ29kaW5ncywgUmVzdGZ1bFNlY3VyaXR5U2VydmljZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Jlc3RmdWxTZWN1cml0eVNlcnZpY2VDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXN0ZnVsU2VjdXJpdHlTZXJ2aWNlQ29kZXMsICBSZXN0ZnVsU2VjdXJpdHlTZXJ2aWNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Jlc3RmdWxTZWN1cml0eVNlcnZpY2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVHlwZVJlc3RmdWxJbnRlcmFjdGlvbkNvZGluZ3MsIFR5cGVSZXN0ZnVsSW50ZXJhY3Rpb25Db2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UeXBlUmVzdGZ1bEludGVyYWN0aW9uQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVHlwZVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVzLCAgVHlwZVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UeXBlUmVzdGZ1bEludGVyYWN0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlYXJjaFBhcmFtVHlwZUNvZGluZ3MsIFNlYXJjaFBhcmFtVHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlYXJjaFBhcmFtVHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlYXJjaFBhcmFtVHlwZUNvZGVzLCAgU2VhcmNoUGFyYW1UeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlYXJjaFBhcmFtVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXNvdXJjZVR5cGVzQ29kaW5ncywgUmVzb3VyY2VUeXBlc0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Jlc291cmNlVHlwZXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXNvdXJjZVR5cGVzQ29kZXMsICBSZXNvdXJjZVR5cGVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Jlc291cmNlVHlwZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyc2lvbmluZ1BvbGljeUNvZGluZ3MsIFZlcnNpb25pbmdQb2xpY3lDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJzaW9uaW5nUG9saWN5Q29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyc2lvbmluZ1BvbGljeUNvZGVzLCAgVmVyc2lvbmluZ1BvbGljeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJzaW9uaW5nUG9saWN5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmRpdGlvbmFsUmVhZFN0YXR1c0NvZGluZ3MsIENvbmRpdGlvbmFsUmVhZFN0YXR1c0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmRpdGlvbmFsUmVhZFN0YXR1c0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmRpdGlvbmFsUmVhZFN0YXR1c0NvZGVzLCAgQ29uZGl0aW9uYWxSZWFkU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmRpdGlvbmFsUmVhZFN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25kaXRpb25hbERlbGV0ZVN0YXR1c0NvZGluZ3MsIENvbmRpdGlvbmFsRGVsZXRlU3RhdHVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uZGl0aW9uYWxEZWxldGVTdGF0dXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25kaXRpb25hbERlbGV0ZVN0YXR1c0NvZGVzLCAgQ29uZGl0aW9uYWxEZWxldGVTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uZGl0aW9uYWxEZWxldGVTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVmZXJlbmNlSGFuZGxpbmdQb2xpY3lDb2RpbmdzLCBSZWZlcmVuY2VIYW5kbGluZ1BvbGljeUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlZmVyZW5jZUhhbmRsaW5nUG9saWN5Q29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVmZXJlbmNlSGFuZGxpbmdQb2xpY3lDb2RlcywgIFJlZmVyZW5jZUhhbmRsaW5nUG9saWN5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlZmVyZW5jZUhhbmRsaW5nUG9saWN5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFN5c3RlbVJlc3RmdWxJbnRlcmFjdGlvbkNvZGluZ3MsIFN5c3RlbVJlc3RmdWxJbnRlcmFjdGlvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1N5c3RlbVJlc3RmdWxJbnRlcmFjdGlvbkNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFN5c3RlbVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVzLCAgU3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1N5c3RlbVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2RpbmdzLCBSZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2RlcywgIFJlc3RmdWxDYXBhYmlsaXR5TW9kZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVzc2FnZVRyYW5zcG9ydENvZGluZ3MsIE1lc3NhZ2VUcmFuc3BvcnRDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZXNzYWdlVHJhbnNwb3J0Q29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVzc2FnZVRyYW5zcG9ydENvZGVzLCAgTWVzc2FnZVRyYW5zcG9ydENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZXNzYWdlVHJhbnNwb3J0Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV2ZW50Q2FwYWJpbGl0eU1vZGVDb2RpbmdzLCBFdmVudENhcGFiaWxpdHlNb2RlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXZlbnRDYXBhYmlsaXR5TW9kZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV2ZW50Q2FwYWJpbGl0eU1vZGVDb2RlcywgIEV2ZW50Q2FwYWJpbGl0eU1vZGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXZlbnRDYXBhYmlsaXR5TW9kZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEb2N1bWVudE1vZGVDb2RpbmdzLCBEb2N1bWVudE1vZGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2N1bWVudE1vZGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEb2N1bWVudE1vZGVDb2RlcywgIERvY3VtZW50TW9kZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2N1bWVudE1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNDb2RpbmdzLCBQdWJsaWNhdGlvblN0YXR1c0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNDb2RlcywgIFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENhcGFiaWxpdHlTdGF0ZW1lbnRLaW5kQ29kaW5ncywgQ2FwYWJpbGl0eVN0YXRlbWVudEtpbmRDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DYXBhYmlsaXR5U3RhdGVtZW50S2luZENvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENhcGFiaWxpdHlTdGF0ZW1lbnRLaW5kQ29kZXMsICBDYXBhYmlsaXR5U3RhdGVtZW50S2luZENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DYXBhYmlsaXR5U3RhdGVtZW50S2luZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBGSElSVmVyc2lvbkNvZGluZ3MsIEZISVJWZXJzaW9uQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRkhJUlZlcnNpb25Db2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBGSElSVmVyc2lvbkNvZGVzLCAgRkhJUlZlcnNpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRkhJUlZlcnNpb25Db2Rlcy5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDYXBhYmlsaXR5U3RhdGVtZW50U29mdHdhcmUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FwYWJpbGl0eVN0YXRlbWVudFNvZnR3YXJlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogTmFtZSB0aGUgc29mdHdhcmUgaXMga25vd24gYnkuXHJcbiAgICovXHJcbiAgbmFtZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgcG9zc2libGUsIGEgdmVyc2lvbiBzaG91bGQgYmUgc3BlY2lmaWVkLCBhcyBzdGF0ZW1lbnRzIGFyZSBsaWtlbHkgdG8gYmUgZGlmZmVyZW50IGZvciBkaWZmZXJlbnQgdmVyc2lvbnMgb2Ygc29mdHdhcmUuXHJcbiAgICovXHJcbiAgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERhdGUgdGhpcyB2ZXJzaW9uIG9mIHRoZSBzb2Z0d2FyZSB3YXMgcmVsZWFzZWQuXHJcbiAgICovXHJcbiAgcmVsZWFzZURhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU29mdHdhcmUgdGhhdCBpcyBjb3ZlcmVkIGJ5IHRoaXMgY2FwYWJpbGl0eSBzdGF0ZW1lbnQuICBJdCBpcyB1c2VkIHdoZW4gdGhlIGNhcGFiaWxpdHkgc3RhdGVtZW50IGRlc2NyaWJlcyB0aGUgY2FwYWJpbGl0aWVzIG9mIGEgcGFydGljdWxhciBzb2Z0d2FyZSB2ZXJzaW9uLCBpbmRlcGVuZGVudCBvZiBhbiBpbnN0YWxsYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0eVN0YXRlbWVudFNvZnR3YXJlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudFNvZnR3YXJlJztcclxuICAvKipcclxuICAgKiBOYW1lIHRoZSBzb2Z0d2FyZSBpcyBrbm93biBieS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWYgcG9zc2libGUsIGEgdmVyc2lvbiBzaG91bGQgYmUgc3BlY2lmaWVkLCBhcyBzdGF0ZW1lbnRzIGFyZSBsaWtlbHkgdG8gYmUgZGlmZmVyZW50IGZvciBkaWZmZXJlbnQgdmVyc2lvbnMgb2Ygc29mdHdhcmUuXHJcbiAgICovXHJcbiAgcHVibGljIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERhdGUgdGhpcyB2ZXJzaW9uIG9mIHRoZSBzb2Z0d2FyZSB3YXMgcmVsZWFzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlbGVhc2VEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENhcGFiaWxpdHlTdGF0ZW1lbnRTb2Z0d2FyZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENhcGFiaWxpdHlTdGF0ZW1lbnRTb2Z0d2FyZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJzaW9uJ10pIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52ZXJzaW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlbGVhc2VEYXRlJ10pIHsgdGhpcy5yZWxlYXNlRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5yZWxlYXNlRGF0ZX0pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ25hbWUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG5hbWU6Zmhpci5GaGlyU3RyaW5nIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQuc29mdHdhcmUubmFtZTpzdHJpbmcnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widmVyc2lvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZlcnNpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVsZWFzZURhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZWxlYXNlRGF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENhcGFiaWxpdHlTdGF0ZW1lbnRJbXBsZW1lbnRhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDYXBhYmlsaXR5U3RhdGVtZW50SW1wbGVtZW50YXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc3BlY2lmaWMgaW5zdGFsbGF0aW9uIHRoYXQgdGhpcyBjYXBhYmlsaXR5IHN0YXRlbWVudCByZWxhdGVzIHRvLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBhYnNvbHV0ZSBiYXNlIFVSTCBmb3IgdGhlIGltcGxlbWVudGF0aW9uLiAgVGhpcyBmb3JtcyB0aGUgYmFzZSBmb3IgUkVTVCBpbnRlcmZhY2VzIGFzIHdlbGwgYXMgdGhlIG1haWxib3ggYW5kIGRvY3VtZW50IGludGVyZmFjZXMuXHJcbiAgICovXHJcbiAgdXJsPzogZmhpci5GaGlyVXJsfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXphdGlvbiByZXNwb25zaWJsZSBmb3IgdGhlIG1hbmFnZW1lbnQgb2YgdGhlIGluc3RhbmNlIGFuZCBvdmVyc2lnaHQgb2YgdGhlIGRhdGEgb24gdGhlIHNlcnZlciBhdCB0aGUgc3BlY2lmaWVkIFVSTC5cclxuICAgKi9cclxuICBjdXN0b2RpYW4/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGluc3RhbmNlIHRoYXQgaXMgZGVzY3JpYmVkIGJ5IHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCAtIGkuZS4gYSBwYXJ0aWN1bGFyIGluc3RhbGxhdGlvbiwgcmF0aGVyIHRoYW4gdGhlIGNhcGFiaWxpdGllcyBvZiBhIHNvZnR3YXJlIHByb2dyYW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0eVN0YXRlbWVudEltcGxlbWVudGF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudEltcGxlbWVudGF0aW9uJztcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc3BlY2lmaWMgaW5zdGFsbGF0aW9uIHRoYXQgdGhpcyBjYXBhYmlsaXR5IHN0YXRlbWVudCByZWxhdGVzIHRvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbjogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgYmFzZSBVUkwgZm9yIHRoZSBpbXBsZW1lbnRhdGlvbi4gIFRoaXMgZm9ybXMgdGhlIGJhc2UgZm9yIFJFU1QgaW50ZXJmYWNlcyBhcyB3ZWxsIGFzIHRoZSBtYWlsYm94IGFuZCBkb2N1bWVudCBpbnRlcmZhY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cmw/OiBmaGlyLkZoaXJVcmx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbml6YXRpb24gcmVzcG9uc2libGUgZm9yIHRoZSBtYW5hZ2VtZW50IG9mIHRoZSBpbnN0YW5jZSBhbmQgb3ZlcnNpZ2h0IG9mIHRoZSBkYXRhIG9uIHRoZSBzZXJ2ZXIgYXQgdGhlIHNwZWNpZmllZCBVUkwuXHJcbiAgICovXHJcbiAgcHVibGljIGN1c3RvZGlhbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDYXBhYmlsaXR5U3RhdGVtZW50SW1wbGVtZW50YXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDYXBhYmlsaXR5U3RhdGVtZW50SW1wbGVtZW50YXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VybCddKSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVybCh7dmFsdWU6IHNvdXJjZS51cmx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY3VzdG9kaWFuJ10pIHsgdGhpcy5jdXN0b2RpYW4gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmN1c3RvZGlhbik7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGRlc2NyaXB0aW9uOmZoaXIuRmhpclN0cmluZyBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50LmltcGxlbWVudGF0aW9uLmRlc2NyaXB0aW9uOnN0cmluZycsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlc2NyaXB0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInVybFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnVybC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjdXN0b2RpYW5cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jdXN0b2RpYW4uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFNlY3VyaXR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0U2VjdXJpdHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgZWFzaWVzdCBDT1JTIGhlYWRlcnMgdG8gYWRkIGFyZSBBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICogJmFtcDsgQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1NZXRob2Q6IEdFVCwgUE9TVCwgUFVULCBERUxFVEUuIEFsbCBzZXJ2ZXJzIFNIT1VMRCBzdXBwb3J0IENPUlMuXHJcbiAgICovXHJcbiAgY29ycz86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwZXMgb2Ygc2VjdXJpdHkgc2VydmljZXMgdGhhdCBhcmUgc3VwcG9ydGVkL3JlcXVpcmVkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgc2VydmljZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGRlc2NyaXB0aW9uIG9mIGhvdyBzZWN1cml0eSB3b3Jrcy5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCBzZWN1cml0eSBpbXBsZW1lbnRhdGlvbiBmcm9tIGFuIGludGVyZmFjZSBwZXJzcGVjdGl2ZSAtIHdoYXQgYSBjbGllbnQgbmVlZHMgdG8ga25vdy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFNlY3VyaXR5IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RTZWN1cml0eSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGVhc2llc3QgQ09SUyBoZWFkZXJzIHRvIGFkZCBhcmUgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luOiAqICZhbXA7IEFjY2Vzcy1Db250cm9sLVJlcXVlc3QtTWV0aG9kOiBHRVQsIFBPU1QsIFBVVCwgREVMRVRFLiBBbGwgc2VydmVycyBTSE9VTEQgc3VwcG9ydCBDT1JTLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3JzPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwZXMgb2Ygc2VjdXJpdHkgc2VydmljZXMgdGhhdCBhcmUgc3VwcG9ydGVkL3JlcXVpcmVkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIHNlcnZpY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEdlbmVyYWwgZGVzY3JpcHRpb24gb2YgaG93IHNlY3VyaXR5IHdvcmtzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFNlY3VyaXR5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2FwYWJpbGl0eVN0YXRlbWVudFJlc3RTZWN1cml0eUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb3JzJ10pIHsgdGhpcy5jb3JzID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuY29yc30pOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXJ2aWNlJ10pIHsgdGhpcy5zZXJ2aWNlID0gc291cmNlLnNlcnZpY2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXJ2aWNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciBzZXJ2aWNlIChDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3Quc2VjdXJpdHkuc2VydmljZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHNlcnZpY2VFeHRlbnNpYmxlQ29kaW5nKCk6UmVzdGZ1bFNlY3VyaXR5U2VydmljZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFJlc3RmdWxTZWN1cml0eVNlcnZpY2VDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJjb3JzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29ycy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzZXJ2aWNlXCJdKSB7IHRoaXMuc2VydmljZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VJbnRlcmFjdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlSW50ZXJhY3Rpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBDb2RlZCBpZGVudGlmaWVyIG9mIHRoZSBvcGVyYXRpb24sIHN1cHBvcnRlZCBieSB0aGUgc3lzdGVtIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGNvZGU6IFR5cGVSZXN0ZnVsSW50ZXJhY3Rpb25Db2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEd1aWRhbmNlIHNwZWNpZmljIHRvIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIG9wZXJhdGlvbiwgc3VjaCBhcyAnZGVsZXRlIGlzIGEgbG9naWNhbCBkZWxldGUnIG9yICd1cGRhdGVzIGFyZSBvbmx5IGFsbG93ZWQgd2l0aCB2ZXJzaW9uIGlkJyBvciAnY3JlYXRlcyBwZXJtaXR0ZWQgZnJvbSBwcmUtYXV0aG9yaXplZCBjZXJ0aWZpY2F0ZXMgb25seScuXHJcbiAgICovXHJcbiAgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbiBnZW5lcmFsLCBhIFJlc291cmNlIHdpbGwgb25seSBhcHBlYXIgaW4gYSBDYXBhYmlsaXR5U3RhdGVtZW50IGlmIHRoZSBzZXJ2ZXIgYWN0dWFsbHkgaGFzIHNvbWUgY2FwYWJpbGl0aWVzIC0gZS5nLiB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgaW50ZXJhY3Rpb24gc3VwcG9ydGVkLiBIb3dldmVyIGludGVyYWN0aW9ucyBjYW4gYmUgb21pdHRlZCB0byBzdXBwb3J0IHN1bW1hcml6YXRpb24gKF9zdW1tYXJ5ID0gdHJ1ZSkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZUludGVyYWN0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZUludGVyYWN0aW9uJztcclxuICAvKipcclxuICAgKiBDb2RlZCBpZGVudGlmaWVyIG9mIHRoZSBvcGVyYXRpb24sIHN1cHBvcnRlZCBieSB0aGUgc3lzdGVtIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBUeXBlUmVzdGZ1bEludGVyYWN0aW9uQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBHdWlkYW5jZSBzcGVjaWZpYyB0byB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBvcGVyYXRpb24sIHN1Y2ggYXMgJ2RlbGV0ZSBpcyBhIGxvZ2ljYWwgZGVsZXRlJyBvciAndXBkYXRlcyBhcmUgb25seSBhbGxvd2VkIHdpdGggdmVyc2lvbiBpZCcgb3IgJ2NyZWF0ZXMgcGVybWl0dGVkIGZyb20gcHJlLWF1dGhvcml6ZWQgY2VydGlmaWNhdGVzIG9ubHknLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VJbnRlcmFjdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VJbnRlcmFjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gc291cmNlLmNvZGU7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkb2N1bWVudGF0aW9uJ10pIHsgdGhpcy5kb2N1bWVudGF0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRvY3VtZW50YXRpb259KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGNvZGUgKENhcGFiaWxpdHlTdGF0ZW1lbnQucmVzdC5yZXNvdXJjZS5pbnRlcmFjdGlvbi5jb2RlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgY29kZVJlcXVpcmVkQ29kaW5nKCk6VHlwZVJlc3RmdWxJbnRlcmFjdGlvbkNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFR5cGVSZXN0ZnVsSW50ZXJhY3Rpb25Db2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydjb2RlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBjb2RlOlR5cGVSZXN0ZnVsSW50ZXJhY3Rpb25Db2RlVHlwZSBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2UuaW50ZXJhY3Rpb24uY29kZTpjb2RlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImRvY3VtZW50YXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kb2N1bWVudGF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VTZWFyY2hQYXJhbUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFBhcmFtZXRlciBuYW1lcyBjYW5ub3Qgb3ZlcmxhcCB3aXRoIHN0YW5kYXJkIHBhcmFtZXRlciBuYW1lcywgYW5kIHN0YW5kYXJkIHBhcmFtZXRlcnMgY2Fubm90IGJlIHJlZGVmaW5lZC5cclxuICAgKi9cclxuICBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIFNIT1VMRCBiZSBwcmVzZW50LCBhbmQgbWF0Y2hlcyByZWZlcnMgdG8gYSBTZWFyY2hQYXJhbWV0ZXIgYnkgaXRzIGNhbm9uaWNhbCBVUkwuIElmIHN5c3RlbXMgd2lzaCB0byBkb2N1bWVudCB0aGVpciBzdXBwb3J0IGZvciBtb2RpZmllcnMsIGNvbXBhcmF0b3JzLCB0YXJnZXQgcmVzb3VyY2UgdHlwZXMsIGFuZCBjaGFpbmVkIHBhcmFtZXRlcnMsIHRoZXkgc2hvdWxkIGRvIHVzaW5nIGEgc2VhcmNoIHBhcmFtZXRlciByZXNvdXJjZS4gVGhpcyBlbGVtZW50IFNIQUxMIGJlIHBvcHVsYXRlZCBpZiB0aGUgc2VhcmNoIHBhcmFtZXRlciByZWZlcnMgdG8gYSBTZWFyY2hQYXJhbWV0ZXIgZGVmaW5lZCBieSB0aGUgRkhJUiBjb3JlIHNwZWNpZmljYXRpb24gb3IgZXh0ZXJuYWxseSBkZWZpbmVkIElHcy5cclxuICAgKi9cclxuICBkZWZpbml0aW9uPzogZmhpci5GaGlyQ2Fub25pY2FsfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hpbGUgdGhpcyBjYW4gYmUgbG9va2VkIHVwIGZyb20gdGhlIGRlZmluaXRpb24sIGl0IGlzIGluY2x1ZGVkIGhlcmUgYXMgYSBjb252ZW5pZW5jZSBmb3Igc3lzdGVtcyB0aGF0IGF1dG9nZW5lcmF0ZSBhIHF1ZXJ5IGludGVyZmFjZSBiYXNlZCBvbiB0aGUgc2VydmVyIGNhcGFiaWxpdHkgc3RhdGVtZW50LiAgSXQgU0hBTEwgYmUgdGhlIHNhbWUgYXMgdGhlIHR5cGUgaW4gdGhlIHNlYXJjaCBwYXJhbWV0ZXIgZGVmaW5pdGlvbi5cclxuICAgKi9cclxuICB0eXBlOiBTZWFyY2hQYXJhbVR5cGVDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYWxsb3dzIGRvY3VtZW50YXRpb24gb2YgYW55IGRpc3RpbmN0IGJlaGF2aW9ycyBhYm91dCBob3cgdGhlIHNlYXJjaCBwYXJhbWV0ZXIgaXMgdXNlZC4gIEZvciBleGFtcGxlLCB0ZXh0IG1hdGNoaW5nIGFsZ29yaXRobXMuXHJcbiAgICovXHJcbiAgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgc2VhcmNoIHBhcmFtZXRlcnMgc2hvdWxkIGluY2x1ZGUgdGhlIGNvbnRyb2wgc2VhcmNoIHBhcmFtZXRlcnMgc3VjaCBhcyBfc29ydCwgX2NvdW50LCBldGMuIHRoYXQgYWxzbyBhcHBseSB0byB0aGlzIHJlc291cmNlICh0aG91Z2ggbWFueSB3aWxsIGJlIGxpc3RlZCBhdCBbQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnNlYXJjaFBhcmFtXShjYXBhYmlsaXR5c3RhdGVtZW50LWRlZmluaXRpb25zLmh0bWwjQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnNlYXJjaFBhcmFtKSkuIFRoZSBiZWhhdmlvciBvZiBzb21lIHNlYXJjaCBwYXJhbWV0ZXJzIG1heSBiZSBmdXJ0aGVyIGRlc2NyaWJlZCBieSBvdGhlciBjb2RlIG9yIGV4dGVuc2lvbiBlbGVtZW50cywgb3IgbmFycmF0aXZlIHdpdGhpbiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgb3IgbGlua2VkIFtTZWFyY2hQYXJhbWV0ZXJdKHNlYXJjaHBhcmFtZXRlci5odG1sIykgZGVmaW5pdGlvbnMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtJztcclxuICAvKipcclxuICAgKiBQYXJhbWV0ZXIgbmFtZXMgY2Fubm90IG92ZXJsYXAgd2l0aCBzdGFuZGFyZCBwYXJhbWV0ZXIgbmFtZXMsIGFuZCBzdGFuZGFyZCBwYXJhbWV0ZXJzIGNhbm5vdCBiZSByZWRlZmluZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgU0hPVUxEIGJlIHByZXNlbnQsIGFuZCBtYXRjaGVzIHJlZmVycyB0byBhIFNlYXJjaFBhcmFtZXRlciBieSBpdHMgY2Fub25pY2FsIFVSTC4gSWYgc3lzdGVtcyB3aXNoIHRvIGRvY3VtZW50IHRoZWlyIHN1cHBvcnQgZm9yIG1vZGlmaWVycywgY29tcGFyYXRvcnMsIHRhcmdldCByZXNvdXJjZSB0eXBlcywgYW5kIGNoYWluZWQgcGFyYW1ldGVycywgdGhleSBzaG91bGQgZG8gdXNpbmcgYSBzZWFyY2ggcGFyYW1ldGVyIHJlc291cmNlLiBUaGlzIGVsZW1lbnQgU0hBTEwgYmUgcG9wdWxhdGVkIGlmIHRoZSBzZWFyY2ggcGFyYW1ldGVyIHJlZmVycyB0byBhIFNlYXJjaFBhcmFtZXRlciBkZWZpbmVkIGJ5IHRoZSBGSElSIGNvcmUgc3BlY2lmaWNhdGlvbiBvciBleHRlcm5hbGx5IGRlZmluZWQgSUdzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWZpbml0aW9uPzogZmhpci5GaGlyQ2Fub25pY2FsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGlsZSB0aGlzIGNhbiBiZSBsb29rZWQgdXAgZnJvbSB0aGUgZGVmaW5pdGlvbiwgaXQgaXMgaW5jbHVkZWQgaGVyZSBhcyBhIGNvbnZlbmllbmNlIGZvciBzeXN0ZW1zIHRoYXQgYXV0b2dlbmVyYXRlIGEgcXVlcnkgaW50ZXJmYWNlIGJhc2VkIG9uIHRoZSBzZXJ2ZXIgY2FwYWJpbGl0eSBzdGF0ZW1lbnQuICBJdCBTSEFMTCBiZSB0aGUgc2FtZSBhcyB0aGUgdHlwZSBpbiB0aGUgc2VhcmNoIHBhcmFtZXRlciBkZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBTZWFyY2hQYXJhbVR5cGVDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYWxsb3dzIGRvY3VtZW50YXRpb24gb2YgYW55IGRpc3RpbmN0IGJlaGF2aW9ycyBhYm91dCBob3cgdGhlIHNlYXJjaCBwYXJhbWV0ZXIgaXMgdXNlZC4gIEZvciBleGFtcGxlLCB0ZXh0IG1hdGNoaW5nIGFsZ29yaXRobXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRvY3VtZW50YXRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubmFtZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RlZmluaXRpb24nXSkgeyB0aGlzLmRlZmluaXRpb24gPSBuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHt2YWx1ZTogc291cmNlLmRlZmluaXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IHNvdXJjZS50eXBlOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnRhdGlvbiddKSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5kb2N1bWVudGF0aW9ufSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2Uuc2VhcmNoUGFyYW0udHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHR5cGVSZXF1aXJlZENvZGluZygpOlNlYXJjaFBhcmFtVHlwZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFNlYXJjaFBhcmFtVHlwZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ25hbWUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG5hbWU6Zmhpci5GaGlyU3RyaW5nIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQucmVzdC5yZXNvdXJjZS5zZWFyY2hQYXJhbS5uYW1lOnN0cmluZycsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJuYW1lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmFtZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkZWZpbml0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVmaW5pdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd0eXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0eXBlOlNlYXJjaFBhcmFtVHlwZUNvZGVUeXBlIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQucmVzdC5yZXNvdXJjZS5zZWFyY2hQYXJhbS50eXBlOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZG9jdW1lbnRhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRvY3VtZW50YXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlT3BlcmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VPcGVyYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBoZXJlIFNIT1VMRCBiZSB0aGUgc2FtZSBhcyB0aGUgbmFtZSBpbiB0aGUgZGVmaW5pdGlvbiwgdW5sZXNzIHRoZXJlIGlzIGEgbmFtZSBjbGFzaCBhbmQgdGhlIG5hbWUgY2Fubm90IGJlIHVzZWQuIFRoZSBuYW1lIGRvZXMgbm90IGluY2x1ZGUgdGhlIFwiJFwiIHBvcnRpb24gdGhhdCBpcyBhbHdheXMgaW5jbHVkZWQgaW4gdGhlIFVSTC5cclxuICAgKi9cclxuICBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGJ1aWxkIGFuIEhUTUwgZm9ybSB0byBpbnZva2UgdGhlIG9wZXJhdGlvbiwgZm9yIGluc3RhbmNlLlxyXG4gICAqL1xyXG4gIGRlZmluaXRpb246IGZoaXIuRmhpckNhbm9uaWNhbHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERvY3VtZW50YXRpb24gdGhhdCBkZXNjcmliZXMgYW55dGhpbmcgc3BlY2lhbCBhYm91dCB0aGUgb3BlcmF0aW9uIGJlaGF2aW9yLCBwb3NzaWJseSBkZXRhaWxpbmcgZGlmZmVyZW50IGJlaGF2aW9yIGZvciBzeXN0ZW0sIHR5cGUgYW5kIGluc3RhbmNlLWxldmVsIGludm9jYXRpb24gb2YgdGhlIG9wZXJhdGlvbi5cclxuICAgKi9cclxuICBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9wZXJhdGlvbnMgbGlua2VkIGZyb20gQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnJlc291cmNlLm9wZXJhdGlvbiBtdXN0IGhhdmUgT3BlcmF0aW9uRGVmaW5pdGlvbi50eXBlID0gdHJ1ZSBvciBPcGVyYXRpb25EZWZpbml0aW9uLmluc3RhbmNlID0gdHJ1ZS4gICAgXHJcbiAqIElmIGFuIG9wZXJhdGlvbiB0aGF0IGlzIGxpc3RlZCBpbiBtdWx0aXBsZSBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2Uub3BlcmF0aW9uIChlLmcuIGZvciBkaWZmZXJlbnQgcmVzb3VyY2UgdHlwZXMpLCB0aGVuIGNsaWVudHMgc2hvdWxkIHVuZGVyc3RhbmQgdGhhdCB0aGUgb3BlcmF0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2UgdHlwZXMsIGFuZCB0aGF0IG1heSBiZSBhIHN1YnNldCBvZiB0aG9zZSBsaXN0ZWQgaW4gT3BlcmF0aW9uRGVmaW5pdGlvbi5yZXNvdXJjZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlT3BlcmF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZU9wZXJhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgaGVyZSBTSE9VTEQgYmUgdGhlIHNhbWUgYXMgdGhlIG5hbWUgaW4gdGhlIGRlZmluaXRpb24sIHVubGVzcyB0aGVyZSBpcyBhIG5hbWUgY2xhc2ggYW5kIHRoZSBuYW1lIGNhbm5vdCBiZSB1c2VkLiBUaGUgbmFtZSBkb2VzIG5vdCBpbmNsdWRlIHRoZSBcIiRcIiBwb3J0aW9uIHRoYXQgaXMgYWx3YXlzIGluY2x1ZGVkIGluIHRoZSBVUkwuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gYnVpbGQgYW4gSFRNTCBmb3JtIHRvIGludm9rZSB0aGUgb3BlcmF0aW9uLCBmb3IgaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRlZmluaXRpb246IGZoaXIuRmhpckNhbm9uaWNhbHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERvY3VtZW50YXRpb24gdGhhdCBkZXNjcmliZXMgYW55dGhpbmcgc3BlY2lhbCBhYm91dCB0aGUgb3BlcmF0aW9uIGJlaGF2aW9yLCBwb3NzaWJseSBkZXRhaWxpbmcgZGlmZmVyZW50IGJlaGF2aW9yIGZvciBzeXN0ZW0sIHR5cGUgYW5kIGluc3RhbmNlLWxldmVsIGludm9jYXRpb24gb2YgdGhlIG9wZXJhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlT3BlcmF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZU9wZXJhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkZWZpbml0aW9uJ10pIHsgdGhpcy5kZWZpbml0aW9uID0gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHNvdXJjZS5kZWZpbml0aW9ufSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRlZmluaXRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkb2N1bWVudGF0aW9uJ10pIHsgdGhpcy5kb2N1bWVudGF0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRvY3VtZW50YXRpb259KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWyduYW1lJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBuYW1lOmZoaXIuRmhpclN0cmluZyBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2Uub3BlcmF0aW9uLm5hbWU6c3RyaW5nJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcIm5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uYW1lLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2RlZmluaXRpb24nXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGRlZmluaXRpb246Zmhpci5GaGlyQ2Fub25pY2FsIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQucmVzdC5yZXNvdXJjZS5vcGVyYXRpb24uZGVmaW5pdGlvbjpjYW5vbmljYWwnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZGVmaW5pdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlZmluaXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZG9jdW1lbnRhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRvY3VtZW50YXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIHR5cGUgb2YgcmVzb3VyY2UgZXhwb3NlZCB2aWEgdGhlIHJlc3RmdWwgaW50ZXJmYWNlLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZmlsZSBhcHBsaWVzIHRvIGFsbCAgcmVzb3VyY2VzIG9mIHRoaXMgdHlwZSAtIGkuZS4gaXQgaXMgdGhlIHN1cGVyc2V0IG9mIHdoYXQgaXMgc3VwcG9ydGVkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgcHJvZmlsZT86IGZoaXIuRmhpckNhbm9uaWNhbHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN1cHBvcnRlZCBwcm9maWxlcyBhcmUgZGlmZmVyZW50IHRoYW4gdGhlIHByb2ZpbGUgdGhhdCBhcHBsaWVzIHRvIGEgcGFydGljdWxhciByZXNvdXJjZSBpbiAucmVzdC5yZXNvdXJjZS5wcm9maWxlLiBUaGUgcmVzb3VyY2UgcHJvZmlsZSBpcyBhIGdlbmVyYWwgc3RhdGVtZW50IG9mIHdoYXQgZmVhdHVyZXMgb2YgdGhlIHJlc291cmNlIGFyZSBzdXBwb3J0ZWQgb3ZlcmFsbCBieSB0aGUgc3lzdGVtIC0gdGhlIHN1bSB0b3RhbCBvZiB0aGUgZmFjaWxpdGllcyBpdCBzdXBwb3J0cy4gQSBzdXBwb3J0ZWQgcHJvZmlsZSBpcyBhIGRlZXBlciBzdGF0ZW1lbnQgYWJvdXQgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIGRhdGEgYW5kIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IHRoZSBzZXJ2ZXIgKG9yIHVzZWQgYnkgdGhlIGNsaWVudCkuIEEgdHlwaWNhbCBjYXNlIGlzIGEgbGFib3JhdG9yeSBzeXN0ZW0gdGhhdCBwcm9kdWNlcyBhIHNldCBvZiBkaWZmZXJlbnQgcmVwb3J0cyAtIHRoaXMgaXMgdGhlIGxpc3Qgb2YgdHlwZXMgb2YgZGF0YSB0aGF0IGl0IHB1Ymxpc2hlcy4gQSBrZXkgYXNwZWN0IG9mIGRlY2xhcmluZyBwcm9maWxlcyBoZXJlIGlzIHRoZSBxdWVzdGlvbiBvZiBob3cgdGhlIGNsaWVudCBjb252ZXJ0cyBrbm93bGVkZ2UgdGhhdCB0aGUgc2VydmVyIHB1Ymxpc2hlcyB0aGlzIGRhdGEgaW50byB3b3JraW5nIHdpdGggdGhlIGRhdGE7IHRoZSBjbGllbnQgY2FuIGluc3BlY3QgaW5kaXZpZHVhbCByZXNvdXJjZXMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhleSBjb25mb3JtIHRvIGEgcGFydGljdWxhciBwcm9maWxlLCBidXQgaG93IGRvZXMgaXQgZmluZCB0aGUgb25lcyB0aGF0IGRvPyBJdCBkb2VzIHNvIGJ5IHNlYXJjaGluZyB1c2luZyB0aGUgX3Byb2ZpbGUgcGFyYW1ldGVyLCBzbyBhbnkgcmVzb3VyY2VzIGxpc3RlZCBoZXJlIG11c3QgYmUgdmFsaWQgdmFsdWVzIGZvciB0aGUgX3Byb2ZpbGUgcmVzb3VyY2UgKHVzaW5nIHRoZSBpZGVudGlmaWVyIGluIHRoZSB0YXJnZXQgcHJvZmlsZSkuXHJcbiAgICovXHJcbiAgc3VwcG9ydGVkUHJvZmlsZT86IGZoaXIuRmhpckNhbm9uaWNhbFtdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZXNvdXJjZSB0eXBlIHVzZWQgYnkgdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbiBnZW5lcmFsLCBhIFJlc291cmNlIHdpbGwgb25seSBhcHBlYXIgaW4gYSBDYXBhYmlsaXR5U3RhdGVtZW50IGlmIHRoZSBzZXJ2ZXIgYWN0dWFsbHkgaGFzIHNvbWUgY2FwYWJpbGl0aWVzIC0gZS5nLiB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgaW50ZXJhY3Rpb24gc3VwcG9ydGVkLiBIb3dldmVyIGludGVyYWN0aW9ucyBjYW4gYmUgb21pdHRlZCB0byBzdXBwb3J0IHN1bW1hcml6YXRpb24gKF9zdW1tYXJ5ID0gdHJ1ZSkuXHJcbiAgICovXHJcbiAgaW50ZXJhY3Rpb24/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VJbnRlcmFjdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgYSBzZXJ2ZXIgc3VwcG9ydHMgdmVyc2lvbklkcyBjb3JyZWN0bHksIGl0IFNIT1VMRCBzdXBwb3J0IHZyZWFkIHRvbywgYnV0IGlzIG5vdCByZXF1aXJlZCB0byBkbyBzby5cclxuICAgKi9cclxuICB2ZXJzaW9uaW5nPzogVmVyc2lvbmluZ1BvbGljeUNvZGVUeXBlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBpcyB1c2VmdWwgdG8gc3VwcG9ydCB0aGUgdlJlYWQgb3BlcmF0aW9uIGZvciBjdXJyZW50IG9wZXJhdGlvbnMsIGV2ZW4gaWYgcGFzdCB2ZXJzaW9ucyBhcmVuJ3QgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHJlYWRIaXN0b3J5PzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd2luZyB0aGUgY2xpZW50cyB0byBjcmVhdGUgbmV3IGlkZW50aXRpZXMgb24gdGhlIHNlcnZlciBtZWFucyB0aGF0IHRoZSBzeXN0ZW0gYWRtaW5pc3RyYXRvciBuZWVkcyB0byBoYXZlIGNvbmZpZGVuY2UgdGhhdCB0aGUgY2xpZW50cyBkbyBub3QgY3JlYXRlIGNsYXNoaW5nIGlkZW50aXRpZXMgYmV0d2VlbiB0aGVtLiBPYnZpb3VzbHksIGlmIHRoZXJlIGlzIG9ubHkgb25lIGNsaWVudCwgdGhpcyB3b24ndCBoYXBwZW4uIFdoaWxlIGNyZWF0aW5nIGlkZW50aXRpZXMgb24gdGhlIGNsaWVudCBtZWFucyB0aGF0IHRoZSBjbGllbnRzIG5lZWQgdG8gYmUgbWFuYWdlZCwgaXQncyBtdWNoIG1vcmUgY29udmVuaWVudCBmb3IgbWFueSBzY2VuYXJpb3MgaWYgc3VjaCBtYW5hZ2VtZW50IGNhbiBiZSBwdXQgaW4gcGxhY2UuXHJcbiAgICovXHJcbiAgdXBkYXRlQ3JlYXRlPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb25kaXRpb25hbCBDcmVhdGUgaXMgbWFpbmx5IGFwcHJvcHJpYXRlIGZvciBpbnRlcmZhY2UgZW5naW5lIHNjcmlwdHMgY29udmVydGluZyBmcm9tIG90aGVyIGZvcm1hdHMsIHN1Y2ggYXMgdjIuXHJcbiAgICovXHJcbiAgY29uZGl0aW9uYWxDcmVhdGU/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbmRpdGlvbmFsIFJlYWQgaXMgbWFpbmx5IGFwcHJvcHJpYXRlIGZvciBpbnRlcmZhY2UgZW5naW5lIHNjcmlwdHMgY29udmVydGluZyBmcm9tIG90aGVyIGZvcm1hdHMsIHN1Y2ggYXMgdjIuXHJcbiAgICovXHJcbiAgY29uZGl0aW9uYWxSZWFkPzogQ29uZGl0aW9uYWxSZWFkU3RhdHVzQ29kZVR5cGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbmRpdGlvbmFsIFVwZGF0ZSBpcyBtYWlubHkgYXBwcm9wcmlhdGUgZm9yIGludGVyZmFjZSBlbmdpbmUgc2NyaXB0cyBjb252ZXJ0aW5nIGZyb20gb3RoZXIgZm9ybWF0cywgc3VjaCBhcyB2Mi5cclxuICAgKi9cclxuICBjb25kaXRpb25hbFVwZGF0ZT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29uZGl0aW9uYWwgRGVsZXRlIGlzIG1haW5seSBhcHByb3ByaWF0ZSBmb3IgaW50ZXJmYWNlIGVuZ2luZSBzY3JpcHRzIGNvbnZlcnRpbmcgZnJvbSBvdGhlciBmb3JtYXRzLCBzdWNoIGFzIHYyLlxyXG4gICAqL1xyXG4gIGNvbmRpdGlvbmFsRGVsZXRlPzogQ29uZGl0aW9uYWxEZWxldGVTdGF0dXNDb2RlVHlwZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzZXQgb2YgZmxhZ3MgdGhhdCBkZWZpbmVzIGhvdyByZWZlcmVuY2VzIGFyZSBzdXBwb3J0ZWQuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlUG9saWN5PzogUmVmZXJlbmNlSGFuZGxpbmdQb2xpY3lDb2RlVHlwZVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGxpc3QgaXMgZW1wdHksIHRoZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBpbmNsdWRlcy5cclxuICAgKi9cclxuICBzZWFyY2hJbmNsdWRlPzogZmhpci5GaGlyU3RyaW5nW118c3RyaW5nW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgbGlzdCBpcyBlbXB0eSwgdGhlIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHJldmVyc2UgaW5jbHVkZXMuXHJcbiAgICovXHJcbiAgc2VhcmNoUmV2SW5jbHVkZT86IGZoaXIuRmhpclN0cmluZ1tdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2VhcmNoIHBhcmFtZXRlcnMgc2hvdWxkIGluY2x1ZGUgdGhlIGNvbnRyb2wgc2VhcmNoIHBhcmFtZXRlcnMgc3VjaCBhcyBfc29ydCwgX2NvdW50LCBldGMuIHRoYXQgYWxzbyBhcHBseSB0byB0aGlzIHJlc291cmNlICh0aG91Z2ggbWFueSB3aWxsIGJlIGxpc3RlZCBhdCBbQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnNlYXJjaFBhcmFtXShjYXBhYmlsaXR5c3RhdGVtZW50LWRlZmluaXRpb25zLmh0bWwjQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnNlYXJjaFBhcmFtKSkuIFRoZSBiZWhhdmlvciBvZiBzb21lIHNlYXJjaCBwYXJhbWV0ZXJzIG1heSBiZSBmdXJ0aGVyIGRlc2NyaWJlZCBieSBvdGhlciBjb2RlIG9yIGV4dGVuc2lvbiBlbGVtZW50cywgb3IgbmFycmF0aXZlIHdpdGhpbiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgb3IgbGlua2VkIFtTZWFyY2hQYXJhbWV0ZXJdKHNlYXJjaHBhcmFtZXRlci5odG1sIykgZGVmaW5pdGlvbnMuXHJcbiAgICovXHJcbiAgc2VhcmNoUGFyYW0/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VTZWFyY2hQYXJhbUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3BlcmF0aW9ucyBsaW5rZWQgZnJvbSBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2Uub3BlcmF0aW9uIG11c3QgaGF2ZSBPcGVyYXRpb25EZWZpbml0aW9uLnR5cGUgPSB0cnVlIG9yIE9wZXJhdGlvbkRlZmluaXRpb24uaW5zdGFuY2UgPSB0cnVlLiAgICBcclxuICAgKiBJZiBhbiBvcGVyYXRpb24gdGhhdCBpcyBsaXN0ZWQgaW4gbXVsdGlwbGUgQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnJlc291cmNlLm9wZXJhdGlvbiAoZS5nLiBmb3IgZGlmZmVyZW50IHJlc291cmNlIHR5cGVzKSwgdGhlbiBjbGllbnRzIHNob3VsZCB1bmRlcnN0YW5kIHRoYXQgdGhlIG9wZXJhdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiB0aGUgc3BlY2lmaWVkIHJlc291cmNlIHR5cGVzLCBhbmQgdGhhdCBtYXkgYmUgYSBzdWJzZXQgb2YgdGhvc2UgbGlzdGVkIGluIE9wZXJhdGlvbkRlZmluaXRpb24ucmVzb3VyY2UuXHJcbiAgICovXHJcbiAgb3BlcmF0aW9uPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlT3BlcmF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1heCBvZiBvbmUgcmVwZXRpdGlvbiBwZXIgcmVzb3VyY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZSc7XHJcbiAgLyoqXHJcbiAgICogQSB0eXBlIG9mIHJlc291cmNlIGV4cG9zZWQgdmlhIHRoZSByZXN0ZnVsIGludGVyZmFjZS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyQ29kZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9maWxlIGFwcGxpZXMgdG8gYWxsICByZXNvdXJjZXMgb2YgdGhpcyB0eXBlIC0gaS5lLiBpdCBpcyB0aGUgc3VwZXJzZXQgb2Ygd2hhdCBpcyBzdXBwb3J0ZWQgYnkgdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZmlsZT86IGZoaXIuRmhpckNhbm9uaWNhbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3VwcG9ydGVkIHByb2ZpbGVzIGFyZSBkaWZmZXJlbnQgdGhhbiB0aGUgcHJvZmlsZSB0aGF0IGFwcGxpZXMgdG8gYSBwYXJ0aWN1bGFyIHJlc291cmNlIGluIC5yZXN0LnJlc291cmNlLnByb2ZpbGUuIFRoZSByZXNvdXJjZSBwcm9maWxlIGlzIGEgZ2VuZXJhbCBzdGF0ZW1lbnQgb2Ygd2hhdCBmZWF0dXJlcyBvZiB0aGUgcmVzb3VyY2UgYXJlIHN1cHBvcnRlZCBvdmVyYWxsIGJ5IHRoZSBzeXN0ZW0gLSB0aGUgc3VtIHRvdGFsIG9mIHRoZSBmYWNpbGl0aWVzIGl0IHN1cHBvcnRzLiBBIHN1cHBvcnRlZCBwcm9maWxlIGlzIGEgZGVlcGVyIHN0YXRlbWVudCBhYm91dCB0aGUgZnVuY3Rpb25hbGl0eSBvZiB0aGUgZGF0YSBhbmQgc2VydmljZXMgcHJvdmlkZWQgYnkgdGhlIHNlcnZlciAob3IgdXNlZCBieSB0aGUgY2xpZW50KS4gQSB0eXBpY2FsIGNhc2UgaXMgYSBsYWJvcmF0b3J5IHN5c3RlbSB0aGF0IHByb2R1Y2VzIGEgc2V0IG9mIGRpZmZlcmVudCByZXBvcnRzIC0gdGhpcyBpcyB0aGUgbGlzdCBvZiB0eXBlcyBvZiBkYXRhIHRoYXQgaXQgcHVibGlzaGVzLiBBIGtleSBhc3BlY3Qgb2YgZGVjbGFyaW5nIHByb2ZpbGVzIGhlcmUgaXMgdGhlIHF1ZXN0aW9uIG9mIGhvdyB0aGUgY2xpZW50IGNvbnZlcnRzIGtub3dsZWRnZSB0aGF0IHRoZSBzZXJ2ZXIgcHVibGlzaGVzIHRoaXMgZGF0YSBpbnRvIHdvcmtpbmcgd2l0aCB0aGUgZGF0YTsgdGhlIGNsaWVudCBjYW4gaW5zcGVjdCBpbmRpdmlkdWFsIHJlc291cmNlcyB0byBkZXRlcm1pbmUgd2hldGhlciB0aGV5IGNvbmZvcm0gdG8gYSBwYXJ0aWN1bGFyIHByb2ZpbGUsIGJ1dCBob3cgZG9lcyBpdCBmaW5kIHRoZSBvbmVzIHRoYXQgZG8/IEl0IGRvZXMgc28gYnkgc2VhcmNoaW5nIHVzaW5nIHRoZSBfcHJvZmlsZSBwYXJhbWV0ZXIsIHNvIGFueSByZXNvdXJjZXMgbGlzdGVkIGhlcmUgbXVzdCBiZSB2YWxpZCB2YWx1ZXMgZm9yIHRoZSBfcHJvZmlsZSByZXNvdXJjZSAodXNpbmcgdGhlIGlkZW50aWZpZXIgaW4gdGhlIHRhcmdldCBwcm9maWxlKS5cclxuICAgKi9cclxuICBwdWJsaWMgc3VwcG9ydGVkUHJvZmlsZT86IGZoaXIuRmhpckNhbm9uaWNhbFtdO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlc291cmNlIHR5cGUgdXNlZCBieSB0aGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluIGdlbmVyYWwsIGEgUmVzb3VyY2Ugd2lsbCBvbmx5IGFwcGVhciBpbiBhIENhcGFiaWxpdHlTdGF0ZW1lbnQgaWYgdGhlIHNlcnZlciBhY3R1YWxseSBoYXMgc29tZSBjYXBhYmlsaXRpZXMgLSBlLmcuIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBpbnRlcmFjdGlvbiBzdXBwb3J0ZWQuIEhvd2V2ZXIgaW50ZXJhY3Rpb25zIGNhbiBiZSBvbWl0dGVkIHRvIHN1cHBvcnQgc3VtbWFyaXphdGlvbiAoX3N1bW1hcnkgPSB0cnVlKS5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZXJhY3Rpb24/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VJbnRlcmFjdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIElmIGEgc2VydmVyIHN1cHBvcnRzIHZlcnNpb25JZHMgY29ycmVjdGx5LCBpdCBTSE9VTEQgc3VwcG9ydCB2cmVhZCB0b28sIGJ1dCBpcyBub3QgcmVxdWlyZWQgdG8gZG8gc28uXHJcbiAgICovXHJcbiAgcHVibGljIHZlcnNpb25pbmc/OiBWZXJzaW9uaW5nUG9saWN5Q29kZVR5cGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0IGlzIHVzZWZ1bCB0byBzdXBwb3J0IHRoZSB2UmVhZCBvcGVyYXRpb24gZm9yIGN1cnJlbnQgb3BlcmF0aW9ucywgZXZlbiBpZiBwYXN0IHZlcnNpb25zIGFyZW4ndCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYWRIaXN0b3J5PzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dpbmcgdGhlIGNsaWVudHMgdG8gY3JlYXRlIG5ldyBpZGVudGl0aWVzIG9uIHRoZSBzZXJ2ZXIgbWVhbnMgdGhhdCB0aGUgc3lzdGVtIGFkbWluaXN0cmF0b3IgbmVlZHMgdG8gaGF2ZSBjb25maWRlbmNlIHRoYXQgdGhlIGNsaWVudHMgZG8gbm90IGNyZWF0ZSBjbGFzaGluZyBpZGVudGl0aWVzIGJldHdlZW4gdGhlbS4gT2J2aW91c2x5LCBpZiB0aGVyZSBpcyBvbmx5IG9uZSBjbGllbnQsIHRoaXMgd29uJ3QgaGFwcGVuLiBXaGlsZSBjcmVhdGluZyBpZGVudGl0aWVzIG9uIHRoZSBjbGllbnQgbWVhbnMgdGhhdCB0aGUgY2xpZW50cyBuZWVkIHRvIGJlIG1hbmFnZWQsIGl0J3MgbXVjaCBtb3JlIGNvbnZlbmllbnQgZm9yIG1hbnkgc2NlbmFyaW9zIGlmIHN1Y2ggbWFuYWdlbWVudCBjYW4gYmUgcHV0IGluIHBsYWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cGRhdGVDcmVhdGU/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb25kaXRpb25hbCBDcmVhdGUgaXMgbWFpbmx5IGFwcHJvcHJpYXRlIGZvciBpbnRlcmZhY2UgZW5naW5lIHNjcmlwdHMgY29udmVydGluZyBmcm9tIG90aGVyIGZvcm1hdHMsIHN1Y2ggYXMgdjIuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbmRpdGlvbmFsQ3JlYXRlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29uZGl0aW9uYWwgUmVhZCBpcyBtYWlubHkgYXBwcm9wcmlhdGUgZm9yIGludGVyZmFjZSBlbmdpbmUgc2NyaXB0cyBjb252ZXJ0aW5nIGZyb20gb3RoZXIgZm9ybWF0cywgc3VjaCBhcyB2Mi5cclxuICAgKi9cclxuICBwdWJsaWMgY29uZGl0aW9uYWxSZWFkPzogQ29uZGl0aW9uYWxSZWFkU3RhdHVzQ29kZVR5cGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbmRpdGlvbmFsIFVwZGF0ZSBpcyBtYWlubHkgYXBwcm9wcmlhdGUgZm9yIGludGVyZmFjZSBlbmdpbmUgc2NyaXB0cyBjb252ZXJ0aW5nIGZyb20gb3RoZXIgZm9ybWF0cywgc3VjaCBhcyB2Mi5cclxuICAgKi9cclxuICBwdWJsaWMgY29uZGl0aW9uYWxVcGRhdGU/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb25kaXRpb25hbCBEZWxldGUgaXMgbWFpbmx5IGFwcHJvcHJpYXRlIGZvciBpbnRlcmZhY2UgZW5naW5lIHNjcmlwdHMgY29udmVydGluZyBmcm9tIG90aGVyIGZvcm1hdHMsIHN1Y2ggYXMgdjIuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbmRpdGlvbmFsRGVsZXRlPzogQ29uZGl0aW9uYWxEZWxldGVTdGF0dXNDb2RlVHlwZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzZXQgb2YgZmxhZ3MgdGhhdCBkZWZpbmVzIGhvdyByZWZlcmVuY2VzIGFyZSBzdXBwb3J0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZVBvbGljeT86IFJlZmVyZW5jZUhhbmRsaW5nUG9saWN5Q29kZVR5cGVbXTtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGxpc3QgaXMgZW1wdHksIHRoZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBpbmNsdWRlcy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VhcmNoSW5jbHVkZT86IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgbGlzdCBpcyBlbXB0eSwgdGhlIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHJldmVyc2UgaW5jbHVkZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHNlYXJjaFJldkluY2x1ZGU/OiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBUaGUgc2VhcmNoIHBhcmFtZXRlcnMgc2hvdWxkIGluY2x1ZGUgdGhlIGNvbnRyb2wgc2VhcmNoIHBhcmFtZXRlcnMgc3VjaCBhcyBfc29ydCwgX2NvdW50LCBldGMuIHRoYXQgYWxzbyBhcHBseSB0byB0aGlzIHJlc291cmNlICh0aG91Z2ggbWFueSB3aWxsIGJlIGxpc3RlZCBhdCBbQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnNlYXJjaFBhcmFtXShjYXBhYmlsaXR5c3RhdGVtZW50LWRlZmluaXRpb25zLmh0bWwjQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnNlYXJjaFBhcmFtKSkuIFRoZSBiZWhhdmlvciBvZiBzb21lIHNlYXJjaCBwYXJhbWV0ZXJzIG1heSBiZSBmdXJ0aGVyIGRlc2NyaWJlZCBieSBvdGhlciBjb2RlIG9yIGV4dGVuc2lvbiBlbGVtZW50cywgb3IgbmFycmF0aXZlIHdpdGhpbiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgb3IgbGlua2VkIFtTZWFyY2hQYXJhbWV0ZXJdKHNlYXJjaHBhcmFtZXRlci5odG1sIykgZGVmaW5pdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHNlYXJjaFBhcmFtPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlU2VhcmNoUGFyYW1bXTtcclxuICAvKipcclxuICAgKiBPcGVyYXRpb25zIGxpbmtlZCBmcm9tIENhcGFiaWxpdHlTdGF0ZW1lbnQucmVzdC5yZXNvdXJjZS5vcGVyYXRpb24gbXVzdCBoYXZlIE9wZXJhdGlvbkRlZmluaXRpb24udHlwZSA9IHRydWUgb3IgT3BlcmF0aW9uRGVmaW5pdGlvbi5pbnN0YW5jZSA9IHRydWUuICAgIFxyXG4gICAqIElmIGFuIG9wZXJhdGlvbiB0aGF0IGlzIGxpc3RlZCBpbiBtdWx0aXBsZSBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2Uub3BlcmF0aW9uIChlLmcuIGZvciBkaWZmZXJlbnQgcmVzb3VyY2UgdHlwZXMpLCB0aGVuIGNsaWVudHMgc2hvdWxkIHVuZGVyc3RhbmQgdGhhdCB0aGUgb3BlcmF0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2UgdHlwZXMsIGFuZCB0aGF0IG1heSBiZSBhIHN1YnNldCBvZiB0aG9zZSBsaXN0ZWQgaW4gT3BlcmF0aW9uRGVmaW5pdGlvbi5yZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgb3BlcmF0aW9uPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlT3BlcmF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLnR5cGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2ZpbGUnXSkgeyB0aGlzLnByb2ZpbGUgPSBuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHt2YWx1ZTogc291cmNlLnByb2ZpbGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3VwcG9ydGVkUHJvZmlsZSddKSB7IHRoaXMuc3VwcG9ydGVkUHJvZmlsZSA9IHNvdXJjZS5zdXBwb3J0ZWRQcm9maWxlLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1cHBvcnRlZFByb2ZpbGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnRhdGlvbiddKSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5kb2N1bWVudGF0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVyYWN0aW9uJ10pIHsgdGhpcy5pbnRlcmFjdGlvbiA9IHNvdXJjZS5pbnRlcmFjdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VJbnRlcmFjdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmludGVyYWN0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcnNpb25pbmcnXSkgeyB0aGlzLnZlcnNpb25pbmcgPSBzb3VyY2UudmVyc2lvbmluZzsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhZEhpc3RvcnknXSkgeyB0aGlzLnJlYWRIaXN0b3J5ID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UucmVhZEhpc3Rvcnl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndXBkYXRlQ3JlYXRlJ10pIHsgdGhpcy51cGRhdGVDcmVhdGUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS51cGRhdGVDcmVhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29uZGl0aW9uYWxDcmVhdGUnXSkgeyB0aGlzLmNvbmRpdGlvbmFsQ3JlYXRlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuY29uZGl0aW9uYWxDcmVhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29uZGl0aW9uYWxSZWFkJ10pIHsgdGhpcy5jb25kaXRpb25hbFJlYWQgPSBzb3VyY2UuY29uZGl0aW9uYWxSZWFkOyB9XHJcbiAgICBpZiAoc291cmNlWydjb25kaXRpb25hbFVwZGF0ZSddKSB7IHRoaXMuY29uZGl0aW9uYWxVcGRhdGUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5jb25kaXRpb25hbFVwZGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydjb25kaXRpb25hbERlbGV0ZSddKSB7IHRoaXMuY29uZGl0aW9uYWxEZWxldGUgPSBzb3VyY2UuY29uZGl0aW9uYWxEZWxldGU7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZVBvbGljeSddKSB7IHRoaXMucmVmZXJlbmNlUG9saWN5ID0gc291cmNlLnJlZmVyZW5jZVBvbGljeS5tYXAoKHgpID0+IHgpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWZlcmVuY2VQb2xpY3kgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VhcmNoSW5jbHVkZSddKSB7IHRoaXMuc2VhcmNoSW5jbHVkZSA9IHNvdXJjZS5zZWFyY2hJbmNsdWRlLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlYXJjaEluY2x1ZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VhcmNoUmV2SW5jbHVkZSddKSB7IHRoaXMuc2VhcmNoUmV2SW5jbHVkZSA9IHNvdXJjZS5zZWFyY2hSZXZJbmNsdWRlLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlYXJjaFJldkluY2x1ZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VhcmNoUGFyYW0nXSkgeyB0aGlzLnNlYXJjaFBhcmFtID0gc291cmNlLnNlYXJjaFBhcmFtLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VhcmNoUGFyYW0gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3BlcmF0aW9uJ10pIHsgdGhpcy5vcGVyYXRpb24gPSBzb3VyY2Uub3BlcmF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZU9wZXJhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm9wZXJhdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnJlc291cmNlLnR5cGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyB0eXBlUmVxdWlyZWRDb2RpbmcoKTpSZXNvdXJjZVR5cGVzQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gUmVzb3VyY2VUeXBlc0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgdmVyc2lvbmluZyAoQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnJlc291cmNlLnZlcnNpb25pbmcpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyB2ZXJzaW9uaW5nUmVxdWlyZWRDb2RpbmcoKTpWZXJzaW9uaW5nUG9saWN5Q29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gVmVyc2lvbmluZ1BvbGljeUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgY29uZGl0aW9uYWxSZWFkIChDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2UuY29uZGl0aW9uYWxSZWFkKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgY29uZGl0aW9uYWxSZWFkUmVxdWlyZWRDb2RpbmcoKTpDb25kaXRpb25hbFJlYWRTdGF0dXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBDb25kaXRpb25hbFJlYWRTdGF0dXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGNvbmRpdGlvbmFsRGVsZXRlIChDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2UuY29uZGl0aW9uYWxEZWxldGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBjb25kaXRpb25hbERlbGV0ZVJlcXVpcmVkQ29kaW5nKCk6Q29uZGl0aW9uYWxEZWxldGVTdGF0dXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBDb25kaXRpb25hbERlbGV0ZVN0YXR1c0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgcmVmZXJlbmNlUG9saWN5IChDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QucmVzb3VyY2UucmVmZXJlbmNlUG9saWN5KVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVmZXJlbmNlUG9saWN5UmVxdWlyZWRDb2RpbmcoKTpSZWZlcmVuY2VIYW5kbGluZ1BvbGljeUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFJlZmVyZW5jZUhhbmRsaW5nUG9saWN5Q29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkZoaXJDb2RlIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQucmVzdC5yZXNvdXJjZS50eXBlOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHJvZmlsZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByb2ZpbGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3VwcG9ydGVkUHJvZmlsZVwiXSkgeyB0aGlzLnN1cHBvcnRlZFByb2ZpbGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRvY3VtZW50YXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kb2N1bWVudGF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImludGVyYWN0aW9uXCJdKSB7IHRoaXMuaW50ZXJhY3Rpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInJlYWRIaXN0b3J5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVhZEhpc3RvcnkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widXBkYXRlQ3JlYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudXBkYXRlQ3JlYXRlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbmRpdGlvbmFsQ3JlYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29uZGl0aW9uYWxDcmVhdGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29uZGl0aW9uYWxVcGRhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb25kaXRpb25hbFVwZGF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzZWFyY2hJbmNsdWRlXCJdKSB7IHRoaXMuc2VhcmNoSW5jbHVkZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wic2VhcmNoUmV2SW5jbHVkZVwiXSkgeyB0aGlzLnNlYXJjaFJldkluY2x1ZGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInNlYXJjaFBhcmFtXCJdKSB7IHRoaXMuc2VhcmNoUGFyYW0uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm9wZXJhdGlvblwiXSkgeyB0aGlzLm9wZXJhdGlvbi5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdEludGVyYWN0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0SW50ZXJhY3Rpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGVkIGlkZW50aWZpZXIgb2YgdGhlIG9wZXJhdGlvbiwgc3VwcG9ydGVkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgY29kZTogU3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBHdWlkYW5jZSBzcGVjaWZpYyB0byB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBvcGVyYXRpb24sIHN1Y2ggYXMgbGltaXRhdGlvbnMgb24gdGhlIGtpbmQgb2YgdHJhbnNhY3Rpb25zIGFsbG93ZWQsIG9yIGluZm9ybWF0aW9uIGFib3V0IHN5c3RlbSB3aWRlIHNlYXJjaCBpcyBpbXBsZW1lbnRlZC5cclxuICAgKi9cclxuICBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc3BlY2lmaWNhdGlvbiBvZiByZXN0ZnVsIG9wZXJhdGlvbnMgc3VwcG9ydGVkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RJbnRlcmFjdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0SW50ZXJhY3Rpb24nO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgaWRlbnRpZmllciBvZiB0aGUgb3BlcmF0aW9uLCBzdXBwb3J0ZWQgYnkgdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogU3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBHdWlkYW5jZSBzcGVjaWZpYyB0byB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBvcGVyYXRpb24sIHN1Y2ggYXMgbGltaXRhdGlvbnMgb24gdGhlIGtpbmQgb2YgdHJhbnNhY3Rpb25zIGFsbG93ZWQsIG9yIGluZm9ybWF0aW9uIGFib3V0IHN5c3RlbSB3aWRlIHNlYXJjaCBpcyBpbXBsZW1lbnRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDYXBhYmlsaXR5U3RhdGVtZW50UmVzdEludGVyYWN0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2FwYWJpbGl0eVN0YXRlbWVudFJlc3RJbnRlcmFjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gc291cmNlLmNvZGU7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkb2N1bWVudGF0aW9uJ10pIHsgdGhpcy5kb2N1bWVudGF0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRvY3VtZW50YXRpb259KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGNvZGUgKENhcGFiaWxpdHlTdGF0ZW1lbnQucmVzdC5pbnRlcmFjdGlvbi5jb2RlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgY29kZVJlcXVpcmVkQ29kaW5nKCk6U3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gU3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snY29kZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgY29kZTpTeXN0ZW1SZXN0ZnVsSW50ZXJhY3Rpb25Db2RlVHlwZSBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3QuaW50ZXJhY3Rpb24uY29kZTpjb2RlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImRvY3VtZW50YXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kb2N1bWVudGF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3QgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHdoZXRoZXIgdGhpcyBwb3J0aW9uIG9mIHRoZSBzdGF0ZW1lbnQgaXMgZGVzY3JpYmluZyB0aGUgYWJpbGl0eSB0byBpbml0aWF0ZSBvciByZWNlaXZlIHJlc3RmdWwgb3BlcmF0aW9ucy5cclxuICAgKi9cclxuICBtb2RlOiBSZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBzeXN0ZW0ncyByZXN0ZnVsIGNhcGFiaWxpdGllcyB0aGF0IGFwcGx5IGFjcm9zcyBhbGwgYXBwbGljYXRpb25zLCBzdWNoIGFzIHNlY3VyaXR5LlxyXG4gICAqL1xyXG4gIGRvY3VtZW50YXRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHNlY3VyaXR5IGltcGxlbWVudGF0aW9uIGZyb20gYW4gaW50ZXJmYWNlIHBlcnNwZWN0aXZlIC0gd2hhdCBhIGNsaWVudCBuZWVkcyB0byBrbm93LlxyXG4gICAqL1xyXG4gIHNlY3VyaXR5PzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdFNlY3VyaXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF4IG9mIG9uZSByZXBldGl0aW9uIHBlciByZXNvdXJjZSB0eXBlLlxyXG4gICAqL1xyXG4gIHJlc291cmNlPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNwZWNpZmljYXRpb24gb2YgcmVzdGZ1bCBvcGVyYXRpb25zIHN1cHBvcnRlZCBieSB0aGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIGludGVyYWN0aW9uPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdEludGVyYWN0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHksIHRoZSBvbmx5IHNlYXJjaCBwYXJhbWV0ZXJzIHN1cHBvcnRlZCBmb3IgYWxsIHNlYXJjaGVzIGFyZSB0aG9zZSB0aGF0IGFwcGx5IHRvIGFsbCByZXNvdXJjZXMgLSB0YWdzLCBwcm9maWxlcywgdGV4dCBzZWFyY2ggZXRjLiBUaGVzZSBzZWFyY2ggcGFyYW1ldGVycyBzaG91bGQgaW5jbHVkZSB0aGUgY29udHJvbCBzZWFyY2ggcGFyYW1ldGVycyBzdWNoIGFzIF9zb3J0LCBfY291bnQsIGV0Yy4gdGhhdCBhbHNvIGFwcGx5IHRvIHRoaXMgcmVzb3VyY2UgKHRob3VnaCBtYW55IHdpbGwgYmUgbGlzdGVkIGF0IFtDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3Quc2VhcmNoUGFyYW1dKGNhcGFiaWxpdHlzdGF0ZW1lbnQtZGVmaW5pdGlvbnMuaHRtbCNDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3Quc2VhcmNoUGFyYW0pKS4gVGhlIGJlaGF2aW9yIG9mIHNvbWUgc2VhcmNoIHBhcmFtZXRlcnMgbWF5IGJlIGZ1cnRoZXIgZGVzY3JpYmVkIGJ5IG90aGVyIGNvZGUgb3IgZXh0ZW5zaW9uIGVsZW1lbnRzLCBvciBuYXJyYXRpdmUgd2l0aGluIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCBvciBsaW5rZWQgW1NlYXJjaFBhcmFtZXRlcl0oc2VhcmNocGFyYW1ldGVyLmh0bWwjKSBkZWZpbml0aW9ucy5cclxuICAgKi9cclxuICBzZWFyY2hQYXJhbT86IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3Qub3BlcmF0aW9uIGlzIGZvciBvcGVyYXRpb25zIGludm9rZWQgYXQgdGhlIHN5c3RlbSBsZXZlbCwgb3IgZm9yIG9wZXJhdGlvbnMgdGhhdCBhcmUgc3VwcG9ydGVkIGFjcm9zcyBtdWx0aXBsZSByZXNvdXJjZSB0eXBlcy4gT3BlcmF0aW9ucyBsaW5rZWQgZnJvbSBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3Qub3BlcmF0aW9uIG11c3QgaGF2ZSBPcGVyYXRpb25EZWZpbml0aW9uLnN5c3RlbSA9IHRydWUsIG9yIG1vcmUgdGhhbiBvbmUgT3BlcmF0aW9uLnJlc291cmNlLlxyXG4gICAqL1xyXG4gIG9wZXJhdGlvbj86IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZU9wZXJhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXQgcHJlc2VudCwgdGhlIG9ubHkgZGVmaW5lZCBjb21wYXJ0bWVudHMgYXJlIGF0IFtDb21wYXJ0bWVudERlZmluaXRpb25dKGNvbXBhcnRtZW50ZGVmaW5pdGlvbi5odG1sKS5cclxuICAgKi9cclxuICBjb21wYXJ0bWVudD86IGZoaXIuRmhpckNhbm9uaWNhbFtdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIE11bHRpcGxlIHJlcGV0aXRpb25zIGFsbG93IGRlZmluaXRpb24gb2YgYm90aCBjbGllbnQgYW5kL29yIHNlcnZlciBiZWhhdmlvcnMgb3IgcG9zc2libHkgYmVoYXZpb3JzIHVuZGVyIGRpZmZlcmVudCBjb25maWd1cmF0aW9uIHNldHRpbmdzIChmb3Igc29mdHdhcmUgb3IgcmVxdWlyZW1lbnRzIHN0YXRlbWVudHMpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3QnO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgd2hldGhlciB0aGlzIHBvcnRpb24gb2YgdGhlIHN0YXRlbWVudCBpcyBkZXNjcmliaW5nIHRoZSBhYmlsaXR5IHRvIGluaXRpYXRlIG9yIHJlY2VpdmUgcmVzdGZ1bCBvcGVyYXRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RlOiBSZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBzeXN0ZW0ncyByZXN0ZnVsIGNhcGFiaWxpdGllcyB0aGF0IGFwcGx5IGFjcm9zcyBhbGwgYXBwbGljYXRpb25zLCBzdWNoIGFzIHNlY3VyaXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHNlY3VyaXR5IGltcGxlbWVudGF0aW9uIGZyb20gYW4gaW50ZXJmYWNlIHBlcnNwZWN0aXZlIC0gd2hhdCBhIGNsaWVudCBuZWVkcyB0byBrbm93LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWN1cml0eT86IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RTZWN1cml0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF4IG9mIG9uZSByZXBldGl0aW9uIHBlciByZXNvdXJjZSB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNvdXJjZT86IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZVtdO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2lmaWNhdGlvbiBvZiByZXN0ZnVsIG9wZXJhdGlvbnMgc3VwcG9ydGVkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIGludGVyYWN0aW9uPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdEludGVyYWN0aW9uW107XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCB0aGUgb25seSBzZWFyY2ggcGFyYW1ldGVycyBzdXBwb3J0ZWQgZm9yIGFsbCBzZWFyY2hlcyBhcmUgdGhvc2UgdGhhdCBhcHBseSB0byBhbGwgcmVzb3VyY2VzIC0gdGFncywgcHJvZmlsZXMsIHRleHQgc2VhcmNoIGV0Yy4gVGhlc2Ugc2VhcmNoIHBhcmFtZXRlcnMgc2hvdWxkIGluY2x1ZGUgdGhlIGNvbnRyb2wgc2VhcmNoIHBhcmFtZXRlcnMgc3VjaCBhcyBfc29ydCwgX2NvdW50LCBldGMuIHRoYXQgYWxzbyBhcHBseSB0byB0aGlzIHJlc291cmNlICh0aG91Z2ggbWFueSB3aWxsIGJlIGxpc3RlZCBhdCBbQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnNlYXJjaFBhcmFtXShjYXBhYmlsaXR5c3RhdGVtZW50LWRlZmluaXRpb25zLmh0bWwjQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0LnNlYXJjaFBhcmFtKSkuIFRoZSBiZWhhdmlvciBvZiBzb21lIHNlYXJjaCBwYXJhbWV0ZXJzIG1heSBiZSBmdXJ0aGVyIGRlc2NyaWJlZCBieSBvdGhlciBjb2RlIG9yIGV4dGVuc2lvbiBlbGVtZW50cywgb3IgbmFycmF0aXZlIHdpdGhpbiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgb3IgbGlua2VkIFtTZWFyY2hQYXJhbWV0ZXJdKHNlYXJjaHBhcmFtZXRlci5odG1sIykgZGVmaW5pdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHNlYXJjaFBhcmFtPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlU2VhcmNoUGFyYW1bXTtcclxuICAvKipcclxuICAgKiBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3Qub3BlcmF0aW9uIGlzIGZvciBvcGVyYXRpb25zIGludm9rZWQgYXQgdGhlIHN5c3RlbSBsZXZlbCwgb3IgZm9yIG9wZXJhdGlvbnMgdGhhdCBhcmUgc3VwcG9ydGVkIGFjcm9zcyBtdWx0aXBsZSByZXNvdXJjZSB0eXBlcy4gT3BlcmF0aW9ucyBsaW5rZWQgZnJvbSBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc3Qub3BlcmF0aW9uIG11c3QgaGF2ZSBPcGVyYXRpb25EZWZpbml0aW9uLnN5c3RlbSA9IHRydWUsIG9yIG1vcmUgdGhhbiBvbmUgT3BlcmF0aW9uLnJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcGVyYXRpb24/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0UmVzb3VyY2VPcGVyYXRpb25bXTtcclxuICAvKipcclxuICAgKiBBdCBwcmVzZW50LCB0aGUgb25seSBkZWZpbmVkIGNvbXBhcnRtZW50cyBhcmUgYXQgW0NvbXBhcnRtZW50RGVmaW5pdGlvbl0oY29tcGFydG1lbnRkZWZpbml0aW9uLmh0bWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21wYXJ0bWVudD86IGZoaXIuRmhpckNhbm9uaWNhbFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2FwYWJpbGl0eVN0YXRlbWVudFJlc3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbW9kZSddKSB7IHRoaXMubW9kZSA9IHNvdXJjZS5tb2RlOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnRhdGlvbiddKSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5kb2N1bWVudGF0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlY3VyaXR5J10pIHsgdGhpcy5zZWN1cml0eSA9IG5ldyBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0U2VjdXJpdHkoc291cmNlLnNlY3VyaXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzb3VyY2UnXSkgeyB0aGlzLnJlc291cmNlID0gc291cmNlLnJlc291cmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3RSZXNvdXJjZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlc291cmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVyYWN0aW9uJ10pIHsgdGhpcy5pbnRlcmFjdGlvbiA9IHNvdXJjZS5pbnRlcmFjdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0SW50ZXJhY3Rpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnRlcmFjdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzZWFyY2hQYXJhbSddKSB7IHRoaXMuc2VhcmNoUGFyYW0gPSBzb3VyY2Uuc2VhcmNoUGFyYW0ubWFwKCh4KSA9PiBuZXcgZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlU2VhcmNoUGFyYW0oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZWFyY2hQYXJhbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvcGVyYXRpb24nXSkgeyB0aGlzLm9wZXJhdGlvbiA9IHNvdXJjZS5vcGVyYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdFJlc291cmNlT3BlcmF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3BlcmF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbXBhcnRtZW50J10pIHsgdGhpcy5jb21wYXJ0bWVudCA9IHNvdXJjZS5jb21wYXJ0bWVudC5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb21wYXJ0bWVudCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgbW9kZSAoQ2FwYWJpbGl0eVN0YXRlbWVudC5yZXN0Lm1vZGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBtb2RlUmVxdWlyZWRDb2RpbmcoKTpSZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBSZXN0ZnVsQ2FwYWJpbGl0eU1vZGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydtb2RlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBtb2RlOlJlc3RmdWxDYXBhYmlsaXR5TW9kZUNvZGVUeXBlIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQucmVzdC5tb2RlOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZG9jdW1lbnRhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRvY3VtZW50YXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic2VjdXJpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zZWN1cml0eS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJyZXNvdXJjZVwiXSkgeyB0aGlzLnJlc291cmNlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJpbnRlcmFjdGlvblwiXSkgeyB0aGlzLmludGVyYWN0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJzZWFyY2hQYXJhbVwiXSkgeyB0aGlzLnNlYXJjaFBhcmFtLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJvcGVyYXRpb25cIl0pIHsgdGhpcy5vcGVyYXRpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImNvbXBhcnRtZW50XCJdKSB7IHRoaXMuY29tcGFydG1lbnQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2FwYWJpbGl0eVN0YXRlbWVudE1lc3NhZ2luZ0VuZHBvaW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdFbmRwb2ludEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgbGlzdCBvZiB0aGUgbWVzc2FnaW5nIHRyYW5zcG9ydCBwcm90b2NvbChzKSBpZGVudGlmaWVycywgc3VwcG9ydGVkIGJ5IHRoaXMgZW5kcG9pbnQuXHJcbiAgICovXHJcbiAgcHJvdG9jb2w6IGZoaXIuQ29kaW5nQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuZXR3b3JrIGFkZHJlc3Mgb2YgdGhlIGVuZHBvaW50LiBGb3Igc29sdXRpb25zIHRoYXQgZG8gbm90IHVzZSBuZXR3b3JrIGFkZHJlc3NlcyBmb3Igcm91dGluZywgaXQgY2FuIGJlIGp1c3QgYW4gaWRlbnRpZmllci5cclxuICAgKi9cclxuICBhZGRyZXNzOiBmaGlyLkZoaXJVcmx8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFuIGVuZHBvaW50IChuZXR3b3JrIGFjY2Vzc2libGUgYWRkcmVzcykgdG8gd2hpY2ggbWVzc2FnZXMgYW5kL29yIHJlcGxpZXMgYXJlIHRvIGJlIHNlbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0eVN0YXRlbWVudE1lc3NhZ2luZ0VuZHBvaW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudE1lc3NhZ2luZ0VuZHBvaW50JztcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgdGhlIG1lc3NhZ2luZyB0cmFuc3BvcnQgcHJvdG9jb2wocykgaWRlbnRpZmllcnMsIHN1cHBvcnRlZCBieSB0aGlzIGVuZHBvaW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm90b2NvbDogZmhpci5Db2Rpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgbmV0d29yayBhZGRyZXNzIG9mIHRoZSBlbmRwb2ludC4gRm9yIHNvbHV0aW9ucyB0aGF0IGRvIG5vdCB1c2UgbmV0d29yayBhZGRyZXNzZXMgZm9yIHJvdXRpbmcsIGl0IGNhbiBiZSBqdXN0IGFuIGlkZW50aWZpZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZHJlc3M6IGZoaXIuRmhpclVybHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdFbmRwb2ludCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdFbmRwb2ludEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydwcm90b2NvbCddKSB7IHRoaXMucHJvdG9jb2wgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnByb3RvY29sKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvdG9jb2wgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10pIHsgdGhpcy5hZGRyZXNzID0gbmV3IGZoaXIuRmhpclVybCh7dmFsdWU6IHNvdXJjZS5hZGRyZXNzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFkZHJlc3MgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciBwcm90b2NvbCAoQ2FwYWJpbGl0eVN0YXRlbWVudC5tZXNzYWdpbmcuZW5kcG9pbnQucHJvdG9jb2wpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBwcm90b2NvbEV4dGVuc2libGVDb2RpbmcoKTpNZXNzYWdlVHJhbnNwb3J0Q29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gTWVzc2FnZVRyYW5zcG9ydENvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3Byb3RvY29sJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwcm90b2NvbDpmaGlyLkNvZGluZyBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50Lm1lc3NhZ2luZy5lbmRwb2ludC5wcm90b2NvbDpDb2RpbmcnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicHJvdG9jb2xcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcm90b2NvbC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydhZGRyZXNzJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBhZGRyZXNzOmZoaXIuRmhpclVybCBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50Lm1lc3NhZ2luZy5lbmRwb2ludC5hZGRyZXNzOnVybCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJhZGRyZXNzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYWRkcmVzcy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdTdXBwb3J0ZWRNZXNzYWdlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdTdXBwb3J0ZWRNZXNzYWdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vZGUgb2YgdGhpcyBldmVudCBkZWNsYXJhdGlvbiAtIHdoZXRoZXIgYXBwbGljYXRpb24gaXMgc2VuZGVyIG9yIHJlY2VpdmVyLlxyXG4gICAqL1xyXG4gIG1vZGU6IEV2ZW50Q2FwYWJpbGl0eU1vZGVDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFBvaW50cyB0byBhIG1lc3NhZ2UgZGVmaW5pdGlvbiB0aGF0IGlkZW50aWZpZXMgdGhlIG1lc3NhZ2luZyBldmVudCwgbWVzc2FnZSBzdHJ1Y3R1cmUsIGFsbG93ZWQgcmVzcG9uc2VzLCBldGMuXHJcbiAgICovXHJcbiAgZGVmaW5pdGlvbjogZmhpci5GaGlyQ2Fub25pY2FsfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGlzIGlzIGEgcHJvcG9zZWQgYWx0ZXJuYXRpdmUgdG8gdGhlIG1lc3NhZ2luZy5ldmVudCBzdHJ1Y3R1cmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0eVN0YXRlbWVudE1lc3NhZ2luZ1N1cHBvcnRlZE1lc3NhZ2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDYXBhYmlsaXR5U3RhdGVtZW50TWVzc2FnaW5nU3VwcG9ydGVkTWVzc2FnZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vZGUgb2YgdGhpcyBldmVudCBkZWNsYXJhdGlvbiAtIHdoZXRoZXIgYXBwbGljYXRpb24gaXMgc2VuZGVyIG9yIHJlY2VpdmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RlOiBFdmVudENhcGFiaWxpdHlNb2RlQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBQb2ludHMgdG8gYSBtZXNzYWdlIGRlZmluaXRpb24gdGhhdCBpZGVudGlmaWVzIHRoZSBtZXNzYWdpbmcgZXZlbnQsIG1lc3NhZ2Ugc3RydWN0dXJlLCBhbGxvd2VkIHJlc3BvbnNlcywgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWZpbml0aW9uOiBmaGlyLkZoaXJDYW5vbmljYWx8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDYXBhYmlsaXR5U3RhdGVtZW50TWVzc2FnaW5nU3VwcG9ydGVkTWVzc2FnZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdTdXBwb3J0ZWRNZXNzYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21vZGUnXSkgeyB0aGlzLm1vZGUgPSBzb3VyY2UubW9kZTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RlZmluaXRpb24nXSkgeyB0aGlzLmRlZmluaXRpb24gPSBuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHt2YWx1ZTogc291cmNlLmRlZmluaXRpb259KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVmaW5pdGlvbiA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBtb2RlIChDYXBhYmlsaXR5U3RhdGVtZW50Lm1lc3NhZ2luZy5zdXBwb3J0ZWRNZXNzYWdlLm1vZGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBtb2RlUmVxdWlyZWRDb2RpbmcoKTpFdmVudENhcGFiaWxpdHlNb2RlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRXZlbnRDYXBhYmlsaXR5TW9kZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ21vZGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG1vZGU6RXZlbnRDYXBhYmlsaXR5TW9kZUNvZGVUeXBlIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQubWVzc2FnaW5nLnN1cHBvcnRlZE1lc3NhZ2UubW9kZTpjb2RlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXNbJ2RlZmluaXRpb24nXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGRlZmluaXRpb246Zmhpci5GaGlyQ2Fub25pY2FsIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQubWVzc2FnaW5nLnN1cHBvcnRlZE1lc3NhZ2UuZGVmaW5pdGlvbjpjYW5vbmljYWwnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZGVmaW5pdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlZmluaXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDYXBhYmlsaXR5U3RhdGVtZW50TWVzc2FnaW5nIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbiBlbmRwb2ludCAobmV0d29yayBhY2Nlc3NpYmxlIGFkZHJlc3MpIHRvIHdoaWNoIG1lc3NhZ2VzIGFuZC9vciByZXBsaWVzIGFyZSB0byBiZSBzZW50LlxyXG4gICAqL1xyXG4gIGVuZHBvaW50PzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50TWVzc2FnaW5nRW5kcG9pbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgdmFsdWUgaXMgbWlzc2luZyB0aGVuIHRoZSBhcHBsaWNhdGlvbiBkb2VzIG5vdCBpbXBsZW1lbnQgKHJlY2VpdmVyKSBvciBkZXBlbmQgb24gKHNlbmRlcikgcmVsaWFibGUgbWVzc2FnaW5nLlxyXG4gICAqL1xyXG4gIHJlbGlhYmxlQ2FjaGU/OiBmaGlyLkZoaXJVbnNpZ25lZEludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERvY3VtZW50YXRpb24gYWJvdXQgdGhlIHN5c3RlbSdzIG1lc3NhZ2luZyBjYXBhYmlsaXRpZXMgZm9yIHRoaXMgZW5kcG9pbnQgbm90IG90aGVyd2lzZSBkb2N1bWVudGVkIGJ5IHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudC4gIEZvciBleGFtcGxlLCB0aGUgcHJvY2VzcyBmb3IgYmVjb21pbmcgYW4gYXV0aG9yaXplZCBtZXNzYWdpbmcgZXhjaGFuZ2UgcGFydG5lci5cclxuICAgKi9cclxuICBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGEgcHJvcG9zZWQgYWx0ZXJuYXRpdmUgdG8gdGhlIG1lc3NhZ2luZy5ldmVudCBzdHJ1Y3R1cmUuXHJcbiAgICovXHJcbiAgc3VwcG9ydGVkTWVzc2FnZT86IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudE1lc3NhZ2luZ1N1cHBvcnRlZE1lc3NhZ2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTXVsdGlwbGUgcmVwZXRpdGlvbnMgYWxsb3cgdGhlIGRvY3VtZW50YXRpb24gb2YgbXVsdGlwbGUgZW5kcG9pbnRzIHBlciBzb2x1dGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYXBhYmlsaXR5U3RhdGVtZW50TWVzc2FnaW5nIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudE1lc3NhZ2luZyc7XHJcbiAgLyoqXHJcbiAgICogQW4gZW5kcG9pbnQgKG5ldHdvcmsgYWNjZXNzaWJsZSBhZGRyZXNzKSB0byB3aGljaCBtZXNzYWdlcyBhbmQvb3IgcmVwbGllcyBhcmUgdG8gYmUgc2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgZW5kcG9pbnQ/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdFbmRwb2ludFtdO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgdmFsdWUgaXMgbWlzc2luZyB0aGVuIHRoZSBhcHBsaWNhdGlvbiBkb2VzIG5vdCBpbXBsZW1lbnQgKHJlY2VpdmVyKSBvciBkZXBlbmQgb24gKHNlbmRlcikgcmVsaWFibGUgbWVzc2FnaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxpYWJsZUNhY2hlPzogZmhpci5GaGlyVW5zaWduZWRJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERvY3VtZW50YXRpb24gYWJvdXQgdGhlIHN5c3RlbSdzIG1lc3NhZ2luZyBjYXBhYmlsaXRpZXMgZm9yIHRoaXMgZW5kcG9pbnQgbm90IG90aGVyd2lzZSBkb2N1bWVudGVkIGJ5IHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudC4gIEZvciBleGFtcGxlLCB0aGUgcHJvY2VzcyBmb3IgYmVjb21pbmcgYW4gYXV0aG9yaXplZCBtZXNzYWdpbmcgZXhjaGFuZ2UgcGFydG5lci5cclxuICAgKi9cclxuICBwdWJsaWMgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGEgcHJvcG9zZWQgYWx0ZXJuYXRpdmUgdG8gdGhlIG1lc3NhZ2luZy5ldmVudCBzdHJ1Y3R1cmUuXHJcbiAgICovXHJcbiAgcHVibGljIHN1cHBvcnRlZE1lc3NhZ2U/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdTdXBwb3J0ZWRNZXNzYWdlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2FwYWJpbGl0eVN0YXRlbWVudE1lc3NhZ2luZyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZW5kcG9pbnQnXSkgeyB0aGlzLmVuZHBvaW50ID0gc291cmNlLmVuZHBvaW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudE1lc3NhZ2luZ0VuZHBvaW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZW5kcG9pbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVsaWFibGVDYWNoZSddKSB7IHRoaXMucmVsaWFibGVDYWNoZSA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludCh7dmFsdWU6IHNvdXJjZS5yZWxpYWJsZUNhY2hlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RvY3VtZW50YXRpb24nXSkgeyB0aGlzLmRvY3VtZW50YXRpb24gPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuZG9jdW1lbnRhdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydzdXBwb3J0ZWRNZXNzYWdlJ10pIHsgdGhpcy5zdXBwb3J0ZWRNZXNzYWdlID0gc291cmNlLnN1cHBvcnRlZE1lc3NhZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50TWVzc2FnaW5nU3VwcG9ydGVkTWVzc2FnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1cHBvcnRlZE1lc3NhZ2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJlbmRwb2ludFwiXSkgeyB0aGlzLmVuZHBvaW50LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJyZWxpYWJsZUNhY2hlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVsaWFibGVDYWNoZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkb2N1bWVudGF0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZG9jdW1lbnRhdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdXBwb3J0ZWRNZXNzYWdlXCJdKSB7IHRoaXMuc3VwcG9ydGVkTWVzc2FnZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDYXBhYmlsaXR5U3RhdGVtZW50RG9jdW1lbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FwYWJpbGl0eVN0YXRlbWVudERvY3VtZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogTW9kZSBvZiB0aGlzIGRvY3VtZW50IGRlY2xhcmF0aW9uIC0gd2hldGhlciBhbiBhcHBsaWNhdGlvbiBpcyBhIHByb2R1Y2VyIG9yIGNvbnN1bWVyLlxyXG4gICAqL1xyXG4gIG1vZGU6IERvY3VtZW50TW9kZUNvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiBob3cgdGhlIGFwcGxpY2F0aW9uIHN1cHBvcnRzIG9yIHVzZXMgdGhlIHNwZWNpZmllZCBkb2N1bWVudCBwcm9maWxlLiAgRm9yIGV4YW1wbGUsIHdoZW4gZG9jdW1lbnRzIGFyZSBjcmVhdGVkLCB3aGF0IGFjdGlvbiBpcyB0YWtlbiB3aXRoIGNvbnN1bWVkIGRvY3VtZW50cywgZXRjLlxyXG4gICAqL1xyXG4gIGRvY3VtZW50YXRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9maWxlIGlzIGFjdHVhbGx5IG9uIHRoZSBCdW5kbGUuXHJcbiAgICovXHJcbiAgcHJvZmlsZTogZmhpci5GaGlyQ2Fub25pY2FsfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGRvY3VtZW50IGRlZmluaXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0eVN0YXRlbWVudERvY3VtZW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudERvY3VtZW50JztcclxuICAvKipcclxuICAgKiBNb2RlIG9mIHRoaXMgZG9jdW1lbnQgZGVjbGFyYXRpb24gLSB3aGV0aGVyIGFuIGFwcGxpY2F0aW9uIGlzIGEgcHJvZHVjZXIgb3IgY29uc3VtZXIuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGU6IERvY3VtZW50TW9kZUNvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiBob3cgdGhlIGFwcGxpY2F0aW9uIHN1cHBvcnRzIG9yIHVzZXMgdGhlIHNwZWNpZmllZCBkb2N1bWVudCBwcm9maWxlLiAgRm9yIGV4YW1wbGUsIHdoZW4gZG9jdW1lbnRzIGFyZSBjcmVhdGVkLCB3aGF0IGFjdGlvbiBpcyB0YWtlbiB3aXRoIGNvbnN1bWVkIGRvY3VtZW50cywgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9maWxlIGlzIGFjdHVhbGx5IG9uIHRoZSBCdW5kbGUuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2ZpbGU6IGZoaXIuRmhpckNhbm9uaWNhbHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENhcGFiaWxpdHlTdGF0ZW1lbnREb2N1bWVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENhcGFiaWxpdHlTdGF0ZW1lbnREb2N1bWVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydtb2RlJ10pIHsgdGhpcy5tb2RlID0gc291cmNlLm1vZGU7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkb2N1bWVudGF0aW9uJ10pIHsgdGhpcy5kb2N1bWVudGF0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRvY3VtZW50YXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZmlsZSddKSB7IHRoaXMucHJvZmlsZSA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiBzb3VyY2UucHJvZmlsZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9maWxlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIG1vZGUgKENhcGFiaWxpdHlTdGF0ZW1lbnQuZG9jdW1lbnQubW9kZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG1vZGVSZXF1aXJlZENvZGluZygpOkRvY3VtZW50TW9kZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIERvY3VtZW50TW9kZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ21vZGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG1vZGU6RG9jdW1lbnRNb2RlQ29kZVR5cGUgZmhpcjogQ2FwYWJpbGl0eVN0YXRlbWVudC5kb2N1bWVudC5tb2RlOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZG9jdW1lbnRhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRvY3VtZW50YXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sncHJvZmlsZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcHJvZmlsZTpmaGlyLkZoaXJDYW5vbmljYWwgZmhpcjogQ2FwYWJpbGl0eVN0YXRlbWVudC5kb2N1bWVudC5wcm9maWxlOmNhbm9uaWNhbCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm9maWxlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHJvZmlsZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENhcGFiaWxpdHlTdGF0ZW1lbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FwYWJpbGl0eVN0YXRlbWVudEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkNhcGFiaWxpdHlTdGF0ZW1lbnRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FuIGJlIGEgdXJuOnV1aWQ6IG9yIGEgdXJuOm9pZDogYnV0IHJlYWwgaHR0cDogYWRkcmVzc2VzIGFyZSBwcmVmZXJyZWQuICBNdWx0aXBsZSBpbnN0YW5jZXMgbWF5IHNoYXJlIHRoZSBzYW1lIFVSTCBpZiB0aGV5IGhhdmUgYSBkaXN0aW5jdCB2ZXJzaW9uLlxyXG4gICAqIFRoZSBkZXRlcm1pbmF0aW9uIG9mIHdoZW4gdG8gY3JlYXRlIGEgbmV3IHZlcnNpb24gb2YgYSByZXNvdXJjZSAoc2FtZSB1cmwsIG5ldyB2ZXJzaW9uKSB2cy4gZGVmaW5pbmcgYSBuZXcgYXJ0aWZhY3QgaXMgdXAgdG8gdGhlIGF1dGhvci4gIENvbnNpZGVyYXRpb25zIGZvciBtYWtpbmcgdGhpcyBkZWNpc2lvbiBhcmUgZm91bmQgaW4gW1RlY2huaWNhbCBhbmQgQnVzaW5lc3MgVmVyc2lvbnNdKHJlc291cmNlLmh0bWwjdmVyc2lvbnMpLiBcclxuICAgKiBJbiBzb21lIGNhc2VzLCB0aGUgcmVzb3VyY2UgY2FuIG5vIGxvbmdlciBiZSBmb3VuZCBhdCB0aGUgc3RhdGVkIHVybCwgYnV0IHRoZSB1cmwgaXRzZWxmIGNhbm5vdCBjaGFuZ2UuIEltcGxlbWVudGF0aW9ucyBjYW4gdXNlIHRoZSBbbWV0YS5zb3VyY2VdKHJlc291cmNlLmh0bWwjbWV0YSkgZWxlbWVudCB0byBpbmRpY2F0ZSB3aGVyZSB0aGUgY3VycmVudCBtYXN0ZXIgc291cmNlIG9mIHRoZSByZXNvdXJjZSBjYW4gYmUgZm91bmQuXHJcbiAgICovXHJcbiAgdXJsPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgbWF5IGJlIGRpZmZlcmVudCBjYXBhYmlsaXR5IHN0YXRlbWVudCBpbnN0YW5jZXMgdGhhdCBoYXZlIHRoZSBzYW1lIGlkZW50aWZpZXIgYnV0IGRpZmZlcmVudCB2ZXJzaW9ucy4gIFRoZSB2ZXJzaW9uIGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgdXJsIGluIGEgcmVmZXJlbmNlIHRvIGFsbG93IGEgcmVmZXJlbmNlIHRvIGEgcGFydGljdWxhciBidXNpbmVzcyB2ZXJzaW9uIG9mIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCB3aXRoIHRoZSBmb3JtYXQgW3VybF18W3ZlcnNpb25dLlxyXG4gICAqL1xyXG4gIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBpcyBub3QgZXhwZWN0ZWQgdG8gYmUgZ2xvYmFsbHkgdW5pcXVlLiBUaGUgbmFtZSBzaG91bGQgYmUgYSBzaW1wbGUgYWxwaGFudW1lcmljIHR5cGUgbmFtZSB0byBlbnN1cmUgdGhhdCBpdCBpcyBtYWNoaW5lLXByb2Nlc3NpbmcgZnJpZW5kbHkuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbmFtZSBkb2VzIG5vdCBuZWVkIHRvIGJlIG1hY2hpbmUtcHJvY2Vzc2luZyBmcmllbmRseSBhbmQgbWF5IGNvbnRhaW4gcHVuY3R1YXRpb24sIHdoaXRlLXNwYWNlLCBldGMuXHJcbiAgICovXHJcbiAgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgZmlsdGVyaW5nIG9mIGNhcGFiaWxpdHkgc3RhdGVtZW50cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuVGhpcyBpcyBub3QgaW50ZW5kZWQgZm9yIHVzZSB3aXRoIGFjdHVhbCBjYXBhYmlsaXR5IHN0YXRlbWVudHMsIGJ1dCB3aGVyZSBjYXBhYmlsaXR5IHN0YXRlbWVudHMgYXJlIHVzZWQgdG8gZGVzY3JpYmUgcG9zc2libGUgb3IgZGVzaXJlZCBzeXN0ZW1zLlxyXG4gICAqL1xyXG4gIHN0YXR1czogUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgY2FwYWJpbGl0eSBzdGF0ZW1lbnRzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBleHBlcmltZW50YWw/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgcmVzb3VyY2UgbGFzdC1tb2RpZmllZC1kYXRlLCBzaW5jZSB0aGUgcmVzb3VyY2UgbWF5IGJlIGEgc2Vjb25kYXJ5IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudC4gQWRkaXRpb25hbCBzcGVjaWZpYyBkYXRlcyBtYXkgYmUgYWRkZWQgYXMgZXh0ZW5zaW9ucyBvciBiZSBmb3VuZCBieSBjb25zdWx0aW5nIFByb3ZlbmFuY2VzIGFzc29jaWF0ZWQgd2l0aCBwYXN0IHZlcnNpb25zIG9mIHRoZSByZXNvdXJjZS5cclxuICAgKi9cclxuICBkYXRlOiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgYW4gb3JnYW5pemF0aW9uIGJ1dCBtYXkgYmUgYW4gaW5kaXZpZHVhbC4gVGhlIHB1Ymxpc2hlciAob3Igc3Rld2FyZCkgb2YgdGhlIGNhcGFiaWxpdHkgc3RhdGVtZW50IGlzIHRoZSBvcmdhbml6YXRpb24gb3IgaW5kaXZpZHVhbCBwcmltYXJpbHkgcmVzcG9uc2libGUgZm9yIHRoZSBtYWludGVuYW5jZSBhbmQgdXBrZWVwIG9mIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudC4gVGhpcyBpcyBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gdGhhdCBkZXZlbG9wZWQgYW5kIGluaXRpYWxseSBhdXRob3JlZCB0aGUgY29udGVudC4gVGhlIHB1Ymxpc2hlciBpcyB0aGUgcHJpbWFyeSBwb2ludCBvZiBjb250YWN0IGZvciBxdWVzdGlvbnMgb3IgaXNzdWVzIHdpdGggdGhlIGNhcGFiaWxpdHkgc3RhdGVtZW50LiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIGEgd2ViIHNpdGUsIGFuIGVtYWlsIGFkZHJlc3MsIGEgdGVsZXBob25lIG51bWJlciwgZXRjLlxyXG4gICAqL1xyXG4gIGNvbnRhY3Q/OiBmaGlyLkNvbnRhY3REZXRhaWxBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpcHRpb24gY2FuIGJlIHVzZWQgdG8gY2FwdHVyZSBkZXRhaWxzIHN1Y2ggYXMgd2h5IHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCB3YXMgYnVpbHQsIGNvbW1lbnRzIGFib3V0IG1pc3VzZSwgaW5zdHJ1Y3Rpb25zIGZvciBjbGluaWNhbCB1c2UgYW5kIGludGVycHJldGF0aW9uLCBsaXRlcmF0dXJlIHJlZmVyZW5jZXMsIGV4YW1wbGVzIGZyb20gdGhlIHBhcGVyIHdvcmxkLCBldGMuIEl0IGlzIG5vdCBhIHJlbmRlcmluZyBvZiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgYXMgY29udmV5ZWQgaW4gdGhlICd0ZXh0JyBmaWVsZCBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmLiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQgKGUuZy4gdGhlIGxhbmd1YWdlIG9mIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCBpcyBwcmVzdW1lZCB0byBiZSB0aGUgcHJlZG9taW5hbnQgbGFuZ3VhZ2UgaW4gdGhlIHBsYWNlIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCB3YXMgY3JlYXRlZCkuVGhpcyBkb2VzIG5vdCBuZWVkIHRvIGJlIHBvcHVsYXRlZCBpZiB0aGUgZGVzY3JpcHRpb24gaXMgYWRlcXVhdGVseSBpbXBsaWVkIGJ5IHRoZSBzb2Z0d2FyZSBvciBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIG11bHRpcGxlIHVzZUNvbnRleHRzIGFyZSBzcGVjaWZpZWQsIHRoZXJlIGlzIG5vIGV4cGVjdGF0aW9uIHRoYXQgYWxsIG9yIGFueSBvZiB0aGUgY29udGV4dHMgYXBwbHkuXHJcbiAgICovXHJcbiAgdXNlQ29udGV4dD86IGZoaXIuVXNhZ2VDb250ZXh0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBtYXkgYmUgcG9zc2libGUgZm9yIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCB0byBiZSB1c2VkIGluIGp1cmlzZGljdGlvbnMgb3RoZXIgdGhhbiB0aG9zZSBmb3Igd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgZGVzaWduZWQgb3IgaW50ZW5kZWQuXHJcbiAgICovXHJcbiAganVyaXNkaWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBkb2VzIG5vdCBkZXNjcmliZSB0aGUgdXNhZ2Ugb2YgdGhlIGNhcGFiaWxpdHkgc3RhdGVtZW50LiBJbnN0ZWFkLCBpdCBwcm92aWRlcyB0cmFjZWFiaWxpdHkgb2YgJyd3aHknJyB0aGUgcmVzb3VyY2UgaXMgZWl0aGVyIG5lZWRlZCBvciAnJ3doeScnIGl0IGlzIGRlZmluZWQgYXMgaXQgaXMuICBUaGlzIG1heSBiZSB1c2VkIHRvIHBvaW50IHRvIHNvdXJjZSBtYXRlcmlhbHMgb3Igc3BlY2lmaWNhdGlvbnMgdGhhdCBkcm92ZSB0aGUgc3RydWN0dXJlIG9mIHRoaXMgY2FwYWJpbGl0eSBzdGF0ZW1lbnQuXHJcbiAgICovXHJcbiAgcHVycG9zZT86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb3B5cmlnaHQgc3RhdGVtZW50IHJlbGF0aW5nIHRvIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCBhbmQvb3IgaXRzIGNvbnRlbnRzLiBDb3B5cmlnaHQgc3RhdGVtZW50cyBhcmUgZ2VuZXJhbGx5IGxlZ2FsIHJlc3RyaWN0aW9ucyBvbiB0aGUgdXNlIGFuZCBwdWJsaXNoaW5nIG9mIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudC5cclxuICAgKi9cclxuICBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB3YXkgdGhhdCB0aGlzIHN0YXRlbWVudCBpcyBpbnRlbmRlZCB0byBiZSB1c2VkLCB0byBkZXNjcmliZSBhbiBhY3R1YWwgcnVubmluZyBpbnN0YW5jZSBvZiBzb2Z0d2FyZSwgYSBwYXJ0aWN1bGFyIHByb2R1Y3QgKGtpbmQsIG5vdCBpbnN0YW5jZSBvZiBzb2Z0d2FyZSkgb3IgYSBjbGFzcyBvZiBpbXBsZW1lbnRhdGlvbiAoZS5nLiBhIGRlc2lyZWQgcHVyY2hhc2UpLlxyXG4gICAqL1xyXG4gIGtpbmQ6IENhcGFiaWxpdHlTdGF0ZW1lbnRLaW5kQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBITDcgZGVmaW5lcyB0aGUgZm9sbG93aW5nIFNlcnZpY2VzOiBbVGVybWlub2xvZ3kgU2VydmljZV0odGVybWlub2xvZ3ktc2VydmljZS5odG1sKS4gICAgXHJcbiAgICogTWFueSBbSW1wbGVtZW50YXRpb24gR3VpZGVzXShodHRwOi8vZmhpci5vcmcvZ3VpZGVzL3JlZ2lzdHJ5KSBkZWZpbmUgYWRkaXRpb25hbCBzZXJ2aWNlcy5cclxuICAgKi9cclxuICBpbnN0YW50aWF0ZXM/OiBmaGlyLkZoaXJDYW5vbmljYWxbXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogdGhlIGNvbnRlbnRzIG9mIGFueSBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGltcG9ydGVkIENhcGFiaWxpdHlTdGF0ZW1lbnRzIFNIQUxMIE5PVCBvdmVybGFwLCBpLmUuIHRoZXkgY2Fubm90IHJlZmVyIHRvIHRoZSBzYW1lIHJlc3QvcmVzb3VyY2UsIG9wZXJhdGlvbnMvbmFtZSwgc2VhcmNocGFyYW0vbmFtZSwgaW50ZXJhY3Rpb24vY29kZSwgbWVzc2FnaW5nL2VuZHBvaW50LCBkb2N1bWVudC9tb2RlIHBhaXIuXHJcbiAgICogQSBjYXBhYmlsaXR5IHN0YXRlbWVudCB0aGF0IGltcG9ydHMgYW5vdGhlciBDYXBhYmlsaXR5U3RhdGVtZW50IGF1dG9tYXRpY2FsbHkgaW5zdGFudGlhdGVzIGl0IHRvbyAodGhvdWdoIHRoaXMgaXMgb2Z0ZW4gbm90IGEgdmVyeSB1c2VmdWwgc3RhdGVtZW50IGZvciB0aGUga2luZHMgb2YgQ2FwYWJpbGl0eVN0YXRlbWVudHMgdGhhdCBhcmUgc3VpdGFibGUgZm9yIGltcG9ydGluZykuXHJcbiAgICovXHJcbiAgaW1wb3J0cz86IGZoaXIuRmhpckNhbm9uaWNhbFtdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTb2Z0d2FyZSB0aGF0IGlzIGNvdmVyZWQgYnkgdGhpcyBjYXBhYmlsaXR5IHN0YXRlbWVudC4gIEl0IGlzIHVzZWQgd2hlbiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgZGVzY3JpYmVzIHRoZSBjYXBhYmlsaXRpZXMgb2YgYSBwYXJ0aWN1bGFyIHNvZnR3YXJlIHZlcnNpb24sIGluZGVwZW5kZW50IG9mIGFuIGluc3RhbGxhdGlvbi5cclxuICAgKi9cclxuICBzb2Z0d2FyZT86IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFNvZnR3YXJlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGluc3RhbmNlIHRoYXQgaXMgZGVzY3JpYmVkIGJ5IHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCAtIGkuZS4gYSBwYXJ0aWN1bGFyIGluc3RhbGxhdGlvbiwgcmF0aGVyIHRoYW4gdGhlIGNhcGFiaWxpdGllcyBvZiBhIHNvZnR3YXJlIHByb2dyYW0uXHJcbiAgICovXHJcbiAgaW1wbGVtZW50YXRpb24/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRJbXBsZW1lbnRhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNlcnZlcnMgbWF5IGltcGxlbWVudCBtdWx0aXBsZSB2ZXJzaW9ucyAoc2VlIFtNYW5hZ2luZyBNdWx0aXBsZSBWZXJzaW9uc10odmVyc2lvbmluZy5odG1sKSwgYW5kIHRoZSBbJHZlcnNpb25zXShjYXBhYmlsaXR5c3RhdGVtZW50LW9wZXJhdGlvbi12ZXJzaW9ucy5odG1sKSBvcGVyYXRpb24pLiBJZiB0aGV5IGRvLCBhbmQgdGhlIENhcGFiaWxpdHlTdGF0ZW1lbnQgaXMgcmVxdWVzdGVkIGZyb20gdGhlIHNlcnZlciwgdGhlbiB0aGlzIGZoaXJWZXJzaW9uIHdpbGwgYmUgZWl0aGVyIHRoZSB2ZXJzaW9uIHJlcXVlc3RlZCwgb3IgdGhlIHNlcnZlcidzIGRlZmF1bHQgdmVyc2lvbi5cclxuICAgKi9cclxuICBmaGlyVmVyc2lvbjogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFwieG1sXCIsIFwianNvblwiIGFuZCBcInR0bFwiIGFyZSBhbGxvd2VkLCB3aGljaCBkZXNjcmliZSB0aGUgc2ltcGxlIGVuY29kaW5ncyBkZXNjcmliZWQgaW4gdGhlIHNwZWNpZmljYXRpb24gKGFuZCBpbXBseSBhcHByb3ByaWF0ZSBidW5kbGUgc3VwcG9ydCkuIE90aGVyd2lzZSwgbWltZSB0eXBlcyBhcmUgbGVnYWwgaGVyZS5cclxuICAgKi9cclxuICBmb3JtYXQ6IGZoaXIuRmhpckNvZGVbXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXQgcHJlc2VudCwgdGhlIHBhdGNoIG1pbWUgdHlwZXMgYXBwbGljYXRpb24vanNvbi1wYXRjaCtqc29uIGFuZCBhcHBsaWNhdGlvbi94bWwtcGF0Y2greG1sIGFyZSBsZWdhbC4gR2VuZXJhbGx5LCBpZiBhIHNlcnZlciBzdXBwb3J0cyBQQVRDSCwgaXQgd291bGQgYmUgZXhwZWN0ZWQgdG8gc3VwcG9ydCB0aGUgcGF0Y2ggZm9ybWF0cyBhbmQgbWF0Y2ggdGhlIGZvcm1hdHMgaXQgc3VwcG9ydHMsIGJ1dCB0aGlzIGlzIG5vdCBhbHdheXMgcG9zc2libGUgb3IgbmVjZXNzYXJ5LlxyXG4gICAqL1xyXG4gIHBhdGNoRm9ybWF0PzogZmhpci5GaGlyQ29kZVtdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgaW1wbGVtZW50YXRpb24gZ3VpZGVzIHRoYXQgdGhlIHNlcnZlciBkb2VzIChvciBzaG91bGQpIHN1cHBvcnQgaW4gdGhlaXIgZW50aXJldHkuXHJcbiAgICovXHJcbiAgaW1wbGVtZW50YXRpb25HdWlkZT86IGZoaXIuRmhpckNhbm9uaWNhbFtdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNdWx0aXBsZSByZXBldGl0aW9ucyBhbGxvdyBkZWZpbml0aW9uIG9mIGJvdGggY2xpZW50IGFuZC9vciBzZXJ2ZXIgYmVoYXZpb3JzIG9yIHBvc3NpYmx5IGJlaGF2aW9ycyB1bmRlciBkaWZmZXJlbnQgY29uZmlndXJhdGlvbiBzZXR0aW5ncyAoZm9yIHNvZnR3YXJlIG9yIHJlcXVpcmVtZW50cyBzdGF0ZW1lbnRzKS5cclxuICAgKi9cclxuICByZXN0PzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50UmVzdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbGUgcmVwZXRpdGlvbnMgYWxsb3cgdGhlIGRvY3VtZW50YXRpb24gb2YgbXVsdGlwbGUgZW5kcG9pbnRzIHBlciBzb2x1dGlvbi5cclxuICAgKi9cclxuICBtZXNzYWdpbmc/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmdBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZG9jdW1lbnQgZGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBkb2N1bWVudD86IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudERvY3VtZW50QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgQ2FwYWJpbGl0eSBTdGF0ZW1lbnQgZG9jdW1lbnRzIGEgc2V0IG9mIGNhcGFiaWxpdGllcyAoYmVoYXZpb3JzKSBvZiBhIEZISVIgU2VydmVyIGZvciBhIHBhcnRpY3VsYXIgdmVyc2lvbiBvZiBGSElSIHRoYXQgbWF5IGJlIHVzZWQgYXMgYSBzdGF0ZW1lbnQgb2YgYWN0dWFsIHNlcnZlciBmdW5jdGlvbmFsaXR5IG9yIGEgc3RhdGVtZW50IG9mIHJlcXVpcmVkIG9yIGRlc2lyZWQgc2VydmVyIGltcGxlbWVudGF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhcGFiaWxpdHlTdGF0ZW1lbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NhcGFiaWxpdHlTdGF0ZW1lbnQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQ2FwYWJpbGl0eVN0YXRlbWVudFwiO1xyXG4gIC8qKlxyXG4gICAqIENhbiBiZSBhIHVybjp1dWlkOiBvciBhIHVybjpvaWQ6IGJ1dCByZWFsIGh0dHA6IGFkZHJlc3NlcyBhcmUgcHJlZmVycmVkLiAgTXVsdGlwbGUgaW5zdGFuY2VzIG1heSBzaGFyZSB0aGUgc2FtZSBVUkwgaWYgdGhleSBoYXZlIGEgZGlzdGluY3QgdmVyc2lvbi5cclxuICAgKiBUaGUgZGV0ZXJtaW5hdGlvbiBvZiB3aGVuIHRvIGNyZWF0ZSBhIG5ldyB2ZXJzaW9uIG9mIGEgcmVzb3VyY2UgKHNhbWUgdXJsLCBuZXcgdmVyc2lvbikgdnMuIGRlZmluaW5nIGEgbmV3IGFydGlmYWN0IGlzIHVwIHRvIHRoZSBhdXRob3IuICBDb25zaWRlcmF0aW9ucyBmb3IgbWFraW5nIHRoaXMgZGVjaXNpb24gYXJlIGZvdW5kIGluIFtUZWNobmljYWwgYW5kIEJ1c2luZXNzIFZlcnNpb25zXShyZXNvdXJjZS5odG1sI3ZlcnNpb25zKS4gXHJcbiAgICogSW4gc29tZSBjYXNlcywgdGhlIHJlc291cmNlIGNhbiBubyBsb25nZXIgYmUgZm91bmQgYXQgdGhlIHN0YXRlZCB1cmwsIGJ1dCB0aGUgdXJsIGl0c2VsZiBjYW5ub3QgY2hhbmdlLiBJbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSB0aGUgW21ldGEuc291cmNlXShyZXNvdXJjZS5odG1sI21ldGEpIGVsZW1lbnQgdG8gaW5kaWNhdGUgd2hlcmUgdGhlIGN1cnJlbnQgbWFzdGVyIHNvdXJjZSBvZiB0aGUgcmVzb3VyY2UgY2FuIGJlIGZvdW5kLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cmw/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIG1heSBiZSBkaWZmZXJlbnQgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgaW5zdGFuY2VzIHRoYXQgaGF2ZSB0aGUgc2FtZSBpZGVudGlmaWVyIGJ1dCBkaWZmZXJlbnQgdmVyc2lvbnMuICBUaGUgdmVyc2lvbiBjYW4gYmUgYXBwZW5kZWQgdG8gdGhlIHVybCBpbiBhIHJlZmVyZW5jZSB0byBhbGxvdyBhIHJlZmVyZW5jZSB0byBhIHBhcnRpY3VsYXIgYnVzaW5lc3MgdmVyc2lvbiBvZiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgd2l0aCB0aGUgZm9ybWF0IFt1cmxdfFt2ZXJzaW9uXS5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgaXMgbm90IGV4cGVjdGVkIHRvIGJlIGdsb2JhbGx5IHVuaXF1ZS4gVGhlIG5hbWUgc2hvdWxkIGJlIGEgc2ltcGxlIGFscGhhbnVtZXJpYyB0eXBlIG5hbWUgdG8gZW5zdXJlIHRoYXQgaXQgaXMgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIG5hbWUgZG9lcyBub3QgbmVlZCB0byBiZSBtYWNoaW5lLXByb2Nlc3NpbmcgZnJpZW5kbHkgYW5kIG1heSBjb250YWluIHB1bmN0dWF0aW9uLCB3aGl0ZS1zcGFjZSwgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aXRsZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiBjYXBhYmlsaXR5IHN0YXRlbWVudHMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHVzZSB2ZXJzdXMgbm90LlRoaXMgaXMgbm90IGludGVuZGVkIGZvciB1c2Ugd2l0aCBhY3R1YWwgY2FwYWJpbGl0eSBzdGF0ZW1lbnRzLCBidXQgd2hlcmUgY2FwYWJpbGl0eSBzdGF0ZW1lbnRzIGFyZSB1c2VkIHRvIGRlc2NyaWJlIHBvc3NpYmxlIG9yIGRlc2lyZWQgc3lzdGVtcy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiBjYXBhYmlsaXR5IHN0YXRlbWVudHMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHVzZSB2ZXJzdXMgbm90LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHBlcmltZW50YWw/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIHJlc291cmNlIGxhc3QtbW9kaWZpZWQtZGF0ZSwgc2luY2UgdGhlIHJlc291cmNlIG1heSBiZSBhIHNlY29uZGFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQuIEFkZGl0aW9uYWwgc3BlY2lmaWMgZGF0ZXMgbWF5IGJlIGFkZGVkIGFzIGV4dGVuc2lvbnMgb3IgYmUgZm91bmQgYnkgY29uc3VsdGluZyBQcm92ZW5hbmNlcyBhc3NvY2lhdGVkIHdpdGggcGFzdCB2ZXJzaW9ucyBvZiB0aGUgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU6IGZoaXIuRmhpckRhdGVUaW1lfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSBhbiBvcmdhbml6YXRpb24gYnV0IG1heSBiZSBhbiBpbmRpdmlkdWFsLiBUaGUgcHVibGlzaGVyIChvciBzdGV3YXJkKSBvZiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgaXMgdGhlIG9yZ2FuaXphdGlvbiBvciBpbmRpdmlkdWFsIHByaW1hcmlseSByZXNwb25zaWJsZSBmb3IgdGhlIG1haW50ZW5hbmNlIGFuZCB1cGtlZXAgb2YgdGhlIGNhcGFiaWxpdHkgc3RhdGVtZW50LiBUaGlzIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbiB0aGF0IGRldmVsb3BlZCBhbmQgaW5pdGlhbGx5IGF1dGhvcmVkIHRoZSBjb250ZW50LiBUaGUgcHVibGlzaGVyIGlzIHRoZSBwcmltYXJ5IHBvaW50IG9mIGNvbnRhY3QgZm9yIHF1ZXN0aW9ucyBvciBpc3N1ZXMgd2l0aCB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQuIFRoaXMgaXRlbSBTSE9VTEQgYmUgcG9wdWxhdGVkIHVubGVzcyB0aGUgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlIGZyb20gY29udGV4dC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgYmUgYSB3ZWIgc2l0ZSwgYW4gZW1haWwgYWRkcmVzcywgYSB0ZWxlcGhvbmUgbnVtYmVyLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhY3Q/OiBmaGlyLkNvbnRhY3REZXRhaWxbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGRlc2NyaXB0aW9uIGNhbiBiZSB1c2VkIHRvIGNhcHR1cmUgZGV0YWlscyBzdWNoIGFzIHdoeSB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgd2FzIGJ1aWx0LCBjb21tZW50cyBhYm91dCBtaXN1c2UsIGluc3RydWN0aW9ucyBmb3IgY2xpbmljYWwgdXNlIGFuZCBpbnRlcnByZXRhdGlvbiwgbGl0ZXJhdHVyZSByZWZlcmVuY2VzLCBleGFtcGxlcyBmcm9tIHRoZSBwYXBlciB3b3JsZCwgZXRjLiBJdCBpcyBub3QgYSByZW5kZXJpbmcgb2YgdGhlIGNhcGFiaWxpdHkgc3RhdGVtZW50IGFzIGNvbnZleWVkIGluIHRoZSAndGV4dCcgZmllbGQgb2YgdGhlIHJlc291cmNlIGl0c2VsZi4gVGhpcyBpdGVtIFNIT1VMRCBiZSBwb3B1bGF0ZWQgdW5sZXNzIHRoZSBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgZnJvbSBjb250ZXh0IChlLmcuIHRoZSBsYW5ndWFnZSBvZiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgaXMgcHJlc3VtZWQgdG8gYmUgdGhlIHByZWRvbWluYW50IGxhbmd1YWdlIGluIHRoZSBwbGFjZSB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgd2FzIGNyZWF0ZWQpLlRoaXMgZG9lcyBub3QgbmVlZCB0byBiZSBwb3B1bGF0ZWQgaWYgdGhlIGRlc2NyaXB0aW9uIGlzIGFkZXF1YXRlbHkgaW1wbGllZCBieSB0aGUgc29mdHdhcmUgb3IgaW1wbGVtZW50YXRpb24gZGV0YWlscy5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiBtdWx0aXBsZSB1c2VDb250ZXh0cyBhcmUgc3BlY2lmaWVkLCB0aGVyZSBpcyBubyBleHBlY3RhdGlvbiB0aGF0IGFsbCBvciBhbnkgb2YgdGhlIGNvbnRleHRzIGFwcGx5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2VDb250ZXh0PzogZmhpci5Vc2FnZUNvbnRleHRbXTtcclxuICAvKipcclxuICAgKiBJdCBtYXkgYmUgcG9zc2libGUgZm9yIHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCB0byBiZSB1c2VkIGluIGp1cmlzZGljdGlvbnMgb3RoZXIgdGhhbiB0aG9zZSBmb3Igd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgZGVzaWduZWQgb3IgaW50ZW5kZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGp1cmlzZGljdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGRvZXMgbm90IGRlc2NyaWJlIHRoZSB1c2FnZSBvZiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQuIEluc3RlYWQsIGl0IHByb3ZpZGVzIHRyYWNlYWJpbGl0eSBvZiAnJ3doeScnIHRoZSByZXNvdXJjZSBpcyBlaXRoZXIgbmVlZGVkIG9yICcnd2h5JycgaXQgaXMgZGVmaW5lZCBhcyBpdCBpcy4gIFRoaXMgbWF5IGJlIHVzZWQgdG8gcG9pbnQgdG8gc291cmNlIG1hdGVyaWFscyBvciBzcGVjaWZpY2F0aW9ucyB0aGF0IGRyb3ZlIHRoZSBzdHJ1Y3R1cmUgb2YgdGhpcyBjYXBhYmlsaXR5IHN0YXRlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZT86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgcmVsYXRpbmcgdG8gdGhlIGNhcGFiaWxpdHkgc3RhdGVtZW50IGFuZC9vciBpdHMgY29udGVudHMuIENvcHlyaWdodCBzdGF0ZW1lbnRzIGFyZSBnZW5lcmFsbHkgbGVnYWwgcmVzdHJpY3Rpb25zIG9uIHRoZSB1c2UgYW5kIHB1Ymxpc2hpbmcgb2YgdGhlIGNhcGFiaWxpdHkgc3RhdGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHdheSB0aGF0IHRoaXMgc3RhdGVtZW50IGlzIGludGVuZGVkIHRvIGJlIHVzZWQsIHRvIGRlc2NyaWJlIGFuIGFjdHVhbCBydW5uaW5nIGluc3RhbmNlIG9mIHNvZnR3YXJlLCBhIHBhcnRpY3VsYXIgcHJvZHVjdCAoa2luZCwgbm90IGluc3RhbmNlIG9mIHNvZnR3YXJlKSBvciBhIGNsYXNzIG9mIGltcGxlbWVudGF0aW9uIChlLmcuIGEgZGVzaXJlZCBwdXJjaGFzZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGtpbmQ6IENhcGFiaWxpdHlTdGF0ZW1lbnRLaW5kQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBITDcgZGVmaW5lcyB0aGUgZm9sbG93aW5nIFNlcnZpY2VzOiBbVGVybWlub2xvZ3kgU2VydmljZV0odGVybWlub2xvZ3ktc2VydmljZS5odG1sKS4gICAgXHJcbiAgICogTWFueSBbSW1wbGVtZW50YXRpb24gR3VpZGVzXShodHRwOi8vZmhpci5vcmcvZ3VpZGVzL3JlZ2lzdHJ5KSBkZWZpbmUgYWRkaXRpb25hbCBzZXJ2aWNlcy5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdGFudGlhdGVzPzogZmhpci5GaGlyQ2Fub25pY2FsW107XHJcbiAgLyoqXHJcbiAgICogdGhlIGNvbnRlbnRzIG9mIGFueSBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGltcG9ydGVkIENhcGFiaWxpdHlTdGF0ZW1lbnRzIFNIQUxMIE5PVCBvdmVybGFwLCBpLmUuIHRoZXkgY2Fubm90IHJlZmVyIHRvIHRoZSBzYW1lIHJlc3QvcmVzb3VyY2UsIG9wZXJhdGlvbnMvbmFtZSwgc2VhcmNocGFyYW0vbmFtZSwgaW50ZXJhY3Rpb24vY29kZSwgbWVzc2FnaW5nL2VuZHBvaW50LCBkb2N1bWVudC9tb2RlIHBhaXIuXHJcbiAgICogQSBjYXBhYmlsaXR5IHN0YXRlbWVudCB0aGF0IGltcG9ydHMgYW5vdGhlciBDYXBhYmlsaXR5U3RhdGVtZW50IGF1dG9tYXRpY2FsbHkgaW5zdGFudGlhdGVzIGl0IHRvbyAodGhvdWdoIHRoaXMgaXMgb2Z0ZW4gbm90IGEgdmVyeSB1c2VmdWwgc3RhdGVtZW50IGZvciB0aGUga2luZHMgb2YgQ2FwYWJpbGl0eVN0YXRlbWVudHMgdGhhdCBhcmUgc3VpdGFibGUgZm9yIGltcG9ydGluZykuXHJcbiAgICovXHJcbiAgcHVibGljIGltcG9ydHM/OiBmaGlyLkZoaXJDYW5vbmljYWxbXTtcclxuICAvKipcclxuICAgKiBTb2Z0d2FyZSB0aGF0IGlzIGNvdmVyZWQgYnkgdGhpcyBjYXBhYmlsaXR5IHN0YXRlbWVudC4gIEl0IGlzIHVzZWQgd2hlbiB0aGUgY2FwYWJpbGl0eSBzdGF0ZW1lbnQgZGVzY3JpYmVzIHRoZSBjYXBhYmlsaXRpZXMgb2YgYSBwYXJ0aWN1bGFyIHNvZnR3YXJlIHZlcnNpb24sIGluZGVwZW5kZW50IG9mIGFuIGluc3RhbGxhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc29mdHdhcmU/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRTb2Z0d2FyZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGluc3RhbmNlIHRoYXQgaXMgZGVzY3JpYmVkIGJ5IHRoZSBjYXBhYmlsaXR5IHN0YXRlbWVudCAtIGkuZS4gYSBwYXJ0aWN1bGFyIGluc3RhbGxhdGlvbiwgcmF0aGVyIHRoYW4gdGhlIGNhcGFiaWxpdGllcyBvZiBhIHNvZnR3YXJlIHByb2dyYW0uXHJcbiAgICovXHJcbiAgcHVibGljIGltcGxlbWVudGF0aW9uPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50SW1wbGVtZW50YXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNlcnZlcnMgbWF5IGltcGxlbWVudCBtdWx0aXBsZSB2ZXJzaW9ucyAoc2VlIFtNYW5hZ2luZyBNdWx0aXBsZSBWZXJzaW9uc10odmVyc2lvbmluZy5odG1sKSwgYW5kIHRoZSBbJHZlcnNpb25zXShjYXBhYmlsaXR5c3RhdGVtZW50LW9wZXJhdGlvbi12ZXJzaW9ucy5odG1sKSBvcGVyYXRpb24pLiBJZiB0aGV5IGRvLCBhbmQgdGhlIENhcGFiaWxpdHlTdGF0ZW1lbnQgaXMgcmVxdWVzdGVkIGZyb20gdGhlIHNlcnZlciwgdGhlbiB0aGlzIGZoaXJWZXJzaW9uIHdpbGwgYmUgZWl0aGVyIHRoZSB2ZXJzaW9uIHJlcXVlc3RlZCwgb3IgdGhlIHNlcnZlcidzIGRlZmF1bHQgdmVyc2lvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZmhpclZlcnNpb246IGZoaXIuRmhpckNvZGV8bnVsbDtcclxuICAvKipcclxuICAgKiBcInhtbFwiLCBcImpzb25cIiBhbmQgXCJ0dGxcIiBhcmUgYWxsb3dlZCwgd2hpY2ggZGVzY3JpYmUgdGhlIHNpbXBsZSBlbmNvZGluZ3MgZGVzY3JpYmVkIGluIHRoZSBzcGVjaWZpY2F0aW9uIChhbmQgaW1wbHkgYXBwcm9wcmlhdGUgYnVuZGxlIHN1cHBvcnQpLiBPdGhlcndpc2UsIG1pbWUgdHlwZXMgYXJlIGxlZ2FsIGhlcmUuXHJcbiAgICovXHJcbiAgcHVibGljIGZvcm1hdDogZmhpci5GaGlyQ29kZVtdO1xyXG4gIC8qKlxyXG4gICAqIEF0IHByZXNlbnQsIHRoZSBwYXRjaCBtaW1lIHR5cGVzIGFwcGxpY2F0aW9uL2pzb24tcGF0Y2granNvbiBhbmQgYXBwbGljYXRpb24veG1sLXBhdGNoK3htbCBhcmUgbGVnYWwuIEdlbmVyYWxseSwgaWYgYSBzZXJ2ZXIgc3VwcG9ydHMgUEFUQ0gsIGl0IHdvdWxkIGJlIGV4cGVjdGVkIHRvIHN1cHBvcnQgdGhlIHBhdGNoIGZvcm1hdHMgYW5kIG1hdGNoIHRoZSBmb3JtYXRzIGl0IHN1cHBvcnRzLCBidXQgdGhpcyBpcyBub3QgYWx3YXlzIHBvc3NpYmxlIG9yIG5lY2Vzc2FyeS5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0Y2hGb3JtYXQ/OiBmaGlyLkZoaXJDb2RlW107XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIGltcGxlbWVudGF0aW9uIGd1aWRlcyB0aGF0IHRoZSBzZXJ2ZXIgZG9lcyAob3Igc2hvdWxkKSBzdXBwb3J0IGluIHRoZWlyIGVudGlyZXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbXBsZW1lbnRhdGlvbkd1aWRlPzogZmhpci5GaGlyQ2Fub25pY2FsW107XHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbGUgcmVwZXRpdGlvbnMgYWxsb3cgZGVmaW5pdGlvbiBvZiBib3RoIGNsaWVudCBhbmQvb3Igc2VydmVyIGJlaGF2aW9ycyBvciBwb3NzaWJseSBiZWhhdmlvcnMgdW5kZXIgZGlmZmVyZW50IGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MgKGZvciBzb2Z0d2FyZSBvciByZXF1aXJlbWVudHMgc3RhdGVtZW50cykuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc3Q/OiBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRSZXN0W107XHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbGUgcmVwZXRpdGlvbnMgYWxsb3cgdGhlIGRvY3VtZW50YXRpb24gb2YgbXVsdGlwbGUgZW5kcG9pbnRzIHBlciBzb2x1dGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbWVzc2FnaW5nPzogZmhpci5DYXBhYmlsaXR5U3RhdGVtZW50TWVzc2FnaW5nW107XHJcbiAgLyoqXHJcbiAgICogQSBkb2N1bWVudCBkZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudD86IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudERvY3VtZW50W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2FwYWJpbGl0eVN0YXRlbWVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENhcGFiaWxpdHlTdGF0ZW1lbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQ2FwYWJpbGl0eVN0YXRlbWVudCc7XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcnNpb24nXSkgeyB0aGlzLnZlcnNpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZlcnNpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd0aXRsZSddKSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRpdGxlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gc291cmNlLnN0YXR1czsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhwZXJpbWVudGFsJ10pIHsgdGhpcy5leHBlcmltZW50YWwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5leHBlcmltZW50YWx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwdWJsaXNoZXInXSkgeyB0aGlzLnB1Ymxpc2hlciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucHVibGlzaGVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRhY3QnXSkgeyB0aGlzLmNvbnRhY3QgPSBzb3VyY2UuY29udGFjdC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3REZXRhaWwoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd1c2VDb250ZXh0J10pIHsgdGhpcy51c2VDb250ZXh0ID0gc291cmNlLnVzZUNvbnRleHQubWFwKCh4KSA9PiBuZXcgZmhpci5Vc2FnZUNvbnRleHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51c2VDb250ZXh0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2p1cmlzZGljdGlvbiddKSB7IHRoaXMuanVyaXNkaWN0aW9uID0gc291cmNlLmp1cmlzZGljdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmp1cmlzZGljdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwdXJwb3NlJ10pIHsgdGhpcy5wdXJwb3NlID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLnB1cnBvc2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29weXJpZ2h0J10pIHsgdGhpcy5jb3B5cmlnaHQgPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuY29weXJpZ2h0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2tpbmQnXSkgeyB0aGlzLmtpbmQgPSBzb3VyY2Uua2luZDsgfVxyXG4gICAgZWxzZSB7IHRoaXMua2luZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3RhbnRpYXRlcyddKSB7IHRoaXMuaW5zdGFudGlhdGVzID0gc291cmNlLmluc3RhbnRpYXRlcy5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnN0YW50aWF0ZXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW1wb3J0cyddKSB7IHRoaXMuaW1wb3J0cyA9IHNvdXJjZS5pbXBvcnRzLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmltcG9ydHMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc29mdHdhcmUnXSkgeyB0aGlzLnNvZnR3YXJlID0gbmV3IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFNvZnR3YXJlKHNvdXJjZS5zb2Z0d2FyZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ltcGxlbWVudGF0aW9uJ10pIHsgdGhpcy5pbXBsZW1lbnRhdGlvbiA9IG5ldyBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRJbXBsZW1lbnRhdGlvbihzb3VyY2UuaW1wbGVtZW50YXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydmaGlyVmVyc2lvbiddKSB7IHRoaXMuZmhpclZlcnNpb24gPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS5maGlyVmVyc2lvbn0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5maGlyVmVyc2lvbiA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Zvcm1hdCddKSB7IHRoaXMuZm9ybWF0ID0gc291cmNlLmZvcm1hdC5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZm9ybWF0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGNoRm9ybWF0J10pIHsgdGhpcy5wYXRjaEZvcm1hdCA9IHNvdXJjZS5wYXRjaEZvcm1hdC5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGF0Y2hGb3JtYXQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW1wbGVtZW50YXRpb25HdWlkZSddKSB7IHRoaXMuaW1wbGVtZW50YXRpb25HdWlkZSA9IHNvdXJjZS5pbXBsZW1lbnRhdGlvbkd1aWRlLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmltcGxlbWVudGF0aW9uR3VpZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzdCddKSB7IHRoaXMucmVzdCA9IHNvdXJjZS5yZXN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudFJlc3QoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZXN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21lc3NhZ2luZyddKSB7IHRoaXMubWVzc2FnaW5nID0gc291cmNlLm1lc3NhZ2luZy5tYXAoKHgpID0+IG5ldyBmaGlyLkNhcGFiaWxpdHlTdGF0ZW1lbnRNZXNzYWdpbmcoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tZXNzYWdpbmcgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnQnXSkgeyB0aGlzLmRvY3VtZW50ID0gc291cmNlLmRvY3VtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2FwYWJpbGl0eVN0YXRlbWVudERvY3VtZW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZG9jdW1lbnQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHN0YXR1cyAoQ2FwYWJpbGl0eVN0YXRlbWVudC5zdGF0dXMpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBzdGF0dXNSZXF1aXJlZENvZGluZygpOlB1YmxpY2F0aW9uU3RhdHVzQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gUHVibGljYXRpb25TdGF0dXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGtpbmQgKENhcGFiaWxpdHlTdGF0ZW1lbnQua2luZClcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGtpbmRSZXF1aXJlZENvZGluZygpOkNhcGFiaWxpdHlTdGF0ZW1lbnRLaW5kQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gQ2FwYWJpbGl0eVN0YXRlbWVudEtpbmRDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGZoaXJWZXJzaW9uIChDYXBhYmlsaXR5U3RhdGVtZW50LmZoaXJWZXJzaW9uKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZmhpclZlcnNpb25SZXF1aXJlZENvZGluZygpOkZISVJWZXJzaW9uQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRkhJUlZlcnNpb25Db2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZVR5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZTpcIkNhcGFiaWxpdHlTdGF0ZW1lbnRcIiBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50LnJlc291cmNlVHlwZTpcIkNhcGFiaWxpdHlTdGF0ZW1lbnRcIicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ1cmxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51cmwuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widmVyc2lvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZlcnNpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widGl0bGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50aXRsZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydzdGF0dXMnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHN0YXR1czpQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQuc3RhdHVzOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZXhwZXJpbWVudGFsXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZXhwZXJpbWVudGFsLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2RhdGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGRhdGU6Zmhpci5GaGlyRGF0ZVRpbWUgZmhpcjogQ2FwYWJpbGl0eVN0YXRlbWVudC5kYXRlOmRhdGVUaW1lJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImRhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kYXRlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInB1Ymxpc2hlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnB1Ymxpc2hlci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb250YWN0XCJdKSB7IHRoaXMuY29udGFjdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1c2VDb250ZXh0XCJdKSB7IHRoaXMudXNlQ29udGV4dC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wianVyaXNkaWN0aW9uXCJdKSB7IHRoaXMuanVyaXNkaWN0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwdXJwb3NlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHVycG9zZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb3B5cmlnaHRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb3B5cmlnaHQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sna2luZCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkga2luZDpDYXBhYmlsaXR5U3RhdGVtZW50S2luZENvZGVUeXBlIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQua2luZDpjb2RlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImluc3RhbnRpYXRlc1wiXSkgeyB0aGlzLmluc3RhbnRpYXRlcy5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiaW1wb3J0c1wiXSkgeyB0aGlzLmltcG9ydHMuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInNvZnR3YXJlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc29mdHdhcmUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaW1wbGVtZW50YXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pbXBsZW1lbnRhdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydmaGlyVmVyc2lvbiddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgZmhpclZlcnNpb246Zmhpci5GaGlyQ29kZSBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50LmZoaXJWZXJzaW9uOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZmhpclZlcnNpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5maGlyVmVyc2lvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydmb3JtYXQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGZvcm1hdDpmaGlyLkZoaXJDb2RlW10gZmhpcjogQ2FwYWJpbGl0eVN0YXRlbWVudC5mb3JtYXQ6Y29kZScsIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvcm1hdCkpIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3N0cnVjdHVyZScsICBkaWFnbm9zdGljczogJ0ZvdW5kIHNjYWxhciBpbiBhcnJheSBwcm9wZXJ0eSBmb3JtYXQ6Zmhpci5GaGlyQ29kZVtdIGZoaXI6IENhcGFiaWxpdHlTdGF0ZW1lbnQuZm9ybWF0OmNvZGUnLCB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtYXQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgZm9ybWF0OmZoaXIuRmhpckNvZGVbXSBmaGlyOiBDYXBhYmlsaXR5U3RhdGVtZW50LmZvcm1hdDpjb2RlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImZvcm1hdFwiXSkgeyB0aGlzLmZvcm1hdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicGF0Y2hGb3JtYXRcIl0pIHsgdGhpcy5wYXRjaEZvcm1hdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiaW1wbGVtZW50YXRpb25HdWlkZVwiXSkgeyB0aGlzLmltcGxlbWVudGF0aW9uR3VpZGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInJlc3RcIl0pIHsgdGhpcy5yZXN0LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJtZXNzYWdpbmdcIl0pIHsgdGhpcy5tZXNzYWdpbmcuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRvY3VtZW50XCJdKSB7IHRoaXMuZG9jdW1lbnQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=