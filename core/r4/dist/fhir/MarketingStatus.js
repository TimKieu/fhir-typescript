// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR ComplexType: MarketingStatus
import * as fhir from '../fhir.js';
/**
 * The marketing status describes the date when a medicinal product is actually put on the market or the date as of which it is no longer available.
 */
export class MarketingStatus extends fhir.BackboneElement {
    /**
     * Default constructor for MarketingStatus - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['country']) {
            this.country = new fhir.CodeableConcept(source.country, options);
        }
        else {
            this.country = null;
        }
        if (source['jurisdiction']) {
            this.jurisdiction = new fhir.CodeableConcept(source.jurisdiction, options);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status, options);
        }
        else {
            this.status = null;
        }
        if (source['dateRange']) {
            this.dateRange = new fhir.Period(source.dateRange, options);
        }
        else {
            this.dateRange = null;
        }
        if (source['restoreDate'] !== undefined) {
            this.restoreDate = new fhir.FhirDateTime({ value: source.restoreDate }, options);
        }
        if (source['_restoreDate']) {
            if (this.restoreDate) {
                this.restoreDate.addExtendedProperties(source._restoreDate);
            }
            else {
                this.restoreDate = new fhir.FhirDateTime(source._restoreDate, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MarketingStatus';
        }
        iss.push(...this.vRS('country', exp));
        iss.push(...this.vOS('jurisdiction', exp));
        iss.push(...this.vRS('status', exp));
        iss.push(...this.vRS('dateRange', exp));
        iss.push(...this.vOS('restoreDate', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MarketingStatus._fts_dataType = 'MarketingStatus';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFya2V0aW5nU3RhdHVzLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9NYXJrZXRpbmdTdGF0dXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBZ0NuQzs7R0FFRztBQUNILE1BQU0sT0FBTyxlQUFnQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBeUJ2RDs7T0FFRztJQUNILFlBQVksU0FBc0MsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDNUYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUN2RjtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDN0IsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDM0csSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7YUFDcEY7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQ3BGO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7U0FBRTtRQUMvQixJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUM1SCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUMxQixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsWUFBYSxDQUFDLENBQUM7YUFBRTtpQkFDbEY7Z0JBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLFlBQThDLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFBRTtTQUNuSDtJQUNILENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLEdBQUcsR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQTtTQUFFO1FBQzNDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUF0REQ7O0dBRUc7QUFDNkIsNkJBQWEsR0FBVSxpQkFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBDb21wbGV4VHlwZTogTWFya2V0aW5nU3RhdHVzXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1hcmtldGluZ1N0YXR1cyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNYXJrZXRpbmdTdGF0dXNBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgY291bnRyeSBpbiB3aGljaCB0aGUgbWFya2V0aW5nIGF1dGhvcmlzYXRpb24gaGFzIGJlZW4gZ3JhbnRlZCBzaGFsbCBiZSBzcGVjaWZpZWQgSXQgc2hvdWxkIGJlIHNwZWNpZmllZCB1c2luZyB0aGUgSVNPIDMxNjYg4oCRIDEgYWxwaGEtMiBjb2RlIGVsZW1lbnRzLlxyXG4gICAqL1xyXG4gIGNvdW50cnk6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGEgTWVkaWNpbmVzIFJlZ3VsYXRvcnkgQWdlbmN5IGhhcyBncmFudGVkIGEgbWFya2V0aW5nIGF1dGhvcmlzYXRpb24gZm9yIHdoaWNoIHNwZWNpZmljIHByb3Zpc2lvbnMgd2l0aGluIGEganVyaXNkaWN0aW9uIGFwcGx5LCB0aGUganVyaXNkaWN0aW9uIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYW4gYXBwcm9wcmlhdGUgY29udHJvbGxlZCB0ZXJtaW5vbG9neSBUaGUgY29udHJvbGxlZCB0ZXJtIGFuZCB0aGUgY29udHJvbGxlZCB0ZXJtIGlkZW50aWZpZXIgc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIGp1cmlzZGljdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBhdHRyaWJ1dGUgcHJvdmlkZXMgaW5mb3JtYXRpb24gb24gdGhlIHN0YXR1cyBvZiB0aGUgbWFya2V0aW5nIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBTZWUgSVNPL1RTIDIwNDQzIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBleGFtcGxlcy5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gdGhlIE1lZGljaW5hbCBQcm9kdWN0IGlzIHBsYWNlZCBvbiB0aGUgbWFya2V0IGJ5IHRoZSBNYXJrZXRpbmcgQXV0aG9yaXNhdGlvbiBIb2xkZXIgKG9yIHdoZXJlIGFwcGxpY2FibGUsIHRoZSBtYW51ZmFjdHVyZXIvZGlzdHJpYnV0b3IpIGluIGEgY291bnRyeSBhbmQvb3IganVyaXNkaWN0aW9uIHNoYWxsIGJlIHByb3ZpZGVkIEEgY29tcGxldGUgZGF0ZSBjb25zaXN0aW5nIG9mIGRheSwgbW9udGggYW5kIHllYXIgc2hhbGwgYmUgc3BlY2lmaWVkIHVzaW5nIHRoZSBJU08gODYwMSBkYXRlIGZvcm1hdCBOT1RFIOKAnFBsYWNlZCBvbiB0aGUgbWFya2V04oCdIHJlZmVycyB0byB0aGUgcmVsZWFzZSBvZiB0aGUgTWVkaWNpbmFsIFByb2R1Y3QgaW50byB0aGUgZGlzdHJpYnV0aW9uIGNoYWluLlxyXG4gICAqL1xyXG4gIGRhdGVSYW5nZTogZmhpci5QZXJpb2RBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgd2hlbiB0aGUgTWVkaWNpbmFsIFByb2R1Y3QgaXMgcGxhY2VkIG9uIHRoZSBtYXJrZXQgYnkgdGhlIE1hcmtldGluZyBBdXRob3Jpc2F0aW9uIEhvbGRlciAob3Igd2hlcmUgYXBwbGljYWJsZSwgdGhlIG1hbnVmYWN0dXJlci9kaXN0cmlidXRvcikgaW4gYSBjb3VudHJ5IGFuZC9vciBqdXJpc2RpY3Rpb24gc2hhbGwgYmUgcHJvdmlkZWQgQSBjb21wbGV0ZSBkYXRlIGNvbnNpc3Rpbmcgb2YgZGF5LCBtb250aCBhbmQgeWVhciBzaGFsbCBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIElTTyA4NjAxIGRhdGUgZm9ybWF0IE5PVEUg4oCcUGxhY2VkIG9uIHRoZSBtYXJrZXTigJ0gcmVmZXJzIHRvIHRoZSByZWxlYXNlIG9mIHRoZSBNZWRpY2luYWwgUHJvZHVjdCBpbnRvIHRoZSBkaXN0cmlidXRpb24gY2hhaW4uXHJcbiAgICovXHJcbiAgcmVzdG9yZURhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNYXJrZXRpbmdTdGF0dXMucmVzdG9yZURhdGVcclxuICAgKi9cclxuICBfcmVzdG9yZURhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIG1hcmtldGluZyBzdGF0dXMgZGVzY3JpYmVzIHRoZSBkYXRlIHdoZW4gYSBtZWRpY2luYWwgcHJvZHVjdCBpcyBhY3R1YWxseSBwdXQgb24gdGhlIG1hcmtldCBvciB0aGUgZGF0ZSBhcyBvZiB3aGljaCBpdCBpcyBubyBsb25nZXIgYXZhaWxhYmxlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1hcmtldGluZ1N0YXR1cyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01hcmtldGluZ1N0YXR1cyc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvdW50cnkgaW4gd2hpY2ggdGhlIG1hcmtldGluZyBhdXRob3Jpc2F0aW9uIGhhcyBiZWVuIGdyYW50ZWQgc2hhbGwgYmUgc3BlY2lmaWVkIEl0IHNob3VsZCBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIElTTyAzMTY2IOKAkSAxIGFscGhhLTIgY29kZSBlbGVtZW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgY291bnRyeTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBXaGVyZSBhIE1lZGljaW5lcyBSZWd1bGF0b3J5IEFnZW5jeSBoYXMgZ3JhbnRlZCBhIG1hcmtldGluZyBhdXRob3Jpc2F0aW9uIGZvciB3aGljaCBzcGVjaWZpYyBwcm92aXNpb25zIHdpdGhpbiBhIGp1cmlzZGljdGlvbiBhcHBseSwgdGhlIGp1cmlzZGljdGlvbiBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdGVybWlub2xvZ3kgVGhlIGNvbnRyb2xsZWQgdGVybSBhbmQgdGhlIGNvbnRyb2xsZWQgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMganVyaXNkaWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYXR0cmlidXRlIHByb3ZpZGVzIGluZm9ybWF0aW9uIG9uIHRoZSBzdGF0dXMgb2YgdGhlIG1hcmtldGluZyBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgU2VlIElTTy9UUyAyMDQ0MyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIHRoZSBNZWRpY2luYWwgUHJvZHVjdCBpcyBwbGFjZWQgb24gdGhlIG1hcmtldCBieSB0aGUgTWFya2V0aW5nIEF1dGhvcmlzYXRpb24gSG9sZGVyIChvciB3aGVyZSBhcHBsaWNhYmxlLCB0aGUgbWFudWZhY3R1cmVyL2Rpc3RyaWJ1dG9yKSBpbiBhIGNvdW50cnkgYW5kL29yIGp1cmlzZGljdGlvbiBzaGFsbCBiZSBwcm92aWRlZCBBIGNvbXBsZXRlIGRhdGUgY29uc2lzdGluZyBvZiBkYXksIG1vbnRoIGFuZCB5ZWFyIHNoYWxsIGJlIHNwZWNpZmllZCB1c2luZyB0aGUgSVNPIDg2MDEgZGF0ZSBmb3JtYXQgTk9URSDigJxQbGFjZWQgb24gdGhlIG1hcmtldOKAnSByZWZlcnMgdG8gdGhlIHJlbGVhc2Ugb2YgdGhlIE1lZGljaW5hbCBQcm9kdWN0IGludG8gdGhlIGRpc3RyaWJ1dGlvbiBjaGFpbi5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZVJhbmdlOiBmaGlyLlBlcmlvZHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gdGhlIE1lZGljaW5hbCBQcm9kdWN0IGlzIHBsYWNlZCBvbiB0aGUgbWFya2V0IGJ5IHRoZSBNYXJrZXRpbmcgQXV0aG9yaXNhdGlvbiBIb2xkZXIgKG9yIHdoZXJlIGFwcGxpY2FibGUsIHRoZSBtYW51ZmFjdHVyZXIvZGlzdHJpYnV0b3IpIGluIGEgY291bnRyeSBhbmQvb3IganVyaXNkaWN0aW9uIHNoYWxsIGJlIHByb3ZpZGVkIEEgY29tcGxldGUgZGF0ZSBjb25zaXN0aW5nIG9mIGRheSwgbW9udGggYW5kIHllYXIgc2hhbGwgYmUgc3BlY2lmaWVkIHVzaW5nIHRoZSBJU08gODYwMSBkYXRlIGZvcm1hdCBOT1RFIOKAnFBsYWNlZCBvbiB0aGUgbWFya2V04oCdIHJlZmVycyB0byB0aGUgcmVsZWFzZSBvZiB0aGUgTWVkaWNpbmFsIFByb2R1Y3QgaW50byB0aGUgZGlzdHJpYnV0aW9uIGNoYWluLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXN0b3JlRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNYXJrZXRpbmdTdGF0dXMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNYXJrZXRpbmdTdGF0dXNBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY291bnRyeSddKSB7IHRoaXMuY291bnRyeSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY291bnRyeSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvdW50cnkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydqdXJpc2RpY3Rpb24nXSkgeyB0aGlzLmp1cmlzZGljdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuanVyaXNkaWN0aW9uLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN0YXR1cywgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGVSYW5nZSddKSB7IHRoaXMuZGF0ZVJhbmdlID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5kYXRlUmFuZ2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRlUmFuZ2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXN0b3JlRGF0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5yZXN0b3JlRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5yZXN0b3JlRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVzdG9yZURhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZXN0b3JlRGF0ZSkgeyB0aGlzLnJlc3RvcmVEYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Jlc3RvcmVEYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVzdG9yZURhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9yZXN0b3JlRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWFya2V0aW5nU3RhdHVzJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnY291bnRyeScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnanVyaXNkaWN0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzdGF0dXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2RhdGVSYW5nZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVzdG9yZURhdGUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19