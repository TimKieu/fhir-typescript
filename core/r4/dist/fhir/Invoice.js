// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Invoice
import * as fhir from '../fhir.js';
// @ts-ignore
import { InvoicePriceComponentTypeCodes } from '../fhirValueSets/InvoicePriceComponentTypeCodes.js';
// @ts-ignore
import { InvoiceStatusCodes } from '../fhirValueSets/InvoiceStatusCodes.js';
/**
 * Indicates who or what performed or participated in the charged service.
 */
export class InvoiceParticipant extends fhir.BackboneElement {
    /**
     * Default constructor for InvoiceParticipant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['role']) {
            this.role = new fhir.CodeableConcept(source.role);
        }
        if (source['actor']) {
            this.actor = new fhir.Reference(source.actor);
        }
        else {
            this.actor = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Invoice.participant';
        }
        if (this["role"]) {
            issues.push(...this.role.doModelValidation(expression + '.role'));
        }
        if (!this['actor']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property actor fhir: Invoice.participant.actor:Reference', expression: [expression] });
        }
        if (this["actor"]) {
            issues.push(...this.actor.doModelValidation(expression + '.actor'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
InvoiceParticipant._fts_dataType = 'InvoiceParticipant';
/**
 * The price for a ChargeItem may be calculated as a base price with surcharges/deductions that apply in certain conditions. A ChargeItemDefinition resource that defines the prices, factors and conditions that apply to a billing code is currently under development. The priceComponent element can be used to offer transparency to the recipient of the Invoice as to how the prices have been calculated.
 */
export class InvoiceLineItemPriceComponent extends fhir.BackboneElement {
    /**
     * Default constructor for InvoiceLineItemPriceComponent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['factor']) {
            this.factor = new fhir.FhirDecimal({ value: source.factor });
        }
        if (source['_factor']) {
            if (this.factor) {
                this.factor.addExtendedProperties(source._factor);
            }
            else {
                this.factor = new fhir.FhirDecimal(source._factor);
            }
        }
        if (source['amount']) {
            this.amount = new fhir.Money(source.amount);
        }
    }
    /**
     * Required-bound Value Set for type (Invoice.lineItem.priceComponent.type)
     */
    static get typeRequiredCodes() {
        return InvoicePriceComponentTypeCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Invoice.lineItem.priceComponent';
        }
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type fhir: Invoice.lineItem.priceComponent.type:code', expression: [expression] });
        }
        if (this['type'] && (!Object.values(InvoicePriceComponentTypeCodes).includes(this.type.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property type fhir: Invoice.lineItem.priceComponent.type:code Required binding to: InvoicePriceComponentType', expression: [expression] });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation(expression + '.code'));
        }
        if (this["factor"]) {
            issues.push(...this.factor.doModelValidation(expression + '.factor'));
        }
        if (this["amount"]) {
            issues.push(...this.amount.doModelValidation(expression + '.amount'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
InvoiceLineItemPriceComponent._fts_dataType = 'InvoiceLineItemPriceComponent';
/**
 * Each line item represents one charge for goods and services rendered. Details such as date, code and amount are found in the referenced ChargeItem resource.
 */
export class InvoiceLineItem extends fhir.BackboneElement {
    /**
     * Default constructor for InvoiceLineItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence']) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence });
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence);
            }
        }
        if (source['chargeItem']) {
            this.chargeItem = source.chargeItem;
        }
        else if (source['chargeItemReference']) {
            this.chargeItem = new fhir.Reference(source.chargeItemReference);
        }
        else if (source['chargeItemCodeableConcept']) {
            this.chargeItem = new fhir.CodeableConcept(source.chargeItemCodeableConcept);
        }
        else {
            this.chargeItem = null;
        }
        if (source['priceComponent']) {
            this.priceComponent = source.priceComponent.map((x) => new fhir.InvoiceLineItemPriceComponent(x));
        }
        else {
            this.priceComponent = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Invoice.lineItem';
        }
        if (this["sequence"]) {
            issues.push(...this.sequence.doModelValidation(expression + '.sequence'));
        }
        if (!this['chargeItem']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property chargeItem fhir: Invoice.lineItem.chargeItem[x]:', expression: [expression] });
        }
        if (this["priceComponent"]) {
            this.priceComponent.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.priceComponent[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
InvoiceLineItem._fts_dataType = 'InvoiceLineItem';
/**
 * Internal flag to properly serialize choice-type element Invoice.lineItem.chargeItem[x]
 */
InvoiceLineItem._fts_chargeItemIsChoice = true;
/**
 * Invoice containing collected ChargeItems from an Account with calculated individual and total price for Billing purpose.
 */
export class Invoice extends fhir.DomainResource {
    /**
     * Default constructor for Invoice - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Invoice';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['cancelledReason']) {
            this.cancelledReason = new fhir.FhirString({ value: source.cancelledReason });
        }
        if (source['_cancelledReason']) {
            if (this.cancelledReason) {
                this.cancelledReason.addExtendedProperties(source._cancelledReason);
            }
            else {
                this.cancelledReason = new fhir.FhirString(source._cancelledReason);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['recipient']) {
            this.recipient = new fhir.Reference(source.recipient);
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['participant']) {
            this.participant = source.participant.map((x) => new fhir.InvoiceParticipant(x));
        }
        else {
            this.participant = [];
        }
        if (source['issuer']) {
            this.issuer = new fhir.Reference(source.issuer);
        }
        if (source['account']) {
            this.account = new fhir.Reference(source.account);
        }
        if (source['lineItem']) {
            this.lineItem = source.lineItem.map((x) => new fhir.InvoiceLineItem(x));
        }
        else {
            this.lineItem = [];
        }
        if (source['totalPriceComponent']) {
            this.totalPriceComponent = source.totalPriceComponent.map((x) => new fhir.InvoiceLineItemPriceComponent(x));
        }
        else {
            this.totalPriceComponent = [];
        }
        if (source['totalNet']) {
            this.totalNet = new fhir.Money(source.totalNet);
        }
        if (source['totalGross']) {
            this.totalGross = new fhir.Money(source.totalGross);
        }
        if (source['paymentTerms']) {
            this.paymentTerms = new fhir.FhirMarkdown({ value: source.paymentTerms });
        }
        if (source['_paymentTerms']) {
            if (this.paymentTerms) {
                this.paymentTerms.addExtendedProperties(source._paymentTerms);
            }
            else {
                this.paymentTerms = new fhir.FhirMarkdown(source._paymentTerms);
            }
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Required-bound Value Set for status (Invoice.status)
     */
    static get statusRequiredCodes() {
        return InvoiceStatusCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Invoice';
        }
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType fhir: Invoice.resourceType:"Invoice"', expression: [expression] });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.identifier[${i}]`)); });
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status fhir: Invoice.status:code', expression: [expression] });
        }
        if (this['status'] && (!Object.values(InvoiceStatusCodes).includes(this.status.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property status fhir: Invoice.status:code Required binding to: InvoiceStatus', expression: [expression] });
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation(expression + '.status'));
        }
        if (this["cancelledReason"]) {
            issues.push(...this.cancelledReason.doModelValidation(expression + '.cancelledReason'));
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["subject"]) {
            issues.push(...this.subject.doModelValidation(expression + '.subject'));
        }
        if (this["recipient"]) {
            issues.push(...this.recipient.doModelValidation(expression + '.recipient'));
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation(expression + '.date'));
        }
        if (this["participant"]) {
            this.participant.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.participant[${i}]`)); });
        }
        if (this["issuer"]) {
            issues.push(...this.issuer.doModelValidation(expression + '.issuer'));
        }
        if (this["account"]) {
            issues.push(...this.account.doModelValidation(expression + '.account'));
        }
        if (this["lineItem"]) {
            this.lineItem.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.lineItem[${i}]`)); });
        }
        if (this["totalPriceComponent"]) {
            this.totalPriceComponent.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.totalPriceComponent[${i}]`)); });
        }
        if (this["totalNet"]) {
            issues.push(...this.totalNet.doModelValidation(expression + '.totalNet'));
        }
        if (this["totalGross"]) {
            issues.push(...this.totalGross.doModelValidation(expression + '.totalGross'));
        }
        if (this["paymentTerms"]) {
            issues.push(...this.paymentTerms.doModelValidation(expression + '.paymentTerms'));
        }
        if (this["note"]) {
            this.note.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.note[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Invoice._fts_dataType = 'Invoice';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW52b2ljZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvSW52b2ljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyx5QkFBeUI7QUFFekIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw4QkFBOEIsRUFBc0MsTUFBTSxvREFBb0QsQ0FBQztBQUd4SSxhQUFhO0FBQ2IsT0FBTyxFQUFFLGtCQUFrQixFQUEwQixNQUFNLHdDQUF3QyxDQUFDO0FBZXBHOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGtCQUFtQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBYTFEOztPQUVHO0lBQ0gsWUFBWSxTQUF5QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMvRixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FBRTthQUNsRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQUU7SUFDN0IsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyxxQkFBcUIsQ0FBQTtTQUFFO1FBQzdELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ2xCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLDJFQUEyRSxFQUFFLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUMxSztRQUNELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN6RixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQWpDRDs7R0FFRztBQUM2QixnQ0FBYSxHQUFVLG9CQUFvQixDQUFDO0FBOEQ5RTs7R0FFRztBQUNILE1BQU0sT0FBTyw2QkFBOEIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXFCckU7O09BRUc7SUFDSCxZQUFZLFNBQW9ELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBb0MsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUMxRztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQUU7aUJBQzdEO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFvQyxNQUFNLENBQUMsS0FBK0IsQ0FBQyxDQUFDO2FBQUU7U0FDbkg7UUFDRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNyRixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsT0FBUSxDQUFDLENBQUM7YUFBRTtpQkFDbkU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE9BQXdDLENBQUMsQ0FBQzthQUFFO1NBQzlGO1FBQ0QsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FBRTtJQUN4RSxDQUFDO0lBQ0Q7O09BRUc7SUFDSSxNQUFNLEtBQUssaUJBQWlCO1FBQ2pDLE9BQU8sOEJBQThCLENBQUM7SUFDeEMsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyxpQ0FBaUMsQ0FBQTtTQUFFO1FBQ3pFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsZ0ZBQWdGLEVBQUUsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQy9LO1FBQ0QsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsOEJBQThCLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFZLENBQUMsQ0FBQyxFQUFFO1lBQ3JHLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsV0FBVyxFQUFFLDJIQUEySCxFQUFFLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUM5TjtRQUNELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdEYsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQzVGLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUM1RixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTlERDs7R0FFRztBQUM2QiwyQ0FBYSxHQUFVLCtCQUErQixDQUFDO0FBMkZ6Rjs7R0FFRztBQUNILE1BQU0sT0FBTyxlQUFnQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBcUJ2RDs7T0FFRztJQUNILFlBQVksU0FBc0MsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDNUYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDL0YsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDdkIsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUFFLElBQUksQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFNBQVUsQ0FBQyxDQUFDO2FBQUU7aUJBQ3pFO2dCQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxTQUE4QyxDQUFDLENBQUM7YUFBRTtTQUMxRztRQUNELElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDO1NBQUU7YUFDN0QsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1NBQUU7YUFDeEcsSUFBSSxNQUFNLENBQUMsMkJBQTJCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1NBQUU7YUFDMUg7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQ2hDLElBQUksTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDL0g7WUFBRSxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztTQUFFO0lBQ3BDLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLGFBQW9CLEVBQUU7UUFDdEQsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRSxJQUFJLFVBQVUsS0FBSyxFQUFFLEVBQUU7WUFBRSxVQUFVLEdBQUcsa0JBQWtCLENBQUE7U0FBRTtRQUMxRCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDbEcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUN2QixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSw0RUFBNEUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDM0s7UUFDRCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNsSixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQWpERDs7R0FFRztBQUM2Qiw2QkFBYSxHQUFVLGlCQUFpQixDQUFDO0FBU3pFOztHQUVHO0FBQ3VCLHVDQUF1QixHQUFRLElBQUksQ0FBQztBQThIaEU7O0dBRUc7QUFDSCxNQUFNLE9BQU8sT0FBUSxTQUFRLElBQUksQ0FBQyxjQUFjO0lBeUU5Qzs7T0FFRztJQUNILFlBQVksU0FBOEIsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDcEYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztRQUM5QixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDaEc7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQXdCLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDcEc7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxPQUFRLENBQUMsQ0FBQzthQUFFO2lCQUNuRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBd0IsTUFBTSxDQUFDLE9BQWlDLENBQUMsQ0FBQzthQUFFO1NBQzNHO1FBQ0QsSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxlQUFlLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDL0csSUFBSSxNQUFNLENBQUMsa0JBQWtCLENBQUMsRUFBRTtZQUM5QixJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsZ0JBQWlCLENBQUMsQ0FBQzthQUFFO2lCQUM5RjtnQkFBRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsZ0JBQWdELENBQUMsQ0FBQzthQUFFO1NBQzlHO1FBQ0QsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQzdFLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7UUFDbkYsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2hGLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ25CLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQzthQUFFO2lCQUM3RDtnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBdUMsQ0FBQyxDQUFDO2FBQUU7U0FDNUY7UUFDRCxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMzRztZQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDL0IsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQzdFLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMvRjtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDOUk7WUFBRSxJQUFJLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDdkMsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FBRTtRQUM1RSxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUFFO1FBQ2xGLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBQyxDQUFDLENBQUM7U0FBRTtRQUN4RyxJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUMzQixJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsYUFBYyxDQUFDLENBQUM7YUFBRTtpQkFDckY7Z0JBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLGFBQStDLENBQUMsQ0FBQzthQUFFO1NBQzVHO1FBQ0QsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzlFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7U0FBRTtJQUMxQixDQUFDO0lBQ0Q7O09BRUc7SUFDSSxNQUFNLEtBQUssbUJBQW1CO1FBQ25DLE9BQU8sa0JBQWtCLENBQUM7SUFDNUIsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyxTQUFTLENBQUE7U0FBRTtRQUNqRCxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLDZFQUE2RSxFQUFFLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUM1SztRQUNELElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDdEksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSw0REFBNEQsRUFBRSxVQUFVLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDM0o7UUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQVksQ0FBQyxDQUFDLEVBQUU7WUFDN0YsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsMkZBQTJGLEVBQUUsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzlMO1FBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQzVGLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdkgsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUMvRixJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDckcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUN6SSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDNUYsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQy9GLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDaEksSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyx3QkFBd0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNqSyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDbEcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3hHLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUM5RyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ3BILE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBM0pEOztHQUVHO0FBQzZCLHFCQUFhLEdBQVUsU0FBUyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBJbnZvaWNlXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kaW5ncywgSW52b2ljZVByaWNlQ29tcG9uZW50VHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludm9pY2VQcmljZUNvbXBvbmVudFR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZXMsICBJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludm9pY2VQcmljZUNvbXBvbmVudFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW52b2ljZVN0YXR1c0NvZGluZ3MsIEludm9pY2VTdGF0dXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnZvaWNlU3RhdHVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW52b2ljZVN0YXR1c0NvZGVzLCAgSW52b2ljZVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnZvaWNlU3RhdHVzQ29kZXMuanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW52b2ljZVBhcnRpY2lwYW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEludm9pY2VQYXJ0aWNpcGFudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgdHlwZSBvZiBpbnZvbHZlbWVudCAoZS5nLiB0cmFuc2NyaXB0aW9uaXN0LCBjcmVhdG9yIGV0Yy4pLiBJZiB0aGUgaW52b2ljZSBoYXMgYmVlbiBjcmVhdGVkIGF1dG9tYXRpY2FsbHksIHRoZSBQYXJ0aWNpcGFudCBtYXkgYmUgYSBiaWxsaW5nIGVuZ2luZSBvciBhbm90aGVyIGtpbmQgb2YgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHJvbGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXZpY2UsIHByYWN0aXRpb25lciwgZXRjLiB3aG8gcGVyZm9ybWVkIG9yIHBhcnRpY2lwYXRlZCBpbiB0aGUgc2VydmljZS5cclxuICAgKi9cclxuICBhY3RvcjogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmRpY2F0ZXMgd2hvIG9yIHdoYXQgcGVyZm9ybWVkIG9yIHBhcnRpY2lwYXRlZCBpbiB0aGUgY2hhcmdlZCBzZXJ2aWNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEludm9pY2VQYXJ0aWNpcGFudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ludm9pY2VQYXJ0aWNpcGFudCc7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSB0eXBlIG9mIGludm9sdmVtZW50IChlLmcuIHRyYW5zY3JpcHRpb25pc3QsIGNyZWF0b3IgZXRjLikuIElmIHRoZSBpbnZvaWNlIGhhcyBiZWVuIGNyZWF0ZWQgYXV0b21hdGljYWxseSwgdGhlIFBhcnRpY2lwYW50IG1heSBiZSBhIGJpbGxpbmcgZW5naW5lIG9yIGFub3RoZXIga2luZCBvZiBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHJvbGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRldmljZSwgcHJhY3RpdGlvbmVyLCBldGMuIHdobyBwZXJmb3JtZWQgb3IgcGFydGljaXBhdGVkIGluIHRoZSBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3RvcjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbnZvaWNlUGFydGljaXBhbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbnZvaWNlUGFydGljaXBhbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncm9sZSddKSB7IHRoaXMucm9sZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uucm9sZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdG9yJ10pIHsgdGhpcy5hY3RvciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuYWN0b3IpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY3RvciA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnSW52b2ljZS5wYXJ0aWNpcGFudCcgfVxyXG4gICAgaWYgKHRoaXNbXCJyb2xlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucm9sZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucm9sZScpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydhY3RvciddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBhY3RvciBmaGlyOiBJbnZvaWNlLnBhcnRpY2lwYW50LmFjdG9yOlJlZmVyZW5jZScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiYWN0b3JcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hY3Rvci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuYWN0b3InKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY29kZSBpZGVudGlmaWVzIHRoZSB0eXBlIG9mIHRoZSBjb21wb25lbnQuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5GaGlyQ29kZTxJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEludm9pY2UubGluZUl0ZW0ucHJpY2VDb21wb25lbnQudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBpZGVudGlmaWVzIHRoZSBjb21wb25lbnQuIENvZGVzIG1heSBiZSB1c2VkIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBraW5kcyBvZiB0YXhlcywgc3VyY2hhcmdlcywgZGlzY291bnRzIGV0Yy5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBubyByZWFzb24gdG8gY2FycnkgdGhlIHByaWNlIGluIHRoZSBpbnN0YW5jZSBvZiBhIENoYXJnZUl0ZW0gdW5sZXNzIGNpcmN1bXN0YW5jZXMgcmVxdWlyZSBhIG1hbnVhbCBvdmVycmlkZS4gVGhlIGxpc3QgcHJpY2VzIG9yIGFyZSB1c3VhbGx5IGRlZmluZWQgaW4gYSBiYWNrIGNhdGFsb2d1ZSBvZiB0aGUgYmlsbGluZyBjb2RlcyAgKHNlZSBDaGFyZ2VJdGVtLmRlZmluaXRpb24pLiBEZXJpdmVkIHByb2ZpbGVzIG1heSByZXF1aXJlIGEgQ2hhcmdlSXRlbS5vdmVycmlkZVJlYXNvbiB0byBiZSBwcm92aWRlZCBpZiBlaXRoZXIgZmFjdG9yIG9yIHByaWNlIGFyZSBtYW51YWxseSBvdmVycmlkZGVuLlxyXG4gICAqL1xyXG4gIGZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW52b2ljZS5saW5lSXRlbS5wcmljZUNvbXBvbmVudC5mYWN0b3JcclxuICAgKi9cclxuICBfZmFjdG9yPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBubyByZWFzb24gdG8gY2FycnkgdGhlIHByaWNlIGluIHRoZSBpbnN0YW5jZSBvZiBhIENoYXJnZUl0ZW0gdW5sZXNzIGNpcmN1bXN0YW5jZXMgcmVxdWlyZSBhIG1hbnVhbCBvdmVycmlkZS4gVGhlIGxpc3QgcHJpY2VzIG9yIGFyZSB1c3VhbGx5IGRlZmluZWQgaW4gYSBiYWNrIGNhdGFsb2d1ZSBvZiB0aGUgYmlsbGluZyBjb2RlcyAgKHNlZSBDaGFyZ2VJdGVtLmRlZmluaXRpb24pLiBEZXJpdmVkIHByb2ZpbGVzIG1heSByZXF1aXJlIGEgQ2hhcmdlSXRlbS5vdmVycmlkZVJlYXNvbiB0byBiZSBwcm92aWRlZCBpZiBlaXRoZXIgZmFjdG9yIG9yIHByaWNlIGFyZSBtYW51YWxseSBvdmVycmlkZGVuLlxyXG4gICAqL1xyXG4gIGFtb3VudD86IGZoaXIuTW9uZXlBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwcmljZSBmb3IgYSBDaGFyZ2VJdGVtIG1heSBiZSBjYWxjdWxhdGVkIGFzIGEgYmFzZSBwcmljZSB3aXRoIHN1cmNoYXJnZXMvZGVkdWN0aW9ucyB0aGF0IGFwcGx5IGluIGNlcnRhaW4gY29uZGl0aW9ucy4gQSBDaGFyZ2VJdGVtRGVmaW5pdGlvbiByZXNvdXJjZSB0aGF0IGRlZmluZXMgdGhlIHByaWNlcywgZmFjdG9ycyBhbmQgY29uZGl0aW9ucyB0aGF0IGFwcGx5IHRvIGEgYmlsbGluZyBjb2RlIGlzIGN1cnJlbnRseSB1bmRlciBkZXZlbG9wbWVudC4gVGhlIHByaWNlQ29tcG9uZW50IGVsZW1lbnQgY2FuIGJlIHVzZWQgdG8gb2ZmZXIgdHJhbnNwYXJlbmN5IHRvIHRoZSByZWNpcGllbnQgb2YgdGhlIEludm9pY2UgYXMgdG8gaG93IHRoZSBwcmljZXMgaGF2ZSBiZWVuIGNhbGN1bGF0ZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudCc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjb2RlIGlkZW50aWZpZXMgdGhlIHR5cGUgb2YgdGhlIGNvbXBvbmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyQ29kZTxJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgaWRlbnRpZmllcyB0aGUgY29tcG9uZW50LiBDb2RlcyBtYXkgYmUgdXNlZCB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4ga2luZHMgb2YgdGF4ZXMsIHN1cmNoYXJnZXMsIGRpc2NvdW50cyBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjdG9yPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8SW52b2ljZVByaWNlQ29tcG9uZW50VHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8SW52b2ljZVByaWNlQ29tcG9uZW50VHlwZUNvZGVUeXBlPihzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydmYWN0b3InXSkgeyB0aGlzLmZhY3RvciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmZhY3Rvcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZmFjdG9yJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZmFjdG9yKSB7IHRoaXMuZmFjdG9yLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ZhY3RvciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZhY3RvciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fZmFjdG9yIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW1vdW50J10pIHsgdGhpcy5hbW91bnQgPSBuZXcgZmhpci5Nb25leShzb3VyY2UuYW1vdW50KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHR5cGUgKEludm9pY2UubGluZUl0ZW0ucHJpY2VDb21wb25lbnQudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0ludm9pY2UubGluZUl0ZW0ucHJpY2VDb21wb25lbnQnIH1cclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0eXBlIGZoaXI6IEludm9pY2UubGluZUl0ZW0ucHJpY2VDb21wb25lbnQudHlwZTpjb2RlJywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbJ3R5cGUnXSAmJiAoIU9iamVjdC52YWx1ZXMoSW52b2ljZVByaWNlQ29tcG9uZW50VHlwZUNvZGVzKS5pbmNsdWRlcyh0aGlzLnR5cGUudmFsdWUgYXMgYW55KSkpIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ2NvZGUtaW52YWxpZCcsIGRpYWdub3N0aWNzOiAnSW52YWxpZCBjb2RlIHByb3BlcnR5IHR5cGUgZmhpcjogSW52b2ljZS5saW5lSXRlbS5wcmljZUNvbXBvbmVudC50eXBlOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogSW52b2ljZVByaWNlQ29tcG9uZW50VHlwZScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnR5cGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29kZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvZGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmNvZGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZmFjdG9yXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZmFjdG9yLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5mYWN0b3InKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYW1vdW50XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYW1vdW50LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5hbW91bnQnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbnZvaWNlTGluZUl0ZW0gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW52b2ljZUxpbmVJdGVtQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2UgaW4gd2hpY2ggdGhlIGl0ZW1zIGFwcGVhciBvbiB0aGUgaW52b2ljZS5cclxuICAgKi9cclxuICBzZXF1ZW5jZT86IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEludm9pY2UubGluZUl0ZW0uc2VxdWVuY2VcclxuICAgKi9cclxuICBfc2VxdWVuY2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBDaGFyZ2VJdGVtIGNvbnRhaW5zIGluZm9ybWF0aW9uIHN1Y2ggYXMgdGhlIGJpbGxpbmcgY29kZSwgZGF0ZSwgYW1vdW50IGV0Yy4gSWYgbm8gZnVydGhlciBkZXRhaWxzIGFyZSByZXF1aXJlZCBmb3IgdGhlIGxpbmVJdGVtLCBpbmxpbmUgYmlsbGluZyBjb2RlcyBjYW4gYmUgYWRkZWQgdXNpbmcgdGhlIENvZGVhYmxlQ29uY2VwdCBkYXRhIHR5cGUgaW5zdGVhZCBvZiB0aGUgUmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIGNoYXJnZUl0ZW0/OiBmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIENoYXJnZUl0ZW0gY29udGFpbnMgaW5mb3JtYXRpb24gc3VjaCBhcyB0aGUgYmlsbGluZyBjb2RlLCBkYXRlLCBhbW91bnQgZXRjLiBJZiBubyBmdXJ0aGVyIGRldGFpbHMgYXJlIHJlcXVpcmVkIGZvciB0aGUgbGluZUl0ZW0sIGlubGluZSBiaWxsaW5nIGNvZGVzIGNhbiBiZSBhZGRlZCB1c2luZyB0aGUgQ29kZWFibGVDb25jZXB0IGRhdGEgdHlwZSBpbnN0ZWFkIG9mIHRoZSBSZWZlcmVuY2UuXHJcbiAgICovXHJcbiAgY2hhcmdlSXRlbVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIENoYXJnZUl0ZW0gY29udGFpbnMgaW5mb3JtYXRpb24gc3VjaCBhcyB0aGUgYmlsbGluZyBjb2RlLCBkYXRlLCBhbW91bnQgZXRjLiBJZiBubyBmdXJ0aGVyIGRldGFpbHMgYXJlIHJlcXVpcmVkIGZvciB0aGUgbGluZUl0ZW0sIGlubGluZSBiaWxsaW5nIGNvZGVzIGNhbiBiZSBhZGRlZCB1c2luZyB0aGUgQ29kZWFibGVDb25jZXB0IGRhdGEgdHlwZSBpbnN0ZWFkIG9mIHRoZSBSZWZlcmVuY2UuXHJcbiAgICovXHJcbiAgY2hhcmdlSXRlbUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaWNlIGZvciBhIENoYXJnZUl0ZW0gbWF5IGJlIGNhbGN1bGF0ZWQgYXMgYSBiYXNlIHByaWNlIHdpdGggc3VyY2hhcmdlcy9kZWR1Y3Rpb25zIHRoYXQgYXBwbHkgaW4gY2VydGFpbiBjb25kaXRpb25zLiBBIENoYXJnZUl0ZW1EZWZpbml0aW9uIHJlc291cmNlIHRoYXQgZGVmaW5lcyB0aGUgcHJpY2VzLCBmYWN0b3JzIGFuZCBjb25kaXRpb25zIHRoYXQgYXBwbHkgdG8gYSBiaWxsaW5nIGNvZGUgaXMgY3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50LiBUaGUgcHJpY2VDb21wb25lbnQgZWxlbWVudCBjYW4gYmUgdXNlZCB0byBvZmZlciB0cmFuc3BhcmVuY3kgdG8gdGhlIHJlY2lwaWVudCBvZiB0aGUgSW52b2ljZSBhcyB0byBob3cgdGhlIHByaWNlcyBoYXZlIGJlZW4gY2FsY3VsYXRlZC5cclxuICAgKi9cclxuICBwcmljZUNvbXBvbmVudD86IGZoaXIuSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRWFjaCBsaW5lIGl0ZW0gcmVwcmVzZW50cyBvbmUgY2hhcmdlIGZvciBnb29kcyBhbmQgc2VydmljZXMgcmVuZGVyZWQuIERldGFpbHMgc3VjaCBhcyBkYXRlLCBjb2RlIGFuZCBhbW91bnQgYXJlIGZvdW5kIGluIHRoZSByZWZlcmVuY2VkIENoYXJnZUl0ZW0gcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW52b2ljZUxpbmVJdGVtIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSW52b2ljZUxpbmVJdGVtJztcclxuICAvKipcclxuICAgKiBTZXF1ZW5jZSBpbiB3aGljaCB0aGUgaXRlbXMgYXBwZWFyIG9uIHRoZSBpbnZvaWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZT86IGZoaXIuRmhpclBvc2l0aXZlSW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgQ2hhcmdlSXRlbSBjb250YWlucyBpbmZvcm1hdGlvbiBzdWNoIGFzIHRoZSBiaWxsaW5nIGNvZGUsIGRhdGUsIGFtb3VudCBldGMuIElmIG5vIGZ1cnRoZXIgZGV0YWlscyBhcmUgcmVxdWlyZWQgZm9yIHRoZSBsaW5lSXRlbSwgaW5saW5lIGJpbGxpbmcgY29kZXMgY2FuIGJlIGFkZGVkIHVzaW5nIHRoZSBDb2RlYWJsZUNvbmNlcHQgZGF0YSB0eXBlIGluc3RlYWQgb2YgdGhlIFJlZmVyZW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgY2hhcmdlSXRlbTogKGZoaXIuUmVmZXJlbmNlfGZoaXIuQ29kZWFibGVDb25jZXB0KXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgSW52b2ljZS5saW5lSXRlbS5jaGFyZ2VJdGVtW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2NoYXJnZUl0ZW1Jc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgcHJpY2UgZm9yIGEgQ2hhcmdlSXRlbSBtYXkgYmUgY2FsY3VsYXRlZCBhcyBhIGJhc2UgcHJpY2Ugd2l0aCBzdXJjaGFyZ2VzL2RlZHVjdGlvbnMgdGhhdCBhcHBseSBpbiBjZXJ0YWluIGNvbmRpdGlvbnMuIEEgQ2hhcmdlSXRlbURlZmluaXRpb24gcmVzb3VyY2UgdGhhdCBkZWZpbmVzIHRoZSBwcmljZXMsIGZhY3RvcnMgYW5kIGNvbmRpdGlvbnMgdGhhdCBhcHBseSB0byBhIGJpbGxpbmcgY29kZSBpcyBjdXJyZW50bHkgdW5kZXIgZGV2ZWxvcG1lbnQuIFRoZSBwcmljZUNvbXBvbmVudCBlbGVtZW50IGNhbiBiZSB1c2VkIHRvIG9mZmVyIHRyYW5zcGFyZW5jeSB0byB0aGUgcmVjaXBpZW50IG9mIHRoZSBJbnZvaWNlIGFzIHRvIGhvdyB0aGUgcHJpY2VzIGhhdmUgYmVlbiBjYWxjdWxhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmljZUNvbXBvbmVudDogZmhpci5JbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEludm9pY2VMaW5lSXRlbSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEludm9pY2VMaW5lSXRlbUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzZXF1ZW5jZSddKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NlcXVlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2VxdWVuY2UpIHsgdGhpcy5zZXF1ZW5jZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXF1ZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHNvdXJjZS5fc2VxdWVuY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJQb3NpdGl2ZUludEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2hhcmdlSXRlbSddKSB7IHRoaXMuY2hhcmdlSXRlbSA9IHNvdXJjZS5jaGFyZ2VJdGVtOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2NoYXJnZUl0ZW1SZWZlcmVuY2UnXSkgeyB0aGlzLmNoYXJnZUl0ZW0gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNoYXJnZUl0ZW1SZWZlcmVuY2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2NoYXJnZUl0ZW1Db2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLmNoYXJnZUl0ZW0gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNoYXJnZUl0ZW1Db2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jaGFyZ2VJdGVtID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJpY2VDb21wb25lbnQnXSkgeyB0aGlzLnByaWNlQ29tcG9uZW50ID0gc291cmNlLnByaWNlQ29tcG9uZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcmljZUNvbXBvbmVudCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0ludm9pY2UubGluZUl0ZW0nIH1cclxuICAgIGlmICh0aGlzW1wic2VxdWVuY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zZXF1ZW5jZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc2VxdWVuY2UnKSk7IH1cclxuICAgIGlmICghdGhpc1snY2hhcmdlSXRlbSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBjaGFyZ2VJdGVtIGZoaXI6IEludm9pY2UubGluZUl0ZW0uY2hhcmdlSXRlbVt4XTonLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInByaWNlQ29tcG9uZW50XCJdKSB7IHRoaXMucHJpY2VDb21wb25lbnQuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnByaWNlQ29tcG9uZW50WyR7aX1dYCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW52b2ljZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbnZvaWNlQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiSW52b2ljZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIG9mIHRoaXMgSW52b2ljZSwgb2Z0ZW4gdXNlZCBmb3IgcmVmZXJlbmNlIGluIGNvcnJlc3BvbmRlbmNlIGFib3V0IHRoaXMgaW52b2ljZSBvciBmb3IgdHJhY2tpbmcgb2YgcGF5bWVudHMuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIEludm9pY2UuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPEludm9pY2VTdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW52b2ljZS5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBEZXJpdmVkIFByb2ZpbGVzIG1heSBjaG9vc2UgdG8gYWRkIGludmFyaWFudHMgcmVxdWlyaW5nIHRoaXMgZmllbGQgdG8gYmUgcG9wdWxhdGVkIGlmIGVpdGhlciBwcmljZU92ZXJyaWRlIG9yIGZhY3Rvck92ZXJyaWRlIGhhdmUgYmVlbiBmaWxsZWQuXHJcbiAgICovXHJcbiAgY2FuY2VsbGVkUmVhc29uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEludm9pY2UuY2FuY2VsbGVkUmVhc29uXHJcbiAgICovXHJcbiAgX2NhbmNlbGxlZFJlYXNvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBJbnZvaWNlIGRlcGVuZGluZyBvbiBkb21haW4sIHJlYWxtIGFuIHVzYWdlIChlLmcuIGludGVybmFsL2V4dGVybmFsLCBkZW50YWwsIHByZWxpbWluYXJ5KS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBzZXQgb2YgaW5kaXZpZHVhbHMgcmVjZWl2aW5nIHRoZSBnb29kcyBhbmQgc2VydmljZXMgYmlsbGVkIGluIHRoaXMgaW52b2ljZS5cclxuICAgKi9cclxuICBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBPcmdhbml6YXRpb24gcmVzcG9uc2libGUgZm9yIGJhbGFuY2luZyBvZiB0aGlzIGludm9pY2UuXHJcbiAgICovXHJcbiAgcmVjaXBpZW50PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGlzdCBvZiB0eXBlcyBtYXkgYmUgY29uc3RyYWluZWQgYXMgYXBwcm9wcmlhdGUgZm9yIHRoZSB0eXBlIG9mIGNoYXJnZSBpdGVtLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbnZvaWNlLmRhdGVcclxuICAgKi9cclxuICBfZGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdobyBvciB3aGF0IHBlcmZvcm1lZCBvciBwYXJ0aWNpcGF0ZWQgaW4gdGhlIGNoYXJnZWQgc2VydmljZS5cclxuICAgKi9cclxuICBwYXJ0aWNpcGFudD86IGZoaXIuSW52b2ljZVBhcnRpY2lwYW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcmFjdGl0aW9uZXJzIGFuZCBEZXZpY2VzIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggbXVsdGlwbGUgb3JnYW5pemF0aW9ucy4gSXQgaGFzIHRvIGJlIG1hZGUgY2xlYXIsIG9uIGJlaGFsZiBvZiB3aGljaCBPcmdhbml6YXRpb24gdGhlIHNlcnZpY2VzIGhhdmUgYmVlbiByZW5kZXJlZC5cclxuICAgKi9cclxuICBpc3N1ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN5c3RlbXMgcG9zdGluZyB0aGUgQ2hhcmdlSXRlbXMgbWlnaHQgbm90IGFsd2F5cyBiZSBhYmxlIHRvIGRldGVybWluZSwgd2hpY2ggYWNjb3VudHMgdGhlIEl0ZW1zIG5lZWQgdG8gYmUgcGxhY2VzIGludG8uIEl0IGlzIHVwIHRvIHRoZSBwb3Rwcm9jZXNzaW5nIEZpbmFuY2lhbCBTeXN0ZW0gdG8gYXBwbHkgaW50ZXJuYWwgcnVsZXMgdG8gZGVjaWRlIGJhc2VkIG9uIHRoZSBFbmNvdW50ZXIvRXBpc29kZU9mQ2FyZS9QYXRpZW50L0NvdmVyYWdlIGNvbnRleHQgYW5kIHRoZSB0eXBlIG9mIENoYXJnZUl0ZW0sIHdoaWNoIEFjY291bnQgaXMgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgYWNjb3VudD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRWFjaCBsaW5lIGl0ZW0gcmVwcmVzZW50cyBvbmUgY2hhcmdlIGZvciBnb29kcyBhbmQgc2VydmljZXMgcmVuZGVyZWQuIERldGFpbHMgc3VjaCBhcyBkYXRlLCBjb2RlIGFuZCBhbW91bnQgYXJlIGZvdW5kIGluIHRoZSByZWZlcmVuY2VkIENoYXJnZUl0ZW0gcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgbGluZUl0ZW0/OiBmaGlyLkludm9pY2VMaW5lSXRlbUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRvdGFsIGFtb3VudCBmb3IgdGhlIEludm9pY2UgbWF5IGJlIGNhbGN1bGF0ZWQgYXMgdGhlIHN1bSBvZiB0aGUgbGluZSBpdGVtcyB3aXRoIHN1cmNoYXJnZXMvZGVkdWN0aW9ucyB0aGF0IGFwcGx5IGluIGNlcnRhaW4gY29uZGl0aW9ucy4gIFRoZSBwcmljZUNvbXBvbmVudCBlbGVtZW50IGNhbiBiZSB1c2VkIHRvIG9mZmVyIHRyYW5zcGFyZW5jeSB0byB0aGUgcmVjaXBpZW50IG9mIHRoZSBJbnZvaWNlIG9mIGhvdyB0aGUgdG90YWwgcHJpY2Ugd2FzIGNhbGN1bGF0ZWQuXHJcbiAgICovXHJcbiAgdG90YWxQcmljZUNvbXBvbmVudD86IGZoaXIuSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGlzIG5vIHJlYXNvbiB0byBjYXJyeSB0aGUgcHJpY2UgaW4gdGhlIGluc3RhbmNlIG9mIGEgQ2hhcmdlSXRlbSB1bmxlc3MgY2lyY3Vtc3RhbmNlcyByZXF1aXJlIGEgbWFudWFsIG92ZXJyaWRlLiBUaGUgbGlzdCBwcmljZXMgb3IgYXJlIHVzdWFsbHkgZGVmaW5lZCBpbiBhIGJhY2sgY2F0YWxvZ3VlIG9mIHRoZSBiaWxsaW5nIGNvZGVzICAoc2VlIENoYXJnZUl0ZW0uZGVmaW5pdGlvbikuIERlcml2ZWQgcHJvZmlsZXMgbWF5IHJlcXVpcmUgYSBDaGFyZ2VJdGVtLm92ZXJyaWRlUmVhc29uIHRvIGJlIHByb3ZpZGVkIGlmIGVpdGhlciBmYWN0b3Igb3IgcHJpY2UgYXJlIG1hbnVhbGx5IG92ZXJyaWRkZW4uXHJcbiAgICovXHJcbiAgdG90YWxOZXQ/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICB0b3RhbEdyb3NzPzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlcml2ZWQgUHJvZmlsZXMgbWF5IGNob3NlIHRvIGFkZCBpbnZhcmlhbnRzIHJlcXVpcmluZyB0aGlzIGZpZWxkIHRvIGJlIHBvcHVsYXRlZCBpZiBlaXRoZXIgcHJpY2VPdmVycmlkZSBvciBmYWN0b3JPdmVycmlkZSBoYXZlIGJlZW4gZmlsbGVkLlxyXG4gICAqL1xyXG4gIHBheW1lbnRUZXJtcz86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEludm9pY2UucGF5bWVudFRlcm1zXHJcbiAgICovXHJcbiAgX3BheW1lbnRUZXJtcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ29tbWVudHMgbWFkZSBhYm91dCB0aGUgaW52b2ljZSBieSB0aGUgaXNzdWVyLCBzdWJqZWN0LCBvciBvdGhlciBwYXJ0aWNpcGFudHMuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnZvaWNlIGNvbnRhaW5pbmcgY29sbGVjdGVkIENoYXJnZUl0ZW1zIGZyb20gYW4gQWNjb3VudCB3aXRoIGNhbGN1bGF0ZWQgaW5kaXZpZHVhbCBhbmQgdG90YWwgcHJpY2UgZm9yIEJpbGxpbmcgcHVycG9zZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbnZvaWNlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbnZvaWNlJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkludm9pY2VcIjtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIG9mIHRoaXMgSW52b2ljZSwgb2Z0ZW4gdXNlZCBmb3IgcmVmZXJlbmNlIGluIGNvcnJlc3BvbmRlbmNlIGFib3V0IHRoaXMgaW52b2ljZSBvciBmb3IgdHJhY2tpbmcgb2YgcGF5bWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBJbnZvaWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8SW52b2ljZVN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlcml2ZWQgUHJvZmlsZXMgbWF5IGNob29zZSB0byBhZGQgaW52YXJpYW50cyByZXF1aXJpbmcgdGhpcyBmaWVsZCB0byBiZSBwb3B1bGF0ZWQgaWYgZWl0aGVyIHByaWNlT3ZlcnJpZGUgb3IgZmFjdG9yT3ZlcnJpZGUgaGF2ZSBiZWVuIGZpbGxlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY2FuY2VsbGVkUmVhc29uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIEludm9pY2UgZGVwZW5kaW5nIG9uIGRvbWFpbiwgcmVhbG0gYW4gdXNhZ2UgKGUuZy4gaW50ZXJuYWwvZXh0ZXJuYWwsIGRlbnRhbCwgcHJlbGltaW5hcnkpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIG9yIHNldCBvZiBpbmRpdmlkdWFscyByZWNlaXZpbmcgdGhlIGdvb2RzIGFuZCBzZXJ2aWNlcyBiaWxsZWQgaW4gdGhpcyBpbnZvaWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIG9yIE9yZ2FuaXphdGlvbiByZXNwb25zaWJsZSBmb3IgYmFsYW5jaW5nIG9mIHRoaXMgaW52b2ljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVjaXBpZW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsaXN0IG9mIHR5cGVzIG1heSBiZSBjb25zdHJhaW5lZCBhcyBhcHByb3ByaWF0ZSBmb3IgdGhlIHR5cGUgb2YgY2hhcmdlIGl0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdobyBvciB3aGF0IHBlcmZvcm1lZCBvciBwYXJ0aWNpcGF0ZWQgaW4gdGhlIGNoYXJnZWQgc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydGljaXBhbnQ6IGZoaXIuSW52b2ljZVBhcnRpY2lwYW50W107XHJcbiAgLyoqXHJcbiAgICogUHJhY3RpdGlvbmVycyBhbmQgRGV2aWNlcyBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIG11bHRpcGxlIG9yZ2FuaXphdGlvbnMuIEl0IGhhcyB0byBiZSBtYWRlIGNsZWFyLCBvbiBiZWhhbGYgb2Ygd2hpY2ggT3JnYW5pemF0aW9uIHRoZSBzZXJ2aWNlcyBoYXZlIGJlZW4gcmVuZGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGlzc3Vlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTeXN0ZW1zIHBvc3RpbmcgdGhlIENoYXJnZUl0ZW1zIG1pZ2h0IG5vdCBhbHdheXMgYmUgYWJsZSB0byBkZXRlcm1pbmUsIHdoaWNoIGFjY291bnRzIHRoZSBJdGVtcyBuZWVkIHRvIGJlIHBsYWNlcyBpbnRvLiBJdCBpcyB1cCB0byB0aGUgcG90cHJvY2Vzc2luZyBGaW5hbmNpYWwgU3lzdGVtIHRvIGFwcGx5IGludGVybmFsIHJ1bGVzIHRvIGRlY2lkZSBiYXNlZCBvbiB0aGUgRW5jb3VudGVyL0VwaXNvZGVPZkNhcmUvUGF0aWVudC9Db3ZlcmFnZSBjb250ZXh0IGFuZCB0aGUgdHlwZSBvZiBDaGFyZ2VJdGVtLCB3aGljaCBBY2NvdW50IGlzIGFwcHJvcHJpYXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY2NvdW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVhY2ggbGluZSBpdGVtIHJlcHJlc2VudHMgb25lIGNoYXJnZSBmb3IgZ29vZHMgYW5kIHNlcnZpY2VzIHJlbmRlcmVkLiBEZXRhaWxzIHN1Y2ggYXMgZGF0ZSwgY29kZSBhbmQgYW1vdW50IGFyZSBmb3VuZCBpbiB0aGUgcmVmZXJlbmNlZCBDaGFyZ2VJdGVtIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsaW5lSXRlbTogZmhpci5JbnZvaWNlTGluZUl0ZW1bXTtcclxuICAvKipcclxuICAgKiBUaGUgdG90YWwgYW1vdW50IGZvciB0aGUgSW52b2ljZSBtYXkgYmUgY2FsY3VsYXRlZCBhcyB0aGUgc3VtIG9mIHRoZSBsaW5lIGl0ZW1zIHdpdGggc3VyY2hhcmdlcy9kZWR1Y3Rpb25zIHRoYXQgYXBwbHkgaW4gY2VydGFpbiBjb25kaXRpb25zLiAgVGhlIHByaWNlQ29tcG9uZW50IGVsZW1lbnQgY2FuIGJlIHVzZWQgdG8gb2ZmZXIgdHJhbnNwYXJlbmN5IHRvIHRoZSByZWNpcGllbnQgb2YgdGhlIEludm9pY2Ugb2YgaG93IHRoZSB0b3RhbCBwcmljZSB3YXMgY2FsY3VsYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdG90YWxQcmljZUNvbXBvbmVudDogZmhpci5JbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGlzIG5vIHJlYXNvbiB0byBjYXJyeSB0aGUgcHJpY2UgaW4gdGhlIGluc3RhbmNlIG9mIGEgQ2hhcmdlSXRlbSB1bmxlc3MgY2lyY3Vtc3RhbmNlcyByZXF1aXJlIGEgbWFudWFsIG92ZXJyaWRlLiBUaGUgbGlzdCBwcmljZXMgb3IgYXJlIHVzdWFsbHkgZGVmaW5lZCBpbiBhIGJhY2sgY2F0YWxvZ3VlIG9mIHRoZSBiaWxsaW5nIGNvZGVzICAoc2VlIENoYXJnZUl0ZW0uZGVmaW5pdGlvbikuIERlcml2ZWQgcHJvZmlsZXMgbWF5IHJlcXVpcmUgYSBDaGFyZ2VJdGVtLm92ZXJyaWRlUmVhc29uIHRvIGJlIHByb3ZpZGVkIGlmIGVpdGhlciBmYWN0b3Igb3IgcHJpY2UgYXJlIG1hbnVhbGx5IG92ZXJyaWRkZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHRvdGFsTmV0PzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBwdWJsaWMgdG90YWxHcm9zcz86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlcml2ZWQgUHJvZmlsZXMgbWF5IGNob3NlIHRvIGFkZCBpbnZhcmlhbnRzIHJlcXVpcmluZyB0aGlzIGZpZWxkIHRvIGJlIHBvcHVsYXRlZCBpZiBlaXRoZXIgcHJpY2VPdmVycmlkZSBvciBmYWN0b3JPdmVycmlkZSBoYXZlIGJlZW4gZmlsbGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXltZW50VGVybXM/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29tbWVudHMgbWFkZSBhYm91dCB0aGUgaW52b2ljZSBieSB0aGUgaXNzdWVyLCBzdWJqZWN0LCBvciBvdGhlciBwYXJ0aWNpcGFudHMuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU6IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEludm9pY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbnZvaWNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0ludm9pY2UnO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxJbnZvaWNlU3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEludm9pY2VTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhbmNlbGxlZFJlYXNvbiddKSB7IHRoaXMuY2FuY2VsbGVkUmVhc29uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5jYW5jZWxsZWRSZWFzb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NhbmNlbGxlZFJlYXNvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNhbmNlbGxlZFJlYXNvbikgeyB0aGlzLmNhbmNlbGxlZFJlYXNvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jYW5jZWxsZWRSZWFzb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jYW5jZWxsZWRSZWFzb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fY2FuY2VsbGVkUmVhc29uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlY2lwaWVudCddKSB7IHRoaXMucmVjaXBpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWNpcGllbnQpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlJ10pIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFydGljaXBhbnQnXSkgeyB0aGlzLnBhcnRpY2lwYW50ID0gc291cmNlLnBhcnRpY2lwYW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuSW52b2ljZVBhcnRpY2lwYW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFydGljaXBhbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaXNzdWVyJ10pIHsgdGhpcy5pc3N1ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmlzc3Vlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjY291bnQnXSkgeyB0aGlzLmFjY291bnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmFjY291bnQpOyB9XHJcbiAgICBpZiAoc291cmNlWydsaW5lSXRlbSddKSB7IHRoaXMubGluZUl0ZW0gPSBzb3VyY2UubGluZUl0ZW0ubWFwKCh4KSA9PiBuZXcgZmhpci5JbnZvaWNlTGluZUl0ZW0oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5saW5lSXRlbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0b3RhbFByaWNlQ29tcG9uZW50J10pIHsgdGhpcy50b3RhbFByaWNlQ29tcG9uZW50ID0gc291cmNlLnRvdGFsUHJpY2VDb21wb25lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5JbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRvdGFsUHJpY2VDb21wb25lbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndG90YWxOZXQnXSkgeyB0aGlzLnRvdGFsTmV0ID0gbmV3IGZoaXIuTW9uZXkoc291cmNlLnRvdGFsTmV0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndG90YWxHcm9zcyddKSB7IHRoaXMudG90YWxHcm9zcyA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS50b3RhbEdyb3NzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF5bWVudFRlcm1zJ10pIHsgdGhpcy5wYXltZW50VGVybXMgPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UucGF5bWVudFRlcm1zfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wYXltZW50VGVybXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5wYXltZW50VGVybXMpIHsgdGhpcy5wYXltZW50VGVybXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcGF5bWVudFRlcm1zISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucGF5bWVudFRlcm1zID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHNvdXJjZS5fcGF5bWVudFRlcm1zIGFzIFBhcnRpYWw8Zmhpci5GaGlyTWFya2Rvd25BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBzdGF0dXMgKEludm9pY2Uuc3RhdHVzKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHN0YXR1c1JlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gSW52b2ljZVN0YXR1c0NvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdJbnZvaWNlJyB9XHJcbiAgICBpZiAoIXRoaXNbJ3Jlc291cmNlVHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZXNvdXJjZVR5cGUgZmhpcjogSW52b2ljZS5yZXNvdXJjZVR5cGU6XCJJbnZvaWNlXCInLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgdGhpcy5pZGVudGlmaWVyLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5pZGVudGlmaWVyWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAoIXRoaXNbJ3N0YXR1cyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzdGF0dXMgZmhpcjogSW52b2ljZS5zdGF0dXM6Y29kZScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzWydzdGF0dXMnXSAmJiAoIU9iamVjdC52YWx1ZXMoSW52b2ljZVN0YXR1c0NvZGVzKS5pbmNsdWRlcyh0aGlzLnN0YXR1cy52YWx1ZSBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgc3RhdHVzIGZoaXI6IEludm9pY2Uuc3RhdHVzOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogSW52b2ljZVN0YXR1cycsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic3RhdHVzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RhdHVzLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zdGF0dXMnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY2FuY2VsbGVkUmVhc29uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY2FuY2VsbGVkUmVhc29uLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5jYW5jZWxsZWRSZWFzb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnR5cGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3ViamVjdFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnN1YmplY3QuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnN1YmplY3QnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVjaXBpZW50XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVjaXBpZW50LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5yZWNpcGllbnQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGF0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRhdGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmRhdGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGFydGljaXBhbnRcIl0pIHsgdGhpcy5wYXJ0aWNpcGFudC5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AucGFydGljaXBhbnRbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiaXNzdWVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaXNzdWVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5pc3N1ZXInKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYWNjb3VudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFjY291bnQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmFjY291bnQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibGluZUl0ZW1cIl0pIHsgdGhpcy5saW5lSXRlbS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AubGluZUl0ZW1bJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widG90YWxQcmljZUNvbXBvbmVudFwiXSkgeyB0aGlzLnRvdGFsUHJpY2VDb21wb25lbnQuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnRvdGFsUHJpY2VDb21wb25lbnRbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widG90YWxOZXRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50b3RhbE5ldC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycudG90YWxOZXQnKSk7IH1cclxuICAgIGlmICh0aGlzW1widG90YWxHcm9zc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnRvdGFsR3Jvc3MuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnRvdGFsR3Jvc3MnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGF5bWVudFRlcm1zXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGF5bWVudFRlcm1zLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5wYXltZW50VGVybXMnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibm90ZVwiXSkgeyB0aGlzLm5vdGUuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLm5vdGVbJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==