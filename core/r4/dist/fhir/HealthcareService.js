// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: HealthcareService
import * as fhir from '../fhir.js';
// @ts-ignore
import { DaysOfWeekVsValidation } from '../fhirValueSets/DaysOfWeekVsValidation.js';
/**
 * Does this service have specific eligibility requirements that need to be met in order to use the service?
 */
export class HealthcareServiceEligibility extends fhir.BackboneElement {
    /**
     * Default constructor for HealthcareServiceEligibility - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['comment']) {
            this.comment = new fhir.FhirMarkdown({ value: source.comment });
        }
        if (source['_comment']) {
            if (this.comment) {
                this.comment.addExtendedProperties(source._comment);
            }
            else {
                this.comment = new fhir.FhirMarkdown(source._comment);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'HealthcareService.eligibility';
        }
        this.vOptS('code', expression);
        this.vOptS('comment', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
HealthcareServiceEligibility._fts_dataType = 'HealthcareServiceEligibility';
/**
 * More detailed availability information may be provided in associated Schedule/Slot resources.
 */
export class HealthcareServiceAvailableTime extends fhir.BackboneElement {
    /**
     * Default constructor for HealthcareServiceAvailableTime - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['daysOfWeek']) {
            this.daysOfWeek = source.daysOfWeek.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.daysOfWeek = [];
        }
        if (source['_daysOfWeek']) {
            source._daysOfWeek.forEach((x, i) => {
                if (this.daysOfWeek.length >= i) {
                    if (x) {
                        this.daysOfWeek[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.daysOfWeek.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['allDay']) {
            this.allDay = new fhir.FhirBoolean({ value: source.allDay });
        }
        if (source['_allDay']) {
            if (this.allDay) {
                this.allDay.addExtendedProperties(source._allDay);
            }
            else {
                this.allDay = new fhir.FhirBoolean(source._allDay);
            }
        }
        if (source['availableStartTime']) {
            this.availableStartTime = new fhir.FhirTime({ value: source.availableStartTime });
        }
        if (source['_availableStartTime']) {
            if (this.availableStartTime) {
                this.availableStartTime.addExtendedProperties(source._availableStartTime);
            }
            else {
                this.availableStartTime = new fhir.FhirTime(source._availableStartTime);
            }
        }
        if (source['availableEndTime']) {
            this.availableEndTime = new fhir.FhirTime({ value: source.availableEndTime });
        }
        if (source['_availableEndTime']) {
            if (this.availableEndTime) {
                this.availableEndTime.addExtendedProperties(source._availableEndTime);
            }
            else {
                this.availableEndTime = new fhir.FhirTime(source._availableEndTime);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'HealthcareService.availableTime';
        }
        this.vOptAV('daysOfWeek', expression, 'DaysOfWeek', DaysOfWeekVsValidation, 'r');
        this.vOptS('allDay', expression);
        this.vOptS('availableStartTime', expression);
        this.vOptS('availableEndTime', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
HealthcareServiceAvailableTime._fts_dataType = 'HealthcareServiceAvailableTime';
/**
 * The HealthcareService is not available during this period of time due to the provided reason.
 */
export class HealthcareServiceNotAvailable extends fhir.BackboneElement {
    /**
     * Default constructor for HealthcareServiceNotAvailable - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        else {
            this.description = null;
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['during']) {
            this.during = new fhir.Period(source.during);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'HealthcareService.notAvailable';
        }
        this.vReqS('description', expression);
        this.vOptS('during', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
HealthcareServiceNotAvailable._fts_dataType = 'HealthcareServiceNotAvailable';
/**
 * The details of a healthcare service available at a location.
 */
export class HealthcareService extends fhir.DomainResource {
    /**
     * Default constructor for HealthcareService - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'HealthcareService';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['active']) {
            this.active = new fhir.FhirBoolean({ value: source.active });
        }
        if (source['_active']) {
            if (this.active) {
                this.active.addExtendedProperties(source._active);
            }
            else {
                this.active = new fhir.FhirBoolean(source._active);
            }
        }
        if (source['providedBy']) {
            this.providedBy = new fhir.Reference(source.providedBy);
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['specialty']) {
            this.specialty = source.specialty.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.specialty = [];
        }
        if (source['location']) {
            this.location = source.location.map((x) => new fhir.Reference(x));
        }
        else {
            this.location = [];
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['comment']) {
            this.comment = new fhir.FhirString({ value: source.comment });
        }
        if (source['_comment']) {
            if (this.comment) {
                this.comment.addExtendedProperties(source._comment);
            }
            else {
                this.comment = new fhir.FhirString(source._comment);
            }
        }
        if (source['extraDetails']) {
            this.extraDetails = new fhir.FhirMarkdown({ value: source.extraDetails });
        }
        if (source['_extraDetails']) {
            if (this.extraDetails) {
                this.extraDetails.addExtendedProperties(source._extraDetails);
            }
            else {
                this.extraDetails = new fhir.FhirMarkdown(source._extraDetails);
            }
        }
        if (source['photo']) {
            this.photo = new fhir.Attachment(source.photo);
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
        if (source['coverageArea']) {
            this.coverageArea = source.coverageArea.map((x) => new fhir.Reference(x));
        }
        else {
            this.coverageArea = [];
        }
        if (source['serviceProvisionCode']) {
            this.serviceProvisionCode = source.serviceProvisionCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.serviceProvisionCode = [];
        }
        if (source['eligibility']) {
            this.eligibility = source.eligibility.map((x) => new fhir.HealthcareServiceEligibility(x));
        }
        else {
            this.eligibility = [];
        }
        if (source['program']) {
            this.program = source.program.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.program = [];
        }
        if (source['characteristic']) {
            this.characteristic = source.characteristic.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.characteristic = [];
        }
        if (source['communication']) {
            this.communication = source.communication.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.communication = [];
        }
        if (source['referralMethod']) {
            this.referralMethod = source.referralMethod.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.referralMethod = [];
        }
        if (source['appointmentRequired']) {
            this.appointmentRequired = new fhir.FhirBoolean({ value: source.appointmentRequired });
        }
        if (source['_appointmentRequired']) {
            if (this.appointmentRequired) {
                this.appointmentRequired.addExtendedProperties(source._appointmentRequired);
            }
            else {
                this.appointmentRequired = new fhir.FhirBoolean(source._appointmentRequired);
            }
        }
        if (source['availableTime']) {
            this.availableTime = source.availableTime.map((x) => new fhir.HealthcareServiceAvailableTime(x));
        }
        else {
            this.availableTime = [];
        }
        if (source['notAvailable']) {
            this.notAvailable = source.notAvailable.map((x) => new fhir.HealthcareServiceNotAvailable(x));
        }
        else {
            this.notAvailable = [];
        }
        if (source['availabilityExceptions']) {
            this.availabilityExceptions = new fhir.FhirString({ value: source.availabilityExceptions });
        }
        if (source['_availabilityExceptions']) {
            if (this.availabilityExceptions) {
                this.availabilityExceptions.addExtendedProperties(source._availabilityExceptions);
            }
            else {
                this.availabilityExceptions = new fhir.FhirString(source._availabilityExceptions);
            }
        }
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.Reference(x));
        }
        else {
            this.endpoint = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'HealthcareService';
        }
        this.vReqS('resourceType', expression);
        this.vOptA('identifier', expression);
        this.vOptS('active', expression);
        this.vOptS('providedBy', expression);
        this.vOptA('category', expression);
        this.vOptA('type', expression);
        this.vOptA('specialty', expression);
        this.vOptA('location', expression);
        this.vOptS('name', expression);
        this.vOptS('comment', expression);
        this.vOptS('extraDetails', expression);
        this.vOptS('photo', expression);
        this.vOptA('telecom', expression);
        this.vOptA('coverageArea', expression);
        this.vOptA('serviceProvisionCode', expression);
        this.vOptA('eligibility', expression);
        this.vOptA('program', expression);
        this.vOptA('characteristic', expression);
        this.vOptA('communication', expression);
        this.vOptA('referralMethod', expression);
        this.vOptS('appointmentRequired', expression);
        this.vOptA('availableTime', expression);
        this.vOptA('notAvailable', expression);
        this.vOptS('availabilityExceptions', expression);
        this.vOptA('endpoint', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
HealthcareService._fts_dataType = 'HealthcareService';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGVhbHRoY2FyZVNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0hlYWx0aGNhcmVTZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLG1DQUFtQztBQUVuQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNENBQTRDLENBQUM7QUErQ3BGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRCQUE2QixTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXBFOztPQUVHO0lBQ0gsWUFBWSxTQUFtRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN6RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3pGLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQ3RCLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUMsQ0FBQzthQUFFO2lCQUN0RTtnQkFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsUUFBMEMsQ0FBQyxDQUFDO2FBQUU7U0FDbEc7SUFD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O1FBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDdkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDdEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUN2QyxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzVDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3RDLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3JDLElBQUksQ0FBQyxLQUFLLENBQUMsd0JBQXdCLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDL0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDakMsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUEvTUQ7O0dBRUc7QUFDNkIsK0JBQWEsR0FBVSxtQkFBbUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogSGVhbHRoY2FyZVNlcnZpY2VcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERheXNPZldlZWtDb2RlcywgIERheXNPZldlZWtDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGF5c09mV2Vla0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEYXlzT2ZXZWVrVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EYXlzT2ZXZWVrVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZXJ2aWNlQ2F0ZWdvcnlDb2RlcywgIFNlcnZpY2VDYXRlZ29yeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZXJ2aWNlQ2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VydmljZUNhdGVnb3J5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZXJ2aWNlQ2F0ZWdvcnlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VUeXBlQ29kZXMsICBTZXJ2aWNlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZXJ2aWNlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZXJ2aWNlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VydmljZVR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEM4MFByYWN0aWNlQ29kZXMsICBDODBQcmFjdGljZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DODBQcmFjdGljZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDODBQcmFjdGljZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQzgwUHJhY3RpY2VWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VQcm92aXNpb25Db25kaXRpb25zQ29kZXMsICBTZXJ2aWNlUHJvdmlzaW9uQ29uZGl0aW9uc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZXJ2aWNlUHJvdmlzaW9uQ29uZGl0aW9uc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZXJ2aWNlUHJvdmlzaW9uQ29uZGl0aW9uc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VydmljZVByb3Zpc2lvbkNvbmRpdGlvbnNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2dyYW1Db2RlcywgIFByb2dyYW1Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvZ3JhbUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQcm9ncmFtVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Qcm9ncmFtVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMYW5ndWFnZXNDb2RlcywgIExhbmd1YWdlc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MYW5ndWFnZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGFuZ3VhZ2VzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MYW5ndWFnZXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VSZWZlcnJhbE1ldGhvZENvZGVzLCAgU2VydmljZVJlZmVycmFsTWV0aG9kQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlcnZpY2VSZWZlcnJhbE1ldGhvZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZXJ2aWNlUmVmZXJyYWxNZXRob2RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlcnZpY2VSZWZlcnJhbE1ldGhvZFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBIZWFsdGhjYXJlU2VydmljZUVsaWdpYmlsaXR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aGNhcmVTZXJ2aWNlRWxpZ2liaWxpdHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBDb2RlZCB2YWx1ZSBmb3IgdGhlIGVsaWdpYmlsaXR5LlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBvZiBzZXJ2aWNlIGVsaWdpYmlsaXR5IHNob3VsZCwgaW4gZ2VuZXJhbCwgbm90IGV4Y2VlZCBvbmUgb3IgdHdvIHBhcmFncmFwaHMuIEl0IHNob3VsZCBiZSBzdWZmaWNpZW50IGZvciBhIHByb3NwZWN0aXZlIGNvbnN1bWVyIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBsaWtlbHkgdG8gYmUgZWxpZ2libGUgb3Igbm90LiBXaGVyZSBlbGlnaWJpbGl0eSByZXF1aXJlbWVudHMgYW5kIGNvbmRpdGlvbnMgYXJlIGNvbXBsZXgsIGl0IG1heSBzaW1wbHkgYmUgbm90ZWQgdGhhdCBhbiBlbGlnaWJpbGl0eSBhc3Nlc3NtZW50IGlzIHJlcXVpcmVkLiBXaGVyZSBlbGlnaWJpbGl0eSBpcyBkZXRlcm1pbmVkIGJ5IGFuIG91dHNpZGUgc291cmNlLCBzdWNoIGFzIGFuIEFjdCBvZiBQYXJsaWFtZW50LCB0aGlzIHNob3VsZCBiZSBub3RlZCwgcHJlZmVyYWJseSB3aXRoIGEgcmVmZXJlbmNlIHRvIGEgY29tbW9ubHkgYXZhaWxhYmxlIGNvcHkgb2YgdGhlIHNvdXJjZSBkb2N1bWVudCBzdWNoIGFzIGEgd2ViIHBhZ2UuXHJcbiAgICovXHJcbiAgY29tbWVudD86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEhlYWx0aGNhcmVTZXJ2aWNlLmVsaWdpYmlsaXR5LmNvbW1lbnRcclxuICAgKi9cclxuICBfY29tbWVudD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEb2VzIHRoaXMgc2VydmljZSBoYXZlIHNwZWNpZmljIGVsaWdpYmlsaXR5IHJlcXVpcmVtZW50cyB0aGF0IG5lZWQgdG8gYmUgbWV0IGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZT9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIZWFsdGhjYXJlU2VydmljZUVsaWdpYmlsaXR5IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSGVhbHRoY2FyZVNlcnZpY2VFbGlnaWJpbGl0eSc7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgdmFsdWUgZm9yIHRoZSBlbGlnaWJpbGl0eS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGVzY3JpcHRpb24gb2Ygc2VydmljZSBlbGlnaWJpbGl0eSBzaG91bGQsIGluIGdlbmVyYWwsIG5vdCBleGNlZWQgb25lIG9yIHR3byBwYXJhZ3JhcGhzLiBJdCBzaG91bGQgYmUgc3VmZmljaWVudCBmb3IgYSBwcm9zcGVjdGl2ZSBjb25zdW1lciB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgbGlrZWx5IHRvIGJlIGVsaWdpYmxlIG9yIG5vdC4gV2hlcmUgZWxpZ2liaWxpdHkgcmVxdWlyZW1lbnRzIGFuZCBjb25kaXRpb25zIGFyZSBjb21wbGV4LCBpdCBtYXkgc2ltcGx5IGJlIG5vdGVkIHRoYXQgYW4gZWxpZ2liaWxpdHkgYXNzZXNzbWVudCBpcyByZXF1aXJlZC4gV2hlcmUgZWxpZ2liaWxpdHkgaXMgZGV0ZXJtaW5lZCBieSBhbiBvdXRzaWRlIHNvdXJjZSwgc3VjaCBhcyBhbiBBY3Qgb2YgUGFybGlhbWVudCwgdGhpcyBzaG91bGQgYmUgbm90ZWQsIHByZWZlcmFibHkgd2l0aCBhIHJlZmVyZW5jZSB0byBhIGNvbW1vbmx5IGF2YWlsYWJsZSBjb3B5IG9mIHRoZSBzb3VyY2UgZG9jdW1lbnQgc3VjaCBhcyBhIHdlYiBwYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21tZW50PzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEhlYWx0aGNhcmVTZXJ2aWNlRWxpZ2liaWxpdHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxIZWFsdGhjYXJlU2VydmljZUVsaWdpYmlsaXR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21tZW50J10pIHsgdGhpcy5jb21tZW50ID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmNvbW1lbnR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvbW1lbnQnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb21tZW50KSB7IHRoaXMuY29tbWVudC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb21tZW50ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29tbWVudCA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bihzb3VyY2UuX2NvbW1lbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJNYXJrZG93bkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdIZWFsdGhjYXJlU2VydmljZS5lbGlnaWJpbGl0eScgfVxyXG4gICAgdGhpcy52T3B0UygnY29kZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2NvbW1lbnQnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSGVhbHRoY2FyZVNlcnZpY2VBdmFpbGFibGVUaW1lIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aGNhcmVTZXJ2aWNlQXZhaWxhYmxlVGltZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGljaCBkYXlzIG9mIHRoZSB3ZWVrIGFyZSBhdmFpbGFibGUgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZCBUaW1lcy5cclxuICAgKi9cclxuICBkYXlzT2ZXZWVrPzogZmhpci5GaGlyQ29kZTxEYXlzT2ZXZWVrQ29kZVR5cGU+W118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSGVhbHRoY2FyZVNlcnZpY2UuYXZhaWxhYmxlVGltZS5kYXlzT2ZXZWVrXHJcbiAgICovXHJcbiAgX2RheXNPZldlZWs/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIElzIHRoaXMgYWx3YXlzIGF2YWlsYWJsZT8gKGhlbmNlIHRpbWVzIGFyZSBpcnJlbGV2YW50KSBlLmcuIDI0IGhvdXIgc2VydmljZS5cclxuICAgKi9cclxuICBhbGxEYXk/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5hdmFpbGFibGVUaW1lLmFsbERheVxyXG4gICAqL1xyXG4gIF9hbGxEYXk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHpvbmUgaXMgZXhwZWN0ZWQgdG8gYmUgZm9yIHdoZXJlIHRoaXMgSGVhbHRoY2FyZVNlcnZpY2UgaXMgcHJvdmlkZWQgYXQuXHJcbiAgICovXHJcbiAgYXZhaWxhYmxlU3RhcnRUaW1lPzogZmhpci5GaGlyVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5hdmFpbGFibGVUaW1lLmF2YWlsYWJsZVN0YXJ0VGltZVxyXG4gICAqL1xyXG4gIF9hdmFpbGFibGVTdGFydFRpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHpvbmUgaXMgZXhwZWN0ZWQgdG8gYmUgZm9yIHdoZXJlIHRoaXMgSGVhbHRoY2FyZVNlcnZpY2UgaXMgcHJvdmlkZWQgYXQuXHJcbiAgICovXHJcbiAgYXZhaWxhYmxlRW5kVGltZT86IGZoaXIuRmhpclRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSGVhbHRoY2FyZVNlcnZpY2UuYXZhaWxhYmxlVGltZS5hdmFpbGFibGVFbmRUaW1lXHJcbiAgICovXHJcbiAgX2F2YWlsYWJsZUVuZFRpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogTW9yZSBkZXRhaWxlZCBhdmFpbGFiaWxpdHkgaW5mb3JtYXRpb24gbWF5IGJlIHByb3ZpZGVkIGluIGFzc29jaWF0ZWQgU2NoZWR1bGUvU2xvdCByZXNvdXJjZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSGVhbHRoY2FyZVNlcnZpY2VBdmFpbGFibGVUaW1lIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSGVhbHRoY2FyZVNlcnZpY2VBdmFpbGFibGVUaW1lJztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hpY2ggZGF5cyBvZiB0aGUgd2VlayBhcmUgYXZhaWxhYmxlIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgVGltZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRheXNPZldlZWs6IGZoaXIuRmhpckNvZGU8RGF5c09mV2Vla0NvZGVUeXBlPltdO1xyXG4gIC8qKlxyXG4gICAqIElzIHRoaXMgYWx3YXlzIGF2YWlsYWJsZT8gKGhlbmNlIHRpbWVzIGFyZSBpcnJlbGV2YW50KSBlLmcuIDI0IGhvdXIgc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWxsRGF5PzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgem9uZSBpcyBleHBlY3RlZCB0byBiZSBmb3Igd2hlcmUgdGhpcyBIZWFsdGhjYXJlU2VydmljZSBpcyBwcm92aWRlZCBhdC5cclxuICAgKi9cclxuICBwdWJsaWMgYXZhaWxhYmxlU3RhcnRUaW1lPzogZmhpci5GaGlyVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgem9uZSBpcyBleHBlY3RlZCB0byBiZSBmb3Igd2hlcmUgdGhpcyBIZWFsdGhjYXJlU2VydmljZSBpcyBwcm92aWRlZCBhdC5cclxuICAgKi9cclxuICBwdWJsaWMgYXZhaWxhYmxlRW5kVGltZT86IGZoaXIuRmhpclRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEhlYWx0aGNhcmVTZXJ2aWNlQXZhaWxhYmxlVGltZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEhlYWx0aGNhcmVTZXJ2aWNlQXZhaWxhYmxlVGltZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydkYXlzT2ZXZWVrJ10pIHsgdGhpcy5kYXlzT2ZXZWVrID0gc291cmNlLmRheXNPZldlZWsubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyQ29kZTxEYXlzT2ZXZWVrQ29kZVR5cGU+KHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGF5c09mV2VlayA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGF5c09mV2VlayddKSB7XHJcbiAgICAgIHNvdXJjZS5fZGF5c09mV2Vlay5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kYXlzT2ZXZWVrLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuZGF5c09mV2Vla1tpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLmRheXNPZldlZWsucHVzaChuZXcgZmhpci5GaGlyQ29kZTxEYXlzT2ZXZWVrQ29kZVR5cGU+KHggYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhbGxEYXknXSkgeyB0aGlzLmFsbERheSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmFsbERheX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWxsRGF5J10pIHtcclxuICAgICAgaWYgKHRoaXMuYWxsRGF5KSB7IHRoaXMuYWxsRGF5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FsbERheSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFsbERheSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fYWxsRGF5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXZhaWxhYmxlU3RhcnRUaW1lJ10pIHsgdGhpcy5hdmFpbGFibGVTdGFydFRpbWUgPSBuZXcgZmhpci5GaGlyVGltZSh7dmFsdWU6IHNvdXJjZS5hdmFpbGFibGVTdGFydFRpbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2F2YWlsYWJsZVN0YXJ0VGltZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmF2YWlsYWJsZVN0YXJ0VGltZSkgeyB0aGlzLmF2YWlsYWJsZVN0YXJ0VGltZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hdmFpbGFibGVTdGFydFRpbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hdmFpbGFibGVTdGFydFRpbWUgPSBuZXcgZmhpci5GaGlyVGltZShzb3VyY2UuX2F2YWlsYWJsZVN0YXJ0VGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2F2YWlsYWJsZUVuZFRpbWUnXSkgeyB0aGlzLmF2YWlsYWJsZUVuZFRpbWUgPSBuZXcgZmhpci5GaGlyVGltZSh7dmFsdWU6IHNvdXJjZS5hdmFpbGFibGVFbmRUaW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hdmFpbGFibGVFbmRUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYXZhaWxhYmxlRW5kVGltZSkgeyB0aGlzLmF2YWlsYWJsZUVuZFRpbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXZhaWxhYmxlRW5kVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmF2YWlsYWJsZUVuZFRpbWUgPSBuZXcgZmhpci5GaGlyVGltZShzb3VyY2UuX2F2YWlsYWJsZUVuZFRpbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0hlYWx0aGNhcmVTZXJ2aWNlLmF2YWlsYWJsZVRpbWUnIH1cclxuICAgIHRoaXMudk9wdEFWKCdkYXlzT2ZXZWVrJyxleHByZXNzaW9uLCdEYXlzT2ZXZWVrJyxEYXlzT2ZXZWVrVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9wdFMoJ2FsbERheScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2F2YWlsYWJsZVN0YXJ0VGltZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2F2YWlsYWJsZUVuZFRpbWUnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSGVhbHRoY2FyZVNlcnZpY2VOb3RBdmFpbGFibGUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoY2FyZVNlcnZpY2VOb3RBdmFpbGFibGVBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgcmVhc29uIHRoYXQgY2FuIGJlIHByZXNlbnRlZCB0byB0aGUgdXNlciBhcyB0byB3aHkgdGhpcyB0aW1lIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb246IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5ub3RBdmFpbGFibGUuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZSAoc2Vhc29uYWxseSBvciBmb3IgYSBwdWJsaWMgaG9saWRheSkgZnJvbSB0aGlzIGRhdGUuXHJcbiAgICovXHJcbiAgZHVyaW5nPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBIZWFsdGhjYXJlU2VydmljZSBpcyBub3QgYXZhaWxhYmxlIGR1cmluZyB0aGlzIHBlcmlvZCBvZiB0aW1lIGR1ZSB0byB0aGUgcHJvdmlkZWQgcmVhc29uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEhlYWx0aGNhcmVTZXJ2aWNlTm90QXZhaWxhYmxlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSGVhbHRoY2FyZVNlcnZpY2VOb3RBdmFpbGFibGUnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWFzb24gdGhhdCBjYW4gYmUgcHJlc2VudGVkIHRvIHRoZSB1c2VyIGFzIHRvIHdoeSB0aGlzIHRpbWUgaXMgbm90IGF2YWlsYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb246IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZSAoc2Vhc29uYWxseSBvciBmb3IgYSBwdWJsaWMgaG9saWRheSkgZnJvbSB0aGlzIGRhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGR1cmluZz86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBIZWFsdGhjYXJlU2VydmljZU5vdEF2YWlsYWJsZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEhlYWx0aGNhcmVTZXJ2aWNlTm90QXZhaWxhYmxlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2R1cmluZyddKSB7IHRoaXMuZHVyaW5nID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5kdXJpbmcpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0hlYWx0aGNhcmVTZXJ2aWNlLm5vdEF2YWlsYWJsZScgfVxyXG4gICAgdGhpcy52UmVxUygnZGVzY3JpcHRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdkdXJpbmcnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSGVhbHRoY2FyZVNlcnZpY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoY2FyZVNlcnZpY2VBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJIZWFsdGhjYXJlU2VydmljZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlcm5hbCBpZGVudGlmaWVycyBmb3IgdGhpcyBpdGVtLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBpdCBtYXkgYmUgdXNlZCB0byBtYXJrIHRoYXQgdGhlIHJlc291cmNlIHdhcyBjcmVhdGVkIGluIGVycm9yLlxyXG4gICAqL1xyXG4gIGFjdGl2ZT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEhlYWx0aGNhcmVTZXJ2aWNlLmFjdGl2ZVxyXG4gICAqL1xyXG4gIF9hY3RpdmU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgcmVjb21tZW5kZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIExvY2F0aW9uJ3MgbWFuYWdpbmdPcmdhbml6YXRpb24sIGFuZCBpZiBub3QgcHJvdmlkZWQgc2hvdWxkIGJlIGludGVycHJldGVkIGFzIHN1Y2guIElmIHRoZSBMb2NhdGlvbiBkb2VzIG5vdCBoYXZlIGEgbWFuYWdpbmcgT3JnYW5pemF0aW9uLCB0aGVuIHRoaXMgcHJvcGVydHkgc2hvdWxkIGJlIHBvcHVsYXRlZC5cclxuICAgKi9cclxuICBwcm92aWRlZEJ5PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTZWxlY3RpbmcgYSBTZXJ2aWNlIENhdGVnb3J5IHRoZW4gZGV0ZXJtaW5lcyB0aGUgbGlzdCBvZiByZWxldmFudCBzZXJ2aWNlIHR5cGVzIHRoYXQgY2FuIGJlIHNlbGVjdGVkIGluIHRoZSBwcmltYXJ5IHNlcnZpY2UgdHlwZS5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgdHlwZSBvZiBzZXJ2aWNlIHRoYXQgbWF5IGJlIGRlbGl2ZXJlZCBvciBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2xsZWN0aW9uIG9mIHNwZWNpYWx0aWVzIGhhbmRsZWQgYnkgdGhlIHNlcnZpY2Ugc2l0ZS4gVGhpcyBpcyBtb3JlIG9mIGEgbWVkaWNhbCB0ZXJtLlxyXG4gICAqL1xyXG4gIHNwZWNpYWx0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbG9jYXRpb24ocykgd2hlcmUgdGhpcyBoZWFsdGhjYXJlIHNlcnZpY2UgbWF5IGJlIHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZ1cnRoZXIgZGVzY3JpcHRpb24gb2YgdGhlIHNlcnZpY2UgYXMgaXQgd291bGQgYmUgcHJlc2VudGVkIHRvIGEgY29uc3VtZXIgd2hpbGUgc2VhcmNoaW5nLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSGVhbHRoY2FyZVNlcnZpY2UubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBXb3VsZCBleHBlY3QgdGhhdCBhIHVzZXIgd291bGQgbm90IHNlZSB0aGlzIGluZm9ybWF0aW9uIG9uIGEgc2VhcmNoIHJlc3VsdHMsIGFuZCBpdCB3b3VsZCBvbmx5IGJlIGF2YWlsYWJsZSB3aGVuIHZpZXdpbmcgdGhlIGNvbXBsZXRlIGRldGFpbHMgb2YgdGhlIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgY29tbWVudD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5jb21tZW50XHJcbiAgICovXHJcbiAgX2NvbW1lbnQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEV4dHJhIGRldGFpbHMgYWJvdXQgdGhlIHNlcnZpY2UgdGhhdCBjYW4ndCBiZSBwbGFjZWQgaW4gdGhlIG90aGVyIGZpZWxkcy5cclxuICAgKi9cclxuICBleHRyYURldGFpbHM/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5leHRyYURldGFpbHNcclxuICAgKi9cclxuICBfZXh0cmFEZXRhaWxzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJZiB0aGVyZSBpcyBhIHBob3RvL3N5bWJvbCBhc3NvY2lhdGVkIHdpdGggdGhpcyBIZWFsdGhjYXJlU2VydmljZSwgaXQgbWF5IGJlIGluY2x1ZGVkIGhlcmUgdG8gZmFjaWxpdGF0ZSBxdWljayBpZGVudGlmaWNhdGlvbiBvZiB0aGUgc2VydmljZSBpbiBhIGxpc3QuXHJcbiAgICovXHJcbiAgcGhvdG8/OiBmaGlyLkF0dGFjaG1lbnRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGlzIGVtcHR5LCB0aGVuIHJlZmVyIHRvIHRoZSBsb2NhdGlvbidzIGNvbnRhY3RzLlxyXG4gICAqL1xyXG4gIHRlbGVjb20/OiBmaGlyLkNvbnRhY3RQb2ludEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxvY2F0aW9ucyByZWZlcmVuY2VkIGJ5IHRoZSBjb3ZlcmFnZSBhcmVhIGNhbiBpbmNsdWRlIGJvdGggc3BlY2lmaWMgbG9jYXRpb25zLCBpbmNsdWRpbmcgYXJlYXMsIGFuZCBhbHNvIGNvbmNlcHR1YWwgZG9tYWlucyB0b28gKG1vZGUgPSBraW5kKSwgc3VjaCBhcyBhIHBoeXNpY2FsIGFyZWEgKHRyaS1zdGF0ZSBhcmVhKSBhbmQgc29tZSBvdGhlciBhdHRyaWJ1dGUgKGNvdmVyZWQgYnkgRXhhbXBsZSBDYXJlIE9yZ2FuaXphdGlvbikuIFRoZXNlIHR5cGVzIG9mIExvY2F0aW9ucyBhcmUgb2Z0ZW4gbm90IG1hbmFnZWQgYnkgYW55IHNwZWNpZmljIG9yZ2FuaXphdGlvbi4gVGhpcyBjb3VsZCBhbHNvIGluY2x1ZGUgZ2VuZXJpYyBsb2NhdGlvbnMgc3VjaCBhcyBcImluLWhvbWVcIi5cclxuICAgKi9cclxuICBjb3ZlcmFnZUFyZWE/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb3Zpc2lvbiBtZWFucyBiZWluZyBjb21taXNzaW9uZWQgYnksIGNvbnRyYWN0dWFsbHkgb2JsaWdlZCBvciBmaW5hbmNpYWxseSBzb3VyY2VkLiBUeXBlcyBvZiBjb3N0aW5ncyB0aGF0IG1heSBhcHBseSB0byB0aGlzIGhlYWx0aGNhcmUgc2VydmljZSwgc3VjaCBpZiB0aGUgc2VydmljZSBtYXkgYmUgYXZhaWxhYmxlIGZvciBmcmVlLCBzb21lIGRpc2NvdW50cyBhdmFpbGFibGUsIG9yIGZlZXMgYXBwbHkuXHJcbiAgICovXHJcbiAgc2VydmljZVByb3Zpc2lvbkNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRG9lcyB0aGlzIHNlcnZpY2UgaGF2ZSBzcGVjaWZpYyBlbGlnaWJpbGl0eSByZXF1aXJlbWVudHMgdGhhdCBuZWVkIHRvIGJlIG1ldCBpbiBvcmRlciB0byB1c2UgdGhlIHNlcnZpY2U/XHJcbiAgICovXHJcbiAgZWxpZ2liaWxpdHk/OiBmaGlyLkhlYWx0aGNhcmVTZXJ2aWNlRWxpZ2liaWxpdHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFByb2dyYW1zIGFyZSBvZnRlbiBkZWZpbmVkIGV4dGVybmFsbHkgdG8gYW4gT3JnYW5pemF0aW9uLCBjb21tb25seSBieSBnb3Zlcm5tZW50czsgZS5nLiBIb21lIGFuZCBDb21tdW5pdHkgQ2FyZSBQcm9ncmFtcywgSG9tZWxlc3MgUHJvZ3JhbSwg4oCmLlxyXG4gICAqL1xyXG4gIHByb2dyYW0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlc2UgY291bGQgYmUgc3VjaCB0aGluZ3MgYXMgaXMgd2hlZWxjaGFpciBhY2Nlc3NpYmxlLlxyXG4gICAqL1xyXG4gIGNoYXJhY3RlcmlzdGljPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdXNpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpbmRpY2F0ZXMgdGhhdCB0aGUgc2VydmljZSBpcyBhdmFpbGFibGUgd2l0aCB0aGlzIGxhbmd1YWdlLCBpdCBpcyBub3QgZGVyaXZlZCBmcm9tIHRoZSBwcmFjdGl0aW9uZXJzLCBhbmQgbm90IGFsbCBhcmUgcmVxdWlyZWQgdG8gdXNlIHRoaXMgbGFuZ3VhZ2UsIGp1c3QgdGhhdCB0aGlzIGxhbmd1YWdlIGlzIGF2YWlsYWJsZSB3aGlsZSBzY2hlZHVsaW5nLlxyXG4gICAqL1xyXG4gIGNvbW11bmljYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2F5cyB0aGF0IHRoZSBzZXJ2aWNlIGFjY2VwdHMgcmVmZXJyYWxzLCBpZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIGl0IGlzIGltcGxpZWQgdGhhdCBubyByZWZlcnJhbCBpcyByZXF1aXJlZC5cclxuICAgKi9cclxuICByZWZlcnJhbE1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgYSBwcm9zcGVjdGl2ZSBjb25zdW1lciB3aWxsIHJlcXVpcmUgYW4gYXBwb2ludG1lbnQgZm9yIGEgcGFydGljdWxhciBzZXJ2aWNlIGF0IGEgc2l0ZSB0byBiZSBwcm92aWRlZCBieSB0aGUgT3JnYW5pemF0aW9uLiBJbmRpY2F0ZXMgaWYgYW4gYXBwb2ludG1lbnQgaXMgcmVxdWlyZWQgZm9yIGFjY2VzcyB0byB0aGlzIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgYXBwb2ludG1lbnRSZXF1aXJlZD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEhlYWx0aGNhcmVTZXJ2aWNlLmFwcG9pbnRtZW50UmVxdWlyZWRcclxuICAgKi9cclxuICBfYXBwb2ludG1lbnRSZXF1aXJlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogTW9yZSBkZXRhaWxlZCBhdmFpbGFiaWxpdHkgaW5mb3JtYXRpb24gbWF5IGJlIHByb3ZpZGVkIGluIGFzc29jaWF0ZWQgU2NoZWR1bGUvU2xvdCByZXNvdXJjZXMuXHJcbiAgICovXHJcbiAgYXZhaWxhYmxlVGltZT86IGZoaXIuSGVhbHRoY2FyZVNlcnZpY2VBdmFpbGFibGVUaW1lQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgSGVhbHRoY2FyZVNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZSBkdXJpbmcgdGhpcyBwZXJpb2Qgb2YgdGltZSBkdWUgdG8gdGhlIHByb3ZpZGVkIHJlYXNvbi5cclxuICAgKi9cclxuICBub3RBdmFpbGFibGU/OiBmaGlyLkhlYWx0aGNhcmVTZXJ2aWNlTm90QXZhaWxhYmxlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHNpdGUgYXZhaWxhYmlsaXR5IGV4Y2VwdGlvbnMsIGUuZy4gcHVibGljIGhvbGlkYXkgYXZhaWxhYmlsaXR5LiBTdWNjaW5jdGx5IGRlc2NyaWJpbmcgYWxsIHBvc3NpYmxlIGV4Y2VwdGlvbnMgdG8gbm9ybWFsIHNpdGUgYXZhaWxhYmlsaXR5IGFzIGRldGFpbHMgaW4gdGhlIGF2YWlsYWJsZSBUaW1lcyBhbmQgbm90IGF2YWlsYWJsZSBUaW1lcy5cclxuICAgKi9cclxuICBhdmFpbGFiaWxpdHlFeGNlcHRpb25zPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEhlYWx0aGNhcmVTZXJ2aWNlLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnNcclxuICAgKi9cclxuICBfYXZhaWxhYmlsaXR5RXhjZXB0aW9ucz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGVjaG5pY2FsIGVuZHBvaW50cyBwcm92aWRpbmcgYWNjZXNzIHRvIHNlcnZpY2VzIG9wZXJhdGVkIGZvciB0aGUgc3BlY2lmaWMgaGVhbHRoY2FyZSBzZXJ2aWNlcyBkZWZpbmVkIGF0IHRoaXMgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgZW5kcG9pbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgZGV0YWlscyBvZiBhIGhlYWx0aGNhcmUgc2VydmljZSBhdmFpbGFibGUgYXQgYSBsb2NhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIZWFsdGhjYXJlU2VydmljZSBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSGVhbHRoY2FyZVNlcnZpY2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiSGVhbHRoY2FyZVNlcnZpY2VcIjtcclxuICAvKipcclxuICAgKiBFeHRlcm5hbCBpZGVudGlmaWVycyBmb3IgdGhpcyBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgaXQgbWF5IGJlIHVzZWQgdG8gbWFyayB0aGF0IHRoZSByZXNvdXJjZSB3YXMgY3JlYXRlZCBpbiBlcnJvci5cclxuICAgKi9cclxuICBwdWJsaWMgYWN0aXZlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBwcm9wZXJ0eSBpcyByZWNvbW1lbmRlZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgTG9jYXRpb24ncyBtYW5hZ2luZ09yZ2FuaXphdGlvbiwgYW5kIGlmIG5vdCBwcm92aWRlZCBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgc3VjaC4gSWYgdGhlIExvY2F0aW9uIGRvZXMgbm90IGhhdmUgYSBtYW5hZ2luZyBPcmdhbml6YXRpb24sIHRoZW4gdGhpcyBwcm9wZXJ0eSBzaG91bGQgYmUgcG9wdWxhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm92aWRlZEJ5PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNlbGVjdGluZyBhIFNlcnZpY2UgQ2F0ZWdvcnkgdGhlbiBkZXRlcm1pbmVzIHRoZSBsaXN0IG9mIHJlbGV2YW50IHNlcnZpY2UgdHlwZXMgdGhhdCBjYW4gYmUgc2VsZWN0ZWQgaW4gdGhlIHByaW1hcnkgc2VydmljZSB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgdHlwZSBvZiBzZXJ2aWNlIHRoYXQgbWF5IGJlIGRlbGl2ZXJlZCBvciBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQ29sbGVjdGlvbiBvZiBzcGVjaWFsdGllcyBoYW5kbGVkIGJ5IHRoZSBzZXJ2aWNlIHNpdGUuIFRoaXMgaXMgbW9yZSBvZiBhIG1lZGljYWwgdGVybS5cclxuICAgKi9cclxuICBwdWJsaWMgc3BlY2lhbHR5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb2NhdGlvbihzKSB3aGVyZSB0aGlzIGhlYWx0aGNhcmUgc2VydmljZSBtYXkgYmUgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGxvY2F0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEZ1cnRoZXIgZGVzY3JpcHRpb24gb2YgdGhlIHNlcnZpY2UgYXMgaXQgd291bGQgYmUgcHJlc2VudGVkIHRvIGEgY29uc3VtZXIgd2hpbGUgc2VhcmNoaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXb3VsZCBleHBlY3QgdGhhdCBhIHVzZXIgd291bGQgbm90IHNlZSB0aGlzIGluZm9ybWF0aW9uIG9uIGEgc2VhcmNoIHJlc3VsdHMsIGFuZCBpdCB3b3VsZCBvbmx5IGJlIGF2YWlsYWJsZSB3aGVuIHZpZXdpbmcgdGhlIGNvbXBsZXRlIGRldGFpbHMgb2YgdGhlIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW1lbnQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dHJhIGRldGFpbHMgYWJvdXQgdGhlIHNlcnZpY2UgdGhhdCBjYW4ndCBiZSBwbGFjZWQgaW4gdGhlIG90aGVyIGZpZWxkcy5cclxuICAgKi9cclxuICBwdWJsaWMgZXh0cmFEZXRhaWxzPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZXJlIGlzIGEgcGhvdG8vc3ltYm9sIGFzc29jaWF0ZWQgd2l0aCB0aGlzIEhlYWx0aGNhcmVTZXJ2aWNlLCBpdCBtYXkgYmUgaW5jbHVkZWQgaGVyZSB0byBmYWNpbGl0YXRlIHF1aWNrIGlkZW50aWZpY2F0aW9uIG9mIHRoZSBzZXJ2aWNlIGluIGEgbGlzdC5cclxuICAgKi9cclxuICBwdWJsaWMgcGhvdG8/OiBmaGlyLkF0dGFjaG1lbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgaXMgZW1wdHksIHRoZW4gcmVmZXIgdG8gdGhlIGxvY2F0aW9uJ3MgY29udGFjdHMuXHJcbiAgICovXHJcbiAgcHVibGljIHRlbGVjb206IGZoaXIuQ29udGFjdFBvaW50W107XHJcbiAgLyoqXHJcbiAgICogVGhlIGxvY2F0aW9ucyByZWZlcmVuY2VkIGJ5IHRoZSBjb3ZlcmFnZSBhcmVhIGNhbiBpbmNsdWRlIGJvdGggc3BlY2lmaWMgbG9jYXRpb25zLCBpbmNsdWRpbmcgYXJlYXMsIGFuZCBhbHNvIGNvbmNlcHR1YWwgZG9tYWlucyB0b28gKG1vZGUgPSBraW5kKSwgc3VjaCBhcyBhIHBoeXNpY2FsIGFyZWEgKHRyaS1zdGF0ZSBhcmVhKSBhbmQgc29tZSBvdGhlciBhdHRyaWJ1dGUgKGNvdmVyZWQgYnkgRXhhbXBsZSBDYXJlIE9yZ2FuaXphdGlvbikuIFRoZXNlIHR5cGVzIG9mIExvY2F0aW9ucyBhcmUgb2Z0ZW4gbm90IG1hbmFnZWQgYnkgYW55IHNwZWNpZmljIG9yZ2FuaXphdGlvbi4gVGhpcyBjb3VsZCBhbHNvIGluY2x1ZGUgZ2VuZXJpYyBsb2NhdGlvbnMgc3VjaCBhcyBcImluLWhvbWVcIi5cclxuICAgKi9cclxuICBwdWJsaWMgY292ZXJhZ2VBcmVhOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm92aXNpb24gbWVhbnMgYmVpbmcgY29tbWlzc2lvbmVkIGJ5LCBjb250cmFjdHVhbGx5IG9ibGlnZWQgb3IgZmluYW5jaWFsbHkgc291cmNlZC4gVHlwZXMgb2YgY29zdGluZ3MgdGhhdCBtYXkgYXBwbHkgdG8gdGhpcyBoZWFsdGhjYXJlIHNlcnZpY2UsIHN1Y2ggaWYgdGhlIHNlcnZpY2UgbWF5IGJlIGF2YWlsYWJsZSBmb3IgZnJlZSwgc29tZSBkaXNjb3VudHMgYXZhaWxhYmxlLCBvciBmZWVzIGFwcGx5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJ2aWNlUHJvdmlzaW9uQ29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEb2VzIHRoaXMgc2VydmljZSBoYXZlIHNwZWNpZmljIGVsaWdpYmlsaXR5IHJlcXVpcmVtZW50cyB0aGF0IG5lZWQgdG8gYmUgbWV0IGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZT9cclxuICAgKi9cclxuICBwdWJsaWMgZWxpZ2liaWxpdHk6IGZoaXIuSGVhbHRoY2FyZVNlcnZpY2VFbGlnaWJpbGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIFByb2dyYW1zIGFyZSBvZnRlbiBkZWZpbmVkIGV4dGVybmFsbHkgdG8gYW4gT3JnYW5pemF0aW9uLCBjb21tb25seSBieSBnb3Zlcm5tZW50czsgZS5nLiBIb21lIGFuZCBDb21tdW5pdHkgQ2FyZSBQcm9ncmFtcywgSG9tZWxlc3MgUHJvZ3JhbSwg4oCmLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9ncmFtOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZXNlIGNvdWxkIGJlIHN1Y2ggdGhpbmdzIGFzIGlzIHdoZWVsY2hhaXIgYWNjZXNzaWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgY2hhcmFjdGVyaXN0aWM6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogV2hlbiB1c2luZyB0aGlzIHByb3BlcnR5IGl0IGluZGljYXRlcyB0aGF0IHRoZSBzZXJ2aWNlIGlzIGF2YWlsYWJsZSB3aXRoIHRoaXMgbGFuZ3VhZ2UsIGl0IGlzIG5vdCBkZXJpdmVkIGZyb20gdGhlIHByYWN0aXRpb25lcnMsIGFuZCBub3QgYWxsIGFyZSByZXF1aXJlZCB0byB1c2UgdGhpcyBsYW5ndWFnZSwganVzdCB0aGF0IHRoaXMgbGFuZ3VhZ2UgaXMgYXZhaWxhYmxlIHdoaWxlIHNjaGVkdWxpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW11bmljYXRpb246IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogV2F5cyB0aGF0IHRoZSBzZXJ2aWNlIGFjY2VwdHMgcmVmZXJyYWxzLCBpZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIGl0IGlzIGltcGxpZWQgdGhhdCBubyByZWZlcnJhbCBpcyByZXF1aXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJyYWxNZXRob2Q6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IGEgcHJvc3BlY3RpdmUgY29uc3VtZXIgd2lsbCByZXF1aXJlIGFuIGFwcG9pbnRtZW50IGZvciBhIHBhcnRpY3VsYXIgc2VydmljZSBhdCBhIHNpdGUgdG8gYmUgcHJvdmlkZWQgYnkgdGhlIE9yZ2FuaXphdGlvbi4gSW5kaWNhdGVzIGlmIGFuIGFwcG9pbnRtZW50IGlzIHJlcXVpcmVkIGZvciBhY2Nlc3MgdG8gdGhpcyBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhcHBvaW50bWVudFJlcXVpcmVkPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTW9yZSBkZXRhaWxlZCBhdmFpbGFiaWxpdHkgaW5mb3JtYXRpb24gbWF5IGJlIHByb3ZpZGVkIGluIGFzc29jaWF0ZWQgU2NoZWR1bGUvU2xvdCByZXNvdXJjZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGF2YWlsYWJsZVRpbWU6IGZoaXIuSGVhbHRoY2FyZVNlcnZpY2VBdmFpbGFibGVUaW1lW107XHJcbiAgLyoqXHJcbiAgICogVGhlIEhlYWx0aGNhcmVTZXJ2aWNlIGlzIG5vdCBhdmFpbGFibGUgZHVyaW5nIHRoaXMgcGVyaW9kIG9mIHRpbWUgZHVlIHRvIHRoZSBwcm92aWRlZCByZWFzb24uXHJcbiAgICovXHJcbiAgcHVibGljIG5vdEF2YWlsYWJsZTogZmhpci5IZWFsdGhjYXJlU2VydmljZU5vdEF2YWlsYWJsZVtdO1xyXG4gIC8qKlxyXG4gICAqIEEgZGVzY3JpcHRpb24gb2Ygc2l0ZSBhdmFpbGFiaWxpdHkgZXhjZXB0aW9ucywgZS5nLiBwdWJsaWMgaG9saWRheSBhdmFpbGFiaWxpdHkuIFN1Y2NpbmN0bHkgZGVzY3JpYmluZyBhbGwgcG9zc2libGUgZXhjZXB0aW9ucyB0byBub3JtYWwgc2l0ZSBhdmFpbGFiaWxpdHkgYXMgZGV0YWlscyBpbiB0aGUgYXZhaWxhYmxlIFRpbWVzIGFuZCBub3QgYXZhaWxhYmxlIFRpbWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdmFpbGFiaWxpdHlFeGNlcHRpb25zPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZWNobmljYWwgZW5kcG9pbnRzIHByb3ZpZGluZyBhY2Nlc3MgdG8gc2VydmljZXMgb3BlcmF0ZWQgZm9yIHRoZSBzcGVjaWZpYyBoZWFsdGhjYXJlIHNlcnZpY2VzIGRlZmluZWQgYXQgdGhpcyByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgZW5kcG9pbnQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSGVhbHRoY2FyZVNlcnZpY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxIZWFsdGhjYXJlU2VydmljZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdIZWFsdGhjYXJlU2VydmljZSc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhY3RpdmUnXSkgeyB0aGlzLmFjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmFjdGl2ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWN0aXZlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7IHRoaXMuYWN0aXZlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FjdGl2ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fYWN0aXZlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvdmlkZWRCeSddKSB7IHRoaXMucHJvdmlkZWRCeSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucHJvdmlkZWRCeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3BlY2lhbHR5J10pIHsgdGhpcy5zcGVjaWFsdHkgPSBzb3VyY2Uuc3BlY2lhbHR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3BlY2lhbHR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2xvY2F0aW9uJ10pIHsgdGhpcy5sb2NhdGlvbiA9IHNvdXJjZS5sb2NhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmxvY2F0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb21tZW50J10pIHsgdGhpcy5jb21tZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5jb21tZW50fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb21tZW50J10pIHtcclxuICAgICAgaWYgKHRoaXMuY29tbWVudCkgeyB0aGlzLmNvbW1lbnQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29tbWVudCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvbW1lbnQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fY29tbWVudCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXh0cmFEZXRhaWxzJ10pIHsgdGhpcy5leHRyYURldGFpbHMgPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuZXh0cmFEZXRhaWxzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19leHRyYURldGFpbHMnXSkge1xyXG4gICAgICBpZiAodGhpcy5leHRyYURldGFpbHMpIHsgdGhpcy5leHRyYURldGFpbHMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZXh0cmFEZXRhaWxzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZXh0cmFEZXRhaWxzID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHNvdXJjZS5fZXh0cmFEZXRhaWxzIGFzIFBhcnRpYWw8Zmhpci5GaGlyTWFya2Rvd25BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Bob3RvJ10pIHsgdGhpcy5waG90byA9IG5ldyBmaGlyLkF0dGFjaG1lbnQoc291cmNlLnBob3RvKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGVsZWNvbSddKSB7IHRoaXMudGVsZWNvbSA9IHNvdXJjZS50ZWxlY29tLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29udGFjdFBvaW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGVsZWNvbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb3ZlcmFnZUFyZWEnXSkgeyB0aGlzLmNvdmVyYWdlQXJlYSA9IHNvdXJjZS5jb3ZlcmFnZUFyZWEubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb3ZlcmFnZUFyZWEgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VydmljZVByb3Zpc2lvbkNvZGUnXSkgeyB0aGlzLnNlcnZpY2VQcm92aXNpb25Db2RlID0gc291cmNlLnNlcnZpY2VQcm92aXNpb25Db2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VydmljZVByb3Zpc2lvbkNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZWxpZ2liaWxpdHknXSkgeyB0aGlzLmVsaWdpYmlsaXR5ID0gc291cmNlLmVsaWdpYmlsaXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuSGVhbHRoY2FyZVNlcnZpY2VFbGlnaWJpbGl0eSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVsaWdpYmlsaXR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2dyYW0nXSkgeyB0aGlzLnByb2dyYW0gPSBzb3VyY2UucHJvZ3JhbS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2dyYW0gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2hhcmFjdGVyaXN0aWMnXSkgeyB0aGlzLmNoYXJhY3RlcmlzdGljID0gc291cmNlLmNoYXJhY3RlcmlzdGljLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2hhcmFjdGVyaXN0aWMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tbXVuaWNhdGlvbiddKSB7IHRoaXMuY29tbXVuaWNhdGlvbiA9IHNvdXJjZS5jb21tdW5pY2F0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tbXVuaWNhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcnJhbE1ldGhvZCddKSB7IHRoaXMucmVmZXJyYWxNZXRob2QgPSBzb3VyY2UucmVmZXJyYWxNZXRob2QubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWZlcnJhbE1ldGhvZCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhcHBvaW50bWVudFJlcXVpcmVkJ10pIHsgdGhpcy5hcHBvaW50bWVudFJlcXVpcmVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuYXBwb2ludG1lbnRSZXF1aXJlZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYXBwb2ludG1lbnRSZXF1aXJlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFwcG9pbnRtZW50UmVxdWlyZWQpIHsgdGhpcy5hcHBvaW50bWVudFJlcXVpcmVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FwcG9pbnRtZW50UmVxdWlyZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hcHBvaW50bWVudFJlcXVpcmVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9hcHBvaW50bWVudFJlcXVpcmVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXZhaWxhYmxlVGltZSddKSB7IHRoaXMuYXZhaWxhYmxlVGltZSA9IHNvdXJjZS5hdmFpbGFibGVUaW1lLm1hcCgoeCkgPT4gbmV3IGZoaXIuSGVhbHRoY2FyZVNlcnZpY2VBdmFpbGFibGVUaW1lKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXZhaWxhYmxlVGltZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RBdmFpbGFibGUnXSkgeyB0aGlzLm5vdEF2YWlsYWJsZSA9IHNvdXJjZS5ub3RBdmFpbGFibGUubWFwKCh4KSA9PiBuZXcgZmhpci5IZWFsdGhjYXJlU2VydmljZU5vdEF2YWlsYWJsZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdEF2YWlsYWJsZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhdmFpbGFiaWxpdHlFeGNlcHRpb25zJ10pIHsgdGhpcy5hdmFpbGFiaWxpdHlFeGNlcHRpb25zID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hdmFpbGFiaWxpdHlFeGNlcHRpb25zfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hdmFpbGFiaWxpdHlFeGNlcHRpb25zJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYXZhaWxhYmlsaXR5RXhjZXB0aW9ucykgeyB0aGlzLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXZhaWxhYmlsaXR5RXhjZXB0aW9ucyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYXZhaWxhYmlsaXR5RXhjZXB0aW9ucyBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW5kcG9pbnQnXSkgeyB0aGlzLmVuZHBvaW50ID0gc291cmNlLmVuZHBvaW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZW5kcG9pbnQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdIZWFsdGhjYXJlU2VydmljZScgfVxyXG4gICAgdGhpcy52UmVxUygncmVzb3VyY2VUeXBlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnaWRlbnRpZmllcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2FjdGl2ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3Byb3ZpZGVkQnknLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdjYXRlZ29yeScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ3R5cGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdzcGVjaWFsdHknLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdsb2NhdGlvbicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ25hbWUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdjb21tZW50JyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnZXh0cmFEZXRhaWxzJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygncGhvdG8nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCd0ZWxlY29tJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnY292ZXJhZ2VBcmVhJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnc2VydmljZVByb3Zpc2lvbkNvZGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdlbGlnaWJpbGl0eScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ3Byb2dyYW0nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdjaGFyYWN0ZXJpc3RpYycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2NvbW11bmljYXRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdyZWZlcnJhbE1ldGhvZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2FwcG9pbnRtZW50UmVxdWlyZWQnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdhdmFpbGFibGVUaW1lJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnbm90QXZhaWxhYmxlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnYXZhaWxhYmlsaXR5RXhjZXB0aW9ucycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2VuZHBvaW50JyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19