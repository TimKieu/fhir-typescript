// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Device
import * as fhir from '../fhir.js';
// @ts-ignore
import { UdiEntryTypeCodes } from '../fhirValueSets/UdiEntryTypeCodes.js';
// @ts-ignore
import { DeviceNametypeCodes } from '../fhirValueSets/DeviceNametypeCodes.js';
// @ts-ignore
import { DeviceStatusCodes } from '../fhirValueSets/DeviceStatusCodes.js';
// @ts-ignore
import { DeviceStatusReasonCodings, } from '../fhirValueSets/DeviceStatusReasonCodings.js';
/**
 * UDI may identify an unique instance of a device, or it may only identify the type of the device.  See [UDI mappings](device-mappings.html#udi) for a complete mapping of UDI parts to Device.
 */
export class DeviceUdiCarrier extends fhir.BackboneElement {
    /**
     * Default constructor for DeviceUdiCarrier - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['deviceIdentifier']) {
            this.deviceIdentifier = new fhir.FhirString({ value: source.deviceIdentifier });
        }
        if (source['issuer']) {
            this.issuer = new fhir.FhirUri({ value: source.issuer });
        }
        if (source['jurisdiction']) {
            this.jurisdiction = new fhir.FhirUri({ value: source.jurisdiction });
        }
        if (source['carrierAIDC']) {
            this.carrierAIDC = new fhir.FhirBase64Binary({ value: source.carrierAIDC });
        }
        if (source['carrierHRF']) {
            this.carrierHRF = new fhir.FhirString({ value: source.carrierHRF });
        }
        if (source['entryType']) {
            this.entryType = new fhir.FhirCode({ value: source.entryType });
        }
    }
    /**
     * Required-bound Value Set for entryType (Device.udiCarrier.entryType)
     */
    static get entryTypeRequiredCodes() {
        return UdiEntryTypeCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["deviceIdentifier"]) {
            issues.push(...this.deviceIdentifier.doModelValidation());
        }
        if (this["issuer"]) {
            issues.push(...this.issuer.doModelValidation());
        }
        if (this["jurisdiction"]) {
            issues.push(...this.jurisdiction.doModelValidation());
        }
        if (this["carrierAIDC"]) {
            issues.push(...this.carrierAIDC.doModelValidation());
        }
        if (this["carrierHRF"]) {
            issues.push(...this.carrierHRF.doModelValidation());
        }
        if (this['entryType'] && (!Object.values(UdiEntryTypeCodes).includes(this.entryType))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property entryType?:fhir.FhirCode<UdiEntryTypeCodeType> fhir: Device.udiCarrier.entryType:code Required binding to: UdiEntryType' });
        }
        if (this["entryType"]) {
            issues.push(...this.entryType.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DeviceUdiCarrier._fts_dataType = 'DeviceUdiCarrier';
/**
 * This represents the manufacturer's name of the device as provided by the device, from a UDI label, or by a person describing the Device.  This typically would be used when a person provides the name(s) or when the device represents one of the names available from DeviceDefinition.
 */
export class DeviceDeviceName extends fhir.BackboneElement {
    /**
     * Default constructor for DeviceDeviceName - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
    }
    /**
     * Required-bound Value Set for type (Device.deviceName.type)
     */
    static get typeRequiredCodes() {
        return DeviceNametypeCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: Device.deviceName.name:string' });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.FhirCode<DeviceNametypeCodeType> fhir: Device.deviceName.type:code' });
        }
        if (this['type'] && (!Object.values(DeviceNametypeCodes).includes(this.type))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property type:fhir.FhirCode<DeviceNametypeCodeType> fhir: Device.deviceName.type:code Required binding to: DeviceNametype' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DeviceDeviceName._fts_dataType = 'DeviceDeviceName';
/**
 * The capabilities supported on a  device, the standards to which the device conforms for a particular purpose, and used for the communication.
 */
export class DeviceSpecialization extends fhir.BackboneElement {
    /**
     * Default constructor for DeviceSpecialization - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['systemType']) {
            this.systemType = new fhir.CodeableConcept(source.systemType);
        }
        else {
            this.systemType = null;
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['systemType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property systemType:fhir.CodeableConcept fhir: Device.specialization.systemType:CodeableConcept' });
        }
        if (this["systemType"]) {
            issues.push(...this.systemType.doModelValidation());
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DeviceSpecialization._fts_dataType = 'DeviceSpecialization';
/**
 * The actual design of the device or software version running on the device.
 */
export class DeviceVersion extends fhir.BackboneElement {
    /**
     * Default constructor for DeviceVersion - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['component']) {
            this.component = new fhir.Identifier(source.component);
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        else {
            this.value = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["component"]) {
            issues.push(...this.component.doModelValidation());
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value:fhir.FhirString fhir: Device.version.value:string' });
        }
        if (this["value"]) {
            issues.push(...this.value.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DeviceVersion._fts_dataType = 'DeviceVersion';
/**
 * The actual configuration settings of a device as it actually operates, e.g., regulation status, time properties.
 */
export class DeviceProperty extends fhir.BackboneElement {
    /**
     * Default constructor for DeviceProperty - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['valueQuantity']) {
            this.valueQuantity = source.valueQuantity.map((x) => new fhir.Quantity(x));
        }
        else {
            this.valueQuantity = [];
        }
        if (source['valueCode']) {
            this.valueCode = source.valueCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.valueCode = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: Device.property.type:CodeableConcept' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["valueQuantity"]) {
            this.valueQuantity.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["valueCode"]) {
            this.valueCode.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DeviceProperty._fts_dataType = 'DeviceProperty';
/**
 * A type of a manufactured item that is used in the provision of healthcare without being substantially changed through that activity. The device may be a medical or non-medical device.
 */
export class Device extends fhir.DomainResource {
    /**
     * Default constructor for Device - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Device';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['definition']) {
            this.definition = new fhir.Reference(source.definition);
        }
        if (source['udiCarrier']) {
            this.udiCarrier = source.udiCarrier.map((x) => new fhir.DeviceUdiCarrier(x));
        }
        else {
            this.udiCarrier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        if (source['statusReason']) {
            this.statusReason = source.statusReason.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.statusReason = [];
        }
        if (source['distinctIdentifier']) {
            this.distinctIdentifier = new fhir.FhirString({ value: source.distinctIdentifier });
        }
        if (source['manufacturer']) {
            this.manufacturer = new fhir.FhirString({ value: source.manufacturer });
        }
        if (source['manufactureDate']) {
            this.manufactureDate = new fhir.FhirDateTime({ value: source.manufactureDate });
        }
        if (source['expirationDate']) {
            this.expirationDate = new fhir.FhirDateTime({ value: source.expirationDate });
        }
        if (source['lotNumber']) {
            this.lotNumber = new fhir.FhirString({ value: source.lotNumber });
        }
        if (source['serialNumber']) {
            this.serialNumber = new fhir.FhirString({ value: source.serialNumber });
        }
        if (source['deviceName']) {
            this.deviceName = source.deviceName.map((x) => new fhir.DeviceDeviceName(x));
        }
        else {
            this.deviceName = [];
        }
        if (source['modelNumber']) {
            this.modelNumber = new fhir.FhirString({ value: source.modelNumber });
        }
        if (source['partNumber']) {
            this.partNumber = new fhir.FhirString({ value: source.partNumber });
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['specialization']) {
            this.specialization = source.specialization.map((x) => new fhir.DeviceSpecialization(x));
        }
        else {
            this.specialization = [];
        }
        if (source['version']) {
            this.version = source.version.map((x) => new fhir.DeviceVersion(x));
        }
        else {
            this.version = [];
        }
        if (source['property']) {
            this.property = source.property.map((x) => new fhir.DeviceProperty(x));
        }
        else {
            this.property = [];
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        if (source['owner']) {
            this.owner = new fhir.Reference(source.owner);
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.contact = [];
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['safety']) {
            this.safety = source.safety.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.safety = [];
        }
        if (source['parent']) {
            this.parent = new fhir.Reference(source.parent);
        }
    }
    /**
     * Required-bound Value Set for status (Device.status)
     */
    static get statusRequiredCodes() {
        return DeviceStatusCodes;
    }
    /**
     * Extensible-bound Value Set for statusReason (Device.statusReason)
     */
    static get statusReasonExtensibleCodings() {
        return DeviceStatusReasonCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"Device" fhir: Device.resourceType:"Device"' });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["definition"]) {
            issues.push(...this.definition.doModelValidation());
        }
        if (this["udiCarrier"]) {
            this.udiCarrier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this['status'] && (!Object.values(DeviceStatusCodes).includes(this.status))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property status?:fhir.FhirCode<DeviceStatusCodeType> fhir: Device.status:code Required binding to: DeviceStatus' });
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation());
        }
        if (this["statusReason"]) {
            this.statusReason.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["distinctIdentifier"]) {
            issues.push(...this.distinctIdentifier.doModelValidation());
        }
        if (this["manufacturer"]) {
            issues.push(...this.manufacturer.doModelValidation());
        }
        if (this["manufactureDate"]) {
            issues.push(...this.manufactureDate.doModelValidation());
        }
        if (this["expirationDate"]) {
            issues.push(...this.expirationDate.doModelValidation());
        }
        if (this["lotNumber"]) {
            issues.push(...this.lotNumber.doModelValidation());
        }
        if (this["serialNumber"]) {
            issues.push(...this.serialNumber.doModelValidation());
        }
        if (this["deviceName"]) {
            this.deviceName.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["modelNumber"]) {
            issues.push(...this.modelNumber.doModelValidation());
        }
        if (this["partNumber"]) {
            issues.push(...this.partNumber.doModelValidation());
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["specialization"]) {
            this.specialization.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["version"]) {
            this.version.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["property"]) {
            this.property.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["patient"]) {
            issues.push(...this.patient.doModelValidation());
        }
        if (this["owner"]) {
            issues.push(...this.owner.doModelValidation());
        }
        if (this["contact"]) {
            this.contact.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["location"]) {
            issues.push(...this.location.doModelValidation());
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        if (this["note"]) {
            this.note.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["safety"]) {
            this.safety.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["parent"]) {
            issues.push(...this.parent.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Device._fts_dataType = 'Device';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGV2aWNlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9EZXZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsd0JBQXdCO0FBRXhCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsaUJBQWlCLEVBQXlCLE1BQU0sdUNBQXVDLENBQUM7QUFHakcsYUFBYTtBQUNiLE9BQU8sRUFBRSxtQkFBbUIsRUFBMkIsTUFBTSx5Q0FBeUMsQ0FBQztBQUd2RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGlCQUFpQixFQUF5QixNQUFNLHVDQUF1QyxDQUFDO0FBQ2pHLGFBQWE7QUFDYixPQUFPLEVBQUUseUJBQXlCLEdBQWdDLE1BQU0sK0NBQStDLENBQUM7QUE2Q3hIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGdCQUFpQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBcUN4RDs7T0FFRztJQUNILFlBQVksU0FBdUMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDN0YsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsZ0JBQWdCLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDbEgsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2pGLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FB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QUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDeEUsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE3TUQ7O0dBRUc7QUFDNkIsb0JBQWEsR0FBVSxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IERldmljZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVWRpRW50cnlUeXBlQ29kaW5ncywgVWRpRW50cnlUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVWRpRW50cnlUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVWRpRW50cnlUeXBlQ29kZXMsICBVZGlFbnRyeVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVWRpRW50cnlUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERldmljZU5hbWV0eXBlQ29kaW5ncywgRGV2aWNlTmFtZXR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EZXZpY2VOYW1ldHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERldmljZU5hbWV0eXBlQ29kZXMsICBEZXZpY2VOYW1ldHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EZXZpY2VOYW1ldHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEZXZpY2VTdGF0dXNDb2RpbmdzLCBEZXZpY2VTdGF0dXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EZXZpY2VTdGF0dXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEZXZpY2VTdGF0dXNDb2RlcywgIERldmljZVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EZXZpY2VTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGV2aWNlU3RhdHVzUmVhc29uQ29kaW5ncywgRGV2aWNlU3RhdHVzUmVhc29uQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGV2aWNlU3RhdHVzUmVhc29uQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGV2aWNlU3RhdHVzUmVhc29uQ29kZXMsICBEZXZpY2VTdGF0dXNSZWFzb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGV2aWNlU3RhdHVzUmVhc29uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERldmljZVR5cGVDb2RpbmdzLCBEZXZpY2VUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGV2aWNlVHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERldmljZVR5cGVDb2RlcywgIERldmljZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGV2aWNlVHlwZUNvZGVzLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIERldmljZVVkaUNhcnJpZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlVWRpQ2FycmllckFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXZpY2UgaWRlbnRpZmllciAoREkpIGlzIGEgbWFuZGF0b3J5LCBmaXhlZCBwb3J0aW9uIG9mIGEgVURJIHRoYXQgaWRlbnRpZmllcyB0aGUgbGFiZWxlciBhbmQgdGhlIHNwZWNpZmljIHZlcnNpb24gb3IgbW9kZWwgb2YgYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgZGV2aWNlSWRlbnRpZmllcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9yZ2FuaXphdGlvbiB0aGF0IGlzIGNoYXJnZWQgd2l0aCBpc3N1aW5nIFVESXMgZm9yIGRldmljZXMuICBGb3IgZXhhbXBsZSwgdGhlIFVTIEZEQSBpc3N1ZXJzIGluY2x1ZGUgOlxyXG4gICAqIDEpIEdTMTogXHJcbiAgICogaHR0cDovL2hsNy5vcmcvZmhpci9OYW1pbmdTeXN0ZW0vZ3MxLWRpLCBcclxuICAgKiAyKSBISUJDQzpcclxuICAgKiBodHRwOi8vaGw3Lm9yZy9maGlyL05hbWluZ1N5c3RlbS9oaWJjYy1kSSwgXHJcbiAgICogMykgSUNDQkJBIGZvciBibG9vZCBjb250YWluZXJzOlxyXG4gICAqIGh0dHA6Ly9obDcub3JnL2ZoaXIvTmFtaW5nU3lzdGVtL2ljY2JiYS1ibG9vZC1kaSwgXHJcbiAgICogNCkgSUNDQkEgZm9yIG90aGVyIGRldmljZXM6XHJcbiAgICogaHR0cDovL2hsNy5vcmcvZmhpci9OYW1pbmdTeXN0ZW0vaWNjYmJhLW90aGVyLWRpLlxyXG4gICAqL1xyXG4gIGlzc3Vlcj86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGl0eSBvZiB0aGUgYXV0aG9yaXRhdGl2ZSBzb3VyY2UgZm9yIFVESSBnZW5lcmF0aW9uIHdpdGhpbiBhICBqdXJpc2RpY3Rpb24uICBBbGwgVURJcyBhcmUgZ2xvYmFsbHkgdW5pcXVlIHdpdGhpbiBhIHNpbmdsZSBuYW1lc3BhY2Ugd2l0aCB0aGUgYXBwcm9wcmlhdGUgcmVwb3NpdG9yeSB1cmkgYXMgdGhlIHN5c3RlbS4gIEZvciBleGFtcGxlLCAgVURJcyBvZiBkZXZpY2VzIG1hbmFnZWQgaW4gdGhlIFUuUy4gYnkgdGhlIEZEQSwgdGhlIHZhbHVlIGlzICBodHRwOi8vaGw3Lm9yZy9maGlyL05hbWluZ1N5c3RlbS9mZGEtdWRpLlxyXG4gICAqL1xyXG4gIGp1cmlzZGljdGlvbj86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBBSURDIGZvcm0gb2YgVURJcyBzaG91bGQgYmUgc2Nhbm5lZCBvciBvdGhlcndpc2UgdXNlZCBmb3IgdGhlIGlkZW50aWZpY2F0aW9uIG9mIHRoZSBkZXZpY2Ugd2hlbmV2ZXIgcG9zc2libGUgdG8gbWluaW1pemUgZXJyb3JzIGluIHJlY29yZHMgcmVzdWx0aW5nIGZyb20gbWFudWFsIHRyYW5zY3JpcHRpb25zLiBJZiBzZXBhcmF0ZSBiYXJjb2RlcyBmb3IgREkgYW5kIFBJIGFyZSBwcmVzZW50LCBjb25jYXRlbmF0ZSB0aGUgc3RyaW5nIHdpdGggREkgZmlyc3QgYW5kIGluIG9yZGVyIG9mIGh1bWFuIHJlYWRhYmxlIGV4cHJlc3Npb24gb24gbGFiZWwuXHJcbiAgICovXHJcbiAgY2FycmllckFJREM/OiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBzZXBhcmF0ZSBiYXJjb2RlcyBmb3IgREkgYW5kIFBJIGFyZSBwcmVzZW50LCBjb25jYXRlbmF0ZSB0aGUgc3RyaW5nIHdpdGggREkgZmlyc3QgYW5kIGluIG9yZGVyIG9mIGh1bWFuIHJlYWRhYmxlIGV4cHJlc3Npb24gb24gbGFiZWwuXHJcbiAgICovXHJcbiAgY2FycmllckhSRj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgZW50cnkgdG8gaW5kaWNhdGUgaG93IHRoZSBkYXRhIHdhcyBlbnRlcmVkLlxyXG4gICAqL1xyXG4gIGVudHJ5VHlwZT86IGZoaXIuRmhpckNvZGU8VWRpRW50cnlUeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVREkgbWF5IGlkZW50aWZ5IGFuIHVuaXF1ZSBpbnN0YW5jZSBvZiBhIGRldmljZSwgb3IgaXQgbWF5IG9ubHkgaWRlbnRpZnkgdGhlIHR5cGUgb2YgdGhlIGRldmljZS4gIFNlZSBbVURJIG1hcHBpbmdzXShkZXZpY2UtbWFwcGluZ3MuaHRtbCN1ZGkpIGZvciBhIGNvbXBsZXRlIG1hcHBpbmcgb2YgVURJIHBhcnRzIHRvIERldmljZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2VVZGlDYXJyaWVyIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRGV2aWNlVWRpQ2Fycmllcic7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRldmljZSBpZGVudGlmaWVyIChESSkgaXMgYSBtYW5kYXRvcnksIGZpeGVkIHBvcnRpb24gb2YgYSBVREkgdGhhdCBpZGVudGlmaWVzIHRoZSBsYWJlbGVyIGFuZCB0aGUgc3BlY2lmaWMgdmVyc2lvbiBvciBtb2RlbCBvZiBhIGRldmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGV2aWNlSWRlbnRpZmllcj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3JnYW5pemF0aW9uIHRoYXQgaXMgY2hhcmdlZCB3aXRoIGlzc3VpbmcgVURJcyBmb3IgZGV2aWNlcy4gIEZvciBleGFtcGxlLCB0aGUgVVMgRkRBIGlzc3VlcnMgaW5jbHVkZSA6XHJcbiAgICogMSkgR1MxOiBcclxuICAgKiBodHRwOi8vaGw3Lm9yZy9maGlyL05hbWluZ1N5c3RlbS9nczEtZGksIFxyXG4gICAqIDIpIEhJQkNDOlxyXG4gICAqIGh0dHA6Ly9obDcub3JnL2ZoaXIvTmFtaW5nU3lzdGVtL2hpYmNjLWRJLCBcclxuICAgKiAzKSBJQ0NCQkEgZm9yIGJsb29kIGNvbnRhaW5lcnM6XHJcbiAgICogaHR0cDovL2hsNy5vcmcvZmhpci9OYW1pbmdTeXN0ZW0vaWNjYmJhLWJsb29kLWRpLCBcclxuICAgKiA0KSBJQ0NCQSBmb3Igb3RoZXIgZGV2aWNlczpcclxuICAgKiBodHRwOi8vaGw3Lm9yZy9maGlyL05hbWluZ1N5c3RlbS9pY2NiYmEtb3RoZXItZGkuXHJcbiAgICovXHJcbiAgcHVibGljIGlzc3Vlcj86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aXR5IG9mIHRoZSBhdXRob3JpdGF0aXZlIHNvdXJjZSBmb3IgVURJIGdlbmVyYXRpb24gd2l0aGluIGEgIGp1cmlzZGljdGlvbi4gIEFsbCBVRElzIGFyZSBnbG9iYWxseSB1bmlxdWUgd2l0aGluIGEgc2luZ2xlIG5hbWVzcGFjZSB3aXRoIHRoZSBhcHByb3ByaWF0ZSByZXBvc2l0b3J5IHVyaSBhcyB0aGUgc3lzdGVtLiAgRm9yIGV4YW1wbGUsICBVRElzIG9mIGRldmljZXMgbWFuYWdlZCBpbiB0aGUgVS5TLiBieSB0aGUgRkRBLCB0aGUgdmFsdWUgaXMgIGh0dHA6Ly9obDcub3JnL2ZoaXIvTmFtaW5nU3lzdGVtL2ZkYS11ZGkuXHJcbiAgICovXHJcbiAgcHVibGljIGp1cmlzZGljdGlvbj86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIEFJREMgZm9ybSBvZiBVRElzIHNob3VsZCBiZSBzY2FubmVkIG9yIG90aGVyd2lzZSB1c2VkIGZvciB0aGUgaWRlbnRpZmljYXRpb24gb2YgdGhlIGRldmljZSB3aGVuZXZlciBwb3NzaWJsZSB0byBtaW5pbWl6ZSBlcnJvcnMgaW4gcmVjb3JkcyByZXN1bHRpbmcgZnJvbSBtYW51YWwgdHJhbnNjcmlwdGlvbnMuIElmIHNlcGFyYXRlIGJhcmNvZGVzIGZvciBESSBhbmQgUEkgYXJlIHByZXNlbnQsIGNvbmNhdGVuYXRlIHRoZSBzdHJpbmcgd2l0aCBESSBmaXJzdCBhbmQgaW4gb3JkZXIgb2YgaHVtYW4gcmVhZGFibGUgZXhwcmVzc2lvbiBvbiBsYWJlbC5cclxuICAgKi9cclxuICBwdWJsaWMgY2FycmllckFJREM/OiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHNlcGFyYXRlIGJhcmNvZGVzIGZvciBESSBhbmQgUEkgYXJlIHByZXNlbnQsIGNvbmNhdGVuYXRlIHRoZSBzdHJpbmcgd2l0aCBESSBmaXJzdCBhbmQgaW4gb3JkZXIgb2YgaHVtYW4gcmVhZGFibGUgZXhwcmVzc2lvbiBvbiBsYWJlbC5cclxuICAgKi9cclxuICBwdWJsaWMgY2FycmllckhSRj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCBlbnRyeSB0byBpbmRpY2F0ZSBob3cgdGhlIGRhdGEgd2FzIGVudGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGVudHJ5VHlwZT86IGZoaXIuRmhpckNvZGU8VWRpRW50cnlUeXBlQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBEZXZpY2VVZGlDYXJyaWVyIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RGV2aWNlVWRpQ2FycmllckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydkZXZpY2VJZGVudGlmaWVyJ10pIHsgdGhpcy5kZXZpY2VJZGVudGlmaWVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXZpY2VJZGVudGlmaWVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2lzc3VlciddKSB7IHRoaXMuaXNzdWVyID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5pc3N1ZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnanVyaXNkaWN0aW9uJ10pIHsgdGhpcy5qdXJpc2RpY3Rpb24gPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLmp1cmlzZGljdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXJyaWVyQUlEQyddKSB7IHRoaXMuY2FycmllckFJREMgPSBuZXcgZmhpci5GaGlyQmFzZTY0QmluYXJ5KHt2YWx1ZTogc291cmNlLmNhcnJpZXJBSURDfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NhcnJpZXJIUkYnXSkgeyB0aGlzLmNhcnJpZXJIUkYgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmNhcnJpZXJIUkZ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW50cnlUeXBlJ10pIHsgdGhpcy5lbnRyeVR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxVZGlFbnRyeVR5cGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuZW50cnlUeXBlfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBlbnRyeVR5cGUgKERldmljZS51ZGlDYXJyaWVyLmVudHJ5VHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBlbnRyeVR5cGVSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIFVkaUVudHJ5VHlwZUNvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJkZXZpY2VJZGVudGlmaWVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGV2aWNlSWRlbnRpZmllci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJpc3N1ZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pc3N1ZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wianVyaXNkaWN0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuanVyaXNkaWN0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNhcnJpZXJBSURDXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY2FycmllckFJREMuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY2FycmllckhSRlwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNhcnJpZXJIUkYuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzWydlbnRyeVR5cGUnXSAmJiAoIU9iamVjdC52YWx1ZXMoVWRpRW50cnlUeXBlQ29kZXMpLmluY2x1ZGVzKHRoaXMuZW50cnlUeXBlIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSBlbnRyeVR5cGU/OmZoaXIuRmhpckNvZGU8VWRpRW50cnlUeXBlQ29kZVR5cGU+IGZoaXI6IERldmljZS51ZGlDYXJyaWVyLmVudHJ5VHlwZTpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IFVkaUVudHJ5VHlwZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImVudHJ5VHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmVudHJ5VHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIERldmljZURldmljZU5hbWUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlRGV2aWNlTmFtZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBkZXZpY2UuXHJcbiAgICovXHJcbiAgbmFtZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZGV2aWNlTmFtZS5cclxuICAgKiBVRElMYWJlbE5hbWUgfCBVc2VyRnJpZW5kbHlOYW1lIHwgUGF0aWVudFJlcG9ydGVkTmFtZSB8IE1hbnVmYWN0dXJlRGV2aWNlTmFtZSB8IE1vZGVsTmFtZS5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkZoaXJDb2RlPERldmljZU5hbWV0eXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGlzIHJlcHJlc2VudHMgdGhlIG1hbnVmYWN0dXJlcidzIG5hbWUgb2YgdGhlIGRldmljZSBhcyBwcm92aWRlZCBieSB0aGUgZGV2aWNlLCBmcm9tIGEgVURJIGxhYmVsLCBvciBieSBhIHBlcnNvbiBkZXNjcmliaW5nIHRoZSBEZXZpY2UuICBUaGlzIHR5cGljYWxseSB3b3VsZCBiZSB1c2VkIHdoZW4gYSBwZXJzb24gcHJvdmlkZXMgdGhlIG5hbWUocykgb3Igd2hlbiB0aGUgZGV2aWNlIHJlcHJlc2VudHMgb25lIG9mIHRoZSBuYW1lcyBhdmFpbGFibGUgZnJvbSBEZXZpY2VEZWZpbml0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERldmljZURldmljZU5hbWUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdEZXZpY2VEZXZpY2VOYW1lJztcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBkZXZpY2VOYW1lLlxyXG4gICAqIFVESUxhYmVsTmFtZSB8IFVzZXJGcmllbmRseU5hbWUgfCBQYXRpZW50UmVwb3J0ZWROYW1lIHwgTWFudWZhY3R1cmVEZXZpY2VOYW1lIHwgTW9kZWxOYW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkZoaXJDb2RlPERldmljZU5hbWV0eXBlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRGV2aWNlRGV2aWNlTmFtZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPERldmljZURldmljZU5hbWVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5uYW1lID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPERldmljZU5hbWV0eXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnR5cGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChEZXZpY2UuZGV2aWNlTmFtZS50eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHR5cGVSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIERldmljZU5hbWV0eXBlQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ25hbWUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgbmFtZTpmaGlyLkZoaXJTdHJpbmcgZmhpcjogRGV2aWNlLmRldmljZU5hbWUubmFtZTpzdHJpbmcnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJuYW1lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmFtZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd0eXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHR5cGU6Zmhpci5GaGlyQ29kZTxEZXZpY2VOYW1ldHlwZUNvZGVUeXBlPiBmaGlyOiBEZXZpY2UuZGV2aWNlTmFtZS50eXBlOmNvZGUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbJ3R5cGUnXSAmJiAoIU9iamVjdC52YWx1ZXMoRGV2aWNlTmFtZXR5cGVDb2RlcykuaW5jbHVkZXModGhpcy50eXBlIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSB0eXBlOmZoaXIuRmhpckNvZGU8RGV2aWNlTmFtZXR5cGVDb2RlVHlwZT4gZmhpcjogRGV2aWNlLmRldmljZU5hbWUudHlwZTpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IERldmljZU5hbWV0eXBlJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBEZXZpY2VTcGVjaWFsaXphdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBEZXZpY2VTcGVjaWFsaXphdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGFuZGFyZCB0aGF0IGlzIHVzZWQgdG8gb3BlcmF0ZSBhbmQgY29tbXVuaWNhdGUuXHJcbiAgICovXHJcbiAgc3lzdGVtVHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZlcnNpb24gb2YgdGhlIHN0YW5kYXJkIHRoYXQgaXMgdXNlZCB0byBvcGVyYXRlIGFuZCBjb21tdW5pY2F0ZS5cclxuICAgKi9cclxuICB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgY2FwYWJpbGl0aWVzIHN1cHBvcnRlZCBvbiBhICBkZXZpY2UsIHRoZSBzdGFuZGFyZHMgdG8gd2hpY2ggdGhlIGRldmljZSBjb25mb3JtcyBmb3IgYSBwYXJ0aWN1bGFyIHB1cnBvc2UsIGFuZCB1c2VkIGZvciB0aGUgY29tbXVuaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2VTcGVjaWFsaXphdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0RldmljZVNwZWNpYWxpemF0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc3RhbmRhcmQgdGhhdCBpcyB1c2VkIHRvIG9wZXJhdGUgYW5kIGNvbW11bmljYXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzeXN0ZW1UeXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBzdGFuZGFyZCB0aGF0IGlzIHVzZWQgdG8gb3BlcmF0ZSBhbmQgY29tbXVuaWNhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIERldmljZVNwZWNpYWxpemF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RGV2aWNlU3BlY2lhbGl6YXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc3lzdGVtVHlwZSddKSB7IHRoaXMuc3lzdGVtVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3lzdGVtVHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN5c3RlbVR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJzaW9uJ10pIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52ZXJzaW9ufSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snc3lzdGVtVHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzeXN0ZW1UeXBlOmZoaXIuQ29kZWFibGVDb25jZXB0IGZoaXI6IERldmljZS5zcGVjaWFsaXphdGlvbi5zeXN0ZW1UeXBlOkNvZGVhYmxlQ29uY2VwdCcgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInN5c3RlbVR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zeXN0ZW1UeXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInZlcnNpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52ZXJzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRGV2aWNlVmVyc2lvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBEZXZpY2VWZXJzaW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdGhlIGRldmljZSB2ZXJzaW9uLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc2luZ2xlIGNvbXBvbmVudCBvZiB0aGUgZGV2aWNlIHZlcnNpb24uXHJcbiAgICovXHJcbiAgY29tcG9uZW50PzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZlcnNpb24gdGV4dC5cclxuICAgKi9cclxuICB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgYWN0dWFsIGRlc2lnbiBvZiB0aGUgZGV2aWNlIG9yIHNvZnR3YXJlIHZlcnNpb24gcnVubmluZyBvbiB0aGUgZGV2aWNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERldmljZVZlcnNpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdEZXZpY2VWZXJzaW9uJztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZGV2aWNlIHZlcnNpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzaW5nbGUgY29tcG9uZW50IG9mIHRoZSBkZXZpY2UgdmVyc2lvbi5cclxuICAgKi9cclxuICBwdWJsaWMgY29tcG9uZW50PzogZmhpci5JZGVudGlmaWVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmVyc2lvbiB0ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRGV2aWNlVmVyc2lvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPERldmljZVZlcnNpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbXBvbmVudCddKSB7IHRoaXMuY29tcG9uZW50ID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UuY29tcG9uZW50KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52YWx1ZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29tcG9uZW50XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29tcG9uZW50LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3ZhbHVlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHZhbHVlOmZoaXIuRmhpclN0cmluZyBmaGlyOiBEZXZpY2UudmVyc2lvbi52YWx1ZTpzdHJpbmcnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ2YWx1ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZhbHVlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRGV2aWNlUHJvcGVydHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlUHJvcGVydHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBDb2RlIHRoYXQgc3BlY2lmaWVzIHRoZSBwcm9wZXJ0eSBEZXZpY2VEZWZpbml0aW9uUHJvcGV0eUNvZGUgKEV4dGVuc2libGUpLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFByb3BlcnR5IHZhbHVlIGFzIGEgcXVhbnRpdHkuXHJcbiAgICovXHJcbiAgdmFsdWVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFByb3BlcnR5IHZhbHVlIGFzIGEgY29kZSwgZS5nLiwgTlRQNCAoc3luY2VkIHRvIE5UUCkuXHJcbiAgICovXHJcbiAgdmFsdWVDb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGFjdHVhbCBjb25maWd1cmF0aW9uIHNldHRpbmdzIG9mIGEgZGV2aWNlIGFzIGl0IGFjdHVhbGx5IG9wZXJhdGVzLCBlLmcuLCByZWd1bGF0aW9uIHN0YXR1cywgdGltZSBwcm9wZXJ0aWVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERldmljZVByb3BlcnR5IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRGV2aWNlUHJvcGVydHknO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgdGhhdCBzcGVjaWZpZXMgdGhlIHByb3BlcnR5IERldmljZURlZmluaXRpb25Qcm9wZXR5Q29kZSAoRXh0ZW5zaWJsZSkuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogUHJvcGVydHkgdmFsdWUgYXMgYSBxdWFudGl0eS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWVRdWFudGl0eTogZmhpci5RdWFudGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIFByb3BlcnR5IHZhbHVlIGFzIGEgY29kZSwgZS5nLiwgTlRQNCAoc3luY2VkIHRvIE5UUCkuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlQ29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBEZXZpY2VQcm9wZXJ0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPERldmljZVByb3BlcnR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWVRdWFudGl0eSddKSB7IHRoaXMudmFsdWVRdWFudGl0eSA9IHNvdXJjZS52YWx1ZVF1YW50aXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUXVhbnRpdHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZVF1YW50aXR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlQ29kZSddKSB7IHRoaXMudmFsdWVDb2RlID0gc291cmNlLnZhbHVlQ29kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlQ29kZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3R5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBEZXZpY2UucHJvcGVydHkudHlwZTpDb2RlYWJsZUNvbmNlcHQnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ2YWx1ZVF1YW50aXR5XCJdKSB7IHRoaXMudmFsdWVRdWFudGl0eS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widmFsdWVDb2RlXCJdKSB7IHRoaXMudmFsdWVDb2RlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIERldmljZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBEZXZpY2VBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJEZXZpY2VcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGJhcmNvZGUgc3RyaW5nIGZyb20gYSBiYXJjb2RlIHByZXNlbnQgb24gYSBkZXZpY2UgbGFiZWwgb3IgcGFja2FnZSBtYXkgaWRlbnRpZnkgdGhlIGluc3RhbmNlLCBpbmNsdWRlIG5hbWVzIGdpdmVuIHRvIHRoZSBkZXZpY2UgaW4gbG9jYWwgdXNhZ2UsIG9yIG1heSBpZGVudGlmeSB0aGUgdHlwZSBvZiBkZXZpY2UuIElmIHRoZSBpZGVudGlmaWVyIGlkZW50aWZpZXMgdGhlIHR5cGUgb2YgZGV2aWNlLCBEZXZpY2UudHlwZSBlbGVtZW50IHNob3VsZCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWZlcmVuY2UgdG8gdGhlIGRlZmluaXRpb24gZm9yIHRoZSBkZXZpY2UuXHJcbiAgICovXHJcbiAgZGVmaW5pdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVURJIG1heSBpZGVudGlmeSBhbiB1bmlxdWUgaW5zdGFuY2Ugb2YgYSBkZXZpY2UsIG9yIGl0IG1heSBvbmx5IGlkZW50aWZ5IHRoZSB0eXBlIG9mIHRoZSBkZXZpY2UuICBTZWUgW1VESSBtYXBwaW5nc10oZGV2aWNlLW1hcHBpbmdzLmh0bWwjdWRpKSBmb3IgYSBjb21wbGV0ZSBtYXBwaW5nIG9mIFVESSBwYXJ0cyB0byBEZXZpY2UuXHJcbiAgICovXHJcbiAgdWRpQ2Fycmllcj86IGZoaXIuRGV2aWNlVWRpQ2FycmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGVzIGluYWN0aXZlIGFuZCBlbnRlcmVkLWluLWVycm9yIHRoYXQgbWFyayB0aGUgZGV2aWNlIChyZWNvcmQpYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPERldmljZVN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlYXNvbiBmb3IgdGhlIGR0YXR1cyBvZiB0aGUgRGV2aWNlIGF2YWlsYWJpbGl0eS5cclxuICAgKi9cclxuICBzdGF0dXNSZWFzb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIHRoaXMgYXBwbGllcyB0byBkZXZpY2VzIGluIHRoZSBVbml0ZWQgU3RhdGVzIHJlZ3VsYXRlZCB1bmRlciAqQ29kZSBvZiBGZWRlcmFsIFJlZ3VsYXRpb24gMjFDRlLCpzEyNzEuMjkwKGMpKi5cclxuICAgKi9cclxuICBkaXN0aW5jdElkZW50aWZpZXI/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIG5hbWUgb2YgdGhlIG1hbnVmYWN0dXJlci5cclxuICAgKi9cclxuICBtYW51ZmFjdHVyZXI/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhbmQgdGltZSB3aGVuIHRoZSBkZXZpY2Ugd2FzIG1hbnVmYWN0dXJlZC5cclxuICAgKi9cclxuICBtYW51ZmFjdHVyZURhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIGJleW9uZCB3aGljaCB0aGlzIGRldmljZSBpcyBubyBsb25nZXIgdmFsaWQgb3Igc2hvdWxkIG5vdCBiZSB1c2VkIChpZiBhcHBsaWNhYmxlKS5cclxuICAgKi9cclxuICBleHBpcmF0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTG90IG51bWJlciBhc3NpZ25lZCBieSB0aGUgbWFudWZhY3R1cmVyLlxyXG4gICAqL1xyXG4gIGxvdE51bWJlcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFscGhhbnVtZXJpYyBNYXhpbXVtIDIwLlxyXG4gICAqL1xyXG4gIHNlcmlhbE51bWJlcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgcmVwcmVzZW50cyB0aGUgbWFudWZhY3R1cmVyJ3MgbmFtZSBvZiB0aGUgZGV2aWNlIGFzIHByb3ZpZGVkIGJ5IHRoZSBkZXZpY2UsIGZyb20gYSBVREkgbGFiZWwsIG9yIGJ5IGEgcGVyc29uIGRlc2NyaWJpbmcgdGhlIERldmljZS4gIFRoaXMgdHlwaWNhbGx5IHdvdWxkIGJlIHVzZWQgd2hlbiBhIHBlcnNvbiBwcm92aWRlcyB0aGUgbmFtZShzKSBvciB3aGVuIHRoZSBkZXZpY2UgcmVwcmVzZW50cyBvbmUgb2YgdGhlIG5hbWVzIGF2YWlsYWJsZSBmcm9tIERldmljZURlZmluaXRpb24uXHJcbiAgICovXHJcbiAgZGV2aWNlTmFtZT86IGZoaXIuRGV2aWNlRGV2aWNlTmFtZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vZGVsIG51bWJlciBmb3IgdGhlIGRldmljZS5cclxuICAgKi9cclxuICBtb2RlbE51bWJlcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFscGhhbnVtZXJpYyBNYXhpbXVtIDIwLlxyXG4gICAqL1xyXG4gIHBhcnROdW1iZXI/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvciB0eXBlIG9mIGRldmljZS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIHN1cHBvcnRlZCBvbiBhICBkZXZpY2UsIHRoZSBzdGFuZGFyZHMgdG8gd2hpY2ggdGhlIGRldmljZSBjb25mb3JtcyBmb3IgYSBwYXJ0aWN1bGFyIHB1cnBvc2UsIGFuZCB1c2VkIGZvciB0aGUgY29tbXVuaWNhdGlvbi5cclxuICAgKi9cclxuICBzcGVjaWFsaXphdGlvbj86IGZoaXIuRGV2aWNlU3BlY2lhbGl6YXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3R1YWwgZGVzaWduIG9mIHRoZSBkZXZpY2Ugb3Igc29mdHdhcmUgdmVyc2lvbiBydW5uaW5nIG9uIHRoZSBkZXZpY2UuXHJcbiAgICovXHJcbiAgdmVyc2lvbj86IGZoaXIuRGV2aWNlVmVyc2lvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdHVhbCBjb25maWd1cmF0aW9uIHNldHRpbmdzIG9mIGEgZGV2aWNlIGFzIGl0IGFjdHVhbGx5IG9wZXJhdGVzLCBlLmcuLCByZWd1bGF0aW9uIHN0YXR1cywgdGltZSBwcm9wZXJ0aWVzLlxyXG4gICAqL1xyXG4gIHByb3BlcnR5PzogZmhpci5EZXZpY2VQcm9wZXJ0eUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGF0aWVudCBpbmZvcm1hdGlvbiwgSWYgdGhlIGRldmljZSBpcyBhZmZpeGVkIHRvIGEgcGVyc29uLlxyXG4gICAqL1xyXG4gIHBhdGllbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9yZ2FuaXphdGlvbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgcHJvdmlzaW9uIGFuZCBvbmdvaW5nIG1haW50ZW5hbmNlIG9mIHRoZSBkZXZpY2UuXHJcbiAgICovXHJcbiAgb3duZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIHVzZWQgZm9yIHRyb3VibGVzaG9vdGluZyBldGMuXHJcbiAgICovXHJcbiAgY29udGFjdD86IGZoaXIuQ29udGFjdFBvaW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGxhY2Ugd2hlcmUgdGhlIGRldmljZSBjYW4gYmUgZm91bmQuXHJcbiAgICovXHJcbiAgbG9jYXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBkZXZpY2UgaXMgcnVubmluZyBhIEZISVIgc2VydmVyLCB0aGUgbmV0d29yayBhZGRyZXNzIHNob3VsZCAgYmUgdGhlIEJhc2UgVVJMIGZyb20gd2hpY2ggYSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgbWF5IGJlIHJldHJpZXZlZC5cclxuICAgKi9cclxuICB1cmw/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmlwdGl2ZSBpbmZvcm1hdGlvbiwgdXNhZ2UgaW5mb3JtYXRpb24gb3IgaW1wbGFudGF0aW9uIGluZm9ybWF0aW9uIHRoYXQgaXMgbm90IGNhcHR1cmVkIGluIGFuIGV4aXN0aW5nIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYWRkaXRpb25hbCBzYWZldHkgY2hhcmFjdGVyaXN0aWNzIGFib3V0IGEgbWVkaWNhbCBkZXZpY2UuICBGb3IgZXhhbXBsZSBkZXZpY2VzIGNvbnRhaW5pbmcgbGF0ZXguXHJcbiAgICovXHJcbiAgc2FmZXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHBhcmVudD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHR5cGUgb2YgYSBtYW51ZmFjdHVyZWQgaXRlbSB0aGF0IGlzIHVzZWQgaW4gdGhlIHByb3Zpc2lvbiBvZiBoZWFsdGhjYXJlIHdpdGhvdXQgYmVpbmcgc3Vic3RhbnRpYWxseSBjaGFuZ2VkIHRocm91Z2ggdGhhdCBhY3Rpdml0eS4gVGhlIGRldmljZSBtYXkgYmUgYSBtZWRpY2FsIG9yIG5vbi1tZWRpY2FsIGRldmljZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2UgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0RldmljZSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJEZXZpY2VcIjtcclxuICAvKipcclxuICAgKiBUaGUgYmFyY29kZSBzdHJpbmcgZnJvbSBhIGJhcmNvZGUgcHJlc2VudCBvbiBhIGRldmljZSBsYWJlbCBvciBwYWNrYWdlIG1heSBpZGVudGlmeSB0aGUgaW5zdGFuY2UsIGluY2x1ZGUgbmFtZXMgZ2l2ZW4gdG8gdGhlIGRldmljZSBpbiBsb2NhbCB1c2FnZSwgb3IgbWF5IGlkZW50aWZ5IHRoZSB0eXBlIG9mIGRldmljZS4gSWYgdGhlIGlkZW50aWZpZXIgaWRlbnRpZmllcyB0aGUgdHlwZSBvZiBkZXZpY2UsIERldmljZS50eXBlIGVsZW1lbnQgc2hvdWxkIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWZlcmVuY2UgdG8gdGhlIGRlZmluaXRpb24gZm9yIHRoZSBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRlZmluaXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVURJIG1heSBpZGVudGlmeSBhbiB1bmlxdWUgaW5zdGFuY2Ugb2YgYSBkZXZpY2UsIG9yIGl0IG1heSBvbmx5IGlkZW50aWZ5IHRoZSB0eXBlIG9mIHRoZSBkZXZpY2UuICBTZWUgW1VESSBtYXBwaW5nc10oZGV2aWNlLW1hcHBpbmdzLmh0bWwjdWRpKSBmb3IgYSBjb21wbGV0ZSBtYXBwaW5nIG9mIFVESSBwYXJ0cyB0byBEZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHVkaUNhcnJpZXI6IGZoaXIuRGV2aWNlVWRpQ2FycmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIHRoZSBjb2RlcyBpbmFjdGl2ZSBhbmQgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmsgdGhlIGRldmljZSAocmVjb3JkKWFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuRmhpckNvZGU8RGV2aWNlU3RhdHVzQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWFzb24gZm9yIHRoZSBkdGF0dXMgb2YgdGhlIERldmljZSBhdmFpbGFiaWxpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1c1JlYXNvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgdGhpcyBhcHBsaWVzIHRvIGRldmljZXMgaW4gdGhlIFVuaXRlZCBTdGF0ZXMgcmVndWxhdGVkIHVuZGVyICpDb2RlIG9mIEZlZGVyYWwgUmVndWxhdGlvbiAyMUNGUsKnMTI3MS4yOTAoYykqLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaXN0aW5jdElkZW50aWZpZXI/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbmFtZSBvZiB0aGUgbWFudWZhY3R1cmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW51ZmFjdHVyZXI/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIHdoZW4gdGhlIGRldmljZSB3YXMgbWFudWZhY3R1cmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW51ZmFjdHVyZURhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYW5kIHRpbWUgYmV5b25kIHdoaWNoIHRoaXMgZGV2aWNlIGlzIG5vIGxvbmdlciB2YWxpZCBvciBzaG91bGQgbm90IGJlIHVzZWQgKGlmIGFwcGxpY2FibGUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHBpcmF0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMb3QgbnVtYmVyIGFzc2lnbmVkIGJ5IHRoZSBtYW51ZmFjdHVyZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGxvdE51bWJlcj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxwaGFudW1lcmljIE1heGltdW0gMjAuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcmlhbE51bWJlcj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyByZXByZXNlbnRzIHRoZSBtYW51ZmFjdHVyZXIncyBuYW1lIG9mIHRoZSBkZXZpY2UgYXMgcHJvdmlkZWQgYnkgdGhlIGRldmljZSwgZnJvbSBhIFVESSBsYWJlbCwgb3IgYnkgYSBwZXJzb24gZGVzY3JpYmluZyB0aGUgRGV2aWNlLiAgVGhpcyB0eXBpY2FsbHkgd291bGQgYmUgdXNlZCB3aGVuIGEgcGVyc29uIHByb3ZpZGVzIHRoZSBuYW1lKHMpIG9yIHdoZW4gdGhlIGRldmljZSByZXByZXNlbnRzIG9uZSBvZiB0aGUgbmFtZXMgYXZhaWxhYmxlIGZyb20gRGV2aWNlRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZGV2aWNlTmFtZTogZmhpci5EZXZpY2VEZXZpY2VOYW1lW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vZGVsIG51bWJlciBmb3IgdGhlIGRldmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kZWxOdW1iZXI/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFscGhhbnVtZXJpYyBNYXhpbXVtIDIwLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJ0TnVtYmVyPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvciB0eXBlIG9mIGRldmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIHN1cHBvcnRlZCBvbiBhICBkZXZpY2UsIHRoZSBzdGFuZGFyZHMgdG8gd2hpY2ggdGhlIGRldmljZSBjb25mb3JtcyBmb3IgYSBwYXJ0aWN1bGFyIHB1cnBvc2UsIGFuZCB1c2VkIGZvciB0aGUgY29tbXVuaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc3BlY2lhbGl6YXRpb246IGZoaXIuRGV2aWNlU3BlY2lhbGl6YXRpb25bXTtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIGRlc2lnbiBvZiB0aGUgZGV2aWNlIG9yIHNvZnR3YXJlIHZlcnNpb24gcnVubmluZyBvbiB0aGUgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2ZXJzaW9uOiBmaGlyLkRldmljZVZlcnNpb25bXTtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3Mgb2YgYSBkZXZpY2UgYXMgaXQgYWN0dWFsbHkgb3BlcmF0ZXMsIGUuZy4sIHJlZ3VsYXRpb24gc3RhdHVzLCB0aW1lIHByb3BlcnRpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHByb3BlcnR5OiBmaGlyLkRldmljZVByb3BlcnR5W107XHJcbiAgLyoqXHJcbiAgICogUGF0aWVudCBpbmZvcm1hdGlvbiwgSWYgdGhlIGRldmljZSBpcyBhZmZpeGVkIHRvIGEgcGVyc29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9yZ2FuaXphdGlvbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgcHJvdmlzaW9uIGFuZCBvbmdvaW5nIG1haW50ZW5hbmNlIG9mIHRoZSBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIG93bmVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIHVzZWQgZm9yIHRyb3VibGVzaG9vdGluZyBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhY3Q6IGZoaXIuQ29udGFjdFBvaW50W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHBsYWNlIHdoZXJlIHRoZSBkZXZpY2UgY2FuIGJlIGZvdW5kLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgZGV2aWNlIGlzIHJ1bm5pbmcgYSBGSElSIHNlcnZlciwgdGhlIG5ldHdvcmsgYWRkcmVzcyBzaG91bGQgIGJlIHRoZSBCYXNlIFVSTCBmcm9tIHdoaWNoIGEgY29uZm9ybWFuY2Ugc3RhdGVtZW50IG1heSBiZSByZXRyaWV2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHVybD86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpcHRpdmUgaW5mb3JtYXRpb24sIHVzYWdlIGluZm9ybWF0aW9uIG9yIGltcGxhbnRhdGlvbiBpbmZvcm1hdGlvbiB0aGF0IGlzIG5vdCBjYXB0dXJlZCBpbiBhbiBleGlzdGluZyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlOiBmaGlyLkFubm90YXRpb25bXTtcclxuICAvKipcclxuICAgKiBQcm92aWRlcyBhZGRpdGlvbmFsIHNhZmV0eSBjaGFyYWN0ZXJpc3RpY3MgYWJvdXQgYSBtZWRpY2FsIGRldmljZS4gIEZvciBleGFtcGxlIGRldmljZXMgY29udGFpbmluZyBsYXRleC5cclxuICAgKi9cclxuICBwdWJsaWMgc2FmZXR5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJlbnQ/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRGV2aWNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RGV2aWNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0RldmljZSc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZWZpbml0aW9uJ10pIHsgdGhpcy5kZWZpbml0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5kZWZpbml0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndWRpQ2FycmllciddKSB7IHRoaXMudWRpQ2FycmllciA9IHNvdXJjZS51ZGlDYXJyaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuRGV2aWNlVWRpQ2Fycmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnVkaUNhcnJpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxEZXZpY2VTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1c1JlYXNvbiddKSB7IHRoaXMuc3RhdHVzUmVhc29uID0gc291cmNlLnN0YXR1c1JlYXNvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1c1JlYXNvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXN0aW5jdElkZW50aWZpZXInXSkgeyB0aGlzLmRpc3RpbmN0SWRlbnRpZmllciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGlzdGluY3RJZGVudGlmaWVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbnVmYWN0dXJlciddKSB7IHRoaXMubWFudWZhY3R1cmVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5tYW51ZmFjdHVyZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWFudWZhY3R1cmVEYXRlJ10pIHsgdGhpcy5tYW51ZmFjdHVyZURhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UubWFudWZhY3R1cmVEYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2V4cGlyYXRpb25EYXRlJ10pIHsgdGhpcy5leHBpcmF0aW9uRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5leHBpcmF0aW9uRGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydsb3ROdW1iZXInXSkgeyB0aGlzLmxvdE51bWJlciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubG90TnVtYmVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcmlhbE51bWJlciddKSB7IHRoaXMuc2VyaWFsTnVtYmVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zZXJpYWxOdW1iZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV2aWNlTmFtZSddKSB7IHRoaXMuZGV2aWNlTmFtZSA9IHNvdXJjZS5kZXZpY2VOYW1lLm1hcCgoeCkgPT4gbmV3IGZoaXIuRGV2aWNlRGV2aWNlTmFtZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRldmljZU5hbWUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kZWxOdW1iZXInXSkgeyB0aGlzLm1vZGVsTnVtYmVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5tb2RlbE51bWJlcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0TnVtYmVyJ10pIHsgdGhpcy5wYXJ0TnVtYmVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wYXJ0TnVtYmVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzcGVjaWFsaXphdGlvbiddKSB7IHRoaXMuc3BlY2lhbGl6YXRpb24gPSBzb3VyY2Uuc3BlY2lhbGl6YXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5EZXZpY2VTcGVjaWFsaXphdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNwZWNpYWxpemF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcnNpb24nXSkgeyB0aGlzLnZlcnNpb24gPSBzb3VyY2UudmVyc2lvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkRldmljZVZlcnNpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52ZXJzaW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb3BlcnR5J10pIHsgdGhpcy5wcm9wZXJ0eSA9IHNvdXJjZS5wcm9wZXJ0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkRldmljZVByb3BlcnR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aWVudCddKSB7IHRoaXMucGF0aWVudCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGF0aWVudCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ293bmVyJ10pIHsgdGhpcy5vd25lciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3duZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWN0J10pIHsgdGhpcy5jb250YWN0ID0gc291cmNlLmNvbnRhY3QubWFwKCh4KSA9PiBuZXcgZmhpci5Db250YWN0UG9pbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2xvY2F0aW9uJ10pIHsgdGhpcy5sb2NhdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubG9jYXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NhZmV0eSddKSB7IHRoaXMuc2FmZXR5ID0gc291cmNlLnNhZmV0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNhZmV0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJlbnQnXSkgeyB0aGlzLnBhcmVudCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGFyZW50KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHN0YXR1cyAoRGV2aWNlLnN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBzdGF0dXNSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIERldmljZVN0YXR1c0NvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzUmVhc29uIChEZXZpY2Uuc3RhdHVzUmVhc29uKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHN0YXR1c1JlYXNvbkV4dGVuc2libGVDb2RpbmdzKCk6RGV2aWNlU3RhdHVzUmVhc29uQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRGV2aWNlU3RhdHVzUmVhc29uQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZTpcIkRldmljZVwiIGZoaXI6IERldmljZS5yZXNvdXJjZVR5cGU6XCJEZXZpY2VcIicgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgdGhpcy5pZGVudGlmaWVyLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJkZWZpbml0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVmaW5pdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1ZGlDYXJyaWVyXCJdKSB7IHRoaXMudWRpQ2Fycmllci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzWydzdGF0dXMnXSAmJiAoIU9iamVjdC52YWx1ZXMoRGV2aWNlU3RhdHVzQ29kZXMpLmluY2x1ZGVzKHRoaXMuc3RhdHVzIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSBzdGF0dXM/OmZoaXIuRmhpckNvZGU8RGV2aWNlU3RhdHVzQ29kZVR5cGU+IGZoaXI6IERldmljZS5zdGF0dXM6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBEZXZpY2VTdGF0dXMnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzdGF0dXNcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdGF0dXMuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3RhdHVzUmVhc29uXCJdKSB7IHRoaXMuc3RhdHVzUmVhc29uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJkaXN0aW5jdElkZW50aWZpZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kaXN0aW5jdElkZW50aWZpZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibWFudWZhY3R1cmVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubWFudWZhY3R1cmVyLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm1hbnVmYWN0dXJlRGF0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1hbnVmYWN0dXJlRGF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJleHBpcmF0aW9uRGF0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmV4cGlyYXRpb25EYXRlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImxvdE51bWJlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmxvdE51bWJlci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzZXJpYWxOdW1iZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zZXJpYWxOdW1iZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGV2aWNlTmFtZVwiXSkgeyB0aGlzLmRldmljZU5hbWUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm1vZGVsTnVtYmVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubW9kZWxOdW1iZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGFydE51bWJlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBhcnROdW1iZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3BlY2lhbGl6YXRpb25cIl0pIHsgdGhpcy5zcGVjaWFsaXphdGlvbi5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widmVyc2lvblwiXSkgeyB0aGlzLnZlcnNpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInByb3BlcnR5XCJdKSB7IHRoaXMucHJvcGVydHkuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInBhdGllbnRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYXRpZW50LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm93bmVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3duZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29udGFjdFwiXSkgeyB0aGlzLmNvbnRhY3QuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImxvY2F0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubG9jYXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widXJsXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudXJsLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm5vdGVcIl0pIHsgdGhpcy5ub3RlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJzYWZldHlcIl0pIHsgdGhpcy5zYWZldHkuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInBhcmVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBhcmVudC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19