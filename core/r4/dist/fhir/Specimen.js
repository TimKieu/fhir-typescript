// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Specimen
import * as fhir from '../fhir.js';
// @ts-ignore
import { SpecimenStatusVsValidation } from '../fhirValueSets/SpecimenStatusVsValidation.js';
/**
 * Details concerning the specimen collection.
 */
export class SpecimenCollection extends fhir.BackboneElement {
    /**
     * Default constructor for SpecimenCollection - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['collector']) {
            this.collector = new fhir.Reference(source.collector);
        }
        if (source['collected']) {
            this.collected = source.collected;
        }
        else if (source['collectedDateTime']) {
            this.collected = new fhir.FhirDateTime({ value: source.collectedDateTime });
        }
        else if (source['collectedPeriod']) {
            this.collected = new fhir.Period(source.collectedPeriod);
        }
        if (source['duration']) {
            this.duration = new fhir.Duration(source.duration);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
        if (source['bodySite']) {
            this.bodySite = new fhir.CodeableConcept(source.bodySite);
        }
        if (source['fastingStatus']) {
            this.fastingStatus = source.fastingStatus;
        }
        else if (source['fastingStatusCodeableConcept']) {
            this.fastingStatus = new fhir.CodeableConcept(source.fastingStatusCodeableConcept);
        }
        else if (source['fastingStatusDuration']) {
            this.fastingStatus = new fhir.Duration(source.fastingStatusDuration);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Specimen.collection';
        }
        this.vOptS('collector', expression);
        this.vOptS('collected', expression);
        this.vOptS('duration', expression);
        this.vOptS('quantity', expression);
        this.vOptS('method', expression);
        this.vOptS('bodySite', expression);
        this.vOptS('fastingStatus', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SpecimenCollection._fts_dataType = 'SpecimenCollection';
/**
 * Internal flag to properly serialize choice-type element Specimen.collection.collected[x]
 */
SpecimenCollection._fts_collectedIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Specimen.collection.fastingStatus[x]
 */
SpecimenCollection._fts_fastingStatusIsChoice = true;
/**
 * Details concerning processing and processing steps for the specimen.
 */
export class SpecimenProcessing extends fhir.BackboneElement {
    /**
     * Default constructor for SpecimenProcessing - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['procedure']) {
            this.procedure = new fhir.CodeableConcept(source.procedure);
        }
        if (source['additive']) {
            this.additive = source.additive.map((x) => new fhir.Reference(x));
        }
        else {
            this.additive = [];
        }
        if (source['time']) {
            this.time = source.time;
        }
        else if (source['timeDateTime']) {
            this.time = new fhir.FhirDateTime({ value: source.timeDateTime });
        }
        else if (source['timePeriod']) {
            this.time = new fhir.Period(source.timePeriod);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Specimen.processing';
        }
        this.vOptS('description', expression);
        this.vOptS('procedure', expression);
        this.vOptA('additive', expression);
        this.vOptS('time', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SpecimenProcessing._fts_dataType = 'SpecimenProcessing';
/**
 * Internal flag to properly serialize choice-type element Specimen.processing.time[x]
 */
SpecimenProcessing._fts_timeIsChoice = true;
/**
 * The container holding the specimen.  The recursive nature of containers; i.e. blood in tube in tray in rack is not addressed here.
 */
export class SpecimenContainer extends fhir.BackboneElement {
    /**
     * Default constructor for SpecimenContainer - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['capacity']) {
            this.capacity = new fhir.Quantity(source.capacity);
        }
        if (source['specimenQuantity']) {
            this.specimenQuantity = new fhir.Quantity(source.specimenQuantity);
        }
        if (source['additive']) {
            this.additive = source.additive;
        }
        else if (source['additiveCodeableConcept']) {
            this.additive = new fhir.CodeableConcept(source.additiveCodeableConcept);
        }
        else if (source['additiveReference']) {
            this.additive = new fhir.Reference(source.additiveReference);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Specimen.container';
        }
        this.vOptA('identifier', expression);
        this.vOptS('description', expression);
        this.vOptS('type', expression);
        this.vOptS('capacity', expression);
        this.vOptS('specimenQuantity', expression);
        this.vOptS('additive', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SpecimenContainer._fts_dataType = 'SpecimenContainer';
/**
 * Internal flag to properly serialize choice-type element Specimen.container.additive[x]
 */
SpecimenContainer._fts_additiveIsChoice = true;
/**
 * A sample to be used for analysis.
 */
export class Specimen extends fhir.DomainResource {
    /**
     * Default constructor for Specimen - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Specimen';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['accessionIdentifier']) {
            this.accessionIdentifier = new fhir.Identifier(source.accessionIdentifier);
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['receivedTime']) {
            this.receivedTime = new fhir.FhirDateTime({ value: source.receivedTime });
        }
        if (source['_receivedTime']) {
            if (this.receivedTime) {
                this.receivedTime.addExtendedProperties(source._receivedTime);
            }
            else {
                this.receivedTime = new fhir.FhirDateTime(source._receivedTime);
            }
        }
        if (source['parent']) {
            this.parent = source.parent.map((x) => new fhir.Reference(x));
        }
        else {
            this.parent = [];
        }
        if (source['request']) {
            this.request = source.request.map((x) => new fhir.Reference(x));
        }
        else {
            this.request = [];
        }
        if (source['collection']) {
            this.collection = new fhir.SpecimenCollection(source.collection);
        }
        if (source['processing']) {
            this.processing = source.processing.map((x) => new fhir.SpecimenProcessing(x));
        }
        else {
            this.processing = [];
        }
        if (source['container']) {
            this.container = source.container.map((x) => new fhir.SpecimenContainer(x));
        }
        else {
            this.container = [];
        }
        if (source['condition']) {
            this.condition = source.condition.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.condition = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Specimen';
        }
        this.vReqS('resourceType', expression);
        this.vOptA('identifier', expression);
        this.vOptS('accessionIdentifier', expression);
        this.vOptSV('status', expression, 'SpecimenStatus', SpecimenStatusVsValidation, 'r');
        this.vOptS('type', expression);
        this.vOptS('subject', expression);
        this.vOptS('receivedTime', expression);
        this.vOptA('parent', expression);
        this.vOptA('request', expression);
        this.vOptS('collection', expression);
        this.vOptA('processing', expression);
        this.vOptA('container', expression);
        this.vOptA('condition', expression);
        this.vOptA('note', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Specimen._fts_dataType = 'Specimen';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BlY2ltZW4uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL1NwZWNpbWVuLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDBCQUEwQjtBQUUxQixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQW9CbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBMkQ1Rjs7R0FFRztBQUNILE1BQU0sT0FBTyxrQkFBbUIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXlDMUQ7O09BRUc7SUFDSCxZQUFZLFNBQXlDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQy9GLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7U0FBRTtRQUNuRixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztTQUFFO2FBQzFELElBQUksTUFBTSxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsaUJBQWlCLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDL0csSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUFFO1FBQ2pHLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQUU7UUFDL0UsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FBRTtRQUMvRSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUFFO1FBQ2hGLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQUU7UUFDdEYsSUFBSSxNQUFNLENBQUMsZUFBZSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUM7U0FBRTthQUN0RSxJQUFJLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLDRCQUE0QixDQUFDLENBQUM7U0FBRTthQUNuSSxJQUFJLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUM7U0FBRTtJQUNySCxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxhQUFvQixFQUFFO1FBQ3RELElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakUsSUFBSSxVQUFVLEtBQUssRUFBRSxFQUFFO1lBQUUsVUFBVSxHQUFHLHFCQUFxQixDQUFBO1NBQUU7UUFDN0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDdEMsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF2RUQ7O0dBRUc7QUFDNkIsZ0NBQWEsR0FBVSxvQkFBb0IsQ0FBQztBQVM1RTs7R0FFRztBQUN1Qix5Q0FBc0IsR0FBUSxJQUFJLENBQUM7QUFxQjdEOztHQUVHO0FBQ3VCLDZDQUEwQixHQUFRLElBQUksQ0FBQztBQW9FbkU7O0dBRUc7QUFDSCxNQUFNLE9BQU8sa0JBQW1CLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUF5QjFEOztPQUVHO0lBQ0gsWUFBWSxTQUF5QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMvRixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNuRyxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUMxQixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsWUFBYSxDQUFDLENBQUM7YUFBRTtpQkFDbEY7Z0JBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFlBQTRDLENBQUMsQ0FBQzthQUFFO1NBQ3RHO1FBQ0QsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7U0FBRTtRQUN6RixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDekY7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO1NBQUU7YUFDM0MsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2hHLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQUU7SUFDcEYsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyxxQkFBcUIsQ0FBQTtTQUFFO1FBQzdELElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2pDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzdCLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBcEREOztHQUVHO0FBQzZCLGdDQUFhLEdBQVUsb0JBQW9CLENBQUM7QUFpQjVFOztHQUVHO0FBQ3VCLG9DQUFpQixHQUFRLElBQUksQ0FBQztBQXlFMUQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8saUJBQWtCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQ3pEOztPQUVHO0lBQ0gsWUFBWSxTQUF3QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM5RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNoRztZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDOUIsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ25HLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQzFCLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxZQUFhLENBQUMsQ0FBQzthQUFFO2lCQUNsRjtnQkFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsWUFBNEMsQ0FBQyxDQUFDO2FBQUU7U0FDdEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQUU7UUFDL0UsSUFBSSxNQUFNLENBQUMsa0JBQWtCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FBRTtRQUN2RyxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztTQUFFO2FBQ3ZELElBQUksTUFBTSxDQUFDLHlCQUF5QixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUFFO2FBQ3BILElBQUksTUFBTSxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztTQUFFO0lBQ3pHLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLGFBQW9CLEVBQUU7UUFDdEQsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRSxJQUFJLFVBQVUsS0FBSyxFQUFFLEVBQUU7WUFBRSxVQUFVLEdBQUcsb0JBQW9CLENBQUE7U0FBRTtRQUM1RCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUFrQixFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2pDLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBaEVEOztHQUVHO0FBQzZCLCtCQUFhLEdBQVUsbUJBQW1CLENBQUM7QUF5QjNFOztHQUVHO0FBQ3VCLHVDQUFxQixHQUFRLElBQUksQ0FBQztBQXlHOUQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8sUUFBUyxTQUFRLElBQUksQ0FBQyxjQUFjO0lBNkQvQzs7T0FFRztJQUNILFlBQVksU0FBK0IsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDckYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQztRQUMvQixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDaEc7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLHFCQUFxQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1NBQUU7UUFDbEgsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBeUIsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTtRQUMxRyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsT0FBUSxDQUFDLENBQUM7YUFBRTtpQkFDbkU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQXlCLE1BQU0sQ0FBQyxPQUFpQyxDQUFDLENBQUM7YUFBRTtTQUM1RztRQUNELElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUM3RSxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDeEcsSUFBSSxNQUFNLENBQUMsZUFBZSxDQUFDLEVBQUU7WUFDM0IsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO2dCQUFFLElBQUksQ0FBQyxZQUFZLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLGFBQWMsQ0FBQyxDQUFDO2FBQUU7aUJBQ3JGO2dCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxhQUErQyxDQUFDLENBQUM7YUFBRTtTQUM1RztRQUNELElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRjtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3RGO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7U0FBRTtRQUMzQixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQUU7UUFDL0YsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDeEc7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3BHO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM3QixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbEc7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzdCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUM5RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1NBQUU7SUFDMUIsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyxVQUFVLENBQUE7U0FBRTtRQUNsRCxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQyxnQkFBZ0IsRUFBQywwQkFBMEIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNoRixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUM3QixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXBIRDs7R0FFRztBQUM2QixzQkFBYSxHQUFVLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogU3BlY2ltZW5cclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNwZWNpbWVuQ29sbGVjdGlvbk1ldGhvZENvZGVzLCAgU3BlY2ltZW5Db2xsZWN0aW9uTWV0aG9kQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NwZWNpbWVuQ29sbGVjdGlvbk1ldGhvZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTcGVjaW1lbkNvbGxlY3Rpb25NZXRob2RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NwZWNpbWVuQ29sbGVjdGlvbk1ldGhvZFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQm9keVNpdGVDb2RlcywgIEJvZHlTaXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JvZHlTaXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEJvZHlTaXRlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Cb2R5U2l0ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU3BlY2ltZW5Qcm9jZXNzaW5nUHJvY2VkdXJlQ29kZXMsICBTcGVjaW1lblByb2Nlc3NpbmdQcm9jZWR1cmVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3BlY2ltZW5Qcm9jZXNzaW5nUHJvY2VkdXJlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNwZWNpbWVuUHJvY2Vzc2luZ1Byb2NlZHVyZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3BlY2ltZW5Qcm9jZXNzaW5nUHJvY2VkdXJlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTcGVjaW1lbkNvbnRhaW5lclR5cGVDb2RlcywgIFNwZWNpbWVuQ29udGFpbmVyVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TcGVjaW1lbkNvbnRhaW5lclR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU3BlY2ltZW5Db250YWluZXJUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TcGVjaW1lbkNvbnRhaW5lclR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNwZWNpbWVuU3RhdHVzQ29kZXMsICBTcGVjaW1lblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TcGVjaW1lblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTcGVjaW1lblN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3BlY2ltZW5TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYyMDQ4N0NvZGVzLCAgVjIwNDg3Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YyMDQ4N0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWMjA0ODdWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YyMDQ4N1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjIwNDkzQ29kZXMsICBWMjA0OTNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjIwNDkzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYyMDQ5M1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjIwNDkzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFNwZWNpbWVuQ29sbGVjdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTcGVjaW1lbkNvbGxlY3Rpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBQZXJzb24gd2hvIGNvbGxlY3RlZCB0aGUgc3BlY2ltZW4uXHJcbiAgICovXHJcbiAgY29sbGVjdG9yPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaW1lIHdoZW4gc3BlY2ltZW4gd2FzIGNvbGxlY3RlZCBmcm9tIHN1YmplY3QgLSB0aGUgcGh5c2lvbG9naWNhbGx5IHJlbGV2YW50IHRpbWUuXHJcbiAgICovXHJcbiAgY29sbGVjdGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWUgd2hlbiBzcGVjaW1lbiB3YXMgY29sbGVjdGVkIGZyb20gc3ViamVjdCAtIHRoZSBwaHlzaW9sb2dpY2FsbHkgcmVsZXZhbnQgdGltZS5cclxuICAgKi9cclxuICBjb2xsZWN0ZWREYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltZSB3aGVuIHNwZWNpbWVuIHdhcyBjb2xsZWN0ZWQgZnJvbSBzdWJqZWN0IC0gdGhlIHBoeXNpb2xvZ2ljYWxseSByZWxldmFudCB0aW1lLlxyXG4gICAqL1xyXG4gIGNvbGxlY3RlZFBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwYW4gb2YgdGltZSBvdmVyIHdoaWNoIHRoZSBjb2xsZWN0aW9uIG9mIGEgc3BlY2ltZW4gb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgZHVyYXRpb24/OiBmaGlyLkR1cmF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YW50aXR5IG9mIHNwZWNpbWVuIGNvbGxlY3RlZDsgZm9yIGluc3RhbmNlIHRoZSB2b2x1bWUgb2YgYSBibG9vZCBzYW1wbGUsIG9yIHRoZSBwaHlzaWNhbCBtZWFzdXJlbWVudCBvZiBhbiBhbmF0b21pYyBwYXRob2xvZ3kgc2FtcGxlLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgdmFsdWUgc3BlY2lmeWluZyB0aGUgdGVjaG5pcXVlIHRoYXQgaXMgdXNlZCB0byBwZXJmb3JtIHRoZSBwcm9jZWR1cmUuXHJcbiAgICovXHJcbiAgbWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgdXNlIGNhc2UgcmVxdWlyZXMgIEJvZHlTaXRlIHRvIGJlIGhhbmRsZWQgYXMgYSBzZXBhcmF0ZSByZXNvdXJjZSBpbnN0ZWFkIG9mIGFuIGlubGluZSBjb2RlZCBlbGVtZW50IChlLmcuIHRvIGlkZW50aWZ5IGFuZCB0cmFjayBzZXBhcmF0ZWx5KSAgdGhlbiB1c2UgdGhlIHN0YW5kYXJkIGV4dGVuc2lvbiBbYm9keVNpdGVdKGV4dGVuc2lvbi1ib2R5c2l0ZS5odG1sKS5cclxuICAgKi9cclxuICBib2R5U2l0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVwcmVzZW50aW5nIGZhc3Rpbmcgc3RhdHVzIHVzaW5nIHRoaXMgZWxlbWVudCBpcyBwcmVmZXJyZWQgdG8gcmVwcmVzZW50aW5nIGl0IHdpdGggYW4gb2JzZXJ2YXRpb24gdXNpbmcgYSAncHJlLWNvb3JkaW5hdGVkIGNvZGUnICBzdWNoIGFzICBMT0lOQyAyMDA1LTcgKENhbGNpdW0gW01vbGVzL+KAi3RpbWVdIGluIDIgaG91ciBVcmluZSAtLTEyIGhvdXJzIGZhc3RpbmcpLCBvciAgdXNpbmcgIGEgY29tcG9uZW50IG9ic2VydmF0aW9uIGAgc3VjaCBhcyBgT2JzZXJ2YXRpb24uY29tcG9uZW50IGNvZGVgICA9IExPSU5DIDQ5NTQxLTYgKEZhc3Rpbmcgc3RhdHVzIC0gUmVwb3J0ZWQpLlxyXG4gICAqL1xyXG4gIGZhc3RpbmdTdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkR1cmF0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZXByZXNlbnRpbmcgZmFzdGluZyBzdGF0dXMgdXNpbmcgdGhpcyBlbGVtZW50IGlzIHByZWZlcnJlZCB0byByZXByZXNlbnRpbmcgaXQgd2l0aCBhbiBvYnNlcnZhdGlvbiB1c2luZyBhICdwcmUtY29vcmRpbmF0ZWQgY29kZScgIHN1Y2ggYXMgIExPSU5DIDIwMDUtNyAoQ2FsY2l1bSBbTW9sZXMv4oCLdGltZV0gaW4gMiBob3VyIFVyaW5lIC0tMTIgaG91cnMgZmFzdGluZyksIG9yICB1c2luZyAgYSBjb21wb25lbnQgb2JzZXJ2YXRpb24gYCBzdWNoIGFzIGBPYnNlcnZhdGlvbi5jb21wb25lbnQgY29kZWAgID0gTE9JTkMgNDk1NDEtNiAoRmFzdGluZyBzdGF0dXMgLSBSZXBvcnRlZCkuXHJcbiAgICovXHJcbiAgZmFzdGluZ1N0YXR1c0NvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVwcmVzZW50aW5nIGZhc3Rpbmcgc3RhdHVzIHVzaW5nIHRoaXMgZWxlbWVudCBpcyBwcmVmZXJyZWQgdG8gcmVwcmVzZW50aW5nIGl0IHdpdGggYW4gb2JzZXJ2YXRpb24gdXNpbmcgYSAncHJlLWNvb3JkaW5hdGVkIGNvZGUnICBzdWNoIGFzICBMT0lOQyAyMDA1LTcgKENhbGNpdW0gW01vbGVzL+KAi3RpbWVdIGluIDIgaG91ciBVcmluZSAtLTEyIGhvdXJzIGZhc3RpbmcpLCBvciAgdXNpbmcgIGEgY29tcG9uZW50IG9ic2VydmF0aW9uIGAgc3VjaCBhcyBgT2JzZXJ2YXRpb24uY29tcG9uZW50IGNvZGVgICA9IExPSU5DIDQ5NTQxLTYgKEZhc3Rpbmcgc3RhdHVzIC0gUmVwb3J0ZWQpLlxyXG4gICAqL1xyXG4gIGZhc3RpbmdTdGF0dXNEdXJhdGlvbj86IGZoaXIuRHVyYXRpb25BcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERldGFpbHMgY29uY2VybmluZyB0aGUgc3BlY2ltZW4gY29sbGVjdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTcGVjaW1lbkNvbGxlY3Rpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTcGVjaW1lbkNvbGxlY3Rpb24nO1xyXG4gIC8qKlxyXG4gICAqIFBlcnNvbiB3aG8gY29sbGVjdGVkIHRoZSBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwdWJsaWMgY29sbGVjdG9yPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWUgd2hlbiBzcGVjaW1lbiB3YXMgY29sbGVjdGVkIGZyb20gc3ViamVjdCAtIHRoZSBwaHlzaW9sb2dpY2FsbHkgcmVsZXZhbnQgdGltZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29sbGVjdGVkPzogKGZoaXIuRmhpckRhdGVUaW1lfGZoaXIuUGVyaW9kKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBTcGVjaW1lbi5jb2xsZWN0aW9uLmNvbGxlY3RlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19jb2xsZWN0ZWRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgc3BhbiBvZiB0aW1lIG92ZXIgd2hpY2ggdGhlIGNvbGxlY3Rpb24gb2YgYSBzcGVjaW1lbiBvY2N1cnJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZHVyYXRpb24/OiBmaGlyLkR1cmF0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2Ygc3BlY2ltZW4gY29sbGVjdGVkOyBmb3IgaW5zdGFuY2UgdGhlIHZvbHVtZSBvZiBhIGJsb29kIHNhbXBsZSwgb3IgdGhlIHBoeXNpY2FsIG1lYXN1cmVtZW50IG9mIGFuIGFuYXRvbWljIHBhdGhvbG9neSBzYW1wbGUuXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCB2YWx1ZSBzcGVjaWZ5aW5nIHRoZSB0ZWNobmlxdWUgdGhhdCBpcyB1c2VkIHRvIHBlcmZvcm0gdGhlIHByb2NlZHVyZS5cclxuICAgKi9cclxuICBwdWJsaWMgbWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSB1c2UgY2FzZSByZXF1aXJlcyAgQm9keVNpdGUgdG8gYmUgaGFuZGxlZCBhcyBhIHNlcGFyYXRlIHJlc291cmNlIGluc3RlYWQgb2YgYW4gaW5saW5lIGNvZGVkIGVsZW1lbnQgKGUuZy4gdG8gaWRlbnRpZnkgYW5kIHRyYWNrIHNlcGFyYXRlbHkpICB0aGVuIHVzZSB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uIFtib2R5U2l0ZV0oZXh0ZW5zaW9uLWJvZHlzaXRlLmh0bWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBib2R5U2l0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZXByZXNlbnRpbmcgZmFzdGluZyBzdGF0dXMgdXNpbmcgdGhpcyBlbGVtZW50IGlzIHByZWZlcnJlZCB0byByZXByZXNlbnRpbmcgaXQgd2l0aCBhbiBvYnNlcnZhdGlvbiB1c2luZyBhICdwcmUtY29vcmRpbmF0ZWQgY29kZScgIHN1Y2ggYXMgIExPSU5DIDIwMDUtNyAoQ2FsY2l1bSBbTW9sZXMv4oCLdGltZV0gaW4gMiBob3VyIFVyaW5lIC0tMTIgaG91cnMgZmFzdGluZyksIG9yICB1c2luZyAgYSBjb21wb25lbnQgb2JzZXJ2YXRpb24gYCBzdWNoIGFzIGBPYnNlcnZhdGlvbi5jb21wb25lbnQgY29kZWAgID0gTE9JTkMgNDk1NDEtNiAoRmFzdGluZyBzdGF0dXMgLSBSZXBvcnRlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIGZhc3RpbmdTdGF0dXM/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5EdXJhdGlvbil8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgU3BlY2ltZW4uY29sbGVjdGlvbi5mYXN0aW5nU3RhdHVzW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2Zhc3RpbmdTdGF0dXNJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTcGVjaW1lbkNvbGxlY3Rpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTcGVjaW1lbkNvbGxlY3Rpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29sbGVjdG9yJ10pIHsgdGhpcy5jb2xsZWN0b3IgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNvbGxlY3Rvcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbGxlY3RlZCddKSB7IHRoaXMuY29sbGVjdGVkID0gc291cmNlLmNvbGxlY3RlZDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydjb2xsZWN0ZWREYXRlVGltZSddKSB7IHRoaXMuY29sbGVjdGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmNvbGxlY3RlZERhdGVUaW1lfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnY29sbGVjdGVkUGVyaW9kJ10pIHsgdGhpcy5jb2xsZWN0ZWQgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLmNvbGxlY3RlZFBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2R1cmF0aW9uJ10pIHsgdGhpcy5kdXJhdGlvbiA9IG5ldyBmaGlyLkR1cmF0aW9uKHNvdXJjZS5kdXJhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10pIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5xdWFudGl0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21ldGhvZCddKSB7IHRoaXMubWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZXRob2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydib2R5U2l0ZSddKSB7IHRoaXMuYm9keVNpdGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmJvZHlTaXRlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFzdGluZ1N0YXR1cyddKSB7IHRoaXMuZmFzdGluZ1N0YXR1cyA9IHNvdXJjZS5mYXN0aW5nU3RhdHVzOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Zhc3RpbmdTdGF0dXNDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLmZhc3RpbmdTdGF0dXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmZhc3RpbmdTdGF0dXNDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Zhc3RpbmdTdGF0dXNEdXJhdGlvbiddKSB7IHRoaXMuZmFzdGluZ1N0YXR1cyA9IG5ldyBmaGlyLkR1cmF0aW9uKHNvdXJjZS5mYXN0aW5nU3RhdHVzRHVyYXRpb24pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1NwZWNpbWVuLmNvbGxlY3Rpb24nIH1cclxuICAgIHRoaXMudk9wdFMoJ2NvbGxlY3RvcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2NvbGxlY3RlZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2R1cmF0aW9uJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygncXVhbnRpdHknLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdtZXRob2QnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdib2R5U2l0ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2Zhc3RpbmdTdGF0dXMnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3BlY2ltZW5Qcm9jZXNzaW5nIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFNwZWNpbWVuUHJvY2Vzc2luZ0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRleHR1YWwgZGVzY3JpcHRpb24gb2YgcHJvY2VkdXJlLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNwZWNpbWVuLnByb2Nlc3NpbmcuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgdmFsdWUgc3BlY2lmeWluZyB0aGUgcHJvY2VkdXJlIHVzZWQgdG8gcHJvY2VzcyB0aGUgc3BlY2ltZW4uXHJcbiAgICovXHJcbiAgcHJvY2VkdXJlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXRlcmlhbCB1c2VkIGluIHRoZSBwcm9jZXNzaW5nIHN0ZXAuXHJcbiAgICovXHJcbiAgYWRkaXRpdmU/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWNvcmQgb2YgdGhlIHRpbWUgb3IgcGVyaW9kIHdoZW4gdGhlIHNwZWNpbWVuIHByb2Nlc3Npbmcgb2NjdXJyZWQuICBGb3IgZXhhbXBsZSB0aGUgdGltZSBvZiBzYW1wbGUgZml4YXRpb24gb3IgdGhlIHBlcmlvZCBvZiB0aW1lIHRoZSBzYW1wbGUgd2FzIGluIGZvcm1hbGluLlxyXG4gICAqL1xyXG4gIHRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWNvcmQgb2YgdGhlIHRpbWUgb3IgcGVyaW9kIHdoZW4gdGhlIHNwZWNpbWVuIHByb2Nlc3Npbmcgb2NjdXJyZWQuICBGb3IgZXhhbXBsZSB0aGUgdGltZSBvZiBzYW1wbGUgZml4YXRpb24gb3IgdGhlIHBlcmlvZCBvZiB0aW1lIHRoZSBzYW1wbGUgd2FzIGluIGZvcm1hbGluLlxyXG4gICAqL1xyXG4gIHRpbWVEYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWNvcmQgb2YgdGhlIHRpbWUgb3IgcGVyaW9kIHdoZW4gdGhlIHNwZWNpbWVuIHByb2Nlc3Npbmcgb2NjdXJyZWQuICBGb3IgZXhhbXBsZSB0aGUgdGltZSBvZiBzYW1wbGUgZml4YXRpb24gb3IgdGhlIHBlcmlvZCBvZiB0aW1lIHRoZSBzYW1wbGUgd2FzIGluIGZvcm1hbGluLlxyXG4gICAqL1xyXG4gIHRpbWVQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGV0YWlscyBjb25jZXJuaW5nIHByb2Nlc3NpbmcgYW5kIHByb2Nlc3Npbmcgc3RlcHMgZm9yIHRoZSBzcGVjaW1lbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTcGVjaW1lblByb2Nlc3NpbmcgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTcGVjaW1lblByb2Nlc3NpbmcnO1xyXG4gIC8qKlxyXG4gICAqIFRleHR1YWwgZGVzY3JpcHRpb24gb2YgcHJvY2VkdXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCB2YWx1ZSBzcGVjaWZ5aW5nIHRoZSBwcm9jZWR1cmUgdXNlZCB0byBwcm9jZXNzIHRoZSBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvY2VkdXJlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIHVzZWQgaW4gdGhlIHByb2Nlc3Npbmcgc3RlcC5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkaXRpdmU6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQSByZWNvcmQgb2YgdGhlIHRpbWUgb3IgcGVyaW9kIHdoZW4gdGhlIHNwZWNpbWVuIHByb2Nlc3Npbmcgb2NjdXJyZWQuICBGb3IgZXhhbXBsZSB0aGUgdGltZSBvZiBzYW1wbGUgZml4YXRpb24gb3IgdGhlIHBlcmlvZCBvZiB0aW1lIHRoZSBzYW1wbGUgd2FzIGluIGZvcm1hbGluLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aW1lPzogKGZoaXIuRmhpckRhdGVUaW1lfGZoaXIuUGVyaW9kKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBTcGVjaW1lbi5wcm9jZXNzaW5nLnRpbWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdGltZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFNwZWNpbWVuUHJvY2Vzc2luZyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFNwZWNpbWVuUHJvY2Vzc2luZ0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvY2VkdXJlJ10pIHsgdGhpcy5wcm9jZWR1cmUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnByb2NlZHVyZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkZGl0aXZlJ10pIHsgdGhpcy5hZGRpdGl2ZSA9IHNvdXJjZS5hZGRpdGl2ZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFkZGl0aXZlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RpbWUnXSkgeyB0aGlzLnRpbWUgPSBzb3VyY2UudGltZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd0aW1lRGF0ZVRpbWUnXSkgeyB0aGlzLnRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UudGltZURhdGVUaW1lfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndGltZVBlcmlvZCddKSB7IHRoaXMudGltZSA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UudGltZVBlcmlvZCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnU3BlY2ltZW4ucHJvY2Vzc2luZycgfVxyXG4gICAgdGhpcy52T3B0UygnZGVzY3JpcHRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdwcm9jZWR1cmUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdhZGRpdGl2ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3RpbWUnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3BlY2ltZW5Db250YWluZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BlY2ltZW5Db250YWluZXJBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJZCBmb3IgY29udGFpbmVyLiBUaGVyZSBtYXkgYmUgbXVsdGlwbGU7IGEgbWFudWZhY3R1cmVyJ3MgYmFyIGNvZGUsIGxhYiBhc3NpZ25lZCBpZGVudGlmaWVyLCBldGMuIFRoZSBjb250YWluZXIgSUQgbWF5IGRpZmZlciBmcm9tIHRoZSBzcGVjaW1lbiBpZCBpbiBzb21lIGNpcmN1bXN0YW5jZXMuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGV4dHVhbCBkZXNjcmlwdGlvbiBvZiB0aGUgY29udGFpbmVyLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNwZWNpbWVuLmNvbnRhaW5lci5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgY29udGFpbmVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2ltZW4gKGUuZy4gc2xpZGUsIGFsaXF1b3QsIGV0Yy4pLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjYXBhY2l0eSAodm9sdW1lIG9yIG90aGVyIG1lYXN1cmUpIHRoZSBjb250YWluZXIgbWF5IGNvbnRhaW4uXHJcbiAgICovXHJcbiAgY2FwYWNpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YW50aXR5IG9mIHNwZWNpbWVuIGluIHRoZSBjb250YWluZXI7IG1heSBiZSB2b2x1bWUsIGRpbWVuc2lvbnMsIG9yIG90aGVyIGFwcHJvcHJpYXRlIG1lYXN1cmVtZW50cywgZGVwZW5kaW5nIG9uIHRoZSBzcGVjaW1lbiB0eXBlLlxyXG4gICAqL1xyXG4gIHNwZWNpbWVuUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50cm9kdWNlZCBzdWJzdGFuY2UgdG8gcHJlc2VydmUsIG1haW50YWluIG9yIGVuaGFuY2UgdGhlIHNwZWNpbWVuLiBFeGFtcGxlczogRm9ybWFsaW4sIENpdHJhdGUsIEVEVEEuXHJcbiAgICovXHJcbiAgYWRkaXRpdmU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50cm9kdWNlZCBzdWJzdGFuY2UgdG8gcHJlc2VydmUsIG1haW50YWluIG9yIGVuaGFuY2UgdGhlIHNwZWNpbWVuLiBFeGFtcGxlczogRm9ybWFsaW4sIENpdHJhdGUsIEVEVEEuXHJcbiAgICovXHJcbiAgYWRkaXRpdmVDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludHJvZHVjZWQgc3Vic3RhbmNlIHRvIHByZXNlcnZlLCBtYWludGFpbiBvciBlbmhhbmNlIHRoZSBzcGVjaW1lbi4gRXhhbXBsZXM6IEZvcm1hbGluLCBDaXRyYXRlLCBFRFRBLlxyXG4gICAqL1xyXG4gIGFkZGl0aXZlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBjb250YWluZXIgaG9sZGluZyB0aGUgc3BlY2ltZW4uICBUaGUgcmVjdXJzaXZlIG5hdHVyZSBvZiBjb250YWluZXJzOyBpLmUuIGJsb29kIGluIHR1YmUgaW4gdHJheSBpbiByYWNrIGlzIG5vdCBhZGRyZXNzZWQgaGVyZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTcGVjaW1lbkNvbnRhaW5lciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1NwZWNpbWVuQ29udGFpbmVyJztcclxuICAvKipcclxuICAgKiBJZCBmb3IgY29udGFpbmVyLiBUaGVyZSBtYXkgYmUgbXVsdGlwbGU7IGEgbWFudWZhY3R1cmVyJ3MgYmFyIGNvZGUsIGxhYiBhc3NpZ25lZCBpZGVudGlmaWVyLCBldGMuIFRoZSBjb250YWluZXIgSUQgbWF5IGRpZmZlciBmcm9tIHRoZSBzcGVjaW1lbiBpZCBpbiBzb21lIGNpcmN1bXN0YW5jZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRleHR1YWwgZGVzY3JpcHRpb24gb2YgdGhlIGNvbnRhaW5lci5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGNvbnRhaW5lciBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpbWVuIChlLmcuIHNsaWRlLCBhbGlxdW90LCBldGMuKS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY2FwYWNpdHkgKHZvbHVtZSBvciBvdGhlciBtZWFzdXJlKSB0aGUgY29udGFpbmVyIG1heSBjb250YWluLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXBhY2l0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiBzcGVjaW1lbiBpbiB0aGUgY29udGFpbmVyOyBtYXkgYmUgdm9sdW1lLCBkaW1lbnNpb25zLCBvciBvdGhlciBhcHByb3ByaWF0ZSBtZWFzdXJlbWVudHMsIGRlcGVuZGluZyBvbiB0aGUgc3BlY2ltZW4gdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3BlY2ltZW5RdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludHJvZHVjZWQgc3Vic3RhbmNlIHRvIHByZXNlcnZlLCBtYWludGFpbiBvciBlbmhhbmNlIHRoZSBzcGVjaW1lbi4gRXhhbXBsZXM6IEZvcm1hbGluLCBDaXRyYXRlLCBFRFRBLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRpdGl2ZT86IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgU3BlY2ltZW4uY29udGFpbmVyLmFkZGl0aXZlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2FkZGl0aXZlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3BlY2ltZW5Db250YWluZXIgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTcGVjaW1lbkNvbnRhaW5lckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NhcGFjaXR5J10pIHsgdGhpcy5jYXBhY2l0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5jYXBhY2l0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NwZWNpbWVuUXVhbnRpdHknXSkgeyB0aGlzLnNwZWNpbWVuUXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2Uuc3BlY2ltZW5RdWFudGl0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkZGl0aXZlJ10pIHsgdGhpcy5hZGRpdGl2ZSA9IHNvdXJjZS5hZGRpdGl2ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydhZGRpdGl2ZUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuYWRkaXRpdmUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmFkZGl0aXZlQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydhZGRpdGl2ZVJlZmVyZW5jZSddKSB7IHRoaXMuYWRkaXRpdmUgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmFkZGl0aXZlUmVmZXJlbmNlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdTcGVjaW1lbi5jb250YWluZXInIH1cclxuICAgIHRoaXMudk9wdEEoJ2lkZW50aWZpZXInLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdkZXNjcmlwdGlvbicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3R5cGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdjYXBhY2l0eScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3NwZWNpbWVuUXVhbnRpdHknLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdhZGRpdGl2ZScsZXhwcmVzc2lvbilcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTcGVjaW1lbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTcGVjaW1lbkFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIlNwZWNpbWVuXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkIGZvciBzcGVjaW1lbi5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaWRlbnRpZmllciBhc3NpZ25lZCBieSB0aGUgbGFiIHdoZW4gYWNjZXNzaW9uaW5nIHNwZWNpbWVuKHMpLiBUaGlzIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBhcyB0aGUgc3BlY2ltZW4gaWRlbnRpZmllciwgZGVwZW5kaW5nIG9uIGxvY2FsIGxhYiBwcm9jZWR1cmVzLlxyXG4gICAqL1xyXG4gIGFjY2Vzc2lvbklkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5GaGlyQ29kZTxTcGVjaW1lblN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTcGVjaW1lbi5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBjYW4gY2hhbmdlIHRoZSB3YXkgdGhhdCBhIHNwZWNpbWVuIGlzIGhhbmRsZWQgYW5kIGRyaXZlcyB3aGF0IGtpbmQgb2YgYW5hbHlzZXMgY2FuIHByb3Blcmx5IGJlIHBlcmZvcm1lZCBvbiB0aGUgc3BlY2ltZW4uIEl0IGlzIGZyZXF1ZW50bHkgdXNlZCBpbiBkaWFnbm9zdGljIHdvcmsgZmxvdyBkZWNpc2lvbiBtYWtpbmcgc3lzdGVtcy5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgc3BlY2ltZW4gY2FtZSBmcm9tLiBUaGlzIG1heSBiZSBmcm9tIHBhdGllbnQocyksIGZyb20gYSBsb2NhdGlvbiAoZS5nLiwgdGhlIHNvdXJjZSBvZiBhbiBlbnZpcm9ubWVudGFsIHNhbXBsZSksIG9yIGEgc2FtcGxpbmcgb2YgYSBzdWJzdGFuY2Ugb3IgYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltZSB3aGVuIHNwZWNpbWVuIHdhcyByZWNlaXZlZCBmb3IgcHJvY2Vzc2luZyBvciB0ZXN0aW5nLlxyXG4gICAqL1xyXG4gIHJlY2VpdmVkVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNwZWNpbWVuLnJlY2VpdmVkVGltZVxyXG4gICAqL1xyXG4gIF9yZWNlaXZlZFRpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgc3BlY2ltZW4gY291bGQgYmUgdGhlIHNvdXJjZSBmcm9tIHdoaWNoIHRoZSBjdXJyZW50IHNwZWNpbWVuIGlzIGRlcml2ZWQgYnkgc29tZSBwcm9jZXNzaW5nIHN0ZXAgKGUuZy4gYW4gYWxpcXVvdCBvciBpc29sYXRlIG9yIGV4dHJhY3RlZCBudWNsZWljIGFjaWRzIGZyb20gY2xpbmljYWwgc2FtcGxlcykgb3Igb25lIG9mIG1hbnkgc3BlY2ltZW5zIHRoYXQgd2VyZSBjb21iaW5lZCB0byBjcmVhdGUgYSBwb29sZWQgc2FtcGxlLlxyXG4gICAqL1xyXG4gIHBhcmVudD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVxdWVzdCBtYXkgYmUgZXhwbGljaXQgb3IgaW1wbGllZCBzdWNoIHdpdGggYSBTZXJ2aWNlUmVxdWVzdCB0aGF0IHJlcXVpcmVzIGEgYmxvb2QgZHJhdy5cclxuICAgKi9cclxuICByZXF1ZXN0PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERldGFpbHMgY29uY2VybmluZyB0aGUgc3BlY2ltZW4gY29sbGVjdGlvbi5cclxuICAgKi9cclxuICBjb2xsZWN0aW9uPzogZmhpci5TcGVjaW1lbkNvbGxlY3Rpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXRhaWxzIGNvbmNlcm5pbmcgcHJvY2Vzc2luZyBhbmQgcHJvY2Vzc2luZyBzdGVwcyBmb3IgdGhlIHNwZWNpbWVuLlxyXG4gICAqL1xyXG4gIHByb2Nlc3Npbmc/OiBmaGlyLlNwZWNpbWVuUHJvY2Vzc2luZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvbnRhaW5lciBob2xkaW5nIHRoZSBzcGVjaW1lbi4gIFRoZSByZWN1cnNpdmUgbmF0dXJlIG9mIGNvbnRhaW5lcnM7IGkuZS4gYmxvb2QgaW4gdHViZSBpbiB0cmF5IGluIHJhY2sgaXMgbm90IGFkZHJlc3NlZCBoZXJlLlxyXG4gICAqL1xyXG4gIGNvbnRhaW5lcj86IGZoaXIuU3BlY2ltZW5Db250YWluZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpbWVuIGNvbmRpdGlvbiBpcyBhbiBvYnNlcnZhdGlvbiBtYWRlIGFib3V0IHRoZSBzcGVjaW1lbi4gIEl0J3MgYSBwb2ludC1pbi10aW1lIGFzc2Vzc21lbnQuICBJdCBjYW4gYmUgdXNlZCB0byBhc3Nlc3MgaXRzIHF1YWxpdHkgb3IgYXBwcm9wcmlhdGVuZXNzIGZvciBhIHNwZWNpZmljIHRlc3QuXHJcbiAgICovXHJcbiAgY29uZGl0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRvIGNvbW11bmljYXRlIGFueSBkZXRhaWxzIG9yIGlzc3VlcyBhYm91dCB0aGUgc3BlY2ltZW4gb3IgZHVyaW5nIHRoZSBzcGVjaW1lbiBjb2xsZWN0aW9uLiAoZm9yIGV4YW1wbGU6IGJyb2tlbiB2aWFsLCBzZW50IHdpdGggcGF0aWVudCwgZnJvemVuKS5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc2FtcGxlIHRvIGJlIHVzZWQgZm9yIGFuYWx5c2lzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNwZWNpbWVuIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTcGVjaW1lbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJTcGVjaW1lblwiO1xyXG4gIC8qKlxyXG4gICAqIElkIGZvciBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgYXNzaWduZWQgYnkgdGhlIGxhYiB3aGVuIGFjY2Vzc2lvbmluZyBzcGVjaW1lbihzKS4gVGhpcyBpcyBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgYXMgdGhlIHNwZWNpbWVuIGlkZW50aWZpZXIsIGRlcGVuZGluZyBvbiBsb2NhbCBsYWIgcHJvY2VkdXJlcy5cclxuICAgKi9cclxuICBwdWJsaWMgYWNjZXNzaW9uSWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPFNwZWNpbWVuU3RhdHVzQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBjYW4gY2hhbmdlIHRoZSB3YXkgdGhhdCBhIHNwZWNpbWVuIGlzIGhhbmRsZWQgYW5kIGRyaXZlcyB3aGF0IGtpbmQgb2YgYW5hbHlzZXMgY2FuIHByb3Blcmx5IGJlIHBlcmZvcm1lZCBvbiB0aGUgc3BlY2ltZW4uIEl0IGlzIGZyZXF1ZW50bHkgdXNlZCBpbiBkaWFnbm9zdGljIHdvcmsgZmxvdyBkZWNpc2lvbiBtYWtpbmcgc3lzdGVtcy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgc3BlY2ltZW4gY2FtZSBmcm9tLiBUaGlzIG1heSBiZSBmcm9tIHBhdGllbnQocyksIGZyb20gYSBsb2NhdGlvbiAoZS5nLiwgdGhlIHNvdXJjZSBvZiBhbiBlbnZpcm9ubWVudGFsIHNhbXBsZSksIG9yIGEgc2FtcGxpbmcgb2YgYSBzdWJzdGFuY2Ugb3IgYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltZSB3aGVuIHNwZWNpbWVuIHdhcyByZWNlaXZlZCBmb3IgcHJvY2Vzc2luZyBvciB0ZXN0aW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNlaXZlZFRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhcmVudCBzcGVjaW1lbiBjb3VsZCBiZSB0aGUgc291cmNlIGZyb20gd2hpY2ggdGhlIGN1cnJlbnQgc3BlY2ltZW4gaXMgZGVyaXZlZCBieSBzb21lIHByb2Nlc3Npbmcgc3RlcCAoZS5nLiBhbiBhbGlxdW90IG9yIGlzb2xhdGUgb3IgZXh0cmFjdGVkIG51Y2xlaWMgYWNpZHMgZnJvbSBjbGluaWNhbCBzYW1wbGVzKSBvciBvbmUgb2YgbWFueSBzcGVjaW1lbnMgdGhhdCB3ZXJlIGNvbWJpbmVkIHRvIGNyZWF0ZSBhIHBvb2xlZCBzYW1wbGUuXHJcbiAgICovXHJcbiAgcHVibGljIHBhcmVudDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgcmVxdWVzdCBtYXkgYmUgZXhwbGljaXQgb3IgaW1wbGllZCBzdWNoIHdpdGggYSBTZXJ2aWNlUmVxdWVzdCB0aGF0IHJlcXVpcmVzIGEgYmxvb2QgZHJhdy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBEZXRhaWxzIGNvbmNlcm5pbmcgdGhlIHNwZWNpbWVuIGNvbGxlY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvbGxlY3Rpb24/OiBmaGlyLlNwZWNpbWVuQ29sbGVjdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGV0YWlscyBjb25jZXJuaW5nIHByb2Nlc3NpbmcgYW5kIHByb2Nlc3Npbmcgc3RlcHMgZm9yIHRoZSBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvY2Vzc2luZzogZmhpci5TcGVjaW1lblByb2Nlc3NpbmdbXTtcclxuICAvKipcclxuICAgKiBUaGUgY29udGFpbmVyIGhvbGRpbmcgdGhlIHNwZWNpbWVuLiAgVGhlIHJlY3Vyc2l2ZSBuYXR1cmUgb2YgY29udGFpbmVyczsgaS5lLiBibG9vZCBpbiB0dWJlIGluIHRyYXkgaW4gcmFjayBpcyBub3QgYWRkcmVzc2VkIGhlcmUuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhaW5lcjogZmhpci5TcGVjaW1lbkNvbnRhaW5lcltdO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpbWVuIGNvbmRpdGlvbiBpcyBhbiBvYnNlcnZhdGlvbiBtYWRlIGFib3V0IHRoZSBzcGVjaW1lbi4gIEl0J3MgYSBwb2ludC1pbi10aW1lIGFzc2Vzc21lbnQuICBJdCBjYW4gYmUgdXNlZCB0byBhc3Nlc3MgaXRzIHF1YWxpdHkgb3IgYXBwcm9wcmlhdGVuZXNzIGZvciBhIHNwZWNpZmljIHRlc3QuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbmRpdGlvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUbyBjb21tdW5pY2F0ZSBhbnkgZGV0YWlscyBvciBpc3N1ZXMgYWJvdXQgdGhlIHNwZWNpbWVuIG9yIGR1cmluZyB0aGUgc3BlY2ltZW4gY29sbGVjdGlvbi4gKGZvciBleGFtcGxlOiBicm9rZW4gdmlhbCwgc2VudCB3aXRoIHBhdGllbnQsIGZyb3plbikuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU6IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFNwZWNpbWVuIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3BlY2ltZW5BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnU3BlY2ltZW4nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWNjZXNzaW9uSWRlbnRpZmllciddKSB7IHRoaXMuYWNjZXNzaW9uSWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmFjY2Vzc2lvbklkZW50aWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFNwZWNpbWVuU3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFNwZWNpbWVuU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlY2VpdmVkVGltZSddKSB7IHRoaXMucmVjZWl2ZWRUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnJlY2VpdmVkVGltZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVjZWl2ZWRUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVjZWl2ZWRUaW1lKSB7IHRoaXMucmVjZWl2ZWRUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlY2VpdmVkVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlY2VpdmVkVGltZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3JlY2VpdmVkVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwYXJlbnQnXSkgeyB0aGlzLnBhcmVudCA9IHNvdXJjZS5wYXJlbnQubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXJlbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdCddKSB7IHRoaXMucmVxdWVzdCA9IHNvdXJjZS5yZXF1ZXN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVxdWVzdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb2xsZWN0aW9uJ10pIHsgdGhpcy5jb2xsZWN0aW9uID0gbmV3IGZoaXIuU3BlY2ltZW5Db2xsZWN0aW9uKHNvdXJjZS5jb2xsZWN0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvY2Vzc2luZyddKSB7IHRoaXMucHJvY2Vzc2luZyA9IHNvdXJjZS5wcm9jZXNzaW5nLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3BlY2ltZW5Qcm9jZXNzaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvY2Vzc2luZyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWluZXInXSkgeyB0aGlzLmNvbnRhaW5lciA9IHNvdXJjZS5jb250YWluZXIubWFwKCh4KSA9PiBuZXcgZmhpci5TcGVjaW1lbkNvbnRhaW5lcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhaW5lciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb25kaXRpb24nXSkgeyB0aGlzLmNvbmRpdGlvbiA9IHNvdXJjZS5jb25kaXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb25kaXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IHNvdXJjZS5ub3RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQW5ub3RhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdTcGVjaW1lbicgfVxyXG4gICAgdGhpcy52UmVxUygncmVzb3VyY2VUeXBlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnaWRlbnRpZmllcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2FjY2Vzc2lvbklkZW50aWZpZXInLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTVignc3RhdHVzJyxleHByZXNzaW9uLCdTcGVjaW1lblN0YXR1cycsU3BlY2ltZW5TdGF0dXNWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T3B0UygndHlwZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3N1YmplY3QnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdyZWNlaXZlZFRpbWUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdwYXJlbnQnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdyZXF1ZXN0JyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnY29sbGVjdGlvbicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ3Byb2Nlc3NpbmcnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdjb250YWluZXInLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdjb25kaXRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdub3RlJyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19