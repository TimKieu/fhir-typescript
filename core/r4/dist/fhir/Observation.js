// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Observation
import * as fhir from '../fhir.js';
// @ts-ignore
import { ObservationStatusVsValidation } from '../fhirValueSets/ObservationStatusVsValidation.js';
/**
 * Most observations only have one generic reference range. Systems MAY choose to restrict to only supplying the relevant reference range based on knowledge about the patient (e.g., specific to the patient's age, gender, weight and other factors), but this might not be possible or appropriate. Whenever more than one reference range is supplied, the differences between them SHOULD be provided in the reference range and/or age properties.
 */
export class ObservationReferenceRange extends fhir.BackboneElement {
    /**
     * Default constructor for ObservationReferenceRange - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['low']) {
            this.low = new fhir.Quantity(source.low);
        }
        if (source['high']) {
            this.high = new fhir.Quantity(source.high);
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['appliesTo']) {
            this.appliesTo = source.appliesTo.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.appliesTo = [];
        }
        if (source['age']) {
            this.age = new fhir.Range(source.age);
        }
        if (source['text']) {
            this.text = new fhir.FhirString({ value: source.text });
        }
        if (source['_text']) {
            if (this.text) {
                this.text.addExtendedProperties(source._text);
            }
            else {
                this.text = new fhir.FhirString(source._text);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Observation.referenceRange';
        }
        this.vOptS('low', expression);
        this.vOptS('high', expression);
        this.vOptS('type', expression);
        this.vOptA('appliesTo', expression);
        this.vOptS('age', expression);
        this.vOptS('text', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ObservationReferenceRange._fts_dataType = 'ObservationReferenceRange';
/**
 * For a discussion on the ways Observations can be assembled in groups together see [Notes](observation.html#notes) below.
 */
export class ObservationComponent extends fhir.BackboneElement {
    /**
     * Default constructor for ObservationComponent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueInteger']) {
            this.value = new fhir.FhirInteger({ value: source.valueInteger });
        }
        else if (source['valueRange']) {
            this.value = new fhir.Range(source.valueRange);
        }
        else if (source['valueRatio']) {
            this.value = new fhir.Ratio(source.valueRatio);
        }
        else if (source['valueSampledData']) {
            this.value = new fhir.SampledData(source.valueSampledData);
        }
        else if (source['valueTime']) {
            this.value = new fhir.FhirTime({ value: source.valueTime });
        }
        else if (source['valueDateTime']) {
            this.value = new fhir.FhirDateTime({ value: source.valueDateTime });
        }
        else if (source['valuePeriod']) {
            this.value = new fhir.Period(source.valuePeriod);
        }
        if (source['dataAbsentReason']) {
            this.dataAbsentReason = new fhir.CodeableConcept(source.dataAbsentReason);
        }
        if (source['interpretation']) {
            this.interpretation = source.interpretation.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.interpretation = [];
        }
        if (source['referenceRange']) {
            this.referenceRange = source.referenceRange.map((x) => new fhir.ObservationReferenceRange(x));
        }
        else {
            this.referenceRange = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Observation.component';
        }
        this.vReqS('code', expression);
        this.vOptS('value', expression);
        this.vOptS('dataAbsentReason', expression);
        this.vOptA('interpretation', expression);
        this.vOptA('referenceRange', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ObservationComponent._fts_dataType = 'ObservationComponent';
/**
 * Internal flag to properly serialize choice-type element Observation.component.value[x]
 */
ObservationComponent._fts_valueIsChoice = true;
/**
 * Measurements and simple assertions made about a patient, device or other subject.
 */
export class Observation extends fhir.DomainResource {
    /**
     * Default constructor for Observation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Observation';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['basedOn']) {
            this.basedOn = source.basedOn.map((x) => new fhir.Reference(x));
        }
        else {
            this.basedOn = [];
        }
        if (source['partOf']) {
            this.partOf = source.partOf.map((x) => new fhir.Reference(x));
        }
        else {
            this.partOf = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['focus']) {
            this.focus = source.focus.map((x) => new fhir.Reference(x));
        }
        else {
            this.focus = [];
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['effective']) {
            this.effective = source.effective;
        }
        else if (source['effectiveDateTime']) {
            this.effective = new fhir.FhirDateTime({ value: source.effectiveDateTime });
        }
        else if (source['effectivePeriod']) {
            this.effective = new fhir.Period(source.effectivePeriod);
        }
        else if (source['effectiveTiming']) {
            this.effective = new fhir.Timing(source.effectiveTiming);
        }
        else if (source['effectiveInstant']) {
            this.effective = new fhir.FhirInstant({ value: source.effectiveInstant });
        }
        if (source['issued']) {
            this.issued = new fhir.FhirInstant({ value: source.issued });
        }
        if (source['_issued']) {
            if (this.issued) {
                this.issued.addExtendedProperties(source._issued);
            }
            else {
                this.issued = new fhir.FhirInstant(source._issued);
            }
        }
        if (source['performer']) {
            this.performer = source.performer.map((x) => new fhir.Reference(x));
        }
        else {
            this.performer = [];
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueInteger']) {
            this.value = new fhir.FhirInteger({ value: source.valueInteger });
        }
        else if (source['valueRange']) {
            this.value = new fhir.Range(source.valueRange);
        }
        else if (source['valueRatio']) {
            this.value = new fhir.Ratio(source.valueRatio);
        }
        else if (source['valueSampledData']) {
            this.value = new fhir.SampledData(source.valueSampledData);
        }
        else if (source['valueTime']) {
            this.value = new fhir.FhirTime({ value: source.valueTime });
        }
        else if (source['valueDateTime']) {
            this.value = new fhir.FhirDateTime({ value: source.valueDateTime });
        }
        else if (source['valuePeriod']) {
            this.value = new fhir.Period(source.valuePeriod);
        }
        if (source['dataAbsentReason']) {
            this.dataAbsentReason = new fhir.CodeableConcept(source.dataAbsentReason);
        }
        if (source['interpretation']) {
            this.interpretation = source.interpretation.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.interpretation = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['bodySite']) {
            this.bodySite = new fhir.CodeableConcept(source.bodySite);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
        if (source['specimen']) {
            this.specimen = new fhir.Reference(source.specimen);
        }
        if (source['device']) {
            this.device = new fhir.Reference(source.device);
        }
        if (source['referenceRange']) {
            this.referenceRange = source.referenceRange.map((x) => new fhir.ObservationReferenceRange(x));
        }
        else {
            this.referenceRange = [];
        }
        if (source['hasMember']) {
            this.hasMember = source.hasMember.map((x) => new fhir.Reference(x));
        }
        else {
            this.hasMember = [];
        }
        if (source['derivedFrom']) {
            this.derivedFrom = source.derivedFrom.map((x) => new fhir.Reference(x));
        }
        else {
            this.derivedFrom = [];
        }
        if (source['component']) {
            this.component = source.component.map((x) => new fhir.ObservationComponent(x));
        }
        else {
            this.component = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Observation';
        }
        this.vReqS('resourceType', expression);
        this.vOptA('identifier', expression);
        this.vOptA('basedOn', expression);
        this.vOptA('partOf', expression);
        this.vReqSV('status', expression, 'ObservationStatus', ObservationStatusVsValidation, 'r');
        this.vOptA('category', expression);
        this.vReqS('code', expression);
        this.vOptS('subject', expression);
        this.vOptA('focus', expression);
        this.vOptS('encounter', expression);
        this.vOptS('effective', expression);
        this.vOptS('issued', expression);
        this.vOptA('performer', expression);
        this.vOptS('value', expression);
        this.vOptS('dataAbsentReason', expression);
        this.vOptA('interpretation', expression);
        this.vOptA('note', expression);
        this.vOptS('bodySite', expression);
        this.vOptS('method', expression);
        this.vOptS('specimen', expression);
        this.vOptS('device', expression);
        this.vOptA('referenceRange', expression);
        this.vOptA('hasMember', expression);
        this.vOptA('derivedFrom', expression);
        this.vOptA('component', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Observation._fts_dataType = 'Observation';
/**
 * Internal flag to properly serialize choice-type element Observation.effective[x]
 */
Observation._fts_effectiveIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Observation.value[x]
 */
Observation._fts_valueIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT2JzZXJ2YXRpb24uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL09ic2VydmF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDZCQUE2QjtBQUU3QixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQXdCbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLG1EQUFtRCxDQUFDO0FBK0NsRzs7R0FFRztBQUNILE1BQU0sT0FBTyx5QkFBMEIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQTZCakU7O09BRUc7SUFDSCxZQUFZLFNBQWdELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3RHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7U0FBRTtRQUNoRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQ25FLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxD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QUFVLENBQUMsQ0FBQTtRQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3ZDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2xDLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBdE5EOztHQUVHO0FBQzZCLHlCQUFhLEdBQVUsYUFBYSxDQUFDO0FBNkNyRTs7R0FFRztBQUN1QixrQ0FBc0IsR0FBUSxJQUFJLENBQUM7QUFhN0Q7O0dBRUc7QUFDdUIsOEJBQWtCLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBPYnNlcnZhdGlvblxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVmZXJlbmNlcmFuZ2VNZWFuaW5nQ29kZXMsICBSZWZlcmVuY2VyYW5nZU1lYW5pbmdDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVmZXJlbmNlcmFuZ2VNZWFuaW5nQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlZmVyZW5jZXJhbmdlTWVhbmluZ1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVmZXJlbmNlcmFuZ2VNZWFuaW5nVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWZlcmVuY2VyYW5nZUFwcGxpZXN0b0NvZGVzLCAgUmVmZXJlbmNlcmFuZ2VBcHBsaWVzdG9Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVmZXJlbmNlcmFuZ2VBcHBsaWVzdG9Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVmZXJlbmNlcmFuZ2VBcHBsaWVzdG9Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlZmVyZW5jZXJhbmdlQXBwbGllc3RvVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBPYnNlcnZhdGlvbkNvZGVzLCAgT2JzZXJ2YXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JzZXJ2YXRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JzZXJ2YXRpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09ic2VydmF0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEYXRhQWJzZW50UmVhc29uQ29kZXMsICBEYXRhQWJzZW50UmVhc29uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RhdGFBYnNlbnRSZWFzb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGF0YUFic2VudFJlYXNvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGF0YUFic2VudFJlYXNvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JzZXJ2YXRpb25JbnRlcnByZXRhdGlvbkNvZGVzLCAgT2JzZXJ2YXRpb25JbnRlcnByZXRhdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYnNlcnZhdGlvbkludGVycHJldGF0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9ic2VydmF0aW9uSW50ZXJwcmV0YXRpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09ic2VydmF0aW9uSW50ZXJwcmV0YXRpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9ic2VydmF0aW9uU3RhdHVzQ29kZXMsICBPYnNlcnZhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYnNlcnZhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBPYnNlcnZhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JzZXJ2YXRpb25TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9ic2VydmF0aW9uQ2F0ZWdvcnlDb2RlcywgIE9ic2VydmF0aW9uQ2F0ZWdvcnlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JzZXJ2YXRpb25DYXRlZ29yeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBPYnNlcnZhdGlvbkNhdGVnb3J5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYnNlcnZhdGlvbkNhdGVnb3J5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCb2R5U2l0ZUNvZGVzLCAgQm9keVNpdGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQm9keVNpdGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQm9keVNpdGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JvZHlTaXRlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBPYnNlcnZhdGlvbk1ldGhvZHNDb2RlcywgIE9ic2VydmF0aW9uTWV0aG9kc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYnNlcnZhdGlvbk1ldGhvZHNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JzZXJ2YXRpb25NZXRob2RzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYnNlcnZhdGlvbk1ldGhvZHNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgT2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZhdGlvblJlZmVyZW5jZVJhbmdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBsb3cgYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZS4gIFRoZSBsb3cgYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZSBlbmRwb2ludCBpcyBpbmNsdXNpdmUgb2YgdGhlIHZhbHVlIChlLmcuICByZWZlcmVuY2UgcmFuZ2UgaXMgJmd0Oz01IC0gJmx0Oz05KS4gSWYgdGhlIGxvdyBib3VuZCBpcyBvbWl0dGVkLCAgaXQgaXMgYXNzdW1lZCB0byBiZSBtZWFuaW5nbGVzcyAoZS5nLiByZWZlcmVuY2UgcmFuZ2UgaXMgJmx0Oz0yLjMpLlxyXG4gICAqL1xyXG4gIGxvdz86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIGhpZ2ggYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZS4gIFRoZSBoaWdoIGJvdW5kIG9mIHRoZSByZWZlcmVuY2UgcmFuZ2UgZW5kcG9pbnQgaXMgaW5jbHVzaXZlIG9mIHRoZSB2YWx1ZSAoZS5nLiAgcmVmZXJlbmNlIHJhbmdlIGlzICZndDs9NSAtICZsdDs9OSkuIElmIHRoZSBoaWdoIGJvdW5kIGlzIG9taXR0ZWQsICBpdCBpcyBhc3N1bWVkIHRvIGJlIG1lYW5pbmdsZXNzIChlLmcuIHJlZmVyZW5jZSByYW5nZSBpcyAmZ3Q7PSAyLjMpLlxyXG4gICAqL1xyXG4gIGhpZ2g/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBTSE9VTEQgYmUgcG9wdWxhdGVkIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcmFuZ2UuICBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IHByZXNlbnQgdGhlbiB0aGUgbm9ybWFsIHJhbmdlIGlzIGFzc3VtZWQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBTSE9VTEQgYmUgcG9wdWxhdGVkIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcmFuZ2UuICBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IHByZXNlbnQgdGhlbiB0aGUgbm9ybWFsIHBvcHVsYXRpb24gaXMgYXNzdW1lZC5cclxuICAgKi9cclxuICBhcHBsaWVzVG8/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFnZSBhdCB3aGljaCB0aGlzIHJlZmVyZW5jZSByYW5nZSBpcyBhcHBsaWNhYmxlLiBUaGlzIGlzIGEgbmVvbmF0YWwgYWdlIChlLmcuIG51bWJlciBvZiB3ZWVrcyBhdCB0ZXJtKSBpZiB0aGUgbWVhbmluZyBzYXlzIHNvLlxyXG4gICAqL1xyXG4gIGFnZT86IGZoaXIuUmFuZ2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0IGJhc2VkIHJlZmVyZW5jZSByYW5nZSBpbiBhbiBvYnNlcnZhdGlvbiB3aGljaCBtYXkgYmUgdXNlZCB3aGVuIGEgcXVhbnRpdGF0aXZlIHJhbmdlIGlzIG5vdCBhcHByb3ByaWF0ZSBmb3IgYW4gb2JzZXJ2YXRpb24uICBBbiBleGFtcGxlIHdvdWxkIGJlIGEgcmVmZXJlbmNlIHZhbHVlIG9mIFwiTmVnYXRpdmVcIiBvciBhIGxpc3Qgb3IgdGFibGUgb2YgXCJub3JtYWxzXCIuXHJcbiAgICovXHJcbiAgdGV4dD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBPYnNlcnZhdGlvbi5yZWZlcmVuY2VSYW5nZS50ZXh0XHJcbiAgICovXHJcbiAgX3RleHQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogTW9zdCBvYnNlcnZhdGlvbnMgb25seSBoYXZlIG9uZSBnZW5lcmljIHJlZmVyZW5jZSByYW5nZS4gU3lzdGVtcyBNQVkgY2hvb3NlIHRvIHJlc3RyaWN0IHRvIG9ubHkgc3VwcGx5aW5nIHRoZSByZWxldmFudCByZWZlcmVuY2UgcmFuZ2UgYmFzZWQgb24ga25vd2xlZGdlIGFib3V0IHRoZSBwYXRpZW50IChlLmcuLCBzcGVjaWZpYyB0byB0aGUgcGF0aWVudCdzIGFnZSwgZ2VuZGVyLCB3ZWlnaHQgYW5kIG90aGVyIGZhY3RvcnMpLCBidXQgdGhpcyBtaWdodCBub3QgYmUgcG9zc2libGUgb3IgYXBwcm9wcmlhdGUuIFdoZW5ldmVyIG1vcmUgdGhhbiBvbmUgcmVmZXJlbmNlIHJhbmdlIGlzIHN1cHBsaWVkLCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGVtIFNIT1VMRCBiZSBwcm92aWRlZCBpbiB0aGUgcmVmZXJlbmNlIHJhbmdlIGFuZC9vciBhZ2UgcHJvcGVydGllcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhdGlvblJlZmVyZW5jZVJhbmdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnT2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBsb3cgYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZS4gIFRoZSBsb3cgYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZSBlbmRwb2ludCBpcyBpbmNsdXNpdmUgb2YgdGhlIHZhbHVlIChlLmcuICByZWZlcmVuY2UgcmFuZ2UgaXMgJmd0Oz01IC0gJmx0Oz05KS4gSWYgdGhlIGxvdyBib3VuZCBpcyBvbWl0dGVkLCAgaXQgaXMgYXNzdW1lZCB0byBiZSBtZWFuaW5nbGVzcyAoZS5nLiByZWZlcmVuY2UgcmFuZ2UgaXMgJmx0Oz0yLjMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb3c/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIGhpZ2ggYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZS4gIFRoZSBoaWdoIGJvdW5kIG9mIHRoZSByZWZlcmVuY2UgcmFuZ2UgZW5kcG9pbnQgaXMgaW5jbHVzaXZlIG9mIHRoZSB2YWx1ZSAoZS5nLiAgcmVmZXJlbmNlIHJhbmdlIGlzICZndDs9NSAtICZsdDs9OSkuIElmIHRoZSBoaWdoIGJvdW5kIGlzIG9taXR0ZWQsICBpdCBpcyBhc3N1bWVkIHRvIGJlIG1lYW5pbmdsZXNzIChlLmcuIHJlZmVyZW5jZSByYW5nZSBpcyAmZ3Q7PSAyLjMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoaWdoPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBTSE9VTEQgYmUgcG9wdWxhdGVkIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcmFuZ2UuICBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IHByZXNlbnQgdGhlbiB0aGUgbm9ybWFsIHJhbmdlIGlzIGFzc3VtZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBTSE9VTEQgYmUgcG9wdWxhdGVkIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcmFuZ2UuICBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IHByZXNlbnQgdGhlbiB0aGUgbm9ybWFsIHBvcHVsYXRpb24gaXMgYXNzdW1lZC5cclxuICAgKi9cclxuICBwdWJsaWMgYXBwbGllc1RvOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhZ2UgYXQgd2hpY2ggdGhpcyByZWZlcmVuY2UgcmFuZ2UgaXMgYXBwbGljYWJsZS4gVGhpcyBpcyBhIG5lb25hdGFsIGFnZSAoZS5nLiBudW1iZXIgb2Ygd2Vla3MgYXQgdGVybSkgaWYgdGhlIG1lYW5pbmcgc2F5cyBzby5cclxuICAgKi9cclxuICBwdWJsaWMgYWdlPzogZmhpci5SYW5nZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGV4dCBiYXNlZCByZWZlcmVuY2UgcmFuZ2UgaW4gYW4gb2JzZXJ2YXRpb24gd2hpY2ggbWF5IGJlIHVzZWQgd2hlbiBhIHF1YW50aXRhdGl2ZSByYW5nZSBpcyBub3QgYXBwcm9wcmlhdGUgZm9yIGFuIG9ic2VydmF0aW9uLiAgQW4gZXhhbXBsZSB3b3VsZCBiZSBhIHJlZmVyZW5jZSB2YWx1ZSBvZiBcIk5lZ2F0aXZlXCIgb3IgYSBsaXN0IG9yIHRhYmxlIG9mIFwibm9ybWFsc1wiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZXh0PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBPYnNlcnZhdGlvblJlZmVyZW5jZVJhbmdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8T2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydsb3cnXSkgeyB0aGlzLmxvdyA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5sb3cpOyB9XHJcbiAgICBpZiAoc291cmNlWydoaWdoJ10pIHsgdGhpcy5oaWdoID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmhpZ2gpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXBwbGllc1RvJ10pIHsgdGhpcy5hcHBsaWVzVG8gPSBzb3VyY2UuYXBwbGllc1RvLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXBwbGllc1RvID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FnZSddKSB7IHRoaXMuYWdlID0gbmV3IGZoaXIuUmFuZ2Uoc291cmNlLmFnZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RleHQnXSkgeyB0aGlzLnRleHQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRleHR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3RleHQnXSkge1xyXG4gICAgICBpZiAodGhpcy50ZXh0KSB7IHRoaXMudGV4dC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90ZXh0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudGV4dCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl90ZXh0IGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ09ic2VydmF0aW9uLnJlZmVyZW5jZVJhbmdlJyB9XHJcbiAgICB0aGlzLnZPcHRTKCdsb3cnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdoaWdoJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygndHlwZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2FwcGxpZXNUbycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2FnZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3RleHQnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgT2JzZXJ2YXRpb25Db21wb25lbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2YXRpb25Db21wb25lbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiAqQWxsKiBjb2RlLXZhbHVlIGFuZCAgY29tcG9uZW50LmNvZGUtY29tcG9uZW50LnZhbHVlIHBhaXJzIG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50IHRvIGNvcnJlY3RseSB1bmRlcnN0YW5kIHRoZSBtZWFuaW5nIG9mIHRoZSBvYnNlcnZhdGlvbi5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBVc2VkIHdoZW4gb2JzZXJ2YXRpb24gaGFzIGEgc2V0IG9mIGNvbXBvbmVudCBvYnNlcnZhdGlvbnMuIEFuIG9ic2VydmF0aW9uIG1heSBoYXZlIGJvdGggYSB2YWx1ZSAoZS5nLiBhbiAgQXBnYXIgc2NvcmUpICBhbmQgY29tcG9uZW50IG9ic2VydmF0aW9ucyAodGhlIG9ic2VydmF0aW9ucyBmcm9tIHdoaWNoIHRoZSBBcGdhciBzY29yZSB3YXMgZGVyaXZlZCkuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlPzogZmhpci5RdWFudGl0eXxmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJJbnRlZ2VyfGZoaXIuUmFuZ2V8Zmhpci5SYXRpb3xmaGlyLlNhbXBsZWREYXRhfGZoaXIuRmhpclRpbWV8Zmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgd2hlbiBvYnNlcnZhdGlvbiBoYXMgYSBzZXQgb2YgY29tcG9uZW50IG9ic2VydmF0aW9ucy4gQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmUgYm90aCBhIHZhbHVlIChlLmcuIGFuICBBcGdhciBzY29yZSkgIGFuZCBjb21wb25lbnQgb2JzZXJ2YXRpb25zICh0aGUgb2JzZXJ2YXRpb25zIGZyb20gd2hpY2ggdGhlIEFwZ2FyIHNjb3JlIHdhcyBkZXJpdmVkKS4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiBBIENvZGVhYmxlQ29uY2VwdCB3aXRoIGp1c3QgYSB0ZXh0IHdvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBhIHN0cmluZyBpZiB0aGUgZmllbGQgd2FzIHVzdWFsbHkgY29kZWQsIG9yIGlmIHRoZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgT2JzZXJ2YXRpb24uY29kZSBkZWZpbmVzIGEgY29kZWQgdmFsdWUuICBGb3IgYWRkaXRpb25hbCBndWlkYW5jZSwgc2VlIHRoZSBbTm90ZXMgc2VjdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgdmFsdWVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2VkIHdoZW4gb2JzZXJ2YXRpb24gaGFzIGEgc2V0IG9mIGNvbXBvbmVudCBvYnNlcnZhdGlvbnMuIEFuIG9ic2VydmF0aW9uIG1heSBoYXZlIGJvdGggYSB2YWx1ZSAoZS5nLiBhbiAgQXBnYXIgc2NvcmUpICBhbmQgY29tcG9uZW50IG9ic2VydmF0aW9ucyAodGhlIG9ic2VydmF0aW9ucyBmcm9tIHdoaWNoIHRoZSBBcGdhciBzY29yZSB3YXMgZGVyaXZlZCkuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2VkIHdoZW4gb2JzZXJ2YXRpb24gaGFzIGEgc2V0IG9mIGNvbXBvbmVudCBvYnNlcnZhdGlvbnMuIEFuIG9ic2VydmF0aW9uIG1heSBoYXZlIGJvdGggYSB2YWx1ZSAoZS5nLiBhbiAgQXBnYXIgc2NvcmUpICBhbmQgY29tcG9uZW50IG9ic2VydmF0aW9ucyAodGhlIG9ic2VydmF0aW9ucyBmcm9tIHdoaWNoIHRoZSBBcGdhciBzY29yZSB3YXMgZGVyaXZlZCkuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlZCB3aGVuIG9ic2VydmF0aW9uIGhhcyBhIHNldCBvZiBjb21wb25lbnQgb2JzZXJ2YXRpb25zLiBBbiBvYnNlcnZhdGlvbiBtYXkgaGF2ZSBib3RoIGEgdmFsdWUgKGUuZy4gYW4gIEFwZ2FyIHNjb3JlKSAgYW5kIGNvbXBvbmVudCBvYnNlcnZhdGlvbnMgKHRoZSBvYnNlcnZhdGlvbnMgZnJvbSB3aGljaCB0aGUgQXBnYXIgc2NvcmUgd2FzIGRlcml2ZWQpLiBJZiBhIHZhbHVlIGlzIHByZXNlbnQsIHRoZSBkYXRhdHlwZSBmb3IgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBkZXRlcm1pbmVkIGJ5IE9ic2VydmF0aW9uLmNvZGUuIEEgQ29kZWFibGVDb25jZXB0IHdpdGgganVzdCBhIHRleHQgd291bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGlmIHRoZSBmaWVsZCB3YXMgdXN1YWxseSBjb2RlZCwgb3IgaWYgdGhlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBPYnNlcnZhdGlvbi5jb2RlIGRlZmluZXMgYSBjb2RlZCB2YWx1ZS4gIEZvciBhZGRpdGlvbmFsIGd1aWRhbmNlLCBzZWUgdGhlIFtOb3RlcyBzZWN0aW9uXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICAgKi9cclxuICB2YWx1ZUJvb2xlYW4/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgd2hlbiBvYnNlcnZhdGlvbiBoYXMgYSBzZXQgb2YgY29tcG9uZW50IG9ic2VydmF0aW9ucy4gQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmUgYm90aCBhIHZhbHVlIChlLmcuIGFuICBBcGdhciBzY29yZSkgIGFuZCBjb21wb25lbnQgb2JzZXJ2YXRpb25zICh0aGUgb2JzZXJ2YXRpb25zIGZyb20gd2hpY2ggdGhlIEFwZ2FyIHNjb3JlIHdhcyBkZXJpdmVkKS4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiBBIENvZGVhYmxlQ29uY2VwdCB3aXRoIGp1c3QgYSB0ZXh0IHdvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBhIHN0cmluZyBpZiB0aGUgZmllbGQgd2FzIHVzdWFsbHkgY29kZWQsIG9yIGlmIHRoZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgT2JzZXJ2YXRpb24uY29kZSBkZWZpbmVzIGEgY29kZWQgdmFsdWUuICBGb3IgYWRkaXRpb25hbCBndWlkYW5jZSwgc2VlIHRoZSBbTm90ZXMgc2VjdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgdmFsdWVJbnRlZ2VyPzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgd2hlbiBvYnNlcnZhdGlvbiBoYXMgYSBzZXQgb2YgY29tcG9uZW50IG9ic2VydmF0aW9ucy4gQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmUgYm90aCBhIHZhbHVlIChlLmcuIGFuICBBcGdhciBzY29yZSkgIGFuZCBjb21wb25lbnQgb2JzZXJ2YXRpb25zICh0aGUgb2JzZXJ2YXRpb25zIGZyb20gd2hpY2ggdGhlIEFwZ2FyIHNjb3JlIHdhcyBkZXJpdmVkKS4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiBBIENvZGVhYmxlQ29uY2VwdCB3aXRoIGp1c3QgYSB0ZXh0IHdvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBhIHN0cmluZyBpZiB0aGUgZmllbGQgd2FzIHVzdWFsbHkgY29kZWQsIG9yIGlmIHRoZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgT2JzZXJ2YXRpb24uY29kZSBkZWZpbmVzIGEgY29kZWQgdmFsdWUuICBGb3IgYWRkaXRpb25hbCBndWlkYW5jZSwgc2VlIHRoZSBbTm90ZXMgc2VjdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgdmFsdWVSYW5nZT86IGZoaXIuUmFuZ2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2VkIHdoZW4gb2JzZXJ2YXRpb24gaGFzIGEgc2V0IG9mIGNvbXBvbmVudCBvYnNlcnZhdGlvbnMuIEFuIG9ic2VydmF0aW9uIG1heSBoYXZlIGJvdGggYSB2YWx1ZSAoZS5nLiBhbiAgQXBnYXIgc2NvcmUpICBhbmQgY29tcG9uZW50IG9ic2VydmF0aW9ucyAodGhlIG9ic2VydmF0aW9ucyBmcm9tIHdoaWNoIHRoZSBBcGdhciBzY29yZSB3YXMgZGVyaXZlZCkuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlUmF0aW8/OiBmaGlyLlJhdGlvQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlZCB3aGVuIG9ic2VydmF0aW9uIGhhcyBhIHNldCBvZiBjb21wb25lbnQgb2JzZXJ2YXRpb25zLiBBbiBvYnNlcnZhdGlvbiBtYXkgaGF2ZSBib3RoIGEgdmFsdWUgKGUuZy4gYW4gIEFwZ2FyIHNjb3JlKSAgYW5kIGNvbXBvbmVudCBvYnNlcnZhdGlvbnMgKHRoZSBvYnNlcnZhdGlvbnMgZnJvbSB3aGljaCB0aGUgQXBnYXIgc2NvcmUgd2FzIGRlcml2ZWQpLiBJZiBhIHZhbHVlIGlzIHByZXNlbnQsIHRoZSBkYXRhdHlwZSBmb3IgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBkZXRlcm1pbmVkIGJ5IE9ic2VydmF0aW9uLmNvZGUuIEEgQ29kZWFibGVDb25jZXB0IHdpdGgganVzdCBhIHRleHQgd291bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGlmIHRoZSBmaWVsZCB3YXMgdXN1YWxseSBjb2RlZCwgb3IgaWYgdGhlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBPYnNlcnZhdGlvbi5jb2RlIGRlZmluZXMgYSBjb2RlZCB2YWx1ZS4gIEZvciBhZGRpdGlvbmFsIGd1aWRhbmNlLCBzZWUgdGhlIFtOb3RlcyBzZWN0aW9uXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICAgKi9cclxuICB2YWx1ZVNhbXBsZWREYXRhPzogZmhpci5TYW1wbGVkRGF0YUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgd2hlbiBvYnNlcnZhdGlvbiBoYXMgYSBzZXQgb2YgY29tcG9uZW50IG9ic2VydmF0aW9ucy4gQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmUgYm90aCBhIHZhbHVlIChlLmcuIGFuICBBcGdhciBzY29yZSkgIGFuZCBjb21wb25lbnQgb2JzZXJ2YXRpb25zICh0aGUgb2JzZXJ2YXRpb25zIGZyb20gd2hpY2ggdGhlIEFwZ2FyIHNjb3JlIHdhcyBkZXJpdmVkKS4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiBBIENvZGVhYmxlQ29uY2VwdCB3aXRoIGp1c3QgYSB0ZXh0IHdvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBhIHN0cmluZyBpZiB0aGUgZmllbGQgd2FzIHVzdWFsbHkgY29kZWQsIG9yIGlmIHRoZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgT2JzZXJ2YXRpb24uY29kZSBkZWZpbmVzIGEgY29kZWQgdmFsdWUuICBGb3IgYWRkaXRpb25hbCBndWlkYW5jZSwgc2VlIHRoZSBbTm90ZXMgc2VjdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgdmFsdWVUaW1lPzogZmhpci5GaGlyVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgd2hlbiBvYnNlcnZhdGlvbiBoYXMgYSBzZXQgb2YgY29tcG9uZW50IG9ic2VydmF0aW9ucy4gQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmUgYm90aCBhIHZhbHVlIChlLmcuIGFuICBBcGdhciBzY29yZSkgIGFuZCBjb21wb25lbnQgb2JzZXJ2YXRpb25zICh0aGUgb2JzZXJ2YXRpb25zIGZyb20gd2hpY2ggdGhlIEFwZ2FyIHNjb3JlIHdhcyBkZXJpdmVkKS4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiBBIENvZGVhYmxlQ29uY2VwdCB3aXRoIGp1c3QgYSB0ZXh0IHdvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBhIHN0cmluZyBpZiB0aGUgZmllbGQgd2FzIHVzdWFsbHkgY29kZWQsIG9yIGlmIHRoZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgT2JzZXJ2YXRpb24uY29kZSBkZWZpbmVzIGEgY29kZWQgdmFsdWUuICBGb3IgYWRkaXRpb25hbCBndWlkYW5jZSwgc2VlIHRoZSBbTm90ZXMgc2VjdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgdmFsdWVEYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlZCB3aGVuIG9ic2VydmF0aW9uIGhhcyBhIHNldCBvZiBjb21wb25lbnQgb2JzZXJ2YXRpb25zLiBBbiBvYnNlcnZhdGlvbiBtYXkgaGF2ZSBib3RoIGEgdmFsdWUgKGUuZy4gYW4gIEFwZ2FyIHNjb3JlKSAgYW5kIGNvbXBvbmVudCBvYnNlcnZhdGlvbnMgKHRoZSBvYnNlcnZhdGlvbnMgZnJvbSB3aGljaCB0aGUgQXBnYXIgc2NvcmUgd2FzIGRlcml2ZWQpLiBJZiBhIHZhbHVlIGlzIHByZXNlbnQsIHRoZSBkYXRhdHlwZSBmb3IgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBkZXRlcm1pbmVkIGJ5IE9ic2VydmF0aW9uLmNvZGUuIEEgQ29kZWFibGVDb25jZXB0IHdpdGgganVzdCBhIHRleHQgd291bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGlmIHRoZSBmaWVsZCB3YXMgdXN1YWxseSBjb2RlZCwgb3IgaWYgdGhlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBPYnNlcnZhdGlvbi5jb2RlIGRlZmluZXMgYSBjb2RlZCB2YWx1ZS4gIEZvciBhZGRpdGlvbmFsIGd1aWRhbmNlLCBzZWUgdGhlIFtOb3RlcyBzZWN0aW9uXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICAgKi9cclxuICB2YWx1ZVBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogXCJOdWxsXCIgb3IgZXhjZXB0aW9uYWwgdmFsdWVzIGNhbiBiZSByZXByZXNlbnRlZCB0d28gd2F5cyBpbiBGSElSIE9ic2VydmF0aW9ucy4gIE9uZSB3YXkgaXMgdG8gc2ltcGx5IGluY2x1ZGUgdGhlbSBpbiB0aGUgdmFsdWUgc2V0IGFuZCByZXByZXNlbnQgdGhlIGV4Y2VwdGlvbnMgaW4gdGhlIHZhbHVlLiAgRm9yIGV4YW1wbGUsIG1lYXN1cmVtZW50IHZhbHVlcyBmb3IgYSBzZXJvbG9neSB0ZXN0IGNvdWxkIGJlICBcImRldGVjdGVkXCIsIFwibm90IGRldGVjdGVkXCIsIFwiaW5jb25jbHVzaXZlXCIsIG9yICBcInRlc3Qgbm90IGRvbmVcIi4gXHJcbiAgICogVGhlIGFsdGVybmF0ZSB3YXkgaXMgdG8gdXNlIHRoZSB2YWx1ZSBlbGVtZW50IGZvciBhY3R1YWwgb2JzZXJ2YXRpb25zIGFuZCB1c2UgdGhlIGV4cGxpY2l0IGRhdGFBYnNlbnRSZWFzb24gZWxlbWVudCB0byByZWNvcmQgZXhjZXB0aW9uYWwgdmFsdWVzLiAgRm9yIGV4YW1wbGUsIHRoZSBkYXRhQWJzZW50UmVhc29uIGNvZGUgXCJlcnJvclwiIGNvdWxkIGJlIHVzZWQgd2hlbiB0aGUgbWVhc3VyZW1lbnQgd2FzIG5vdCBjb21wbGV0ZWQuICBCZWNhdXNlIG9mIHRoZXNlIG9wdGlvbnMsIHVzZS1jYXNlIGFncmVlbWVudHMgYXJlIHJlcXVpcmVkIHRvIGludGVycHJldCBnZW5lcmFsIG9ic2VydmF0aW9ucyBmb3IgZXhjZXB0aW9uYWwgdmFsdWVzLlxyXG4gICAqL1xyXG4gIGRhdGFBYnNlbnRSZWFzb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhpc3RvcmljYWxseSB1c2VkIGZvciBsYWJvcmF0b3J5IHJlc3VsdHMgKGtub3duIGFzICdhYm5vcm1hbCBmbGFnJyApLCAgaXRzIHVzZSBleHRlbmRzIHRvIG90aGVyIHVzZSBjYXNlcyB3aGVyZSBjb2RlZCBpbnRlcnByZXRhdGlvbnMgIGFyZSByZWxldmFudC4gIE9mdGVuIHJlcG9ydGVkIGFzIG9uZSBvciBtb3JlIHNpbXBsZSBjb21wYWN0IGNvZGVzIHRoaXMgZWxlbWVudCBpcyBvZnRlbiBwbGFjZWQgYWRqYWNlbnQgdG8gdGhlIHJlc3VsdCB2YWx1ZSBpbiByZXBvcnRzIGFuZCBmbG93IHNoZWV0cyB0byBzaWduYWwgdGhlIG1lYW5pbmcvbm9ybWFsY3kgc3RhdHVzIG9mIHRoZSByZXN1bHQuXHJcbiAgICovXHJcbiAgaW50ZXJwcmV0YXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTW9zdCBvYnNlcnZhdGlvbnMgb25seSBoYXZlIG9uZSBnZW5lcmljIHJlZmVyZW5jZSByYW5nZS4gU3lzdGVtcyBNQVkgY2hvb3NlIHRvIHJlc3RyaWN0IHRvIG9ubHkgc3VwcGx5aW5nIHRoZSByZWxldmFudCByZWZlcmVuY2UgcmFuZ2UgYmFzZWQgb24ga25vd2xlZGdlIGFib3V0IHRoZSBwYXRpZW50IChlLmcuLCBzcGVjaWZpYyB0byB0aGUgcGF0aWVudCdzIGFnZSwgZ2VuZGVyLCB3ZWlnaHQgYW5kIG90aGVyIGZhY3RvcnMpLCBidXQgdGhpcyBtaWdodCBub3QgYmUgcG9zc2libGUgb3IgYXBwcm9wcmlhdGUuIFdoZW5ldmVyIG1vcmUgdGhhbiBvbmUgcmVmZXJlbmNlIHJhbmdlIGlzIHN1cHBsaWVkLCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGVtIFNIT1VMRCBiZSBwcm92aWRlZCBpbiB0aGUgcmVmZXJlbmNlIHJhbmdlIGFuZC9vciBhZ2UgcHJvcGVydGllcy5cclxuICAgKi9cclxuICByZWZlcmVuY2VSYW5nZT86IGZoaXIuT2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3IgYSBkaXNjdXNzaW9uIG9uIHRoZSB3YXlzIE9ic2VydmF0aW9ucyBjYW4gYmUgYXNzZW1ibGVkIGluIGdyb3VwcyB0b2dldGhlciBzZWUgW05vdGVzXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhdGlvbkNvbXBvbmVudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ09ic2VydmF0aW9uQ29tcG9uZW50JztcclxuICAvKipcclxuICAgKiAqQWxsKiBjb2RlLXZhbHVlIGFuZCAgY29tcG9uZW50LmNvZGUtY29tcG9uZW50LnZhbHVlIHBhaXJzIG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50IHRvIGNvcnJlY3RseSB1bmRlcnN0YW5kIHRoZSBtZWFuaW5nIG9mIHRoZSBvYnNlcnZhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBVc2VkIHdoZW4gb2JzZXJ2YXRpb24gaGFzIGEgc2V0IG9mIGNvbXBvbmVudCBvYnNlcnZhdGlvbnMuIEFuIG9ic2VydmF0aW9uIG1heSBoYXZlIGJvdGggYSB2YWx1ZSAoZS5nLiBhbiAgQXBnYXIgc2NvcmUpICBhbmQgY29tcG9uZW50IG9ic2VydmF0aW9ucyAodGhlIG9ic2VydmF0aW9ucyBmcm9tIHdoaWNoIHRoZSBBcGdhciBzY29yZSB3YXMgZGVyaXZlZCkuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZT86IChmaGlyLlF1YW50aXR5fGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuRmhpclN0cmluZ3xmaGlyLkZoaXJCb29sZWFufGZoaXIuRmhpckludGVnZXJ8Zmhpci5SYW5nZXxmaGlyLlJhdGlvfGZoaXIuU2FtcGxlZERhdGF8Zmhpci5GaGlyVGltZXxmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgT2JzZXJ2YXRpb24uY29tcG9uZW50LnZhbHVlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3ZhbHVlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogXCJOdWxsXCIgb3IgZXhjZXB0aW9uYWwgdmFsdWVzIGNhbiBiZSByZXByZXNlbnRlZCB0d28gd2F5cyBpbiBGSElSIE9ic2VydmF0aW9ucy4gIE9uZSB3YXkgaXMgdG8gc2ltcGx5IGluY2x1ZGUgdGhlbSBpbiB0aGUgdmFsdWUgc2V0IGFuZCByZXByZXNlbnQgdGhlIGV4Y2VwdGlvbnMgaW4gdGhlIHZhbHVlLiAgRm9yIGV4YW1wbGUsIG1lYXN1cmVtZW50IHZhbHVlcyBmb3IgYSBzZXJvbG9neSB0ZXN0IGNvdWxkIGJlICBcImRldGVjdGVkXCIsIFwibm90IGRldGVjdGVkXCIsIFwiaW5jb25jbHVzaXZlXCIsIG9yICBcInRlc3Qgbm90IGRvbmVcIi4gXHJcbiAgICogVGhlIGFsdGVybmF0ZSB3YXkgaXMgdG8gdXNlIHRoZSB2YWx1ZSBlbGVtZW50IGZvciBhY3R1YWwgb2JzZXJ2YXRpb25zIGFuZCB1c2UgdGhlIGV4cGxpY2l0IGRhdGFBYnNlbnRSZWFzb24gZWxlbWVudCB0byByZWNvcmQgZXhjZXB0aW9uYWwgdmFsdWVzLiAgRm9yIGV4YW1wbGUsIHRoZSBkYXRhQWJzZW50UmVhc29uIGNvZGUgXCJlcnJvclwiIGNvdWxkIGJlIHVzZWQgd2hlbiB0aGUgbWVhc3VyZW1lbnQgd2FzIG5vdCBjb21wbGV0ZWQuICBCZWNhdXNlIG9mIHRoZXNlIG9wdGlvbnMsIHVzZS1jYXNlIGFncmVlbWVudHMgYXJlIHJlcXVpcmVkIHRvIGludGVycHJldCBnZW5lcmFsIG9ic2VydmF0aW9ucyBmb3IgZXhjZXB0aW9uYWwgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRhQWJzZW50UmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhpc3RvcmljYWxseSB1c2VkIGZvciBsYWJvcmF0b3J5IHJlc3VsdHMgKGtub3duIGFzICdhYm5vcm1hbCBmbGFnJyApLCAgaXRzIHVzZSBleHRlbmRzIHRvIG90aGVyIHVzZSBjYXNlcyB3aGVyZSBjb2RlZCBpbnRlcnByZXRhdGlvbnMgIGFyZSByZWxldmFudC4gIE9mdGVuIHJlcG9ydGVkIGFzIG9uZSBvciBtb3JlIHNpbXBsZSBjb21wYWN0IGNvZGVzIHRoaXMgZWxlbWVudCBpcyBvZnRlbiBwbGFjZWQgYWRqYWNlbnQgdG8gdGhlIHJlc3VsdCB2YWx1ZSBpbiByZXBvcnRzIGFuZCBmbG93IHNoZWV0cyB0byBzaWduYWwgdGhlIG1lYW5pbmcvbm9ybWFsY3kgc3RhdHVzIG9mIHRoZSByZXN1bHQuXHJcbiAgICovXHJcbiAgcHVibGljIGludGVycHJldGF0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIE1vc3Qgb2JzZXJ2YXRpb25zIG9ubHkgaGF2ZSBvbmUgZ2VuZXJpYyByZWZlcmVuY2UgcmFuZ2UuIFN5c3RlbXMgTUFZIGNob29zZSB0byByZXN0cmljdCB0byBvbmx5IHN1cHBseWluZyB0aGUgcmVsZXZhbnQgcmVmZXJlbmNlIHJhbmdlIGJhc2VkIG9uIGtub3dsZWRnZSBhYm91dCB0aGUgcGF0aWVudCAoZS5nLiwgc3BlY2lmaWMgdG8gdGhlIHBhdGllbnQncyBhZ2UsIGdlbmRlciwgd2VpZ2h0IGFuZCBvdGhlciBmYWN0b3JzKSwgYnV0IHRoaXMgbWlnaHQgbm90IGJlIHBvc3NpYmxlIG9yIGFwcHJvcHJpYXRlLiBXaGVuZXZlciBtb3JlIHRoYW4gb25lIHJlZmVyZW5jZSByYW5nZSBpcyBzdXBwbGllZCwgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlbSBTSE9VTEQgYmUgcHJvdmlkZWQgaW4gdGhlIHJlZmVyZW5jZSByYW5nZSBhbmQvb3IgYWdlIHByb3BlcnRpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZVJhbmdlOiBmaGlyLk9ic2VydmF0aW9uUmVmZXJlbmNlUmFuZ2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBPYnNlcnZhdGlvbkNvbXBvbmVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE9ic2VydmF0aW9uQ29tcG9uZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gc291cmNlLnZhbHVlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlUXVhbnRpdHknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnZhbHVlUXVhbnRpdHkpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmFsdWVDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlU3RyaW5nJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmFsdWVTdHJpbmd9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUJvb2xlYW4nXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UudmFsdWVCb29sZWFufSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVJbnRlZ2VyJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLnZhbHVlSW50ZWdlcn0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlUmFuZ2UnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUmFuZ2Uoc291cmNlLnZhbHVlUmFuZ2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlUmF0aW8nXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUmF0aW8oc291cmNlLnZhbHVlUmF0aW8pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlU2FtcGxlZERhdGEnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuU2FtcGxlZERhdGEoc291cmNlLnZhbHVlU2FtcGxlZERhdGEpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlVGltZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyVGltZSh7dmFsdWU6IHNvdXJjZS52YWx1ZVRpbWV9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZURhdGVUaW1lJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS52YWx1ZURhdGVUaW1lfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVQZXJpb2QnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS52YWx1ZVBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGFBYnNlbnRSZWFzb24nXSkgeyB0aGlzLmRhdGFBYnNlbnRSZWFzb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmRhdGFBYnNlbnRSZWFzb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlcnByZXRhdGlvbiddKSB7IHRoaXMuaW50ZXJwcmV0YXRpb24gPSBzb3VyY2UuaW50ZXJwcmV0YXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnRlcnByZXRhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2VSYW5nZSddKSB7IHRoaXMucmVmZXJlbmNlUmFuZ2UgPSBzb3VyY2UucmVmZXJlbmNlUmFuZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5PYnNlcnZhdGlvblJlZmVyZW5jZVJhbmdlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVmZXJlbmNlUmFuZ2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdPYnNlcnZhdGlvbi5jb21wb25lbnQnIH1cclxuICAgIHRoaXMudlJlcVMoJ2NvZGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCd2YWx1ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2RhdGFBYnNlbnRSZWFzb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdpbnRlcnByZXRhdGlvbicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ3JlZmVyZW5jZVJhbmdlJyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE9ic2VydmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmF0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiT2JzZXJ2YXRpb25cInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBhc3NpZ25lZCB0byB0aGlzIG9ic2VydmF0aW9uLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcGxhbiwgcHJvcG9zYWwgb3Igb3JkZXIgdGhhdCBpcyBmdWxmaWxsZWQgaW4gd2hvbGUgb3IgaW4gcGFydCBieSB0aGlzIGV2ZW50LiAgRm9yIGV4YW1wbGUsIGEgTWVkaWNhdGlvblJlcXVlc3QgbWF5IHJlcXVpcmUgYSBwYXRpZW50IHRvIGhhdmUgbGFib3JhdG9yeSB0ZXN0IHBlcmZvcm1lZCBiZWZvcmUgIGl0IGlzIGRpc3BlbnNlZC5cclxuICAgKi9cclxuICBiYXNlZE9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRvIGxpbmsgYW4gT2JzZXJ2YXRpb24gdG8gYW4gRW5jb3VudGVyIHVzZSBgZW5jb3VudGVyYC4gIFNlZSB0aGUgIFtOb3Rlc10ob2JzZXJ2YXRpb24uaHRtbCNvYnNncm91cGluZykgYmVsb3cgZm9yIGd1aWRhbmNlIG9uIHJlZmVyZW5jaW5nIGFub3RoZXIgT2JzZXJ2YXRpb24uXHJcbiAgICovXHJcbiAgcGFydE9mPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8T2JzZXJ2YXRpb25TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogT2JzZXJ2YXRpb24uc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW4gYWRkaXRpb24gdG8gdGhlIHJlcXVpcmVkIGNhdGVnb3J5IHZhbHVlc2V0LCB0aGlzIGVsZW1lbnQgYWxsb3dzIHZhcmlvdXMgY2F0ZWdvcml6YXRpb24gc2NoZW1lcyBiYXNlZCBvbiB0aGUgb3duZXLigJlzIGRlZmluaXRpb24gb2YgdGhlIGNhdGVnb3J5IGFuZCBlZmZlY3RpdmVseSBtdWx0aXBsZSBjYXRlZ29yaWVzIGNhbiBiZSB1c2VkIGF0IG9uY2UuICBUaGUgbGV2ZWwgb2YgZ3JhbnVsYXJpdHkgaXMgZGVmaW5lZCBieSB0aGUgY2F0ZWdvcnkgY29uY2VwdHMgaW4gdGhlIHZhbHVlIHNldC5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiAqQWxsKiBjb2RlLXZhbHVlIGFuZCwgaWYgcHJlc2VudCwgY29tcG9uZW50LmNvZGUtY29tcG9uZW50LnZhbHVlIHBhaXJzIG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50IHRvIGNvcnJlY3RseSB1bmRlcnN0YW5kIHRoZSBtZWFuaW5nIG9mIHRoZSBvYnNlcnZhdGlvbi5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBPbmUgd291bGQgZXhwZWN0IHRoaXMgZWxlbWVudCB0byBiZSBhIGNhcmRpbmFsaXR5IG9mIDEuLjEuIFRoZSBvbmx5IGNpcmN1bXN0YW5jZSBpbiB3aGljaCB0aGUgc3ViamVjdCBjYW4gYmUgbWlzc2luZyBpcyB3aGVuIHRoZSBvYnNlcnZhdGlvbiBpcyBtYWRlIGJ5IGEgZGV2aWNlIHRoYXQgZG9lcyBub3Qga25vdyB0aGUgcGF0aWVudC4gSW4gdGhpcyBjYXNlLCB0aGUgb2JzZXJ2YXRpb24gU0hBTEwgYmUgbWF0Y2hlZCB0byBhIHBhdGllbnQgdGhyb3VnaCBzb21lIGNvbnRleHQvY2hhbm5lbCBtYXRjaGluZyB0ZWNobmlxdWUsIGFuZCBhdCB0aGlzIHBvaW50LCB0aGUgb2JzZXJ2YXRpb24gc2hvdWxkIGJlIHVwZGF0ZWQuXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCBhbiBvYnNlcnZhdGlvbiBpcyBtYWRlIGFib3V0IHRoZSBzdWJqZWN0IC0gYSBwYXRpZW50LCBvciBncm91cCBvZiBwYXRpZW50cywgbG9jYXRpb24sIG9yIGRldmljZSAtIGFuZCB0aGUgZGlzdGluY3Rpb24gYmV0d2VlbiB0aGUgc3ViamVjdCBhbmQgd2hhdCBpcyBkaXJlY3RseSBtZWFzdXJlZCBmb3IgYW4gb2JzZXJ2YXRpb24gaXMgc3BlY2lmaWVkIGluIHRoZSBvYnNlcnZhdGlvbiBjb2RlIGl0c2VsZiAoIGUuZy4sIFwiQmxvb2QgR2x1Y29zZVwiKSBhbmQgZG9lcyBub3QgbmVlZCB0byBiZSByZXByZXNlbnRlZCBzZXBhcmF0ZWx5IHVzaW5nIHRoaXMgZWxlbWVudC4gIFVzZSBgc3BlY2ltZW5gIGlmIGEgcmVmZXJlbmNlIHRvIGEgc3BlY2ltZW4gaXMgcmVxdWlyZWQuICBJZiBhIGNvZGUgaXMgcmVxdWlyZWQgaW5zdGVhZCBvZiBhIHJlc291cmNlIHVzZSBlaXRoZXIgIGBib2R5c2l0ZWAgZm9yIGJvZHlzaXRlcyBvciB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uIFtmb2N1c0NvZGVdKGV4dGVuc2lvbi1vYnNlcnZhdGlvbi1mb2N1c2NvZGUuaHRtbCkuXHJcbiAgICovXHJcbiAgZm9jdXM/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB3aWxsIHR5cGljYWxseSBiZSB0aGUgZW5jb3VudGVyIHRoZSBldmVudCBvY2N1cnJlZCB3aXRoaW4sIGJ1dCBzb21lIGV2ZW50cyBtYXkgYmUgaW5pdGlhdGVkIHByaW9yIHRvIG9yIGFmdGVyIHRoZSBvZmZpY2lhbCBjb21wbGV0aW9uIG9mIGFuIGVuY291bnRlciBidXQgc3RpbGwgYmUgdGllZCB0byB0aGUgY29udGV4dCBvZiB0aGUgZW5jb3VudGVyIChlLmcuIHByZS1hZG1pc3Npb24gbGFib3JhdG9yeSB0ZXN0cykuXHJcbiAgICovXHJcbiAgZW5jb3VudGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBdCBsZWFzdCBhIGRhdGUgc2hvdWxkIGJlIHByZXNlbnQgdW5sZXNzIHRoaXMgb2JzZXJ2YXRpb24gaXMgYSBoaXN0b3JpY2FsIHJlcG9ydC4gIEZvciByZWNvcmRpbmcgaW1wcmVjaXNlIG9yIFwiZnV6enlcIiB0aW1lcyAoRm9yIGV4YW1wbGUsIGEgYmxvb2QgZ2x1Y29zZSBtZWFzdXJlbWVudCB0YWtlbiBcImFmdGVyIGJyZWFrZmFzdFwiKSB1c2UgdGhlIFtUaW1pbmddKGRhdGF0eXBlcy5odG1sI3RpbWluZykgZGF0YXR5cGUgd2hpY2ggYWxsb3cgdGhlIG1lYXN1cmVtZW50IHRvIGJlIHRpZWQgdG8gcmVndWxhciBsaWZlIGV2ZW50cy5cclxuICAgKi9cclxuICBlZmZlY3RpdmU/OiBmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZHxmaGlyLlRpbWluZ3xmaGlyLkZoaXJJbnN0YW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBdCBsZWFzdCBhIGRhdGUgc2hvdWxkIGJlIHByZXNlbnQgdW5sZXNzIHRoaXMgb2JzZXJ2YXRpb24gaXMgYSBoaXN0b3JpY2FsIHJlcG9ydC4gIEZvciByZWNvcmRpbmcgaW1wcmVjaXNlIG9yIFwiZnV6enlcIiB0aW1lcyAoRm9yIGV4YW1wbGUsIGEgYmxvb2QgZ2x1Y29zZSBtZWFzdXJlbWVudCB0YWtlbiBcImFmdGVyIGJyZWFrZmFzdFwiKSB1c2UgdGhlIFtUaW1pbmddKGRhdGF0eXBlcy5odG1sI3RpbWluZykgZGF0YXR5cGUgd2hpY2ggYWxsb3cgdGhlIG1lYXN1cmVtZW50IHRvIGJlIHRpZWQgdG8gcmVndWxhciBsaWZlIGV2ZW50cy5cclxuICAgKi9cclxuICBlZmZlY3RpdmVEYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXQgbGVhc3QgYSBkYXRlIHNob3VsZCBiZSBwcmVzZW50IHVubGVzcyB0aGlzIG9ic2VydmF0aW9uIGlzIGEgaGlzdG9yaWNhbCByZXBvcnQuICBGb3IgcmVjb3JkaW5nIGltcHJlY2lzZSBvciBcImZ1enp5XCIgdGltZXMgKEZvciBleGFtcGxlLCBhIGJsb29kIGdsdWNvc2UgbWVhc3VyZW1lbnQgdGFrZW4gXCJhZnRlciBicmVha2Zhc3RcIikgdXNlIHRoZSBbVGltaW5nXShkYXRhdHlwZXMuaHRtbCN0aW1pbmcpIGRhdGF0eXBlIHdoaWNoIGFsbG93IHRoZSBtZWFzdXJlbWVudCB0byBiZSB0aWVkIHRvIHJlZ3VsYXIgbGlmZSBldmVudHMuXHJcbiAgICovXHJcbiAgZWZmZWN0aXZlUGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBdCBsZWFzdCBhIGRhdGUgc2hvdWxkIGJlIHByZXNlbnQgdW5sZXNzIHRoaXMgb2JzZXJ2YXRpb24gaXMgYSBoaXN0b3JpY2FsIHJlcG9ydC4gIEZvciByZWNvcmRpbmcgaW1wcmVjaXNlIG9yIFwiZnV6enlcIiB0aW1lcyAoRm9yIGV4YW1wbGUsIGEgYmxvb2QgZ2x1Y29zZSBtZWFzdXJlbWVudCB0YWtlbiBcImFmdGVyIGJyZWFrZmFzdFwiKSB1c2UgdGhlIFtUaW1pbmddKGRhdGF0eXBlcy5odG1sI3RpbWluZykgZGF0YXR5cGUgd2hpY2ggYWxsb3cgdGhlIG1lYXN1cmVtZW50IHRvIGJlIHRpZWQgdG8gcmVndWxhciBsaWZlIGV2ZW50cy5cclxuICAgKi9cclxuICBlZmZlY3RpdmVUaW1pbmc/OiBmaGlyLlRpbWluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEF0IGxlYXN0IGEgZGF0ZSBzaG91bGQgYmUgcHJlc2VudCB1bmxlc3MgdGhpcyBvYnNlcnZhdGlvbiBpcyBhIGhpc3RvcmljYWwgcmVwb3J0LiAgRm9yIHJlY29yZGluZyBpbXByZWNpc2Ugb3IgXCJmdXp6eVwiIHRpbWVzIChGb3IgZXhhbXBsZSwgYSBibG9vZCBnbHVjb3NlIG1lYXN1cmVtZW50IHRha2VuIFwiYWZ0ZXIgYnJlYWtmYXN0XCIpIHVzZSB0aGUgW1RpbWluZ10oZGF0YXR5cGVzLmh0bWwjdGltaW5nKSBkYXRhdHlwZSB3aGljaCBhbGxvdyB0aGUgbWVhc3VyZW1lbnQgdG8gYmUgdGllZCB0byByZWd1bGFyIGxpZmUgZXZlbnRzLlxyXG4gICAqL1xyXG4gIGVmZmVjdGl2ZUluc3RhbnQ/OiBmaGlyLkZoaXJJbnN0YW50fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIE9ic2VydmF0aW9ucyB0aGF0IGRvbuKAmXQgcmVxdWlyZSByZXZpZXcgYW5kIHZlcmlmaWNhdGlvbiwgaXQgbWF5IGJlIHRoZSBzYW1lIGFzIHRoZSBbYGxhc3RVcGRhdGVkYCBdKHJlc291cmNlLWRlZmluaXRpb25zLmh0bWwjTWV0YS5sYXN0VXBkYXRlZCkgdGltZSBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmLiAgRm9yIE9ic2VydmF0aW9ucyB0aGF0IGRvIHJlcXVpcmUgcmV2aWV3IGFuZCB2ZXJpZmljYXRpb24gZm9yIGNlcnRhaW4gdXBkYXRlcywgaXQgbWlnaHQgbm90IGJlIHRoZSBzYW1lIGFzIHRoZSBgbGFzdFVwZGF0ZWRgIHRpbWUgb2YgdGhlIHJlc291cmNlIGl0c2VsZiBkdWUgdG8gYSBub24tY2xpbmljYWxseSBzaWduaWZpY2FudCB1cGRhdGUgdGhhdCBkb2VzbuKAmXQgcmVxdWlyZSB0aGUgbmV3IHZlcnNpb24gdG8gYmUgcmV2aWV3ZWQgYW5kIHZlcmlmaWVkIGFnYWluLlxyXG4gICAqL1xyXG4gIGlzc3VlZD86IGZoaXIuRmhpckluc3RhbnR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogT2JzZXJ2YXRpb24uaXNzdWVkXHJcbiAgICovXHJcbiAgX2lzc3VlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hvIHdhcyByZXNwb25zaWJsZSBmb3IgYXNzZXJ0aW5nIHRoZSBvYnNlcnZlZCB2YWx1ZSBhcyBcInRydWVcIi5cclxuICAgKi9cclxuICBwZXJmb3JtZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmU7IDEpICBhIHNpbmdsZSB2YWx1ZSBoZXJlLCAyKSAgYm90aCBhIHZhbHVlIGFuZCBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMsICBvciAzKSAgb25seSBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gIEEgQ29kZWFibGVDb25jZXB0IHdpdGgganVzdCBhIHRleHQgd291bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGlmIHRoZSBmaWVsZCB3YXMgdXN1YWxseSBjb2RlZCwgb3IgaWYgdGhlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBPYnNlcnZhdGlvbi5jb2RlIGRlZmluZXMgYSBjb2RlZCB2YWx1ZS4gIEZvciBhZGRpdGlvbmFsIGd1aWRhbmNlLCBzZWUgdGhlIFtOb3RlcyBzZWN0aW9uXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICAgKi9cclxuICB2YWx1ZT86IGZoaXIuUXVhbnRpdHl8Zmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5GaGlyU3RyaW5nfGZoaXIuRmhpckJvb2xlYW58Zmhpci5GaGlySW50ZWdlcnxmaGlyLlJhbmdlfGZoaXIuUmF0aW98Zmhpci5TYW1wbGVkRGF0YXxmaGlyLkZoaXJUaW1lfGZoaXIuRmhpckRhdGVUaW1lfGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhdGlvbiBtYXkgaGF2ZTsgMSkgIGEgc2luZ2xlIHZhbHVlIGhlcmUsIDIpICBib3RoIGEgdmFsdWUgYW5kIGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcywgIG9yIDMpICBvbmx5IGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcy4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiAgQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmU7IDEpICBhIHNpbmdsZSB2YWx1ZSBoZXJlLCAyKSAgYm90aCBhIHZhbHVlIGFuZCBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMsICBvciAzKSAgb25seSBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gIEEgQ29kZWFibGVDb25jZXB0IHdpdGgganVzdCBhIHRleHQgd291bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGlmIHRoZSBmaWVsZCB3YXMgdXN1YWxseSBjb2RlZCwgb3IgaWYgdGhlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBPYnNlcnZhdGlvbi5jb2RlIGRlZmluZXMgYSBjb2RlZCB2YWx1ZS4gIEZvciBhZGRpdGlvbmFsIGd1aWRhbmNlLCBzZWUgdGhlIFtOb3RlcyBzZWN0aW9uXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICAgKi9cclxuICB2YWx1ZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmU7IDEpICBhIHNpbmdsZSB2YWx1ZSBoZXJlLCAyKSAgYm90aCBhIHZhbHVlIGFuZCBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMsICBvciAzKSAgb25seSBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gIEEgQ29kZWFibGVDb25jZXB0IHdpdGgganVzdCBhIHRleHQgd291bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGlmIHRoZSBmaWVsZCB3YXMgdXN1YWxseSBjb2RlZCwgb3IgaWYgdGhlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBPYnNlcnZhdGlvbi5jb2RlIGRlZmluZXMgYSBjb2RlZCB2YWx1ZS4gIEZvciBhZGRpdGlvbmFsIGd1aWRhbmNlLCBzZWUgdGhlIFtOb3RlcyBzZWN0aW9uXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICAgKi9cclxuICB2YWx1ZVN0cmluZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIG1heSBoYXZlOyAxKSAgYSBzaW5nbGUgdmFsdWUgaGVyZSwgMikgIGJvdGggYSB2YWx1ZSBhbmQgYSBzZXQgb2YgcmVsYXRlZCBvciBjb21wb25lbnQgdmFsdWVzLCAgb3IgMykgIG9ubHkgYSBzZXQgb2YgcmVsYXRlZCBvciBjb21wb25lbnQgdmFsdWVzLiBJZiBhIHZhbHVlIGlzIHByZXNlbnQsIHRoZSBkYXRhdHlwZSBmb3IgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBkZXRlcm1pbmVkIGJ5IE9ic2VydmF0aW9uLmNvZGUuICBBIENvZGVhYmxlQ29uY2VwdCB3aXRoIGp1c3QgYSB0ZXh0IHdvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBhIHN0cmluZyBpZiB0aGUgZmllbGQgd2FzIHVzdWFsbHkgY29kZWQsIG9yIGlmIHRoZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgT2JzZXJ2YXRpb24uY29kZSBkZWZpbmVzIGEgY29kZWQgdmFsdWUuICBGb3IgYWRkaXRpb25hbCBndWlkYW5jZSwgc2VlIHRoZSBbTm90ZXMgc2VjdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgdmFsdWVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhdGlvbiBtYXkgaGF2ZTsgMSkgIGEgc2luZ2xlIHZhbHVlIGhlcmUsIDIpICBib3RoIGEgdmFsdWUgYW5kIGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcywgIG9yIDMpICBvbmx5IGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcy4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiAgQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlSW50ZWdlcj86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhdGlvbiBtYXkgaGF2ZTsgMSkgIGEgc2luZ2xlIHZhbHVlIGhlcmUsIDIpICBib3RoIGEgdmFsdWUgYW5kIGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcywgIG9yIDMpICBvbmx5IGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcy4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiAgQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmU7IDEpICBhIHNpbmdsZSB2YWx1ZSBoZXJlLCAyKSAgYm90aCBhIHZhbHVlIGFuZCBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMsICBvciAzKSAgb25seSBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gIEEgQ29kZWFibGVDb25jZXB0IHdpdGgganVzdCBhIHRleHQgd291bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGlmIHRoZSBmaWVsZCB3YXMgdXN1YWxseSBjb2RlZCwgb3IgaWYgdGhlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBPYnNlcnZhdGlvbi5jb2RlIGRlZmluZXMgYSBjb2RlZCB2YWx1ZS4gIEZvciBhZGRpdGlvbmFsIGd1aWRhbmNlLCBzZWUgdGhlIFtOb3RlcyBzZWN0aW9uXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICAgKi9cclxuICB2YWx1ZVJhdGlvPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIG1heSBoYXZlOyAxKSAgYSBzaW5nbGUgdmFsdWUgaGVyZSwgMikgIGJvdGggYSB2YWx1ZSBhbmQgYSBzZXQgb2YgcmVsYXRlZCBvciBjb21wb25lbnQgdmFsdWVzLCAgb3IgMykgIG9ubHkgYSBzZXQgb2YgcmVsYXRlZCBvciBjb21wb25lbnQgdmFsdWVzLiBJZiBhIHZhbHVlIGlzIHByZXNlbnQsIHRoZSBkYXRhdHlwZSBmb3IgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBkZXRlcm1pbmVkIGJ5IE9ic2VydmF0aW9uLmNvZGUuICBBIENvZGVhYmxlQ29uY2VwdCB3aXRoIGp1c3QgYSB0ZXh0IHdvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBhIHN0cmluZyBpZiB0aGUgZmllbGQgd2FzIHVzdWFsbHkgY29kZWQsIG9yIGlmIHRoZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgT2JzZXJ2YXRpb24uY29kZSBkZWZpbmVzIGEgY29kZWQgdmFsdWUuICBGb3IgYWRkaXRpb25hbCBndWlkYW5jZSwgc2VlIHRoZSBbTm90ZXMgc2VjdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgdmFsdWVTYW1wbGVkRGF0YT86IGZoaXIuU2FtcGxlZERhdGFBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhdGlvbiBtYXkgaGF2ZTsgMSkgIGEgc2luZ2xlIHZhbHVlIGhlcmUsIDIpICBib3RoIGEgdmFsdWUgYW5kIGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcywgIG9yIDMpICBvbmx5IGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcy4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiAgQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlVGltZT86IGZoaXIuRmhpclRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhdGlvbiBtYXkgaGF2ZTsgMSkgIGEgc2luZ2xlIHZhbHVlIGhlcmUsIDIpICBib3RoIGEgdmFsdWUgYW5kIGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcywgIG9yIDMpICBvbmx5IGEgc2V0IG9mIHJlbGF0ZWQgb3IgY29tcG9uZW50IHZhbHVlcy4gSWYgYSB2YWx1ZSBpcyBwcmVzZW50LCB0aGUgZGF0YXR5cGUgZm9yIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZGV0ZXJtaW5lZCBieSBPYnNlcnZhdGlvbi5jb2RlLiAgQSBDb2RlYWJsZUNvbmNlcHQgd2l0aCBqdXN0IGEgdGV4dCB3b3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgYSBzdHJpbmcgaWYgdGhlIGZpZWxkIHdhcyB1c3VhbGx5IGNvZGVkLCBvciBpZiB0aGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIE9ic2VydmF0aW9uLmNvZGUgZGVmaW5lcyBhIGNvZGVkIHZhbHVlLiAgRm9yIGFkZGl0aW9uYWwgZ3VpZGFuY2UsIHNlZSB0aGUgW05vdGVzIHNlY3Rpb25dKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHZhbHVlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIG1heSBoYXZlOyAxKSAgYSBzaW5nbGUgdmFsdWUgaGVyZSwgMikgIGJvdGggYSB2YWx1ZSBhbmQgYSBzZXQgb2YgcmVsYXRlZCBvciBjb21wb25lbnQgdmFsdWVzLCAgb3IgMykgIG9ubHkgYSBzZXQgb2YgcmVsYXRlZCBvciBjb21wb25lbnQgdmFsdWVzLiBJZiBhIHZhbHVlIGlzIHByZXNlbnQsIHRoZSBkYXRhdHlwZSBmb3IgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBkZXRlcm1pbmVkIGJ5IE9ic2VydmF0aW9uLmNvZGUuICBBIENvZGVhYmxlQ29uY2VwdCB3aXRoIGp1c3QgYSB0ZXh0IHdvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBhIHN0cmluZyBpZiB0aGUgZmllbGQgd2FzIHVzdWFsbHkgY29kZWQsIG9yIGlmIHRoZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGUgT2JzZXJ2YXRpb24uY29kZSBkZWZpbmVzIGEgY29kZWQgdmFsdWUuICBGb3IgYWRkaXRpb25hbCBndWlkYW5jZSwgc2VlIHRoZSBbTm90ZXMgc2VjdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgdmFsdWVQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE51bGwgb3IgZXhjZXB0aW9uYWwgdmFsdWVzIGNhbiBiZSByZXByZXNlbnRlZCB0d28gd2F5cyBpbiBGSElSIE9ic2VydmF0aW9ucy4gIE9uZSB3YXkgaXMgdG8gc2ltcGx5IGluY2x1ZGUgdGhlbSBpbiB0aGUgdmFsdWUgc2V0IGFuZCByZXByZXNlbnQgdGhlIGV4Y2VwdGlvbnMgaW4gdGhlIHZhbHVlLiAgRm9yIGV4YW1wbGUsIG1lYXN1cmVtZW50IHZhbHVlcyBmb3IgYSBzZXJvbG9neSB0ZXN0IGNvdWxkIGJlICBcImRldGVjdGVkXCIsIFwibm90IGRldGVjdGVkXCIsIFwiaW5jb25jbHVzaXZlXCIsIG9yICBcInNwZWNpbWVuIHVuc2F0aXNmYWN0b3J5XCIuICAgXHJcbiAgICogVGhlIGFsdGVybmF0ZSB3YXkgaXMgdG8gdXNlIHRoZSB2YWx1ZSBlbGVtZW50IGZvciBhY3R1YWwgb2JzZXJ2YXRpb25zIGFuZCB1c2UgdGhlIGV4cGxpY2l0IGRhdGFBYnNlbnRSZWFzb24gZWxlbWVudCB0byByZWNvcmQgZXhjZXB0aW9uYWwgdmFsdWVzLiAgRm9yIGV4YW1wbGUsIHRoZSBkYXRhQWJzZW50UmVhc29uIGNvZGUgXCJlcnJvclwiIGNvdWxkIGJlIHVzZWQgd2hlbiB0aGUgbWVhc3VyZW1lbnQgd2FzIG5vdCBjb21wbGV0ZWQuIE5vdGUgdGhhdCBhbiBvYnNlcnZhdGlvbiBtYXkgb25seSBiZSByZXBvcnRlZCBpZiB0aGVyZSBhcmUgdmFsdWVzIHRvIHJlcG9ydC4gRm9yIGV4YW1wbGUgZGlmZmVyZW50aWFsIGNlbGwgY291bnRzIHZhbHVlcyBtYXkgYmUgcmVwb3J0ZWQgb25seSB3aGVuICZndDsgMC4gIEJlY2F1c2Ugb2YgdGhlc2Ugb3B0aW9ucywgdXNlLWNhc2UgYWdyZWVtZW50cyBhcmUgcmVxdWlyZWQgdG8gaW50ZXJwcmV0IGdlbmVyYWwgb2JzZXJ2YXRpb25zIGZvciBudWxsIG9yIGV4Y2VwdGlvbmFsIHZhbHVlcy5cclxuICAgKi9cclxuICBkYXRhQWJzZW50UmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIaXN0b3JpY2FsbHkgdXNlZCBmb3IgbGFib3JhdG9yeSByZXN1bHRzIChrbm93biBhcyAnYWJub3JtYWwgZmxhZycgKSwgIGl0cyB1c2UgZXh0ZW5kcyB0byBvdGhlciB1c2UgY2FzZXMgd2hlcmUgY29kZWQgaW50ZXJwcmV0YXRpb25zICBhcmUgcmVsZXZhbnQuICBPZnRlbiByZXBvcnRlZCBhcyBvbmUgb3IgbW9yZSBzaW1wbGUgY29tcGFjdCBjb2RlcyB0aGlzIGVsZW1lbnQgaXMgb2Z0ZW4gcGxhY2VkIGFkamFjZW50IHRvIHRoZSByZXN1bHQgdmFsdWUgaW4gcmVwb3J0cyBhbmQgZmxvdyBzaGVldHMgdG8gc2lnbmFsIHRoZSBtZWFuaW5nL25vcm1hbGN5IHN0YXR1cyBvZiB0aGUgcmVzdWx0LlxyXG4gICAqL1xyXG4gIGludGVycHJldGF0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1heSBpbmNsdWRlIGdlbmVyYWwgc3RhdGVtZW50cyBhYm91dCB0aGUgb2JzZXJ2YXRpb24sIG9yIHN0YXRlbWVudHMgYWJvdXQgc2lnbmlmaWNhbnQsIHVuZXhwZWN0ZWQgb3IgdW5yZWxpYWJsZSByZXN1bHRzIHZhbHVlcywgb3IgaW5mb3JtYXRpb24gYWJvdXQgaXRzIHNvdXJjZSB3aGVuIHJlbGV2YW50IHRvIGl0cyBpbnRlcnByZXRhdGlvbi5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPbmx5IHVzZWQgaWYgbm90IGltcGxpY2l0IGluIGNvZGUgZm91bmQgaW4gT2JzZXJ2YXRpb24uY29kZS4gIEluIG1hbnkgc3lzdGVtcywgdGhpcyBtYXkgYmUgcmVwcmVzZW50ZWQgYXMgYSByZWxhdGVkIG9ic2VydmF0aW9uIGluc3RlYWQgb2YgYW4gaW5saW5lIGNvbXBvbmVudC4gICBcclxuICAgKiBJZiB0aGUgdXNlIGNhc2UgcmVxdWlyZXMgQm9keVNpdGUgdG8gYmUgaGFuZGxlZCBhcyBhIHNlcGFyYXRlIHJlc291cmNlIChlLmcuIHRvIGlkZW50aWZ5IGFuZCB0cmFjayBzZXBhcmF0ZWx5KSB0aGVuIHVzZSB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uWyBib2R5U2l0ZV0oZXh0ZW5zaW9uLWJvZHlzaXRlLmh0bWwpLlxyXG4gICAqL1xyXG4gIGJvZHlTaXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPbmx5IHVzZWQgaWYgbm90IGltcGxpY2l0IGluIGNvZGUgZm9yIE9ic2VydmF0aW9uLmNvZGUuXHJcbiAgICovXHJcbiAgbWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaG91bGQgb25seSBiZSB1c2VkIGlmIG5vdCBpbXBsaWNpdCBpbiBjb2RlIGZvdW5kIGluIGBPYnNlcnZhdGlvbi5jb2RlYC4gIE9ic2VydmF0aW9ucyBhcmUgbm90IG1hZGUgb24gc3BlY2ltZW5zIHRoZW1zZWx2ZXM7IHRoZXkgYXJlIG1hZGUgb24gYSBzdWJqZWN0LCBidXQgaW4gbWFueSBjYXNlcyBieSB0aGUgbWVhbnMgb2YgYSBzcGVjaW1lbi4gTm90ZSB0aGF0IGFsdGhvdWdoIHNwZWNpbWVucyBhcmUgb2Z0ZW4gaW52b2x2ZWQsIHRoZXkgYXJlIG5vdCBhbHdheXMgdHJhY2tlZCBhbmQgcmVwb3J0ZWQgZXhwbGljaXRseS4gQWxzbyBub3RlIHRoYXQgb2JzZXJ2YXRpb24gcmVzb3VyY2VzIG1heSBiZSB1c2VkIGluIGNvbnRleHRzIHRoYXQgdHJhY2sgdGhlIHNwZWNpbWVuIGV4cGxpY2l0bHkgKGUuZy4gRGlhZ25vc3RpYyBSZXBvcnQpLlxyXG4gICAqL1xyXG4gIHNwZWNpbWVuPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgbWVhbnQgdG8gcmVwcmVzZW50IGEgZGV2aWNlIGludm9sdmVkIGluIHRoZSB0cmFuc21pc3Npb24gb2YgdGhlIHJlc3VsdCwgZS5nLiwgYSBnYXRld2F5LiAgU3VjaCBkZXZpY2VzIG1heSBiZSBkb2N1bWVudGVkIHVzaW5nIHRoZSBQcm92ZW5hbmNlIHJlc291cmNlIHdoZXJlIHJlbGV2YW50LlxyXG4gICAqL1xyXG4gIGRldmljZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTW9zdCBvYnNlcnZhdGlvbnMgb25seSBoYXZlIG9uZSBnZW5lcmljIHJlZmVyZW5jZSByYW5nZS4gU3lzdGVtcyBNQVkgY2hvb3NlIHRvIHJlc3RyaWN0IHRvIG9ubHkgc3VwcGx5aW5nIHRoZSByZWxldmFudCByZWZlcmVuY2UgcmFuZ2UgYmFzZWQgb24ga25vd2xlZGdlIGFib3V0IHRoZSBwYXRpZW50IChlLmcuLCBzcGVjaWZpYyB0byB0aGUgcGF0aWVudCdzIGFnZSwgZ2VuZGVyLCB3ZWlnaHQgYW5kIG90aGVyIGZhY3RvcnMpLCBidXQgdGhpcyBtaWdodCBub3QgYmUgcG9zc2libGUgb3IgYXBwcm9wcmlhdGUuIFdoZW5ldmVyIG1vcmUgdGhhbiBvbmUgcmVmZXJlbmNlIHJhbmdlIGlzIHN1cHBsaWVkLCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGVtIFNIT1VMRCBiZSBwcm92aWRlZCBpbiB0aGUgcmVmZXJlbmNlIHJhbmdlIGFuZC9vciBhZ2UgcHJvcGVydGllcy5cclxuICAgKi9cclxuICByZWZlcmVuY2VSYW5nZT86IGZoaXIuT2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB1c2luZyB0aGlzIGVsZW1lbnQsIGFuIG9ic2VydmF0aW9uIHdpbGwgdHlwaWNhbGx5IGhhdmUgZWl0aGVyIGEgdmFsdWUgb3IgYSBzZXQgb2YgcmVsYXRlZCByZXNvdXJjZXMsIGFsdGhvdWdoIGJvdGggbWF5IGJlIHByZXNlbnQgaW4gc29tZSBjYXNlcy4gIEZvciBhIGRpc2N1c3Npb24gb24gdGhlIHdheXMgT2JzZXJ2YXRpb25zIGNhbiBhc3NlbWJsZWQgaW4gZ3JvdXBzIHRvZ2V0aGVyLCBzZWUgW05vdGVzXShvYnNlcnZhdGlvbi5odG1sI29ic2dyb3VwaW5nKSBiZWxvdy4gIE5vdGUgdGhhdCBhIHN5c3RlbSBtYXkgY2FsY3VsYXRlIHJlc3VsdHMgZnJvbSBbUXVlc3Rpb25uYWlyZVJlc3BvbnNlXShxdWVzdGlvbm5haXJlcmVzcG9uc2UuaHRtbCkgIGludG8gYSBmaW5hbCBzY29yZSBhbmQgcmVwcmVzZW50IHRoZSBzY29yZSBhcyBhbiBPYnNlcnZhdGlvbi5cclxuICAgKi9cclxuICBoYXNNZW1iZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsIHRoZSByZWZlcmVuY2UgY2hvaWNlcyB0aGF0IGFyZSBsaXN0ZWQgaW4gdGhpcyBlbGVtZW50IGNhbiByZXByZXNlbnQgY2xpbmljYWwgb2JzZXJ2YXRpb25zIGFuZCBvdGhlciBtZWFzdXJlbWVudHMgdGhhdCBtYXkgYmUgdGhlIHNvdXJjZSBmb3IgYSBkZXJpdmVkIHZhbHVlLiAgVGhlIG1vc3QgY29tbW9uIHJlZmVyZW5jZSB3aWxsIGJlIGFub3RoZXIgT2JzZXJ2YXRpb24uICBGb3IgYSBkaXNjdXNzaW9uIG9uIHRoZSB3YXlzIE9ic2VydmF0aW9ucyBjYW4gYXNzZW1ibGVkIGluIGdyb3VwcyB0b2dldGhlciwgc2VlIFtOb3Rlc10ob2JzZXJ2YXRpb24uaHRtbCNvYnNncm91cGluZykgYmVsb3cuXHJcbiAgICovXHJcbiAgZGVyaXZlZEZyb20/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGEgZGlzY3Vzc2lvbiBvbiB0aGUgd2F5cyBPYnNlcnZhdGlvbnMgY2FuIGJlIGFzc2VtYmxlZCBpbiBncm91cHMgdG9nZXRoZXIgc2VlIFtOb3Rlc10ob2JzZXJ2YXRpb24uaHRtbCNub3RlcykgYmVsb3cuXHJcbiAgICovXHJcbiAgY29tcG9uZW50PzogZmhpci5PYnNlcnZhdGlvbkNvbXBvbmVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNZWFzdXJlbWVudHMgYW5kIHNpbXBsZSBhc3NlcnRpb25zIG1hZGUgYWJvdXQgYSBwYXRpZW50LCBkZXZpY2Ugb3Igb3RoZXIgc3ViamVjdC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhdGlvbiBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnT2JzZXJ2YXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiT2JzZXJ2YXRpb25cIjtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGFzc2lnbmVkIHRvIHRoaXMgb2JzZXJ2YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIEEgcGxhbiwgcHJvcG9zYWwgb3Igb3JkZXIgdGhhdCBpcyBmdWxmaWxsZWQgaW4gd2hvbGUgb3IgaW4gcGFydCBieSB0aGlzIGV2ZW50LiAgRm9yIGV4YW1wbGUsIGEgTWVkaWNhdGlvblJlcXVlc3QgbWF5IHJlcXVpcmUgYSBwYXRpZW50IHRvIGhhdmUgbGFib3JhdG9yeSB0ZXN0IHBlcmZvcm1lZCBiZWZvcmUgIGl0IGlzIGRpc3BlbnNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgYmFzZWRPbjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUbyBsaW5rIGFuIE9ic2VydmF0aW9uIHRvIGFuIEVuY291bnRlciB1c2UgYGVuY291bnRlcmAuICBTZWUgdGhlICBbTm90ZXNdKG9ic2VydmF0aW9uLmh0bWwjb2JzZ3JvdXBpbmcpIGJlbG93IGZvciBndWlkYW5jZSBvbiByZWZlcmVuY2luZyBhbm90aGVyIE9ic2VydmF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJ0T2Y6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8T2JzZXJ2YXRpb25TdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBJbiBhZGRpdGlvbiB0byB0aGUgcmVxdWlyZWQgY2F0ZWdvcnkgdmFsdWVzZXQsIHRoaXMgZWxlbWVudCBhbGxvd3MgdmFyaW91cyBjYXRlZ29yaXphdGlvbiBzY2hlbWVzIGJhc2VkIG9uIHRoZSBvd25lcuKAmXMgZGVmaW5pdGlvbiBvZiB0aGUgY2F0ZWdvcnkgYW5kIGVmZmVjdGl2ZWx5IG11bHRpcGxlIGNhdGVnb3JpZXMgY2FuIGJlIHVzZWQgYXQgb25jZS4gIFRoZSBsZXZlbCBvZiBncmFudWxhcml0eSBpcyBkZWZpbmVkIGJ5IHRoZSBjYXRlZ29yeSBjb25jZXB0cyBpbiB0aGUgdmFsdWUgc2V0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiAqQWxsKiBjb2RlLXZhbHVlIGFuZCwgaWYgcHJlc2VudCwgY29tcG9uZW50LmNvZGUtY29tcG9uZW50LnZhbHVlIHBhaXJzIG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50IHRvIGNvcnJlY3RseSB1bmRlcnN0YW5kIHRoZSBtZWFuaW5nIG9mIHRoZSBvYnNlcnZhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBPbmUgd291bGQgZXhwZWN0IHRoaXMgZWxlbWVudCB0byBiZSBhIGNhcmRpbmFsaXR5IG9mIDEuLjEuIFRoZSBvbmx5IGNpcmN1bXN0YW5jZSBpbiB3aGljaCB0aGUgc3ViamVjdCBjYW4gYmUgbWlzc2luZyBpcyB3aGVuIHRoZSBvYnNlcnZhdGlvbiBpcyBtYWRlIGJ5IGEgZGV2aWNlIHRoYXQgZG9lcyBub3Qga25vdyB0aGUgcGF0aWVudC4gSW4gdGhpcyBjYXNlLCB0aGUgb2JzZXJ2YXRpb24gU0hBTEwgYmUgbWF0Y2hlZCB0byBhIHBhdGllbnQgdGhyb3VnaCBzb21lIGNvbnRleHQvY2hhbm5lbCBtYXRjaGluZyB0ZWNobmlxdWUsIGFuZCBhdCB0aGlzIHBvaW50LCB0aGUgb2JzZXJ2YXRpb24gc2hvdWxkIGJlIHVwZGF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCBhbiBvYnNlcnZhdGlvbiBpcyBtYWRlIGFib3V0IHRoZSBzdWJqZWN0IC0gYSBwYXRpZW50LCBvciBncm91cCBvZiBwYXRpZW50cywgbG9jYXRpb24sIG9yIGRldmljZSAtIGFuZCB0aGUgZGlzdGluY3Rpb24gYmV0d2VlbiB0aGUgc3ViamVjdCBhbmQgd2hhdCBpcyBkaXJlY3RseSBtZWFzdXJlZCBmb3IgYW4gb2JzZXJ2YXRpb24gaXMgc3BlY2lmaWVkIGluIHRoZSBvYnNlcnZhdGlvbiBjb2RlIGl0c2VsZiAoIGUuZy4sIFwiQmxvb2QgR2x1Y29zZVwiKSBhbmQgZG9lcyBub3QgbmVlZCB0byBiZSByZXByZXNlbnRlZCBzZXBhcmF0ZWx5IHVzaW5nIHRoaXMgZWxlbWVudC4gIFVzZSBgc3BlY2ltZW5gIGlmIGEgcmVmZXJlbmNlIHRvIGEgc3BlY2ltZW4gaXMgcmVxdWlyZWQuICBJZiBhIGNvZGUgaXMgcmVxdWlyZWQgaW5zdGVhZCBvZiBhIHJlc291cmNlIHVzZSBlaXRoZXIgIGBib2R5c2l0ZWAgZm9yIGJvZHlzaXRlcyBvciB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uIFtmb2N1c0NvZGVdKGV4dGVuc2lvbi1vYnNlcnZhdGlvbi1mb2N1c2NvZGUuaHRtbCkuXHJcbiAgICovXHJcbiAgcHVibGljIGZvY3VzOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgd2lsbCB0eXBpY2FsbHkgYmUgdGhlIGVuY291bnRlciB0aGUgZXZlbnQgb2NjdXJyZWQgd2l0aGluLCBidXQgc29tZSBldmVudHMgbWF5IGJlIGluaXRpYXRlZCBwcmlvciB0byBvciBhZnRlciB0aGUgb2ZmaWNpYWwgY29tcGxldGlvbiBvZiBhbiBlbmNvdW50ZXIgYnV0IHN0aWxsIGJlIHRpZWQgdG8gdGhlIGNvbnRleHQgb2YgdGhlIGVuY291bnRlciAoZS5nLiBwcmUtYWRtaXNzaW9uIGxhYm9yYXRvcnkgdGVzdHMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXQgbGVhc3QgYSBkYXRlIHNob3VsZCBiZSBwcmVzZW50IHVubGVzcyB0aGlzIG9ic2VydmF0aW9uIGlzIGEgaGlzdG9yaWNhbCByZXBvcnQuICBGb3IgcmVjb3JkaW5nIGltcHJlY2lzZSBvciBcImZ1enp5XCIgdGltZXMgKEZvciBleGFtcGxlLCBhIGJsb29kIGdsdWNvc2UgbWVhc3VyZW1lbnQgdGFrZW4gXCJhZnRlciBicmVha2Zhc3RcIikgdXNlIHRoZSBbVGltaW5nXShkYXRhdHlwZXMuaHRtbCN0aW1pbmcpIGRhdGF0eXBlIHdoaWNoIGFsbG93IHRoZSBtZWFzdXJlbWVudCB0byBiZSB0aWVkIHRvIHJlZ3VsYXIgbGlmZSBldmVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIGVmZmVjdGl2ZT86IChmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZHxmaGlyLlRpbWluZ3xmaGlyLkZoaXJJbnN0YW50KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBPYnNlcnZhdGlvbi5lZmZlY3RpdmVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfZWZmZWN0aXZlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRm9yIE9ic2VydmF0aW9ucyB0aGF0IGRvbuKAmXQgcmVxdWlyZSByZXZpZXcgYW5kIHZlcmlmaWNhdGlvbiwgaXQgbWF5IGJlIHRoZSBzYW1lIGFzIHRoZSBbYGxhc3RVcGRhdGVkYCBdKHJlc291cmNlLWRlZmluaXRpb25zLmh0bWwjTWV0YS5sYXN0VXBkYXRlZCkgdGltZSBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmLiAgRm9yIE9ic2VydmF0aW9ucyB0aGF0IGRvIHJlcXVpcmUgcmV2aWV3IGFuZCB2ZXJpZmljYXRpb24gZm9yIGNlcnRhaW4gdXBkYXRlcywgaXQgbWlnaHQgbm90IGJlIHRoZSBzYW1lIGFzIHRoZSBgbGFzdFVwZGF0ZWRgIHRpbWUgb2YgdGhlIHJlc291cmNlIGl0c2VsZiBkdWUgdG8gYSBub24tY2xpbmljYWxseSBzaWduaWZpY2FudCB1cGRhdGUgdGhhdCBkb2VzbuKAmXQgcmVxdWlyZSB0aGUgbmV3IHZlcnNpb24gdG8gYmUgcmV2aWV3ZWQgYW5kIHZlcmlmaWVkIGFnYWluLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpc3N1ZWQ/OiBmaGlyLkZoaXJJbnN0YW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaG8gd2FzIHJlc3BvbnNpYmxlIGZvciBhc3NlcnRpbmcgdGhlIG9ic2VydmVkIHZhbHVlIGFzIFwidHJ1ZVwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJmb3JtZXI6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gbWF5IGhhdmU7IDEpICBhIHNpbmdsZSB2YWx1ZSBoZXJlLCAyKSAgYm90aCBhIHZhbHVlIGFuZCBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMsICBvciAzKSAgb25seSBhIHNldCBvZiByZWxhdGVkIG9yIGNvbXBvbmVudCB2YWx1ZXMuIElmIGEgdmFsdWUgaXMgcHJlc2VudCwgdGhlIGRhdGF0eXBlIGZvciB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGRldGVybWluZWQgYnkgT2JzZXJ2YXRpb24uY29kZS4gIEEgQ29kZWFibGVDb25jZXB0IHdpdGgganVzdCBhIHRleHQgd291bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGlmIHRoZSBmaWVsZCB3YXMgdXN1YWxseSBjb2RlZCwgb3IgaWYgdGhlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBPYnNlcnZhdGlvbi5jb2RlIGRlZmluZXMgYSBjb2RlZCB2YWx1ZS4gIEZvciBhZGRpdGlvbmFsIGd1aWRhbmNlLCBzZWUgdGhlIFtOb3RlcyBzZWN0aW9uXShvYnNlcnZhdGlvbi5odG1sI25vdGVzKSBiZWxvdy5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU/OiAoZmhpci5RdWFudGl0eXxmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJJbnRlZ2VyfGZoaXIuUmFuZ2V8Zmhpci5SYXRpb3xmaGlyLlNhbXBsZWREYXRhfGZoaXIuRmhpclRpbWV8Zmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2QpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE9ic2VydmF0aW9uLnZhbHVlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3ZhbHVlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogTnVsbCBvciBleGNlcHRpb25hbCB2YWx1ZXMgY2FuIGJlIHJlcHJlc2VudGVkIHR3byB3YXlzIGluIEZISVIgT2JzZXJ2YXRpb25zLiAgT25lIHdheSBpcyB0byBzaW1wbHkgaW5jbHVkZSB0aGVtIGluIHRoZSB2YWx1ZSBzZXQgYW5kIHJlcHJlc2VudCB0aGUgZXhjZXB0aW9ucyBpbiB0aGUgdmFsdWUuICBGb3IgZXhhbXBsZSwgbWVhc3VyZW1lbnQgdmFsdWVzIGZvciBhIHNlcm9sb2d5IHRlc3QgY291bGQgYmUgIFwiZGV0ZWN0ZWRcIiwgXCJub3QgZGV0ZWN0ZWRcIiwgXCJpbmNvbmNsdXNpdmVcIiwgb3IgIFwic3BlY2ltZW4gdW5zYXRpc2ZhY3RvcnlcIi4gICBcclxuICAgKiBUaGUgYWx0ZXJuYXRlIHdheSBpcyB0byB1c2UgdGhlIHZhbHVlIGVsZW1lbnQgZm9yIGFjdHVhbCBvYnNlcnZhdGlvbnMgYW5kIHVzZSB0aGUgZXhwbGljaXQgZGF0YUFic2VudFJlYXNvbiBlbGVtZW50IHRvIHJlY29yZCBleGNlcHRpb25hbCB2YWx1ZXMuICBGb3IgZXhhbXBsZSwgdGhlIGRhdGFBYnNlbnRSZWFzb24gY29kZSBcImVycm9yXCIgY291bGQgYmUgdXNlZCB3aGVuIHRoZSBtZWFzdXJlbWVudCB3YXMgbm90IGNvbXBsZXRlZC4gTm90ZSB0aGF0IGFuIG9ic2VydmF0aW9uIG1heSBvbmx5IGJlIHJlcG9ydGVkIGlmIHRoZXJlIGFyZSB2YWx1ZXMgdG8gcmVwb3J0LiBGb3IgZXhhbXBsZSBkaWZmZXJlbnRpYWwgY2VsbCBjb3VudHMgdmFsdWVzIG1heSBiZSByZXBvcnRlZCBvbmx5IHdoZW4gJmd0OyAwLiAgQmVjYXVzZSBvZiB0aGVzZSBvcHRpb25zLCB1c2UtY2FzZSBhZ3JlZW1lbnRzIGFyZSByZXF1aXJlZCB0byBpbnRlcnByZXQgZ2VuZXJhbCBvYnNlcnZhdGlvbnMgZm9yIG51bGwgb3IgZXhjZXB0aW9uYWwgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRhQWJzZW50UmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhpc3RvcmljYWxseSB1c2VkIGZvciBsYWJvcmF0b3J5IHJlc3VsdHMgKGtub3duIGFzICdhYm5vcm1hbCBmbGFnJyApLCAgaXRzIHVzZSBleHRlbmRzIHRvIG90aGVyIHVzZSBjYXNlcyB3aGVyZSBjb2RlZCBpbnRlcnByZXRhdGlvbnMgIGFyZSByZWxldmFudC4gIE9mdGVuIHJlcG9ydGVkIGFzIG9uZSBvciBtb3JlIHNpbXBsZSBjb21wYWN0IGNvZGVzIHRoaXMgZWxlbWVudCBpcyBvZnRlbiBwbGFjZWQgYWRqYWNlbnQgdG8gdGhlIHJlc3VsdCB2YWx1ZSBpbiByZXBvcnRzIGFuZCBmbG93IHNoZWV0cyB0byBzaWduYWwgdGhlIG1lYW5pbmcvbm9ybWFsY3kgc3RhdHVzIG9mIHRoZSByZXN1bHQuXHJcbiAgICovXHJcbiAgcHVibGljIGludGVycHJldGF0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIE1heSBpbmNsdWRlIGdlbmVyYWwgc3RhdGVtZW50cyBhYm91dCB0aGUgb2JzZXJ2YXRpb24sIG9yIHN0YXRlbWVudHMgYWJvdXQgc2lnbmlmaWNhbnQsIHVuZXhwZWN0ZWQgb3IgdW5yZWxpYWJsZSByZXN1bHRzIHZhbHVlcywgb3IgaW5mb3JtYXRpb24gYWJvdXQgaXRzIHNvdXJjZSB3aGVuIHJlbGV2YW50IHRvIGl0cyBpbnRlcnByZXRhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZTogZmhpci5Bbm5vdGF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogT25seSB1c2VkIGlmIG5vdCBpbXBsaWNpdCBpbiBjb2RlIGZvdW5kIGluIE9ic2VydmF0aW9uLmNvZGUuICBJbiBtYW55IHN5c3RlbXMsIHRoaXMgbWF5IGJlIHJlcHJlc2VudGVkIGFzIGEgcmVsYXRlZCBvYnNlcnZhdGlvbiBpbnN0ZWFkIG9mIGFuIGlubGluZSBjb21wb25lbnQuICAgXHJcbiAgICogSWYgdGhlIHVzZSBjYXNlIHJlcXVpcmVzIEJvZHlTaXRlIHRvIGJlIGhhbmRsZWQgYXMgYSBzZXBhcmF0ZSByZXNvdXJjZSAoZS5nLiB0byBpZGVudGlmeSBhbmQgdHJhY2sgc2VwYXJhdGVseSkgdGhlbiB1c2UgdGhlIHN0YW5kYXJkIGV4dGVuc2lvblsgYm9keVNpdGVdKGV4dGVuc2lvbi1ib2R5c2l0ZS5odG1sKS5cclxuICAgKi9cclxuICBwdWJsaWMgYm9keVNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT25seSB1c2VkIGlmIG5vdCBpbXBsaWNpdCBpbiBjb2RlIGZvciBPYnNlcnZhdGlvbi5jb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2hvdWxkIG9ubHkgYmUgdXNlZCBpZiBub3QgaW1wbGljaXQgaW4gY29kZSBmb3VuZCBpbiBgT2JzZXJ2YXRpb24uY29kZWAuICBPYnNlcnZhdGlvbnMgYXJlIG5vdCBtYWRlIG9uIHNwZWNpbWVucyB0aGVtc2VsdmVzOyB0aGV5IGFyZSBtYWRlIG9uIGEgc3ViamVjdCwgYnV0IGluIG1hbnkgY2FzZXMgYnkgdGhlIG1lYW5zIG9mIGEgc3BlY2ltZW4uIE5vdGUgdGhhdCBhbHRob3VnaCBzcGVjaW1lbnMgYXJlIG9mdGVuIGludm9sdmVkLCB0aGV5IGFyZSBub3QgYWx3YXlzIHRyYWNrZWQgYW5kIHJlcG9ydGVkIGV4cGxpY2l0bHkuIEFsc28gbm90ZSB0aGF0IG9ic2VydmF0aW9uIHJlc291cmNlcyBtYXkgYmUgdXNlZCBpbiBjb250ZXh0cyB0aGF0IHRyYWNrIHRoZSBzcGVjaW1lbiBleHBsaWNpdGx5IChlLmcuIERpYWdub3N0aWMgUmVwb3J0KS5cclxuICAgKi9cclxuICBwdWJsaWMgc3BlY2ltZW4/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgaXMgbm90IG1lYW50IHRvIHJlcHJlc2VudCBhIGRldmljZSBpbnZvbHZlZCBpbiB0aGUgdHJhbnNtaXNzaW9uIG9mIHRoZSByZXN1bHQsIGUuZy4sIGEgZ2F0ZXdheS4gIFN1Y2ggZGV2aWNlcyBtYXkgYmUgZG9jdW1lbnRlZCB1c2luZyB0aGUgUHJvdmVuYW5jZSByZXNvdXJjZSB3aGVyZSByZWxldmFudC5cclxuICAgKi9cclxuICBwdWJsaWMgZGV2aWNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1vc3Qgb2JzZXJ2YXRpb25zIG9ubHkgaGF2ZSBvbmUgZ2VuZXJpYyByZWZlcmVuY2UgcmFuZ2UuIFN5c3RlbXMgTUFZIGNob29zZSB0byByZXN0cmljdCB0byBvbmx5IHN1cHBseWluZyB0aGUgcmVsZXZhbnQgcmVmZXJlbmNlIHJhbmdlIGJhc2VkIG9uIGtub3dsZWRnZSBhYm91dCB0aGUgcGF0aWVudCAoZS5nLiwgc3BlY2lmaWMgdG8gdGhlIHBhdGllbnQncyBhZ2UsIGdlbmRlciwgd2VpZ2h0IGFuZCBvdGhlciBmYWN0b3JzKSwgYnV0IHRoaXMgbWlnaHQgbm90IGJlIHBvc3NpYmxlIG9yIGFwcHJvcHJpYXRlLiBXaGVuZXZlciBtb3JlIHRoYW4gb25lIHJlZmVyZW5jZSByYW5nZSBpcyBzdXBwbGllZCwgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlbSBTSE9VTEQgYmUgcHJvdmlkZWQgaW4gdGhlIHJlZmVyZW5jZSByYW5nZSBhbmQvb3IgYWdlIHByb3BlcnRpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZVJhbmdlOiBmaGlyLk9ic2VydmF0aW9uUmVmZXJlbmNlUmFuZ2VbXTtcclxuICAvKipcclxuICAgKiBXaGVuIHVzaW5nIHRoaXMgZWxlbWVudCwgYW4gb2JzZXJ2YXRpb24gd2lsbCB0eXBpY2FsbHkgaGF2ZSBlaXRoZXIgYSB2YWx1ZSBvciBhIHNldCBvZiByZWxhdGVkIHJlc291cmNlcywgYWx0aG91Z2ggYm90aCBtYXkgYmUgcHJlc2VudCBpbiBzb21lIGNhc2VzLiAgRm9yIGEgZGlzY3Vzc2lvbiBvbiB0aGUgd2F5cyBPYnNlcnZhdGlvbnMgY2FuIGFzc2VtYmxlZCBpbiBncm91cHMgdG9nZXRoZXIsIHNlZSBbTm90ZXNdKG9ic2VydmF0aW9uLmh0bWwjb2JzZ3JvdXBpbmcpIGJlbG93LiAgTm90ZSB0aGF0IGEgc3lzdGVtIG1heSBjYWxjdWxhdGUgcmVzdWx0cyBmcm9tIFtRdWVzdGlvbm5haXJlUmVzcG9uc2VdKHF1ZXN0aW9ubmFpcmVyZXNwb25zZS5odG1sKSAgaW50byBhIGZpbmFsIHNjb3JlIGFuZCByZXByZXNlbnQgdGhlIHNjb3JlIGFzIGFuIE9ic2VydmF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoYXNNZW1iZXI6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQWxsIHRoZSByZWZlcmVuY2UgY2hvaWNlcyB0aGF0IGFyZSBsaXN0ZWQgaW4gdGhpcyBlbGVtZW50IGNhbiByZXByZXNlbnQgY2xpbmljYWwgb2JzZXJ2YXRpb25zIGFuZCBvdGhlciBtZWFzdXJlbWVudHMgdGhhdCBtYXkgYmUgdGhlIHNvdXJjZSBmb3IgYSBkZXJpdmVkIHZhbHVlLiAgVGhlIG1vc3QgY29tbW9uIHJlZmVyZW5jZSB3aWxsIGJlIGFub3RoZXIgT2JzZXJ2YXRpb24uICBGb3IgYSBkaXNjdXNzaW9uIG9uIHRoZSB3YXlzIE9ic2VydmF0aW9ucyBjYW4gYXNzZW1ibGVkIGluIGdyb3VwcyB0b2dldGhlciwgc2VlIFtOb3Rlc10ob2JzZXJ2YXRpb24uaHRtbCNvYnNncm91cGluZykgYmVsb3cuXHJcbiAgICovXHJcbiAgcHVibGljIGRlcml2ZWRGcm9tOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEZvciBhIGRpc2N1c3Npb24gb24gdGhlIHdheXMgT2JzZXJ2YXRpb25zIGNhbiBiZSBhc3NlbWJsZWQgaW4gZ3JvdXBzIHRvZ2V0aGVyIHNlZSBbTm90ZXNdKG9ic2VydmF0aW9uLmh0bWwjbm90ZXMpIGJlbG93LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21wb25lbnQ6IGZoaXIuT2JzZXJ2YXRpb25Db21wb25lbnRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBPYnNlcnZhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE9ic2VydmF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ09ic2VydmF0aW9uJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Jhc2VkT24nXSkgeyB0aGlzLmJhc2VkT24gPSBzb3VyY2UuYmFzZWRPbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmJhc2VkT24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFydE9mJ10pIHsgdGhpcy5wYXJ0T2YgPSBzb3VyY2UucGFydE9mLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFydE9mID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8T2JzZXJ2YXRpb25TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8T2JzZXJ2YXRpb25TdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZvY3VzJ10pIHsgdGhpcy5mb2N1cyA9IHNvdXJjZS5mb2N1cy5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZvY3VzID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydlZmZlY3RpdmUnXSkgeyB0aGlzLmVmZmVjdGl2ZSA9IHNvdXJjZS5lZmZlY3RpdmU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZWZmZWN0aXZlRGF0ZVRpbWUnXSkgeyB0aGlzLmVmZmVjdGl2ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5lZmZlY3RpdmVEYXRlVGltZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZVBlcmlvZCddKSB7IHRoaXMuZWZmZWN0aXZlID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5lZmZlY3RpdmVQZXJpb2QpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZVRpbWluZyddKSB7IHRoaXMuZWZmZWN0aXZlID0gbmV3IGZoaXIuVGltaW5nKHNvdXJjZS5lZmZlY3RpdmVUaW1pbmcpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZUluc3RhbnQnXSkgeyB0aGlzLmVmZmVjdGl2ZSA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHt2YWx1ZTogc291cmNlLmVmZmVjdGl2ZUluc3RhbnR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaXNzdWVkJ10pIHsgdGhpcy5pc3N1ZWQgPSBuZXcgZmhpci5GaGlySW5zdGFudCh7dmFsdWU6IHNvdXJjZS5pc3N1ZWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2lzc3VlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmlzc3VlZCkgeyB0aGlzLmlzc3VlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pc3N1ZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5pc3N1ZWQgPSBuZXcgZmhpci5GaGlySW5zdGFudChzb3VyY2UuX2lzc3VlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckluc3RhbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmZvcm1lciddKSB7IHRoaXMucGVyZm9ybWVyID0gc291cmNlLnBlcmZvcm1lci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcmZvcm1lciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBzb3VyY2UudmFsdWU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVRdWFudGl0eSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UudmFsdWVRdWFudGl0eSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS52YWx1ZUNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVTdHJpbmcnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52YWx1ZVN0cmluZ30pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQm9vbGVhbiddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS52YWx1ZUJvb2xlYW59KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUludGVnZXInXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UudmFsdWVJbnRlZ2VyfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVSYW5nZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UudmFsdWVSYW5nZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVSYXRpbyddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5SYXRpbyhzb3VyY2UudmFsdWVSYXRpbyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVTYW1wbGVkRGF0YSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5TYW1wbGVkRGF0YShzb3VyY2UudmFsdWVTYW1wbGVkRGF0YSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVUaW1lJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJUaW1lKHt2YWx1ZTogc291cmNlLnZhbHVlVGltZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlRGF0ZVRpbWUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnZhbHVlRGF0ZVRpbWV9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVBlcmlvZCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnZhbHVlUGVyaW9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0YUFic2VudFJlYXNvbiddKSB7IHRoaXMuZGF0YUFic2VudFJlYXNvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZGF0YUFic2VudFJlYXNvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVycHJldGF0aW9uJ10pIHsgdGhpcy5pbnRlcnByZXRhdGlvbiA9IHNvdXJjZS5pbnRlcnByZXRhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmludGVycHJldGF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2JvZHlTaXRlJ10pIHsgdGhpcy5ib2R5U2l0ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYm9keVNpdGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydtZXRob2QnXSkgeyB0aGlzLm1ldGhvZCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubWV0aG9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3BlY2ltZW4nXSkgeyB0aGlzLnNwZWNpbWVuID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zcGVjaW1lbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RldmljZSddKSB7IHRoaXMuZGV2aWNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5kZXZpY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2VSYW5nZSddKSB7IHRoaXMucmVmZXJlbmNlUmFuZ2UgPSBzb3VyY2UucmVmZXJlbmNlUmFuZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5PYnNlcnZhdGlvblJlZmVyZW5jZVJhbmdlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVmZXJlbmNlUmFuZ2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaGFzTWVtYmVyJ10pIHsgdGhpcy5oYXNNZW1iZXIgPSBzb3VyY2UuaGFzTWVtYmVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaGFzTWVtYmVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlcml2ZWRGcm9tJ10pIHsgdGhpcy5kZXJpdmVkRnJvbSA9IHNvdXJjZS5kZXJpdmVkRnJvbS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRlcml2ZWRGcm9tID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbXBvbmVudCddKSB7IHRoaXMuY29tcG9uZW50ID0gc291cmNlLmNvbXBvbmVudC5tYXAoKHgpID0+IG5ldyBmaGlyLk9ic2VydmF0aW9uQ29tcG9uZW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tcG9uZW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnT2JzZXJ2YXRpb24nIH1cclxuICAgIHRoaXMudlJlcVMoJ3Jlc291cmNlVHlwZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2lkZW50aWZpZXInLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdiYXNlZE9uJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgncGFydE9mJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52UmVxU1YoJ3N0YXR1cycsZXhwcmVzc2lvbiwnT2JzZXJ2YXRpb25TdGF0dXMnLE9ic2VydmF0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9wdEEoJ2NhdGVnb3J5JyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52UmVxUygnY29kZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3N1YmplY3QnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdmb2N1cycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2VuY291bnRlcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2VmZmVjdGl2ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2lzc3VlZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ3BlcmZvcm1lcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3ZhbHVlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnZGF0YUFic2VudFJlYXNvbicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2ludGVycHJldGF0aW9uJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnbm90ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2JvZHlTaXRlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnbWV0aG9kJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0Uygnc3BlY2ltZW4nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdkZXZpY2UnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdyZWZlcmVuY2VSYW5nZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2hhc01lbWJlcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2Rlcml2ZWRGcm9tJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnY29tcG9uZW50JyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19