// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: MedicinalProductContraindication
import * as fhir from '../fhir.js';
/**
 * Information about the use of the medicinal product in relation to other therapies described as part of the indication.
 */
export class MedicinalProductContraindicationOtherTherapy extends fhir.BackboneElement {
    /**
     * Default constructor for MedicinalProductContraindicationOtherTherapy - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['therapyRelationshipType']) {
            this.therapyRelationshipType = new fhir.CodeableConcept(source.therapyRelationshipType);
        }
        else {
            this.therapyRelationshipType = null;
        }
        if (source['medication']) {
            this.medication = source.medication;
        }
        else if (source['medicationCodeableConcept']) {
            this.medication = new fhir.CodeableConcept(source.medicationCodeableConcept);
        }
        else if (source['medicationReference']) {
            this.medication = new fhir.Reference(source.medicationReference);
        }
        else {
            this.medication = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'MedicinalProductContraindication.otherTherapy';
        }
        if (!this['therapyRelationshipType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property therapyRelationshipType fhir: MedicinalProductContraindication.otherTherapy.therapyRelationshipType:CodeableConcept', expression: [expression] });
        }
        if (this["therapyRelationshipType"]) {
            issues.push(...this.therapyRelationshipType.doModelValidation(expression + '.therapyRelationshipType'));
        }
        if (!this['medication']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property medication fhir: MedicinalProductContraindication.otherTherapy.medication[x]:', expression: [expression] });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicinalProductContraindicationOtherTherapy._fts_dataType = 'MedicinalProductContraindicationOtherTherapy';
/**
 * Internal flag to properly serialize choice-type element MedicinalProductContraindication.otherTherapy.medication[x]
 */
MedicinalProductContraindicationOtherTherapy._fts_medicationIsChoice = true;
/**
 * The clinical particulars - indications, contraindications etc. of a medicinal product, including for regulatory purposes.
 */
export class MedicinalProductContraindication extends fhir.DomainResource {
    /**
     * Default constructor for MedicinalProductContraindication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MedicinalProductContraindication';
        if (source['subject']) {
            this.subject = source.subject.map((x) => new fhir.Reference(x));
        }
        else {
            this.subject = [];
        }
        if (source['disease']) {
            this.disease = new fhir.CodeableConcept(source.disease);
        }
        if (source['diseaseStatus']) {
            this.diseaseStatus = new fhir.CodeableConcept(source.diseaseStatus);
        }
        if (source['comorbidity']) {
            this.comorbidity = source.comorbidity.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.comorbidity = [];
        }
        if (source['therapeuticIndication']) {
            this.therapeuticIndication = source.therapeuticIndication.map((x) => new fhir.Reference(x));
        }
        else {
            this.therapeuticIndication = [];
        }
        if (source['otherTherapy']) {
            this.otherTherapy = source.otherTherapy.map((x) => new fhir.MedicinalProductContraindicationOtherTherapy(x));
        }
        else {
            this.otherTherapy = [];
        }
        if (source['population']) {
            this.population = source.population.map((x) => new fhir.Population(x));
        }
        else {
            this.population = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'MedicinalProductContraindication';
        }
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType fhir: MedicinalProductContraindication.resourceType:"MedicinalProductContraindication"', expression: [expression] });
        }
        if (this["subject"]) {
            this.subject.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.subject[${i}]`)); });
        }
        if (this["disease"]) {
            issues.push(...this.disease.doModelValidation(expression + '.disease'));
        }
        if (this["diseaseStatus"]) {
            issues.push(...this.diseaseStatus.doModelValidation(expression + '.diseaseStatus'));
        }
        if (this["comorbidity"]) {
            this.comorbidity.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.comorbidity[${i}]`)); });
        }
        if (this["therapeuticIndication"]) {
            this.therapeuticIndication.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.therapeuticIndication[${i}]`)); });
        }
        if (this["otherTherapy"]) {
            this.otherTherapy.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.otherTherapy[${i}]`)); });
        }
        if (this["population"]) {
            this.population.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.population[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicinalProductContraindication._fts_dataType = 'MedicinalProductContraindication';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb24uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL01lZGljaW5hbFByb2R1Y3RDb250cmFpbmRpY2F0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLGtEQUFrRDtBQUVsRCxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQXdCbkM7O0dBRUc7QUFDSCxNQUFNLE9BQU8sNENBQTZDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQnBGOztPQUVHO0lBQ0gsWUFBWSxTQUFtRSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN6SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLHlCQUF5QixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQUU7YUFDOUg7WUFBRSxJQUFJLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDN0MsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7U0FBRTthQUM3RCxJQUFJLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLHlCQUF5QixDQUFDLENBQUM7U0FBRTthQUMxSCxJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUM7U0FBRTthQUN4RztZQUFFLElB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LENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzVJLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDdEksT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF4RUQ7O0dBRUc7QUFDNkIsOENBQWEsR0FBVSxrQ0FBa0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25cclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW5kaWNhdGlvbiBvciBjb250cmFpbmRpY2F0aW9uIGFuZCBhbm90aGVyIHRoZXJhcHkuXHJcbiAgICovXHJcbiAgdGhlcmFweVJlbGF0aW9uc2hpcFR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byBhIHNwZWNpZmljIG1lZGljYXRpb24gKGFjdGl2ZSBzdWJzdGFuY2UsIG1lZGljaW5hbCBwcm9kdWN0IG9yIGNsYXNzIG9mIHByb2R1Y3RzKSBhcyBwYXJ0IG9mIGFuIGluZGljYXRpb24gb3IgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBtZWRpY2F0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byBhIHNwZWNpZmljIG1lZGljYXRpb24gKGFjdGl2ZSBzdWJzdGFuY2UsIG1lZGljaW5hbCBwcm9kdWN0IG9yIGNsYXNzIG9mIHByb2R1Y3RzKSBhcyBwYXJ0IG9mIGFuIGluZGljYXRpb24gb3IgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBtZWRpY2F0aW9uQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gYSBzcGVjaWZpYyBtZWRpY2F0aW9uIChhY3RpdmUgc3Vic3RhbmNlLCBtZWRpY2luYWwgcHJvZHVjdCBvciBjbGFzcyBvZiBwcm9kdWN0cykgYXMgcGFydCBvZiBhbiBpbmRpY2F0aW9uIG9yIGNvbnRyYWluZGljYXRpb24uXHJcbiAgICovXHJcbiAgbWVkaWNhdGlvblJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBpbiByZWxhdGlvbiB0byBvdGhlciB0aGVyYXBpZXMgZGVzY3JpYmVkIGFzIHBhcnQgb2YgdGhlIGluZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2luYWxQcm9kdWN0Q29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluZGljYXRpb24gb3IgY29udHJhaW5kaWNhdGlvbiBhbmQgYW5vdGhlciB0aGVyYXB5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aGVyYXB5UmVsYXRpb25zaGlwVHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gYSBzcGVjaWZpYyBtZWRpY2F0aW9uIChhY3RpdmUgc3Vic3RhbmNlLCBtZWRpY2luYWwgcHJvZHVjdCBvciBjbGFzcyBvZiBwcm9kdWN0cykgYXMgcGFydCBvZiBhbiBpbmRpY2F0aW9uIG9yIGNvbnRyYWluZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG1lZGljYXRpb246IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljaW5hbFByb2R1Y3RDb250cmFpbmRpY2F0aW9uLm90aGVyVGhlcmFweS5tZWRpY2F0aW9uW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX21lZGljYXRpb25Jc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2luYWxQcm9kdWN0Q29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljaW5hbFByb2R1Y3RDb250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3RoZXJhcHlSZWxhdGlvbnNoaXBUeXBlJ10pIHsgdGhpcy50aGVyYXB5UmVsYXRpb25zaGlwVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudGhlcmFweVJlbGF0aW9uc2hpcFR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50aGVyYXB5UmVsYXRpb25zaGlwVHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ21lZGljYXRpb24nXSkgeyB0aGlzLm1lZGljYXRpb24gPSBzb3VyY2UubWVkaWNhdGlvbjsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydtZWRpY2F0aW9uQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5tZWRpY2F0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZWRpY2F0aW9uQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydtZWRpY2F0aW9uUmVmZXJlbmNlJ10pIHsgdGhpcy5tZWRpY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5tZWRpY2F0aW9uUmVmZXJlbmNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubWVkaWNhdGlvbiA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb24ub3RoZXJUaGVyYXB5JyB9XHJcbiAgICBpZiAoIXRoaXNbJ3RoZXJhcHlSZWxhdGlvbnNoaXBUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHRoZXJhcHlSZWxhdGlvbnNoaXBUeXBlIGZoaXI6IE1lZGljaW5hbFByb2R1Y3RDb250cmFpbmRpY2F0aW9uLm90aGVyVGhlcmFweS50aGVyYXB5UmVsYXRpb25zaGlwVHlwZTpDb2RlYWJsZUNvbmNlcHQnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInRoZXJhcHlSZWxhdGlvbnNoaXBUeXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudGhlcmFweVJlbGF0aW9uc2hpcFR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnRoZXJhcHlSZWxhdGlvbnNoaXBUeXBlJykpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ21lZGljYXRpb24nXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgbWVkaWNhdGlvbiBmaGlyOiBNZWRpY2luYWxQcm9kdWN0Q29udHJhaW5kaWNhdGlvbi5vdGhlclRoZXJhcHkubWVkaWNhdGlvblt4XTonLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25BcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJNZWRpY2luYWxQcm9kdWN0Q29udHJhaW5kaWNhdGlvblwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWVkaWNhdGlvbiBmb3Igd2hpY2ggdGhpcyBpcyBhbiBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRpc2Vhc2UsIHN5bXB0b20gb3IgcHJvY2VkdXJlIGZvciB0aGUgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBkaXNlYXNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBkaXNlYXNlIG9yIHN5bXB0b20gZm9yIHRoZSBjb250cmFpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGRpc2Vhc2VTdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29tb3JiaWRpdHkgKGNvbmN1cnJlbnQgY29uZGl0aW9uKSBvciBjb2luZmVjdGlvbi5cclxuICAgKi9cclxuICBjb21vcmJpZGl0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBpbiByZWxhdGlvbiB0byBvdGhlciB0aGVyYXBpZXMgYXMgcGFydCBvZiB0aGUgaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICB0aGVyYXBldXRpY0luZGljYXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW4gcmVsYXRpb24gdG8gb3RoZXIgdGhlcmFwaWVzIGRlc2NyaWJlZCBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIG90aGVyVGhlcmFweT86IGZoaXIuTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwb3B1bGF0aW9uIGdyb3VwIHRvIHdoaWNoIHRoaXMgYXBwbGllcy5cclxuICAgKi9cclxuICBwb3B1bGF0aW9uPzogZmhpci5Qb3B1bGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBjbGluaWNhbCBwYXJ0aWN1bGFycyAtIGluZGljYXRpb25zLCBjb250cmFpbmRpY2F0aW9ucyBldGMuIG9mIGEgbWVkaWNpbmFsIHByb2R1Y3QsIGluY2x1ZGluZyBmb3IgcmVndWxhdG9yeSBwdXJwb3Nlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2luYWxQcm9kdWN0Q29udHJhaW5kaWNhdGlvbiBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25cIjtcclxuICAvKipcclxuICAgKiBUaGUgbWVkaWNhdGlvbiBmb3Igd2hpY2ggdGhpcyBpcyBhbiBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkaXNlYXNlLCBzeW1wdG9tIG9yIHByb2NlZHVyZSBmb3IgdGhlIGNvbnRyYWluZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGRpc2Vhc2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgZGlzZWFzZSBvciBzeW1wdG9tIGZvciB0aGUgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzZWFzZVN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvbW9yYmlkaXR5IChjb25jdXJyZW50IGNvbmRpdGlvbikgb3IgY29pbmZlY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW9yYmlkaXR5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluIHJlbGF0aW9uIHRvIG90aGVyIHRoZXJhcGllcyBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aGVyYXBldXRpY0luZGljYXRpb246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW4gcmVsYXRpb24gdG8gb3RoZXIgdGhlcmFwaWVzIGRlc2NyaWJlZCBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdGhlclRoZXJhcHk6IGZoaXIuTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlbXTtcclxuICAvKipcclxuICAgKiBUaGUgcG9wdWxhdGlvbiBncm91cCB0byB3aGljaCB0aGlzIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHBvcHVsYXRpb246IGZoaXIuUG9wdWxhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljaW5hbFByb2R1Y3RDb250cmFpbmRpY2F0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IHNvdXJjZS5zdWJqZWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViamVjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXNlYXNlJ10pIHsgdGhpcy5kaXNlYXNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5kaXNlYXNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGlzZWFzZVN0YXR1cyddKSB7IHRoaXMuZGlzZWFzZVN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZGlzZWFzZVN0YXR1cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW9yYmlkaXR5J10pIHsgdGhpcy5jb21vcmJpZGl0eSA9IHNvdXJjZS5jb21vcmJpZGl0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbW9yYmlkaXR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RoZXJhcGV1dGljSW5kaWNhdGlvbiddKSB7IHRoaXMudGhlcmFwZXV0aWNJbmRpY2F0aW9uID0gc291cmNlLnRoZXJhcGV1dGljSW5kaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRoZXJhcGV1dGljSW5kaWNhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvdGhlclRoZXJhcHknXSkgeyB0aGlzLm90aGVyVGhlcmFweSA9IHNvdXJjZS5vdGhlclRoZXJhcHkubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2luYWxQcm9kdWN0Q29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm90aGVyVGhlcmFweSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwb3B1bGF0aW9uJ10pIHsgdGhpcy5wb3B1bGF0aW9uID0gc291cmNlLnBvcHVsYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Qb3B1bGF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucG9wdWxhdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ01lZGljaW5hbFByb2R1Y3RDb250cmFpbmRpY2F0aW9uJyB9XHJcbiAgICBpZiAoIXRoaXNbJ3Jlc291cmNlVHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZXNvdXJjZVR5cGUgZmhpcjogTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb24ucmVzb3VyY2VUeXBlOlwiTWVkaWNpbmFsUHJvZHVjdENvbnRyYWluZGljYXRpb25cIicsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic3ViamVjdFwiXSkgeyB0aGlzLnN1YmplY3QuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnN1YmplY3RbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZGlzZWFzZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRpc2Vhc2UuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmRpc2Vhc2UnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGlzZWFzZVN0YXR1c1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRpc2Vhc2VTdGF0dXMuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmRpc2Vhc2VTdGF0dXMnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29tb3JiaWRpdHlcIl0pIHsgdGhpcy5jb21vcmJpZGl0eS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuY29tb3JiaWRpdHlbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widGhlcmFwZXV0aWNJbmRpY2F0aW9uXCJdKSB7IHRoaXMudGhlcmFwZXV0aWNJbmRpY2F0aW9uLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC50aGVyYXBldXRpY0luZGljYXRpb25bJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wib3RoZXJUaGVyYXB5XCJdKSB7IHRoaXMub3RoZXJUaGVyYXB5LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5vdGhlclRoZXJhcHlbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicG9wdWxhdGlvblwiXSkgeyB0aGlzLnBvcHVsYXRpb24uZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnBvcHVsYXRpb25bJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==