// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: SubstanceSourceMaterial
import * as fhir from '../fhir.js';
/**
 * Many complex materials are fractions of parts of plants, animals, or minerals. Fraction elements are often necessary to define both Substances and Specified Group 1 Substances. For substances derived from Plants, fraction information will be captured at the Substance information level ( . Oils, Juices and Exudates). Additional information for Extracts, such as extraction solvent composition, will be captured at the Specified Substance Group 1 information level. For plasma-derived products fraction information will be captured at the Substance and the Specified Substance Group 1 levels.
 */
export class SubstanceSourceMaterialFractionDescription extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialFractionDescription - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['fraction']) {
            this.fraction = new fhir.FhirString({ value: source.fraction });
        }
        if (source['materialType']) {
            this.materialType = new fhir.CodeableConcept(source.materialType);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["fraction"]) {
            issues.push(...this.fraction.doModelValidation());
        }
        if (this["materialType"]) {
            issues.push(...this.materialType.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialFractionDescription._fts_dataType = 'SubstanceSourceMaterialFractionDescription';
/**
 * 4.9.13.6.1 Author type (Conditional).
 */
export class SubstanceSourceMaterialOrganismAuthor extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismAuthor - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['authorType']) {
            this.authorType = new fhir.CodeableConcept(source.authorType);
        }
        if (source['authorDescription']) {
            this.authorDescription = new fhir.FhirString({ value: source.authorDescription });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["authorType"]) {
            issues.push(...this.authorType.doModelValidation());
        }
        if (this["authorDescription"]) {
            issues.push(...this.authorDescription.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismAuthor._fts_dataType = 'SubstanceSourceMaterialOrganismAuthor';
/**
 * 4.9.13.8.1 Hybrid species maternal organism ID (Optional).
 */
export class SubstanceSourceMaterialOrganismHybrid extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismHybrid - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['maternalOrganismId']) {
            this.maternalOrganismId = new fhir.FhirString({ value: source.maternalOrganismId });
        }
        if (source['maternalOrganismName']) {
            this.maternalOrganismName = new fhir.FhirString({ value: source.maternalOrganismName });
        }
        if (source['paternalOrganismId']) {
            this.paternalOrganismId = new fhir.FhirString({ value: source.paternalOrganismId });
        }
        if (source['paternalOrganismName']) {
            this.paternalOrganismName = new fhir.FhirString({ value: source.paternalOrganismName });
        }
        if (source['hybridType']) {
            this.hybridType = new fhir.CodeableConcept(source.hybridType);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["maternalOrganismId"]) {
            issues.push(...this.maternalOrganismId.doModelValidation());
        }
        if (this["maternalOrganismName"]) {
            issues.push(...this.maternalOrganismName.doModelValidation());
        }
        if (this["paternalOrganismId"]) {
            issues.push(...this.paternalOrganismId.doModelValidation());
        }
        if (this["paternalOrganismName"]) {
            issues.push(...this.paternalOrganismName.doModelValidation());
        }
        if (this["hybridType"]) {
            issues.push(...this.hybridType.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismHybrid._fts_dataType = 'SubstanceSourceMaterialOrganismHybrid';
/**
 * 4.9.13.7.1 Kingdom (Conditional).
 */
export class SubstanceSourceMaterialOrganismOrganismGeneral extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismOrganismGeneral - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['kingdom']) {
            this.kingdom = new fhir.CodeableConcept(source.kingdom);
        }
        if (source['phylum']) {
            this.phylum = new fhir.CodeableConcept(source.phylum);
        }
        if (source['class']) {
            this.class = new fhir.CodeableConcept(source.class);
        }
        if (source['order']) {
            this.order = new fhir.CodeableConcept(source.order);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["kingdom"]) {
            issues.push(...this.kingdom.doModelValidation());
        }
        if (this["phylum"]) {
            issues.push(...this.phylum.doModelValidation());
        }
        if (this["class"]) {
            issues.push(...this.class.doModelValidation());
        }
        if (this["order"]) {
            issues.push(...this.order.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismOrganismGeneral._fts_dataType = 'SubstanceSourceMaterialOrganismOrganismGeneral';
/**
 * This subclause describes the organism which the substance is derived from. For vaccines, the parent organism shall be specified based on these subclause elements. As an example, full taxonomy will be described for the Substance Name: ., Leaf.
 */
export class SubstanceSourceMaterialOrganism extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganism - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['family']) {
            this.family = new fhir.CodeableConcept(source.family);
        }
        if (source['genus']) {
            this.genus = new fhir.CodeableConcept(source.genus);
        }
        if (source['species']) {
            this.species = new fhir.CodeableConcept(source.species);
        }
        if (source['intraspecificType']) {
            this.intraspecificType = new fhir.CodeableConcept(source.intraspecificType);
        }
        if (source['intraspecificDescription']) {
            this.intraspecificDescription = new fhir.FhirString({ value: source.intraspecificDescription });
        }
        if (source['author']) {
            this.author = source.author.map((x) => new fhir.SubstanceSourceMaterialOrganismAuthor(x));
        }
        else {
            this.author = [];
        }
        if (source['hybrid']) {
            this.hybrid = new fhir.SubstanceSourceMaterialOrganismHybrid(source.hybrid);
        }
        if (source['organismGeneral']) {
            this.organismGeneral = new fhir.SubstanceSourceMaterialOrganismOrganismGeneral(source.organismGeneral);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["family"]) {
            issues.push(...this.family.doModelValidation());
        }
        if (this["genus"]) {
            issues.push(...this.genus.doModelValidation());
        }
        if (this["species"]) {
            issues.push(...this.species.doModelValidation());
        }
        if (this["intraspecificType"]) {
            issues.push(...this.intraspecificType.doModelValidation());
        }
        if (this["intraspecificDescription"]) {
            issues.push(...this.intraspecificDescription.doModelValidation());
        }
        if (this["author"]) {
            this.author.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["hybrid"]) {
            issues.push(...this.hybrid.doModelValidation());
        }
        if (this["organismGeneral"]) {
            issues.push(...this.organismGeneral.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganism._fts_dataType = 'SubstanceSourceMaterialOrganism';
/**
 * To do.
 */
export class SubstanceSourceMaterialPartDescription extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialPartDescription - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['part']) {
            this.part = new fhir.CodeableConcept(source.part);
        }
        if (source['partLocation']) {
            this.partLocation = new fhir.CodeableConcept(source.partLocation);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["part"]) {
            issues.push(...this.part.doModelValidation());
        }
        if (this["partLocation"]) {
            issues.push(...this.partLocation.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialPartDescription._fts_dataType = 'SubstanceSourceMaterialPartDescription';
/**
 * Source material shall capture information on the taxonomic and anatomical origins as well as the fraction of a material that can result in or can be modified to form a substance. This set of data elements shall be used to define polymer substances isolated from biological matrices. Taxonomic and anatomical origins shall be described using a controlled vocabulary as required. This information is captured for naturally derived polymers ( . starch) and structurally diverse substances. For Organisms belonging to the Kingdom Plantae the Substance level defines the fresh material of a single species or infraspecies, the Herbal Drug and the Herbal preparation. For Herbal preparations, the fraction information will be captured at the Substance information level and additional information for herbal extracts will be captured at the Specified Substance Group 1 information level. See for further explanation the Substance Class: Structurally Diverse and the herbal annex.
 */
export class SubstanceSourceMaterial extends fhir.DomainResource {
    /**
     * Default constructor for SubstanceSourceMaterial - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'SubstanceSourceMaterial';
        if (source['sourceMaterialClass']) {
            this.sourceMaterialClass = new fhir.CodeableConcept(source.sourceMaterialClass);
        }
        if (source['sourceMaterialType']) {
            this.sourceMaterialType = new fhir.CodeableConcept(source.sourceMaterialType);
        }
        if (source['sourceMaterialState']) {
            this.sourceMaterialState = new fhir.CodeableConcept(source.sourceMaterialState);
        }
        if (source['organismId']) {
            this.organismId = new fhir.Identifier(source.organismId);
        }
        if (source['organismName']) {
            this.organismName = new fhir.FhirString({ value: source.organismName });
        }
        if (source['parentSubstanceId']) {
            this.parentSubstanceId = source.parentSubstanceId.map((x) => new fhir.Identifier(x));
        }
        else {
            this.parentSubstanceId = [];
        }
        if (source['parentSubstanceName']) {
            this.parentSubstanceName = source.parentSubstanceName.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.parentSubstanceName = [];
        }
        if (source['countryOfOrigin']) {
            this.countryOfOrigin = source.countryOfOrigin.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.countryOfOrigin = [];
        }
        if (source['geographicalLocation']) {
            this.geographicalLocation = source.geographicalLocation.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.geographicalLocation = [];
        }
        if (source['developmentStage']) {
            this.developmentStage = new fhir.CodeableConcept(source.developmentStage);
        }
        if (source['fractionDescription']) {
            this.fractionDescription = source.fractionDescription.map((x) => new fhir.SubstanceSourceMaterialFractionDescription(x));
        }
        else {
            this.fractionDescription = [];
        }
        if (source['organism']) {
            this.organism = new fhir.SubstanceSourceMaterialOrganism(source.organism);
        }
        if (source['partDescription']) {
            this.partDescription = source.partDescription.map((x) => new fhir.SubstanceSourceMaterialPartDescription(x));
        }
        else {
            this.partDescription = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"SubstanceSourceMaterial" fhir: SubstanceSourceMaterial.resourceType:"SubstanceSourceMaterial"', });
        }
        if (this["sourceMaterialClass"]) {
            issues.push(...this.sourceMaterialClass.doModelValidation());
        }
        if (this["sourceMaterialType"]) {
            issues.push(...this.sourceMaterialType.doModelValidation());
        }
        if (this["sourceMaterialState"]) {
            issues.push(...this.sourceMaterialState.doModelValidation());
        }
        if (this["organismId"]) {
            issues.push(...this.organismId.doModelValidation());
        }
        if (this["organismName"]) {
            issues.push(...this.organismName.doModelValidation());
        }
        if (this["parentSubstanceId"]) {
            this.parentSubstanceId.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["parentSubstanceName"]) {
            this.parentSubstanceName.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["countryOfOrigin"]) {
            this.countryOfOrigin.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["geographicalLocation"]) {
            this.geographicalLocation.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["developmentStage"]) {
            issues.push(...this.developmentStage.doModelValidation());
        }
        if (this["fractionDescription"]) {
            this.fractionDescription.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["organism"]) {
            issues.push(...this.organism.doModelValidation());
        }
        if (this["partDescription"]) {
            this.partDescription.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterial._fts_dataType = 'SubstanceSourceMaterial';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLHlDQUF5QztBQUV6QyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQWdCbkM7O0dBRUc7QUFDSCxNQUFNLE9BQU8sMENBQTJDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhbEY7O09BRUc7SUFDSCxZQUFZLFNBQWlFLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3ZILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzFGLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQUU7SUFDcEcsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCO1FBQy9CLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzVFLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZ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QWdCLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDNUYsSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUN4SCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzVFLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ2hILE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBNUdEOztHQUVHO0FBQzZCLHFDQUFhLEdBQVUseUJBQXlCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgY2FwdHVyaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmcmFjdGlvbiBvZiBhIHBsYW50IHBhcnQsIG9yIGh1bWFuIHBsYXNtYSBmb3IgZnJhY3Rpb25hdGlvbi5cclxuICAgKi9cclxuICBmcmFjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHRoZSBtYXRlcmlhbCBjb25zdGl0dXRpbmcgdGhlIGNvbXBvbmVudC4gRm9yIEhlcmJhbCBwcmVwYXJhdGlvbnMgdGhlIHBhcnRpY3VsYXJzIG9mIHRoZSBleHRyYWN0cyAobGlxdWlkL2RyeSkgaXMgZGVzY3JpYmVkIGluIFNwZWNpZmllZCBTdWJzdGFuY2UgR3JvdXAgMS5cclxuICAgKi9cclxuICBtYXRlcmlhbFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTWFueSBjb21wbGV4IG1hdGVyaWFscyBhcmUgZnJhY3Rpb25zIG9mIHBhcnRzIG9mIHBsYW50cywgYW5pbWFscywgb3IgbWluZXJhbHMuIEZyYWN0aW9uIGVsZW1lbnRzIGFyZSBvZnRlbiBuZWNlc3NhcnkgdG8gZGVmaW5lIGJvdGggU3Vic3RhbmNlcyBhbmQgU3BlY2lmaWVkIEdyb3VwIDEgU3Vic3RhbmNlcy4gRm9yIHN1YnN0YW5jZXMgZGVyaXZlZCBmcm9tIFBsYW50cywgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGluZm9ybWF0aW9uIGxldmVsICggLiBPaWxzLCBKdWljZXMgYW5kIEV4dWRhdGVzKS4gQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmb3IgRXh0cmFjdHMsIHN1Y2ggYXMgZXh0cmFjdGlvbiBzb2x2ZW50IGNvbXBvc2l0aW9uLCB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEgaW5mb3JtYXRpb24gbGV2ZWwuIEZvciBwbGFzbWEtZGVyaXZlZCBwcm9kdWN0cyBmcmFjdGlvbiBpbmZvcm1hdGlvbiB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTdWJzdGFuY2UgYW5kIHRoZSBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEgbGV2ZWxzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGNhcHR1cmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZnJhY3Rpb24gb2YgYSBwbGFudCBwYXJ0LCBvciBodW1hbiBwbGFzbWEgZm9yIGZyYWN0aW9uYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGZyYWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgdHlwZSBvZiB0aGUgbWF0ZXJpYWwgY29uc3RpdHV0aW5nIHRoZSBjb21wb25lbnQuIEZvciBIZXJiYWwgcHJlcGFyYXRpb25zIHRoZSBwYXJ0aWN1bGFycyBvZiB0aGUgZXh0cmFjdHMgKGxpcXVpZC9kcnkpIGlzIGRlc2NyaWJlZCBpbiBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEuXHJcbiAgICovXHJcbiAgcHVibGljIG1hdGVyaWFsVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZnJhY3Rpb24nXSkgeyB0aGlzLmZyYWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5mcmFjdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXRlcmlhbFR5cGUnXSkgeyB0aGlzLm1hdGVyaWFsVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubWF0ZXJpYWxUeXBlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJmcmFjdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmZyYWN0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm1hdGVyaWFsVHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1hdGVyaWFsVHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3IgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvckFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHNoYWxsIGJlIHNwZWNpZmllZC4gVGhlIHBhcmVudGhldGljYWwgYXV0aG9yIG9mIGFuIG9yZ2FuaXNtIHNwZWNpZXMgcmVmZXJzIHRvIHRoZSBmaXJzdCBhdXRob3Igd2hvIHB1Ymxpc2hlZCB0aGUgcGxhbnQvYW5pbWFsIG5hbWUgKG9mIGFueSByYW5rKS4gVGhlIHByaW1hcnkgYXV0aG9yIG9mIGFuIG9yZ2FuaXNtIHNwZWNpZXMgcmVmZXJzIHRvIHRoZSBmaXJzdCBhdXRob3IocyksIHdobyB2YWxpZGx5IHB1Ymxpc2hlZCB0aGUgcGxhbnQvYW5pbWFsIG5hbWUuXHJcbiAgICovXHJcbiAgYXV0aG9yVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHNoYWxsIGJlIHNwZWNpZmllZC4gVGhlIGF1dGhvciB5ZWFyIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGFsc28gYmUgc3BlY2lmaWVkIHdoZW4gYXBwbGljYWJsZTsgcmVmZXJzIHRvIHRoZSB5ZWFyIGluIHdoaWNoIHRoZSBmaXJzdCBhdXRob3IocykgcHVibGlzaGVkIHRoZSBpbmZyYXNwZWNpZmljIHBsYW50L2FuaW1hbCBuYW1lIChvZiBhbnkgcmFuaykuXHJcbiAgICovXHJcbiAgYXV0aG9yRGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIDQuOS4xMy42LjEgQXV0aG9yIHR5cGUgKENvbmRpdGlvbmFsKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXV0aG9yIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvcic7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgYXV0aG9yIG9mIGFuIG9yZ2FuaXNtIHNwZWNpZXMgc2hhbGwgYmUgc3BlY2lmaWVkLiBUaGUgcGFyZW50aGV0aWNhbCBhdXRob3Igb2YgYW4gb3JnYW5pc20gc3BlY2llcyByZWZlcnMgdG8gdGhlIGZpcnN0IGF1dGhvciB3aG8gcHVibGlzaGVkIHRoZSBwbGFudC9hbmltYWwgbmFtZSAob2YgYW55IHJhbmspLiBUaGUgcHJpbWFyeSBhdXRob3Igb2YgYW4gb3JnYW5pc20gc3BlY2llcyByZWZlcnMgdG8gdGhlIGZpcnN0IGF1dGhvcihzKSwgd2hvIHZhbGlkbHkgcHVibGlzaGVkIHRoZSBwbGFudC9hbmltYWwgbmFtZS5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aG9yVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYXV0aG9yIG9mIGFuIG9yZ2FuaXNtIHNwZWNpZXMgc2hhbGwgYmUgc3BlY2lmaWVkLiBUaGUgYXV0aG9yIHllYXIgb2YgYW4gb3JnYW5pc20gc2hhbGwgYWxzbyBiZSBzcGVjaWZpZWQgd2hlbiBhcHBsaWNhYmxlOyByZWZlcnMgdG8gdGhlIHllYXIgaW4gd2hpY2ggdGhlIGZpcnN0IGF1dGhvcihzKSBwdWJsaXNoZWQgdGhlIGluZnJhc3BlY2lmaWMgcGxhbnQvYW5pbWFsIG5hbWUgKG9mIGFueSByYW5rKS5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aG9yRGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3IgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXV0aG9yQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2F1dGhvclR5cGUnXSkgeyB0aGlzLmF1dGhvclR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmF1dGhvclR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydhdXRob3JEZXNjcmlwdGlvbiddKSB7IHRoaXMuYXV0aG9yRGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmF1dGhvckRlc2NyaXB0aW9ufSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1wiYXV0aG9yVHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmF1dGhvclR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYXV0aG9yRGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hdXRob3JEZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUh5YnJpZEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBtYXRlcm5hbCBzcGVjaWVzIGNvbnN0aXR1dGluZyB0aGUgaHlicmlkIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gRm9yIHBsYW50cywgdGhlIHBhcmVudHMgYXJlbuKAmXQgYWx3YXlzIGtub3duLCBhbmQgaXQgaXMgdW5saWtlbHkgdGhhdCBpdCB3aWxsIGJlIGtub3duIHdoaWNoIGlzIG1hdGVybmFsIGFuZCB3aGljaCBpcyBwYXRlcm5hbC5cclxuICAgKi9cclxuICBtYXRlcm5hbE9yZ2FuaXNtSWQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgbWF0ZXJuYWwgc3BlY2llcyBjb25zdGl0dXRpbmcgdGhlIGh5YnJpZCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuIEZvciBwbGFudHMsIHRoZSBwYXJlbnRzIGFyZW7igJl0IGFsd2F5cyBrbm93biwgYW5kIGl0IGlzIHVubGlrZWx5IHRoYXQgaXQgd2lsbCBiZSBrbm93biB3aGljaCBpcyBtYXRlcm5hbCBhbmQgd2hpY2ggaXMgcGF0ZXJuYWwuXHJcbiAgICovXHJcbiAgbWF0ZXJuYWxPcmdhbmlzbU5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaWRlbnRpZmllciBvZiB0aGUgcGF0ZXJuYWwgc3BlY2llcyBjb25zdGl0dXRpbmcgdGhlIGh5YnJpZCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gYSBjb250cm9sbGVkIHZvY2FidWxhcnkuXHJcbiAgICovXHJcbiAgcGF0ZXJuYWxPcmdhbmlzbUlkPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgdGhlIHBhdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHBhdGVybmFsT3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGh5YnJpZCB0eXBlIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBoeWJyaWRUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIDQuOS4xMy44LjEgSHlicmlkIHNwZWNpZXMgbWF0ZXJuYWwgb3JnYW5pc20gSUQgKE9wdGlvbmFsKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUh5YnJpZCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1hdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5LiBGb3IgcGxhbnRzLCB0aGUgcGFyZW50cyBhcmVu4oCZdCBhbHdheXMga25vd24sIGFuZCBpdCBpcyB1bmxpa2VseSB0aGF0IGl0IHdpbGwgYmUga25vd24gd2hpY2ggaXMgbWF0ZXJuYWwgYW5kIHdoaWNoIGlzIHBhdGVybmFsLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXRlcm5hbE9yZ2FuaXNtSWQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBtYXRlcm5hbCBzcGVjaWVzIGNvbnN0aXR1dGluZyB0aGUgaHlicmlkIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC4gRm9yIHBsYW50cywgdGhlIHBhcmVudHMgYXJlbuKAmXQgYWx3YXlzIGtub3duLCBhbmQgaXQgaXMgdW5saWtlbHkgdGhhdCBpdCB3aWxsIGJlIGtub3duIHdoaWNoIGlzIG1hdGVybmFsIGFuZCB3aGljaCBpcyBwYXRlcm5hbC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF0ZXJuYWxPcmdhbmlzbU5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBwYXRlcm5hbCBzcGVjaWVzIGNvbnN0aXR1dGluZyB0aGUgaHlicmlkIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0ZXJuYWxPcmdhbmlzbUlkPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgcGF0ZXJuYWwgc3BlY2llcyBjb25zdGl0dXRpbmcgdGhlIGh5YnJpZCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGVybmFsT3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaHlicmlkIHR5cGUgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoeWJyaWRUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21hdGVybmFsT3JnYW5pc21JZCddKSB7IHRoaXMubWF0ZXJuYWxPcmdhbmlzbUlkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5tYXRlcm5hbE9yZ2FuaXNtSWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWF0ZXJuYWxPcmdhbmlzbU5hbWUnXSkgeyB0aGlzLm1hdGVybmFsT3JnYW5pc21OYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5tYXRlcm5hbE9yZ2FuaXNtTmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXRlcm5hbE9yZ2FuaXNtSWQnXSkgeyB0aGlzLnBhdGVybmFsT3JnYW5pc21JZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucGF0ZXJuYWxPcmdhbmlzbUlkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGVybmFsT3JnYW5pc21OYW1lJ10pIHsgdGhpcy5wYXRlcm5hbE9yZ2FuaXNtTmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucGF0ZXJuYWxPcmdhbmlzbU5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaHlicmlkVHlwZSddKSB7IHRoaXMuaHlicmlkVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuaHlicmlkVHlwZSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1wibWF0ZXJuYWxPcmdhbmlzbUlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubWF0ZXJuYWxPcmdhbmlzbUlkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm1hdGVybmFsT3JnYW5pc21OYW1lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubWF0ZXJuYWxPcmdhbmlzbU5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGF0ZXJuYWxPcmdhbmlzbUlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGF0ZXJuYWxPcmdhbmlzbUlkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBhdGVybmFsT3JnYW5pc21OYW1lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGF0ZXJuYWxPcmdhbmlzbU5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaHlicmlkVHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmh5YnJpZFR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtT3JnYW5pc21HZW5lcmFsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWxBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUga2luZ2RvbSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAga2luZ2RvbT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBoeWx1bSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcGh5bHVtPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY2xhc3Mgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIGNsYXNzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JkZXIgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLC5cclxuICAgKi9cclxuICBvcmRlcj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiA0LjkuMTMuNy4xIEtpbmdkb20gKENvbmRpdGlvbmFsKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtT3JnYW5pc21HZW5lcmFsIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbU9yZ2FuaXNtR2VuZXJhbCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGtpbmdkb20gb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBraW5nZG9tPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwaHlsdW0gb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwaHlsdW0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNsYXNzIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgY2xhc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZGVyIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCwuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZGVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtT3JnYW5pc21HZW5lcmFsQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2tpbmdkb20nXSkgeyB0aGlzLmtpbmdkb20gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmtpbmdkb20pOyB9XHJcbiAgICBpZiAoc291cmNlWydwaHlsdW0nXSkgeyB0aGlzLnBoeWx1bSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGh5bHVtKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xhc3MnXSkgeyB0aGlzLmNsYXNzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jbGFzcyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZGVyJ10pIHsgdGhpcy5vcmRlciA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uub3JkZXIpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcImtpbmdkb21cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5raW5nZG9tLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBoeWx1bVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBoeWx1bS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjbGFzc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNsYXNzLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm9yZGVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3JkZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgZmFtaWx5IG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBmYW1pbHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBnZW51cyBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQ7IHJlZmVycyB0byB0aGUgTGF0aW4gZXBpdGhldCBvZiB0aGUgZ2VudXMgZWxlbWVudCBvZiB0aGUgcGxhbnQvYW5pbWFsIHNjaWVudGlmaWMgbmFtZTsgaXQgaXMgcHJlc2VudCBpbiBuYW1lcyBmb3IgZ2VuZXJhLCBzcGVjaWVzIGFuZCBpbmZyYXNwZWNpZXMuXHJcbiAgICovXHJcbiAgZ2VudXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWVzIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZDsgcmVmZXJzIHRvIHRoZSBMYXRpbiBlcGl0aGV0IG9mIHRoZSBzcGVjaWVzIG9mIHRoZSBwbGFudC9hbmltYWw7IGl0IGlzIHByZXNlbnQgaW4gbmFtZXMgZm9yIHNwZWNpZXMgYW5kIGluZnJhc3BlY2llcy5cclxuICAgKi9cclxuICBzcGVjaWVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgSW50cmFzcGVjaWZpYyB0eXBlIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBpbnRyYXNwZWNpZmljVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGludHJhc3BlY2lmaWMgZGVzY3JpcHRpb24gb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5LiBGb3IgSW5mbHVlbnphIFZhY2NpbmUsIHRoZSBpbnRyYXNwZWNpZmljIGRlc2NyaXB0aW9uIHNoYWxsIGNvbnRhaW4gdGhlIHN5bnRheCBvZiB0aGUgYW50aWdlbiBpbiBsaW5lIHdpdGggdGhlIFdITyBjb252ZW50aW9uLlxyXG4gICAqL1xyXG4gIGludHJhc3BlY2lmaWNEZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIDQuOS4xMy42LjEgQXV0aG9yIHR5cGUgKENvbmRpdGlvbmFsKS5cclxuICAgKi9cclxuICBhdXRob3I/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3JBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIDQuOS4xMy44LjEgSHlicmlkIHNwZWNpZXMgbWF0ZXJuYWwgb3JnYW5pc20gSUQgKE9wdGlvbmFsKS5cclxuICAgKi9cclxuICBoeWJyaWQ/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiA0LjkuMTMuNy4xIEtpbmdkb20gKENvbmRpdGlvbmFsKS5cclxuICAgKi9cclxuICBvcmdhbmlzbUdlbmVyYWw/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWxBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoaXMgc3ViY2xhdXNlIGRlc2NyaWJlcyB0aGUgb3JnYW5pc20gd2hpY2ggdGhlIHN1YnN0YW5jZSBpcyBkZXJpdmVkIGZyb20uIEZvciB2YWNjaW5lcywgdGhlIHBhcmVudCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gdGhlc2Ugc3ViY2xhdXNlIGVsZW1lbnRzLiBBcyBhbiBleGFtcGxlLCBmdWxsIHRheG9ub215IHdpbGwgYmUgZGVzY3JpYmVkIGZvciB0aGUgU3Vic3RhbmNlIE5hbWU6IC4sIExlYWYuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc20nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmYW1pbHkgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmYW1pbHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGdlbnVzIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZDsgcmVmZXJzIHRvIHRoZSBMYXRpbiBlcGl0aGV0IG9mIHRoZSBnZW51cyBlbGVtZW50IG9mIHRoZSBwbGFudC9hbmltYWwgc2NpZW50aWZpYyBuYW1lOyBpdCBpcyBwcmVzZW50IGluIG5hbWVzIGZvciBnZW5lcmEsIHNwZWNpZXMgYW5kIGluZnJhc3BlY2llcy5cclxuICAgKi9cclxuICBwdWJsaWMgZ2VudXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZXMgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkOyByZWZlcnMgdG8gdGhlIExhdGluIGVwaXRoZXQgb2YgdGhlIHNwZWNpZXMgb2YgdGhlIHBsYW50L2FuaW1hbDsgaXQgaXMgcHJlc2VudCBpbiBuYW1lcyBmb3Igc3BlY2llcyBhbmQgaW5mcmFzcGVjaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzcGVjaWVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBJbnRyYXNwZWNpZmljIHR5cGUgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnRyYXNwZWNpZmljVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW50cmFzcGVjaWZpYyBkZXNjcmlwdGlvbiBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gYSBjb250cm9sbGVkIHZvY2FidWxhcnkuIEZvciBJbmZsdWVuemEgVmFjY2luZSwgdGhlIGludHJhc3BlY2lmaWMgZGVzY3JpcHRpb24gc2hhbGwgY29udGFpbiB0aGUgc3ludGF4IG9mIHRoZSBhbnRpZ2VuIGluIGxpbmUgd2l0aCB0aGUgV0hPIGNvbnZlbnRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGludHJhc3BlY2lmaWNEZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogNC45LjEzLjYuMSBBdXRob3IgdHlwZSAoQ29uZGl0aW9uYWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdXRob3I/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3JbXTtcclxuICAvKipcclxuICAgKiA0LjkuMTMuOC4xIEh5YnJpZCBzcGVjaWVzIG1hdGVybmFsIG9yZ2FuaXNtIElEIChPcHRpb25hbCkuXHJcbiAgICovXHJcbiAgcHVibGljIGh5YnJpZD86IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUh5YnJpZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogNC45LjEzLjcuMSBLaW5nZG9tIChDb25kaXRpb25hbCkuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZ2FuaXNtR2VuZXJhbD86IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbU9yZ2FuaXNtR2VuZXJhbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZmFtaWx5J10pIHsgdGhpcy5mYW1pbHkgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmZhbWlseSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2dlbnVzJ10pIHsgdGhpcy5nZW51cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZ2VudXMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzcGVjaWVzJ10pIHsgdGhpcy5zcGVjaWVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zcGVjaWVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW50cmFzcGVjaWZpY1R5cGUnXSkgeyB0aGlzLmludHJhc3BlY2lmaWNUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5pbnRyYXNwZWNpZmljVHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludHJhc3BlY2lmaWNEZXNjcmlwdGlvbiddKSB7IHRoaXMuaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5pbnRyYXNwZWNpZmljRGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXV0aG9yJ10pIHsgdGhpcy5hdXRob3IgPSBzb3VyY2UuYXV0aG9yLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmF1dGhvciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydoeWJyaWQnXSkgeyB0aGlzLmh5YnJpZCA9IG5ldyBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWQoc291cmNlLmh5YnJpZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXNtR2VuZXJhbCddKSB7IHRoaXMub3JnYW5pc21HZW5lcmFsID0gbmV3IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbU9yZ2FuaXNtR2VuZXJhbChzb3VyY2Uub3JnYW5pc21HZW5lcmFsKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJmYW1pbHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5mYW1pbHkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZ2VudXNcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5nZW51cy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzcGVjaWVzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3BlY2llcy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJpbnRyYXNwZWNpZmljVHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmludHJhc3BlY2lmaWNUeXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImludHJhc3BlY2lmaWNEZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmludHJhc3BlY2lmaWNEZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJhdXRob3JcIl0pIHsgdGhpcy5hdXRob3IuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImh5YnJpZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmh5YnJpZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcmdhbmlzbUdlbmVyYWxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vcmdhbmlzbUdlbmVyYWwuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEVudGl0eSBvZiBhbmF0b21pY2FsIG9yaWdpbiBvZiBzb3VyY2UgbWF0ZXJpYWwgd2l0aGluIGFuIG9yZ2FuaXNtLlxyXG4gICAqL1xyXG4gIHBhcnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXRhaWxlZCBhbmF0b21pYyBsb2NhdGlvbiB3aGVuIHRoZSBwYXJ0IGNhbiBiZSBleHRyYWN0ZWQgZnJvbSBkaWZmZXJlbnQgYW5hdG9taWNhbCBsb2NhdGlvbnMgb2YgdGhlIG9yZ2FuaXNtLiBNdWx0aXBsZSBhbHRlcm5hdGl2ZSBsb2NhdGlvbnMgbWF5IGFwcGx5LlxyXG4gICAqL1xyXG4gIHBhcnRMb2NhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUbyBkby5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uJztcclxuICAvKipcclxuICAgKiBFbnRpdHkgb2YgYW5hdG9taWNhbCBvcmlnaW4gb2Ygc291cmNlIG1hdGVyaWFsIHdpdGhpbiBhbiBvcmdhbmlzbS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGV0YWlsZWQgYW5hdG9taWMgbG9jYXRpb24gd2hlbiB0aGUgcGFydCBjYW4gYmUgZXh0cmFjdGVkIGZyb20gZGlmZmVyZW50IGFuYXRvbWljYWwgbG9jYXRpb25zIG9mIHRoZSBvcmdhbmlzbS4gTXVsdGlwbGUgYWx0ZXJuYXRpdmUgbG9jYXRpb25zIG1heSBhcHBseS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydExvY2F0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU291cmNlTWF0ZXJpYWxQYXJ0RGVzY3JpcHRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncGFydCddKSB7IHRoaXMucGFydCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGFydCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhcnRMb2NhdGlvbiddKSB7IHRoaXMucGFydExvY2F0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5wYXJ0TG9jYXRpb24pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcInBhcnRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYXJ0LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBhcnRMb2NhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBhcnRMb2NhdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogR2VuZXJhbCBoaWdoIGxldmVsIGNsYXNzaWZpY2F0aW9uIG9mIHRoZSBzb3VyY2UgbWF0ZXJpYWwgc3BlY2lmaWMgdG8gdGhlIG9yaWdpbiBvZiB0aGUgbWF0ZXJpYWwuXHJcbiAgICovXHJcbiAgc291cmNlTWF0ZXJpYWxDbGFzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gYSBjb250cm9sbGVkIHZvY2FidWxhcnkuIEZvciB2YWNjaW5lcywgdGhpcyBzdWJjbGF1c2UgcmVmZXJzIHRvIHRoZSBjbGFzcyBvZiBpbmZlY3Rpb3VzIGFnZW50LlxyXG4gICAqL1xyXG4gIHNvdXJjZU1hdGVyaWFsVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UgbWF0ZXJpYWwgd2hlbiBleHRyYWN0ZWQuXHJcbiAgICovXHJcbiAgc291cmNlTWF0ZXJpYWxTdGF0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgc291cmNlIG1hdGVyaWFsIHBhcmVudCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgb3JnYW5pc21JZD86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbmlzbSBhY2NlcHRlZCBTY2llbnRpZmljIG5hbWUgc2hhbGwgYmUgcHJvdmlkZWQgYmFzZWQgb24gdGhlIG9yZ2FuaXNtIHRheG9ub215LlxyXG4gICAqL1xyXG4gIG9yZ2FuaXNtTmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgb2YgdGhlIGhlcmJhbCBkcnVnIEdpbmtnbyBiaWxvYmEsIExlYWYgaXMgdGhlIHN1YnN0YW5jZSBJRCBvZiB0aGUgc3Vic3RhbmNlIChmcmVzaCkgb2YgR2lua2dvIGJpbG9iYSBMLiBvciBHaW5rZ28gYmlsb2JhIEwuIChXaG9sZSBwbGFudCkuXHJcbiAgICovXHJcbiAgcGFyZW50U3Vic3RhbmNlSWQ/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgc3Vic3RhbmNlIG9mIHRoZSBIZXJiYWwgRHJ1Zywgb3IgSGVyYmFsIHByZXBhcmF0aW9uLlxyXG4gICAqL1xyXG4gIHBhcmVudFN1YnN0YW5jZU5hbWU/OiBmaGlyLkZoaXJTdHJpbmdbXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvdW50cnkgd2hlcmUgdGhlIHBsYW50IG1hdGVyaWFsIGlzIGhhcnZlc3RlZCBvciB0aGUgY291bnRyaWVzIHdoZXJlIHRoZSBwbGFzbWEgaXMgc291cmNlZCBmcm9tIGFzIGxhaWQgZG93biBpbiBhY2NvcmRhbmNlIHdpdGggdGhlIFBsYXNtYSBNYXN0ZXIgRmlsZS4gRm9yIOKAnFBsYXNtYS1kZXJpdmVkIHN1YnN0YW5jZXPigJ0gdGhlIGF0dHJpYnV0ZSBjb3VudHJ5IG9mIG9yaWdpbiBwcm92aWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY291bnRyaWVzIHVzZWQgZm9yIHRoZSBtYW51ZmFjdHVyaW5nIG9mIHRoZSBDcnlvcG9vciBwbGFtYSBvciBDcmlvcHJlY2lwaXRhdGUuXHJcbiAgICovXHJcbiAgY291bnRyeU9mT3JpZ2luPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwbGFjZS9yZWdpb24gd2hlcmUgdGhlIHBsYW50IGlzIGhhcnZlc3RlZCBvciB0aGUgcGxhY2VzL3JlZ2lvbnMgd2hlcmUgdGhlIGFuaW1hbCBzb3VyY2UgbWF0ZXJpYWwgaGFzIGl0cyBoYWJpdGF0LlxyXG4gICAqL1xyXG4gIGdlb2dyYXBoaWNhbExvY2F0aW9uPzogZmhpci5GaGlyU3RyaW5nW118c3RyaW5nW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN0YWdlIG9mIGxpZmUgZm9yIGFuaW1hbHMsIHBsYW50cywgaW5zZWN0cyBhbmQgbWljcm9vcmdhbmlzbXMuIFRoaXMgaW5mb3JtYXRpb24gc2hhbGwgYmUgcHJvdmlkZWQgb25seSB3aGVuIHRoZSBzdWJzdGFuY2UgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgaW4gdGhlc2Ugc3RhZ2VzIChlLmcuIGZvZXRhbCBib3ZpbmUgc2VydW0pLlxyXG4gICAqL1xyXG4gIGRldmVsb3BtZW50U3RhZ2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hbnkgY29tcGxleCBtYXRlcmlhbHMgYXJlIGZyYWN0aW9ucyBvZiBwYXJ0cyBvZiBwbGFudHMsIGFuaW1hbHMsIG9yIG1pbmVyYWxzLiBGcmFjdGlvbiBlbGVtZW50cyBhcmUgb2Z0ZW4gbmVjZXNzYXJ5IHRvIGRlZmluZSBib3RoIFN1YnN0YW5jZXMgYW5kIFNwZWNpZmllZCBHcm91cCAxIFN1YnN0YW5jZXMuIEZvciBzdWJzdGFuY2VzIGRlcml2ZWQgZnJvbSBQbGFudHMsIGZyYWN0aW9uIGluZm9ybWF0aW9uIHdpbGwgYmUgY2FwdHVyZWQgYXQgdGhlIFN1YnN0YW5jZSBpbmZvcm1hdGlvbiBsZXZlbCAoIC4gT2lscywgSnVpY2VzIGFuZCBFeHVkYXRlcykuIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gZm9yIEV4dHJhY3RzLCBzdWNoIGFzIGV4dHJhY3Rpb24gc29sdmVudCBjb21wb3NpdGlvbiwgd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGluZm9ybWF0aW9uIGxldmVsLiBGb3IgcGxhc21hLWRlcml2ZWQgcHJvZHVjdHMgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGFuZCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGxldmVscy5cclxuICAgKi9cclxuICBmcmFjdGlvbkRlc2NyaXB0aW9uPzogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgc3ViY2xhdXNlIGRlc2NyaWJlcyB0aGUgb3JnYW5pc20gd2hpY2ggdGhlIHN1YnN0YW5jZSBpcyBkZXJpdmVkIGZyb20uIEZvciB2YWNjaW5lcywgdGhlIHBhcmVudCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gdGhlc2Ugc3ViY2xhdXNlIGVsZW1lbnRzLiBBcyBhbiBleGFtcGxlLCBmdWxsIHRheG9ub215IHdpbGwgYmUgZGVzY3JpYmVkIGZvciB0aGUgU3Vic3RhbmNlIE5hbWU6IC4sIExlYWYuXHJcbiAgICovXHJcbiAgb3JnYW5pc20/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUbyBkby5cclxuICAgKi9cclxuICBwYXJ0RGVzY3JpcHRpb24/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNvdXJjZSBtYXRlcmlhbCBzaGFsbCBjYXB0dXJlIGluZm9ybWF0aW9uIG9uIHRoZSB0YXhvbm9taWMgYW5kIGFuYXRvbWljYWwgb3JpZ2lucyBhcyB3ZWxsIGFzIHRoZSBmcmFjdGlvbiBvZiBhIG1hdGVyaWFsIHRoYXQgY2FuIHJlc3VsdCBpbiBvciBjYW4gYmUgbW9kaWZpZWQgdG8gZm9ybSBhIHN1YnN0YW5jZS4gVGhpcyBzZXQgb2YgZGF0YSBlbGVtZW50cyBzaGFsbCBiZSB1c2VkIHRvIGRlZmluZSBwb2x5bWVyIHN1YnN0YW5jZXMgaXNvbGF0ZWQgZnJvbSBiaW9sb2dpY2FsIG1hdHJpY2VzLiBUYXhvbm9taWMgYW5kIGFuYXRvbWljYWwgb3JpZ2lucyBzaGFsbCBiZSBkZXNjcmliZWQgdXNpbmcgYSBjb250cm9sbGVkIHZvY2FidWxhcnkgYXMgcmVxdWlyZWQuIFRoaXMgaW5mb3JtYXRpb24gaXMgY2FwdHVyZWQgZm9yIG5hdHVyYWxseSBkZXJpdmVkIHBvbHltZXJzICggLiBzdGFyY2gpIGFuZCBzdHJ1Y3R1cmFsbHkgZGl2ZXJzZSBzdWJzdGFuY2VzLiBGb3IgT3JnYW5pc21zIGJlbG9uZ2luZyB0byB0aGUgS2luZ2RvbSBQbGFudGFlIHRoZSBTdWJzdGFuY2UgbGV2ZWwgZGVmaW5lcyB0aGUgZnJlc2ggbWF0ZXJpYWwgb2YgYSBzaW5nbGUgc3BlY2llcyBvciBpbmZyYXNwZWNpZXMsIHRoZSBIZXJiYWwgRHJ1ZyBhbmQgdGhlIEhlcmJhbCBwcmVwYXJhdGlvbi4gRm9yIEhlcmJhbCBwcmVwYXJhdGlvbnMsIHRoZSBmcmFjdGlvbiBpbmZvcm1hdGlvbiB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTdWJzdGFuY2UgaW5mb3JtYXRpb24gbGV2ZWwgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gZm9yIGhlcmJhbCBleHRyYWN0cyB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEgaW5mb3JtYXRpb24gbGV2ZWwuIFNlZSBmb3IgZnVydGhlciBleHBsYW5hdGlvbiB0aGUgU3Vic3RhbmNlIENsYXNzOiBTdHJ1Y3R1cmFsbHkgRGl2ZXJzZSBhbmQgdGhlIGhlcmJhbCBhbm5leC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxcIjtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGhpZ2ggbGV2ZWwgY2xhc3NpZmljYXRpb24gb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCBzcGVjaWZpYyB0byB0aGUgb3JpZ2luIG9mIHRoZSBtYXRlcmlhbC5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlTWF0ZXJpYWxDbGFzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiB0aGUgc291cmNlIG1hdGVyaWFsIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gRm9yIHZhY2NpbmVzLCB0aGlzIHN1YmNsYXVzZSByZWZlcnMgdG8gdGhlIGNsYXNzIG9mIGluZmVjdGlvdXMgYWdlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZU1hdGVyaWFsVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCB3aGVuIGV4dHJhY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlTWF0ZXJpYWxTdGF0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBzb3VyY2UgbWF0ZXJpYWwgcGFyZW50IG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pc21JZD86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXNtIGFjY2VwdGVkIFNjaWVudGlmaWMgbmFtZSBzaGFsbCBiZSBwcm92aWRlZCBiYXNlZCBvbiB0aGUgb3JnYW5pc20gdGF4b25vbXkuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZ2FuaXNtTmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhcmVudCBvZiB0aGUgaGVyYmFsIGRydWcgR2lua2dvIGJpbG9iYSwgTGVhZiBpcyB0aGUgc3Vic3RhbmNlIElEIG9mIHRoZSBzdWJzdGFuY2UgKGZyZXNoKSBvZiBHaW5rZ28gYmlsb2JhIEwuIG9yIEdpbmtnbyBiaWxvYmEgTC4gKFdob2xlIHBsYW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFyZW50U3Vic3RhbmNlSWQ/OiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGFyZW50IHN1YnN0YW5jZSBvZiB0aGUgSGVyYmFsIERydWcsIG9yIEhlcmJhbCBwcmVwYXJhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcGFyZW50U3Vic3RhbmNlTmFtZT86IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb3VudHJ5IHdoZXJlIHRoZSBwbGFudCBtYXRlcmlhbCBpcyBoYXJ2ZXN0ZWQgb3IgdGhlIGNvdW50cmllcyB3aGVyZSB0aGUgcGxhc21hIGlzIHNvdXJjZWQgZnJvbSBhcyBsYWlkIGRvd24gaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBQbGFzbWEgTWFzdGVyIEZpbGUuIEZvciDigJxQbGFzbWEtZGVyaXZlZCBzdWJzdGFuY2Vz4oCdIHRoZSBhdHRyaWJ1dGUgY291bnRyeSBvZiBvcmlnaW4gcHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvdW50cmllcyB1c2VkIGZvciB0aGUgbWFudWZhY3R1cmluZyBvZiB0aGUgQ3J5b3Bvb3IgcGxhbWEgb3IgQ3Jpb3ByZWNpcGl0YXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3VudHJ5T2ZPcmlnaW4/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwbGFjZS9yZWdpb24gd2hlcmUgdGhlIHBsYW50IGlzIGhhcnZlc3RlZCBvciB0aGUgcGxhY2VzL3JlZ2lvbnMgd2hlcmUgdGhlIGFuaW1hbCBzb3VyY2UgbWF0ZXJpYWwgaGFzIGl0cyBoYWJpdGF0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZW9ncmFwaGljYWxMb2NhdGlvbj86IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFN0YWdlIG9mIGxpZmUgZm9yIGFuaW1hbHMsIHBsYW50cywgaW5zZWN0cyBhbmQgbWljcm9vcmdhbmlzbXMuIFRoaXMgaW5mb3JtYXRpb24gc2hhbGwgYmUgcHJvdmlkZWQgb25seSB3aGVuIHRoZSBzdWJzdGFuY2UgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgaW4gdGhlc2Ugc3RhZ2VzIChlLmcuIGZvZXRhbCBib3ZpbmUgc2VydW0pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXZlbG9wbWVudFN0YWdlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hbnkgY29tcGxleCBtYXRlcmlhbHMgYXJlIGZyYWN0aW9ucyBvZiBwYXJ0cyBvZiBwbGFudHMsIGFuaW1hbHMsIG9yIG1pbmVyYWxzLiBGcmFjdGlvbiBlbGVtZW50cyBhcmUgb2Z0ZW4gbmVjZXNzYXJ5IHRvIGRlZmluZSBib3RoIFN1YnN0YW5jZXMgYW5kIFNwZWNpZmllZCBHcm91cCAxIFN1YnN0YW5jZXMuIEZvciBzdWJzdGFuY2VzIGRlcml2ZWQgZnJvbSBQbGFudHMsIGZyYWN0aW9uIGluZm9ybWF0aW9uIHdpbGwgYmUgY2FwdHVyZWQgYXQgdGhlIFN1YnN0YW5jZSBpbmZvcm1hdGlvbiBsZXZlbCAoIC4gT2lscywgSnVpY2VzIGFuZCBFeHVkYXRlcykuIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gZm9yIEV4dHJhY3RzLCBzdWNoIGFzIGV4dHJhY3Rpb24gc29sdmVudCBjb21wb3NpdGlvbiwgd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGluZm9ybWF0aW9uIGxldmVsLiBGb3IgcGxhc21hLWRlcml2ZWQgcHJvZHVjdHMgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGFuZCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGxldmVscy5cclxuICAgKi9cclxuICBwdWJsaWMgZnJhY3Rpb25EZXNjcmlwdGlvbj86IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxGcmFjdGlvbkRlc2NyaXB0aW9uW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBzdWJjbGF1c2UgZGVzY3JpYmVzIHRoZSBvcmdhbmlzbSB3aGljaCB0aGUgc3Vic3RhbmNlIGlzIGRlcml2ZWQgZnJvbS4gRm9yIHZhY2NpbmVzLCB0aGUgcGFyZW50IG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiB0aGVzZSBzdWJjbGF1c2UgZWxlbWVudHMuIEFzIGFuIGV4YW1wbGUsIGZ1bGwgdGF4b25vbXkgd2lsbCBiZSBkZXNjcmliZWQgZm9yIHRoZSBTdWJzdGFuY2UgTmFtZTogLiwgTGVhZi5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pc20/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc218dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRvIGRvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJ0RGVzY3JpcHRpb24/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbCc7XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2VNYXRlcmlhbENsYXNzJ10pIHsgdGhpcy5zb3VyY2VNYXRlcmlhbENsYXNzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zb3VyY2VNYXRlcmlhbENsYXNzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlTWF0ZXJpYWxUeXBlJ10pIHsgdGhpcy5zb3VyY2VNYXRlcmlhbFR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNvdXJjZU1hdGVyaWFsVHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZU1hdGVyaWFsU3RhdGUnXSkgeyB0aGlzLnNvdXJjZU1hdGVyaWFsU3RhdGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNvdXJjZU1hdGVyaWFsU3RhdGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmdhbmlzbUlkJ10pIHsgdGhpcy5vcmdhbmlzbUlkID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2Uub3JnYW5pc21JZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXNtTmFtZSddKSB7IHRoaXMub3JnYW5pc21OYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5vcmdhbmlzbU5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFyZW50U3Vic3RhbmNlSWQnXSkgeyB0aGlzLnBhcmVudFN1YnN0YW5jZUlkID0gc291cmNlLnBhcmVudFN1YnN0YW5jZUlkLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcmVudFN1YnN0YW5jZUlkID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhcmVudFN1YnN0YW5jZU5hbWUnXSkgeyB0aGlzLnBhcmVudFN1YnN0YW5jZU5hbWUgPSBzb3VyY2UucGFyZW50U3Vic3RhbmNlTmFtZS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXJlbnRTdWJzdGFuY2VOYW1lID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvdW50cnlPZk9yaWdpbiddKSB7IHRoaXMuY291bnRyeU9mT3JpZ2luID0gc291cmNlLmNvdW50cnlPZk9yaWdpbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvdW50cnlPZk9yaWdpbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydnZW9ncmFwaGljYWxMb2NhdGlvbiddKSB7IHRoaXMuZ2VvZ3JhcGhpY2FsTG9jYXRpb24gPSBzb3VyY2UuZ2VvZ3JhcGhpY2FsTG9jYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZ2VvZ3JhcGhpY2FsTG9jYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV2ZWxvcG1lbnRTdGFnZSddKSB7IHRoaXMuZGV2ZWxvcG1lbnRTdGFnZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZGV2ZWxvcG1lbnRTdGFnZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZyYWN0aW9uRGVzY3JpcHRpb24nXSkgeyB0aGlzLmZyYWN0aW9uRGVzY3JpcHRpb24gPSBzb3VyY2UuZnJhY3Rpb25EZXNjcmlwdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZyYWN0aW9uRGVzY3JpcHRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JnYW5pc20nXSkgeyB0aGlzLm9yZ2FuaXNtID0gbmV3IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbShzb3VyY2Uub3JnYW5pc20pOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0RGVzY3JpcHRpb24nXSkgeyB0aGlzLnBhcnREZXNjcmlwdGlvbiA9IHNvdXJjZS5wYXJ0RGVzY3JpcHRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcnREZXNjcmlwdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3Jlc291cmNlVHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2VUeXBlOlwiU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxcIiBmaGlyOiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5yZXNvdXJjZVR5cGU6XCJTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFwiJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZU1hdGVyaWFsQ2xhc3NcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zb3VyY2VNYXRlcmlhbENsYXNzLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZU1hdGVyaWFsVHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNvdXJjZU1hdGVyaWFsVHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzb3VyY2VNYXRlcmlhbFN0YXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc291cmNlTWF0ZXJpYWxTdGF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcmdhbmlzbUlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3JnYW5pc21JZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcmdhbmlzbU5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vcmdhbmlzbU5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGFyZW50U3Vic3RhbmNlSWRcIl0pIHsgdGhpcy5wYXJlbnRTdWJzdGFuY2VJZC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicGFyZW50U3Vic3RhbmNlTmFtZVwiXSkgeyB0aGlzLnBhcmVudFN1YnN0YW5jZU5hbWUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImNvdW50cnlPZk9yaWdpblwiXSkgeyB0aGlzLmNvdW50cnlPZk9yaWdpbi5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZ2VvZ3JhcGhpY2FsTG9jYXRpb25cIl0pIHsgdGhpcy5nZW9ncmFwaGljYWxMb2NhdGlvbi5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZGV2ZWxvcG1lbnRTdGFnZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRldmVsb3BtZW50U3RhZ2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZnJhY3Rpb25EZXNjcmlwdGlvblwiXSkgeyB0aGlzLmZyYWN0aW9uRGVzY3JpcHRpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm9yZ2FuaXNtXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3JnYW5pc20uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGFydERlc2NyaXB0aW9uXCJdKSB7IHRoaXMucGFydERlc2NyaXB0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19