// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: SubstanceSourceMaterial
import * as fhir from '../fhir.js';
/**
 * Many complex materials are fractions of parts of plants, animals, or minerals. Fraction elements are often necessary to define both Substances and Specified Group 1 Substances. For substances derived from Plants, fraction information will be captured at the Substance information level ( . Oils, Juices and Exudates). Additional information for Extracts, such as extraction solvent composition, will be captured at the Specified Substance Group 1 information level. For plasma-derived products fraction information will be captured at the Substance and the Specified Substance Group 1 levels.
 */
export class SubstanceSourceMaterialFractionDescription extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialFractionDescription - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['fraction']) {
            this.fraction = new fhir.FhirString({ value: source.fraction });
        }
        if (source['_fraction']) {
            if (this.fraction) {
                this.fraction.addExtendedProperties(source._fraction);
            }
            else {
                this.fraction = new fhir.FhirString(source._fraction);
            }
        }
        if (source['materialType']) {
            this.materialType = new fhir.CodeableConcept(source.materialType);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSourceMaterial.fractionDescription';
        }
        if (this["fraction"]) {
            issues.push(...this.fraction.doModelValidation(expression + '.fraction'));
        }
        if (this["materialType"]) {
            issues.push(...this.materialType.doModelValidation(expression + '.materialType'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialFractionDescription._fts_dataType = 'SubstanceSourceMaterialFractionDescription';
/**
 * 4.9.13.6.1 Author type (Conditional).
 */
export class SubstanceSourceMaterialOrganismAuthor extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismAuthor - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['authorType']) {
            this.authorType = new fhir.CodeableConcept(source.authorType);
        }
        if (source['authorDescription']) {
            this.authorDescription = new fhir.FhirString({ value: source.authorDescription });
        }
        if (source['_authorDescription']) {
            if (this.authorDescription) {
                this.authorDescription.addExtendedProperties(source._authorDescription);
            }
            else {
                this.authorDescription = new fhir.FhirString(source._authorDescription);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSourceMaterial.organism.author';
        }
        if (this["authorType"]) {
            issues.push(...this.authorType.doModelValidation(expression + '.authorType'));
        }
        if (this["authorDescription"]) {
            issues.push(...this.authorDescription.doModelValidation(expression + '.authorDescription'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismAuthor._fts_dataType = 'SubstanceSourceMaterialOrganismAuthor';
/**
 * 4.9.13.8.1 Hybrid species maternal organism ID (Optional).
 */
export class SubstanceSourceMaterialOrganismHybrid extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismHybrid - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['maternalOrganismId']) {
            this.maternalOrganismId = new fhir.FhirString({ value: source.maternalOrganismId });
        }
        if (source['_maternalOrganismId']) {
            if (this.maternalOrganismId) {
                this.maternalOrganismId.addExtendedProperties(source._maternalOrganismId);
            }
            else {
                this.maternalOrganismId = new fhir.FhirString(source._maternalOrganismId);
            }
        }
        if (source['maternalOrganismName']) {
            this.maternalOrganismName = new fhir.FhirString({ value: source.maternalOrganismName });
        }
        if (source['_maternalOrganismName']) {
            if (this.maternalOrganismName) {
                this.maternalOrganismName.addExtendedProperties(source._maternalOrganismName);
            }
            else {
                this.maternalOrganismName = new fhir.FhirString(source._maternalOrganismName);
            }
        }
        if (source['paternalOrganismId']) {
            this.paternalOrganismId = new fhir.FhirString({ value: source.paternalOrganismId });
        }
        if (source['_paternalOrganismId']) {
            if (this.paternalOrganismId) {
                this.paternalOrganismId.addExtendedProperties(source._paternalOrganismId);
            }
            else {
                this.paternalOrganismId = new fhir.FhirString(source._paternalOrganismId);
            }
        }
        if (source['paternalOrganismName']) {
            this.paternalOrganismName = new fhir.FhirString({ value: source.paternalOrganismName });
        }
        if (source['_paternalOrganismName']) {
            if (this.paternalOrganismName) {
                this.paternalOrganismName.addExtendedProperties(source._paternalOrganismName);
            }
            else {
                this.paternalOrganismName = new fhir.FhirString(source._paternalOrganismName);
            }
        }
        if (source['hybridType']) {
            this.hybridType = new fhir.CodeableConcept(source.hybridType);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSourceMaterial.organism.hybrid';
        }
        if (this["maternalOrganismId"]) {
            issues.push(...this.maternalOrganismId.doModelValidation(expression + '.maternalOrganismId'));
        }
        if (this["maternalOrganismName"]) {
            issues.push(...this.maternalOrganismName.doModelValidation(expression + '.maternalOrganismName'));
        }
        if (this["paternalOrganismId"]) {
            issues.push(...this.paternalOrganismId.doModelValidation(expression + '.paternalOrganismId'));
        }
        if (this["paternalOrganismName"]) {
            issues.push(...this.paternalOrganismName.doModelValidation(expression + '.paternalOrganismName'));
        }
        if (this["hybridType"]) {
            issues.push(...this.hybridType.doModelValidation(expression + '.hybridType'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismHybrid._fts_dataType = 'SubstanceSourceMaterialOrganismHybrid';
/**
 * 4.9.13.7.1 Kingdom (Conditional).
 */
export class SubstanceSourceMaterialOrganismOrganismGeneral extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismOrganismGeneral - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['kingdom']) {
            this.kingdom = new fhir.CodeableConcept(source.kingdom);
        }
        if (source['phylum']) {
            this.phylum = new fhir.CodeableConcept(source.phylum);
        }
        if (source['class']) {
            this.class = new fhir.CodeableConcept(source.class);
        }
        if (source['order']) {
            this.order = new fhir.CodeableConcept(source.order);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSourceMaterial.organism.organismGeneral';
        }
        if (this["kingdom"]) {
            issues.push(...this.kingdom.doModelValidation(expression + '.kingdom'));
        }
        if (this["phylum"]) {
            issues.push(...this.phylum.doModelValidation(expression + '.phylum'));
        }
        if (this["class"]) {
            issues.push(...this.class.doModelValidation(expression + '.class'));
        }
        if (this["order"]) {
            issues.push(...this.order.doModelValidation(expression + '.order'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismOrganismGeneral._fts_dataType = 'SubstanceSourceMaterialOrganismOrganismGeneral';
/**
 * This subclause describes the organism which the substance is derived from. For vaccines, the parent organism shall be specified based on these subclause elements. As an example, full taxonomy will be described for the Substance Name: ., Leaf.
 */
export class SubstanceSourceMaterialOrganism extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganism - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['family']) {
            this.family = new fhir.CodeableConcept(source.family);
        }
        if (source['genus']) {
            this.genus = new fhir.CodeableConcept(source.genus);
        }
        if (source['species']) {
            this.species = new fhir.CodeableConcept(source.species);
        }
        if (source['intraspecificType']) {
            this.intraspecificType = new fhir.CodeableConcept(source.intraspecificType);
        }
        if (source['intraspecificDescription']) {
            this.intraspecificDescription = new fhir.FhirString({ value: source.intraspecificDescription });
        }
        if (source['_intraspecificDescription']) {
            if (this.intraspecificDescription) {
                this.intraspecificDescription.addExtendedProperties(source._intraspecificDescription);
            }
            else {
                this.intraspecificDescription = new fhir.FhirString(source._intraspecificDescription);
            }
        }
        if (source['author']) {
            this.author = source.author.map((x) => new fhir.SubstanceSourceMaterialOrganismAuthor(x));
        }
        else {
            this.author = [];
        }
        if (source['hybrid']) {
            this.hybrid = new fhir.SubstanceSourceMaterialOrganismHybrid(source.hybrid);
        }
        if (source['organismGeneral']) {
            this.organismGeneral = new fhir.SubstanceSourceMaterialOrganismOrganismGeneral(source.organismGeneral);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSourceMaterial.organism';
        }
        if (this["family"]) {
            issues.push(...this.family.doModelValidation(expression + '.family'));
        }
        if (this["genus"]) {
            issues.push(...this.genus.doModelValidation(expression + '.genus'));
        }
        if (this["species"]) {
            issues.push(...this.species.doModelValidation(expression + '.species'));
        }
        if (this["intraspecificType"]) {
            issues.push(...this.intraspecificType.doModelValidation(expression + '.intraspecificType'));
        }
        if (this["intraspecificDescription"]) {
            issues.push(...this.intraspecificDescription.doModelValidation(expression + '.intraspecificDescription'));
        }
        if (this["author"]) {
            this.author.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.author[${i}]`)); });
        }
        if (this["hybrid"]) {
            issues.push(...this.hybrid.doModelValidation(expression + '.hybrid'));
        }
        if (this["organismGeneral"]) {
            issues.push(...this.organismGeneral.doModelValidation(expression + '.organismGeneral'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganism._fts_dataType = 'SubstanceSourceMaterialOrganism';
/**
 * To do.
 */
export class SubstanceSourceMaterialPartDescription extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialPartDescription - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['part']) {
            this.part = new fhir.CodeableConcept(source.part);
        }
        if (source['partLocation']) {
            this.partLocation = new fhir.CodeableConcept(source.partLocation);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSourceMaterial.partDescription';
        }
        if (this["part"]) {
            issues.push(...this.part.doModelValidation(expression + '.part'));
        }
        if (this["partLocation"]) {
            issues.push(...this.partLocation.doModelValidation(expression + '.partLocation'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialPartDescription._fts_dataType = 'SubstanceSourceMaterialPartDescription';
/**
 * Source material shall capture information on the taxonomic and anatomical origins as well as the fraction of a material that can result in or can be modified to form a substance. This set of data elements shall be used to define polymer substances isolated from biological matrices. Taxonomic and anatomical origins shall be described using a controlled vocabulary as required. This information is captured for naturally derived polymers ( . starch) and structurally diverse substances. For Organisms belonging to the Kingdom Plantae the Substance level defines the fresh material of a single species or infraspecies, the Herbal Drug and the Herbal preparation. For Herbal preparations, the fraction information will be captured at the Substance information level and additional information for herbal extracts will be captured at the Specified Substance Group 1 information level. See for further explanation the Substance Class: Structurally Diverse and the herbal annex.
 */
export class SubstanceSourceMaterial extends fhir.DomainResource {
    /**
     * Default constructor for SubstanceSourceMaterial - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'SubstanceSourceMaterial';
        if (source['sourceMaterialClass']) {
            this.sourceMaterialClass = new fhir.CodeableConcept(source.sourceMaterialClass);
        }
        if (source['sourceMaterialType']) {
            this.sourceMaterialType = new fhir.CodeableConcept(source.sourceMaterialType);
        }
        if (source['sourceMaterialState']) {
            this.sourceMaterialState = new fhir.CodeableConcept(source.sourceMaterialState);
        }
        if (source['organismId']) {
            this.organismId = new fhir.Identifier(source.organismId);
        }
        if (source['organismName']) {
            this.organismName = new fhir.FhirString({ value: source.organismName });
        }
        if (source['_organismName']) {
            if (this.organismName) {
                this.organismName.addExtendedProperties(source._organismName);
            }
            else {
                this.organismName = new fhir.FhirString(source._organismName);
            }
        }
        if (source['parentSubstanceId']) {
            this.parentSubstanceId = source.parentSubstanceId.map((x) => new fhir.Identifier(x));
        }
        else {
            this.parentSubstanceId = [];
        }
        if (source['parentSubstanceName']) {
            this.parentSubstanceName = source.parentSubstanceName.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.parentSubstanceName = [];
        }
        if (source['_parentSubstanceName']) {
            source._parentSubstanceName.forEach((x, i) => {
                if (this.parentSubstanceName.length >= i) {
                    if (x) {
                        this.parentSubstanceName[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.parentSubstanceName.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['countryOfOrigin']) {
            this.countryOfOrigin = source.countryOfOrigin.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.countryOfOrigin = [];
        }
        if (source['geographicalLocation']) {
            this.geographicalLocation = source.geographicalLocation.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.geographicalLocation = [];
        }
        if (source['_geographicalLocation']) {
            source._geographicalLocation.forEach((x, i) => {
                if (this.geographicalLocation.length >= i) {
                    if (x) {
                        this.geographicalLocation[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.geographicalLocation.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['developmentStage']) {
            this.developmentStage = new fhir.CodeableConcept(source.developmentStage);
        }
        if (source['fractionDescription']) {
            this.fractionDescription = source.fractionDescription.map((x) => new fhir.SubstanceSourceMaterialFractionDescription(x));
        }
        else {
            this.fractionDescription = [];
        }
        if (source['organism']) {
            this.organism = new fhir.SubstanceSourceMaterialOrganism(source.organism);
        }
        if (source['partDescription']) {
            this.partDescription = source.partDescription.map((x) => new fhir.SubstanceSourceMaterialPartDescription(x));
        }
        else {
            this.partDescription = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSourceMaterial';
        }
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType fhir: SubstanceSourceMaterial.resourceType:"SubstanceSourceMaterial"', expression: [expression] });
        }
        if (this["sourceMaterialClass"]) {
            issues.push(...this.sourceMaterialClass.doModelValidation(expression + '.sourceMaterialClass'));
        }
        if (this["sourceMaterialType"]) {
            issues.push(...this.sourceMaterialType.doModelValidation(expression + '.sourceMaterialType'));
        }
        if (this["sourceMaterialState"]) {
            issues.push(...this.sourceMaterialState.doModelValidation(expression + '.sourceMaterialState'));
        }
        if (this["organismId"]) {
            issues.push(...this.organismId.doModelValidation(expression + '.organismId'));
        }
        if (this["organismName"]) {
            issues.push(...this.organismName.doModelValidation(expression + '.organismName'));
        }
        if (this["parentSubstanceId"]) {
            this.parentSubstanceId.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.parentSubstanceId[${i}]`)); });
        }
        if (this["parentSubstanceName"]) {
            this.parentSubstanceName.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.parentSubstanceName[${i}]`)); });
        }
        if (this["countryOfOrigin"]) {
            this.countryOfOrigin.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.countryOfOrigin[${i}]`)); });
        }
        if (this["geographicalLocation"]) {
            this.geographicalLocation.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.geographicalLocation[${i}]`)); });
        }
        if (this["developmentStage"]) {
            issues.push(...this.developmentStage.doModelValidation(expression + '.developmentStage'));
        }
        if (this["fractionDescription"]) {
            this.fractionDescription.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.fractionDescription[${i}]`)); });
        }
        if (this["organism"]) {
            issues.push(...this.organism.doModelValidation(expression + '.organism'));
        }
        if (this["partDescription"]) {
            this.partDescription.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.partDescription[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterial._fts_dataType = 'SubstanceSourceMaterial';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLHlDQUF5QztBQUV6QyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQW9CbkM7O0dBRUc7QUFDSCxNQUFNLE9BQU8sMENBQTJDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhbEY7O09BRUc7SUFDSCxZQUFZLFNBQWlFLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3ZILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzFGLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxTQUFVLENBQUMsQ0FBQzthQUFFO2lCQUN6RTtnQkFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsU0FBeUMsQ0FBQyxDQUFDO2FBQUU7U0FDaEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUFFO0lBQ3BHLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLGFBQW9CLEVB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QUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDbEcsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDckosT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE3SEQ7O0dBRUc7QUFDNkIscUNBQWEsR0FBVSx5QkFBeUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxGcmFjdGlvbkRlc2NyaXB0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBjYXB0dXJpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGZyYWN0aW9uIG9mIGEgcGxhbnQgcGFydCwgb3IgaHVtYW4gcGxhc21hIGZvciBmcmFjdGlvbmF0aW9uLlxyXG4gICAqL1xyXG4gIGZyYWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLmZyYWN0aW9uRGVzY3JpcHRpb24uZnJhY3Rpb25cclxuICAgKi9cclxuICBfZnJhY3Rpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHRoZSBtYXRlcmlhbCBjb25zdGl0dXRpbmcgdGhlIGNvbXBvbmVudC4gRm9yIEhlcmJhbCBwcmVwYXJhdGlvbnMgdGhlIHBhcnRpY3VsYXJzIG9mIHRoZSBleHRyYWN0cyAobGlxdWlkL2RyeSkgaXMgZGVzY3JpYmVkIGluIFNwZWNpZmllZCBTdWJzdGFuY2UgR3JvdXAgMS5cclxuICAgKi9cclxuICBtYXRlcmlhbFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTWFueSBjb21wbGV4IG1hdGVyaWFscyBhcmUgZnJhY3Rpb25zIG9mIHBhcnRzIG9mIHBsYW50cywgYW5pbWFscywgb3IgbWluZXJhbHMuIEZyYWN0aW9uIGVsZW1lbnRzIGFyZSBvZnRlbiBuZWNlc3NhcnkgdG8gZGVmaW5lIGJvdGggU3Vic3RhbmNlcyBhbmQgU3BlY2lmaWVkIEdyb3VwIDEgU3Vic3RhbmNlcy4gRm9yIHN1YnN0YW5jZXMgZGVyaXZlZCBmcm9tIFBsYW50cywgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGluZm9ybWF0aW9uIGxldmVsICggLiBPaWxzLCBKdWljZXMgYW5kIEV4dWRhdGVzKS4gQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmb3IgRXh0cmFjdHMsIHN1Y2ggYXMgZXh0cmFjdGlvbiBzb2x2ZW50IGNvbXBvc2l0aW9uLCB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEgaW5mb3JtYXRpb24gbGV2ZWwuIEZvciBwbGFzbWEtZGVyaXZlZCBwcm9kdWN0cyBmcmFjdGlvbiBpbmZvcm1hdGlvbiB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTdWJzdGFuY2UgYW5kIHRoZSBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEgbGV2ZWxzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGNhcHR1cmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZnJhY3Rpb24gb2YgYSBwbGFudCBwYXJ0LCBvciBodW1hbiBwbGFzbWEgZm9yIGZyYWN0aW9uYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGZyYWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgdHlwZSBvZiB0aGUgbWF0ZXJpYWwgY29uc3RpdHV0aW5nIHRoZSBjb21wb25lbnQuIEZvciBIZXJiYWwgcHJlcGFyYXRpb25zIHRoZSBwYXJ0aWN1bGFycyBvZiB0aGUgZXh0cmFjdHMgKGxpcXVpZC9kcnkpIGlzIGRlc2NyaWJlZCBpbiBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEuXHJcbiAgICovXHJcbiAgcHVibGljIG1hdGVyaWFsVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZnJhY3Rpb24nXSkgeyB0aGlzLmZyYWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5mcmFjdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZnJhY3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5mcmFjdGlvbikgeyB0aGlzLmZyYWN0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ZyYWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZnJhY3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZnJhY3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21hdGVyaWFsVHlwZSddKSB7IHRoaXMubWF0ZXJpYWxUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tYXRlcmlhbFR5cGUpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLmZyYWN0aW9uRGVzY3JpcHRpb24nIH1cclxuICAgIGlmICh0aGlzW1wiZnJhY3Rpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5mcmFjdGlvbi5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuZnJhY3Rpb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1wibWF0ZXJpYWxUeXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubWF0ZXJpYWxUeXBlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5tYXRlcmlhbFR5cGUnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXV0aG9yIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3JBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBhdXRob3Igb2YgYW4gb3JnYW5pc20gc3BlY2llcyBzaGFsbCBiZSBzcGVjaWZpZWQuIFRoZSBwYXJlbnRoZXRpY2FsIGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHJlZmVycyB0byB0aGUgZmlyc3QgYXV0aG9yIHdobyBwdWJsaXNoZWQgdGhlIHBsYW50L2FuaW1hbCBuYW1lIChvZiBhbnkgcmFuaykuIFRoZSBwcmltYXJ5IGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHJlZmVycyB0byB0aGUgZmlyc3QgYXV0aG9yKHMpLCB3aG8gdmFsaWRseSBwdWJsaXNoZWQgdGhlIHBsYW50L2FuaW1hbCBuYW1lLlxyXG4gICAqL1xyXG4gIGF1dGhvclR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhdXRob3Igb2YgYW4gb3JnYW5pc20gc3BlY2llcyBzaGFsbCBiZSBzcGVjaWZpZWQuIFRoZSBhdXRob3IgeWVhciBvZiBhbiBvcmdhbmlzbSBzaGFsbCBhbHNvIGJlIHNwZWNpZmllZCB3aGVuIGFwcGxpY2FibGU7IHJlZmVycyB0byB0aGUgeWVhciBpbiB3aGljaCB0aGUgZmlyc3QgYXV0aG9yKHMpIHB1Ymxpc2hlZCB0aGUgaW5mcmFzcGVjaWZpYyBwbGFudC9hbmltYWwgbmFtZSAob2YgYW55IHJhbmspLlxyXG4gICAqL1xyXG4gIGF1dGhvckRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLmF1dGhvci5hdXRob3JEZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9hdXRob3JEZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiA0LjkuMTMuNi4xIEF1dGhvciB0eXBlIChDb25kaXRpb25hbCkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3InO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHNoYWxsIGJlIHNwZWNpZmllZC4gVGhlIHBhcmVudGhldGljYWwgYXV0aG9yIG9mIGFuIG9yZ2FuaXNtIHNwZWNpZXMgcmVmZXJzIHRvIHRoZSBmaXJzdCBhdXRob3Igd2hvIHB1Ymxpc2hlZCB0aGUgcGxhbnQvYW5pbWFsIG5hbWUgKG9mIGFueSByYW5rKS4gVGhlIHByaW1hcnkgYXV0aG9yIG9mIGFuIG9yZ2FuaXNtIHNwZWNpZXMgcmVmZXJzIHRvIHRoZSBmaXJzdCBhdXRob3IocyksIHdobyB2YWxpZGx5IHB1Ymxpc2hlZCB0aGUgcGxhbnQvYW5pbWFsIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIGF1dGhvclR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHNoYWxsIGJlIHNwZWNpZmllZC4gVGhlIGF1dGhvciB5ZWFyIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGFsc28gYmUgc3BlY2lmaWVkIHdoZW4gYXBwbGljYWJsZTsgcmVmZXJzIHRvIHRoZSB5ZWFyIGluIHdoaWNoIHRoZSBmaXJzdCBhdXRob3IocykgcHVibGlzaGVkIHRoZSBpbmZyYXNwZWNpZmljIHBsYW50L2FuaW1hbCBuYW1lIChvZiBhbnkgcmFuaykuXHJcbiAgICovXHJcbiAgcHVibGljIGF1dGhvckRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXV0aG9yIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhdXRob3JUeXBlJ10pIHsgdGhpcy5hdXRob3JUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hdXRob3JUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXV0aG9yRGVzY3JpcHRpb24nXSkgeyB0aGlzLmF1dGhvckRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hdXRob3JEZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYXV0aG9yRGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hdXRob3JEZXNjcmlwdGlvbikgeyB0aGlzLmF1dGhvckRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2F1dGhvckRlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYXV0aG9yRGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYXV0aG9yRGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwub3JnYW5pc20uYXV0aG9yJyB9XHJcbiAgICBpZiAodGhpc1tcImF1dGhvclR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hdXRob3JUeXBlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5hdXRob3JUeXBlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImF1dGhvckRlc2NyaXB0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYXV0aG9yRGVzY3JpcHRpb24uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmF1dGhvckRlc2NyaXB0aW9uJykpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUh5YnJpZCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1hdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5LiBGb3IgcGxhbnRzLCB0aGUgcGFyZW50cyBhcmVu4oCZdCBhbHdheXMga25vd24sIGFuZCBpdCBpcyB1bmxpa2VseSB0aGF0IGl0IHdpbGwgYmUga25vd24gd2hpY2ggaXMgbWF0ZXJuYWwgYW5kIHdoaWNoIGlzIHBhdGVybmFsLlxyXG4gICAqL1xyXG4gIG1hdGVybmFsT3JnYW5pc21JZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5vcmdhbmlzbS5oeWJyaWQubWF0ZXJuYWxPcmdhbmlzbUlkXHJcbiAgICovXHJcbiAgX21hdGVybmFsT3JnYW5pc21JZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgdGhlIG1hdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLiBGb3IgcGxhbnRzLCB0aGUgcGFyZW50cyBhcmVu4oCZdCBhbHdheXMga25vd24sIGFuZCBpdCBpcyB1bmxpa2VseSB0aGF0IGl0IHdpbGwgYmUga25vd24gd2hpY2ggaXMgbWF0ZXJuYWwgYW5kIHdoaWNoIGlzIHBhdGVybmFsLlxyXG4gICAqL1xyXG4gIG1hdGVybmFsT3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLmh5YnJpZC5tYXRlcm5hbE9yZ2FuaXNtTmFtZVxyXG4gICAqL1xyXG4gIF9tYXRlcm5hbE9yZ2FuaXNtTmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHBhdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5LlxyXG4gICAqL1xyXG4gIHBhdGVybmFsT3JnYW5pc21JZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5vcmdhbmlzbS5oeWJyaWQucGF0ZXJuYWxPcmdhbmlzbUlkXHJcbiAgICovXHJcbiAgX3BhdGVybmFsT3JnYW5pc21JZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgdGhlIHBhdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHBhdGVybmFsT3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLmh5YnJpZC5wYXRlcm5hbE9yZ2FuaXNtTmFtZVxyXG4gICAqL1xyXG4gIF9wYXRlcm5hbE9yZ2FuaXNtTmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGh5YnJpZCB0eXBlIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBoeWJyaWRUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIDQuOS4xMy44LjEgSHlicmlkIHNwZWNpZXMgbWF0ZXJuYWwgb3JnYW5pc20gSUQgKE9wdGlvbmFsKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUh5YnJpZCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1hdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5LiBGb3IgcGxhbnRzLCB0aGUgcGFyZW50cyBhcmVu4oCZdCBhbHdheXMga25vd24sIGFuZCBpdCBpcyB1bmxpa2VseSB0aGF0IGl0IHdpbGwgYmUga25vd24gd2hpY2ggaXMgbWF0ZXJuYWwgYW5kIHdoaWNoIGlzIHBhdGVybmFsLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXRlcm5hbE9yZ2FuaXNtSWQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBtYXRlcm5hbCBzcGVjaWVzIGNvbnN0aXR1dGluZyB0aGUgaHlicmlkIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC4gRm9yIHBsYW50cywgdGhlIHBhcmVudHMgYXJlbuKAmXQgYWx3YXlzIGtub3duLCBhbmQgaXQgaXMgdW5saWtlbHkgdGhhdCBpdCB3aWxsIGJlIGtub3duIHdoaWNoIGlzIG1hdGVybmFsIGFuZCB3aGljaCBpcyBwYXRlcm5hbC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF0ZXJuYWxPcmdhbmlzbU5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBwYXRlcm5hbCBzcGVjaWVzIGNvbnN0aXR1dGluZyB0aGUgaHlicmlkIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0ZXJuYWxPcmdhbmlzbUlkPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgcGF0ZXJuYWwgc3BlY2llcyBjb25zdGl0dXRpbmcgdGhlIGh5YnJpZCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGVybmFsT3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaHlicmlkIHR5cGUgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoeWJyaWRUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21hdGVybmFsT3JnYW5pc21JZCddKSB7IHRoaXMubWF0ZXJuYWxPcmdhbmlzbUlkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5tYXRlcm5hbE9yZ2FuaXNtSWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX21hdGVybmFsT3JnYW5pc21JZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLm1hdGVybmFsT3JnYW5pc21JZCkgeyB0aGlzLm1hdGVybmFsT3JnYW5pc21JZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tYXRlcm5hbE9yZ2FuaXNtSWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5tYXRlcm5hbE9yZ2FuaXNtSWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbWF0ZXJuYWxPcmdhbmlzbUlkIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYXRlcm5hbE9yZ2FuaXNtTmFtZSddKSB7IHRoaXMubWF0ZXJuYWxPcmdhbmlzbU5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm1hdGVybmFsT3JnYW5pc21OYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tYXRlcm5hbE9yZ2FuaXNtTmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm1hdGVybmFsT3JnYW5pc21OYW1lKSB7IHRoaXMubWF0ZXJuYWxPcmdhbmlzbU5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbWF0ZXJuYWxPcmdhbmlzbU5hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5tYXRlcm5hbE9yZ2FuaXNtTmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9tYXRlcm5hbE9yZ2FuaXNtTmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0ZXJuYWxPcmdhbmlzbUlkJ10pIHsgdGhpcy5wYXRlcm5hbE9yZ2FuaXNtSWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnBhdGVybmFsT3JnYW5pc21JZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcGF0ZXJuYWxPcmdhbmlzbUlkJ10pIHtcclxuICAgICAgaWYgKHRoaXMucGF0ZXJuYWxPcmdhbmlzbUlkKSB7IHRoaXMucGF0ZXJuYWxPcmdhbmlzbUlkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3BhdGVybmFsT3JnYW5pc21JZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBhdGVybmFsT3JnYW5pc21JZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wYXRlcm5hbE9yZ2FuaXNtSWQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGVybmFsT3JnYW5pc21OYW1lJ10pIHsgdGhpcy5wYXRlcm5hbE9yZ2FuaXNtTmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucGF0ZXJuYWxPcmdhbmlzbU5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3BhdGVybmFsT3JnYW5pc21OYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMucGF0ZXJuYWxPcmdhbmlzbU5hbWUpIHsgdGhpcy5wYXRlcm5hbE9yZ2FuaXNtTmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wYXRlcm5hbE9yZ2FuaXNtTmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBhdGVybmFsT3JnYW5pc21OYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3BhdGVybmFsT3JnYW5pc21OYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydoeWJyaWRUeXBlJ10pIHsgdGhpcy5oeWJyaWRUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5oeWJyaWRUeXBlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5vcmdhbmlzbS5oeWJyaWQnIH1cclxuICAgIGlmICh0aGlzW1wibWF0ZXJuYWxPcmdhbmlzbUlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubWF0ZXJuYWxPcmdhbmlzbUlkLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5tYXRlcm5hbE9yZ2FuaXNtSWQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibWF0ZXJuYWxPcmdhbmlzbU5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tYXRlcm5hbE9yZ2FuaXNtTmFtZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycubWF0ZXJuYWxPcmdhbmlzbU5hbWUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGF0ZXJuYWxPcmdhbmlzbUlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGF0ZXJuYWxPcmdhbmlzbUlkLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5wYXRlcm5hbE9yZ2FuaXNtSWQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGF0ZXJuYWxPcmdhbmlzbU5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYXRlcm5hbE9yZ2FuaXNtTmFtZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucGF0ZXJuYWxPcmdhbmlzbU5hbWUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaHlicmlkVHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmh5YnJpZFR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmh5YnJpZFR5cGUnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtT3JnYW5pc21HZW5lcmFsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWxBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUga2luZ2RvbSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAga2luZ2RvbT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBoeWx1bSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcGh5bHVtPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY2xhc3Mgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIGNsYXNzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JkZXIgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLC5cclxuICAgKi9cclxuICBvcmRlcj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiA0LjkuMTMuNy4xIEtpbmdkb20gKENvbmRpdGlvbmFsKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtT3JnYW5pc21HZW5lcmFsIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbU9yZ2FuaXNtR2VuZXJhbCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGtpbmdkb20gb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBraW5nZG9tPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwaHlsdW0gb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwaHlsdW0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNsYXNzIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgY2xhc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZGVyIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCwuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZGVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtT3JnYW5pc21HZW5lcmFsQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2tpbmdkb20nXSkgeyB0aGlzLmtpbmdkb20gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmtpbmdkb20pOyB9XHJcbiAgICBpZiAoc291cmNlWydwaHlsdW0nXSkgeyB0aGlzLnBoeWx1bSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGh5bHVtKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xhc3MnXSkgeyB0aGlzLmNsYXNzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jbGFzcyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZGVyJ10pIHsgdGhpcy5vcmRlciA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uub3JkZXIpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLm9yZ2FuaXNtR2VuZXJhbCcgfVxyXG4gICAgaWYgKHRoaXNbXCJraW5nZG9tXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMua2luZ2RvbS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycua2luZ2RvbScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwaHlsdW1cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5waHlsdW0uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnBoeWx1bScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjbGFzc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNsYXNzLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5jbGFzcycpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcmRlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm9yZGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5vcmRlcicpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc20gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmYW1pbHkgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIGZhbWlseT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGdlbnVzIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZDsgcmVmZXJzIHRvIHRoZSBMYXRpbiBlcGl0aGV0IG9mIHRoZSBnZW51cyBlbGVtZW50IG9mIHRoZSBwbGFudC9hbmltYWwgc2NpZW50aWZpYyBuYW1lOyBpdCBpcyBwcmVzZW50IGluIG5hbWVzIGZvciBnZW5lcmEsIHNwZWNpZXMgYW5kIGluZnJhc3BlY2llcy5cclxuICAgKi9cclxuICBnZW51cz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZXMgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkOyByZWZlcnMgdG8gdGhlIExhdGluIGVwaXRoZXQgb2YgdGhlIHNwZWNpZXMgb2YgdGhlIHBsYW50L2FuaW1hbDsgaXQgaXMgcHJlc2VudCBpbiBuYW1lcyBmb3Igc3BlY2llcyBhbmQgaW5mcmFzcGVjaWVzLlxyXG4gICAqL1xyXG4gIHNwZWNpZXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBJbnRyYXNwZWNpZmljIHR5cGUgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIGludHJhc3BlY2lmaWNUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW50cmFzcGVjaWZpYyBkZXNjcmlwdGlvbiBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gYSBjb250cm9sbGVkIHZvY2FidWxhcnkuIEZvciBJbmZsdWVuemEgVmFjY2luZSwgdGhlIGludHJhc3BlY2lmaWMgZGVzY3JpcHRpb24gc2hhbGwgY29udGFpbiB0aGUgc3ludGF4IG9mIHRoZSBhbnRpZ2VuIGluIGxpbmUgd2l0aCB0aGUgV0hPIGNvbnZlbnRpb24uXHJcbiAgICovXHJcbiAgaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLmludHJhc3BlY2lmaWNEZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9pbnRyYXNwZWNpZmljRGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIDQuOS4xMy42LjEgQXV0aG9yIHR5cGUgKENvbmRpdGlvbmFsKS5cclxuICAgKi9cclxuICBhdXRob3I/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3JBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIDQuOS4xMy44LjEgSHlicmlkIHNwZWNpZXMgbWF0ZXJuYWwgb3JnYW5pc20gSUQgKE9wdGlvbmFsKS5cclxuICAgKi9cclxuICBoeWJyaWQ/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiA0LjkuMTMuNy4xIEtpbmdkb20gKENvbmRpdGlvbmFsKS5cclxuICAgKi9cclxuICBvcmdhbmlzbUdlbmVyYWw/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWxBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoaXMgc3ViY2xhdXNlIGRlc2NyaWJlcyB0aGUgb3JnYW5pc20gd2hpY2ggdGhlIHN1YnN0YW5jZSBpcyBkZXJpdmVkIGZyb20uIEZvciB2YWNjaW5lcywgdGhlIHBhcmVudCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gdGhlc2Ugc3ViY2xhdXNlIGVsZW1lbnRzLiBBcyBhbiBleGFtcGxlLCBmdWxsIHRheG9ub215IHdpbGwgYmUgZGVzY3JpYmVkIGZvciB0aGUgU3Vic3RhbmNlIE5hbWU6IC4sIExlYWYuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc20nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmYW1pbHkgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmYW1pbHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGdlbnVzIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZDsgcmVmZXJzIHRvIHRoZSBMYXRpbiBlcGl0aGV0IG9mIHRoZSBnZW51cyBlbGVtZW50IG9mIHRoZSBwbGFudC9hbmltYWwgc2NpZW50aWZpYyBuYW1lOyBpdCBpcyBwcmVzZW50IGluIG5hbWVzIGZvciBnZW5lcmEsIHNwZWNpZXMgYW5kIGluZnJhc3BlY2llcy5cclxuICAgKi9cclxuICBwdWJsaWMgZ2VudXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZXMgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkOyByZWZlcnMgdG8gdGhlIExhdGluIGVwaXRoZXQgb2YgdGhlIHNwZWNpZXMgb2YgdGhlIHBsYW50L2FuaW1hbDsgaXQgaXMgcHJlc2VudCBpbiBuYW1lcyBmb3Igc3BlY2llcyBhbmQgaW5mcmFzcGVjaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzcGVjaWVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBJbnRyYXNwZWNpZmljIHR5cGUgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnRyYXNwZWNpZmljVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW50cmFzcGVjaWZpYyBkZXNjcmlwdGlvbiBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gYSBjb250cm9sbGVkIHZvY2FidWxhcnkuIEZvciBJbmZsdWVuemEgVmFjY2luZSwgdGhlIGludHJhc3BlY2lmaWMgZGVzY3JpcHRpb24gc2hhbGwgY29udGFpbiB0aGUgc3ludGF4IG9mIHRoZSBhbnRpZ2VuIGluIGxpbmUgd2l0aCB0aGUgV0hPIGNvbnZlbnRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGludHJhc3BlY2lmaWNEZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogNC45LjEzLjYuMSBBdXRob3IgdHlwZSAoQ29uZGl0aW9uYWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdXRob3I6IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvcltdO1xyXG4gIC8qKlxyXG4gICAqIDQuOS4xMy44LjEgSHlicmlkIHNwZWNpZXMgbWF0ZXJuYWwgb3JnYW5pc20gSUQgKE9wdGlvbmFsKS5cclxuICAgKi9cclxuICBwdWJsaWMgaHlicmlkPzogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiA0LjkuMTMuNy4xIEtpbmdkb20gKENvbmRpdGlvbmFsKS5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pc21HZW5lcmFsPzogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtT3JnYW5pc21HZW5lcmFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydmYW1pbHknXSkgeyB0aGlzLmZhbWlseSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZmFtaWx5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZ2VudXMnXSkgeyB0aGlzLmdlbnVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5nZW51cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NwZWNpZXMnXSkgeyB0aGlzLnNwZWNpZXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNwZWNpZXMpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRyYXNwZWNpZmljVHlwZSddKSB7IHRoaXMuaW50cmFzcGVjaWZpY1R5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmludHJhc3BlY2lmaWNUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5pbnRyYXNwZWNpZmljRGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmludHJhc3BlY2lmaWNEZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uKSB7IHRoaXMuaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ludHJhc3BlY2lmaWNEZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmludHJhc3BlY2lmaWNEZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9pbnRyYXNwZWNpZmljRGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2F1dGhvciddKSB7IHRoaXMuYXV0aG9yID0gc291cmNlLmF1dGhvci5tYXAoKHgpID0+IG5ldyBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3IoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hdXRob3IgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaHlicmlkJ10pIHsgdGhpcy5oeWJyaWQgPSBuZXcgZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkKHNvdXJjZS5oeWJyaWQpOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmdhbmlzbUdlbmVyYWwnXSkgeyB0aGlzLm9yZ2FuaXNtR2VuZXJhbCA9IG5ldyBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWwoc291cmNlLm9yZ2FuaXNtR2VuZXJhbCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwub3JnYW5pc20nIH1cclxuICAgIGlmICh0aGlzW1wiZmFtaWx5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZmFtaWx5LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5mYW1pbHknKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZ2VudXNcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5nZW51cy5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuZ2VudXMnKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3BlY2llc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNwZWNpZXMuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnNwZWNpZXMnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaW50cmFzcGVjaWZpY1R5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pbnRyYXNwZWNpZmljVHlwZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuaW50cmFzcGVjaWZpY1R5cGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5pbnRyYXNwZWNpZmljRGVzY3JpcHRpb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYXV0aG9yXCJdKSB7IHRoaXMuYXV0aG9yLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5hdXRob3JbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiaHlicmlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaHlicmlkLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5oeWJyaWQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wib3JnYW5pc21HZW5lcmFsXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3JnYW5pc21HZW5lcmFsLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5vcmdhbmlzbUdlbmVyYWwnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEVudGl0eSBvZiBhbmF0b21pY2FsIG9yaWdpbiBvZiBzb3VyY2UgbWF0ZXJpYWwgd2l0aGluIGFuIG9yZ2FuaXNtLlxyXG4gICAqL1xyXG4gIHBhcnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXRhaWxlZCBhbmF0b21pYyBsb2NhdGlvbiB3aGVuIHRoZSBwYXJ0IGNhbiBiZSBleHRyYWN0ZWQgZnJvbSBkaWZmZXJlbnQgYW5hdG9taWNhbCBsb2NhdGlvbnMgb2YgdGhlIG9yZ2FuaXNtLiBNdWx0aXBsZSBhbHRlcm5hdGl2ZSBsb2NhdGlvbnMgbWF5IGFwcGx5LlxyXG4gICAqL1xyXG4gIHBhcnRMb2NhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUbyBkby5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uJztcclxuICAvKipcclxuICAgKiBFbnRpdHkgb2YgYW5hdG9taWNhbCBvcmlnaW4gb2Ygc291cmNlIG1hdGVyaWFsIHdpdGhpbiBhbiBvcmdhbmlzbS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGV0YWlsZWQgYW5hdG9taWMgbG9jYXRpb24gd2hlbiB0aGUgcGFydCBjYW4gYmUgZXh0cmFjdGVkIGZyb20gZGlmZmVyZW50IGFuYXRvbWljYWwgbG9jYXRpb25zIG9mIHRoZSBvcmdhbmlzbS4gTXVsdGlwbGUgYWx0ZXJuYXRpdmUgbG9jYXRpb25zIG1heSBhcHBseS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydExvY2F0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU291cmNlTWF0ZXJpYWxQYXJ0RGVzY3JpcHRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncGFydCddKSB7IHRoaXMucGFydCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGFydCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhcnRMb2NhdGlvbiddKSB7IHRoaXMucGFydExvY2F0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5wYXJ0TG9jYXRpb24pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLnBhcnREZXNjcmlwdGlvbicgfVxyXG4gICAgaWYgKHRoaXNbXCJwYXJ0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGFydC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucGFydCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwYXJ0TG9jYXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYXJ0TG9jYXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnBhcnRMb2NhdGlvbicpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogR2VuZXJhbCBoaWdoIGxldmVsIGNsYXNzaWZpY2F0aW9uIG9mIHRoZSBzb3VyY2UgbWF0ZXJpYWwgc3BlY2lmaWMgdG8gdGhlIG9yaWdpbiBvZiB0aGUgbWF0ZXJpYWwuXHJcbiAgICovXHJcbiAgc291cmNlTWF0ZXJpYWxDbGFzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gYSBjb250cm9sbGVkIHZvY2FidWxhcnkuIEZvciB2YWNjaW5lcywgdGhpcyBzdWJjbGF1c2UgcmVmZXJzIHRvIHRoZSBjbGFzcyBvZiBpbmZlY3Rpb3VzIGFnZW50LlxyXG4gICAqL1xyXG4gIHNvdXJjZU1hdGVyaWFsVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UgbWF0ZXJpYWwgd2hlbiBleHRyYWN0ZWQuXHJcbiAgICovXHJcbiAgc291cmNlTWF0ZXJpYWxTdGF0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgc291cmNlIG1hdGVyaWFsIHBhcmVudCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgb3JnYW5pc21JZD86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbmlzbSBhY2NlcHRlZCBTY2llbnRpZmljIG5hbWUgc2hhbGwgYmUgcHJvdmlkZWQgYmFzZWQgb24gdGhlIG9yZ2FuaXNtIHRheG9ub215LlxyXG4gICAqL1xyXG4gIG9yZ2FuaXNtTmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5vcmdhbmlzbU5hbWVcclxuICAgKi9cclxuICBfb3JnYW5pc21OYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcGFyZW50IG9mIHRoZSBoZXJiYWwgZHJ1ZyBHaW5rZ28gYmlsb2JhLCBMZWFmIGlzIHRoZSBzdWJzdGFuY2UgSUQgb2YgdGhlIHN1YnN0YW5jZSAoZnJlc2gpIG9mIEdpbmtnbyBiaWxvYmEgTC4gb3IgR2lua2dvIGJpbG9iYSBMLiAoV2hvbGUgcGxhbnQpLlxyXG4gICAqL1xyXG4gIHBhcmVudFN1YnN0YW5jZUlkPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGFyZW50IHN1YnN0YW5jZSBvZiB0aGUgSGVyYmFsIERydWcsIG9yIEhlcmJhbCBwcmVwYXJhdGlvbi5cclxuICAgKi9cclxuICBwYXJlbnRTdWJzdGFuY2VOYW1lPzogZmhpci5GaGlyU3RyaW5nW118c3RyaW5nW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5wYXJlbnRTdWJzdGFuY2VOYW1lXHJcbiAgICovXHJcbiAgX3BhcmVudFN1YnN0YW5jZU5hbWU/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb3VudHJ5IHdoZXJlIHRoZSBwbGFudCBtYXRlcmlhbCBpcyBoYXJ2ZXN0ZWQgb3IgdGhlIGNvdW50cmllcyB3aGVyZSB0aGUgcGxhc21hIGlzIHNvdXJjZWQgZnJvbSBhcyBsYWlkIGRvd24gaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBQbGFzbWEgTWFzdGVyIEZpbGUuIEZvciDigJxQbGFzbWEtZGVyaXZlZCBzdWJzdGFuY2Vz4oCdIHRoZSBhdHRyaWJ1dGUgY291bnRyeSBvZiBvcmlnaW4gcHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvdW50cmllcyB1c2VkIGZvciB0aGUgbWFudWZhY3R1cmluZyBvZiB0aGUgQ3J5b3Bvb3IgcGxhbWEgb3IgQ3Jpb3ByZWNpcGl0YXRlLlxyXG4gICAqL1xyXG4gIGNvdW50cnlPZk9yaWdpbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGxhY2UvcmVnaW9uIHdoZXJlIHRoZSBwbGFudCBpcyBoYXJ2ZXN0ZWQgb3IgdGhlIHBsYWNlcy9yZWdpb25zIHdoZXJlIHRoZSBhbmltYWwgc291cmNlIG1hdGVyaWFsIGhhcyBpdHMgaGFiaXRhdC5cclxuICAgKi9cclxuICBnZW9ncmFwaGljYWxMb2NhdGlvbj86IGZoaXIuRmhpclN0cmluZ1tdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwuZ2VvZ3JhcGhpY2FsTG9jYXRpb25cclxuICAgKi9cclxuICBfZ2VvZ3JhcGhpY2FsTG9jYXRpb24/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFN0YWdlIG9mIGxpZmUgZm9yIGFuaW1hbHMsIHBsYW50cywgaW5zZWN0cyBhbmQgbWljcm9vcmdhbmlzbXMuIFRoaXMgaW5mb3JtYXRpb24gc2hhbGwgYmUgcHJvdmlkZWQgb25seSB3aGVuIHRoZSBzdWJzdGFuY2UgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgaW4gdGhlc2Ugc3RhZ2VzIChlLmcuIGZvZXRhbCBib3ZpbmUgc2VydW0pLlxyXG4gICAqL1xyXG4gIGRldmVsb3BtZW50U3RhZ2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hbnkgY29tcGxleCBtYXRlcmlhbHMgYXJlIGZyYWN0aW9ucyBvZiBwYXJ0cyBvZiBwbGFudHMsIGFuaW1hbHMsIG9yIG1pbmVyYWxzLiBGcmFjdGlvbiBlbGVtZW50cyBhcmUgb2Z0ZW4gbmVjZXNzYXJ5IHRvIGRlZmluZSBib3RoIFN1YnN0YW5jZXMgYW5kIFNwZWNpZmllZCBHcm91cCAxIFN1YnN0YW5jZXMuIEZvciBzdWJzdGFuY2VzIGRlcml2ZWQgZnJvbSBQbGFudHMsIGZyYWN0aW9uIGluZm9ybWF0aW9uIHdpbGwgYmUgY2FwdHVyZWQgYXQgdGhlIFN1YnN0YW5jZSBpbmZvcm1hdGlvbiBsZXZlbCAoIC4gT2lscywgSnVpY2VzIGFuZCBFeHVkYXRlcykuIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gZm9yIEV4dHJhY3RzLCBzdWNoIGFzIGV4dHJhY3Rpb24gc29sdmVudCBjb21wb3NpdGlvbiwgd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGluZm9ybWF0aW9uIGxldmVsLiBGb3IgcGxhc21hLWRlcml2ZWQgcHJvZHVjdHMgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGFuZCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGxldmVscy5cclxuICAgKi9cclxuICBmcmFjdGlvbkRlc2NyaXB0aW9uPzogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgc3ViY2xhdXNlIGRlc2NyaWJlcyB0aGUgb3JnYW5pc20gd2hpY2ggdGhlIHN1YnN0YW5jZSBpcyBkZXJpdmVkIGZyb20uIEZvciB2YWNjaW5lcywgdGhlIHBhcmVudCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gdGhlc2Ugc3ViY2xhdXNlIGVsZW1lbnRzLiBBcyBhbiBleGFtcGxlLCBmdWxsIHRheG9ub215IHdpbGwgYmUgZGVzY3JpYmVkIGZvciB0aGUgU3Vic3RhbmNlIE5hbWU6IC4sIExlYWYuXHJcbiAgICovXHJcbiAgb3JnYW5pc20/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUbyBkby5cclxuICAgKi9cclxuICBwYXJ0RGVzY3JpcHRpb24/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNvdXJjZSBtYXRlcmlhbCBzaGFsbCBjYXB0dXJlIGluZm9ybWF0aW9uIG9uIHRoZSB0YXhvbm9taWMgYW5kIGFuYXRvbWljYWwgb3JpZ2lucyBhcyB3ZWxsIGFzIHRoZSBmcmFjdGlvbiBvZiBhIG1hdGVyaWFsIHRoYXQgY2FuIHJlc3VsdCBpbiBvciBjYW4gYmUgbW9kaWZpZWQgdG8gZm9ybSBhIHN1YnN0YW5jZS4gVGhpcyBzZXQgb2YgZGF0YSBlbGVtZW50cyBzaGFsbCBiZSB1c2VkIHRvIGRlZmluZSBwb2x5bWVyIHN1YnN0YW5jZXMgaXNvbGF0ZWQgZnJvbSBiaW9sb2dpY2FsIG1hdHJpY2VzLiBUYXhvbm9taWMgYW5kIGFuYXRvbWljYWwgb3JpZ2lucyBzaGFsbCBiZSBkZXNjcmliZWQgdXNpbmcgYSBjb250cm9sbGVkIHZvY2FidWxhcnkgYXMgcmVxdWlyZWQuIFRoaXMgaW5mb3JtYXRpb24gaXMgY2FwdHVyZWQgZm9yIG5hdHVyYWxseSBkZXJpdmVkIHBvbHltZXJzICggLiBzdGFyY2gpIGFuZCBzdHJ1Y3R1cmFsbHkgZGl2ZXJzZSBzdWJzdGFuY2VzLiBGb3IgT3JnYW5pc21zIGJlbG9uZ2luZyB0byB0aGUgS2luZ2RvbSBQbGFudGFlIHRoZSBTdWJzdGFuY2UgbGV2ZWwgZGVmaW5lcyB0aGUgZnJlc2ggbWF0ZXJpYWwgb2YgYSBzaW5nbGUgc3BlY2llcyBvciBpbmZyYXNwZWNpZXMsIHRoZSBIZXJiYWwgRHJ1ZyBhbmQgdGhlIEhlcmJhbCBwcmVwYXJhdGlvbi4gRm9yIEhlcmJhbCBwcmVwYXJhdGlvbnMsIHRoZSBmcmFjdGlvbiBpbmZvcm1hdGlvbiB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTdWJzdGFuY2UgaW5mb3JtYXRpb24gbGV2ZWwgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gZm9yIGhlcmJhbCBleHRyYWN0cyB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEgaW5mb3JtYXRpb24gbGV2ZWwuIFNlZSBmb3IgZnVydGhlciBleHBsYW5hdGlvbiB0aGUgU3Vic3RhbmNlIENsYXNzOiBTdHJ1Y3R1cmFsbHkgRGl2ZXJzZSBhbmQgdGhlIGhlcmJhbCBhbm5leC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxcIjtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGhpZ2ggbGV2ZWwgY2xhc3NpZmljYXRpb24gb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCBzcGVjaWZpYyB0byB0aGUgb3JpZ2luIG9mIHRoZSBtYXRlcmlhbC5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlTWF0ZXJpYWxDbGFzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiB0aGUgc291cmNlIG1hdGVyaWFsIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gRm9yIHZhY2NpbmVzLCB0aGlzIHN1YmNsYXVzZSByZWZlcnMgdG8gdGhlIGNsYXNzIG9mIGluZmVjdGlvdXMgYWdlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZU1hdGVyaWFsVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCB3aGVuIGV4dHJhY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlTWF0ZXJpYWxTdGF0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBzb3VyY2UgbWF0ZXJpYWwgcGFyZW50IG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pc21JZD86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXNtIGFjY2VwdGVkIFNjaWVudGlmaWMgbmFtZSBzaGFsbCBiZSBwcm92aWRlZCBiYXNlZCBvbiB0aGUgb3JnYW5pc20gdGF4b25vbXkuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZ2FuaXNtTmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhcmVudCBvZiB0aGUgaGVyYmFsIGRydWcgR2lua2dvIGJpbG9iYSwgTGVhZiBpcyB0aGUgc3Vic3RhbmNlIElEIG9mIHRoZSBzdWJzdGFuY2UgKGZyZXNoKSBvZiBHaW5rZ28gYmlsb2JhIEwuIG9yIEdpbmtnbyBiaWxvYmEgTC4gKFdob2xlIHBsYW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFyZW50U3Vic3RhbmNlSWQ6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgc3Vic3RhbmNlIG9mIHRoZSBIZXJiYWwgRHJ1Zywgb3IgSGVyYmFsIHByZXBhcmF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJlbnRTdWJzdGFuY2VOYW1lOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBUaGUgY291bnRyeSB3aGVyZSB0aGUgcGxhbnQgbWF0ZXJpYWwgaXMgaGFydmVzdGVkIG9yIHRoZSBjb3VudHJpZXMgd2hlcmUgdGhlIHBsYXNtYSBpcyBzb3VyY2VkIGZyb20gYXMgbGFpZCBkb3duIGluIGFjY29yZGFuY2Ugd2l0aCB0aGUgUGxhc21hIE1hc3RlciBGaWxlLiBGb3Ig4oCcUGxhc21hLWRlcml2ZWQgc3Vic3RhbmNlc+KAnSB0aGUgYXR0cmlidXRlIGNvdW50cnkgb2Ygb3JpZ2luIHByb3ZpZGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb3VudHJpZXMgdXNlZCBmb3IgdGhlIG1hbnVmYWN0dXJpbmcgb2YgdGhlIENyeW9wb29yIHBsYW1hIG9yIENyaW9wcmVjaXBpdGF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgY291bnRyeU9mT3JpZ2luOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwbGFjZS9yZWdpb24gd2hlcmUgdGhlIHBsYW50IGlzIGhhcnZlc3RlZCBvciB0aGUgcGxhY2VzL3JlZ2lvbnMgd2hlcmUgdGhlIGFuaW1hbCBzb3VyY2UgbWF0ZXJpYWwgaGFzIGl0cyBoYWJpdGF0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZW9ncmFwaGljYWxMb2NhdGlvbjogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogU3RhZ2Ugb2YgbGlmZSBmb3IgYW5pbWFscywgcGxhbnRzLCBpbnNlY3RzIGFuZCBtaWNyb29yZ2FuaXNtcy4gVGhpcyBpbmZvcm1hdGlvbiBzaGFsbCBiZSBwcm92aWRlZCBvbmx5IHdoZW4gdGhlIHN1YnN0YW5jZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCBpbiB0aGVzZSBzdGFnZXMgKGUuZy4gZm9ldGFsIGJvdmluZSBzZXJ1bSkuXHJcbiAgICovXHJcbiAgcHVibGljIGRldmVsb3BtZW50U3RhZ2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFueSBjb21wbGV4IG1hdGVyaWFscyBhcmUgZnJhY3Rpb25zIG9mIHBhcnRzIG9mIHBsYW50cywgYW5pbWFscywgb3IgbWluZXJhbHMuIEZyYWN0aW9uIGVsZW1lbnRzIGFyZSBvZnRlbiBuZWNlc3NhcnkgdG8gZGVmaW5lIGJvdGggU3Vic3RhbmNlcyBhbmQgU3BlY2lmaWVkIEdyb3VwIDEgU3Vic3RhbmNlcy4gRm9yIHN1YnN0YW5jZXMgZGVyaXZlZCBmcm9tIFBsYW50cywgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGluZm9ybWF0aW9uIGxldmVsICggLiBPaWxzLCBKdWljZXMgYW5kIEV4dWRhdGVzKS4gQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmb3IgRXh0cmFjdHMsIHN1Y2ggYXMgZXh0cmFjdGlvbiBzb2x2ZW50IGNvbXBvc2l0aW9uLCB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEgaW5mb3JtYXRpb24gbGV2ZWwuIEZvciBwbGFzbWEtZGVyaXZlZCBwcm9kdWN0cyBmcmFjdGlvbiBpbmZvcm1hdGlvbiB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTdWJzdGFuY2UgYW5kIHRoZSBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEgbGV2ZWxzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmcmFjdGlvbkRlc2NyaXB0aW9uOiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgc3ViY2xhdXNlIGRlc2NyaWJlcyB0aGUgb3JnYW5pc20gd2hpY2ggdGhlIHN1YnN0YW5jZSBpcyBkZXJpdmVkIGZyb20uIEZvciB2YWNjaW5lcywgdGhlIHBhcmVudCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gdGhlc2Ugc3ViY2xhdXNlIGVsZW1lbnRzLiBBcyBhbiBleGFtcGxlLCBmdWxsIHRheG9ub215IHdpbGwgYmUgZGVzY3JpYmVkIGZvciB0aGUgU3Vic3RhbmNlIE5hbWU6IC4sIExlYWYuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZ2FuaXNtPzogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUbyBkby5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydERlc2NyaXB0aW9uOiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbCc7XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2VNYXRlcmlhbENsYXNzJ10pIHsgdGhpcy5zb3VyY2VNYXRlcmlhbENsYXNzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zb3VyY2VNYXRlcmlhbENsYXNzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlTWF0ZXJpYWxUeXBlJ10pIHsgdGhpcy5zb3VyY2VNYXRlcmlhbFR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNvdXJjZU1hdGVyaWFsVHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZU1hdGVyaWFsU3RhdGUnXSkgeyB0aGlzLnNvdXJjZU1hdGVyaWFsU3RhdGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNvdXJjZU1hdGVyaWFsU3RhdGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmdhbmlzbUlkJ10pIHsgdGhpcy5vcmdhbmlzbUlkID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2Uub3JnYW5pc21JZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXNtTmFtZSddKSB7IHRoaXMub3JnYW5pc21OYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5vcmdhbmlzbU5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX29yZ2FuaXNtTmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm9yZ2FuaXNtTmFtZSkgeyB0aGlzLm9yZ2FuaXNtTmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9vcmdhbmlzbU5hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vcmdhbmlzbU5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fb3JnYW5pc21OYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwYXJlbnRTdWJzdGFuY2VJZCddKSB7IHRoaXMucGFyZW50U3Vic3RhbmNlSWQgPSBzb3VyY2UucGFyZW50U3Vic3RhbmNlSWQubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFyZW50U3Vic3RhbmNlSWQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFyZW50U3Vic3RhbmNlTmFtZSddKSB7IHRoaXMucGFyZW50U3Vic3RhbmNlTmFtZSA9IHNvdXJjZS5wYXJlbnRTdWJzdGFuY2VOYW1lLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcmVudFN1YnN0YW5jZU5hbWUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3BhcmVudFN1YnN0YW5jZU5hbWUnXSkge1xyXG4gICAgICBzb3VyY2UuX3BhcmVudFN1YnN0YW5jZU5hbWUuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50U3Vic3RhbmNlTmFtZS5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLnBhcmVudFN1YnN0YW5jZU5hbWVbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5wYXJlbnRTdWJzdGFuY2VOYW1lLnB1c2gobmV3IGZoaXIuRmhpclN0cmluZyh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY291bnRyeU9mT3JpZ2luJ10pIHsgdGhpcy5jb3VudHJ5T2ZPcmlnaW4gPSBzb3VyY2UuY291bnRyeU9mT3JpZ2luLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY291bnRyeU9mT3JpZ2luID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2dlb2dyYXBoaWNhbExvY2F0aW9uJ10pIHsgdGhpcy5nZW9ncmFwaGljYWxMb2NhdGlvbiA9IHNvdXJjZS5nZW9ncmFwaGljYWxMb2NhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5nZW9ncmFwaGljYWxMb2NhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfZ2VvZ3JhcGhpY2FsTG9jYXRpb24nXSkge1xyXG4gICAgICBzb3VyY2UuX2dlb2dyYXBoaWNhbExvY2F0aW9uLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmdlb2dyYXBoaWNhbExvY2F0aW9uLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuZ2VvZ3JhcGhpY2FsTG9jYXRpb25baV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5nZW9ncmFwaGljYWxMb2NhdGlvbi5wdXNoKG5ldyBmaGlyLkZoaXJTdHJpbmcoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RldmVsb3BtZW50U3RhZ2UnXSkgeyB0aGlzLmRldmVsb3BtZW50U3RhZ2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmRldmVsb3BtZW50U3RhZ2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydmcmFjdGlvbkRlc2NyaXB0aW9uJ10pIHsgdGhpcy5mcmFjdGlvbkRlc2NyaXB0aW9uID0gc291cmNlLmZyYWN0aW9uRGVzY3JpcHRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5mcmFjdGlvbkRlc2NyaXB0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXNtJ10pIHsgdGhpcy5vcmdhbmlzbSA9IG5ldyBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc20oc291cmNlLm9yZ2FuaXNtKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFydERlc2NyaXB0aW9uJ10pIHsgdGhpcy5wYXJ0RGVzY3JpcHRpb24gPSBzb3VyY2UucGFydERlc2NyaXB0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxQYXJ0RGVzY3JpcHRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXJ0RGVzY3JpcHRpb24gPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbCcgfVxyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZVR5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2VUeXBlIGZoaXI6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLnJlc291cmNlVHlwZTpcIlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsXCInLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZU1hdGVyaWFsQ2xhc3NcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zb3VyY2VNYXRlcmlhbENsYXNzLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zb3VyY2VNYXRlcmlhbENsYXNzJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZU1hdGVyaWFsVHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNvdXJjZU1hdGVyaWFsVHlwZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc291cmNlTWF0ZXJpYWxUeXBlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZU1hdGVyaWFsU3RhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zb3VyY2VNYXRlcmlhbFN0YXRlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zb3VyY2VNYXRlcmlhbFN0YXRlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcIm9yZ2FuaXNtSWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vcmdhbmlzbUlkLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5vcmdhbmlzbUlkJykpOyB9XHJcbiAgICBpZiAodGhpc1tcIm9yZ2FuaXNtTmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm9yZ2FuaXNtTmFtZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycub3JnYW5pc21OYW1lJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInBhcmVudFN1YnN0YW5jZUlkXCJdKSB7IHRoaXMucGFyZW50U3Vic3RhbmNlSWQuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnBhcmVudFN1YnN0YW5jZUlkWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInBhcmVudFN1YnN0YW5jZU5hbWVcIl0pIHsgdGhpcy5wYXJlbnRTdWJzdGFuY2VOYW1lLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5wYXJlbnRTdWJzdGFuY2VOYW1lWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImNvdW50cnlPZk9yaWdpblwiXSkgeyB0aGlzLmNvdW50cnlPZk9yaWdpbi5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuY291bnRyeU9mT3JpZ2luWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImdlb2dyYXBoaWNhbExvY2F0aW9uXCJdKSB7IHRoaXMuZ2VvZ3JhcGhpY2FsTG9jYXRpb24uZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLmdlb2dyYXBoaWNhbExvY2F0aW9uWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRldmVsb3BtZW50U3RhZ2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXZlbG9wbWVudFN0YWdlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5kZXZlbG9wbWVudFN0YWdlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImZyYWN0aW9uRGVzY3JpcHRpb25cIl0pIHsgdGhpcy5mcmFjdGlvbkRlc2NyaXB0aW9uLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5mcmFjdGlvbkRlc2NyaXB0aW9uWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm9yZ2FuaXNtXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3JnYW5pc20uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm9yZ2FuaXNtJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInBhcnREZXNjcmlwdGlvblwiXSkgeyB0aGlzLnBhcnREZXNjcmlwdGlvbi5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AucGFydERlc2NyaXB0aW9uWyR7aX1dYCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=