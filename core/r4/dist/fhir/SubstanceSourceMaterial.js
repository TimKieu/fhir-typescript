// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: SubstanceSourceMaterial
import * as fhir from '../fhir.js';
/**
 * Many complex materials are fractions of parts of plants, animals, or minerals. Fraction elements are often necessary to define both Substances and Specified Group 1 Substances. For substances derived from Plants, fraction information will be captured at the Substance information level ( . Oils, Juices and Exudates). Additional information for Extracts, such as extraction solvent composition, will be captured at the Specified Substance Group 1 information level. For plasma-derived products fraction information will be captured at the Substance and the Specified Substance Group 1 levels.
 */
export class SubstanceSourceMaterialFractionDescription extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialFractionDescription - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['fraction']) {
            this.fraction = new fhir.FhirString({ value: source.fraction });
        }
        if (source['_fraction']) {
            if (this.fraction) {
                this.fraction.addExtendedProperties(source._fraction);
            }
            else {
                this.fraction = new fhir.FhirString(source._fraction);
            }
        }
        if (source['materialType']) {
            this.materialType = new fhir.CodeableConcept(source.materialType);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SubstanceSourceMaterial.fractionDescription';
        }
        iss.push(...this.vOS('fraction', exp));
        iss.push(...this.vOS('materialType', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialFractionDescription._fts_dataType = 'SubstanceSourceMaterialFractionDescription';
/**
 * 4.9.13.6.1 Author type (Conditional).
 */
export class SubstanceSourceMaterialOrganismAuthor extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismAuthor - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['authorType']) {
            this.authorType = new fhir.CodeableConcept(source.authorType);
        }
        if (source['authorDescription']) {
            this.authorDescription = new fhir.FhirString({ value: source.authorDescription });
        }
        if (source['_authorDescription']) {
            if (this.authorDescription) {
                this.authorDescription.addExtendedProperties(source._authorDescription);
            }
            else {
                this.authorDescription = new fhir.FhirString(source._authorDescription);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SubstanceSourceMaterial.organism.author';
        }
        iss.push(...this.vOS('authorType', exp));
        iss.push(...this.vOS('authorDescription', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismAuthor._fts_dataType = 'SubstanceSourceMaterialOrganismAuthor';
/**
 * 4.9.13.8.1 Hybrid species maternal organism ID (Optional).
 */
export class SubstanceSourceMaterialOrganismHybrid extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismHybrid - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['maternalOrganismId']) {
            this.maternalOrganismId = new fhir.FhirString({ value: source.maternalOrganismId });
        }
        if (source['_maternalOrganismId']) {
            if (this.maternalOrganismId) {
                this.maternalOrganismId.addExtendedProperties(source._maternalOrganismId);
            }
            else {
                this.maternalOrganismId = new fhir.FhirString(source._maternalOrganismId);
            }
        }
        if (source['maternalOrganismName']) {
            this.maternalOrganismName = new fhir.FhirString({ value: source.maternalOrganismName });
        }
        if (source['_maternalOrganismName']) {
            if (this.maternalOrganismName) {
                this.maternalOrganismName.addExtendedProperties(source._maternalOrganismName);
            }
            else {
                this.maternalOrganismName = new fhir.FhirString(source._maternalOrganismName);
            }
        }
        if (source['paternalOrganismId']) {
            this.paternalOrganismId = new fhir.FhirString({ value: source.paternalOrganismId });
        }
        if (source['_paternalOrganismId']) {
            if (this.paternalOrganismId) {
                this.paternalOrganismId.addExtendedProperties(source._paternalOrganismId);
            }
            else {
                this.paternalOrganismId = new fhir.FhirString(source._paternalOrganismId);
            }
        }
        if (source['paternalOrganismName']) {
            this.paternalOrganismName = new fhir.FhirString({ value: source.paternalOrganismName });
        }
        if (source['_paternalOrganismName']) {
            if (this.paternalOrganismName) {
                this.paternalOrganismName.addExtendedProperties(source._paternalOrganismName);
            }
            else {
                this.paternalOrganismName = new fhir.FhirString(source._paternalOrganismName);
            }
        }
        if (source['hybridType']) {
            this.hybridType = new fhir.CodeableConcept(source.hybridType);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SubstanceSourceMaterial.organism.hybrid';
        }
        iss.push(...this.vOS('maternalOrganismId', exp));
        iss.push(...this.vOS('maternalOrganismName', exp));
        iss.push(...this.vOS('paternalOrganismId', exp));
        iss.push(...this.vOS('paternalOrganismName', exp));
        iss.push(...this.vOS('hybridType', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismHybrid._fts_dataType = 'SubstanceSourceMaterialOrganismHybrid';
/**
 * 4.9.13.7.1 Kingdom (Conditional).
 */
export class SubstanceSourceMaterialOrganismOrganismGeneral extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganismOrganismGeneral - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['kingdom']) {
            this.kingdom = new fhir.CodeableConcept(source.kingdom);
        }
        if (source['phylum']) {
            this.phylum = new fhir.CodeableConcept(source.phylum);
        }
        if (source['class']) {
            this.class = new fhir.CodeableConcept(source.class);
        }
        if (source['order']) {
            this.order = new fhir.CodeableConcept(source.order);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SubstanceSourceMaterial.organism.organismGeneral';
        }
        iss.push(...this.vOS('kingdom', exp));
        iss.push(...this.vOS('phylum', exp));
        iss.push(...this.vOS('class', exp));
        iss.push(...this.vOS('order', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganismOrganismGeneral._fts_dataType = 'SubstanceSourceMaterialOrganismOrganismGeneral';
/**
 * This subclause describes the organism which the substance is derived from. For vaccines, the parent organism shall be specified based on these subclause elements. As an example, full taxonomy will be described for the Substance Name: ., Leaf.
 */
export class SubstanceSourceMaterialOrganism extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialOrganism - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['family']) {
            this.family = new fhir.CodeableConcept(source.family);
        }
        if (source['genus']) {
            this.genus = new fhir.CodeableConcept(source.genus);
        }
        if (source['species']) {
            this.species = new fhir.CodeableConcept(source.species);
        }
        if (source['intraspecificType']) {
            this.intraspecificType = new fhir.CodeableConcept(source.intraspecificType);
        }
        if (source['intraspecificDescription']) {
            this.intraspecificDescription = new fhir.FhirString({ value: source.intraspecificDescription });
        }
        if (source['_intraspecificDescription']) {
            if (this.intraspecificDescription) {
                this.intraspecificDescription.addExtendedProperties(source._intraspecificDescription);
            }
            else {
                this.intraspecificDescription = new fhir.FhirString(source._intraspecificDescription);
            }
        }
        if (source['author']) {
            this.author = source.author.map((x) => new fhir.SubstanceSourceMaterialOrganismAuthor(x));
        }
        else {
            this.author = [];
        }
        if (source['hybrid']) {
            this.hybrid = new fhir.SubstanceSourceMaterialOrganismHybrid(source.hybrid);
        }
        if (source['organismGeneral']) {
            this.organismGeneral = new fhir.SubstanceSourceMaterialOrganismOrganismGeneral(source.organismGeneral);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SubstanceSourceMaterial.organism';
        }
        iss.push(...this.vOS('family', exp));
        iss.push(...this.vOS('genus', exp));
        iss.push(...this.vOS('species', exp));
        iss.push(...this.vOS('intraspecificType', exp));
        iss.push(...this.vOS('intraspecificDescription', exp));
        iss.push(...this.vOA('author', exp));
        iss.push(...this.vOS('hybrid', exp));
        iss.push(...this.vOS('organismGeneral', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialOrganism._fts_dataType = 'SubstanceSourceMaterialOrganism';
/**
 * To do.
 */
export class SubstanceSourceMaterialPartDescription extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSourceMaterialPartDescription - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['part']) {
            this.part = new fhir.CodeableConcept(source.part);
        }
        if (source['partLocation']) {
            this.partLocation = new fhir.CodeableConcept(source.partLocation);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SubstanceSourceMaterial.partDescription';
        }
        iss.push(...this.vOS('part', exp));
        iss.push(...this.vOS('partLocation', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterialPartDescription._fts_dataType = 'SubstanceSourceMaterialPartDescription';
/**
 * Source material shall capture information on the taxonomic and anatomical origins as well as the fraction of a material that can result in or can be modified to form a substance. This set of data elements shall be used to define polymer substances isolated from biological matrices. Taxonomic and anatomical origins shall be described using a controlled vocabulary as required. This information is captured for naturally derived polymers ( . starch) and structurally diverse substances. For Organisms belonging to the Kingdom Plantae the Substance level defines the fresh material of a single species or infraspecies, the Herbal Drug and the Herbal preparation. For Herbal preparations, the fraction information will be captured at the Substance information level and additional information for herbal extracts will be captured at the Specified Substance Group 1 information level. See for further explanation the Substance Class: Structurally Diverse and the herbal annex.
 */
export class SubstanceSourceMaterial extends fhir.DomainResource {
    /**
     * Default constructor for SubstanceSourceMaterial - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'SubstanceSourceMaterial';
        if (source['sourceMaterialClass']) {
            this.sourceMaterialClass = new fhir.CodeableConcept(source.sourceMaterialClass);
        }
        if (source['sourceMaterialType']) {
            this.sourceMaterialType = new fhir.CodeableConcept(source.sourceMaterialType);
        }
        if (source['sourceMaterialState']) {
            this.sourceMaterialState = new fhir.CodeableConcept(source.sourceMaterialState);
        }
        if (source['organismId']) {
            this.organismId = new fhir.Identifier(source.organismId);
        }
        if (source['organismName']) {
            this.organismName = new fhir.FhirString({ value: source.organismName });
        }
        if (source['_organismName']) {
            if (this.organismName) {
                this.organismName.addExtendedProperties(source._organismName);
            }
            else {
                this.organismName = new fhir.FhirString(source._organismName);
            }
        }
        if (source['parentSubstanceId']) {
            this.parentSubstanceId = source.parentSubstanceId.map((x) => new fhir.Identifier(x));
        }
        else {
            this.parentSubstanceId = [];
        }
        if (source['parentSubstanceName']) {
            this.parentSubstanceName = source.parentSubstanceName.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.parentSubstanceName = [];
        }
        if (source['_parentSubstanceName']) {
            source._parentSubstanceName.forEach((x, i) => {
                if (this.parentSubstanceName.length >= i) {
                    if (x) {
                        this.parentSubstanceName[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.parentSubstanceName.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['countryOfOrigin']) {
            this.countryOfOrigin = source.countryOfOrigin.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.countryOfOrigin = [];
        }
        if (source['geographicalLocation']) {
            this.geographicalLocation = source.geographicalLocation.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.geographicalLocation = [];
        }
        if (source['_geographicalLocation']) {
            source._geographicalLocation.forEach((x, i) => {
                if (this.geographicalLocation.length >= i) {
                    if (x) {
                        this.geographicalLocation[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.geographicalLocation.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['developmentStage']) {
            this.developmentStage = new fhir.CodeableConcept(source.developmentStage);
        }
        if (source['fractionDescription']) {
            this.fractionDescription = source.fractionDescription.map((x) => new fhir.SubstanceSourceMaterialFractionDescription(x));
        }
        else {
            this.fractionDescription = [];
        }
        if (source['organism']) {
            this.organism = new fhir.SubstanceSourceMaterialOrganism(source.organism);
        }
        if (source['partDescription']) {
            this.partDescription = source.partDescription.map((x) => new fhir.SubstanceSourceMaterialPartDescription(x));
        }
        else {
            this.partDescription = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SubstanceSourceMaterial';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOS('sourceMaterialClass', exp));
        iss.push(...this.vOS('sourceMaterialType', exp));
        iss.push(...this.vOS('sourceMaterialState', exp));
        iss.push(...this.vOS('organismId', exp));
        iss.push(...this.vOS('organismName', exp));
        iss.push(...this.vOA('parentSubstanceId', exp));
        iss.push(...this.vOA('parentSubstanceName', exp));
        iss.push(...this.vOA('countryOfOrigin', exp));
        iss.push(...this.vOA('geographicalLocation', exp));
        iss.push(...this.vOS('developmentStage', exp));
        iss.push(...this.vOA('fractionDescription', exp));
        iss.push(...this.vOS('organism', exp));
        iss.push(...this.vOA('partDescription', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSourceMaterial._fts_dataType = 'SubstanceSourceMaterial';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLHlDQUF5QztBQUV6QyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQW9CbkM7O0dBRUc7QUFDSCxNQUFNLE9BQU8sMENBQTJDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhbEY7O09BRUc7SUFDSCxZQUFZLFNBQWlFLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3ZILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzFGLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxTQUFVLENBQUMsQ0FBQzthQUFFO2lCQUN6RTtnQkFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsU0FBeUMsQ0FBQyxDQUFDO2FBQUU7U0FDaEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUFFO0lBQ3BHLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFB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QUMsQ0FBQztRQUNsRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3QyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBM0hEOztHQUVHO0FBQzZCLHFDQUFhLEdBQVUseUJBQXlCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsRnJhY3Rpb25EZXNjcmlwdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgY2FwdHVyaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmcmFjdGlvbiBvZiBhIHBsYW50IHBhcnQsIG9yIGh1bWFuIHBsYXNtYSBmb3IgZnJhY3Rpb25hdGlvbi5cclxuICAgKi9cclxuICBmcmFjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5mcmFjdGlvbkRlc2NyaXB0aW9uLmZyYWN0aW9uXHJcbiAgICovXHJcbiAgX2ZyYWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgdHlwZSBvZiB0aGUgbWF0ZXJpYWwgY29uc3RpdHV0aW5nIHRoZSBjb21wb25lbnQuIEZvciBIZXJiYWwgcHJlcGFyYXRpb25zIHRoZSBwYXJ0aWN1bGFycyBvZiB0aGUgZXh0cmFjdHMgKGxpcXVpZC9kcnkpIGlzIGRlc2NyaWJlZCBpbiBTcGVjaWZpZWQgU3Vic3RhbmNlIEdyb3VwIDEuXHJcbiAgICovXHJcbiAgbWF0ZXJpYWxUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1hbnkgY29tcGxleCBtYXRlcmlhbHMgYXJlIGZyYWN0aW9ucyBvZiBwYXJ0cyBvZiBwbGFudHMsIGFuaW1hbHMsIG9yIG1pbmVyYWxzLiBGcmFjdGlvbiBlbGVtZW50cyBhcmUgb2Z0ZW4gbmVjZXNzYXJ5IHRvIGRlZmluZSBib3RoIFN1YnN0YW5jZXMgYW5kIFNwZWNpZmllZCBHcm91cCAxIFN1YnN0YW5jZXMuIEZvciBzdWJzdGFuY2VzIGRlcml2ZWQgZnJvbSBQbGFudHMsIGZyYWN0aW9uIGluZm9ybWF0aW9uIHdpbGwgYmUgY2FwdHVyZWQgYXQgdGhlIFN1YnN0YW5jZSBpbmZvcm1hdGlvbiBsZXZlbCAoIC4gT2lscywgSnVpY2VzIGFuZCBFeHVkYXRlcykuIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gZm9yIEV4dHJhY3RzLCBzdWNoIGFzIGV4dHJhY3Rpb24gc29sdmVudCBjb21wb3NpdGlvbiwgd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGluZm9ybWF0aW9uIGxldmVsLiBGb3IgcGxhc21hLWRlcml2ZWQgcHJvZHVjdHMgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGFuZCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGxldmVscy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBjYXB0dXJpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGZyYWN0aW9uIG9mIGEgcGxhbnQgcGFydCwgb3IgaHVtYW4gcGxhc21hIGZvciBmcmFjdGlvbmF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmcmFjdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIHR5cGUgb2YgdGhlIG1hdGVyaWFsIGNvbnN0aXR1dGluZyB0aGUgY29tcG9uZW50LiBGb3IgSGVyYmFsIHByZXBhcmF0aW9ucyB0aGUgcGFydGljdWxhcnMgb2YgdGhlIGV4dHJhY3RzIChsaXF1aWQvZHJ5KSBpcyBkZXNjcmliZWQgaW4gU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXRlcmlhbFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxGcmFjdGlvbkRlc2NyaXB0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU291cmNlTWF0ZXJpYWxGcmFjdGlvbkRlc2NyaXB0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2ZyYWN0aW9uJ10pIHsgdGhpcy5mcmFjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZnJhY3Rpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2ZyYWN0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZnJhY3Rpb24pIHsgdGhpcy5mcmFjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9mcmFjdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZyYWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2ZyYWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYXRlcmlhbFR5cGUnXSkgeyB0aGlzLm1hdGVyaWFsVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubWF0ZXJpYWxUeXBlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLmZyYWN0aW9uRGVzY3JpcHRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdmcmFjdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF0ZXJpYWxUeXBlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXV0aG9yIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3JBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBhdXRob3Igb2YgYW4gb3JnYW5pc20gc3BlY2llcyBzaGFsbCBiZSBzcGVjaWZpZWQuIFRoZSBwYXJlbnRoZXRpY2FsIGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHJlZmVycyB0byB0aGUgZmlyc3QgYXV0aG9yIHdobyBwdWJsaXNoZWQgdGhlIHBsYW50L2FuaW1hbCBuYW1lIChvZiBhbnkgcmFuaykuIFRoZSBwcmltYXJ5IGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHJlZmVycyB0byB0aGUgZmlyc3QgYXV0aG9yKHMpLCB3aG8gdmFsaWRseSBwdWJsaXNoZWQgdGhlIHBsYW50L2FuaW1hbCBuYW1lLlxyXG4gICAqL1xyXG4gIGF1dGhvclR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhdXRob3Igb2YgYW4gb3JnYW5pc20gc3BlY2llcyBzaGFsbCBiZSBzcGVjaWZpZWQuIFRoZSBhdXRob3IgeWVhciBvZiBhbiBvcmdhbmlzbSBzaGFsbCBhbHNvIGJlIHNwZWNpZmllZCB3aGVuIGFwcGxpY2FibGU7IHJlZmVycyB0byB0aGUgeWVhciBpbiB3aGljaCB0aGUgZmlyc3QgYXV0aG9yKHMpIHB1Ymxpc2hlZCB0aGUgaW5mcmFzcGVjaWZpYyBwbGFudC9hbmltYWwgbmFtZSAob2YgYW55IHJhbmspLlxyXG4gICAqL1xyXG4gIGF1dGhvckRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLmF1dGhvci5hdXRob3JEZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9hdXRob3JEZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiA0LjkuMTMuNi4xIEF1dGhvciB0eXBlIChDb25kaXRpb25hbCkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21BdXRob3InO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHNoYWxsIGJlIHNwZWNpZmllZC4gVGhlIHBhcmVudGhldGljYWwgYXV0aG9yIG9mIGFuIG9yZ2FuaXNtIHNwZWNpZXMgcmVmZXJzIHRvIHRoZSBmaXJzdCBhdXRob3Igd2hvIHB1Ymxpc2hlZCB0aGUgcGxhbnQvYW5pbWFsIG5hbWUgKG9mIGFueSByYW5rKS4gVGhlIHByaW1hcnkgYXV0aG9yIG9mIGFuIG9yZ2FuaXNtIHNwZWNpZXMgcmVmZXJzIHRvIHRoZSBmaXJzdCBhdXRob3IocyksIHdobyB2YWxpZGx5IHB1Ymxpc2hlZCB0aGUgcGxhbnQvYW5pbWFsIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIGF1dGhvclR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGF1dGhvciBvZiBhbiBvcmdhbmlzbSBzcGVjaWVzIHNoYWxsIGJlIHNwZWNpZmllZC4gVGhlIGF1dGhvciB5ZWFyIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGFsc28gYmUgc3BlY2lmaWVkIHdoZW4gYXBwbGljYWJsZTsgcmVmZXJzIHRvIHRoZSB5ZWFyIGluIHdoaWNoIHRoZSBmaXJzdCBhdXRob3IocykgcHVibGlzaGVkIHRoZSBpbmZyYXNwZWNpZmljIHBsYW50L2FuaW1hbCBuYW1lIChvZiBhbnkgcmFuaykuXHJcbiAgICovXHJcbiAgcHVibGljIGF1dGhvckRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXV0aG9yIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhdXRob3JUeXBlJ10pIHsgdGhpcy5hdXRob3JUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hdXRob3JUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXV0aG9yRGVzY3JpcHRpb24nXSkgeyB0aGlzLmF1dGhvckRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hdXRob3JEZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYXV0aG9yRGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hdXRob3JEZXNjcmlwdGlvbikgeyB0aGlzLmF1dGhvckRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2F1dGhvckRlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYXV0aG9yRGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYXV0aG9yRGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5vcmdhbmlzbS5hdXRob3InIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhdXRob3JUeXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhdXRob3JEZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUh5YnJpZCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1hdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5LiBGb3IgcGxhbnRzLCB0aGUgcGFyZW50cyBhcmVu4oCZdCBhbHdheXMga25vd24sIGFuZCBpdCBpcyB1bmxpa2VseSB0aGF0IGl0IHdpbGwgYmUga25vd24gd2hpY2ggaXMgbWF0ZXJuYWwgYW5kIHdoaWNoIGlzIHBhdGVybmFsLlxyXG4gICAqL1xyXG4gIG1hdGVybmFsT3JnYW5pc21JZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5vcmdhbmlzbS5oeWJyaWQubWF0ZXJuYWxPcmdhbmlzbUlkXHJcbiAgICovXHJcbiAgX21hdGVybmFsT3JnYW5pc21JZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgdGhlIG1hdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLiBGb3IgcGxhbnRzLCB0aGUgcGFyZW50cyBhcmVu4oCZdCBhbHdheXMga25vd24sIGFuZCBpdCBpcyB1bmxpa2VseSB0aGF0IGl0IHdpbGwgYmUga25vd24gd2hpY2ggaXMgbWF0ZXJuYWwgYW5kIHdoaWNoIGlzIHBhdGVybmFsLlxyXG4gICAqL1xyXG4gIG1hdGVybmFsT3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLmh5YnJpZC5tYXRlcm5hbE9yZ2FuaXNtTmFtZVxyXG4gICAqL1xyXG4gIF9tYXRlcm5hbE9yZ2FuaXNtTmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHBhdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5LlxyXG4gICAqL1xyXG4gIHBhdGVybmFsT3JnYW5pc21JZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5vcmdhbmlzbS5oeWJyaWQucGF0ZXJuYWxPcmdhbmlzbUlkXHJcbiAgICovXHJcbiAgX3BhdGVybmFsT3JnYW5pc21JZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgdGhlIHBhdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHBhdGVybmFsT3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLmh5YnJpZC5wYXRlcm5hbE9yZ2FuaXNtTmFtZVxyXG4gICAqL1xyXG4gIF9wYXRlcm5hbE9yZ2FuaXNtTmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGh5YnJpZCB0eXBlIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBoeWJyaWRUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIDQuOS4xMy44LjEgSHlicmlkIHNwZWNpZXMgbWF0ZXJuYWwgb3JnYW5pc20gSUQgKE9wdGlvbmFsKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUh5YnJpZCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1hdGVybmFsIHNwZWNpZXMgY29uc3RpdHV0aW5nIHRoZSBoeWJyaWQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5LiBGb3IgcGxhbnRzLCB0aGUgcGFyZW50cyBhcmVu4oCZdCBhbHdheXMga25vd24sIGFuZCBpdCBpcyB1bmxpa2VseSB0aGF0IGl0IHdpbGwgYmUga25vd24gd2hpY2ggaXMgbWF0ZXJuYWwgYW5kIHdoaWNoIGlzIHBhdGVybmFsLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXRlcm5hbE9yZ2FuaXNtSWQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBtYXRlcm5hbCBzcGVjaWVzIGNvbnN0aXR1dGluZyB0aGUgaHlicmlkIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC4gRm9yIHBsYW50cywgdGhlIHBhcmVudHMgYXJlbuKAmXQgYWx3YXlzIGtub3duLCBhbmQgaXQgaXMgdW5saWtlbHkgdGhhdCBpdCB3aWxsIGJlIGtub3duIHdoaWNoIGlzIG1hdGVybmFsIGFuZCB3aGljaCBpcyBwYXRlcm5hbC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF0ZXJuYWxPcmdhbmlzbU5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBwYXRlcm5hbCBzcGVjaWVzIGNvbnN0aXR1dGluZyB0aGUgaHlicmlkIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0ZXJuYWxPcmdhbmlzbUlkPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgcGF0ZXJuYWwgc3BlY2llcyBjb25zdGl0dXRpbmcgdGhlIGh5YnJpZCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGVybmFsT3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaHlicmlkIHR5cGUgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoeWJyaWRUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtSHlicmlkQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21hdGVybmFsT3JnYW5pc21JZCddKSB7IHRoaXMubWF0ZXJuYWxPcmdhbmlzbUlkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5tYXRlcm5hbE9yZ2FuaXNtSWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX21hdGVybmFsT3JnYW5pc21JZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLm1hdGVybmFsT3JnYW5pc21JZCkgeyB0aGlzLm1hdGVybmFsT3JnYW5pc21JZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tYXRlcm5hbE9yZ2FuaXNtSWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5tYXRlcm5hbE9yZ2FuaXNtSWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbWF0ZXJuYWxPcmdhbmlzbUlkIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYXRlcm5hbE9yZ2FuaXNtTmFtZSddKSB7IHRoaXMubWF0ZXJuYWxPcmdhbmlzbU5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm1hdGVybmFsT3JnYW5pc21OYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tYXRlcm5hbE9yZ2FuaXNtTmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm1hdGVybmFsT3JnYW5pc21OYW1lKSB7IHRoaXMubWF0ZXJuYWxPcmdhbmlzbU5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbWF0ZXJuYWxPcmdhbmlzbU5hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5tYXRlcm5hbE9yZ2FuaXNtTmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9tYXRlcm5hbE9yZ2FuaXNtTmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0ZXJuYWxPcmdhbmlzbUlkJ10pIHsgdGhpcy5wYXRlcm5hbE9yZ2FuaXNtSWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnBhdGVybmFsT3JnYW5pc21JZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcGF0ZXJuYWxPcmdhbmlzbUlkJ10pIHtcclxuICAgICAgaWYgKHRoaXMucGF0ZXJuYWxPcmdhbmlzbUlkKSB7IHRoaXMucGF0ZXJuYWxPcmdhbmlzbUlkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3BhdGVybmFsT3JnYW5pc21JZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBhdGVybmFsT3JnYW5pc21JZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wYXRlcm5hbE9yZ2FuaXNtSWQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGVybmFsT3JnYW5pc21OYW1lJ10pIHsgdGhpcy5wYXRlcm5hbE9yZ2FuaXNtTmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucGF0ZXJuYWxPcmdhbmlzbU5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3BhdGVybmFsT3JnYW5pc21OYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMucGF0ZXJuYWxPcmdhbmlzbU5hbWUpIHsgdGhpcy5wYXRlcm5hbE9yZ2FuaXNtTmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wYXRlcm5hbE9yZ2FuaXNtTmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBhdGVybmFsT3JnYW5pc21OYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3BhdGVybmFsT3JnYW5pc21OYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydoeWJyaWRUeXBlJ10pIHsgdGhpcy5oeWJyaWRUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5oeWJyaWRUeXBlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtLmh5YnJpZCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21hdGVybmFsT3JnYW5pc21JZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF0ZXJuYWxPcmdhbmlzbU5hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BhdGVybmFsT3JnYW5pc21JZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncGF0ZXJuYWxPcmdhbmlzbU5hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2h5YnJpZFR5cGUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWwgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbU9yZ2FuaXNtR2VuZXJhbEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5nZG9tIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBraW5nZG9tPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGh5bHVtIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwaHlsdW0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjbGFzcyBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgY2xhc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmRlciBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQsLlxyXG4gICAqL1xyXG4gIG9yZGVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIDQuOS4xMy43LjEgS2luZ2RvbSAoQ29uZGl0aW9uYWwpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWwgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtT3JnYW5pc21HZW5lcmFsJztcclxuICAvKipcclxuICAgKiBUaGUga2luZ2RvbSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGtpbmdkb20/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBoeWx1bSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBoeWx1bT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY2xhc3Mgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JkZXIgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkLC5cclxuICAgKi9cclxuICBwdWJsaWMgb3JkZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbU9yZ2FuaXNtR2VuZXJhbCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWxBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsna2luZ2RvbSddKSB7IHRoaXMua2luZ2RvbSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uua2luZ2RvbSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BoeWx1bSddKSB7IHRoaXMucGh5bHVtID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5waHlsdW0pOyB9XHJcbiAgICBpZiAoc291cmNlWydjbGFzcyddKSB7IHRoaXMuY2xhc3MgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNsYXNzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JkZXInXSkgeyB0aGlzLm9yZGVyID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5vcmRlcik7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5vcmdhbmlzbS5vcmdhbmlzbUdlbmVyYWwnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdraW5nZG9tJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwaHlsdW0nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NsYXNzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdvcmRlcicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZhbWlseSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgZmFtaWx5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZ2VudXMgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkOyByZWZlcnMgdG8gdGhlIExhdGluIGVwaXRoZXQgb2YgdGhlIGdlbnVzIGVsZW1lbnQgb2YgdGhlIHBsYW50L2FuaW1hbCBzY2llbnRpZmljIG5hbWU7IGl0IGlzIHByZXNlbnQgaW4gbmFtZXMgZm9yIGdlbmVyYSwgc3BlY2llcyBhbmQgaW5mcmFzcGVjaWVzLlxyXG4gICAqL1xyXG4gIGdlbnVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2llcyBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQ7IHJlZmVycyB0byB0aGUgTGF0aW4gZXBpdGhldCBvZiB0aGUgc3BlY2llcyBvZiB0aGUgcGxhbnQvYW5pbWFsOyBpdCBpcyBwcmVzZW50IGluIG5hbWVzIGZvciBzcGVjaWVzIGFuZCBpbmZyYXNwZWNpZXMuXHJcbiAgICovXHJcbiAgc3BlY2llcz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIEludHJhc3BlY2lmaWMgdHlwZSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgaW50cmFzcGVjaWZpY1R5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRyYXNwZWNpZmljIGRlc2NyaXB0aW9uIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gRm9yIEluZmx1ZW56YSBWYWNjaW5lLCB0aGUgaW50cmFzcGVjaWZpYyBkZXNjcmlwdGlvbiBzaGFsbCBjb250YWluIHRoZSBzeW50YXggb2YgdGhlIGFudGlnZW4gaW4gbGluZSB3aXRoIHRoZSBXSE8gY29udmVudGlvbi5cclxuICAgKi9cclxuICBpbnRyYXNwZWNpZmljRGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwub3JnYW5pc20uaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uXHJcbiAgICovXHJcbiAgX2ludHJhc3BlY2lmaWNEZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogNC45LjEzLjYuMSBBdXRob3IgdHlwZSAoQ29uZGl0aW9uYWwpLlxyXG4gICAqL1xyXG4gIGF1dGhvcj86IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogNC45LjEzLjguMSBIeWJyaWQgc3BlY2llcyBtYXRlcm5hbCBvcmdhbmlzbSBJRCAoT3B0aW9uYWwpLlxyXG4gICAqL1xyXG4gIGh5YnJpZD86IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUh5YnJpZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIDQuOS4xMy43LjEgS2luZ2RvbSAoQ29uZGl0aW9uYWwpLlxyXG4gICAqL1xyXG4gIG9yZ2FuaXNtR2VuZXJhbD86IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbU9yZ2FuaXNtR2VuZXJhbEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBzdWJjbGF1c2UgZGVzY3JpYmVzIHRoZSBvcmdhbmlzbSB3aGljaCB0aGUgc3Vic3RhbmNlIGlzIGRlcml2ZWQgZnJvbS4gRm9yIHZhY2NpbmVzLCB0aGUgcGFyZW50IG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiB0aGVzZSBzdWJjbGF1c2UgZWxlbWVudHMuIEFzIGFuIGV4YW1wbGUsIGZ1bGwgdGF4b25vbXkgd2lsbCBiZSBkZXNjcmliZWQgZm9yIHRoZSBTdWJzdGFuY2UgTmFtZTogLiwgTGVhZi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZhbWlseSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGZhbWlseT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZ2VudXMgb2YgYW4gb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkOyByZWZlcnMgdG8gdGhlIExhdGluIGVwaXRoZXQgb2YgdGhlIGdlbnVzIGVsZW1lbnQgb2YgdGhlIHBsYW50L2FuaW1hbCBzY2llbnRpZmljIG5hbWU7IGl0IGlzIHByZXNlbnQgaW4gbmFtZXMgZm9yIGdlbmVyYSwgc3BlY2llcyBhbmQgaW5mcmFzcGVjaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZW51cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2llcyBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQ7IHJlZmVycyB0byB0aGUgTGF0aW4gZXBpdGhldCBvZiB0aGUgc3BlY2llcyBvZiB0aGUgcGxhbnQvYW5pbWFsOyBpdCBpcyBwcmVzZW50IGluIG5hbWVzIGZvciBzcGVjaWVzIGFuZCBpbmZyYXNwZWNpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpZXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIEludHJhc3BlY2lmaWMgdHlwZSBvZiBhbiBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGludHJhc3BlY2lmaWNUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRyYXNwZWNpZmljIGRlc2NyaXB0aW9uIG9mIGFuIG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gRm9yIEluZmx1ZW56YSBWYWNjaW5lLCB0aGUgaW50cmFzcGVjaWZpYyBkZXNjcmlwdGlvbiBzaGFsbCBjb250YWluIHRoZSBzeW50YXggb2YgdGhlIGFudGlnZW4gaW4gbGluZSB3aXRoIHRoZSBXSE8gY29udmVudGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiA0LjkuMTMuNi4xIEF1dGhvciB0eXBlIChDb25kaXRpb25hbCkuXHJcbiAgICovXHJcbiAgcHVibGljIGF1dGhvcjogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXV0aG9yW107XHJcbiAgLyoqXHJcbiAgICogNC45LjEzLjguMSBIeWJyaWQgc3BlY2llcyBtYXRlcm5hbCBvcmdhbmlzbSBJRCAoT3B0aW9uYWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoeWJyaWQ/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIDQuOS4xMy43LjEgS2luZ2RvbSAoQ29uZGl0aW9uYWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmdhbmlzbUdlbmVyYWw/OiBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21PcmdhbmlzbUdlbmVyYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc20gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2ZhbWlseSddKSB7IHRoaXMuZmFtaWx5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5mYW1pbHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydnZW51cyddKSB7IHRoaXMuZ2VudXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmdlbnVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3BlY2llcyddKSB7IHRoaXMuc3BlY2llcyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3BlY2llcyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludHJhc3BlY2lmaWNUeXBlJ10pIHsgdGhpcy5pbnRyYXNwZWNpZmljVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuaW50cmFzcGVjaWZpY1R5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRyYXNwZWNpZmljRGVzY3JpcHRpb24nXSkgeyB0aGlzLmludHJhc3BlY2lmaWNEZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbnRyYXNwZWNpZmljRGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5pbnRyYXNwZWNpZmljRGVzY3JpcHRpb24pIHsgdGhpcy5pbnRyYXNwZWNpZmljRGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaW50cmFzcGVjaWZpY0Rlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2ludHJhc3BlY2lmaWNEZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXV0aG9yJ10pIHsgdGhpcy5hdXRob3IgPSBzb3VyY2UuYXV0aG9yLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbUF1dGhvcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmF1dGhvciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydoeWJyaWQnXSkgeyB0aGlzLmh5YnJpZCA9IG5ldyBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsT3JnYW5pc21IeWJyaWQoc291cmNlLmh5YnJpZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXNtR2VuZXJhbCddKSB7IHRoaXMub3JnYW5pc21HZW5lcmFsID0gbmV3IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbU9yZ2FuaXNtR2VuZXJhbChzb3VyY2Uub3JnYW5pc21HZW5lcmFsKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZmFtaWx5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdnZW51cycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3BlY2llcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaW50cmFzcGVjaWZpY1R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2ludHJhc3BlY2lmaWNEZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYXV0aG9yJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdoeWJyaWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ29yZ2FuaXNtR2VuZXJhbCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxQYXJ0RGVzY3JpcHRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxQYXJ0RGVzY3JpcHRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBFbnRpdHkgb2YgYW5hdG9taWNhbCBvcmlnaW4gb2Ygc291cmNlIG1hdGVyaWFsIHdpdGhpbiBhbiBvcmdhbmlzbS5cclxuICAgKi9cclxuICBwYXJ0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGV0YWlsZWQgYW5hdG9taWMgbG9jYXRpb24gd2hlbiB0aGUgcGFydCBjYW4gYmUgZXh0cmFjdGVkIGZyb20gZGlmZmVyZW50IGFuYXRvbWljYWwgbG9jYXRpb25zIG9mIHRoZSBvcmdhbmlzbS4gTXVsdGlwbGUgYWx0ZXJuYXRpdmUgbG9jYXRpb25zIG1heSBhcHBseS5cclxuICAgKi9cclxuICBwYXJ0TG9jYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVG8gZG8uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxQYXJ0RGVzY3JpcHRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbic7XHJcbiAgLyoqXHJcbiAgICogRW50aXR5IG9mIGFuYXRvbWljYWwgb3JpZ2luIG9mIHNvdXJjZSBtYXRlcmlhbCB3aXRoaW4gYW4gb3JnYW5pc20uXHJcbiAgICovXHJcbiAgcHVibGljIHBhcnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRldGFpbGVkIGFuYXRvbWljIGxvY2F0aW9uIHdoZW4gdGhlIHBhcnQgY2FuIGJlIGV4dHJhY3RlZCBmcm9tIGRpZmZlcmVudCBhbmF0b21pY2FsIGxvY2F0aW9ucyBvZiB0aGUgb3JnYW5pc20uIE11bHRpcGxlIGFsdGVybmF0aXZlIGxvY2F0aW9ucyBtYXkgYXBwbHkuXHJcbiAgICovXHJcbiAgcHVibGljIHBhcnRMb2NhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3BhcnQnXSkgeyB0aGlzLnBhcnQgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnBhcnQpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0TG9jYXRpb24nXSkgeyB0aGlzLnBhcnRMb2NhdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGFydExvY2F0aW9uKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLnBhcnREZXNjcmlwdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BhcnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BhcnRMb2NhdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGhpZ2ggbGV2ZWwgY2xhc3NpZmljYXRpb24gb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCBzcGVjaWZpYyB0byB0aGUgb3JpZ2luIG9mIHRoZSBtYXRlcmlhbC5cclxuICAgKi9cclxuICBzb3VyY2VNYXRlcmlhbENsYXNzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiB0aGUgc291cmNlIG1hdGVyaWFsIHNoYWxsIGJlIHNwZWNpZmllZCBiYXNlZCBvbiBhIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gRm9yIHZhY2NpbmVzLCB0aGlzIHN1YmNsYXVzZSByZWZlcnMgdG8gdGhlIGNsYXNzIG9mIGluZmVjdGlvdXMgYWdlbnQuXHJcbiAgICovXHJcbiAgc291cmNlTWF0ZXJpYWxUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCB3aGVuIGV4dHJhY3RlZC5cclxuICAgKi9cclxuICBzb3VyY2VNYXRlcmlhbFN0YXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBzb3VyY2UgbWF0ZXJpYWwgcGFyZW50IG9yZ2FuaXNtIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBvcmdhbmlzbUlkPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXNtIGFjY2VwdGVkIFNjaWVudGlmaWMgbmFtZSBzaGFsbCBiZSBwcm92aWRlZCBiYXNlZCBvbiB0aGUgb3JnYW5pc20gdGF4b25vbXkuXHJcbiAgICovXHJcbiAgb3JnYW5pc21OYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLm9yZ2FuaXNtTmFtZVxyXG4gICAqL1xyXG4gIF9vcmdhbmlzbU5hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgb2YgdGhlIGhlcmJhbCBkcnVnIEdpbmtnbyBiaWxvYmEsIExlYWYgaXMgdGhlIHN1YnN0YW5jZSBJRCBvZiB0aGUgc3Vic3RhbmNlIChmcmVzaCkgb2YgR2lua2dvIGJpbG9iYSBMLiBvciBHaW5rZ28gYmlsb2JhIEwuIChXaG9sZSBwbGFudCkuXHJcbiAgICovXHJcbiAgcGFyZW50U3Vic3RhbmNlSWQ/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgc3Vic3RhbmNlIG9mIHRoZSBIZXJiYWwgRHJ1Zywgb3IgSGVyYmFsIHByZXBhcmF0aW9uLlxyXG4gICAqL1xyXG4gIHBhcmVudFN1YnN0YW5jZU5hbWU/OiBmaGlyLkZoaXJTdHJpbmdbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbC5wYXJlbnRTdWJzdGFuY2VOYW1lXHJcbiAgICovXHJcbiAgX3BhcmVudFN1YnN0YW5jZU5hbWU/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb3VudHJ5IHdoZXJlIHRoZSBwbGFudCBtYXRlcmlhbCBpcyBoYXJ2ZXN0ZWQgb3IgdGhlIGNvdW50cmllcyB3aGVyZSB0aGUgcGxhc21hIGlzIHNvdXJjZWQgZnJvbSBhcyBsYWlkIGRvd24gaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBQbGFzbWEgTWFzdGVyIEZpbGUuIEZvciDigJxQbGFzbWEtZGVyaXZlZCBzdWJzdGFuY2Vz4oCdIHRoZSBhdHRyaWJ1dGUgY291bnRyeSBvZiBvcmlnaW4gcHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvdW50cmllcyB1c2VkIGZvciB0aGUgbWFudWZhY3R1cmluZyBvZiB0aGUgQ3J5b3Bvb3IgcGxhbWEgb3IgQ3Jpb3ByZWNpcGl0YXRlLlxyXG4gICAqL1xyXG4gIGNvdW50cnlPZk9yaWdpbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGxhY2UvcmVnaW9uIHdoZXJlIHRoZSBwbGFudCBpcyBoYXJ2ZXN0ZWQgb3IgdGhlIHBsYWNlcy9yZWdpb25zIHdoZXJlIHRoZSBhbmltYWwgc291cmNlIG1hdGVyaWFsIGhhcyBpdHMgaGFiaXRhdC5cclxuICAgKi9cclxuICBnZW9ncmFwaGljYWxMb2NhdGlvbj86IGZoaXIuRmhpclN0cmluZ1tdfChzdHJpbmd8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsLmdlb2dyYXBoaWNhbExvY2F0aW9uXHJcbiAgICovXHJcbiAgX2dlb2dyYXBoaWNhbExvY2F0aW9uPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBTdGFnZSBvZiBsaWZlIGZvciBhbmltYWxzLCBwbGFudHMsIGluc2VjdHMgYW5kIG1pY3Jvb3JnYW5pc21zLiBUaGlzIGluZm9ybWF0aW9uIHNoYWxsIGJlIHByb3ZpZGVkIG9ubHkgd2hlbiB0aGUgc3Vic3RhbmNlIGlzIHNpZ25pZmljYW50bHkgZGlmZmVyZW50IGluIHRoZXNlIHN0YWdlcyAoZS5nLiBmb2V0YWwgYm92aW5lIHNlcnVtKS5cclxuICAgKi9cclxuICBkZXZlbG9wbWVudFN0YWdlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYW55IGNvbXBsZXggbWF0ZXJpYWxzIGFyZSBmcmFjdGlvbnMgb2YgcGFydHMgb2YgcGxhbnRzLCBhbmltYWxzLCBvciBtaW5lcmFscy4gRnJhY3Rpb24gZWxlbWVudHMgYXJlIG9mdGVuIG5lY2Vzc2FyeSB0byBkZWZpbmUgYm90aCBTdWJzdGFuY2VzIGFuZCBTcGVjaWZpZWQgR3JvdXAgMSBTdWJzdGFuY2VzLiBGb3Igc3Vic3RhbmNlcyBkZXJpdmVkIGZyb20gUGxhbnRzLCBmcmFjdGlvbiBpbmZvcm1hdGlvbiB3aWxsIGJlIGNhcHR1cmVkIGF0IHRoZSBTdWJzdGFuY2UgaW5mb3JtYXRpb24gbGV2ZWwgKCAuIE9pbHMsIEp1aWNlcyBhbmQgRXh1ZGF0ZXMpLiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIGZvciBFeHRyYWN0cywgc3VjaCBhcyBleHRyYWN0aW9uIHNvbHZlbnQgY29tcG9zaXRpb24sIHdpbGwgYmUgY2FwdHVyZWQgYXQgdGhlIFNwZWNpZmllZCBTdWJzdGFuY2UgR3JvdXAgMSBpbmZvcm1hdGlvbiBsZXZlbC4gRm9yIHBsYXNtYS1kZXJpdmVkIHByb2R1Y3RzIGZyYWN0aW9uIGluZm9ybWF0aW9uIHdpbGwgYmUgY2FwdHVyZWQgYXQgdGhlIFN1YnN0YW5jZSBhbmQgdGhlIFNwZWNpZmllZCBTdWJzdGFuY2UgR3JvdXAgMSBsZXZlbHMuXHJcbiAgICovXHJcbiAgZnJhY3Rpb25EZXNjcmlwdGlvbj86IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxGcmFjdGlvbkRlc2NyaXB0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHN1YmNsYXVzZSBkZXNjcmliZXMgdGhlIG9yZ2FuaXNtIHdoaWNoIHRoZSBzdWJzdGFuY2UgaXMgZGVyaXZlZCBmcm9tLiBGb3IgdmFjY2luZXMsIHRoZSBwYXJlbnQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIHRoZXNlIHN1YmNsYXVzZSBlbGVtZW50cy4gQXMgYW4gZXhhbXBsZSwgZnVsbCB0YXhvbm9teSB3aWxsIGJlIGRlc2NyaWJlZCBmb3IgdGhlIFN1YnN0YW5jZSBOYW1lOiAuLCBMZWFmLlxyXG4gICAqL1xyXG4gIG9yZ2FuaXNtPzogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gZG8uXHJcbiAgICovXHJcbiAgcGFydERlc2NyaXB0aW9uPzogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTb3VyY2UgbWF0ZXJpYWwgc2hhbGwgY2FwdHVyZSBpbmZvcm1hdGlvbiBvbiB0aGUgdGF4b25vbWljIGFuZCBhbmF0b21pY2FsIG9yaWdpbnMgYXMgd2VsbCBhcyB0aGUgZnJhY3Rpb24gb2YgYSBtYXRlcmlhbCB0aGF0IGNhbiByZXN1bHQgaW4gb3IgY2FuIGJlIG1vZGlmaWVkIHRvIGZvcm0gYSBzdWJzdGFuY2UuIFRoaXMgc2V0IG9mIGRhdGEgZWxlbWVudHMgc2hhbGwgYmUgdXNlZCB0byBkZWZpbmUgcG9seW1lciBzdWJzdGFuY2VzIGlzb2xhdGVkIGZyb20gYmlvbG9naWNhbCBtYXRyaWNlcy4gVGF4b25vbWljIGFuZCBhbmF0b21pY2FsIG9yaWdpbnMgc2hhbGwgYmUgZGVzY3JpYmVkIHVzaW5nIGEgY29udHJvbGxlZCB2b2NhYnVsYXJ5IGFzIHJlcXVpcmVkLiBUaGlzIGluZm9ybWF0aW9uIGlzIGNhcHR1cmVkIGZvciBuYXR1cmFsbHkgZGVyaXZlZCBwb2x5bWVycyAoIC4gc3RhcmNoKSBhbmQgc3RydWN0dXJhbGx5IGRpdmVyc2Ugc3Vic3RhbmNlcy4gRm9yIE9yZ2FuaXNtcyBiZWxvbmdpbmcgdG8gdGhlIEtpbmdkb20gUGxhbnRhZSB0aGUgU3Vic3RhbmNlIGxldmVsIGRlZmluZXMgdGhlIGZyZXNoIG1hdGVyaWFsIG9mIGEgc2luZ2xlIHNwZWNpZXMgb3IgaW5mcmFzcGVjaWVzLCB0aGUgSGVyYmFsIERydWcgYW5kIHRoZSBIZXJiYWwgcHJlcGFyYXRpb24uIEZvciBIZXJiYWwgcHJlcGFyYXRpb25zLCB0aGUgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGluZm9ybWF0aW9uIGxldmVsIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGZvciBoZXJiYWwgZXh0cmFjdHMgd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGluZm9ybWF0aW9uIGxldmVsLiBTZWUgZm9yIGZ1cnRoZXIgZXhwbGFuYXRpb24gdGhlIFN1YnN0YW5jZSBDbGFzczogU3RydWN0dXJhbGx5IERpdmVyc2UgYW5kIHRoZSBoZXJiYWwgYW5uZXguXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNvdXJjZU1hdGVyaWFsJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsXCI7XHJcbiAgLyoqXHJcbiAgICogR2VuZXJhbCBoaWdoIGxldmVsIGNsYXNzaWZpY2F0aW9uIG9mIHRoZSBzb3VyY2UgbWF0ZXJpYWwgc3BlY2lmaWMgdG8gdGhlIG9yaWdpbiBvZiB0aGUgbWF0ZXJpYWwuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZU1hdGVyaWFsQ2xhc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCBzaGFsbCBiZSBzcGVjaWZpZWQgYmFzZWQgb24gYSBjb250cm9sbGVkIHZvY2FidWxhcnkuIEZvciB2YWNjaW5lcywgdGhpcyBzdWJjbGF1c2UgcmVmZXJzIHRvIHRoZSBjbGFzcyBvZiBpbmZlY3Rpb3VzIGFnZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2VNYXRlcmlhbFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UgbWF0ZXJpYWwgd2hlbiBleHRyYWN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZU1hdGVyaWFsU3RhdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgc291cmNlIG1hdGVyaWFsIHBhcmVudCBvcmdhbmlzbSBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZ2FuaXNtSWQ/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbmlzbSBhY2NlcHRlZCBTY2llbnRpZmljIG5hbWUgc2hhbGwgYmUgcHJvdmlkZWQgYmFzZWQgb24gdGhlIG9yZ2FuaXNtIHRheG9ub215LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmdhbmlzbU5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJlbnQgb2YgdGhlIGhlcmJhbCBkcnVnIEdpbmtnbyBiaWxvYmEsIExlYWYgaXMgdGhlIHN1YnN0YW5jZSBJRCBvZiB0aGUgc3Vic3RhbmNlIChmcmVzaCkgb2YgR2lua2dvIGJpbG9iYSBMLiBvciBHaW5rZ28gYmlsb2JhIEwuIChXaG9sZSBwbGFudCkuXHJcbiAgICovXHJcbiAgcHVibGljIHBhcmVudFN1YnN0YW5jZUlkOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGFyZW50IHN1YnN0YW5jZSBvZiB0aGUgSGVyYmFsIERydWcsIG9yIEhlcmJhbCBwcmVwYXJhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcGFyZW50U3Vic3RhbmNlTmFtZTogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvdW50cnkgd2hlcmUgdGhlIHBsYW50IG1hdGVyaWFsIGlzIGhhcnZlc3RlZCBvciB0aGUgY291bnRyaWVzIHdoZXJlIHRoZSBwbGFzbWEgaXMgc291cmNlZCBmcm9tIGFzIGxhaWQgZG93biBpbiBhY2NvcmRhbmNlIHdpdGggdGhlIFBsYXNtYSBNYXN0ZXIgRmlsZS4gRm9yIOKAnFBsYXNtYS1kZXJpdmVkIHN1YnN0YW5jZXPigJ0gdGhlIGF0dHJpYnV0ZSBjb3VudHJ5IG9mIG9yaWdpbiBwcm92aWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY291bnRyaWVzIHVzZWQgZm9yIHRoZSBtYW51ZmFjdHVyaW5nIG9mIHRoZSBDcnlvcG9vciBwbGFtYSBvciBDcmlvcHJlY2lwaXRhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGNvdW50cnlPZk9yaWdpbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGxhY2UvcmVnaW9uIHdoZXJlIHRoZSBwbGFudCBpcyBoYXJ2ZXN0ZWQgb3IgdGhlIHBsYWNlcy9yZWdpb25zIHdoZXJlIHRoZSBhbmltYWwgc291cmNlIG1hdGVyaWFsIGhhcyBpdHMgaGFiaXRhdC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2VvZ3JhcGhpY2FsTG9jYXRpb246IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFN0YWdlIG9mIGxpZmUgZm9yIGFuaW1hbHMsIHBsYW50cywgaW5zZWN0cyBhbmQgbWljcm9vcmdhbmlzbXMuIFRoaXMgaW5mb3JtYXRpb24gc2hhbGwgYmUgcHJvdmlkZWQgb25seSB3aGVuIHRoZSBzdWJzdGFuY2UgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgaW4gdGhlc2Ugc3RhZ2VzIChlLmcuIGZvZXRhbCBib3ZpbmUgc2VydW0pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXZlbG9wbWVudFN0YWdlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hbnkgY29tcGxleCBtYXRlcmlhbHMgYXJlIGZyYWN0aW9ucyBvZiBwYXJ0cyBvZiBwbGFudHMsIGFuaW1hbHMsIG9yIG1pbmVyYWxzLiBGcmFjdGlvbiBlbGVtZW50cyBhcmUgb2Z0ZW4gbmVjZXNzYXJ5IHRvIGRlZmluZSBib3RoIFN1YnN0YW5jZXMgYW5kIFNwZWNpZmllZCBHcm91cCAxIFN1YnN0YW5jZXMuIEZvciBzdWJzdGFuY2VzIGRlcml2ZWQgZnJvbSBQbGFudHMsIGZyYWN0aW9uIGluZm9ybWF0aW9uIHdpbGwgYmUgY2FwdHVyZWQgYXQgdGhlIFN1YnN0YW5jZSBpbmZvcm1hdGlvbiBsZXZlbCAoIC4gT2lscywgSnVpY2VzIGFuZCBFeHVkYXRlcykuIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gZm9yIEV4dHJhY3RzLCBzdWNoIGFzIGV4dHJhY3Rpb24gc29sdmVudCBjb21wb3NpdGlvbiwgd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGluZm9ybWF0aW9uIGxldmVsLiBGb3IgcGxhc21hLWRlcml2ZWQgcHJvZHVjdHMgZnJhY3Rpb24gaW5mb3JtYXRpb24gd2lsbCBiZSBjYXB0dXJlZCBhdCB0aGUgU3Vic3RhbmNlIGFuZCB0aGUgU3BlY2lmaWVkIFN1YnN0YW5jZSBHcm91cCAxIGxldmVscy5cclxuICAgKi9cclxuICBwdWJsaWMgZnJhY3Rpb25EZXNjcmlwdGlvbjogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbEZyYWN0aW9uRGVzY3JpcHRpb25bXTtcclxuICAvKipcclxuICAgKiBUaGlzIHN1YmNsYXVzZSBkZXNjcmliZXMgdGhlIG9yZ2FuaXNtIHdoaWNoIHRoZSBzdWJzdGFuY2UgaXMgZGVyaXZlZCBmcm9tLiBGb3IgdmFjY2luZXMsIHRoZSBwYXJlbnQgb3JnYW5pc20gc2hhbGwgYmUgc3BlY2lmaWVkIGJhc2VkIG9uIHRoZXNlIHN1YmNsYXVzZSBlbGVtZW50cy4gQXMgYW4gZXhhbXBsZSwgZnVsbCB0YXhvbm9teSB3aWxsIGJlIGRlc2NyaWJlZCBmb3IgdGhlIFN1YnN0YW5jZSBOYW1lOiAuLCBMZWFmLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmdhbmlzbT86IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxPcmdhbmlzbXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gZG8uXHJcbiAgICovXHJcbiAgcHVibGljIHBhcnREZXNjcmlwdGlvbjogZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbFBhcnREZXNjcmlwdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU291cmNlTWF0ZXJpYWxBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnU3Vic3RhbmNlU291cmNlTWF0ZXJpYWwnO1xyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlTWF0ZXJpYWxDbGFzcyddKSB7IHRoaXMuc291cmNlTWF0ZXJpYWxDbGFzcyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc291cmNlTWF0ZXJpYWxDbGFzcyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZU1hdGVyaWFsVHlwZSddKSB7IHRoaXMuc291cmNlTWF0ZXJpYWxUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zb3VyY2VNYXRlcmlhbFR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2VNYXRlcmlhbFN0YXRlJ10pIHsgdGhpcy5zb3VyY2VNYXRlcmlhbFN0YXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zb3VyY2VNYXRlcmlhbFN0YXRlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JnYW5pc21JZCddKSB7IHRoaXMub3JnYW5pc21JZCA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLm9yZ2FuaXNtSWQpOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmdhbmlzbU5hbWUnXSkgeyB0aGlzLm9yZ2FuaXNtTmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2Uub3JnYW5pc21OYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19vcmdhbmlzbU5hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5vcmdhbmlzbU5hbWUpIHsgdGhpcy5vcmdhbmlzbU5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fb3JnYW5pc21OYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3JnYW5pc21OYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX29yZ2FuaXNtTmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFyZW50U3Vic3RhbmNlSWQnXSkgeyB0aGlzLnBhcmVudFN1YnN0YW5jZUlkID0gc291cmNlLnBhcmVudFN1YnN0YW5jZUlkLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcmVudFN1YnN0YW5jZUlkID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhcmVudFN1YnN0YW5jZU5hbWUnXSkgeyB0aGlzLnBhcmVudFN1YnN0YW5jZU5hbWUgPSBzb3VyY2UucGFyZW50U3Vic3RhbmNlTmFtZS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXJlbnRTdWJzdGFuY2VOYW1lID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19wYXJlbnRTdWJzdGFuY2VOYW1lJ10pIHtcclxuICAgICAgc291cmNlLl9wYXJlbnRTdWJzdGFuY2VOYW1lLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudFN1YnN0YW5jZU5hbWUubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5wYXJlbnRTdWJzdGFuY2VOYW1lW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMucGFyZW50U3Vic3RhbmNlTmFtZS5wdXNoKG5ldyBmaGlyLkZoaXJTdHJpbmcoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvdW50cnlPZk9yaWdpbiddKSB7IHRoaXMuY291bnRyeU9mT3JpZ2luID0gc291cmNlLmNvdW50cnlPZk9yaWdpbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvdW50cnlPZk9yaWdpbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydnZW9ncmFwaGljYWxMb2NhdGlvbiddKSB7IHRoaXMuZ2VvZ3JhcGhpY2FsTG9jYXRpb24gPSBzb3VyY2UuZ2VvZ3JhcGhpY2FsTG9jYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZ2VvZ3JhcGhpY2FsTG9jYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2dlb2dyYXBoaWNhbExvY2F0aW9uJ10pIHtcclxuICAgICAgc291cmNlLl9nZW9ncmFwaGljYWxMb2NhdGlvbi5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5nZW9ncmFwaGljYWxMb2NhdGlvbi5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLmdlb2dyYXBoaWNhbExvY2F0aW9uW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuZ2VvZ3JhcGhpY2FsTG9jYXRpb24ucHVzaChuZXcgZmhpci5GaGlyU3RyaW5nKHggYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXZlbG9wbWVudFN0YWdlJ10pIHsgdGhpcy5kZXZlbG9wbWVudFN0YWdlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5kZXZlbG9wbWVudFN0YWdlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZnJhY3Rpb25EZXNjcmlwdGlvbiddKSB7IHRoaXMuZnJhY3Rpb25EZXNjcmlwdGlvbiA9IHNvdXJjZS5mcmFjdGlvbkRlc2NyaXB0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3Vic3RhbmNlU291cmNlTWF0ZXJpYWxGcmFjdGlvbkRlc2NyaXB0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZnJhY3Rpb25EZXNjcmlwdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmdhbmlzbSddKSB7IHRoaXMub3JnYW5pc20gPSBuZXcgZmhpci5TdWJzdGFuY2VTb3VyY2VNYXRlcmlhbE9yZ2FuaXNtKHNvdXJjZS5vcmdhbmlzbSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhcnREZXNjcmlwdGlvbiddKSB7IHRoaXMucGFydERlc2NyaXB0aW9uID0gc291cmNlLnBhcnREZXNjcmlwdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlN1YnN0YW5jZVNvdXJjZU1hdGVyaWFsUGFydERlc2NyaXB0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFydERlc2NyaXB0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdTdWJzdGFuY2VTb3VyY2VNYXRlcmlhbCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlBTKCdyZXNvdXJjZVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NvdXJjZU1hdGVyaWFsQ2xhc3MnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NvdXJjZU1hdGVyaWFsVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc291cmNlTWF0ZXJpYWxTdGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JnYW5pc21JZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JnYW5pc21OYW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwYXJlbnRTdWJzdGFuY2VJZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncGFyZW50U3Vic3RhbmNlTmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY291bnRyeU9mT3JpZ2luJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdnZW9ncmFwaGljYWxMb2NhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGV2ZWxvcG1lbnRTdGFnZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZnJhY3Rpb25EZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JnYW5pc20nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BhcnREZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=