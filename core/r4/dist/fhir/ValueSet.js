// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: ValueSet
import * as fhir from '../fhir.js';
// @ts-ignore
import { LanguagesCodings, } from '../fhirValueSets/LanguagesCodings.js';
// @ts-ignore
import { DesignationUseCodings, } from '../fhirValueSets/DesignationUseCodings.js';
// @ts-ignore
import { FilterOperatorCodes } from '../fhirValueSets/FilterOperatorCodes.js';
// @ts-ignore
import { PublicationStatusCodes } from '../fhirValueSets/PublicationStatusCodes.js';
/**
 * Concepts have both a ```display``` and an array of ```designation```. The display is equivalent to a special designation with an implied ```designation.use``` of "primary code" and a language equal to the [Resource Language](resource.html#language).
 */
export class ValueSetComposeIncludeConceptDesignation extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetComposeIncludeConceptDesignation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['language']) {
            this.language = new fhir.FhirCode({ value: source.language });
        }
        if (source['_language']) {
            if (this.language) {
                this.language.addExtendedProperties(source._language);
            }
            else {
                this.language = new fhir.FhirCode(source._language);
            }
        }
        if (source['use']) {
            this.use = new fhir.Coding(source.use);
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        else {
            this.value = null;
        }
        if (source['_value']) {
            if (this.value) {
                this.value.addExtendedProperties(source._value);
            }
            else {
                this.value = new fhir.FhirString(source._value);
            }
        }
    }
    /**
     * Preferred-bound Value Set for language (ValueSet.compose.include.concept.designation.language)
     */
    static get languagePreferredCodings() {
        return LanguagesCodings;
    }
    /**
     * Extensible-bound Value Set for use (ValueSet.compose.include.concept.designation.use)
     */
    static get useExtensibleCodings() {
        return DesignationUseCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet.compose.include.concept.designation';
        }
        if (this["language"]) {
            issues.push(...this.language.doModelValidation(expression + '.language'));
        }
        if (this["use"]) {
            issues.push(...this.use.doModelValidation(expression + '.use'));
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value fhir: ValueSet.compose.include.concept.designation.value:string', expression: [expression] });
        }
        if (this["value"]) {
            issues.push(...this.value.doModelValidation(expression + '.value'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetComposeIncludeConceptDesignation._fts_dataType = 'ValueSetComposeIncludeConceptDesignation';
/**
 * The list of concepts is considered ordered, though the order might not have any particular significance. Typically, the order of an expansion follows that defined in the compose element.
 */
export class ValueSetComposeIncludeConcept extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetComposeIncludeConcept - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        else {
            this.code = null;
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code);
            }
        }
        if (source['display']) {
            this.display = new fhir.FhirString({ value: source.display });
        }
        if (source['_display']) {
            if (this.display) {
                this.display.addExtendedProperties(source._display);
            }
            else {
                this.display = new fhir.FhirString(source._display);
            }
        }
        if (source['designation']) {
            this.designation = source.designation.map((x) => new fhir.ValueSetComposeIncludeConceptDesignation(x));
        }
        else {
            this.designation = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet.compose.include.concept';
        }
        if (!this['code']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property code fhir: ValueSet.compose.include.concept.code:code', expression: [expression] });
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation(expression + '.code'));
        }
        if (this["display"]) {
            issues.push(...this.display.doModelValidation(expression + '.display'));
        }
        if (this["designation"]) {
            this.designation.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.designation[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetComposeIncludeConcept._fts_dataType = 'ValueSetComposeIncludeConcept';
/**
 * Selecting codes by specifying filters based on properties is only possible where the underlying code system defines appropriate properties. Note that in some cases, the underlying code system defines the logical concepts but not the literal codes for the concepts. In such cases, the literal definitions may be provided by a third party.
 */
export class ValueSetComposeIncludeFilter extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetComposeIncludeFilter - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['property']) {
            this.property = new fhir.FhirCode({ value: source.property });
        }
        else {
            this.property = null;
        }
        if (source['_property']) {
            if (this.property) {
                this.property.addExtendedProperties(source._property);
            }
            else {
                this.property = new fhir.FhirCode(source._property);
            }
        }
        if (source['op']) {
            this.op = new fhir.FhirCode({ value: source.op });
        }
        else {
            this.op = null;
        }
        if (source['_op']) {
            if (this.op) {
                this.op.addExtendedProperties(source._op);
            }
            else {
                this.op = new fhir.FhirCode(source._op);
            }
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        else {
            this.value = null;
        }
        if (source['_value']) {
            if (this.value) {
                this.value.addExtendedProperties(source._value);
            }
            else {
                this.value = new fhir.FhirString(source._value);
            }
        }
    }
    /**
     * Required-bound Value Set for op (ValueSet.compose.include.filter.op)
     */
    static get opRequiredCodes() {
        return FilterOperatorCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet.compose.include.filter';
        }
        if (!this['property']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property property fhir: ValueSet.compose.include.filter.property:code', expression: [expression] });
        }
        if (this["property"]) {
            issues.push(...this.property.doModelValidation(expression + '.property'));
        }
        if (!this['op']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property op fhir: ValueSet.compose.include.filter.op:code', expression: [expression] });
        }
        if (this['op'] && (!Object.values(FilterOperatorCodes).includes(this.op.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property op fhir: ValueSet.compose.include.filter.op:code Required binding to: FilterOperator', expression: [expression] });
        }
        if (this["op"]) {
            issues.push(...this.op.doModelValidation(expression + '.op'));
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value fhir: ValueSet.compose.include.filter.value:string', expression: [expression] });
        }
        if (this["value"]) {
            issues.push(...this.value.doModelValidation(expression + '.value'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetComposeIncludeFilter._fts_dataType = 'ValueSetComposeIncludeFilter';
/**
 * All the conditions in an include must be true. If a system is listed, all the codes from the system are listed. If one or more filters are listed, all of the filters must apply. If one or more value sets are listed, the codes must be in all the value sets. E.g. each include is 'include all the codes that meet all these conditions'.
 */
export class ValueSetComposeInclude extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetComposeInclude - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['system']) {
            this.system = new fhir.FhirUri({ value: source.system });
        }
        if (source['_system']) {
            if (this.system) {
                this.system.addExtendedProperties(source._system);
            }
            else {
                this.system = new fhir.FhirUri(source._system);
            }
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version);
            }
        }
        if (source['concept']) {
            this.concept = source.concept.map((x) => new fhir.ValueSetComposeIncludeConcept(x));
        }
        else {
            this.concept = [];
        }
        if (source['filter']) {
            this.filter = source.filter.map((x) => new fhir.ValueSetComposeIncludeFilter(x));
        }
        else {
            this.filter = [];
        }
        if (source['valueSet']) {
            this.valueSet = source.valueSet.map((x) => new fhir.FhirCanonical({ value: x }));
        }
        else {
            this.valueSet = [];
        }
        if (source['_valueSet']) {
            source._valueSet.forEach((x, i) => {
                if (this.valueSet.length >= i) {
                    if (x) {
                        this.valueSet[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.valueSet.push(new fhir.FhirCanonical(x));
                    }
                }
            });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet.compose.include';
        }
        if (this["system"]) {
            issues.push(...this.system.doModelValidation(expression + '.system'));
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation(expression + '.version'));
        }
        if (this["concept"]) {
            this.concept.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.concept[${i}]`)); });
        }
        if (this["filter"]) {
            this.filter.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.filter[${i}]`)); });
        }
        if (this["valueSet"]) {
            this.valueSet.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.valueSet[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetComposeInclude._fts_dataType = 'ValueSetComposeInclude';
/**
 * A set of criteria that define the contents of the value set by including or excluding codes selected from the specified code system(s) that the value set draws from. This is also known as the Content Logical Definition (CLD).
 */
export class ValueSetCompose extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetCompose - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['lockedDate']) {
            this.lockedDate = new fhir.FhirDate({ value: source.lockedDate });
        }
        if (source['_lockedDate']) {
            if (this.lockedDate) {
                this.lockedDate.addExtendedProperties(source._lockedDate);
            }
            else {
                this.lockedDate = new fhir.FhirDate(source._lockedDate);
            }
        }
        if (source['inactive']) {
            this.inactive = new fhir.FhirBoolean({ value: source.inactive });
        }
        if (source['_inactive']) {
            if (this.inactive) {
                this.inactive.addExtendedProperties(source._inactive);
            }
            else {
                this.inactive = new fhir.FhirBoolean(source._inactive);
            }
        }
        if (source['include']) {
            this.include = source.include.map((x) => new fhir.ValueSetComposeInclude(x));
        }
        else {
            this.include = [];
        }
        if (source['exclude']) {
            this.exclude = source.exclude.map((x) => new fhir.ValueSetComposeInclude(x));
        }
        else {
            this.exclude = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet.compose';
        }
        if (this["lockedDate"]) {
            issues.push(...this.lockedDate.doModelValidation(expression + '.lockedDate'));
        }
        if (this["inactive"]) {
            issues.push(...this.inactive.doModelValidation(expression + '.inactive'));
        }
        if (!this['include']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property include fhir: ValueSet.compose.include:include', expression: [expression] });
        }
        else if (!Array.isArray(this.include)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property include fhir: ValueSet.compose.include:include', expression: [expression] });
        }
        else if (this.include.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property include fhir: ValueSet.compose.include:include', expression: [expression] });
        }
        if (this["include"]) {
            this.include.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.include[${i}]`)); });
        }
        if (this["exclude"]) {
            this.exclude.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.exclude[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetCompose._fts_dataType = 'ValueSetCompose';
/**
 * The server decides which parameters to include here, but at a minimum, the list SHOULD include all of the parameters that affect the $expand operation. If the expansion will be persisted all of these parameters SHALL be included. If the codeSystem on the server has a specified version then this version SHALL be provided as a parameter in the expansion (note that not all code systems have a version).
 */
export class ValueSetExpansionParameter extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetExpansionParameter - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueInteger']) {
            this.value = new fhir.FhirInteger({ value: source.valueInteger });
        }
        else if (source['valueDecimal']) {
            this.value = new fhir.FhirDecimal({ value: source.valueDecimal });
        }
        else if (source['valueUri']) {
            this.value = new fhir.FhirUri({ value: source.valueUri });
        }
        else if (source['valueCode']) {
            this.value = new fhir.FhirCode({ value: source.valueCode });
        }
        else if (source['valueDateTime']) {
            this.value = new fhir.FhirDateTime({ value: source.valueDateTime });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet.expansion.parameter';
        }
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name fhir: ValueSet.expansion.parameter.name:string', expression: [expression] });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation(expression + '.name'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetExpansionParameter._fts_dataType = 'ValueSetExpansionParameter';
/**
 * Internal flag to properly serialize choice-type element ValueSet.expansion.parameter.value[x]
 */
ValueSetExpansionParameter._fts_valueIsChoice = true;
/**
 * The codes that are contained in the value set expansion.
 */
export class ValueSetExpansionContains extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetExpansionContains - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['system']) {
            this.system = new fhir.FhirUri({ value: source.system });
        }
        if (source['_system']) {
            if (this.system) {
                this.system.addExtendedProperties(source._system);
            }
            else {
                this.system = new fhir.FhirUri(source._system);
            }
        }
        if (source['abstract']) {
            this.abstract = new fhir.FhirBoolean({ value: source.abstract });
        }
        if (source['_abstract']) {
            if (this.abstract) {
                this.abstract.addExtendedProperties(source._abstract);
            }
            else {
                this.abstract = new fhir.FhirBoolean(source._abstract);
            }
        }
        if (source['inactive']) {
            this.inactive = new fhir.FhirBoolean({ value: source.inactive });
        }
        if (source['_inactive']) {
            if (this.inactive) {
                this.inactive.addExtendedProperties(source._inactive);
            }
            else {
                this.inactive = new fhir.FhirBoolean(source._inactive);
            }
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version);
            }
        }
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code);
            }
        }
        if (source['display']) {
            this.display = new fhir.FhirString({ value: source.display });
        }
        if (source['_display']) {
            if (this.display) {
                this.display.addExtendedProperties(source._display);
            }
            else {
                this.display = new fhir.FhirString(source._display);
            }
        }
        if (source['designation']) {
            this.designation = source.designation.map((x) => new fhir.ValueSetComposeIncludeConceptDesignation(x));
        }
        else {
            this.designation = [];
        }
        if (source['contains']) {
            this.contains = source.contains.map((x) => new fhir.ValueSetExpansionContains(x));
        }
        else {
            this.contains = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet.expansion.contains';
        }
        if (this["system"]) {
            issues.push(...this.system.doModelValidation(expression + '.system'));
        }
        if (this["abstract"]) {
            issues.push(...this.abstract.doModelValidation(expression + '.abstract'));
        }
        if (this["inactive"]) {
            issues.push(...this.inactive.doModelValidation(expression + '.inactive'));
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation(expression + '.version'));
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation(expression + '.code'));
        }
        if (this["display"]) {
            issues.push(...this.display.doModelValidation(expression + '.display'));
        }
        if (this["designation"]) {
            this.designation.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.designation[${i}]`)); });
        }
        if (this["contains"]) {
            this.contains.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.contains[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetExpansionContains._fts_dataType = 'ValueSetExpansionContains';
/**
 * Expansion is performed to produce a collection of codes that are ready to use for data entry or validation. Value set expansions are always considered to be stateless - they are a record of the set of codes in the value set at a point in time under a given set of conditions, and are not subject to ongoing maintenance.
 * Expansion.parameter is  a simplified list of parameters - a subset of the features of the [Parameters](parameters.html) resource.
 */
export class ValueSetExpansion extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetExpansion - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = new fhir.FhirUri({ value: source.identifier });
        }
        if (source['_identifier']) {
            if (this.identifier) {
                this.identifier.addExtendedProperties(source._identifier);
            }
            else {
                this.identifier = new fhir.FhirUri(source._identifier);
            }
        }
        if (source['timestamp']) {
            this.timestamp = new fhir.FhirDateTime({ value: source.timestamp });
        }
        else {
            this.timestamp = null;
        }
        if (source['_timestamp']) {
            if (this.timestamp) {
                this.timestamp.addExtendedProperties(source._timestamp);
            }
            else {
                this.timestamp = new fhir.FhirDateTime(source._timestamp);
            }
        }
        if (source['total']) {
            this.total = new fhir.FhirInteger({ value: source.total });
        }
        if (source['_total']) {
            if (this.total) {
                this.total.addExtendedProperties(source._total);
            }
            else {
                this.total = new fhir.FhirInteger(source._total);
            }
        }
        if (source['offset']) {
            this.offset = new fhir.FhirInteger({ value: source.offset });
        }
        if (source['_offset']) {
            if (this.offset) {
                this.offset.addExtendedProperties(source._offset);
            }
            else {
                this.offset = new fhir.FhirInteger(source._offset);
            }
        }
        if (source['parameter']) {
            this.parameter = source.parameter.map((x) => new fhir.ValueSetExpansionParameter(x));
        }
        else {
            this.parameter = [];
        }
        if (source['contains']) {
            this.contains = source.contains.map((x) => new fhir.ValueSetExpansionContains(x));
        }
        else {
            this.contains = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet.expansion';
        }
        if (this["identifier"]) {
            issues.push(...this.identifier.doModelValidation(expression + '.identifier'));
        }
        if (!this['timestamp']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property timestamp fhir: ValueSet.expansion.timestamp:dateTime', expression: [expression] });
        }
        if (this["timestamp"]) {
            issues.push(...this.timestamp.doModelValidation(expression + '.timestamp'));
        }
        if (this["total"]) {
            issues.push(...this.total.doModelValidation(expression + '.total'));
        }
        if (this["offset"]) {
            issues.push(...this.offset.doModelValidation(expression + '.offset'));
        }
        if (this["parameter"]) {
            this.parameter.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.parameter[${i}]`)); });
        }
        if (this["contains"]) {
            this.contains.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.contains[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetExpansion._fts_dataType = 'ValueSetExpansion';
/**
 * A ValueSet resource instance specifies a set of codes drawn from one or more code systems, intended for use in a particular context. Value sets link between [CodeSystem](codesystem.html) definitions and their use in [coded elements](terminologies.html).
 */
export class ValueSet extends fhir.DomainResource {
    /**
     * Default constructor for ValueSet - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ValueSet';
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url);
            }
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['_title']) {
            if (this.title) {
                this.title.addExtendedProperties(source._title);
            }
            else {
                this.title = new fhir.FhirString(source._title);
            }
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['experimental']) {
            this.experimental = new fhir.FhirBoolean({ value: source.experimental });
        }
        if (source['_experimental']) {
            if (this.experimental) {
                this.experimental.addExtendedProperties(source._experimental);
            }
            else {
                this.experimental = new fhir.FhirBoolean(source._experimental);
            }
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['publisher']) {
            this.publisher = new fhir.FhirString({ value: source.publisher });
        }
        if (source['_publisher']) {
            if (this.publisher) {
                this.publisher.addExtendedProperties(source._publisher);
            }
            else {
                this.publisher = new fhir.FhirString(source._publisher);
            }
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.contact = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description);
            }
        }
        if (source['useContext']) {
            this.useContext = source.useContext.map((x) => new fhir.UsageContext(x));
        }
        else {
            this.useContext = [];
        }
        if (source['jurisdiction']) {
            this.jurisdiction = source.jurisdiction.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.jurisdiction = [];
        }
        if (source['immutable']) {
            this.immutable = new fhir.FhirBoolean({ value: source.immutable });
        }
        if (source['_immutable']) {
            if (this.immutable) {
                this.immutable.addExtendedProperties(source._immutable);
            }
            else {
                this.immutable = new fhir.FhirBoolean(source._immutable);
            }
        }
        if (source['purpose']) {
            this.purpose = new fhir.FhirMarkdown({ value: source.purpose });
        }
        if (source['_purpose']) {
            if (this.purpose) {
                this.purpose.addExtendedProperties(source._purpose);
            }
            else {
                this.purpose = new fhir.FhirMarkdown(source._purpose);
            }
        }
        if (source['copyright']) {
            this.copyright = new fhir.FhirMarkdown({ value: source.copyright });
        }
        if (source['_copyright']) {
            if (this.copyright) {
                this.copyright.addExtendedProperties(source._copyright);
            }
            else {
                this.copyright = new fhir.FhirMarkdown(source._copyright);
            }
        }
        if (source['compose']) {
            this.compose = new fhir.ValueSetCompose(source.compose);
        }
        if (source['expansion']) {
            this.expansion = new fhir.ValueSetExpansion(source.expansion);
        }
    }
    /**
     * Required-bound Value Set for status (ValueSet.status)
     */
    static get statusRequiredCodes() {
        return PublicationStatusCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'ValueSet';
        }
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType fhir: ValueSet.resourceType:"ValueSet"', expression: [expression] });
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation(expression + '.url'));
        }
        if (this["identifier"]) {
            this.identifier.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.identifier[${i}]`)); });
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation(expression + '.version'));
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation(expression + '.name'));
        }
        if (this["title"]) {
            issues.push(...this.title.doModelValidation(expression + '.title'));
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status fhir: ValueSet.status:code', expression: [expression] });
        }
        if (this['status'] && (!Object.values(PublicationStatusCodes).includes(this.status.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property status fhir: ValueSet.status:code Required binding to: PublicationStatus', expression: [expression] });
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation(expression + '.status'));
        }
        if (this["experimental"]) {
            issues.push(...this.experimental.doModelValidation(expression + '.experimental'));
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation(expression + '.date'));
        }
        if (this["publisher"]) {
            issues.push(...this.publisher.doModelValidation(expression + '.publisher'));
        }
        if (this["contact"]) {
            this.contact.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.contact[${i}]`)); });
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation(expression + '.description'));
        }
        if (this["useContext"]) {
            this.useContext.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.useContext[${i}]`)); });
        }
        if (this["jurisdiction"]) {
            this.jurisdiction.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.jurisdiction[${i}]`)); });
        }
        if (this["immutable"]) {
            issues.push(...this.immutable.doModelValidation(expression + '.immutable'));
        }
        if (this["purpose"]) {
            issues.push(...this.purpose.doModelValidation(expression + '.purpose'));
        }
        if (this["copyright"]) {
            issues.push(...this.copyright.doModelValidation(expression + '.copyright'));
        }
        if (this["compose"]) {
            issues.push(...this.compose.doModelValidation(expression + '.compose'));
        }
        if (this["expansion"]) {
            issues.push(...this.expansion.doModelValidation(expression + '.expansion'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSet._fts_dataType = 'ValueSet';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmFsdWVTZXQuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL1ZhbHVlU2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDBCQUEwQjtBQUUxQixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUVuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGdCQUFnQixHQUF1QixNQUFNLHNDQUFzQyxDQUFDO0FBRzdGLGFBQWE7QUFDYixPQUFPLEVBQUUscUJBQXFCLEdBQTRCLE1BQU0sMkNBQTJDLENBQUM7QUFLNUcsYUFBYTtBQUNiLE9BQU8sRUFBRSxtQkFBbUIsRUFBMkIsTUFBTSx5Q0FBeUMsQ0FBQztBQUd2RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixFQUE4QixNQUFNLDRDQUE0QyxDQUFDO0FBMkJoSDs7R0FFRztBQUNILE1BQU0sT0FBTyx3Q0FBeUMsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlCaEY7O09BRUc7SUFDSCxZQUFZLFNBQStELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3JILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3hGLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxTQUFVLENBQUMsQ0FBQzthQUFFO2lCQUN6RTtnQkFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFN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TSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUNyRyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXpNRDs7R0FFRztBQUM2QixzQkFBYSxHQUFVLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogVmFsdWVTZXRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExhbmd1YWdlc0NvZGluZ3MsIExhbmd1YWdlc0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xhbmd1YWdlc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExhbmd1YWdlc0NvZGVzLCAgTGFuZ3VhZ2VzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xhbmd1YWdlc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEZXNpZ25hdGlvblVzZUNvZGluZ3MsIERlc2lnbmF0aW9uVXNlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGVzaWduYXRpb25Vc2VDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEZXNpZ25hdGlvblVzZUNvZGVzLCAgRGVzaWduYXRpb25Vc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGVzaWduYXRpb25Vc2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRmlsdGVyT3BlcmF0b3JDb2RpbmdzLCBGaWx0ZXJPcGVyYXRvckNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ZpbHRlck9wZXJhdG9yQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRmlsdGVyT3BlcmF0b3JDb2RlcywgIEZpbHRlck9wZXJhdG9yQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ZpbHRlck9wZXJhdG9yQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzQ29kaW5ncywgUHVibGljYXRpb25TdGF0dXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzQ29kZXMsICBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEluIHRoZSBhYnNlbmNlIG9mIGEgbGFuZ3VhZ2UsIHRoZSByZXNvdXJjZSBsYW5ndWFnZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIGxhbmd1YWdlPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuY29uY2VwdC5kZXNpZ25hdGlvbi5sYW5ndWFnZVxyXG4gICAqL1xyXG4gIF9sYW5ndWFnZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWYgbm8gdXNlIGlzIHByb3ZpZGVkLCB0aGUgZGVzaWduYXRpb24gY2FuIGJlIGFzc3VtZWQgdG8gYmUgc3VpdGFibGUgZm9yIGdlbmVyYWwgZGlzcGxheSB0byBhIGh1bWFuIHVzZXIuXHJcbiAgICovXHJcbiAgdXNlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGV4dCB2YWx1ZSBmb3IgdGhpcyBkZXNpZ25hdGlvbi5cclxuICAgKi9cclxuICB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5jb25jZXB0LmRlc2lnbmF0aW9uLnZhbHVlXHJcbiAgICovXHJcbiAgX3ZhbHVlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbmNlcHRzIGhhdmUgYm90aCBhIGBgYGRpc3BsYXlgYGAgYW5kIGFuIGFycmF5IG9mIGBgYGRlc2lnbmF0aW9uYGBgLiBUaGUgZGlzcGxheSBpcyBlcXVpdmFsZW50IHRvIGEgc3BlY2lhbCBkZXNpZ25hdGlvbiB3aXRoIGFuIGltcGxpZWQgYGBgZGVzaWduYXRpb24udXNlYGBgIG9mIFwicHJpbWFyeSBjb2RlXCIgYW5kIGEgbGFuZ3VhZ2UgZXF1YWwgdG8gdGhlIFtSZXNvdXJjZSBMYW5ndWFnZV0ocmVzb3VyY2UuaHRtbCNsYW5ndWFnZSkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIEluIHRoZSBhYnNlbmNlIG9mIGEgbGFuZ3VhZ2UsIHRoZSByZXNvdXJjZSBsYW5ndWFnZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsYW5ndWFnZT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIG5vIHVzZSBpcyBwcm92aWRlZCwgdGhlIGRlc2lnbmF0aW9uIGNhbiBiZSBhc3N1bWVkIHRvIGJlIHN1aXRhYmxlIGZvciBnZW5lcmFsIGRpc3BsYXkgdG8gYSBodW1hbiB1c2VyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2U/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRleHQgdmFsdWUgZm9yIHRoaXMgZGVzaWduYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldENvbXBvc2VJbmNsdWRlQ29uY2VwdERlc2lnbmF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydsYW5ndWFnZSddKSB7IHRoaXMubGFuZ3VhZ2UgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS5sYW5ndWFnZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbGFuZ3VhZ2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5sYW5ndWFnZSkgeyB0aGlzLmxhbmd1YWdlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2xhbmd1YWdlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubGFuZ3VhZ2UgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX2xhbmd1YWdlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndXNlJ10pIHsgdGhpcy51c2UgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnVzZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmFsdWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsdWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmFsdWUnXSkge1xyXG4gICAgICBpZiAodGhpcy52YWx1ZSkgeyB0aGlzLnZhbHVlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZhbHVlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fdmFsdWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUHJlZmVycmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgbGFuZ3VhZ2UgKFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5jb25jZXB0LmRlc2lnbmF0aW9uLmxhbmd1YWdlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IGxhbmd1YWdlUHJlZmVycmVkQ29kaW5ncygpOkxhbmd1YWdlc0NvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIExhbmd1YWdlc0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciB1c2UgKFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5jb25jZXB0LmRlc2lnbmF0aW9uLnVzZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB1c2VFeHRlbnNpYmxlQ29kaW5ncygpOkRlc2lnbmF0aW9uVXNlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRGVzaWduYXRpb25Vc2VDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuY29uY2VwdC5kZXNpZ25hdGlvbicgfVxyXG4gICAgaWYgKHRoaXNbXCJsYW5ndWFnZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmxhbmd1YWdlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5sYW5ndWFnZScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1c2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51c2UuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnVzZScpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd2YWx1ZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB2YWx1ZSBmaGlyOiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuY29uY2VwdC5kZXNpZ25hdGlvbi52YWx1ZTpzdHJpbmcnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInZhbHVlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudmFsdWUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnZhbHVlJykpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBFeHByZXNzaW9ucyBhcmUgYWxsb3dlZCBpZiBkZWZpbmVkIGJ5IHRoZSB1bmRlcmx5aW5nIGNvZGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmNvbmNlcHQuY29kZVxyXG4gICAqL1xyXG4gIF9jb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgc2V0IHJlc291cmNlIGFsbG93cyBmb3IgYW4gYWx0ZXJuYXRpdmUgZGlzcGxheSB0byBiZSBzcGVjaWZpZWQgZm9yIHdoZW4gdGhpcyBjb25jZXB0IGlzIHVzZWQgaW4gdGhpcyBwYXJ0aWN1bGFyIHZhbHVlIHNldC4gU2VlIG5vdGVzIGluIHRoZSB2YWx1ZSBzZXQgbmFycmF0aXZlIGFib3V0IHRoZSBjb3JyZWN0IHVzZSBvZiB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuY29uY2VwdC5kaXNwbGF5XHJcbiAgICovXHJcbiAgX2Rpc3BsYXk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvbmNlcHRzIGhhdmUgYm90aCBhIGBgYGRpc3BsYXlgYGAgYW5kIGFuIGFycmF5IG9mIGBgYGRlc2lnbmF0aW9uYGBgLiBUaGUgZGlzcGxheSBpcyBlcXVpdmFsZW50IHRvIGEgc3BlY2lhbCBkZXNpZ25hdGlvbiB3aXRoIGFuIGltcGxpZWQgYGBgZGVzaWduYXRpb24udXNlYGBgIG9mIFwicHJpbWFyeSBjb2RlXCIgYW5kIGEgbGFuZ3VhZ2UgZXF1YWwgdG8gdGhlIFtSZXNvdXJjZSBMYW5ndWFnZV0ocmVzb3VyY2UuaHRtbCNsYW5ndWFnZSkuXHJcbiAgICovXHJcbiAgZGVzaWduYXRpb24/OiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpc3Qgb2YgY29uY2VwdHMgaXMgY29uc2lkZXJlZCBvcmRlcmVkLCB0aG91Z2ggdGhlIG9yZGVyIG1pZ2h0IG5vdCBoYXZlIGFueSBwYXJ0aWN1bGFyIHNpZ25pZmljYW5jZS4gVHlwaWNhbGx5LCB0aGUgb3JkZXIgb2YgYW4gZXhwYW5zaW9uIGZvbGxvd3MgdGhhdCBkZWZpbmVkIGluIHRoZSBjb21wb3NlIGVsZW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWYWx1ZVNldENvbXBvc2VJbmNsdWRlQ29uY2VwdCc7XHJcbiAgLyoqXHJcbiAgICogRXhwcmVzc2lvbnMgYXJlIGFsbG93ZWQgaWYgZGVmaW5lZCBieSB0aGUgdW5kZXJseWluZyBjb2RlIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5GaGlyQ29kZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBzZXQgcmVzb3VyY2UgYWxsb3dzIGZvciBhbiBhbHRlcm5hdGl2ZSBkaXNwbGF5IHRvIGJlIHNwZWNpZmllZCBmb3Igd2hlbiB0aGlzIGNvbmNlcHQgaXMgdXNlZCBpbiB0aGlzIHBhcnRpY3VsYXIgdmFsdWUgc2V0LiBTZWUgbm90ZXMgaW4gdGhlIHZhbHVlIHNldCBuYXJyYXRpdmUgYWJvdXQgdGhlIGNvcnJlY3QgdXNlIG9mIHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29uY2VwdHMgaGF2ZSBib3RoIGEgYGBgZGlzcGxheWBgYCBhbmQgYW4gYXJyYXkgb2YgYGBgZGVzaWduYXRpb25gYGAuIFRoZSBkaXNwbGF5IGlzIGVxdWl2YWxlbnQgdG8gYSBzcGVjaWFsIGRlc2lnbmF0aW9uIHdpdGggYW4gaW1wbGllZCBgYGBkZXNpZ25hdGlvbi51c2VgYGAgb2YgXCJwcmltYXJ5IGNvZGVcIiBhbmQgYSBsYW5ndWFnZSBlcXVhbCB0byB0aGUgW1Jlc291cmNlIExhbmd1YWdlXShyZXNvdXJjZS5odG1sI2xhbmd1YWdlKS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzaWduYXRpb246IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLmNvZGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29kZSkgeyB0aGlzLmNvZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX2NvZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkaXNwbGF5J10pIHsgdGhpcy5kaXNwbGF5ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kaXNwbGF5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kaXNwbGF5J10pIHtcclxuICAgICAgaWYgKHRoaXMuZGlzcGxheSkgeyB0aGlzLmRpc3BsYXkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGlzcGxheSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRpc3BsYXkgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGlzcGxheSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzaWduYXRpb24nXSkgeyB0aGlzLmRlc2lnbmF0aW9uID0gc291cmNlLmRlc2lnbmF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRlc2lnbmF0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmNvbmNlcHQnIH1cclxuICAgIGlmICghdGhpc1snY29kZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBjb2RlIGZoaXI6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5jb25jZXB0LmNvZGU6Y29kZScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiY29kZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvZGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmNvZGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGlzcGxheVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRpc3BsYXkuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmRpc3BsYXknKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGVzaWduYXRpb25cIl0pIHsgdGhpcy5kZXNpZ25hdGlvbi5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuZGVzaWduYXRpb25bJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWYWx1ZVNldENvbXBvc2VJbmNsdWRlRmlsdGVyIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGVGaWx0ZXJBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBpZGVudGlmaWVzIGEgcHJvcGVydHkgb3IgYSBmaWx0ZXIgZGVmaW5lZCBpbiB0aGUgY29kZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgcHJvcGVydHk6IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmZpbHRlci5wcm9wZXJ0eVxyXG4gICAqL1xyXG4gIF9wcm9wZXJ0eT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW4gY2FzZSBmaWx0ZXIucHJvcGVydHkgcmVwcmVzZW50cyBhIHByb3BlcnR5IG9mIHRoZSBzeXN0ZW0sIHRoZSBvcGVyYXRpb24gYXBwbGllcyB0byB0aGUgc2VsZWN0ZWQgcHJvcGVydHkuIEluIGNhc2UgZmlsdGVyLnByb3BlcnR5IHJlcHJlc2VudHMgYSBmaWx0ZXIgb2YgdGhlIHN5c3RlbSwgdGhlIG9wZXJhdGlvbiBTSEFMTCBtYXRjaCBvbmUgb2YgdGhlIENvZGVTeXN0ZW0uZmlsdGVyLm9wZXJhdG9yIHZhbHVlcy5cclxuICAgKi9cclxuICBvcDogZmhpci5GaGlyQ29kZTxGaWx0ZXJPcGVyYXRvckNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuZmlsdGVyLm9wXHJcbiAgICovXHJcbiAgX29wPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBVc2UgcmVnZXggbWF0Y2hpbmcgd2l0aCBjYXJlIC0gZnVsbCByZWdleCBtYXRjaGluZyBvbiBldmVyeSBTTk9NRUQgQ1QgdGVybSBpcyBwcm9oaWJpdGl2ZSwgZm9yIGV4YW1wbGUuXHJcbiAgICovXHJcbiAgdmFsdWU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuZmlsdGVyLnZhbHVlXHJcbiAgICovXHJcbiAgX3ZhbHVlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbGVjdGluZyBjb2RlcyBieSBzcGVjaWZ5aW5nIGZpbHRlcnMgYmFzZWQgb24gcHJvcGVydGllcyBpcyBvbmx5IHBvc3NpYmxlIHdoZXJlIHRoZSB1bmRlcmx5aW5nIGNvZGUgc3lzdGVtIGRlZmluZXMgYXBwcm9wcmlhdGUgcHJvcGVydGllcy4gTm90ZSB0aGF0IGluIHNvbWUgY2FzZXMsIHRoZSB1bmRlcmx5aW5nIGNvZGUgc3lzdGVtIGRlZmluZXMgdGhlIGxvZ2ljYWwgY29uY2VwdHMgYnV0IG5vdCB0aGUgbGl0ZXJhbCBjb2RlcyBmb3IgdGhlIGNvbmNlcHRzLiBJbiBzdWNoIGNhc2VzLCB0aGUgbGl0ZXJhbCBkZWZpbml0aW9ucyBtYXkgYmUgcHJvdmlkZWQgYnkgYSB0aGlyZCBwYXJ0eS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWYWx1ZVNldENvbXBvc2VJbmNsdWRlRmlsdGVyIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmFsdWVTZXRDb21wb3NlSW5jbHVkZUZpbHRlcic7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgaWRlbnRpZmllcyBhIHByb3BlcnR5IG9yIGEgZmlsdGVyIGRlZmluZWQgaW4gdGhlIGNvZGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9wZXJ0eTogZmhpci5GaGlyQ29kZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluIGNhc2UgZmlsdGVyLnByb3BlcnR5IHJlcHJlc2VudHMgYSBwcm9wZXJ0eSBvZiB0aGUgc3lzdGVtLCB0aGUgb3BlcmF0aW9uIGFwcGxpZXMgdG8gdGhlIHNlbGVjdGVkIHByb3BlcnR5LiBJbiBjYXNlIGZpbHRlci5wcm9wZXJ0eSByZXByZXNlbnRzIGEgZmlsdGVyIG9mIHRoZSBzeXN0ZW0sIHRoZSBvcGVyYXRpb24gU0hBTEwgbWF0Y2ggb25lIG9mIHRoZSBDb2RlU3lzdGVtLmZpbHRlci5vcGVyYXRvciB2YWx1ZXMuXHJcbiAgICovXHJcbiAgcHVibGljIG9wOiBmaGlyLkZoaXJDb2RlPEZpbHRlck9wZXJhdG9yQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVXNlIHJlZ2V4IG1hdGNoaW5nIHdpdGggY2FyZSAtIGZ1bGwgcmVnZXggbWF0Y2hpbmcgb24gZXZlcnkgU05PTUVEIENUIHRlcm0gaXMgcHJvaGliaXRpdmUsIGZvciBleGFtcGxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUZpbHRlciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZhbHVlU2V0Q29tcG9zZUluY2x1ZGVGaWx0ZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncHJvcGVydHknXSkgeyB0aGlzLnByb3BlcnR5ID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UucHJvcGVydHl9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJvcGVydHknXSkge1xyXG4gICAgICBpZiAodGhpcy5wcm9wZXJ0eSkgeyB0aGlzLnByb3BlcnR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Byb3BlcnR5ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX3Byb3BlcnR5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3AnXSkgeyB0aGlzLm9wID0gbmV3IGZoaXIuRmhpckNvZGU8RmlsdGVyT3BlcmF0b3JDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uub3B9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3AgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3AnXSkge1xyXG4gICAgICBpZiAodGhpcy5vcCkgeyB0aGlzLm9wLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29wISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3AgPSBuZXcgZmhpci5GaGlyQ29kZTxGaWx0ZXJPcGVyYXRvckNvZGVUeXBlPihzb3VyY2UuX29wIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZhbHVlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudmFsdWUpIHsgdGhpcy52YWx1ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92YWx1ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZhbHVlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igb3AgKFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5maWx0ZXIub3ApXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgb3BSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIEZpbHRlck9wZXJhdG9yQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1ZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5maWx0ZXInIH1cclxuICAgIGlmICghdGhpc1sncHJvcGVydHknXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcHJvcGVydHkgZmhpcjogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmZpbHRlci5wcm9wZXJ0eTpjb2RlJywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm9wZXJ0eVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByb3BlcnR5LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5wcm9wZXJ0eScpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydvcCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBvcCBmaGlyOiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuZmlsdGVyLm9wOmNvZGUnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1snb3AnXSAmJiAoIU9iamVjdC52YWx1ZXMoRmlsdGVyT3BlcmF0b3JDb2RlcykuaW5jbHVkZXModGhpcy5vcC52YWx1ZSBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgb3AgZmhpcjogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmZpbHRlci5vcDpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IEZpbHRlck9wZXJhdG9yJywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJvcFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm9wLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5vcCcpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd2YWx1ZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB2YWx1ZSBmaGlyOiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuZmlsdGVyLnZhbHVlOnN0cmluZycsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widmFsdWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52YWx1ZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycudmFsdWUnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWYWx1ZVNldENvbXBvc2VJbmNsdWRlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGVBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJZiB0aGVyZSBhcmUgbm8gY29kZXMgb3IgZmlsdGVycywgdGhlIGVudGlyZSBjb2RlIHN5c3RlbSBpcyBpbmNsdWRlZC4gTm90ZSB0aGF0IHRoZSBzZXQgb2YgY29kZXMgdGhhdCBhcmUgaW5jbHVkZWQgbWF5IGNvbnRhaW4gYWJzdHJhY3QgY29kZXMuIFNlZSAnJ0NvZGluZy5zeXN0ZW0nJyBmb3IgZnVydGhlciBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBjb3JyZWN0IHZhbHVlIGZvciB0aGUgc3lzdGVtIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgc3lzdGVtPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5zeXN0ZW1cclxuICAgKi9cclxuICBfc3lzdGVtPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGlzIHVzZWQgd2hlbiBzZWxlY3RpbmcgdGhlIGRlc2NlbmRhbnRzIG9mIGEgY29uY2VwdCAtIHRoZXkgbWF5IGNoYW5nZSBiZXR3ZWVuIHZlcnNpb25zLiBJZiBubyB2ZXJzaW9uIGlzIHNwZWNpZmllZCwgdGhlbiB0aGUgZXhhY3QgY29udGVudHMgb2YgdGhlIHZhbHVlIHNldCBtaWdodCBub3QgYmUga25vd24gdW50aWwgYSBjb250ZXh0IG9mIHVzZSBiaW5kcyBpdCB0byBhIHBhcnRpY3VsYXIgdmVyc2lvbi4gVGhlIHNwZWNpYWwgdmFsdWUgJyonIG1lYW5zIGFsbCB2ZXJzaW9uczsgSXQgaXMgYXQgc2VydmVyIGRpc2NyZXRpb24gcmVnYXJkaW5nIGV4cGFuc2lvbnMgYW5kIHdoaWNoIHZlcnNpb25zIG11c3QgYmUgc3VwcG9ydGVkLlxyXG4gICAqL1xyXG4gIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLnZlcnNpb25cclxuICAgKi9cclxuICBfdmVyc2lvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxpc3Qgb2YgY29uY2VwdHMgaXMgY29uc2lkZXJlZCBvcmRlcmVkLCB0aG91Z2ggdGhlIG9yZGVyIG1pZ2h0IG5vdCBoYXZlIGFueSBwYXJ0aWN1bGFyIHNpZ25pZmljYW5jZS4gVHlwaWNhbGx5LCB0aGUgb3JkZXIgb2YgYW4gZXhwYW5zaW9uIGZvbGxvd3MgdGhhdCBkZWZpbmVkIGluIHRoZSBjb21wb3NlIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgY29uY2VwdD86IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNlbGVjdGluZyBjb2RlcyBieSBzcGVjaWZ5aW5nIGZpbHRlcnMgYmFzZWQgb24gcHJvcGVydGllcyBpcyBvbmx5IHBvc3NpYmxlIHdoZXJlIHRoZSB1bmRlcmx5aW5nIGNvZGUgc3lzdGVtIGRlZmluZXMgYXBwcm9wcmlhdGUgcHJvcGVydGllcy4gTm90ZSB0aGF0IGluIHNvbWUgY2FzZXMsIHRoZSB1bmRlcmx5aW5nIGNvZGUgc3lzdGVtIGRlZmluZXMgdGhlIGxvZ2ljYWwgY29uY2VwdHMgYnV0IG5vdCB0aGUgbGl0ZXJhbCBjb2RlcyBmb3IgdGhlIGNvbmNlcHRzLiBJbiBzdWNoIGNhc2VzLCB0aGUgbGl0ZXJhbCBkZWZpbml0aW9ucyBtYXkgYmUgcHJvdmlkZWQgYnkgYSB0aGlyZCBwYXJ0eS5cclxuICAgKi9cclxuICBmaWx0ZXI/OiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVGaWx0ZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBzZXQgVVJJIGlzIGVpdGhlciBhIGxvZ2ljYWwgcmVmZXJlbmNlIHRvIGEgZGVmaW5lZCB2YWx1ZSBzZXQgc3VjaCBhcyBhIFtTTk9NRUQgQ1QgcmVmZXJlbmNlIHNldF0oc25vbWVkY3QuaHRtbCNpbXBsaWNpdCksIG9yIGEgZGlyZWN0IHJlZmVyZW5jZSB0byBhIHZhbHVlIHNldCBkZWZpbml0aW9uIHVzaW5nIFZhbHVlU2V0LnVybC4gVGhlIHJlZmVyZW5jZSBtaWdodCBub3QgcmVmZXIgdG8gYW4gYWN0dWFsIEZISVIgVmFsdWVTZXQgcmVzb3VyY2U7IGluIHRoaXMgY2FzZSwgd2hhdGV2ZXIgaXMgcmVmZXJyZWQgdG8gaXMgYW4gaW1wbGljaXQgZGVmaW5pdGlvbiBvZiBhIHZhbHVlIHNldCB0aGF0IG5lZWRzIHRvIGJlIGNsZWFyIGFib3V0IGhvdyB2ZXJzaW9ucyBhcmUgcmVzb2x2ZWQuXHJcbiAgICovXHJcbiAgdmFsdWVTZXQ/OiBmaGlyLkZoaXJDYW5vbmljYWxbXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS52YWx1ZVNldFxyXG4gICAqL1xyXG4gIF92YWx1ZVNldD86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbGwgdGhlIGNvbmRpdGlvbnMgaW4gYW4gaW5jbHVkZSBtdXN0IGJlIHRydWUuIElmIGEgc3lzdGVtIGlzIGxpc3RlZCwgYWxsIHRoZSBjb2RlcyBmcm9tIHRoZSBzeXN0ZW0gYXJlIGxpc3RlZC4gSWYgb25lIG9yIG1vcmUgZmlsdGVycyBhcmUgbGlzdGVkLCBhbGwgb2YgdGhlIGZpbHRlcnMgbXVzdCBhcHBseS4gSWYgb25lIG9yIG1vcmUgdmFsdWUgc2V0cyBhcmUgbGlzdGVkLCB0aGUgY29kZXMgbXVzdCBiZSBpbiBhbGwgdGhlIHZhbHVlIHNldHMuIEUuZy4gZWFjaCBpbmNsdWRlIGlzICdpbmNsdWRlIGFsbCB0aGUgY29kZXMgdGhhdCBtZWV0IGFsbCB0aGVzZSBjb25kaXRpb25zJy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWYWx1ZVNldENvbXBvc2VJbmNsdWRlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmFsdWVTZXRDb21wb3NlSW5jbHVkZSc7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgYXJlIG5vIGNvZGVzIG9yIGZpbHRlcnMsIHRoZSBlbnRpcmUgY29kZSBzeXN0ZW0gaXMgaW5jbHVkZWQuIE5vdGUgdGhhdCB0aGUgc2V0IG9mIGNvZGVzIHRoYXQgYXJlIGluY2x1ZGVkIG1heSBjb250YWluIGFic3RyYWN0IGNvZGVzLiBTZWUgJydDb2Rpbmcuc3lzdGVtJycgZm9yIGZ1cnRoZXIgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgY29ycmVjdCB2YWx1ZSBmb3IgdGhlIHN5c3RlbSBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzeXN0ZW0/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgdXNlZCB3aGVuIHNlbGVjdGluZyB0aGUgZGVzY2VuZGFudHMgb2YgYSBjb25jZXB0IC0gdGhleSBtYXkgY2hhbmdlIGJldHdlZW4gdmVyc2lvbnMuIElmIG5vIHZlcnNpb24gaXMgc3BlY2lmaWVkLCB0aGVuIHRoZSBleGFjdCBjb250ZW50cyBvZiB0aGUgdmFsdWUgc2V0IG1pZ2h0IG5vdCBiZSBrbm93biB1bnRpbCBhIGNvbnRleHQgb2YgdXNlIGJpbmRzIGl0IHRvIGEgcGFydGljdWxhciB2ZXJzaW9uLiBUaGUgc3BlY2lhbCB2YWx1ZSAnKicgbWVhbnMgYWxsIHZlcnNpb25zOyBJdCBpcyBhdCBzZXJ2ZXIgZGlzY3JldGlvbiByZWdhcmRpbmcgZXhwYW5zaW9ucyBhbmQgd2hpY2ggdmVyc2lvbnMgbXVzdCBiZSBzdXBwb3J0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsaXN0IG9mIGNvbmNlcHRzIGlzIGNvbnNpZGVyZWQgb3JkZXJlZCwgdGhvdWdoIHRoZSBvcmRlciBtaWdodCBub3QgaGF2ZSBhbnkgcGFydGljdWxhciBzaWduaWZpY2FuY2UuIFR5cGljYWxseSwgdGhlIG9yZGVyIG9mIGFuIGV4cGFuc2lvbiBmb2xsb3dzIHRoYXQgZGVmaW5lZCBpbiB0aGUgY29tcG9zZSBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25jZXB0OiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogU2VsZWN0aW5nIGNvZGVzIGJ5IHNwZWNpZnlpbmcgZmlsdGVycyBiYXNlZCBvbiBwcm9wZXJ0aWVzIGlzIG9ubHkgcG9zc2libGUgd2hlcmUgdGhlIHVuZGVybHlpbmcgY29kZSBzeXN0ZW0gZGVmaW5lcyBhcHByb3ByaWF0ZSBwcm9wZXJ0aWVzLiBOb3RlIHRoYXQgaW4gc29tZSBjYXNlcywgdGhlIHVuZGVybHlpbmcgY29kZSBzeXN0ZW0gZGVmaW5lcyB0aGUgbG9naWNhbCBjb25jZXB0cyBidXQgbm90IHRoZSBsaXRlcmFsIGNvZGVzIGZvciB0aGUgY29uY2VwdHMuIEluIHN1Y2ggY2FzZXMsIHRoZSBsaXRlcmFsIGRlZmluaXRpb25zIG1heSBiZSBwcm92aWRlZCBieSBhIHRoaXJkIHBhcnR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaWx0ZXI6IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUZpbHRlcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBzZXQgVVJJIGlzIGVpdGhlciBhIGxvZ2ljYWwgcmVmZXJlbmNlIHRvIGEgZGVmaW5lZCB2YWx1ZSBzZXQgc3VjaCBhcyBhIFtTTk9NRUQgQ1QgcmVmZXJlbmNlIHNldF0oc25vbWVkY3QuaHRtbCNpbXBsaWNpdCksIG9yIGEgZGlyZWN0IHJlZmVyZW5jZSB0byBhIHZhbHVlIHNldCBkZWZpbml0aW9uIHVzaW5nIFZhbHVlU2V0LnVybC4gVGhlIHJlZmVyZW5jZSBtaWdodCBub3QgcmVmZXIgdG8gYW4gYWN0dWFsIEZISVIgVmFsdWVTZXQgcmVzb3VyY2U7IGluIHRoaXMgY2FzZSwgd2hhdGV2ZXIgaXMgcmVmZXJyZWQgdG8gaXMgYW4gaW1wbGljaXQgZGVmaW5pdGlvbiBvZiBhIHZhbHVlIHNldCB0aGF0IG5lZWRzIHRvIGJlIGNsZWFyIGFib3V0IGhvdyB2ZXJzaW9ucyBhcmUgcmVzb2x2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlU2V0OiBmaGlyLkZoaXJDYW5vbmljYWxbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldENvbXBvc2VJbmNsdWRlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmFsdWVTZXRDb21wb3NlSW5jbHVkZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzeXN0ZW0nXSkgeyB0aGlzLnN5c3RlbSA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2Uuc3lzdGVtfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zeXN0ZW0nXSkge1xyXG4gICAgICBpZiAodGhpcy5zeXN0ZW0pIHsgdGhpcy5zeXN0ZW0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3lzdGVtISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3lzdGVtID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX3N5c3RlbSBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyc2lvbiddKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcnNpb24pIHsgdGhpcy52ZXJzaW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcnNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZlcnNpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbmNlcHQnXSkgeyB0aGlzLmNvbmNlcHQgPSBzb3VyY2UuY29uY2VwdC5tYXAoKHgpID0+IG5ldyBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29uY2VwdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmaWx0ZXInXSkgeyB0aGlzLmZpbHRlciA9IHNvdXJjZS5maWx0ZXIubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlRmlsdGVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZmlsdGVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlU2V0J10pIHsgdGhpcy52YWx1ZVNldCA9IHNvdXJjZS52YWx1ZVNldC5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZVNldCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmFsdWVTZXQnXSkge1xyXG4gICAgICBzb3VyY2UuX3ZhbHVlU2V0LmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlU2V0Lmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMudmFsdWVTZXRbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy52YWx1ZVNldC5wdXNoKG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckNhbm9uaWNhbEFyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlJyB9XHJcbiAgICBpZiAodGhpc1tcInN5c3RlbVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnN5c3RlbS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc3lzdGVtJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInZlcnNpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52ZXJzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy52ZXJzaW9uJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbmNlcHRcIl0pIHsgdGhpcy5jb25jZXB0LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5jb25jZXB0WyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImZpbHRlclwiXSkgeyB0aGlzLmZpbHRlci5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuZmlsdGVyWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInZhbHVlU2V0XCJdKSB7IHRoaXMudmFsdWVTZXQuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnZhbHVlU2V0WyR7aX1dYCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmFsdWVTZXRDb21wb3NlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlU2V0Q29tcG9zZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFdpdGggYSBkZWZpbmVkIGxvY2tlZERhdGUgdGhlIHZhbHVlIHNldCBpcyBjb25zaWRlcmVkIFwiTG9ja2VkXCIuIE90aGVyd2lzZSwgdGhlIHZhbHVlIHNldCBtYXkgaGF2ZSBkaWZmZXJlbnQgZXhwYW5zaW9ucyBhcyB1bmRlcmx5aW5nIGNvZGUgc3lzdGVtcyBhbmQvb3IgdmFsdWUgc2V0cyBldm9sdmUuICBUaGUgaW50ZXJwcmV0YXRpb24gb2YgbG9ja2VkRGF0ZSBpcyBvZnRlbiBkZXBlbmRlbnQgb24gdGhlIGNvbnRleHQgLSBlLmcuIGEgU05PTUVEIENUIGRlcml2ZWQgdmFsdWUgc2V0IHdpdGggYSBsb2NrZWREYXRlIHdpbGwgaGF2ZSBhIGRpZmZlcmVudCBleHBhbnNpb24gaW4gVVNBIHRoYW4gaW4gVUsuICBJZiBhIHZhbHVlIHNldCBzcGVjaWZpZXMgYSB2ZXJzaW9uIGZvciBpbmNsdWRlIGFuZCBleGNsdWRlIHN0YXRlbWVudHMsIGFuZCBhbHNvIHNwZWNpZmllcyBhIGxvY2tlZCBkYXRlLCB0aGUgc3BlY2lmaWVkIHZlcnNpb25zIG5lZWQgdG8gYmUgYXZhaWxhYmxlIHRoYXQgZGF0ZSwgb3IgdGhlIHZhbHVlIHNldCB3aWxsIG5vdCBiZSB1c2FibGUuXHJcbiAgICovXHJcbiAgbG9ja2VkRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5sb2NrZWREYXRlXHJcbiAgICovXHJcbiAgX2xvY2tlZERhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCBpbiB0aGUgRkhJUiB0ZXJtaW5vbG9neSBmcmFtZXdvcmssIFwiZGVwcmVjYXRlZFwiIGRvZXMgbm90IG1lYW4gaW5hY3RpdmUsIGJ1dCBpbiBzb21lIGNvZGUgc3lzdGVtcywgZS5nLiBMT0lOQywgXCJkZXByZWNhdGVkXCIgZG9lcyBtZWFuIGluYWN0aXZlLiBDb2RlIHN5c3RlbXMgc2hvdWxkIGRlZmluZSB3aGF0IGNvZGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIGluYWN0aXZlLiBJZiB0aGlzIGlzIG5vdCBjbGVhcmx5IGRlZmluZWQgKGluY2x1ZGluZyBpbiB0aGUgRkhJUiBjb2RlIHN5c3RlbSByZXNvdXJjZSksIHRoZW4gYWxsIGNvZGVzIGFyZSBhc3N1bWVkIHRvIGJlIGFjdGl2ZS5cclxuICAgKiBUaGUgVmFsdWUgU2V0IERlZmluaXRpb24gc3BlY2lmaWNhdGlvbiBkZWZpbmVzIGFuIEFjdGl2ZU9ubHkgZWxlbWVudCwgd2hpY2ggaXMgdGhlIHJldmVyc2Ugb2YgdGhpcyBlbGVtZW50IGUuZy4gKFZhbHVlU2V0LmNvbXBvc2UuaW5hY3RpdmU9RkFMU0UpIGlzIHRoZSBzYW1lIGFzIChWU0QuQWN0aXZlT25seT1UUlVFKS5cclxuICAgKi9cclxuICBpbmFjdGl2ZT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmNvbXBvc2UuaW5hY3RpdmVcclxuICAgKi9cclxuICBfaW5hY3RpdmU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFsbCB0aGUgY29uZGl0aW9ucyBpbiBhbiBpbmNsdWRlIG11c3QgYmUgdHJ1ZS4gSWYgYSBzeXN0ZW0gaXMgbGlzdGVkLCBhbGwgdGhlIGNvZGVzIGZyb20gdGhlIHN5c3RlbSBhcmUgbGlzdGVkLiBJZiBvbmUgb3IgbW9yZSBmaWx0ZXJzIGFyZSBsaXN0ZWQsIGFsbCBvZiB0aGUgZmlsdGVycyBtdXN0IGFwcGx5LiBJZiBvbmUgb3IgbW9yZSB2YWx1ZSBzZXRzIGFyZSBsaXN0ZWQsIHRoZSBjb2RlcyBtdXN0IGJlIGluIGFsbCB0aGUgdmFsdWUgc2V0cy4gRS5nLiBlYWNoIGluY2x1ZGUgaXMgJ2luY2x1ZGUgYWxsIHRoZSBjb2RlcyB0aGF0IG1lZXQgYWxsIHRoZXNlIGNvbmRpdGlvbnMnLlxyXG4gICAqL1xyXG4gIGluY2x1ZGU6IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUFyZ3NbXXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgdGhpcyBpcyB1c2VkIHRvIHNlbGVjdGl2ZWx5IGV4Y2x1ZGUgY29kZXMgdGhhdCB3ZXJlIGluY2x1ZGVkIGJ5IHN1YnN1bXB0aW9uIGluIHRoZSBpbmNsdXNpb25zLiBBbnkgZGlzcGxheSBuYW1lcyBzcGVjaWZpZWQgZm9yIHRoZSBjb2RlcyBhcmUgaWdub3JlZC5cclxuICAgKi9cclxuICBleGNsdWRlPzogZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc2V0IG9mIGNyaXRlcmlhIHRoYXQgZGVmaW5lIHRoZSBjb250ZW50cyBvZiB0aGUgdmFsdWUgc2V0IGJ5IGluY2x1ZGluZyBvciBleGNsdWRpbmcgY29kZXMgc2VsZWN0ZWQgZnJvbSB0aGUgc3BlY2lmaWVkIGNvZGUgc3lzdGVtKHMpIHRoYXQgdGhlIHZhbHVlIHNldCBkcmF3cyBmcm9tLiBUaGlzIGlzIGFsc28ga25vd24gYXMgdGhlIENvbnRlbnQgTG9naWNhbCBEZWZpbml0aW9uIChDTEQpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZhbHVlU2V0Q29tcG9zZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZhbHVlU2V0Q29tcG9zZSc7XHJcbiAgLyoqXHJcbiAgICogV2l0aCBhIGRlZmluZWQgbG9ja2VkRGF0ZSB0aGUgdmFsdWUgc2V0IGlzIGNvbnNpZGVyZWQgXCJMb2NrZWRcIi4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgc2V0IG1heSBoYXZlIGRpZmZlcmVudCBleHBhbnNpb25zIGFzIHVuZGVybHlpbmcgY29kZSBzeXN0ZW1zIGFuZC9vciB2YWx1ZSBzZXRzIGV2b2x2ZS4gIFRoZSBpbnRlcnByZXRhdGlvbiBvZiBsb2NrZWREYXRlIGlzIG9mdGVuIGRlcGVuZGVudCBvbiB0aGUgY29udGV4dCAtIGUuZy4gYSBTTk9NRUQgQ1QgZGVyaXZlZCB2YWx1ZSBzZXQgd2l0aCBhIGxvY2tlZERhdGUgd2lsbCBoYXZlIGEgZGlmZmVyZW50IGV4cGFuc2lvbiBpbiBVU0EgdGhhbiBpbiBVSy4gIElmIGEgdmFsdWUgc2V0IHNwZWNpZmllcyBhIHZlcnNpb24gZm9yIGluY2x1ZGUgYW5kIGV4Y2x1ZGUgc3RhdGVtZW50cywgYW5kIGFsc28gc3BlY2lmaWVzIGEgbG9ja2VkIGRhdGUsIHRoZSBzcGVjaWZpZWQgdmVyc2lvbnMgbmVlZCB0byBiZSBhdmFpbGFibGUgdGhhdCBkYXRlLCBvciB0aGUgdmFsdWUgc2V0IHdpbGwgbm90IGJlIHVzYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgbG9ja2VkRGF0ZT86IGZoaXIuRmhpckRhdGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCBpbiB0aGUgRkhJUiB0ZXJtaW5vbG9neSBmcmFtZXdvcmssIFwiZGVwcmVjYXRlZFwiIGRvZXMgbm90IG1lYW4gaW5hY3RpdmUsIGJ1dCBpbiBzb21lIGNvZGUgc3lzdGVtcywgZS5nLiBMT0lOQywgXCJkZXByZWNhdGVkXCIgZG9lcyBtZWFuIGluYWN0aXZlLiBDb2RlIHN5c3RlbXMgc2hvdWxkIGRlZmluZSB3aGF0IGNvZGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIGluYWN0aXZlLiBJZiB0aGlzIGlzIG5vdCBjbGVhcmx5IGRlZmluZWQgKGluY2x1ZGluZyBpbiB0aGUgRkhJUiBjb2RlIHN5c3RlbSByZXNvdXJjZSksIHRoZW4gYWxsIGNvZGVzIGFyZSBhc3N1bWVkIHRvIGJlIGFjdGl2ZS5cclxuICAgKiBUaGUgVmFsdWUgU2V0IERlZmluaXRpb24gc3BlY2lmaWNhdGlvbiBkZWZpbmVzIGFuIEFjdGl2ZU9ubHkgZWxlbWVudCwgd2hpY2ggaXMgdGhlIHJldmVyc2Ugb2YgdGhpcyBlbGVtZW50IGUuZy4gKFZhbHVlU2V0LmNvbXBvc2UuaW5hY3RpdmU9RkFMU0UpIGlzIHRoZSBzYW1lIGFzIChWU0QuQWN0aXZlT25seT1UUlVFKS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5hY3RpdmU/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGwgdGhlIGNvbmRpdGlvbnMgaW4gYW4gaW5jbHVkZSBtdXN0IGJlIHRydWUuIElmIGEgc3lzdGVtIGlzIGxpc3RlZCwgYWxsIHRoZSBjb2RlcyBmcm9tIHRoZSBzeXN0ZW0gYXJlIGxpc3RlZC4gSWYgb25lIG9yIG1vcmUgZmlsdGVycyBhcmUgbGlzdGVkLCBhbGwgb2YgdGhlIGZpbHRlcnMgbXVzdCBhcHBseS4gSWYgb25lIG9yIG1vcmUgdmFsdWUgc2V0cyBhcmUgbGlzdGVkLCB0aGUgY29kZXMgbXVzdCBiZSBpbiBhbGwgdGhlIHZhbHVlIHNldHMuIEUuZy4gZWFjaCBpbmNsdWRlIGlzICdpbmNsdWRlIGFsbCB0aGUgY29kZXMgdGhhdCBtZWV0IGFsbCB0aGVzZSBjb25kaXRpb25zJy5cclxuICAgKi9cclxuICBwdWJsaWMgaW5jbHVkZTogZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlW107XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSB0aGlzIGlzIHVzZWQgdG8gc2VsZWN0aXZlbHkgZXhjbHVkZSBjb2RlcyB0aGF0IHdlcmUgaW5jbHVkZWQgYnkgc3Vic3VtcHRpb24gaW4gdGhlIGluY2x1c2lvbnMuIEFueSBkaXNwbGF5IG5hbWVzIHNwZWNpZmllZCBmb3IgdGhlIGNvZGVzIGFyZSBpZ25vcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleGNsdWRlOiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldENvbXBvc2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWYWx1ZVNldENvbXBvc2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbG9ja2VkRGF0ZSddKSB7IHRoaXMubG9ja2VkRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLmxvY2tlZERhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2xvY2tlZERhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5sb2NrZWREYXRlKSB7IHRoaXMubG9ja2VkRGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9sb2NrZWREYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubG9ja2VkRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHNvdXJjZS5fbG9ja2VkRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2luYWN0aXZlJ10pIHsgdGhpcy5pbmFjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmluYWN0aXZlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbmFjdGl2ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmluYWN0aXZlKSB7IHRoaXMuaW5hY3RpdmUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faW5hY3RpdmUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5pbmFjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5faW5hY3RpdmUgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpbmNsdWRlJ10pIHsgdGhpcy5pbmNsdWRlID0gc291cmNlLmluY2x1ZGUubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW5jbHVkZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydleGNsdWRlJ10pIHsgdGhpcy5leGNsdWRlID0gc291cmNlLmV4Y2x1ZGUubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXhjbHVkZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1ZhbHVlU2V0LmNvbXBvc2UnIH1cclxuICAgIGlmICh0aGlzW1wibG9ja2VkRGF0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmxvY2tlZERhdGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmxvY2tlZERhdGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaW5hY3RpdmVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pbmFjdGl2ZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuaW5hY3RpdmUnKSk7IH1cclxuICAgIGlmICghdGhpc1snaW5jbHVkZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBpbmNsdWRlIGZoaXI6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZTppbmNsdWRlJywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmluY2x1ZGUpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdzdHJ1Y3R1cmUnLCBkaWFnbm9zdGljczogJ0ZvdW5kIHNjYWxhciBpbiBhcnJheSBwcm9wZXJ0eSBpbmNsdWRlIGZoaXI6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZTppbmNsdWRlJywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmluY2x1ZGUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBpbmNsdWRlIGZoaXI6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZTppbmNsdWRlJywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJpbmNsdWRlXCJdKSB7IHRoaXMuaW5jbHVkZS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuaW5jbHVkZVske2l9XWApKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJleGNsdWRlXCJdKSB7IHRoaXMuZXhjbHVkZS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuZXhjbHVkZVske2l9XWApKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZhbHVlU2V0RXhwYW5zaW9uUGFyYW1ldGVyIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlU2V0RXhwYW5zaW9uUGFyYW1ldGVyQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWVzIGFyZSBhc3NpZ25lZCBhdCB0aGUgZGlzY3JldGlvbiBvZiB0aGUgc2VydmVyLlxyXG4gICAqL1xyXG4gIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24ucGFyYW1ldGVyLm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkZoaXJTdHJpbmd8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJJbnRlZ2VyfGZoaXIuRmhpckRlY2ltYWx8Zmhpci5GaGlyVXJpfGZoaXIuRmhpckNvZGV8Zmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyLlxyXG4gICAqL1xyXG4gIHZhbHVlU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgdmFsdWVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIHBhcmFtZXRlci5cclxuICAgKi9cclxuICB2YWx1ZUludGVnZXI/OiBmaGlyLkZoaXJJbnRlZ2VyfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgdmFsdWVEZWNpbWFsPzogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyLlxyXG4gICAqL1xyXG4gIHZhbHVlVXJpPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgdmFsdWVDb2RlPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyLlxyXG4gICAqL1xyXG4gIHZhbHVlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHNlcnZlciBkZWNpZGVzIHdoaWNoIHBhcmFtZXRlcnMgdG8gaW5jbHVkZSBoZXJlLCBidXQgYXQgYSBtaW5pbXVtLCB0aGUgbGlzdCBTSE9VTEQgaW5jbHVkZSBhbGwgb2YgdGhlIHBhcmFtZXRlcnMgdGhhdCBhZmZlY3QgdGhlICRleHBhbmQgb3BlcmF0aW9uLiBJZiB0aGUgZXhwYW5zaW9uIHdpbGwgYmUgcGVyc2lzdGVkIGFsbCBvZiB0aGVzZSBwYXJhbWV0ZXJzIFNIQUxMIGJlIGluY2x1ZGVkLiBJZiB0aGUgY29kZVN5c3RlbSBvbiB0aGUgc2VydmVyIGhhcyBhIHNwZWNpZmllZCB2ZXJzaW9uIHRoZW4gdGhpcyB2ZXJzaW9uIFNIQUxMIGJlIHByb3ZpZGVkIGFzIGEgcGFyYW1ldGVyIGluIHRoZSBleHBhbnNpb24gKG5vdGUgdGhhdCBub3QgYWxsIGNvZGUgc3lzdGVtcyBoYXZlIGEgdmVyc2lvbikuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmFsdWVTZXRFeHBhbnNpb25QYXJhbWV0ZXIgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWYWx1ZVNldEV4cGFuc2lvblBhcmFtZXRlcic7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWVzIGFyZSBhc3NpZ25lZCBhdCB0aGUgZGlzY3JldGlvbiBvZiB0aGUgc2VydmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIHBhcmFtZXRlci5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU/OiAoZmhpci5GaGlyU3RyaW5nfGZoaXIuRmhpckJvb2xlYW58Zmhpci5GaGlySW50ZWdlcnxmaGlyLkZoaXJEZWNpbWFsfGZoaXIuRmhpclVyaXxmaGlyLkZoaXJDb2RlfGZoaXIuRmhpckRhdGVUaW1lKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBWYWx1ZVNldC5leHBhbnNpb24ucGFyYW1ldGVyLnZhbHVlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3ZhbHVlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmFsdWVTZXRFeHBhbnNpb25QYXJhbWV0ZXIgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWYWx1ZVNldEV4cGFuc2lvblBhcmFtZXRlckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVN0cmluZyddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlU3RyaW5nfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVCb29sZWFuJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnZhbHVlQm9vbGVhbn0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlSW50ZWdlciddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHNvdXJjZS52YWx1ZUludGVnZXJ9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZURlY2ltYWwnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UudmFsdWVEZWNpbWFsfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVVcmknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS52YWx1ZVVyaX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQ29kZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS52YWx1ZUNvZGV9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZURhdGVUaW1lJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS52YWx1ZURhdGVUaW1lfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnVmFsdWVTZXQuZXhwYW5zaW9uLnBhcmFtZXRlcicgfVxyXG4gICAgaWYgKCF0aGlzWyduYW1lJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG5hbWUgZmhpcjogVmFsdWVTZXQuZXhwYW5zaW9uLnBhcmFtZXRlci5uYW1lOnN0cmluZycsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm5hbWUnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWYWx1ZVNldEV4cGFuc2lvbkNvbnRhaW5zIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnNBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbiBhYnNvbHV0ZSBVUkkgd2hpY2ggaXMgdGhlIGNvZGUgc3lzdGVtIGluIHdoaWNoIHRoZSBjb2RlIGZvciB0aGlzIGl0ZW0gaW4gdGhlIGV4cGFuc2lvbiBpcyBkZWZpbmVkLlxyXG4gICAqL1xyXG4gIHN5c3RlbT86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24uY29udGFpbnMuc3lzdGVtXHJcbiAgICovXHJcbiAgX3N5c3RlbT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBzaG91bGQgbm90IGJlIHVuZGVyc3Rvb2QgdG8gZXhjbHVkZSBpdHMgdXNlIGZvciBzZWFyY2hpbmcgKGUuZy4gYnkgc3Vic3VtcHRpb24gdGVzdGluZykuIFRoZSBjbGllbnQgc2hvdWxkIGtub3cgd2hldGhlciBpdCBpcyBhcHByb3ByaWF0ZSBmb3IgdGhlIHVzZXIgdG8gc2VsZWN0IGFuIGFic3RyYWN0IGNvZGUgb3Igbm90LlxyXG4gICAqL1xyXG4gIGFic3RyYWN0PzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZXhwYW5zaW9uLmNvbnRhaW5zLmFic3RyYWN0XHJcbiAgICovXHJcbiAgX2Fic3RyYWN0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGhhdmUgYSB2YWx1ZSBpZiB0aGUgY29uY2VwdCBpcyBpbmFjdGl2ZS5cclxuICAgKi9cclxuICBpbmFjdGl2ZT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmV4cGFuc2lvbi5jb250YWlucy5pbmFjdGl2ZVxyXG4gICAqL1xyXG4gIF9pbmFjdGl2ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGV4YWN0IHZhbHVlIG9mIHRoZSB2ZXJzaW9uIHN0cmluZyBpcyBzcGVjaWZpZWQgYnkgdGhlIHN5c3RlbSBmcm9tIHdoaWNoIHRoZSBjb2RlIGlzIGRlcml2ZWQuXHJcbiAgICovXHJcbiAgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24uY29udGFpbnMudmVyc2lvblxyXG4gICAqL1xyXG4gIF92ZXJzaW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgY29kZSBmb3IgdGhpcyBpdGVtIGluIHRoZSBleHBhbnNpb24gaGllcmFyY2h5LiBJZiB0aGlzIGNvZGUgaXMgbWlzc2luZyB0aGUgZW50cnkgaW4gdGhlIGhpZXJhcmNoeSBpcyBhIHBsYWNlIGhvbGRlciAoYWJzdHJhY3QpIGFuZCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWxpZCBjb2RlIGluIHRoZSB2YWx1ZSBzZXQuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZXhwYW5zaW9uLmNvbnRhaW5zLmNvZGVcclxuICAgKi9cclxuICBfY29kZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29tbWVuZGVkIGRpc3BsYXkgZm9yIHRoaXMgaXRlbSBpbiB0aGUgZXhwYW5zaW9uLlxyXG4gICAqL1xyXG4gIGRpc3BsYXk/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZXhwYW5zaW9uLmNvbnRhaW5zLmRpc3BsYXlcclxuICAgKi9cclxuICBfZGlzcGxheT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlc2lnbmF0aW9ucyBwcm92aWRlZCBtdXN0IGJlIGJhc2VkIG9uIHRoZSB2YWx1ZSBzZXQgYW5kIGNvZGUgc3lzdGVtIGRlZmluaXRpb25zLlxyXG4gICAqL1xyXG4gIGRlc2lnbmF0aW9uPzogZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlQ29uY2VwdERlc2lnbmF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgZXhwYW5zaW9uIHVzZXMgdGhpcyBlbGVtZW50LCB0aGVyZSBpcyAgbm8gaW1wbGljYXRpb24gYWJvdXQgdGhlIGxvZ2ljYWwgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlbSwgYW5kIHRoZSAgc3RydWN0dXJlIGNhbm5vdCBiZSB1c2VkIGZvciBsb2dpY2FsIGluZmVyZW5jaW5nLiBUaGUgc3RydWN0dXJlICBleGlzdHMgdG8gcHJvdmlkZSBuYXZpZ2F0aW9uYWwgYXNzaXN0YW5jZSBmb3IgaGVscGluZyBodW1hbiB1c2VycyB0byAgbG9jYXRlIGNvZGVzIGluIHRoZSBleHBhbnNpb24uXHJcbiAgICovXHJcbiAgY29udGFpbnM/OiBmaGlyLlZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnNBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGNvZGVzIHRoYXQgYXJlIGNvbnRhaW5lZCBpbiB0aGUgdmFsdWUgc2V0IGV4cGFuc2lvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWYWx1ZVNldEV4cGFuc2lvbkNvbnRhaW5zIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmFsdWVTZXRFeHBhbnNpb25Db250YWlucyc7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgVVJJIHdoaWNoIGlzIHRoZSBjb2RlIHN5c3RlbSBpbiB3aGljaCB0aGUgY29kZSBmb3IgdGhpcyBpdGVtIGluIHRoZSBleHBhbnNpb24gaXMgZGVmaW5lZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3lzdGVtPzogZmhpci5GaGlyVXJpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHNob3VsZCBub3QgYmUgdW5kZXJzdG9vZCB0byBleGNsdWRlIGl0cyB1c2UgZm9yIHNlYXJjaGluZyAoZS5nLiBieSBzdWJzdW1wdGlvbiB0ZXN0aW5nKS4gVGhlIGNsaWVudCBzaG91bGQga25vdyB3aGV0aGVyIGl0IGlzIGFwcHJvcHJpYXRlIGZvciB0aGUgdXNlciB0byBzZWxlY3QgYW4gYWJzdHJhY3QgY29kZSBvciBub3QuXHJcbiAgICovXHJcbiAgcHVibGljIGFic3RyYWN0PzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBzaG91bGQgb25seSBoYXZlIGEgdmFsdWUgaWYgdGhlIGNvbmNlcHQgaXMgaW5hY3RpdmUuXHJcbiAgICovXHJcbiAgcHVibGljIGluYWN0aXZlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGV4YWN0IHZhbHVlIG9mIHRoZSB2ZXJzaW9uIHN0cmluZyBpcyBzcGVjaWZpZWQgYnkgdGhlIHN5c3RlbSBmcm9tIHdoaWNoIHRoZSBjb2RlIGlzIGRlcml2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlIGZvciB0aGlzIGl0ZW0gaW4gdGhlIGV4cGFuc2lvbiBoaWVyYXJjaHkuIElmIHRoaXMgY29kZSBpcyBtaXNzaW5nIHRoZSBlbnRyeSBpbiB0aGUgaGllcmFyY2h5IGlzIGEgcGxhY2UgaG9sZGVyIChhYnN0cmFjdCkgYW5kIGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbGlkIGNvZGUgaW4gdGhlIHZhbHVlIHNldC5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWNvbW1lbmRlZCBkaXNwbGF5IGZvciB0aGlzIGl0ZW0gaW4gdGhlIGV4cGFuc2lvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlc2lnbmF0aW9ucyBwcm92aWRlZCBtdXN0IGJlIGJhc2VkIG9uIHRoZSB2YWx1ZSBzZXQgYW5kIGNvZGUgc3lzdGVtIGRlZmluaXRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNpZ25hdGlvbjogZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlQ29uY2VwdERlc2lnbmF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGV4cGFuc2lvbiB1c2VzIHRoaXMgZWxlbWVudCwgdGhlcmUgaXMgIG5vIGltcGxpY2F0aW9uIGFib3V0IHRoZSBsb2dpY2FsIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZW0sIGFuZCB0aGUgIHN0cnVjdHVyZSBjYW5ub3QgYmUgdXNlZCBmb3IgbG9naWNhbCBpbmZlcmVuY2luZy4gVGhlIHN0cnVjdHVyZSAgZXhpc3RzIHRvIHByb3ZpZGUgbmF2aWdhdGlvbmFsIGFzc2lzdGFuY2UgZm9yIGhlbHBpbmcgaHVtYW4gdXNlcnMgdG8gIGxvY2F0ZSBjb2RlcyBpbiB0aGUgZXhwYW5zaW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250YWluczogZmhpci5WYWx1ZVNldEV4cGFuc2lvbkNvbnRhaW5zW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmFsdWVTZXRFeHBhbnNpb25Db250YWlucyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnNBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc3lzdGVtJ10pIHsgdGhpcy5zeXN0ZW0gPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLnN5c3RlbX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3lzdGVtJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3lzdGVtKSB7IHRoaXMuc3lzdGVtLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N5c3RlbSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN5c3RlbSA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl9zeXN0ZW0gYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Fic3RyYWN0J10pIHsgdGhpcy5hYnN0cmFjdCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmFic3RyYWN0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hYnN0cmFjdCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFic3RyYWN0KSB7IHRoaXMuYWJzdHJhY3QuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWJzdHJhY3QhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hYnN0cmFjdCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fYWJzdHJhY3QgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpbmFjdGl2ZSddKSB7IHRoaXMuaW5hY3RpdmUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5pbmFjdGl2ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW5hY3RpdmUnXSkge1xyXG4gICAgICBpZiAodGhpcy5pbmFjdGl2ZSkgeyB0aGlzLmluYWN0aXZlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2luYWN0aXZlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaW5hY3RpdmUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2luYWN0aXZlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyc2lvbiddKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcnNpb24pIHsgdGhpcy52ZXJzaW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcnNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZlcnNpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS5jb2RlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29kZSkgeyB0aGlzLmNvZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX2NvZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkaXNwbGF5J10pIHsgdGhpcy5kaXNwbGF5ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kaXNwbGF5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kaXNwbGF5J10pIHtcclxuICAgICAgaWYgKHRoaXMuZGlzcGxheSkgeyB0aGlzLmRpc3BsYXkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGlzcGxheSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRpc3BsYXkgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGlzcGxheSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzaWduYXRpb24nXSkgeyB0aGlzLmRlc2lnbmF0aW9uID0gc291cmNlLmRlc2lnbmF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRlc2lnbmF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRhaW5zJ10pIHsgdGhpcy5jb250YWlucyA9IHNvdXJjZS5jb250YWlucy5tYXAoKHgpID0+IG5ldyBmaGlyLlZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnMoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWlucyA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1ZhbHVlU2V0LmV4cGFuc2lvbi5jb250YWlucycgfVxyXG4gICAgaWYgKHRoaXNbXCJzeXN0ZW1cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zeXN0ZW0uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnN5c3RlbScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJhYnN0cmFjdFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFic3RyYWN0LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5hYnN0cmFjdCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJpbmFjdGl2ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmluYWN0aXZlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5pbmFjdGl2ZScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ2ZXJzaW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudmVyc2lvbi5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycudmVyc2lvbicpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb2RlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29kZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuY29kZScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkaXNwbGF5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGlzcGxheS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuZGlzcGxheScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXNpZ25hdGlvblwiXSkgeyB0aGlzLmRlc2lnbmF0aW9uLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5kZXNpZ25hdGlvblske2l9XWApKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJjb250YWluc1wiXSkgeyB0aGlzLmNvbnRhaW5zLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5jb250YWluc1ske2l9XWApKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZhbHVlU2V0RXhwYW5zaW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlU2V0RXhwYW5zaW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCB0aGlzIHVyaSBpcyBhIFVVSUQgKGUuZy4gdXJuOnV1aWQ6ODIzMGZmMjAtYzk3YS00MTY3LWE1OWQtZGMyY2I5ZGYxNmRkKS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmV4cGFuc2lvbi5pZGVudGlmaWVyXHJcbiAgICovXHJcbiAgX2lkZW50aWZpZXI/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgU0hPVUxEIGJlIGEgZnVsbHkgcG9wdWxhdGVkIGluc3RhbnQsIGJ1dCBpbiBzb21lIGNpcmN1bXN0YW5jZXMsIHZhbHVlIHNldHMgYXJlIGV4cGFuZGVkIGJ5IGhhbmQsIGFuZCB0aGUgZXhwYW5zaW9uIGlzIHB1Ymxpc2hlZCB3aXRob3V0IHRoYXQgcHJlY2lzaW9uLlxyXG4gICAqL1xyXG4gIHRpbWVzdGFtcDogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZXhwYW5zaW9uLnRpbWVzdGFtcFxyXG4gICAqL1xyXG4gIF90aW1lc3RhbXA/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFBhZ2luZyBvbmx5IGFwcGxpZXMgdG8gZmxhdCBleHBhbnNpb25zLlxyXG4gICAqL1xyXG4gIHRvdGFsPzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24udG90YWxcclxuICAgKi9cclxuICBfdG90YWw/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFBhZ2luZyBvbmx5IGFwcGxpZXMgdG8gZmxhdCBleHBhbnNpb25zLiBJZiBhIGZpbHRlciBpcyBhcHBsaWVkLCB0aGUgY291bnQgaXMgdGhlIG51bWJlciBvZiBjb25jZXB0cyB0aGF0IG1hdGNoZWQgdGhlIGZpbHRlciwgbm90IHRoZSBudW1iZXIgb2YgY29uY2VwdHMgaW4gYW4gdW5maWx0ZXJlZCB2aWV3IG9mIHRoZSBleHBhbnNpb24uXHJcbiAgICovXHJcbiAgb2Zmc2V0PzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24ub2Zmc2V0XHJcbiAgICovXHJcbiAgX29mZnNldD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNlcnZlciBkZWNpZGVzIHdoaWNoIHBhcmFtZXRlcnMgdG8gaW5jbHVkZSBoZXJlLCBidXQgYXQgYSBtaW5pbXVtLCB0aGUgbGlzdCBTSE9VTEQgaW5jbHVkZSBhbGwgb2YgdGhlIHBhcmFtZXRlcnMgdGhhdCBhZmZlY3QgdGhlICRleHBhbmQgb3BlcmF0aW9uLiBJZiB0aGUgZXhwYW5zaW9uIHdpbGwgYmUgcGVyc2lzdGVkIGFsbCBvZiB0aGVzZSBwYXJhbWV0ZXJzIFNIQUxMIGJlIGluY2x1ZGVkLiBJZiB0aGUgY29kZVN5c3RlbSBvbiB0aGUgc2VydmVyIGhhcyBhIHNwZWNpZmllZCB2ZXJzaW9uIHRoZW4gdGhpcyB2ZXJzaW9uIFNIQUxMIGJlIHByb3ZpZGVkIGFzIGEgcGFyYW1ldGVyIGluIHRoZSBleHBhbnNpb24gKG5vdGUgdGhhdCBub3QgYWxsIGNvZGUgc3lzdGVtcyBoYXZlIGEgdmVyc2lvbikuXHJcbiAgICovXHJcbiAgcGFyYW1ldGVyPzogZmhpci5WYWx1ZVNldEV4cGFuc2lvblBhcmFtZXRlckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGVzIHRoYXQgYXJlIGNvbnRhaW5lZCBpbiB0aGUgdmFsdWUgc2V0IGV4cGFuc2lvbi5cclxuICAgKi9cclxuICBjb250YWlucz86IGZoaXIuVmFsdWVTZXRFeHBhbnNpb25Db250YWluc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFeHBhbnNpb24gaXMgcGVyZm9ybWVkIHRvIHByb2R1Y2UgYSBjb2xsZWN0aW9uIG9mIGNvZGVzIHRoYXQgYXJlIHJlYWR5IHRvIHVzZSBmb3IgZGF0YSBlbnRyeSBvciB2YWxpZGF0aW9uLiBWYWx1ZSBzZXQgZXhwYW5zaW9ucyBhcmUgYWx3YXlzIGNvbnNpZGVyZWQgdG8gYmUgc3RhdGVsZXNzIC0gdGhleSBhcmUgYSByZWNvcmQgb2YgdGhlIHNldCBvZiBjb2RlcyBpbiB0aGUgdmFsdWUgc2V0IGF0IGEgcG9pbnQgaW4gdGltZSB1bmRlciBhIGdpdmVuIHNldCBvZiBjb25kaXRpb25zLCBhbmQgYXJlIG5vdCBzdWJqZWN0IHRvIG9uZ29pbmcgbWFpbnRlbmFuY2UuXHJcbiAqIEV4cGFuc2lvbi5wYXJhbWV0ZXIgaXMgIGEgc2ltcGxpZmllZCBsaXN0IG9mIHBhcmFtZXRlcnMgLSBhIHN1YnNldCBvZiB0aGUgZmVhdHVyZXMgb2YgdGhlIFtQYXJhbWV0ZXJzXShwYXJhbWV0ZXJzLmh0bWwpIHJlc291cmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZhbHVlU2V0RXhwYW5zaW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmFsdWVTZXRFeHBhbnNpb24nO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgdGhpcyB1cmkgaXMgYSBVVUlEIChlLmcuIHVybjp1dWlkOjgyMzBmZjIwLWM5N2EtNDE2Ny1hNTlkLWRjMmNiOWRmMTZkZCkuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgU0hPVUxEIGJlIGEgZnVsbHkgcG9wdWxhdGVkIGluc3RhbnQsIGJ1dCBpbiBzb21lIGNpcmN1bXN0YW5jZXMsIHZhbHVlIHNldHMgYXJlIGV4cGFuZGVkIGJ5IGhhbmQsIGFuZCB0aGUgZXhwYW5zaW9uIGlzIHB1Ymxpc2hlZCB3aXRob3V0IHRoYXQgcHJlY2lzaW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aW1lc3RhbXA6IGZoaXIuRmhpckRhdGVUaW1lfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUGFnaW5nIG9ubHkgYXBwbGllcyB0byBmbGF0IGV4cGFuc2lvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHRvdGFsPzogZmhpci5GaGlySW50ZWdlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGFnaW5nIG9ubHkgYXBwbGllcyB0byBmbGF0IGV4cGFuc2lvbnMuIElmIGEgZmlsdGVyIGlzIGFwcGxpZWQsIHRoZSBjb3VudCBpcyB0aGUgbnVtYmVyIG9mIGNvbmNlcHRzIHRoYXQgbWF0Y2hlZCB0aGUgZmlsdGVyLCBub3QgdGhlIG51bWJlciBvZiBjb25jZXB0cyBpbiBhbiB1bmZpbHRlcmVkIHZpZXcgb2YgdGhlIGV4cGFuc2lvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb2Zmc2V0PzogZmhpci5GaGlySW50ZWdlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNlcnZlciBkZWNpZGVzIHdoaWNoIHBhcmFtZXRlcnMgdG8gaW5jbHVkZSBoZXJlLCBidXQgYXQgYSBtaW5pbXVtLCB0aGUgbGlzdCBTSE9VTEQgaW5jbHVkZSBhbGwgb2YgdGhlIHBhcmFtZXRlcnMgdGhhdCBhZmZlY3QgdGhlICRleHBhbmQgb3BlcmF0aW9uLiBJZiB0aGUgZXhwYW5zaW9uIHdpbGwgYmUgcGVyc2lzdGVkIGFsbCBvZiB0aGVzZSBwYXJhbWV0ZXJzIFNIQUxMIGJlIGluY2x1ZGVkLiBJZiB0aGUgY29kZVN5c3RlbSBvbiB0aGUgc2VydmVyIGhhcyBhIHNwZWNpZmllZCB2ZXJzaW9uIHRoZW4gdGhpcyB2ZXJzaW9uIFNIQUxMIGJlIHByb3ZpZGVkIGFzIGEgcGFyYW1ldGVyIGluIHRoZSBleHBhbnNpb24gKG5vdGUgdGhhdCBub3QgYWxsIGNvZGUgc3lzdGVtcyBoYXZlIGEgdmVyc2lvbikuXHJcbiAgICovXHJcbiAgcHVibGljIHBhcmFtZXRlcjogZmhpci5WYWx1ZVNldEV4cGFuc2lvblBhcmFtZXRlcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlcyB0aGF0IGFyZSBjb250YWluZWQgaW4gdGhlIHZhbHVlIHNldCBleHBhbnNpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhaW5zOiBmaGlyLlZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnNbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldEV4cGFuc2lvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZhbHVlU2V0RXhwYW5zaW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLmlkZW50aWZpZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2lkZW50aWZpZXInXSkge1xyXG4gICAgICBpZiAodGhpcy5pZGVudGlmaWVyKSB7IHRoaXMuaWRlbnRpZmllci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pZGVudGlmaWVyISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl9pZGVudGlmaWVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0aW1lc3RhbXAnXSkgeyB0aGlzLnRpbWVzdGFtcCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS50aW1lc3RhbXB9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGltZXN0YW1wID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3RpbWVzdGFtcCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRpbWVzdGFtcCkgeyB0aGlzLnRpbWVzdGFtcC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90aW1lc3RhbXAhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50aW1lc3RhbXAgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl90aW1lc3RhbXAgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndG90YWwnXSkgeyB0aGlzLnRvdGFsID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UudG90YWx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3RvdGFsJ10pIHtcclxuICAgICAgaWYgKHRoaXMudG90YWwpIHsgdGhpcy50b3RhbC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90b3RhbCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnRvdGFsID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl90b3RhbCBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29mZnNldCddKSB7IHRoaXMub2Zmc2V0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2Uub2Zmc2V0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19vZmZzZXQnXSkge1xyXG4gICAgICBpZiAodGhpcy5vZmZzZXQpIHsgdGhpcy5vZmZzZXQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fb2Zmc2V0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub2Zmc2V0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9vZmZzZXQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwYXJhbWV0ZXInXSkgeyB0aGlzLnBhcmFtZXRlciA9IHNvdXJjZS5wYXJhbWV0ZXIubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldEV4cGFuc2lvblBhcmFtZXRlcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcmFtZXRlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWlucyddKSB7IHRoaXMuY29udGFpbnMgPSBzb3VyY2UuY29udGFpbnMubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldEV4cGFuc2lvbkNvbnRhaW5zKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29udGFpbnMgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdWYWx1ZVNldC5leHBhbnNpb24nIH1cclxuICAgIGlmICh0aGlzW1wiaWRlbnRpZmllclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmlkZW50aWZpZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmlkZW50aWZpZXInKSk7IH1cclxuICAgIGlmICghdGhpc1sndGltZXN0YW1wJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHRpbWVzdGFtcCBmaGlyOiBWYWx1ZVNldC5leHBhbnNpb24udGltZXN0YW1wOmRhdGVUaW1lJywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ0aW1lc3RhbXBcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50aW1lc3RhbXAuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnRpbWVzdGFtcCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ0b3RhbFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnRvdGFsLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy50b3RhbCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvZmZzZXRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vZmZzZXQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm9mZnNldCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwYXJhbWV0ZXJcIl0pIHsgdGhpcy5wYXJhbWV0ZXIuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnBhcmFtZXRlclske2l9XWApKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJjb250YWluc1wiXSkgeyB0aGlzLmNvbnRhaW5zLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5jb250YWluc1ske2l9XWApKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZhbHVlU2V0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlU2V0QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiVmFsdWVTZXRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FuIGJlIGEgdXJuOnV1aWQ6IG9yIGEgdXJuOm9pZDogYnV0IHJlYWwgaHR0cDogYWRkcmVzc2VzIGFyZSBwcmVmZXJyZWQuICBNdWx0aXBsZSBpbnN0YW5jZXMgbWF5IHNoYXJlIHRoZSBzYW1lIFVSTCBpZiB0aGV5IGhhdmUgYSBkaXN0aW5jdCB2ZXJzaW9uLlxyXG4gICAqIFRoZSBkZXRlcm1pbmF0aW9uIG9mIHdoZW4gdG8gY3JlYXRlIGEgbmV3IHZlcnNpb24gb2YgYSByZXNvdXJjZSAoc2FtZSB1cmwsIG5ldyB2ZXJzaW9uKSB2cy4gZGVmaW5pbmcgYSBuZXcgYXJ0aWZhY3QgaXMgdXAgdG8gdGhlIGF1dGhvci4gIENvbnNpZGVyYXRpb25zIGZvciBtYWtpbmcgdGhpcyBkZWNpc2lvbiBhcmUgZm91bmQgaW4gW1RlY2huaWNhbCBhbmQgQnVzaW5lc3MgVmVyc2lvbnNdKHJlc291cmNlLmh0bWwjdmVyc2lvbnMpLiBcclxuICAgKiBJbiBzb21lIGNhc2VzLCB0aGUgcmVzb3VyY2UgY2FuIG5vIGxvbmdlciBiZSBmb3VuZCBhdCB0aGUgc3RhdGVkIHVybCwgYnV0IHRoZSB1cmwgaXRzZWxmIGNhbm5vdCBjaGFuZ2UuIEltcGxlbWVudGF0aW9ucyBjYW4gdXNlIHRoZSBbbWV0YS5zb3VyY2VdKHJlc291cmNlLmh0bWwjbWV0YSkgZWxlbWVudCB0byBpbmRpY2F0ZSB3aGVyZSB0aGUgY3VycmVudCBtYXN0ZXIgc291cmNlIG9mIHRoZSByZXNvdXJjZSBjYW4gYmUgZm91bmQuXHJcbiAgICovXHJcbiAgdXJsPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LnVybFxyXG4gICAqL1xyXG4gIF91cmw/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgdGhpcyBpcyB1c2VkIGZvciBpZGVudGlmaWVycyB0aGF0IGNhbiBnbyBpbiBhbiBITDcgVjMgSUkgKGluc3RhbmNlIGlkZW50aWZpZXIpIGRhdGEgdHlwZSwgYW5kIGNhbiB0aGVuIGlkZW50aWZ5IHRoaXMgdmFsdWUgc2V0IG91dHNpZGUgb2YgRkhJUiwgd2hlcmUgaXQgaXMgbm90IHBvc3NpYmxlIHRvIHVzZSB0aGUgbG9naWNhbCBVUkkuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgbWF5IGJlIGRpZmZlcmVudCB2YWx1ZSBzZXQgaW5zdGFuY2VzIHRoYXQgaGF2ZSB0aGUgc2FtZSBpZGVudGlmaWVyIGJ1dCBkaWZmZXJlbnQgdmVyc2lvbnMuICBUaGUgdmVyc2lvbiBjYW4gYmUgYXBwZW5kZWQgdG8gdGhlIHVybCBpbiBhIHJlZmVyZW5jZSB0byBhbGxvdyBhIHJlZmVyZW5jZSB0byBhIHBhcnRpY3VsYXIgYnVzaW5lc3MgdmVyc2lvbiBvZiB0aGUgdmFsdWUgc2V0IHdpdGggdGhlIGZvcm1hdCBbdXJsXXxbdmVyc2lvbl0uXHJcbiAgICovXHJcbiAgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC52ZXJzaW9uXHJcbiAgICovXHJcbiAgX3ZlcnNpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIGlzIG5vdCBleHBlY3RlZCB0byBiZSBnbG9iYWxseSB1bmlxdWUuIFRoZSBuYW1lIHNob3VsZCBiZSBhIHNpbXBsZSBhbHBoYW51bWVyaWMgdHlwZSBuYW1lIHRvIGVuc3VyZSB0aGF0IGl0IGlzIG1hY2hpbmUtcHJvY2Vzc2luZyBmcmllbmRseS5BIG5hbWUgc2hvdWxkIGJlIHByb3ZpZGVkIHVubGVzcyB0aGUgdmFsdWUgc2V0IGlzIGEgY29udGFpbmVkIHJlc291cmNlIChlLmcuIGFuIGFub255bW91cyB2YWx1ZSBzZXQgaW4gYSBwcm9maWxlKS4gTW9zdCByZWdpc3RyaWVzIHdpbGwgcmVxdWlyZSBhIG5hbWUuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbmFtZSBkb2VzIG5vdCBuZWVkIHRvIGJlIG1hY2hpbmUtcHJvY2Vzc2luZyBmcmllbmRseSBhbmQgbWF5IGNvbnRhaW4gcHVuY3R1YXRpb24sIHdoaXRlLXNwYWNlLCBldGMuXHJcbiAgICovXHJcbiAgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQudGl0bGVcclxuICAgKi9cclxuICBfdGl0bGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgdmFsdWUgc2V0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuU2VlIGFsc28gdGhlIFt2YWx1ZXNldC13b3JrZmxvd1N0YXR1c10oZXh0ZW5zaW9uLXZhbHVlc2V0LXdvcmtmbG93c3RhdHVzLmh0bWwpIGV4dGVuc2lvbiBmb3IgYWRkaXRpb25hbCBzdGF0dXMgaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUgZWRpdG9yaWFsIHByb2Nlc3MuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgdmFsdWUgc2V0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgZXhwZXJpbWVudGFsPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZXhwZXJpbWVudGFsXHJcbiAgICovXHJcbiAgX2V4cGVyaW1lbnRhbD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSByZXNvdXJjZSBsYXN0LW1vZGlmaWVkLWRhdGUsIHNpbmNlIHRoZSByZXNvdXJjZSBtYXkgYmUgYSBzZWNvbmRhcnkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZhbHVlIHNldC4gQWRkaXRpb25hbCBzcGVjaWZpYyBkYXRlcyBtYXkgYmUgYWRkZWQgYXMgZXh0ZW5zaW9ucyBvciBiZSBmb3VuZCBieSBjb25zdWx0aW5nIFByb3ZlbmFuY2VzIGFzc29jaWF0ZWQgd2l0aCBwYXN0IHZlcnNpb25zIG9mIHRoZSByZXNvdXJjZS5cclxuICAgKi9cclxuICBkYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZGF0ZVxyXG4gICAqL1xyXG4gIF9kYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBVc3VhbGx5IGFuIG9yZ2FuaXphdGlvbiBidXQgbWF5IGJlIGFuIGluZGl2aWR1YWwuIFRoZSBwdWJsaXNoZXIgKG9yIHN0ZXdhcmQpIG9mIHRoZSB2YWx1ZSBzZXQgaXMgdGhlIG9yZ2FuaXphdGlvbiBvciBpbmRpdmlkdWFsIHByaW1hcmlseSByZXNwb25zaWJsZSBmb3IgdGhlIG1haW50ZW5hbmNlIGFuZCB1cGtlZXAgb2YgdGhlIHZhbHVlIHNldC4gVGhpcyBpcyBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gdGhhdCBkZXZlbG9wZWQgYW5kIGluaXRpYWxseSBhdXRob3JlZCB0aGUgY29udGVudC4gVGhlIHB1Ymxpc2hlciBpcyB0aGUgcHJpbWFyeSBwb2ludCBvZiBjb250YWN0IGZvciBxdWVzdGlvbnMgb3IgaXNzdWVzIHdpdGggdGhlIHZhbHVlIHNldC4gVGhpcyBpdGVtIFNIT1VMRCBiZSBwb3B1bGF0ZWQgdW5sZXNzIHRoZSBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgZnJvbSBjb250ZXh0LlxyXG4gICAqL1xyXG4gIHB1Ymxpc2hlcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5wdWJsaXNoZXJcclxuICAgKi9cclxuICBfcHVibGlzaGVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBNYXkgYmUgYSB3ZWIgc2l0ZSwgYW4gZW1haWwgYWRkcmVzcywgYSB0ZWxlcGhvbmUgbnVtYmVyLCBldGMuXHJcbiAgICovXHJcbiAgY29udGFjdD86IGZoaXIuQ29udGFjdERldGFpbEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkZXNjcmlwdGlvbiBjYW4gYmUgdXNlZCB0byBjYXB0dXJlIGRldGFpbHMgc3VjaCBhcyB3aHkgdGhlIHZhbHVlIHNldCB3YXMgYnVpbHQsIGNvbW1lbnRzIGFib3V0IG1pc3VzZSwgaW5zdHJ1Y3Rpb25zIGZvciBjbGluaWNhbCB1c2UgYW5kIGludGVycHJldGF0aW9uLCBsaXRlcmF0dXJlIHJlZmVyZW5jZXMsIGV4YW1wbGVzIGZyb20gdGhlIHBhcGVyIHdvcmxkLCBldGMuIEl0IGlzIG5vdCBhIHJlbmRlcmluZyBvZiB0aGUgdmFsdWUgc2V0IGFzIGNvbnZleWVkIGluIHRoZSAndGV4dCcgZmllbGQgb2YgdGhlIHJlc291cmNlIGl0c2VsZi4gVGhpcyBpdGVtIFNIT1VMRCBiZSBwb3B1bGF0ZWQgdW5sZXNzIHRoZSBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgZnJvbSBjb250ZXh0IChlLmcuIHRoZSBsYW5ndWFnZSBvZiB0aGUgdmFsdWUgc2V0IGlzIHByZXN1bWVkIHRvIGJlIHRoZSBwcmVkb21pbmFudCBsYW5ndWFnZSBpbiB0aGUgcGxhY2UgdGhlIHZhbHVlIHNldCB3YXMgY3JlYXRlZCkuVGhlIGRlc2NyaXB0aW9uIGlzIG5vdCBpbnRlbmRlZCB0byBkZXNjcmliZSB0aGUgc2VtYW50aWNzIG9mIHRoZSBWYWx1ZSBTZXQgLSB0aGVyZSBhcmUgbm8gaW50cmluc2ljIHNlbWFudGljcyBzZXBhcmF0ZSBmcm9tIHRoZSBjb2RlcyBjb250YWluZWQgaW4gaXRzIGV4cGFuc2lvbi4gVGhlIGRlc2NyaXB0aW9uIHNob3VsZCBjYXB0dXJlIGl0cyBpbnRlbmRlZCB1c2UsIHdoaWNoIGlzIG5lZWRlZCBmb3IgZW5zdXJpbmcgaW50ZWdyaXR5IGZvciBpdHMgdXNlIGluIG1vZGVscyBhY3Jvc3MgZnV0dXJlIGNoYW5nZXMuIEEgZGVzY3JpcHRpb24gc2hvdWxkIGJlIHByb3ZpZGVkIHVubGVzcyB0aGUgdmFsdWUgc2V0IGlzIGEgY29udGFpbmVkIHJlc291cmNlIChlLmcuIGFuIGFub255bW91cyB2YWx1ZSBzZXQgaW4gYSBwcm9maWxlKS4gTW9zdCByZWdpc3RyaWVzIHdpbGwgcmVxdWlyZSBhIGRlc2NyaXB0aW9uLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gbXVsdGlwbGUgdXNlQ29udGV4dHMgYXJlIHNwZWNpZmllZCwgdGhlcmUgaXMgbm8gZXhwZWN0YXRpb24gdGhhdCBhbGwgb3IgYW55IG9mIHRoZSBjb250ZXh0cyBhcHBseS5cclxuICAgKi9cclxuICB1c2VDb250ZXh0PzogZmhpci5Vc2FnZUNvbnRleHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0IG1heSBiZSBwb3NzaWJsZSBmb3IgdGhlIHZhbHVlIHNldCB0byBiZSB1c2VkIGluIGp1cmlzZGljdGlvbnMgb3RoZXIgdGhhbiB0aG9zZSBmb3Igd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgZGVzaWduZWQgb3IgaW50ZW5kZWQuXHJcbiAgICovXHJcbiAganVyaXNkaWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vcm1hbGx5IGltbXV0YWJpbGl0eSBpcyBzZXQgdG8gJ2ZhbHNlJywgd2hpY2ggaXMgdGhlIGRlZmF1bHQgYXNzdW1wdGlvbiBpZiBpdCBpcyBub3QgcG9wdWxhdGVkLiAgTm90ZSB0aGF0IHRoZSBpbXBsaWNhdGlvbiBpcyB0aGF0IGlmIHRoaXMgaXMgc2V0IHRvICd0cnVlJywgdGhlcmUgbWF5IGJlIG9ubHkgb25lIFZhbHVlU2V0IHZlcnNpb24gZm9yIHRoaXMgZGVmaW5pdGlvbi4gSW1tdXRhYmlsaXR5IHRlbmRzIHRvIGJlIHNldCB0byAndHJ1ZScgaW4gb25lIG9mIHR3byBjYXNlczogLSBXaGVyZSB0aGUgdmFsdWUgc2V0LCBieSB0aGUgbmF0dXJlIG9mIGl0cyB1c2FnZSwgY2Fubm90IGNoYW5nZS4gIEZvciBleGFtcGxlIFwiQWxsIHNwZWNpYWxpemF0aW9ucyBvZiBBQ1QgaW4gQWN0Q2xhc3NDb2RlXCIgLSBXaGVyZSB0aGVyZSdzIG5vIHNhZmUgd2F5IHRvIGV4cHJlc3MgdGhlIFwiUHVycG9zZVwiIHN1Y2ggdGhhdCBzb21lb25lIGVsc2UgY291bGQgc2FmZWx5IG1ha2UgY2hhbmdlcyB0byB0aGUgdmFsdWUgc2V0IGRlZmluaXRpb24uIFNvdXJjZSB3b3JrZmxvdyBjb250cm9sIG11c3QgZ3VhcmFudGVlIHRoYXQgdGhlIHNhbWUgVVJJIGFsd2F5cyB5aWVsZHMgdGhlIHNhbWUgZGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBpbW11dGFibGU/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5pbW11dGFibGVcclxuICAgKi9cclxuICBfaW1tdXRhYmxlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgZG9lcyBub3QgZGVzY3JpYmUgdGhlIHVzYWdlIG9mIHRoZSB2YWx1ZSBzZXQuIEluc3RlYWQsIGl0IHByb3ZpZGVzIHRyYWNlYWJpbGl0eSBvZiAnJ3doeScnIHRoZSByZXNvdXJjZSBpcyBlaXRoZXIgbmVlZGVkIG9yICcnd2h5JycgaXQgaXMgZGVmaW5lZCBhcyBpdCBpcy4gIFRoaXMgbWF5IGJlIHVzZWQgdG8gcG9pbnQgdG8gc291cmNlIG1hdGVyaWFscyBvciBzcGVjaWZpY2F0aW9ucyB0aGF0IGRyb3ZlIHRoZSBzdHJ1Y3R1cmUgb2YgdGhpcyB2YWx1ZSBzZXQuXHJcbiAgICovXHJcbiAgcHVycG9zZT86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LnB1cnBvc2VcclxuICAgKi9cclxuICBfcHVycG9zZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogbnVsbEZyZXF1ZW50bHksIHRoZSBjb3B5cmlnaHQgZGlmZmVycyBiZXR3ZWVuIHRoZSB2YWx1ZSBzZXQgYW5kIHRoZSBjb2RlcyB0aGF0IGFyZSBpbmNsdWRlZC4gVGhlIGNvcHlyaWdodCBzdGF0ZW1lbnQgc2hvdWxkIGNsZWFybHkgZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHRoZXNlIHdoZW4gcmVxdWlyZWQuXHJcbiAgICovXHJcbiAgY29weXJpZ2h0PzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29weXJpZ2h0XHJcbiAgICovXHJcbiAgX2NvcHlyaWdodD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBzZXQgb2YgY3JpdGVyaWEgdGhhdCBkZWZpbmUgdGhlIGNvbnRlbnRzIG9mIHRoZSB2YWx1ZSBzZXQgYnkgaW5jbHVkaW5nIG9yIGV4Y2x1ZGluZyBjb2RlcyBzZWxlY3RlZCBmcm9tIHRoZSBzcGVjaWZpZWQgY29kZSBzeXN0ZW0ocykgdGhhdCB0aGUgdmFsdWUgc2V0IGRyYXdzIGZyb20uIFRoaXMgaXMgYWxzbyBrbm93biBhcyB0aGUgQ29udGVudCBMb2dpY2FsIERlZmluaXRpb24gKENMRCkuXHJcbiAgICovXHJcbiAgY29tcG9zZT86IGZoaXIuVmFsdWVTZXRDb21wb3NlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXhwYW5zaW9uIGlzIHBlcmZvcm1lZCB0byBwcm9kdWNlIGEgY29sbGVjdGlvbiBvZiBjb2RlcyB0aGF0IGFyZSByZWFkeSB0byB1c2UgZm9yIGRhdGEgZW50cnkgb3IgdmFsaWRhdGlvbi4gVmFsdWUgc2V0IGV4cGFuc2lvbnMgYXJlIGFsd2F5cyBjb25zaWRlcmVkIHRvIGJlIHN0YXRlbGVzcyAtIHRoZXkgYXJlIGEgcmVjb3JkIG9mIHRoZSBzZXQgb2YgY29kZXMgaW4gdGhlIHZhbHVlIHNldCBhdCBhIHBvaW50IGluIHRpbWUgdW5kZXIgYSBnaXZlbiBzZXQgb2YgY29uZGl0aW9ucywgYW5kIGFyZSBub3Qgc3ViamVjdCB0byBvbmdvaW5nIG1haW50ZW5hbmNlLlxyXG4gICAqIEV4cGFuc2lvbi5wYXJhbWV0ZXIgaXMgIGEgc2ltcGxpZmllZCBsaXN0IG9mIHBhcmFtZXRlcnMgLSBhIHN1YnNldCBvZiB0aGUgZmVhdHVyZXMgb2YgdGhlIFtQYXJhbWV0ZXJzXShwYXJhbWV0ZXJzLmh0bWwpIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGV4cGFuc2lvbj86IGZoaXIuVmFsdWVTZXRFeHBhbnNpb25BcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgVmFsdWVTZXQgcmVzb3VyY2UgaW5zdGFuY2Ugc3BlY2lmaWVzIGEgc2V0IG9mIGNvZGVzIGRyYXduIGZyb20gb25lIG9yIG1vcmUgY29kZSBzeXN0ZW1zLCBpbnRlbmRlZCBmb3IgdXNlIGluIGEgcGFydGljdWxhciBjb250ZXh0LiBWYWx1ZSBzZXRzIGxpbmsgYmV0d2VlbiBbQ29kZVN5c3RlbV0oY29kZXN5c3RlbS5odG1sKSBkZWZpbml0aW9ucyBhbmQgdGhlaXIgdXNlIGluIFtjb2RlZCBlbGVtZW50c10odGVybWlub2xvZ2llcy5odG1sKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWYWx1ZVNldCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmFsdWVTZXQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiVmFsdWVTZXRcIjtcclxuICAvKipcclxuICAgKiBDYW4gYmUgYSB1cm46dXVpZDogb3IgYSB1cm46b2lkOiBidXQgcmVhbCBodHRwOiBhZGRyZXNzZXMgYXJlIHByZWZlcnJlZC4gIE11bHRpcGxlIGluc3RhbmNlcyBtYXkgc2hhcmUgdGhlIHNhbWUgVVJMIGlmIHRoZXkgaGF2ZSBhIGRpc3RpbmN0IHZlcnNpb24uXHJcbiAgICogVGhlIGRldGVybWluYXRpb24gb2Ygd2hlbiB0byBjcmVhdGUgYSBuZXcgdmVyc2lvbiBvZiBhIHJlc291cmNlIChzYW1lIHVybCwgbmV3IHZlcnNpb24pIHZzLiBkZWZpbmluZyBhIG5ldyBhcnRpZmFjdCBpcyB1cCB0byB0aGUgYXV0aG9yLiAgQ29uc2lkZXJhdGlvbnMgZm9yIG1ha2luZyB0aGlzIGRlY2lzaW9uIGFyZSBmb3VuZCBpbiBbVGVjaG5pY2FsIGFuZCBCdXNpbmVzcyBWZXJzaW9uc10ocmVzb3VyY2UuaHRtbCN2ZXJzaW9ucykuIFxyXG4gICAqIEluIHNvbWUgY2FzZXMsIHRoZSByZXNvdXJjZSBjYW4gbm8gbG9uZ2VyIGJlIGZvdW5kIGF0IHRoZSBzdGF0ZWQgdXJsLCBidXQgdGhlIHVybCBpdHNlbGYgY2Fubm90IGNoYW5nZS4gSW1wbGVtZW50YXRpb25zIGNhbiB1c2UgdGhlIFttZXRhLnNvdXJjZV0ocmVzb3VyY2UuaHRtbCNtZXRhKSBlbGVtZW50IHRvIGluZGljYXRlIHdoZXJlIHRoZSBjdXJyZW50IG1hc3RlciBzb3VyY2Ugb2YgdGhlIHJlc291cmNlIGNhbiBiZSBmb3VuZC5cclxuICAgKi9cclxuICBwdWJsaWMgdXJsPzogZmhpci5GaGlyVXJpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHksIHRoaXMgaXMgdXNlZCBmb3IgaWRlbnRpZmllcnMgdGhhdCBjYW4gZ28gaW4gYW4gSEw3IFYzIElJIChpbnN0YW5jZSBpZGVudGlmaWVyKSBkYXRhIHR5cGUsIGFuZCBjYW4gdGhlbiBpZGVudGlmeSB0aGlzIHZhbHVlIHNldCBvdXRzaWRlIG9mIEZISVIsIHdoZXJlIGl0IGlzIG5vdCBwb3NzaWJsZSB0byB1c2UgdGhlIGxvZ2ljYWwgVVJJLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGVyZSBtYXkgYmUgZGlmZmVyZW50IHZhbHVlIHNldCBpbnN0YW5jZXMgdGhhdCBoYXZlIHRoZSBzYW1lIGlkZW50aWZpZXIgYnV0IGRpZmZlcmVudCB2ZXJzaW9ucy4gIFRoZSB2ZXJzaW9uIGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgdXJsIGluIGEgcmVmZXJlbmNlIHRvIGFsbG93IGEgcmVmZXJlbmNlIHRvIGEgcGFydGljdWxhciBidXNpbmVzcyB2ZXJzaW9uIG9mIHRoZSB2YWx1ZSBzZXQgd2l0aCB0aGUgZm9ybWF0IFt1cmxdfFt2ZXJzaW9uXS5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgaXMgbm90IGV4cGVjdGVkIHRvIGJlIGdsb2JhbGx5IHVuaXF1ZS4gVGhlIG5hbWUgc2hvdWxkIGJlIGEgc2ltcGxlIGFscGhhbnVtZXJpYyB0eXBlIG5hbWUgdG8gZW5zdXJlIHRoYXQgaXQgaXMgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5LkEgbmFtZSBzaG91bGQgYmUgcHJvdmlkZWQgdW5sZXNzIHRoZSB2YWx1ZSBzZXQgaXMgYSBjb250YWluZWQgcmVzb3VyY2UgKGUuZy4gYW4gYW5vbnltb3VzIHZhbHVlIHNldCBpbiBhIHByb2ZpbGUpLiBNb3N0IHJlZ2lzdHJpZXMgd2lsbCByZXF1aXJlIGEgbmFtZS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBuYW1lIGRvZXMgbm90IG5lZWQgdG8gYmUgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5IGFuZCBtYXkgY29udGFpbiBwdW5jdHVhdGlvbiwgd2hpdGUtc3BhY2UsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgdmFsdWUgc2V0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuU2VlIGFsc28gdGhlIFt2YWx1ZXNldC13b3JrZmxvd1N0YXR1c10oZXh0ZW5zaW9uLXZhbHVlc2V0LXdvcmtmbG93c3RhdHVzLmh0bWwpIGV4dGVuc2lvbiBmb3IgYWRkaXRpb25hbCBzdGF0dXMgaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUgZWRpdG9yaWFsIHByb2Nlc3MuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgdmFsdWUgc2V0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgcHVibGljIGV4cGVyaW1lbnRhbD86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB0aGlzIGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgcmVzb3VyY2UgbGFzdC1tb2RpZmllZC1kYXRlLCBzaW5jZSB0aGUgcmVzb3VyY2UgbWF5IGJlIGEgc2Vjb25kYXJ5IHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2YWx1ZSBzZXQuIEFkZGl0aW9uYWwgc3BlY2lmaWMgZGF0ZXMgbWF5IGJlIGFkZGVkIGFzIGV4dGVuc2lvbnMgb3IgYmUgZm91bmQgYnkgY29uc3VsdGluZyBQcm92ZW5hbmNlcyBhc3NvY2lhdGVkIHdpdGggcGFzdCB2ZXJzaW9ucyBvZiB0aGUgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSBhbiBvcmdhbml6YXRpb24gYnV0IG1heSBiZSBhbiBpbmRpdmlkdWFsLiBUaGUgcHVibGlzaGVyIChvciBzdGV3YXJkKSBvZiB0aGUgdmFsdWUgc2V0IGlzIHRoZSBvcmdhbml6YXRpb24gb3IgaW5kaXZpZHVhbCBwcmltYXJpbHkgcmVzcG9uc2libGUgZm9yIHRoZSBtYWludGVuYW5jZSBhbmQgdXBrZWVwIG9mIHRoZSB2YWx1ZSBzZXQuIFRoaXMgaXMgbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIGluZGl2aWR1YWwgb3Igb3JnYW5pemF0aW9uIHRoYXQgZGV2ZWxvcGVkIGFuZCBpbml0aWFsbHkgYXV0aG9yZWQgdGhlIGNvbnRlbnQuIFRoZSBwdWJsaXNoZXIgaXMgdGhlIHByaW1hcnkgcG9pbnQgb2YgY29udGFjdCBmb3IgcXVlc3Rpb25zIG9yIGlzc3VlcyB3aXRoIHRoZSB2YWx1ZSBzZXQuIFRoaXMgaXRlbSBTSE9VTEQgYmUgcG9wdWxhdGVkIHVubGVzcyB0aGUgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlIGZyb20gY29udGV4dC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgYmUgYSB3ZWIgc2l0ZSwgYW4gZW1haWwgYWRkcmVzcywgYSB0ZWxlcGhvbmUgbnVtYmVyLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhY3Q6IGZoaXIuQ29udGFjdERldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpcHRpb24gY2FuIGJlIHVzZWQgdG8gY2FwdHVyZSBkZXRhaWxzIHN1Y2ggYXMgd2h5IHRoZSB2YWx1ZSBzZXQgd2FzIGJ1aWx0LCBjb21tZW50cyBhYm91dCBtaXN1c2UsIGluc3RydWN0aW9ucyBmb3IgY2xpbmljYWwgdXNlIGFuZCBpbnRlcnByZXRhdGlvbiwgbGl0ZXJhdHVyZSByZWZlcmVuY2VzLCBleGFtcGxlcyBmcm9tIHRoZSBwYXBlciB3b3JsZCwgZXRjLiBJdCBpcyBub3QgYSByZW5kZXJpbmcgb2YgdGhlIHZhbHVlIHNldCBhcyBjb252ZXllZCBpbiB0aGUgJ3RleHQnIGZpZWxkIG9mIHRoZSByZXNvdXJjZSBpdHNlbGYuIFRoaXMgaXRlbSBTSE9VTEQgYmUgcG9wdWxhdGVkIHVubGVzcyB0aGUgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlIGZyb20gY29udGV4dCAoZS5nLiB0aGUgbGFuZ3VhZ2Ugb2YgdGhlIHZhbHVlIHNldCBpcyBwcmVzdW1lZCB0byBiZSB0aGUgcHJlZG9taW5hbnQgbGFuZ3VhZ2UgaW4gdGhlIHBsYWNlIHRoZSB2YWx1ZSBzZXQgd2FzIGNyZWF0ZWQpLlRoZSBkZXNjcmlwdGlvbiBpcyBub3QgaW50ZW5kZWQgdG8gZGVzY3JpYmUgdGhlIHNlbWFudGljcyBvZiB0aGUgVmFsdWUgU2V0IC0gdGhlcmUgYXJlIG5vIGludHJpbnNpYyBzZW1hbnRpY3Mgc2VwYXJhdGUgZnJvbSB0aGUgY29kZXMgY29udGFpbmVkIGluIGl0cyBleHBhbnNpb24uIFRoZSBkZXNjcmlwdGlvbiBzaG91bGQgY2FwdHVyZSBpdHMgaW50ZW5kZWQgdXNlLCB3aGljaCBpcyBuZWVkZWQgZm9yIGVuc3VyaW5nIGludGVncml0eSBmb3IgaXRzIHVzZSBpbiBtb2RlbHMgYWNyb3NzIGZ1dHVyZSBjaGFuZ2VzLiBBIGRlc2NyaXB0aW9uIHNob3VsZCBiZSBwcm92aWRlZCB1bmxlc3MgdGhlIHZhbHVlIHNldCBpcyBhIGNvbnRhaW5lZCByZXNvdXJjZSAoZS5nLiBhbiBhbm9ueW1vdXMgdmFsdWUgc2V0IGluIGEgcHJvZmlsZSkuIE1vc3QgcmVnaXN0cmllcyB3aWxsIHJlcXVpcmUgYSBkZXNjcmlwdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiBtdWx0aXBsZSB1c2VDb250ZXh0cyBhcmUgc3BlY2lmaWVkLCB0aGVyZSBpcyBubyBleHBlY3RhdGlvbiB0aGF0IGFsbCBvciBhbnkgb2YgdGhlIGNvbnRleHRzIGFwcGx5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2VDb250ZXh0OiBmaGlyLlVzYWdlQ29udGV4dFtdO1xyXG4gIC8qKlxyXG4gICAqIEl0IG1heSBiZSBwb3NzaWJsZSBmb3IgdGhlIHZhbHVlIHNldCB0byBiZSB1c2VkIGluIGp1cmlzZGljdGlvbnMgb3RoZXIgdGhhbiB0aG9zZSBmb3Igd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgZGVzaWduZWQgb3IgaW50ZW5kZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGp1cmlzZGljdGlvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBOb3JtYWxseSBpbW11dGFiaWxpdHkgaXMgc2V0IHRvICdmYWxzZScsIHdoaWNoIGlzIHRoZSBkZWZhdWx0IGFzc3VtcHRpb24gaWYgaXQgaXMgbm90IHBvcHVsYXRlZC4gIE5vdGUgdGhhdCB0aGUgaW1wbGljYXRpb24gaXMgdGhhdCBpZiB0aGlzIGlzIHNldCB0byAndHJ1ZScsIHRoZXJlIG1heSBiZSBvbmx5IG9uZSBWYWx1ZVNldCB2ZXJzaW9uIGZvciB0aGlzIGRlZmluaXRpb24uIEltbXV0YWJpbGl0eSB0ZW5kcyB0byBiZSBzZXQgdG8gJ3RydWUnIGluIG9uZSBvZiB0d28gY2FzZXM6IC0gV2hlcmUgdGhlIHZhbHVlIHNldCwgYnkgdGhlIG5hdHVyZSBvZiBpdHMgdXNhZ2UsIGNhbm5vdCBjaGFuZ2UuICBGb3IgZXhhbXBsZSBcIkFsbCBzcGVjaWFsaXphdGlvbnMgb2YgQUNUIGluIEFjdENsYXNzQ29kZVwiIC0gV2hlcmUgdGhlcmUncyBubyBzYWZlIHdheSB0byBleHByZXNzIHRoZSBcIlB1cnBvc2VcIiBzdWNoIHRoYXQgc29tZW9uZSBlbHNlIGNvdWxkIHNhZmVseSBtYWtlIGNoYW5nZXMgdG8gdGhlIHZhbHVlIHNldCBkZWZpbml0aW9uLiBTb3VyY2Ugd29ya2Zsb3cgY29udHJvbCBtdXN0IGd1YXJhbnRlZSB0aGF0IHRoZSBzYW1lIFVSSSBhbHdheXMgeWllbGRzIHRoZSBzYW1lIGRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGltbXV0YWJsZT86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBkb2VzIG5vdCBkZXNjcmliZSB0aGUgdXNhZ2Ugb2YgdGhlIHZhbHVlIHNldC4gSW5zdGVhZCwgaXQgcHJvdmlkZXMgdHJhY2VhYmlsaXR5IG9mICcnd2h5JycgdGhlIHJlc291cmNlIGlzIGVpdGhlciBuZWVkZWQgb3IgJyd3aHknJyBpdCBpcyBkZWZpbmVkIGFzIGl0IGlzLiAgVGhpcyBtYXkgYmUgdXNlZCB0byBwb2ludCB0byBzb3VyY2UgbWF0ZXJpYWxzIG9yIHNwZWNpZmljYXRpb25zIHRoYXQgZHJvdmUgdGhlIHN0cnVjdHVyZSBvZiB0aGlzIHZhbHVlIHNldC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZT86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBudWxsRnJlcXVlbnRseSwgdGhlIGNvcHlyaWdodCBkaWZmZXJzIGJldHdlZW4gdGhlIHZhbHVlIHNldCBhbmQgdGhlIGNvZGVzIHRoYXQgYXJlIGluY2x1ZGVkLiBUaGUgY29weXJpZ2h0IHN0YXRlbWVudCBzaG91bGQgY2xlYXJseSBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlc2Ugd2hlbiByZXF1aXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY29weXJpZ2h0PzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc2V0IG9mIGNyaXRlcmlhIHRoYXQgZGVmaW5lIHRoZSBjb250ZW50cyBvZiB0aGUgdmFsdWUgc2V0IGJ5IGluY2x1ZGluZyBvciBleGNsdWRpbmcgY29kZXMgc2VsZWN0ZWQgZnJvbSB0aGUgc3BlY2lmaWVkIGNvZGUgc3lzdGVtKHMpIHRoYXQgdGhlIHZhbHVlIHNldCBkcmF3cyBmcm9tLiBUaGlzIGlzIGFsc28ga25vd24gYXMgdGhlIENvbnRlbnQgTG9naWNhbCBEZWZpbml0aW9uIChDTEQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21wb3NlPzogZmhpci5WYWx1ZVNldENvbXBvc2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4cGFuc2lvbiBpcyBwZXJmb3JtZWQgdG8gcHJvZHVjZSBhIGNvbGxlY3Rpb24gb2YgY29kZXMgdGhhdCBhcmUgcmVhZHkgdG8gdXNlIGZvciBkYXRhIGVudHJ5IG9yIHZhbGlkYXRpb24uIFZhbHVlIHNldCBleHBhbnNpb25zIGFyZSBhbHdheXMgY29uc2lkZXJlZCB0byBiZSBzdGF0ZWxlc3MgLSB0aGV5IGFyZSBhIHJlY29yZCBvZiB0aGUgc2V0IG9mIGNvZGVzIGluIHRoZSB2YWx1ZSBzZXQgYXQgYSBwb2ludCBpbiB0aW1lIHVuZGVyIGEgZ2l2ZW4gc2V0IG9mIGNvbmRpdGlvbnMsIGFuZCBhcmUgbm90IHN1YmplY3QgdG8gb25nb2luZyBtYWludGVuYW5jZS5cclxuICAgKiBFeHBhbnNpb24ucGFyYW1ldGVyIGlzICBhIHNpbXBsaWZpZWQgbGlzdCBvZiBwYXJhbWV0ZXJzIC0gYSBzdWJzZXQgb2YgdGhlIGZlYXR1cmVzIG9mIHRoZSBbUGFyYW1ldGVyc10ocGFyYW1ldGVycy5odG1sKSByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgZXhwYW5zaW9uPzogZmhpci5WYWx1ZVNldEV4cGFuc2lvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmFsdWVTZXQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWYWx1ZVNldEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdWYWx1ZVNldCc7XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ191cmwnXSkge1xyXG4gICAgICBpZiAodGhpcy51cmwpIHsgdGhpcy51cmwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXJsISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX3VybCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyc2lvbiddKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcnNpb24pIHsgdGhpcy52ZXJzaW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcnNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZlcnNpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0aXRsZSddKSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRpdGxlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190aXRsZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRpdGxlKSB7IHRoaXMudGl0bGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdGl0bGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50aXRsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl90aXRsZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhwZXJpbWVudGFsJ10pIHsgdGhpcy5leHBlcmltZW50YWwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5leHBlcmltZW50YWx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2V4cGVyaW1lbnRhbCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmV4cGVyaW1lbnRhbCkgeyB0aGlzLmV4cGVyaW1lbnRhbC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9leHBlcmltZW50YWwhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5leHBlcmltZW50YWwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2V4cGVyaW1lbnRhbCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGUnXSkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGUpIHsgdGhpcy5kYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwdWJsaXNoZXInXSkgeyB0aGlzLnB1Ymxpc2hlciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucHVibGlzaGVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wdWJsaXNoZXInXSkge1xyXG4gICAgICBpZiAodGhpcy5wdWJsaXNoZXIpIHsgdGhpcy5wdWJsaXNoZXIuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcHVibGlzaGVyISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHVibGlzaGVyID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3B1Ymxpc2hlciBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFjdCddKSB7IHRoaXMuY29udGFjdCA9IHNvdXJjZS5jb250YWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29udGFjdERldGFpbCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhY3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bihzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyTWFya2Rvd25BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3VzZUNvbnRleHQnXSkgeyB0aGlzLnVzZUNvbnRleHQgPSBzb3VyY2UudXNlQ29udGV4dC5tYXAoKHgpID0+IG5ldyBmaGlyLlVzYWdlQ29udGV4dCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnVzZUNvbnRleHQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnanVyaXNkaWN0aW9uJ10pIHsgdGhpcy5qdXJpc2RpY3Rpb24gPSBzb3VyY2UuanVyaXNkaWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuanVyaXNkaWN0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2ltbXV0YWJsZSddKSB7IHRoaXMuaW1tdXRhYmxlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuaW1tdXRhYmxlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbW11dGFibGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5pbW11dGFibGUpIHsgdGhpcy5pbW11dGFibGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faW1tdXRhYmxlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaW1tdXRhYmxlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9pbW11dGFibGUgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwdXJwb3NlJ10pIHsgdGhpcy5wdXJwb3NlID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLnB1cnBvc2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3B1cnBvc2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5wdXJwb3NlKSB7IHRoaXMucHVycG9zZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wdXJwb3NlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHVycG9zZSA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bihzb3VyY2UuX3B1cnBvc2UgYXMgUGFydGlhbDxmaGlyLkZoaXJNYXJrZG93bkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29weXJpZ2h0J10pIHsgdGhpcy5jb3B5cmlnaHQgPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuY29weXJpZ2h0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb3B5cmlnaHQnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb3B5cmlnaHQpIHsgdGhpcy5jb3B5cmlnaHQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29weXJpZ2h0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29weXJpZ2h0ID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHNvdXJjZS5fY29weXJpZ2h0IGFzIFBhcnRpYWw8Zmhpci5GaGlyTWFya2Rvd25BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbXBvc2UnXSkgeyB0aGlzLmNvbXBvc2UgPSBuZXcgZmhpci5WYWx1ZVNldENvbXBvc2Uoc291cmNlLmNvbXBvc2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydleHBhbnNpb24nXSkgeyB0aGlzLmV4cGFuc2lvbiA9IG5ldyBmaGlyLlZhbHVlU2V0RXhwYW5zaW9uKHNvdXJjZS5leHBhbnNpb24pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzIChWYWx1ZVNldC5zdGF0dXMpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgc3RhdHVzUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBQdWJsaWNhdGlvblN0YXR1c0NvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdWYWx1ZVNldCcgfVxyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZVR5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2VUeXBlIGZoaXI6IFZhbHVlU2V0LnJlc291cmNlVHlwZTpcIlZhbHVlU2V0XCInLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInVybFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnVybC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycudXJsJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgdGhpcy5pZGVudGlmaWVyLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5pZGVudGlmaWVyWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInZlcnNpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52ZXJzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy52ZXJzaW9uJykpOyB9XHJcbiAgICBpZiAodGhpc1tcIm5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uYW1lLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5uYW1lJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInRpdGxlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudGl0bGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnRpdGxlJykpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3N0YXR1cyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzdGF0dXMgZmhpcjogVmFsdWVTZXQuc3RhdHVzOmNvZGUnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1snc3RhdHVzJ10gJiYgKCFPYmplY3QudmFsdWVzKFB1YmxpY2F0aW9uU3RhdHVzQ29kZXMpLmluY2x1ZGVzKHRoaXMuc3RhdHVzLnZhbHVlIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSBzdGF0dXMgZmhpcjogVmFsdWVTZXQuc3RhdHVzOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogUHVibGljYXRpb25TdGF0dXMnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInN0YXR1c1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnN0YXR1cy5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc3RhdHVzJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImV4cGVyaW1lbnRhbFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmV4cGVyaW1lbnRhbC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuZXhwZXJpbWVudGFsJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImRhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kYXRlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5kYXRlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInB1Ymxpc2hlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnB1Ymxpc2hlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucHVibGlzaGVyJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbnRhY3RcIl0pIHsgdGhpcy5jb250YWN0LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5jb250YWN0WyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRlc2NyaXB0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVzY3JpcHRpb24uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmRlc2NyaXB0aW9uJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInVzZUNvbnRleHRcIl0pIHsgdGhpcy51c2VDb250ZXh0LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC51c2VDb250ZXh0WyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImp1cmlzZGljdGlvblwiXSkgeyB0aGlzLmp1cmlzZGljdGlvbi5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuanVyaXNkaWN0aW9uWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImltbXV0YWJsZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmltbXV0YWJsZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuaW1tdXRhYmxlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInB1cnBvc2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wdXJwb3NlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5wdXJwb3NlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvcHlyaWdodFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvcHlyaWdodC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuY29weXJpZ2h0JykpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbXBvc2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb21wb3NlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5jb21wb3NlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImV4cGFuc2lvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmV4cGFuc2lvbi5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuZXhwYW5zaW9uJykpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=