// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: ValueSet
import * as fhir from '../fhir.js';
// @ts-ignore
import { FilterOperatorVsValidation } from '../fhirValueSets/FilterOperatorVsValidation.js';
// @ts-ignore
import { PublicationStatusVsValidation } from '../fhirValueSets/PublicationStatusVsValidation.js';
/**
 * Concepts have both a ```display``` and an array of ```designation```. The display is equivalent to a special designation with an implied ```designation.use``` of "primary code" and a language equal to the [Resource Language](resource.html#language).
 */
export class ValueSetComposeIncludeConceptDesignation extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetComposeIncludeConceptDesignation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['language'] !== undefined) {
            this.language = new fhir.FhirCode({ value: source.language }, options);
        }
        if (source['_language']) {
            if (this.language) {
                this.language.addExtendedProperties(source._language);
            }
            else {
                this.language = new fhir.FhirCode(source._language, options);
            }
        }
        if (source['use']) {
            this.use = new fhir.Coding(source.use, options);
        }
        if (source['value'] !== undefined) {
            this.value = new fhir.FhirString({ value: source.value }, options);
        }
        else {
            this.value = null;
        }
        if (source['_value']) {
            if (this.value) {
                this.value.addExtendedProperties(source._value);
            }
            else {
                this.value = new fhir.FhirString(source._value, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet.compose.include.concept.designation';
        }
        iss.push(...this.vOS('language', exp));
        iss.push(...this.vOS('use', exp));
        iss.push(...this.vRS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetComposeIncludeConceptDesignation._fts_dataType = 'ValueSetComposeIncludeConceptDesignation';
/**
 * The list of concepts is considered ordered, though the order might not have any particular significance. Typically, the order of an expansion follows that defined in the compose element.
 */
export class ValueSetComposeIncludeConcept extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetComposeIncludeConcept - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code'] !== undefined) {
            this.code = new fhir.FhirCode({ value: source.code }, options);
        }
        else {
            this.code = null;
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code, options);
            }
        }
        if (source['display'] !== undefined) {
            this.display = new fhir.FhirString({ value: source.display }, options);
        }
        if (source['_display']) {
            if (this.display) {
                this.display.addExtendedProperties(source._display);
            }
            else {
                this.display = new fhir.FhirString(source._display, options);
            }
        }
        if (source['designation']) {
            this.designation = source.designation.map((x) => new fhir.ValueSetComposeIncludeConceptDesignation(x, options));
        }
        else {
            this.designation = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet.compose.include.concept';
        }
        iss.push(...this.vRS('code', exp));
        iss.push(...this.vOS('display', exp));
        iss.push(...this.vOA('designation', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetComposeIncludeConcept._fts_dataType = 'ValueSetComposeIncludeConcept';
/**
 * Selecting codes by specifying filters based on properties is only possible where the underlying code system defines appropriate properties. Note that in some cases, the underlying code system defines the logical concepts but not the literal codes for the concepts. In such cases, the literal definitions may be provided by a third party.
 */
export class ValueSetComposeIncludeFilter extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetComposeIncludeFilter - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['property'] !== undefined) {
            this.property = new fhir.FhirCode({ value: source.property }, options);
        }
        else {
            this.property = null;
        }
        if (source['_property']) {
            if (this.property) {
                this.property.addExtendedProperties(source._property);
            }
            else {
                this.property = new fhir.FhirCode(source._property, options);
            }
        }
        if (source['op'] !== undefined) {
            this.op = new fhir.FhirCode({ value: source.op }, options);
        }
        else {
            this.op = null;
        }
        if (source['_op']) {
            if (this.op) {
                this.op.addExtendedProperties(source._op);
            }
            else {
                this.op = new fhir.FhirCode(source._op, options);
            }
        }
        if (source['value'] !== undefined) {
            this.value = new fhir.FhirString({ value: source.value }, options);
        }
        else {
            this.value = null;
        }
        if (source['_value']) {
            if (this.value) {
                this.value.addExtendedProperties(source._value);
            }
            else {
                this.value = new fhir.FhirString(source._value, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet.compose.include.filter';
        }
        iss.push(...this.vRS('property', exp));
        iss.push(...this.vRSV('op', exp, 'FilterOperator', FilterOperatorVsValidation, 'r'));
        iss.push(...this.vRS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetComposeIncludeFilter._fts_dataType = 'ValueSetComposeIncludeFilter';
/**
 * All the conditions in an include must be true. If a system is listed, all the codes from the system are listed. If one or more filters are listed, all of the filters must apply. If one or more value sets are listed, the codes must be in all the value sets. E.g. each include is 'include all the codes that meet all these conditions'.
 */
export class ValueSetComposeInclude extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetComposeInclude - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['system'] !== undefined) {
            this.system = new fhir.FhirUri({ value: source.system }, options);
        }
        if (source['_system']) {
            if (this.system) {
                this.system.addExtendedProperties(source._system);
            }
            else {
                this.system = new fhir.FhirUri(source._system, options);
            }
        }
        if (source['version'] !== undefined) {
            this.version = new fhir.FhirString({ value: source.version }, options);
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version, options);
            }
        }
        if (source['concept']) {
            this.concept = source.concept.map((x) => new fhir.ValueSetComposeIncludeConcept(x, options));
        }
        else {
            this.concept = [];
        }
        if (source['filter']) {
            this.filter = source.filter.map((x) => new fhir.ValueSetComposeIncludeFilter(x, options));
        }
        else {
            this.filter = [];
        }
        if (source['valueSet'] !== undefined) {
            this.valueSet = source.valueSet.map((x) => new fhir.FhirCanonical({ value: x }, options));
        }
        else {
            this.valueSet = [];
        }
        if (source['_valueSet']) {
            source._valueSet.forEach((x, i) => {
                if (this.valueSet.length >= i) {
                    if (x) {
                        this.valueSet[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.valueSet.push(new fhir.FhirCanonical(x));
                    }
                }
            });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet.compose.include';
        }
        iss.push(...this.vOS('system', exp));
        iss.push(...this.vOS('version', exp));
        iss.push(...this.vOA('concept', exp));
        iss.push(...this.vOA('filter', exp));
        iss.push(...this.vOA('valueSet', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetComposeInclude._fts_dataType = 'ValueSetComposeInclude';
/**
 * A set of criteria that define the contents of the value set by including or excluding codes selected from the specified code system(s) that the value set draws from. This is also known as the Content Logical Definition (CLD).
 */
export class ValueSetCompose extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetCompose - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['lockedDate'] !== undefined) {
            this.lockedDate = new fhir.FhirDate({ value: source.lockedDate }, options);
        }
        if (source['_lockedDate']) {
            if (this.lockedDate) {
                this.lockedDate.addExtendedProperties(source._lockedDate);
            }
            else {
                this.lockedDate = new fhir.FhirDate(source._lockedDate, options);
            }
        }
        if (source['inactive'] !== undefined) {
            this.inactive = new fhir.FhirBoolean({ value: source.inactive }, options);
        }
        if (source['_inactive']) {
            if (this.inactive) {
                this.inactive.addExtendedProperties(source._inactive);
            }
            else {
                this.inactive = new fhir.FhirBoolean(source._inactive, options);
            }
        }
        if (source['include']) {
            this.include = source.include.map((x) => new fhir.ValueSetComposeInclude(x, options));
        }
        else {
            this.include = [];
        }
        if (source['exclude']) {
            this.exclude = source.exclude.map((x) => new fhir.ValueSetComposeInclude(x, options));
        }
        else {
            this.exclude = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet.compose';
        }
        iss.push(...this.vOS('lockedDate', exp));
        iss.push(...this.vOS('inactive', exp));
        iss.push(...this.vRA('include', exp));
        iss.push(...this.vOA('exclude', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetCompose._fts_dataType = 'ValueSetCompose';
/**
 * The server decides which parameters to include here, but at a minimum, the list SHOULD include all of the parameters that affect the $expand operation. If the expansion will be persisted all of these parameters SHALL be included. If the codeSystem on the server has a specified version then this version SHALL be provided as a parameter in the expansion (note that not all code systems have a version).
 */
export class ValueSetExpansionParameter extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetExpansionParameter - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name'] !== undefined) {
            this.name = new fhir.FhirString({ value: source.name }, options);
        }
        else {
            this.name = null;
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name, options);
            }
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueString'] !== undefined) {
            this.value = new fhir.FhirString({ value: source.valueString }, options);
        }
        else if (source['valueBoolean'] !== undefined) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean }, options);
        }
        else if (source['valueInteger'] !== undefined) {
            this.value = new fhir.FhirInteger({ value: source.valueInteger }, options);
        }
        else if (source['valueDecimal'] !== undefined) {
            this.value = new fhir.FhirDecimal({ value: source.valueDecimal }, options);
        }
        else if (source['valueUri'] !== undefined) {
            this.value = new fhir.FhirUri({ value: source.valueUri }, options);
        }
        else if (source['valueCode'] !== undefined) {
            this.value = new fhir.FhirCode({ value: source.valueCode }, options);
        }
        else if (source['valueDateTime'] !== undefined) {
            this.value = new fhir.FhirDateTime({ value: source.valueDateTime }, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet.expansion.parameter';
        }
        iss.push(...this.vRS('name', exp));
        iss.push(...this.vOS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetExpansionParameter._fts_dataType = 'ValueSetExpansionParameter';
/**
 * Internal flag to properly serialize choice-type element ValueSet.expansion.parameter.value[x]
 */
ValueSetExpansionParameter._fts_valueIsChoice = true;
/**
 * The codes that are contained in the value set expansion.
 */
export class ValueSetExpansionContains extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetExpansionContains - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['system'] !== undefined) {
            this.system = new fhir.FhirUri({ value: source.system }, options);
        }
        if (source['_system']) {
            if (this.system) {
                this.system.addExtendedProperties(source._system);
            }
            else {
                this.system = new fhir.FhirUri(source._system, options);
            }
        }
        if (source['abstract'] !== undefined) {
            this.abstract = new fhir.FhirBoolean({ value: source.abstract }, options);
        }
        if (source['_abstract']) {
            if (this.abstract) {
                this.abstract.addExtendedProperties(source._abstract);
            }
            else {
                this.abstract = new fhir.FhirBoolean(source._abstract, options);
            }
        }
        if (source['inactive'] !== undefined) {
            this.inactive = new fhir.FhirBoolean({ value: source.inactive }, options);
        }
        if (source['_inactive']) {
            if (this.inactive) {
                this.inactive.addExtendedProperties(source._inactive);
            }
            else {
                this.inactive = new fhir.FhirBoolean(source._inactive, options);
            }
        }
        if (source['version'] !== undefined) {
            this.version = new fhir.FhirString({ value: source.version }, options);
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version, options);
            }
        }
        if (source['code'] !== undefined) {
            this.code = new fhir.FhirCode({ value: source.code }, options);
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code, options);
            }
        }
        if (source['display'] !== undefined) {
            this.display = new fhir.FhirString({ value: source.display }, options);
        }
        if (source['_display']) {
            if (this.display) {
                this.display.addExtendedProperties(source._display);
            }
            else {
                this.display = new fhir.FhirString(source._display, options);
            }
        }
        if (source['designation']) {
            this.designation = source.designation.map((x) => new fhir.ValueSetComposeIncludeConceptDesignation(x, options));
        }
        else {
            this.designation = [];
        }
        if (source['contains']) {
            this.contains = source.contains.map((x) => new fhir.ValueSetExpansionContains(x, options));
        }
        else {
            this.contains = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet.expansion.contains';
        }
        iss.push(...this.vOS('system', exp));
        iss.push(...this.vOS('abstract', exp));
        iss.push(...this.vOS('inactive', exp));
        iss.push(...this.vOS('version', exp));
        iss.push(...this.vOS('code', exp));
        iss.push(...this.vOS('display', exp));
        iss.push(...this.vOA('designation', exp));
        iss.push(...this.vOA('contains', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetExpansionContains._fts_dataType = 'ValueSetExpansionContains';
/**
 * Expansion is performed to produce a collection of codes that are ready to use for data entry or validation. Value set expansions are always considered to be stateless - they are a record of the set of codes in the value set at a point in time under a given set of conditions, and are not subject to ongoing maintenance.
 * Expansion.parameter is  a simplified list of parameters - a subset of the features of the [Parameters](parameters.html) resource.
 */
export class ValueSetExpansion extends fhir.BackboneElement {
    /**
     * Default constructor for ValueSetExpansion - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier'] !== undefined) {
            this.identifier = new fhir.FhirUri({ value: source.identifier }, options);
        }
        if (source['_identifier']) {
            if (this.identifier) {
                this.identifier.addExtendedProperties(source._identifier);
            }
            else {
                this.identifier = new fhir.FhirUri(source._identifier, options);
            }
        }
        if (source['timestamp'] !== undefined) {
            this.timestamp = new fhir.FhirDateTime({ value: source.timestamp }, options);
        }
        else {
            this.timestamp = null;
        }
        if (source['_timestamp']) {
            if (this.timestamp) {
                this.timestamp.addExtendedProperties(source._timestamp);
            }
            else {
                this.timestamp = new fhir.FhirDateTime(source._timestamp, options);
            }
        }
        if (source['total'] !== undefined) {
            this.total = new fhir.FhirInteger({ value: source.total }, options);
        }
        if (source['_total']) {
            if (this.total) {
                this.total.addExtendedProperties(source._total);
            }
            else {
                this.total = new fhir.FhirInteger(source._total, options);
            }
        }
        if (source['offset'] !== undefined) {
            this.offset = new fhir.FhirInteger({ value: source.offset }, options);
        }
        if (source['_offset']) {
            if (this.offset) {
                this.offset.addExtendedProperties(source._offset);
            }
            else {
                this.offset = new fhir.FhirInteger(source._offset, options);
            }
        }
        if (source['parameter']) {
            this.parameter = source.parameter.map((x) => new fhir.ValueSetExpansionParameter(x, options));
        }
        else {
            this.parameter = [];
        }
        if (source['contains']) {
            this.contains = source.contains.map((x) => new fhir.ValueSetExpansionContains(x, options));
        }
        else {
            this.contains = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet.expansion';
        }
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vRS('timestamp', exp));
        iss.push(...this.vOS('total', exp));
        iss.push(...this.vOS('offset', exp));
        iss.push(...this.vOA('parameter', exp));
        iss.push(...this.vOA('contains', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSetExpansion._fts_dataType = 'ValueSetExpansion';
/**
 * A ValueSet resource instance specifies a set of codes drawn from one or more code systems, intended for use in a particular context. Value sets link between [CodeSystem](codesystem.html) definitions and their use in [coded elements](terminologies.html).
 */
export class ValueSet extends fhir.DomainResource {
    /**
     * Default constructor for ValueSet - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ValueSet';
        if (source['url'] !== undefined) {
            this.url = new fhir.FhirUri({ value: source.url }, options);
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url, options);
            }
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['version'] !== undefined) {
            this.version = new fhir.FhirString({ value: source.version }, options);
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version, options);
            }
        }
        if (source['name'] !== undefined) {
            this.name = new fhir.FhirString({ value: source.name }, options);
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name, options);
            }
        }
        if (source['title'] !== undefined) {
            this.title = new fhir.FhirString({ value: source.title }, options);
        }
        if (source['_title']) {
            if (this.title) {
                this.title.addExtendedProperties(source._title);
            }
            else {
                this.title = new fhir.FhirString(source._title, options);
            }
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['experimental'] !== undefined) {
            this.experimental = new fhir.FhirBoolean({ value: source.experimental }, options);
        }
        if (source['_experimental']) {
            if (this.experimental) {
                this.experimental.addExtendedProperties(source._experimental);
            }
            else {
                this.experimental = new fhir.FhirBoolean(source._experimental, options);
            }
        }
        if (source['date'] !== undefined) {
            this.date = new fhir.FhirDateTime({ value: source.date }, options);
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date, options);
            }
        }
        if (source['publisher'] !== undefined) {
            this.publisher = new fhir.FhirString({ value: source.publisher }, options);
        }
        if (source['_publisher']) {
            if (this.publisher) {
                this.publisher.addExtendedProperties(source._publisher);
            }
            else {
                this.publisher = new fhir.FhirString(source._publisher, options);
            }
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactDetail(x, options));
        }
        else {
            this.contact = [];
        }
        if (source['description'] !== undefined) {
            this.description = new fhir.FhirMarkdown({ value: source.description }, options);
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description, options);
            }
        }
        if (source['useContext']) {
            this.useContext = source.useContext.map((x) => new fhir.UsageContext(x, options));
        }
        else {
            this.useContext = [];
        }
        if (source['jurisdiction']) {
            this.jurisdiction = source.jurisdiction.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.jurisdiction = [];
        }
        if (source['immutable'] !== undefined) {
            this.immutable = new fhir.FhirBoolean({ value: source.immutable }, options);
        }
        if (source['_immutable']) {
            if (this.immutable) {
                this.immutable.addExtendedProperties(source._immutable);
            }
            else {
                this.immutable = new fhir.FhirBoolean(source._immutable, options);
            }
        }
        if (source['purpose'] !== undefined) {
            this.purpose = new fhir.FhirMarkdown({ value: source.purpose }, options);
        }
        if (source['_purpose']) {
            if (this.purpose) {
                this.purpose.addExtendedProperties(source._purpose);
            }
            else {
                this.purpose = new fhir.FhirMarkdown(source._purpose, options);
            }
        }
        if (source['copyright'] !== undefined) {
            this.copyright = new fhir.FhirMarkdown({ value: source.copyright }, options);
        }
        if (source['_copyright']) {
            if (this.copyright) {
                this.copyright.addExtendedProperties(source._copyright);
            }
            else {
                this.copyright = new fhir.FhirMarkdown(source._copyright, options);
            }
        }
        if (source['compose']) {
            this.compose = new fhir.ValueSetCompose(source.compose, options);
        }
        if (source['expansion']) {
            this.expansion = new fhir.ValueSetExpansion(source.expansion, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ValueSet';
        }
        iss.push(...this.vOS('url', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('version', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vOS('title', exp));
        iss.push(...this.vRSV('status', exp, 'PublicationStatus', PublicationStatusVsValidation, 'r'));
        iss.push(...this.vOS('experimental', exp));
        iss.push(...this.vOS('date', exp));
        iss.push(...this.vOS('publisher', exp));
        iss.push(...this.vOA('contact', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOA('useContext', exp));
        iss.push(...this.vOA('jurisdiction', exp));
        iss.push(...this.vOS('immutable', exp));
        iss.push(...this.vOS('purpose', exp));
        iss.push(...this.vOS('copyright', exp));
        iss.push(...this.vOS('compose', exp));
        iss.push(...this.vOS('expansion', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ValueSet._fts_dataType = 'ValueSet';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmFsdWVTZXQuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL1ZhbHVlU2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDBCQUEwQjtBQUUxQixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQVluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFHNUYsYUFBYTtBQUNiLE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLG1EQUFtRCxDQUFDO0FBMkJsRzs7R0FFRztBQUNILE1BQU0sT0FBTyx3Q0FBeUMsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlCaEY7O09BRUc7SUFDSCxZQUFZLFNBQStELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3JILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFFBQVEsRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDL0csSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDdkIsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUFFLElBQUksQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFNBQVUsQ0FBQyxDQUFDO2FBQUU7aUJBQ3pFO2dCQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxTQUF1QyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDckc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxH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QzthQUFFO1NBQ2pHO1FBQ0QsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7U0FBRTthQUM5QyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUNwSCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUN2SCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUN2SCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUN2SCxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUMzRyxJQUFJLE1BQU0sQ0FBQyxX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QUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBMUxEOztHQUVHO0FBQzZCLHNCQUFhLEdBQVUsVUFBVSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBWYWx1ZVNldFxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGFuZ3VhZ2VzQ29kZXMsICBMYW5ndWFnZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGFuZ3VhZ2VzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExhbmd1YWdlc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGFuZ3VhZ2VzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEZXNpZ25hdGlvblVzZUNvZGVzLCAgRGVzaWduYXRpb25Vc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGVzaWduYXRpb25Vc2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGVzaWduYXRpb25Vc2VWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Rlc2lnbmF0aW9uVXNlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBGaWx0ZXJPcGVyYXRvckNvZGVzLCAgRmlsdGVyT3BlcmF0b3JDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRmlsdGVyT3BlcmF0b3JDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRmlsdGVyT3BlcmF0b3JWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ZpbHRlck9wZXJhdG9yVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c0NvZGVzLCAgUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEluIHRoZSBhYnNlbmNlIG9mIGEgbGFuZ3VhZ2UsIHRoZSByZXNvdXJjZSBsYW5ndWFnZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIGxhbmd1YWdlPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuY29uY2VwdC5kZXNpZ25hdGlvbi5sYW5ndWFnZVxyXG4gICAqL1xyXG4gIF9sYW5ndWFnZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWYgbm8gdXNlIGlzIHByb3ZpZGVkLCB0aGUgZGVzaWduYXRpb24gY2FuIGJlIGFzc3VtZWQgdG8gYmUgc3VpdGFibGUgZm9yIGdlbmVyYWwgZGlzcGxheSB0byBhIGh1bWFuIHVzZXIuXHJcbiAgICovXHJcbiAgdXNlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGV4dCB2YWx1ZSBmb3IgdGhpcyBkZXNpZ25hdGlvbi5cclxuICAgKi9cclxuICB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5jb25jZXB0LmRlc2lnbmF0aW9uLnZhbHVlXHJcbiAgICovXHJcbiAgX3ZhbHVlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbmNlcHRzIGhhdmUgYm90aCBhIGBgYGRpc3BsYXlgYGAgYW5kIGFuIGFycmF5IG9mIGBgYGRlc2lnbmF0aW9uYGBgLiBUaGUgZGlzcGxheSBpcyBlcXVpdmFsZW50IHRvIGEgc3BlY2lhbCBkZXNpZ25hdGlvbiB3aXRoIGFuIGltcGxpZWQgYGBgZGVzaWduYXRpb24udXNlYGBgIG9mIFwicHJpbWFyeSBjb2RlXCIgYW5kIGEgbGFuZ3VhZ2UgZXF1YWwgdG8gdGhlIFtSZXNvdXJjZSBMYW5ndWFnZV0ocmVzb3VyY2UuaHRtbCNsYW5ndWFnZSkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIEluIHRoZSBhYnNlbmNlIG9mIGEgbGFuZ3VhZ2UsIHRoZSByZXNvdXJjZSBsYW5ndWFnZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsYW5ndWFnZT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIG5vIHVzZSBpcyBwcm92aWRlZCwgdGhlIGRlc2lnbmF0aW9uIGNhbiBiZSBhc3N1bWVkIHRvIGJlIHN1aXRhYmxlIGZvciBnZW5lcmFsIGRpc3BsYXkgdG8gYSBodW1hbiB1c2VyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2U/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRleHQgdmFsdWUgZm9yIHRoaXMgZGVzaWduYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldENvbXBvc2VJbmNsdWRlQ29uY2VwdERlc2lnbmF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydsYW5ndWFnZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5sYW5ndWFnZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLmxhbmd1YWdlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19sYW5ndWFnZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmxhbmd1YWdlKSB7IHRoaXMubGFuZ3VhZ2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbGFuZ3VhZ2UhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5sYW5ndWFnZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fbGFuZ3VhZ2UgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd1c2UnXSkgeyB0aGlzLnVzZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudXNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZhbHVlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudmFsdWUpIHsgdGhpcy52YWx1ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92YWx1ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZhbHVlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmNvbmNlcHQuZGVzaWduYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdsYW5ndWFnZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndXNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd2YWx1ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBFeHByZXNzaW9ucyBhcmUgYWxsb3dlZCBpZiBkZWZpbmVkIGJ5IHRoZSB1bmRlcmx5aW5nIGNvZGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmNvbmNlcHQuY29kZVxyXG4gICAqL1xyXG4gIF9jb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgc2V0IHJlc291cmNlIGFsbG93cyBmb3IgYW4gYWx0ZXJuYXRpdmUgZGlzcGxheSB0byBiZSBzcGVjaWZpZWQgZm9yIHdoZW4gdGhpcyBjb25jZXB0IGlzIHVzZWQgaW4gdGhpcyBwYXJ0aWN1bGFyIHZhbHVlIHNldC4gU2VlIG5vdGVzIGluIHRoZSB2YWx1ZSBzZXQgbmFycmF0aXZlIGFib3V0IHRoZSBjb3JyZWN0IHVzZSBvZiB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuY29uY2VwdC5kaXNwbGF5XHJcbiAgICovXHJcbiAgX2Rpc3BsYXk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvbmNlcHRzIGhhdmUgYm90aCBhIGBgYGRpc3BsYXlgYGAgYW5kIGFuIGFycmF5IG9mIGBgYGRlc2lnbmF0aW9uYGBgLiBUaGUgZGlzcGxheSBpcyBlcXVpdmFsZW50IHRvIGEgc3BlY2lhbCBkZXNpZ25hdGlvbiB3aXRoIGFuIGltcGxpZWQgYGBgZGVzaWduYXRpb24udXNlYGBgIG9mIFwicHJpbWFyeSBjb2RlXCIgYW5kIGEgbGFuZ3VhZ2UgZXF1YWwgdG8gdGhlIFtSZXNvdXJjZSBMYW5ndWFnZV0ocmVzb3VyY2UuaHRtbCNsYW5ndWFnZSkuXHJcbiAgICovXHJcbiAgZGVzaWduYXRpb24/OiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpc3Qgb2YgY29uY2VwdHMgaXMgY29uc2lkZXJlZCBvcmRlcmVkLCB0aG91Z2ggdGhlIG9yZGVyIG1pZ2h0IG5vdCBoYXZlIGFueSBwYXJ0aWN1bGFyIHNpZ25pZmljYW5jZS4gVHlwaWNhbGx5LCB0aGUgb3JkZXIgb2YgYW4gZXhwYW5zaW9uIGZvbGxvd3MgdGhhdCBkZWZpbmVkIGluIHRoZSBjb21wb3NlIGVsZW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWYWx1ZVNldENvbXBvc2VJbmNsdWRlQ29uY2VwdCc7XHJcbiAgLyoqXHJcbiAgICogRXhwcmVzc2lvbnMgYXJlIGFsbG93ZWQgaWYgZGVmaW5lZCBieSB0aGUgdW5kZXJseWluZyBjb2RlIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5GaGlyQ29kZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBzZXQgcmVzb3VyY2UgYWxsb3dzIGZvciBhbiBhbHRlcm5hdGl2ZSBkaXNwbGF5IHRvIGJlIHNwZWNpZmllZCBmb3Igd2hlbiB0aGlzIGNvbmNlcHQgaXMgdXNlZCBpbiB0aGlzIHBhcnRpY3VsYXIgdmFsdWUgc2V0LiBTZWUgbm90ZXMgaW4gdGhlIHZhbHVlIHNldCBuYXJyYXRpdmUgYWJvdXQgdGhlIGNvcnJlY3QgdXNlIG9mIHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29uY2VwdHMgaGF2ZSBib3RoIGEgYGBgZGlzcGxheWBgYCBhbmQgYW4gYXJyYXkgb2YgYGBgZGVzaWduYXRpb25gYGAuIFRoZSBkaXNwbGF5IGlzIGVxdWl2YWxlbnQgdG8gYSBzcGVjaWFsIGRlc2lnbmF0aW9uIHdpdGggYW4gaW1wbGllZCBgYGBkZXNpZ25hdGlvbi51c2VgYGAgb2YgXCJwcmltYXJ5IGNvZGVcIiBhbmQgYSBsYW5ndWFnZSBlcXVhbCB0byB0aGUgW1Jlc291cmNlIExhbmd1YWdlXShyZXNvdXJjZS5odG1sI2xhbmd1YWdlKS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzaWduYXRpb246IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHREZXNpZ25hdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuY29kZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb2RlKSB7IHRoaXMuY29kZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb2RlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fY29kZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Rpc3BsYXknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGlzcGxheSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGlzcGxheX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGlzcGxheSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRpc3BsYXkpIHsgdGhpcy5kaXNwbGF5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rpc3BsYXkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kaXNwbGF5ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rpc3BsYXkgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2lnbmF0aW9uJ10pIHsgdGhpcy5kZXNpZ25hdGlvbiA9IHNvdXJjZS5kZXNpZ25hdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb24oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kZXNpZ25hdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmNvbmNlcHQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdjb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkaXNwbGF5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdkZXNpZ25hdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUZpbHRlciB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBWYWx1ZVNldENvbXBvc2VJbmNsdWRlRmlsdGVyQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgaWRlbnRpZmllcyBhIHByb3BlcnR5IG9yIGEgZmlsdGVyIGRlZmluZWQgaW4gdGhlIGNvZGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHByb3BlcnR5OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5maWx0ZXIucHJvcGVydHlcclxuICAgKi9cclxuICBfcHJvcGVydHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluIGNhc2UgZmlsdGVyLnByb3BlcnR5IHJlcHJlc2VudHMgYSBwcm9wZXJ0eSBvZiB0aGUgc3lzdGVtLCB0aGUgb3BlcmF0aW9uIGFwcGxpZXMgdG8gdGhlIHNlbGVjdGVkIHByb3BlcnR5LiBJbiBjYXNlIGZpbHRlci5wcm9wZXJ0eSByZXByZXNlbnRzIGEgZmlsdGVyIG9mIHRoZSBzeXN0ZW0sIHRoZSBvcGVyYXRpb24gU0hBTEwgbWF0Y2ggb25lIG9mIHRoZSBDb2RlU3lzdGVtLmZpbHRlci5vcGVyYXRvciB2YWx1ZXMuXHJcbiAgICovXHJcbiAgb3A6IGZoaXIuRmhpckNvZGU8RmlsdGVyT3BlcmF0b3JDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmZpbHRlci5vcFxyXG4gICAqL1xyXG4gIF9vcD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVXNlIHJlZ2V4IG1hdGNoaW5nIHdpdGggY2FyZSAtIGZ1bGwgcmVnZXggbWF0Y2hpbmcgb24gZXZlcnkgU05PTUVEIENUIHRlcm0gaXMgcHJvaGliaXRpdmUsIGZvciBleGFtcGxlLlxyXG4gICAqL1xyXG4gIHZhbHVlOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLmZpbHRlci52YWx1ZVxyXG4gICAqL1xyXG4gIF92YWx1ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZWxlY3RpbmcgY29kZXMgYnkgc3BlY2lmeWluZyBmaWx0ZXJzIGJhc2VkIG9uIHByb3BlcnRpZXMgaXMgb25seSBwb3NzaWJsZSB3aGVyZSB0aGUgdW5kZXJseWluZyBjb2RlIHN5c3RlbSBkZWZpbmVzIGFwcHJvcHJpYXRlIHByb3BlcnRpZXMuIE5vdGUgdGhhdCBpbiBzb21lIGNhc2VzLCB0aGUgdW5kZXJseWluZyBjb2RlIHN5c3RlbSBkZWZpbmVzIHRoZSBsb2dpY2FsIGNvbmNlcHRzIGJ1dCBub3QgdGhlIGxpdGVyYWwgY29kZXMgZm9yIHRoZSBjb25jZXB0cy4gSW4gc3VjaCBjYXNlcywgdGhlIGxpdGVyYWwgZGVmaW5pdGlvbnMgbWF5IGJlIHByb3ZpZGVkIGJ5IGEgdGhpcmQgcGFydHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmFsdWVTZXRDb21wb3NlSW5jbHVkZUZpbHRlciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZhbHVlU2V0Q29tcG9zZUluY2x1ZGVGaWx0ZXInO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSB0aGF0IGlkZW50aWZpZXMgYSBwcm9wZXJ0eSBvciBhIGZpbHRlciBkZWZpbmVkIGluIHRoZSBjb2RlIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvcGVydHk6IGZoaXIuRmhpckNvZGV8bnVsbDtcclxuICAvKipcclxuICAgKiBJbiBjYXNlIGZpbHRlci5wcm9wZXJ0eSByZXByZXNlbnRzIGEgcHJvcGVydHkgb2YgdGhlIHN5c3RlbSwgdGhlIG9wZXJhdGlvbiBhcHBsaWVzIHRvIHRoZSBzZWxlY3RlZCBwcm9wZXJ0eS4gSW4gY2FzZSBmaWx0ZXIucHJvcGVydHkgcmVwcmVzZW50cyBhIGZpbHRlciBvZiB0aGUgc3lzdGVtLCB0aGUgb3BlcmF0aW9uIFNIQUxMIG1hdGNoIG9uZSBvZiB0aGUgQ29kZVN5c3RlbS5maWx0ZXIub3BlcmF0b3IgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcDogZmhpci5GaGlyQ29kZTxGaWx0ZXJPcGVyYXRvckNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFVzZSByZWdleCBtYXRjaGluZyB3aXRoIGNhcmUgLSBmdWxsIHJlZ2V4IG1hdGNoaW5nIG9uIGV2ZXJ5IFNOT01FRCBDVCB0ZXJtIGlzIHByb2hpYml0aXZlLCBmb3IgZXhhbXBsZS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGVGaWx0ZXIgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWYWx1ZVNldENvbXBvc2VJbmNsdWRlRmlsdGVyQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3Byb3BlcnR5J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnByb3BlcnR5ID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UucHJvcGVydHl9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJvcGVydHknXSkge1xyXG4gICAgICBpZiAodGhpcy5wcm9wZXJ0eSkgeyB0aGlzLnByb3BlcnR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Byb3BlcnR5ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX3Byb3BlcnR5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3AnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMub3AgPSBuZXcgZmhpci5GaGlyQ29kZTxGaWx0ZXJPcGVyYXRvckNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5vcH0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vcCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19vcCddKSB7XHJcbiAgICAgIGlmICh0aGlzLm9wKSB7IHRoaXMub3AuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fb3AhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vcCA9IG5ldyBmaGlyLkZoaXJDb2RlPEZpbHRlck9wZXJhdG9yQ29kZVR5cGU+KHNvdXJjZS5fb3AgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52YWx1ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ192YWx1ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZhbHVlKSB7IHRoaXMudmFsdWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdmFsdWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl92YWx1ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1ZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS5maWx0ZXInIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdwcm9wZXJ0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ29wJyxleHAsJ0ZpbHRlck9wZXJhdG9yJyxGaWx0ZXJPcGVyYXRvclZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd2YWx1ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmFsdWVTZXRDb21wb3NlSW5jbHVkZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBWYWx1ZVNldENvbXBvc2VJbmNsdWRlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgYXJlIG5vIGNvZGVzIG9yIGZpbHRlcnMsIHRoZSBlbnRpcmUgY29kZSBzeXN0ZW0gaXMgaW5jbHVkZWQuIE5vdGUgdGhhdCB0aGUgc2V0IG9mIGNvZGVzIHRoYXQgYXJlIGluY2x1ZGVkIG1heSBjb250YWluIGFic3RyYWN0IGNvZGVzLiBTZWUgJydDb2Rpbmcuc3lzdGVtJycgZm9yIGZ1cnRoZXIgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgY29ycmVjdCB2YWx1ZSBmb3IgdGhlIHN5c3RlbSBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHN5c3RlbT86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5jb21wb3NlLmluY2x1ZGUuc3lzdGVtXHJcbiAgICovXHJcbiAgX3N5c3RlbT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyB1c2VkIHdoZW4gc2VsZWN0aW5nIHRoZSBkZXNjZW5kYW50cyBvZiBhIGNvbmNlcHQgLSB0aGV5IG1heSBjaGFuZ2UgYmV0d2VlbiB2ZXJzaW9ucy4gSWYgbm8gdmVyc2lvbiBpcyBzcGVjaWZpZWQsIHRoZW4gdGhlIGV4YWN0IGNvbnRlbnRzIG9mIHRoZSB2YWx1ZSBzZXQgbWlnaHQgbm90IGJlIGtub3duIHVudGlsIGEgY29udGV4dCBvZiB1c2UgYmluZHMgaXQgdG8gYSBwYXJ0aWN1bGFyIHZlcnNpb24uIFRoZSBzcGVjaWFsIHZhbHVlICcqJyBtZWFucyBhbGwgdmVyc2lvbnM7IEl0IGlzIGF0IHNlcnZlciBkaXNjcmV0aW9uIHJlZ2FyZGluZyBleHBhbnNpb25zIGFuZCB3aGljaCB2ZXJzaW9ucyBtdXN0IGJlIHN1cHBvcnRlZC5cclxuICAgKi9cclxuICB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZS52ZXJzaW9uXHJcbiAgICovXHJcbiAgX3ZlcnNpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsaXN0IG9mIGNvbmNlcHRzIGlzIGNvbnNpZGVyZWQgb3JkZXJlZCwgdGhvdWdoIHRoZSBvcmRlciBtaWdodCBub3QgaGF2ZSBhbnkgcGFydGljdWxhciBzaWduaWZpY2FuY2UuIFR5cGljYWxseSwgdGhlIG9yZGVyIG9mIGFuIGV4cGFuc2lvbiBmb2xsb3dzIHRoYXQgZGVmaW5lZCBpbiB0aGUgY29tcG9zZSBlbGVtZW50LlxyXG4gICAqL1xyXG4gIGNvbmNlcHQ/OiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTZWxlY3RpbmcgY29kZXMgYnkgc3BlY2lmeWluZyBmaWx0ZXJzIGJhc2VkIG9uIHByb3BlcnRpZXMgaXMgb25seSBwb3NzaWJsZSB3aGVyZSB0aGUgdW5kZXJseWluZyBjb2RlIHN5c3RlbSBkZWZpbmVzIGFwcHJvcHJpYXRlIHByb3BlcnRpZXMuIE5vdGUgdGhhdCBpbiBzb21lIGNhc2VzLCB0aGUgdW5kZXJseWluZyBjb2RlIHN5c3RlbSBkZWZpbmVzIHRoZSBsb2dpY2FsIGNvbmNlcHRzIGJ1dCBub3QgdGhlIGxpdGVyYWwgY29kZXMgZm9yIHRoZSBjb25jZXB0cy4gSW4gc3VjaCBjYXNlcywgdGhlIGxpdGVyYWwgZGVmaW5pdGlvbnMgbWF5IGJlIHByb3ZpZGVkIGJ5IGEgdGhpcmQgcGFydHkuXHJcbiAgICovXHJcbiAgZmlsdGVyPzogZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlRmlsdGVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgc2V0IFVSSSBpcyBlaXRoZXIgYSBsb2dpY2FsIHJlZmVyZW5jZSB0byBhIGRlZmluZWQgdmFsdWUgc2V0IHN1Y2ggYXMgYSBbU05PTUVEIENUIHJlZmVyZW5jZSBzZXRdKHNub21lZGN0Lmh0bWwjaW1wbGljaXQpLCBvciBhIGRpcmVjdCByZWZlcmVuY2UgdG8gYSB2YWx1ZSBzZXQgZGVmaW5pdGlvbiB1c2luZyBWYWx1ZVNldC51cmwuIFRoZSByZWZlcmVuY2UgbWlnaHQgbm90IHJlZmVyIHRvIGFuIGFjdHVhbCBGSElSIFZhbHVlU2V0IHJlc291cmNlOyBpbiB0aGlzIGNhc2UsIHdoYXRldmVyIGlzIHJlZmVycmVkIHRvIGlzIGFuIGltcGxpY2l0IGRlZmluaXRpb24gb2YgYSB2YWx1ZSBzZXQgdGhhdCBuZWVkcyB0byBiZSBjbGVhciBhYm91dCBob3cgdmVyc2lvbnMgYXJlIHJlc29sdmVkLlxyXG4gICAqL1xyXG4gIHZhbHVlU2V0PzogZmhpci5GaGlyQ2Fub25pY2FsW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5pbmNsdWRlLnZhbHVlU2V0XHJcbiAgICovXHJcbiAgX3ZhbHVlU2V0PzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFsbCB0aGUgY29uZGl0aW9ucyBpbiBhbiBpbmNsdWRlIG11c3QgYmUgdHJ1ZS4gSWYgYSBzeXN0ZW0gaXMgbGlzdGVkLCBhbGwgdGhlIGNvZGVzIGZyb20gdGhlIHN5c3RlbSBhcmUgbGlzdGVkLiBJZiBvbmUgb3IgbW9yZSBmaWx0ZXJzIGFyZSBsaXN0ZWQsIGFsbCBvZiB0aGUgZmlsdGVycyBtdXN0IGFwcGx5LiBJZiBvbmUgb3IgbW9yZSB2YWx1ZSBzZXRzIGFyZSBsaXN0ZWQsIHRoZSBjb2RlcyBtdXN0IGJlIGluIGFsbCB0aGUgdmFsdWUgc2V0cy4gRS5nLiBlYWNoIGluY2x1ZGUgaXMgJ2luY2x1ZGUgYWxsIHRoZSBjb2RlcyB0aGF0IG1lZXQgYWxsIHRoZXNlIGNvbmRpdGlvbnMnLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWYWx1ZVNldENvbXBvc2VJbmNsdWRlJztcclxuICAvKipcclxuICAgKiBJZiB0aGVyZSBhcmUgbm8gY29kZXMgb3IgZmlsdGVycywgdGhlIGVudGlyZSBjb2RlIHN5c3RlbSBpcyBpbmNsdWRlZC4gTm90ZSB0aGF0IHRoZSBzZXQgb2YgY29kZXMgdGhhdCBhcmUgaW5jbHVkZWQgbWF5IGNvbnRhaW4gYWJzdHJhY3QgY29kZXMuIFNlZSAnJ0NvZGluZy5zeXN0ZW0nJyBmb3IgZnVydGhlciBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBjb3JyZWN0IHZhbHVlIGZvciB0aGUgc3lzdGVtIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHN5c3RlbT86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyB1c2VkIHdoZW4gc2VsZWN0aW5nIHRoZSBkZXNjZW5kYW50cyBvZiBhIGNvbmNlcHQgLSB0aGV5IG1heSBjaGFuZ2UgYmV0d2VlbiB2ZXJzaW9ucy4gSWYgbm8gdmVyc2lvbiBpcyBzcGVjaWZpZWQsIHRoZW4gdGhlIGV4YWN0IGNvbnRlbnRzIG9mIHRoZSB2YWx1ZSBzZXQgbWlnaHQgbm90IGJlIGtub3duIHVudGlsIGEgY29udGV4dCBvZiB1c2UgYmluZHMgaXQgdG8gYSBwYXJ0aWN1bGFyIHZlcnNpb24uIFRoZSBzcGVjaWFsIHZhbHVlICcqJyBtZWFucyBhbGwgdmVyc2lvbnM7IEl0IGlzIGF0IHNlcnZlciBkaXNjcmV0aW9uIHJlZ2FyZGluZyBleHBhbnNpb25zIGFuZCB3aGljaCB2ZXJzaW9ucyBtdXN0IGJlIHN1cHBvcnRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxpc3Qgb2YgY29uY2VwdHMgaXMgY29uc2lkZXJlZCBvcmRlcmVkLCB0aG91Z2ggdGhlIG9yZGVyIG1pZ2h0IG5vdCBoYXZlIGFueSBwYXJ0aWN1bGFyIHNpZ25pZmljYW5jZS4gVHlwaWNhbGx5LCB0aGUgb3JkZXIgb2YgYW4gZXhwYW5zaW9uIGZvbGxvd3MgdGhhdCBkZWZpbmVkIGluIHRoZSBjb21wb3NlIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbmNlcHQ6IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBTZWxlY3RpbmcgY29kZXMgYnkgc3BlY2lmeWluZyBmaWx0ZXJzIGJhc2VkIG9uIHByb3BlcnRpZXMgaXMgb25seSBwb3NzaWJsZSB3aGVyZSB0aGUgdW5kZXJseWluZyBjb2RlIHN5c3RlbSBkZWZpbmVzIGFwcHJvcHJpYXRlIHByb3BlcnRpZXMuIE5vdGUgdGhhdCBpbiBzb21lIGNhc2VzLCB0aGUgdW5kZXJseWluZyBjb2RlIHN5c3RlbSBkZWZpbmVzIHRoZSBsb2dpY2FsIGNvbmNlcHRzIGJ1dCBub3QgdGhlIGxpdGVyYWwgY29kZXMgZm9yIHRoZSBjb25jZXB0cy4gSW4gc3VjaCBjYXNlcywgdGhlIGxpdGVyYWwgZGVmaW5pdGlvbnMgbWF5IGJlIHByb3ZpZGVkIGJ5IGEgdGhpcmQgcGFydHkuXHJcbiAgICovXHJcbiAgcHVibGljIGZpbHRlcjogZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlRmlsdGVyW107XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIHNldCBVUkkgaXMgZWl0aGVyIGEgbG9naWNhbCByZWZlcmVuY2UgdG8gYSBkZWZpbmVkIHZhbHVlIHNldCBzdWNoIGFzIGEgW1NOT01FRCBDVCByZWZlcmVuY2Ugc2V0XShzbm9tZWRjdC5odG1sI2ltcGxpY2l0KSwgb3IgYSBkaXJlY3QgcmVmZXJlbmNlIHRvIGEgdmFsdWUgc2V0IGRlZmluaXRpb24gdXNpbmcgVmFsdWVTZXQudXJsLiBUaGUgcmVmZXJlbmNlIG1pZ2h0IG5vdCByZWZlciB0byBhbiBhY3R1YWwgRkhJUiBWYWx1ZVNldCByZXNvdXJjZTsgaW4gdGhpcyBjYXNlLCB3aGF0ZXZlciBpcyByZWZlcnJlZCB0byBpcyBhbiBpbXBsaWNpdCBkZWZpbml0aW9uIG9mIGEgdmFsdWUgc2V0IHRoYXQgbmVlZHMgdG8gYmUgY2xlYXIgYWJvdXQgaG93IHZlcnNpb25zIGFyZSByZXNvbHZlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWVTZXQ6IGZoaXIuRmhpckNhbm9uaWNhbFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZhbHVlU2V0Q29tcG9zZUluY2x1ZGUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWYWx1ZVNldENvbXBvc2VJbmNsdWRlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3N5c3RlbSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zeXN0ZW0gPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLnN5c3RlbX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3lzdGVtJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3lzdGVtKSB7IHRoaXMuc3lzdGVtLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N5c3RlbSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN5c3RlbSA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl9zeXN0ZW0gYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcnNpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcnNpb24pIHsgdGhpcy52ZXJzaW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcnNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZlcnNpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbmNlcHQnXSkgeyB0aGlzLmNvbmNlcHQgPSBzb3VyY2UuY29uY2VwdC5tYXAoKHgpID0+IG5ldyBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29uY2VwdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmaWx0ZXInXSkgeyB0aGlzLmZpbHRlciA9IHNvdXJjZS5maWx0ZXIubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlRmlsdGVyKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZmlsdGVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlU2V0J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZhbHVlU2V0ID0gc291cmNlLnZhbHVlU2V0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHh9LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlU2V0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ192YWx1ZVNldCddKSB7XHJcbiAgICAgIHNvdXJjZS5fdmFsdWVTZXQuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmFsdWVTZXQubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy52YWx1ZVNldFtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnZhbHVlU2V0LnB1c2gobmV3IGZoaXIuRmhpckNhbm9uaWNhbCh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ2Fub25pY2FsQXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1ZhbHVlU2V0LmNvbXBvc2UuaW5jbHVkZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3N5c3RlbScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndmVyc2lvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY29uY2VwdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZmlsdGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd2YWx1ZVNldCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmFsdWVTZXRDb21wb3NlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlU2V0Q29tcG9zZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFdpdGggYSBkZWZpbmVkIGxvY2tlZERhdGUgdGhlIHZhbHVlIHNldCBpcyBjb25zaWRlcmVkIFwiTG9ja2VkXCIuIE90aGVyd2lzZSwgdGhlIHZhbHVlIHNldCBtYXkgaGF2ZSBkaWZmZXJlbnQgZXhwYW5zaW9ucyBhcyB1bmRlcmx5aW5nIGNvZGUgc3lzdGVtcyBhbmQvb3IgdmFsdWUgc2V0cyBldm9sdmUuICBUaGUgaW50ZXJwcmV0YXRpb24gb2YgbG9ja2VkRGF0ZSBpcyBvZnRlbiBkZXBlbmRlbnQgb24gdGhlIGNvbnRleHQgLSBlLmcuIGEgU05PTUVEIENUIGRlcml2ZWQgdmFsdWUgc2V0IHdpdGggYSBsb2NrZWREYXRlIHdpbGwgaGF2ZSBhIGRpZmZlcmVudCBleHBhbnNpb24gaW4gVVNBIHRoYW4gaW4gVUsuICBJZiBhIHZhbHVlIHNldCBzcGVjaWZpZXMgYSB2ZXJzaW9uIGZvciBpbmNsdWRlIGFuZCBleGNsdWRlIHN0YXRlbWVudHMsIGFuZCBhbHNvIHNwZWNpZmllcyBhIGxvY2tlZCBkYXRlLCB0aGUgc3BlY2lmaWVkIHZlcnNpb25zIG5lZWQgdG8gYmUgYXZhaWxhYmxlIHRoYXQgZGF0ZSwgb3IgdGhlIHZhbHVlIHNldCB3aWxsIG5vdCBiZSB1c2FibGUuXHJcbiAgICovXHJcbiAgbG9ja2VkRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuY29tcG9zZS5sb2NrZWREYXRlXHJcbiAgICovXHJcbiAgX2xvY2tlZERhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCBpbiB0aGUgRkhJUiB0ZXJtaW5vbG9neSBmcmFtZXdvcmssIFwiZGVwcmVjYXRlZFwiIGRvZXMgbm90IG1lYW4gaW5hY3RpdmUsIGJ1dCBpbiBzb21lIGNvZGUgc3lzdGVtcywgZS5nLiBMT0lOQywgXCJkZXByZWNhdGVkXCIgZG9lcyBtZWFuIGluYWN0aXZlLiBDb2RlIHN5c3RlbXMgc2hvdWxkIGRlZmluZSB3aGF0IGNvZGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIGluYWN0aXZlLiBJZiB0aGlzIGlzIG5vdCBjbGVhcmx5IGRlZmluZWQgKGluY2x1ZGluZyBpbiB0aGUgRkhJUiBjb2RlIHN5c3RlbSByZXNvdXJjZSksIHRoZW4gYWxsIGNvZGVzIGFyZSBhc3N1bWVkIHRvIGJlIGFjdGl2ZS5cclxuICAgKiBUaGUgVmFsdWUgU2V0IERlZmluaXRpb24gc3BlY2lmaWNhdGlvbiBkZWZpbmVzIGFuIEFjdGl2ZU9ubHkgZWxlbWVudCwgd2hpY2ggaXMgdGhlIHJldmVyc2Ugb2YgdGhpcyBlbGVtZW50IGUuZy4gKFZhbHVlU2V0LmNvbXBvc2UuaW5hY3RpdmU9RkFMU0UpIGlzIHRoZSBzYW1lIGFzIChWU0QuQWN0aXZlT25seT1UUlVFKS5cclxuICAgKi9cclxuICBpbmFjdGl2ZT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmNvbXBvc2UuaW5hY3RpdmVcclxuICAgKi9cclxuICBfaW5hY3RpdmU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFsbCB0aGUgY29uZGl0aW9ucyBpbiBhbiBpbmNsdWRlIG11c3QgYmUgdHJ1ZS4gSWYgYSBzeXN0ZW0gaXMgbGlzdGVkLCBhbGwgdGhlIGNvZGVzIGZyb20gdGhlIHN5c3RlbSBhcmUgbGlzdGVkLiBJZiBvbmUgb3IgbW9yZSBmaWx0ZXJzIGFyZSBsaXN0ZWQsIGFsbCBvZiB0aGUgZmlsdGVycyBtdXN0IGFwcGx5LiBJZiBvbmUgb3IgbW9yZSB2YWx1ZSBzZXRzIGFyZSBsaXN0ZWQsIHRoZSBjb2RlcyBtdXN0IGJlIGluIGFsbCB0aGUgdmFsdWUgc2V0cy4gRS5nLiBlYWNoIGluY2x1ZGUgaXMgJ2luY2x1ZGUgYWxsIHRoZSBjb2RlcyB0aGF0IG1lZXQgYWxsIHRoZXNlIGNvbmRpdGlvbnMnLlxyXG4gICAqL1xyXG4gIGluY2x1ZGU6IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZUFyZ3NbXXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgdGhpcyBpcyB1c2VkIHRvIHNlbGVjdGl2ZWx5IGV4Y2x1ZGUgY29kZXMgdGhhdCB3ZXJlIGluY2x1ZGVkIGJ5IHN1YnN1bXB0aW9uIGluIHRoZSBpbmNsdXNpb25zLiBBbnkgZGlzcGxheSBuYW1lcyBzcGVjaWZpZWQgZm9yIHRoZSBjb2RlcyBhcmUgaWdub3JlZC5cclxuICAgKi9cclxuICBleGNsdWRlPzogZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc2V0IG9mIGNyaXRlcmlhIHRoYXQgZGVmaW5lIHRoZSBjb250ZW50cyBvZiB0aGUgdmFsdWUgc2V0IGJ5IGluY2x1ZGluZyBvciBleGNsdWRpbmcgY29kZXMgc2VsZWN0ZWQgZnJvbSB0aGUgc3BlY2lmaWVkIGNvZGUgc3lzdGVtKHMpIHRoYXQgdGhlIHZhbHVlIHNldCBkcmF3cyBmcm9tLiBUaGlzIGlzIGFsc28ga25vd24gYXMgdGhlIENvbnRlbnQgTG9naWNhbCBEZWZpbml0aW9uIChDTEQpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZhbHVlU2V0Q29tcG9zZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZhbHVlU2V0Q29tcG9zZSc7XHJcbiAgLyoqXHJcbiAgICogV2l0aCBhIGRlZmluZWQgbG9ja2VkRGF0ZSB0aGUgdmFsdWUgc2V0IGlzIGNvbnNpZGVyZWQgXCJMb2NrZWRcIi4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgc2V0IG1heSBoYXZlIGRpZmZlcmVudCBleHBhbnNpb25zIGFzIHVuZGVybHlpbmcgY29kZSBzeXN0ZW1zIGFuZC9vciB2YWx1ZSBzZXRzIGV2b2x2ZS4gIFRoZSBpbnRlcnByZXRhdGlvbiBvZiBsb2NrZWREYXRlIGlzIG9mdGVuIGRlcGVuZGVudCBvbiB0aGUgY29udGV4dCAtIGUuZy4gYSBTTk9NRUQgQ1QgZGVyaXZlZCB2YWx1ZSBzZXQgd2l0aCBhIGxvY2tlZERhdGUgd2lsbCBoYXZlIGEgZGlmZmVyZW50IGV4cGFuc2lvbiBpbiBVU0EgdGhhbiBpbiBVSy4gIElmIGEgdmFsdWUgc2V0IHNwZWNpZmllcyBhIHZlcnNpb24gZm9yIGluY2x1ZGUgYW5kIGV4Y2x1ZGUgc3RhdGVtZW50cywgYW5kIGFsc28gc3BlY2lmaWVzIGEgbG9ja2VkIGRhdGUsIHRoZSBzcGVjaWZpZWQgdmVyc2lvbnMgbmVlZCB0byBiZSBhdmFpbGFibGUgdGhhdCBkYXRlLCBvciB0aGUgdmFsdWUgc2V0IHdpbGwgbm90IGJlIHVzYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgbG9ja2VkRGF0ZT86IGZoaXIuRmhpckRhdGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCBpbiB0aGUgRkhJUiB0ZXJtaW5vbG9neSBmcmFtZXdvcmssIFwiZGVwcmVjYXRlZFwiIGRvZXMgbm90IG1lYW4gaW5hY3RpdmUsIGJ1dCBpbiBzb21lIGNvZGUgc3lzdGVtcywgZS5nLiBMT0lOQywgXCJkZXByZWNhdGVkXCIgZG9lcyBtZWFuIGluYWN0aXZlLiBDb2RlIHN5c3RlbXMgc2hvdWxkIGRlZmluZSB3aGF0IGNvZGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIGluYWN0aXZlLiBJZiB0aGlzIGlzIG5vdCBjbGVhcmx5IGRlZmluZWQgKGluY2x1ZGluZyBpbiB0aGUgRkhJUiBjb2RlIHN5c3RlbSByZXNvdXJjZSksIHRoZW4gYWxsIGNvZGVzIGFyZSBhc3N1bWVkIHRvIGJlIGFjdGl2ZS5cclxuICAgKiBUaGUgVmFsdWUgU2V0IERlZmluaXRpb24gc3BlY2lmaWNhdGlvbiBkZWZpbmVzIGFuIEFjdGl2ZU9ubHkgZWxlbWVudCwgd2hpY2ggaXMgdGhlIHJldmVyc2Ugb2YgdGhpcyBlbGVtZW50IGUuZy4gKFZhbHVlU2V0LmNvbXBvc2UuaW5hY3RpdmU9RkFMU0UpIGlzIHRoZSBzYW1lIGFzIChWU0QuQWN0aXZlT25seT1UUlVFKS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5hY3RpdmU/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGwgdGhlIGNvbmRpdGlvbnMgaW4gYW4gaW5jbHVkZSBtdXN0IGJlIHRydWUuIElmIGEgc3lzdGVtIGlzIGxpc3RlZCwgYWxsIHRoZSBjb2RlcyBmcm9tIHRoZSBzeXN0ZW0gYXJlIGxpc3RlZC4gSWYgb25lIG9yIG1vcmUgZmlsdGVycyBhcmUgbGlzdGVkLCBhbGwgb2YgdGhlIGZpbHRlcnMgbXVzdCBhcHBseS4gSWYgb25lIG9yIG1vcmUgdmFsdWUgc2V0cyBhcmUgbGlzdGVkLCB0aGUgY29kZXMgbXVzdCBiZSBpbiBhbGwgdGhlIHZhbHVlIHNldHMuIEUuZy4gZWFjaCBpbmNsdWRlIGlzICdpbmNsdWRlIGFsbCB0aGUgY29kZXMgdGhhdCBtZWV0IGFsbCB0aGVzZSBjb25kaXRpb25zJy5cclxuICAgKi9cclxuICBwdWJsaWMgaW5jbHVkZTogZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlW107XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSB0aGlzIGlzIHVzZWQgdG8gc2VsZWN0aXZlbHkgZXhjbHVkZSBjb2RlcyB0aGF0IHdlcmUgaW5jbHVkZWQgYnkgc3Vic3VtcHRpb24gaW4gdGhlIGluY2x1c2lvbnMuIEFueSBkaXNwbGF5IG5hbWVzIHNwZWNpZmllZCBmb3IgdGhlIGNvZGVzIGFyZSBpZ25vcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleGNsdWRlOiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldENvbXBvc2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWYWx1ZVNldENvbXBvc2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbG9ja2VkRGF0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5sb2NrZWREYXRlID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UubG9ja2VkRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfbG9ja2VkRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmxvY2tlZERhdGUpIHsgdGhpcy5sb2NrZWREYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2xvY2tlZERhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5sb2NrZWREYXRlID0gbmV3IGZoaXIuRmhpckRhdGUoc291cmNlLl9sb2NrZWREYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5hY3RpdmUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuaW5hY3RpdmUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5pbmFjdGl2ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW5hY3RpdmUnXSkge1xyXG4gICAgICBpZiAodGhpcy5pbmFjdGl2ZSkgeyB0aGlzLmluYWN0aXZlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2luYWN0aXZlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaW5hY3RpdmUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2luYWN0aXZlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5jbHVkZSddKSB7IHRoaXMuaW5jbHVkZSA9IHNvdXJjZS5pbmNsdWRlLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluY2x1ZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhjbHVkZSddKSB7IHRoaXMuZXhjbHVkZSA9IHNvdXJjZS5leGNsdWRlLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmFsdWVTZXRDb21wb3NlSW5jbHVkZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmV4Y2x1ZGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1ZhbHVlU2V0LmNvbXBvc2UnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdsb2NrZWREYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbmFjdGl2ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSQSgnaW5jbHVkZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZXhjbHVkZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmFsdWVTZXRFeHBhbnNpb25QYXJhbWV0ZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVTZXRFeHBhbnNpb25QYXJhbWV0ZXJBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZXMgYXJlIGFzc2lnbmVkIGF0IHRoZSBkaXNjcmV0aW9uIG9mIHRoZSBzZXJ2ZXIuXHJcbiAgICovXHJcbiAgbmFtZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmV4cGFuc2lvbi5wYXJhbWV0ZXIubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIHBhcmFtZXRlci5cclxuICAgKi9cclxuICB2YWx1ZT86IGZoaXIuRmhpclN0cmluZ3xmaGlyLkZoaXJCb29sZWFufGZoaXIuRmhpckludGVnZXJ8Zmhpci5GaGlyRGVjaW1hbHxmaGlyLkZoaXJVcml8Zmhpci5GaGlyQ29kZXxmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgdmFsdWVTdHJpbmc/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIHBhcmFtZXRlci5cclxuICAgKi9cclxuICB2YWx1ZUJvb2xlYW4/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyLlxyXG4gICAqL1xyXG4gIHZhbHVlSW50ZWdlcj86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIHBhcmFtZXRlci5cclxuICAgKi9cclxuICB2YWx1ZURlY2ltYWw/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgdmFsdWVVcmk/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIHBhcmFtZXRlci5cclxuICAgKi9cclxuICB2YWx1ZUNvZGU/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgdmFsdWVEYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgc2VydmVyIGRlY2lkZXMgd2hpY2ggcGFyYW1ldGVycyB0byBpbmNsdWRlIGhlcmUsIGJ1dCBhdCBhIG1pbmltdW0sIHRoZSBsaXN0IFNIT1VMRCBpbmNsdWRlIGFsbCBvZiB0aGUgcGFyYW1ldGVycyB0aGF0IGFmZmVjdCB0aGUgJGV4cGFuZCBvcGVyYXRpb24uIElmIHRoZSBleHBhbnNpb24gd2lsbCBiZSBwZXJzaXN0ZWQgYWxsIG9mIHRoZXNlIHBhcmFtZXRlcnMgU0hBTEwgYmUgaW5jbHVkZWQuIElmIHRoZSBjb2RlU3lzdGVtIG9uIHRoZSBzZXJ2ZXIgaGFzIGEgc3BlY2lmaWVkIHZlcnNpb24gdGhlbiB0aGlzIHZlcnNpb24gU0hBTEwgYmUgcHJvdmlkZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlIGV4cGFuc2lvbiAobm90ZSB0aGF0IG5vdCBhbGwgY29kZSBzeXN0ZW1zIGhhdmUgYSB2ZXJzaW9uKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWYWx1ZVNldEV4cGFuc2lvblBhcmFtZXRlciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZhbHVlU2V0RXhwYW5zaW9uUGFyYW1ldGVyJztcclxuICAvKipcclxuICAgKiBUaGUgbmFtZXMgYXJlIGFzc2lnbmVkIGF0IHRoZSBkaXNjcmV0aW9uIG9mIHRoZSBzZXJ2ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZT86IChmaGlyLkZoaXJTdHJpbmd8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJJbnRlZ2VyfGZoaXIuRmhpckRlY2ltYWx8Zmhpci5GaGlyVXJpfGZoaXIuRmhpckNvZGV8Zmhpci5GaGlyRGF0ZVRpbWUpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IFZhbHVlU2V0LmV4cGFuc2lvbi5wYXJhbWV0ZXIudmFsdWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdmFsdWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldEV4cGFuc2lvblBhcmFtZXRlciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZhbHVlU2V0RXhwYW5zaW9uUGFyYW1ldGVyQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5uYW1lID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBzb3VyY2UudmFsdWU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVTdHJpbmcnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlU3RyaW5nfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVCb29sZWFuJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UudmFsdWVCb29sZWFufSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVJbnRlZ2VyJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UudmFsdWVJbnRlZ2VyfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVEZWNpbWFsJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UudmFsdWVEZWNpbWFsfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVVcmknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLnZhbHVlVXJpfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVDb2RlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UudmFsdWVDb2RlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVEYXRlVGltZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS52YWx1ZURhdGVUaW1lfSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdWYWx1ZVNldC5leHBhbnNpb24ucGFyYW1ldGVyJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnbmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndmFsdWUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnMgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVTZXRFeHBhbnNpb25Db250YWluc0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIFVSSSB3aGljaCBpcyB0aGUgY29kZSBzeXN0ZW0gaW4gd2hpY2ggdGhlIGNvZGUgZm9yIHRoaXMgaXRlbSBpbiB0aGUgZXhwYW5zaW9uIGlzIGRlZmluZWQuXHJcbiAgICovXHJcbiAgc3lzdGVtPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmV4cGFuc2lvbi5jb250YWlucy5zeXN0ZW1cclxuICAgKi9cclxuICBfc3lzdGVtPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIHNob3VsZCBub3QgYmUgdW5kZXJzdG9vZCB0byBleGNsdWRlIGl0cyB1c2UgZm9yIHNlYXJjaGluZyAoZS5nLiBieSBzdWJzdW1wdGlvbiB0ZXN0aW5nKS4gVGhlIGNsaWVudCBzaG91bGQga25vdyB3aGV0aGVyIGl0IGlzIGFwcHJvcHJpYXRlIGZvciB0aGUgdXNlciB0byBzZWxlY3QgYW4gYWJzdHJhY3QgY29kZSBvciBub3QuXHJcbiAgICovXHJcbiAgYWJzdHJhY3Q/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24uY29udGFpbnMuYWJzdHJhY3RcclxuICAgKi9cclxuICBfYWJzdHJhY3Q/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgaGF2ZSBhIHZhbHVlIGlmIHRoZSBjb25jZXB0IGlzIGluYWN0aXZlLlxyXG4gICAqL1xyXG4gIGluYWN0aXZlPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZXhwYW5zaW9uLmNvbnRhaW5zLmluYWN0aXZlXHJcbiAgICovXHJcbiAgX2luYWN0aXZlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgZXhhY3QgdmFsdWUgb2YgdGhlIHZlcnNpb24gc3RyaW5nIGlzIHNwZWNpZmllZCBieSB0aGUgc3lzdGVtIGZyb20gd2hpY2ggdGhlIGNvZGUgaXMgZGVyaXZlZC5cclxuICAgKi9cclxuICB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmV4cGFuc2lvbi5jb250YWlucy52ZXJzaW9uXHJcbiAgICovXHJcbiAgX3ZlcnNpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlIGZvciB0aGlzIGl0ZW0gaW4gdGhlIGV4cGFuc2lvbiBoaWVyYXJjaHkuIElmIHRoaXMgY29kZSBpcyBtaXNzaW5nIHRoZSBlbnRyeSBpbiB0aGUgaGllcmFyY2h5IGlzIGEgcGxhY2UgaG9sZGVyIChhYnN0cmFjdCkgYW5kIGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbGlkIGNvZGUgaW4gdGhlIHZhbHVlIHNldC5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24uY29udGFpbnMuY29kZVxyXG4gICAqL1xyXG4gIF9jb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcmVjb21tZW5kZWQgZGlzcGxheSBmb3IgdGhpcyBpdGVtIGluIHRoZSBleHBhbnNpb24uXHJcbiAgICovXHJcbiAgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24uY29udGFpbnMuZGlzcGxheVxyXG4gICAqL1xyXG4gIF9kaXNwbGF5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgZGVzaWduYXRpb25zIHByb3ZpZGVkIG11c3QgYmUgYmFzZWQgb24gdGhlIHZhbHVlIHNldCBhbmQgY29kZSBzeXN0ZW0gZGVmaW5pdGlvbnMuXHJcbiAgICovXHJcbiAgZGVzaWduYXRpb24/OiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBleHBhbnNpb24gdXNlcyB0aGlzIGVsZW1lbnQsIHRoZXJlIGlzICBubyBpbXBsaWNhdGlvbiBhYm91dCB0aGUgbG9naWNhbCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGVtLCBhbmQgdGhlICBzdHJ1Y3R1cmUgY2Fubm90IGJlIHVzZWQgZm9yIGxvZ2ljYWwgaW5mZXJlbmNpbmcuIFRoZSBzdHJ1Y3R1cmUgIGV4aXN0cyB0byBwcm92aWRlIG5hdmlnYXRpb25hbCBhc3Npc3RhbmNlIGZvciBoZWxwaW5nIGh1bWFuIHVzZXJzIHRvICBsb2NhdGUgY29kZXMgaW4gdGhlIGV4cGFuc2lvbi5cclxuICAgKi9cclxuICBjb250YWlucz86IGZoaXIuVmFsdWVTZXRFeHBhbnNpb25Db250YWluc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgY29kZXMgdGhhdCBhcmUgY29udGFpbmVkIGluIHRoZSB2YWx1ZSBzZXQgZXhwYW5zaW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnMgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWYWx1ZVNldEV4cGFuc2lvbkNvbnRhaW5zJztcclxuICAvKipcclxuICAgKiBBbiBhYnNvbHV0ZSBVUkkgd2hpY2ggaXMgdGhlIGNvZGUgc3lzdGVtIGluIHdoaWNoIHRoZSBjb2RlIGZvciB0aGlzIGl0ZW0gaW4gdGhlIGV4cGFuc2lvbiBpcyBkZWZpbmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzeXN0ZW0/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgc2hvdWxkIG5vdCBiZSB1bmRlcnN0b29kIHRvIGV4Y2x1ZGUgaXRzIHVzZSBmb3Igc2VhcmNoaW5nIChlLmcuIGJ5IHN1YnN1bXB0aW9uIHRlc3RpbmcpLiBUaGUgY2xpZW50IHNob3VsZCBrbm93IHdoZXRoZXIgaXQgaXMgYXBwcm9wcmlhdGUgZm9yIHRoZSB1c2VyIHRvIHNlbGVjdCBhbiBhYnN0cmFjdCBjb2RlIG9yIG5vdC5cclxuICAgKi9cclxuICBwdWJsaWMgYWJzdHJhY3Q/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGhhdmUgYSB2YWx1ZSBpZiB0aGUgY29uY2VwdCBpcyBpbmFjdGl2ZS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5hY3RpdmU/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZXhhY3QgdmFsdWUgb2YgdGhlIHZlcnNpb24gc3RyaW5nIGlzIHNwZWNpZmllZCBieSB0aGUgc3lzdGVtIGZyb20gd2hpY2ggdGhlIGNvZGUgaXMgZGVyaXZlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGUgZm9yIHRoaXMgaXRlbSBpbiB0aGUgZXhwYW5zaW9uIGhpZXJhcmNoeS4gSWYgdGhpcyBjb2RlIGlzIG1pc3NpbmcgdGhlIGVudHJ5IGluIHRoZSBoaWVyYXJjaHkgaXMgYSBwbGFjZSBob2xkZXIgKGFic3RyYWN0KSBhbmQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsaWQgY29kZSBpbiB0aGUgdmFsdWUgc2V0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29tbWVuZGVkIGRpc3BsYXkgZm9yIHRoaXMgaXRlbSBpbiB0aGUgZXhwYW5zaW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaXNwbGF5PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGVzaWduYXRpb25zIHByb3ZpZGVkIG11c3QgYmUgYmFzZWQgb24gdGhlIHZhbHVlIHNldCBhbmQgY29kZSBzeXN0ZW0gZGVmaW5pdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2lnbmF0aW9uOiBmaGlyLlZhbHVlU2V0Q29tcG9zZUluY2x1ZGVDb25jZXB0RGVzaWduYXRpb25bXTtcclxuICAvKipcclxuICAgKiBJZiB0aGUgZXhwYW5zaW9uIHVzZXMgdGhpcyBlbGVtZW50LCB0aGVyZSBpcyAgbm8gaW1wbGljYXRpb24gYWJvdXQgdGhlIGxvZ2ljYWwgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlbSwgYW5kIHRoZSAgc3RydWN0dXJlIGNhbm5vdCBiZSB1c2VkIGZvciBsb2dpY2FsIGluZmVyZW5jaW5nLiBUaGUgc3RydWN0dXJlICBleGlzdHMgdG8gcHJvdmlkZSBuYXZpZ2F0aW9uYWwgYXNzaXN0YW5jZSBmb3IgaGVscGluZyBodW1hbiB1c2VycyB0byAgbG9jYXRlIGNvZGVzIGluIHRoZSBleHBhbnNpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhaW5zOiBmaGlyLlZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnNbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldEV4cGFuc2lvbkNvbnRhaW5zIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmFsdWVTZXRFeHBhbnNpb25Db250YWluc0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzeXN0ZW0nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc3lzdGVtID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5zeXN0ZW19LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N5c3RlbSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN5c3RlbSkgeyB0aGlzLnN5c3RlbS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zeXN0ZW0hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zeXN0ZW0gPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fc3lzdGVtIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhYnN0cmFjdCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5hYnN0cmFjdCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmFic3RyYWN0fSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hYnN0cmFjdCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFic3RyYWN0KSB7IHRoaXMuYWJzdHJhY3QuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWJzdHJhY3QhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hYnN0cmFjdCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fYWJzdHJhY3QgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpbmFjdGl2ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5pbmFjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmluYWN0aXZlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbmFjdGl2ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmluYWN0aXZlKSB7IHRoaXMuaW5hY3RpdmUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faW5hY3RpdmUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5pbmFjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5faW5hY3RpdmUgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJzaW9uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZlcnNpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZlcnNpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZlcnNpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy52ZXJzaW9uKSB7IHRoaXMudmVyc2lvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92ZXJzaW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl92ZXJzaW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS5jb2RlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29kZSkgeyB0aGlzLmNvZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX2NvZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkaXNwbGF5J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRpc3BsYXkgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRpc3BsYXl9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rpc3BsYXknXSkge1xyXG4gICAgICBpZiAodGhpcy5kaXNwbGF5KSB7IHRoaXMuZGlzcGxheS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kaXNwbGF5ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGlzcGxheSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kaXNwbGF5IGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXNpZ25hdGlvbiddKSB7IHRoaXMuZGVzaWduYXRpb24gPSBzb3VyY2UuZGVzaWduYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldENvbXBvc2VJbmNsdWRlQ29uY2VwdERlc2lnbmF0aW9uKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVzaWduYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFpbnMnXSkgeyB0aGlzLmNvbnRhaW5zID0gc291cmNlLmNvbnRhaW5zLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmFsdWVTZXRFeHBhbnNpb25Db250YWlucyh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhaW5zID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdWYWx1ZVNldC5leHBhbnNpb24uY29udGFpbnMnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzeXN0ZW0nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Fic3RyYWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbmFjdGl2ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndmVyc2lvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29kZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGlzcGxheScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZGVzaWduYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2NvbnRhaW5zJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWYWx1ZVNldEV4cGFuc2lvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBWYWx1ZVNldEV4cGFuc2lvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgdGhpcyB1cmkgaXMgYSBVVUlEIChlLmcuIHVybjp1dWlkOjgyMzBmZjIwLWM5N2EtNDE2Ny1hNTlkLWRjMmNiOWRmMTZkZCkuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBhbnNpb24uaWRlbnRpZmllclxyXG4gICAqL1xyXG4gIF9pZGVudGlmaWVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIFNIT1VMRCBiZSBhIGZ1bGx5IHBvcHVsYXRlZCBpbnN0YW50LCBidXQgaW4gc29tZSBjaXJjdW1zdGFuY2VzLCB2YWx1ZSBzZXRzIGFyZSBleHBhbmRlZCBieSBoYW5kLCBhbmQgdGhlIGV4cGFuc2lvbiBpcyBwdWJsaXNoZWQgd2l0aG91dCB0aGF0IHByZWNpc2lvbi5cclxuICAgKi9cclxuICB0aW1lc3RhbXA6IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmV4cGFuc2lvbi50aW1lc3RhbXBcclxuICAgKi9cclxuICBfdGltZXN0YW1wPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBQYWdpbmcgb25seSBhcHBsaWVzIHRvIGZsYXQgZXhwYW5zaW9ucy5cclxuICAgKi9cclxuICB0b3RhbD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZXhwYW5zaW9uLnRvdGFsXHJcbiAgICovXHJcbiAgX3RvdGFsPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBQYWdpbmcgb25seSBhcHBsaWVzIHRvIGZsYXQgZXhwYW5zaW9ucy4gSWYgYSBmaWx0ZXIgaXMgYXBwbGllZCwgdGhlIGNvdW50IGlzIHRoZSBudW1iZXIgb2YgY29uY2VwdHMgdGhhdCBtYXRjaGVkIHRoZSBmaWx0ZXIsIG5vdCB0aGUgbnVtYmVyIG9mIGNvbmNlcHRzIGluIGFuIHVuZmlsdGVyZWQgdmlldyBvZiB0aGUgZXhwYW5zaW9uLlxyXG4gICAqL1xyXG4gIG9mZnNldD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuZXhwYW5zaW9uLm9mZnNldFxyXG4gICAqL1xyXG4gIF9vZmZzZXQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzZXJ2ZXIgZGVjaWRlcyB3aGljaCBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgaGVyZSwgYnV0IGF0IGEgbWluaW11bSwgdGhlIGxpc3QgU0hPVUxEIGluY2x1ZGUgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIHRoYXQgYWZmZWN0IHRoZSAkZXhwYW5kIG9wZXJhdGlvbi4gSWYgdGhlIGV4cGFuc2lvbiB3aWxsIGJlIHBlcnNpc3RlZCBhbGwgb2YgdGhlc2UgcGFyYW1ldGVycyBTSEFMTCBiZSBpbmNsdWRlZC4gSWYgdGhlIGNvZGVTeXN0ZW0gb24gdGhlIHNlcnZlciBoYXMgYSBzcGVjaWZpZWQgdmVyc2lvbiB0aGVuIHRoaXMgdmVyc2lvbiBTSEFMTCBiZSBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciBpbiB0aGUgZXhwYW5zaW9uIChub3RlIHRoYXQgbm90IGFsbCBjb2RlIHN5c3RlbXMgaGF2ZSBhIHZlcnNpb24pLlxyXG4gICAqL1xyXG4gIHBhcmFtZXRlcj86IGZoaXIuVmFsdWVTZXRFeHBhbnNpb25QYXJhbWV0ZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlcyB0aGF0IGFyZSBjb250YWluZWQgaW4gdGhlIHZhbHVlIHNldCBleHBhbnNpb24uXHJcbiAgICovXHJcbiAgY29udGFpbnM/OiBmaGlyLlZhbHVlU2V0RXhwYW5zaW9uQ29udGFpbnNBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRXhwYW5zaW9uIGlzIHBlcmZvcm1lZCB0byBwcm9kdWNlIGEgY29sbGVjdGlvbiBvZiBjb2RlcyB0aGF0IGFyZSByZWFkeSB0byB1c2UgZm9yIGRhdGEgZW50cnkgb3IgdmFsaWRhdGlvbi4gVmFsdWUgc2V0IGV4cGFuc2lvbnMgYXJlIGFsd2F5cyBjb25zaWRlcmVkIHRvIGJlIHN0YXRlbGVzcyAtIHRoZXkgYXJlIGEgcmVjb3JkIG9mIHRoZSBzZXQgb2YgY29kZXMgaW4gdGhlIHZhbHVlIHNldCBhdCBhIHBvaW50IGluIHRpbWUgdW5kZXIgYSBnaXZlbiBzZXQgb2YgY29uZGl0aW9ucywgYW5kIGFyZSBub3Qgc3ViamVjdCB0byBvbmdvaW5nIG1haW50ZW5hbmNlLlxyXG4gKiBFeHBhbnNpb24ucGFyYW1ldGVyIGlzICBhIHNpbXBsaWZpZWQgbGlzdCBvZiBwYXJhbWV0ZXJzIC0gYSBzdWJzZXQgb2YgdGhlIGZlYXR1cmVzIG9mIHRoZSBbUGFyYW1ldGVyc10ocGFyYW1ldGVycy5odG1sKSByZXNvdXJjZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWYWx1ZVNldEV4cGFuc2lvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZhbHVlU2V0RXhwYW5zaW9uJztcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHksIHRoaXMgdXJpIGlzIGEgVVVJRCAoZS5nLiB1cm46dXVpZDo4MjMwZmYyMC1jOTdhLTQxNjctYTU5ZC1kYzJjYjlkZjE2ZGQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5GaGlyVXJpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIFNIT1VMRCBiZSBhIGZ1bGx5IHBvcHVsYXRlZCBpbnN0YW50LCBidXQgaW4gc29tZSBjaXJjdW1zdGFuY2VzLCB2YWx1ZSBzZXRzIGFyZSBleHBhbmRlZCBieSBoYW5kLCBhbmQgdGhlIGV4cGFuc2lvbiBpcyBwdWJsaXNoZWQgd2l0aG91dCB0aGF0IHByZWNpc2lvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdGltZXN0YW1wOiBmaGlyLkZoaXJEYXRlVGltZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFBhZ2luZyBvbmx5IGFwcGxpZXMgdG8gZmxhdCBleHBhbnNpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0b3RhbD86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBhZ2luZyBvbmx5IGFwcGxpZXMgdG8gZmxhdCBleHBhbnNpb25zLiBJZiBhIGZpbHRlciBpcyBhcHBsaWVkLCB0aGUgY291bnQgaXMgdGhlIG51bWJlciBvZiBjb25jZXB0cyB0aGF0IG1hdGNoZWQgdGhlIGZpbHRlciwgbm90IHRoZSBudW1iZXIgb2YgY29uY2VwdHMgaW4gYW4gdW5maWx0ZXJlZCB2aWV3IG9mIHRoZSBleHBhbnNpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG9mZnNldD86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzZXJ2ZXIgZGVjaWRlcyB3aGljaCBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgaGVyZSwgYnV0IGF0IGEgbWluaW11bSwgdGhlIGxpc3QgU0hPVUxEIGluY2x1ZGUgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIHRoYXQgYWZmZWN0IHRoZSAkZXhwYW5kIG9wZXJhdGlvbi4gSWYgdGhlIGV4cGFuc2lvbiB3aWxsIGJlIHBlcnNpc3RlZCBhbGwgb2YgdGhlc2UgcGFyYW1ldGVycyBTSEFMTCBiZSBpbmNsdWRlZC4gSWYgdGhlIGNvZGVTeXN0ZW0gb24gdGhlIHNlcnZlciBoYXMgYSBzcGVjaWZpZWQgdmVyc2lvbiB0aGVuIHRoaXMgdmVyc2lvbiBTSEFMTCBiZSBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciBpbiB0aGUgZXhwYW5zaW9uIChub3RlIHRoYXQgbm90IGFsbCBjb2RlIHN5c3RlbXMgaGF2ZSBhIHZlcnNpb24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJhbWV0ZXI6IGZoaXIuVmFsdWVTZXRFeHBhbnNpb25QYXJhbWV0ZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgY29kZXMgdGhhdCBhcmUgY29udGFpbmVkIGluIHRoZSB2YWx1ZSBzZXQgZXhwYW5zaW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250YWluczogZmhpci5WYWx1ZVNldEV4cGFuc2lvbkNvbnRhaW5zW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmFsdWVTZXRFeHBhbnNpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWYWx1ZVNldEV4cGFuc2lvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLmlkZW50aWZpZXJ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2lkZW50aWZpZXInXSkge1xyXG4gICAgICBpZiAodGhpcy5pZGVudGlmaWVyKSB7IHRoaXMuaWRlbnRpZmllci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pZGVudGlmaWVyISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl9pZGVudGlmaWVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0aW1lc3RhbXAnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudGltZXN0YW1wID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnRpbWVzdGFtcH0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50aW1lc3RhbXAgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGltZXN0YW1wJ10pIHtcclxuICAgICAgaWYgKHRoaXMudGltZXN0YW1wKSB7IHRoaXMudGltZXN0YW1wLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3RpbWVzdGFtcCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnRpbWVzdGFtcCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3RpbWVzdGFtcCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0b3RhbCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy50b3RhbCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLnRvdGFsfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190b3RhbCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRvdGFsKSB7IHRoaXMudG90YWwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdG90YWwhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50b3RhbCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fdG90YWwgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvZmZzZXQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMub2Zmc2V0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2Uub2Zmc2V0fSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19vZmZzZXQnXSkge1xyXG4gICAgICBpZiAodGhpcy5vZmZzZXQpIHsgdGhpcy5vZmZzZXQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fb2Zmc2V0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub2Zmc2V0ID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9vZmZzZXQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwYXJhbWV0ZXInXSkgeyB0aGlzLnBhcmFtZXRlciA9IHNvdXJjZS5wYXJhbWV0ZXIubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldEV4cGFuc2lvblBhcmFtZXRlcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcmFtZXRlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWlucyddKSB7IHRoaXMuY29udGFpbnMgPSBzb3VyY2UuY29udGFpbnMubWFwKCh4KSA9PiBuZXcgZmhpci5WYWx1ZVNldEV4cGFuc2lvbkNvbnRhaW5zKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29udGFpbnMgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1ZhbHVlU2V0LmV4cGFuc2lvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3RpbWVzdGFtcCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndG90YWwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ29mZnNldCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncGFyYW1ldGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb250YWlucycsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmFsdWVTZXQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVTZXRBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJWYWx1ZVNldFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gYmUgYSB1cm46dXVpZDogb3IgYSB1cm46b2lkOiBidXQgcmVhbCBodHRwOiBhZGRyZXNzZXMgYXJlIHByZWZlcnJlZC4gIE11bHRpcGxlIGluc3RhbmNlcyBtYXkgc2hhcmUgdGhlIHNhbWUgVVJMIGlmIHRoZXkgaGF2ZSBhIGRpc3RpbmN0IHZlcnNpb24uXHJcbiAgICogVGhlIGRldGVybWluYXRpb24gb2Ygd2hlbiB0byBjcmVhdGUgYSBuZXcgdmVyc2lvbiBvZiBhIHJlc291cmNlIChzYW1lIHVybCwgbmV3IHZlcnNpb24pIHZzLiBkZWZpbmluZyBhIG5ldyBhcnRpZmFjdCBpcyB1cCB0byB0aGUgYXV0aG9yLiAgQ29uc2lkZXJhdGlvbnMgZm9yIG1ha2luZyB0aGlzIGRlY2lzaW9uIGFyZSBmb3VuZCBpbiBbVGVjaG5pY2FsIGFuZCBCdXNpbmVzcyBWZXJzaW9uc10ocmVzb3VyY2UuaHRtbCN2ZXJzaW9ucykuIFxyXG4gICAqIEluIHNvbWUgY2FzZXMsIHRoZSByZXNvdXJjZSBjYW4gbm8gbG9uZ2VyIGJlIGZvdW5kIGF0IHRoZSBzdGF0ZWQgdXJsLCBidXQgdGhlIHVybCBpdHNlbGYgY2Fubm90IGNoYW5nZS4gSW1wbGVtZW50YXRpb25zIGNhbiB1c2UgdGhlIFttZXRhLnNvdXJjZV0ocmVzb3VyY2UuaHRtbCNtZXRhKSBlbGVtZW50IHRvIGluZGljYXRlIHdoZXJlIHRoZSBjdXJyZW50IG1hc3RlciBzb3VyY2Ugb2YgdGhlIHJlc291cmNlIGNhbiBiZSBmb3VuZC5cclxuICAgKi9cclxuICB1cmw/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQudXJsXHJcbiAgICovXHJcbiAgX3VybD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCB0aGlzIGlzIHVzZWQgZm9yIGlkZW50aWZpZXJzIHRoYXQgY2FuIGdvIGluIGFuIEhMNyBWMyBJSSAoaW5zdGFuY2UgaWRlbnRpZmllcikgZGF0YSB0eXBlLCBhbmQgY2FuIHRoZW4gaWRlbnRpZnkgdGhpcyB2YWx1ZSBzZXQgb3V0c2lkZSBvZiBGSElSLCB3aGVyZSBpdCBpcyBub3QgcG9zc2libGUgdG8gdXNlIHRoZSBsb2dpY2FsIFVSSS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBtYXkgYmUgZGlmZmVyZW50IHZhbHVlIHNldCBpbnN0YW5jZXMgdGhhdCBoYXZlIHRoZSBzYW1lIGlkZW50aWZpZXIgYnV0IGRpZmZlcmVudCB2ZXJzaW9ucy4gIFRoZSB2ZXJzaW9uIGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgdXJsIGluIGEgcmVmZXJlbmNlIHRvIGFsbG93IGEgcmVmZXJlbmNlIHRvIGEgcGFydGljdWxhciBidXNpbmVzcyB2ZXJzaW9uIG9mIHRoZSB2YWx1ZSBzZXQgd2l0aCB0aGUgZm9ybWF0IFt1cmxdfFt2ZXJzaW9uXS5cclxuICAgKi9cclxuICB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LnZlcnNpb25cclxuICAgKi9cclxuICBfdmVyc2lvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgaXMgbm90IGV4cGVjdGVkIHRvIGJlIGdsb2JhbGx5IHVuaXF1ZS4gVGhlIG5hbWUgc2hvdWxkIGJlIGEgc2ltcGxlIGFscGhhbnVtZXJpYyB0eXBlIG5hbWUgdG8gZW5zdXJlIHRoYXQgaXQgaXMgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5LkEgbmFtZSBzaG91bGQgYmUgcHJvdmlkZWQgdW5sZXNzIHRoZSB2YWx1ZSBzZXQgaXMgYSBjb250YWluZWQgcmVzb3VyY2UgKGUuZy4gYW4gYW5vbnltb3VzIHZhbHVlIHNldCBpbiBhIHByb2ZpbGUpLiBNb3N0IHJlZ2lzdHJpZXMgd2lsbCByZXF1aXJlIGEgbmFtZS5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0Lm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBuYW1lIGRvZXMgbm90IG5lZWQgdG8gYmUgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5IGFuZCBtYXkgY29udGFpbiBwdW5jdHVhdGlvbiwgd2hpdGUtc3BhY2UsIGV0Yy5cclxuICAgKi9cclxuICB0aXRsZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC50aXRsZVxyXG4gICAqL1xyXG4gIF90aXRsZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiB2YWx1ZSBzZXRzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5TZWUgYWxzbyB0aGUgW3ZhbHVlc2V0LXdvcmtmbG93U3RhdHVzXShleHRlbnNpb24tdmFsdWVzZXQtd29ya2Zsb3dzdGF0dXMuaHRtbCkgZXh0ZW5zaW9uIGZvciBhZGRpdGlvbmFsIHN0YXR1cyBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIHRoZSBlZGl0b3JpYWwgcHJvY2Vzcy5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQuc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiB2YWx1ZSBzZXRzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBleHBlcmltZW50YWw/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5leHBlcmltZW50YWxcclxuICAgKi9cclxuICBfZXhwZXJpbWVudGFsPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIHJlc291cmNlIGxhc3QtbW9kaWZpZWQtZGF0ZSwgc2luY2UgdGhlIHJlc291cmNlIG1heSBiZSBhIHNlY29uZGFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmFsdWUgc2V0LiBBZGRpdGlvbmFsIHNwZWNpZmljIGRhdGVzIG1heSBiZSBhZGRlZCBhcyBleHRlbnNpb25zIG9yIGJlIGZvdW5kIGJ5IGNvbnN1bHRpbmcgUHJvdmVuYW5jZXMgYXNzb2NpYXRlZCB3aXRoIHBhc3QgdmVyc2lvbnMgb2YgdGhlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5kYXRlXHJcbiAgICovXHJcbiAgX2RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgYW4gb3JnYW5pemF0aW9uIGJ1dCBtYXkgYmUgYW4gaW5kaXZpZHVhbC4gVGhlIHB1Ymxpc2hlciAob3Igc3Rld2FyZCkgb2YgdGhlIHZhbHVlIHNldCBpcyB0aGUgb3JnYW5pemF0aW9uIG9yIGluZGl2aWR1YWwgcHJpbWFyaWx5IHJlc3BvbnNpYmxlIGZvciB0aGUgbWFpbnRlbmFuY2UgYW5kIHVwa2VlcCBvZiB0aGUgdmFsdWUgc2V0LiBUaGlzIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbiB0aGF0IGRldmVsb3BlZCBhbmQgaW5pdGlhbGx5IGF1dGhvcmVkIHRoZSBjb250ZW50LiBUaGUgcHVibGlzaGVyIGlzIHRoZSBwcmltYXJ5IHBvaW50IG9mIGNvbnRhY3QgZm9yIHF1ZXN0aW9ucyBvciBpc3N1ZXMgd2l0aCB0aGUgdmFsdWUgc2V0LiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LnB1Ymxpc2hlclxyXG4gICAqL1xyXG4gIF9wdWJsaXNoZXI/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE1heSBiZSBhIHdlYiBzaXRlLCBhbiBlbWFpbCBhZGRyZXNzLCBhIHRlbGVwaG9uZSBudW1iZXIsIGV0Yy5cclxuICAgKi9cclxuICBjb250YWN0PzogZmhpci5Db250YWN0RGV0YWlsQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGRlc2NyaXB0aW9uIGNhbiBiZSB1c2VkIHRvIGNhcHR1cmUgZGV0YWlscyBzdWNoIGFzIHdoeSB0aGUgdmFsdWUgc2V0IHdhcyBidWlsdCwgY29tbWVudHMgYWJvdXQgbWlzdXNlLCBpbnN0cnVjdGlvbnMgZm9yIGNsaW5pY2FsIHVzZSBhbmQgaW50ZXJwcmV0YXRpb24sIGxpdGVyYXR1cmUgcmVmZXJlbmNlcywgZXhhbXBsZXMgZnJvbSB0aGUgcGFwZXIgd29ybGQsIGV0Yy4gSXQgaXMgbm90IGEgcmVuZGVyaW5nIG9mIHRoZSB2YWx1ZSBzZXQgYXMgY29udmV5ZWQgaW4gdGhlICd0ZXh0JyBmaWVsZCBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmLiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQgKGUuZy4gdGhlIGxhbmd1YWdlIG9mIHRoZSB2YWx1ZSBzZXQgaXMgcHJlc3VtZWQgdG8gYmUgdGhlIHByZWRvbWluYW50IGxhbmd1YWdlIGluIHRoZSBwbGFjZSB0aGUgdmFsdWUgc2V0IHdhcyBjcmVhdGVkKS5UaGUgZGVzY3JpcHRpb24gaXMgbm90IGludGVuZGVkIHRvIGRlc2NyaWJlIHRoZSBzZW1hbnRpY3Mgb2YgdGhlIFZhbHVlIFNldCAtIHRoZXJlIGFyZSBubyBpbnRyaW5zaWMgc2VtYW50aWNzIHNlcGFyYXRlIGZyb20gdGhlIGNvZGVzIGNvbnRhaW5lZCBpbiBpdHMgZXhwYW5zaW9uLiBUaGUgZGVzY3JpcHRpb24gc2hvdWxkIGNhcHR1cmUgaXRzIGludGVuZGVkIHVzZSwgd2hpY2ggaXMgbmVlZGVkIGZvciBlbnN1cmluZyBpbnRlZ3JpdHkgZm9yIGl0cyB1c2UgaW4gbW9kZWxzIGFjcm9zcyBmdXR1cmUgY2hhbmdlcy4gQSBkZXNjcmlwdGlvbiBzaG91bGQgYmUgcHJvdmlkZWQgdW5sZXNzIHRoZSB2YWx1ZSBzZXQgaXMgYSBjb250YWluZWQgcmVzb3VyY2UgKGUuZy4gYW4gYW5vbnltb3VzIHZhbHVlIHNldCBpbiBhIHByb2ZpbGUpLiBNb3N0IHJlZ2lzdHJpZXMgd2lsbCByZXF1aXJlIGEgZGVzY3JpcHRpb24uXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hlbiBtdWx0aXBsZSB1c2VDb250ZXh0cyBhcmUgc3BlY2lmaWVkLCB0aGVyZSBpcyBubyBleHBlY3RhdGlvbiB0aGF0IGFsbCBvciBhbnkgb2YgdGhlIGNvbnRleHRzIGFwcGx5LlxyXG4gICAqL1xyXG4gIHVzZUNvbnRleHQ/OiBmaGlyLlVzYWdlQ29udGV4dEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXQgbWF5IGJlIHBvc3NpYmxlIGZvciB0aGUgdmFsdWUgc2V0IHRvIGJlIHVzZWQgaW4ganVyaXNkaWN0aW9ucyBvdGhlciB0aGFuIHRob3NlIGZvciB3aGljaCBpdCB3YXMgb3JpZ2luYWxseSBkZXNpZ25lZCBvciBpbnRlbmRlZC5cclxuICAgKi9cclxuICBqdXJpc2RpY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm9ybWFsbHkgaW1tdXRhYmlsaXR5IGlzIHNldCB0byAnZmFsc2UnLCB3aGljaCBpcyB0aGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlmIGl0IGlzIG5vdCBwb3B1bGF0ZWQuICBOb3RlIHRoYXQgdGhlIGltcGxpY2F0aW9uIGlzIHRoYXQgaWYgdGhpcyBpcyBzZXQgdG8gJ3RydWUnLCB0aGVyZSBtYXkgYmUgb25seSBvbmUgVmFsdWVTZXQgdmVyc2lvbiBmb3IgdGhpcyBkZWZpbml0aW9uLiBJbW11dGFiaWxpdHkgdGVuZHMgdG8gYmUgc2V0IHRvICd0cnVlJyBpbiBvbmUgb2YgdHdvIGNhc2VzOiAtIFdoZXJlIHRoZSB2YWx1ZSBzZXQsIGJ5IHRoZSBuYXR1cmUgb2YgaXRzIHVzYWdlLCBjYW5ub3QgY2hhbmdlLiAgRm9yIGV4YW1wbGUgXCJBbGwgc3BlY2lhbGl6YXRpb25zIG9mIEFDVCBpbiBBY3RDbGFzc0NvZGVcIiAtIFdoZXJlIHRoZXJlJ3Mgbm8gc2FmZSB3YXkgdG8gZXhwcmVzcyB0aGUgXCJQdXJwb3NlXCIgc3VjaCB0aGF0IHNvbWVvbmUgZWxzZSBjb3VsZCBzYWZlbHkgbWFrZSBjaGFuZ2VzIHRvIHRoZSB2YWx1ZSBzZXQgZGVmaW5pdGlvbi4gU291cmNlIHdvcmtmbG93IGNvbnRyb2wgbXVzdCBndWFyYW50ZWUgdGhhdCB0aGUgc2FtZSBVUkkgYWx3YXlzIHlpZWxkcyB0aGUgc2FtZSBkZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIGltbXV0YWJsZT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZhbHVlU2V0LmltbXV0YWJsZVxyXG4gICAqL1xyXG4gIF9pbW11dGFibGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBkb2VzIG5vdCBkZXNjcmliZSB0aGUgdXNhZ2Ugb2YgdGhlIHZhbHVlIHNldC4gSW5zdGVhZCwgaXQgcHJvdmlkZXMgdHJhY2VhYmlsaXR5IG9mICcnd2h5JycgdGhlIHJlc291cmNlIGlzIGVpdGhlciBuZWVkZWQgb3IgJyd3aHknJyBpdCBpcyBkZWZpbmVkIGFzIGl0IGlzLiAgVGhpcyBtYXkgYmUgdXNlZCB0byBwb2ludCB0byBzb3VyY2UgbWF0ZXJpYWxzIG9yIHNwZWNpZmljYXRpb25zIHRoYXQgZHJvdmUgdGhlIHN0cnVjdHVyZSBvZiB0aGlzIHZhbHVlIHNldC5cclxuICAgKi9cclxuICBwdXJwb3NlPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmFsdWVTZXQucHVycG9zZVxyXG4gICAqL1xyXG4gIF9wdXJwb3NlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBudWxsRnJlcXVlbnRseSwgdGhlIGNvcHlyaWdodCBkaWZmZXJzIGJldHdlZW4gdGhlIHZhbHVlIHNldCBhbmQgdGhlIGNvZGVzIHRoYXQgYXJlIGluY2x1ZGVkLiBUaGUgY29weXJpZ2h0IHN0YXRlbWVudCBzaG91bGQgY2xlYXJseSBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlc2Ugd2hlbiByZXF1aXJlZC5cclxuICAgKi9cclxuICBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWYWx1ZVNldC5jb3B5cmlnaHRcclxuICAgKi9cclxuICBfY29weXJpZ2h0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIHNldCBvZiBjcml0ZXJpYSB0aGF0IGRlZmluZSB0aGUgY29udGVudHMgb2YgdGhlIHZhbHVlIHNldCBieSBpbmNsdWRpbmcgb3IgZXhjbHVkaW5nIGNvZGVzIHNlbGVjdGVkIGZyb20gdGhlIHNwZWNpZmllZCBjb2RlIHN5c3RlbShzKSB0aGF0IHRoZSB2YWx1ZSBzZXQgZHJhd3MgZnJvbS4gVGhpcyBpcyBhbHNvIGtub3duIGFzIHRoZSBDb250ZW50IExvZ2ljYWwgRGVmaW5pdGlvbiAoQ0xEKS5cclxuICAgKi9cclxuICBjb21wb3NlPzogZmhpci5WYWx1ZVNldENvbXBvc2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHBhbnNpb24gaXMgcGVyZm9ybWVkIHRvIHByb2R1Y2UgYSBjb2xsZWN0aW9uIG9mIGNvZGVzIHRoYXQgYXJlIHJlYWR5IHRvIHVzZSBmb3IgZGF0YSBlbnRyeSBvciB2YWxpZGF0aW9uLiBWYWx1ZSBzZXQgZXhwYW5zaW9ucyBhcmUgYWx3YXlzIGNvbnNpZGVyZWQgdG8gYmUgc3RhdGVsZXNzIC0gdGhleSBhcmUgYSByZWNvcmQgb2YgdGhlIHNldCBvZiBjb2RlcyBpbiB0aGUgdmFsdWUgc2V0IGF0IGEgcG9pbnQgaW4gdGltZSB1bmRlciBhIGdpdmVuIHNldCBvZiBjb25kaXRpb25zLCBhbmQgYXJlIG5vdCBzdWJqZWN0IHRvIG9uZ29pbmcgbWFpbnRlbmFuY2UuXHJcbiAgICogRXhwYW5zaW9uLnBhcmFtZXRlciBpcyAgYSBzaW1wbGlmaWVkIGxpc3Qgb2YgcGFyYW1ldGVycyAtIGEgc3Vic2V0IG9mIHRoZSBmZWF0dXJlcyBvZiB0aGUgW1BhcmFtZXRlcnNdKHBhcmFtZXRlcnMuaHRtbCkgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgZXhwYW5zaW9uPzogZmhpci5WYWx1ZVNldEV4cGFuc2lvbkFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBWYWx1ZVNldCByZXNvdXJjZSBpbnN0YW5jZSBzcGVjaWZpZXMgYSBzZXQgb2YgY29kZXMgZHJhd24gZnJvbSBvbmUgb3IgbW9yZSBjb2RlIHN5c3RlbXMsIGludGVuZGVkIGZvciB1c2UgaW4gYSBwYXJ0aWN1bGFyIGNvbnRleHQuIFZhbHVlIHNldHMgbGluayBiZXR3ZWVuIFtDb2RlU3lzdGVtXShjb2Rlc3lzdGVtLmh0bWwpIGRlZmluaXRpb25zIGFuZCB0aGVpciB1c2UgaW4gW2NvZGVkIGVsZW1lbnRzXSh0ZXJtaW5vbG9naWVzLmh0bWwpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZhbHVlU2V0IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWYWx1ZVNldCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJWYWx1ZVNldFwiO1xyXG4gIC8qKlxyXG4gICAqIENhbiBiZSBhIHVybjp1dWlkOiBvciBhIHVybjpvaWQ6IGJ1dCByZWFsIGh0dHA6IGFkZHJlc3NlcyBhcmUgcHJlZmVycmVkLiAgTXVsdGlwbGUgaW5zdGFuY2VzIG1heSBzaGFyZSB0aGUgc2FtZSBVUkwgaWYgdGhleSBoYXZlIGEgZGlzdGluY3QgdmVyc2lvbi5cclxuICAgKiBUaGUgZGV0ZXJtaW5hdGlvbiBvZiB3aGVuIHRvIGNyZWF0ZSBhIG5ldyB2ZXJzaW9uIG9mIGEgcmVzb3VyY2UgKHNhbWUgdXJsLCBuZXcgdmVyc2lvbikgdnMuIGRlZmluaW5nIGEgbmV3IGFydGlmYWN0IGlzIHVwIHRvIHRoZSBhdXRob3IuICBDb25zaWRlcmF0aW9ucyBmb3IgbWFraW5nIHRoaXMgZGVjaXNpb24gYXJlIGZvdW5kIGluIFtUZWNobmljYWwgYW5kIEJ1c2luZXNzIFZlcnNpb25zXShyZXNvdXJjZS5odG1sI3ZlcnNpb25zKS4gXHJcbiAgICogSW4gc29tZSBjYXNlcywgdGhlIHJlc291cmNlIGNhbiBubyBsb25nZXIgYmUgZm91bmQgYXQgdGhlIHN0YXRlZCB1cmwsIGJ1dCB0aGUgdXJsIGl0c2VsZiBjYW5ub3QgY2hhbmdlLiBJbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSB0aGUgW21ldGEuc291cmNlXShyZXNvdXJjZS5odG1sI21ldGEpIGVsZW1lbnQgdG8gaW5kaWNhdGUgd2hlcmUgdGhlIGN1cnJlbnQgbWFzdGVyIHNvdXJjZSBvZiB0aGUgcmVzb3VyY2UgY2FuIGJlIGZvdW5kLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cmw/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgdGhpcyBpcyB1c2VkIGZvciBpZGVudGlmaWVycyB0aGF0IGNhbiBnbyBpbiBhbiBITDcgVjMgSUkgKGluc3RhbmNlIGlkZW50aWZpZXIpIGRhdGEgdHlwZSwgYW5kIGNhbiB0aGVuIGlkZW50aWZ5IHRoaXMgdmFsdWUgc2V0IG91dHNpZGUgb2YgRkhJUiwgd2hlcmUgaXQgaXMgbm90IHBvc3NpYmxlIHRvIHVzZSB0aGUgbG9naWNhbCBVUkkuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIG1heSBiZSBkaWZmZXJlbnQgdmFsdWUgc2V0IGluc3RhbmNlcyB0aGF0IGhhdmUgdGhlIHNhbWUgaWRlbnRpZmllciBidXQgZGlmZmVyZW50IHZlcnNpb25zLiAgVGhlIHZlcnNpb24gY2FuIGJlIGFwcGVuZGVkIHRvIHRoZSB1cmwgaW4gYSByZWZlcmVuY2UgdG8gYWxsb3cgYSByZWZlcmVuY2UgdG8gYSBwYXJ0aWN1bGFyIGJ1c2luZXNzIHZlcnNpb24gb2YgdGhlIHZhbHVlIHNldCB3aXRoIHRoZSBmb3JtYXQgW3VybF18W3ZlcnNpb25dLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBpcyBub3QgZXhwZWN0ZWQgdG8gYmUgZ2xvYmFsbHkgdW5pcXVlLiBUaGUgbmFtZSBzaG91bGQgYmUgYSBzaW1wbGUgYWxwaGFudW1lcmljIHR5cGUgbmFtZSB0byBlbnN1cmUgdGhhdCBpdCBpcyBtYWNoaW5lLXByb2Nlc3NpbmcgZnJpZW5kbHkuQSBuYW1lIHNob3VsZCBiZSBwcm92aWRlZCB1bmxlc3MgdGhlIHZhbHVlIHNldCBpcyBhIGNvbnRhaW5lZCByZXNvdXJjZSAoZS5nLiBhbiBhbm9ueW1vdXMgdmFsdWUgc2V0IGluIGEgcHJvZmlsZSkuIE1vc3QgcmVnaXN0cmllcyB3aWxsIHJlcXVpcmUgYSBuYW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIG5hbWUgZG9lcyBub3QgbmVlZCB0byBiZSBtYWNoaW5lLXByb2Nlc3NpbmcgZnJpZW5kbHkgYW5kIG1heSBjb250YWluIHB1bmN0dWF0aW9uLCB3aGl0ZS1zcGFjZSwgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aXRsZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiB2YWx1ZSBzZXRzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5TZWUgYWxzbyB0aGUgW3ZhbHVlc2V0LXdvcmtmbG93U3RhdHVzXShleHRlbnNpb24tdmFsdWVzZXQtd29ya2Zsb3dzdGF0dXMuaHRtbCkgZXh0ZW5zaW9uIGZvciBhZGRpdGlvbmFsIHN0YXR1cyBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIHRoZSBlZGl0b3JpYWwgcHJvY2Vzcy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiB2YWx1ZSBzZXRzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBwdWJsaWMgZXhwZXJpbWVudGFsPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSByZXNvdXJjZSBsYXN0LW1vZGlmaWVkLWRhdGUsIHNpbmNlIHRoZSByZXNvdXJjZSBtYXkgYmUgYSBzZWNvbmRhcnkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZhbHVlIHNldC4gQWRkaXRpb25hbCBzcGVjaWZpYyBkYXRlcyBtYXkgYmUgYWRkZWQgYXMgZXh0ZW5zaW9ucyBvciBiZSBmb3VuZCBieSBjb25zdWx0aW5nIFByb3ZlbmFuY2VzIGFzc29jaWF0ZWQgd2l0aCBwYXN0IHZlcnNpb25zIG9mIHRoZSByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc3VhbGx5IGFuIG9yZ2FuaXphdGlvbiBidXQgbWF5IGJlIGFuIGluZGl2aWR1YWwuIFRoZSBwdWJsaXNoZXIgKG9yIHN0ZXdhcmQpIG9mIHRoZSB2YWx1ZSBzZXQgaXMgdGhlIG9yZ2FuaXphdGlvbiBvciBpbmRpdmlkdWFsIHByaW1hcmlseSByZXNwb25zaWJsZSBmb3IgdGhlIG1haW50ZW5hbmNlIGFuZCB1cGtlZXAgb2YgdGhlIHZhbHVlIHNldC4gVGhpcyBpcyBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gdGhhdCBkZXZlbG9wZWQgYW5kIGluaXRpYWxseSBhdXRob3JlZCB0aGUgY29udGVudC4gVGhlIHB1Ymxpc2hlciBpcyB0aGUgcHJpbWFyeSBwb2ludCBvZiBjb250YWN0IGZvciBxdWVzdGlvbnMgb3IgaXNzdWVzIHdpdGggdGhlIHZhbHVlIHNldC4gVGhpcyBpdGVtIFNIT1VMRCBiZSBwb3B1bGF0ZWQgdW5sZXNzIHRoZSBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgZnJvbSBjb250ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdWJsaXNoZXI/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1heSBiZSBhIHdlYiBzaXRlLCBhbiBlbWFpbCBhZGRyZXNzLCBhIHRlbGVwaG9uZSBudW1iZXIsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFjdDogZmhpci5Db250YWN0RGV0YWlsW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkZXNjcmlwdGlvbiBjYW4gYmUgdXNlZCB0byBjYXB0dXJlIGRldGFpbHMgc3VjaCBhcyB3aHkgdGhlIHZhbHVlIHNldCB3YXMgYnVpbHQsIGNvbW1lbnRzIGFib3V0IG1pc3VzZSwgaW5zdHJ1Y3Rpb25zIGZvciBjbGluaWNhbCB1c2UgYW5kIGludGVycHJldGF0aW9uLCBsaXRlcmF0dXJlIHJlZmVyZW5jZXMsIGV4YW1wbGVzIGZyb20gdGhlIHBhcGVyIHdvcmxkLCBldGMuIEl0IGlzIG5vdCBhIHJlbmRlcmluZyBvZiB0aGUgdmFsdWUgc2V0IGFzIGNvbnZleWVkIGluIHRoZSAndGV4dCcgZmllbGQgb2YgdGhlIHJlc291cmNlIGl0c2VsZi4gVGhpcyBpdGVtIFNIT1VMRCBiZSBwb3B1bGF0ZWQgdW5sZXNzIHRoZSBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgZnJvbSBjb250ZXh0IChlLmcuIHRoZSBsYW5ndWFnZSBvZiB0aGUgdmFsdWUgc2V0IGlzIHByZXN1bWVkIHRvIGJlIHRoZSBwcmVkb21pbmFudCBsYW5ndWFnZSBpbiB0aGUgcGxhY2UgdGhlIHZhbHVlIHNldCB3YXMgY3JlYXRlZCkuVGhlIGRlc2NyaXB0aW9uIGlzIG5vdCBpbnRlbmRlZCB0byBkZXNjcmliZSB0aGUgc2VtYW50aWNzIG9mIHRoZSBWYWx1ZSBTZXQgLSB0aGVyZSBhcmUgbm8gaW50cmluc2ljIHNlbWFudGljcyBzZXBhcmF0ZSBmcm9tIHRoZSBjb2RlcyBjb250YWluZWQgaW4gaXRzIGV4cGFuc2lvbi4gVGhlIGRlc2NyaXB0aW9uIHNob3VsZCBjYXB0dXJlIGl0cyBpbnRlbmRlZCB1c2UsIHdoaWNoIGlzIG5lZWRlZCBmb3IgZW5zdXJpbmcgaW50ZWdyaXR5IGZvciBpdHMgdXNlIGluIG1vZGVscyBhY3Jvc3MgZnV0dXJlIGNoYW5nZXMuIEEgZGVzY3JpcHRpb24gc2hvdWxkIGJlIHByb3ZpZGVkIHVubGVzcyB0aGUgdmFsdWUgc2V0IGlzIGEgY29udGFpbmVkIHJlc291cmNlIChlLmcuIGFuIGFub255bW91cyB2YWx1ZSBzZXQgaW4gYSBwcm9maWxlKS4gTW9zdCByZWdpc3RyaWVzIHdpbGwgcmVxdWlyZSBhIGRlc2NyaXB0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIG11bHRpcGxlIHVzZUNvbnRleHRzIGFyZSBzcGVjaWZpZWQsIHRoZXJlIGlzIG5vIGV4cGVjdGF0aW9uIHRoYXQgYWxsIG9yIGFueSBvZiB0aGUgY29udGV4dHMgYXBwbHkuXHJcbiAgICovXHJcbiAgcHVibGljIHVzZUNvbnRleHQ6IGZoaXIuVXNhZ2VDb250ZXh0W107XHJcbiAgLyoqXHJcbiAgICogSXQgbWF5IGJlIHBvc3NpYmxlIGZvciB0aGUgdmFsdWUgc2V0IHRvIGJlIHVzZWQgaW4ganVyaXNkaWN0aW9ucyBvdGhlciB0aGFuIHRob3NlIGZvciB3aGljaCBpdCB3YXMgb3JpZ2luYWxseSBkZXNpZ25lZCBvciBpbnRlbmRlZC5cclxuICAgKi9cclxuICBwdWJsaWMganVyaXNkaWN0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIE5vcm1hbGx5IGltbXV0YWJpbGl0eSBpcyBzZXQgdG8gJ2ZhbHNlJywgd2hpY2ggaXMgdGhlIGRlZmF1bHQgYXNzdW1wdGlvbiBpZiBpdCBpcyBub3QgcG9wdWxhdGVkLiAgTm90ZSB0aGF0IHRoZSBpbXBsaWNhdGlvbiBpcyB0aGF0IGlmIHRoaXMgaXMgc2V0IHRvICd0cnVlJywgdGhlcmUgbWF5IGJlIG9ubHkgb25lIFZhbHVlU2V0IHZlcnNpb24gZm9yIHRoaXMgZGVmaW5pdGlvbi4gSW1tdXRhYmlsaXR5IHRlbmRzIHRvIGJlIHNldCB0byAndHJ1ZScgaW4gb25lIG9mIHR3byBjYXNlczogLSBXaGVyZSB0aGUgdmFsdWUgc2V0LCBieSB0aGUgbmF0dXJlIG9mIGl0cyB1c2FnZSwgY2Fubm90IGNoYW5nZS4gIEZvciBleGFtcGxlIFwiQWxsIHNwZWNpYWxpemF0aW9ucyBvZiBBQ1QgaW4gQWN0Q2xhc3NDb2RlXCIgLSBXaGVyZSB0aGVyZSdzIG5vIHNhZmUgd2F5IHRvIGV4cHJlc3MgdGhlIFwiUHVycG9zZVwiIHN1Y2ggdGhhdCBzb21lb25lIGVsc2UgY291bGQgc2FmZWx5IG1ha2UgY2hhbmdlcyB0byB0aGUgdmFsdWUgc2V0IGRlZmluaXRpb24uIFNvdXJjZSB3b3JrZmxvdyBjb250cm9sIG11c3QgZ3VhcmFudGVlIHRoYXQgdGhlIHNhbWUgVVJJIGFsd2F5cyB5aWVsZHMgdGhlIHNhbWUgZGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgaW1tdXRhYmxlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGRvZXMgbm90IGRlc2NyaWJlIHRoZSB1c2FnZSBvZiB0aGUgdmFsdWUgc2V0LiBJbnN0ZWFkLCBpdCBwcm92aWRlcyB0cmFjZWFiaWxpdHkgb2YgJyd3aHknJyB0aGUgcmVzb3VyY2UgaXMgZWl0aGVyIG5lZWRlZCBvciAnJ3doeScnIGl0IGlzIGRlZmluZWQgYXMgaXQgaXMuICBUaGlzIG1heSBiZSB1c2VkIHRvIHBvaW50IHRvIHNvdXJjZSBtYXRlcmlhbHMgb3Igc3BlY2lmaWNhdGlvbnMgdGhhdCBkcm92ZSB0aGUgc3RydWN0dXJlIG9mIHRoaXMgdmFsdWUgc2V0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdXJwb3NlPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIG51bGxGcmVxdWVudGx5LCB0aGUgY29weXJpZ2h0IGRpZmZlcnMgYmV0d2VlbiB0aGUgdmFsdWUgc2V0IGFuZCB0aGUgY29kZXMgdGhhdCBhcmUgaW5jbHVkZWQuIFRoZSBjb3B5cmlnaHQgc3RhdGVtZW50IHNob3VsZCBjbGVhcmx5IGRpZmZlcmVudGlhdGUgYmV0d2VlbiB0aGVzZSB3aGVuIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzZXQgb2YgY3JpdGVyaWEgdGhhdCBkZWZpbmUgdGhlIGNvbnRlbnRzIG9mIHRoZSB2YWx1ZSBzZXQgYnkgaW5jbHVkaW5nIG9yIGV4Y2x1ZGluZyBjb2RlcyBzZWxlY3RlZCBmcm9tIHRoZSBzcGVjaWZpZWQgY29kZSBzeXN0ZW0ocykgdGhhdCB0aGUgdmFsdWUgc2V0IGRyYXdzIGZyb20uIFRoaXMgaXMgYWxzbyBrbm93biBhcyB0aGUgQ29udGVudCBMb2dpY2FsIERlZmluaXRpb24gKENMRCkuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbXBvc2U/OiBmaGlyLlZhbHVlU2V0Q29tcG9zZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXhwYW5zaW9uIGlzIHBlcmZvcm1lZCB0byBwcm9kdWNlIGEgY29sbGVjdGlvbiBvZiBjb2RlcyB0aGF0IGFyZSByZWFkeSB0byB1c2UgZm9yIGRhdGEgZW50cnkgb3IgdmFsaWRhdGlvbi4gVmFsdWUgc2V0IGV4cGFuc2lvbnMgYXJlIGFsd2F5cyBjb25zaWRlcmVkIHRvIGJlIHN0YXRlbGVzcyAtIHRoZXkgYXJlIGEgcmVjb3JkIG9mIHRoZSBzZXQgb2YgY29kZXMgaW4gdGhlIHZhbHVlIHNldCBhdCBhIHBvaW50IGluIHRpbWUgdW5kZXIgYSBnaXZlbiBzZXQgb2YgY29uZGl0aW9ucywgYW5kIGFyZSBub3Qgc3ViamVjdCB0byBvbmdvaW5nIG1haW50ZW5hbmNlLlxyXG4gICAqIEV4cGFuc2lvbi5wYXJhbWV0ZXIgaXMgIGEgc2ltcGxpZmllZCBsaXN0IG9mIHBhcmFtZXRlcnMgLSBhIHN1YnNldCBvZiB0aGUgZmVhdHVyZXMgb2YgdGhlIFtQYXJhbWV0ZXJzXShwYXJhbWV0ZXJzLmh0bWwpIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHBhbnNpb24/OiBmaGlyLlZhbHVlU2V0RXhwYW5zaW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWYWx1ZVNldCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZhbHVlU2V0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ1ZhbHVlU2V0JztcclxuICAgIGlmIChzb3VyY2VbJ3VybCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy51cmwgPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLnVybH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdXJsJ10pIHtcclxuICAgICAgaWYgKHRoaXMudXJsKSB7IHRoaXMudXJsLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3VybCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl91cmwgYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcnNpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcnNpb24pIHsgdGhpcy52ZXJzaW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcnNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZlcnNpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3RpdGxlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnRpdGxlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS50aXRsZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGl0bGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50aXRsZSkgeyB0aGlzLnRpdGxlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3RpdGxlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fdGl0bGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhwZXJpbWVudGFsJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmV4cGVyaW1lbnRhbCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmV4cGVyaW1lbnRhbH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZXhwZXJpbWVudGFsJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZXhwZXJpbWVudGFsKSB7IHRoaXMuZXhwZXJpbWVudGFsLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2V4cGVyaW1lbnRhbCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmV4cGVyaW1lbnRhbCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fZXhwZXJpbWVudGFsIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRhdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVibGlzaGVyJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnB1Ymxpc2hlciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucHVibGlzaGVyfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wdWJsaXNoZXInXSkge1xyXG4gICAgICBpZiAodGhpcy5wdWJsaXNoZXIpIHsgdGhpcy5wdWJsaXNoZXIuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcHVibGlzaGVyISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHVibGlzaGVyID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3B1Ymxpc2hlciBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFjdCddKSB7IHRoaXMuY29udGFjdCA9IHNvdXJjZS5jb250YWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29udGFjdERldGFpbCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhY3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJNYXJrZG93bkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndXNlQ29udGV4dCddKSB7IHRoaXMudXNlQ29udGV4dCA9IHNvdXJjZS51c2VDb250ZXh0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuVXNhZ2VDb250ZXh0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudXNlQ29udGV4dCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydqdXJpc2RpY3Rpb24nXSkgeyB0aGlzLmp1cmlzZGljdGlvbiA9IHNvdXJjZS5qdXJpc2RpY3Rpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5qdXJpc2RpY3Rpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW1tdXRhYmxlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmltbXV0YWJsZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmltbXV0YWJsZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW1tdXRhYmxlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaW1tdXRhYmxlKSB7IHRoaXMuaW1tdXRhYmxlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ltbXV0YWJsZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmltbXV0YWJsZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5faW1tdXRhYmxlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVycG9zZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5wdXJwb3NlID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLnB1cnBvc2V9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3B1cnBvc2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5wdXJwb3NlKSB7IHRoaXMucHVycG9zZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wdXJwb3NlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHVycG9zZSA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bihzb3VyY2UuX3B1cnBvc2UgYXMgUGFydGlhbDxmaGlyLkZoaXJNYXJrZG93bkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29weXJpZ2h0J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmNvcHlyaWdodCA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5jb3B5cmlnaHR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvcHlyaWdodCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvcHlyaWdodCkgeyB0aGlzLmNvcHlyaWdodC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb3B5cmlnaHQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb3B5cmlnaHQgPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oc291cmNlLl9jb3B5cmlnaHQgYXMgUGFydGlhbDxmaGlyLkZoaXJNYXJrZG93bkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tcG9zZSddKSB7IHRoaXMuY29tcG9zZSA9IG5ldyBmaGlyLlZhbHVlU2V0Q29tcG9zZShzb3VyY2UuY29tcG9zZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2V4cGFuc2lvbiddKSB7IHRoaXMuZXhwYW5zaW9uID0gbmV3IGZoaXIuVmFsdWVTZXRFeHBhbnNpb24oc291cmNlLmV4cGFuc2lvbiwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdWYWx1ZVNldCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3VybCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndmVyc2lvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndGl0bGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnUHVibGljYXRpb25TdGF0dXMnLFB1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2V4cGVyaW1lbnRhbCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHVibGlzaGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb250YWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndXNlQ29udGV4dCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnanVyaXNkaWN0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbW11dGFibGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3B1cnBvc2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NvcHlyaWdodCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29tcG9zZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZXhwYW5zaW9uJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==