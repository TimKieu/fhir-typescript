// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: VerificationResult
import * as fhir from '../fhir.js';
// @ts-ignore
import { VerificationresultValidationStatusCodings, } from '../fhirValueSets/VerificationresultValidationStatusCodings.js';
// @ts-ignore
import { VerificationresultCanPushUpdatesCodings, } from '../fhirValueSets/VerificationresultCanPushUpdatesCodings.js';
// @ts-ignore
import { VerificationresultPushTypeAvailableCodings, } from '../fhirValueSets/VerificationresultPushTypeAvailableCodings.js';
// @ts-ignore
import { VerificationresultNeedCodings, } from '../fhirValueSets/VerificationresultNeedCodings.js';
// @ts-ignore
import { VerificationresultStatusCodes } from '../fhirValueSets/VerificationresultStatusCodes.js';
// @ts-ignore
import { VerificationresultValidationTypeCodings, } from '../fhirValueSets/VerificationresultValidationTypeCodings.js';
// @ts-ignore
import { VerificationresultFailureActionCodings, } from '../fhirValueSets/VerificationresultFailureActionCodings.js';
/**
 * Information about the primary source(s) involved in validation.
 */
export class VerificationResultPrimarySource extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultPrimarySource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['who']) {
            this.who = new fhir.Reference(source.who);
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['communicationMethod']) {
            this.communicationMethod = source.communicationMethod.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.communicationMethod = [];
        }
        if (source['validationStatus']) {
            this.validationStatus = new fhir.CodeableConcept(source.validationStatus);
        }
        if (source['validationDate']) {
            this.validationDate = new fhir.FhirDateTime({ value: source.validationDate });
        }
        if (source['canPushUpdates']) {
            this.canPushUpdates = new fhir.CodeableConcept(source.canPushUpdates);
        }
        if (source['pushTypeAvailable']) {
            this.pushTypeAvailable = source.pushTypeAvailable.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.pushTypeAvailable = [];
        }
    }
    /**
     * Preferred-bound Value Set for validationStatus (VerificationResult.primarySource.validationStatus)
     */
    static get validationStatusPreferredCodings() {
        return VerificationresultValidationStatusCodings;
    }
    /**
     * Preferred-bound Value Set for canPushUpdates (VerificationResult.primarySource.canPushUpdates)
     */
    static get canPushUpdatesPreferredCodings() {
        return VerificationresultCanPushUpdatesCodings;
    }
    /**
     * Preferred-bound Value Set for pushTypeAvailable (VerificationResult.primarySource.pushTypeAvailable)
     */
    static get pushTypeAvailablePreferredCodings() {
        return VerificationresultPushTypeAvailableCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["who"]) {
            issues.push(...this.who.doModelValidation());
        }
        if (this["type"]) {
            this.type.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["communicationMethod"]) {
            this.communicationMethod.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["validationStatus"]) {
            issues.push(...this.validationStatus.doModelValidation());
        }
        if (this["validationDate"]) {
            issues.push(...this.validationDate.doModelValidation());
        }
        if (this["canPushUpdates"]) {
            issues.push(...this.canPushUpdates.doModelValidation());
        }
        if (this["pushTypeAvailable"]) {
            this.pushTypeAvailable.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultPrimarySource._fts_dataType = 'VerificationResultPrimarySource';
/**
 * Information about the entity attesting to information.
 */
export class VerificationResultAttestation extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultAttestation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['who']) {
            this.who = new fhir.Reference(source.who);
        }
        if (source['onBehalfOf']) {
            this.onBehalfOf = new fhir.Reference(source.onBehalfOf);
        }
        if (source['communicationMethod']) {
            this.communicationMethod = new fhir.CodeableConcept(source.communicationMethod);
        }
        if (source['date']) {
            this.date = new fhir.FhirDate({ value: source.date });
        }
        if (source['sourceIdentityCertificate']) {
            this.sourceIdentityCertificate = new fhir.FhirString({ value: source.sourceIdentityCertificate });
        }
        if (source['proxyIdentityCertificate']) {
            this.proxyIdentityCertificate = new fhir.FhirString({ value: source.proxyIdentityCertificate });
        }
        if (source['proxySignature']) {
            this.proxySignature = new fhir.Signature(source.proxySignature);
        }
        if (source['sourceSignature']) {
            this.sourceSignature = new fhir.Signature(source.sourceSignature);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["who"]) {
            issues.push(...this.who.doModelValidation());
        }
        if (this["onBehalfOf"]) {
            issues.push(...this.onBehalfOf.doModelValidation());
        }
        if (this["communicationMethod"]) {
            issues.push(...this.communicationMethod.doModelValidation());
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation());
        }
        if (this["sourceIdentityCertificate"]) {
            issues.push(...this.sourceIdentityCertificate.doModelValidation());
        }
        if (this["proxyIdentityCertificate"]) {
            issues.push(...this.proxyIdentityCertificate.doModelValidation());
        }
        if (this["proxySignature"]) {
            issues.push(...this.proxySignature.doModelValidation());
        }
        if (this["sourceSignature"]) {
            issues.push(...this.sourceSignature.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultAttestation._fts_dataType = 'VerificationResultAttestation';
/**
 * Information about the entity validating information.
 */
export class VerificationResultValidator extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultValidator - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['organization']) {
            this.organization = new fhir.Reference(source.organization);
        }
        else {
            this.organization = null;
        }
        if (source['identityCertificate']) {
            this.identityCertificate = new fhir.FhirString({ value: source.identityCertificate });
        }
        if (source['attestationSignature']) {
            this.attestationSignature = new fhir.Signature(source.attestationSignature);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['organization']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property organization:fhir.Reference fhir: VerificationResult.validator.organization:Reference' });
        }
        if (this["organization"]) {
            issues.push(...this.organization.doModelValidation());
        }
        if (this["identityCertificate"]) {
            issues.push(...this.identityCertificate.doModelValidation());
        }
        if (this["attestationSignature"]) {
            issues.push(...this.attestationSignature.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultValidator._fts_dataType = 'VerificationResultValidator';
/**
 * Describes validation requirements, source(s), status and dates for one or more elements.
 */
export class VerificationResult extends fhir.DomainResource {
    /**
     * Default constructor for VerificationResult - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'VerificationResult';
        if (source['target']) {
            this.target = source.target.map((x) => new fhir.Reference(x));
        }
        else {
            this.target = [];
        }
        if (source['targetLocation']) {
            this.targetLocation = source.targetLocation.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.targetLocation = [];
        }
        if (source['need']) {
            this.need = new fhir.CodeableConcept(source.need);
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['statusDate']) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate });
        }
        if (source['validationType']) {
            this.validationType = new fhir.CodeableConcept(source.validationType);
        }
        if (source['validationProcess']) {
            this.validationProcess = source.validationProcess.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.validationProcess = [];
        }
        if (source['frequency']) {
            this.frequency = new fhir.Timing(source.frequency);
        }
        if (source['lastPerformed']) {
            this.lastPerformed = new fhir.FhirDateTime({ value: source.lastPerformed });
        }
        if (source['nextScheduled']) {
            this.nextScheduled = new fhir.FhirDate({ value: source.nextScheduled });
        }
        if (source['failureAction']) {
            this.failureAction = new fhir.CodeableConcept(source.failureAction);
        }
        if (source['primarySource']) {
            this.primarySource = source.primarySource.map((x) => new fhir.VerificationResultPrimarySource(x));
        }
        else {
            this.primarySource = [];
        }
        if (source['attestation']) {
            this.attestation = new fhir.VerificationResultAttestation(source.attestation);
        }
        if (source['validator']) {
            this.validator = source.validator.map((x) => new fhir.VerificationResultValidator(x));
        }
        else {
            this.validator = [];
        }
    }
    /**
     * Preferred-bound Value Set for need (VerificationResult.need)
     */
    static get needPreferredCodings() {
        return VerificationresultNeedCodings;
    }
    /**
     * Required-bound Value Set for status (VerificationResult.status)
     */
    static get statusRequiredCodes() {
        return VerificationresultStatusCodes;
    }
    /**
     * Preferred-bound Value Set for validationType (VerificationResult.validationType)
     */
    static get validationTypePreferredCodings() {
        return VerificationresultValidationTypeCodings;
    }
    /**
     * Preferred-bound Value Set for failureAction (VerificationResult.failureAction)
     */
    static get failureActionPreferredCodings() {
        return VerificationresultFailureActionCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"VerificationResult" fhir: VerificationResult.resourceType:"VerificationResult"' });
        }
        if (this["target"]) {
            this.target.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["targetLocation"]) {
            this.targetLocation.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["need"]) {
            issues.push(...this.need.doModelValidation());
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:fhir.FhirCode<VerificationresultStatusCodeType> fhir: VerificationResult.status:code' });
        }
        if (this['status'] && (!Object.values(VerificationresultStatusCodes).includes(this.status))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property status:fhir.FhirCode<VerificationresultStatusCodeType> fhir: VerificationResult.status:code Required binding to: VerificationresultStatus' });
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation());
        }
        if (this["statusDate"]) {
            issues.push(...this.statusDate.doModelValidation());
        }
        if (this["validationType"]) {
            issues.push(...this.validationType.doModelValidation());
        }
        if (this["validationProcess"]) {
            this.validationProcess.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["frequency"]) {
            issues.push(...this.frequency.doModelValidation());
        }
        if (this["lastPerformed"]) {
            issues.push(...this.lastPerformed.doModelValidation());
        }
        if (this["nextScheduled"]) {
            issues.push(...this.nextScheduled.doModelValidation());
        }
        if (this["failureAction"]) {
            issues.push(...this.failureAction.doModelValidation());
        }
        if (this["primarySource"]) {
            this.primarySource.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["attestation"]) {
            issues.push(...this.attestation.doModelValidation());
        }
        if (this["validator"]) {
            this.validator.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResult._fts_dataType = 'VerificationResult';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmVyaWZpY2F0aW9uUmVzdWx0LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9WZXJpZmljYXRpb25SZXN1bHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBVW5DLGFBQWE7QUFDYixPQUFPLEVBQUUseUNBQXlDLEdBQWdELE1BQU0sK0RBQStELENBQUM7QUFHeEssYUFBYTtBQUNiLE9BQU8sRUFBRSx1Q0FBdUMsR0FBOEMsTUFBTSw2REFBNkQsQ0FBQztBQUdsSyxhQUFhO0FBQ2IsT0FBTyxFQUFFLDBDQUEwQyxHQUFpRCxNQUFNLGdFQUFnRSxDQUFDO0FBRzNLLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEdBQW9DLE1BQU0sbURBQW1ELENBQUM7QUFLcEksYUFBYTtBQUNiLE9BQU8sRUFBRSw2QkFBNkIsRUFBcUMsTUFBTSxtREFBbUQsQ0FBQztBQUNySSxhQUFhO0FBQ2IsT0FBTyxFQUFFLHVDQUF1QyxHQUE4QyxNQUFNLDZEQUE2RCxDQUFDO0FBT2xLLGFBQWE7QUFDYixPQUFPLEVBQUUsc0NBQXNDLEdBQTZDLE1BQU0sNERBQTRELENBQUM7QUFxQy9KOztHQUVHO0FBQ0gsTUFBTSxPQUFPLCtCQUFnQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUN2RTs7T0FFRztJQUNILFlBQVksU0FBc0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDNUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUFFO1FBQ2pFLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FB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YSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUNsRixJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDcEcsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUFoSkQ7O0dBRUc7QUFDNkIsZ0NBQWEsR0FBVSxvQkFBb0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogVmVyaWZpY2F0aW9uUmVzdWx0XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRQcmltYXJ5U291cmNlVHlwZUNvZGluZ3MsIFZlcmlmaWNhdGlvbnJlc3VsdFByaW1hcnlTb3VyY2VUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0UHJpbWFyeVNvdXJjZVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRQcmltYXJ5U291cmNlVHlwZUNvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0UHJpbWFyeVNvdXJjZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0UHJpbWFyeVNvdXJjZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0Q29tbXVuaWNhdGlvbk1ldGhvZENvZGluZ3MsIFZlcmlmaWNhdGlvbnJlc3VsdENvbW11bmljYXRpb25NZXRob2RDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRDb21tdW5pY2F0aW9uTWV0aG9kQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0Q29tbXVuaWNhdGlvbk1ldGhvZENvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0Q29tbXVuaWNhdGlvbk1ldGhvZENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRDb21tdW5pY2F0aW9uTWV0aG9kQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNDb2RpbmdzLCBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uU3RhdHVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblN0YXR1c0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRDYW5QdXNoVXBkYXRlc0NvZGluZ3MsIFZlcmlmaWNhdGlvbnJlc3VsdENhblB1c2hVcGRhdGVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRDYW5QdXNoVXBkYXRlc0NvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0UHVzaFR5cGVBdmFpbGFibGVDb2RpbmdzLCBWZXJpZmljYXRpb25yZXN1bHRQdXNoVHlwZUF2YWlsYWJsZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0UHVzaFR5cGVBdmFpbGFibGVDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdE5lZWRDb2RpbmdzLCBWZXJpZmljYXRpb25yZXN1bHROZWVkQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0TmVlZENvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdE5lZWRDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdE5lZWRDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0TmVlZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RpbmdzLCBWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblR5cGVDb2RpbmdzLCBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uVHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25UeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblR5cGVDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25UeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25UeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25Qcm9jZXNzQ29kaW5ncywgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblByb2Nlc3NDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uUHJvY2Vzc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25Qcm9jZXNzQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uUHJvY2Vzc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uUHJvY2Vzc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRGYWlsdXJlQWN0aW9uQ29kaW5ncywgVmVyaWZpY2F0aW9ucmVzdWx0RmFpbHVyZUFjdGlvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdEZhaWx1cmVBY3Rpb25Db2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRGYWlsdXJlQWN0aW9uQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRGYWlsdXJlQWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdEZhaWx1cmVBY3Rpb25Db2Rlcy5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIHByaW1hcnkgc291cmNlLlxyXG4gICAqL1xyXG4gIHdobz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBwcmltYXJ5IHNvdXJjZSAoTGljZW5zZSBCb2FyZDsgUHJpbWFyeSBFZHVjYXRpb247IENvbnRpbnVpbmcgRWR1Y2F0aW9uOyBQb3N0YWwgU2VydmljZTsgUmVsYXRpb25zaGlwIG93bmVyOyBSZWdpc3RyYXRpb24gQXV0aG9yaXR5OyBsZWdhbCBzb3VyY2U7IGlzc3Vpbmcgc291cmNlOyBhdXRob3JpdGF0aXZlIHNvdXJjZSkuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNZXRob2QgZm9yIGNvbW11bmljYXRpbmcgd2l0aCB0aGUgcHJpbWFyeSBzb3VyY2UgKG1hbnVhbDsgQVBJOyBQdXNoKS5cclxuICAgKi9cclxuICBjb21tdW5pY2F0aW9uTWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN0YXR1cyBvZiB0aGUgdmFsaWRhdGlvbiBvZiB0aGUgdGFyZ2V0IGFnYWluc3QgdGhlIHByaW1hcnkgc291cmNlIChzdWNjZXNzZnVsOyBmYWlsZWQ7IHVua25vd24pLlxyXG4gICAqL1xyXG4gIHZhbGlkYXRpb25TdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHRhcmdldCB3YXMgdmFsaWRhdGVkIGFnYWluc3QgdGhlIHByaW1hcnkgc291cmNlLlxyXG4gICAqL1xyXG4gIHZhbGlkYXRpb25EYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBYmlsaXR5IG9mIHRoZSBwcmltYXJ5IHNvdXJjZSB0byBwdXNoIHVwZGF0ZXMvYWxlcnRzICh5ZXM7IG5vOyB1bmRldGVybWluZWQpLlxyXG4gICAqL1xyXG4gIGNhblB1c2hVcGRhdGVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIGFsZXJ0cy91cGRhdGVzIHRoZSBwcmltYXJ5IHNvdXJjZSBjYW4gc2VuZCAoc3BlY2lmaWMgcmVxdWVzdGVkIGNoYW5nZXM7IGFueSBjaGFuZ2VzOyBhcyBkZWZpbmVkIGJ5IHNvdXJjZSkuXHJcbiAgICovXHJcbiAgcHVzaFR5cGVBdmFpbGFibGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJpbWFyeSBzb3VyY2UocykgaW52b2x2ZWQgaW4gdmFsaWRhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZSc7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBwcmltYXJ5IHNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgd2hvPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgcHJpbWFyeSBzb3VyY2UgKExpY2Vuc2UgQm9hcmQ7IFByaW1hcnkgRWR1Y2F0aW9uOyBDb250aW51aW5nIEVkdWNhdGlvbjsgUG9zdGFsIFNlcnZpY2U7IFJlbGF0aW9uc2hpcCBvd25lcjsgUmVnaXN0cmF0aW9uIEF1dGhvcml0eTsgbGVnYWwgc291cmNlOyBpc3N1aW5nIHNvdXJjZTsgYXV0aG9yaXRhdGl2ZSBzb3VyY2UpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIE1ldGhvZCBmb3IgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBwcmltYXJ5IHNvdXJjZSAobWFudWFsOyBBUEk7IFB1c2gpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21tdW5pY2F0aW9uTWV0aG9kOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFN0YXR1cyBvZiB0aGUgdmFsaWRhdGlvbiBvZiB0aGUgdGFyZ2V0IGFnYWluc3QgdGhlIHByaW1hcnkgc291cmNlIChzdWNjZXNzZnVsOyBmYWlsZWQ7IHVua25vd24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWxpZGF0aW9uU3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHRhcmdldCB3YXMgdmFsaWRhdGVkIGFnYWluc3QgdGhlIHByaW1hcnkgc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWxpZGF0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBYmlsaXR5IG9mIHRoZSBwcmltYXJ5IHNvdXJjZSB0byBwdXNoIHVwZGF0ZXMvYWxlcnRzICh5ZXM7IG5vOyB1bmRldGVybWluZWQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYW5QdXNoVXBkYXRlcz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIGFsZXJ0cy91cGRhdGVzIHRoZSBwcmltYXJ5IHNvdXJjZSBjYW4gc2VuZCAoc3BlY2lmaWMgcmVxdWVzdGVkIGNoYW5nZXM7IGFueSBjaGFuZ2VzOyBhcyBkZWZpbmVkIGJ5IHNvdXJjZSkuXHJcbiAgICovXHJcbiAgcHVibGljIHB1c2hUeXBlQXZhaWxhYmxlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3dobyddKSB7IHRoaXMud2hvID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS53aG8pOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gc291cmNlLnR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW11bmljYXRpb25NZXRob2QnXSkgeyB0aGlzLmNvbW11bmljYXRpb25NZXRob2QgPSBzb3VyY2UuY29tbXVuaWNhdGlvbk1ldGhvZC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbW11bmljYXRpb25NZXRob2QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRhdGlvblN0YXR1cyddKSB7IHRoaXMudmFsaWRhdGlvblN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmFsaWRhdGlvblN0YXR1cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbGlkYXRpb25EYXRlJ10pIHsgdGhpcy52YWxpZGF0aW9uRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS52YWxpZGF0aW9uRGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydjYW5QdXNoVXBkYXRlcyddKSB7IHRoaXMuY2FuUHVzaFVwZGF0ZXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNhblB1c2hVcGRhdGVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVzaFR5cGVBdmFpbGFibGUnXSkgeyB0aGlzLnB1c2hUeXBlQXZhaWxhYmxlID0gc291cmNlLnB1c2hUeXBlQXZhaWxhYmxlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHVzaFR5cGVBdmFpbGFibGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBQcmVmZXJyZWQtYm91bmQgVmFsdWUgU2V0IGZvciB2YWxpZGF0aW9uU3RhdHVzIChWZXJpZmljYXRpb25SZXN1bHQucHJpbWFyeVNvdXJjZS52YWxpZGF0aW9uU3RhdHVzKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHZhbGlkYXRpb25TdGF0dXNQcmVmZXJyZWRDb2RpbmdzKCk6VmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblN0YXR1c0NvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBQcmVmZXJyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBjYW5QdXNoVXBkYXRlcyAoVmVyaWZpY2F0aW9uUmVzdWx0LnByaW1hcnlTb3VyY2UuY2FuUHVzaFVwZGF0ZXMpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgY2FuUHVzaFVwZGF0ZXNQcmVmZXJyZWRDb2RpbmdzKCk6VmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBWZXJpZmljYXRpb25yZXN1bHRDYW5QdXNoVXBkYXRlc0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFByZWZlcnJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHB1c2hUeXBlQXZhaWxhYmxlIChWZXJpZmljYXRpb25SZXN1bHQucHJpbWFyeVNvdXJjZS5wdXNoVHlwZUF2YWlsYWJsZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBwdXNoVHlwZUF2YWlsYWJsZVByZWZlcnJlZENvZGluZ3MoKTpWZXJpZmljYXRpb25yZXN1bHRQdXNoVHlwZUF2YWlsYWJsZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1wid2hvXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMud2hvLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgdGhpcy50eXBlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJjb21tdW5pY2F0aW9uTWV0aG9kXCJdKSB7IHRoaXMuY29tbXVuaWNhdGlvbk1ldGhvZC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widmFsaWRhdGlvblN0YXR1c1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZhbGlkYXRpb25TdGF0dXMuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widmFsaWRhdGlvbkRhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52YWxpZGF0aW9uRGF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjYW5QdXNoVXBkYXRlc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNhblB1c2hVcGRhdGVzLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInB1c2hUeXBlQXZhaWxhYmxlXCJdKSB7IHRoaXMucHVzaFR5cGVBdmFpbGFibGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHdobz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgd2hvIGlzIGFzc2VydGluZyBvbiBiZWhhbGYgb2YgYW5vdGhlciAob3JnYW5pemF0aW9uIG9yIGluZGl2aWR1YWwpLlxyXG4gICAqL1xyXG4gIG9uQmVoYWxmT2Y/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgYnkgd2hpY2ggYXR0ZXN0ZWQgaW5mb3JtYXRpb24gd2FzIHN1Ym1pdHRlZC9yZXRyaWV2ZWQgKG1hbnVhbDsgQVBJOyBQdXNoKS5cclxuICAgKi9cclxuICBjb21tdW5pY2F0aW9uTWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB0aGUgaW5mb3JtYXRpb24gd2FzIGF0dGVzdGVkIHRvLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBkaWdpdGFsIGlkZW50aXR5IGNlcnRpZmljYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRpZ2l0YWwgaWRlbnRpdHkgY2VydGlmaWNhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm94eSBlbnRpdHkgc3VibWl0dGluZyBhdHRlc3RlZCBpbmZvcm1hdGlvbiBvbiBiZWhhbGYgb2YgdGhlIGF0dGVzdGF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBwcm94eUlkZW50aXR5Q2VydGlmaWNhdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSBwcm94eSBlbnRpdHkgaW5kaWNhdGluZyB0aGF0IHRoZXkgaGF2ZSB0aGUgcmlnaHQgdG8gc3VibWl0IGF0dGVzdGVkIGluZm9ybWF0aW9uIG9uIGJlaGFsZiBvZiB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHByb3h5U2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmVBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UgdGhhdCB0aGV5IGhhdmUgYXR0ZXN0ZWQgdG8gdGhlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHNvdXJjZVNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IGF0dGVzdGluZyB0byBpbmZvcm1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3aG8/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgd2hvIGlzIGFzc2VydGluZyBvbiBiZWhhbGYgb2YgYW5vdGhlciAob3JnYW5pemF0aW9uIG9yIGluZGl2aWR1YWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvbkJlaGFsZk9mPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgYnkgd2hpY2ggYXR0ZXN0ZWQgaW5mb3JtYXRpb24gd2FzIHN1Ym1pdHRlZC9yZXRyaWV2ZWQgKG1hbnVhbDsgQVBJOyBQdXNoKS5cclxuICAgKi9cclxuICBwdWJsaWMgY29tbXVuaWNhdGlvbk1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB0aGUgaW5mb3JtYXRpb24gd2FzIGF0dGVzdGVkIHRvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlPzogZmhpci5GaGlyRGF0ZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBkaWdpdGFsIGlkZW50aXR5IGNlcnRpZmljYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRpZ2l0YWwgaWRlbnRpdHkgY2VydGlmaWNhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm94eSBlbnRpdHkgc3VibWl0dGluZyBhdHRlc3RlZCBpbmZvcm1hdGlvbiBvbiBiZWhhbGYgb2YgdGhlIGF0dGVzdGF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJveHlJZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSBwcm94eSBlbnRpdHkgaW5kaWNhdGluZyB0aGF0IHRoZXkgaGF2ZSB0aGUgcmlnaHQgdG8gc3VibWl0IGF0dGVzdGVkIGluZm9ybWF0aW9uIG9uIGJlaGFsZiBvZiB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm94eVNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UgdGhhdCB0aGV5IGhhdmUgYXR0ZXN0ZWQgdG8gdGhlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2VTaWduYXR1cmU/OiBmaGlyLlNpZ25hdHVyZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd3aG8nXSkgeyB0aGlzLndobyA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uud2hvKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb25CZWhhbGZPZiddKSB7IHRoaXMub25CZWhhbGZPZiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub25CZWhhbGZPZik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW11bmljYXRpb25NZXRob2QnXSkgeyB0aGlzLmNvbW11bmljYXRpb25NZXRob2QgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvbW11bmljYXRpb25NZXRob2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlJ10pIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UuZGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlJ10pIHsgdGhpcy5zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZSddKSB7IHRoaXMucHJveHlJZGVudGl0eUNlcnRpZmljYXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wcm94eUlkZW50aXR5Q2VydGlmaWNhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJveHlTaWduYXR1cmUnXSkgeyB0aGlzLnByb3h5U2lnbmF0dXJlID0gbmV3IGZoaXIuU2lnbmF0dXJlKHNvdXJjZS5wcm94eVNpZ25hdHVyZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZVNpZ25hdHVyZSddKSB7IHRoaXMuc291cmNlU2lnbmF0dXJlID0gbmV3IGZoaXIuU2lnbmF0dXJlKHNvdXJjZS5zb3VyY2VTaWduYXR1cmUpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcIndob1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLndoby5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvbkJlaGFsZk9mXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub25CZWhhbGZPZi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb21tdW5pY2F0aW9uTWV0aG9kXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29tbXVuaWNhdGlvbk1ldGhvZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm94eUlkZW50aXR5Q2VydGlmaWNhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcm94eUlkZW50aXR5Q2VydGlmaWNhdGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHJveHlTaWduYXR1cmVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcm94eVNpZ25hdHVyZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzb3VyY2VTaWduYXR1cmVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zb3VyY2VTaWduYXR1cmUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3IgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmdhbml6YXRpb24gdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBvcmdhbml6YXRpb246IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgZGlnaXRhbCBpZGVudGl0eSBjZXJ0aWZpY2F0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHZhbGlkYXRvci5cclxuICAgKi9cclxuICBpZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2lnbmVkIGFzc2VydGlvbiBieSB0aGUgdmFsaWRhdG9yIHRoYXQgdGhleSBoYXZlIHZhbGlkYXRlZCB0aGUgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgYXR0ZXN0YXRpb25TaWduYXR1cmU/OiBmaGlyLlNpZ25hdHVyZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGVudGl0eSB2YWxpZGF0aW5nIGluZm9ybWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvcic7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmdhbml6YXRpb24gdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pemF0aW9uOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgZGlnaXRhbCBpZGVudGl0eSBjZXJ0aWZpY2F0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHZhbGlkYXRvci5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpdHlDZXJ0aWZpY2F0ZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2lnbmVkIGFzc2VydGlvbiBieSB0aGUgdmFsaWRhdG9yIHRoYXQgdGhleSBoYXZlIHZhbGlkYXRlZCB0aGUgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGVzdGF0aW9uU2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydvcmdhbml6YXRpb24nXSkgeyB0aGlzLm9yZ2FuaXphdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3JnYW5pemF0aW9uKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3JnYW5pemF0aW9uID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpdHlDZXJ0aWZpY2F0ZSddKSB7IHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuaWRlbnRpdHlDZXJ0aWZpY2F0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydhdHRlc3RhdGlvblNpZ25hdHVyZSddKSB7IHRoaXMuYXR0ZXN0YXRpb25TaWduYXR1cmUgPSBuZXcgZmhpci5TaWduYXR1cmUoc291cmNlLmF0dGVzdGF0aW9uU2lnbmF0dXJlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydvcmdhbml6YXRpb24nXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgb3JnYW5pemF0aW9uOmZoaXIuUmVmZXJlbmNlIGZoaXI6IFZlcmlmaWNhdGlvblJlc3VsdC52YWxpZGF0b3Iub3JnYW5pemF0aW9uOlJlZmVyZW5jZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcIm9yZ2FuaXphdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm9yZ2FuaXphdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJpZGVudGl0eUNlcnRpZmljYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJhdHRlc3RhdGlvblNpZ25hdHVyZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmF0dGVzdGF0aW9uU2lnbmF0dXJlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmVyaWZpY2F0aW9uUmVzdWx0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmaWNhdGlvblJlc3VsdEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIlZlcmlmaWNhdGlvblJlc3VsdFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHJlc291cmNlIHRoYXQgd2FzIHZhbGlkYXRlZC5cclxuICAgKi9cclxuICB0YXJnZXQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZoaXJwYXRoIGxvY2F0aW9uKHMpIHdpdGhpbiB0aGUgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHRhcmdldExvY2F0aW9uPzogZmhpci5GaGlyU3RyaW5nW118c3RyaW5nW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmcmVxdWVuY3kgd2l0aCB3aGljaCB0aGUgdGFyZ2V0IG11c3QgYmUgdmFsaWRhdGVkIChub25lOyBpbml0aWFsOyBwZXJpb2RpYykuXHJcbiAgICovXHJcbiAgbmVlZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbGlkYXRpb24gc3RhdHVzIG9mIHRoZSB0YXJnZXQgKGF0dGVzdGVkOyB2YWxpZGF0ZWQ7IGluIHByb2Nlc3M7IHJlcXVpcmVzIHJldmFsaWRhdGlvbjsgdmFsaWRhdGlvbiBmYWlsZWQ7IHJldmFsaWRhdGlvbiBmYWlsZWQpLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3YXMgdXBkYXRlZC5cclxuICAgKi9cclxuICBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGF0IHRoZSB0YXJnZXQgaXMgdmFsaWRhdGVkIGFnYWluc3QgKG5vdGhpbmc7IHByaW1hcnkgc291cmNlOyBtdWx0aXBsZSBzb3VyY2VzKS5cclxuICAgKi9cclxuICB2YWxpZGF0aW9uVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaW1hcnkgcHJvY2VzcyBieSB3aGljaCB0aGUgdGFyZ2V0IGlzIHZhbGlkYXRlZCAoZWRpdCBjaGVjazsgdmFsdWUgc2V0OyBwcmltYXJ5IHNvdXJjZTsgbXVsdGlwbGUgc291cmNlczsgc3RhbmRhbG9uZTsgaW4gY29udGV4dCkuXHJcbiAgICovXHJcbiAgdmFsaWRhdGlvblByb2Nlc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlcXVlbmN5IG9mIHJldmFsaWRhdGlvbi5cclxuICAgKi9cclxuICBmcmVxdWVuY3k/OiBmaGlyLlRpbWluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlL3RpbWUgdmFsaWRhdGlvbiB3YXMgbGFzdCBjb21wbGV0ZWQgKGluY2x1ZGluZyBmYWlsZWQgdmFsaWRhdGlvbnMpLlxyXG4gICAqL1xyXG4gIGxhc3RQZXJmb3JtZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gdGFyZ2V0IGlzIG5leHQgdmFsaWRhdGVkLCBpZiBhcHByb3ByaWF0ZS5cclxuICAgKi9cclxuICBuZXh0U2NoZWR1bGVkPzogZmhpci5GaGlyRGF0ZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXN1bHQgaWYgdmFsaWRhdGlvbiBmYWlscyAoZmF0YWw7IHdhcm5pbmc7IHJlY29yZCBvbmx5OyBub25lKS5cclxuICAgKi9cclxuICBmYWlsdXJlQWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJpbWFyeSBzb3VyY2UocykgaW52b2x2ZWQgaW4gdmFsaWRhdGlvbi5cclxuICAgKi9cclxuICBwcmltYXJ5U291cmNlPzogZmhpci5WZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IGF0dGVzdGluZyB0byBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBhdHRlc3RhdGlvbj86IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IHZhbGlkYXRpbmcgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgdmFsaWRhdG9yPzogZmhpci5WZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3JBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVzY3JpYmVzIHZhbGlkYXRpb24gcmVxdWlyZW1lbnRzLCBzb3VyY2UocyksIHN0YXR1cyBhbmQgZGF0ZXMgZm9yIG9uZSBvciBtb3JlIGVsZW1lbnRzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvblJlc3VsdCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmVyaWZpY2F0aW9uUmVzdWx0JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlZlcmlmaWNhdGlvblJlc3VsdFwiO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGZoaXJwYXRoIGxvY2F0aW9uKHMpIHdpdGhpbiB0aGUgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXRMb2NhdGlvbjogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGZyZXF1ZW5jeSB3aXRoIHdoaWNoIHRoZSB0YXJnZXQgbXVzdCBiZSB2YWxpZGF0ZWQgKG5vbmU7IGluaXRpYWw7IHBlcmlvZGljKS5cclxuICAgKi9cclxuICBwdWJsaWMgbmVlZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsaWRhdGlvbiBzdGF0dXMgb2YgdGhlIHRhcmdldCAoYXR0ZXN0ZWQ7IHZhbGlkYXRlZDsgaW4gcHJvY2VzczsgcmVxdWlyZXMgcmV2YWxpZGF0aW9uOyB2YWxpZGF0aW9uIGZhaWxlZDsgcmV2YWxpZGF0aW9uIGZhaWxlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3YXMgdXBkYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGF0IHRoZSB0YXJnZXQgaXMgdmFsaWRhdGVkIGFnYWluc3QgKG5vdGhpbmc7IHByaW1hcnkgc291cmNlOyBtdWx0aXBsZSBzb3VyY2VzKS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdGlvblR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaW1hcnkgcHJvY2VzcyBieSB3aGljaCB0aGUgdGFyZ2V0IGlzIHZhbGlkYXRlZCAoZWRpdCBjaGVjazsgdmFsdWUgc2V0OyBwcmltYXJ5IHNvdXJjZTsgbXVsdGlwbGUgc291cmNlczsgc3RhbmRhbG9uZTsgaW4gY29udGV4dCkuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbGlkYXRpb25Qcm9jZXNzOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZyZXF1ZW5jeSBvZiByZXZhbGlkYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGZyZXF1ZW5jeT86IGZoaXIuVGltaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZS90aW1lIHZhbGlkYXRpb24gd2FzIGxhc3QgY29tcGxldGVkIChpbmNsdWRpbmcgZmFpbGVkIHZhbGlkYXRpb25zKS5cclxuICAgKi9cclxuICBwdWJsaWMgbGFzdFBlcmZvcm1lZD86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIHRhcmdldCBpcyBuZXh0IHZhbGlkYXRlZCwgaWYgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIG5leHRTY2hlZHVsZWQ/OiBmaGlyLkZoaXJEYXRlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVzdWx0IGlmIHZhbGlkYXRpb24gZmFpbHMgKGZhdGFsOyB3YXJuaW5nOyByZWNvcmQgb25seTsgbm9uZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGZhaWx1cmVBY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHByaW1hcnkgc291cmNlKHMpIGludm9sdmVkIGluIHZhbGlkYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHByaW1hcnlTb3VyY2U6IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZVtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdHRlc3RhdGlvbj86IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdG9yOiBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvcltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZlcmlmaWNhdGlvblJlc3VsdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZlcmlmaWNhdGlvblJlc3VsdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdWZXJpZmljYXRpb25SZXN1bHQnO1xyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0J10pIHsgdGhpcy50YXJnZXQgPSBzb3VyY2UudGFyZ2V0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGFyZ2V0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldExvY2F0aW9uJ10pIHsgdGhpcy50YXJnZXRMb2NhdGlvbiA9IHNvdXJjZS50YXJnZXRMb2NhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50YXJnZXRMb2NhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyduZWVkJ10pIHsgdGhpcy5uZWVkID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5uZWVkKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1c0RhdGUnXSkgeyB0aGlzLnN0YXR1c0RhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzRGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWxpZGF0aW9uVHlwZSddKSB7IHRoaXMudmFsaWRhdGlvblR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbGlkYXRpb25UeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRhdGlvblByb2Nlc3MnXSkgeyB0aGlzLnZhbGlkYXRpb25Qcm9jZXNzID0gc291cmNlLnZhbGlkYXRpb25Qcm9jZXNzLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsaWRhdGlvblByb2Nlc3MgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZnJlcXVlbmN5J10pIHsgdGhpcy5mcmVxdWVuY3kgPSBuZXcgZmhpci5UaW1pbmcoc291cmNlLmZyZXF1ZW5jeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2xhc3RQZXJmb3JtZWQnXSkgeyB0aGlzLmxhc3RQZXJmb3JtZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UubGFzdFBlcmZvcm1lZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWyduZXh0U2NoZWR1bGVkJ10pIHsgdGhpcy5uZXh0U2NoZWR1bGVkID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UubmV4dFNjaGVkdWxlZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydmYWlsdXJlQWN0aW9uJ10pIHsgdGhpcy5mYWlsdXJlQWN0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5mYWlsdXJlQWN0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJpbWFyeVNvdXJjZSddKSB7IHRoaXMucHJpbWFyeVNvdXJjZSA9IHNvdXJjZS5wcmltYXJ5U291cmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByaW1hcnlTb3VyY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXR0ZXN0YXRpb24nXSkgeyB0aGlzLmF0dGVzdGF0aW9uID0gbmV3IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb24oc291cmNlLmF0dGVzdGF0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRhdG9yJ10pIHsgdGhpcy52YWxpZGF0b3IgPSBzb3VyY2UudmFsaWRhdG9yLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsaWRhdG9yID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUHJlZmVycmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgbmVlZCAoVmVyaWZpY2F0aW9uUmVzdWx0Lm5lZWQpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgbmVlZFByZWZlcnJlZENvZGluZ3MoKTpWZXJpZmljYXRpb25yZXN1bHROZWVkQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gVmVyaWZpY2F0aW9ucmVzdWx0TmVlZENvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzIChWZXJpZmljYXRpb25SZXN1bHQuc3RhdHVzKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHN0YXR1c1JlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gVmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFByZWZlcnJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHZhbGlkYXRpb25UeXBlIChWZXJpZmljYXRpb25SZXN1bHQudmFsaWRhdGlvblR5cGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgdmFsaWRhdGlvblR5cGVQcmVmZXJyZWRDb2RpbmdzKCk6VmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblR5cGVDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uVHlwZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFByZWZlcnJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGZhaWx1cmVBY3Rpb24gKFZlcmlmaWNhdGlvblJlc3VsdC5mYWlsdXJlQWN0aW9uKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IGZhaWx1cmVBY3Rpb25QcmVmZXJyZWRDb2RpbmdzKCk6VmVyaWZpY2F0aW9ucmVzdWx0RmFpbHVyZUFjdGlvbkNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFZlcmlmaWNhdGlvbnJlc3VsdEZhaWx1cmVBY3Rpb25Db2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZVR5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2VUeXBlOlwiVmVyaWZpY2F0aW9uUmVzdWx0XCIgZmhpcjogVmVyaWZpY2F0aW9uUmVzdWx0LnJlc291cmNlVHlwZTpcIlZlcmlmaWNhdGlvblJlc3VsdFwiJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widGFyZ2V0XCJdKSB7IHRoaXMudGFyZ2V0LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJ0YXJnZXRMb2NhdGlvblwiXSkgeyB0aGlzLnRhcmdldExvY2F0aW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJuZWVkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmVlZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydzdGF0dXMnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc3RhdHVzOmZoaXIuRmhpckNvZGU8VmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZVR5cGU+IGZoaXI6IFZlcmlmaWNhdGlvblJlc3VsdC5zdGF0dXM6Y29kZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1snc3RhdHVzJ10gJiYgKCFPYmplY3QudmFsdWVzKFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c0NvZGVzKS5pbmNsdWRlcyh0aGlzLnN0YXR1cyBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgc3RhdHVzOmZoaXIuRmhpckNvZGU8VmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZVR5cGU+IGZoaXI6IFZlcmlmaWNhdGlvblJlc3VsdC5zdGF0dXM6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBWZXJpZmljYXRpb25yZXN1bHRTdGF0dXMnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzdGF0dXNcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdGF0dXMuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3RhdHVzRGF0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnN0YXR1c0RhdGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widmFsaWRhdGlvblR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52YWxpZGF0aW9uVHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ2YWxpZGF0aW9uUHJvY2Vzc1wiXSkgeyB0aGlzLnZhbGlkYXRpb25Qcm9jZXNzLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJmcmVxdWVuY3lcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5mcmVxdWVuY3kuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibGFzdFBlcmZvcm1lZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmxhc3RQZXJmb3JtZWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmV4dFNjaGVkdWxlZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5leHRTY2hlZHVsZWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZmFpbHVyZUFjdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmZhaWx1cmVBY3Rpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHJpbWFyeVNvdXJjZVwiXSkgeyB0aGlzLnByaW1hcnlTb3VyY2UuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImF0dGVzdGF0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYXR0ZXN0YXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widmFsaWRhdG9yXCJdKSB7IHRoaXMudmFsaWRhdG9yLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19