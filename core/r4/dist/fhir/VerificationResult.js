// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: VerificationResult
import * as fhir from '../fhir.js';
// @ts-ignore
import { VerificationresultStatusVsValidation } from '../fhirValueSets/VerificationresultStatusVsValidation.js';
/**
 * Information about the primary source(s) involved in validation.
 */
export class VerificationResultPrimarySource extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultPrimarySource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['who']) {
            this.who = new fhir.Reference(source.who, options);
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.type = [];
        }
        if (source['communicationMethod']) {
            this.communicationMethod = source.communicationMethod.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.communicationMethod = [];
        }
        if (source['validationStatus']) {
            this.validationStatus = new fhir.CodeableConcept(source.validationStatus, options);
        }
        if (source['validationDate'] !== undefined) {
            this.validationDate = new fhir.FhirDateTime({ value: source.validationDate }, options);
        }
        if (source['_validationDate']) {
            if (this.validationDate) {
                this.validationDate.addExtendedProperties(source._validationDate);
            }
            else {
                this.validationDate = new fhir.FhirDateTime(source._validationDate, options);
            }
        }
        if (source['canPushUpdates']) {
            this.canPushUpdates = new fhir.CodeableConcept(source.canPushUpdates, options);
        }
        if (source['pushTypeAvailable']) {
            this.pushTypeAvailable = source.pushTypeAvailable.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.pushTypeAvailable = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VerificationResult.primarySource';
        }
        iss.push(...this.vOS('who', exp));
        iss.push(...this.vOA('type', exp));
        iss.push(...this.vOA('communicationMethod', exp));
        iss.push(...this.vOS('validationStatus', exp));
        iss.push(...this.vOS('validationDate', exp));
        iss.push(...this.vOS('canPushUpdates', exp));
        iss.push(...this.vOA('pushTypeAvailable', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultPrimarySource._fts_dataType = 'VerificationResultPrimarySource';
/**
 * Information about the entity attesting to information.
 */
export class VerificationResultAttestation extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultAttestation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['who']) {
            this.who = new fhir.Reference(source.who, options);
        }
        if (source['onBehalfOf']) {
            this.onBehalfOf = new fhir.Reference(source.onBehalfOf, options);
        }
        if (source['communicationMethod']) {
            this.communicationMethod = new fhir.CodeableConcept(source.communicationMethod, options);
        }
        if (source['date'] !== undefined) {
            this.date = new fhir.FhirDate({ value: source.date }, options);
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDate(source._date, options);
            }
        }
        if (source['sourceIdentityCertificate'] !== undefined) {
            this.sourceIdentityCertificate = new fhir.FhirString({ value: source.sourceIdentityCertificate }, options);
        }
        if (source['_sourceIdentityCertificate']) {
            if (this.sourceIdentityCertificate) {
                this.sourceIdentityCertificate.addExtendedProperties(source._sourceIdentityCertificate);
            }
            else {
                this.sourceIdentityCertificate = new fhir.FhirString(source._sourceIdentityCertificate, options);
            }
        }
        if (source['proxyIdentityCertificate'] !== undefined) {
            this.proxyIdentityCertificate = new fhir.FhirString({ value: source.proxyIdentityCertificate }, options);
        }
        if (source['_proxyIdentityCertificate']) {
            if (this.proxyIdentityCertificate) {
                this.proxyIdentityCertificate.addExtendedProperties(source._proxyIdentityCertificate);
            }
            else {
                this.proxyIdentityCertificate = new fhir.FhirString(source._proxyIdentityCertificate, options);
            }
        }
        if (source['proxySignature']) {
            this.proxySignature = new fhir.Signature(source.proxySignature, options);
        }
        if (source['sourceSignature']) {
            this.sourceSignature = new fhir.Signature(source.sourceSignature, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VerificationResult.attestation';
        }
        iss.push(...this.vOS('who', exp));
        iss.push(...this.vOS('onBehalfOf', exp));
        iss.push(...this.vOS('communicationMethod', exp));
        iss.push(...this.vOS('date', exp));
        iss.push(...this.vOS('sourceIdentityCertificate', exp));
        iss.push(...this.vOS('proxyIdentityCertificate', exp));
        iss.push(...this.vOS('proxySignature', exp));
        iss.push(...this.vOS('sourceSignature', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultAttestation._fts_dataType = 'VerificationResultAttestation';
/**
 * Information about the entity validating information.
 */
export class VerificationResultValidator extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultValidator - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['organization']) {
            this.organization = new fhir.Reference(source.organization, options);
        }
        else {
            this.organization = null;
        }
        if (source['identityCertificate'] !== undefined) {
            this.identityCertificate = new fhir.FhirString({ value: source.identityCertificate }, options);
        }
        if (source['_identityCertificate']) {
            if (this.identityCertificate) {
                this.identityCertificate.addExtendedProperties(source._identityCertificate);
            }
            else {
                this.identityCertificate = new fhir.FhirString(source._identityCertificate, options);
            }
        }
        if (source['attestationSignature']) {
            this.attestationSignature = new fhir.Signature(source.attestationSignature, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VerificationResult.validator';
        }
        iss.push(...this.vRS('organization', exp));
        iss.push(...this.vOS('identityCertificate', exp));
        iss.push(...this.vOS('attestationSignature', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultValidator._fts_dataType = 'VerificationResultValidator';
/**
 * Describes validation requirements, source(s), status and dates for one or more elements.
 */
export class VerificationResult extends fhir.DomainResource {
    /**
     * Default constructor for VerificationResult - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'VerificationResult';
        if (source['target']) {
            this.target = source.target.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.target = [];
        }
        if (source['targetLocation'] !== undefined) {
            this.targetLocation = source.targetLocation.map((x) => new fhir.FhirString({ value: x }, options));
        }
        else {
            this.targetLocation = [];
        }
        if (source['_targetLocation']) {
            source._targetLocation.forEach((x, i) => {
                if (this.targetLocation.length >= i) {
                    if (x) {
                        this.targetLocation[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.targetLocation.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['need']) {
            this.need = new fhir.CodeableConcept(source.need, options);
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['statusDate'] !== undefined) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate }, options);
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDateTime(source._statusDate, options);
            }
        }
        if (source['validationType']) {
            this.validationType = new fhir.CodeableConcept(source.validationType, options);
        }
        if (source['validationProcess']) {
            this.validationProcess = source.validationProcess.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.validationProcess = [];
        }
        if (source['frequency']) {
            this.frequency = new fhir.Timing(source.frequency, options);
        }
        if (source['lastPerformed'] !== undefined) {
            this.lastPerformed = new fhir.FhirDateTime({ value: source.lastPerformed }, options);
        }
        if (source['_lastPerformed']) {
            if (this.lastPerformed) {
                this.lastPerformed.addExtendedProperties(source._lastPerformed);
            }
            else {
                this.lastPerformed = new fhir.FhirDateTime(source._lastPerformed, options);
            }
        }
        if (source['nextScheduled'] !== undefined) {
            this.nextScheduled = new fhir.FhirDate({ value: source.nextScheduled }, options);
        }
        if (source['_nextScheduled']) {
            if (this.nextScheduled) {
                this.nextScheduled.addExtendedProperties(source._nextScheduled);
            }
            else {
                this.nextScheduled = new fhir.FhirDate(source._nextScheduled, options);
            }
        }
        if (source['failureAction']) {
            this.failureAction = new fhir.CodeableConcept(source.failureAction, options);
        }
        if (source['primarySource']) {
            this.primarySource = source.primarySource.map((x) => new fhir.VerificationResultPrimarySource(x, options));
        }
        else {
            this.primarySource = [];
        }
        if (source['attestation']) {
            this.attestation = new fhir.VerificationResultAttestation(source.attestation, options);
        }
        if (source['validator']) {
            this.validator = source.validator.map((x) => new fhir.VerificationResultValidator(x, options));
        }
        else {
            this.validator = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VerificationResult';
        }
        iss.push(...this.vOA('target', exp));
        iss.push(...this.vOA('targetLocation', exp));
        iss.push(...this.vOS('need', exp));
        iss.push(...this.vRSV('status', exp, 'VerificationresultStatus', VerificationresultStatusVsValidation, 'r'));
        iss.push(...this.vOS('statusDate', exp));
        iss.push(...this.vOS('validationType', exp));
        iss.push(...this.vOA('validationProcess', exp));
        iss.push(...this.vOS('frequency', exp));
        iss.push(...this.vOS('lastPerformed', exp));
        iss.push(...this.vOS('nextScheduled', exp));
        iss.push(...this.vOS('failureAction', exp));
        iss.push(...this.vOA('primarySource', exp));
        iss.push(...this.vOS('attestation', exp));
        iss.push(...this.vOA('validator', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResult._fts_dataType = 'VerificationResult';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmVyaWZpY2F0aW9uUmVzdWx0LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9WZXJpZmljYXRpb25SZXN1bHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBNEJuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLE1BQU0sMERBQTBELENBQUM7QUFtRGhIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLCtCQUFnQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUN2RTs7T0FFRztJQUNILFlBQVksU0FBc0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDNUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzVGO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUN4QixJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxD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RyxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDL0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXRJRDs7R0FFRztBQUM2QixnQ0FBYSxHQUFVLG9CQUFvQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBWZXJpZmljYXRpb25SZXN1bHRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFByaW1hcnlTb3VyY2VUeXBlQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRQcmltYXJ5U291cmNlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRQcmltYXJ5U291cmNlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRQcmltYXJ5U291cmNlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0UHJpbWFyeVNvdXJjZVR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdENvbW11bmljYXRpb25NZXRob2RDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdENvbW11bmljYXRpb25NZXRob2RDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0Q29tbXVuaWNhdGlvbk1ldGhvZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRDb21tdW5pY2F0aW9uTWV0aG9kVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRDb21tdW5pY2F0aW9uTWV0aG9kVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uU3RhdHVzQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdENhblB1c2hVcGRhdGVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdENhblB1c2hVcGRhdGVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdENhblB1c2hVcGRhdGVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRDYW5QdXNoVXBkYXRlc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0UHVzaFR5cGVBdmFpbGFibGVDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRQdXNoVHlwZUF2YWlsYWJsZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0TmVlZENvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0TmVlZENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHROZWVkQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdE5lZWRWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdE5lZWRWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c0NvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblR5cGVDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25UeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25UeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25UeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblByb2Nlc3NDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25Qcm9jZXNzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25Qcm9jZXNzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25Qcm9jZXNzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uUHJvY2Vzc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0RmFpbHVyZUFjdGlvbkNvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0RmFpbHVyZUFjdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRGYWlsdXJlQWN0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdEZhaWx1cmVBY3Rpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdEZhaWx1cmVBY3Rpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBwcmltYXJ5IHNvdXJjZS5cclxuICAgKi9cclxuICB3aG8/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgcHJpbWFyeSBzb3VyY2UgKExpY2Vuc2UgQm9hcmQ7IFByaW1hcnkgRWR1Y2F0aW9uOyBDb250aW51aW5nIEVkdWNhdGlvbjsgUG9zdGFsIFNlcnZpY2U7IFJlbGF0aW9uc2hpcCBvd25lcjsgUmVnaXN0cmF0aW9uIEF1dGhvcml0eTsgbGVnYWwgc291cmNlOyBpc3N1aW5nIHNvdXJjZTsgYXV0aG9yaXRhdGl2ZSBzb3VyY2UpLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWV0aG9kIGZvciBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHByaW1hcnkgc291cmNlIChtYW51YWw7IEFQSTsgUHVzaCkuXHJcbiAgICovXHJcbiAgY29tbXVuaWNhdGlvbk1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdGF0dXMgb2YgdGhlIHZhbGlkYXRpb24gb2YgdGhlIHRhcmdldCBhZ2FpbnN0IHRoZSBwcmltYXJ5IHNvdXJjZSAoc3VjY2Vzc2Z1bDsgZmFpbGVkOyB1bmtub3duKS5cclxuICAgKi9cclxuICB2YWxpZGF0aW9uU3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB0YXJnZXQgd2FzIHZhbGlkYXRlZCBhZ2FpbnN0IHRoZSBwcmltYXJ5IHNvdXJjZS5cclxuICAgKi9cclxuICB2YWxpZGF0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC5wcmltYXJ5U291cmNlLnZhbGlkYXRpb25EYXRlXHJcbiAgICovXHJcbiAgX3ZhbGlkYXRpb25EYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBYmlsaXR5IG9mIHRoZSBwcmltYXJ5IHNvdXJjZSB0byBwdXNoIHVwZGF0ZXMvYWxlcnRzICh5ZXM7IG5vOyB1bmRldGVybWluZWQpLlxyXG4gICAqL1xyXG4gIGNhblB1c2hVcGRhdGVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIGFsZXJ0cy91cGRhdGVzIHRoZSBwcmltYXJ5IHNvdXJjZSBjYW4gc2VuZCAoc3BlY2lmaWMgcmVxdWVzdGVkIGNoYW5nZXM7IGFueSBjaGFuZ2VzOyBhcyBkZWZpbmVkIGJ5IHNvdXJjZSkuXHJcbiAgICovXHJcbiAgcHVzaFR5cGVBdmFpbGFibGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJpbWFyeSBzb3VyY2UocykgaW52b2x2ZWQgaW4gdmFsaWRhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZSc7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBwcmltYXJ5IHNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgd2hvPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgcHJpbWFyeSBzb3VyY2UgKExpY2Vuc2UgQm9hcmQ7IFByaW1hcnkgRWR1Y2F0aW9uOyBDb250aW51aW5nIEVkdWNhdGlvbjsgUG9zdGFsIFNlcnZpY2U7IFJlbGF0aW9uc2hpcCBvd25lcjsgUmVnaXN0cmF0aW9uIEF1dGhvcml0eTsgbGVnYWwgc291cmNlOyBpc3N1aW5nIHNvdXJjZTsgYXV0aG9yaXRhdGl2ZSBzb3VyY2UpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIE1ldGhvZCBmb3IgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBwcmltYXJ5IHNvdXJjZSAobWFudWFsOyBBUEk7IFB1c2gpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21tdW5pY2F0aW9uTWV0aG9kOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFN0YXR1cyBvZiB0aGUgdmFsaWRhdGlvbiBvZiB0aGUgdGFyZ2V0IGFnYWluc3QgdGhlIHByaW1hcnkgc291cmNlIChzdWNjZXNzZnVsOyBmYWlsZWQ7IHVua25vd24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWxpZGF0aW9uU3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHRhcmdldCB3YXMgdmFsaWRhdGVkIGFnYWluc3QgdGhlIHByaW1hcnkgc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWxpZGF0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBYmlsaXR5IG9mIHRoZSBwcmltYXJ5IHNvdXJjZSB0byBwdXNoIHVwZGF0ZXMvYWxlcnRzICh5ZXM7IG5vOyB1bmRldGVybWluZWQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYW5QdXNoVXBkYXRlcz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIGFsZXJ0cy91cGRhdGVzIHRoZSBwcmltYXJ5IHNvdXJjZSBjYW4gc2VuZCAoc3BlY2lmaWMgcmVxdWVzdGVkIGNoYW5nZXM7IGFueSBjaGFuZ2VzOyBhcyBkZWZpbmVkIGJ5IHNvdXJjZSkuXHJcbiAgICovXHJcbiAgcHVibGljIHB1c2hUeXBlQXZhaWxhYmxlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3dobyddKSB7IHRoaXMud2hvID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS53aG8sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gc291cmNlLnR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW11bmljYXRpb25NZXRob2QnXSkgeyB0aGlzLmNvbW11bmljYXRpb25NZXRob2QgPSBzb3VyY2UuY29tbXVuaWNhdGlvbk1ldGhvZC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbW11bmljYXRpb25NZXRob2QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRhdGlvblN0YXR1cyddKSB7IHRoaXMudmFsaWRhdGlvblN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmFsaWRhdGlvblN0YXR1cywgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbGlkYXRpb25EYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZhbGlkYXRpb25EYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnZhbGlkYXRpb25EYXRlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ192YWxpZGF0aW9uRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZhbGlkYXRpb25EYXRlKSB7IHRoaXMudmFsaWRhdGlvbkRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdmFsaWRhdGlvbkRhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52YWxpZGF0aW9uRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3ZhbGlkYXRpb25EYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhblB1c2hVcGRhdGVzJ10pIHsgdGhpcy5jYW5QdXNoVXBkYXRlcyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2FuUHVzaFVwZGF0ZXMsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwdXNoVHlwZUF2YWlsYWJsZSddKSB7IHRoaXMucHVzaFR5cGVBdmFpbGFibGUgPSBzb3VyY2UucHVzaFR5cGVBdmFpbGFibGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wdXNoVHlwZUF2YWlsYWJsZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnVmVyaWZpY2F0aW9uUmVzdWx0LnByaW1hcnlTb3VyY2UnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd3aG8nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2NvbW11bmljYXRpb25NZXRob2QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ZhbGlkYXRpb25TdGF0dXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ZhbGlkYXRpb25EYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjYW5QdXNoVXBkYXRlcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHVzaFR5cGVBdmFpbGFibGUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluZGl2aWR1YWwgb3Igb3JnYW5pemF0aW9uIGF0dGVzdGluZyB0byBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICB3aG8/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHdobyBpcyBhc3NlcnRpbmcgb24gYmVoYWxmIG9mIGFub3RoZXIgKG9yZ2FuaXphdGlvbiBvciBpbmRpdmlkdWFsKS5cclxuICAgKi9cclxuICBvbkJlaGFsZk9mPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWV0aG9kIGJ5IHdoaWNoIGF0dGVzdGVkIGluZm9ybWF0aW9uIHdhcyBzdWJtaXR0ZWQvcmV0cmlldmVkIChtYW51YWw7IEFQSTsgUHVzaCkuXHJcbiAgICovXHJcbiAgY29tbXVuaWNhdGlvbk1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgdGhlIGluZm9ybWF0aW9uIHdhcyBhdHRlc3RlZCB0by5cclxuICAgKi9cclxuICBkYXRlPzogZmhpci5GaGlyRGF0ZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWZXJpZmljYXRpb25SZXN1bHQuYXR0ZXN0YXRpb24uZGF0ZVxyXG4gICAqL1xyXG4gIF9kYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGRpZ2l0YWwgaWRlbnRpdHkgY2VydGlmaWNhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UuXHJcbiAgICovXHJcbiAgc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWZXJpZmljYXRpb25SZXN1bHQuYXR0ZXN0YXRpb24uc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZVxyXG4gICAqL1xyXG4gIF9zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGRpZ2l0YWwgaWRlbnRpdHkgY2VydGlmaWNhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm94eSBlbnRpdHkgc3VibWl0dGluZyBhdHRlc3RlZCBpbmZvcm1hdGlvbiBvbiBiZWhhbGYgb2YgdGhlIGF0dGVzdGF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBwcm94eUlkZW50aXR5Q2VydGlmaWNhdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LmF0dGVzdGF0aW9uLnByb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZVxyXG4gICAqL1xyXG4gIF9wcm94eUlkZW50aXR5Q2VydGlmaWNhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFNpZ25lZCBhc3NlcnRpb24gYnkgdGhlIHByb3h5IGVudGl0eSBpbmRpY2F0aW5nIHRoYXQgdGhleSBoYXZlIHRoZSByaWdodCB0byBzdWJtaXQgYXR0ZXN0ZWQgaW5mb3JtYXRpb24gb24gYmVoYWxmIG9mIHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHJveHlTaWduYXR1cmU/OiBmaGlyLlNpZ25hdHVyZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNpZ25lZCBhc3NlcnRpb24gYnkgdGhlIGF0dGVzdGF0aW9uIHNvdXJjZSB0aGF0IHRoZXkgaGF2ZSBhdHRlc3RlZCB0byB0aGUgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgc291cmNlU2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmVBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbiBhdHRlc3RpbmcgdG8gaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHdobz86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB3aG8gaXMgYXNzZXJ0aW5nIG9uIGJlaGFsZiBvZiBhbm90aGVyIChvcmdhbml6YXRpb24gb3IgaW5kaXZpZHVhbCkuXHJcbiAgICovXHJcbiAgcHVibGljIG9uQmVoYWxmT2Y/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1ldGhvZCBieSB3aGljaCBhdHRlc3RlZCBpbmZvcm1hdGlvbiB3YXMgc3VibWl0dGVkL3JldHJpZXZlZCAobWFudWFsOyBBUEk7IFB1c2gpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21tdW5pY2F0aW9uTWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHRoZSBpbmZvcm1hdGlvbiB3YXMgYXR0ZXN0ZWQgdG8uXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRpZ2l0YWwgaWRlbnRpdHkgY2VydGlmaWNhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZGlnaXRhbCBpZGVudGl0eSBjZXJ0aWZpY2F0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3h5IGVudGl0eSBzdWJtaXR0aW5nIGF0dGVzdGVkIGluZm9ybWF0aW9uIG9uIGJlaGFsZiBvZiB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm94eUlkZW50aXR5Q2VydGlmaWNhdGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNpZ25lZCBhc3NlcnRpb24gYnkgdGhlIHByb3h5IGVudGl0eSBpbmRpY2F0aW5nIHRoYXQgdGhleSBoYXZlIHRoZSByaWdodCB0byBzdWJtaXQgYXR0ZXN0ZWQgaW5mb3JtYXRpb24gb24gYmVoYWxmIG9mIHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHByb3h5U2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNpZ25lZCBhc3NlcnRpb24gYnkgdGhlIGF0dGVzdGF0aW9uIHNvdXJjZSB0aGF0IHRoZXkgaGF2ZSBhdHRlc3RlZCB0byB0aGUgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZVNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3dobyddKSB7IHRoaXMud2hvID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS53aG8sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydvbkJlaGFsZk9mJ10pIHsgdGhpcy5vbkJlaGFsZk9mID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vbkJlaGFsZk9mLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tbXVuaWNhdGlvbk1ldGhvZCddKSB7IHRoaXMuY29tbXVuaWNhdGlvbk1ldGhvZCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29tbXVuaWNhdGlvbk1ldGhvZCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLmRhdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHNvdXJjZS5fZGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2Uuc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUpIHsgdGhpcy5zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3NvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3NvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5wcm94eUlkZW50aXR5Q2VydGlmaWNhdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnByb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJveHlJZGVudGl0eUNlcnRpZmljYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMucHJveHlJZGVudGl0eUNlcnRpZmljYXRlKSB7IHRoaXMucHJveHlJZGVudGl0eUNlcnRpZmljYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Byb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnByb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wcm94eUlkZW50aXR5Q2VydGlmaWNhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb3h5U2lnbmF0dXJlJ10pIHsgdGhpcy5wcm94eVNpZ25hdHVyZSA9IG5ldyBmaGlyLlNpZ25hdHVyZShzb3VyY2UucHJveHlTaWduYXR1cmUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2VTaWduYXR1cmUnXSkgeyB0aGlzLnNvdXJjZVNpZ25hdHVyZSA9IG5ldyBmaGlyLlNpZ25hdHVyZShzb3VyY2Uuc291cmNlU2lnbmF0dXJlLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1ZlcmlmaWNhdGlvblJlc3VsdC5hdHRlc3RhdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3dobycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb25CZWhhbGZPZicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29tbXVuaWNhdGlvbk1ldGhvZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHJveHlJZGVudGl0eUNlcnRpZmljYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwcm94eVNpZ25hdHVyZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc291cmNlU2lnbmF0dXJlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3IgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmdhbml6YXRpb24gdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBvcmdhbml6YXRpb246IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgZGlnaXRhbCBpZGVudGl0eSBjZXJ0aWZpY2F0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHZhbGlkYXRvci5cclxuICAgKi9cclxuICBpZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC52YWxpZGF0b3IuaWRlbnRpdHlDZXJ0aWZpY2F0ZVxyXG4gICAqL1xyXG4gIF9pZGVudGl0eUNlcnRpZmljYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSB2YWxpZGF0b3IgdGhhdCB0aGV5IGhhdmUgdmFsaWRhdGVkIHRoZSBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBhdHRlc3RhdGlvblNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IHZhbGlkYXRpbmcgaW5mb3JtYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yJztcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yZ2FuaXphdGlvbiB2YWxpZGF0aW5nIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmdhbml6YXRpb246IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBkaWdpdGFsIGlkZW50aXR5IGNlcnRpZmljYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdmFsaWRhdG9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSB2YWxpZGF0b3IgdGhhdCB0aGV5IGhhdmUgdmFsaWRhdGVkIHRoZSBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYXR0ZXN0YXRpb25TaWduYXR1cmU/OiBmaGlyLlNpZ25hdHVyZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXphdGlvbiddKSB7IHRoaXMub3JnYW5pemF0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vcmdhbml6YXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vcmdhbml6YXRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydpZGVudGl0eUNlcnRpZmljYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmlkZW50aXR5Q2VydGlmaWNhdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2lkZW50aXR5Q2VydGlmaWNhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5pZGVudGl0eUNlcnRpZmljYXRlKSB7IHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pZGVudGl0eUNlcnRpZmljYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9pZGVudGl0eUNlcnRpZmljYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdHRlc3RhdGlvblNpZ25hdHVyZSddKSB7IHRoaXMuYXR0ZXN0YXRpb25TaWduYXR1cmUgPSBuZXcgZmhpci5TaWduYXR1cmUoc291cmNlLmF0dGVzdGF0aW9uU2lnbmF0dXJlLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1ZlcmlmaWNhdGlvblJlc3VsdC52YWxpZGF0b3InIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdvcmdhbml6YXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2lkZW50aXR5Q2VydGlmaWNhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2F0dGVzdGF0aW9uU2lnbmF0dXJlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWZXJpZmljYXRpb25SZXN1bHQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZpY2F0aW9uUmVzdWx0QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiVmVyaWZpY2F0aW9uUmVzdWx0XCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHRhcmdldD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZmhpcnBhdGggbG9jYXRpb24ocykgd2l0aGluIHRoZSByZXNvdXJjZSB0aGF0IHdhcyB2YWxpZGF0ZWQuXHJcbiAgICovXHJcbiAgdGFyZ2V0TG9jYXRpb24/OiBmaGlyLkZoaXJTdHJpbmdbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWZXJpZmljYXRpb25SZXN1bHQudGFyZ2V0TG9jYXRpb25cclxuICAgKi9cclxuICBfdGFyZ2V0TG9jYXRpb24/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmcmVxdWVuY3kgd2l0aCB3aGljaCB0aGUgdGFyZ2V0IG11c3QgYmUgdmFsaWRhdGVkIChub25lOyBpbml0aWFsOyBwZXJpb2RpYykuXHJcbiAgICovXHJcbiAgbmVlZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbGlkYXRpb24gc3RhdHVzIG9mIHRoZSB0YXJnZXQgKGF0dGVzdGVkOyB2YWxpZGF0ZWQ7IGluIHByb2Nlc3M7IHJlcXVpcmVzIHJldmFsaWRhdGlvbjsgdmFsaWRhdGlvbiBmYWlsZWQ7IHJldmFsaWRhdGlvbiBmYWlsZWQpLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHZhbGlkYXRpb24gc3RhdHVzIHdhcyB1cGRhdGVkLlxyXG4gICAqL1xyXG4gIHN0YXR1c0RhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWZXJpZmljYXRpb25SZXN1bHQuc3RhdHVzRGF0ZVxyXG4gICAqL1xyXG4gIF9zdGF0dXNEYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBXaGF0IHRoZSB0YXJnZXQgaXMgdmFsaWRhdGVkIGFnYWluc3QgKG5vdGhpbmc7IHByaW1hcnkgc291cmNlOyBtdWx0aXBsZSBzb3VyY2VzKS5cclxuICAgKi9cclxuICB2YWxpZGF0aW9uVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaW1hcnkgcHJvY2VzcyBieSB3aGljaCB0aGUgdGFyZ2V0IGlzIHZhbGlkYXRlZCAoZWRpdCBjaGVjazsgdmFsdWUgc2V0OyBwcmltYXJ5IHNvdXJjZTsgbXVsdGlwbGUgc291cmNlczsgc3RhbmRhbG9uZTsgaW4gY29udGV4dCkuXHJcbiAgICovXHJcbiAgdmFsaWRhdGlvblByb2Nlc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlcXVlbmN5IG9mIHJldmFsaWRhdGlvbi5cclxuICAgKi9cclxuICBmcmVxdWVuY3k/OiBmaGlyLlRpbWluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlL3RpbWUgdmFsaWRhdGlvbiB3YXMgbGFzdCBjb21wbGV0ZWQgKGluY2x1ZGluZyBmYWlsZWQgdmFsaWRhdGlvbnMpLlxyXG4gICAqL1xyXG4gIGxhc3RQZXJmb3JtZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWZXJpZmljYXRpb25SZXN1bHQubGFzdFBlcmZvcm1lZFxyXG4gICAqL1xyXG4gIF9sYXN0UGVyZm9ybWVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIHRhcmdldCBpcyBuZXh0IHZhbGlkYXRlZCwgaWYgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgbmV4dFNjaGVkdWxlZD86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0Lm5leHRTY2hlZHVsZWRcclxuICAgKi9cclxuICBfbmV4dFNjaGVkdWxlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlc3VsdCBpZiB2YWxpZGF0aW9uIGZhaWxzIChmYXRhbDsgd2FybmluZzsgcmVjb3JkIG9ubHk7IG5vbmUpLlxyXG4gICAqL1xyXG4gIGZhaWx1cmVBY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBwcmltYXJ5IHNvdXJjZShzKSBpbnZvbHZlZCBpbiB2YWxpZGF0aW9uLlxyXG4gICAqL1xyXG4gIHByaW1hcnlTb3VyY2U/OiBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIGF0dGVzdGF0aW9uPzogZmhpci5WZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICB2YWxpZGF0b3I/OiBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvckFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXNjcmliZXMgdmFsaWRhdGlvbiByZXF1aXJlbWVudHMsIHNvdXJjZShzKSwgc3RhdHVzIGFuZCBkYXRlcyBmb3Igb25lIG9yIG1vcmUgZWxlbWVudHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmVyaWZpY2F0aW9uUmVzdWx0IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWZXJpZmljYXRpb25SZXN1bHQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiVmVyaWZpY2F0aW9uUmVzdWx0XCI7XHJcbiAgLyoqXHJcbiAgICogQSByZXNvdXJjZSB0aGF0IHdhcyB2YWxpZGF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHRhcmdldDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgZmhpcnBhdGggbG9jYXRpb24ocykgd2l0aGluIHRoZSByZXNvdXJjZSB0aGF0IHdhcyB2YWxpZGF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHRhcmdldExvY2F0aW9uOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBUaGUgZnJlcXVlbmN5IHdpdGggd2hpY2ggdGhlIHRhcmdldCBtdXN0IGJlIHZhbGlkYXRlZCAobm9uZTsgaW5pdGlhbDsgcGVyaW9kaWMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuZWVkPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWxpZGF0aW9uIHN0YXR1cyBvZiB0aGUgdGFyZ2V0IChhdHRlc3RlZDsgdmFsaWRhdGVkOyBpbiBwcm9jZXNzOyByZXF1aXJlcyByZXZhbGlkYXRpb247IHZhbGlkYXRpb24gZmFpbGVkOyByZXZhbGlkYXRpb24gZmFpbGVkKS5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHZhbGlkYXRpb24gc3RhdHVzIHdhcyB1cGRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoYXQgdGhlIHRhcmdldCBpcyB2YWxpZGF0ZWQgYWdhaW5zdCAobm90aGluZzsgcHJpbWFyeSBzb3VyY2U7IG11bHRpcGxlIHNvdXJjZXMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWxpZGF0aW9uVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJpbWFyeSBwcm9jZXNzIGJ5IHdoaWNoIHRoZSB0YXJnZXQgaXMgdmFsaWRhdGVkIChlZGl0IGNoZWNrOyB2YWx1ZSBzZXQ7IHByaW1hcnkgc291cmNlOyBtdWx0aXBsZSBzb3VyY2VzOyBzdGFuZGFsb25lOyBpbiBjb250ZXh0KS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdGlvblByb2Nlc3M6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRnJlcXVlbmN5IG9mIHJldmFsaWRhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZnJlcXVlbmN5PzogZmhpci5UaW1pbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlL3RpbWUgdmFsaWRhdGlvbiB3YXMgbGFzdCBjb21wbGV0ZWQgKGluY2x1ZGluZyBmYWlsZWQgdmFsaWRhdGlvbnMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsYXN0UGVyZm9ybWVkPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gdGFyZ2V0IGlzIG5leHQgdmFsaWRhdGVkLCBpZiBhcHByb3ByaWF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgbmV4dFNjaGVkdWxlZD86IGZoaXIuRmhpckRhdGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXN1bHQgaWYgdmFsaWRhdGlvbiBmYWlscyAoZmF0YWw7IHdhcm5pbmc7IHJlY29yZCBvbmx5OyBub25lKS5cclxuICAgKi9cclxuICBwdWJsaWMgZmFpbHVyZUFjdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJpbWFyeSBzb3VyY2UocykgaW52b2x2ZWQgaW4gdmFsaWRhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJpbWFyeVNvdXJjZTogZmhpci5WZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlW107XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGVudGl0eSBhdHRlc3RpbmcgdG8gaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGVzdGF0aW9uPzogZmhpci5WZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGVudGl0eSB2YWxpZGF0aW5nIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWxpZGF0b3I6IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmVyaWZpY2F0aW9uUmVzdWx0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmVyaWZpY2F0aW9uUmVzdWx0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ1ZlcmlmaWNhdGlvblJlc3VsdCc7XHJcbiAgICBpZiAoc291cmNlWyd0YXJnZXQnXSkgeyB0aGlzLnRhcmdldCA9IHNvdXJjZS50YXJnZXQubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50YXJnZXQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0TG9jYXRpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudGFyZ2V0TG9jYXRpb24gPSBzb3VyY2UudGFyZ2V0TG9jYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0sIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGFyZ2V0TG9jYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3RhcmdldExvY2F0aW9uJ10pIHtcclxuICAgICAgc291cmNlLl90YXJnZXRMb2NhdGlvbi5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy50YXJnZXRMb2NhdGlvbi5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLnRhcmdldExvY2F0aW9uW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMudGFyZ2V0TG9jYXRpb24ucHVzaChuZXcgZmhpci5GaGlyU3RyaW5nKHggYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduZWVkJ10pIHsgdGhpcy5uZWVkID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5uZWVkLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1c0RhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc3RhdHVzRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5zdGF0dXNEYXRlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXNEYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzRGF0ZSkgeyB0aGlzLnN0YXR1c0RhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1c0RhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9zdGF0dXNEYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbGlkYXRpb25UeXBlJ10pIHsgdGhpcy52YWxpZGF0aW9uVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmFsaWRhdGlvblR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWxpZGF0aW9uUHJvY2VzcyddKSB7IHRoaXMudmFsaWRhdGlvblByb2Nlc3MgPSBzb3VyY2UudmFsaWRhdGlvblByb2Nlc3MubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWxpZGF0aW9uUHJvY2VzcyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmcmVxdWVuY3knXSkgeyB0aGlzLmZyZXF1ZW5jeSA9IG5ldyBmaGlyLlRpbWluZyhzb3VyY2UuZnJlcXVlbmN5LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGFzdFBlcmZvcm1lZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5sYXN0UGVyZm9ybWVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmxhc3RQZXJmb3JtZWR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2xhc3RQZXJmb3JtZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5sYXN0UGVyZm9ybWVkKSB7IHRoaXMubGFzdFBlcmZvcm1lZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9sYXN0UGVyZm9ybWVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubGFzdFBlcmZvcm1lZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2xhc3RQZXJmb3JtZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV4dFNjaGVkdWxlZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5uZXh0U2NoZWR1bGVkID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UubmV4dFNjaGVkdWxlZH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmV4dFNjaGVkdWxlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5leHRTY2hlZHVsZWQpIHsgdGhpcy5uZXh0U2NoZWR1bGVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25leHRTY2hlZHVsZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uZXh0U2NoZWR1bGVkID0gbmV3IGZoaXIuRmhpckRhdGUoc291cmNlLl9uZXh0U2NoZWR1bGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFpbHVyZUFjdGlvbiddKSB7IHRoaXMuZmFpbHVyZUFjdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZmFpbHVyZUFjdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByaW1hcnlTb3VyY2UnXSkgeyB0aGlzLnByaW1hcnlTb3VyY2UgPSBzb3VyY2UucHJpbWFyeVNvdXJjZS5tYXAoKHgpID0+IG5ldyBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcmltYXJ5U291cmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2F0dGVzdGF0aW9uJ10pIHsgdGhpcy5hdHRlc3RhdGlvbiA9IG5ldyBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uKHNvdXJjZS5hdHRlc3RhdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbGlkYXRvciddKSB7IHRoaXMudmFsaWRhdG9yID0gc291cmNlLnZhbGlkYXRvci5tYXAoKHgpID0+IG5ldyBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbGlkYXRvciA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnVmVyaWZpY2F0aW9uUmVzdWx0JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndGFyZ2V0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd0YXJnZXRMb2NhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmVlZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ3N0YXR1cycsZXhwLCdWZXJpZmljYXRpb25yZXN1bHRTdGF0dXMnLFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c1ZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdGF0dXNEYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd2YWxpZGF0aW9uVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndmFsaWRhdGlvblByb2Nlc3MnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2ZyZXF1ZW5jeScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbGFzdFBlcmZvcm1lZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmV4dFNjaGVkdWxlZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZmFpbHVyZUFjdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHJpbWFyeVNvdXJjZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYXR0ZXN0YXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3ZhbGlkYXRvcicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=