// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: VerificationResult
import * as fhir from '../fhir.js';
// @ts-ignore
import { VerificationresultStatusVsValidation } from '../fhirValueSets/VerificationresultStatusVsValidation.js';
/**
 * Information about the primary source(s) involved in validation.
 */
export class VerificationResultPrimarySource extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultPrimarySource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['who']) {
            this.who = new fhir.Reference(source.who);
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['communicationMethod']) {
            this.communicationMethod = source.communicationMethod.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.communicationMethod = [];
        }
        if (source['validationStatus']) {
            this.validationStatus = new fhir.CodeableConcept(source.validationStatus);
        }
        if (source['validationDate']) {
            this.validationDate = new fhir.FhirDateTime({ value: source.validationDate });
        }
        if (source['_validationDate']) {
            if (this.validationDate) {
                this.validationDate.addExtendedProperties(source._validationDate);
            }
            else {
                this.validationDate = new fhir.FhirDateTime(source._validationDate);
            }
        }
        if (source['canPushUpdates']) {
            this.canPushUpdates = new fhir.CodeableConcept(source.canPushUpdates);
        }
        if (source['pushTypeAvailable']) {
            this.pushTypeAvailable = source.pushTypeAvailable.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.pushTypeAvailable = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'VerificationResult.primarySource';
        }
        this.vOptS('who', expression);
        this.vOptA('type', expression);
        this.vOptA('communicationMethod', expression);
        this.vOptS('validationStatus', expression);
        this.vOptS('validationDate', expression);
        this.vOptS('canPushUpdates', expression);
        this.vOptA('pushTypeAvailable', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultPrimarySource._fts_dataType = 'VerificationResultPrimarySource';
/**
 * Information about the entity attesting to information.
 */
export class VerificationResultAttestation extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultAttestation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['who']) {
            this.who = new fhir.Reference(source.who);
        }
        if (source['onBehalfOf']) {
            this.onBehalfOf = new fhir.Reference(source.onBehalfOf);
        }
        if (source['communicationMethod']) {
            this.communicationMethod = new fhir.CodeableConcept(source.communicationMethod);
        }
        if (source['date']) {
            this.date = new fhir.FhirDate({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDate(source._date);
            }
        }
        if (source['sourceIdentityCertificate']) {
            this.sourceIdentityCertificate = new fhir.FhirString({ value: source.sourceIdentityCertificate });
        }
        if (source['_sourceIdentityCertificate']) {
            if (this.sourceIdentityCertificate) {
                this.sourceIdentityCertificate.addExtendedProperties(source._sourceIdentityCertificate);
            }
            else {
                this.sourceIdentityCertificate = new fhir.FhirString(source._sourceIdentityCertificate);
            }
        }
        if (source['proxyIdentityCertificate']) {
            this.proxyIdentityCertificate = new fhir.FhirString({ value: source.proxyIdentityCertificate });
        }
        if (source['_proxyIdentityCertificate']) {
            if (this.proxyIdentityCertificate) {
                this.proxyIdentityCertificate.addExtendedProperties(source._proxyIdentityCertificate);
            }
            else {
                this.proxyIdentityCertificate = new fhir.FhirString(source._proxyIdentityCertificate);
            }
        }
        if (source['proxySignature']) {
            this.proxySignature = new fhir.Signature(source.proxySignature);
        }
        if (source['sourceSignature']) {
            this.sourceSignature = new fhir.Signature(source.sourceSignature);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'VerificationResult.attestation';
        }
        this.vOptS('who', expression);
        this.vOptS('onBehalfOf', expression);
        this.vOptS('communicationMethod', expression);
        this.vOptS('date', expression);
        this.vOptS('sourceIdentityCertificate', expression);
        this.vOptS('proxyIdentityCertificate', expression);
        this.vOptS('proxySignature', expression);
        this.vOptS('sourceSignature', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultAttestation._fts_dataType = 'VerificationResultAttestation';
/**
 * Information about the entity validating information.
 */
export class VerificationResultValidator extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultValidator - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['organization']) {
            this.organization = new fhir.Reference(source.organization);
        }
        else {
            this.organization = null;
        }
        if (source['identityCertificate']) {
            this.identityCertificate = new fhir.FhirString({ value: source.identityCertificate });
        }
        if (source['_identityCertificate']) {
            if (this.identityCertificate) {
                this.identityCertificate.addExtendedProperties(source._identityCertificate);
            }
            else {
                this.identityCertificate = new fhir.FhirString(source._identityCertificate);
            }
        }
        if (source['attestationSignature']) {
            this.attestationSignature = new fhir.Signature(source.attestationSignature);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'VerificationResult.validator';
        }
        this.vReqS('organization', expression);
        this.vOptS('identityCertificate', expression);
        this.vOptS('attestationSignature', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultValidator._fts_dataType = 'VerificationResultValidator';
/**
 * Describes validation requirements, source(s), status and dates for one or more elements.
 */
export class VerificationResult extends fhir.DomainResource {
    /**
     * Default constructor for VerificationResult - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'VerificationResult';
        if (source['target']) {
            this.target = source.target.map((x) => new fhir.Reference(x));
        }
        else {
            this.target = [];
        }
        if (source['targetLocation']) {
            this.targetLocation = source.targetLocation.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.targetLocation = [];
        }
        if (source['_targetLocation']) {
            source._targetLocation.forEach((x, i) => {
                if (this.targetLocation.length >= i) {
                    if (x) {
                        this.targetLocation[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.targetLocation.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['need']) {
            this.need = new fhir.CodeableConcept(source.need);
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['statusDate']) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate });
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDateTime(source._statusDate);
            }
        }
        if (source['validationType']) {
            this.validationType = new fhir.CodeableConcept(source.validationType);
        }
        if (source['validationProcess']) {
            this.validationProcess = source.validationProcess.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.validationProcess = [];
        }
        if (source['frequency']) {
            this.frequency = new fhir.Timing(source.frequency);
        }
        if (source['lastPerformed']) {
            this.lastPerformed = new fhir.FhirDateTime({ value: source.lastPerformed });
        }
        if (source['_lastPerformed']) {
            if (this.lastPerformed) {
                this.lastPerformed.addExtendedProperties(source._lastPerformed);
            }
            else {
                this.lastPerformed = new fhir.FhirDateTime(source._lastPerformed);
            }
        }
        if (source['nextScheduled']) {
            this.nextScheduled = new fhir.FhirDate({ value: source.nextScheduled });
        }
        if (source['_nextScheduled']) {
            if (this.nextScheduled) {
                this.nextScheduled.addExtendedProperties(source._nextScheduled);
            }
            else {
                this.nextScheduled = new fhir.FhirDate(source._nextScheduled);
            }
        }
        if (source['failureAction']) {
            this.failureAction = new fhir.CodeableConcept(source.failureAction);
        }
        if (source['primarySource']) {
            this.primarySource = source.primarySource.map((x) => new fhir.VerificationResultPrimarySource(x));
        }
        else {
            this.primarySource = [];
        }
        if (source['attestation']) {
            this.attestation = new fhir.VerificationResultAttestation(source.attestation);
        }
        if (source['validator']) {
            this.validator = source.validator.map((x) => new fhir.VerificationResultValidator(x));
        }
        else {
            this.validator = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'VerificationResult';
        }
        this.vReqS('resourceType', expression);
        this.vOptA('target', expression);
        this.vOptA('targetLocation', expression);
        this.vOptS('need', expression);
        this.vReqSV('status', expression, 'VerificationresultStatus', VerificationresultStatusVsValidation, 'r');
        this.vOptS('statusDate', expression);
        this.vOptS('validationType', expression);
        this.vOptA('validationProcess', expression);
        this.vOptS('frequency', expression);
        this.vOptS('lastPerformed', expression);
        this.vOptS('nextScheduled', expression);
        this.vOptS('failureAction', expression);
        this.vOptA('primarySource', expression);
        this.vOptS('attestation', expression);
        this.vOptA('validator', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResult._fts_dataType = 'VerificationResult';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmVyaWZpY2F0aW9uUmVzdWx0LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9WZXJpZmljYXRpb25SZXN1bHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBNEJuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLE1BQU0sMERBQTBELENBQUM7QUFtRGhIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLCtCQUFnQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUN2RTs7T0FFRztJQUNILFlBQVksU0FBc0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDNUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUFFO1FBQ2pFLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRjtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDeEIsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxD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QyxDQUFBO1FBQ3RDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ2xDLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBdklEOztHQUVHO0FBQzZCLGdDQUFhLEdBQVUsb0JBQW9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IFZlcmlmaWNhdGlvblJlc3VsdFxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0UHJpbWFyeVNvdXJjZVR5cGVDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFByaW1hcnlTb3VyY2VUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFByaW1hcnlTb3VyY2VUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFByaW1hcnlTb3VyY2VUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRQcmltYXJ5U291cmNlVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0Q29tbXVuaWNhdGlvbk1ldGhvZENvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0Q29tbXVuaWNhdGlvbk1ldGhvZENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRDb21tdW5pY2F0aW9uTWV0aG9kQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdENvbW11bmljYXRpb25NZXRob2RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdENvbW11bmljYXRpb25NZXRob2RWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRDYW5QdXNoVXBkYXRlc0NvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdENhblB1c2hVcGRhdGVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRQdXNoVHlwZUF2YWlsYWJsZUNvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0UHVzaFR5cGVBdmFpbGFibGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0UHVzaFR5cGVBdmFpbGFibGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0UHVzaFR5cGVBdmFpbGFibGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHROZWVkQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHROZWVkQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdE5lZWRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0TmVlZFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0TmVlZFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uVHlwZUNvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25UeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uUHJvY2Vzc0NvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblByb2Nlc3NDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblByb2Nlc3NDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblByb2Nlc3NWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25Qcm9jZXNzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRGYWlsdXJlQWN0aW9uQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRGYWlsdXJlQWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdEZhaWx1cmVBY3Rpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0RmFpbHVyZUFjdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0RmFpbHVyZUFjdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIHByaW1hcnkgc291cmNlLlxyXG4gICAqL1xyXG4gIHdobz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBwcmltYXJ5IHNvdXJjZSAoTGljZW5zZSBCb2FyZDsgUHJpbWFyeSBFZHVjYXRpb247IENvbnRpbnVpbmcgRWR1Y2F0aW9uOyBQb3N0YWwgU2VydmljZTsgUmVsYXRpb25zaGlwIG93bmVyOyBSZWdpc3RyYXRpb24gQXV0aG9yaXR5OyBsZWdhbCBzb3VyY2U7IGlzc3Vpbmcgc291cmNlOyBhdXRob3JpdGF0aXZlIHNvdXJjZSkuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNZXRob2QgZm9yIGNvbW11bmljYXRpbmcgd2l0aCB0aGUgcHJpbWFyeSBzb3VyY2UgKG1hbnVhbDsgQVBJOyBQdXNoKS5cclxuICAgKi9cclxuICBjb21tdW5pY2F0aW9uTWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN0YXR1cyBvZiB0aGUgdmFsaWRhdGlvbiBvZiB0aGUgdGFyZ2V0IGFnYWluc3QgdGhlIHByaW1hcnkgc291cmNlIChzdWNjZXNzZnVsOyBmYWlsZWQ7IHVua25vd24pLlxyXG4gICAqL1xyXG4gIHZhbGlkYXRpb25TdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHRhcmdldCB3YXMgdmFsaWRhdGVkIGFnYWluc3QgdGhlIHByaW1hcnkgc291cmNlLlxyXG4gICAqL1xyXG4gIHZhbGlkYXRpb25EYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LnByaW1hcnlTb3VyY2UudmFsaWRhdGlvbkRhdGVcclxuICAgKi9cclxuICBfdmFsaWRhdGlvbkRhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFiaWxpdHkgb2YgdGhlIHByaW1hcnkgc291cmNlIHRvIHB1c2ggdXBkYXRlcy9hbGVydHMgKHllczsgbm87IHVuZGV0ZXJtaW5lZCkuXHJcbiAgICovXHJcbiAgY2FuUHVzaFVwZGF0ZXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgYWxlcnRzL3VwZGF0ZXMgdGhlIHByaW1hcnkgc291cmNlIGNhbiBzZW5kIChzcGVjaWZpYyByZXF1ZXN0ZWQgY2hhbmdlczsgYW55IGNoYW5nZXM7IGFzIGRlZmluZWQgYnkgc291cmNlKS5cclxuICAgKi9cclxuICBwdXNoVHlwZUF2YWlsYWJsZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBwcmltYXJ5IHNvdXJjZShzKSBpbnZvbHZlZCBpbiB2YWxpZGF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlJztcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIHByaW1hcnkgc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3aG8/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBwcmltYXJ5IHNvdXJjZSAoTGljZW5zZSBCb2FyZDsgUHJpbWFyeSBFZHVjYXRpb247IENvbnRpbnVpbmcgRWR1Y2F0aW9uOyBQb3N0YWwgU2VydmljZTsgUmVsYXRpb25zaGlwIG93bmVyOyBSZWdpc3RyYXRpb24gQXV0aG9yaXR5OyBsZWdhbCBzb3VyY2U7IGlzc3Vpbmcgc291cmNlOyBhdXRob3JpdGF0aXZlIHNvdXJjZSkuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogTWV0aG9kIGZvciBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHByaW1hcnkgc291cmNlIChtYW51YWw7IEFQSTsgUHVzaCkuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW11bmljYXRpb25NZXRob2Q6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogU3RhdHVzIG9mIHRoZSB2YWxpZGF0aW9uIG9mIHRoZSB0YXJnZXQgYWdhaW5zdCB0aGUgcHJpbWFyeSBzb3VyY2UgKHN1Y2Nlc3NmdWw7IGZhaWxlZDsgdW5rbm93bikuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbGlkYXRpb25TdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgdGFyZ2V0IHdhcyB2YWxpZGF0ZWQgYWdhaW5zdCB0aGUgcHJpbWFyeSBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbGlkYXRpb25EYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFiaWxpdHkgb2YgdGhlIHByaW1hcnkgc291cmNlIHRvIHB1c2ggdXBkYXRlcy9hbGVydHMgKHllczsgbm87IHVuZGV0ZXJtaW5lZCkuXHJcbiAgICovXHJcbiAgcHVibGljIGNhblB1c2hVcGRhdGVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgYWxlcnRzL3VwZGF0ZXMgdGhlIHByaW1hcnkgc291cmNlIGNhbiBzZW5kIChzcGVjaWZpYyByZXF1ZXN0ZWQgY2hhbmdlczsgYW55IGNoYW5nZXM7IGFzIGRlZmluZWQgYnkgc291cmNlKS5cclxuICAgKi9cclxuICBwdWJsaWMgcHVzaFR5cGVBdmFpbGFibGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnd2hvJ10pIHsgdGhpcy53aG8gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLndobyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tbXVuaWNhdGlvbk1ldGhvZCddKSB7IHRoaXMuY29tbXVuaWNhdGlvbk1ldGhvZCA9IHNvdXJjZS5jb21tdW5pY2F0aW9uTWV0aG9kLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tbXVuaWNhdGlvbk1ldGhvZCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWxpZGF0aW9uU3RhdHVzJ10pIHsgdGhpcy52YWxpZGF0aW9uU3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS52YWxpZGF0aW9uU3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRhdGlvbkRhdGUnXSkgeyB0aGlzLnZhbGlkYXRpb25EYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnZhbGlkYXRpb25EYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ192YWxpZGF0aW9uRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZhbGlkYXRpb25EYXRlKSB7IHRoaXMudmFsaWRhdGlvbkRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdmFsaWRhdGlvbkRhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52YWxpZGF0aW9uRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3ZhbGlkYXRpb25EYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhblB1c2hVcGRhdGVzJ10pIHsgdGhpcy5jYW5QdXNoVXBkYXRlcyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2FuUHVzaFVwZGF0ZXMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwdXNoVHlwZUF2YWlsYWJsZSddKSB7IHRoaXMucHVzaFR5cGVBdmFpbGFibGUgPSBzb3VyY2UucHVzaFR5cGVBdmFpbGFibGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wdXNoVHlwZUF2YWlsYWJsZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1ZlcmlmaWNhdGlvblJlc3VsdC5wcmltYXJ5U291cmNlJyB9XHJcbiAgICB0aGlzLnZPcHRTKCd3aG8nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCd0eXBlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnY29tbXVuaWNhdGlvbk1ldGhvZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3ZhbGlkYXRpb25TdGF0dXMnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCd2YWxpZGF0aW9uRGF0ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2NhblB1c2hVcGRhdGVzJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgncHVzaFR5cGVBdmFpbGFibGUnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHdobz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgd2hvIGlzIGFzc2VydGluZyBvbiBiZWhhbGYgb2YgYW5vdGhlciAob3JnYW5pemF0aW9uIG9yIGluZGl2aWR1YWwpLlxyXG4gICAqL1xyXG4gIG9uQmVoYWxmT2Y/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgYnkgd2hpY2ggYXR0ZXN0ZWQgaW5mb3JtYXRpb24gd2FzIHN1Ym1pdHRlZC9yZXRyaWV2ZWQgKG1hbnVhbDsgQVBJOyBQdXNoKS5cclxuICAgKi9cclxuICBjb21tdW5pY2F0aW9uTWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB0aGUgaW5mb3JtYXRpb24gd2FzIGF0dGVzdGVkIHRvLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC5hdHRlc3RhdGlvbi5kYXRlXHJcbiAgICovXHJcbiAgX2RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgZGlnaXRhbCBpZGVudGl0eSBjZXJ0aWZpY2F0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIGF0dGVzdGF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBzb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC5hdHRlc3RhdGlvbi5zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlXHJcbiAgICovXHJcbiAgX3NvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgZGlnaXRhbCBpZGVudGl0eSBjZXJ0aWZpY2F0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3h5IGVudGl0eSBzdWJtaXR0aW5nIGF0dGVzdGVkIGluZm9ybWF0aW9uIG9uIGJlaGFsZiBvZiB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHByb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWZXJpZmljYXRpb25SZXN1bHQuYXR0ZXN0YXRpb24ucHJveHlJZGVudGl0eUNlcnRpZmljYXRlXHJcbiAgICovXHJcbiAgX3Byb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogU2lnbmVkIGFzc2VydGlvbiBieSB0aGUgcHJveHkgZW50aXR5IGluZGljYXRpbmcgdGhhdCB0aGV5IGhhdmUgdGhlIHJpZ2h0IHRvIHN1Ym1pdCBhdHRlc3RlZCBpbmZvcm1hdGlvbiBvbiBiZWhhbGYgb2YgdGhlIGF0dGVzdGF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBwcm94eVNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2lnbmVkIGFzc2VydGlvbiBieSB0aGUgYXR0ZXN0YXRpb24gc291cmNlIHRoYXQgdGhleSBoYXZlIGF0dGVzdGVkIHRvIHRoZSBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBzb3VyY2VTaWduYXR1cmU/OiBmaGlyLlNpZ25hdHVyZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGVudGl0eSBhdHRlc3RpbmcgdG8gaW5mb3JtYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluZGl2aWR1YWwgb3Igb3JnYW5pemF0aW9uIGF0dGVzdGluZyB0byBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgd2hvPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHdobyBpcyBhc3NlcnRpbmcgb24gYmVoYWxmIG9mIGFub3RoZXIgKG9yZ2FuaXphdGlvbiBvciBpbmRpdmlkdWFsKS5cclxuICAgKi9cclxuICBwdWJsaWMgb25CZWhhbGZPZj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWV0aG9kIGJ5IHdoaWNoIGF0dGVzdGVkIGluZm9ybWF0aW9uIHdhcyBzdWJtaXR0ZWQvcmV0cmlldmVkIChtYW51YWw7IEFQSTsgUHVzaCkuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW11bmljYXRpb25NZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgdGhlIGluZm9ybWF0aW9uIHdhcyBhdHRlc3RlZCB0by5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZT86IGZoaXIuRmhpckRhdGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZGlnaXRhbCBpZGVudGl0eSBjZXJ0aWZpY2F0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIGF0dGVzdGF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBkaWdpdGFsIGlkZW50aXR5IGNlcnRpZmljYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJveHkgZW50aXR5IHN1Ym1pdHRpbmcgYXR0ZXN0ZWQgaW5mb3JtYXRpb24gb24gYmVoYWxmIG9mIHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHByb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2lnbmVkIGFzc2VydGlvbiBieSB0aGUgcHJveHkgZW50aXR5IGluZGljYXRpbmcgdGhhdCB0aGV5IGhhdmUgdGhlIHJpZ2h0IHRvIHN1Ym1pdCBhdHRlc3RlZCBpbmZvcm1hdGlvbiBvbiBiZWhhbGYgb2YgdGhlIGF0dGVzdGF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJveHlTaWduYXR1cmU/OiBmaGlyLlNpZ25hdHVyZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2lnbmVkIGFzc2VydGlvbiBieSB0aGUgYXR0ZXN0YXRpb24gc291cmNlIHRoYXQgdGhleSBoYXZlIGF0dGVzdGVkIHRvIHRoZSBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlU2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnd2hvJ10pIHsgdGhpcy53aG8gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLndobyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29uQmVoYWxmT2YnXSkgeyB0aGlzLm9uQmVoYWxmT2YgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm9uQmVoYWxmT2YpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21tdW5pY2F0aW9uTWV0aG9kJ10pIHsgdGhpcy5jb21tdW5pY2F0aW9uTWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb21tdW5pY2F0aW9uTWV0aG9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLmRhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHNvdXJjZS5fZGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUnXSkgeyB0aGlzLnNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlKSB7IHRoaXMuc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwcm94eUlkZW50aXR5Q2VydGlmaWNhdGUnXSkgeyB0aGlzLnByb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucHJveHlJZGVudGl0eUNlcnRpZmljYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wcm94eUlkZW50aXR5Q2VydGlmaWNhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5wcm94eUlkZW50aXR5Q2VydGlmaWNhdGUpIHsgdGhpcy5wcm94eUlkZW50aXR5Q2VydGlmaWNhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcHJveHlJZGVudGl0eUNlcnRpZmljYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHJveHlJZGVudGl0eUNlcnRpZmljYXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3Byb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJveHlTaWduYXR1cmUnXSkgeyB0aGlzLnByb3h5U2lnbmF0dXJlID0gbmV3IGZoaXIuU2lnbmF0dXJlKHNvdXJjZS5wcm94eVNpZ25hdHVyZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZVNpZ25hdHVyZSddKSB7IHRoaXMuc291cmNlU2lnbmF0dXJlID0gbmV3IGZoaXIuU2lnbmF0dXJlKHNvdXJjZS5zb3VyY2VTaWduYXR1cmUpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1ZlcmlmaWNhdGlvblJlc3VsdC5hdHRlc3RhdGlvbicgfVxyXG4gICAgdGhpcy52T3B0Uygnd2hvJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0Uygnb25CZWhhbGZPZicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2NvbW11bmljYXRpb25NZXRob2QnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdkYXRlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0Uygnc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3Byb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3Byb3h5U2lnbmF0dXJlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0Uygnc291cmNlU2lnbmF0dXJlJyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvciB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBWZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3JBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yZ2FuaXphdGlvbiB2YWxpZGF0aW5nIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIG9yZ2FuaXphdGlvbjogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBkaWdpdGFsIGlkZW50aXR5IGNlcnRpZmljYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdmFsaWRhdG9yLlxyXG4gICAqL1xyXG4gIGlkZW50aXR5Q2VydGlmaWNhdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LnZhbGlkYXRvci5pZGVudGl0eUNlcnRpZmljYXRlXHJcbiAgICovXHJcbiAgX2lkZW50aXR5Q2VydGlmaWNhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFNpZ25lZCBhc3NlcnRpb24gYnkgdGhlIHZhbGlkYXRvciB0aGF0IHRoZXkgaGF2ZSB2YWxpZGF0ZWQgdGhlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIGF0dGVzdGF0aW9uU2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmVBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3IgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3InO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byB0aGUgb3JnYW5pemF0aW9uIHZhbGlkYXRpbmcgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG9yZ2FuaXphdGlvbjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGRpZ2l0YWwgaWRlbnRpdHkgY2VydGlmaWNhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSB2YWxpZGF0b3IuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aXR5Q2VydGlmaWNhdGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNpZ25lZCBhc3NlcnRpb24gYnkgdGhlIHZhbGlkYXRvciB0aGF0IHRoZXkgaGF2ZSB2YWxpZGF0ZWQgdGhlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdHRlc3RhdGlvblNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3IgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3JBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnb3JnYW5pemF0aW9uJ10pIHsgdGhpcy5vcmdhbml6YXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm9yZ2FuaXphdGlvbik7IH1cclxuICAgIGVsc2UgeyB0aGlzLm9yZ2FuaXphdGlvbiA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aXR5Q2VydGlmaWNhdGUnXSkgeyB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmlkZW50aXR5Q2VydGlmaWNhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2lkZW50aXR5Q2VydGlmaWNhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5pZGVudGl0eUNlcnRpZmljYXRlKSB7IHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pZGVudGl0eUNlcnRpZmljYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9pZGVudGl0eUNlcnRpZmljYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdHRlc3RhdGlvblNpZ25hdHVyZSddKSB7IHRoaXMuYXR0ZXN0YXRpb25TaWduYXR1cmUgPSBuZXcgZmhpci5TaWduYXR1cmUoc291cmNlLmF0dGVzdGF0aW9uU2lnbmF0dXJlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdWZXJpZmljYXRpb25SZXN1bHQudmFsaWRhdG9yJyB9XHJcbiAgICB0aGlzLnZSZXFTKCdvcmdhbml6YXRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdpZGVudGl0eUNlcnRpZmljYXRlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnYXR0ZXN0YXRpb25TaWduYXR1cmUnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmVyaWZpY2F0aW9uUmVzdWx0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmaWNhdGlvblJlc3VsdEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIlZlcmlmaWNhdGlvblJlc3VsdFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHJlc291cmNlIHRoYXQgd2FzIHZhbGlkYXRlZC5cclxuICAgKi9cclxuICB0YXJnZXQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZoaXJwYXRoIGxvY2F0aW9uKHMpIHdpdGhpbiB0aGUgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHRhcmdldExvY2F0aW9uPzogZmhpci5GaGlyU3RyaW5nW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LnRhcmdldExvY2F0aW9uXHJcbiAgICovXHJcbiAgX3RhcmdldExvY2F0aW9uPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBUaGUgZnJlcXVlbmN5IHdpdGggd2hpY2ggdGhlIHRhcmdldCBtdXN0IGJlIHZhbGlkYXRlZCAobm9uZTsgaW5pdGlhbDsgcGVyaW9kaWMpLlxyXG4gICAqL1xyXG4gIG5lZWQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWxpZGF0aW9uIHN0YXR1cyBvZiB0aGUgdGFyZ2V0IChhdHRlc3RlZDsgdmFsaWRhdGVkOyBpbiBwcm9jZXNzOyByZXF1aXJlcyByZXZhbGlkYXRpb247IHZhbGlkYXRpb24gZmFpbGVkOyByZXZhbGlkYXRpb24gZmFpbGVkKS5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8VmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3YXMgdXBkYXRlZC5cclxuICAgKi9cclxuICBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LnN0YXR1c0RhdGVcclxuICAgKi9cclxuICBfc3RhdHVzRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hhdCB0aGUgdGFyZ2V0IGlzIHZhbGlkYXRlZCBhZ2FpbnN0IChub3RoaW5nOyBwcmltYXJ5IHNvdXJjZTsgbXVsdGlwbGUgc291cmNlcykuXHJcbiAgICovXHJcbiAgdmFsaWRhdGlvblR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmltYXJ5IHByb2Nlc3MgYnkgd2hpY2ggdGhlIHRhcmdldCBpcyB2YWxpZGF0ZWQgKGVkaXQgY2hlY2s7IHZhbHVlIHNldDsgcHJpbWFyeSBzb3VyY2U7IG11bHRpcGxlIHNvdXJjZXM7IHN0YW5kYWxvbmU7IGluIGNvbnRleHQpLlxyXG4gICAqL1xyXG4gIHZhbGlkYXRpb25Qcm9jZXNzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZXF1ZW5jeSBvZiByZXZhbGlkYXRpb24uXHJcbiAgICovXHJcbiAgZnJlcXVlbmN5PzogZmhpci5UaW1pbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZS90aW1lIHZhbGlkYXRpb24gd2FzIGxhc3QgY29tcGxldGVkIChpbmNsdWRpbmcgZmFpbGVkIHZhbGlkYXRpb25zKS5cclxuICAgKi9cclxuICBsYXN0UGVyZm9ybWVkPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0Lmxhc3RQZXJmb3JtZWRcclxuICAgKi9cclxuICBfbGFzdFBlcmZvcm1lZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgd2hlbiB0YXJnZXQgaXMgbmV4dCB2YWxpZGF0ZWQsIGlmIGFwcHJvcHJpYXRlLlxyXG4gICAqL1xyXG4gIG5leHRTY2hlZHVsZWQ/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC5uZXh0U2NoZWR1bGVkXHJcbiAgICovXHJcbiAgX25leHRTY2hlZHVsZWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXN1bHQgaWYgdmFsaWRhdGlvbiBmYWlscyAoZmF0YWw7IHdhcm5pbmc7IHJlY29yZCBvbmx5OyBub25lKS5cclxuICAgKi9cclxuICBmYWlsdXJlQWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJpbWFyeSBzb3VyY2UocykgaW52b2x2ZWQgaW4gdmFsaWRhdGlvbi5cclxuICAgKi9cclxuICBwcmltYXJ5U291cmNlPzogZmhpci5WZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IGF0dGVzdGluZyB0byBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBhdHRlc3RhdGlvbj86IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IHZhbGlkYXRpbmcgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgdmFsaWRhdG9yPzogZmhpci5WZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3JBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVzY3JpYmVzIHZhbGlkYXRpb24gcmVxdWlyZW1lbnRzLCBzb3VyY2UocyksIHN0YXR1cyBhbmQgZGF0ZXMgZm9yIG9uZSBvciBtb3JlIGVsZW1lbnRzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvblJlc3VsdCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmVyaWZpY2F0aW9uUmVzdWx0JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlZlcmlmaWNhdGlvblJlc3VsdFwiO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGZoaXJwYXRoIGxvY2F0aW9uKHMpIHdpdGhpbiB0aGUgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXRMb2NhdGlvbjogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGZyZXF1ZW5jeSB3aXRoIHdoaWNoIHRoZSB0YXJnZXQgbXVzdCBiZSB2YWxpZGF0ZWQgKG5vbmU7IGluaXRpYWw7IHBlcmlvZGljKS5cclxuICAgKi9cclxuICBwdWJsaWMgbmVlZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsaWRhdGlvbiBzdGF0dXMgb2YgdGhlIHRhcmdldCAoYXR0ZXN0ZWQ7IHZhbGlkYXRlZDsgaW4gcHJvY2VzczsgcmVxdWlyZXMgcmV2YWxpZGF0aW9uOyB2YWxpZGF0aW9uIGZhaWxlZDsgcmV2YWxpZGF0aW9uIGZhaWxlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3YXMgdXBkYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGF0IHRoZSB0YXJnZXQgaXMgdmFsaWRhdGVkIGFnYWluc3QgKG5vdGhpbmc7IHByaW1hcnkgc291cmNlOyBtdWx0aXBsZSBzb3VyY2VzKS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdGlvblR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaW1hcnkgcHJvY2VzcyBieSB3aGljaCB0aGUgdGFyZ2V0IGlzIHZhbGlkYXRlZCAoZWRpdCBjaGVjazsgdmFsdWUgc2V0OyBwcmltYXJ5IHNvdXJjZTsgbXVsdGlwbGUgc291cmNlczsgc3RhbmRhbG9uZTsgaW4gY29udGV4dCkuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbGlkYXRpb25Qcm9jZXNzOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZyZXF1ZW5jeSBvZiByZXZhbGlkYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGZyZXF1ZW5jeT86IGZoaXIuVGltaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZS90aW1lIHZhbGlkYXRpb24gd2FzIGxhc3QgY29tcGxldGVkIChpbmNsdWRpbmcgZmFpbGVkIHZhbGlkYXRpb25zKS5cclxuICAgKi9cclxuICBwdWJsaWMgbGFzdFBlcmZvcm1lZD86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIHRhcmdldCBpcyBuZXh0IHZhbGlkYXRlZCwgaWYgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIG5leHRTY2hlZHVsZWQ/OiBmaGlyLkZoaXJEYXRlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVzdWx0IGlmIHZhbGlkYXRpb24gZmFpbHMgKGZhdGFsOyB3YXJuaW5nOyByZWNvcmQgb25seTsgbm9uZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGZhaWx1cmVBY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHByaW1hcnkgc291cmNlKHMpIGludm9sdmVkIGluIHZhbGlkYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHByaW1hcnlTb3VyY2U6IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZVtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdHRlc3RhdGlvbj86IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdG9yOiBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvcltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZlcmlmaWNhdGlvblJlc3VsdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZlcmlmaWNhdGlvblJlc3VsdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdWZXJpZmljYXRpb25SZXN1bHQnO1xyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0J10pIHsgdGhpcy50YXJnZXQgPSBzb3VyY2UudGFyZ2V0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGFyZ2V0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldExvY2F0aW9uJ10pIHsgdGhpcy50YXJnZXRMb2NhdGlvbiA9IHNvdXJjZS50YXJnZXRMb2NhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50YXJnZXRMb2NhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGFyZ2V0TG9jYXRpb24nXSkge1xyXG4gICAgICBzb3VyY2UuX3RhcmdldExvY2F0aW9uLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnRhcmdldExvY2F0aW9uLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMudGFyZ2V0TG9jYXRpb25baV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy50YXJnZXRMb2NhdGlvbi5wdXNoKG5ldyBmaGlyLkZoaXJTdHJpbmcoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25lZWQnXSkgeyB0aGlzLm5lZWQgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLm5lZWQpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1c0RhdGUnXSkgeyB0aGlzLnN0YXR1c0RhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzRGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1c0RhdGUpIHsgdGhpcy5zdGF0dXNEYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1c0RhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXNEYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fc3RhdHVzRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2YWxpZGF0aW9uVHlwZSddKSB7IHRoaXMudmFsaWRhdGlvblR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbGlkYXRpb25UeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRhdGlvblByb2Nlc3MnXSkgeyB0aGlzLnZhbGlkYXRpb25Qcm9jZXNzID0gc291cmNlLnZhbGlkYXRpb25Qcm9jZXNzLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsaWRhdGlvblByb2Nlc3MgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZnJlcXVlbmN5J10pIHsgdGhpcy5mcmVxdWVuY3kgPSBuZXcgZmhpci5UaW1pbmcoc291cmNlLmZyZXF1ZW5jeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2xhc3RQZXJmb3JtZWQnXSkgeyB0aGlzLmxhc3RQZXJmb3JtZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UubGFzdFBlcmZvcm1lZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbGFzdFBlcmZvcm1lZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmxhc3RQZXJmb3JtZWQpIHsgdGhpcy5sYXN0UGVyZm9ybWVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2xhc3RQZXJmb3JtZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5sYXN0UGVyZm9ybWVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fbGFzdFBlcmZvcm1lZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduZXh0U2NoZWR1bGVkJ10pIHsgdGhpcy5uZXh0U2NoZWR1bGVkID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UubmV4dFNjaGVkdWxlZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmV4dFNjaGVkdWxlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5leHRTY2hlZHVsZWQpIHsgdGhpcy5uZXh0U2NoZWR1bGVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25leHRTY2hlZHVsZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uZXh0U2NoZWR1bGVkID0gbmV3IGZoaXIuRmhpckRhdGUoc291cmNlLl9uZXh0U2NoZWR1bGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFpbHVyZUFjdGlvbiddKSB7IHRoaXMuZmFpbHVyZUFjdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZmFpbHVyZUFjdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByaW1hcnlTb3VyY2UnXSkgeyB0aGlzLnByaW1hcnlTb3VyY2UgPSBzb3VyY2UucHJpbWFyeVNvdXJjZS5tYXAoKHgpID0+IG5ldyBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcmltYXJ5U291cmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2F0dGVzdGF0aW9uJ10pIHsgdGhpcy5hdHRlc3RhdGlvbiA9IG5ldyBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uKHNvdXJjZS5hdHRlc3RhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbGlkYXRvciddKSB7IHRoaXMudmFsaWRhdG9yID0gc291cmNlLnZhbGlkYXRvci5tYXAoKHgpID0+IG5ldyBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbGlkYXRvciA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1ZlcmlmaWNhdGlvblJlc3VsdCcgfVxyXG4gICAgdGhpcy52UmVxUygncmVzb3VyY2VUeXBlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgndGFyZ2V0JyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgndGFyZ2V0TG9jYXRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCduZWVkJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52UmVxU1YoJ3N0YXR1cycsZXhwcmVzc2lvbiwnVmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzJyxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T3B0Uygnc3RhdHVzRGF0ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3ZhbGlkYXRpb25UeXBlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgndmFsaWRhdGlvblByb2Nlc3MnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdmcmVxdWVuY3knLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdsYXN0UGVyZm9ybWVkJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnbmV4dFNjaGVkdWxlZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2ZhaWx1cmVBY3Rpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdwcmltYXJ5U291cmNlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnYXR0ZXN0YXRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCd2YWxpZGF0b3InLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=