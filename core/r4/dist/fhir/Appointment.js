// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Appointment
import * as fhir from '../fhir.js';
// @ts-ignore
import { EncounterParticipantTypeCodings, } from '../fhirValueSets/EncounterParticipantTypeCodings.js';
// @ts-ignore
import { ParticipantrequiredCodes } from '../fhirValueSets/ParticipantrequiredCodes.js';
// @ts-ignore
import { ParticipationstatusCodes } from '../fhirValueSets/ParticipationstatusCodes.js';
// @ts-ignore
import { AppointmentstatusCodes } from '../fhirValueSets/AppointmentstatusCodes.js';
// @ts-ignore
import { C80PracticeCodings, } from '../fhirValueSets/C80PracticeCodings.js';
// @ts-ignore
import { V20276Codings, } from '../fhirValueSets/V20276Codings.js';
// @ts-ignore
import { EncounterReasonCodings, } from '../fhirValueSets/EncounterReasonCodings.js';
/**
 * List of participants involved in the appointment.
 */
export class AppointmentParticipant extends fhir.BackboneElement {
    /**
     * Default constructor for AppointmentParticipant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['actor']) {
            this.actor = new fhir.Reference(source.actor);
        }
        if (source['required']) {
            this.required = new fhir.FhirCode({ value: source.required });
        }
        if (source['_required']) {
            if (this.required) {
                this.required.addExtendedProperties(source._required);
            }
            else {
                this.required = new fhir.FhirCode(source._required);
            }
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
    }
    /**
     * Extensible-bound Value Set for type (Appointment.participant.type)
     */
    static get typeExtensibleCodings() {
        return EncounterParticipantTypeCodings;
    }
    /**
     * Required-bound Value Set for required (Appointment.participant.required)
     */
    static get requiredRequiredCodes() {
        return ParticipantrequiredCodes;
    }
    /**
     * Required-bound Value Set for status (Appointment.participant.status)
     */
    static get statusRequiredCodes() {
        return ParticipationstatusCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            this.type.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["actor"]) {
            issues.push(...this.actor.doModelValidation());
        }
        if (this['required'] && (!Object.values(ParticipantrequiredCodes).includes(this.required))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property required?:fhir.FhirCode<ParticipantrequiredCodeType> fhir: Appointment.participant.required:code Required binding to: Participantrequired' });
        }
        if (this["required"]) {
            issues.push(...this.required.doModelValidation());
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:fhir.FhirCode<ParticipationstatusCodeType> fhir: Appointment.participant.status:code' });
        }
        if (this['status'] && (!Object.values(ParticipationstatusCodes).includes(this.status))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property status:fhir.FhirCode<ParticipationstatusCodeType> fhir: Appointment.participant.status:code Required binding to: Participationstatus' });
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation());
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AppointmentParticipant._fts_dataType = 'AppointmentParticipant';
/**
 * A booking of a healthcare event among patient(s), practitioner(s), related person(s) and/or device(s) for a specific date/time. This may result in one or more Encounter(s).
 */
export class Appointment extends fhir.DomainResource {
    /**
     * Default constructor for Appointment - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Appointment';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['cancelationReason']) {
            this.cancelationReason = new fhir.CodeableConcept(source.cancelationReason);
        }
        if (source['serviceCategory']) {
            this.serviceCategory = source.serviceCategory.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.serviceCategory = [];
        }
        if (source['serviceType']) {
            this.serviceType = source.serviceType.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.serviceType = [];
        }
        if (source['specialty']) {
            this.specialty = source.specialty.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.specialty = [];
        }
        if (source['appointmentType']) {
            this.appointmentType = new fhir.CodeableConcept(source.appointmentType);
        }
        if (source['reasonCode']) {
            this.reasonCode = source.reasonCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reasonCode = [];
        }
        if (source['reasonReference']) {
            this.reasonReference = source.reasonReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.reasonReference = [];
        }
        if (source['priority']) {
            this.priority = new fhir.FhirUnsignedInt({ value: source.priority });
        }
        if (source['_priority']) {
            if (this.priority) {
                this.priority.addExtendedProperties(source._priority);
            }
            else {
                this.priority = new fhir.FhirUnsignedInt(source._priority);
            }
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['supportingInformation']) {
            this.supportingInformation = source.supportingInformation.map((x) => new fhir.Reference(x));
        }
        else {
            this.supportingInformation = [];
        }
        if (source['start']) {
            this.start = new fhir.FhirInstant({ value: source.start });
        }
        if (source['_start']) {
            if (this.start) {
                this.start.addExtendedProperties(source._start);
            }
            else {
                this.start = new fhir.FhirInstant(source._start);
            }
        }
        if (source['end']) {
            this.end = new fhir.FhirInstant({ value: source.end });
        }
        if (source['_end']) {
            if (this.end) {
                this.end.addExtendedProperties(source._end);
            }
            else {
                this.end = new fhir.FhirInstant(source._end);
            }
        }
        if (source['minutesDuration']) {
            this.minutesDuration = new fhir.FhirPositiveInt({ value: source.minutesDuration });
        }
        if (source['_minutesDuration']) {
            if (this.minutesDuration) {
                this.minutesDuration.addExtendedProperties(source._minutesDuration);
            }
            else {
                this.minutesDuration = new fhir.FhirPositiveInt(source._minutesDuration);
            }
        }
        if (source['slot']) {
            this.slot = source.slot.map((x) => new fhir.Reference(x));
        }
        else {
            this.slot = [];
        }
        if (source['created']) {
            this.created = new fhir.FhirDateTime({ value: source.created });
        }
        if (source['_created']) {
            if (this.created) {
                this.created.addExtendedProperties(source._created);
            }
            else {
                this.created = new fhir.FhirDateTime(source._created);
            }
        }
        if (source['comment']) {
            this.comment = new fhir.FhirString({ value: source.comment });
        }
        if (source['_comment']) {
            if (this.comment) {
                this.comment.addExtendedProperties(source._comment);
            }
            else {
                this.comment = new fhir.FhirString(source._comment);
            }
        }
        if (source['patientInstruction']) {
            this.patientInstruction = new fhir.FhirString({ value: source.patientInstruction });
        }
        if (source['_patientInstruction']) {
            if (this.patientInstruction) {
                this.patientInstruction.addExtendedProperties(source._patientInstruction);
            }
            else {
                this.patientInstruction = new fhir.FhirString(source._patientInstruction);
            }
        }
        if (source['basedOn']) {
            this.basedOn = source.basedOn.map((x) => new fhir.Reference(x));
        }
        else {
            this.basedOn = [];
        }
        if (source['participant']) {
            this.participant = source.participant.map((x) => new fhir.AppointmentParticipant(x));
        }
        else {
            this.participant = [];
        }
        if (source['requestedPeriod']) {
            this.requestedPeriod = source.requestedPeriod.map((x) => new fhir.Period(x));
        }
        else {
            this.requestedPeriod = [];
        }
    }
    /**
     * Required-bound Value Set for status (Appointment.status)
     */
    static get statusRequiredCodes() {
        return AppointmentstatusCodes;
    }
    /**
     * Preferred-bound Value Set for specialty (Appointment.specialty)
     */
    static get specialtyPreferredCodings() {
        return C80PracticeCodings;
    }
    /**
     * Preferred-bound Value Set for appointmentType (Appointment.appointmentType)
     */
    static get appointmentTypePreferredCodings() {
        return V20276Codings;
    }
    /**
     * Preferred-bound Value Set for reasonCode (Appointment.reasonCode)
     */
    static get reasonCodePreferredCodings() {
        return EncounterReasonCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"Appointment" fhir: Appointment.resourceType:"Appointment"' });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:fhir.FhirCode<AppointmentstatusCodeType> fhir: Appointment.status:code' });
        }
        if (this['status'] && (!Object.values(AppointmentstatusCodes).includes(this.status))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property status:fhir.FhirCode<AppointmentstatusCodeType> fhir: Appointment.status:code Required binding to: Appointmentstatus' });
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation());
        }
        if (this["cancelationReason"]) {
            issues.push(...this.cancelationReason.doModelValidation());
        }
        if (this["serviceCategory"]) {
            this.serviceCategory.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["serviceType"]) {
            this.serviceType.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["specialty"]) {
            this.specialty.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["appointmentType"]) {
            issues.push(...this.appointmentType.doModelValidation());
        }
        if (this["reasonCode"]) {
            this.reasonCode.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["reasonReference"]) {
            this.reasonReference.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["priority"]) {
            issues.push(...this.priority.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["supportingInformation"]) {
            this.supportingInformation.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["start"]) {
            issues.push(...this.start.doModelValidation());
        }
        if (this["end"]) {
            issues.push(...this.end.doModelValidation());
        }
        if (this["minutesDuration"]) {
            issues.push(...this.minutesDuration.doModelValidation());
        }
        if (this["slot"]) {
            this.slot.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["created"]) {
            issues.push(...this.created.doModelValidation());
        }
        if (this["comment"]) {
            issues.push(...this.comment.doModelValidation());
        }
        if (this["patientInstruction"]) {
            issues.push(...this.patientInstruction.doModelValidation());
        }
        if (this["basedOn"]) {
            this.basedOn.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['participant']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property participant:fhir.AppointmentParticipant[] fhir: Appointment.participant:participant' });
        }
        else if (!Array.isArray(this.participant)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property participant:fhir.AppointmentParticipant[] fhir: Appointment.participant:participant' });
        }
        else if (this.participant.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property participant:fhir.AppointmentParticipant[] fhir: Appointment.participant:participant' });
        }
        if (this["participant"]) {
            this.participant.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["requestedPeriod"]) {
            this.requestedPeriod.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Appointment._fts_dataType = 'Appointment';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwb2ludG1lbnQuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0FwcG9pbnRtZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDZCQUE2QjtBQUU3QixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUVuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLCtCQUErQixHQUFzQyxNQUFNLHFEQUFxRCxDQUFDO0FBSzFJLGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEVBQWdDLE1BQU0sOENBQThDLENBQUM7QUFHdEgsYUFBYTtBQUNiLE9BQU8sRUFBRSx3QkFBd0IsRUFBZ0MsTUFBTSw4Q0FBOEMsQ0FBQztBQUd0SCxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixFQUE4QixNQUFNLDRDQUE0QyxDQUFDO0FBYWhILGFBQWE7QUFDYixPQUFPLEVBQUUsa0JBQWtCLEdBQXlCLE1BQU0sd0NBQXdDLENBQUM7QUFHbkcsYUFBYTtBQUNiLE9BQU8sRUFBRSxhQUFhLEdBQW9CLE1BQU0sbUNBQW1DLENBQUM7QUFHcEYsYUFBYTtBQUNiLE9BQU8sRUFBRSxzQkFBc0IsR0FBNkIsTUFBTSw0Q0FBNEMsQ0FBQztBQXVDL0c7O0dBRUc7QUFDSCxNQUFNLE9BQU8sc0JBQXVCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUEyQjlEOztPQUVHO0lBQ0gsWUFBWSxTQUE2QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNuRyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7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LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IEFwcG9pbnRtZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RpbmdzLCBFbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RlcywgIEVuY291bnRlclBhcnRpY2lwYW50VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFydGljaXBhbnRyZXF1aXJlZENvZGluZ3MsIFBhcnRpY2lwYW50cmVxdWlyZWRDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYXJ0aWNpcGFudHJlcXVpcmVkQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFydGljaXBhbnRyZXF1aXJlZENvZGVzLCAgUGFydGljaXBhbnRyZXF1aXJlZENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYXJ0aWNpcGFudHJlcXVpcmVkQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhcnRpY2lwYXRpb25zdGF0dXNDb2RpbmdzLCBQYXJ0aWNpcGF0aW9uc3RhdHVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFydGljaXBhdGlvbnN0YXR1c0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhcnRpY2lwYXRpb25zdGF0dXNDb2RlcywgIFBhcnRpY2lwYXRpb25zdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFydGljaXBhdGlvbnN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBcHBvaW50bWVudHN0YXR1c0NvZGluZ3MsIEFwcG9pbnRtZW50c3RhdHVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXBwb2ludG1lbnRzdGF0dXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBcHBvaW50bWVudHN0YXR1c0NvZGVzLCAgQXBwb2ludG1lbnRzdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXBwb2ludG1lbnRzdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXBwb2ludG1lbnRDYW5jZWxsYXRpb25SZWFzb25Db2RpbmdzLCBBcHBvaW50bWVudENhbmNlbGxhdGlvblJlYXNvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FwcG9pbnRtZW50Q2FuY2VsbGF0aW9uUmVhc29uQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXBwb2ludG1lbnRDYW5jZWxsYXRpb25SZWFzb25Db2RlcywgIEFwcG9pbnRtZW50Q2FuY2VsbGF0aW9uUmVhc29uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FwcG9pbnRtZW50Q2FuY2VsbGF0aW9uUmVhc29uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VDYXRlZ29yeUNvZGluZ3MsIFNlcnZpY2VDYXRlZ29yeUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlcnZpY2VDYXRlZ29yeUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VDYXRlZ29yeUNvZGVzLCAgU2VydmljZUNhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlcnZpY2VDYXRlZ29yeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZXJ2aWNlVHlwZUNvZGluZ3MsIFNlcnZpY2VUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VydmljZVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZXJ2aWNlVHlwZUNvZGVzLCAgU2VydmljZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VydmljZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQzgwUHJhY3RpY2VDb2RpbmdzLCBDODBQcmFjdGljZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0M4MFByYWN0aWNlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQzgwUHJhY3RpY2VDb2RlcywgIEM4MFByYWN0aWNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0M4MFByYWN0aWNlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYyMDI3NkNvZGluZ3MsIFYyMDI3NkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YyMDI3NkNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYyMDI3NkNvZGVzLCAgVjIwMjc2Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YyMDI3NkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJSZWFzb25Db2RpbmdzLCBFbmNvdW50ZXJSZWFzb25Db2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJSZWFzb25Db2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJSZWFzb25Db2RlcywgIEVuY291bnRlclJlYXNvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJSZWFzb25Db2Rlcy5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBcHBvaW50bWVudFBhcnRpY2lwYW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFwcG9pbnRtZW50UGFydGljaXBhbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgcm9sZSBvZiB0aGUgcGFydGljaXBhbnQgY2FuIGJlIHVzZWQgdG8gZGVjbGFyZSB3aGF0IHRoZSBhY3RvciB3aWxsIGJlIGRvaW5nIGluIHRoZSBzY29wZSBvZiB0aGlzIGFwcG9pbnRtZW50LlxyXG4gICAqIElmIHRoZSBhY3RvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIGl0IGlzIGV4cGVjdGVkIHRoYXQgdGhlIGFjdG9yIHdpbGwgYmUgZmlsbGVkIGluIGF0IGEgbGF0ZXIgc3RhZ2Ugb2YgcGxhbm5pbmcuXHJcbiAgICogVGhpcyB2YWx1ZSBTSEFMTCBiZSB0aGUgc2FtZSB3aGVuIGNyZWF0aW5nIGFuIEFwcG9pbnRtZW50UmVzcG9uc2Ugc28gdGhhdCB0aGV5IGNhbiBiZSBtYXRjaGVkLCBhbmQgc3Vic2VxdWVudGx5IHVwZGF0ZSB0aGUgQXBwb2ludG1lbnQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIFBlcnNvbiwgTG9jYXRpb24vSGVhbHRoY2FyZVNlcnZpY2Ugb3IgRGV2aWNlIHRoYXQgaXMgcGFydGljaXBhdGluZyBpbiB0aGUgYXBwb2ludG1lbnQuXHJcbiAgICovXHJcbiAgYWN0b3I/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhpcyBwYXJ0aWNpcGFudCBpcyByZXF1aXJlZCB0byBiZSBwcmVzZW50IGF0IHRoZSBtZWV0aW5nLiBUaGlzIGNvdmVycyBhIHVzZS1jYXNlIHdoZXJlIHR3byBkb2N0b3JzIG5lZWQgdG8gbWVldCB0byBkaXNjdXNzIHRoZSByZXN1bHRzIGZvciBhIHNwZWNpZmljIHBhdGllbnQsIGFuZCB0aGUgcGF0aWVudCBpcyBub3QgcmVxdWlyZWQgdG8gYmUgcHJlc2VudC5cclxuICAgKi9cclxuICByZXF1aXJlZD86IGZoaXIuRmhpckNvZGU8UGFydGljaXBhbnRyZXF1aXJlZENvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBcHBvaW50bWVudC5wYXJ0aWNpcGFudC5yZXF1aXJlZFxyXG4gICAqL1xyXG4gIF9yZXF1aXJlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUGFydGljaXBhdGlvbiBzdGF0dXMgb2YgdGhlIGFjdG9yLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxQYXJ0aWNpcGF0aW9uc3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFwcG9pbnRtZW50LnBhcnRpY2lwYW50LnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFBhcnRpY2lwYXRpb24gcGVyaW9kIG9mIHRoZSBhY3Rvci5cclxuICAgKi9cclxuICBwZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdCBvZiBwYXJ0aWNpcGFudHMgaW52b2x2ZWQgaW4gdGhlIGFwcG9pbnRtZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFwcG9pbnRtZW50UGFydGljaXBhbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBcHBvaW50bWVudFBhcnRpY2lwYW50JztcclxuICAvKipcclxuICAgKiBUaGUgcm9sZSBvZiB0aGUgcGFydGljaXBhbnQgY2FuIGJlIHVzZWQgdG8gZGVjbGFyZSB3aGF0IHRoZSBhY3RvciB3aWxsIGJlIGRvaW5nIGluIHRoZSBzY29wZSBvZiB0aGlzIGFwcG9pbnRtZW50LlxyXG4gICAqIElmIHRoZSBhY3RvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIGl0IGlzIGV4cGVjdGVkIHRoYXQgdGhlIGFjdG9yIHdpbGwgYmUgZmlsbGVkIGluIGF0IGEgbGF0ZXIgc3RhZ2Ugb2YgcGxhbm5pbmcuXHJcbiAgICogVGhpcyB2YWx1ZSBTSEFMTCBiZSB0aGUgc2FtZSB3aGVuIGNyZWF0aW5nIGFuIEFwcG9pbnRtZW50UmVzcG9uc2Ugc28gdGhhdCB0aGV5IGNhbiBiZSBtYXRjaGVkLCBhbmQgc3Vic2VxdWVudGx5IHVwZGF0ZSB0aGUgQXBwb2ludG1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQSBQZXJzb24sIExvY2F0aW9uL0hlYWx0aGNhcmVTZXJ2aWNlIG9yIERldmljZSB0aGF0IGlzIHBhcnRpY2lwYXRpbmcgaW4gdGhlIGFwcG9pbnRtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3Rvcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoaXMgcGFydGljaXBhbnQgaXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudCBhdCB0aGUgbWVldGluZy4gVGhpcyBjb3ZlcnMgYSB1c2UtY2FzZSB3aGVyZSB0d28gZG9jdG9ycyBuZWVkIHRvIG1lZXQgdG8gZGlzY3VzcyB0aGUgcmVzdWx0cyBmb3IgYSBzcGVjaWZpYyBwYXRpZW50LCBhbmQgdGhlIHBhdGllbnQgaXMgbm90IHJlcXVpcmVkIHRvIGJlIHByZXNlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVpcmVkPzogZmhpci5GaGlyQ29kZTxQYXJ0aWNpcGFudHJlcXVpcmVkQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQYXJ0aWNpcGF0aW9uIHN0YXR1cyBvZiB0aGUgYWN0b3IuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxQYXJ0aWNpcGF0aW9uc3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogUGFydGljaXBhdGlvbiBwZXJpb2Qgb2YgdGhlIGFjdG9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXBwb2ludG1lbnRQYXJ0aWNpcGFudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFwcG9pbnRtZW50UGFydGljaXBhbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IHNvdXJjZS50eXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhY3RvciddKSB7IHRoaXMuYWN0b3IgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmFjdG9yKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWlyZWQnXSkgeyB0aGlzLnJlcXVpcmVkID0gbmV3IGZoaXIuRmhpckNvZGU8UGFydGljaXBhbnRyZXF1aXJlZENvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5yZXF1aXJlZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVxdWlyZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZXF1aXJlZCkgeyB0aGlzLnJlcXVpcmVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlcXVpcmVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVxdWlyZWQgPSBuZXcgZmhpci5GaGlyQ29kZTxQYXJ0aWNpcGFudHJlcXVpcmVkQ29kZVR5cGU+KHNvdXJjZS5fcmVxdWlyZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8UGFydGljaXBhdGlvbnN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQYXJ0aWNpcGF0aW9uc3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UucGVyaW9kKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoQXBwb2ludG1lbnQucGFydGljaXBhbnQudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlRXh0ZW5zaWJsZUNvZGluZ3MoKTpFbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBFbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHJlcXVpcmVkIChBcHBvaW50bWVudC5wYXJ0aWNpcGFudC5yZXF1aXJlZClcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCByZXF1aXJlZFJlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gUGFydGljaXBhbnRyZXF1aXJlZENvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHN0YXR1cyAoQXBwb2ludG1lbnQucGFydGljaXBhbnQuc3RhdHVzKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHN0YXR1c1JlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gUGFydGljaXBhdGlvbnN0YXR1c0NvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IHRoaXMudHlwZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiYWN0b3JcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hY3Rvci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbJ3JlcXVpcmVkJ10gJiYgKCFPYmplY3QudmFsdWVzKFBhcnRpY2lwYW50cmVxdWlyZWRDb2RlcykuaW5jbHVkZXModGhpcy5yZXF1aXJlZCBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgcmVxdWlyZWQ/OmZoaXIuRmhpckNvZGU8UGFydGljaXBhbnRyZXF1aXJlZENvZGVUeXBlPiBmaGlyOiBBcHBvaW50bWVudC5wYXJ0aWNpcGFudC5yZXF1aXJlZDpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IFBhcnRpY2lwYW50cmVxdWlyZWQnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJyZXF1aXJlZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlcXVpcmVkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3N0YXR1cyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzdGF0dXM6Zmhpci5GaGlyQ29kZTxQYXJ0aWNpcGF0aW9uc3RhdHVzQ29kZVR5cGU+IGZoaXI6IEFwcG9pbnRtZW50LnBhcnRpY2lwYW50LnN0YXR1czpjb2RlJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzWydzdGF0dXMnXSAmJiAoIU9iamVjdC52YWx1ZXMoUGFydGljaXBhdGlvbnN0YXR1c0NvZGVzKS5pbmNsdWRlcyh0aGlzLnN0YXR1cyBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgc3RhdHVzOmZoaXIuRmhpckNvZGU8UGFydGljaXBhdGlvbnN0YXR1c0NvZGVUeXBlPiBmaGlyOiBBcHBvaW50bWVudC5wYXJ0aWNpcGFudC5zdGF0dXM6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBQYXJ0aWNpcGF0aW9uc3RhdHVzJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic3RhdHVzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RhdHVzLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBlcmlvZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBlcmlvZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEFwcG9pbnRtZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFwcG9pbnRtZW50QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQXBwb2ludG1lbnRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyByZWNvcmRzIGlkZW50aWZpZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGFwcG9pbnRtZW50IGNvbmNlcm4gdGhhdCBhcmUgZGVmaW5lZCBieSBidXNpbmVzcyBwcm9jZXNzZXMgYW5kL29yIHVzZWQgdG8gcmVmZXIgdG8gaXQgd2hlbiBhIGRpcmVjdCBVUkwgcmVmZXJlbmNlIHRvIHRoZSByZXNvdXJjZSBpdHNlbGYgaXMgbm90IGFwcHJvcHJpYXRlIChlLmcuIGluIENEQSBkb2N1bWVudHMsIG9yIGluIHdyaXR0ZW4gLyBwcmludGVkIGRvY3VtZW50YXRpb24pLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBBcHBvaW50bWVudCdzIHN0YXR1cyBpcyBcImNhbmNlbGxlZFwiIHRoZW4gYWxsIHBhcnRpY2lwYW50cyBhcmUgZXhwZWN0ZWQgdG8gaGF2ZSB0aGVpciBjYWxlbmRhcnMgcmVsZWFzZWQgZm9yIHRoZSBhcHBvaW50bWVudCBwZXJpb2QsIGFuZCBhcyBzdWNoIGFueSBTbG90cyB0aGF0IHdlcmUgbWFya2VkIGFzIEJVU1kgY2FuIGJlIHJlLXNldCB0byBGUkVFLlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIHRoZSBjb2RlIGVudGVyZWQtaW4tZXJyb3IgdGhhdCBtYXJrIHRoZSBBcHBvaW50bWVudCBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxBcHBvaW50bWVudHN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBcHBvaW50bWVudC5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgY29kZWQgcmVhc29uIGZvciB0aGUgYXBwb2ludG1lbnQgYmVpbmcgY2FuY2VsbGVkLiBUaGlzIGlzIG9mdGVuIHVzZWQgaW4gcmVwb3J0aW5nL2JpbGxpbmcvZnV0aGVyIHByb2Nlc3NpbmcgdG8gZGV0ZXJtaW5lIGlmIGZ1cnRoZXIgYWN0aW9ucyBhcmUgcmVxdWlyZWQsIG9yIHNwZWNpZmljIGZlZXMgYXBwbHkuXHJcbiAgICovXHJcbiAgY2FuY2VsYXRpb25SZWFzb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgYnJvYWQgY2F0ZWdvcml6YXRpb24gb2YgdGhlIHNlcnZpY2UgdGhhdCBpcyB0byBiZSBwZXJmb3JtZWQgZHVyaW5nIHRoaXMgYXBwb2ludG1lbnQuXHJcbiAgICovXHJcbiAgc2VydmljZUNhdGVnb3J5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBhIHByb3ZpZGVyIHRvIHByb3ZpZGVyIGFwcG9pbnRtZW50IHRoZSBjb2RlIFwiRk9MTE9XVVBcIiBtYXkgYmUgYXBwcm9wcmlhdGUsIGFzIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgZGlzY3Vzc2luZyBzb21lIHBhdGllbnQgdGhhdCB3YXMgc2VlbiBpbiB0aGUgcGFzdC5cclxuICAgKi9cclxuICBzZXJ2aWNlVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lhbHR5IG9mIGEgcHJhY3RpdGlvbmVyIHRoYXQgd291bGQgYmUgcmVxdWlyZWQgdG8gcGVyZm9ybSB0aGUgc2VydmljZSByZXF1ZXN0ZWQgaW4gdGhpcyBhcHBvaW50bWVudC5cclxuICAgKi9cclxuICBzcGVjaWFsdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0eWxlIG9mIGFwcG9pbnRtZW50IG9yIHBhdGllbnQgdGhhdCBoYXMgYmVlbiBib29rZWQgaW4gdGhlIHNsb3QgKG5vdCBzZXJ2aWNlIHR5cGUpLlxyXG4gICAqL1xyXG4gIGFwcG9pbnRtZW50VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGVkIHJlYXNvbiB0aGF0IHRoaXMgYXBwb2ludG1lbnQgaXMgYmVpbmcgc2NoZWR1bGVkLiBUaGlzIGlzIG1vcmUgY2xpbmljYWwgdGhhbiBhZG1pbmlzdHJhdGl2ZS5cclxuICAgKi9cclxuICByZWFzb25Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlYXNvbiB0aGUgYXBwb2ludG1lbnQgaGFzIGJlZW4gc2NoZWR1bGVkIHRvIHRha2UgcGxhY2UsIGFzIHNwZWNpZmllZCB1c2luZyBpbmZvcm1hdGlvbiBmcm9tIGFub3RoZXIgcmVzb3VyY2UuIFdoZW4gdGhlIHBhdGllbnQgYXJyaXZlcyBhbmQgdGhlIGVuY291bnRlciBiZWdpbnMgaXQgbWF5IGJlIHVzZWQgYXMgdGhlIGFkbWlzc2lvbiBkaWFnbm9zaXMuIFRoZSBpbmRpY2F0aW9uIHdpbGwgdHlwaWNhbGx5IGJlIGEgQ29uZGl0aW9uICh3aXRoIG90aGVyIHJlc291cmNlcyByZWZlcmVuY2VkIGluIHRoZSBldmlkZW5jZS5kZXRhaWwpLCBvciBhIFByb2NlZHVyZS5cclxuICAgKi9cclxuICByZWFzb25SZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2Vla2luZyBpbXBsZW1lbnRlciBmZWVkYmFjayBvbiB0aGlzIHByb3BlcnR5IGFuZCBob3cgaW50ZXJvcGVyYWJsZSBpdCBpcy5cclxuICAgKiBVc2luZyBhbiBleHRlbnNpb24gdG8gcmVjb3JkIGEgQ29kZWFibGVDb25jZXB0IGZvciBuYW1lZCB2YWx1ZXMgbWF5IGJlIHRlc3RlZCBhdCBhIGZ1dHVyZSBjb25uZWN0YXRob24uXHJcbiAgICovXHJcbiAgcHJpb3JpdHk/OiBmaGlyLkZoaXJVbnNpZ25lZEludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBcHBvaW50bWVudC5wcmlvcml0eVxyXG4gICAqL1xyXG4gIF9wcmlvcml0eT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHRoZSBhcHBvaW50bWVudCBhcyB3b3VsZCBiZSBzaG93biBvbiBhIHN1YmplY3QgbGluZSBpbiBhIG1lZXRpbmcgcmVxdWVzdCwgb3IgYXBwb2ludG1lbnQgbGlzdC4gRGV0YWlsZWQgb3IgZXhwYW5kZWQgaW5mb3JtYXRpb24gc2hvdWxkIGJlIHB1dCBpbiB0aGUgY29tbWVudCBmaWVsZC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBcHBvaW50bWVudC5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBpbmZvcm1hdGlvbiB0byBzdXBwb3J0IHRoZSBhcHBvaW50bWVudCBwcm92aWRlZCB3aGVuIG1ha2luZyB0aGUgYXBwb2ludG1lbnQuXHJcbiAgICovXHJcbiAgc3VwcG9ydGluZ0luZm9ybWF0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERhdGUvVGltZSB0aGF0IHRoZSBhcHBvaW50bWVudCBpcyB0byB0YWtlIHBsYWNlLlxyXG4gICAqL1xyXG4gIHN0YXJ0PzogZmhpci5GaGlySW5zdGFudHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBcHBvaW50bWVudC5zdGFydFxyXG4gICAqL1xyXG4gIF9zdGFydD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRGF0ZS9UaW1lIHRoYXQgdGhlIGFwcG9pbnRtZW50IGlzIHRvIGNvbmNsdWRlLlxyXG4gICAqL1xyXG4gIGVuZD86IGZoaXIuRmhpckluc3RhbnR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXBwb2ludG1lbnQuZW5kXHJcbiAgICovXHJcbiAgX2VuZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogTnVtYmVyIG9mIG1pbnV0ZXMgdGhhdCB0aGUgYXBwb2ludG1lbnQgaXMgdG8gdGFrZS4gVGhpcyBjYW4gYmUgbGVzcyB0aGFuIHRoZSBkdXJhdGlvbiBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgZW5kIHRpbWVzLiAgRm9yIGV4YW1wbGUsIHdoZXJlIHRoZSBhY3R1YWwgdGltZSBvZiBhcHBvaW50bWVudCBpcyBvbmx5IGFuIGVzdGltYXRlIG9yIGlmIGEgMzAgbWludXRlIGFwcG9pbnRtZW50IGlzIGJlaW5nIHJlcXVlc3RlZCwgYnV0IGFueSB0aW1lIHdvdWxkIHdvcmsuICBBbHNvLCBpZiB0aGVyZSBpcywgZm9yIGV4YW1wbGUsIGEgcGxhbm5lZCAxNSBtaW51dGUgYnJlYWsgaW4gdGhlIG1pZGRsZSBvZiBhIGxvbmcgYXBwb2ludG1lbnQsIHRoZSBkdXJhdGlvbiBtYXkgYmUgMTUgbWludXRlcyBsZXNzIHRoYW4gdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZC5cclxuICAgKi9cclxuICBtaW51dGVzRHVyYXRpb24/OiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBcHBvaW50bWVudC5taW51dGVzRHVyYXRpb25cclxuICAgKi9cclxuICBfbWludXRlc0R1cmF0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgc2xvdHMgZnJvbSB0aGUgcGFydGljaXBhbnRzJyBzY2hlZHVsZXMgdGhhdCB3aWxsIGJlIGZpbGxlZCBieSB0aGUgYXBwb2ludG1lbnQuXHJcbiAgICovXHJcbiAgc2xvdD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHByb3BlcnR5IGlzIHJlcXVpcmVkIGZvciBtYW55IHVzZSBjYXNlcyB3aGVyZSB0aGUgYWdlIG9mIGFuIGFwcG9pbnRtZW50IGlzIGNvbnNpZGVyZWQgaW4gcHJvY2Vzc2luZyB3b3JrZmxvd3MgZm9yIHNjaGVkdWxpbmcgYW5kIGJpbGxpbmcgb2YgYXBwb2ludG1lbnRzLlxyXG4gICAqL1xyXG4gIGNyZWF0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBcHBvaW50bWVudC5jcmVhdGVkXHJcbiAgICovXHJcbiAgX2NyZWF0ZWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgdGV4dCB0byBhaWQgaW4gZmFjaWxpdGF0aW5nIHRoZSBhcHBvaW50bWVudC4gRm9yIGluc3RhbmNlLCBhIGNvbW1lbnQgbWlnaHQgYmUsIFwicGF0aWVudCBzaG91bGQgcHJvY2VlZCBpbW1lZGlhdGVseSB0byBpbmZ1c2lvbiByb29tIHVwb24gYXJyaXZhbFwiXHJcbiAgICogV2hlcmUgdGhpcyBpcyBhIHBsYW5uZWQgYXBwb2ludG1lbnQgYW5kIHRoZSBzdGFydC9lbmQgZGF0ZXMgYXJlIG5vdCBzZXQgdGhlbiB0aGlzIGZpZWxkIGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYWRkaXRpb25hbCBndWlkYW5jZSBvbiB0aGUgZGV0YWlscyBvZiB0aGUgYXBwb2ludG1lbnQgcmVxdWVzdCwgaW5jbHVkaW5nIGFueSByZXN0cmljdGlvbnMgb24gd2hlbiB0byBib29rIGl0LlxyXG4gICAqL1xyXG4gIGNvbW1lbnQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXBwb2ludG1lbnQuY29tbWVudFxyXG4gICAqL1xyXG4gIF9jb21tZW50PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBXaGlsZSBBcHBvaW50bWVudC5jb21tZW50IGNvbnRhaW5zIGluZm9ybWF0aW9uIGZvciBpbnRlcm5hbCB1c2UsIEFwcG9pbnRtZW50LnBhdGllbnRJbnN0cnVjdGlvbnMgaXMgdXNlZCB0byBjYXB0dXJlIHBhdGllbnQgZmFjaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBBcHBvaW50bWVudCAoZS5nLiBwbGVhc2UgYnJpbmcgeW91ciByZWZlcnJhbCBvciBmYXN0IGZyb20gOHBtIG5pZ2h0IGJlZm9yZSkuXHJcbiAgICovXHJcbiAgcGF0aWVudEluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFwcG9pbnRtZW50LnBhdGllbnRJbnN0cnVjdGlvblxyXG4gICAqL1xyXG4gIF9wYXRpZW50SW5zdHJ1Y3Rpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzZXJ2aWNlIHJlcXVlc3QgdGhpcyBhcHBvaW50bWVudCBpcyBhbGxvY2F0ZWQgdG8gYXNzZXNzIChlLmcuIGluY29taW5nIHJlZmVycmFsIG9yIHByb2NlZHVyZSByZXF1ZXN0KS5cclxuICAgKi9cclxuICBiYXNlZE9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExpc3Qgb2YgcGFydGljaXBhbnRzIGludm9sdmVkIGluIHRoZSBhcHBvaW50bWVudC5cclxuICAgKi9cclxuICBwYXJ0aWNpcGFudDogZmhpci5BcHBvaW50bWVudFBhcnRpY2lwYW50QXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkb2VzIG5vdCBpbnRyb2R1Y2UgYSBjYXBhY2l0eSBmb3IgcmVjdXJyaW5nIGFwcG9pbnRtZW50cy5cclxuICAgKi9cclxuICByZXF1ZXN0ZWRQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGJvb2tpbmcgb2YgYSBoZWFsdGhjYXJlIGV2ZW50IGFtb25nIHBhdGllbnQocyksIHByYWN0aXRpb25lcihzKSwgcmVsYXRlZCBwZXJzb24ocykgYW5kL29yIGRldmljZShzKSBmb3IgYSBzcGVjaWZpYyBkYXRlL3RpbWUuIFRoaXMgbWF5IHJlc3VsdCBpbiBvbmUgb3IgbW9yZSBFbmNvdW50ZXIocykuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXBwb2ludG1lbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FwcG9pbnRtZW50JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkFwcG9pbnRtZW50XCI7XHJcbiAgLyoqXHJcbiAgICogVGhpcyByZWNvcmRzIGlkZW50aWZpZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGFwcG9pbnRtZW50IGNvbmNlcm4gdGhhdCBhcmUgZGVmaW5lZCBieSBidXNpbmVzcyBwcm9jZXNzZXMgYW5kL29yIHVzZWQgdG8gcmVmZXIgdG8gaXQgd2hlbiBhIGRpcmVjdCBVUkwgcmVmZXJlbmNlIHRvIHRoZSByZXNvdXJjZSBpdHNlbGYgaXMgbm90IGFwcHJvcHJpYXRlIChlLmcuIGluIENEQSBkb2N1bWVudHMsIG9yIGluIHdyaXR0ZW4gLyBwcmludGVkIGRvY3VtZW50YXRpb24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBJZiB0aGUgQXBwb2ludG1lbnQncyBzdGF0dXMgaXMgXCJjYW5jZWxsZWRcIiB0aGVuIGFsbCBwYXJ0aWNpcGFudHMgYXJlIGV4cGVjdGVkIHRvIGhhdmUgdGhlaXIgY2FsZW5kYXJzIHJlbGVhc2VkIGZvciB0aGUgYXBwb2ludG1lbnQgcGVyaW9kLCBhbmQgYXMgc3VjaCBhbnkgU2xvdHMgdGhhdCB3ZXJlIG1hcmtlZCBhcyBCVVNZIGNhbiBiZSByZS1zZXQgdG8gRlJFRS5cclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyB0aGUgY29kZSBlbnRlcmVkLWluLWVycm9yIHRoYXQgbWFyayB0aGUgQXBwb2ludG1lbnQgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPEFwcG9pbnRtZW50c3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGVkIHJlYXNvbiBmb3IgdGhlIGFwcG9pbnRtZW50IGJlaW5nIGNhbmNlbGxlZC4gVGhpcyBpcyBvZnRlbiB1c2VkIGluIHJlcG9ydGluZy9iaWxsaW5nL2Z1dGhlciBwcm9jZXNzaW5nIHRvIGRldGVybWluZSBpZiBmdXJ0aGVyIGFjdGlvbnMgYXJlIHJlcXVpcmVkLCBvciBzcGVjaWZpYyBmZWVzIGFwcGx5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYW5jZWxhdGlvblJlYXNvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGJyb2FkIGNhdGVnb3JpemF0aW9uIG9mIHRoZSBzZXJ2aWNlIHRoYXQgaXMgdG8gYmUgcGVyZm9ybWVkIGR1cmluZyB0aGlzIGFwcG9pbnRtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJ2aWNlQ2F0ZWdvcnk6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRm9yIGEgcHJvdmlkZXIgdG8gcHJvdmlkZXIgYXBwb2ludG1lbnQgdGhlIGNvZGUgXCJGT0xMT1dVUFwiIG1heSBiZSBhcHByb3ByaWF0ZSwgYXMgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBkaXNjdXNzaW5nIHNvbWUgcGF0aWVudCB0aGF0IHdhcyBzZWVuIGluIHRoZSBwYXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJ2aWNlVHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lhbHR5IG9mIGEgcHJhY3RpdGlvbmVyIHRoYXQgd291bGQgYmUgcmVxdWlyZWQgdG8gcGVyZm9ybSB0aGUgc2VydmljZSByZXF1ZXN0ZWQgaW4gdGhpcyBhcHBvaW50bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc3BlY2lhbHR5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdHlsZSBvZiBhcHBvaW50bWVudCBvciBwYXRpZW50IHRoYXQgaGFzIGJlZW4gYm9va2VkIGluIHRoZSBzbG90IChub3Qgc2VydmljZSB0eXBlKS5cclxuICAgKi9cclxuICBwdWJsaWMgYXBwb2ludG1lbnRUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlZCByZWFzb24gdGhhdCB0aGlzIGFwcG9pbnRtZW50IGlzIGJlaW5nIHNjaGVkdWxlZC4gVGhpcyBpcyBtb3JlIGNsaW5pY2FsIHRoYW4gYWRtaW5pc3RyYXRpdmUuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYXNvbkNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogUmVhc29uIHRoZSBhcHBvaW50bWVudCBoYXMgYmVlbiBzY2hlZHVsZWQgdG8gdGFrZSBwbGFjZSwgYXMgc3BlY2lmaWVkIHVzaW5nIGluZm9ybWF0aW9uIGZyb20gYW5vdGhlciByZXNvdXJjZS4gV2hlbiB0aGUgcGF0aWVudCBhcnJpdmVzIGFuZCB0aGUgZW5jb3VudGVyIGJlZ2lucyBpdCBtYXkgYmUgdXNlZCBhcyB0aGUgYWRtaXNzaW9uIGRpYWdub3Npcy4gVGhlIGluZGljYXRpb24gd2lsbCB0eXBpY2FsbHkgYmUgYSBDb25kaXRpb24gKHdpdGggb3RoZXIgcmVzb3VyY2VzIHJlZmVyZW5jZWQgaW4gdGhlIGV2aWRlbmNlLmRldGFpbCksIG9yIGEgUHJvY2VkdXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb25SZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogU2Vla2luZyBpbXBsZW1lbnRlciBmZWVkYmFjayBvbiB0aGlzIHByb3BlcnR5IGFuZCBob3cgaW50ZXJvcGVyYWJsZSBpdCBpcy5cclxuICAgKiBVc2luZyBhbiBleHRlbnNpb24gdG8gcmVjb3JkIGEgQ29kZWFibGVDb25jZXB0IGZvciBuYW1lZCB2YWx1ZXMgbWF5IGJlIHRlc3RlZCBhdCBhIGZ1dHVyZSBjb25uZWN0YXRob24uXHJcbiAgICovXHJcbiAgcHVibGljIHByaW9yaXR5PzogZmhpci5GaGlyVW5zaWduZWRJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBicmllZiBkZXNjcmlwdGlvbiBvZiB0aGUgYXBwb2ludG1lbnQgYXMgd291bGQgYmUgc2hvd24gb24gYSBzdWJqZWN0IGxpbmUgaW4gYSBtZWV0aW5nIHJlcXVlc3QsIG9yIGFwcG9pbnRtZW50IGxpc3QuIERldGFpbGVkIG9yIGV4cGFuZGVkIGluZm9ybWF0aW9uIHNob3VsZCBiZSBwdXQgaW4gdGhlIGNvbW1lbnQgZmllbGQuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIHRvIHN1cHBvcnQgdGhlIGFwcG9pbnRtZW50IHByb3ZpZGVkIHdoZW4gbWFraW5nIHRoZSBhcHBvaW50bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VwcG9ydGluZ0luZm9ybWF0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERhdGUvVGltZSB0aGF0IHRoZSBhcHBvaW50bWVudCBpcyB0byB0YWtlIHBsYWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGFydD86IGZoaXIuRmhpckluc3RhbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERhdGUvVGltZSB0aGF0IHRoZSBhcHBvaW50bWVudCBpcyB0byBjb25jbHVkZS5cclxuICAgKi9cclxuICBwdWJsaWMgZW5kPzogZmhpci5GaGlySW5zdGFudHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTnVtYmVyIG9mIG1pbnV0ZXMgdGhhdCB0aGUgYXBwb2ludG1lbnQgaXMgdG8gdGFrZS4gVGhpcyBjYW4gYmUgbGVzcyB0aGFuIHRoZSBkdXJhdGlvbiBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgZW5kIHRpbWVzLiAgRm9yIGV4YW1wbGUsIHdoZXJlIHRoZSBhY3R1YWwgdGltZSBvZiBhcHBvaW50bWVudCBpcyBvbmx5IGFuIGVzdGltYXRlIG9yIGlmIGEgMzAgbWludXRlIGFwcG9pbnRtZW50IGlzIGJlaW5nIHJlcXVlc3RlZCwgYnV0IGFueSB0aW1lIHdvdWxkIHdvcmsuICBBbHNvLCBpZiB0aGVyZSBpcywgZm9yIGV4YW1wbGUsIGEgcGxhbm5lZCAxNSBtaW51dGUgYnJlYWsgaW4gdGhlIG1pZGRsZSBvZiBhIGxvbmcgYXBwb2ludG1lbnQsIHRoZSBkdXJhdGlvbiBtYXkgYmUgMTUgbWludXRlcyBsZXNzIHRoYW4gdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWludXRlc0R1cmF0aW9uPzogZmhpci5GaGlyUG9zaXRpdmVJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzbG90cyBmcm9tIHRoZSBwYXJ0aWNpcGFudHMnIHNjaGVkdWxlcyB0aGF0IHdpbGwgYmUgZmlsbGVkIGJ5IHRoZSBhcHBvaW50bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc2xvdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGlzIHByb3BlcnR5IGlzIHJlcXVpcmVkIGZvciBtYW55IHVzZSBjYXNlcyB3aGVyZSB0aGUgYWdlIG9mIGFuIGFwcG9pbnRtZW50IGlzIGNvbnNpZGVyZWQgaW4gcHJvY2Vzc2luZyB3b3JrZmxvd3MgZm9yIHNjaGVkdWxpbmcgYW5kIGJpbGxpbmcgb2YgYXBwb2ludG1lbnRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgdGV4dCB0byBhaWQgaW4gZmFjaWxpdGF0aW5nIHRoZSBhcHBvaW50bWVudC4gRm9yIGluc3RhbmNlLCBhIGNvbW1lbnQgbWlnaHQgYmUsIFwicGF0aWVudCBzaG91bGQgcHJvY2VlZCBpbW1lZGlhdGVseSB0byBpbmZ1c2lvbiByb29tIHVwb24gYXJyaXZhbFwiXHJcbiAgICogV2hlcmUgdGhpcyBpcyBhIHBsYW5uZWQgYXBwb2ludG1lbnQgYW5kIHRoZSBzdGFydC9lbmQgZGF0ZXMgYXJlIG5vdCBzZXQgdGhlbiB0aGlzIGZpZWxkIGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYWRkaXRpb25hbCBndWlkYW5jZSBvbiB0aGUgZGV0YWlscyBvZiB0aGUgYXBwb2ludG1lbnQgcmVxdWVzdCwgaW5jbHVkaW5nIGFueSByZXN0cmljdGlvbnMgb24gd2hlbiB0byBib29rIGl0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21tZW50PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGlsZSBBcHBvaW50bWVudC5jb21tZW50IGNvbnRhaW5zIGluZm9ybWF0aW9uIGZvciBpbnRlcm5hbCB1c2UsIEFwcG9pbnRtZW50LnBhdGllbnRJbnN0cnVjdGlvbnMgaXMgdXNlZCB0byBjYXB0dXJlIHBhdGllbnQgZmFjaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBBcHBvaW50bWVudCAoZS5nLiBwbGVhc2UgYnJpbmcgeW91ciByZWZlcnJhbCBvciBmYXN0IGZyb20gOHBtIG5pZ2h0IGJlZm9yZSkuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnRJbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNlcnZpY2UgcmVxdWVzdCB0aGlzIGFwcG9pbnRtZW50IGlzIGFsbG9jYXRlZCB0byBhc3Nlc3MgKGUuZy4gaW5jb21pbmcgcmVmZXJyYWwgb3IgcHJvY2VkdXJlIHJlcXVlc3QpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBiYXNlZE9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIExpc3Qgb2YgcGFydGljaXBhbnRzIGludm9sdmVkIGluIHRoZSBhcHBvaW50bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydGljaXBhbnQ6IGZoaXIuQXBwb2ludG1lbnRQYXJ0aWNpcGFudFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZG9lcyBub3QgaW50cm9kdWNlIGEgY2FwYWNpdHkgZm9yIHJlY3VycmluZyBhcHBvaW50bWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3RlZFBlcmlvZDogZmhpci5QZXJpb2RbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBcHBvaW50bWVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFwcG9pbnRtZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0FwcG9pbnRtZW50JztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8QXBwb2ludG1lbnRzdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8QXBwb2ludG1lbnRzdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhbmNlbGF0aW9uUmVhc29uJ10pIHsgdGhpcy5jYW5jZWxhdGlvblJlYXNvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2FuY2VsYXRpb25SZWFzb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXJ2aWNlQ2F0ZWdvcnknXSkgeyB0aGlzLnNlcnZpY2VDYXRlZ29yeSA9IHNvdXJjZS5zZXJ2aWNlQ2F0ZWdvcnkubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXJ2aWNlQ2F0ZWdvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VydmljZVR5cGUnXSkgeyB0aGlzLnNlcnZpY2VUeXBlID0gc291cmNlLnNlcnZpY2VUeXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VydmljZVR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3BlY2lhbHR5J10pIHsgdGhpcy5zcGVjaWFsdHkgPSBzb3VyY2Uuc3BlY2lhbHR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3BlY2lhbHR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FwcG9pbnRtZW50VHlwZSddKSB7IHRoaXMuYXBwb2ludG1lbnRUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hcHBvaW50bWVudFR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWFzb25Db2RlJ10pIHsgdGhpcy5yZWFzb25Db2RlID0gc291cmNlLnJlYXNvbkNvZGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWFzb25Db2RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvblJlZmVyZW5jZSddKSB7IHRoaXMucmVhc29uUmVmZXJlbmNlID0gc291cmNlLnJlYXNvblJlZmVyZW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlYXNvblJlZmVyZW5jZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcmlvcml0eSddKSB7IHRoaXMucHJpb3JpdHkgPSBuZXcgZmhpci5GaGlyVW5zaWduZWRJbnQoe3ZhbHVlOiBzb3VyY2UucHJpb3JpdHl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ByaW9yaXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMucHJpb3JpdHkpIHsgdGhpcy5wcmlvcml0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcmlvcml0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnByaW9yaXR5ID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHNvdXJjZS5fcHJpb3JpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJVbnNpZ25lZEludEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N1cHBvcnRpbmdJbmZvcm1hdGlvbiddKSB7IHRoaXMuc3VwcG9ydGluZ0luZm9ybWF0aW9uID0gc291cmNlLnN1cHBvcnRpbmdJbmZvcm1hdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1cHBvcnRpbmdJbmZvcm1hdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGFydCddKSB7IHRoaXMuc3RhcnQgPSBuZXcgZmhpci5GaGlySW5zdGFudCh7dmFsdWU6IHNvdXJjZS5zdGFydH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhcnQnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGFydCkgeyB0aGlzLnN0YXJ0LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXJ0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhcnQgPSBuZXcgZmhpci5GaGlySW5zdGFudChzb3VyY2UuX3N0YXJ0IGFzIFBhcnRpYWw8Zmhpci5GaGlySW5zdGFudEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW5kJ10pIHsgdGhpcy5lbmQgPSBuZXcgZmhpci5GaGlySW5zdGFudCh7dmFsdWU6IHNvdXJjZS5lbmR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2VuZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmVuZCkgeyB0aGlzLmVuZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9lbmQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5lbmQgPSBuZXcgZmhpci5GaGlySW5zdGFudChzb3VyY2UuX2VuZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckluc3RhbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21pbnV0ZXNEdXJhdGlvbiddKSB7IHRoaXMubWludXRlc0R1cmF0aW9uID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLm1pbnV0ZXNEdXJhdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbWludXRlc0R1cmF0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMubWludXRlc0R1cmF0aW9uKSB7IHRoaXMubWludXRlc0R1cmF0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX21pbnV0ZXNEdXJhdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1pbnV0ZXNEdXJhdGlvbiA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludChzb3VyY2UuX21pbnV0ZXNEdXJhdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclBvc2l0aXZlSW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzbG90J10pIHsgdGhpcy5zbG90ID0gc291cmNlLnNsb3QubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zbG90ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NyZWF0ZWQnXSkgeyB0aGlzLmNyZWF0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuY3JlYXRlZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY3JlYXRlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNyZWF0ZWQpIHsgdGhpcy5jcmVhdGVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NyZWF0ZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jcmVhdGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fY3JlYXRlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb21tZW50J10pIHsgdGhpcy5jb21tZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5jb21tZW50fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb21tZW50J10pIHtcclxuICAgICAgaWYgKHRoaXMuY29tbWVudCkgeyB0aGlzLmNvbW1lbnQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29tbWVudCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvbW1lbnQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fY29tbWVudCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aWVudEluc3RydWN0aW9uJ10pIHsgdGhpcy5wYXRpZW50SW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnBhdGllbnRJbnN0cnVjdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcGF0aWVudEluc3RydWN0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMucGF0aWVudEluc3RydWN0aW9uKSB7IHRoaXMucGF0aWVudEluc3RydWN0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3BhdGllbnRJbnN0cnVjdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBhdGllbnRJbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wYXRpZW50SW5zdHJ1Y3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Jhc2VkT24nXSkgeyB0aGlzLmJhc2VkT24gPSBzb3VyY2UuYmFzZWRPbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmJhc2VkT24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFydGljaXBhbnQnXSkgeyB0aGlzLnBhcnRpY2lwYW50ID0gc291cmNlLnBhcnRpY2lwYW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQXBwb2ludG1lbnRQYXJ0aWNpcGFudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcnRpY2lwYW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcXVlc3RlZFBlcmlvZCddKSB7IHRoaXMucmVxdWVzdGVkUGVyaW9kID0gc291cmNlLnJlcXVlc3RlZFBlcmlvZC5tYXAoKHgpID0+IG5ldyBmaGlyLlBlcmlvZCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlcXVlc3RlZFBlcmlvZCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzIChBcHBvaW50bWVudC5zdGF0dXMpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgc3RhdHVzUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBBcHBvaW50bWVudHN0YXR1c0NvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBQcmVmZXJyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBzcGVjaWFsdHkgKEFwcG9pbnRtZW50LnNwZWNpYWx0eSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBzcGVjaWFsdHlQcmVmZXJyZWRDb2RpbmdzKCk6QzgwUHJhY3RpY2VDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBDODBQcmFjdGljZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFByZWZlcnJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGFwcG9pbnRtZW50VHlwZSAoQXBwb2ludG1lbnQuYXBwb2ludG1lbnRUeXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IGFwcG9pbnRtZW50VHlwZVByZWZlcnJlZENvZGluZ3MoKTpWMjAyNzZDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBWMjAyNzZDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBQcmVmZXJyZWQtYm91bmQgVmFsdWUgU2V0IGZvciByZWFzb25Db2RlIChBcHBvaW50bWVudC5yZWFzb25Db2RlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHJlYXNvbkNvZGVQcmVmZXJyZWRDb2RpbmdzKCk6RW5jb3VudGVyUmVhc29uQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRW5jb3VudGVyUmVhc29uQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZTpcIkFwcG9pbnRtZW50XCIgZmhpcjogQXBwb2ludG1lbnQucmVzb3VyY2VUeXBlOlwiQXBwb2ludG1lbnRcIicgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgdGhpcy5pZGVudGlmaWVyLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKCF0aGlzWydzdGF0dXMnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc3RhdHVzOmZoaXIuRmhpckNvZGU8QXBwb2ludG1lbnRzdGF0dXNDb2RlVHlwZT4gZmhpcjogQXBwb2ludG1lbnQuc3RhdHVzOmNvZGUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbJ3N0YXR1cyddICYmICghT2JqZWN0LnZhbHVlcyhBcHBvaW50bWVudHN0YXR1c0NvZGVzKS5pbmNsdWRlcyh0aGlzLnN0YXR1cyBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgc3RhdHVzOmZoaXIuRmhpckNvZGU8QXBwb2ludG1lbnRzdGF0dXNDb2RlVHlwZT4gZmhpcjogQXBwb2ludG1lbnQuc3RhdHVzOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogQXBwb2ludG1lbnRzdGF0dXMnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzdGF0dXNcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdGF0dXMuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY2FuY2VsYXRpb25SZWFzb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jYW5jZWxhdGlvblJlYXNvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzZXJ2aWNlQ2F0ZWdvcnlcIl0pIHsgdGhpcy5zZXJ2aWNlQ2F0ZWdvcnkuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInNlcnZpY2VUeXBlXCJdKSB7IHRoaXMuc2VydmljZVR5cGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInNwZWNpYWx0eVwiXSkgeyB0aGlzLnNwZWNpYWx0eS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiYXBwb2ludG1lbnRUeXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYXBwb2ludG1lbnRUeXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlYXNvbkNvZGVcIl0pIHsgdGhpcy5yZWFzb25Db2RlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJyZWFzb25SZWZlcmVuY2VcIl0pIHsgdGhpcy5yZWFzb25SZWZlcmVuY2UuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInByaW9yaXR5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHJpb3JpdHkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdXBwb3J0aW5nSW5mb3JtYXRpb25cIl0pIHsgdGhpcy5zdXBwb3J0aW5nSW5mb3JtYXRpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInN0YXJ0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RhcnQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZW5kXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZW5kLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm1pbnV0ZXNEdXJhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1pbnV0ZXNEdXJhdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzbG90XCJdKSB7IHRoaXMuc2xvdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiY3JlYXRlZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNyZWF0ZWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29tbWVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvbW1lbnQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGF0aWVudEluc3RydWN0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGF0aWVudEluc3RydWN0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImJhc2VkT25cIl0pIHsgdGhpcy5iYXNlZE9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKCF0aGlzWydwYXJ0aWNpcGFudCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwYXJ0aWNpcGFudDpmaGlyLkFwcG9pbnRtZW50UGFydGljaXBhbnRbXSBmaGlyOiBBcHBvaW50bWVudC5wYXJ0aWNpcGFudDpwYXJ0aWNpcGFudCcgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucGFydGljaXBhbnQpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdzdHJ1Y3R1cmUnLCBkaWFnbm9zdGljczogJ0ZvdW5kIHNjYWxhciBpbiBhcnJheSBwcm9wZXJ0eSBwYXJ0aWNpcGFudDpmaGlyLkFwcG9pbnRtZW50UGFydGljaXBhbnRbXSBmaGlyOiBBcHBvaW50bWVudC5wYXJ0aWNpcGFudDpwYXJ0aWNpcGFudCcgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucGFydGljaXBhbnQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwYXJ0aWNpcGFudDpmaGlyLkFwcG9pbnRtZW50UGFydGljaXBhbnRbXSBmaGlyOiBBcHBvaW50bWVudC5wYXJ0aWNpcGFudDpwYXJ0aWNpcGFudCcgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInBhcnRpY2lwYW50XCJdKSB7IHRoaXMucGFydGljaXBhbnQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInJlcXVlc3RlZFBlcmlvZFwiXSkgeyB0aGlzLnJlcXVlc3RlZFBlcmlvZC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==