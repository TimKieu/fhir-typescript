// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: ConceptMap
import * as fhir from '../fhir.js';
// @ts-ignore
import { ConceptMapEquivalenceCodings, } from '../fhirValueSets/ConceptMapEquivalenceCodings.js';
// @ts-ignore
import { ConceptmapUnmappedModeCodings, } from '../fhirValueSets/ConceptmapUnmappedModeCodings.js';
// @ts-ignore
import { PublicationStatusCodings, } from '../fhirValueSets/PublicationStatusCodings.js';
/**
 * A set of additional dependencies for this mapping to hold. This mapping is only applicable if the specified element can be resolved, and it has the specified value.
 */
export class ConceptMapGroupElementTargetDependsOn extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapGroupElementTargetDependsOn - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['property']) {
            this.property = new fhir.FhirUri({ value: source.property });
        }
        else {
            this.property = null;
        }
        if (source['system']) {
            this.system = new fhir.FhirCanonical({ value: source.system });
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        else {
            this.value = null;
        }
        if (source['display']) {
            this.display = new fhir.FhirString({ value: source.display });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['property']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property property:fhir.FhirUri fhir: ConceptMap.group.element.target.dependsOn.property:uri', });
        }
        if (this["property"]) {
            issues.push(...this.property.doModelValidation());
        }
        if (this["system"]) {
            issues.push(...this.system.doModelValidation());
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value:fhir.FhirString fhir: ConceptMap.group.element.target.dependsOn.value:string', });
        }
        if (this["value"]) {
            issues.push(...this.value.doModelValidation());
        }
        if (this["display"]) {
            issues.push(...this.display.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapGroupElementTargetDependsOn._fts_dataType = 'ConceptMapGroupElementTargetDependsOn';
/**
 * Ideally there would only be one map, with equal or equivalent mapping. But multiple maps are allowed for several narrower options, or to assert that other concepts are unmatched.
 */
export class ConceptMapGroupElementTarget extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapGroupElementTarget - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        if (source['display']) {
            this.display = new fhir.FhirString({ value: source.display });
        }
        if (source['equivalence']) {
            this.equivalence = source.equivalence;
        }
        else {
            this.equivalence = null;
        }
        if (source['comment']) {
            this.comment = new fhir.FhirString({ value: source.comment });
        }
        if (source['dependsOn']) {
            this.dependsOn = source.dependsOn.map((x) => new fhir.ConceptMapGroupElementTargetDependsOn(x));
        }
        else {
            this.dependsOn = [];
        }
        if (source['product']) {
            this.product = source.product.map((x) => new fhir.ConceptMapGroupElementTargetDependsOn(x));
        }
        else {
            this.product = [];
        }
    }
    /**
     * Required-bound Value Set for equivalence (ConceptMap.group.element.target.equivalence)
     */
    static equivalenceRequiredCoding() {
        return ConceptMapEquivalenceCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["code"]) {
            issues.push(...this.code.doModelValidation());
        }
        if (this["display"]) {
            issues.push(...this.display.doModelValidation());
        }
        if (!this['equivalence']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property equivalence:ConceptMapEquivalenceCodeType fhir: ConceptMap.group.element.target.equivalence:code', });
        }
        if (this["comment"]) {
            issues.push(...this.comment.doModelValidation());
        }
        if (this["dependsOn"]) {
            this.dependsOn.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["product"]) {
            this.product.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapGroupElementTarget._fts_dataType = 'ConceptMapGroupElementTarget';
/**
 * Generally, the ideal is that there would only be one mapping for each concept in the source value set, but a given concept may be mapped multiple times with different comments or dependencies.
 */
export class ConceptMapGroupElement extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapGroupElement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        if (source['display']) {
            this.display = new fhir.FhirString({ value: source.display });
        }
        if (source['target']) {
            this.target = source.target.map((x) => new fhir.ConceptMapGroupElementTarget(x));
        }
        else {
            this.target = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["code"]) {
            issues.push(...this.code.doModelValidation());
        }
        if (this["display"]) {
            issues.push(...this.display.doModelValidation());
        }
        if (this["target"]) {
            this.target.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapGroupElement._fts_dataType = 'ConceptMapGroupElement';
/**
 * This only applies if the source code has a system value that matches the system defined for the group.
 */
export class ConceptMapGroupUnmapped extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapGroupUnmapped - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['mode']) {
            this.mode = source.mode;
        }
        else {
            this.mode = null;
        }
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        if (source['display']) {
            this.display = new fhir.FhirString({ value: source.display });
        }
        if (source['url']) {
            this.url = new fhir.FhirCanonical({ value: source.url });
        }
    }
    /**
     * Required-bound Value Set for mode (ConceptMap.group.unmapped.mode)
     */
    static modeRequiredCoding() {
        return ConceptmapUnmappedModeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['mode']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property mode:ConceptmapUnmappedModeCodeType fhir: ConceptMap.group.unmapped.mode:code', });
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation());
        }
        if (this["display"]) {
            issues.push(...this.display.doModelValidation());
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapGroupUnmapped._fts_dataType = 'ConceptMapGroupUnmapped';
/**
 * A group of mappings that all have the same source and target system.
 */
export class ConceptMapGroup extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapGroup - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['source']) {
            this.source = new fhir.FhirUri({ value: source.source });
        }
        if (source['sourceVersion']) {
            this.sourceVersion = new fhir.FhirString({ value: source.sourceVersion });
        }
        if (source['target']) {
            this.target = new fhir.FhirUri({ value: source.target });
        }
        if (source['targetVersion']) {
            this.targetVersion = new fhir.FhirString({ value: source.targetVersion });
        }
        if (source['element']) {
            this.element = source.element.map((x) => new fhir.ConceptMapGroupElement(x));
        }
        else {
            this.element = [];
        }
        if (source['unmapped']) {
            this.unmapped = new fhir.ConceptMapGroupUnmapped(source.unmapped);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["source"]) {
            issues.push(...this.source.doModelValidation());
        }
        if (this["sourceVersion"]) {
            issues.push(...this.sourceVersion.doModelValidation());
        }
        if (this["target"]) {
            issues.push(...this.target.doModelValidation());
        }
        if (this["targetVersion"]) {
            issues.push(...this.targetVersion.doModelValidation());
        }
        if (!this['element']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property element:fhir.ConceptMapGroupElement[] fhir: ConceptMap.group.element:element', });
        }
        else if (!Array.isArray(this.element)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property element:fhir.ConceptMapGroupElement[] fhir: ConceptMap.group.element:element', });
        }
        else if (this.element.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property element:fhir.ConceptMapGroupElement[] fhir: ConceptMap.group.element:element', });
        }
        if (this["element"]) {
            this.element.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["unmapped"]) {
            issues.push(...this.unmapped.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapGroup._fts_dataType = 'ConceptMapGroup';
/**
 * A statement of relationships from one set of concepts to one or more other concepts - either concepts in code systems, or data element/data element concepts, or classes in class models.
 */
export class ConceptMap extends fhir.DomainResource {
    /**
     * Default constructor for ConceptMap - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ConceptMap';
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['status']) {
            this.status = source.status;
        }
        else {
            this.status = null;
        }
        if (source['experimental']) {
            this.experimental = new fhir.FhirBoolean({ value: source.experimental });
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['publisher']) {
            this.publisher = new fhir.FhirString({ value: source.publisher });
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.contact = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['useContext']) {
            this.useContext = source.useContext.map((x) => new fhir.UsageContext(x));
        }
        else {
            this.useContext = [];
        }
        if (source['jurisdiction']) {
            this.jurisdiction = source.jurisdiction.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.jurisdiction = [];
        }
        if (source['purpose']) {
            this.purpose = new fhir.FhirMarkdown({ value: source.purpose });
        }
        if (source['copyright']) {
            this.copyright = new fhir.FhirMarkdown({ value: source.copyright });
        }
        if (source['source']) {
            this.source = source.source;
        }
        else if (source['sourceUri']) {
            this.source = new fhir.FhirUri({ value: source.sourceUri });
        }
        else if (source['sourceCanonical']) {
            this.source = new fhir.FhirCanonical({ value: source.sourceCanonical });
        }
        if (source['target']) {
            this.target = source.target;
        }
        else if (source['targetUri']) {
            this.target = new fhir.FhirUri({ value: source.targetUri });
        }
        else if (source['targetCanonical']) {
            this.target = new fhir.FhirCanonical({ value: source.targetCanonical });
        }
        if (source['group']) {
            this.group = source.group.map((x) => new fhir.ConceptMapGroup(x));
        }
        else {
            this.group = [];
        }
    }
    /**
     * Required-bound Value Set for status (ConceptMap.status)
     */
    static statusRequiredCoding() {
        return PublicationStatusCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"ConceptMap" fhir: ConceptMap.resourceType:"ConceptMap"', });
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        if (this["identifier"]) {
            issues.push(...this.identifier.doModelValidation());
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation());
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["title"]) {
            issues.push(...this.title.doModelValidation());
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:PublicationStatusCodeType fhir: ConceptMap.status:code', });
        }
        if (this["experimental"]) {
            issues.push(...this.experimental.doModelValidation());
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation());
        }
        if (this["publisher"]) {
            issues.push(...this.publisher.doModelValidation());
        }
        if (this["contact"]) {
            this.contact.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["useContext"]) {
            this.useContext.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["jurisdiction"]) {
            this.jurisdiction.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["purpose"]) {
            issues.push(...this.purpose.doModelValidation());
        }
        if (this["copyright"]) {
            issues.push(...this.copyright.doModelValidation());
        }
        if (this["group"]) {
            this.group.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMap._fts_dataType = 'ConceptMap';
/**
 * Internal flag to properly serialize choice-type element ConceptMap.source[x]
 */
ConceptMap._fts_sourceIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element ConceptMap.target[x]
 */
ConceptMap._fts_targetIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uY2VwdE1hcC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQ29uY2VwdE1hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFFbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw0QkFBNEIsR0FBbUMsTUFBTSxrREFBa0QsQ0FBQztBQUdqSSxhQUFhO0FBQ2IsT0FBTyxFQUFFLDZCQUE2QixHQUFvQyxNQUFNLG1EQUFtRCxDQUFDO0FBR3BJLGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEdBQStCLE1BQU0sOENBQThDLENBQUM7QUF5QnJIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHFDQUFzQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBcUI3RTs7T0FFRztJQUNILFlBQVksU0FBNEQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDbEgsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbEY7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTtRQUN2RixJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJ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O1NBQUU7UUFDdEcsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUM5RSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDNUYsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE3SkQ7O0dBRUc7QUFDNkIsd0JBQWEsR0FBVSxZQUFZLENBQUM7QUF1RXBFOztHQUVHO0FBQ3VCLDhCQUFtQixHQUFRLElBQUksQ0FBQztBQUsxRDs7R0FFRztBQUN1Qiw4QkFBbUIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IENvbmNlcHRNYXBcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGluZ3MsIENvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGVzLCAgQ29uY2VwdE1hcEVxdWl2YWxlbmNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25jZXB0bWFwVW5tYXBwZWRNb2RlQ29kaW5ncywgQ29uY2VwdG1hcFVubWFwcGVkTW9kZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmNlcHRtYXBVbm1hcHBlZE1vZGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25jZXB0bWFwVW5tYXBwZWRNb2RlQ29kZXMsICBDb25jZXB0bWFwVW5tYXBwZWRNb2RlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmNlcHRtYXBVbm1hcHBlZE1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNDb2RpbmdzLCBQdWJsaWNhdGlvblN0YXR1c0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNDb2RlcywgIFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzQ29kZXMuanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uY2VwdE1hcEdyb3VwRWxlbWVudFRhcmdldERlcGVuZHNPbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25jZXB0TWFwR3JvdXBFbGVtZW50VGFyZ2V0RGVwZW5kc09uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSByZWZlcmVuY2UgdG8gYW4gZWxlbWVudCB0aGF0IGhvbGRzIGEgY29kZWQgdmFsdWUgdGhhdCBjb3JyZXNwb25kcyB0byBhIGNvZGUgc3lzdGVtIHByb3BlcnR5LiBUaGUgaWRlYSBpcyB0aGF0IHRoZSBpbmZvcm1hdGlvbiBtb2RlbCBjYXJyaWVzIGFuIGVsZW1lbnQgc29tZXdoZXJlIHRoYXQgaXMgbGFiZWxlZCB0byBjb3JyZXNwb25kIHdpdGggYSBjb2RlIHN5c3RlbSBwcm9wZXJ0eS5cclxuICAgKi9cclxuICBwcm9wZXJ0eTogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgVVJJIHRoYXQgaWRlbnRpZmllcyB0aGUgY29kZSBzeXN0ZW0gb2YgdGhlIGRlcGVuZGVuY3kgY29kZSAoaWYgdGhlIHNvdXJjZS9kZXBlbmRlbmN5IGlzIGEgdmFsdWUgc2V0IHRoYXQgY3Jvc3NlcyBjb2RlIHN5c3RlbXMpLlxyXG4gICAqL1xyXG4gIHN5c3RlbT86IGZoaXIuRmhpckNhbm9uaWNhbHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aXR5IChjb2RlIG9yIHBhdGgpIG9yIHRoZSBlbGVtZW50L2l0ZW0vVmFsdWVTZXQvdGV4dCB0aGF0IHRoZSBtYXAgZGVwZW5kcyBvbiAvIHJlZmVycyB0by5cclxuICAgKi9cclxuICB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRpc3BsYXkgaXMgaWdub3JlZCB3aGVuIHByb2Nlc3NpbmcgdGhlIG1hcC5cclxuICAgKi9cclxuICBkaXNwbGF5PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNldCBvZiBhZGRpdGlvbmFsIGRlcGVuZGVuY2llcyBmb3IgdGhpcyBtYXBwaW5nIHRvIGhvbGQuIFRoaXMgbWFwcGluZyBpcyBvbmx5IGFwcGxpY2FibGUgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IGNhbiBiZSByZXNvbHZlZCwgYW5kIGl0IGhhcyB0aGUgc3BlY2lmaWVkIHZhbHVlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXREZXBlbmRzT24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25jZXB0TWFwR3JvdXBFbGVtZW50VGFyZ2V0RGVwZW5kc09uJztcclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSB0byBhbiBlbGVtZW50IHRoYXQgaG9sZHMgYSBjb2RlZCB2YWx1ZSB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgY29kZSBzeXN0ZW0gcHJvcGVydHkuIFRoZSBpZGVhIGlzIHRoYXQgdGhlIGluZm9ybWF0aW9uIG1vZGVsIGNhcnJpZXMgYW4gZWxlbWVudCBzb21ld2hlcmUgdGhhdCBpcyBsYWJlbGVkIHRvIGNvcnJlc3BvbmQgd2l0aCBhIGNvZGUgc3lzdGVtIHByb3BlcnR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9wZXJ0eTogZmhpci5GaGlyVXJpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgVVJJIHRoYXQgaWRlbnRpZmllcyB0aGUgY29kZSBzeXN0ZW0gb2YgdGhlIGRlcGVuZGVuY3kgY29kZSAoaWYgdGhlIHNvdXJjZS9kZXBlbmRlbmN5IGlzIGEgdmFsdWUgc2V0IHRoYXQgY3Jvc3NlcyBjb2RlIHN5c3RlbXMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzeXN0ZW0/OiBmaGlyLkZoaXJDYW5vbmljYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aXR5IChjb2RlIG9yIHBhdGgpIG9yIHRoZSBlbGVtZW50L2l0ZW0vVmFsdWVTZXQvdGV4dCB0aGF0IHRoZSBtYXAgZGVwZW5kcyBvbiAvIHJlZmVycyB0by5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkaXNwbGF5IGlzIGlnbm9yZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBtYXAuXHJcbiAgICovXHJcbiAgcHVibGljIGRpc3BsYXk/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXREZXBlbmRzT24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25jZXB0TWFwR3JvdXBFbGVtZW50VGFyZ2V0RGVwZW5kc09uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3Byb3BlcnR5J10pIHsgdGhpcy5wcm9wZXJ0eSA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UucHJvcGVydHl9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzeXN0ZW0nXSkgeyB0aGlzLnN5c3RlbSA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiBzb3VyY2Uuc3lzdGVtfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmFsdWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsdWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXNwbGF5J10pIHsgdGhpcy5kaXNwbGF5ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kaXNwbGF5fSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncHJvcGVydHknXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHByb3BlcnR5OmZoaXIuRmhpclVyaSBmaGlyOiBDb25jZXB0TWFwLmdyb3VwLmVsZW1lbnQudGFyZ2V0LmRlcGVuZHNPbi5wcm9wZXJ0eTp1cmknLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicHJvcGVydHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcm9wZXJ0eS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzeXN0ZW1cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zeXN0ZW0uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sndmFsdWUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHZhbHVlOmZoaXIuRmhpclN0cmluZyBmaGlyOiBDb25jZXB0TWFwLmdyb3VwLmVsZW1lbnQudGFyZ2V0LmRlcGVuZHNPbi52YWx1ZTpzdHJpbmcnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widmFsdWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52YWx1ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkaXNwbGF5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGlzcGxheS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uY2VwdE1hcEdyb3VwRWxlbWVudFRhcmdldEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElkZW50aXR5IChjb2RlIG9yIHBhdGgpIG9yIHRoZSBlbGVtZW50L2l0ZW0gdGhhdCB0aGUgbWFwIHJlZmVycyB0by5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkaXNwbGF5IGlzIGlnbm9yZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBtYXAuXHJcbiAgICovXHJcbiAgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBpdCBtYXkgaW5kaWNhdGUgdGhhdCBhIHRhcmdldCBkb2VzIG5vdCBhcHBseS5cclxuICAgKi9cclxuICBlcXVpdmFsZW5jZTogQ29uY2VwdE1hcEVxdWl2YWxlbmNlQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHN0YXR1cy9pc3N1ZXMgaW4gbWFwcGluZyB0aGF0IGNvbnZleXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBub3QgcmVwcmVzZW50ZWQgaW4gIHRoZSBzdHJ1Y3R1cmVkIGRhdGEuXHJcbiAgICovXHJcbiAgY29tbWVudD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc2V0IG9mIGFkZGl0aW9uYWwgZGVwZW5kZW5jaWVzIGZvciB0aGlzIG1hcHBpbmcgdG8gaG9sZC4gVGhpcyBtYXBwaW5nIGlzIG9ubHkgYXBwbGljYWJsZSBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgY2FuIGJlIHJlc29sdmVkLCBhbmQgaXQgaGFzIHRoZSBzcGVjaWZpZWQgdmFsdWUuXHJcbiAgICovXHJcbiAgZGVwZW5kc09uPzogZmhpci5Db25jZXB0TWFwR3JvdXBFbGVtZW50VGFyZ2V0RGVwZW5kc09uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNldCBvZiBhZGRpdGlvbmFsIG91dGNvbWVzIGZyb20gdGhpcyBtYXBwaW5nIHRvIG90aGVyIGVsZW1lbnRzLiBUbyBwcm9wZXJseSBleGVjdXRlIHRoaXMgbWFwcGluZywgdGhlIHNwZWNpZmllZCBlbGVtZW50IG11c3QgYmUgbWFwcGVkIHRvIHNvbWUgZGF0YSBlbGVtZW50IG9yIHNvdXJjZSB0aGF0IGlzIGluIGNvbnRleHQuIFRoZSBtYXBwaW5nIG1heSBzdGlsbCBiZSB1c2VmdWwgd2l0aG91dCBhIHBsYWNlIGZvciB0aGUgYWRkaXRpb25hbCBkYXRhIGVsZW1lbnRzLCBidXQgdGhlIGVxdWl2YWxlbmNlIGNhbm5vdCBiZSByZWxpZWQgb24uXHJcbiAgICovXHJcbiAgcHJvZHVjdD86IGZoaXIuQ29uY2VwdE1hcEdyb3VwRWxlbWVudFRhcmdldERlcGVuZHNPbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJZGVhbGx5IHRoZXJlIHdvdWxkIG9ubHkgYmUgb25lIG1hcCwgd2l0aCBlcXVhbCBvciBlcXVpdmFsZW50IG1hcHBpbmcuIEJ1dCBtdWx0aXBsZSBtYXBzIGFyZSBhbGxvd2VkIGZvciBzZXZlcmFsIG5hcnJvd2VyIG9wdGlvbnMsIG9yIHRvIGFzc2VydCB0aGF0IG90aGVyIGNvbmNlcHRzIGFyZSB1bm1hdGNoZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uY2VwdE1hcEdyb3VwRWxlbWVudFRhcmdldCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXQnO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aXR5IChjb2RlIG9yIHBhdGgpIG9yIHRoZSBlbGVtZW50L2l0ZW0gdGhhdCB0aGUgbWFwIHJlZmVycyB0by5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkaXNwbGF5IGlzIGlnbm9yZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBtYXAuXHJcbiAgICovXHJcbiAgcHVibGljIGRpc3BsYXk/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBpdCBtYXkgaW5kaWNhdGUgdGhhdCBhIHRhcmdldCBkb2VzIG5vdCBhcHBseS5cclxuICAgKi9cclxuICBwdWJsaWMgZXF1aXZhbGVuY2U6IENvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiBzdGF0dXMvaXNzdWVzIGluIG1hcHBpbmcgdGhhdCBjb252ZXlzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gbm90IHJlcHJlc2VudGVkIGluICB0aGUgc3RydWN0dXJlZCBkYXRhLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21tZW50PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNldCBvZiBhZGRpdGlvbmFsIGRlcGVuZGVuY2llcyBmb3IgdGhpcyBtYXBwaW5nIHRvIGhvbGQuIFRoaXMgbWFwcGluZyBpcyBvbmx5IGFwcGxpY2FibGUgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IGNhbiBiZSByZXNvbHZlZCwgYW5kIGl0IGhhcyB0aGUgc3BlY2lmaWVkIHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXBlbmRzT24/OiBmaGlyLkNvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXREZXBlbmRzT25bXTtcclxuICAvKipcclxuICAgKiBBIHNldCBvZiBhZGRpdGlvbmFsIG91dGNvbWVzIGZyb20gdGhpcyBtYXBwaW5nIHRvIG90aGVyIGVsZW1lbnRzLiBUbyBwcm9wZXJseSBleGVjdXRlIHRoaXMgbWFwcGluZywgdGhlIHNwZWNpZmllZCBlbGVtZW50IG11c3QgYmUgbWFwcGVkIHRvIHNvbWUgZGF0YSBlbGVtZW50IG9yIHNvdXJjZSB0aGF0IGlzIGluIGNvbnRleHQuIFRoZSBtYXBwaW5nIG1heSBzdGlsbCBiZSB1c2VmdWwgd2l0aG91dCBhIHBsYWNlIGZvciB0aGUgYWRkaXRpb25hbCBkYXRhIGVsZW1lbnRzLCBidXQgdGhlIGVxdWl2YWxlbmNlIGNhbm5vdCBiZSByZWxpZWQgb24uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3Q/OiBmaGlyLkNvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXREZXBlbmRzT25bXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25jZXB0TWFwR3JvdXBFbGVtZW50VGFyZ2V0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uY2VwdE1hcEdyb3VwRWxlbWVudFRhcmdldEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuY29kZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXNwbGF5J10pIHsgdGhpcy5kaXNwbGF5ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kaXNwbGF5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VxdWl2YWxlbmNlJ10pIHsgdGhpcy5lcXVpdmFsZW5jZSA9IHNvdXJjZS5lcXVpdmFsZW5jZTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXF1aXZhbGVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21tZW50J10pIHsgdGhpcy5jb21tZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5jb21tZW50fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RlcGVuZHNPbiddKSB7IHRoaXMuZGVwZW5kc09uID0gc291cmNlLmRlcGVuZHNPbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXREZXBlbmRzT24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kZXBlbmRzT24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZHVjdCddKSB7IHRoaXMucHJvZHVjdCA9IHNvdXJjZS5wcm9kdWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29uY2VwdE1hcEdyb3VwRWxlbWVudFRhcmdldERlcGVuZHNPbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2R1Y3QgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGVxdWl2YWxlbmNlIChDb25jZXB0TWFwLmdyb3VwLmVsZW1lbnQudGFyZ2V0LmVxdWl2YWxlbmNlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZXF1aXZhbGVuY2VSZXF1aXJlZENvZGluZygpOkNvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIENvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcImNvZGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb2RlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRpc3BsYXlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kaXNwbGF5LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2VxdWl2YWxlbmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBlcXVpdmFsZW5jZTpDb25jZXB0TWFwRXF1aXZhbGVuY2VDb2RlVHlwZSBmaGlyOiBDb25jZXB0TWFwLmdyb3VwLmVsZW1lbnQudGFyZ2V0LmVxdWl2YWxlbmNlOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiY29tbWVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvbW1lbnQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGVwZW5kc09uXCJdKSB7IHRoaXMuZGVwZW5kc09uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwcm9kdWN0XCJdKSB7IHRoaXMucHJvZHVjdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25jZXB0TWFwR3JvdXBFbGVtZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmNlcHRNYXBHcm91cEVsZW1lbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJZGVudGl0eSAoY29kZSBvciBwYXRoKSBvciB0aGUgZWxlbWVudC9pdGVtIGJlaW5nIG1hcHBlZC5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkaXNwbGF5IGlzIGlnbm9yZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBtYXAuXHJcbiAgICovXHJcbiAgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZWFsbHkgdGhlcmUgd291bGQgb25seSBiZSBvbmUgbWFwLCB3aXRoIGVxdWFsIG9yIGVxdWl2YWxlbnQgbWFwcGluZy4gQnV0IG11bHRpcGxlIG1hcHMgYXJlIGFsbG93ZWQgZm9yIHNldmVyYWwgbmFycm93ZXIgb3B0aW9ucywgb3IgdG8gYXNzZXJ0IHRoYXQgb3RoZXIgY29uY2VwdHMgYXJlIHVubWF0Y2hlZC5cclxuICAgKi9cclxuICB0YXJnZXQ/OiBmaGlyLkNvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhbGx5LCB0aGUgaWRlYWwgaXMgdGhhdCB0aGVyZSB3b3VsZCBvbmx5IGJlIG9uZSBtYXBwaW5nIGZvciBlYWNoIGNvbmNlcHQgaW4gdGhlIHNvdXJjZSB2YWx1ZSBzZXQsIGJ1dCBhIGdpdmVuIGNvbmNlcHQgbWF5IGJlIG1hcHBlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBjb21tZW50cyBvciBkZXBlbmRlbmNpZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uY2VwdE1hcEdyb3VwRWxlbWVudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmNlcHRNYXBHcm91cEVsZW1lbnQnO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aXR5IChjb2RlIG9yIHBhdGgpIG9yIHRoZSBlbGVtZW50L2l0ZW0gYmVpbmcgbWFwcGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRpc3BsYXkgaXMgaWdub3JlZCB3aGVuIHByb2Nlc3NpbmcgdGhlIG1hcC5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlYWxseSB0aGVyZSB3b3VsZCBvbmx5IGJlIG9uZSBtYXAsIHdpdGggZXF1YWwgb3IgZXF1aXZhbGVudCBtYXBwaW5nLiBCdXQgbXVsdGlwbGUgbWFwcyBhcmUgYWxsb3dlZCBmb3Igc2V2ZXJhbCBuYXJyb3dlciBvcHRpb25zLCBvciB0byBhc3NlcnQgdGhhdCBvdGhlciBjb25jZXB0cyBhcmUgdW5tYXRjaGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ/OiBmaGlyLkNvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25jZXB0TWFwR3JvdXBFbGVtZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uY2VwdE1hcEdyb3VwRWxlbWVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuY29kZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXNwbGF5J10pIHsgdGhpcy5kaXNwbGF5ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kaXNwbGF5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldCddKSB7IHRoaXMudGFyZ2V0ID0gc291cmNlLnRhcmdldC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbmNlcHRNYXBHcm91cEVsZW1lbnRUYXJnZXQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50YXJnZXQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJjb2RlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29kZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkaXNwbGF5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGlzcGxheS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ0YXJnZXRcIl0pIHsgdGhpcy50YXJnZXQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uY2VwdE1hcEdyb3VwVW5tYXBwZWQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uY2VwdE1hcEdyb3VwVW5tYXBwZWRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBEZWZpbmVzIHdoaWNoIGFjdGlvbiB0byB0YWtlIGlmIHRoZXJlIGlzIG5vIG1hdGNoIGZvciB0aGUgc291cmNlIGNvbmNlcHQgaW4gdGhlIHRhcmdldCBzeXN0ZW0gZGVzaWduYXRlZCBmb3IgdGhlIGdyb3VwLiBPbmUgb2YgMyBhY3Rpb25zIGFyZSBwb3NzaWJsZTogdXNlIHRoZSB1bm1hcHBlZCBjb2RlICh0aGlzIGlzIHVzZWZ1bCB3aGVuIGRvaW5nIGEgbWFwcGluZyBiZXR3ZWVuIHZlcnNpb25zLCBhbmQgb25seSBhIGZldyBjb2RlcyBoYXZlIGNoYW5nZWQpLCB1c2UgYSBmaXhlZCBjb2RlIChhIGRlZmF1bHQgY29kZSksIG9yIGFsdGVybmF0aXZlbHksIGEgcmVmZXJlbmNlIHRvIGEgZGlmZmVyZW50IGNvbmNlcHQgbWFwIGNhbiBiZSBwcm92aWRlZCAoYnkgY2Fub25pY2FsIFVSTCkuXHJcbiAgICovXHJcbiAgbW9kZTogQ29uY2VwdG1hcFVubWFwcGVkTW9kZUNvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZpeGVkIGNvZGUgdG8gdXNlIHdoZW4gdGhlIG1vZGUgPSAnZml4ZWQnICAtIGFsbCB1bm1hcHBlZCBjb2RlcyBhcmUgbWFwcGVkIHRvIGEgc2luZ2xlIGZpeGVkIGNvZGUuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGlzcGxheSBpcyBpZ25vcmVkIHdoZW4gcHJvY2Vzc2luZyB0aGUgbWFwLlxyXG4gICAqL1xyXG4gIGRpc3BsYXk/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY2Fub25pY2FsIHJlZmVyZW5jZSB0byBhbiBhZGRpdGlvbmFsIENvbmNlcHRNYXAgcmVzb3VyY2UgaW5zdGFuY2UgdG8gdXNlIGZvciBtYXBwaW5nIGlmIHRoaXMgQ29uY2VwdE1hcCByZXNvdXJjZSBjb250YWlucyBubyBtYXRjaGluZyBtYXBwaW5nIGZvciB0aGUgc291cmNlIGNvbmNlcHQuXHJcbiAgICovXHJcbiAgdXJsPzogZmhpci5GaGlyQ2Fub25pY2FsfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGlzIG9ubHkgYXBwbGllcyBpZiB0aGUgc291cmNlIGNvZGUgaGFzIGEgc3lzdGVtIHZhbHVlIHRoYXQgbWF0Y2hlcyB0aGUgc3lzdGVtIGRlZmluZWQgZm9yIHRoZSBncm91cC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25jZXB0TWFwR3JvdXBVbm1hcHBlZCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmNlcHRNYXBHcm91cFVubWFwcGVkJztcclxuICAvKipcclxuICAgKiBEZWZpbmVzIHdoaWNoIGFjdGlvbiB0byB0YWtlIGlmIHRoZXJlIGlzIG5vIG1hdGNoIGZvciB0aGUgc291cmNlIGNvbmNlcHQgaW4gdGhlIHRhcmdldCBzeXN0ZW0gZGVzaWduYXRlZCBmb3IgdGhlIGdyb3VwLiBPbmUgb2YgMyBhY3Rpb25zIGFyZSBwb3NzaWJsZTogdXNlIHRoZSB1bm1hcHBlZCBjb2RlICh0aGlzIGlzIHVzZWZ1bCB3aGVuIGRvaW5nIGEgbWFwcGluZyBiZXR3ZWVuIHZlcnNpb25zLCBhbmQgb25seSBhIGZldyBjb2RlcyBoYXZlIGNoYW5nZWQpLCB1c2UgYSBmaXhlZCBjb2RlIChhIGRlZmF1bHQgY29kZSksIG9yIGFsdGVybmF0aXZlbHksIGEgcmVmZXJlbmNlIHRvIGEgZGlmZmVyZW50IGNvbmNlcHQgbWFwIGNhbiBiZSBwcm92aWRlZCAoYnkgY2Fub25pY2FsIFVSTCkuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGU6IENvbmNlcHRtYXBVbm1hcHBlZE1vZGVDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmaXhlZCBjb2RlIHRvIHVzZSB3aGVuIHRoZSBtb2RlID0gJ2ZpeGVkJyAgLSBhbGwgdW5tYXBwZWQgY29kZXMgYXJlIG1hcHBlZCB0byBhIHNpbmdsZSBmaXhlZCBjb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRpc3BsYXkgaXMgaWdub3JlZCB3aGVuIHByb2Nlc3NpbmcgdGhlIG1hcC5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzcGxheT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhbm9uaWNhbCByZWZlcmVuY2UgdG8gYW4gYWRkaXRpb25hbCBDb25jZXB0TWFwIHJlc291cmNlIGluc3RhbmNlIHRvIHVzZSBmb3IgbWFwcGluZyBpZiB0aGlzIENvbmNlcHRNYXAgcmVzb3VyY2UgY29udGFpbnMgbm8gbWF0Y2hpbmcgbWFwcGluZyBmb3IgdGhlIHNvdXJjZSBjb25jZXB0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cmw/OiBmaGlyLkZoaXJDYW5vbmljYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmNlcHRNYXBHcm91cFVubWFwcGVkIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uY2VwdE1hcEdyb3VwVW5tYXBwZWRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbW9kZSddKSB7IHRoaXMubW9kZSA9IHNvdXJjZS5tb2RlOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLmNvZGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGlzcGxheSddKSB7IHRoaXMuZGlzcGxheSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGlzcGxheX0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBtb2RlIChDb25jZXB0TWFwLmdyb3VwLnVubWFwcGVkLm1vZGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBtb2RlUmVxdWlyZWRDb2RpbmcoKTpDb25jZXB0bWFwVW5tYXBwZWRNb2RlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gQ29uY2VwdG1hcFVubWFwcGVkTW9kZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ21vZGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG1vZGU6Q29uY2VwdG1hcFVubWFwcGVkTW9kZUNvZGVUeXBlIGZoaXI6IENvbmNlcHRNYXAuZ3JvdXAudW5tYXBwZWQubW9kZTpjb2RlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImNvZGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb2RlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRpc3BsYXlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kaXNwbGF5LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInVybFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnVybC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbmNlcHRNYXBHcm91cCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25jZXB0TWFwR3JvdXBBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIG5vdCBuZWVkZWQgaWYgdGhlIHNvdXJjZSB2YWx1ZSBzZXQgaXMgc3BlY2lmaWVkIGFuZCBpdCBjb250YWlucyBjb25jZXB0cyBmcm9tIG9ubHkgYSBzaW5nbGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHNvdXJjZT86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpY2F0aW9uIG9mIGEgcGFydGljdWxhciBjb2RlIHN5c3RlbSB2ZXJzaW9uIG1heSBiZSByZXF1aXJlZCBmb3IgY29kZSBzeXN0ZW1zIHdoaWNoIGxhY2sgY29uY2VwdCBwZXJtYW5lbmNlLlxyXG4gICAqL1xyXG4gIHNvdXJjZVZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIG5vdCBuZWVkZWQgaWYgdGhlIHRhcmdldCB2YWx1ZSBzZXQgaXMgc3BlY2lmaWVkIGFuZCBpdCBjb250YWlucyBjb25jZXB0cyBmcm9tIG9ubHkgYSBzaW5nbGUgc3lzdGVtLiBUaGUgZ3JvdXAgdGFyZ2V0IG1heSBhbHNvIGJlIG9taXR0ZWQgaWYgYWxsIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBlcXVpdmFsZW5jZSB2YWx1ZXMgYXJlICd1bm1hdGNoZWQnLlxyXG4gICAqL1xyXG4gIHRhcmdldD86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpY2F0aW9uIG9mIGEgcGFydGljdWxhciBjb2RlIHN5c3RlbSB2ZXJzaW9uIG1heSBiZSByZXF1aXJlZCBmb3IgY29kZSBzeXN0ZW1zIHdoaWNoIGxhY2sgY29uY2VwdCBwZXJtYW5lbmNlLlxyXG4gICAqL1xyXG4gIHRhcmdldFZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBHZW5lcmFsbHksIHRoZSBpZGVhbCBpcyB0aGF0IHRoZXJlIHdvdWxkIG9ubHkgYmUgb25lIG1hcHBpbmcgZm9yIGVhY2ggY29uY2VwdCBpbiB0aGUgc291cmNlIHZhbHVlIHNldCwgYnV0IGEgZ2l2ZW4gY29uY2VwdCBtYXkgYmUgbWFwcGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IGNvbW1lbnRzIG9yIGRlcGVuZGVuY2llcy5cclxuICAgKi9cclxuICBlbGVtZW50OiBmaGlyLkNvbmNlcHRNYXBHcm91cEVsZW1lbnRBcmdzW118bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIG9ubHkgYXBwbGllcyBpZiB0aGUgc291cmNlIGNvZGUgaGFzIGEgc3lzdGVtIHZhbHVlIHRoYXQgbWF0Y2hlcyB0aGUgc3lzdGVtIGRlZmluZWQgZm9yIHRoZSBncm91cC5cclxuICAgKi9cclxuICB1bm1hcHBlZD86IGZoaXIuQ29uY2VwdE1hcEdyb3VwVW5tYXBwZWRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgZ3JvdXAgb2YgbWFwcGluZ3MgdGhhdCBhbGwgaGF2ZSB0aGUgc2FtZSBzb3VyY2UgYW5kIHRhcmdldCBzeXN0ZW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uY2VwdE1hcEdyb3VwIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29uY2VwdE1hcEdyb3VwJztcclxuICAvKipcclxuICAgKiBUaGlzIGlzIG5vdCBuZWVkZWQgaWYgdGhlIHNvdXJjZSB2YWx1ZSBzZXQgaXMgc3BlY2lmaWVkIGFuZCBpdCBjb250YWlucyBjb25jZXB0cyBmcm9tIG9ubHkgYSBzaW5nbGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2U/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpY2F0aW9uIG9mIGEgcGFydGljdWxhciBjb2RlIHN5c3RlbSB2ZXJzaW9uIG1heSBiZSByZXF1aXJlZCBmb3IgY29kZSBzeXN0ZW1zIHdoaWNoIGxhY2sgY29uY2VwdCBwZXJtYW5lbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2VWZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIG5vdCBuZWVkZWQgaWYgdGhlIHRhcmdldCB2YWx1ZSBzZXQgaXMgc3BlY2lmaWVkIGFuZCBpdCBjb250YWlucyBjb25jZXB0cyBmcm9tIG9ubHkgYSBzaW5nbGUgc3lzdGVtLiBUaGUgZ3JvdXAgdGFyZ2V0IG1heSBhbHNvIGJlIG9taXR0ZWQgaWYgYWxsIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBlcXVpdmFsZW5jZSB2YWx1ZXMgYXJlICd1bm1hdGNoZWQnLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpY2F0aW9uIG9mIGEgcGFydGljdWxhciBjb2RlIHN5c3RlbSB2ZXJzaW9uIG1heSBiZSByZXF1aXJlZCBmb3IgY29kZSBzeXN0ZW1zIHdoaWNoIGxhY2sgY29uY2VwdCBwZXJtYW5lbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXRWZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBHZW5lcmFsbHksIHRoZSBpZGVhbCBpcyB0aGF0IHRoZXJlIHdvdWxkIG9ubHkgYmUgb25lIG1hcHBpbmcgZm9yIGVhY2ggY29uY2VwdCBpbiB0aGUgc291cmNlIHZhbHVlIHNldCwgYnV0IGEgZ2l2ZW4gY29uY2VwdCBtYXkgYmUgbWFwcGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IGNvbW1lbnRzIG9yIGRlcGVuZGVuY2llcy5cclxuICAgKi9cclxuICBwdWJsaWMgZWxlbWVudDogZmhpci5Db25jZXB0TWFwR3JvdXBFbGVtZW50W107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBvbmx5IGFwcGxpZXMgaWYgdGhlIHNvdXJjZSBjb2RlIGhhcyBhIHN5c3RlbSB2YWx1ZSB0aGF0IG1hdGNoZXMgdGhlIHN5c3RlbSBkZWZpbmVkIGZvciB0aGUgZ3JvdXAuXHJcbiAgICovXHJcbiAgcHVibGljIHVubWFwcGVkPzogZmhpci5Db25jZXB0TWFwR3JvdXBVbm1hcHBlZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uY2VwdE1hcEdyb3VwIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uY2VwdE1hcEdyb3VwQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZSddKSB7IHRoaXMuc291cmNlID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5zb3VyY2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlVmVyc2lvbiddKSB7IHRoaXMuc291cmNlVmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2Uuc291cmNlVmVyc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd0YXJnZXQnXSkgeyB0aGlzLnRhcmdldCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudGFyZ2V0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldFZlcnNpb24nXSkgeyB0aGlzLnRhcmdldFZlcnNpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRhcmdldFZlcnNpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZWxlbWVudCddKSB7IHRoaXMuZWxlbWVudCA9IHNvdXJjZS5lbGVtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29uY2VwdE1hcEdyb3VwRWxlbWVudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVsZW1lbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5tYXBwZWQnXSkgeyB0aGlzLnVubWFwcGVkID0gbmV3IGZoaXIuQ29uY2VwdE1hcEdyb3VwVW5tYXBwZWQoc291cmNlLnVubWFwcGVkKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJzb3VyY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zb3VyY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic291cmNlVmVyc2lvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNvdXJjZVZlcnNpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widGFyZ2V0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudGFyZ2V0LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInRhcmdldFZlcnNpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50YXJnZXRWZXJzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2VsZW1lbnQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGVsZW1lbnQ6Zmhpci5Db25jZXB0TWFwR3JvdXBFbGVtZW50W10gZmhpcjogQ29uY2VwdE1hcC5ncm91cC5lbGVtZW50OmVsZW1lbnQnLCB9KTtcclxuICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5lbGVtZW50KSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnc3RydWN0dXJlJywgIGRpYWdub3N0aWNzOiAnRm91bmQgc2NhbGFyIGluIGFycmF5IHByb3BlcnR5IGVsZW1lbnQ6Zmhpci5Db25jZXB0TWFwR3JvdXBFbGVtZW50W10gZmhpcjogQ29uY2VwdE1hcC5ncm91cC5lbGVtZW50OmVsZW1lbnQnLCB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGVsZW1lbnQ6Zmhpci5Db25jZXB0TWFwR3JvdXBFbGVtZW50W10gZmhpcjogQ29uY2VwdE1hcC5ncm91cC5lbGVtZW50OmVsZW1lbnQnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZWxlbWVudFwiXSkgeyB0aGlzLmVsZW1lbnQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInVubWFwcGVkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudW5tYXBwZWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25jZXB0TWFwIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmNlcHRNYXBBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJDb25jZXB0TWFwXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENhbiBiZSBhIHVybjp1dWlkOiBvciBhIHVybjpvaWQ6IGJ1dCByZWFsIGh0dHA6IGFkZHJlc3NlcyBhcmUgcHJlZmVycmVkLiAgTXVsdGlwbGUgaW5zdGFuY2VzIG1heSBzaGFyZSB0aGUgc2FtZSBVUkwgaWYgdGhleSBoYXZlIGEgZGlzdGluY3QgdmVyc2lvbi5cclxuICAgKiBUaGUgZGV0ZXJtaW5hdGlvbiBvZiB3aGVuIHRvIGNyZWF0ZSBhIG5ldyB2ZXJzaW9uIG9mIGEgcmVzb3VyY2UgKHNhbWUgdXJsLCBuZXcgdmVyc2lvbikgdnMuIGRlZmluaW5nIGEgbmV3IGFydGlmYWN0IGlzIHVwIHRvIHRoZSBhdXRob3IuICBDb25zaWRlcmF0aW9ucyBmb3IgbWFraW5nIHRoaXMgZGVjaXNpb24gYXJlIGZvdW5kIGluIFtUZWNobmljYWwgYW5kIEJ1c2luZXNzIFZlcnNpb25zXShyZXNvdXJjZS5odG1sI3ZlcnNpb25zKS4gXHJcbiAgICogSW4gc29tZSBjYXNlcywgdGhlIHJlc291cmNlIGNhbiBubyBsb25nZXIgYmUgZm91bmQgYXQgdGhlIHN0YXRlZCB1cmwsIGJ1dCB0aGUgdXJsIGl0c2VsZiBjYW5ub3QgY2hhbmdlLiBJbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSB0aGUgW21ldGEuc291cmNlXShyZXNvdXJjZS5odG1sI21ldGEpIGVsZW1lbnQgdG8gaW5kaWNhdGUgd2hlcmUgdGhlIGN1cnJlbnQgbWFzdGVyIHNvdXJjZSBvZiB0aGUgcmVzb3VyY2UgY2FuIGJlIGZvdW5kLlxyXG4gICAqL1xyXG4gIHVybD86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgdGhpcyBpcyB1c2VkIGZvciBpZGVudGlmaWVycyB0aGF0IGNhbiBnbyBpbiBhbiBITDcgVjMgSUkgKGluc3RhbmNlIGlkZW50aWZpZXIpIGRhdGEgdHlwZSwgYW5kIGNhbiB0aGVuIGlkZW50aWZ5IHRoaXMgY29uY2VwdCBtYXAgb3V0c2lkZSBvZiBGSElSLCB3aGVyZSBpdCBpcyBub3QgcG9zc2libGUgdG8gdXNlIHRoZSBsb2dpY2FsIFVSSS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgbWF5IGJlIGRpZmZlcmVudCBjb25jZXB0IG1hcCBpbnN0YW5jZXMgdGhhdCBoYXZlIHRoZSBzYW1lIGlkZW50aWZpZXIgYnV0IGRpZmZlcmVudCB2ZXJzaW9ucy4gIFRoZSB2ZXJzaW9uIGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgdXJsIGluIGEgcmVmZXJlbmNlIHRvIGFsbG93IGEgcmVmZXJlbmNlIHRvIGEgcGFydGljdWxhciBidXNpbmVzcyB2ZXJzaW9uIG9mIHRoZSBjb25jZXB0IG1hcCB3aXRoIHRoZSBmb3JtYXQgW3VybF18W3ZlcnNpb25dLlxyXG4gICAqL1xyXG4gIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBpcyBub3QgZXhwZWN0ZWQgdG8gYmUgZ2xvYmFsbHkgdW5pcXVlLiBUaGUgbmFtZSBzaG91bGQgYmUgYSBzaW1wbGUgYWxwaGFudW1lcmljIHR5cGUgbmFtZSB0byBlbnN1cmUgdGhhdCBpdCBpcyBtYWNoaW5lLXByb2Nlc3NpbmcgZnJpZW5kbHkuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbmFtZSBkb2VzIG5vdCBuZWVkIHRvIGJlIG1hY2hpbmUtcHJvY2Vzc2luZyBmcmllbmRseSBhbmQgbWF5IGNvbnRhaW4gcHVuY3R1YXRpb24sIHdoaXRlLXNwYWNlLCBldGMuXHJcbiAgICovXHJcbiAgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgZmlsdGVyaW5nIG9mIGNvbmNlcHQgbWFwcyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiBjb25jZXB0IG1hcHMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHVzZSB2ZXJzdXMgbm90LlxyXG4gICAqL1xyXG4gIGV4cGVyaW1lbnRhbD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSByZXNvdXJjZSBsYXN0LW1vZGlmaWVkLWRhdGUsIHNpbmNlIHRoZSByZXNvdXJjZSBtYXkgYmUgYSBzZWNvbmRhcnkgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbmNlcHQgbWFwLiBBZGRpdGlvbmFsIHNwZWNpZmljIGRhdGVzIG1heSBiZSBhZGRlZCBhcyBleHRlbnNpb25zIG9yIGJlIGZvdW5kIGJ5IGNvbnN1bHRpbmcgUHJvdmVuYW5jZXMgYXNzb2NpYXRlZCB3aXRoIHBhc3QgdmVyc2lvbnMgb2YgdGhlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgYW4gb3JnYW5pemF0aW9uIGJ1dCBtYXkgYmUgYW4gaW5kaXZpZHVhbC4gVGhlIHB1Ymxpc2hlciAob3Igc3Rld2FyZCkgb2YgdGhlIGNvbmNlcHQgbWFwIGlzIHRoZSBvcmdhbml6YXRpb24gb3IgaW5kaXZpZHVhbCBwcmltYXJpbHkgcmVzcG9uc2libGUgZm9yIHRoZSBtYWludGVuYW5jZSBhbmQgdXBrZWVwIG9mIHRoZSBjb25jZXB0IG1hcC4gVGhpcyBpcyBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gdGhhdCBkZXZlbG9wZWQgYW5kIGluaXRpYWxseSBhdXRob3JlZCB0aGUgY29udGVudC4gVGhlIHB1Ymxpc2hlciBpcyB0aGUgcHJpbWFyeSBwb2ludCBvZiBjb250YWN0IGZvciBxdWVzdGlvbnMgb3IgaXNzdWVzIHdpdGggdGhlIGNvbmNlcHQgbWFwLiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIGEgd2ViIHNpdGUsIGFuIGVtYWlsIGFkZHJlc3MsIGEgdGVsZXBob25lIG51bWJlciwgZXRjLlxyXG4gICAqL1xyXG4gIGNvbnRhY3Q/OiBmaGlyLkNvbnRhY3REZXRhaWxBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBpcyBub3QgaW50ZW5kZWQgdG8gZGVzY3JpYmUgdGhlIHNlbWFudGljcyBvZiB0aGUgY29uY2VwdCBtYXAuIFRoZSBkZXNjcmlwdGlvbiBzaG91bGQgY2FwdHVyZSBpdHMgaW50ZW5kZWQgdXNlLCB3aGljaCBpcyBuZWVkZWQgZm9yIGVuc3VyaW5nIGludGVncml0eSBmb3IgaXRzIHVzZSBpbiBtb2RlbHMgYWNyb3NzIGZ1dHVyZSBjaGFuZ2VzLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIG11bHRpcGxlIHVzZUNvbnRleHRzIGFyZSBzcGVjaWZpZWQsIHRoZXJlIGlzIG5vIGV4cGVjdGF0aW9uIHRoYXQgYWxsIG9yIGFueSBvZiB0aGUgY29udGV4dHMgYXBwbHkuXHJcbiAgICovXHJcbiAgdXNlQ29udGV4dD86IGZoaXIuVXNhZ2VDb250ZXh0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBtYXkgYmUgcG9zc2libGUgZm9yIHRoZSBjb25jZXB0IG1hcCB0byBiZSB1c2VkIGluIGp1cmlzZGljdGlvbnMgb3RoZXIgdGhhbiB0aG9zZSBmb3Igd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgZGVzaWduZWQgb3IgaW50ZW5kZWQuXHJcbiAgICovXHJcbiAganVyaXNkaWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBkb2VzIG5vdCBkZXNjcmliZSB0aGUgdXNhZ2Ugb2YgdGhlIGNvbmNlcHQgbWFwLiBJbnN0ZWFkLCBpdCBwcm92aWRlcyB0cmFjZWFiaWxpdHkgb2YgJyd3aHknJyB0aGUgcmVzb3VyY2UgaXMgZWl0aGVyIG5lZWRlZCBvciAnJ3doeScnIGl0IGlzIGRlZmluZWQgYXMgaXQgaXMuICBUaGlzIG1heSBiZSB1c2VkIHRvIHBvaW50IHRvIHNvdXJjZSBtYXRlcmlhbHMgb3Igc3BlY2lmaWNhdGlvbnMgdGhhdCBkcm92ZSB0aGUgc3RydWN0dXJlIG9mIHRoaXMgY29uY2VwdCBtYXAuXHJcbiAgICovXHJcbiAgcHVycG9zZT86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlcXVlbnRseSB0aGUgY29weXJpZ2h0IGRpZmZlcnMgYmV0d2VlbiB0aGUgY29uY2VwdCBtYXAgYW5kIGNvZGVzIHRoYXQgYXJlIGluY2x1ZGVkLiBUaGUgY29weXJpZ2h0IHN0YXRlbWVudCBzaG91bGQgY2xlYXJseSBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlc2Ugd2hlbiByZXF1aXJlZC5cclxuICAgKi9cclxuICBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSBhIHZlcnNpb24gc3BlY2lmaWMgcmVmZXJlbmNlLiBVUklzIFNIT1VMRCBiZSBhYnNvbHV0ZS4gSWYgdGhlcmUgaXMgbm8gc291cmNlIG9yIHRhcmdldCB2YWx1ZSBzZXQsIHRoZXJlIGlzIG5vIHNwZWNpZmllZCBjb250ZXh0IGZvciB0aGUgbWFwIChub3QgcmVjb21tZW5kZWQpLiAgVGhlIHNvdXJjZSB2YWx1ZSBzZXQgbWF5IHNlbGVjdCBjb2RlcyBmcm9tIGVpdGhlciBhbiBleHBsaWNpdCAoc3RhbmRhcmQgb3IgbG9jYWwpIG9yIGltcGxpY2l0IGNvZGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHNvdXJjZT86IGZoaXIuRmhpclVyaXxmaGlyLkZoaXJDYW5vbmljYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSBhIHZlcnNpb24gc3BlY2lmaWMgcmVmZXJlbmNlLiBVUklzIFNIT1VMRCBiZSBhYnNvbHV0ZS4gSWYgdGhlcmUgaXMgbm8gc291cmNlIG9yIHRhcmdldCB2YWx1ZSBzZXQsIHRoZXJlIGlzIG5vIHNwZWNpZmllZCBjb250ZXh0IGZvciB0aGUgbWFwIChub3QgcmVjb21tZW5kZWQpLiAgVGhlIHNvdXJjZSB2YWx1ZSBzZXQgbWF5IHNlbGVjdCBjb2RlcyBmcm9tIGVpdGhlciBhbiBleHBsaWNpdCAoc3RhbmRhcmQgb3IgbG9jYWwpIG9yIGltcGxpY2l0IGNvZGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHNvdXJjZVVyaT86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSBhIHZlcnNpb24gc3BlY2lmaWMgcmVmZXJlbmNlLiBVUklzIFNIT1VMRCBiZSBhYnNvbHV0ZS4gSWYgdGhlcmUgaXMgbm8gc291cmNlIG9yIHRhcmdldCB2YWx1ZSBzZXQsIHRoZXJlIGlzIG5vIHNwZWNpZmllZCBjb250ZXh0IGZvciB0aGUgbWFwIChub3QgcmVjb21tZW5kZWQpLiAgVGhlIHNvdXJjZSB2YWx1ZSBzZXQgbWF5IHNlbGVjdCBjb2RlcyBmcm9tIGVpdGhlciBhbiBleHBsaWNpdCAoc3RhbmRhcmQgb3IgbG9jYWwpIG9yIGltcGxpY2l0IGNvZGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHNvdXJjZUNhbm9uaWNhbD86IGZoaXIuRmhpckNhbm9uaWNhbHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSBhIHZlcnNpb24gc3BlY2lmaWMgcmVmZXJlbmNlLiBVUklzIFNIT1VMRCBiZSBhYnNvbHV0ZS4gSWYgdGhlcmUgaXMgbm8gc291cmNlIG9yIHRhcmdldCB2YWx1ZSBzZXQsIHRoZSBpcyBubyBzcGVjaWZpZWQgY29udGV4dCBmb3IgdGhlIG1hcC5cclxuICAgKi9cclxuICB0YXJnZXQ/OiBmaGlyLkZoaXJVcml8Zmhpci5GaGlyQ2Fub25pY2FsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaG91bGQgYmUgYSB2ZXJzaW9uIHNwZWNpZmljIHJlZmVyZW5jZS4gVVJJcyBTSE9VTEQgYmUgYWJzb2x1dGUuIElmIHRoZXJlIGlzIG5vIHNvdXJjZSBvciB0YXJnZXQgdmFsdWUgc2V0LCB0aGUgaXMgbm8gc3BlY2lmaWVkIGNvbnRleHQgZm9yIHRoZSBtYXAuXHJcbiAgICovXHJcbiAgdGFyZ2V0VXJpPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2hvdWxkIGJlIGEgdmVyc2lvbiBzcGVjaWZpYyByZWZlcmVuY2UuIFVSSXMgU0hPVUxEIGJlIGFic29sdXRlLiBJZiB0aGVyZSBpcyBubyBzb3VyY2Ugb3IgdGFyZ2V0IHZhbHVlIHNldCwgdGhlIGlzIG5vIHNwZWNpZmllZCBjb250ZXh0IGZvciB0aGUgbWFwLlxyXG4gICAqL1xyXG4gIHRhcmdldENhbm9uaWNhbD86IGZoaXIuRmhpckNhbm9uaWNhbHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZ3JvdXAgb2YgbWFwcGluZ3MgdGhhdCBhbGwgaGF2ZSB0aGUgc2FtZSBzb3VyY2UgYW5kIHRhcmdldCBzeXN0ZW0uXHJcbiAgICovXHJcbiAgZ3JvdXA/OiBmaGlyLkNvbmNlcHRNYXBHcm91cEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHN0YXRlbWVudCBvZiByZWxhdGlvbnNoaXBzIGZyb20gb25lIHNldCBvZiBjb25jZXB0cyB0byBvbmUgb3IgbW9yZSBvdGhlciBjb25jZXB0cyAtIGVpdGhlciBjb25jZXB0cyBpbiBjb2RlIHN5c3RlbXMsIG9yIGRhdGEgZWxlbWVudC9kYXRhIGVsZW1lbnQgY29uY2VwdHMsIG9yIGNsYXNzZXMgaW4gY2xhc3MgbW9kZWxzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbmNlcHRNYXAgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmNlcHRNYXAnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQ29uY2VwdE1hcFwiO1xyXG4gIC8qKlxyXG4gICAqIENhbiBiZSBhIHVybjp1dWlkOiBvciBhIHVybjpvaWQ6IGJ1dCByZWFsIGh0dHA6IGFkZHJlc3NlcyBhcmUgcHJlZmVycmVkLiAgTXVsdGlwbGUgaW5zdGFuY2VzIG1heSBzaGFyZSB0aGUgc2FtZSBVUkwgaWYgdGhleSBoYXZlIGEgZGlzdGluY3QgdmVyc2lvbi5cclxuICAgKiBUaGUgZGV0ZXJtaW5hdGlvbiBvZiB3aGVuIHRvIGNyZWF0ZSBhIG5ldyB2ZXJzaW9uIG9mIGEgcmVzb3VyY2UgKHNhbWUgdXJsLCBuZXcgdmVyc2lvbikgdnMuIGRlZmluaW5nIGEgbmV3IGFydGlmYWN0IGlzIHVwIHRvIHRoZSBhdXRob3IuICBDb25zaWRlcmF0aW9ucyBmb3IgbWFraW5nIHRoaXMgZGVjaXNpb24gYXJlIGZvdW5kIGluIFtUZWNobmljYWwgYW5kIEJ1c2luZXNzIFZlcnNpb25zXShyZXNvdXJjZS5odG1sI3ZlcnNpb25zKS4gXHJcbiAgICogSW4gc29tZSBjYXNlcywgdGhlIHJlc291cmNlIGNhbiBubyBsb25nZXIgYmUgZm91bmQgYXQgdGhlIHN0YXRlZCB1cmwsIGJ1dCB0aGUgdXJsIGl0c2VsZiBjYW5ub3QgY2hhbmdlLiBJbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSB0aGUgW21ldGEuc291cmNlXShyZXNvdXJjZS5odG1sI21ldGEpIGVsZW1lbnQgdG8gaW5kaWNhdGUgd2hlcmUgdGhlIGN1cnJlbnQgbWFzdGVyIHNvdXJjZSBvZiB0aGUgcmVzb3VyY2UgY2FuIGJlIGZvdW5kLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cmw/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgdGhpcyBpcyB1c2VkIGZvciBpZGVudGlmaWVycyB0aGF0IGNhbiBnbyBpbiBhbiBITDcgVjMgSUkgKGluc3RhbmNlIGlkZW50aWZpZXIpIGRhdGEgdHlwZSwgYW5kIGNhbiB0aGVuIGlkZW50aWZ5IHRoaXMgY29uY2VwdCBtYXAgb3V0c2lkZSBvZiBGSElSLCB3aGVyZSBpdCBpcyBub3QgcG9zc2libGUgdG8gdXNlIHRoZSBsb2dpY2FsIFVSSS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgbWF5IGJlIGRpZmZlcmVudCBjb25jZXB0IG1hcCBpbnN0YW5jZXMgdGhhdCBoYXZlIHRoZSBzYW1lIGlkZW50aWZpZXIgYnV0IGRpZmZlcmVudCB2ZXJzaW9ucy4gIFRoZSB2ZXJzaW9uIGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgdXJsIGluIGEgcmVmZXJlbmNlIHRvIGFsbG93IGEgcmVmZXJlbmNlIHRvIGEgcGFydGljdWxhciBidXNpbmVzcyB2ZXJzaW9uIG9mIHRoZSBjb25jZXB0IG1hcCB3aXRoIHRoZSBmb3JtYXQgW3VybF18W3ZlcnNpb25dLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBpcyBub3QgZXhwZWN0ZWQgdG8gYmUgZ2xvYmFsbHkgdW5pcXVlLiBUaGUgbmFtZSBzaG91bGQgYmUgYSBzaW1wbGUgYWxwaGFudW1lcmljIHR5cGUgbmFtZSB0byBlbnN1cmUgdGhhdCBpdCBpcyBtYWNoaW5lLXByb2Nlc3NpbmcgZnJpZW5kbHkuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbmFtZSBkb2VzIG5vdCBuZWVkIHRvIGJlIG1hY2hpbmUtcHJvY2Vzc2luZyBmcmllbmRseSBhbmQgbWF5IGNvbnRhaW4gcHVuY3R1YXRpb24sIHdoaXRlLXNwYWNlLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIHRpdGxlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgZmlsdGVyaW5nIG9mIGNvbmNlcHQgbWFwcyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgY29uY2VwdCBtYXBzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBwdWJsaWMgZXhwZXJpbWVudGFsPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSByZXNvdXJjZSBsYXN0LW1vZGlmaWVkLWRhdGUsIHNpbmNlIHRoZSByZXNvdXJjZSBtYXkgYmUgYSBzZWNvbmRhcnkgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbmNlcHQgbWFwLiBBZGRpdGlvbmFsIHNwZWNpZmljIGRhdGVzIG1heSBiZSBhZGRlZCBhcyBleHRlbnNpb25zIG9yIGJlIGZvdW5kIGJ5IGNvbnN1bHRpbmcgUHJvdmVuYW5jZXMgYXNzb2NpYXRlZCB3aXRoIHBhc3QgdmVyc2lvbnMgb2YgdGhlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgYW4gb3JnYW5pemF0aW9uIGJ1dCBtYXkgYmUgYW4gaW5kaXZpZHVhbC4gVGhlIHB1Ymxpc2hlciAob3Igc3Rld2FyZCkgb2YgdGhlIGNvbmNlcHQgbWFwIGlzIHRoZSBvcmdhbml6YXRpb24gb3IgaW5kaXZpZHVhbCBwcmltYXJpbHkgcmVzcG9uc2libGUgZm9yIHRoZSBtYWludGVuYW5jZSBhbmQgdXBrZWVwIG9mIHRoZSBjb25jZXB0IG1hcC4gVGhpcyBpcyBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gdGhhdCBkZXZlbG9wZWQgYW5kIGluaXRpYWxseSBhdXRob3JlZCB0aGUgY29udGVudC4gVGhlIHB1Ymxpc2hlciBpcyB0aGUgcHJpbWFyeSBwb2ludCBvZiBjb250YWN0IGZvciBxdWVzdGlvbnMgb3IgaXNzdWVzIHdpdGggdGhlIGNvbmNlcHQgbWFwLiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGljIHB1Ymxpc2hlcj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIGEgd2ViIHNpdGUsIGFuIGVtYWlsIGFkZHJlc3MsIGEgdGVsZXBob25lIG51bWJlciwgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250YWN0PzogZmhpci5Db250YWN0RGV0YWlsW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlc2NyaXB0aW9uIGlzIG5vdCBpbnRlbmRlZCB0byBkZXNjcmliZSB0aGUgc2VtYW50aWNzIG9mIHRoZSBjb25jZXB0IG1hcC4gVGhlIGRlc2NyaXB0aW9uIHNob3VsZCBjYXB0dXJlIGl0cyBpbnRlbmRlZCB1c2UsIHdoaWNoIGlzIG5lZWRlZCBmb3IgZW5zdXJpbmcgaW50ZWdyaXR5IGZvciBpdHMgdXNlIGluIG1vZGVscyBhY3Jvc3MgZnV0dXJlIGNoYW5nZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gbXVsdGlwbGUgdXNlQ29udGV4dHMgYXJlIHNwZWNpZmllZCwgdGhlcmUgaXMgbm8gZXhwZWN0YXRpb24gdGhhdCBhbGwgb3IgYW55IG9mIHRoZSBjb250ZXh0cyBhcHBseS5cclxuICAgKi9cclxuICBwdWJsaWMgdXNlQ29udGV4dD86IGZoaXIuVXNhZ2VDb250ZXh0W107XHJcbiAgLyoqXHJcbiAgICogSXQgbWF5IGJlIHBvc3NpYmxlIGZvciB0aGUgY29uY2VwdCBtYXAgdG8gYmUgdXNlZCBpbiBqdXJpc2RpY3Rpb25zIG90aGVyIHRoYW4gdGhvc2UgZm9yIHdoaWNoIGl0IHdhcyBvcmlnaW5hbGx5IGRlc2lnbmVkIG9yIGludGVuZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBqdXJpc2RpY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBkb2VzIG5vdCBkZXNjcmliZSB0aGUgdXNhZ2Ugb2YgdGhlIGNvbmNlcHQgbWFwLiBJbnN0ZWFkLCBpdCBwcm92aWRlcyB0cmFjZWFiaWxpdHkgb2YgJyd3aHknJyB0aGUgcmVzb3VyY2UgaXMgZWl0aGVyIG5lZWRlZCBvciAnJ3doeScnIGl0IGlzIGRlZmluZWQgYXMgaXQgaXMuICBUaGlzIG1heSBiZSB1c2VkIHRvIHBvaW50IHRvIHNvdXJjZSBtYXRlcmlhbHMgb3Igc3BlY2lmaWNhdGlvbnMgdGhhdCBkcm92ZSB0aGUgc3RydWN0dXJlIG9mIHRoaXMgY29uY2VwdCBtYXAuXHJcbiAgICovXHJcbiAgcHVibGljIHB1cnBvc2U/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlcXVlbnRseSB0aGUgY29weXJpZ2h0IGRpZmZlcnMgYmV0d2VlbiB0aGUgY29uY2VwdCBtYXAgYW5kIGNvZGVzIHRoYXQgYXJlIGluY2x1ZGVkLiBUaGUgY29weXJpZ2h0IHN0YXRlbWVudCBzaG91bGQgY2xlYXJseSBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlc2Ugd2hlbiByZXF1aXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY29weXJpZ2h0PzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSBhIHZlcnNpb24gc3BlY2lmaWMgcmVmZXJlbmNlLiBVUklzIFNIT1VMRCBiZSBhYnNvbHV0ZS4gSWYgdGhlcmUgaXMgbm8gc291cmNlIG9yIHRhcmdldCB2YWx1ZSBzZXQsIHRoZXJlIGlzIG5vIHNwZWNpZmllZCBjb250ZXh0IGZvciB0aGUgbWFwIChub3QgcmVjb21tZW5kZWQpLiAgVGhlIHNvdXJjZSB2YWx1ZSBzZXQgbWF5IHNlbGVjdCBjb2RlcyBmcm9tIGVpdGhlciBhbiBleHBsaWNpdCAoc3RhbmRhcmQgb3IgbG9jYWwpIG9yIGltcGxpY2l0IGNvZGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2U/OiAoZmhpci5GaGlyVXJpfGZoaXIuRmhpckNhbm9uaWNhbCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ29uY2VwdE1hcC5zb3VyY2VbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfc291cmNlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogU2hvdWxkIGJlIGEgdmVyc2lvbiBzcGVjaWZpYyByZWZlcmVuY2UuIFVSSXMgU0hPVUxEIGJlIGFic29sdXRlLiBJZiB0aGVyZSBpcyBubyBzb3VyY2Ugb3IgdGFyZ2V0IHZhbHVlIHNldCwgdGhlIGlzIG5vIHNwZWNpZmllZCBjb250ZXh0IGZvciB0aGUgbWFwLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ/OiAoZmhpci5GaGlyVXJpfGZoaXIuRmhpckNhbm9uaWNhbCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ29uY2VwdE1hcC50YXJnZXRbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdGFyZ2V0SXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogQSBncm91cCBvZiBtYXBwaW5ncyB0aGF0IGFsbCBoYXZlIHRoZSBzYW1lIHNvdXJjZSBhbmQgdGFyZ2V0IHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgZ3JvdXA/OiBmaGlyLkNvbmNlcHRNYXBHcm91cFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmNlcHRNYXAgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25jZXB0TWFwQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0NvbmNlcHRNYXAnO1xyXG4gICAgaWYgKHNvdXJjZVsndXJsJ10pIHsgdGhpcy51cmwgPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLnVybH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UuaWRlbnRpZmllcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcnNpb24nXSkgeyB0aGlzLnZlcnNpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZlcnNpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd0aXRsZSddKSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRpdGxlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gc291cmNlLnN0YXR1czsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhwZXJpbWVudGFsJ10pIHsgdGhpcy5leHBlcmltZW50YWwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5leHBlcmltZW50YWx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3B1Ymxpc2hlciddKSB7IHRoaXMucHVibGlzaGVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wdWJsaXNoZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFjdCddKSB7IHRoaXMuY29udGFjdCA9IHNvdXJjZS5jb250YWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29udGFjdERldGFpbCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhY3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VzZUNvbnRleHQnXSkgeyB0aGlzLnVzZUNvbnRleHQgPSBzb3VyY2UudXNlQ29udGV4dC5tYXAoKHgpID0+IG5ldyBmaGlyLlVzYWdlQ29udGV4dCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnVzZUNvbnRleHQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnanVyaXNkaWN0aW9uJ10pIHsgdGhpcy5qdXJpc2RpY3Rpb24gPSBzb3VyY2UuanVyaXNkaWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuanVyaXNkaWN0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3B1cnBvc2UnXSkgeyB0aGlzLnB1cnBvc2UgPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UucHVycG9zZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydjb3B5cmlnaHQnXSkgeyB0aGlzLmNvcHlyaWdodCA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5jb3B5cmlnaHR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlJ10pIHsgdGhpcy5zb3VyY2UgPSBzb3VyY2Uuc291cmNlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3NvdXJjZVVyaSddKSB7IHRoaXMuc291cmNlID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5zb3VyY2VVcml9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydzb3VyY2VDYW5vbmljYWwnXSkgeyB0aGlzLnNvdXJjZSA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiBzb3VyY2Uuc291cmNlQ2Fub25pY2FsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldCddKSB7IHRoaXMudGFyZ2V0ID0gc291cmNlLnRhcmdldDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd0YXJnZXRVcmknXSkgeyB0aGlzLnRhcmdldCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudGFyZ2V0VXJpfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndGFyZ2V0Q2Fub25pY2FsJ10pIHsgdGhpcy50YXJnZXQgPSBuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHt2YWx1ZTogc291cmNlLnRhcmdldENhbm9uaWNhbH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydncm91cCddKSB7IHRoaXMuZ3JvdXAgPSBzb3VyY2UuZ3JvdXAubWFwKCh4KSA9PiBuZXcgZmhpci5Db25jZXB0TWFwR3JvdXAoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ncm91cCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzIChDb25jZXB0TWFwLnN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHN0YXR1c1JlcXVpcmVkQ29kaW5nKCk6UHVibGljYXRpb25TdGF0dXNDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBQdWJsaWNhdGlvblN0YXR1c0NvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3Jlc291cmNlVHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2VUeXBlOlwiQ29uY2VwdE1hcFwiIGZoaXI6IENvbmNlcHRNYXAucmVzb3VyY2VUeXBlOlwiQ29uY2VwdE1hcFwiJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInVybFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnVybC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJpZGVudGlmaWVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaWRlbnRpZmllci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ2ZXJzaW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudmVyc2lvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJuYW1lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmFtZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ0aXRsZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnRpdGxlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3N0YXR1cyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc3RhdHVzOlB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGUgZmhpcjogQ29uY2VwdE1hcC5zdGF0dXM6Y29kZScsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJleHBlcmltZW50YWxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5leHBlcmltZW50YWwuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGF0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRhdGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHVibGlzaGVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHVibGlzaGVyLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbnRhY3RcIl0pIHsgdGhpcy5jb250YWN0LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlc2NyaXB0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInVzZUNvbnRleHRcIl0pIHsgdGhpcy51c2VDb250ZXh0LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJqdXJpc2RpY3Rpb25cIl0pIHsgdGhpcy5qdXJpc2RpY3Rpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInB1cnBvc2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wdXJwb3NlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvcHlyaWdodFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvcHlyaWdodC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJncm91cFwiXSkgeyB0aGlzLmdyb3VwLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19