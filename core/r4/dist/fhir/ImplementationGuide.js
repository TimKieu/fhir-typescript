// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: ImplementationGuide
import * as fhir from '../fhir.js';
// @ts-ignore
import { ResourceTypesCodes } from '../fhirValueSets/ResourceTypesCodes.js';
// @ts-ignore
import { FHIRVersionCodes } from '../fhirValueSets/FHIRVersionCodes.js';
// @ts-ignore
import { GuidePageGenerationCodes } from '../fhirValueSets/GuidePageGenerationCodes.js';
// @ts-ignore
import { GuideParameterCodeCodes } from '../fhirValueSets/GuideParameterCodeCodes.js';
// @ts-ignore
import { PublicationStatusCodes } from '../fhirValueSets/PublicationStatusCodes.js';
// @ts-ignore
import { SpdxLicenseCodes } from '../fhirValueSets/SpdxLicenseCodes.js';
/**
 * Another implementation guide that this implementation depends on. Typically, an implementation guide uses value sets, profiles etc.defined in other implementation guides.
 */
export class ImplementationGuideDependsOn extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideDependsOn - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['uri']) {
            this.uri = new fhir.FhirCanonical({ value: source.uri });
        }
        else {
            this.uri = null;
        }
        if (source['packageId']) {
            this.packageId = new fhir.FhirId({ value: source.packageId });
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['uri']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property uri:fhir.FhirCanonical fhir: ImplementationGuide.dependsOn.uri:canonical' });
        }
        if (this["uri"]) {
            issues.push(...this.uri.doModelValidation());
        }
        if (this["packageId"]) {
            issues.push(...this.packageId.doModelValidation());
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideDependsOn._fts_dataType = 'ImplementationGuideDependsOn';
/**
 * See [Default Profiles](implementationguide.html#default) for a discussion of which resources are 'covered' by an implementation guide.
 */
export class ImplementationGuideGlobal extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideGlobal - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['profile']) {
            this.profile = new fhir.FhirCanonical({ value: source.profile });
        }
        else {
            this.profile = null;
        }
    }
    /**
     * Required-bound Value Set for type (ImplementationGuide.global.type)
     */
    static get typeRequiredCodes() {
        return ResourceTypesCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.FhirCode fhir: ImplementationGuide.global.type:code' });
        }
        if (this['type'] && (!Object.values(ResourceTypesCodes).includes(this.type))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property type:fhir.FhirCode fhir: ImplementationGuide.global.type:code Required binding to: ResourceTypes' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (!this['profile']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property profile:fhir.FhirCanonical fhir: ImplementationGuide.global.profile:canonical' });
        }
        if (this["profile"]) {
            issues.push(...this.profile.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideGlobal._fts_dataType = 'ImplementationGuideGlobal';
/**
 * Groupings are arbitrary sub-divisions of content. Typically, they are used to help build Table of Contents automatically.
 */
export class ImplementationGuideDefinitionGrouping extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideDefinitionGrouping - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: ImplementationGuide.definition.grouping.name:string' });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideDefinitionGrouping._fts_dataType = 'ImplementationGuideDefinitionGrouping';
/**
 * A resource that is part of the implementation guide. Conformance resources (value set, structure definition, capability statements etc.) are obvious candidates for inclusion, but any kind of resource can be included as an example resource.
 */
export class ImplementationGuideDefinitionResource extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideDefinitionResource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference);
        }
        else {
            this.reference = null;
        }
        if (source['fhirVersion']) {
            this.fhirVersion = source.fhirVersion.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.fhirVersion = [];
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['example']) {
            this.example = source.example;
        }
        else if (source['exampleBoolean']) {
            this.example = new fhir.FhirBoolean({ value: source.exampleBoolean });
        }
        else if (source['exampleCanonical']) {
            this.example = new fhir.FhirCanonical({ value: source.exampleCanonical });
        }
        if (source['groupingId']) {
            this.groupingId = new fhir.FhirId({ value: source.groupingId });
        }
    }
    /**
     * Required-bound Value Set for fhirVersion (ImplementationGuide.definition.resource.fhirVersion)
     */
    static get fhirVersionRequiredCodes() {
        return FHIRVersionCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['reference']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property reference:fhir.Reference fhir: ImplementationGuide.definition.resource.reference:Reference' });
        }
        if (this["reference"]) {
            issues.push(...this.reference.doModelValidation());
        }
        if (this['fhirVersion']) {
            this.fhirVersion.forEach((v) => {
                if (!Object.values(FHIRVersionCodes).includes(v)) {
                    issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property fhirVersion?:fhir.FhirCode[] fhir: ImplementationGuide.definition.resource.fhirVersion:code Required binding to: FHIRVersion' });
                }
            });
        }
        if (this["fhirVersion"]) {
            this.fhirVersion.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["groupingId"]) {
            issues.push(...this.groupingId.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideDefinitionResource._fts_dataType = 'ImplementationGuideDefinitionResource';
/**
 * Internal flag to properly serialize choice-type element ImplementationGuide.definition.resource.example[x]
 */
ImplementationGuideDefinitionResource._fts_exampleIsChoice = true;
/**
 * Pages automatically become sections if they have sub-pages. By convention, the home page is called index.html.
 */
export class ImplementationGuideDefinitionPage extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideDefinitionPage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = source.name;
        }
        else if (source['nameUrl']) {
            this.name = new fhir.FhirUrl({ value: source.nameUrl });
        }
        else if (source['nameReference']) {
            this.name = new fhir.Reference(source.nameReference);
        }
        else {
            this.name = null;
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        else {
            this.title = null;
        }
        if (source['generation']) {
            this.generation = new fhir.FhirCode({ value: source.generation });
        }
        else {
            this.generation = null;
        }
        if (source['page']) {
            this.page = source.page.map((x) => new fhir.ImplementationGuideDefinitionPage(x));
        }
        else {
            this.page = [];
        }
    }
    /**
     * Required-bound Value Set for generation (ImplementationGuide.definition.page.generation)
     */
    static get generationRequiredCodes() {
        return GuidePageGenerationCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name: fhir: ImplementationGuide.definition.page.name[x]:' });
        }
        if (!this['title']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property title:fhir.FhirString fhir: ImplementationGuide.definition.page.title:string' });
        }
        if (this["title"]) {
            issues.push(...this.title.doModelValidation());
        }
        if (!this['generation']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property generation:fhir.FhirCode<GuidePageGenerationCodeType> fhir: ImplementationGuide.definition.page.generation:code' });
        }
        if (this['generation'] && (!Object.values(GuidePageGenerationCodes).includes(this.generation))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property generation:fhir.FhirCode<GuidePageGenerationCodeType> fhir: ImplementationGuide.definition.page.generation:code Required binding to: GuidePageGeneration' });
        }
        if (this["generation"]) {
            issues.push(...this.generation.doModelValidation());
        }
        if (this["page"]) {
            this.page.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideDefinitionPage._fts_dataType = 'ImplementationGuideDefinitionPage';
/**
 * Internal flag to properly serialize choice-type element ImplementationGuide.definition.page.name[x]
 */
ImplementationGuideDefinitionPage._fts_nameIsChoice = true;
/**
 * Defines how IG is built by tools.
 */
export class ImplementationGuideDefinitionParameter extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideDefinitionParameter - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        else {
            this.code = null;
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        else {
            this.value = null;
        }
    }
    /**
     * Required-bound Value Set for code (ImplementationGuide.definition.parameter.code)
     */
    static get codeRequiredCodes() {
        return GuideParameterCodeCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['code']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property code:fhir.FhirCode<GuideParameterCodeCodeType> fhir: ImplementationGuide.definition.parameter.code:code' });
        }
        if (this['code'] && (!Object.values(GuideParameterCodeCodes).includes(this.code))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property code:fhir.FhirCode<GuideParameterCodeCodeType> fhir: ImplementationGuide.definition.parameter.code:code Required binding to: GuideParameterCode' });
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation());
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value:fhir.FhirString fhir: ImplementationGuide.definition.parameter.value:string' });
        }
        if (this["value"]) {
            issues.push(...this.value.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideDefinitionParameter._fts_dataType = 'ImplementationGuideDefinitionParameter';
/**
 * A template for building resources.
 */
export class ImplementationGuideDefinitionTemplate extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideDefinitionTemplate - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        else {
            this.code = null;
        }
        if (source['source']) {
            this.source = new fhir.FhirString({ value: source.source });
        }
        else {
            this.source = null;
        }
        if (source['scope']) {
            this.scope = new fhir.FhirString({ value: source.scope });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['code']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property code:fhir.FhirCode fhir: ImplementationGuide.definition.template.code:code' });
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation());
        }
        if (!this['source']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property source:fhir.FhirString fhir: ImplementationGuide.definition.template.source:string' });
        }
        if (this["source"]) {
            issues.push(...this.source.doModelValidation());
        }
        if (this["scope"]) {
            issues.push(...this.scope.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideDefinitionTemplate._fts_dataType = 'ImplementationGuideDefinitionTemplate';
/**
 * Principally, this consists of information abuot source resource and file locations, and build parameters and templates.
 */
export class ImplementationGuideDefinition extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['grouping']) {
            this.grouping = source.grouping.map((x) => new fhir.ImplementationGuideDefinitionGrouping(x));
        }
        else {
            this.grouping = [];
        }
        if (source['resource']) {
            this.resource = source.resource.map((x) => new fhir.ImplementationGuideDefinitionResource(x));
        }
        else {
            this.resource = [];
        }
        if (source['page']) {
            this.page = new fhir.ImplementationGuideDefinitionPage(source.page);
        }
        if (source['parameter']) {
            this.parameter = source.parameter.map((x) => new fhir.ImplementationGuideDefinitionParameter(x));
        }
        else {
            this.parameter = [];
        }
        if (source['template']) {
            this.template = source.template.map((x) => new fhir.ImplementationGuideDefinitionTemplate(x));
        }
        else {
            this.template = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["grouping"]) {
            this.grouping.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['resource']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resource:fhir.ImplementationGuideDefinitionResource[] fhir: ImplementationGuide.definition.resource:resource' });
        }
        else if (!Array.isArray(this.resource)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property resource:fhir.ImplementationGuideDefinitionResource[] fhir: ImplementationGuide.definition.resource:resource' });
        }
        else if (this.resource.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resource:fhir.ImplementationGuideDefinitionResource[] fhir: ImplementationGuide.definition.resource:resource' });
        }
        if (this["resource"]) {
            this.resource.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["page"]) {
            issues.push(...this.page.doModelValidation());
        }
        if (this["parameter"]) {
            this.parameter.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["template"]) {
            this.template.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideDefinition._fts_dataType = 'ImplementationGuideDefinition';
/**
 * A resource that is part of the implementation guide. Conformance resources (value set, structure definition, capability statements etc.) are obvious candidates for inclusion, but any kind of resource can be included as an example resource.
 */
export class ImplementationGuideManifestResource extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideManifestResource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference);
        }
        else {
            this.reference = null;
        }
        if (source['example']) {
            this.example = source.example;
        }
        else if (source['exampleBoolean']) {
            this.example = new fhir.FhirBoolean({ value: source.exampleBoolean });
        }
        else if (source['exampleCanonical']) {
            this.example = new fhir.FhirCanonical({ value: source.exampleCanonical });
        }
        if (source['relativePath']) {
            this.relativePath = new fhir.FhirUrl({ value: source.relativePath });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['reference']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property reference:fhir.Reference fhir: ImplementationGuide.manifest.resource.reference:Reference' });
        }
        if (this["reference"]) {
            issues.push(...this.reference.doModelValidation());
        }
        if (this["relativePath"]) {
            issues.push(...this.relativePath.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideManifestResource._fts_dataType = 'ImplementationGuideManifestResource';
/**
 * Internal flag to properly serialize choice-type element ImplementationGuide.manifest.resource.example[x]
 */
ImplementationGuideManifestResource._fts_exampleIsChoice = true;
/**
 * Information about a page within the IG.
 */
export class ImplementationGuideManifestPage extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideManifestPage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['anchor']) {
            this.anchor = source.anchor.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.anchor = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: ImplementationGuide.manifest.page.name:string' });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["title"]) {
            issues.push(...this.title.doModelValidation());
        }
        if (this["anchor"]) {
            this.anchor.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideManifestPage._fts_dataType = 'ImplementationGuideManifestPage';
/**
 * Information about an assembled implementation guide, created by the publication tooling.
 */
export class ImplementationGuideManifest extends fhir.BackboneElement {
    /**
     * Default constructor for ImplementationGuideManifest - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['rendering']) {
            this.rendering = new fhir.FhirUrl({ value: source.rendering });
        }
        if (source['resource']) {
            this.resource = source.resource.map((x) => new fhir.ImplementationGuideManifestResource(x));
        }
        else {
            this.resource = [];
        }
        if (source['page']) {
            this.page = source.page.map((x) => new fhir.ImplementationGuideManifestPage(x));
        }
        else {
            this.page = [];
        }
        if (source['image']) {
            this.image = source.image.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.image = [];
        }
        if (source['other']) {
            this.other = source.other.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.other = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["rendering"]) {
            issues.push(...this.rendering.doModelValidation());
        }
        if (!this['resource']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resource:fhir.ImplementationGuideManifestResource[] fhir: ImplementationGuide.manifest.resource:resource' });
        }
        else if (!Array.isArray(this.resource)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property resource:fhir.ImplementationGuideManifestResource[] fhir: ImplementationGuide.manifest.resource:resource' });
        }
        else if (this.resource.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resource:fhir.ImplementationGuideManifestResource[] fhir: ImplementationGuide.manifest.resource:resource' });
        }
        if (this["resource"]) {
            this.resource.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["page"]) {
            this.page.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["image"]) {
            this.image.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["other"]) {
            this.other.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuideManifest._fts_dataType = 'ImplementationGuideManifest';
/**
 * A set of rules of how a particular interoperability or standards problem is solved - typically through the use of FHIR resources. This resource is used to gather all the parts of an implementation guide into a logical whole and to publish a computable definition of all the parts.
 */
export class ImplementationGuide extends fhir.DomainResource {
    /**
     * Default constructor for ImplementationGuide - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ImplementationGuide';
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        else {
            this.url = null;
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['experimental']) {
            this.experimental = new fhir.FhirBoolean({ value: source.experimental });
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['publisher']) {
            this.publisher = new fhir.FhirString({ value: source.publisher });
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.contact = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['useContext']) {
            this.useContext = source.useContext.map((x) => new fhir.UsageContext(x));
        }
        else {
            this.useContext = [];
        }
        if (source['jurisdiction']) {
            this.jurisdiction = source.jurisdiction.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.jurisdiction = [];
        }
        if (source['copyright']) {
            this.copyright = new fhir.FhirMarkdown({ value: source.copyright });
        }
        if (source['packageId']) {
            this.packageId = new fhir.FhirId({ value: source.packageId });
        }
        else {
            this.packageId = null;
        }
        if (source['license']) {
            this.license = new fhir.FhirCode({ value: source.license });
        }
        if (source['fhirVersion']) {
            this.fhirVersion = source.fhirVersion.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.fhirVersion = [];
        }
        if (source['dependsOn']) {
            this.dependsOn = source.dependsOn.map((x) => new fhir.ImplementationGuideDependsOn(x));
        }
        else {
            this.dependsOn = [];
        }
        if (source['global']) {
            this.global = source.global.map((x) => new fhir.ImplementationGuideGlobal(x));
        }
        else {
            this.global = [];
        }
        if (source['definition']) {
            this.definition = new fhir.ImplementationGuideDefinition(source.definition);
        }
        if (source['manifest']) {
            this.manifest = new fhir.ImplementationGuideManifest(source.manifest);
        }
    }
    /**
     * Required-bound Value Set for status (ImplementationGuide.status)
     */
    static get statusRequiredCodes() {
        return PublicationStatusCodes;
    }
    /**
     * Required-bound Value Set for license (ImplementationGuide.license)
     */
    static get licenseRequiredCodes() {
        return SpdxLicenseCodes;
    }
    /**
     * Required-bound Value Set for fhirVersion (ImplementationGuide.fhirVersion)
     */
    static get fhirVersionRequiredCodes() {
        return FHIRVersionCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"ImplementationGuide" fhir: ImplementationGuide.resourceType:"ImplementationGuide"' });
        }
        if (!this['url']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property url:fhir.FhirUri fhir: ImplementationGuide.url:uri' });
        }
        if (this["url"]) {
            issues.push(...this.url.doModelValidation());
        }
        if (this["version"]) {
            issues.push(...this.version.doModelValidation());
        }
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name:fhir.FhirString fhir: ImplementationGuide.name:string' });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["title"]) {
            issues.push(...this.title.doModelValidation());
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:fhir.FhirCode<PublicationStatusCodeType> fhir: ImplementationGuide.status:code' });
        }
        if (this['status'] && (!Object.values(PublicationStatusCodes).includes(this.status))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property status:fhir.FhirCode<PublicationStatusCodeType> fhir: ImplementationGuide.status:code Required binding to: PublicationStatus' });
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation());
        }
        if (this["experimental"]) {
            issues.push(...this.experimental.doModelValidation());
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation());
        }
        if (this["publisher"]) {
            issues.push(...this.publisher.doModelValidation());
        }
        if (this["contact"]) {
            this.contact.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["useContext"]) {
            this.useContext.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["jurisdiction"]) {
            this.jurisdiction.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["copyright"]) {
            issues.push(...this.copyright.doModelValidation());
        }
        if (!this['packageId']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property packageId:fhir.FhirId fhir: ImplementationGuide.packageId:id' });
        }
        if (this["packageId"]) {
            issues.push(...this.packageId.doModelValidation());
        }
        if (this['license'] && (!Object.values(SpdxLicenseCodes).includes(this.license))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property license?:fhir.FhirCode fhir: ImplementationGuide.license:code Required binding to: SpdxLicense' });
        }
        if (this["license"]) {
            issues.push(...this.license.doModelValidation());
        }
        if (!this['fhirVersion']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property fhirVersion:fhir.FhirCode[] fhir: ImplementationGuide.fhirVersion:code' });
        }
        else if (!Array.isArray(this.fhirVersion)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property fhirVersion:fhir.FhirCode[] fhir: ImplementationGuide.fhirVersion:code' });
        }
        else if (this.fhirVersion.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property fhirVersion:fhir.FhirCode[] fhir: ImplementationGuide.fhirVersion:code' });
        }
        if (this['fhirVersion']) {
            this.fhirVersion.forEach((v) => {
                if (!Object.values(FHIRVersionCodes).includes(v)) {
                    issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property fhirVersion:fhir.FhirCode[] fhir: ImplementationGuide.fhirVersion:code Required binding to: FHIRVersion' });
                }
            });
        }
        if (this["fhirVersion"]) {
            this.fhirVersion.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["dependsOn"]) {
            this.dependsOn.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["global"]) {
            this.global.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["definition"]) {
            issues.push(...this.definition.doModelValidation());
        }
        if (this["manifest"]) {
            issues.push(...this.manifest.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImplementationGuide._fts_dataType = 'ImplementationGuide';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW1wbGVtZW50YXRpb25HdWlkZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvSW1wbGVtZW50YXRpb25HdWlkZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxxQ0FBcUM7QUFFckMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxrQkFBa0IsRUFBMEIsTUFBTSx3Q0FBd0MsQ0FBQztBQUdwRyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGdCQUFnQixFQUF3QixNQUFNLHNDQUFzQyxDQUFDO0FBRzlGLGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEVBQWdDLE1BQU0sOENBQThDLENBQUM7QUFHdEgsYUFBYTtBQUNiLE9BQU8sRUFBRSx1QkFBdUIsRUFBK0IsTUFBTSw2Q0FBNkMsQ0FBQztBQUduSCxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixFQUE4QixNQUFNLDRDQUE0QyxDQUFDO0FBR2hILGFBQWE7QUFDYixPQUFPLEVBQUUsZ0JBQWdCLEVBQXdCLE1BQU0sc0NBQXNDLENBQUM7QUFtQjlGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRCQUE2QixTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUJwRTs7T0FFRztJQUNILFlBQVksU0FBbUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDekcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxHQUFHLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDekU7WUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQztTQUFFO1FBQ3pCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUN6RixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO1NBQUU7SUFDekYsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCO1FBQy9CLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ2hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLG9HQUFvRyxFQUFFLENBQUMsQ0FBQztTQUN6SztRQUNELElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDbEUsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUM5RSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzFFLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBdENEOztHQUVHO0FBQzZCLDBDQUFhLEdBQVUsOEJBQThCLENBQUM7QUFtRHhGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHlCQUEwQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBYWpFOztPQUVHO0lBQ0gsWUFBWSxTQUFnRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN0RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUN2RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3JGO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FBRTtJQUMvQixDQUFDO0lBQ0Q7O09BRUc7SUFDSSxNQUFNLEtBQUssaUJBQWlCO1FBQ2pDLE9BQU8sa0JBQWtCLENBQUM7SUFDNUIsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCO1FBQy9CLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLHlGQUF5RixFQUFFLENBQUMsQ0FBQztTQUM5SjtRQUNELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFXLENBQUMsQ0FBQyxFQUFFO1lBQ25GLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsV0FBVyxFQUFFLHdIQUF3SCxFQUFFLENBQUMsQ0FBQztTQUNqTTtRQUNELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDcEUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNwQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSx5R0FBeUcsRUFBRSxDQUFDLENBQUM7U0FDOUs7UUFDRCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzFFLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBN0NEOztHQUVHO0FBQzZCLHVDQUFhLEdBQVUsMkJBQTJCLENBQUM7QUEwRHJGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHFDQUFzQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYTdFOztPQUVHO0lBQ0gsWUFBWSxTQUE0RCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNsSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUN6RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztTQUFFO0lBQ3JHLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQjtRQUMvQixJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSwwR0FBMEcsRUFBRSxDQUFDLENBQUM7U0FDL0s7UUFDRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3BFLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDbEYsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUFoQ0Q7O0dBRUc7QUFDNkIsbURBQWEsR0FBVSx1Q0FBdUMsQ0FBQztBQWlGakc7O0dBRUc7QUFDSCxNQUFNLE9BQU8scUNBQXNDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQzdFOztPQUVHO0lBQ0gsWUFBWSxTQUE0RCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNsSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7YUFDOUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztTQUFFO1FBQy9CLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzFHO1lBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUMvQixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDOUUsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ25HLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1NBQUU7YUFDcEQsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxjQUFjLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDdEcsSUFBSSxNQUFNLENBQUMsa0JBQWtCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNqSCxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO1NBQUU7SUFDOUYsQ0FBQztJQUNEOztPQUVHO0lBQ0ksTUFBTSxLQUFLLHdCQUF3QjtRQUN4QyxPQUFPLGdCQUFnQixDQUFDO0lBQzFCLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQjtRQUMvQixJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUN0QixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxzSEFBc0gsRUFBRSxDQUFDLENBQUM7U0FDM0w7UUFDRCxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzlFLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUMsUUFBUSxDQUFDLENBQVEsQ0FBQyxFQUFFO29CQUN2RCxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxvSkFBb0osRUFBRSxDQUFDLENBQUM7aUJBQzdOO1lBQ0gsQ0FBQyxDQUFDLENBQUM7U0FDSjtRQUNELElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUN4RyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3BFLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDbEYsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUNoRixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQS9FRDs7R0FFRztBQUM2QixtREFBYSxHQUFVLHVDQUF1QyxDQUFDO0FBeUIvRjs7R0FFRztBQUN1QiwwREFBb0IsR0FBUSxJQUFJLENBQUM7QUFnRjdEOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGlDQUFrQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBeUJ6RTs7T0FFRztJQUNILFlBQVksU0FBd0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDOUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFFO2FBQzNDLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE9BQU8sRUFBQyxDQUFDLENBQUM7U0FBRTthQUNqRixJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUFFO2FBQ3RGO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7U0FBRTtRQUMxQixJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDNUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzNCLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQThCLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDdEg7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQ2hDLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsaUNBQWlDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3JHO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7U0FBRTtJQUMxQixDQUFDO0lBQ0Q7O09BRUc7SUFDSSxNQUFNLEtBQUssdUJBQXVCO1FBQ3ZDLE9BQU8sd0JBQXdCLENBQUM7SUFDbEMsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCO1FBQy9CLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLG9GQUFvRixFQUFFLENBQUMsQ0FBQztTQUN6SjtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsd0dBQXdHLEVBQUUsQ0FBQyxDQUFDO1NBQzdLO1FBQ0QsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUN0RSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLDJJQUEySSxFQUFFLENBQUMsQ0FBQztTQUNoTjtRQUNELElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLHdCQUF3QixDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFpQixDQUFDLENBQUMsRUFBRTtZQUNyRyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxnTEFBZ0wsRUFBRSxDQUFDLENBQUM7U0FDelA7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ2hGLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUMxRixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQW5FRDs7R0FFRztBQUM2QiwrQ0FBYSxHQUFVLG1DQUFtQyxDQUFDO0FBSzNGOztHQUVHO0FBQ3VCLG1EQUFpQixHQUFRLElBQUksQ0FBQztBQXdFMUQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8sc0NBQXVDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhOUU7O09BRUc7SUFDSCxZQUFZLFNBQTZELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ25ILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBNkIsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUNuRztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQztTQUFFO2FBQzVFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7U0FBRTtJQUM3QixDQUFDO0lBQ0Q7O09BRUc7SUFDSSxNQUFNLEtBQUssaUJBQWlCO1FBQ2pDLE9BQU8sdUJBQXVCLENBQUM7SUFDakMsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCO1FBQy9CLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLG1JQUFtSSxFQUFFLENBQUMsQ0FBQztTQUN4TTtRQUNELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFXLENBQUMsQ0FBQyxFQUFFO1lBQ3hGLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsV0FBVyxFQUFFLHVLQUF1SyxFQUFFLENBQUMsQ0FBQztTQUNoUDtRQUNELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDcEUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNsQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSw2R0FBNkcsRUFBRSxDQUFDLENBQUM7U0FDbEw7UUFDRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3RFLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBN0NEOztHQUVHO0FBQzZCLG9EQUFhLEdBQVUsd0NBQXdDLENBQUM7QUE4RGxHOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHFDQUFzQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUI3RTs7T0FFRztJQUNILFlBQVksU0FBNEQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDbEgsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDdkU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTthQUMvRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQztTQUFFO0lBQ25GLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQjtRQUMvQixJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxzR0FBc0csRUFBRSxDQUFDLENBQUM7U0FDM0s7UUFDRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3BFLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDbkIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsOEdBQThHLEVBQUUsQ0FBQyxDQUFDO1NBQ25MO1FBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUN4RSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3RFLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBMUNEOztHQUVHO0FBQzZCLG1EQUFhLEdBQVUsdUNBQXVDLENBQUM7QUFtRWpHOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDZCQUE4QixTQUFRLElBQUksQ0FBQyxlQUFlO0lBeUJyRTs7T0FFRztJQUNILFlBQVksU0FBb0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDMUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLHFDQUFxQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNySDtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDckg7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTtRQUM1RixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLHNDQUFzQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN6SDtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDN0IsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDckg7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUFFO0lBQzlCLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQjtRQUMvQixJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDdkQsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ2xHLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsd0lBQXdJLEVBQUUsQ0FBQyxDQUFDO1NBQzdNO2FBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLDZJQUE2SSxFQUFFLENBQUMsQ0FBQztTQUNuTjthQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLHdJQUF3SSxFQUFFLENBQUMsQ0FBQztTQUM3TTtRQUNELElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNsRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3BFLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNwRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDbEcsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF6REQ7O0dBRUc7QUFDNkIsMkNBQWEsR0FBVSwrQkFBK0IsQ0FBQztBQWtGekY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sbUNBQW9DLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQjNFOztPQUVHO0lBQ0gsWUFBWSxTQUEwRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNoSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7YUFDOUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztTQUFFO1FBQy9CLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1NBQUU7YUFDcEQsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxjQUFjLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDdEcsSUFBSSxNQUFNLENBQUMsa0JBQWtCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNqSCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1NBQUU7SUFDckcsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCO1FBQy9CLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3RCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLG9IQUFvSCxFQUFFLENBQUMsQ0FBQztTQUN6TDtRQUNELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDOUUsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUNwRixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTNDRDs7R0FFRztBQUM2QixpREFBYSxHQUFVLHFDQUFxQyxDQUFDO0FBUzdGOztHQUVHO0FBQ3VCLHdEQUFvQixHQUFRLElBQUksQ0FBQztBQWdEN0Q7O0dBRUc7QUFDSCxNQUFNLE9BQU8sK0JBQWdDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQnZFOztPQUVHO0lBQ0gsWUFBWSxTQUFzRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM1RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUN6RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2pGLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzdGO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7U0FBRTtJQUM1QixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUI7UUFDL0IsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsb0dBQW9HLEVBQUUsQ0FBQyxDQUFDO1NBQ3pLO1FBQ0QsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUNwRSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3RFLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUM5RixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXZDRDs7R0FFRztBQUM2Qiw2Q0FBYSxHQUFVLGlDQUFpQyxDQUFDO0FBZ0UzRjs7R0FFRztBQUNILE1BQU0sT0FBTywyQkFBNEIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXlCbkU7O09BRUc7SUFDSCxZQUFZLFNBQWtELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3hHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzFGLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ25IO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM1QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLCtCQUErQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDeEIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDMUY7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ3pCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzFGO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7U0FBRTtJQUMzQixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUI7UUFDL0IsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3ZELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDOUUsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUNyQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxvSUFBb0ksRUFBRSxDQUFDLENBQUM7U0FDek07YUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUseUlBQXlJLEVBQUUsQ0FBQyxDQUFDO1NBQy9NO2FBQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsb0lBQW9JLEVBQUUsQ0FBQyxDQUFDO1NBQ3pNO1FBQ0QsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ2xHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUMxRixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDNUYsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzVGLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBekREOztHQUVHO0FBQzZCLHlDQUFhLEdBQVUsNkJBQTZCLENBQUM7QUFvSnZGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLG1CQUFvQixTQUFRLElBQUksQ0FBQyxjQUFjO0lBMkYxRDs7T0FFRztJQUNILFlBQVksU0FBMEMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDaEcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsWUFBWSxHQUFHLHFCQUFxQixDQUFDO1FBQzFDLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUM7U0FBRTthQUNuRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDekIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3ZGLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUN6RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2pGLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQTRCLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDeEc7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBQyxDQUFDLENBQUM7U0FBRTtRQUN2RyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDaEYsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzdGLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMxRjtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDM0IsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3JHLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNsRztZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDOUIsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzNHO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNoQyxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDL0YsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3BGO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7U0FBRTtRQUMvQixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDckYsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDMUc7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQy9CLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQy9HO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM3QixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRztZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLDZCQUE2QixDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUFFO1FBQzFHLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FBRTtJQUNwRyxDQUFDO0lBQ0Q7O09BRUc7SUFDSSxNQUFNLEtBQUssbUJBQW1CO1FBQ25DLE9BQU8sc0JBQXNCLENBQUM7SUFDaEMsQ0FBQztJQUNEOztPQUVHO0lBQ0ksTUFBTSxLQUFLLG9CQUFvQjtRQUNwQyxPQUFPLGdCQUFnQixDQUFDO0lBQzFCLENBQUM7SUFDRDs7T0FFRztJQUNJLE1BQU0sS0FBSyx3QkFBd0I7UUFDeEMsT0FBTyxnQkFBZ0IsQ0FBQztJQUMxQixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUI7UUFDL0IsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsMkhBQTJILEVBQUUsQ0FBQyxDQUFDO1NBQ2hNO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNoQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSw4RUFBOEUsRUFBRSxDQUFDLENBQUM7U0FDbko7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ2xFLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxzRkFBc0YsRUFBRSxDQUFDLENBQUM7U0FDM0o7UUFDRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3BFLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDdEUsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxpSEFBaUgsRUFBRSxDQUFDLENBQUM7U0FDdEw7UUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBYSxDQUFDLENBQUMsRUFBRTtZQUMzRixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxvSkFBb0osRUFBRSxDQUFDLENBQUM7U0FDN047UUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3hFLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDcEYsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUNwRSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzlFLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNoRyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ2xGLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUN0RyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDMUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUM5RSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3RCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLHdGQUF3RixFQUFFLENBQUMsQ0FBQztTQUM3SjtRQUNELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDOUUsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQWMsQ0FBQyxDQUFDLEVBQUU7WUFDdkYsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsc0hBQXNILEVBQUUsQ0FBQyxDQUFDO1NBQy9MO1FBQ0QsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQ3hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLGtHQUFrRyxFQUFFLENBQUMsQ0FBQztTQUN2SzthQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUMzQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSx1R0FBdUcsRUFBRSxDQUFDLENBQUM7U0FDN0s7YUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN4QyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxrR0FBa0csRUFBRSxDQUFDLENBQUM7U0FDdks7UUFDRCxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUN2QixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO2dCQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFRLENBQUMsRUFBRTtvQkFDdkQsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsK0hBQStILEVBQUUsQ0FBQyxDQUFDO2lCQUN4TTtZQUNILENBQUMsQ0FBQyxDQUFDO1NBQ0o7UUFDRCxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDeEcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ3BHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUM5RixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ2hGLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDNUUsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE5TUQ7O0dBRUc7QUFDNkIsaUNBQWEsR0FBVSxxQkFBcUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogSW1wbGVtZW50YXRpb25HdWlkZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVzb3VyY2VUeXBlc0NvZGluZ3MsIFJlc291cmNlVHlwZXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXNvdXJjZVR5cGVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVzb3VyY2VUeXBlc0NvZGVzLCAgUmVzb3VyY2VUeXBlc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXNvdXJjZVR5cGVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZISVJWZXJzaW9uQ29kaW5ncywgRkhJUlZlcnNpb25Db2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9GSElSVmVyc2lvbkNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZISVJWZXJzaW9uQ29kZXMsICBGSElSVmVyc2lvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9GSElSVmVyc2lvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBHdWlkZVBhZ2VHZW5lcmF0aW9uQ29kaW5ncywgR3VpZGVQYWdlR2VuZXJhdGlvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0d1aWRlUGFnZUdlbmVyYXRpb25Db2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBHdWlkZVBhZ2VHZW5lcmF0aW9uQ29kZXMsICBHdWlkZVBhZ2VHZW5lcmF0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0d1aWRlUGFnZUdlbmVyYXRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgR3VpZGVQYXJhbWV0ZXJDb2RlQ29kaW5ncywgR3VpZGVQYXJhbWV0ZXJDb2RlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvR3VpZGVQYXJhbWV0ZXJDb2RlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgR3VpZGVQYXJhbWV0ZXJDb2RlQ29kZXMsICBHdWlkZVBhcmFtZXRlckNvZGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvR3VpZGVQYXJhbWV0ZXJDb2RlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzQ29kaW5ncywgUHVibGljYXRpb25TdGF0dXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzQ29kZXMsICBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTcGR4TGljZW5zZUNvZGluZ3MsIFNwZHhMaWNlbnNlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3BkeExpY2Vuc2VDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTcGR4TGljZW5zZUNvZGVzLCAgU3BkeExpY2Vuc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3BkeExpY2Vuc2VDb2Rlcy5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVwZW5kc09uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEltcGxlbWVudGF0aW9uR3VpZGVEZXBlbmRzT25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBVc3VhbGx5LCBBIGNhbm9uaWNhbCByZWZlcmVuY2UgdG8gdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIGlzIHRoZSBzYW1lIGFzIHRoZSBtYXN0ZXIgbG9jYXRpb24gYXQgd2hpY2ggdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIGlzIHB1Ymxpc2hlZC5cclxuICAgKi9cclxuICB1cmk6IGZoaXIuRmhpckNhbm9uaWNhbHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBOUE0gcGFja2FnZSBuYW1lIGZvciB0aGUgSW1wbGVtZW50YXRpb24gR3VpZGUgdGhhdCB0aGlzIElHIGRlcGVuZHMgb24uXHJcbiAgICovXHJcbiAgcGFja2FnZUlkPzogZmhpci5GaGlySWR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGZvbGxvd3MgdGhlIHN5bnRheCBvZiB0aGUgTlBNIHBhY2thZ2luZyB2ZXJzaW9uIGZpZWxkIC0gc2VlIFtbcmVmZXJlbmNlXV0uXHJcbiAgICovXHJcbiAgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQW5vdGhlciBpbXBsZW1lbnRhdGlvbiBndWlkZSB0aGF0IHRoaXMgaW1wbGVtZW50YXRpb24gZGVwZW5kcyBvbi4gVHlwaWNhbGx5LCBhbiBpbXBsZW1lbnRhdGlvbiBndWlkZSB1c2VzIHZhbHVlIHNldHMsIHByb2ZpbGVzIGV0Yy5kZWZpbmVkIGluIG90aGVyIGltcGxlbWVudGF0aW9uIGd1aWRlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbXBsZW1lbnRhdGlvbkd1aWRlRGVwZW5kc09uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSW1wbGVtZW50YXRpb25HdWlkZURlcGVuZHNPbic7XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSwgQSBjYW5vbmljYWwgcmVmZXJlbmNlIHRvIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSBpcyB0aGUgc2FtZSBhcyB0aGUgbWFzdGVyIGxvY2F0aW9uIGF0IHdoaWNoIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSBpcyBwdWJsaXNoZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHVyaTogZmhpci5GaGlyQ2Fub25pY2FsfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIE5QTSBwYWNrYWdlIG5hbWUgZm9yIHRoZSBJbXBsZW1lbnRhdGlvbiBHdWlkZSB0aGF0IHRoaXMgSUcgZGVwZW5kcyBvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZUlkPzogZmhpci5GaGlySWR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZm9sbG93cyB0aGUgc3ludGF4IG9mIHRoZSBOUE0gcGFja2FnaW5nIHZlcnNpb24gZmllbGQgLSBzZWUgW1tyZWZlcmVuY2VdXS5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSW1wbGVtZW50YXRpb25HdWlkZURlcGVuZHNPbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEltcGxlbWVudGF0aW9uR3VpZGVEZXBlbmRzT25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndXJpJ10pIHsgdGhpcy51cmkgPSBuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHt2YWx1ZTogc291cmNlLnVyaX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51cmkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlSWQnXSkgeyB0aGlzLnBhY2thZ2VJZCA9IG5ldyBmaGlyLkZoaXJJZCh7dmFsdWU6IHNvdXJjZS5wYWNrYWdlSWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyc2lvbiddKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3VyaSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB1cmk6Zmhpci5GaGlyQ2Fub25pY2FsIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUuZGVwZW5kc09uLnVyaTpjYW5vbmljYWwnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ1cmlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51cmkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGFja2FnZUlkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGFja2FnZUlkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInZlcnNpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy52ZXJzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1wbGVtZW50YXRpb25HdWlkZUdsb2JhbCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbXBsZW1lbnRhdGlvbkd1aWRlR2xvYmFsQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgbXVzdCBtYXRjaCB0aGF0IG9mIHRoZSBwcm9maWxlIHRoYXQgaXMgcmVmZXJyZWQgdG8gYnV0IGlzIG1hZGUgZXhwbGljaXQgaGVyZSBhcyBhIGRlbm9ybWFsaXphdGlvbiBzbyB0aGF0IGEgc3lzdGVtIHByb2Nlc3NpbmcgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIHJlc291cmNlIGtub3dzIHdoaWNoIHJlc291cmNlcyB0aGUgcHJvZmlsZSBhcHBsaWVzIHRvIGV2ZW4gaWYgdGhlIHByb2ZpbGUgaXRzZWxmIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBwcm9maWxlIHRoYXQgYWxsIGluc3RhbmNlcyBtdXN0IGNvbmZvcm0gdG8uXHJcbiAgICovXHJcbiAgcHJvZmlsZTogZmhpci5GaGlyQ2Fub25pY2FsfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZWUgW0RlZmF1bHQgUHJvZmlsZXNdKGltcGxlbWVudGF0aW9uZ3VpZGUuaHRtbCNkZWZhdWx0KSBmb3IgYSBkaXNjdXNzaW9uIG9mIHdoaWNoIHJlc291cmNlcyBhcmUgJ2NvdmVyZWQnIGJ5IGFuIGltcGxlbWVudGF0aW9uIGd1aWRlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEltcGxlbWVudGF0aW9uR3VpZGVHbG9iYWwgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbXBsZW1lbnRhdGlvbkd1aWRlR2xvYmFsJztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBtdXN0IG1hdGNoIHRoYXQgb2YgdGhlIHByb2ZpbGUgdGhhdCBpcyByZWZlcnJlZCB0byBidXQgaXMgbWFkZSBleHBsaWNpdCBoZXJlIGFzIGEgZGVub3JtYWxpemF0aW9uIHNvIHRoYXQgYSBzeXN0ZW0gcHJvY2Vzc2luZyB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUgcmVzb3VyY2Uga25vd3Mgd2hpY2ggcmVzb3VyY2VzIHRoZSBwcm9maWxlIGFwcGxpZXMgdG8gZXZlbiBpZiB0aGUgcHJvZmlsZSBpdHNlbGYgaXMgbm90IGF2YWlsYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyQ29kZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBwcm9maWxlIHRoYXQgYWxsIGluc3RhbmNlcyBtdXN0IGNvbmZvcm0gdG8uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2ZpbGU6IGZoaXIuRmhpckNhbm9uaWNhbHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEltcGxlbWVudGF0aW9uR3VpZGVHbG9iYWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbXBsZW1lbnRhdGlvbkd1aWRlR2xvYmFsQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9maWxlJ10pIHsgdGhpcy5wcm9maWxlID0gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHNvdXJjZS5wcm9maWxlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2ZpbGUgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoSW1wbGVtZW50YXRpb25HdWlkZS5nbG9iYWwudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBSZXNvdXJjZVR5cGVzQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3R5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkZoaXJDb2RlIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUuZ2xvYmFsLnR5cGU6Y29kZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1sndHlwZSddICYmICghT2JqZWN0LnZhbHVlcyhSZXNvdXJjZVR5cGVzQ29kZXMpLmluY2x1ZGVzKHRoaXMudHlwZSBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgdHlwZTpmaGlyLkZoaXJDb2RlIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUuZ2xvYmFsLnR5cGU6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBSZXNvdXJjZVR5cGVzJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sncHJvZmlsZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwcm9maWxlOmZoaXIuRmhpckNhbm9uaWNhbCBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLmdsb2JhbC5wcm9maWxlOmNhbm9uaWNhbCcgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInByb2ZpbGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcm9maWxlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25Hcm91cGluZyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbkdyb3VwaW5nQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGh1bWFuLXJlYWRhYmxlIHRpdGxlIHRvIGRpc3BsYXkgZm9yIHRoZSBwYWNrYWdlIG9mIHJlc291cmNlcyB3aGVuIHJlbmRlcmluZyB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuXHJcbiAgICovXHJcbiAgbmFtZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSHVtYW4gcmVhZGFibGUgdGV4dCBkZXNjcmliaW5nIHRoZSBwYWNrYWdlLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHcm91cGluZ3MgYXJlIGFyYml0cmFyeSBzdWItZGl2aXNpb25zIG9mIGNvbnRlbnQuIFR5cGljYWxseSwgdGhleSBhcmUgdXNlZCB0byBoZWxwIGJ1aWxkIFRhYmxlIG9mIENvbnRlbnRzIGF1dG9tYXRpY2FsbHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25Hcm91cGluZyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uR3JvdXBpbmcnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBodW1hbi1yZWFkYWJsZSB0aXRsZSB0byBkaXNwbGF5IGZvciB0aGUgcGFja2FnZSBvZiByZXNvdXJjZXMgd2hlbiByZW5kZXJpbmcgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBIdW1hbiByZWFkYWJsZSB0ZXh0IGRlc2NyaWJpbmcgdGhlIHBhY2thZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbkdyb3VwaW5nIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25Hcm91cGluZ0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snbmFtZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBuYW1lOmZoaXIuRmhpclN0cmluZyBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLmRlZmluaXRpb24uZ3JvdXBpbmcubmFtZTpzdHJpbmcnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJuYW1lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmFtZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXNjcmlwdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlc2NyaXB0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25SZXNvdXJjZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblJlc291cmNlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSB0aGlzIGlzIGEgcmVsYXRpdmUgVVJMIHRoYXQgbG9jYXRlcyB0aGUgcmVzb3VyY2Ugd2l0aGluIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZS4gSWYgeW91IGF1dGhvcmluZyBhbiBpbXBsZW1lbnRhdGlvbiBndWlkZSwgYW5kIHdpbGwgcHVibGlzaCBpdCB1c2luZyB0aGUgRkhJUiBwdWJsaWNhdGlvbiB0b29saW5nLCB1c2UgYSBVUkkgdGhhdCBtYXkgcG9pbnQgdG8gYSByZXNvdXJjZSwgb3IgdG8gb25lIG9mIHZhcmlvdXMgYWx0ZXJuYXRpdmUgcmVwcmVzZW50YXRpb25zIChlLmcuIHNwcmVhZHNoZWV0KS4gVGhlIHRvb2xpbmcgd2lsbCBjb252ZXJ0IHRoaXMgd2hlbiBpdCBwdWJsaXNoZXMgaXQuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcmVzb3VyY2UgU0hBTEwgYmUgdmFsaWQgYWdhaW5zdCBhbGwgdGhlIHZlcnNpb25zIGl0IGlzIHNwZWNpZmllZCB0byBhcHBseSB0by4gSWYgdGhlIHJlc291cmNlIHJlZmVycmVkIHRvIGlzIGEgU3RydWN0dXJlRGVmaW5pdGlvbiwgdGhlIGZoaXJWZXJzaW9uIHN0YXRlZCBpbiB0aGUgU3RydWN0dXJlRGVmaW5pdGlvbiBjYW5ub3QgZGlzYWdyZWUgd2l0aCB0aGUgdmVyc2lvbiBzcGVjaWZpZWQgaGVyZTsgdGhlIHNwZWNpZmllZCB2ZXJzaW9ucyBTSEFMTCBpbmNsdWRlIHRoZSB2ZXJzaW9uIHNwZWNpZmllZCBieSB0aGUgU3RydWN0dXJlRGVmaW5pdGlvbiwgYW5kIG1heSBpbmNsdWRlIGFkZGl0aW9uYWwgdmVyc2lvbnMgdXNpbmcgdGhlIFthcHBsaWNhYmxlLXZlcnNpb25dKGV4dGVuc2lvbi1zdHJ1Y3R1cmVkZWZpbml0aW9uLWFwcGxpY2FibGUtdmVyc2lvbi5odG1sKSBleHRlbnNpb24uXHJcbiAgICovXHJcbiAgZmhpclZlcnNpb24/OiBmaGlyLkZoaXJDb2RlW118c3RyaW5nW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgaHVtYW4gYXNzaWduZWQgbmFtZSBmb3IgdGhlIHJlc291cmNlLiBBbGwgcmVzb3VyY2VzIFNIT1VMRCBoYXZlIGEgbmFtZSwgYnV0IHRoZSBuYW1lIG1heSBiZSBleHRyYWN0ZWQgZnJvbSB0aGUgcmVzb3VyY2UgKGUuZy4gVmFsdWVTZXQubmFtZSkuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgbW9zdGx5IHVzZWQgd2l0aCBleGFtcGxlcyB0byBleHBsYWluIHdoeSBpdCBpcyBwcmVzZW50ICh0aG91Z2ggdGhleSBjYW4gaGF2ZSBleHRlbnNpdmUgY29tbWVudHMgaW4gdGhlIGV4YW1wbGVzKS5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4YW1wbGVzOiBcclxuICAgKiAqIFN0cnVjdHVyZURlZmluaXRpb24gLSZndDsgQW55IFxyXG4gICAqICogVmFsdWVTZXQgLSZndDsgZXhwYW5zaW9uIFxyXG4gICAqICogT3BlcmF0aW9uRGVmaW5pdGlvbiAtJmd0OyBQYXJhbWV0ZXJzIFxyXG4gICAqICogUXVlc3Rpb25uYWlyZSAtJmd0OyBRdWVzdGlvbm5haXJlUmVzcG9uc2UuXHJcbiAgICovXHJcbiAgZXhhbXBsZT86IGZoaXIuRmhpckJvb2xlYW58Zmhpci5GaGlyQ2Fub25pY2FsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlczogXHJcbiAgICogKiBTdHJ1Y3R1cmVEZWZpbml0aW9uIC0mZ3Q7IEFueSBcclxuICAgKiAqIFZhbHVlU2V0IC0mZ3Q7IGV4cGFuc2lvbiBcclxuICAgKiAqIE9wZXJhdGlvbkRlZmluaXRpb24gLSZndDsgUGFyYW1ldGVycyBcclxuICAgKiAqIFF1ZXN0aW9ubmFpcmUgLSZndDsgUXVlc3Rpb25uYWlyZVJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIGV4YW1wbGVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlczogXHJcbiAgICogKiBTdHJ1Y3R1cmVEZWZpbml0aW9uIC0mZ3Q7IEFueSBcclxuICAgKiAqIFZhbHVlU2V0IC0mZ3Q7IGV4cGFuc2lvbiBcclxuICAgKiAqIE9wZXJhdGlvbkRlZmluaXRpb24gLSZndDsgUGFyYW1ldGVycyBcclxuICAgKiAqIFF1ZXN0aW9ubmFpcmUgLSZndDsgUXVlc3Rpb25uYWlyZVJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIGV4YW1wbGVDYW5vbmljYWw/OiBmaGlyLkZoaXJDYW5vbmljYWx8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIG11c3QgY29ycmVzcG9uZCB0byBhIHBhY2thZ2UuaWQgZWxlbWVudCB3aXRoaW4gdGhpcyBpbXBsZW1lbnRhdGlvbiBndWlkZS5cclxuICAgKi9cclxuICBncm91cGluZ0lkPzogZmhpci5GaGlySWR8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVzb3VyY2UgdGhhdCBpcyBwYXJ0IG9mIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZS4gQ29uZm9ybWFuY2UgcmVzb3VyY2VzICh2YWx1ZSBzZXQsIHN0cnVjdHVyZSBkZWZpbml0aW9uLCBjYXBhYmlsaXR5IHN0YXRlbWVudHMgZXRjLikgYXJlIG9idmlvdXMgY2FuZGlkYXRlcyBmb3IgaW5jbHVzaW9uLCBidXQgYW55IGtpbmQgb2YgcmVzb3VyY2UgY2FuIGJlIGluY2x1ZGVkIGFzIGFuIGV4YW1wbGUgcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25SZXNvdXJjZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uUmVzb3VyY2UnO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgdGhpcyBpcyBhIHJlbGF0aXZlIFVSTCB0aGF0IGxvY2F0ZXMgdGhlIHJlc291cmNlIHdpdGhpbiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuIElmIHlvdSBhdXRob3JpbmcgYW4gaW1wbGVtZW50YXRpb24gZ3VpZGUsIGFuZCB3aWxsIHB1Ymxpc2ggaXQgdXNpbmcgdGhlIEZISVIgcHVibGljYXRpb24gdG9vbGluZywgdXNlIGEgVVJJIHRoYXQgbWF5IHBvaW50IHRvIGEgcmVzb3VyY2UsIG9yIHRvIG9uZSBvZiB2YXJpb3VzIGFsdGVybmF0aXZlIHJlcHJlc2VudGF0aW9ucyAoZS5nLiBzcHJlYWRzaGVldCkuIFRoZSB0b29saW5nIHdpbGwgY29udmVydCB0aGlzIHdoZW4gaXQgcHVibGlzaGVzIGl0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlc291cmNlIFNIQUxMIGJlIHZhbGlkIGFnYWluc3QgYWxsIHRoZSB2ZXJzaW9ucyBpdCBpcyBzcGVjaWZpZWQgdG8gYXBwbHkgdG8uIElmIHRoZSByZXNvdXJjZSByZWZlcnJlZCB0byBpcyBhIFN0cnVjdHVyZURlZmluaXRpb24sIHRoZSBmaGlyVmVyc2lvbiBzdGF0ZWQgaW4gdGhlIFN0cnVjdHVyZURlZmluaXRpb24gY2Fubm90IGRpc2FncmVlIHdpdGggdGhlIHZlcnNpb24gc3BlY2lmaWVkIGhlcmU7IHRoZSBzcGVjaWZpZWQgdmVyc2lvbnMgU0hBTEwgaW5jbHVkZSB0aGUgdmVyc2lvbiBzcGVjaWZpZWQgYnkgdGhlIFN0cnVjdHVyZURlZmluaXRpb24sIGFuZCBtYXkgaW5jbHVkZSBhZGRpdGlvbmFsIHZlcnNpb25zIHVzaW5nIHRoZSBbYXBwbGljYWJsZS12ZXJzaW9uXShleHRlbnNpb24tc3RydWN0dXJlZGVmaW5pdGlvbi1hcHBsaWNhYmxlLXZlcnNpb24uaHRtbCkgZXh0ZW5zaW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaGlyVmVyc2lvbjogZmhpci5GaGlyQ29kZVtdO1xyXG4gIC8qKlxyXG4gICAqIEEgaHVtYW4gYXNzaWduZWQgbmFtZSBmb3IgdGhlIHJlc291cmNlLiBBbGwgcmVzb3VyY2VzIFNIT1VMRCBoYXZlIGEgbmFtZSwgYnV0IHRoZSBuYW1lIG1heSBiZSBleHRyYWN0ZWQgZnJvbSB0aGUgcmVzb3VyY2UgKGUuZy4gVmFsdWVTZXQubmFtZSkuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgbW9zdGx5IHVzZWQgd2l0aCBleGFtcGxlcyB0byBleHBsYWluIHdoeSBpdCBpcyBwcmVzZW50ICh0aG91Z2ggdGhleSBjYW4gaGF2ZSBleHRlbnNpdmUgY29tbWVudHMgaW4gdGhlIGV4YW1wbGVzKS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4YW1wbGVzOiBcclxuICAgKiAqIFN0cnVjdHVyZURlZmluaXRpb24gLSZndDsgQW55IFxyXG4gICAqICogVmFsdWVTZXQgLSZndDsgZXhwYW5zaW9uIFxyXG4gICAqICogT3BlcmF0aW9uRGVmaW5pdGlvbiAtJmd0OyBQYXJhbWV0ZXJzIFxyXG4gICAqICogUXVlc3Rpb25uYWlyZSAtJmd0OyBRdWVzdGlvbm5haXJlUmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcHVibGljIGV4YW1wbGU/OiAoZmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJDYW5vbmljYWwpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEltcGxlbWVudGF0aW9uR3VpZGUuZGVmaW5pdGlvbi5yZXNvdXJjZS5leGFtcGxlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2V4YW1wbGVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGlzIG11c3QgY29ycmVzcG9uZCB0byBhIHBhY2thZ2UuaWQgZWxlbWVudCB3aXRoaW4gdGhpcyBpbXBsZW1lbnRhdGlvbiBndWlkZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ3JvdXBpbmdJZD86IGZoaXIuRmhpcklkfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblJlc291cmNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25SZXNvdXJjZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2UnXSkgeyB0aGlzLnJlZmVyZW5jZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVmZXJlbmNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVmZXJlbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmhpclZlcnNpb24nXSkgeyB0aGlzLmZoaXJWZXJzaW9uID0gc291cmNlLmZoaXJWZXJzaW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5maGlyVmVyc2lvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhhbXBsZSddKSB7IHRoaXMuZXhhbXBsZSA9IHNvdXJjZS5leGFtcGxlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2V4YW1wbGVCb29sZWFuJ10pIHsgdGhpcy5leGFtcGxlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuZXhhbXBsZUJvb2xlYW59KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydleGFtcGxlQ2Fub25pY2FsJ10pIHsgdGhpcy5leGFtcGxlID0gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHNvdXJjZS5leGFtcGxlQ2Fub25pY2FsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2dyb3VwaW5nSWQnXSkgeyB0aGlzLmdyb3VwaW5nSWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2UuZ3JvdXBpbmdJZH0pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgZmhpclZlcnNpb24gKEltcGxlbWVudGF0aW9uR3VpZGUuZGVmaW5pdGlvbi5yZXNvdXJjZS5maGlyVmVyc2lvbilcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBmaGlyVmVyc2lvblJlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gRkhJUlZlcnNpb25Db2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVmZXJlbmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlZmVyZW5jZTpmaGlyLlJlZmVyZW5jZSBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLmRlZmluaXRpb24ucmVzb3VyY2UucmVmZXJlbmNlOlJlZmVyZW5jZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInJlZmVyZW5jZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlZmVyZW5jZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbJ2ZoaXJWZXJzaW9uJ10pIHtcclxuICAgICAgdGhpcy5maGlyVmVyc2lvbi5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKEZISVJWZXJzaW9uQ29kZXMpLmluY2x1ZGVzKHYgYXMgYW55KSkge1xyXG4gICAgICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ2NvZGUtaW52YWxpZCcsIGRpYWdub3N0aWNzOiAnSW52YWxpZCBjb2RlIHByb3BlcnR5IGZoaXJWZXJzaW9uPzpmaGlyLkZoaXJDb2RlW10gZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnJlc291cmNlLmZoaXJWZXJzaW9uOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogRkhJUlZlcnNpb24nIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImZoaXJWZXJzaW9uXCJdKSB7IHRoaXMuZmhpclZlcnNpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uYW1lLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRlc2NyaXB0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVzY3JpcHRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZ3JvdXBpbmdJZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmdyb3VwaW5nSWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblBhZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25QYWdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHB1Ymxpc2hpbmcgdG9vbCB3aWxsIGF1dG9nZW5lcmF0ZSBzb3VyY2UgZm9yIGxpc3QgKHNvdXJjZSA9IG4vYSkgYW5kIGluamVjdCBpbmNsdWRlZCBpbXBsZW1lbnRhdGlvbnMgZm9yIGluY2x1ZGUgKHNvdXJjZSA9IHVyaSBvZiBndWlkZSB0byBpbmNsdWRlKS5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyVXJsfGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHVibGlzaGluZyB0b29sIHdpbGwgYXV0b2dlbmVyYXRlIHNvdXJjZSBmb3IgbGlzdCAoc291cmNlID0gbi9hKSBhbmQgaW5qZWN0IGluY2x1ZGVkIGltcGxlbWVudGF0aW9ucyBmb3IgaW5jbHVkZSAoc291cmNlID0gdXJpIG9mIGd1aWRlIHRvIGluY2x1ZGUpLlxyXG4gICAqL1xyXG4gIG5hbWVVcmw/OiBmaGlyLkZoaXJVcmx8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHVibGlzaGluZyB0b29sIHdpbGwgYXV0b2dlbmVyYXRlIHNvdXJjZSBmb3IgbGlzdCAoc291cmNlID0gbi9hKSBhbmQgaW5qZWN0IGluY2x1ZGVkIGltcGxlbWVudGF0aW9ucyBmb3IgaW5jbHVkZSAoc291cmNlID0gdXJpIG9mIGd1aWRlIHRvIGluY2x1ZGUpLlxyXG4gICAqL1xyXG4gIG5hbWVSZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc2hvcnQgdGl0bGUgdXNlZCB0byByZXByZXNlbnQgdGhpcyBwYWdlIGluIG5hdmlnYXRpb25hbCBzdHJ1Y3R1cmVzIHN1Y2ggYXMgdGFibGUgb2YgY29udGVudHMsIGJyZWFkIGNydW1icywgZXRjLlxyXG4gICAqL1xyXG4gIHRpdGxlOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBpbmRpY2F0ZXMgaG93IHRoZSBwYWdlIGlzIGdlbmVyYXRlZC5cclxuICAgKi9cclxuICBnZW5lcmF0aW9uOiBmaGlyLkZoaXJDb2RlPEd1aWRlUGFnZUdlbmVyYXRpb25Db2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW1wbGVtZW50YXRpb24gZ3VpZGUgYnJlYWRjcnVtYnMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoaXMgc3RydWN0dXJlLlxyXG4gICAqL1xyXG4gIHBhZ2U/OiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uUGFnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYWdlcyBhdXRvbWF0aWNhbGx5IGJlY29tZSBzZWN0aW9ucyBpZiB0aGV5IGhhdmUgc3ViLXBhZ2VzLiBCeSBjb252ZW50aW9uLCB0aGUgaG9tZSBwYWdlIGlzIGNhbGxlZCBpbmRleC5odG1sLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uUGFnZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uUGFnZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHB1Ymxpc2hpbmcgdG9vbCB3aWxsIGF1dG9nZW5lcmF0ZSBzb3VyY2UgZm9yIGxpc3QgKHNvdXJjZSA9IG4vYSkgYW5kIGluamVjdCBpbmNsdWRlZCBpbXBsZW1lbnRhdGlvbnMgZm9yIGluY2x1ZGUgKHNvdXJjZSA9IHVyaSBvZiBndWlkZSB0byBpbmNsdWRlKS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZTogKGZoaXIuRmhpclVybHxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEltcGxlbWVudGF0aW9uR3VpZGUuZGVmaW5pdGlvbi5wYWdlLm5hbWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfbmFtZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEEgc2hvcnQgdGl0bGUgdXNlZCB0byByZXByZXNlbnQgdGhpcyBwYWdlIGluIG5hdmlnYXRpb25hbCBzdHJ1Y3R1cmVzIHN1Y2ggYXMgdGFibGUgb2YgY29udGVudHMsIGJyZWFkIGNydW1icywgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aXRsZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgaW5kaWNhdGVzIGhvdyB0aGUgcGFnZSBpcyBnZW5lcmF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGdlbmVyYXRpb246IGZoaXIuRmhpckNvZGU8R3VpZGVQYWdlR2VuZXJhdGlvbkNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSBicmVhZGNydW1icyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhpcyBzdHJ1Y3R1cmUuXHJcbiAgICovXHJcbiAgcHVibGljIHBhZ2U6IGZoaXIuSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25QYWdlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25QYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25QYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBzb3VyY2UubmFtZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyduYW1lVXJsJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclVybCh7dmFsdWU6IHNvdXJjZS5uYW1lVXJsfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnbmFtZVJlZmVyZW5jZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubmFtZVJlZmVyZW5jZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd0aXRsZSddKSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRpdGxlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRpdGxlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZ2VuZXJhdGlvbiddKSB7IHRoaXMuZ2VuZXJhdGlvbiA9IG5ldyBmaGlyLkZoaXJDb2RlPEd1aWRlUGFnZUdlbmVyYXRpb25Db2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuZ2VuZXJhdGlvbn0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5nZW5lcmF0aW9uID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFnZSddKSB7IHRoaXMucGFnZSA9IHNvdXJjZS5wYWdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25QYWdlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFnZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgZ2VuZXJhdGlvbiAoSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnBhZ2UuZ2VuZXJhdGlvbilcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBnZW5lcmF0aW9uUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBHdWlkZVBhZ2VHZW5lcmF0aW9uQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ25hbWUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgbmFtZTogZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnBhZ2UubmFtZVt4XTonIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzWyd0aXRsZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0aXRsZTpmaGlyLkZoaXJTdHJpbmcgZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnBhZ2UudGl0bGU6c3RyaW5nJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widGl0bGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50aXRsZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydnZW5lcmF0aW9uJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGdlbmVyYXRpb246Zmhpci5GaGlyQ29kZTxHdWlkZVBhZ2VHZW5lcmF0aW9uQ29kZVR5cGU+IGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUuZGVmaW5pdGlvbi5wYWdlLmdlbmVyYXRpb246Y29kZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1snZ2VuZXJhdGlvbiddICYmICghT2JqZWN0LnZhbHVlcyhHdWlkZVBhZ2VHZW5lcmF0aW9uQ29kZXMpLmluY2x1ZGVzKHRoaXMuZ2VuZXJhdGlvbiBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgZ2VuZXJhdGlvbjpmaGlyLkZoaXJDb2RlPEd1aWRlUGFnZUdlbmVyYXRpb25Db2RlVHlwZT4gZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnBhZ2UuZ2VuZXJhdGlvbjpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IEd1aWRlUGFnZUdlbmVyYXRpb24nIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJnZW5lcmF0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZ2VuZXJhdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwYWdlXCJdKSB7IHRoaXMucGFnZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblBhcmFtZXRlciB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblBhcmFtZXRlckFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIGFwcGx5IHwgcGF0aC1yZXNvdXJjZSB8IHBhdGgtcGFnZXMgfCBwYXRoLXR4LWNhY2hlIHwgZXhwYW5zaW9uLXBhcmFtZXRlciB8IHJ1bGUtYnJva2VuLWxpbmtzIHwgZ2VuZXJhdGUteG1sIHwgZ2VuZXJhdGUtanNvbiB8IGdlbmVyYXRlLXR1cnRsZSB8IGh0bWwtdGVtcGxhdGUuXHJcbiAgICovXHJcbiAgY29kZTogZmhpci5GaGlyQ29kZTxHdWlkZVBhcmFtZXRlckNvZGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBWYWx1ZSBmb3IgbmFtZWQgdHlwZS5cclxuICAgKi9cclxuICB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIGhvdyBJRyBpcyBidWlsdCBieSB0b29scy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblBhcmFtZXRlciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uUGFyYW1ldGVyJztcclxuICAvKipcclxuICAgKiBhcHBseSB8IHBhdGgtcmVzb3VyY2UgfCBwYXRoLXBhZ2VzIHwgcGF0aC10eC1jYWNoZSB8IGV4cGFuc2lvbi1wYXJhbWV0ZXIgfCBydWxlLWJyb2tlbi1saW5rcyB8IGdlbmVyYXRlLXhtbCB8IGdlbmVyYXRlLWpzb24gfCBnZW5lcmF0ZS10dXJ0bGUgfCBodG1sLXRlbXBsYXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLkZoaXJDb2RlPEd1aWRlUGFyYW1ldGVyQ29kZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFZhbHVlIGZvciBuYW1lZCB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25QYXJhbWV0ZXIgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblBhcmFtZXRlckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8R3VpZGVQYXJhbWV0ZXJDb2RlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmNvZGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmFsdWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsdWUgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgY29kZSAoSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnBhcmFtZXRlci5jb2RlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IGNvZGVSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIEd1aWRlUGFyYW1ldGVyQ29kZUNvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydjb2RlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGNvZGU6Zmhpci5GaGlyQ29kZTxHdWlkZVBhcmFtZXRlckNvZGVDb2RlVHlwZT4gZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnBhcmFtZXRlci5jb2RlOmNvZGUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbJ2NvZGUnXSAmJiAoIU9iamVjdC52YWx1ZXMoR3VpZGVQYXJhbWV0ZXJDb2RlQ29kZXMpLmluY2x1ZGVzKHRoaXMuY29kZSBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgY29kZTpmaGlyLkZoaXJDb2RlPEd1aWRlUGFyYW1ldGVyQ29kZUNvZGVUeXBlPiBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLmRlZmluaXRpb24ucGFyYW1ldGVyLmNvZGU6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBHdWlkZVBhcmFtZXRlckNvZGUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJjb2RlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29kZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd2YWx1ZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB2YWx1ZTpmaGlyLkZoaXJTdHJpbmcgZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnBhcmFtZXRlci52YWx1ZTpzdHJpbmcnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ2YWx1ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZhbHVlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25UZW1wbGF0ZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblRlbXBsYXRlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiB0ZW1wbGF0ZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgY29kZTogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzb3VyY2UgbG9jYXRpb24gZm9yIHRoZSB0ZW1wbGF0ZS5cclxuICAgKi9cclxuICBzb3VyY2U6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzY29wZSBpbiB3aGljaCB0aGUgdGVtcGxhdGUgYXBwbGllcy5cclxuICAgKi9cclxuICBzY29wZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSB0ZW1wbGF0ZSBmb3IgYnVpbGRpbmcgcmVzb3VyY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uVGVtcGxhdGUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblRlbXBsYXRlJztcclxuICAvKipcclxuICAgKiBUeXBlIG9mIHRlbXBsYXRlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5GaGlyQ29kZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzb3VyY2UgbG9jYXRpb24gZm9yIHRoZSB0ZW1wbGF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgc2NvcGUgaW4gd2hpY2ggdGhlIHRlbXBsYXRlIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHNjb3BlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblRlbXBsYXRlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25UZW1wbGF0ZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuY29kZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlJ10pIHsgdGhpcy5zb3VyY2UgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnNvdXJjZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zb3VyY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzY29wZSddKSB7IHRoaXMuc2NvcGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnNjb3BlfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snY29kZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBjb2RlOmZoaXIuRmhpckNvZGUgZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnRlbXBsYXRlLmNvZGU6Y29kZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImNvZGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jb2RlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3NvdXJjZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzb3VyY2U6Zmhpci5GaGlyU3RyaW5nIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUuZGVmaW5pdGlvbi50ZW1wbGF0ZS5zb3VyY2U6c3RyaW5nJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic291cmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc291cmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInNjb3BlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc2NvcGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEdyb3VwaW5ncyBhcmUgYXJiaXRyYXJ5IHN1Yi1kaXZpc2lvbnMgb2YgY29udGVudC4gVHlwaWNhbGx5LCB0aGV5IGFyZSB1c2VkIHRvIGhlbHAgYnVpbGQgVGFibGUgb2YgQ29udGVudHMgYXV0b21hdGljYWxseS5cclxuICAgKi9cclxuICBncm91cGluZz86IGZoaXIuSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25Hcm91cGluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZXNvdXJjZSB0aGF0IGlzIHBhcnQgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLiBDb25mb3JtYW5jZSByZXNvdXJjZXMgKHZhbHVlIHNldCwgc3RydWN0dXJlIGRlZmluaXRpb24sIGNhcGFiaWxpdHkgc3RhdGVtZW50cyBldGMuKSBhcmUgb2J2aW91cyBjYW5kaWRhdGVzIGZvciBpbmNsdXNpb24sIGJ1dCBhbnkga2luZCBvZiByZXNvdXJjZSBjYW4gYmUgaW5jbHVkZWQgYXMgYW4gZXhhbXBsZSByZXNvdXJjZS5cclxuICAgKi9cclxuICByZXNvdXJjZTogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblJlc291cmNlQXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUGFnZXMgYXV0b21hdGljYWxseSBiZWNvbWUgc2VjdGlvbnMgaWYgdGhleSBoYXZlIHN1Yi1wYWdlcy4gQnkgY29udmVudGlvbiwgdGhlIGhvbWUgcGFnZSBpcyBjYWxsZWQgaW5kZXguaHRtbC5cclxuICAgKi9cclxuICBwYWdlPzogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblBhZ2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZpbmVzIGhvdyBJRyBpcyBidWlsdCBieSB0b29scy5cclxuICAgKi9cclxuICBwYXJhbWV0ZXI/OiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uUGFyYW1ldGVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHRlbXBsYXRlIGZvciBidWlsZGluZyByZXNvdXJjZXMuXHJcbiAgICovXHJcbiAgdGVtcGxhdGU/OiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uVGVtcGxhdGVBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogUHJpbmNpcGFsbHksIHRoaXMgY29uc2lzdHMgb2YgaW5mb3JtYXRpb24gYWJ1b3Qgc291cmNlIHJlc291cmNlIGFuZCBmaWxlIGxvY2F0aW9ucywgYW5kIGJ1aWxkIHBhcmFtZXRlcnMgYW5kIHRlbXBsYXRlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uJztcclxuICAvKipcclxuICAgKiBHcm91cGluZ3MgYXJlIGFyYml0cmFyeSBzdWItZGl2aXNpb25zIG9mIGNvbnRlbnQuIFR5cGljYWxseSwgdGhleSBhcmUgdXNlZCB0byBoZWxwIGJ1aWxkIFRhYmxlIG9mIENvbnRlbnRzIGF1dG9tYXRpY2FsbHkuXHJcbiAgICovXHJcbiAgcHVibGljIGdyb3VwaW5nOiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uR3JvdXBpbmdbXTtcclxuICAvKipcclxuICAgKiBBIHJlc291cmNlIHRoYXQgaXMgcGFydCBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuIENvbmZvcm1hbmNlIHJlc291cmNlcyAodmFsdWUgc2V0LCBzdHJ1Y3R1cmUgZGVmaW5pdGlvbiwgY2FwYWJpbGl0eSBzdGF0ZW1lbnRzIGV0Yy4pIGFyZSBvYnZpb3VzIGNhbmRpZGF0ZXMgZm9yIGluY2x1c2lvbiwgYnV0IGFueSBraW5kIG9mIHJlc291cmNlIGNhbiBiZSBpbmNsdWRlZCBhcyBhbiBleGFtcGxlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNvdXJjZTogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblJlc291cmNlW107XHJcbiAgLyoqXHJcbiAgICogUGFnZXMgYXV0b21hdGljYWxseSBiZWNvbWUgc2VjdGlvbnMgaWYgdGhleSBoYXZlIHN1Yi1wYWdlcy4gQnkgY29udmVudGlvbiwgdGhlIGhvbWUgcGFnZSBpcyBjYWxsZWQgaW5kZXguaHRtbC5cclxuICAgKi9cclxuICBwdWJsaWMgcGFnZT86IGZoaXIuSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25QYWdlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZpbmVzIGhvdyBJRyBpcyBidWlsdCBieSB0b29scy5cclxuICAgKi9cclxuICBwdWJsaWMgcGFyYW1ldGVyOiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uUGFyYW1ldGVyW107XHJcbiAgLyoqXHJcbiAgICogQSB0ZW1wbGF0ZSBmb3IgYnVpbGRpbmcgcmVzb3VyY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZW1wbGF0ZTogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblRlbXBsYXRlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydncm91cGluZyddKSB7IHRoaXMuZ3JvdXBpbmcgPSBzb3VyY2UuZ3JvdXBpbmcubWFwKCh4KSA9PiBuZXcgZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbkdyb3VwaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZ3JvdXBpbmcgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzb3VyY2UnXSkgeyB0aGlzLnJlc291cmNlID0gc291cmNlLnJlc291cmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25SZXNvdXJjZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlc291cmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhZ2UnXSkgeyB0aGlzLnBhZ2UgPSBuZXcgZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblBhZ2Uoc291cmNlLnBhZ2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJhbWV0ZXInXSkgeyB0aGlzLnBhcmFtZXRlciA9IHNvdXJjZS5wYXJhbWV0ZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblBhcmFtZXRlcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcmFtZXRlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0ZW1wbGF0ZSddKSB7IHRoaXMudGVtcGxhdGUgPSBzb3VyY2UudGVtcGxhdGUubWFwKCh4KSA9PiBuZXcgZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblRlbXBsYXRlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGVtcGxhdGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJncm91cGluZ1wiXSkgeyB0aGlzLmdyb3VwaW5nLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZXNvdXJjZTpmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uUmVzb3VyY2VbXSBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLmRlZmluaXRpb24ucmVzb3VyY2U6cmVzb3VyY2UnIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnJlc291cmNlKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnc3RydWN0dXJlJywgZGlhZ25vc3RpY3M6ICdGb3VuZCBzY2FsYXIgaW4gYXJyYXkgcHJvcGVydHkgcmVzb3VyY2U6Zmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvblJlc291cmNlW10gZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5kZWZpbml0aW9uLnJlc291cmNlOnJlc291cmNlJyB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5yZXNvdXJjZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlOmZoaXIuSW1wbGVtZW50YXRpb25HdWlkZURlZmluaXRpb25SZXNvdXJjZVtdIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUuZGVmaW5pdGlvbi5yZXNvdXJjZTpyZXNvdXJjZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInJlc291cmNlXCJdKSB7IHRoaXMucmVzb3VyY2UuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInBhZ2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYWdlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBhcmFtZXRlclwiXSkgeyB0aGlzLnBhcmFtZXRlci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widGVtcGxhdGVcIl0pIHsgdGhpcy50ZW1wbGF0ZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RSZXNvdXJjZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RSZXNvdXJjZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgdGhpcyBpcyBhIHJlbGF0aXZlIFVSTCB0aGF0IGxvY2F0ZXMgdGhlIHJlc291cmNlIHdpdGhpbiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuIElmIHlvdSBhdXRob3JpbmcgYW4gaW1wbGVtZW50YXRpb24gZ3VpZGUsIGFuZCB3aWxsIHB1Ymxpc2ggaXQgdXNpbmcgdGhlIEZISVIgcHVibGljYXRpb24gdG9vbGluZywgdXNlIGEgVVJJIHRoYXQgbWF5IHBvaW50IHRvIGEgcmVzb3VyY2UsIG9yIHRvIG9uZSBvZiB2YXJpb3VzIGFsdGVybmF0aXZlIHJlcHJlc2VudGF0aW9ucyAoZS5nLiBzcHJlYWRzaGVldCkuIFRoZSB0b29saW5nIHdpbGwgY29udmVydCB0aGlzIHdoZW4gaXQgcHVibGlzaGVzIGl0LlxyXG4gICAqL1xyXG4gIHJlZmVyZW5jZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCBjb25mb3JtYW5jZSByZXNvdXJjZXMgYW5kIGtub3dsZWRnZSByZXNvdXJjZXMgYXJlIGRpcmVjdGx5IHBhcnQgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLCB3aXRoIHRoZWlyIG5vcm1hbCBtZWFuaW5nLCBhbmQgcGF0aWVudCBsaW5rZWQgcmVzb3VyY2VzIGFyZSB1c3VhbGx5IGV4YW1wbGVzLiBIb3dldmVyIHRoaXMgaXMgbm90IGFsd2F5cyB0cnVlLlxyXG4gICAqL1xyXG4gIGV4YW1wbGU/OiBmaGlyLkZoaXJCb29sZWFufGZoaXIuRmhpckNhbm9uaWNhbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCBjb25mb3JtYW5jZSByZXNvdXJjZXMgYW5kIGtub3dsZWRnZSByZXNvdXJjZXMgYXJlIGRpcmVjdGx5IHBhcnQgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLCB3aXRoIHRoZWlyIG5vcm1hbCBtZWFuaW5nLCBhbmQgcGF0aWVudCBsaW5rZWQgcmVzb3VyY2VzIGFyZSB1c3VhbGx5IGV4YW1wbGVzLiBIb3dldmVyIHRoaXMgaXMgbm90IGFsd2F5cyB0cnVlLlxyXG4gICAqL1xyXG4gIGV4YW1wbGVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHksIGNvbmZvcm1hbmNlIHJlc291cmNlcyBhbmQga25vd2xlZGdlIHJlc291cmNlcyBhcmUgZGlyZWN0bHkgcGFydCBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUsIHdpdGggdGhlaXIgbm9ybWFsIG1lYW5pbmcsIGFuZCBwYXRpZW50IGxpbmtlZCByZXNvdXJjZXMgYXJlIHVzdWFsbHkgZXhhbXBsZXMuIEhvd2V2ZXIgdGhpcyBpcyBub3QgYWx3YXlzIHRydWUuXHJcbiAgICovXHJcbiAgZXhhbXBsZUNhbm9uaWNhbD86IGZoaXIuRmhpckNhbm9uaWNhbHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFwcGVuZGluZyAncmVuZGVyaW5nJyArIFwiL1wiICsgdGhpcyBzaG91bGQgcmVzb2x2ZSB0byB0aGUgcmVzb3VyY2UgcGFnZS5cclxuICAgKi9cclxuICByZWxhdGl2ZVBhdGg/OiBmaGlyLkZoaXJVcmx8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVzb3VyY2UgdGhhdCBpcyBwYXJ0IG9mIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZS4gQ29uZm9ybWFuY2UgcmVzb3VyY2VzICh2YWx1ZSBzZXQsIHN0cnVjdHVyZSBkZWZpbml0aW9uLCBjYXBhYmlsaXR5IHN0YXRlbWVudHMgZXRjLikgYXJlIG9idmlvdXMgY2FuZGlkYXRlcyBmb3IgaW5jbHVzaW9uLCBidXQgYW55IGtpbmQgb2YgcmVzb3VyY2UgY2FuIGJlIGluY2x1ZGVkIGFzIGFuIGV4YW1wbGUgcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW1wbGVtZW50YXRpb25HdWlkZU1hbmlmZXN0UmVzb3VyY2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RSZXNvdXJjZSc7XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSB0aGlzIGlzIGEgcmVsYXRpdmUgVVJMIHRoYXQgbG9jYXRlcyB0aGUgcmVzb3VyY2Ugd2l0aGluIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZS4gSWYgeW91IGF1dGhvcmluZyBhbiBpbXBsZW1lbnRhdGlvbiBndWlkZSwgYW5kIHdpbGwgcHVibGlzaCBpdCB1c2luZyB0aGUgRkhJUiBwdWJsaWNhdGlvbiB0b29saW5nLCB1c2UgYSBVUkkgdGhhdCBtYXkgcG9pbnQgdG8gYSByZXNvdXJjZSwgb3IgdG8gb25lIG9mIHZhcmlvdXMgYWx0ZXJuYXRpdmUgcmVwcmVzZW50YXRpb25zIChlLmcuIHNwcmVhZHNoZWV0KS4gVGhlIHRvb2xpbmcgd2lsbCBjb252ZXJ0IHRoaXMgd2hlbiBpdCBwdWJsaXNoZXMgaXQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZTogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHksIGNvbmZvcm1hbmNlIHJlc291cmNlcyBhbmQga25vd2xlZGdlIHJlc291cmNlcyBhcmUgZGlyZWN0bHkgcGFydCBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUsIHdpdGggdGhlaXIgbm9ybWFsIG1lYW5pbmcsIGFuZCBwYXRpZW50IGxpbmtlZCByZXNvdXJjZXMgYXJlIHVzdWFsbHkgZXhhbXBsZXMuIEhvd2V2ZXIgdGhpcyBpcyBub3QgYWx3YXlzIHRydWUuXHJcbiAgICovXHJcbiAgcHVibGljIGV4YW1wbGU/OiAoZmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJDYW5vbmljYWwpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEltcGxlbWVudGF0aW9uR3VpZGUubWFuaWZlc3QucmVzb3VyY2UuZXhhbXBsZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19leGFtcGxlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogQXBwZW5kaW5nICdyZW5kZXJpbmcnICsgXCIvXCIgKyB0aGlzIHNob3VsZCByZXNvbHZlIHRvIHRoZSByZXNvdXJjZSBwYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGl2ZVBhdGg/OiBmaGlyLkZoaXJVcmx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEltcGxlbWVudGF0aW9uR3VpZGVNYW5pZmVzdFJlc291cmNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SW1wbGVtZW50YXRpb25HdWlkZU1hbmlmZXN0UmVzb3VyY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlJ10pIHsgdGhpcy5yZWZlcmVuY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZmVyZW5jZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZmVyZW5jZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2V4YW1wbGUnXSkgeyB0aGlzLmV4YW1wbGUgPSBzb3VyY2UuZXhhbXBsZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydleGFtcGxlQm9vbGVhbiddKSB7IHRoaXMuZXhhbXBsZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmV4YW1wbGVCb29sZWFufSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZXhhbXBsZUNhbm9uaWNhbCddKSB7IHRoaXMuZXhhbXBsZSA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiBzb3VyY2UuZXhhbXBsZUNhbm9uaWNhbH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGl2ZVBhdGgnXSkgeyB0aGlzLnJlbGF0aXZlUGF0aCA9IG5ldyBmaGlyLkZoaXJVcmwoe3ZhbHVlOiBzb3VyY2UucmVsYXRpdmVQYXRofSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVmZXJlbmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlZmVyZW5jZTpmaGlyLlJlZmVyZW5jZSBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLm1hbmlmZXN0LnJlc291cmNlLnJlZmVyZW5jZTpSZWZlcmVuY2UnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJyZWZlcmVuY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZWZlcmVuY2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVsYXRpdmVQYXRoXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVsYXRpdmVQYXRoLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1wbGVtZW50YXRpb25HdWlkZU1hbmlmZXN0UGFnZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RQYWdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQXBwZW5kaW5nICdyZW5kZXJpbmcnICsgXCIvXCIgKyB0aGlzIHNob3VsZCByZXNvbHZlIHRvIHRoZSBwYWdlLlxyXG4gICAqL1xyXG4gIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExhYmVsIGZvciB0aGUgcGFnZSBpbnRlbmRlZCBmb3IgaHVtYW4gZGlzcGxheS5cclxuICAgKi9cclxuICB0aXRsZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFwcGVuZGluZyAncmVuZGVyaW5nJyArIFwiL1wiICsgcGFnZS5uYW1lICsgXCIjXCIgKyBwYWdlLmFuY2hvciBzaG91bGQgcmVzb2x2ZSB0byB0aGUgYW5jaG9yLlxyXG4gICAqL1xyXG4gIGFuY2hvcj86IGZoaXIuRmhpclN0cmluZ1tdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZm9ybWF0aW9uIGFib3V0IGEgcGFnZSB3aXRoaW4gdGhlIElHLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEltcGxlbWVudGF0aW9uR3VpZGVNYW5pZmVzdFBhZ2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RQYWdlJztcclxuICAvKipcclxuICAgKiBBcHBlbmRpbmcgJ3JlbmRlcmluZycgKyBcIi9cIiArIHRoaXMgc2hvdWxkIHJlc29sdmUgdG8gdGhlIHBhZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIExhYmVsIGZvciB0aGUgcGFnZSBpbnRlbmRlZCBmb3IgaHVtYW4gZGlzcGxheS5cclxuICAgKi9cclxuICBwdWJsaWMgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFwcGVuZGluZyAncmVuZGVyaW5nJyArIFwiL1wiICsgcGFnZS5uYW1lICsgXCIjXCIgKyBwYWdlLmFuY2hvciBzaG91bGQgcmVzb2x2ZSB0byB0aGUgYW5jaG9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbmNob3I6IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEltcGxlbWVudGF0aW9uR3VpZGVNYW5pZmVzdFBhZ2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RQYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubmFtZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RpdGxlJ10pIHsgdGhpcy50aXRsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudGl0bGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW5jaG9yJ10pIHsgdGhpcy5hbmNob3IgPSBzb3VyY2UuYW5jaG9yLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFuY2hvciA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ25hbWUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgbmFtZTpmaGlyLkZoaXJTdHJpbmcgZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5tYW5pZmVzdC5wYWdlLm5hbWU6c3RyaW5nJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widGl0bGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50aXRsZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJhbmNob3JcIl0pIHsgdGhpcy5hbmNob3IuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1wbGVtZW50YXRpb25HdWlkZU1hbmlmZXN0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEltcGxlbWVudGF0aW9uR3VpZGVNYW5pZmVzdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgcG9pbnRlciB0byBvZmZpY2lhbCB3ZWIgcGFnZSwgUERGIG9yIG90aGVyIHJlbmRlcmluZyBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuXHJcbiAgICovXHJcbiAgcmVuZGVyaW5nPzogZmhpci5GaGlyVXJsfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZXNvdXJjZSB0aGF0IGlzIHBhcnQgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLiBDb25mb3JtYW5jZSByZXNvdXJjZXMgKHZhbHVlIHNldCwgc3RydWN0dXJlIGRlZmluaXRpb24sIGNhcGFiaWxpdHkgc3RhdGVtZW50cyBldGMuKSBhcmUgb2J2aW91cyBjYW5kaWRhdGVzIGZvciBpbmNsdXNpb24sIGJ1dCBhbnkga2luZCBvZiByZXNvdXJjZSBjYW4gYmUgaW5jbHVkZWQgYXMgYW4gZXhhbXBsZSByZXNvdXJjZS5cclxuICAgKi9cclxuICByZXNvdXJjZTogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RSZXNvdXJjZUFyZ3NbXXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IGEgcGFnZSB3aXRoaW4gdGhlIElHLlxyXG4gICAqL1xyXG4gIHBhZ2U/OiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVNYW5pZmVzdFBhZ2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyBhIHJlbGF0aXZlIHBhdGggdG8gYW4gaW1hZ2UgdGhhdCBleGlzdHMgd2l0aGluIHRoZSBJRy5cclxuICAgKi9cclxuICBpbWFnZT86IGZoaXIuRmhpclN0cmluZ1tdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHJlbGF0aXZlIHBhdGggb2YgYW4gYWRkaXRpb25hbCBub24tcGFnZSwgbm9uLWltYWdlIGZpbGUgdGhhdCBpcyBwYXJ0IG9mIHRoZSBJRyAtIGUuZy4gemlwLCBqYXIgYW5kIHNpbWlsYXIgZmlsZXMgdGhhdCBjb3VsZCBiZSB0aGUgdGFyZ2V0IG9mIGEgaHlwZXJsaW5rIGluIGEgZGVyaXZlZCBJRy5cclxuICAgKi9cclxuICBvdGhlcj86IGZoaXIuRmhpclN0cmluZ1tdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZm9ybWF0aW9uIGFib3V0IGFuIGFzc2VtYmxlZCBpbXBsZW1lbnRhdGlvbiBndWlkZSwgY3JlYXRlZCBieSB0aGUgcHVibGljYXRpb24gdG9vbGluZy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3QgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3QnO1xyXG4gIC8qKlxyXG4gICAqIEEgcG9pbnRlciB0byBvZmZpY2lhbCB3ZWIgcGFnZSwgUERGIG9yIG90aGVyIHJlbmRlcmluZyBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHJlbmRlcmluZz86IGZoaXIuRmhpclVybHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZXNvdXJjZSB0aGF0IGlzIHBhcnQgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLiBDb25mb3JtYW5jZSByZXNvdXJjZXMgKHZhbHVlIHNldCwgc3RydWN0dXJlIGRlZmluaXRpb24sIGNhcGFiaWxpdHkgc3RhdGVtZW50cyBldGMuKSBhcmUgb2J2aW91cyBjYW5kaWRhdGVzIGZvciBpbmNsdXNpb24sIGJ1dCBhbnkga2luZCBvZiByZXNvdXJjZSBjYW4gYmUgaW5jbHVkZWQgYXMgYW4gZXhhbXBsZSByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVzb3VyY2U6IGZoaXIuSW1wbGVtZW50YXRpb25HdWlkZU1hbmlmZXN0UmVzb3VyY2VbXTtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCBhIHBhZ2Ugd2l0aGluIHRoZSBJRy5cclxuICAgKi9cclxuICBwdWJsaWMgcGFnZTogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RQYWdlW107XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIGEgcmVsYXRpdmUgcGF0aCB0byBhbiBpbWFnZSB0aGF0IGV4aXN0cyB3aXRoaW4gdGhlIElHLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbWFnZTogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSByZWxhdGl2ZSBwYXRoIG9mIGFuIGFkZGl0aW9uYWwgbm9uLXBhZ2UsIG5vbi1pbWFnZSBmaWxlIHRoYXQgaXMgcGFydCBvZiB0aGUgSUcgLSBlLmcuIHppcCwgamFyIGFuZCBzaW1pbGFyIGZpbGVzIHRoYXQgY291bGQgYmUgdGhlIHRhcmdldCBvZiBhIGh5cGVybGluayBpbiBhIGRlcml2ZWQgSUcuXHJcbiAgICovXHJcbiAgcHVibGljIG90aGVyOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3QgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncmVuZGVyaW5nJ10pIHsgdGhpcy5yZW5kZXJpbmcgPSBuZXcgZmhpci5GaGlyVXJsKHt2YWx1ZTogc291cmNlLnJlbmRlcmluZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXNvdXJjZSddKSB7IHRoaXMucmVzb3VyY2UgPSBzb3VyY2UucmVzb3VyY2UubWFwKCh4KSA9PiBuZXcgZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RSZXNvdXJjZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlc291cmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhZ2UnXSkgeyB0aGlzLnBhZ2UgPSBzb3VyY2UucGFnZS5tYXAoKHgpID0+IG5ldyBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVNYW5pZmVzdFBhZ2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYWdlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2ltYWdlJ10pIHsgdGhpcy5pbWFnZSA9IHNvdXJjZS5pbWFnZS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbWFnZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvdGhlciddKSB7IHRoaXMub3RoZXIgPSBzb3VyY2Uub3RoZXIubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3RoZXIgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJyZW5kZXJpbmdcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZW5kZXJpbmcuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sncmVzb3VyY2UnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2U6Zmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RSZXNvdXJjZVtdIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUubWFuaWZlc3QucmVzb3VyY2U6cmVzb3VyY2UnIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnJlc291cmNlKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnc3RydWN0dXJlJywgZGlhZ25vc3RpY3M6ICdGb3VuZCBzY2FsYXIgaW4gYXJyYXkgcHJvcGVydHkgcmVzb3VyY2U6Zmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RSZXNvdXJjZVtdIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUubWFuaWZlc3QucmVzb3VyY2U6cmVzb3VyY2UnIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnJlc291cmNlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2U6Zmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RSZXNvdXJjZVtdIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUubWFuaWZlc3QucmVzb3VyY2U6cmVzb3VyY2UnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJyZXNvdXJjZVwiXSkgeyB0aGlzLnJlc291cmNlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwYWdlXCJdKSB7IHRoaXMucGFnZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiaW1hZ2VcIl0pIHsgdGhpcy5pbWFnZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wib3RoZXJcIl0pIHsgdGhpcy5vdGhlci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbXBsZW1lbnRhdGlvbkd1aWRlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEltcGxlbWVudGF0aW9uR3VpZGVBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJJbXBsZW1lbnRhdGlvbkd1aWRlXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENhbiBiZSBhIHVybjp1dWlkOiBvciBhIHVybjpvaWQ6IGJ1dCByZWFsIGh0dHA6IGFkZHJlc3NlcyBhcmUgcHJlZmVycmVkLiAgTXVsdGlwbGUgaW5zdGFuY2VzIG1heSBzaGFyZSB0aGUgc2FtZSBVUkwgaWYgdGhleSBoYXZlIGEgZGlzdGluY3QgdmVyc2lvbi5cclxuICAgKiBUaGUgZGV0ZXJtaW5hdGlvbiBvZiB3aGVuIHRvIGNyZWF0ZSBhIG5ldyB2ZXJzaW9uIG9mIGEgcmVzb3VyY2UgKHNhbWUgdXJsLCBuZXcgdmVyc2lvbikgdnMuIGRlZmluaW5nIGEgbmV3IGFydGlmYWN0IGlzIHVwIHRvIHRoZSBhdXRob3IuICBDb25zaWRlcmF0aW9ucyBmb3IgbWFraW5nIHRoaXMgZGVjaXNpb24gYXJlIGZvdW5kIGluIFtUZWNobmljYWwgYW5kIEJ1c2luZXNzIFZlcnNpb25zXShyZXNvdXJjZS5odG1sI3ZlcnNpb25zKS4gXHJcbiAgICogSW4gc29tZSBjYXNlcywgdGhlIHJlc291cmNlIGNhbiBubyBsb25nZXIgYmUgZm91bmQgYXQgdGhlIHN0YXRlZCB1cmwsIGJ1dCB0aGUgdXJsIGl0c2VsZiBjYW5ub3QgY2hhbmdlLiBJbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSB0aGUgW21ldGEuc291cmNlXShyZXNvdXJjZS5odG1sI21ldGEpIGVsZW1lbnQgdG8gaW5kaWNhdGUgd2hlcmUgdGhlIGN1cnJlbnQgbWFzdGVyIHNvdXJjZSBvZiB0aGUgcmVzb3VyY2UgY2FuIGJlIGZvdW5kLlxyXG4gICAqL1xyXG4gIHVybDogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgbWF5IGJlIGRpZmZlcmVudCBpbXBsZW1lbnRhdGlvbiBndWlkZSBpbnN0YW5jZXMgdGhhdCBoYXZlIHRoZSBzYW1lIGlkZW50aWZpZXIgYnV0IGRpZmZlcmVudCB2ZXJzaW9ucy4gIFRoZSB2ZXJzaW9uIGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgdXJsIGluIGEgcmVmZXJlbmNlIHRvIGFsbG93IGEgcmVmZXJlbmNlIHRvIGEgcGFydGljdWxhciBidXNpbmVzcyB2ZXJzaW9uIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSB3aXRoIHRoZSBmb3JtYXQgW3VybF18W3ZlcnNpb25dLlxyXG4gICAqL1xyXG4gIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBpcyBub3QgZXhwZWN0ZWQgdG8gYmUgZ2xvYmFsbHkgdW5pcXVlLiBUaGUgbmFtZSBzaG91bGQgYmUgYSBzaW1wbGUgYWxwaGFudW1lcmljIHR5cGUgbmFtZSB0byBlbnN1cmUgdGhhdCBpdCBpcyBtYWNoaW5lLXByb2Nlc3NpbmcgZnJpZW5kbHkuXHJcbiAgICovXHJcbiAgbmFtZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBuYW1lIGRvZXMgbm90IG5lZWQgdG8gYmUgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5IGFuZCBtYXkgY29udGFpbiBwdW5jdHVhdGlvbiwgd2hpdGUtc3BhY2UsIGV0Yy5cclxuICAgKi9cclxuICB0aXRsZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgaW1wbGVtZW50YXRpb24gZ3VpZGVzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgZmlsdGVyaW5nIG9mIGltcGxlbWVudGF0aW9uIGd1aWRlcyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgZXhwZXJpbWVudGFsPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIHJlc291cmNlIGxhc3QtbW9kaWZpZWQtZGF0ZSwgc2luY2UgdGhlIHJlc291cmNlIG1heSBiZSBhIHNlY29uZGFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuIEFkZGl0aW9uYWwgc3BlY2lmaWMgZGF0ZXMgbWF5IGJlIGFkZGVkIGFzIGV4dGVuc2lvbnMgb3IgYmUgZm91bmQgYnkgY29uc3VsdGluZyBQcm92ZW5hbmNlcyBhc3NvY2lhdGVkIHdpdGggcGFzdCB2ZXJzaW9ucyBvZiB0aGUgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSBhbiBvcmdhbml6YXRpb24gYnV0IG1heSBiZSBhbiBpbmRpdmlkdWFsLiBUaGUgcHVibGlzaGVyIChvciBzdGV3YXJkKSBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUgaXMgdGhlIG9yZ2FuaXphdGlvbiBvciBpbmRpdmlkdWFsIHByaW1hcmlseSByZXNwb25zaWJsZSBmb3IgdGhlIG1haW50ZW5hbmNlIGFuZCB1cGtlZXAgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLiBUaGlzIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbiB0aGF0IGRldmVsb3BlZCBhbmQgaW5pdGlhbGx5IGF1dGhvcmVkIHRoZSBjb250ZW50LiBUaGUgcHVibGlzaGVyIGlzIHRoZSBwcmltYXJ5IHBvaW50IG9mIGNvbnRhY3QgZm9yIHF1ZXN0aW9ucyBvciBpc3N1ZXMgd2l0aCB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuIFRoaXMgaXRlbSBTSE9VTEQgYmUgcG9wdWxhdGVkIHVubGVzcyB0aGUgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlIGZyb20gY29udGV4dC5cclxuICAgKi9cclxuICBwdWJsaXNoZXI/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgYmUgYSB3ZWIgc2l0ZSwgYW4gZW1haWwgYWRkcmVzcywgYSB0ZWxlcGhvbmUgbnVtYmVyLCBldGMuXHJcbiAgICovXHJcbiAgY29udGFjdD86IGZoaXIuQ29udGFjdERldGFpbEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkZXNjcmlwdGlvbiBjYW4gYmUgdXNlZCB0byBjYXB0dXJlIGRldGFpbHMgc3VjaCBhcyB3aHkgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIHdhcyBidWlsdCwgY29tbWVudHMgYWJvdXQgbWlzdXNlLCBpbnN0cnVjdGlvbnMgZm9yIGNsaW5pY2FsIHVzZSBhbmQgaW50ZXJwcmV0YXRpb24sIGxpdGVyYXR1cmUgcmVmZXJlbmNlcywgZXhhbXBsZXMgZnJvbSB0aGUgcGFwZXIgd29ybGQsIGV0Yy4gSXQgaXMgbm90IGEgcmVuZGVyaW5nIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSBhcyBjb252ZXllZCBpbiB0aGUgJ3RleHQnIGZpZWxkIG9mIHRoZSByZXNvdXJjZSBpdHNlbGYuIFRoaXMgaXRlbSBTSE9VTEQgYmUgcG9wdWxhdGVkIHVubGVzcyB0aGUgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlIGZyb20gY29udGV4dCAoZS5nLiB0aGUgbGFuZ3VhZ2Ugb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIGlzIHByZXN1bWVkIHRvIGJlIHRoZSBwcmVkb21pbmFudCBsYW5ndWFnZSBpbiB0aGUgcGxhY2UgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIHdhcyBjcmVhdGVkKS5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiBtdWx0aXBsZSB1c2VDb250ZXh0cyBhcmUgc3BlY2lmaWVkLCB0aGVyZSBpcyBubyBleHBlY3RhdGlvbiB0aGF0IGFsbCBvciBhbnkgb2YgdGhlIGNvbnRleHRzIGFwcGx5LlxyXG4gICAqL1xyXG4gIHVzZUNvbnRleHQ/OiBmaGlyLlVzYWdlQ29udGV4dEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXQgbWF5IGJlIHBvc3NpYmxlIGZvciB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUgdG8gYmUgdXNlZCBpbiBqdXJpc2RpY3Rpb25zIG90aGVyIHRoYW4gdGhvc2UgZm9yIHdoaWNoIGl0IHdhcyBvcmlnaW5hbGx5IGRlc2lnbmVkIG9yIGludGVuZGVkLlxyXG4gICAqL1xyXG4gIGp1cmlzZGljdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgcmVsYXRpbmcgdG8gdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIGFuZC9vciBpdHMgY29udGVudHMuIENvcHlyaWdodCBzdGF0ZW1lbnRzIGFyZSBnZW5lcmFsbHkgbGVnYWwgcmVzdHJpY3Rpb25zIG9uIHRoZSB1c2UgYW5kIHB1Ymxpc2hpbmcgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLlxyXG4gICAqL1xyXG4gIGNvcHlyaWdodD86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFueSAoaWYgbm90IGFsbCkgSUcgcHVibGlzaGluZyB0b29scyB3aWxsIHJlcXVpcmUgdGhhdCB0aGlzIGVsZW1lbnQgYmUgcHJlc2VudC4gRm9yIGltcGxlbWVudGF0aW9uIGd1aWRlcyBwdWJsaXNoZWQgdGhyb3VnaCBITDcgb3IgdGhlIEZISVIgZm91bmRhdGlvbiwgdGhlIEZISVIgcHJvZHVjdCBkaXJlY3RvciBhc3NpZ25zIHBhY2thZ2UgSURzLlxyXG4gICAqL1xyXG4gIHBhY2thZ2VJZDogZmhpci5GaGlySWR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGljZW5zZSB0aGF0IGFwcGxpZXMgdG8gdGhpcyBJbXBsZW1lbnRhdGlvbiBHdWlkZSwgdXNpbmcgYW4gU1BEWCBsaWNlbnNlIGNvZGUsIG9yICdub3Qtb3Blbi1zb3VyY2UnLlxyXG4gICAqL1xyXG4gIGxpY2Vuc2U/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTW9zdCBpbXBsZW1lbnRhdGlvbiBndWlkZXMgdGFyZ2V0IGEgc2luZ2xlIHZlcnNpb24gLSBlLmcuIHRoZXkgZGVzY3JpYmUgaG93IHRvIHVzZSBhIHBhcnRpY3VsYXIgdmVyc2lvbiwgYW5kIHRoZSBwcm9maWxlcyBhbmQgZXhhbXBsZXMgZXRjIGFyZSB2YWxpZCBmb3IgdGhhdCB2ZXJzaW9uLiBCdXQgc29tZSBpbXBsZW1lbnRhdGlvbiBndWlkZXMgZGVzY3JpYmUgaG93IHRvIHVzZSBtdWx0aXBsZSBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgRkhJUiB0byBzb2x2ZSB0aGUgc2FtZSBwcm9ibGVtLCBvciBpbiBjb25jZXJ0IHdpdGggZWFjaCBvdGhlci4gVHlwaWNhbGx5LCB0aGUgcmVxdWlyZW1lbnQgdG8gc3VwcG9ydCBtdWx0aXBsZSB2ZXJzaW9ucyBhcmlzZXMgYXMgaW1wbGVtZW50YXRpb24gbWF0dXJlcyBhbmQgZGlmZmVyZW50IGltcGxlbWVudGF0aW9uIGNvbW11bml0aWVzIGFyZSBzdHVjayBhdCBkaWZmZXJlbnQgdmVyc2lvbnMgYnkgcmVndWxhdGlvbiBvciBtYXJrZXQgZHluYW1pY3MuXHJcbiAgICovXHJcbiAgZmhpclZlcnNpb246IGZoaXIuRmhpckNvZGVbXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW5vdGhlciBpbXBsZW1lbnRhdGlvbiBndWlkZSB0aGF0IHRoaXMgaW1wbGVtZW50YXRpb24gZGVwZW5kcyBvbi4gVHlwaWNhbGx5LCBhbiBpbXBsZW1lbnRhdGlvbiBndWlkZSB1c2VzIHZhbHVlIHNldHMsIHByb2ZpbGVzIGV0Yy5kZWZpbmVkIGluIG90aGVyIGltcGxlbWVudGF0aW9uIGd1aWRlcy5cclxuICAgKi9cclxuICBkZXBlbmRzT24/OiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVEZXBlbmRzT25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNlZSBbRGVmYXVsdCBQcm9maWxlc10oaW1wbGVtZW50YXRpb25ndWlkZS5odG1sI2RlZmF1bHQpIGZvciBhIGRpc2N1c3Npb24gb2Ygd2hpY2ggcmVzb3VyY2VzIGFyZSAnY292ZXJlZCcgYnkgYW4gaW1wbGVtZW50YXRpb24gZ3VpZGUuXHJcbiAgICovXHJcbiAgZ2xvYmFsPzogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlR2xvYmFsQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcmluY2lwYWxseSwgdGhpcyBjb25zaXN0cyBvZiBpbmZvcm1hdGlvbiBhYnVvdCBzb3VyY2UgcmVzb3VyY2UgYW5kIGZpbGUgbG9jYXRpb25zLCBhbmQgYnVpbGQgcGFyYW1ldGVycyBhbmQgdGVtcGxhdGVzLlxyXG4gICAqL1xyXG4gIGRlZmluaXRpb24/OiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVEZWZpbml0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgYW4gYXNzZW1ibGVkIGltcGxlbWVudGF0aW9uIGd1aWRlLCBjcmVhdGVkIGJ5IHRoZSBwdWJsaWNhdGlvbiB0b29saW5nLlxyXG4gICAqL1xyXG4gIG1hbmlmZXN0PzogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlTWFuaWZlc3RBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc2V0IG9mIHJ1bGVzIG9mIGhvdyBhIHBhcnRpY3VsYXIgaW50ZXJvcGVyYWJpbGl0eSBvciBzdGFuZGFyZHMgcHJvYmxlbSBpcyBzb2x2ZWQgLSB0eXBpY2FsbHkgdGhyb3VnaCB0aGUgdXNlIG9mIEZISVIgcmVzb3VyY2VzLiBUaGlzIHJlc291cmNlIGlzIHVzZWQgdG8gZ2F0aGVyIGFsbCB0aGUgcGFydHMgb2YgYW4gaW1wbGVtZW50YXRpb24gZ3VpZGUgaW50byBhIGxvZ2ljYWwgd2hvbGUgYW5kIHRvIHB1Ymxpc2ggYSBjb21wdXRhYmxlIGRlZmluaXRpb24gb2YgYWxsIHRoZSBwYXJ0cy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbXBsZW1lbnRhdGlvbkd1aWRlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbXBsZW1lbnRhdGlvbkd1aWRlJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkltcGxlbWVudGF0aW9uR3VpZGVcIjtcclxuICAvKipcclxuICAgKiBDYW4gYmUgYSB1cm46dXVpZDogb3IgYSB1cm46b2lkOiBidXQgcmVhbCBodHRwOiBhZGRyZXNzZXMgYXJlIHByZWZlcnJlZC4gIE11bHRpcGxlIGluc3RhbmNlcyBtYXkgc2hhcmUgdGhlIHNhbWUgVVJMIGlmIHRoZXkgaGF2ZSBhIGRpc3RpbmN0IHZlcnNpb24uXHJcbiAgICogVGhlIGRldGVybWluYXRpb24gb2Ygd2hlbiB0byBjcmVhdGUgYSBuZXcgdmVyc2lvbiBvZiBhIHJlc291cmNlIChzYW1lIHVybCwgbmV3IHZlcnNpb24pIHZzLiBkZWZpbmluZyBhIG5ldyBhcnRpZmFjdCBpcyB1cCB0byB0aGUgYXV0aG9yLiAgQ29uc2lkZXJhdGlvbnMgZm9yIG1ha2luZyB0aGlzIGRlY2lzaW9uIGFyZSBmb3VuZCBpbiBbVGVjaG5pY2FsIGFuZCBCdXNpbmVzcyBWZXJzaW9uc10ocmVzb3VyY2UuaHRtbCN2ZXJzaW9ucykuIFxyXG4gICAqIEluIHNvbWUgY2FzZXMsIHRoZSByZXNvdXJjZSBjYW4gbm8gbG9uZ2VyIGJlIGZvdW5kIGF0IHRoZSBzdGF0ZWQgdXJsLCBidXQgdGhlIHVybCBpdHNlbGYgY2Fubm90IGNoYW5nZS4gSW1wbGVtZW50YXRpb25zIGNhbiB1c2UgdGhlIFttZXRhLnNvdXJjZV0ocmVzb3VyY2UuaHRtbCNtZXRhKSBlbGVtZW50IHRvIGluZGljYXRlIHdoZXJlIHRoZSBjdXJyZW50IG1hc3RlciBzb3VyY2Ugb2YgdGhlIHJlc291cmNlIGNhbiBiZSBmb3VuZC5cclxuICAgKi9cclxuICBwdWJsaWMgdXJsOiBmaGlyLkZoaXJVcml8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGVyZSBtYXkgYmUgZGlmZmVyZW50IGltcGxlbWVudGF0aW9uIGd1aWRlIGluc3RhbmNlcyB0aGF0IGhhdmUgdGhlIHNhbWUgaWRlbnRpZmllciBidXQgZGlmZmVyZW50IHZlcnNpb25zLiAgVGhlIHZlcnNpb24gY2FuIGJlIGFwcGVuZGVkIHRvIHRoZSB1cmwgaW4gYSByZWZlcmVuY2UgdG8gYWxsb3cgYSByZWZlcmVuY2UgdG8gYSBwYXJ0aWN1bGFyIGJ1c2luZXNzIHZlcnNpb24gb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIHdpdGggdGhlIGZvcm1hdCBbdXJsXXxbdmVyc2lvbl0uXHJcbiAgICovXHJcbiAgcHVibGljIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIGlzIG5vdCBleHBlY3RlZCB0byBiZSBnbG9iYWxseSB1bmlxdWUuIFRoZSBuYW1lIHNob3VsZCBiZSBhIHNpbXBsZSBhbHBoYW51bWVyaWMgdHlwZSBuYW1lIHRvIGVuc3VyZSB0aGF0IGl0IGlzIG1hY2hpbmUtcHJvY2Vzc2luZyBmcmllbmRseS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBuYW1lIGRvZXMgbm90IG5lZWQgdG8gYmUgbWFjaGluZS1wcm9jZXNzaW5nIGZyaWVuZGx5IGFuZCBtYXkgY29udGFpbiBwdW5jdHVhdGlvbiwgd2hpdGUtc3BhY2UsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgaW1wbGVtZW50YXRpb24gZ3VpZGVzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiBpbXBsZW1lbnRhdGlvbiBndWlkZXMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHVzZSB2ZXJzdXMgbm90LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHBlcmltZW50YWw/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIHJlc291cmNlIGxhc3QtbW9kaWZpZWQtZGF0ZSwgc2luY2UgdGhlIHJlc291cmNlIG1heSBiZSBhIHNlY29uZGFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuIEFkZGl0aW9uYWwgc3BlY2lmaWMgZGF0ZXMgbWF5IGJlIGFkZGVkIGFzIGV4dGVuc2lvbnMgb3IgYmUgZm91bmQgYnkgY29uc3VsdGluZyBQcm92ZW5hbmNlcyBhc3NvY2lhdGVkIHdpdGggcGFzdCB2ZXJzaW9ucyBvZiB0aGUgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSBhbiBvcmdhbml6YXRpb24gYnV0IG1heSBiZSBhbiBpbmRpdmlkdWFsLiBUaGUgcHVibGlzaGVyIChvciBzdGV3YXJkKSBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUgaXMgdGhlIG9yZ2FuaXphdGlvbiBvciBpbmRpdmlkdWFsIHByaW1hcmlseSByZXNwb25zaWJsZSBmb3IgdGhlIG1haW50ZW5hbmNlIGFuZCB1cGtlZXAgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLiBUaGlzIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbiB0aGF0IGRldmVsb3BlZCBhbmQgaW5pdGlhbGx5IGF1dGhvcmVkIHRoZSBjb250ZW50LiBUaGUgcHVibGlzaGVyIGlzIHRoZSBwcmltYXJ5IHBvaW50IG9mIGNvbnRhY3QgZm9yIHF1ZXN0aW9ucyBvciBpc3N1ZXMgd2l0aCB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUuIFRoaXMgaXRlbSBTSE9VTEQgYmUgcG9wdWxhdGVkIHVubGVzcyB0aGUgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlIGZyb20gY29udGV4dC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgYmUgYSB3ZWIgc2l0ZSwgYW4gZW1haWwgYWRkcmVzcywgYSB0ZWxlcGhvbmUgbnVtYmVyLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhY3Q6IGZoaXIuQ29udGFjdERldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpcHRpb24gY2FuIGJlIHVzZWQgdG8gY2FwdHVyZSBkZXRhaWxzIHN1Y2ggYXMgd2h5IHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSB3YXMgYnVpbHQsIGNvbW1lbnRzIGFib3V0IG1pc3VzZSwgaW5zdHJ1Y3Rpb25zIGZvciBjbGluaWNhbCB1c2UgYW5kIGludGVycHJldGF0aW9uLCBsaXRlcmF0dXJlIHJlZmVyZW5jZXMsIGV4YW1wbGVzIGZyb20gdGhlIHBhcGVyIHdvcmxkLCBldGMuIEl0IGlzIG5vdCBhIHJlbmRlcmluZyBvZiB0aGUgaW1wbGVtZW50YXRpb24gZ3VpZGUgYXMgY29udmV5ZWQgaW4gdGhlICd0ZXh0JyBmaWVsZCBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmLiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQgKGUuZy4gdGhlIGxhbmd1YWdlIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSBpcyBwcmVzdW1lZCB0byBiZSB0aGUgcHJlZG9taW5hbnQgbGFuZ3VhZ2UgaW4gdGhlIHBsYWNlIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSB3YXMgY3JlYXRlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gbXVsdGlwbGUgdXNlQ29udGV4dHMgYXJlIHNwZWNpZmllZCwgdGhlcmUgaXMgbm8gZXhwZWN0YXRpb24gdGhhdCBhbGwgb3IgYW55IG9mIHRoZSBjb250ZXh0cyBhcHBseS5cclxuICAgKi9cclxuICBwdWJsaWMgdXNlQ29udGV4dDogZmhpci5Vc2FnZUNvbnRleHRbXTtcclxuICAvKipcclxuICAgKiBJdCBtYXkgYmUgcG9zc2libGUgZm9yIHRoZSBpbXBsZW1lbnRhdGlvbiBndWlkZSB0byBiZSB1c2VkIGluIGp1cmlzZGljdGlvbnMgb3RoZXIgdGhhbiB0aG9zZSBmb3Igd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgZGVzaWduZWQgb3IgaW50ZW5kZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGp1cmlzZGljdGlvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgcmVsYXRpbmcgdG8gdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlIGFuZC9vciBpdHMgY29udGVudHMuIENvcHlyaWdodCBzdGF0ZW1lbnRzIGFyZSBnZW5lcmFsbHkgbGVnYWwgcmVzdHJpY3Rpb25zIG9uIHRoZSB1c2UgYW5kIHB1Ymxpc2hpbmcgb2YgdGhlIGltcGxlbWVudGF0aW9uIGd1aWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFueSAoaWYgbm90IGFsbCkgSUcgcHVibGlzaGluZyB0b29scyB3aWxsIHJlcXVpcmUgdGhhdCB0aGlzIGVsZW1lbnQgYmUgcHJlc2VudC4gRm9yIGltcGxlbWVudGF0aW9uIGd1aWRlcyBwdWJsaXNoZWQgdGhyb3VnaCBITDcgb3IgdGhlIEZISVIgZm91bmRhdGlvbiwgdGhlIEZISVIgcHJvZHVjdCBkaXJlY3RvciBhc3NpZ25zIHBhY2thZ2UgSURzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYWNrYWdlSWQ6IGZoaXIuRmhpcklkfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxpY2Vuc2UgdGhhdCBhcHBsaWVzIHRvIHRoaXMgSW1wbGVtZW50YXRpb24gR3VpZGUsIHVzaW5nIGFuIFNQRFggbGljZW5zZSBjb2RlLCBvciAnbm90LW9wZW4tc291cmNlJy5cclxuICAgKi9cclxuICBwdWJsaWMgbGljZW5zZT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1vc3QgaW1wbGVtZW50YXRpb24gZ3VpZGVzIHRhcmdldCBhIHNpbmdsZSB2ZXJzaW9uIC0gZS5nLiB0aGV5IGRlc2NyaWJlIGhvdyB0byB1c2UgYSBwYXJ0aWN1bGFyIHZlcnNpb24sIGFuZCB0aGUgcHJvZmlsZXMgYW5kIGV4YW1wbGVzIGV0YyBhcmUgdmFsaWQgZm9yIHRoYXQgdmVyc2lvbi4gQnV0IHNvbWUgaW1wbGVtZW50YXRpb24gZ3VpZGVzIGRlc2NyaWJlIGhvdyB0byB1c2UgbXVsdGlwbGUgZGlmZmVyZW50IHZlcnNpb25zIG9mIEZISVIgdG8gc29sdmUgdGhlIHNhbWUgcHJvYmxlbSwgb3IgaW4gY29uY2VydCB3aXRoIGVhY2ggb3RoZXIuIFR5cGljYWxseSwgdGhlIHJlcXVpcmVtZW50IHRvIHN1cHBvcnQgbXVsdGlwbGUgdmVyc2lvbnMgYXJpc2VzIGFzIGltcGxlbWVudGF0aW9uIG1hdHVyZXMgYW5kIGRpZmZlcmVudCBpbXBsZW1lbnRhdGlvbiBjb21tdW5pdGllcyBhcmUgc3R1Y2sgYXQgZGlmZmVyZW50IHZlcnNpb25zIGJ5IHJlZ3VsYXRpb24gb3IgbWFya2V0IGR5bmFtaWNzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaGlyVmVyc2lvbjogZmhpci5GaGlyQ29kZVtdO1xyXG4gIC8qKlxyXG4gICAqIEFub3RoZXIgaW1wbGVtZW50YXRpb24gZ3VpZGUgdGhhdCB0aGlzIGltcGxlbWVudGF0aW9uIGRlcGVuZHMgb24uIFR5cGljYWxseSwgYW4gaW1wbGVtZW50YXRpb24gZ3VpZGUgdXNlcyB2YWx1ZSBzZXRzLCBwcm9maWxlcyBldGMuZGVmaW5lZCBpbiBvdGhlciBpbXBsZW1lbnRhdGlvbiBndWlkZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRlcGVuZHNPbjogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVwZW5kc09uW107XHJcbiAgLyoqXHJcbiAgICogU2VlIFtEZWZhdWx0IFByb2ZpbGVzXShpbXBsZW1lbnRhdGlvbmd1aWRlLmh0bWwjZGVmYXVsdCkgZm9yIGEgZGlzY3Vzc2lvbiBvZiB3aGljaCByZXNvdXJjZXMgYXJlICdjb3ZlcmVkJyBieSBhbiBpbXBsZW1lbnRhdGlvbiBndWlkZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2xvYmFsOiBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVHbG9iYWxbXTtcclxuICAvKipcclxuICAgKiBQcmluY2lwYWxseSwgdGhpcyBjb25zaXN0cyBvZiBpbmZvcm1hdGlvbiBhYnVvdCBzb3VyY2UgcmVzb3VyY2UgYW5kIGZpbGUgbG9jYXRpb25zLCBhbmQgYnVpbGQgcGFyYW1ldGVycyBhbmQgdGVtcGxhdGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWZpbml0aW9uPzogZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgYW4gYXNzZW1ibGVkIGltcGxlbWVudGF0aW9uIGd1aWRlLCBjcmVhdGVkIGJ5IHRoZSBwdWJsaWNhdGlvbiB0b29saW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW5pZmVzdD86IGZoaXIuSW1wbGVtZW50YXRpb25HdWlkZU1hbmlmZXN0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbXBsZW1lbnRhdGlvbkd1aWRlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SW1wbGVtZW50YXRpb25HdWlkZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdJbXBsZW1lbnRhdGlvbkd1aWRlJztcclxuICAgIGlmIChzb3VyY2VbJ3VybCddKSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS51cmx9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudXJsID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyc2lvbiddKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd0aXRsZSddKSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRpdGxlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2V4cGVyaW1lbnRhbCddKSB7IHRoaXMuZXhwZXJpbWVudGFsID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuZXhwZXJpbWVudGFsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGUnXSkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydwdWJsaXNoZXInXSkgeyB0aGlzLnB1Ymxpc2hlciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucHVibGlzaGVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRhY3QnXSkgeyB0aGlzLmNvbnRhY3QgPSBzb3VyY2UuY29udGFjdC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3REZXRhaWwoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd1c2VDb250ZXh0J10pIHsgdGhpcy51c2VDb250ZXh0ID0gc291cmNlLnVzZUNvbnRleHQubWFwKCh4KSA9PiBuZXcgZmhpci5Vc2FnZUNvbnRleHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51c2VDb250ZXh0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2p1cmlzZGljdGlvbiddKSB7IHRoaXMuanVyaXNkaWN0aW9uID0gc291cmNlLmp1cmlzZGljdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmp1cmlzZGljdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb3B5cmlnaHQnXSkgeyB0aGlzLmNvcHlyaWdodCA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5jb3B5cmlnaHR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFja2FnZUlkJ10pIHsgdGhpcy5wYWNrYWdlSWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2UucGFja2FnZUlkfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhY2thZ2VJZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2xpY2Vuc2UnXSkgeyB0aGlzLmxpY2Vuc2UgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS5saWNlbnNlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZoaXJWZXJzaW9uJ10pIHsgdGhpcy5maGlyVmVyc2lvbiA9IHNvdXJjZS5maGlyVmVyc2lvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZmhpclZlcnNpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVwZW5kc09uJ10pIHsgdGhpcy5kZXBlbmRzT24gPSBzb3VyY2UuZGVwZW5kc09uLm1hcCgoeCkgPT4gbmV3IGZoaXIuSW1wbGVtZW50YXRpb25HdWlkZURlcGVuZHNPbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRlcGVuZHNPbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydnbG9iYWwnXSkgeyB0aGlzLmdsb2JhbCA9IHNvdXJjZS5nbG9iYWwubWFwKCh4KSA9PiBuZXcgZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlR2xvYmFsKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZ2xvYmFsID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2RlZmluaXRpb24nXSkgeyB0aGlzLmRlZmluaXRpb24gPSBuZXcgZmhpci5JbXBsZW1lbnRhdGlvbkd1aWRlRGVmaW5pdGlvbihzb3VyY2UuZGVmaW5pdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbmlmZXN0J10pIHsgdGhpcy5tYW5pZmVzdCA9IG5ldyBmaGlyLkltcGxlbWVudGF0aW9uR3VpZGVNYW5pZmVzdChzb3VyY2UubWFuaWZlc3QpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzIChJbXBsZW1lbnRhdGlvbkd1aWRlLnN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBzdGF0dXNSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIFB1YmxpY2F0aW9uU3RhdHVzQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgbGljZW5zZSAoSW1wbGVtZW50YXRpb25HdWlkZS5saWNlbnNlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IGxpY2Vuc2VSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIFNwZHhMaWNlbnNlQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgZmhpclZlcnNpb24gKEltcGxlbWVudGF0aW9uR3VpZGUuZmhpclZlcnNpb24pXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgZmhpclZlcnNpb25SZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIEZISVJWZXJzaW9uQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3Jlc291cmNlVHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZXNvdXJjZVR5cGU6XCJJbXBsZW1lbnRhdGlvbkd1aWRlXCIgZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5yZXNvdXJjZVR5cGU6XCJJbXBsZW1lbnRhdGlvbkd1aWRlXCInIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzWyd1cmwnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdXJsOmZoaXIuRmhpclVyaSBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLnVybDp1cmknIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ1cmxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51cmwuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widmVyc2lvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZlcnNpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1snbmFtZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBuYW1lOmZoaXIuRmhpclN0cmluZyBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLm5hbWU6c3RyaW5nJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widGl0bGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50aXRsZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydzdGF0dXMnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc3RhdHVzOmZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT4gZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5zdGF0dXM6Y29kZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1snc3RhdHVzJ10gJiYgKCFPYmplY3QudmFsdWVzKFB1YmxpY2F0aW9uU3RhdHVzQ29kZXMpLmluY2x1ZGVzKHRoaXMuc3RhdHVzIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSBzdGF0dXM6Zmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPiBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLnN0YXR1czpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IFB1YmxpY2F0aW9uU3RhdHVzJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic3RhdHVzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RhdHVzLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImV4cGVyaW1lbnRhbFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmV4cGVyaW1lbnRhbC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGF0ZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwdWJsaXNoZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wdWJsaXNoZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29udGFjdFwiXSkgeyB0aGlzLmNvbnRhY3QuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRlc2NyaXB0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVzY3JpcHRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widXNlQ29udGV4dFwiXSkgeyB0aGlzLnVzZUNvbnRleHQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImp1cmlzZGljdGlvblwiXSkgeyB0aGlzLmp1cmlzZGljdGlvbi5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiY29weXJpZ2h0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29weXJpZ2h0LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3BhY2thZ2VJZCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwYWNrYWdlSWQ6Zmhpci5GaGlySWQgZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5wYWNrYWdlSWQ6aWQnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJwYWNrYWdlSWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYWNrYWdlSWQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzWydsaWNlbnNlJ10gJiYgKCFPYmplY3QudmFsdWVzKFNwZHhMaWNlbnNlQ29kZXMpLmluY2x1ZGVzKHRoaXMubGljZW5zZSBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgbGljZW5zZT86Zmhpci5GaGlyQ29kZSBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLmxpY2Vuc2U6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBTcGR4TGljZW5zZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImxpY2Vuc2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5saWNlbnNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2ZoaXJWZXJzaW9uJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGZoaXJWZXJzaW9uOmZoaXIuRmhpckNvZGVbXSBmaGlyOiBJbXBsZW1lbnRhdGlvbkd1aWRlLmZoaXJWZXJzaW9uOmNvZGUnIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZoaXJWZXJzaW9uKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnc3RydWN0dXJlJywgZGlhZ25vc3RpY3M6ICdGb3VuZCBzY2FsYXIgaW4gYXJyYXkgcHJvcGVydHkgZmhpclZlcnNpb246Zmhpci5GaGlyQ29kZVtdIGZoaXI6IEltcGxlbWVudGF0aW9uR3VpZGUuZmhpclZlcnNpb246Y29kZScgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmhpclZlcnNpb24ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBmaGlyVmVyc2lvbjpmaGlyLkZoaXJDb2RlW10gZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5maGlyVmVyc2lvbjpjb2RlJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzWydmaGlyVmVyc2lvbiddKSB7XHJcbiAgICAgIHRoaXMuZmhpclZlcnNpb24uZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgIGlmICghT2JqZWN0LnZhbHVlcyhGSElSVmVyc2lvbkNvZGVzKS5pbmNsdWRlcyh2IGFzIGFueSkpIHtcclxuICAgICAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSBmaGlyVmVyc2lvbjpmaGlyLkZoaXJDb2RlW10gZmhpcjogSW1wbGVtZW50YXRpb25HdWlkZS5maGlyVmVyc2lvbjpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IEZISVJWZXJzaW9uJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJmaGlyVmVyc2lvblwiXSkgeyB0aGlzLmZoaXJWZXJzaW9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXBlbmRzT25cIl0pIHsgdGhpcy5kZXBlbmRzT24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImdsb2JhbFwiXSkgeyB0aGlzLmdsb2JhbC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZGVmaW5pdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlZmluaXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibWFuaWZlc3RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tYW5pZmVzdC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19