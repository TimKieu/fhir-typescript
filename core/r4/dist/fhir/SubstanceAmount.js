// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR ComplexType: SubstanceAmount
import * as fhir from '../fhir.js';
/**
 * Reference range of possible or expected values.
 */
export class SubstanceAmountReferenceRange extends fhir.FhirElement {
    /**
     * Default constructor for SubstanceAmountReferenceRange - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['lowLimit']) {
            this.lowLimit = new fhir.Quantity(source.lowLimit);
        }
        if (source['highLimit']) {
            this.highLimit = new fhir.Quantity(source.highLimit);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["lowLimit"]) {
            issues.push(...this.lowLimit.doModelValidation());
        }
        if (this["highLimit"]) {
            issues.push(...this.highLimit.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceAmountReferenceRange._fts_dataType = 'SubstanceAmountReferenceRange';
/**
 * Chemical substances are a single substance type whose primary defining element is the molecular structure. Chemical substances shall be defined on the basis of their complete covalent molecular structure; the presence of a salt (counter-ion) and/or solvates (water, alcohols) is also captured. Purity, grade, physical form or particle size are not taken into account in the definition of a chemical substance or in the assignment of a Substance ID.
 */
export class SubstanceAmount extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceAmount - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['amount']) {
            this.amount = source.amount;
        }
        else if (source['amountQuantity']) {
            this.amount = new fhir.Quantity(source.amountQuantity);
        }
        else if (source['amountRange']) {
            this.amount = new fhir.Range(source.amountRange);
        }
        else if (source['amountString']) {
            this.amount = new fhir.FhirString({ value: source.amountString });
        }
        if (source['amountType']) {
            this.amountType = new fhir.CodeableConcept(source.amountType);
        }
        if (source['amountText']) {
            this.amountText = new fhir.FhirString({ value: source.amountText });
        }
        if (source['referenceRange']) {
            this.referenceRange = new fhir.SubstanceAmountReferenceRange(source.referenceRange);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["amountType"]) {
            issues.push(...this.amountType.doModelValidation());
        }
        if (this["amountText"]) {
            issues.push(...this.amountText.doModelValidation());
        }
        if (this["referenceRange"]) {
            issues.push(...this.referenceRange.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceAmount._fts_dataType = 'SubstanceAmount';
/**
 * Internal flag to properly serialize choice-type element SubstanceAmount.amount[x]
 */
SubstanceAmount._fts_amountIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Vic3RhbmNlQW1vdW50LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9TdWJzdGFuY2VBbW91bnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBZ0JuQzs7R0FFRztBQUNILE1BQU0sT0FBTyw2QkFBOEIsU0FBUSxJQUFJLENBQUMsV0FBVztJQWFqRTs7T0FFRztJQUNILFlBQVksU0FBb0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDMUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUFFO1FBQy9FLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7SUFDcEYsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCO1FBQy9CLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzVFLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDOUUsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE1QkQ7O0dBRUc7QUFDNkIsMkNBQWEsR0FBVSwrQkFBK0IsQ0FBQztBQTZEekY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sZUFBZ0IsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXlCdkQ7O09BRUc7SUFDSCxZQUFZLFNBQXNDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzVGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7U0FBRTthQUNqRCxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQUU7YUFDekYsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7U0FBRTthQUNoRixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDckcsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FBRTtRQUM1RixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDaEcsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxJQUFJLENBQUMsNkJBQTZCLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQUU7SUFDeEgsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCO1FBQy9CLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ2hGLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDaEYsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3hGLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBOUNEOztHQUVHO0FBQzZCLDZCQUFhLEdBQVUsaUJBQWlCLENBQUM7QUFLekU7O0dBRUc7QUFDdUIsbUNBQW1CLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIENvbXBsZXhUeXBlOiBTdWJzdGFuY2VBbW91bnRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlQW1vdW50UmVmZXJlbmNlUmFuZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlQW1vdW50UmVmZXJlbmNlUmFuZ2VBcmdzIGV4dGVuZHMgZmhpci5GaGlyRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIExvd2VyIGxpbWl0IHBvc3NpYmxlIG9yIGV4cGVjdGVkLlxyXG4gICAqL1xyXG4gIGxvd0xpbWl0PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVwcGVyIGxpbWl0IHBvc3NpYmxlIG9yIGV4cGVjdGVkLlxyXG4gICAqL1xyXG4gIGhpZ2hMaW1pdD86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZmVyZW5jZSByYW5nZSBvZiBwb3NzaWJsZSBvciBleHBlY3RlZCB2YWx1ZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlQW1vdW50UmVmZXJlbmNlUmFuZ2UgZXh0ZW5kcyBmaGlyLkZoaXJFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZUFtb3VudFJlZmVyZW5jZVJhbmdlJztcclxuICAvKipcclxuICAgKiBMb3dlciBsaW1pdCBwb3NzaWJsZSBvciBleHBlY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbG93TGltaXQ/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVcHBlciBsaW1pdCBwb3NzaWJsZSBvciBleHBlY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaGlnaExpbWl0PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlQW1vdW50UmVmZXJlbmNlUmFuZ2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VBbW91bnRSZWZlcmVuY2VSYW5nZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydsb3dMaW1pdCddKSB7IHRoaXMubG93TGltaXQgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UubG93TGltaXQpOyB9XHJcbiAgICBpZiAoc291cmNlWydoaWdoTGltaXQnXSkgeyB0aGlzLmhpZ2hMaW1pdCA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5oaWdoTGltaXQpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcImxvd0xpbWl0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubG93TGltaXQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaGlnaExpbWl0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaGlnaExpbWl0LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlQW1vdW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZUFtb3VudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gY2FwdHVyZSBxdWFudGl0YXRpdmUgdmFsdWVzIGZvciBhIHZhcmlldHkgb2YgZWxlbWVudHMuIElmIG9ubHkgbGltaXRzIGFyZSBnaXZlbiwgdGhlIGFyaXRobWV0aWMgbWVhbiB3b3VsZCBiZSB0aGUgYXZlcmFnZS4gSWYgb25seSBhIHNpbmdsZSBkZWZpbml0ZSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50IGlzIGdpdmVuLCBpdCB3b3VsZCBiZSBjYXB0dXJlZCBpbiB0aGlzIGZpZWxkLlxyXG4gICAqL1xyXG4gIGFtb3VudD86IGZoaXIuUXVhbnRpdHl8Zmhpci5SYW5nZXxmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gY2FwdHVyZSBxdWFudGl0YXRpdmUgdmFsdWVzIGZvciBhIHZhcmlldHkgb2YgZWxlbWVudHMuIElmIG9ubHkgbGltaXRzIGFyZSBnaXZlbiwgdGhlIGFyaXRobWV0aWMgbWVhbiB3b3VsZCBiZSB0aGUgYXZlcmFnZS4gSWYgb25seSBhIHNpbmdsZSBkZWZpbml0ZSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50IGlzIGdpdmVuLCBpdCB3b3VsZCBiZSBjYXB0dXJlZCBpbiB0aGlzIGZpZWxkLlxyXG4gICAqL1xyXG4gIGFtb3VudFF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gY2FwdHVyZSBxdWFudGl0YXRpdmUgdmFsdWVzIGZvciBhIHZhcmlldHkgb2YgZWxlbWVudHMuIElmIG9ubHkgbGltaXRzIGFyZSBnaXZlbiwgdGhlIGFyaXRobWV0aWMgbWVhbiB3b3VsZCBiZSB0aGUgYXZlcmFnZS4gSWYgb25seSBhIHNpbmdsZSBkZWZpbml0ZSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50IGlzIGdpdmVuLCBpdCB3b3VsZCBiZSBjYXB0dXJlZCBpbiB0aGlzIGZpZWxkLlxyXG4gICAqL1xyXG4gIGFtb3VudFJhbmdlPzogZmhpci5SYW5nZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gY2FwdHVyZSBxdWFudGl0YXRpdmUgdmFsdWVzIGZvciBhIHZhcmlldHkgb2YgZWxlbWVudHMuIElmIG9ubHkgbGltaXRzIGFyZSBnaXZlbiwgdGhlIGFyaXRobWV0aWMgbWVhbiB3b3VsZCBiZSB0aGUgYXZlcmFnZS4gSWYgb25seSBhIHNpbmdsZSBkZWZpbml0ZSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50IGlzIGdpdmVuLCBpdCB3b3VsZCBiZSBjYXB0dXJlZCBpbiB0aGlzIGZpZWxkLlxyXG4gICAqL1xyXG4gIGFtb3VudFN0cmluZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1vc3QgZWxlbWVudHMgdGhhdCByZXF1aXJlIGEgcXVhbnRpdGF0aXZlIHZhbHVlIHdpbGwgYWxzbyBoYXZlIGEgZmllbGQgY2FsbGVkIGFtb3VudCB0eXBlLiBBbW91bnQgdHlwZSBzaG91bGQgYWx3YXlzIGJlIHNwZWNpZmllZCBiZWNhdXNlIHRoZSBhY3R1YWwgdmFsdWUgb2YgdGhlIGFtb3VudCBpcyBvZnRlbiBkZXBlbmRlbnQgb24gaXQuIEVYQU1QTEU6IEluIGNhcHR1cmluZyB0aGUgYWN0dWFsIHJlbGF0aXZlIGFtb3VudHMgb2Ygc3Vic3RhbmNlcyBvciBtb2xlY3VsYXIgZnJhZ21lbnRzIGl0IGlzIGVzc2VudGlhbCB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoZSBhbW91bnQgcmVmZXJzIHRvIGEgbW9sZSByYXRpbyBvciB3ZWlnaHQgcmF0aW8uIEZvciBhbnkgZ2l2ZW4gZWxlbWVudCBhbiBlZmZvcnQgc2hvdWxkIGJlIG1hZGUgdG8gdXNlIHNhbWUgdGhlIGFtb3VudCB0eXBlIGZvciBhbGwgcmVsYXRlZCBkZWZpbml0aW9uYWwgZWxlbWVudHMuXHJcbiAgICovXHJcbiAgYW1vdW50VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB0ZXh0dWFsIGNvbW1lbnQgb24gYSBudW1lcmljIHZhbHVlLlxyXG4gICAqL1xyXG4gIGFtb3VudFRleHQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgcmFuZ2Ugb2YgcG9zc2libGUgb3IgZXhwZWN0ZWQgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHJlZmVyZW5jZVJhbmdlPzogZmhpci5TdWJzdGFuY2VBbW91bnRSZWZlcmVuY2VSYW5nZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlbWljYWwgc3Vic3RhbmNlcyBhcmUgYSBzaW5nbGUgc3Vic3RhbmNlIHR5cGUgd2hvc2UgcHJpbWFyeSBkZWZpbmluZyBlbGVtZW50IGlzIHRoZSBtb2xlY3VsYXIgc3RydWN0dXJlLiBDaGVtaWNhbCBzdWJzdGFuY2VzIHNoYWxsIGJlIGRlZmluZWQgb24gdGhlIGJhc2lzIG9mIHRoZWlyIGNvbXBsZXRlIGNvdmFsZW50IG1vbGVjdWxhciBzdHJ1Y3R1cmU7IHRoZSBwcmVzZW5jZSBvZiBhIHNhbHQgKGNvdW50ZXItaW9uKSBhbmQvb3Igc29sdmF0ZXMgKHdhdGVyLCBhbGNvaG9scykgaXMgYWxzbyBjYXB0dXJlZC4gUHVyaXR5LCBncmFkZSwgcGh5c2ljYWwgZm9ybSBvciBwYXJ0aWNsZSBzaXplIGFyZSBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIHRoZSBkZWZpbml0aW9uIG9mIGEgY2hlbWljYWwgc3Vic3RhbmNlIG9yIGluIHRoZSBhc3NpZ25tZW50IG9mIGEgU3Vic3RhbmNlIElELlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN1YnN0YW5jZUFtb3VudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZUFtb3VudCc7XHJcbiAgLyoqXHJcbiAgICogVXNlZCB0byBjYXB0dXJlIHF1YW50aXRhdGl2ZSB2YWx1ZXMgZm9yIGEgdmFyaWV0eSBvZiBlbGVtZW50cy4gSWYgb25seSBsaW1pdHMgYXJlIGdpdmVuLCB0aGUgYXJpdGhtZXRpYyBtZWFuIHdvdWxkIGJlIHRoZSBhdmVyYWdlLiBJZiBvbmx5IGEgc2luZ2xlIGRlZmluaXRlIHZhbHVlIGZvciBhIGdpdmVuIGVsZW1lbnQgaXMgZ2l2ZW4sIGl0IHdvdWxkIGJlIGNhcHR1cmVkIGluIHRoaXMgZmllbGQuXHJcbiAgICovXHJcbiAgcHVibGljIGFtb3VudD86IChmaGlyLlF1YW50aXR5fGZoaXIuUmFuZ2V8Zmhpci5GaGlyU3RyaW5nKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBTdWJzdGFuY2VBbW91bnQuYW1vdW50W3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2Ftb3VudElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIE1vc3QgZWxlbWVudHMgdGhhdCByZXF1aXJlIGEgcXVhbnRpdGF0aXZlIHZhbHVlIHdpbGwgYWxzbyBoYXZlIGEgZmllbGQgY2FsbGVkIGFtb3VudCB0eXBlLiBBbW91bnQgdHlwZSBzaG91bGQgYWx3YXlzIGJlIHNwZWNpZmllZCBiZWNhdXNlIHRoZSBhY3R1YWwgdmFsdWUgb2YgdGhlIGFtb3VudCBpcyBvZnRlbiBkZXBlbmRlbnQgb24gaXQuIEVYQU1QTEU6IEluIGNhcHR1cmluZyB0aGUgYWN0dWFsIHJlbGF0aXZlIGFtb3VudHMgb2Ygc3Vic3RhbmNlcyBvciBtb2xlY3VsYXIgZnJhZ21lbnRzIGl0IGlzIGVzc2VudGlhbCB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoZSBhbW91bnQgcmVmZXJzIHRvIGEgbW9sZSByYXRpbyBvciB3ZWlnaHQgcmF0aW8uIEZvciBhbnkgZ2l2ZW4gZWxlbWVudCBhbiBlZmZvcnQgc2hvdWxkIGJlIG1hZGUgdG8gdXNlIHNhbWUgdGhlIGFtb3VudCB0eXBlIGZvciBhbGwgcmVsYXRlZCBkZWZpbml0aW9uYWwgZWxlbWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIGFtb3VudFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB0ZXh0dWFsIGNvbW1lbnQgb24gYSBudW1lcmljIHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbW91bnRUZXh0PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgcmFuZ2Ugb2YgcG9zc2libGUgb3IgZXhwZWN0ZWQgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2VSYW5nZT86IGZoaXIuU3Vic3RhbmNlQW1vdW50UmVmZXJlbmNlUmFuZ2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZUFtb3VudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFN1YnN0YW5jZUFtb3VudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhbW91bnQnXSkgeyB0aGlzLmFtb3VudCA9IHNvdXJjZS5hbW91bnQ7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYW1vdW50UXVhbnRpdHknXSkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5hbW91bnRRdWFudGl0eSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYW1vdW50UmFuZ2UnXSkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLlJhbmdlKHNvdXJjZS5hbW91bnRSYW5nZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYW1vdW50U3RyaW5nJ10pIHsgdGhpcy5hbW91bnQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmFtb3VudFN0cmluZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWydhbW91bnRUeXBlJ10pIHsgdGhpcy5hbW91bnRUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hbW91bnRUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW1vdW50VGV4dCddKSB7IHRoaXMuYW1vdW50VGV4dCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYW1vdW50VGV4dH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2VSYW5nZSddKSB7IHRoaXMucmVmZXJlbmNlUmFuZ2UgPSBuZXcgZmhpci5TdWJzdGFuY2VBbW91bnRSZWZlcmVuY2VSYW5nZShzb3VyY2UucmVmZXJlbmNlUmFuZ2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcImFtb3VudFR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hbW91bnRUeXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImFtb3VudFRleHRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hbW91bnRUZXh0LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInJlZmVyZW5jZVJhbmdlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVmZXJlbmNlUmFuZ2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==