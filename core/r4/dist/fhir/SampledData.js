// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR ComplexType: SampledData
import * as fhir from '../fhir.js';
/**
 * A series of measurements taken by a device, with upper and lower limits. There may be more than one dimension in the data.
 */
export class SampledData extends fhir.FhirElement {
    /**
     * Default constructor for SampledData - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['origin']) {
            this.origin = new fhir.Quantity(source.origin, options);
        }
        else {
            this.origin = null;
        }
        if (source['period'] !== undefined) {
            this.period = new fhir.FhirDecimal({ value: source.period }, options);
        }
        else {
            this.period = null;
        }
        if (source['_period']) {
            if (this.period) {
                this.period.addExtendedProperties(source._period);
            }
            else {
                this.period = new fhir.FhirDecimal(source._period, options);
            }
        }
        if (source['factor'] !== undefined) {
            this.factor = new fhir.FhirDecimal({ value: source.factor }, options);
        }
        if (source['_factor']) {
            if (this.factor) {
                this.factor.addExtendedProperties(source._factor);
            }
            else {
                this.factor = new fhir.FhirDecimal(source._factor, options);
            }
        }
        if (source['lowerLimit'] !== undefined) {
            this.lowerLimit = new fhir.FhirDecimal({ value: source.lowerLimit }, options);
        }
        if (source['_lowerLimit']) {
            if (this.lowerLimit) {
                this.lowerLimit.addExtendedProperties(source._lowerLimit);
            }
            else {
                this.lowerLimit = new fhir.FhirDecimal(source._lowerLimit, options);
            }
        }
        if (source['upperLimit'] !== undefined) {
            this.upperLimit = new fhir.FhirDecimal({ value: source.upperLimit }, options);
        }
        if (source['_upperLimit']) {
            if (this.upperLimit) {
                this.upperLimit.addExtendedProperties(source._upperLimit);
            }
            else {
                this.upperLimit = new fhir.FhirDecimal(source._upperLimit, options);
            }
        }
        if (source['dimensions'] !== undefined) {
            this.dimensions = new fhir.FhirPositiveInt({ value: source.dimensions }, options);
        }
        else {
            this.dimensions = null;
        }
        if (source['_dimensions']) {
            if (this.dimensions) {
                this.dimensions.addExtendedProperties(source._dimensions);
            }
            else {
                this.dimensions = new fhir.FhirPositiveInt(source._dimensions, options);
            }
        }
        if (source['data'] !== undefined) {
            this.data = new fhir.FhirString({ value: source.data }, options);
        }
        if (source['_data']) {
            if (this.data) {
                this.data.addExtendedProperties(source._data);
            }
            else {
                this.data = new fhir.FhirString(source._data, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SampledData';
        }
        iss.push(...this.vRS('origin', exp));
        iss.push(...this.vRS('period', exp));
        iss.push(...this.vOS('factor', exp));
        iss.push(...this.vOS('lowerLimit', exp));
        iss.push(...this.vOS('upperLimit', exp));
        iss.push(...this.vRS('dimensions', exp));
        iss.push(...this.vOS('data', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SampledData._fts_dataType = 'SampledData';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2FtcGxlZERhdGEuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL1NhbXBsZWREYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUVoQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQTREbkM7O0dBRUc7QUFDSCxNQUFNLE9BQU8sV0FBWSxTQUFRLElBQUksQ0FBQyxXQUFXO0lBaUMvQzs7T0FFRztJQUNILFlBQVksU0FBa0MsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDeEYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUM3RTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7YUFDdkc7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxPQUFRLENBQUMsQ0FBQzthQUFFO2lCQUNuRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxD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LENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXRGRDs7R0FFRztBQUM2Qix5QkFBYSxHQUFVLGFBQWEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBDb21wbGV4VHlwZTogU2FtcGxlZERhdGFcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU2FtcGxlZERhdGEgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2FtcGxlZERhdGFBcmdzIGV4dGVuZHMgZmhpci5GaGlyRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBiYXNlIHF1YW50aXR5IHRoYXQgYSBtZWFzdXJlZCB2YWx1ZSBvZiB6ZXJvIHJlcHJlc2VudHMuIEluIGFkZGl0aW9uLCB0aGlzIHByb3ZpZGVzIHRoZSB1bml0cyBvZiB0aGUgZW50aXJlIG1lYXN1cmVtZW50IHNlcmllcy5cclxuICAgKi9cclxuICBvcmlnaW46IGZoaXIuUXVhbnRpdHlBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyB1c3VhbGx5IGEgd2hvbGUgbnVtYmVyLlxyXG4gICAqL1xyXG4gIHBlcmlvZDogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTYW1wbGVkRGF0YS5wZXJpb2RcclxuICAgKi9cclxuICBfcGVyaW9kPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvcnJlY3Rpb24gZmFjdG9yIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2FtcGxlZCBkYXRhIHBvaW50cyBiZWZvcmUgdGhleSBhcmUgYWRkZWQgdG8gdGhlIG9yaWdpbi5cclxuICAgKi9cclxuICBmYWN0b3I/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNhbXBsZWREYXRhLmZhY3RvclxyXG4gICAqL1xyXG4gIF9mYWN0b3I/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb3dlciBsaW1pdCBvZiBkZXRlY3Rpb24gb2YgdGhlIG1lYXN1cmVkIHBvaW50cy4gVGhpcyBpcyBuZWVkZWQgaWYgYW55IG9mIHRoZSBkYXRhIHBvaW50cyBoYXZlIHRoZSB2YWx1ZSBcIkxcIiAobG93ZXIgdGhhbiBkZXRlY3Rpb24gbGltaXQpLlxyXG4gICAqL1xyXG4gIGxvd2VyTGltaXQ/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNhbXBsZWREYXRhLmxvd2VyTGltaXRcclxuICAgKi9cclxuICBfbG93ZXJMaW1pdD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHVwcGVyIGxpbWl0IG9mIGRldGVjdGlvbiBvZiB0aGUgbWVhc3VyZWQgcG9pbnRzLiBUaGlzIGlzIG5lZWRlZCBpZiBhbnkgb2YgdGhlIGRhdGEgcG9pbnRzIGhhdmUgdGhlIHZhbHVlIFwiVVwiIChoaWdoZXIgdGhhbiBkZXRlY3Rpb24gbGltaXQpLlxyXG4gICAqL1xyXG4gIHVwcGVyTGltaXQ/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNhbXBsZWREYXRhLnVwcGVyTGltaXRcclxuICAgKi9cclxuICBfdXBwZXJMaW1pdD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBkaW1lbnNpb24sIHRoZSBjb2RlIGZvciB0aGUgdHlwZSBvZiBkYXRhIHdpbGwgZGVmaW5lIHRoZSBtZWFuaW5nIG9mIHRoZSBkaW1lbnNpb25zICh0eXBpY2FsbHkgRUNHIGRhdGEpLlxyXG4gICAqL1xyXG4gIGRpbWVuc2lvbnM6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNhbXBsZWREYXRhLmRpbWVuc2lvbnNcclxuICAgKi9cclxuICBfZGltZW5zaW9ucz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRGF0YSBtYXkgYmUgbWlzc2luZyBpZiBpdCBpcyBvbWl0dGVkIGZvciBzdW1tYXJpemF0aW9uIHB1cnBvc2VzLiBJbiBnZW5lcmFsLCBkYXRhIGlzIHJlcXVpcmVkIGZvciBhbnkgYWN0dWFsIHVzZSBvZiBhIFNhbXBsZWREYXRhLlxyXG4gICAqL1xyXG4gIGRhdGE/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU2FtcGxlZERhdGEuZGF0YVxyXG4gICAqL1xyXG4gIF9kYXRhPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc2VyaWVzIG9mIG1lYXN1cmVtZW50cyB0YWtlbiBieSBhIGRldmljZSwgd2l0aCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLiBUaGVyZSBtYXkgYmUgbW9yZSB0aGFuIG9uZSBkaW1lbnNpb24gaW4gdGhlIGRhdGEuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2FtcGxlZERhdGEgZXh0ZW5kcyBmaGlyLkZoaXJFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1NhbXBsZWREYXRhJztcclxuICAvKipcclxuICAgKiBUaGUgYmFzZSBxdWFudGl0eSB0aGF0IGEgbWVhc3VyZWQgdmFsdWUgb2YgemVybyByZXByZXNlbnRzLiBJbiBhZGRpdGlvbiwgdGhpcyBwcm92aWRlcyB0aGUgdW5pdHMgb2YgdGhlIGVudGlyZSBtZWFzdXJlbWVudCBzZXJpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIG9yaWdpbjogZmhpci5RdWFudGl0eXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgdXN1YWxseSBhIHdob2xlIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kOiBmaGlyLkZoaXJEZWNpbWFsfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjb3JyZWN0aW9uIGZhY3RvciB0aGF0IGlzIGFwcGxpZWQgdG8gdGhlIHNhbXBsZWQgZGF0YSBwb2ludHMgYmVmb3JlIHRoZXkgYXJlIGFkZGVkIHRvIHRoZSBvcmlnaW4uXHJcbiAgICovXHJcbiAgcHVibGljIGZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb3dlciBsaW1pdCBvZiBkZXRlY3Rpb24gb2YgdGhlIG1lYXN1cmVkIHBvaW50cy4gVGhpcyBpcyBuZWVkZWQgaWYgYW55IG9mIHRoZSBkYXRhIHBvaW50cyBoYXZlIHRoZSB2YWx1ZSBcIkxcIiAobG93ZXIgdGhhbiBkZXRlY3Rpb24gbGltaXQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb3dlckxpbWl0PzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHVwcGVyIGxpbWl0IG9mIGRldGVjdGlvbiBvZiB0aGUgbWVhc3VyZWQgcG9pbnRzLiBUaGlzIGlzIG5lZWRlZCBpZiBhbnkgb2YgdGhlIGRhdGEgcG9pbnRzIGhhdmUgdGhlIHZhbHVlIFwiVVwiIChoaWdoZXIgdGhhbiBkZXRlY3Rpb24gbGltaXQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cHBlckxpbWl0PzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBkaW1lbnNpb24sIHRoZSBjb2RlIGZvciB0aGUgdHlwZSBvZiBkYXRhIHdpbGwgZGVmaW5lIHRoZSBtZWFuaW5nIG9mIHRoZSBkaW1lbnNpb25zICh0eXBpY2FsbHkgRUNHIGRhdGEpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaW1lbnNpb25zOiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERhdGEgbWF5IGJlIG1pc3NpbmcgaWYgaXQgaXMgb21pdHRlZCBmb3Igc3VtbWFyaXphdGlvbiBwdXJwb3Nlcy4gSW4gZ2VuZXJhbCwgZGF0YSBpcyByZXF1aXJlZCBmb3IgYW55IGFjdHVhbCB1c2Ugb2YgYSBTYW1wbGVkRGF0YS5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0YT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU2FtcGxlZERhdGEgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTYW1wbGVkRGF0YUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydvcmlnaW4nXSkgeyB0aGlzLm9yaWdpbiA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5vcmlnaW4sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vcmlnaW4gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UucGVyaW9kfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcmlvZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wZXJpb2QnXSkge1xyXG4gICAgICBpZiAodGhpcy5wZXJpb2QpIHsgdGhpcy5wZXJpb2QuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcGVyaW9kISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9wZXJpb2QgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydmYWN0b3InXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZmFjdG9yID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UuZmFjdG9yfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19mYWN0b3InXSkge1xyXG4gICAgICBpZiAodGhpcy5mYWN0b3IpIHsgdGhpcy5mYWN0b3IuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZmFjdG9yISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZmFjdG9yID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9mYWN0b3IgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydsb3dlckxpbWl0J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmxvd2VyTGltaXQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5sb3dlckxpbWl0fSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19sb3dlckxpbWl0J10pIHtcclxuICAgICAgaWYgKHRoaXMubG93ZXJMaW1pdCkgeyB0aGlzLmxvd2VyTGltaXQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbG93ZXJMaW1pdCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmxvd2VyTGltaXQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2xvd2VyTGltaXQgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd1cHBlckxpbWl0J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnVwcGVyTGltaXQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS51cHBlckxpbWl0fSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ191cHBlckxpbWl0J10pIHtcclxuICAgICAgaWYgKHRoaXMudXBwZXJMaW1pdCkgeyB0aGlzLnVwcGVyTGltaXQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXBwZXJMaW1pdCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVwcGVyTGltaXQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX3VwcGVyTGltaXQgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkaW1lbnNpb25zJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2UuZGltZW5zaW9uc30sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kaW1lbnNpb25zID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RpbWVuc2lvbnMnXSkge1xyXG4gICAgICBpZiAodGhpcy5kaW1lbnNpb25zKSB7IHRoaXMuZGltZW5zaW9ucy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kaW1lbnNpb25zISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGltZW5zaW9ucyA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludChzb3VyY2UuX2RpbWVuc2lvbnMgYXMgUGFydGlhbDxmaGlyLkZoaXJQb3NpdGl2ZUludEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0YSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kYXRhID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kYXRhfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRhJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0YSkgeyB0aGlzLmRhdGEuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0YSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGEgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGF0YSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1NhbXBsZWREYXRhJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnb3JpZ2luJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdwZXJpb2QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2ZhY3RvcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbG93ZXJMaW1pdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndXBwZXJMaW1pdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnZGltZW5zaW9ucycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGF0YScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=