// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Patient
import * as fhir from '../fhir.js';
// @ts-ignore
import { PatientContactrelationshipCodings, } from '../fhirValueSets/PatientContactrelationshipCodings.js';
// @ts-ignore
import { AdministrativeGenderCodes } from '../fhirValueSets/AdministrativeGenderCodes.js';
// @ts-ignore
import { LanguagesCodings, } from '../fhirValueSets/LanguagesCodings.js';
// @ts-ignore
import { LinkTypeCodes } from '../fhirValueSets/LinkTypeCodes.js';
// @ts-ignore
import { MaritalStatusCodings, } from '../fhirValueSets/MaritalStatusCodings.js';
/**
 * Contact covers all kinds of contact parties: family members, business contacts, guardians, caregivers. Not applicable to register pedigree and family ties beyond use of having contact.
 */
export class PatientContact extends fhir.BackboneElement {
    /**
     * Default constructor for PatientContact - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['relationship']) {
            this.relationship = source.relationship.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.relationship = [];
        }
        if (source['name']) {
            this.name = new fhir.HumanName(source.name);
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
        if (source['address']) {
            this.address = new fhir.Address(source.address);
        }
        if (source['gender']) {
            this.gender = new fhir.FhirCode({ value: source.gender });
        }
        if (source['organization']) {
            this.organization = new fhir.Reference(source.organization);
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
    }
    /**
     * Extensible-bound Value Set for relationship (Patient.contact.relationship)
     */
    static get relationshipExtensibleCodings() {
        return PatientContactrelationshipCodings;
    }
    /**
     * Required-bound Value Set for gender (Patient.contact.gender)
     */
    static get genderRequiredCodes() {
        return AdministrativeGenderCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["relationship"]) {
            this.relationship.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["telecom"]) {
            this.telecom.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["address"]) {
            issues.push(...this.address.doModelValidation());
        }
        if (this['gender'] && (!Object.values(AdministrativeGenderCodes).includes(this.gender))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property gender?:fhir.FhirCode<AdministrativeGenderCodeType> fhir: Patient.contact.gender:code Required binding to: AdministrativeGender' });
        }
        if (this["gender"]) {
            issues.push(...this.gender.doModelValidation());
        }
        if (this["organization"]) {
            issues.push(...this.organization.doModelValidation());
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientContact._fts_dataType = 'PatientContact';
/**
 * If no language is specified, this *implies* that the default local language is spoken.  If you need to convey proficiency for multiple modes, then you need multiple Patient.Communication associations.   For animals, language is not a relevant field, and should be absent from the instance. If the Patient does not speak the default local language, then the Interpreter Required Standard can be used to explicitly declare that an interpreter is required.
 */
export class PatientCommunication extends fhir.BackboneElement {
    /**
     * Default constructor for PatientCommunication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['language']) {
            this.language = new fhir.CodeableConcept(source.language);
        }
        else {
            this.language = null;
        }
        if (source['preferred']) {
            this.preferred = new fhir.FhirBoolean({ value: source.preferred });
        }
    }
    /**
     * Preferred-bound Value Set for language (Patient.communication.language)
     */
    static get languagePreferredCodings() {
        return LanguagesCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['language']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property language:fhir.CodeableConcept fhir: Patient.communication.language:CodeableConcept' });
        }
        if (this["language"]) {
            issues.push(...this.language.doModelValidation());
        }
        if (this["preferred"]) {
            issues.push(...this.preferred.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientCommunication._fts_dataType = 'PatientCommunication';
/**
 * There is no assumption that linked patient records have mutual links.
 */
export class PatientLink extends fhir.BackboneElement {
    /**
     * Default constructor for PatientLink - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['other']) {
            this.other = new fhir.Reference(source.other);
        }
        else {
            this.other = null;
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
    }
    /**
     * Required-bound Value Set for type (Patient.link.type)
     */
    static get typeRequiredCodes() {
        return LinkTypeCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['other']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property other:fhir.Reference fhir: Patient.link.other:Reference' });
        }
        if (this["other"]) {
            issues.push(...this.other.doModelValidation());
        }
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.FhirCode<LinkTypeCodeType> fhir: Patient.link.type:code' });
        }
        if (this['type'] && (!Object.values(LinkTypeCodes).includes(this.type))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property type:fhir.FhirCode<LinkTypeCodeType> fhir: Patient.link.type:code Required binding to: LinkType' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientLink._fts_dataType = 'PatientLink';
/**
 * Demographics and other administrative information about an individual or animal receiving care or other health-related services.
 */
export class Patient extends fhir.DomainResource {
    /**
     * Default constructor for Patient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Patient';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['active']) {
            this.active = new fhir.FhirBoolean({ value: source.active });
        }
        if (source['name']) {
            this.name = source.name.map((x) => new fhir.HumanName(x));
        }
        else {
            this.name = [];
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
        if (source['gender']) {
            this.gender = new fhir.FhirCode({ value: source.gender });
        }
        if (source['birthDate']) {
            this.birthDate = new fhir.FhirDate({ value: source.birthDate });
        }
        if (source['deceased']) {
            this.deceased = source.deceased;
        }
        else if (source['deceasedBoolean']) {
            this.deceased = new fhir.FhirBoolean({ value: source.deceasedBoolean });
        }
        else if (source['deceasedDateTime']) {
            this.deceased = new fhir.FhirDateTime({ value: source.deceasedDateTime });
        }
        if (source['address']) {
            this.address = source.address.map((x) => new fhir.Address(x));
        }
        else {
            this.address = [];
        }
        if (source['maritalStatus']) {
            this.maritalStatus = new fhir.CodeableConcept(source.maritalStatus);
        }
        if (source['multipleBirth']) {
            this.multipleBirth = source.multipleBirth;
        }
        else if (source['multipleBirthBoolean']) {
            this.multipleBirth = new fhir.FhirBoolean({ value: source.multipleBirthBoolean });
        }
        else if (source['multipleBirthInteger']) {
            this.multipleBirth = new fhir.FhirInteger({ value: source.multipleBirthInteger });
        }
        if (source['photo']) {
            this.photo = source.photo.map((x) => new fhir.Attachment(x));
        }
        else {
            this.photo = [];
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.PatientContact(x));
        }
        else {
            this.contact = [];
        }
        if (source['communication']) {
            this.communication = source.communication.map((x) => new fhir.PatientCommunication(x));
        }
        else {
            this.communication = [];
        }
        if (source['generalPractitioner']) {
            this.generalPractitioner = source.generalPractitioner.map((x) => new fhir.Reference(x));
        }
        else {
            this.generalPractitioner = [];
        }
        if (source['managingOrganization']) {
            this.managingOrganization = new fhir.Reference(source.managingOrganization);
        }
        if (source['link']) {
            this.link = source.link.map((x) => new fhir.PatientLink(x));
        }
        else {
            this.link = [];
        }
    }
    /**
     * Required-bound Value Set for gender (Patient.gender)
     */
    static get genderRequiredCodes() {
        return AdministrativeGenderCodes;
    }
    /**
     * Extensible-bound Value Set for maritalStatus (Patient.maritalStatus)
     */
    static get maritalStatusExtensibleCodings() {
        return MaritalStatusCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"Patient" fhir: Patient.resourceType:"Patient"' });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["active"]) {
            issues.push(...this.active.doModelValidation());
        }
        if (this["name"]) {
            this.name.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["telecom"]) {
            this.telecom.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this['gender'] && (!Object.values(AdministrativeGenderCodes).includes(this.gender))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property gender?:fhir.FhirCode<AdministrativeGenderCodeType> fhir: Patient.gender:code Required binding to: AdministrativeGender' });
        }
        if (this["gender"]) {
            issues.push(...this.gender.doModelValidation());
        }
        if (this["birthDate"]) {
            issues.push(...this.birthDate.doModelValidation());
        }
        if (this["address"]) {
            this.address.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["maritalStatus"]) {
            issues.push(...this.maritalStatus.doModelValidation());
        }
        if (this["photo"]) {
            this.photo.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["contact"]) {
            this.contact.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["communication"]) {
            this.communication.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["generalPractitioner"]) {
            this.generalPractitioner.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["managingOrganization"]) {
            issues.push(...this.managingOrganization.doModelValidation());
        }
        if (this["link"]) {
            this.link.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Patient._fts_dataType = 'Patient';
/**
 * Internal flag to properly serialize choice-type element Patient.deceased[x]
 */
Patient._fts_deceasedIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Patient.multipleBirth[x]
 */
Patient._fts_multipleBirthIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGF0aWVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvUGF0aWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyx5QkFBeUI7QUFFekIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFFbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxpQ0FBaUMsR0FBd0MsTUFBTSx1REFBdUQsQ0FBQztBQUtoSixhQUFhO0FBQ2IsT0FBTyxFQUFFLHlCQUF5QixFQUFpQyxNQUFNLCtDQUErQyxDQUFDO0FBQ3pILGFBQWE7QUFDYixPQUFPLEVBQUUsZ0JBQWdCLEdBQXVCLE1BQU0sc0NBQXNDLENBQUM7QUFLN0YsYUFBYTtBQUNiLE9BQU8sRUFBRSxhQUFhLEVBQXFCLE1BQU0sbUNBQW1DLENBQUM7QUFDckYsYUFBYTtBQUNiLE9BQU8sRUFBRSxvQkFBb0IsR0FBMkIsTUFBTSwwQ0FBMEMsQ0FBQztBQXFDekc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sY0FBZSxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUN0RDs7T0FFRztJQUNILFlBQVksU0FBcUMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDM0YsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDM0c7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ2hDLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUks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QUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDMUYsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUEvSkQ7O0dBRUc7QUFDNkIscUJBQWEsR0FBVSxTQUFTLENBQUM7QUFpQ2pFOztHQUVHO0FBQ3VCLDZCQUFxQixHQUFRLElBQUksQ0FBQztBQWE1RDs7R0FFRztBQUN1QixrQ0FBMEIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IFBhdGllbnRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhdGllbnRDb250YWN0cmVsYXRpb25zaGlwQ29kaW5ncywgUGF0aWVudENvbnRhY3RyZWxhdGlvbnNoaXBDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYXRpZW50Q29udGFjdHJlbGF0aW9uc2hpcENvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhdGllbnRDb250YWN0cmVsYXRpb25zaGlwQ29kZXMsICBQYXRpZW50Q29udGFjdHJlbGF0aW9uc2hpcENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYXRpZW50Q29udGFjdHJlbGF0aW9uc2hpcENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGluZ3MsIEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzLCAgQWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYXRpdmVHZW5kZXJDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGFuZ3VhZ2VzQ29kaW5ncywgTGFuZ3VhZ2VzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGFuZ3VhZ2VzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGFuZ3VhZ2VzQ29kZXMsICBMYW5ndWFnZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGFuZ3VhZ2VzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExpbmtUeXBlQ29kaW5ncywgTGlua1R5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MaW5rVHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExpbmtUeXBlQ29kZXMsICBMaW5rVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MaW5rVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNYXJpdGFsU3RhdHVzQ29kaW5ncywgTWFyaXRhbFN0YXR1c0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01hcml0YWxTdGF0dXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNYXJpdGFsU3RhdHVzQ29kZXMsICBNYXJpdGFsU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01hcml0YWxTdGF0dXNDb2Rlcy5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYXRpZW50Q29udGFjdCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQYXRpZW50Q29udGFjdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYXR1cmUgb2YgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBwYXRpZW50IGFuZCB0aGUgY29udGFjdCBwZXJzb24uXHJcbiAgICovXHJcbiAgcmVsYXRpb25zaGlwPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbnRhY3QgcGVyc29uLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkh1bWFuTmFtZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgbWF5IGhhdmUgbXVsdGlwbGUgd2F5cyB0byBiZSBjb250YWN0ZWQgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuICBNYXkgbmVlZCB0byBoYXZlIG9wdGlvbnMgZm9yIGNvbnRhY3RpbmcgdGhlIHBlcnNvbiB1cmdlbnRseSwgYW5kIGFsc28gdG8gaGVscCB3aXRoIGlkZW50aWZpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHRlbGVjb20/OiBmaGlyLkNvbnRhY3RQb2ludEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkcmVzcyBmb3IgdGhlIGNvbnRhY3QgcGVyc29uLlxyXG4gICAqL1xyXG4gIGFkZHJlc3M/OiBmaGlyLkFkZHJlc3NBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZG1pbmlzdHJhdGl2ZSBHZW5kZXIgLSB0aGUgZ2VuZGVyIHRoYXQgdGhlIGNvbnRhY3QgcGVyc29uIGlzIGNvbnNpZGVyZWQgdG8gaGF2ZSBmb3IgYWRtaW5pc3RyYXRpb24gYW5kIHJlY29yZCBrZWVwaW5nIHB1cnBvc2VzLlxyXG4gICAqL1xyXG4gIGdlbmRlcj86IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPcmdhbml6YXRpb24gb24gYmVoYWxmIG9mIHdoaWNoIHRoZSBjb250YWN0IGlzIGFjdGluZyBvciBmb3Igd2hpY2ggdGhlIGNvbnRhY3QgaXMgd29ya2luZy5cclxuICAgKi9cclxuICBvcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwZXJpb2QgZHVyaW5nIHdoaWNoIHRoaXMgY29udGFjdCBwZXJzb24gb3Igb3JnYW5pemF0aW9uIGlzIHZhbGlkIHRvIGJlIGNvbnRhY3RlZCByZWxhdGluZyB0byB0aGlzIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnRhY3QgY292ZXJzIGFsbCBraW5kcyBvZiBjb250YWN0IHBhcnRpZXM6IGZhbWlseSBtZW1iZXJzLCBidXNpbmVzcyBjb250YWN0cywgZ3VhcmRpYW5zLCBjYXJlZ2l2ZXJzLiBOb3QgYXBwbGljYWJsZSB0byByZWdpc3RlciBwZWRpZ3JlZSBhbmQgZmFtaWx5IHRpZXMgYmV5b25kIHVzZSBvZiBoYXZpbmcgY29udGFjdC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXRpZW50Q29udGFjdCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhdGllbnRDb250YWN0JztcclxuICAvKipcclxuICAgKiBUaGUgbmF0dXJlIG9mIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgcGF0aWVudCBhbmQgdGhlIGNvbnRhY3QgcGVyc29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGlvbnNoaXA6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQSBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29udGFjdCBwZXJzb24uXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkh1bWFuTmFtZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdCBtYXkgaGF2ZSBtdWx0aXBsZSB3YXlzIHRvIGJlIGNvbnRhY3RlZCB3aXRoIGRpZmZlcmVudCB1c2VzIG9yIGFwcGxpY2FibGUgcGVyaW9kcy4gIE1heSBuZWVkIHRvIGhhdmUgb3B0aW9ucyBmb3IgY29udGFjdGluZyB0aGUgcGVyc29uIHVyZ2VudGx5LCBhbmQgYWxzbyB0byBoZWxwIHdpdGggaWRlbnRpZmljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHRlbGVjb206IGZoaXIuQ29udGFjdFBvaW50W107XHJcbiAgLyoqXHJcbiAgICogQWRkcmVzcyBmb3IgdGhlIGNvbnRhY3QgcGVyc29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRyZXNzPzogZmhpci5BZGRyZXNzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZG1pbmlzdHJhdGl2ZSBHZW5kZXIgLSB0aGUgZ2VuZGVyIHRoYXQgdGhlIGNvbnRhY3QgcGVyc29uIGlzIGNvbnNpZGVyZWQgdG8gaGF2ZSBmb3IgYWRtaW5pc3RyYXRpb24gYW5kIHJlY29yZCBrZWVwaW5nIHB1cnBvc2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZW5kZXI/OiBmaGlyLkZoaXJDb2RlPEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPcmdhbml6YXRpb24gb24gYmVoYWxmIG9mIHdoaWNoIHRoZSBjb250YWN0IGlzIGFjdGluZyBvciBmb3Igd2hpY2ggdGhlIGNvbnRhY3QgaXMgd29ya2luZy5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pemF0aW9uPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwZXJpb2QgZHVyaW5nIHdoaWNoIHRoaXMgY29udGFjdCBwZXJzb24gb3Igb3JnYW5pemF0aW9uIGlzIHZhbGlkIHRvIGJlIGNvbnRhY3RlZCByZWxhdGluZyB0byB0aGlzIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYXRpZW50Q29udGFjdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhdGllbnRDb250YWN0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3JlbGF0aW9uc2hpcCddKSB7IHRoaXMucmVsYXRpb25zaGlwID0gc291cmNlLnJlbGF0aW9uc2hpcC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlbGF0aW9uc2hpcCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuSHVtYW5OYW1lKHNvdXJjZS5uYW1lKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGVsZWNvbSddKSB7IHRoaXMudGVsZWNvbSA9IHNvdXJjZS50ZWxlY29tLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29udGFjdFBvaW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGVsZWNvbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10pIHsgdGhpcy5hZGRyZXNzID0gbmV3IGZoaXIuQWRkcmVzcyhzb3VyY2UuYWRkcmVzcyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2dlbmRlciddKSB7IHRoaXMuZ2VuZGVyID0gbmV3IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuZ2VuZGVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXphdGlvbiddKSB7IHRoaXMub3JnYW5pemF0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vcmdhbml6YXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UucGVyaW9kKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgcmVsYXRpb25zaGlwIChQYXRpZW50LmNvbnRhY3QucmVsYXRpb25zaGlwKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHJlbGF0aW9uc2hpcEV4dGVuc2libGVDb2RpbmdzKCkge1xyXG4gICAgcmV0dXJuIFBhdGllbnRDb250YWN0cmVsYXRpb25zaGlwQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBnZW5kZXIgKFBhdGllbnQuY29udGFjdC5nZW5kZXIpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgZ2VuZGVyUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJyZWxhdGlvbnNoaXBcIl0pIHsgdGhpcy5yZWxhdGlvbnNoaXAuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uYW1lLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInRlbGVjb21cIl0pIHsgdGhpcy50ZWxlY29tLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJhZGRyZXNzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYWRkcmVzcy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbJ2dlbmRlciddICYmICghT2JqZWN0LnZhbHVlcyhBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzKS5pbmNsdWRlcyh0aGlzLmdlbmRlciBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgZ2VuZGVyPzpmaGlyLkZoaXJDb2RlPEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+IGZoaXI6IFBhdGllbnQuY29udGFjdC5nZW5kZXI6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBBZG1pbmlzdHJhdGl2ZUdlbmRlcicgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImdlbmRlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmdlbmRlci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcmdhbml6YXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vcmdhbml6YXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGVyaW9kXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGVyaW9kLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGF0aWVudENvbW11bmljYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGF0aWVudENvbW11bmljYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgc3RydWN0dXJlIGFhLUJCIHdpdGggdGhpcyBleGFjdCBjYXNpbmcgaXMgb25lIHRoZSBtb3N0IHdpZGVseSB1c2VkIG5vdGF0aW9ucyBmb3IgbG9jYWxlLiBIb3dldmVyIG5vdCBhbGwgc3lzdGVtcyBhY3R1YWxseSBjb2RlIHRoaXMgYnV0IGluc3RlYWQgaGF2ZSBpdCBhcyBmcmVlIHRleHQuIEhlbmNlIENvZGVhYmxlQ29uY2VwdCBpbnN0ZWFkIG9mIGNvZGUgYXMgdGhlIGRhdGEgdHlwZS5cclxuICAgKi9cclxuICBsYW5ndWFnZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBsYW5ndWFnZSBpcyBzcGVjaWZpY2FsbHkgaWRlbnRpZmllZCBmb3IgY29tbXVuaWNhdGluZyBoZWFsdGhjYXJlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHByZWZlcnJlZD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJZiBubyBsYW5ndWFnZSBpcyBzcGVjaWZpZWQsIHRoaXMgKmltcGxpZXMqIHRoYXQgdGhlIGRlZmF1bHQgbG9jYWwgbGFuZ3VhZ2UgaXMgc3Bva2VuLiAgSWYgeW91IG5lZWQgdG8gY29udmV5IHByb2ZpY2llbmN5IGZvciBtdWx0aXBsZSBtb2RlcywgdGhlbiB5b3UgbmVlZCBtdWx0aXBsZSBQYXRpZW50LkNvbW11bmljYXRpb24gYXNzb2NpYXRpb25zLiAgIEZvciBhbmltYWxzLCBsYW5ndWFnZSBpcyBub3QgYSByZWxldmFudCBmaWVsZCwgYW5kIHNob3VsZCBiZSBhYnNlbnQgZnJvbSB0aGUgaW5zdGFuY2UuIElmIHRoZSBQYXRpZW50IGRvZXMgbm90IHNwZWFrIHRoZSBkZWZhdWx0IGxvY2FsIGxhbmd1YWdlLCB0aGVuIHRoZSBJbnRlcnByZXRlciBSZXF1aXJlZCBTdGFuZGFyZCBjYW4gYmUgdXNlZCB0byBleHBsaWNpdGx5IGRlY2xhcmUgdGhhdCBhbiBpbnRlcnByZXRlciBpcyByZXF1aXJlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXRpZW50Q29tbXVuaWNhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhdGllbnRDb21tdW5pY2F0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc3RydWN0dXJlIGFhLUJCIHdpdGggdGhpcyBleGFjdCBjYXNpbmcgaXMgb25lIHRoZSBtb3N0IHdpZGVseSB1c2VkIG5vdGF0aW9ucyBmb3IgbG9jYWxlLiBIb3dldmVyIG5vdCBhbGwgc3lzdGVtcyBhY3R1YWxseSBjb2RlIHRoaXMgYnV0IGluc3RlYWQgaGF2ZSBpdCBhcyBmcmVlIHRleHQuIEhlbmNlIENvZGVhYmxlQ29uY2VwdCBpbnN0ZWFkIG9mIGNvZGUgYXMgdGhlIGRhdGEgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgbGFuZ3VhZ2U6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBsYW5ndWFnZSBpcyBzcGVjaWZpY2FsbHkgaWRlbnRpZmllZCBmb3IgY29tbXVuaWNhdGluZyBoZWFsdGhjYXJlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmVmZXJyZWQ/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYXRpZW50Q29tbXVuaWNhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhdGllbnRDb21tdW5pY2F0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2xhbmd1YWdlJ10pIHsgdGhpcy5sYW5ndWFnZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubGFuZ3VhZ2UpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5sYW5ndWFnZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZWZlcnJlZCddKSB7IHRoaXMucHJlZmVycmVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UucHJlZmVycmVkfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUHJlZmVycmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgbGFuZ3VhZ2UgKFBhdGllbnQuY29tbXVuaWNhdGlvbi5sYW5ndWFnZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBsYW5ndWFnZVByZWZlcnJlZENvZGluZ3MoKSB7XHJcbiAgICByZXR1cm4gTGFuZ3VhZ2VzQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snbGFuZ3VhZ2UnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgbGFuZ3VhZ2U6Zmhpci5Db2RlYWJsZUNvbmNlcHQgZmhpcjogUGF0aWVudC5jb21tdW5pY2F0aW9uLmxhbmd1YWdlOkNvZGVhYmxlQ29uY2VwdCcgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImxhbmd1YWdlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubGFuZ3VhZ2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHJlZmVycmVkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHJlZmVycmVkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGF0aWVudExpbmsgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGF0aWVudExpbmtBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2luZyBhIFJlbGF0ZWRQZXJzb24gaGVyZSByZW1vdmVzIHRoZSBuZWVkIHRvIHVzZSBhIFBlcnNvbiByZWNvcmQgdG8gYXNzb2NpYXRlIGEgUGF0aWVudCBhbmQgUmVsYXRlZFBlcnNvbiBhcyB0aGUgc2FtZSBpbmRpdmlkdWFsLlxyXG4gICAqL1xyXG4gIG90aGVyOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBsaW5rIGJldHdlZW4gdGhpcyBwYXRpZW50IHJlc291cmNlIGFuZCBhbm90aGVyIHBhdGllbnQgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5GaGlyQ29kZTxMaW5rVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlcmUgaXMgbm8gYXNzdW1wdGlvbiB0aGF0IGxpbmtlZCBwYXRpZW50IHJlY29yZHMgaGF2ZSBtdXR1YWwgbGlua3MuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGF0aWVudExpbmsgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYXRpZW50TGluayc7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNpbmcgYSBSZWxhdGVkUGVyc29uIGhlcmUgcmVtb3ZlcyB0aGUgbmVlZCB0byB1c2UgYSBQZXJzb24gcmVjb3JkIHRvIGFzc29jaWF0ZSBhIFBhdGllbnQgYW5kIFJlbGF0ZWRQZXJzb24gYXMgdGhlIHNhbWUgaW5kaXZpZHVhbC5cclxuICAgKi9cclxuICBwdWJsaWMgb3RoZXI6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgbGluayBiZXR3ZWVuIHRoaXMgcGF0aWVudCByZXNvdXJjZSBhbmQgYW5vdGhlciBwYXRpZW50IHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkZoaXJDb2RlPExpbmtUeXBlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGF0aWVudExpbmsgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYXRpZW50TGlua0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydvdGhlciddKSB7IHRoaXMub3RoZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm90aGVyKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3RoZXIgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8TGlua1R5cGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHR5cGUgKFBhdGllbnQubGluay50eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHR5cGVSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIExpbmtUeXBlQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ290aGVyJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG90aGVyOmZoaXIuUmVmZXJlbmNlIGZoaXI6IFBhdGllbnQubGluay5vdGhlcjpSZWZlcmVuY2UnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJvdGhlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm90aGVyLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3R5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkZoaXJDb2RlPExpbmtUeXBlQ29kZVR5cGU+IGZoaXI6IFBhdGllbnQubGluay50eXBlOmNvZGUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbJ3R5cGUnXSAmJiAoIU9iamVjdC52YWx1ZXMoTGlua1R5cGVDb2RlcykuaW5jbHVkZXModGhpcy50eXBlIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSB0eXBlOmZoaXIuRmhpckNvZGU8TGlua1R5cGVDb2RlVHlwZT4gZmhpcjogUGF0aWVudC5saW5rLnR5cGU6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBMaW5rVHlwZScgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGF0aWVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQYXRpZW50QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiUGF0aWVudFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIGZvciB0aGlzIHBhdGllbnQuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgYSByZWNvcmQgaXMgaW5hY3RpdmUsIGFuZCBsaW5rZWQgdG8gYW4gYWN0aXZlIHJlY29yZCwgdGhlbiBmdXR1cmUgcGF0aWVudC9yZWNvcmQgdXBkYXRlcyBzaG91bGQgb2NjdXIgb24gdGhlIG90aGVyIHBhdGllbnQuXHJcbiAgICovXHJcbiAgYWN0aXZlPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgbmFtZXMgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuIEZvciBhbmltYWxzLCB0aGUgbmFtZSBpcyBhIFwiSHVtYW5OYW1lXCIgaW4gdGhlIHNlbnNlIHRoYXQgaXMgYXNzaWduZWQgYW5kIHVzZWQgYnkgaHVtYW5zIGFuZCBoYXMgdGhlIHNhbWUgcGF0dGVybnMuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuSHVtYW5OYW1lQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIFBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgd2F5cyB0byBiZSBjb250YWN0ZWQgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuICBNYXkgbmVlZCB0byBoYXZlIG9wdGlvbnMgZm9yIGNvbnRhY3RpbmcgdGhlIHBlcnNvbiB1cmdlbnRseSBhbmQgYWxzbyB0byBoZWxwIHdpdGggaWRlbnRpZmljYXRpb24uIFRoZSBhZGRyZXNzIG1pZ2h0IG5vdCBnbyBkaXJlY3RseSB0byB0aGUgaW5kaXZpZHVhbCwgYnV0IG1heSByZWFjaCBhbm90aGVyIHBhcnR5IHRoYXQgaXMgYWJsZSB0byBwcm94eSBmb3IgdGhlIHBhdGllbnQgKGkuZS4gaG9tZSBwaG9uZSwgb3IgcGV0IG93bmVyJ3MgcGhvbmUpLlxyXG4gICAqL1xyXG4gIHRlbGVjb20/OiBmaGlyLkNvbnRhY3RQb2ludEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGdlbmRlciBtaWdodCBub3QgbWF0Y2ggdGhlIGJpb2xvZ2ljYWwgc2V4IGFzIGRldGVybWluZWQgYnkgZ2VuZXRpY3Mgb3IgdGhlIGluZGl2aWR1YWwncyBwcmVmZXJyZWQgaWRlbnRpZmljYXRpb24uIE5vdGUgdGhhdCBmb3IgYm90aCBodW1hbnMgYW5kIHBhcnRpY3VsYXJseSBhbmltYWxzLCB0aGVyZSBhcmUgb3RoZXIgbGVnaXRpbWF0ZSBwb3NzaWJpbGl0aWVzIHRoYW4gbWFsZSBhbmQgZmVtYWxlLCB0aG91Z2ggdGhlIHZhc3QgbWFqb3JpdHkgb2Ygc3lzdGVtcyBhbmQgY29udGV4dHMgb25seSBzdXBwb3J0IG1hbGUgYW5kIGZlbWFsZS4gIFN5c3RlbXMgcHJvdmlkaW5nIGRlY2lzaW9uIHN1cHBvcnQgb3IgZW5mb3JjaW5nIGJ1c2luZXNzIHJ1bGVzIHNob3VsZCBpZGVhbGx5IGRvIHRoaXMgb24gdGhlIGJhc2lzIG9mIE9ic2VydmF0aW9ucyBkZWFsaW5nIHdpdGggdGhlIHNwZWNpZmljIHNleCBvciBnZW5kZXIgYXNwZWN0IG9mIGludGVyZXN0IChhbmF0b21pY2FsLCBjaHJvbW9zb21hbCwgc29jaWFsLCBldGMuKSAgSG93ZXZlciwgYmVjYXVzZSB0aGVzZSBvYnNlcnZhdGlvbnMgYXJlIGluZnJlcXVlbnRseSByZWNvcmRlZCwgZGVmYXVsdGluZyB0byB0aGUgYWRtaW5pc3RyYXRpdmUgZ2VuZGVyIGlzIGNvbW1vbiBwcmFjdGljZS4gIFdoZXJlIHN1Y2ggZGVmYXVsdGluZyBvY2N1cnMsIHJ1bGUgZW5mb3JjZW1lbnQgc2hvdWxkIGFsbG93IGZvciB0aGUgdmFyaWF0aW9uIGJldHdlZW4gYWRtaW5pc3RyYXRpdmUgYW5kIGJpb2xvZ2ljYWwsIGNocm9tb3NvbWFsIGFuZCBvdGhlciBnZW5kZXIgYXNwZWN0cy4gIEZvciBleGFtcGxlLCBhbiBhbGVydCBhYm91dCBhIGh5c3RlcmVjdG9teSBvbiBhIG1hbGUgc2hvdWxkIGJlIGhhbmRsZWQgYXMgYSB3YXJuaW5nIG9yIG92ZXJyaWRhYmxlIGVycm9yLCBub3QgYSBcImhhcmRcIiBlcnJvci4gIFNlZSB0aGUgUGF0aWVudCBHZW5kZXIgYW5kIFNleCBzZWN0aW9uIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IGNvbW11bmljYXRpbmcgcGF0aWVudCBnZW5kZXIgYW5kIHNleC5cclxuICAgKi9cclxuICBnZW5kZXI/OiBmaGlyLkZoaXJDb2RlPEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXQgbGVhc3QgYW4gZXN0aW1hdGVkIHllYXIgc2hvdWxkIGJlIHByb3ZpZGVkIGFzIGEgZ3Vlc3MgaWYgdGhlIHJlYWwgRE9CIGlzIHVua25vd24gIFRoZXJlIGlzIGEgc3RhbmRhcmQgZXh0ZW5zaW9uIFwicGF0aWVudC1iaXJ0aFRpbWVcIiBhdmFpbGFibGUgdGhhdCBzaG91bGQgYmUgdXNlZCB3aGVyZSBUaW1lIGlzIHJlcXVpcmVkIChzdWNoIGFzIGluIG1hdGVybml0eS9pbmZhbnQgY2FyZSBzeXN0ZW1zKS5cclxuICAgKi9cclxuICBiaXJ0aERhdGU/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUncyBubyB2YWx1ZSBpbiB0aGUgaW5zdGFuY2UsIGl0IG1lYW5zIHRoZXJlIGlzIG5vIHN0YXRlbWVudCBvbiB3aGV0aGVyIG9yIG5vdCB0aGUgaW5kaXZpZHVhbCBpcyBkZWNlYXNlZC4gTW9zdCBzeXN0ZW1zIHdpbGwgaW50ZXJwcmV0IHRoZSBhYnNlbmNlIG9mIGEgdmFsdWUgYXMgYSBzaWduIG9mIHRoZSBwZXJzb24gYmVpbmcgYWxpdmUuXHJcbiAgICovXHJcbiAgZGVjZWFzZWQ/OiBmaGlyLkZoaXJCb29sZWFufGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGVyZSdzIG5vIHZhbHVlIGluIHRoZSBpbnN0YW5jZSwgaXQgbWVhbnMgdGhlcmUgaXMgbm8gc3RhdGVtZW50IG9uIHdoZXRoZXIgb3Igbm90IHRoZSBpbmRpdmlkdWFsIGlzIGRlY2Vhc2VkLiBNb3N0IHN5c3RlbXMgd2lsbCBpbnRlcnByZXQgdGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBhcyBhIHNpZ24gb2YgdGhlIHBlcnNvbiBiZWluZyBhbGl2ZS5cclxuICAgKi9cclxuICBkZWNlYXNlZEJvb2xlYW4/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZXJlJ3Mgbm8gdmFsdWUgaW4gdGhlIGluc3RhbmNlLCBpdCBtZWFucyB0aGVyZSBpcyBubyBzdGF0ZW1lbnQgb24gd2hldGhlciBvciBub3QgdGhlIGluZGl2aWR1YWwgaXMgZGVjZWFzZWQuIE1vc3Qgc3lzdGVtcyB3aWxsIGludGVycHJldCB0aGUgYWJzZW5jZSBvZiBhIHZhbHVlIGFzIGEgc2lnbiBvZiB0aGUgcGVyc29uIGJlaW5nIGFsaXZlLlxyXG4gICAqL1xyXG4gIGRlY2Vhc2VkRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgYWRkcmVzc2VzIHdpdGggZGlmZmVyZW50IHVzZXMgb3IgYXBwbGljYWJsZSBwZXJpb2RzLlxyXG4gICAqL1xyXG4gIGFkZHJlc3M/OiBmaGlyLkFkZHJlc3NBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgY29udGFpbnMgYSBwYXRpZW50J3MgbW9zdCByZWNlbnQgbWFyaXRhbCAoY2l2aWwpIHN0YXR1cy5cclxuICAgKi9cclxuICBtYXJpdGFsU3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgdmFsdWVJbnRlZ2VyIGlzIHByb3ZpZGVkLCB0aGUgbnVtYmVyIGlzIHRoZSBiaXJ0aCBudW1iZXIgaW4gdGhlIHNlcXVlbmNlLiBFLmcuIFRoZSBtaWRkbGUgYmlydGggaW4gdHJpcGxldHMgd291bGQgYmUgdmFsdWVJbnRlZ2VyPTIgYW5kIHRoZSB0aGlyZCBib3JuIHdvdWxkIGhhdmUgdmFsdWVJbnRlZ2VyPTMgSWYgYSBib29sZWFuIHZhbHVlIHdhcyBwcm92aWRlZCBmb3IgdGhpcyB0cmlwbGV0cyBleGFtcGxlLCB0aGVuIGFsbCAzIHBhdGllbnQgcmVjb3JkcyB3b3VsZCBoYXZlIHZhbHVlQm9vbGVhbj10cnVlICh0aGUgb3JkZXJpbmcgaXMgbm90IGluZGljYXRlZCkuXHJcbiAgICovXHJcbiAgbXVsdGlwbGVCaXJ0aD86IGZoaXIuRmhpckJvb2xlYW58Zmhpci5GaGlySW50ZWdlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIHZhbHVlSW50ZWdlciBpcyBwcm92aWRlZCwgdGhlIG51bWJlciBpcyB0aGUgYmlydGggbnVtYmVyIGluIHRoZSBzZXF1ZW5jZS4gRS5nLiBUaGUgbWlkZGxlIGJpcnRoIGluIHRyaXBsZXRzIHdvdWxkIGJlIHZhbHVlSW50ZWdlcj0yIGFuZCB0aGUgdGhpcmQgYm9ybiB3b3VsZCBoYXZlIHZhbHVlSW50ZWdlcj0zIElmIGEgYm9vbGVhbiB2YWx1ZSB3YXMgcHJvdmlkZWQgZm9yIHRoaXMgdHJpcGxldHMgZXhhbXBsZSwgdGhlbiBhbGwgMyBwYXRpZW50IHJlY29yZHMgd291bGQgaGF2ZSB2YWx1ZUJvb2xlYW49dHJ1ZSAodGhlIG9yZGVyaW5nIGlzIG5vdCBpbmRpY2F0ZWQpLlxyXG4gICAqL1xyXG4gIG11bHRpcGxlQmlydGhCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgdmFsdWVJbnRlZ2VyIGlzIHByb3ZpZGVkLCB0aGUgbnVtYmVyIGlzIHRoZSBiaXJ0aCBudW1iZXIgaW4gdGhlIHNlcXVlbmNlLiBFLmcuIFRoZSBtaWRkbGUgYmlydGggaW4gdHJpcGxldHMgd291bGQgYmUgdmFsdWVJbnRlZ2VyPTIgYW5kIHRoZSB0aGlyZCBib3JuIHdvdWxkIGhhdmUgdmFsdWVJbnRlZ2VyPTMgSWYgYSBib29sZWFuIHZhbHVlIHdhcyBwcm92aWRlZCBmb3IgdGhpcyB0cmlwbGV0cyBleGFtcGxlLCB0aGVuIGFsbCAzIHBhdGllbnQgcmVjb3JkcyB3b3VsZCBoYXZlIHZhbHVlQm9vbGVhbj10cnVlICh0aGUgb3JkZXJpbmcgaXMgbm90IGluZGljYXRlZCkuXHJcbiAgICovXHJcbiAgbXVsdGlwbGVCaXJ0aEludGVnZXI/OiBmaGlyLkZoaXJJbnRlZ2VyfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogR3VpZGVsaW5lczpcclxuICAgKiAqIFVzZSBpZCBwaG90b3MsIG5vdCBjbGluaWNhbCBwaG90b3MuXHJcbiAgICogKiBMaW1pdCBkaW1lbnNpb25zIHRvIHRodW1ibmFpbC5cclxuICAgKiAqIEtlZXAgYnl0ZSBjb3VudCBsb3cgdG8gZWFzZSByZXNvdXJjZSB1cGRhdGVzLlxyXG4gICAqL1xyXG4gIHBob3RvPzogZmhpci5BdHRhY2htZW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb250YWN0IGNvdmVycyBhbGwga2luZHMgb2YgY29udGFjdCBwYXJ0aWVzOiBmYW1pbHkgbWVtYmVycywgYnVzaW5lc3MgY29udGFjdHMsIGd1YXJkaWFucywgY2FyZWdpdmVycy4gTm90IGFwcGxpY2FibGUgdG8gcmVnaXN0ZXIgcGVkaWdyZWUgYW5kIGZhbWlseSB0aWVzIGJleW9uZCB1c2Ugb2YgaGF2aW5nIGNvbnRhY3QuXHJcbiAgICovXHJcbiAgY29udGFjdD86IGZoaXIuUGF0aWVudENvbnRhY3RBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIG5vIGxhbmd1YWdlIGlzIHNwZWNpZmllZCwgdGhpcyAqaW1wbGllcyogdGhhdCB0aGUgZGVmYXVsdCBsb2NhbCBsYW5ndWFnZSBpcyBzcG9rZW4uICBJZiB5b3UgbmVlZCB0byBjb252ZXkgcHJvZmljaWVuY3kgZm9yIG11bHRpcGxlIG1vZGVzLCB0aGVuIHlvdSBuZWVkIG11bHRpcGxlIFBhdGllbnQuQ29tbXVuaWNhdGlvbiBhc3NvY2lhdGlvbnMuICAgRm9yIGFuaW1hbHMsIGxhbmd1YWdlIGlzIG5vdCBhIHJlbGV2YW50IGZpZWxkLCBhbmQgc2hvdWxkIGJlIGFic2VudCBmcm9tIHRoZSBpbnN0YW5jZS4gSWYgdGhlIFBhdGllbnQgZG9lcyBub3Qgc3BlYWsgdGhlIGRlZmF1bHQgbG9jYWwgbGFuZ3VhZ2UsIHRoZW4gdGhlIEludGVycHJldGVyIFJlcXVpcmVkIFN0YW5kYXJkIGNhbiBiZSB1c2VkIHRvIGV4cGxpY2l0bHkgZGVjbGFyZSB0aGF0IGFuIGludGVycHJldGVyIGlzIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIGNvbW11bmljYXRpb24/OiBmaGlyLlBhdGllbnRDb21tdW5pY2F0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBiZSB0aGUgcHJpbWFyeSBjYXJlIHByb3ZpZGVyIChpbiBhIEdQIGNvbnRleHQpLCBvciBpdCBtYXkgYmUgYSBwYXRpZW50IG5vbWluYXRlZCBjYXJlIG1hbmFnZXIgaW4gYSBjb21tdW5pdHkvZGlzYWJpbGl0eSBzZXR0aW5nLCBvciBldmVuIG9yZ2FuaXphdGlvbiB0aGF0IHdpbGwgcHJvdmlkZSBwZW9wbGUgdG8gcGVyZm9ybSB0aGUgY2FyZSBwcm92aWRlciByb2xlcy4gIEl0IGlzIG5vdCB0byBiZSB1c2VkIHRvIHJlY29yZCBDYXJlIFRlYW1zLCB0aGVzZSBzaG91bGQgYmUgaW4gYSBDYXJlVGVhbSByZXNvdXJjZSB0aGF0IG1heSBiZSBsaW5rZWQgdG8gdGhlIENhcmVQbGFuIG9yIEVwaXNvZGVPZkNhcmUgcmVzb3VyY2VzLlxyXG4gICAqIE11bHRpcGxlIEdQcyBtYXkgYmUgcmVjb3JkZWQgYWdhaW5zdCB0aGUgcGF0aWVudCBmb3IgdmFyaW91cyByZWFzb25zLCBzdWNoIGFzIGEgc3R1ZGVudCB0aGF0IGhhcyBoaXMgaG9tZSBHUCBsaXN0ZWQgYWxvbmcgd2l0aCB0aGUgR1AgYXQgdW5pdmVyc2l0eSBkdXJpbmcgdGhlIHNjaG9vbCBzZW1lc3RlcnMsIG9yIGEgXCJmbHktaW4vZmx5LW91dFwiIHdvcmtlciB0aGF0IGhhcyB0aGUgb25zaXRlIEdQIGFsc28gaW5jbHVkZWQgd2l0aCBoaXMgaG9tZSBHUCB0byByZW1haW4gYXdhcmUgb2YgbWVkaWNhbCBpc3N1ZXMuXHJcbiAgICogSnVyaXNkaWN0aW9ucyBtYXkgZGVjaWRlIHRoYXQgdGhleSBjYW4gcHJvZmlsZSB0aGlzIGRvd24gdG8gMSBpZiBkZXNpcmVkLCBvciAxIHBlciB0eXBlLlxyXG4gICAqL1xyXG4gIGdlbmVyYWxQcmFjdGl0aW9uZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgb25seSBvbmUgbWFuYWdpbmcgb3JnYW5pemF0aW9uIGZvciBhIHNwZWNpZmljIHBhdGllbnQgcmVjb3JkLiBPdGhlciBvcmdhbml6YXRpb25zIHdpbGwgaGF2ZSB0aGVpciBvd24gUGF0aWVudCByZWNvcmQsIGFuZCBtYXkgdXNlIHRoZSBMaW5rIHByb3BlcnR5IHRvIGpvaW4gdGhlIHJlY29yZHMgdG9nZXRoZXIgKG9yIGEgUGVyc29uIHJlc291cmNlIHdoaWNoIGNhbiBpbmNsdWRlIGNvbmZpZGVuY2UgcmF0aW5ncyBmb3IgdGhlIGFzc29jaWF0aW9uKS5cclxuICAgKi9cclxuICBtYW5hZ2luZ09yZ2FuaXphdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gYXNzdW1wdGlvbiB0aGF0IGxpbmtlZCBwYXRpZW50IHJlY29yZHMgaGF2ZSBtdXR1YWwgbGlua3MuXHJcbiAgICovXHJcbiAgbGluaz86IGZoaXIuUGF0aWVudExpbmtBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVtb2dyYXBoaWNzIGFuZCBvdGhlciBhZG1pbmlzdHJhdGl2ZSBpbmZvcm1hdGlvbiBhYm91dCBhbiBpbmRpdmlkdWFsIG9yIGFuaW1hbCByZWNlaXZpbmcgY2FyZSBvciBvdGhlciBoZWFsdGgtcmVsYXRlZCBzZXJ2aWNlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXRpZW50IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYXRpZW50JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlBhdGllbnRcIjtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIGZvciB0aGlzIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIElmIGEgcmVjb3JkIGlzIGluYWN0aXZlLCBhbmQgbGlua2VkIHRvIGFuIGFjdGl2ZSByZWNvcmQsIHRoZW4gZnV0dXJlIHBhdGllbnQvcmVjb3JkIHVwZGF0ZXMgc2hvdWxkIG9jY3VyIG9uIHRoZSBvdGhlciBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3RpdmU/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgbmFtZXMgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuIEZvciBhbmltYWxzLCB0aGUgbmFtZSBpcyBhIFwiSHVtYW5OYW1lXCIgaW4gdGhlIHNlbnNlIHRoYXQgaXMgYXNzaWduZWQgYW5kIHVzZWQgYnkgaHVtYW5zIGFuZCBoYXMgdGhlIHNhbWUgcGF0dGVybnMuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU6IGZoaXIuSHVtYW5OYW1lW107XHJcbiAgLyoqXHJcbiAgICogQSBQYXRpZW50IG1heSBoYXZlIG11bHRpcGxlIHdheXMgdG8gYmUgY29udGFjdGVkIHdpdGggZGlmZmVyZW50IHVzZXMgb3IgYXBwbGljYWJsZSBwZXJpb2RzLiAgTWF5IG5lZWQgdG8gaGF2ZSBvcHRpb25zIGZvciBjb250YWN0aW5nIHRoZSBwZXJzb24gdXJnZW50bHkgYW5kIGFsc28gdG8gaGVscCB3aXRoIGlkZW50aWZpY2F0aW9uLiBUaGUgYWRkcmVzcyBtaWdodCBub3QgZ28gZGlyZWN0bHkgdG8gdGhlIGluZGl2aWR1YWwsIGJ1dCBtYXkgcmVhY2ggYW5vdGhlciBwYXJ0eSB0aGF0IGlzIGFibGUgdG8gcHJveHkgZm9yIHRoZSBwYXRpZW50IChpLmUuIGhvbWUgcGhvbmUsIG9yIHBldCBvd25lcidzIHBob25lKS5cclxuICAgKi9cclxuICBwdWJsaWMgdGVsZWNvbTogZmhpci5Db250YWN0UG9pbnRbXTtcclxuICAvKipcclxuICAgKiBUaGUgZ2VuZGVyIG1pZ2h0IG5vdCBtYXRjaCB0aGUgYmlvbG9naWNhbCBzZXggYXMgZGV0ZXJtaW5lZCBieSBnZW5ldGljcyBvciB0aGUgaW5kaXZpZHVhbCdzIHByZWZlcnJlZCBpZGVudGlmaWNhdGlvbi4gTm90ZSB0aGF0IGZvciBib3RoIGh1bWFucyBhbmQgcGFydGljdWxhcmx5IGFuaW1hbHMsIHRoZXJlIGFyZSBvdGhlciBsZWdpdGltYXRlIHBvc3NpYmlsaXRpZXMgdGhhbiBtYWxlIGFuZCBmZW1hbGUsIHRob3VnaCB0aGUgdmFzdCBtYWpvcml0eSBvZiBzeXN0ZW1zIGFuZCBjb250ZXh0cyBvbmx5IHN1cHBvcnQgbWFsZSBhbmQgZmVtYWxlLiAgU3lzdGVtcyBwcm92aWRpbmcgZGVjaXNpb24gc3VwcG9ydCBvciBlbmZvcmNpbmcgYnVzaW5lc3MgcnVsZXMgc2hvdWxkIGlkZWFsbHkgZG8gdGhpcyBvbiB0aGUgYmFzaXMgb2YgT2JzZXJ2YXRpb25zIGRlYWxpbmcgd2l0aCB0aGUgc3BlY2lmaWMgc2V4IG9yIGdlbmRlciBhc3BlY3Qgb2YgaW50ZXJlc3QgKGFuYXRvbWljYWwsIGNocm9tb3NvbWFsLCBzb2NpYWwsIGV0Yy4pICBIb3dldmVyLCBiZWNhdXNlIHRoZXNlIG9ic2VydmF0aW9ucyBhcmUgaW5mcmVxdWVudGx5IHJlY29yZGVkLCBkZWZhdWx0aW5nIHRvIHRoZSBhZG1pbmlzdHJhdGl2ZSBnZW5kZXIgaXMgY29tbW9uIHByYWN0aWNlLiAgV2hlcmUgc3VjaCBkZWZhdWx0aW5nIG9jY3VycywgcnVsZSBlbmZvcmNlbWVudCBzaG91bGQgYWxsb3cgZm9yIHRoZSB2YXJpYXRpb24gYmV0d2VlbiBhZG1pbmlzdHJhdGl2ZSBhbmQgYmlvbG9naWNhbCwgY2hyb21vc29tYWwgYW5kIG90aGVyIGdlbmRlciBhc3BlY3RzLiAgRm9yIGV4YW1wbGUsIGFuIGFsZXJ0IGFib3V0IGEgaHlzdGVyZWN0b215IG9uIGEgbWFsZSBzaG91bGQgYmUgaGFuZGxlZCBhcyBhIHdhcm5pbmcgb3Igb3ZlcnJpZGFibGUgZXJyb3IsIG5vdCBhIFwiaGFyZFwiIGVycm9yLiAgU2VlIHRoZSBQYXRpZW50IEdlbmRlciBhbmQgU2V4IHNlY3Rpb24gZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgY29tbXVuaWNhdGluZyBwYXRpZW50IGdlbmRlciBhbmQgc2V4LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZW5kZXI/OiBmaGlyLkZoaXJDb2RlPEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBdCBsZWFzdCBhbiBlc3RpbWF0ZWQgeWVhciBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBndWVzcyBpZiB0aGUgcmVhbCBET0IgaXMgdW5rbm93biAgVGhlcmUgaXMgYSBzdGFuZGFyZCBleHRlbnNpb24gXCJwYXRpZW50LWJpcnRoVGltZVwiIGF2YWlsYWJsZSB0aGF0IHNob3VsZCBiZSB1c2VkIHdoZXJlIFRpbWUgaXMgcmVxdWlyZWQgKHN1Y2ggYXMgaW4gbWF0ZXJuaXR5L2luZmFudCBjYXJlIHN5c3RlbXMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBiaXJ0aERhdGU/OiBmaGlyLkZoaXJEYXRlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGVyZSdzIG5vIHZhbHVlIGluIHRoZSBpbnN0YW5jZSwgaXQgbWVhbnMgdGhlcmUgaXMgbm8gc3RhdGVtZW50IG9uIHdoZXRoZXIgb3Igbm90IHRoZSBpbmRpdmlkdWFsIGlzIGRlY2Vhc2VkLiBNb3N0IHN5c3RlbXMgd2lsbCBpbnRlcnByZXQgdGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBhcyBhIHNpZ24gb2YgdGhlIHBlcnNvbiBiZWluZyBhbGl2ZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVjZWFzZWQ/OiAoZmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJEYXRlVGltZSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgUGF0aWVudC5kZWNlYXNlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19kZWNlYXNlZElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgYWRkcmVzc2VzIHdpdGggZGlmZmVyZW50IHVzZXMgb3IgYXBwbGljYWJsZSBwZXJpb2RzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRyZXNzOiBmaGlyLkFkZHJlc3NbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIGNvbnRhaW5zIGEgcGF0aWVudCdzIG1vc3QgcmVjZW50IG1hcml0YWwgKGNpdmlsKSBzdGF0dXMuXHJcbiAgICovXHJcbiAgcHVibGljIG1hcml0YWxTdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIHZhbHVlSW50ZWdlciBpcyBwcm92aWRlZCwgdGhlIG51bWJlciBpcyB0aGUgYmlydGggbnVtYmVyIGluIHRoZSBzZXF1ZW5jZS4gRS5nLiBUaGUgbWlkZGxlIGJpcnRoIGluIHRyaXBsZXRzIHdvdWxkIGJlIHZhbHVlSW50ZWdlcj0yIGFuZCB0aGUgdGhpcmQgYm9ybiB3b3VsZCBoYXZlIHZhbHVlSW50ZWdlcj0zIElmIGEgYm9vbGVhbiB2YWx1ZSB3YXMgcHJvdmlkZWQgZm9yIHRoaXMgdHJpcGxldHMgZXhhbXBsZSwgdGhlbiBhbGwgMyBwYXRpZW50IHJlY29yZHMgd291bGQgaGF2ZSB2YWx1ZUJvb2xlYW49dHJ1ZSAodGhlIG9yZGVyaW5nIGlzIG5vdCBpbmRpY2F0ZWQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtdWx0aXBsZUJpcnRoPzogKGZoaXIuRmhpckJvb2xlYW58Zmhpci5GaGlySW50ZWdlcil8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgUGF0aWVudC5tdWx0aXBsZUJpcnRoW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX211bHRpcGxlQmlydGhJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBHdWlkZWxpbmVzOlxyXG4gICAqICogVXNlIGlkIHBob3Rvcywgbm90IGNsaW5pY2FsIHBob3Rvcy5cclxuICAgKiAqIExpbWl0IGRpbWVuc2lvbnMgdG8gdGh1bWJuYWlsLlxyXG4gICAqICogS2VlcCBieXRlIGNvdW50IGxvdyB0byBlYXNlIHJlc291cmNlIHVwZGF0ZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHBob3RvOiBmaGlyLkF0dGFjaG1lbnRbXTtcclxuICAvKipcclxuICAgKiBDb250YWN0IGNvdmVycyBhbGwga2luZHMgb2YgY29udGFjdCBwYXJ0aWVzOiBmYW1pbHkgbWVtYmVycywgYnVzaW5lc3MgY29udGFjdHMsIGd1YXJkaWFucywgY2FyZWdpdmVycy4gTm90IGFwcGxpY2FibGUgdG8gcmVnaXN0ZXIgcGVkaWdyZWUgYW5kIGZhbWlseSB0aWVzIGJleW9uZCB1c2Ugb2YgaGF2aW5nIGNvbnRhY3QuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhY3Q6IGZoaXIuUGF0aWVudENvbnRhY3RbXTtcclxuICAvKipcclxuICAgKiBJZiBubyBsYW5ndWFnZSBpcyBzcGVjaWZpZWQsIHRoaXMgKmltcGxpZXMqIHRoYXQgdGhlIGRlZmF1bHQgbG9jYWwgbGFuZ3VhZ2UgaXMgc3Bva2VuLiAgSWYgeW91IG5lZWQgdG8gY29udmV5IHByb2ZpY2llbmN5IGZvciBtdWx0aXBsZSBtb2RlcywgdGhlbiB5b3UgbmVlZCBtdWx0aXBsZSBQYXRpZW50LkNvbW11bmljYXRpb24gYXNzb2NpYXRpb25zLiAgIEZvciBhbmltYWxzLCBsYW5ndWFnZSBpcyBub3QgYSByZWxldmFudCBmaWVsZCwgYW5kIHNob3VsZCBiZSBhYnNlbnQgZnJvbSB0aGUgaW5zdGFuY2UuIElmIHRoZSBQYXRpZW50IGRvZXMgbm90IHNwZWFrIHRoZSBkZWZhdWx0IGxvY2FsIGxhbmd1YWdlLCB0aGVuIHRoZSBJbnRlcnByZXRlciBSZXF1aXJlZCBTdGFuZGFyZCBjYW4gYmUgdXNlZCB0byBleHBsaWNpdGx5IGRlY2xhcmUgdGhhdCBhbiBpbnRlcnByZXRlciBpcyByZXF1aXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY29tbXVuaWNhdGlvbjogZmhpci5QYXRpZW50Q29tbXVuaWNhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWF5IGJlIHRoZSBwcmltYXJ5IGNhcmUgcHJvdmlkZXIgKGluIGEgR1AgY29udGV4dCksIG9yIGl0IG1heSBiZSBhIHBhdGllbnQgbm9taW5hdGVkIGNhcmUgbWFuYWdlciBpbiBhIGNvbW11bml0eS9kaXNhYmlsaXR5IHNldHRpbmcsIG9yIGV2ZW4gb3JnYW5pemF0aW9uIHRoYXQgd2lsbCBwcm92aWRlIHBlb3BsZSB0byBwZXJmb3JtIHRoZSBjYXJlIHByb3ZpZGVyIHJvbGVzLiAgSXQgaXMgbm90IHRvIGJlIHVzZWQgdG8gcmVjb3JkIENhcmUgVGVhbXMsIHRoZXNlIHNob3VsZCBiZSBpbiBhIENhcmVUZWFtIHJlc291cmNlIHRoYXQgbWF5IGJlIGxpbmtlZCB0byB0aGUgQ2FyZVBsYW4gb3IgRXBpc29kZU9mQ2FyZSByZXNvdXJjZXMuXHJcbiAgICogTXVsdGlwbGUgR1BzIG1heSBiZSByZWNvcmRlZCBhZ2FpbnN0IHRoZSBwYXRpZW50IGZvciB2YXJpb3VzIHJlYXNvbnMsIHN1Y2ggYXMgYSBzdHVkZW50IHRoYXQgaGFzIGhpcyBob21lIEdQIGxpc3RlZCBhbG9uZyB3aXRoIHRoZSBHUCBhdCB1bml2ZXJzaXR5IGR1cmluZyB0aGUgc2Nob29sIHNlbWVzdGVycywgb3IgYSBcImZseS1pbi9mbHktb3V0XCIgd29ya2VyIHRoYXQgaGFzIHRoZSBvbnNpdGUgR1AgYWxzbyBpbmNsdWRlZCB3aXRoIGhpcyBob21lIEdQIHRvIHJlbWFpbiBhd2FyZSBvZiBtZWRpY2FsIGlzc3Vlcy5cclxuICAgKiBKdXJpc2RpY3Rpb25zIG1heSBkZWNpZGUgdGhhdCB0aGV5IGNhbiBwcm9maWxlIHRoaXMgZG93biB0byAxIGlmIGRlc2lyZWQsIG9yIDEgcGVyIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIGdlbmVyYWxQcmFjdGl0aW9uZXI6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgb25seSBvbmUgbWFuYWdpbmcgb3JnYW5pemF0aW9uIGZvciBhIHNwZWNpZmljIHBhdGllbnQgcmVjb3JkLiBPdGhlciBvcmdhbml6YXRpb25zIHdpbGwgaGF2ZSB0aGVpciBvd24gUGF0aWVudCByZWNvcmQsIGFuZCBtYXkgdXNlIHRoZSBMaW5rIHByb3BlcnR5IHRvIGpvaW4gdGhlIHJlY29yZHMgdG9nZXRoZXIgKG9yIGEgUGVyc29uIHJlc291cmNlIHdoaWNoIGNhbiBpbmNsdWRlIGNvbmZpZGVuY2UgcmF0aW5ncyBmb3IgdGhlIGFzc29jaWF0aW9uKS5cclxuICAgKi9cclxuICBwdWJsaWMgbWFuYWdpbmdPcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gYXNzdW1wdGlvbiB0aGF0IGxpbmtlZCBwYXRpZW50IHJlY29yZHMgaGF2ZSBtdXR1YWwgbGlua3MuXHJcbiAgICovXHJcbiAgcHVibGljIGxpbms6IGZoaXIuUGF0aWVudExpbmtbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYXRpZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGF0aWVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdQYXRpZW50JztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdGl2ZSddKSB7IHRoaXMuYWN0aXZlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuYWN0aXZlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBzb3VyY2UubmFtZS5tYXAoKHgpID0+IG5ldyBmaGlyLkh1bWFuTmFtZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGVsZWNvbSddKSB7IHRoaXMudGVsZWNvbSA9IHNvdXJjZS50ZWxlY29tLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29udGFjdFBvaW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGVsZWNvbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydnZW5kZXInXSkgeyB0aGlzLmdlbmRlciA9IG5ldyBmaGlyLkZoaXJDb2RlPEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmdlbmRlcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydiaXJ0aERhdGUnXSkgeyB0aGlzLmJpcnRoRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLmJpcnRoRGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydkZWNlYXNlZCddKSB7IHRoaXMuZGVjZWFzZWQgPSBzb3VyY2UuZGVjZWFzZWQ7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZGVjZWFzZWRCb29sZWFuJ10pIHsgdGhpcy5kZWNlYXNlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmRlY2Vhc2VkQm9vbGVhbn0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RlY2Vhc2VkRGF0ZVRpbWUnXSkgeyB0aGlzLmRlY2Vhc2VkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRlY2Vhc2VkRGF0ZVRpbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkcmVzcyddKSB7IHRoaXMuYWRkcmVzcyA9IHNvdXJjZS5hZGRyZXNzLm1hcCgoeCkgPT4gbmV3IGZoaXIuQWRkcmVzcyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFkZHJlc3MgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWFyaXRhbFN0YXR1cyddKSB7IHRoaXMubWFyaXRhbFN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubWFyaXRhbFN0YXR1cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ211bHRpcGxlQmlydGgnXSkgeyB0aGlzLm11bHRpcGxlQmlydGggPSBzb3VyY2UubXVsdGlwbGVCaXJ0aDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydtdWx0aXBsZUJpcnRoQm9vbGVhbiddKSB7IHRoaXMubXVsdGlwbGVCaXJ0aCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLm11bHRpcGxlQmlydGhCb29sZWFufSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnbXVsdGlwbGVCaXJ0aEludGVnZXInXSkgeyB0aGlzLm11bHRpcGxlQmlydGggPSBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHNvdXJjZS5tdWx0aXBsZUJpcnRoSW50ZWdlcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydwaG90byddKSB7IHRoaXMucGhvdG8gPSBzb3VyY2UucGhvdG8ubWFwKCh4KSA9PiBuZXcgZmhpci5BdHRhY2htZW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGhvdG8gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFjdCddKSB7IHRoaXMuY29udGFjdCA9IHNvdXJjZS5jb250YWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUGF0aWVudENvbnRhY3QoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW11bmljYXRpb24nXSkgeyB0aGlzLmNvbW11bmljYXRpb24gPSBzb3VyY2UuY29tbXVuaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlBhdGllbnRDb21tdW5pY2F0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tbXVuaWNhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydnZW5lcmFsUHJhY3RpdGlvbmVyJ10pIHsgdGhpcy5nZW5lcmFsUHJhY3RpdGlvbmVyID0gc291cmNlLmdlbmVyYWxQcmFjdGl0aW9uZXIubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5nZW5lcmFsUHJhY3RpdGlvbmVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbmFnaW5nT3JnYW5pemF0aW9uJ10pIHsgdGhpcy5tYW5hZ2luZ09yZ2FuaXphdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubWFuYWdpbmdPcmdhbml6YXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydsaW5rJ10pIHsgdGhpcy5saW5rID0gc291cmNlLmxpbmsubWFwKCh4KSA9PiBuZXcgZmhpci5QYXRpZW50TGluayh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmxpbmsgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGdlbmRlciAoUGF0aWVudC5nZW5kZXIpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgZ2VuZGVyUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgbWFyaXRhbFN0YXR1cyAoUGF0aWVudC5tYXJpdGFsU3RhdHVzKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IG1hcml0YWxTdGF0dXNFeHRlbnNpYmxlQ29kaW5ncygpIHtcclxuICAgIHJldHVybiBNYXJpdGFsU3RhdHVzQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZTpcIlBhdGllbnRcIiBmaGlyOiBQYXRpZW50LnJlc291cmNlVHlwZTpcIlBhdGllbnRcIicgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgdGhpcy5pZGVudGlmaWVyLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJhY3RpdmVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hY3RpdmUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyB0aGlzLm5hbWUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInRlbGVjb21cIl0pIHsgdGhpcy50ZWxlY29tLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbJ2dlbmRlciddICYmICghT2JqZWN0LnZhbHVlcyhBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzKS5pbmNsdWRlcyh0aGlzLmdlbmRlciBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgZ2VuZGVyPzpmaGlyLkZoaXJDb2RlPEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+IGZoaXI6IFBhdGllbnQuZ2VuZGVyOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogQWRtaW5pc3RyYXRpdmVHZW5kZXInIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJnZW5kZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5nZW5kZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYmlydGhEYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYmlydGhEYXRlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImFkZHJlc3NcIl0pIHsgdGhpcy5hZGRyZXNzLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJtYXJpdGFsU3RhdHVzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubWFyaXRhbFN0YXR1cy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwaG90b1wiXSkgeyB0aGlzLnBob3RvLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJjb250YWN0XCJdKSB7IHRoaXMuY29udGFjdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiY29tbXVuaWNhdGlvblwiXSkgeyB0aGlzLmNvbW11bmljYXRpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImdlbmVyYWxQcmFjdGl0aW9uZXJcIl0pIHsgdGhpcy5nZW5lcmFsUHJhY3RpdGlvbmVyLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJtYW5hZ2luZ09yZ2FuaXphdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1hbmFnaW5nT3JnYW5pemF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImxpbmtcIl0pIHsgdGhpcy5saW5rLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19