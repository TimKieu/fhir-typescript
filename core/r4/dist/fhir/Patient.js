// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Patient
import * as fhir from '../fhir.js';
// @ts-ignore
import { AdministrativeGenderVsValidation } from '../fhirValueSets/AdministrativeGenderVsValidation.js';
// @ts-ignore
import { LinkTypeVsValidation } from '../fhirValueSets/LinkTypeVsValidation.js';
/**
 * Contact covers all kinds of contact parties: family members, business contacts, guardians, caregivers. Not applicable to register pedigree and family ties beyond use of having contact.
 */
export class PatientContact extends fhir.BackboneElement {
    /**
     * Default constructor for PatientContact - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['relationship']) {
            this.relationship = source.relationship.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.relationship = [];
        }
        if (source['name']) {
            this.name = new fhir.HumanName(source.name, options);
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x, options));
        }
        else {
            this.telecom = [];
        }
        if (source['address']) {
            this.address = new fhir.Address(source.address, options);
        }
        if (source['gender'] !== undefined) {
            this.gender = new fhir.FhirCode({ value: source.gender }, options);
        }
        if (source['_gender']) {
            if (this.gender) {
                this.gender.addExtendedProperties(source._gender);
            }
            else {
                this.gender = new fhir.FhirCode(source._gender, options);
            }
        }
        if (source['organization']) {
            this.organization = new fhir.Reference(source.organization, options);
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient.contact';
        }
        iss.push(...this.vOA('relationship', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vOA('telecom', exp));
        iss.push(...this.vOS('address', exp));
        iss.push(...this.vOSV('gender', exp, 'AdministrativeGender', AdministrativeGenderVsValidation, 'r'));
        iss.push(...this.vOS('organization', exp));
        iss.push(...this.vOS('period', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientContact._fts_dataType = 'PatientContact';
/**
 * If no language is specified, this *implies* that the default local language is spoken.  If you need to convey proficiency for multiple modes, then you need multiple Patient.Communication associations.   For animals, language is not a relevant field, and should be absent from the instance. If the Patient does not speak the default local language, then the Interpreter Required Standard can be used to explicitly declare that an interpreter is required.
 */
export class PatientCommunication extends fhir.BackboneElement {
    /**
     * Default constructor for PatientCommunication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['language']) {
            this.language = new fhir.CodeableConcept(source.language, options);
        }
        else {
            this.language = null;
        }
        if (source['preferred'] !== undefined) {
            this.preferred = new fhir.FhirBoolean({ value: source.preferred }, options);
        }
        if (source['_preferred']) {
            if (this.preferred) {
                this.preferred.addExtendedProperties(source._preferred);
            }
            else {
                this.preferred = new fhir.FhirBoolean(source._preferred, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient.communication';
        }
        iss.push(...this.vRS('language', exp));
        iss.push(...this.vOS('preferred', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientCommunication._fts_dataType = 'PatientCommunication';
/**
 * There is no assumption that linked patient records have mutual links.
 */
export class PatientLink extends fhir.BackboneElement {
    /**
     * Default constructor for PatientLink - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['other']) {
            this.other = new fhir.Reference(source.other, options);
        }
        else {
            this.other = null;
        }
        if (source['type'] !== undefined) {
            this.type = new fhir.FhirCode({ value: source.type }, options);
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient.link';
        }
        iss.push(...this.vRS('other', exp));
        iss.push(...this.vRSV('type', exp, 'LinkType', LinkTypeVsValidation, 'r'));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientLink._fts_dataType = 'PatientLink';
/**
 * Demographics and other administrative information about an individual or animal receiving care or other health-related services.
 */
export class Patient extends fhir.DomainResource {
    /**
     * Default constructor for Patient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Patient';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['active'] !== undefined) {
            this.active = new fhir.FhirBoolean({ value: source.active }, options);
        }
        if (source['_active']) {
            if (this.active) {
                this.active.addExtendedProperties(source._active);
            }
            else {
                this.active = new fhir.FhirBoolean(source._active, options);
            }
        }
        if (source['name']) {
            this.name = source.name.map((x) => new fhir.HumanName(x, options));
        }
        else {
            this.name = [];
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x, options));
        }
        else {
            this.telecom = [];
        }
        if (source['gender'] !== undefined) {
            this.gender = new fhir.FhirCode({ value: source.gender }, options);
        }
        if (source['_gender']) {
            if (this.gender) {
                this.gender.addExtendedProperties(source._gender);
            }
            else {
                this.gender = new fhir.FhirCode(source._gender, options);
            }
        }
        if (source['birthDate'] !== undefined) {
            this.birthDate = new fhir.FhirDate({ value: source.birthDate }, options);
        }
        if (source['_birthDate']) {
            if (this.birthDate) {
                this.birthDate.addExtendedProperties(source._birthDate);
            }
            else {
                this.birthDate = new fhir.FhirDate(source._birthDate, options);
            }
        }
        if (source['deceased']) {
            this.deceased = source.deceased;
        }
        else if (source['deceasedBoolean'] !== undefined) {
            this.deceased = new fhir.FhirBoolean({ value: source.deceasedBoolean }, options);
        }
        else if (source['deceasedDateTime'] !== undefined) {
            this.deceased = new fhir.FhirDateTime({ value: source.deceasedDateTime }, options);
        }
        if (source['address']) {
            this.address = source.address.map((x) => new fhir.Address(x, options));
        }
        else {
            this.address = [];
        }
        if (source['maritalStatus']) {
            this.maritalStatus = new fhir.CodeableConcept(source.maritalStatus, options);
        }
        if (source['multipleBirth']) {
            this.multipleBirth = source.multipleBirth;
        }
        else if (source['multipleBirthBoolean'] !== undefined) {
            this.multipleBirth = new fhir.FhirBoolean({ value: source.multipleBirthBoolean }, options);
        }
        else if (source['multipleBirthInteger'] !== undefined) {
            this.multipleBirth = new fhir.FhirInteger({ value: source.multipleBirthInteger }, options);
        }
        if (source['photo']) {
            this.photo = source.photo.map((x) => new fhir.Attachment(x, options));
        }
        else {
            this.photo = [];
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.PatientContact(x, options));
        }
        else {
            this.contact = [];
        }
        if (source['communication']) {
            this.communication = source.communication.map((x) => new fhir.PatientCommunication(x, options));
        }
        else {
            this.communication = [];
        }
        if (source['generalPractitioner']) {
            this.generalPractitioner = source.generalPractitioner.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.generalPractitioner = [];
        }
        if (source['managingOrganization']) {
            this.managingOrganization = new fhir.Reference(source.managingOrganization, options);
        }
        if (source['link']) {
            this.link = source.link.map((x) => new fhir.PatientLink(x, options));
        }
        else {
            this.link = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('active', exp));
        iss.push(...this.vOA('name', exp));
        iss.push(...this.vOA('telecom', exp));
        iss.push(...this.vOSV('gender', exp, 'AdministrativeGender', AdministrativeGenderVsValidation, 'r'));
        iss.push(...this.vOS('birthDate', exp));
        iss.push(...this.vOS('deceased', exp));
        iss.push(...this.vOA('address', exp));
        iss.push(...this.vOS('maritalStatus', exp));
        iss.push(...this.vOS('multipleBirth', exp));
        iss.push(...this.vOA('photo', exp));
        iss.push(...this.vOA('contact', exp));
        iss.push(...this.vOA('communication', exp));
        iss.push(...this.vOA('generalPractitioner', exp));
        iss.push(...this.vOS('managingOrganization', exp));
        iss.push(...this.vOA('link', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Patient._fts_dataType = 'Patient';
/**
 * Internal flag to properly serialize choice-type element Patient.deceased[x]
 */
Patient._fts_deceasedIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Patient.multipleBirth[x]
 */
Patient._fts_multipleBirthIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGF0aWVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvUGF0aWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyx5QkFBeUI7QUFFekIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFRbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxNQUFNLHNEQUFzRCxDQUFDO0FBT3hHLGFBQWE7QUFDYixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQTJDaEY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sY0FBZSxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUN0RDs7T0FFRztJQUNILFlBQVksU0FBcUMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDM0YsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3BIO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNoQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUM3RSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVB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QUFDLENBQUMsQ0FBQztRQUNsRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBNUpEOztHQUVHO0FBQzZCLHFCQUFhLEdBQVUsU0FBUyxDQUFDO0FBaUNqRTs7R0FFRztBQUN1Qiw2QkFBcUIsR0FBUSxJQUFJLENBQUM7QUFhNUQ7O0dBRUc7QUFDdUIsa0NBQTBCLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBQYXRpZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYXRpZW50Q29udGFjdHJlbGF0aW9uc2hpcENvZGVzLCAgUGF0aWVudENvbnRhY3RyZWxhdGlvbnNoaXBDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGF0aWVudENvbnRhY3RyZWxhdGlvbnNoaXBDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGF0aWVudENvbnRhY3RyZWxhdGlvbnNoaXBWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhdGllbnRDb250YWN0cmVsYXRpb25zaGlwVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzLCAgQWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYXRpdmVHZW5kZXJDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWRtaW5pc3RyYXRpdmVHZW5kZXJWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkbWluaXN0cmF0aXZlR2VuZGVyVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMYW5ndWFnZXNDb2RlcywgIExhbmd1YWdlc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MYW5ndWFnZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGFuZ3VhZ2VzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MYW5ndWFnZXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExpbmtUeXBlQ29kZXMsICBMaW5rVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MaW5rVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMaW5rVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGlua1R5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1hcml0YWxTdGF0dXNDb2RlcywgIE1hcml0YWxTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWFyaXRhbFN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNYXJpdGFsU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NYXJpdGFsU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFBhdGllbnRDb250YWN0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhdGllbnRDb250YWN0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hdHVyZSBvZiB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIHBhdGllbnQgYW5kIHRoZSBjb250YWN0IHBlcnNvbi5cclxuICAgKi9cclxuICByZWxhdGlvbnNoaXA/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29udGFjdCBwZXJzb24uXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuSHVtYW5OYW1lQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdCBtYXkgaGF2ZSBtdWx0aXBsZSB3YXlzIHRvIGJlIGNvbnRhY3RlZCB3aXRoIGRpZmZlcmVudCB1c2VzIG9yIGFwcGxpY2FibGUgcGVyaW9kcy4gIE1heSBuZWVkIHRvIGhhdmUgb3B0aW9ucyBmb3IgY29udGFjdGluZyB0aGUgcGVyc29uIHVyZ2VudGx5LCBhbmQgYWxzbyB0byBoZWxwIHdpdGggaWRlbnRpZmljYXRpb24uXHJcbiAgICovXHJcbiAgdGVsZWNvbT86IGZoaXIuQ29udGFjdFBvaW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRyZXNzIGZvciB0aGUgY29udGFjdCBwZXJzb24uXHJcbiAgICovXHJcbiAgYWRkcmVzcz86IGZoaXIuQWRkcmVzc0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkbWluaXN0cmF0aXZlIEdlbmRlciAtIHRoZSBnZW5kZXIgdGhhdCB0aGUgY29udGFjdCBwZXJzb24gaXMgY29uc2lkZXJlZCB0byBoYXZlIGZvciBhZG1pbmlzdHJhdGlvbiBhbmQgcmVjb3JkIGtlZXBpbmcgcHVycG9zZXMuXHJcbiAgICovXHJcbiAgZ2VuZGVyPzogZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYXRpZW50LmNvbnRhY3QuZ2VuZGVyXHJcbiAgICovXHJcbiAgX2dlbmRlcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogT3JnYW5pemF0aW9uIG9uIGJlaGFsZiBvZiB3aGljaCB0aGUgY29udGFjdCBpcyBhY3Rpbmcgb3IgZm9yIHdoaWNoIHRoZSBjb250YWN0IGlzIHdvcmtpbmcuXHJcbiAgICovXHJcbiAgb3JnYW5pemF0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIGR1cmluZyB3aGljaCB0aGlzIGNvbnRhY3QgcGVyc29uIG9yIG9yZ2FuaXphdGlvbiBpcyB2YWxpZCB0byBiZSBjb250YWN0ZWQgcmVsYXRpbmcgdG8gdGhpcyBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb250YWN0IGNvdmVycyBhbGwga2luZHMgb2YgY29udGFjdCBwYXJ0aWVzOiBmYW1pbHkgbWVtYmVycywgYnVzaW5lc3MgY29udGFjdHMsIGd1YXJkaWFucywgY2FyZWdpdmVycy4gTm90IGFwcGxpY2FibGUgdG8gcmVnaXN0ZXIgcGVkaWdyZWUgYW5kIGZhbWlseSB0aWVzIGJleW9uZCB1c2Ugb2YgaGF2aW5nIGNvbnRhY3QuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGF0aWVudENvbnRhY3QgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYXRpZW50Q29udGFjdCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hdHVyZSBvZiB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIHBhdGllbnQgYW5kIHRoZSBjb250YWN0IHBlcnNvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRpb25zaGlwOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEEgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbnRhY3QgcGVyc29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5IdW1hbk5hbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgbWF5IGhhdmUgbXVsdGlwbGUgd2F5cyB0byBiZSBjb250YWN0ZWQgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuICBNYXkgbmVlZCB0byBoYXZlIG9wdGlvbnMgZm9yIGNvbnRhY3RpbmcgdGhlIHBlcnNvbiB1cmdlbnRseSwgYW5kIGFsc28gdG8gaGVscCB3aXRoIGlkZW50aWZpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZWxlY29tOiBmaGlyLkNvbnRhY3RQb2ludFtdO1xyXG4gIC8qKlxyXG4gICAqIEFkZHJlc3MgZm9yIHRoZSBjb250YWN0IHBlcnNvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkcmVzcz86IGZoaXIuQWRkcmVzc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRtaW5pc3RyYXRpdmUgR2VuZGVyIC0gdGhlIGdlbmRlciB0aGF0IHRoZSBjb250YWN0IHBlcnNvbiBpcyBjb25zaWRlcmVkIHRvIGhhdmUgZm9yIGFkbWluaXN0cmF0aW9uIGFuZCByZWNvcmQga2VlcGluZyBwdXJwb3Nlcy5cclxuICAgKi9cclxuICBwdWJsaWMgZ2VuZGVyPzogZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3JnYW5pemF0aW9uIG9uIGJlaGFsZiBvZiB3aGljaCB0aGUgY29udGFjdCBpcyBhY3Rpbmcgb3IgZm9yIHdoaWNoIHRoZSBjb250YWN0IGlzIHdvcmtpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZ2FuaXphdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIGR1cmluZyB3aGljaCB0aGlzIGNvbnRhY3QgcGVyc29uIG9yIG9yZ2FuaXphdGlvbiBpcyB2YWxpZCB0byBiZSBjb250YWN0ZWQgcmVsYXRpbmcgdG8gdGhpcyBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGF0aWVudENvbnRhY3QgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYXRpZW50Q29udGFjdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGlvbnNoaXAnXSkgeyB0aGlzLnJlbGF0aW9uc2hpcCA9IHNvdXJjZS5yZWxhdGlvbnNoaXAubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWxhdGlvbnNoaXAgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkh1bWFuTmFtZShzb3VyY2UubmFtZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RlbGVjb20nXSkgeyB0aGlzLnRlbGVjb20gPSBzb3VyY2UudGVsZWNvbS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3RQb2ludCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRlbGVjb20gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkcmVzcyddKSB7IHRoaXMuYWRkcmVzcyA9IG5ldyBmaGlyLkFkZHJlc3Moc291cmNlLmFkZHJlc3MsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydnZW5kZXInXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZ2VuZGVyID0gbmV3IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuZ2VuZGVyfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19nZW5kZXInXSkge1xyXG4gICAgICBpZiAodGhpcy5nZW5kZXIpIHsgdGhpcy5nZW5kZXIuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZ2VuZGVyISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZ2VuZGVyID0gbmV3IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT4oc291cmNlLl9nZW5kZXIgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29yZ2FuaXphdGlvbiddKSB7IHRoaXMub3JnYW5pemF0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vcmdhbml6YXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UucGVyaW9kLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhdGllbnQuY29udGFjdCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3JlbGF0aW9uc2hpcCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndGVsZWNvbScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRkcmVzcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ2dlbmRlcicsZXhwLCdBZG1pbmlzdHJhdGl2ZUdlbmRlcicsQWRtaW5pc3RyYXRpdmVHZW5kZXJWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JnYW5pemF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwZXJpb2QnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFBhdGllbnRDb21tdW5pY2F0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhdGllbnRDb21tdW5pY2F0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0cnVjdHVyZSBhYS1CQiB3aXRoIHRoaXMgZXhhY3QgY2FzaW5nIGlzIG9uZSB0aGUgbW9zdCB3aWRlbHkgdXNlZCBub3RhdGlvbnMgZm9yIGxvY2FsZS4gSG93ZXZlciBub3QgYWxsIHN5c3RlbXMgYWN0dWFsbHkgY29kZSB0aGlzIGJ1dCBpbnN0ZWFkIGhhdmUgaXQgYXMgZnJlZSB0ZXh0LiBIZW5jZSBDb2RlYWJsZUNvbmNlcHQgaW5zdGVhZCBvZiBjb2RlIGFzIHRoZSBkYXRhIHR5cGUuXHJcbiAgICovXHJcbiAgbGFuZ3VhZ2U6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbGFuZ3VhZ2UgaXMgc3BlY2lmaWNhbGx5IGlkZW50aWZpZWQgZm9yIGNvbW11bmljYXRpbmcgaGVhbHRoY2FyZSBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwcmVmZXJyZWQ/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYXRpZW50LmNvbW11bmljYXRpb24ucHJlZmVycmVkXHJcbiAgICovXHJcbiAgX3ByZWZlcnJlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJZiBubyBsYW5ndWFnZSBpcyBzcGVjaWZpZWQsIHRoaXMgKmltcGxpZXMqIHRoYXQgdGhlIGRlZmF1bHQgbG9jYWwgbGFuZ3VhZ2UgaXMgc3Bva2VuLiAgSWYgeW91IG5lZWQgdG8gY29udmV5IHByb2ZpY2llbmN5IGZvciBtdWx0aXBsZSBtb2RlcywgdGhlbiB5b3UgbmVlZCBtdWx0aXBsZSBQYXRpZW50LkNvbW11bmljYXRpb24gYXNzb2NpYXRpb25zLiAgIEZvciBhbmltYWxzLCBsYW5ndWFnZSBpcyBub3QgYSByZWxldmFudCBmaWVsZCwgYW5kIHNob3VsZCBiZSBhYnNlbnQgZnJvbSB0aGUgaW5zdGFuY2UuIElmIHRoZSBQYXRpZW50IGRvZXMgbm90IHNwZWFrIHRoZSBkZWZhdWx0IGxvY2FsIGxhbmd1YWdlLCB0aGVuIHRoZSBJbnRlcnByZXRlciBSZXF1aXJlZCBTdGFuZGFyZCBjYW4gYmUgdXNlZCB0byBleHBsaWNpdGx5IGRlY2xhcmUgdGhhdCBhbiBpbnRlcnByZXRlciBpcyByZXF1aXJlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXRpZW50Q29tbXVuaWNhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhdGllbnRDb21tdW5pY2F0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc3RydWN0dXJlIGFhLUJCIHdpdGggdGhpcyBleGFjdCBjYXNpbmcgaXMgb25lIHRoZSBtb3N0IHdpZGVseSB1c2VkIG5vdGF0aW9ucyBmb3IgbG9jYWxlLiBIb3dldmVyIG5vdCBhbGwgc3lzdGVtcyBhY3R1YWxseSBjb2RlIHRoaXMgYnV0IGluc3RlYWQgaGF2ZSBpdCBhcyBmcmVlIHRleHQuIEhlbmNlIENvZGVhYmxlQ29uY2VwdCBpbnN0ZWFkIG9mIGNvZGUgYXMgdGhlIGRhdGEgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgbGFuZ3VhZ2U6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBsYW5ndWFnZSBpcyBzcGVjaWZpY2FsbHkgaWRlbnRpZmllZCBmb3IgY29tbXVuaWNhdGluZyBoZWFsdGhjYXJlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmVmZXJyZWQ/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYXRpZW50Q29tbXVuaWNhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhdGllbnRDb21tdW5pY2F0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2xhbmd1YWdlJ10pIHsgdGhpcy5sYW5ndWFnZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubGFuZ3VhZ2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5sYW5ndWFnZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZWZlcnJlZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5wcmVmZXJyZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5wcmVmZXJyZWR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ByZWZlcnJlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByZWZlcnJlZCkgeyB0aGlzLnByZWZlcnJlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcmVmZXJyZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcmVmZXJyZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX3ByZWZlcnJlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdQYXRpZW50LmNvbW11bmljYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdsYW5ndWFnZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHJlZmVycmVkJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYXRpZW50TGluayB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQYXRpZW50TGlua0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jaW5nIGEgUmVsYXRlZFBlcnNvbiBoZXJlIHJlbW92ZXMgdGhlIG5lZWQgdG8gdXNlIGEgUGVyc29uIHJlY29yZCB0byBhc3NvY2lhdGUgYSBQYXRpZW50IGFuZCBSZWxhdGVkUGVyc29uIGFzIHRoZSBzYW1lIGluZGl2aWR1YWwuXHJcbiAgICovXHJcbiAgb3RoZXI6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGxpbmsgYmV0d2VlbiB0aGlzIHBhdGllbnQgcmVzb3VyY2UgYW5kIGFub3RoZXIgcGF0aWVudCByZXNvdXJjZS5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkZoaXJDb2RlPExpbmtUeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFBhdGllbnQubGluay50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlcmUgaXMgbm8gYXNzdW1wdGlvbiB0aGF0IGxpbmtlZCBwYXRpZW50IHJlY29yZHMgaGF2ZSBtdXR1YWwgbGlua3MuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGF0aWVudExpbmsgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYXRpZW50TGluayc7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNpbmcgYSBSZWxhdGVkUGVyc29uIGhlcmUgcmVtb3ZlcyB0aGUgbmVlZCB0byB1c2UgYSBQZXJzb24gcmVjb3JkIHRvIGFzc29jaWF0ZSBhIFBhdGllbnQgYW5kIFJlbGF0ZWRQZXJzb24gYXMgdGhlIHNhbWUgaW5kaXZpZHVhbC5cclxuICAgKi9cclxuICBwdWJsaWMgb3RoZXI6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgbGluayBiZXR3ZWVuIHRoaXMgcGF0aWVudCByZXNvdXJjZSBhbmQgYW5vdGhlciBwYXRpZW50IHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkZoaXJDb2RlPExpbmtUeXBlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGF0aWVudExpbmsgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYXRpZW50TGlua0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydvdGhlciddKSB7IHRoaXMub3RoZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm90aGVyLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3RoZXIgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxMaW5rVHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS50eXBlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8TGlua1R5cGVDb2RlVHlwZT4oc291cmNlLl90eXBlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUGF0aWVudC5saW5rJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnb3RoZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCd0eXBlJyxleHAsJ0xpbmtUeXBlJyxMaW5rVHlwZVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYXRpZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhdGllbnRBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJQYXRpZW50XCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoaXMgcGF0aWVudC5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBhIHJlY29yZCBpcyBpbmFjdGl2ZSwgYW5kIGxpbmtlZCB0byBhbiBhY3RpdmUgcmVjb3JkLCB0aGVuIGZ1dHVyZSBwYXRpZW50L3JlY29yZCB1cGRhdGVzIHNob3VsZCBvY2N1ciBvbiB0aGUgb3RoZXIgcGF0aWVudC5cclxuICAgKi9cclxuICBhY3RpdmU/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYXRpZW50LmFjdGl2ZVxyXG4gICAqL1xyXG4gIF9hY3RpdmU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgcGF0aWVudCBtYXkgaGF2ZSBtdWx0aXBsZSBuYW1lcyB3aXRoIGRpZmZlcmVudCB1c2VzIG9yIGFwcGxpY2FibGUgcGVyaW9kcy4gRm9yIGFuaW1hbHMsIHRoZSBuYW1lIGlzIGEgXCJIdW1hbk5hbWVcIiBpbiB0aGUgc2Vuc2UgdGhhdCBpcyBhc3NpZ25lZCBhbmQgdXNlZCBieSBodW1hbnMgYW5kIGhhcyB0aGUgc2FtZSBwYXR0ZXJucy5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5IdW1hbk5hbWVBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgUGF0aWVudCBtYXkgaGF2ZSBtdWx0aXBsZSB3YXlzIHRvIGJlIGNvbnRhY3RlZCB3aXRoIGRpZmZlcmVudCB1c2VzIG9yIGFwcGxpY2FibGUgcGVyaW9kcy4gIE1heSBuZWVkIHRvIGhhdmUgb3B0aW9ucyBmb3IgY29udGFjdGluZyB0aGUgcGVyc29uIHVyZ2VudGx5IGFuZCBhbHNvIHRvIGhlbHAgd2l0aCBpZGVudGlmaWNhdGlvbi4gVGhlIGFkZHJlc3MgbWlnaHQgbm90IGdvIGRpcmVjdGx5IHRvIHRoZSBpbmRpdmlkdWFsLCBidXQgbWF5IHJlYWNoIGFub3RoZXIgcGFydHkgdGhhdCBpcyBhYmxlIHRvIHByb3h5IGZvciB0aGUgcGF0aWVudCAoaS5lLiBob21lIHBob25lLCBvciBwZXQgb3duZXIncyBwaG9uZSkuXHJcbiAgICovXHJcbiAgdGVsZWNvbT86IGZoaXIuQ29udGFjdFBvaW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZ2VuZGVyIG1pZ2h0IG5vdCBtYXRjaCB0aGUgYmlvbG9naWNhbCBzZXggYXMgZGV0ZXJtaW5lZCBieSBnZW5ldGljcyBvciB0aGUgaW5kaXZpZHVhbCdzIHByZWZlcnJlZCBpZGVudGlmaWNhdGlvbi4gTm90ZSB0aGF0IGZvciBib3RoIGh1bWFucyBhbmQgcGFydGljdWxhcmx5IGFuaW1hbHMsIHRoZXJlIGFyZSBvdGhlciBsZWdpdGltYXRlIHBvc3NpYmlsaXRpZXMgdGhhbiBtYWxlIGFuZCBmZW1hbGUsIHRob3VnaCB0aGUgdmFzdCBtYWpvcml0eSBvZiBzeXN0ZW1zIGFuZCBjb250ZXh0cyBvbmx5IHN1cHBvcnQgbWFsZSBhbmQgZmVtYWxlLiAgU3lzdGVtcyBwcm92aWRpbmcgZGVjaXNpb24gc3VwcG9ydCBvciBlbmZvcmNpbmcgYnVzaW5lc3MgcnVsZXMgc2hvdWxkIGlkZWFsbHkgZG8gdGhpcyBvbiB0aGUgYmFzaXMgb2YgT2JzZXJ2YXRpb25zIGRlYWxpbmcgd2l0aCB0aGUgc3BlY2lmaWMgc2V4IG9yIGdlbmRlciBhc3BlY3Qgb2YgaW50ZXJlc3QgKGFuYXRvbWljYWwsIGNocm9tb3NvbWFsLCBzb2NpYWwsIGV0Yy4pICBIb3dldmVyLCBiZWNhdXNlIHRoZXNlIG9ic2VydmF0aW9ucyBhcmUgaW5mcmVxdWVudGx5IHJlY29yZGVkLCBkZWZhdWx0aW5nIHRvIHRoZSBhZG1pbmlzdHJhdGl2ZSBnZW5kZXIgaXMgY29tbW9uIHByYWN0aWNlLiAgV2hlcmUgc3VjaCBkZWZhdWx0aW5nIG9jY3VycywgcnVsZSBlbmZvcmNlbWVudCBzaG91bGQgYWxsb3cgZm9yIHRoZSB2YXJpYXRpb24gYmV0d2VlbiBhZG1pbmlzdHJhdGl2ZSBhbmQgYmlvbG9naWNhbCwgY2hyb21vc29tYWwgYW5kIG90aGVyIGdlbmRlciBhc3BlY3RzLiAgRm9yIGV4YW1wbGUsIGFuIGFsZXJ0IGFib3V0IGEgaHlzdGVyZWN0b215IG9uIGEgbWFsZSBzaG91bGQgYmUgaGFuZGxlZCBhcyBhIHdhcm5pbmcgb3Igb3ZlcnJpZGFibGUgZXJyb3IsIG5vdCBhIFwiaGFyZFwiIGVycm9yLiAgU2VlIHRoZSBQYXRpZW50IEdlbmRlciBhbmQgU2V4IHNlY3Rpb24gZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgY29tbXVuaWNhdGluZyBwYXRpZW50IGdlbmRlciBhbmQgc2V4LlxyXG4gICAqL1xyXG4gIGdlbmRlcj86IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGF0aWVudC5nZW5kZXJcclxuICAgKi9cclxuICBfZ2VuZGVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBdCBsZWFzdCBhbiBlc3RpbWF0ZWQgeWVhciBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBndWVzcyBpZiB0aGUgcmVhbCBET0IgaXMgdW5rbm93biAgVGhlcmUgaXMgYSBzdGFuZGFyZCBleHRlbnNpb24gXCJwYXRpZW50LWJpcnRoVGltZVwiIGF2YWlsYWJsZSB0aGF0IHNob3VsZCBiZSB1c2VkIHdoZXJlIFRpbWUgaXMgcmVxdWlyZWQgKHN1Y2ggYXMgaW4gbWF0ZXJuaXR5L2luZmFudCBjYXJlIHN5c3RlbXMpLlxyXG4gICAqL1xyXG4gIGJpcnRoRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGF0aWVudC5iaXJ0aERhdGVcclxuICAgKi9cclxuICBfYmlydGhEYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJZiB0aGVyZSdzIG5vIHZhbHVlIGluIHRoZSBpbnN0YW5jZSwgaXQgbWVhbnMgdGhlcmUgaXMgbm8gc3RhdGVtZW50IG9uIHdoZXRoZXIgb3Igbm90IHRoZSBpbmRpdmlkdWFsIGlzIGRlY2Vhc2VkLiBNb3N0IHN5c3RlbXMgd2lsbCBpbnRlcnByZXQgdGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBhcyBhIHNpZ24gb2YgdGhlIHBlcnNvbiBiZWluZyBhbGl2ZS5cclxuICAgKi9cclxuICBkZWNlYXNlZD86IGZoaXIuRmhpckJvb2xlYW58Zmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZXJlJ3Mgbm8gdmFsdWUgaW4gdGhlIGluc3RhbmNlLCBpdCBtZWFucyB0aGVyZSBpcyBubyBzdGF0ZW1lbnQgb24gd2hldGhlciBvciBub3QgdGhlIGluZGl2aWR1YWwgaXMgZGVjZWFzZWQuIE1vc3Qgc3lzdGVtcyB3aWxsIGludGVycHJldCB0aGUgYWJzZW5jZSBvZiBhIHZhbHVlIGFzIGEgc2lnbiBvZiB0aGUgcGVyc29uIGJlaW5nIGFsaXZlLlxyXG4gICAqL1xyXG4gIGRlY2Vhc2VkQm9vbGVhbj86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUncyBubyB2YWx1ZSBpbiB0aGUgaW5zdGFuY2UsIGl0IG1lYW5zIHRoZXJlIGlzIG5vIHN0YXRlbWVudCBvbiB3aGV0aGVyIG9yIG5vdCB0aGUgaW5kaXZpZHVhbCBpcyBkZWNlYXNlZC4gTW9zdCBzeXN0ZW1zIHdpbGwgaW50ZXJwcmV0IHRoZSBhYnNlbmNlIG9mIGEgdmFsdWUgYXMgYSBzaWduIG9mIHRoZSBwZXJzb24gYmVpbmcgYWxpdmUuXHJcbiAgICovXHJcbiAgZGVjZWFzZWREYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGF0aWVudCBtYXkgaGF2ZSBtdWx0aXBsZSBhZGRyZXNzZXMgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuXHJcbiAgICovXHJcbiAgYWRkcmVzcz86IGZoaXIuQWRkcmVzc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBjb250YWlucyBhIHBhdGllbnQncyBtb3N0IHJlY2VudCBtYXJpdGFsIChjaXZpbCkgc3RhdHVzLlxyXG4gICAqL1xyXG4gIG1hcml0YWxTdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSB2YWx1ZUludGVnZXIgaXMgcHJvdmlkZWQsIHRoZSBudW1iZXIgaXMgdGhlIGJpcnRoIG51bWJlciBpbiB0aGUgc2VxdWVuY2UuIEUuZy4gVGhlIG1pZGRsZSBiaXJ0aCBpbiB0cmlwbGV0cyB3b3VsZCBiZSB2YWx1ZUludGVnZXI9MiBhbmQgdGhlIHRoaXJkIGJvcm4gd291bGQgaGF2ZSB2YWx1ZUludGVnZXI9MyBJZiBhIGJvb2xlYW4gdmFsdWUgd2FzIHByb3ZpZGVkIGZvciB0aGlzIHRyaXBsZXRzIGV4YW1wbGUsIHRoZW4gYWxsIDMgcGF0aWVudCByZWNvcmRzIHdvdWxkIGhhdmUgdmFsdWVCb29sZWFuPXRydWUgKHRoZSBvcmRlcmluZyBpcyBub3QgaW5kaWNhdGVkKS5cclxuICAgKi9cclxuICBtdWx0aXBsZUJpcnRoPzogZmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgdmFsdWVJbnRlZ2VyIGlzIHByb3ZpZGVkLCB0aGUgbnVtYmVyIGlzIHRoZSBiaXJ0aCBudW1iZXIgaW4gdGhlIHNlcXVlbmNlLiBFLmcuIFRoZSBtaWRkbGUgYmlydGggaW4gdHJpcGxldHMgd291bGQgYmUgdmFsdWVJbnRlZ2VyPTIgYW5kIHRoZSB0aGlyZCBib3JuIHdvdWxkIGhhdmUgdmFsdWVJbnRlZ2VyPTMgSWYgYSBib29sZWFuIHZhbHVlIHdhcyBwcm92aWRlZCBmb3IgdGhpcyB0cmlwbGV0cyBleGFtcGxlLCB0aGVuIGFsbCAzIHBhdGllbnQgcmVjb3JkcyB3b3VsZCBoYXZlIHZhbHVlQm9vbGVhbj10cnVlICh0aGUgb3JkZXJpbmcgaXMgbm90IGluZGljYXRlZCkuXHJcbiAgICovXHJcbiAgbXVsdGlwbGVCaXJ0aEJvb2xlYW4/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSB2YWx1ZUludGVnZXIgaXMgcHJvdmlkZWQsIHRoZSBudW1iZXIgaXMgdGhlIGJpcnRoIG51bWJlciBpbiB0aGUgc2VxdWVuY2UuIEUuZy4gVGhlIG1pZGRsZSBiaXJ0aCBpbiB0cmlwbGV0cyB3b3VsZCBiZSB2YWx1ZUludGVnZXI9MiBhbmQgdGhlIHRoaXJkIGJvcm4gd291bGQgaGF2ZSB2YWx1ZUludGVnZXI9MyBJZiBhIGJvb2xlYW4gdmFsdWUgd2FzIHByb3ZpZGVkIGZvciB0aGlzIHRyaXBsZXRzIGV4YW1wbGUsIHRoZW4gYWxsIDMgcGF0aWVudCByZWNvcmRzIHdvdWxkIGhhdmUgdmFsdWVCb29sZWFuPXRydWUgKHRoZSBvcmRlcmluZyBpcyBub3QgaW5kaWNhdGVkKS5cclxuICAgKi9cclxuICBtdWx0aXBsZUJpcnRoSW50ZWdlcj86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBHdWlkZWxpbmVzOlxyXG4gICAqICogVXNlIGlkIHBob3Rvcywgbm90IGNsaW5pY2FsIHBob3Rvcy5cclxuICAgKiAqIExpbWl0IGRpbWVuc2lvbnMgdG8gdGh1bWJuYWlsLlxyXG4gICAqICogS2VlcCBieXRlIGNvdW50IGxvdyB0byBlYXNlIHJlc291cmNlIHVwZGF0ZXMuXHJcbiAgICovXHJcbiAgcGhvdG8/OiBmaGlyLkF0dGFjaG1lbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgY292ZXJzIGFsbCBraW5kcyBvZiBjb250YWN0IHBhcnRpZXM6IGZhbWlseSBtZW1iZXJzLCBidXNpbmVzcyBjb250YWN0cywgZ3VhcmRpYW5zLCBjYXJlZ2l2ZXJzLiBOb3QgYXBwbGljYWJsZSB0byByZWdpc3RlciBwZWRpZ3JlZSBhbmQgZmFtaWx5IHRpZXMgYmV5b25kIHVzZSBvZiBoYXZpbmcgY29udGFjdC5cclxuICAgKi9cclxuICBjb250YWN0PzogZmhpci5QYXRpZW50Q29udGFjdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgbm8gbGFuZ3VhZ2UgaXMgc3BlY2lmaWVkLCB0aGlzICppbXBsaWVzKiB0aGF0IHRoZSBkZWZhdWx0IGxvY2FsIGxhbmd1YWdlIGlzIHNwb2tlbi4gIElmIHlvdSBuZWVkIHRvIGNvbnZleSBwcm9maWNpZW5jeSBmb3IgbXVsdGlwbGUgbW9kZXMsIHRoZW4geW91IG5lZWQgbXVsdGlwbGUgUGF0aWVudC5Db21tdW5pY2F0aW9uIGFzc29jaWF0aW9ucy4gICBGb3IgYW5pbWFscywgbGFuZ3VhZ2UgaXMgbm90IGEgcmVsZXZhbnQgZmllbGQsIGFuZCBzaG91bGQgYmUgYWJzZW50IGZyb20gdGhlIGluc3RhbmNlLiBJZiB0aGUgUGF0aWVudCBkb2VzIG5vdCBzcGVhayB0aGUgZGVmYXVsdCBsb2NhbCBsYW5ndWFnZSwgdGhlbiB0aGUgSW50ZXJwcmV0ZXIgUmVxdWlyZWQgU3RhbmRhcmQgY2FuIGJlIHVzZWQgdG8gZXhwbGljaXRseSBkZWNsYXJlIHRoYXQgYW4gaW50ZXJwcmV0ZXIgaXMgcmVxdWlyZWQuXHJcbiAgICovXHJcbiAgY29tbXVuaWNhdGlvbj86IGZoaXIuUGF0aWVudENvbW11bmljYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWF5IGJlIHRoZSBwcmltYXJ5IGNhcmUgcHJvdmlkZXIgKGluIGEgR1AgY29udGV4dCksIG9yIGl0IG1heSBiZSBhIHBhdGllbnQgbm9taW5hdGVkIGNhcmUgbWFuYWdlciBpbiBhIGNvbW11bml0eS9kaXNhYmlsaXR5IHNldHRpbmcsIG9yIGV2ZW4gb3JnYW5pemF0aW9uIHRoYXQgd2lsbCBwcm92aWRlIHBlb3BsZSB0byBwZXJmb3JtIHRoZSBjYXJlIHByb3ZpZGVyIHJvbGVzLiAgSXQgaXMgbm90IHRvIGJlIHVzZWQgdG8gcmVjb3JkIENhcmUgVGVhbXMsIHRoZXNlIHNob3VsZCBiZSBpbiBhIENhcmVUZWFtIHJlc291cmNlIHRoYXQgbWF5IGJlIGxpbmtlZCB0byB0aGUgQ2FyZVBsYW4gb3IgRXBpc29kZU9mQ2FyZSByZXNvdXJjZXMuXHJcbiAgICogTXVsdGlwbGUgR1BzIG1heSBiZSByZWNvcmRlZCBhZ2FpbnN0IHRoZSBwYXRpZW50IGZvciB2YXJpb3VzIHJlYXNvbnMsIHN1Y2ggYXMgYSBzdHVkZW50IHRoYXQgaGFzIGhpcyBob21lIEdQIGxpc3RlZCBhbG9uZyB3aXRoIHRoZSBHUCBhdCB1bml2ZXJzaXR5IGR1cmluZyB0aGUgc2Nob29sIHNlbWVzdGVycywgb3IgYSBcImZseS1pbi9mbHktb3V0XCIgd29ya2VyIHRoYXQgaGFzIHRoZSBvbnNpdGUgR1AgYWxzbyBpbmNsdWRlZCB3aXRoIGhpcyBob21lIEdQIHRvIHJlbWFpbiBhd2FyZSBvZiBtZWRpY2FsIGlzc3Vlcy5cclxuICAgKiBKdXJpc2RpY3Rpb25zIG1heSBkZWNpZGUgdGhhdCB0aGV5IGNhbiBwcm9maWxlIHRoaXMgZG93biB0byAxIGlmIGRlc2lyZWQsIG9yIDEgcGVyIHR5cGUuXHJcbiAgICovXHJcbiAgZ2VuZXJhbFByYWN0aXRpb25lcj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBvbmx5IG9uZSBtYW5hZ2luZyBvcmdhbml6YXRpb24gZm9yIGEgc3BlY2lmaWMgcGF0aWVudCByZWNvcmQuIE90aGVyIG9yZ2FuaXphdGlvbnMgd2lsbCBoYXZlIHRoZWlyIG93biBQYXRpZW50IHJlY29yZCwgYW5kIG1heSB1c2UgdGhlIExpbmsgcHJvcGVydHkgdG8gam9pbiB0aGUgcmVjb3JkcyB0b2dldGhlciAob3IgYSBQZXJzb24gcmVzb3VyY2Ugd2hpY2ggY2FuIGluY2x1ZGUgY29uZmlkZW5jZSByYXRpbmdzIGZvciB0aGUgYXNzb2NpYXRpb24pLlxyXG4gICAqL1xyXG4gIG1hbmFnaW5nT3JnYW5pemF0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBubyBhc3N1bXB0aW9uIHRoYXQgbGlua2VkIHBhdGllbnQgcmVjb3JkcyBoYXZlIG11dHVhbCBsaW5rcy5cclxuICAgKi9cclxuICBsaW5rPzogZmhpci5QYXRpZW50TGlua0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZW1vZ3JhcGhpY3MgYW5kIG90aGVyIGFkbWluaXN0cmF0aXZlIGluZm9ybWF0aW9uIGFib3V0IGFuIGluZGl2aWR1YWwgb3IgYW5pbWFsIHJlY2VpdmluZyBjYXJlIG9yIG90aGVyIGhlYWx0aC1yZWxhdGVkIHNlcnZpY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhdGllbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhdGllbnQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiUGF0aWVudFwiO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoaXMgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogSWYgYSByZWNvcmQgaXMgaW5hY3RpdmUsIGFuZCBsaW5rZWQgdG8gYW4gYWN0aXZlIHJlY29yZCwgdGhlbiBmdXR1cmUgcGF0aWVudC9yZWNvcmQgdXBkYXRlcyBzaG91bGQgb2NjdXIgb24gdGhlIG90aGVyIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGFjdGl2ZT86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcGF0aWVudCBtYXkgaGF2ZSBtdWx0aXBsZSBuYW1lcyB3aXRoIGRpZmZlcmVudCB1c2VzIG9yIGFwcGxpY2FibGUgcGVyaW9kcy4gRm9yIGFuaW1hbHMsIHRoZSBuYW1lIGlzIGEgXCJIdW1hbk5hbWVcIiBpbiB0aGUgc2Vuc2UgdGhhdCBpcyBhc3NpZ25lZCBhbmQgdXNlZCBieSBodW1hbnMgYW5kIGhhcyB0aGUgc2FtZSBwYXR0ZXJucy5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZTogZmhpci5IdW1hbk5hbWVbXTtcclxuICAvKipcclxuICAgKiBBIFBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgd2F5cyB0byBiZSBjb250YWN0ZWQgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuICBNYXkgbmVlZCB0byBoYXZlIG9wdGlvbnMgZm9yIGNvbnRhY3RpbmcgdGhlIHBlcnNvbiB1cmdlbnRseSBhbmQgYWxzbyB0byBoZWxwIHdpdGggaWRlbnRpZmljYXRpb24uIFRoZSBhZGRyZXNzIG1pZ2h0IG5vdCBnbyBkaXJlY3RseSB0byB0aGUgaW5kaXZpZHVhbCwgYnV0IG1heSByZWFjaCBhbm90aGVyIHBhcnR5IHRoYXQgaXMgYWJsZSB0byBwcm94eSBmb3IgdGhlIHBhdGllbnQgKGkuZS4gaG9tZSBwaG9uZSwgb3IgcGV0IG93bmVyJ3MgcGhvbmUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZWxlY29tOiBmaGlyLkNvbnRhY3RQb2ludFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBnZW5kZXIgbWlnaHQgbm90IG1hdGNoIHRoZSBiaW9sb2dpY2FsIHNleCBhcyBkZXRlcm1pbmVkIGJ5IGdlbmV0aWNzIG9yIHRoZSBpbmRpdmlkdWFsJ3MgcHJlZmVycmVkIGlkZW50aWZpY2F0aW9uLiBOb3RlIHRoYXQgZm9yIGJvdGggaHVtYW5zIGFuZCBwYXJ0aWN1bGFybHkgYW5pbWFscywgdGhlcmUgYXJlIG90aGVyIGxlZ2l0aW1hdGUgcG9zc2liaWxpdGllcyB0aGFuIG1hbGUgYW5kIGZlbWFsZSwgdGhvdWdoIHRoZSB2YXN0IG1ham9yaXR5IG9mIHN5c3RlbXMgYW5kIGNvbnRleHRzIG9ubHkgc3VwcG9ydCBtYWxlIGFuZCBmZW1hbGUuICBTeXN0ZW1zIHByb3ZpZGluZyBkZWNpc2lvbiBzdXBwb3J0IG9yIGVuZm9yY2luZyBidXNpbmVzcyBydWxlcyBzaG91bGQgaWRlYWxseSBkbyB0aGlzIG9uIHRoZSBiYXNpcyBvZiBPYnNlcnZhdGlvbnMgZGVhbGluZyB3aXRoIHRoZSBzcGVjaWZpYyBzZXggb3IgZ2VuZGVyIGFzcGVjdCBvZiBpbnRlcmVzdCAoYW5hdG9taWNhbCwgY2hyb21vc29tYWwsIHNvY2lhbCwgZXRjLikgIEhvd2V2ZXIsIGJlY2F1c2UgdGhlc2Ugb2JzZXJ2YXRpb25zIGFyZSBpbmZyZXF1ZW50bHkgcmVjb3JkZWQsIGRlZmF1bHRpbmcgdG8gdGhlIGFkbWluaXN0cmF0aXZlIGdlbmRlciBpcyBjb21tb24gcHJhY3RpY2UuICBXaGVyZSBzdWNoIGRlZmF1bHRpbmcgb2NjdXJzLCBydWxlIGVuZm9yY2VtZW50IHNob3VsZCBhbGxvdyBmb3IgdGhlIHZhcmlhdGlvbiBiZXR3ZWVuIGFkbWluaXN0cmF0aXZlIGFuZCBiaW9sb2dpY2FsLCBjaHJvbW9zb21hbCBhbmQgb3RoZXIgZ2VuZGVyIGFzcGVjdHMuICBGb3IgZXhhbXBsZSwgYW4gYWxlcnQgYWJvdXQgYSBoeXN0ZXJlY3RvbXkgb24gYSBtYWxlIHNob3VsZCBiZSBoYW5kbGVkIGFzIGEgd2FybmluZyBvciBvdmVycmlkYWJsZSBlcnJvciwgbm90IGEgXCJoYXJkXCIgZXJyb3IuICBTZWUgdGhlIFBhdGllbnQgR2VuZGVyIGFuZCBTZXggc2VjdGlvbiBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCBjb21tdW5pY2F0aW5nIHBhdGllbnQgZ2VuZGVyIGFuZCBzZXguXHJcbiAgICovXHJcbiAgcHVibGljIGdlbmRlcj86IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEF0IGxlYXN0IGFuIGVzdGltYXRlZCB5ZWFyIHNob3VsZCBiZSBwcm92aWRlZCBhcyBhIGd1ZXNzIGlmIHRoZSByZWFsIERPQiBpcyB1bmtub3duICBUaGVyZSBpcyBhIHN0YW5kYXJkIGV4dGVuc2lvbiBcInBhdGllbnQtYmlydGhUaW1lXCIgYXZhaWxhYmxlIHRoYXQgc2hvdWxkIGJlIHVzZWQgd2hlcmUgVGltZSBpcyByZXF1aXJlZCAoc3VjaCBhcyBpbiBtYXRlcm5pdHkvaW5mYW50IGNhcmUgc3lzdGVtcykuXHJcbiAgICovXHJcbiAgcHVibGljIGJpcnRoRGF0ZT86IGZoaXIuRmhpckRhdGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZXJlJ3Mgbm8gdmFsdWUgaW4gdGhlIGluc3RhbmNlLCBpdCBtZWFucyB0aGVyZSBpcyBubyBzdGF0ZW1lbnQgb24gd2hldGhlciBvciBub3QgdGhlIGluZGl2aWR1YWwgaXMgZGVjZWFzZWQuIE1vc3Qgc3lzdGVtcyB3aWxsIGludGVycHJldCB0aGUgYWJzZW5jZSBvZiBhIHZhbHVlIGFzIGEgc2lnbiBvZiB0aGUgcGVyc29uIGJlaW5nIGFsaXZlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWNlYXNlZD86IChmaGlyLkZoaXJCb29sZWFufGZoaXIuRmhpckRhdGVUaW1lKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBQYXRpZW50LmRlY2Vhc2VkW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2RlY2Vhc2VkSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogUGF0aWVudCBtYXkgaGF2ZSBtdWx0aXBsZSBhZGRyZXNzZXMgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZHJlc3M6IGZoaXIuQWRkcmVzc1tdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgY29udGFpbnMgYSBwYXRpZW50J3MgbW9zdCByZWNlbnQgbWFyaXRhbCAoY2l2aWwpIHN0YXR1cy5cclxuICAgKi9cclxuICBwdWJsaWMgbWFyaXRhbFN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgdmFsdWVJbnRlZ2VyIGlzIHByb3ZpZGVkLCB0aGUgbnVtYmVyIGlzIHRoZSBiaXJ0aCBudW1iZXIgaW4gdGhlIHNlcXVlbmNlLiBFLmcuIFRoZSBtaWRkbGUgYmlydGggaW4gdHJpcGxldHMgd291bGQgYmUgdmFsdWVJbnRlZ2VyPTIgYW5kIHRoZSB0aGlyZCBib3JuIHdvdWxkIGhhdmUgdmFsdWVJbnRlZ2VyPTMgSWYgYSBib29sZWFuIHZhbHVlIHdhcyBwcm92aWRlZCBmb3IgdGhpcyB0cmlwbGV0cyBleGFtcGxlLCB0aGVuIGFsbCAzIHBhdGllbnQgcmVjb3JkcyB3b3VsZCBoYXZlIHZhbHVlQm9vbGVhbj10cnVlICh0aGUgb3JkZXJpbmcgaXMgbm90IGluZGljYXRlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIG11bHRpcGxlQmlydGg/OiAoZmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJJbnRlZ2VyKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBQYXRpZW50Lm11bHRpcGxlQmlydGhbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfbXVsdGlwbGVCaXJ0aElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEd1aWRlbGluZXM6XHJcbiAgICogKiBVc2UgaWQgcGhvdG9zLCBub3QgY2xpbmljYWwgcGhvdG9zLlxyXG4gICAqICogTGltaXQgZGltZW5zaW9ucyB0byB0aHVtYm5haWwuXHJcbiAgICogKiBLZWVwIGJ5dGUgY291bnQgbG93IHRvIGVhc2UgcmVzb3VyY2UgdXBkYXRlcy5cclxuICAgKi9cclxuICBwdWJsaWMgcGhvdG86IGZoaXIuQXR0YWNobWVudFtdO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgY292ZXJzIGFsbCBraW5kcyBvZiBjb250YWN0IHBhcnRpZXM6IGZhbWlseSBtZW1iZXJzLCBidXNpbmVzcyBjb250YWN0cywgZ3VhcmRpYW5zLCBjYXJlZ2l2ZXJzLiBOb3QgYXBwbGljYWJsZSB0byByZWdpc3RlciBwZWRpZ3JlZSBhbmQgZmFtaWx5IHRpZXMgYmV5b25kIHVzZSBvZiBoYXZpbmcgY29udGFjdC5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFjdDogZmhpci5QYXRpZW50Q29udGFjdFtdO1xyXG4gIC8qKlxyXG4gICAqIElmIG5vIGxhbmd1YWdlIGlzIHNwZWNpZmllZCwgdGhpcyAqaW1wbGllcyogdGhhdCB0aGUgZGVmYXVsdCBsb2NhbCBsYW5ndWFnZSBpcyBzcG9rZW4uICBJZiB5b3UgbmVlZCB0byBjb252ZXkgcHJvZmljaWVuY3kgZm9yIG11bHRpcGxlIG1vZGVzLCB0aGVuIHlvdSBuZWVkIG11bHRpcGxlIFBhdGllbnQuQ29tbXVuaWNhdGlvbiBhc3NvY2lhdGlvbnMuICAgRm9yIGFuaW1hbHMsIGxhbmd1YWdlIGlzIG5vdCBhIHJlbGV2YW50IGZpZWxkLCBhbmQgc2hvdWxkIGJlIGFic2VudCBmcm9tIHRoZSBpbnN0YW5jZS4gSWYgdGhlIFBhdGllbnQgZG9lcyBub3Qgc3BlYWsgdGhlIGRlZmF1bHQgbG9jYWwgbGFuZ3VhZ2UsIHRoZW4gdGhlIEludGVycHJldGVyIFJlcXVpcmVkIFN0YW5kYXJkIGNhbiBiZSB1c2VkIHRvIGV4cGxpY2l0bHkgZGVjbGFyZSB0aGF0IGFuIGludGVycHJldGVyIGlzIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21tdW5pY2F0aW9uOiBmaGlyLlBhdGllbnRDb21tdW5pY2F0aW9uW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBtYXkgYmUgdGhlIHByaW1hcnkgY2FyZSBwcm92aWRlciAoaW4gYSBHUCBjb250ZXh0KSwgb3IgaXQgbWF5IGJlIGEgcGF0aWVudCBub21pbmF0ZWQgY2FyZSBtYW5hZ2VyIGluIGEgY29tbXVuaXR5L2Rpc2FiaWxpdHkgc2V0dGluZywgb3IgZXZlbiBvcmdhbml6YXRpb24gdGhhdCB3aWxsIHByb3ZpZGUgcGVvcGxlIHRvIHBlcmZvcm0gdGhlIGNhcmUgcHJvdmlkZXIgcm9sZXMuICBJdCBpcyBub3QgdG8gYmUgdXNlZCB0byByZWNvcmQgQ2FyZSBUZWFtcywgdGhlc2Ugc2hvdWxkIGJlIGluIGEgQ2FyZVRlYW0gcmVzb3VyY2UgdGhhdCBtYXkgYmUgbGlua2VkIHRvIHRoZSBDYXJlUGxhbiBvciBFcGlzb2RlT2ZDYXJlIHJlc291cmNlcy5cclxuICAgKiBNdWx0aXBsZSBHUHMgbWF5IGJlIHJlY29yZGVkIGFnYWluc3QgdGhlIHBhdGllbnQgZm9yIHZhcmlvdXMgcmVhc29ucywgc3VjaCBhcyBhIHN0dWRlbnQgdGhhdCBoYXMgaGlzIGhvbWUgR1AgbGlzdGVkIGFsb25nIHdpdGggdGhlIEdQIGF0IHVuaXZlcnNpdHkgZHVyaW5nIHRoZSBzY2hvb2wgc2VtZXN0ZXJzLCBvciBhIFwiZmx5LWluL2ZseS1vdXRcIiB3b3JrZXIgdGhhdCBoYXMgdGhlIG9uc2l0ZSBHUCBhbHNvIGluY2x1ZGVkIHdpdGggaGlzIGhvbWUgR1AgdG8gcmVtYWluIGF3YXJlIG9mIG1lZGljYWwgaXNzdWVzLlxyXG4gICAqIEp1cmlzZGljdGlvbnMgbWF5IGRlY2lkZSB0aGF0IHRoZXkgY2FuIHByb2ZpbGUgdGhpcyBkb3duIHRvIDEgaWYgZGVzaXJlZCwgb3IgMSBwZXIgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2VuZXJhbFByYWN0aXRpb25lcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBvbmx5IG9uZSBtYW5hZ2luZyBvcmdhbml6YXRpb24gZm9yIGEgc3BlY2lmaWMgcGF0aWVudCByZWNvcmQuIE90aGVyIG9yZ2FuaXphdGlvbnMgd2lsbCBoYXZlIHRoZWlyIG93biBQYXRpZW50IHJlY29yZCwgYW5kIG1heSB1c2UgdGhlIExpbmsgcHJvcGVydHkgdG8gam9pbiB0aGUgcmVjb3JkcyB0b2dldGhlciAob3IgYSBQZXJzb24gcmVzb3VyY2Ugd2hpY2ggY2FuIGluY2x1ZGUgY29uZmlkZW5jZSByYXRpbmdzIGZvciB0aGUgYXNzb2NpYXRpb24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW5hZ2luZ09yZ2FuaXphdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBubyBhc3N1bXB0aW9uIHRoYXQgbGlua2VkIHBhdGllbnQgcmVjb3JkcyBoYXZlIG11dHVhbCBsaW5rcy5cclxuICAgKi9cclxuICBwdWJsaWMgbGluazogZmhpci5QYXRpZW50TGlua1tdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFBhdGllbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYXRpZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ1BhdGllbnQnO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWN0aXZlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmFjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmFjdGl2ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWN0aXZlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7IHRoaXMuYWN0aXZlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FjdGl2ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fYWN0aXZlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IHNvdXJjZS5uYW1lLm1hcCgoeCkgPT4gbmV3IGZoaXIuSHVtYW5OYW1lKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubmFtZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0ZWxlY29tJ10pIHsgdGhpcy50ZWxlY29tID0gc291cmNlLnRlbGVjb20ubWFwKCh4KSA9PiBuZXcgZmhpci5Db250YWN0UG9pbnQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50ZWxlY29tID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2dlbmRlciddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5nZW5kZXIgPSBuZXcgZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5nZW5kZXJ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2dlbmRlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLmdlbmRlcikgeyB0aGlzLmdlbmRlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9nZW5kZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5nZW5kZXIgPSBuZXcgZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPihzb3VyY2UuX2dlbmRlciBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmlydGhEYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmJpcnRoRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLmJpcnRoRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYmlydGhEYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYmlydGhEYXRlKSB7IHRoaXMuYmlydGhEYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2JpcnRoRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmJpcnRoRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHNvdXJjZS5fYmlydGhEYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVjZWFzZWQnXSkgeyB0aGlzLmRlY2Vhc2VkID0gc291cmNlLmRlY2Vhc2VkOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RlY2Vhc2VkQm9vbGVhbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kZWNlYXNlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmRlY2Vhc2VkQm9vbGVhbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RlY2Vhc2VkRGF0ZVRpbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGVjZWFzZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGVjZWFzZWREYXRlVGltZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10pIHsgdGhpcy5hZGRyZXNzID0gc291cmNlLmFkZHJlc3MubWFwKCh4KSA9PiBuZXcgZmhpci5BZGRyZXNzKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWRkcmVzcyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXJpdGFsU3RhdHVzJ10pIHsgdGhpcy5tYXJpdGFsU3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tYXJpdGFsU3RhdHVzLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbXVsdGlwbGVCaXJ0aCddKSB7IHRoaXMubXVsdGlwbGVCaXJ0aCA9IHNvdXJjZS5tdWx0aXBsZUJpcnRoOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ211bHRpcGxlQmlydGhCb29sZWFuJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm11bHRpcGxlQmlydGggPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5tdWx0aXBsZUJpcnRoQm9vbGVhbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ211bHRpcGxlQmlydGhJbnRlZ2VyJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm11bHRpcGxlQmlydGggPSBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHNvdXJjZS5tdWx0aXBsZUJpcnRoSW50ZWdlcn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwaG90byddKSB7IHRoaXMucGhvdG8gPSBzb3VyY2UucGhvdG8ubWFwKCh4KSA9PiBuZXcgZmhpci5BdHRhY2htZW50KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGhvdG8gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFjdCddKSB7IHRoaXMuY29udGFjdCA9IHNvdXJjZS5jb250YWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUGF0aWVudENvbnRhY3QoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW11bmljYXRpb24nXSkgeyB0aGlzLmNvbW11bmljYXRpb24gPSBzb3VyY2UuY29tbXVuaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlBhdGllbnRDb21tdW5pY2F0aW9uKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tbXVuaWNhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydnZW5lcmFsUHJhY3RpdGlvbmVyJ10pIHsgdGhpcy5nZW5lcmFsUHJhY3RpdGlvbmVyID0gc291cmNlLmdlbmVyYWxQcmFjdGl0aW9uZXIubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5nZW5lcmFsUHJhY3RpdGlvbmVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbmFnaW5nT3JnYW5pemF0aW9uJ10pIHsgdGhpcy5tYW5hZ2luZ09yZ2FuaXphdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubWFuYWdpbmdPcmdhbml6YXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydsaW5rJ10pIHsgdGhpcy5saW5rID0gc291cmNlLmxpbmsubWFwKCh4KSA9PiBuZXcgZmhpci5QYXRpZW50TGluayh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmxpbmsgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhdGllbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhY3RpdmUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ25hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3RlbGVjb20nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdnZW5kZXInLGV4cCwnQWRtaW5pc3RyYXRpdmVHZW5kZXInLEFkbWluaXN0cmF0aXZlR2VuZGVyVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2JpcnRoRGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGVjZWFzZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2FkZHJlc3MnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21hcml0YWxTdGF0dXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ211bHRpcGxlQmlydGgnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3Bob3RvJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb250YWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb21tdW5pY2F0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdnZW5lcmFsUHJhY3RpdGlvbmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtYW5hZ2luZ09yZ2FuaXphdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbGluaycsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=