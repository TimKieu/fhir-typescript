// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: MeasureReport
import * as fhir from '../fhir.js';
// @ts-ignore
import { MeasureReportStatusVsValidation } from '../fhirValueSets/MeasureReportStatusVsValidation.js';
// @ts-ignore
import { MeasureReportTypeVsValidation } from '../fhirValueSets/MeasureReportTypeVsValidation.js';
// @ts-ignore
import { MeasureImprovementNotationVsValidation } from '../fhirValueSets/MeasureImprovementNotationVsValidation.js';
/**
 * The populations that make up the population group, one for each type of population appropriate for the measure.
 */
export class MeasureReportGroupPopulation extends fhir.BackboneElement {
    /**
     * Default constructor for MeasureReportGroupPopulation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['count']) {
            this.count = new fhir.FhirInteger({ value: source.count });
        }
        if (source['_count']) {
            if (this.count) {
                this.count.addExtendedProperties(source._count);
            }
            else {
                this.count = new fhir.FhirInteger(source._count);
            }
        }
        if (source['subjectResults']) {
            this.subjectResults = new fhir.Reference(source.subjectResults);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MeasureReport.group.population';
        }
        this.vOS('code', exp);
        this.vOS('count', exp);
        this.vOS('subjectResults', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MeasureReportGroupPopulation._fts_dataType = 'MeasureReportGroupPopulation';
/**
 * A stratifier component value.
 */
export class MeasureReportGroupStratifierStratumComponent extends fhir.BackboneElement {
    /**
     * Default constructor for MeasureReportGroupStratifierStratumComponent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['value']) {
            this.value = new fhir.CodeableConcept(source.value);
        }
        else {
            this.value = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MeasureReport.group.stratifier.stratum.component';
        }
        this.vRS('code', exp);
        this.vRS('value', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MeasureReportGroupStratifierStratumComponent._fts_dataType = 'MeasureReportGroupStratifierStratumComponent';
/**
 * The populations that make up the stratum, one for each type of population appropriate to the measure.
 */
export class MeasureReportGroupStratifierStratumPopulation extends fhir.BackboneElement {
    /**
     * Default constructor for MeasureReportGroupStratifierStratumPopulation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['count']) {
            this.count = new fhir.FhirInteger({ value: source.count });
        }
        if (source['_count']) {
            if (this.count) {
                this.count.addExtendedProperties(source._count);
            }
            else {
                this.count = new fhir.FhirInteger(source._count);
            }
        }
        if (source['subjectResults']) {
            this.subjectResults = new fhir.Reference(source.subjectResults);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MeasureReport.group.stratifier.stratum.population';
        }
        this.vOS('code', exp);
        this.vOS('count', exp);
        this.vOS('subjectResults', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MeasureReportGroupStratifierStratumPopulation._fts_dataType = 'MeasureReportGroupStratifierStratumPopulation';
/**
 * This element contains the results for a single stratum within the stratifier. For example, when stratifying on administrative gender, there will be four strata, one for each possible gender value.
 */
export class MeasureReportGroupStratifierStratum extends fhir.BackboneElement {
    /**
     * Default constructor for MeasureReportGroupStratifierStratum - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['value']) {
            this.value = new fhir.CodeableConcept(source.value);
        }
        if (source['component']) {
            this.component = source.component.map((x) => new fhir.MeasureReportGroupStratifierStratumComponent(x));
        }
        else {
            this.component = [];
        }
        if (source['population']) {
            this.population = source.population.map((x) => new fhir.MeasureReportGroupStratifierStratumPopulation(x));
        }
        else {
            this.population = [];
        }
        if (source['measureScore']) {
            this.measureScore = new fhir.Quantity(source.measureScore);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MeasureReport.group.stratifier.stratum';
        }
        this.vOS('value', exp);
        this.vOA('component', exp);
        this.vOA('population', exp);
        this.vOS('measureScore', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MeasureReportGroupStratifierStratum._fts_dataType = 'MeasureReportGroupStratifierStratum';
/**
 * When a measure includes multiple stratifiers, there will be a stratifier group for each stratifier defined by the measure.
 */
export class MeasureReportGroupStratifier extends fhir.BackboneElement {
    /**
     * Default constructor for MeasureReportGroupStratifier - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = source.code.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.code = [];
        }
        if (source['stratum']) {
            this.stratum = source.stratum.map((x) => new fhir.MeasureReportGroupStratifierStratum(x));
        }
        else {
            this.stratum = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MeasureReport.group.stratifier';
        }
        this.vOA('code', exp);
        this.vOA('stratum', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MeasureReportGroupStratifier._fts_dataType = 'MeasureReportGroupStratifier';
/**
 * The results of the calculation, one for each population group in the measure.
 */
export class MeasureReportGroup extends fhir.BackboneElement {
    /**
     * Default constructor for MeasureReportGroup - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['population']) {
            this.population = source.population.map((x) => new fhir.MeasureReportGroupPopulation(x));
        }
        else {
            this.population = [];
        }
        if (source['measureScore']) {
            this.measureScore = new fhir.Quantity(source.measureScore);
        }
        if (source['stratifier']) {
            this.stratifier = source.stratifier.map((x) => new fhir.MeasureReportGroupStratifier(x));
        }
        else {
            this.stratifier = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MeasureReport.group';
        }
        this.vOS('code', exp);
        this.vOA('population', exp);
        this.vOS('measureScore', exp);
        this.vOA('stratifier', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MeasureReportGroup._fts_dataType = 'MeasureReportGroup';
/**
 * The MeasureReport resource contains the results of the calculation of a measure; and optionally a reference to the resources involved in that calculation.
 */
export class MeasureReport extends fhir.DomainResource {
    /**
     * Default constructor for MeasureReport - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MeasureReport';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['measure']) {
            this.measure = new fhir.FhirCanonical({ value: source.measure });
        }
        else {
            this.measure = null;
        }
        if (source['_measure']) {
            if (this.measure) {
                this.measure.addExtendedProperties(source._measure);
            }
            else {
                this.measure = new fhir.FhirCanonical(source._measure);
            }
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['reporter']) {
            this.reporter = new fhir.Reference(source.reporter);
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        else {
            this.period = null;
        }
        if (source['improvementNotation']) {
            this.improvementNotation = new fhir.CodeableConcept(source.improvementNotation);
        }
        if (source['group']) {
            this.group = source.group.map((x) => new fhir.MeasureReportGroup(x));
        }
        else {
            this.group = [];
        }
        if (source['evaluatedResource']) {
            this.evaluatedResource = source.evaluatedResource.map((x) => new fhir.Reference(x));
        }
        else {
            this.evaluatedResource = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MeasureReport';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vRSV('status', exp, 'MeasureReportStatus', MeasureReportStatusVsValidation, 'r');
        this.vRSV('type', exp, 'MeasureReportType', MeasureReportTypeVsValidation, 'r');
        this.vRS('measure', exp);
        this.vOS('subject', exp);
        this.vOS('date', exp);
        this.vOS('reporter', exp);
        this.vRS('period', exp);
        this.vOSV('improvementNotation', exp, 'MeasureImprovementNotation', MeasureImprovementNotationVsValidation, 'r');
        this.vOA('group', exp);
        this.vOA('evaluatedResource', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MeasureReport._fts_dataType = 'MeasureReport';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVhc3VyZVJlcG9ydC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvTWVhc3VyZVJlcG9ydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQywrQkFBK0I7QUFFL0IsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFRbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLHFEQUFxRCxDQUFDO0FBR3RHLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQUdsRyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNDQUFzQyxFQUFFLE1BQU0sNERBQTRELENBQUM7QUF1QnBIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRCQUE2QixTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUJwRTs7T0FFRztJQUNILFlBQVksU0FBbUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDekcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNsRixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsTUFBTyxDQUFDLENBQUM7YUFBRTtpQkFDaEU7Z0JBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE1BQXVDLENBQUMsQ0FBQzthQUFFO1NBQzVGO1FBQ0QsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUFFO0lBQ3BHLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxnQ0FBZ0MsQ0FBQTtTQUFFO1FBQzFELElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3JCLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDOUIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF2Q0Q7O0dBRUc7QUFDNkIsMENBQWEsR0FBVSw4QkFBOEIsQ0FBQztBQW9EeEY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sNENBQTZDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhcEY7O09BRUc7SUFDSCxZQUFZLFNBQW1FLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3pILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTthQUNyRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FBRTthQUN4RTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQUU7SUFDN0IsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLGtEQUFrRCxDQUFBO1NBQUU7UUFDNUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDckIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUEvQkQ7O0dBRUc7QUFDNkIsMERBQWEsR0FBVSw4Q0FBOEMsQ0FBQztBQW9EeEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sNkNBQThDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQnJGOztPQUVHO0lBQ0gsWUFBWSxTQUFvRSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMxSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2xGLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BCLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxNQUFPLENBQUMsQ0FBQzthQUFFO2lCQUNoRTtnQkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsTUFBdUMsQ0FBQyxDQUFDO2FBQUU7U0FDNUY7UUFDRCxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQUU7SUFDcEcsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLG1EQUFtRCxDQUFBO1NBQUU7UUFDN0UsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDckIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM5QixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXZDRDs7R0FFRztBQUM2QiwyREFBYSxHQUFVLCtDQUErQyxDQUFDO0FBNER6Rzs7R0FFRztBQUNILE1BQU0sT0FBTyxtQ0FBb0MsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXFCM0U7O09BRUc7SUFDSCxZQUFZLFNBQTBELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ2hILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FBRTtRQUM3RSxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLDRDQUE0QyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMvSDtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDN0IsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbkk7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQUU7SUFDN0YsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLHdDQUF3QyxDQUFBO1NBQUU7UUFDbEUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDckIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDekIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDNUIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUEzQ0Q7O0dBRUc7QUFDNkIsaURBQWEsR0FBVSxxQ0FBcUMsQ0FBQztBQXdEL0Y7O0dBRUc7QUFDSCxNQUFNLE9BQU8sNEJBQTZCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhcEU7O09BRUc7SUFDSCxZQUFZLFNBQW1ELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3pHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ25GO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUN4QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLG1DQUFtQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNoSDtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1NBQUU7SUFDN0IsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLGdDQUFnQyxDQUFBO1NBQUU7UUFDMUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUEvQkQ7O0dBRUc7QUFDNkIsMENBQWEsR0FBVSw4QkFBOEIsQ0FBQztBQW9EeEY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sa0JBQW1CLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQjFEOztPQUVHO0lBQ0gsWUFBWSxTQUF5QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMvRixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbEg7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQUU7UUFDM0YsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbEg7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO0lBQ2hDLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxxQkFBcUIsQ0FBQTtTQUFFO1FBQy9DLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFCLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBM0NEOztHQUVHO0FBQzZCLGdDQUFhLEdBQVUsb0JBQW9CLENBQUM7QUFnSDlFOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGFBQWMsU0FBUSxJQUFJLENBQUMsY0FBYztJQXFEcEQ7O09BRUc7SUFDSCxZQUFZLFNBQW9DLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzFGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksR0FBRyxlQUFlLENBQUM7UUFDcEMsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2hHO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM5QixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUE4QixFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztTQUFFO2FBQzFHO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FBRTtRQUM1QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsT0FBUSxDQUFDLENBQUM7YUFBRTtpQkFDbkU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQThCLE1BQU0sQ0FBQyxPQUFpQyxDQUFDLENBQUM7YUFBRTtTQUNqSDtRQUNELElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQTRCLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbEc7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ25CLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQzthQUFFO2lCQUM3RDtnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBNEIsTUFBTSxDQUFDLEtBQStCLENBQUMsQ0FBQzthQUFFO1NBQzNHO1FBQ0QsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3JGO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FBRTtRQUM3QixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUN0QixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFDLENBQUM7YUFBRTtpQkFDdEU7Z0JBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLFFBQTJDLENBQUMsQ0FBQzthQUFFO1NBQ3BHO1FBQ0QsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUM3RSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDaEYsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQUU7aUJBQzdEO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUF1QyxDQUFDLENBQUM7YUFBRTtTQUM1RjtRQUNELElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQUU7UUFDaEYsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FBRTthQUNsRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUM7U0FBRTtRQUN2SCxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN6RjtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDekIsSUFBSSxNQUFNLENBQUMsbUJBQW1CLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3BIO1lBQUUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztTQUFFO0lBQ3ZDLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxlQUFlLENBQUE7U0FBRTtRQUN6QyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMscUJBQXFCLEVBQUMsK0JBQStCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDakYsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLG1CQUFtQixFQUFDLDZCQUE2QixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzNFLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3hCLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUMsR0FBRyxFQUFDLDRCQUE0QixFQUFDLHNDQUFzQyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzVHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3JCLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDakMsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUFoSEQ7O0dBRUc7QUFDNkIsMkJBQWEsR0FBVSxlQUFlLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IE1lYXN1cmVSZXBvcnRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lYXN1cmVQb3B1bGF0aW9uQ29kZXMsICBNZWFzdXJlUG9wdWxhdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWFzdXJlUG9wdWxhdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWFzdXJlUG9wdWxhdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVhc3VyZVBvcHVsYXRpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lYXN1cmVSZXBvcnRTdGF0dXNDb2RlcywgIE1lYXN1cmVSZXBvcnRTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVhc3VyZVJlcG9ydFN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWFzdXJlUmVwb3J0U3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWFzdXJlUmVwb3J0U3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWFzdXJlUmVwb3J0VHlwZUNvZGVzLCAgTWVhc3VyZVJlcG9ydFR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVhc3VyZVJlcG9ydFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVhc3VyZVJlcG9ydFR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lYXN1cmVSZXBvcnRUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWFzdXJlSW1wcm92ZW1lbnROb3RhdGlvbkNvZGVzLCAgTWVhc3VyZUltcHJvdmVtZW50Tm90YXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVhc3VyZUltcHJvdmVtZW50Tm90YXRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVhc3VyZUltcHJvdmVtZW50Tm90YXRpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lYXN1cmVJbXByb3ZlbWVudE5vdGF0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lYXN1cmVSZXBvcnRHcm91cFBvcHVsYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVhc3VyZVJlcG9ydEdyb3VwUG9wdWxhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBwb3B1bGF0aW9uLlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgbWVtYmVycyBvZiB0aGUgcG9wdWxhdGlvbi5cclxuICAgKi9cclxuICBjb3VudD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVhc3VyZVJlcG9ydC5ncm91cC5wb3B1bGF0aW9uLmNvdW50XHJcbiAgICovXHJcbiAgX2NvdW50PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgcmVmZXJzIHRvIGEgTGlzdCBvZiBzdWJqZWN0IGxldmVsIE1lYXN1cmVSZXBvcnQgcmVzb3VyY2VzLCBvbmUgZm9yIGVhY2ggc3ViamVjdCBpbiB0aGlzIHBvcHVsYXRpb24uXHJcbiAgICovXHJcbiAgc3ViamVjdFJlc3VsdHM/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHBvcHVsYXRpb25zIHRoYXQgbWFrZSB1cCB0aGUgcG9wdWxhdGlvbiBncm91cCwgb25lIGZvciBlYWNoIHR5cGUgb2YgcG9wdWxhdGlvbiBhcHByb3ByaWF0ZSBmb3IgdGhlIG1lYXN1cmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVhc3VyZVJlcG9ydEdyb3VwUG9wdWxhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lYXN1cmVSZXBvcnRHcm91cFBvcHVsYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBwb3B1bGF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgbWVtYmVycyBvZiB0aGUgcG9wdWxhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgY291bnQ/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgcmVmZXJzIHRvIGEgTGlzdCBvZiBzdWJqZWN0IGxldmVsIE1lYXN1cmVSZXBvcnQgcmVzb3VyY2VzLCBvbmUgZm9yIGVhY2ggc3ViamVjdCBpbiB0aGlzIHBvcHVsYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3RSZXN1bHRzPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lYXN1cmVSZXBvcnRHcm91cFBvcHVsYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWFzdXJlUmVwb3J0R3JvdXBQb3B1bGF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb3VudCddKSB7IHRoaXMuY291bnQgPSBuZXcgZmhpci5GaGlySW50ZWdlcih7dmFsdWU6IHNvdXJjZS5jb3VudH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY291bnQnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb3VudCkgeyB0aGlzLmNvdW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvdW50ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY291bnQgPSBuZXcgZmhpci5GaGlySW50ZWdlcihzb3VyY2UuX2NvdW50IGFzIFBhcnRpYWw8Zmhpci5GaGlySW50ZWdlckFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdFJlc3VsdHMnXSkgeyB0aGlzLnN1YmplY3RSZXN1bHRzID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0UmVzdWx0cyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWFzdXJlUmVwb3J0Lmdyb3VwLnBvcHVsYXRpb24nIH1cclxuICAgIHRoaXMudk9TKCdjb2RlJyxleHApXHJcbiAgICB0aGlzLnZPUygnY291bnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdzdWJqZWN0UmVzdWx0cycsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtQ29tcG9uZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtQ29tcG9uZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGUgZm9yIHRoZSBzdHJhdHVtIGNvbXBvbmVudCB2YWx1ZS5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgc3RyYXR1bSBjb21wb25lbnQgdmFsdWUuXHJcbiAgICovXHJcbiAgdmFsdWU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzdHJhdGlmaWVyIGNvbXBvbmVudCB2YWx1ZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyU3RyYXR1bUNvbXBvbmVudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtQ29tcG9uZW50JztcclxuICAvKipcclxuICAgKiBUaGUgY29kZSBmb3IgdGhlIHN0cmF0dW0gY29tcG9uZW50IHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdHJhdHVtIGNvbXBvbmVudCB2YWx1ZS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllclN0cmF0dW1Db21wb25lbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyU3RyYXR1bUNvbXBvbmVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb2RlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmFsdWUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWFzdXJlUmVwb3J0Lmdyb3VwLnN0cmF0aWZpZXIuc3RyYXR1bS5jb21wb25lbnQnIH1cclxuICAgIHRoaXMudlJTKCdjb2RlJyxleHApXHJcbiAgICB0aGlzLnZSUygndmFsdWUnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyU3RyYXR1bVBvcHVsYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllclN0cmF0dW1Qb3B1bGF0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdGhlIHBvcHVsYXRpb24uXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiBtZW1iZXJzIG9mIHRoZSBwb3B1bGF0aW9uIGluIHRoaXMgc3RyYXR1bS5cclxuICAgKi9cclxuICBjb3VudD86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVhc3VyZVJlcG9ydC5ncm91cC5zdHJhdGlmaWVyLnN0cmF0dW0ucG9wdWxhdGlvbi5jb3VudFxyXG4gICAqL1xyXG4gIF9jb3VudD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IHJlZmVycyB0byBhIExpc3Qgb2Ygc3ViamVjdCBsZXZlbCBNZWFzdXJlUmVwb3J0IHJlc291cmNlcywgb25lIGZvciBlYWNoIHN1YmplY3QgaW4gdGhpcyBwb3B1bGF0aW9uIGluIHRoaXMgc3RyYXR1bS5cclxuICAgKi9cclxuICBzdWJqZWN0UmVzdWx0cz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcG9wdWxhdGlvbnMgdGhhdCBtYWtlIHVwIHRoZSBzdHJhdHVtLCBvbmUgZm9yIGVhY2ggdHlwZSBvZiBwb3B1bGF0aW9uIGFwcHJvcHJpYXRlIHRvIHRoZSBtZWFzdXJlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtUG9wdWxhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtUG9wdWxhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdGhlIHBvcHVsYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiBtZW1iZXJzIG9mIHRoZSBwb3B1bGF0aW9uIGluIHRoaXMgc3RyYXR1bS5cclxuICAgKi9cclxuICBwdWJsaWMgY291bnQ/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgcmVmZXJzIHRvIGEgTGlzdCBvZiBzdWJqZWN0IGxldmVsIE1lYXN1cmVSZXBvcnQgcmVzb3VyY2VzLCBvbmUgZm9yIGVhY2ggc3ViamVjdCBpbiB0aGlzIHBvcHVsYXRpb24gaW4gdGhpcyBzdHJhdHVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0UmVzdWx0cz86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyU3RyYXR1bVBvcHVsYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyU3RyYXR1bVBvcHVsYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29kZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvdW50J10pIHsgdGhpcy5jb3VudCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLmNvdW50fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb3VudCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvdW50KSB7IHRoaXMuY291bnQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY291bnQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb3VudCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fY291bnQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0UmVzdWx0cyddKSB7IHRoaXMuc3ViamVjdFJlc3VsdHMgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnN1YmplY3RSZXN1bHRzKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lYXN1cmVSZXBvcnQuZ3JvdXAuc3RyYXRpZmllci5zdHJhdHVtLnBvcHVsYXRpb24nIH1cclxuICAgIHRoaXMudk9TKCdjb2RlJyxleHApXHJcbiAgICB0aGlzLnZPUygnY291bnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdzdWJqZWN0UmVzdWx0cycsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIGZvciB0aGlzIHN0cmF0dW0sIGV4cHJlc3NlZCBhcyBhIENvZGVhYmxlQ29uY2VwdC4gV2hlbiBkZWZpbmluZyBzdHJhdGlmaWVycyBvbiBjb21wbGV4IHZhbHVlcywgdGhlIHZhbHVlIG11c3QgYmUgcmVuZGVyZWQgc3VjaCB0aGF0IHRoZSB2YWx1ZSBmb3IgZWFjaCBzdHJhdHVtIHdpdGhpbiB0aGUgc3RyYXRpZmllciBpcyB1bmlxdWUuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc3RyYXRpZmllciBjb21wb25lbnQgdmFsdWUuXHJcbiAgICovXHJcbiAgY29tcG9uZW50PzogZmhpci5NZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyU3RyYXR1bUNvbXBvbmVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBvcHVsYXRpb25zIHRoYXQgbWFrZSB1cCB0aGUgc3RyYXR1bSwgb25lIGZvciBlYWNoIHR5cGUgb2YgcG9wdWxhdGlvbiBhcHByb3ByaWF0ZSB0byB0aGUgbWVhc3VyZS5cclxuICAgKi9cclxuICBwb3B1bGF0aW9uPzogZmhpci5NZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyU3RyYXR1bVBvcHVsYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZWFzdXJlIHNjb3JlIGZvciB0aGlzIHN0cmF0dW0sIGNhbGN1bGF0ZWQgYXMgYXBwcm9wcmlhdGUgZm9yIHRoZSBtZWFzdXJlIHR5cGUgYW5kIHNjb3JpbmcgbWV0aG9kLCBhbmQgYmFzZWQgb24gb25seSB0aGUgbWVtYmVycyBvZiB0aGlzIHN0cmF0dW0uXHJcbiAgICovXHJcbiAgbWVhc3VyZVNjb3JlPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBlbGVtZW50IGNvbnRhaW5zIHRoZSByZXN1bHRzIGZvciBhIHNpbmdsZSBzdHJhdHVtIHdpdGhpbiB0aGUgc3RyYXRpZmllci4gRm9yIGV4YW1wbGUsIHdoZW4gc3RyYXRpZnlpbmcgb24gYWRtaW5pc3RyYXRpdmUgZ2VuZGVyLCB0aGVyZSB3aWxsIGJlIGZvdXIgc3RyYXRhLCBvbmUgZm9yIGVhY2ggcG9zc2libGUgZ2VuZGVyIHZhbHVlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllclN0cmF0dW0nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBmb3IgdGhpcyBzdHJhdHVtLCBleHByZXNzZWQgYXMgYSBDb2RlYWJsZUNvbmNlcHQuIFdoZW4gZGVmaW5pbmcgc3RyYXRpZmllcnMgb24gY29tcGxleCB2YWx1ZXMsIHRoZSB2YWx1ZSBtdXN0IGJlIHJlbmRlcmVkIHN1Y2ggdGhhdCB0aGUgdmFsdWUgZm9yIGVhY2ggc3RyYXR1bSB3aXRoaW4gdGhlIHN0cmF0aWZpZXIgaXMgdW5pcXVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHN0cmF0aWZpZXIgY29tcG9uZW50IHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21wb25lbnQ6IGZoaXIuTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllclN0cmF0dW1Db21wb25lbnRbXTtcclxuICAvKipcclxuICAgKiBUaGUgcG9wdWxhdGlvbnMgdGhhdCBtYWtlIHVwIHRoZSBzdHJhdHVtLCBvbmUgZm9yIGVhY2ggdHlwZSBvZiBwb3B1bGF0aW9uIGFwcHJvcHJpYXRlIHRvIHRoZSBtZWFzdXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb3B1bGF0aW9uOiBmaGlyLk1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtUG9wdWxhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZWFzdXJlIHNjb3JlIGZvciB0aGlzIHN0cmF0dW0sIGNhbGN1bGF0ZWQgYXMgYXBwcm9wcmlhdGUgZm9yIHRoZSBtZWFzdXJlIHR5cGUgYW5kIHNjb3JpbmcgbWV0aG9kLCBhbmQgYmFzZWQgb24gb25seSB0aGUgbWVtYmVycyBvZiB0aGlzIHN0cmF0dW0uXHJcbiAgICovXHJcbiAgcHVibGljIG1lYXN1cmVTY29yZT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllclN0cmF0dW1BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS52YWx1ZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbXBvbmVudCddKSB7IHRoaXMuY29tcG9uZW50ID0gc291cmNlLmNvbXBvbmVudC5tYXAoKHgpID0+IG5ldyBmaGlyLk1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtQ29tcG9uZW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tcG9uZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BvcHVsYXRpb24nXSkgeyB0aGlzLnBvcHVsYXRpb24gPSBzb3VyY2UucG9wdWxhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLk1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtUG9wdWxhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBvcHVsYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWVhc3VyZVNjb3JlJ10pIHsgdGhpcy5tZWFzdXJlU2NvcmUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UubWVhc3VyZVNjb3JlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lYXN1cmVSZXBvcnQuZ3JvdXAuc3RyYXRpZmllci5zdHJhdHVtJyB9XHJcbiAgICB0aGlzLnZPUygndmFsdWUnLGV4cClcclxuICAgIHRoaXMudk9BKCdjb21wb25lbnQnLGV4cClcclxuICAgIHRoaXMudk9BKCdwb3B1bGF0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygnbWVhc3VyZVNjb3JlJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllciB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lYW5pbmcgb2YgdGhpcyBzdHJhdGlmaWVyLCBhcyBkZWZpbmVkIGluIHRoZSBtZWFzdXJlIGRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgY29udGFpbnMgdGhlIHJlc3VsdHMgZm9yIGEgc2luZ2xlIHN0cmF0dW0gd2l0aGluIHRoZSBzdHJhdGlmaWVyLiBGb3IgZXhhbXBsZSwgd2hlbiBzdHJhdGlmeWluZyBvbiBhZG1pbmlzdHJhdGl2ZSBnZW5kZXIsIHRoZXJlIHdpbGwgYmUgZm91ciBzdHJhdGEsIG9uZSBmb3IgZWFjaCBwb3NzaWJsZSBnZW5kZXIgdmFsdWUuXHJcbiAgICovXHJcbiAgc3RyYXR1bT86IGZoaXIuTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllclN0cmF0dW1BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogV2hlbiBhIG1lYXN1cmUgaW5jbHVkZXMgbXVsdGlwbGUgc3RyYXRpZmllcnMsIHRoZXJlIHdpbGwgYmUgYSBzdHJhdGlmaWVyIGdyb3VwIGZvciBlYWNoIHN0cmF0aWZpZXIgZGVmaW5lZCBieSB0aGUgbWVhc3VyZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllcic7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lYW5pbmcgb2YgdGhpcyBzdHJhdGlmaWVyLCBhcyBkZWZpbmVkIGluIHRoZSBtZWFzdXJlIGRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGNvbnRhaW5zIHRoZSByZXN1bHRzIGZvciBhIHNpbmdsZSBzdHJhdHVtIHdpdGhpbiB0aGUgc3RyYXRpZmllci4gRm9yIGV4YW1wbGUsIHdoZW4gc3RyYXRpZnlpbmcgb24gYWRtaW5pc3RyYXRpdmUgZ2VuZGVyLCB0aGVyZSB3aWxsIGJlIGZvdXIgc3RyYXRhLCBvbmUgZm9yIGVhY2ggcG9zc2libGUgZ2VuZGVyIHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdHJhdHVtOiBmaGlyLk1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJTdHJhdHVtW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lYXN1cmVSZXBvcnRHcm91cFN0cmF0aWZpZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IHNvdXJjZS5jb2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdHJhdHVtJ10pIHsgdGhpcy5zdHJhdHVtID0gc291cmNlLnN0cmF0dW0ubWFwKCh4KSA9PiBuZXcgZmhpci5NZWFzdXJlUmVwb3J0R3JvdXBTdHJhdGlmaWVyU3RyYXR1bSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0cmF0dW0gPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lYXN1cmVSZXBvcnQuZ3JvdXAuc3RyYXRpZmllcicgfVxyXG4gICAgdGhpcy52T0EoJ2NvZGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdzdHJhdHVtJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVhc3VyZVJlcG9ydEdyb3VwIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lYXN1cmVSZXBvcnRHcm91cEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZWFuaW5nIG9mIHRoZSBwb3B1bGF0aW9uIGdyb3VwIGFzIGRlZmluZWQgaW4gdGhlIG1lYXN1cmUgZGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcG9wdWxhdGlvbnMgdGhhdCBtYWtlIHVwIHRoZSBwb3B1bGF0aW9uIGdyb3VwLCBvbmUgZm9yIGVhY2ggdHlwZSBvZiBwb3B1bGF0aW9uIGFwcHJvcHJpYXRlIGZvciB0aGUgbWVhc3VyZS5cclxuICAgKi9cclxuICBwb3B1bGF0aW9uPzogZmhpci5NZWFzdXJlUmVwb3J0R3JvdXBQb3B1bGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWVhc3VyZSBzY29yZSBmb3IgdGhpcyBwb3B1bGF0aW9uIGdyb3VwLCBjYWxjdWxhdGVkIGFzIGFwcHJvcHJpYXRlIGZvciB0aGUgbWVhc3VyZSB0eXBlIGFuZCBzY29yaW5nIG1ldGhvZCwgYW5kIGJhc2VkIG9uIHRoZSBjb250ZW50cyBvZiB0aGUgcG9wdWxhdGlvbnMgZGVmaW5lZCBpbiB0aGUgZ3JvdXAuXHJcbiAgICovXHJcbiAgbWVhc3VyZVNjb3JlPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gYSBtZWFzdXJlIGluY2x1ZGVzIG11bHRpcGxlIHN0cmF0aWZpZXJzLCB0aGVyZSB3aWxsIGJlIGEgc3RyYXRpZmllciBncm91cCBmb3IgZWFjaCBzdHJhdGlmaWVyIGRlZmluZWQgYnkgdGhlIG1lYXN1cmUuXHJcbiAgICovXHJcbiAgc3RyYXRpZmllcj86IGZoaXIuTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcmVzdWx0cyBvZiB0aGUgY2FsY3VsYXRpb24sIG9uZSBmb3IgZWFjaCBwb3B1bGF0aW9uIGdyb3VwIGluIHRoZSBtZWFzdXJlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lYXN1cmVSZXBvcnRHcm91cCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lYXN1cmVSZXBvcnRHcm91cCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lYW5pbmcgb2YgdGhlIHBvcHVsYXRpb24gZ3JvdXAgYXMgZGVmaW5lZCBpbiB0aGUgbWVhc3VyZSBkZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwb3B1bGF0aW9ucyB0aGF0IG1ha2UgdXAgdGhlIHBvcHVsYXRpb24gZ3JvdXAsIG9uZSBmb3IgZWFjaCB0eXBlIG9mIHBvcHVsYXRpb24gYXBwcm9wcmlhdGUgZm9yIHRoZSBtZWFzdXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb3B1bGF0aW9uOiBmaGlyLk1lYXN1cmVSZXBvcnRHcm91cFBvcHVsYXRpb25bXTtcclxuICAvKipcclxuICAgKiBUaGUgbWVhc3VyZSBzY29yZSBmb3IgdGhpcyBwb3B1bGF0aW9uIGdyb3VwLCBjYWxjdWxhdGVkIGFzIGFwcHJvcHJpYXRlIGZvciB0aGUgbWVhc3VyZSB0eXBlIGFuZCBzY29yaW5nIG1ldGhvZCwgYW5kIGJhc2VkIG9uIHRoZSBjb250ZW50cyBvZiB0aGUgcG9wdWxhdGlvbnMgZGVmaW5lZCBpbiB0aGUgZ3JvdXAuXHJcbiAgICovXHJcbiAgcHVibGljIG1lYXN1cmVTY29yZT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gYSBtZWFzdXJlIGluY2x1ZGVzIG11bHRpcGxlIHN0cmF0aWZpZXJzLCB0aGVyZSB3aWxsIGJlIGEgc3RyYXRpZmllciBncm91cCBmb3IgZWFjaCBzdHJhdGlmaWVyIGRlZmluZWQgYnkgdGhlIG1lYXN1cmUuXHJcbiAgICovXHJcbiAgcHVibGljIHN0cmF0aWZpZXI6IGZoaXIuTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lYXN1cmVSZXBvcnRHcm91cCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lYXN1cmVSZXBvcnRHcm91cEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb2RlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncG9wdWxhdGlvbiddKSB7IHRoaXMucG9wdWxhdGlvbiA9IHNvdXJjZS5wb3B1bGF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVhc3VyZVJlcG9ydEdyb3VwUG9wdWxhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBvcHVsYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWVhc3VyZVNjb3JlJ10pIHsgdGhpcy5tZWFzdXJlU2NvcmUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UubWVhc3VyZVNjb3JlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RyYXRpZmllciddKSB7IHRoaXMuc3RyYXRpZmllciA9IHNvdXJjZS5zdHJhdGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVhc3VyZVJlcG9ydEdyb3VwU3RyYXRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0cmF0aWZpZXIgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lYXN1cmVSZXBvcnQuZ3JvdXAnIH1cclxuICAgIHRoaXMudk9TKCdjb2RlJyxleHApXHJcbiAgICB0aGlzLnZPQSgncG9wdWxhdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ21lYXN1cmVTY29yZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3N0cmF0aWZpZXInLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWFzdXJlUmVwb3J0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lYXN1cmVSZXBvcnRBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJNZWFzdXJlUmVwb3J0XCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgdGhpcyBpcyB1c2VkIGZvciBpZGVudGlmaWVycyB0aGF0IGNhbiBnbyBpbiBhbiBITDcgVjMgSUkgZGF0YSB0eXBlIC0gZS5nLiB0byBpZGVudGlmeSB0aGlzIHt7dGl0bGV9fSBvdXRzaWRlIG9mIEZISVIsIHdoZXJlIHRoZSBsb2dpY2FsIFVSTCBpcyBub3QgcG9zc2libGUgdG8gdXNlLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8TWVhc3VyZVJlcG9ydFN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWFzdXJlUmVwb3J0LnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIERhdGEtY29sbGVjdGlvbiByZXBvcnRzIGFyZSB1c2VkIG9ubHkgdG8gY29tbXVuaWNhdGUgZGF0YS1vZi1pbnRlcmVzdCBmb3IgYSBtZWFzdXJlLiBUaGV5IGRvIG5vdCBuZWNlc3NhcmlseSBpbmNsdWRlIGFsbCB0aGUgZGF0YSBmb3IgYSBwYXJ0aWN1bGFyIHN1YmplY3Qgb3IgcG9wdWxhdGlvbiwgYnV0IHRoZXkgbWF5LlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuRmhpckNvZGU8TWVhc3VyZVJlcG9ydFR5cGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVhc3VyZVJlcG9ydC50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBNZWFzdXJlIHRoYXQgd2FzIGNhbGN1bGF0ZWQgdG8gcHJvZHVjZSB0aGlzIHJlcG9ydC5cclxuICAgKi9cclxuICBtZWFzdXJlOiBmaGlyLkZoaXJDYW5vbmljYWx8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVhc3VyZVJlcG9ydC5tZWFzdXJlXHJcbiAgICovXHJcbiAgX21lYXN1cmU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE9wdGlvbmFsIHN1YmplY3QgaWRlbnRpZnlpbmcgdGhlIGluZGl2aWR1YWwgb3IgaW5kaXZpZHVhbHMgdGhlIHJlcG9ydCBpcyBmb3IuXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgdGhpcyBtZWFzdXJlIHJlcG9ydCB3YXMgZ2VuZXJhdGVkLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWFzdXJlUmVwb3J0LmRhdGVcclxuICAgKi9cclxuICBfZGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluZGl2aWR1YWwsIGxvY2F0aW9uLCBvciBvcmdhbml6YXRpb24gdGhhdCBpcyByZXBvcnRpbmcgdGhlIGRhdGEuXHJcbiAgICovXHJcbiAgcmVwb3J0ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXBvcnRpbmcgcGVyaW9kIGZvciB3aGljaCB0aGUgcmVwb3J0IHdhcyBjYWxjdWxhdGVkLlxyXG4gICAqL1xyXG4gIHBlcmlvZDogZmhpci5QZXJpb2RBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIHR5cGljYWxseSBkZWZpbmVkIGJ5IHRoZSBtZWFzdXJlLCBidXQgcmVwcm9kdWNlZCBoZXJlIHRvIGVuc3VyZSB0aGUgbWVhc3VyZSBzY29yZSBjYW4gYmUgaW50ZXJwcmV0ZWQuIFRoZSBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIGl0IGNoYW5nZXMgdGhlIGludGVycHJldGF0aW9uIG9mIHRoZSByZXBvcnRlZCBtZWFzdXJlIHNjb3JlLlxyXG4gICAqL1xyXG4gIGltcHJvdmVtZW50Tm90YXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXN1bHRzIG9mIHRoZSBjYWxjdWxhdGlvbiwgb25lIGZvciBlYWNoIHBvcHVsYXRpb24gZ3JvdXAgaW4gdGhlIG1lYXN1cmUuXHJcbiAgICovXHJcbiAgZ3JvdXA/OiBmaGlyLk1lYXN1cmVSZXBvcnRHcm91cEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWZlcmVuY2UgdG8gYSBCdW5kbGUgY29udGFpbmluZyB0aGUgUmVzb3VyY2VzIHRoYXQgd2VyZSB1c2VkIGluIHRoZSBjYWxjdWxhdGlvbiBvZiB0aGlzIG1lYXN1cmUuXHJcbiAgICovXHJcbiAgZXZhbHVhdGVkUmVzb3VyY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgTWVhc3VyZVJlcG9ydCByZXNvdXJjZSBjb250YWlucyB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsY3VsYXRpb24gb2YgYSBtZWFzdXJlOyBhbmQgb3B0aW9uYWxseSBhIHJlZmVyZW5jZSB0byB0aGUgcmVzb3VyY2VzIGludm9sdmVkIGluIHRoYXQgY2FsY3VsYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVhc3VyZVJlcG9ydCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVhc3VyZVJlcG9ydCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJNZWFzdXJlUmVwb3J0XCI7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCB0aGlzIGlzIHVzZWQgZm9yIGlkZW50aWZpZXJzIHRoYXQgY2FuIGdvIGluIGFuIEhMNyBWMyBJSSBkYXRhIHR5cGUgLSBlLmcuIHRvIGlkZW50aWZ5IHRoaXMge3t0aXRsZX19IG91dHNpZGUgb2YgRkhJUiwgd2hlcmUgdGhlIGxvZ2ljYWwgVVJMIGlzIG5vdCBwb3NzaWJsZSB0byB1c2UuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPE1lYXN1cmVSZXBvcnRTdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBEYXRhLWNvbGxlY3Rpb24gcmVwb3J0cyBhcmUgdXNlZCBvbmx5IHRvIGNvbW11bmljYXRlIGRhdGEtb2YtaW50ZXJlc3QgZm9yIGEgbWVhc3VyZS4gVGhleSBkbyBub3QgbmVjZXNzYXJpbHkgaW5jbHVkZSBhbGwgdGhlIGRhdGEgZm9yIGEgcGFydGljdWxhciBzdWJqZWN0IG9yIHBvcHVsYXRpb24sIGJ1dCB0aGV5IG1heS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyQ29kZTxNZWFzdXJlUmVwb3J0VHlwZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBNZWFzdXJlIHRoYXQgd2FzIGNhbGN1bGF0ZWQgdG8gcHJvZHVjZSB0aGlzIHJlcG9ydC5cclxuICAgKi9cclxuICBwdWJsaWMgbWVhc3VyZTogZmhpci5GaGlyQ2Fub25pY2FsfG51bGw7XHJcbiAgLyoqXHJcbiAgICogT3B0aW9uYWwgc3ViamVjdCBpZGVudGlmeWluZyB0aGUgaW5kaXZpZHVhbCBvciBpbmRpdmlkdWFscyB0aGUgcmVwb3J0IGlzIGZvci5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB0aGlzIG1lYXN1cmUgcmVwb3J0IHdhcyBnZW5lcmF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluZGl2aWR1YWwsIGxvY2F0aW9uLCBvciBvcmdhbml6YXRpb24gdGhhdCBpcyByZXBvcnRpbmcgdGhlIGRhdGEuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcG9ydGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXBvcnRpbmcgcGVyaW9kIGZvciB3aGljaCB0aGUgcmVwb3J0IHdhcyBjYWxjdWxhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q6IGZoaXIuUGVyaW9kfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIHR5cGljYWxseSBkZWZpbmVkIGJ5IHRoZSBtZWFzdXJlLCBidXQgcmVwcm9kdWNlZCBoZXJlIHRvIGVuc3VyZSB0aGUgbWVhc3VyZSBzY29yZSBjYW4gYmUgaW50ZXJwcmV0ZWQuIFRoZSBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIGl0IGNoYW5nZXMgdGhlIGludGVycHJldGF0aW9uIG9mIHRoZSByZXBvcnRlZCBtZWFzdXJlIHNjb3JlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbXByb3ZlbWVudE5vdGF0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXN1bHRzIG9mIHRoZSBjYWxjdWxhdGlvbiwgb25lIGZvciBlYWNoIHBvcHVsYXRpb24gZ3JvdXAgaW4gdGhlIG1lYXN1cmUuXHJcbiAgICovXHJcbiAgcHVibGljIGdyb3VwOiBmaGlyLk1lYXN1cmVSZXBvcnRHcm91cFtdO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIGEgQnVuZGxlIGNvbnRhaW5pbmcgdGhlIFJlc291cmNlcyB0aGF0IHdlcmUgdXNlZCBpbiB0aGUgY2FsY3VsYXRpb24gb2YgdGhpcyBtZWFzdXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBldmFsdWF0ZWRSZXNvdXJjZTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWFzdXJlUmVwb3J0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVhc3VyZVJlcG9ydEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdNZWFzdXJlUmVwb3J0JztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8TWVhc3VyZVJlcG9ydFN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxNZWFzdXJlUmVwb3J0U3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8TWVhc3VyZVJlcG9ydFR5cGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPE1lYXN1cmVSZXBvcnRUeXBlQ29kZVR5cGU+KHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWVhc3VyZSddKSB7IHRoaXMubWVhc3VyZSA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiBzb3VyY2UubWVhc3VyZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tZWFzdXJlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX21lYXN1cmUnXSkge1xyXG4gICAgICBpZiAodGhpcy5tZWFzdXJlKSB7IHRoaXMubWVhc3VyZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tZWFzdXJlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubWVhc3VyZSA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoc291cmNlLl9tZWFzdXJlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ2Fub25pY2FsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZSkgeyB0aGlzLmRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcG9ydGVyJ10pIHsgdGhpcy5yZXBvcnRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVwb3J0ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UucGVyaW9kKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGVyaW9kID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW1wcm92ZW1lbnROb3RhdGlvbiddKSB7IHRoaXMuaW1wcm92ZW1lbnROb3RhdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuaW1wcm92ZW1lbnROb3RhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2dyb3VwJ10pIHsgdGhpcy5ncm91cCA9IHNvdXJjZS5ncm91cC5tYXAoKHgpID0+IG5ldyBmaGlyLk1lYXN1cmVSZXBvcnRHcm91cCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmdyb3VwID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2V2YWx1YXRlZFJlc291cmNlJ10pIHsgdGhpcy5ldmFsdWF0ZWRSZXNvdXJjZSA9IHNvdXJjZS5ldmFsdWF0ZWRSZXNvdXJjZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmV2YWx1YXRlZFJlc291cmNlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWFzdXJlUmVwb3J0JyB9XHJcbiAgICB0aGlzLnZSUygncmVzb3VyY2VUeXBlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnTWVhc3VyZVJlcG9ydFN0YXR1cycsTWVhc3VyZVJlcG9ydFN0YXR1c1ZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZSU1YoJ3R5cGUnLGV4cCwnTWVhc3VyZVJlcG9ydFR5cGUnLE1lYXN1cmVSZXBvcnRUeXBlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudlJTKCdtZWFzdXJlJyxleHApXHJcbiAgICB0aGlzLnZPUygnc3ViamVjdCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RhdGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdyZXBvcnRlcicsZXhwKVxyXG4gICAgdGhpcy52UlMoJ3BlcmlvZCcsZXhwKVxyXG4gICAgdGhpcy52T1NWKCdpbXByb3ZlbWVudE5vdGF0aW9uJyxleHAsJ01lYXN1cmVJbXByb3ZlbWVudE5vdGF0aW9uJyxNZWFzdXJlSW1wcm92ZW1lbnROb3RhdGlvblZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPQSgnZ3JvdXAnLGV4cClcclxuICAgIHRoaXMudk9BKCdldmFsdWF0ZWRSZXNvdXJjZScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19