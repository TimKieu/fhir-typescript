// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Location
import * as fhir from '../fhir.js';
// @ts-ignore
import { DaysOfWeekVsValidation } from '../fhirValueSets/DaysOfWeekVsValidation.js';
// @ts-ignore
import { LocationStatusVsValidation } from '../fhirValueSets/LocationStatusVsValidation.js';
// @ts-ignore
import { LocationModeVsValidation } from '../fhirValueSets/LocationModeVsValidation.js';
/**
 * The absolute geographic location of the Location, expressed using the WGS84 datum (This is the same co-ordinate system used in KML).
 */
export class LocationPosition extends fhir.BackboneElement {
    /**
     * Default constructor for LocationPosition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['longitude']) {
            this.longitude = new fhir.FhirDecimal({ value: source.longitude });
        }
        else {
            this.longitude = null;
        }
        if (source['_longitude']) {
            if (this.longitude) {
                this.longitude.addExtendedProperties(source._longitude);
            }
            else {
                this.longitude = new fhir.FhirDecimal(source._longitude);
            }
        }
        if (source['latitude']) {
            this.latitude = new fhir.FhirDecimal({ value: source.latitude });
        }
        else {
            this.latitude = null;
        }
        if (source['_latitude']) {
            if (this.latitude) {
                this.latitude.addExtendedProperties(source._latitude);
            }
            else {
                this.latitude = new fhir.FhirDecimal(source._latitude);
            }
        }
        if (source['altitude']) {
            this.altitude = new fhir.FhirDecimal({ value: source.altitude });
        }
        if (source['_altitude']) {
            if (this.altitude) {
                this.altitude.addExtendedProperties(source._altitude);
            }
            else {
                this.altitude = new fhir.FhirDecimal(source._altitude);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Location.position';
        }
        this.vRS('longitude', exp);
        this.vRS('latitude', exp);
        this.vOS('altitude', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
LocationPosition._fts_dataType = 'LocationPosition';
/**
 * This type of information is commonly found published in directories and on websites informing customers when the facility is available.
 * Specific services within the location may have their own hours which could be shorter (or longer) than the locations hours.
 */
export class LocationHoursOfOperation extends fhir.BackboneElement {
    /**
     * Default constructor for LocationHoursOfOperation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['daysOfWeek']) {
            this.daysOfWeek = source.daysOfWeek.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.daysOfWeek = [];
        }
        if (source['_daysOfWeek']) {
            source._daysOfWeek.forEach((x, i) => {
                if (this.daysOfWeek.length >= i) {
                    if (x) {
                        this.daysOfWeek[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.daysOfWeek.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['allDay']) {
            this.allDay = new fhir.FhirBoolean({ value: source.allDay });
        }
        if (source['_allDay']) {
            if (this.allDay) {
                this.allDay.addExtendedProperties(source._allDay);
            }
            else {
                this.allDay = new fhir.FhirBoolean(source._allDay);
            }
        }
        if (source['openingTime']) {
            this.openingTime = new fhir.FhirTime({ value: source.openingTime });
        }
        if (source['_openingTime']) {
            if (this.openingTime) {
                this.openingTime.addExtendedProperties(source._openingTime);
            }
            else {
                this.openingTime = new fhir.FhirTime(source._openingTime);
            }
        }
        if (source['closingTime']) {
            this.closingTime = new fhir.FhirTime({ value: source.closingTime });
        }
        if (source['_closingTime']) {
            if (this.closingTime) {
                this.closingTime.addExtendedProperties(source._closingTime);
            }
            else {
                this.closingTime = new fhir.FhirTime(source._closingTime);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Location.hoursOfOperation';
        }
        this.vOAV('daysOfWeek', exp, 'DaysOfWeek', DaysOfWeekVsValidation, 'r');
        this.vOS('allDay', exp);
        this.vOS('openingTime', exp);
        this.vOS('closingTime', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
LocationHoursOfOperation._fts_dataType = 'LocationHoursOfOperation';
/**
 * Details and position information for a physical place where services are provided and resources and participants may be stored, found, contained, or accommodated.
 */
export class Location extends fhir.DomainResource {
    /**
     * Default constructor for Location - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Location';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['operationalStatus']) {
            this.operationalStatus = new fhir.Coding(source.operationalStatus);
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['alias']) {
            this.alias = source.alias.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.alias = [];
        }
        if (source['_alias']) {
            source._alias.forEach((x, i) => {
                if (this.alias.length >= i) {
                    if (x) {
                        this.alias[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.alias.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['mode']) {
            this.mode = new fhir.FhirCode({ value: source.mode });
        }
        if (source['_mode']) {
            if (this.mode) {
                this.mode.addExtendedProperties(source._mode);
            }
            else {
                this.mode = new fhir.FhirCode(source._mode);
            }
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
        if (source['address']) {
            this.address = new fhir.Address(source.address);
        }
        if (source['physicalType']) {
            this.physicalType = new fhir.CodeableConcept(source.physicalType);
        }
        if (source['position']) {
            this.position = new fhir.LocationPosition(source.position);
        }
        if (source['managingOrganization']) {
            this.managingOrganization = new fhir.Reference(source.managingOrganization);
        }
        if (source['partOf']) {
            this.partOf = new fhir.Reference(source.partOf);
        }
        if (source['hoursOfOperation']) {
            this.hoursOfOperation = source.hoursOfOperation.map((x) => new fhir.LocationHoursOfOperation(x));
        }
        else {
            this.hoursOfOperation = [];
        }
        if (source['availabilityExceptions']) {
            this.availabilityExceptions = new fhir.FhirString({ value: source.availabilityExceptions });
        }
        if (source['_availabilityExceptions']) {
            if (this.availabilityExceptions) {
                this.availabilityExceptions.addExtendedProperties(source._availabilityExceptions);
            }
            else {
                this.availabilityExceptions = new fhir.FhirString(source._availabilityExceptions);
            }
        }
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.Reference(x));
        }
        else {
            this.endpoint = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Location';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOSV('status', exp, 'LocationStatus', LocationStatusVsValidation, 'r');
        this.vOS('operationalStatus', exp);
        this.vOS('name', exp);
        this.vOA('alias', exp);
        this.vOS('description', exp);
        this.vOSV('mode', exp, 'LocationMode', LocationModeVsValidation, 'r');
        this.vOA('type', exp);
        this.vOA('telecom', exp);
        this.vOS('address', exp);
        this.vOS('physicalType', exp);
        this.vOS('position', exp);
        this.vOS('managingOrganization', exp);
        this.vOS('partOf', exp);
        this.vOA('hoursOfOperation', exp);
        this.vOS('availabilityExceptions', exp);
        this.vOA('endpoint', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Location._fts_dataType = 'Location';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9jYXRpb24uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0xvY2F0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDBCQUEwQjtBQUUxQixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFHcEYsYUFBYTtBQUNiLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBTzVGLGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQztBQXVDeEY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQnhEOztPQUVHO0lBQ0gsWUFBWSxTQUF1QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM3RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBQyxDQUFDLENBQUM7U0FBRTthQUN6RjtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDL0IsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFVBQVcsQ0FBQyxDQUFDO2FBQUU7aUJBQzVFO2dCQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxVQUEyQyxD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QixJQUFJLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2hDLElBQUksQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE5SkQ7O0dBRUc7QUFDNkIsc0JBQWEsR0FBVSxVQUFVLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IExvY2F0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEYXlzT2ZXZWVrQ29kZXMsICBEYXlzT2ZXZWVrQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RheXNPZldlZWtDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGF5c09mV2Vla1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGF5c09mV2Vla1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTG9jYXRpb25TdGF0dXNDb2RlcywgIExvY2F0aW9uU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xvY2F0aW9uU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExvY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Mb2NhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjIwMTE2Q29kZXMsICBWMjAxMTZDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjIwMTE2Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYyMDExNlZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjIwMTE2VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMb2NhdGlvbk1vZGVDb2RlcywgIExvY2F0aW9uTW9kZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Mb2NhdGlvbk1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTG9jYXRpb25Nb2RlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Mb2NhdGlvbk1vZGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzU2VydmljZURlbGl2ZXJ5TG9jYXRpb25Sb2xlVHlwZUNvZGVzLCAgVjNTZXJ2aWNlRGVsaXZlcnlMb2NhdGlvblJvbGVUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzU2VydmljZURlbGl2ZXJ5TG9jYXRpb25Sb2xlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM1NlcnZpY2VEZWxpdmVyeUxvY2F0aW9uUm9sZVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzU2VydmljZURlbGl2ZXJ5TG9jYXRpb25Sb2xlVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTG9jYXRpb25QaHlzaWNhbFR5cGVDb2RlcywgIExvY2F0aW9uUGh5c2ljYWxUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xvY2F0aW9uUGh5c2ljYWxUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExvY2F0aW9uUGh5c2ljYWxUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Mb2NhdGlvblBoeXNpY2FsVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBMb2NhdGlvblBvc2l0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uUG9zaXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBMb25naXR1ZGUuIFRoZSB2YWx1ZSBkb21haW4gYW5kIHRoZSBpbnRlcnByZXRhdGlvbiBhcmUgdGhlIHNhbWUgYXMgZm9yIHRoZSB0ZXh0IG9mIHRoZSBsb25naXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgbG9uZ2l0dWRlOiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLnBvc2l0aW9uLmxvbmdpdHVkZVxyXG4gICAqL1xyXG4gIF9sb25naXR1ZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIExhdGl0dWRlLiBUaGUgdmFsdWUgZG9tYWluIGFuZCB0aGUgaW50ZXJwcmV0YXRpb24gYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgdGV4dCBvZiB0aGUgbGF0aXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgbGF0aXR1ZGU6IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24ucG9zaXRpb24ubGF0aXR1ZGVcclxuICAgKi9cclxuICBfbGF0aXR1ZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFsdGl0dWRlLiBUaGUgdmFsdWUgZG9tYWluIGFuZCB0aGUgaW50ZXJwcmV0YXRpb24gYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgdGV4dCBvZiB0aGUgYWx0aXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgYWx0aXR1ZGU/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLnBvc2l0aW9uLmFsdGl0dWRlXHJcbiAgICovXHJcbiAgX2FsdGl0dWRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBhYnNvbHV0ZSBnZW9ncmFwaGljIGxvY2F0aW9uIG9mIHRoZSBMb2NhdGlvbiwgZXhwcmVzc2VkIHVzaW5nIHRoZSBXR1M4NCBkYXR1bSAoVGhpcyBpcyB0aGUgc2FtZSBjby1vcmRpbmF0ZSBzeXN0ZW0gdXNlZCBpbiBLTUwpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExvY2F0aW9uUG9zaXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdMb2NhdGlvblBvc2l0aW9uJztcclxuICAvKipcclxuICAgKiBMb25naXR1ZGUuIFRoZSB2YWx1ZSBkb21haW4gYW5kIHRoZSBpbnRlcnByZXRhdGlvbiBhcmUgdGhlIHNhbWUgYXMgZm9yIHRoZSB0ZXh0IG9mIHRoZSBsb25naXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgcHVibGljIGxvbmdpdHVkZTogZmhpci5GaGlyRGVjaW1hbHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIExhdGl0dWRlLiBUaGUgdmFsdWUgZG9tYWluIGFuZCB0aGUgaW50ZXJwcmV0YXRpb24gYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgdGV4dCBvZiB0aGUgbGF0aXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgcHVibGljIGxhdGl0dWRlOiBmaGlyLkZoaXJEZWNpbWFsfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQWx0aXR1ZGUuIFRoZSB2YWx1ZSBkb21haW4gYW5kIHRoZSBpbnRlcnByZXRhdGlvbiBhcmUgdGhlIHNhbWUgYXMgZm9yIHRoZSB0ZXh0IG9mIHRoZSBhbHRpdHVkZSBlbGVtZW50IGluIEtNTCAoc2VlIG5vdGVzIGJlbG93KS5cclxuICAgKi9cclxuICBwdWJsaWMgYWx0aXR1ZGU/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBMb2NhdGlvblBvc2l0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TG9jYXRpb25Qb3NpdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydsb25naXR1ZGUnXSkgeyB0aGlzLmxvbmdpdHVkZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmxvbmdpdHVkZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5sb25naXR1ZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfbG9uZ2l0dWRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubG9uZ2l0dWRlKSB7IHRoaXMubG9uZ2l0dWRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2xvbmdpdHVkZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmxvbmdpdHVkZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fbG9uZ2l0dWRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGF0aXR1ZGUnXSkgeyB0aGlzLmxhdGl0dWRlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UubGF0aXR1ZGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubGF0aXR1ZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfbGF0aXR1ZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5sYXRpdHVkZSkgeyB0aGlzLmxhdGl0dWRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2xhdGl0dWRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubGF0aXR1ZGUgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2xhdGl0dWRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWx0aXR1ZGUnXSkgeyB0aGlzLmFsdGl0dWRlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UuYWx0aXR1ZGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FsdGl0dWRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWx0aXR1ZGUpIHsgdGhpcy5hbHRpdHVkZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hbHRpdHVkZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFsdGl0dWRlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9hbHRpdHVkZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdMb2NhdGlvbi5wb3NpdGlvbicgfVxyXG4gICAgdGhpcy52UlMoJ2xvbmdpdHVkZScsZXhwKVxyXG4gICAgdGhpcy52UlMoJ2xhdGl0dWRlJyxleHApXHJcbiAgICB0aGlzLnZPUygnYWx0aXR1ZGUnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBMb2NhdGlvbkhvdXJzT2ZPcGVyYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoaWNoIGRheXMgb2YgdGhlIHdlZWsgYXJlIGF2YWlsYWJsZSBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgZW5kIFRpbWVzLlxyXG4gICAqL1xyXG4gIGRheXNPZldlZWs/OiBmaGlyLkZoaXJDb2RlPERheXNPZldlZWtDb2RlVHlwZT5bXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBMb2NhdGlvbi5ob3Vyc09mT3BlcmF0aW9uLmRheXNPZldlZWtcclxuICAgKi9cclxuICBfZGF5c09mV2Vlaz86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogVGhlIExvY2F0aW9uIGlzIG9wZW4gYWxsIGRheS5cclxuICAgKi9cclxuICBhbGxEYXk/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBMb2NhdGlvbi5ob3Vyc09mT3BlcmF0aW9uLmFsbERheVxyXG4gICAqL1xyXG4gIF9hbGxEYXk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRpbWUgdGhhdCB0aGUgTG9jYXRpb24gb3BlbnMuXHJcbiAgICovXHJcbiAgb3BlbmluZ1RpbWU/OiBmaGlyLkZoaXJUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLmhvdXJzT2ZPcGVyYXRpb24ub3BlbmluZ1RpbWVcclxuICAgKi9cclxuICBfb3BlbmluZ1RpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRpbWUgdGhhdCB0aGUgTG9jYXRpb24gY2xvc2VzLlxyXG4gICAqL1xyXG4gIGNsb3NpbmdUaW1lPzogZmhpci5GaGlyVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBMb2NhdGlvbi5ob3Vyc09mT3BlcmF0aW9uLmNsb3NpbmdUaW1lXHJcbiAgICovXHJcbiAgX2Nsb3NpbmdUaW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoaXMgdHlwZSBvZiBpbmZvcm1hdGlvbiBpcyBjb21tb25seSBmb3VuZCBwdWJsaXNoZWQgaW4gZGlyZWN0b3JpZXMgYW5kIG9uIHdlYnNpdGVzIGluZm9ybWluZyBjdXN0b21lcnMgd2hlbiB0aGUgZmFjaWxpdHkgaXMgYXZhaWxhYmxlLlxyXG4gKiBTcGVjaWZpYyBzZXJ2aWNlcyB3aXRoaW4gdGhlIGxvY2F0aW9uIG1heSBoYXZlIHRoZWlyIG93biBob3VycyB3aGljaCBjb3VsZCBiZSBzaG9ydGVyIChvciBsb25nZXIpIHRoYW4gdGhlIGxvY2F0aW9ucyBob3Vycy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMb2NhdGlvbkhvdXJzT2ZPcGVyYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdMb2NhdGlvbkhvdXJzT2ZPcGVyYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGljaCBkYXlzIG9mIHRoZSB3ZWVrIGFyZSBhdmFpbGFibGUgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZCBUaW1lcy5cclxuICAgKi9cclxuICBwdWJsaWMgZGF5c09mV2VlazogZmhpci5GaGlyQ29kZTxEYXlzT2ZXZWVrQ29kZVR5cGU+W107XHJcbiAgLyoqXHJcbiAgICogVGhlIExvY2F0aW9uIGlzIG9wZW4gYWxsIGRheS5cclxuICAgKi9cclxuICBwdWJsaWMgYWxsRGF5PzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltZSB0aGF0IHRoZSBMb2NhdGlvbiBvcGVucy5cclxuICAgKi9cclxuICBwdWJsaWMgb3BlbmluZ1RpbWU/OiBmaGlyLkZoaXJUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaW1lIHRoYXQgdGhlIExvY2F0aW9uIGNsb3Nlcy5cclxuICAgKi9cclxuICBwdWJsaWMgY2xvc2luZ1RpbWU/OiBmaGlyLkZoaXJUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBMb2NhdGlvbkhvdXJzT2ZPcGVyYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxMb2NhdGlvbkhvdXJzT2ZPcGVyYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZGF5c09mV2VlayddKSB7IHRoaXMuZGF5c09mV2VlayA9IHNvdXJjZS5kYXlzT2ZXZWVrLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpckNvZGU8RGF5c09mV2Vla0NvZGVUeXBlPih7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRheXNPZldlZWsgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RheXNPZldlZWsnXSkge1xyXG4gICAgICBzb3VyY2UuX2RheXNPZldlZWsuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF5c09mV2Vlay5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLmRheXNPZldlZWtbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5kYXlzT2ZXZWVrLnB1c2gobmV3IGZoaXIuRmhpckNvZGU8RGF5c09mV2Vla0NvZGVUeXBlPih4IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWxsRGF5J10pIHsgdGhpcy5hbGxEYXkgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5hbGxEYXl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FsbERheSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFsbERheSkgeyB0aGlzLmFsbERheS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hbGxEYXkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hbGxEYXkgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2FsbERheSBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29wZW5pbmdUaW1lJ10pIHsgdGhpcy5vcGVuaW5nVGltZSA9IG5ldyBmaGlyLkZoaXJUaW1lKHt2YWx1ZTogc291cmNlLm9wZW5pbmdUaW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19vcGVuaW5nVGltZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm9wZW5pbmdUaW1lKSB7IHRoaXMub3BlbmluZ1RpbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fb3BlbmluZ1RpbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vcGVuaW5nVGltZSA9IG5ldyBmaGlyLkZoaXJUaW1lKHNvdXJjZS5fb3BlbmluZ1RpbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjbG9zaW5nVGltZSddKSB7IHRoaXMuY2xvc2luZ1RpbWUgPSBuZXcgZmhpci5GaGlyVGltZSh7dmFsdWU6IHNvdXJjZS5jbG9zaW5nVGltZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY2xvc2luZ1RpbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5jbG9zaW5nVGltZSkgeyB0aGlzLmNsb3NpbmdUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Nsb3NpbmdUaW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY2xvc2luZ1RpbWUgPSBuZXcgZmhpci5GaGlyVGltZShzb3VyY2UuX2Nsb3NpbmdUaW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0xvY2F0aW9uLmhvdXJzT2ZPcGVyYXRpb24nIH1cclxuICAgIHRoaXMudk9BVignZGF5c09mV2VlaycsZXhwLCdEYXlzT2ZXZWVrJyxEYXlzT2ZXZWVrVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdhbGxEYXknLGV4cClcclxuICAgIHRoaXMudk9TKCdvcGVuaW5nVGltZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2Nsb3NpbmdUaW1lJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTG9jYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb25BcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJMb2NhdGlvblwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVbmlxdWUgY29kZSBvciBudW1iZXIgaWRlbnRpZnlpbmcgdGhlIGxvY2F0aW9uIHRvIGl0cyB1c2Vycy5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIHByb3BlcnR5IGNvdmVycyB0aGUgZ2VuZXJhbCBhdmFpbGFiaWxpdHkgb2YgdGhlIHJlc291cmNlLCBub3QgdGhlIGN1cnJlbnQgdmFsdWUgd2hpY2ggbWF5IGJlIGNvdmVyZWQgYnkgdGhlIG9wZXJhdGlvblN0YXR1cywgb3IgYnkgYSBzY2hlZHVsZS9zbG90cyBpZiB0aGV5IGFyZSBjb25maWd1cmVkIGZvciB0aGUgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5GaGlyQ29kZTxMb2NhdGlvblN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBMb2NhdGlvbi5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgb3BlcmF0aW9uYWwgc3RhdHVzIGNvdmVycyBvcGVyYXRpb24gdmFsdWVzIG1vc3QgcmVsZXZhbnQgdG8gYmVkcyAoYnV0IGNhbiBhbHNvIGFwcGx5IHRvIHJvb21zL3VuaXRzL2NoYWlycy9ldGMuIHN1Y2ggYXMgYW4gaXNvbGF0aW9uIHVuaXQvZGlhbHlzaXMgY2hhaXIpLiBUaGlzIHR5cGljYWxseSBjb3ZlcnMgY29uY2VwdHMgc3VjaCBhcyBjb250YW1pbmF0aW9uLCBob3VzZWtlZXBpbmcsIGFuZCBvdGhlciBhY3Rpdml0aWVzIGxpa2UgbWFpbnRlbmFuY2UuXHJcbiAgICovXHJcbiAgb3BlcmF0aW9uYWxTdGF0dXM/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBuYW1lIG9mIGEgbG9jYXRpb24gY2hhbmdlcywgY29uc2lkZXIgcHV0dGluZyB0aGUgb2xkIG5hbWUgaW4gdGhlIGFsaWFzIGNvbHVtbiBzbyB0aGF0IGl0IGNhbiBzdGlsbCBiZSBsb2NhdGVkIHRocm91Z2ggc2VhcmNoZXMuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBMb2NhdGlvbi5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGFyZSBubyBkYXRlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGFsaWFzL2hpc3RvcmljIG5hbWVzLCBhcyB0aGlzIGlzIG5vdCBpbnRlbmRlZCB0byB0cmFjayB3aGVuIG5hbWVzIHdlcmUgdXNlZCwgYnV0IHRvIGFzc2lzdCBpbiBzZWFyY2hpbmcgc28gdGhhdCBvbGRlciBuYW1lcyBjYW4gc3RpbGwgcmVzdWx0IGluIGlkZW50aWZ5aW5nIHRoZSBsb2NhdGlvbi5cclxuICAgKi9cclxuICBhbGlhcz86IGZoaXIuRmhpclN0cmluZ1tdfChzdHJpbmd8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLmFsaWFzXHJcbiAgICovXHJcbiAgX2FsaWFzPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBEZXNjcmlwdGlvbiBvZiB0aGUgTG9jYXRpb24sIHdoaWNoIGhlbHBzIGluIGZpbmRpbmcgb3IgcmVmZXJlbmNpbmcgdGhlIHBsYWNlLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLmRlc2NyaXB0aW9uXHJcbiAgICovXHJcbiAgX2Rlc2NyaXB0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHdoZXRoZXIgb3Igbm90IHRoZSBsb2NhdGlvbiBpcyBhIGNsYXNzIG9mIGxvY2F0aW9ucyBjaGFuZ2VzIGhvdyBpdCBjYW4gYmUgdXNlZCBhbmQgdW5kZXJzdG9vZC5cclxuICAgKi9cclxuICBtb2RlPzogZmhpci5GaGlyQ29kZTxMb2NhdGlvbk1vZGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24ubW9kZVxyXG4gICAqL1xyXG4gIF9tb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgZnVuY3Rpb24gcGVyZm9ybWVkIGF0IHRoZSBsb2NhdGlvbi5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb250YWN0IGRldGFpbHMgb2YgY29tbXVuaWNhdGlvbiBkZXZpY2VzIGF2YWlsYWJsZSBhdCB0aGUgbG9jYXRpb24uIFRoaXMgY2FuIGluY2x1ZGUgcGhvbmUgbnVtYmVycywgZmF4IG51bWJlcnMsIG1vYmlsZSBudW1iZXJzLCBlbWFpbCBhZGRyZXNzZXMgYW5kIHdlYiBzaXRlcy5cclxuICAgKi9cclxuICB0ZWxlY29tPzogZmhpci5Db250YWN0UG9pbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgYWRkcmVzc2VzIHNob3VsZCBiZSByZWNvcmRlZCB1c2luZyBhbm90aGVyIGluc3RhbmNlIG9mIHRoZSBMb2NhdGlvbiByZXNvdXJjZSwgb3IgdmlhIHRoZSBPcmdhbml6YXRpb24uXHJcbiAgICovXHJcbiAgYWRkcmVzcz86IGZoaXIuQWRkcmVzc0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBoeXNpY2FsIGZvcm0gb2YgdGhlIGxvY2F0aW9uLCBlLmcuIGJ1aWxkaW5nLCByb29tLCB2ZWhpY2xlLCByb2FkLlxyXG4gICAqL1xyXG4gIHBoeXNpY2FsVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFic29sdXRlIGdlb2dyYXBoaWMgbG9jYXRpb24gb2YgdGhlIExvY2F0aW9uLCBleHByZXNzZWQgdXNpbmcgdGhlIFdHUzg0IGRhdHVtIChUaGlzIGlzIHRoZSBzYW1lIGNvLW9yZGluYXRlIHN5c3RlbSB1c2VkIGluIEtNTCkuXHJcbiAgICovXHJcbiAgcG9zaXRpb24/OiBmaGlyLkxvY2F0aW9uUG9zaXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGNhbiBhbHNvIGJlIHVzZWQgYXMgdGhlIHBhcnQgb2YgdGhlIG9yZ2FuaXphdGlvbiBoaWVyYXJjaHkgd2hlcmUgdGhpcyBsb2NhdGlvbiBwcm92aWRlcyBzZXJ2aWNlcy4gVGhlc2Ugc2VydmljZXMgY2FuIGJlIGRlZmluZWQgdGhyb3VnaCB0aGUgSGVhbHRoY2FyZVNlcnZpY2UgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgbWFuYWdpbmdPcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFub3RoZXIgTG9jYXRpb24gb2Ygd2hpY2ggdGhpcyBMb2NhdGlvbiBpcyBwaHlzaWNhbGx5IGEgcGFydCBvZi5cclxuICAgKi9cclxuICBwYXJ0T2Y/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgdHlwZSBvZiBpbmZvcm1hdGlvbiBpcyBjb21tb25seSBmb3VuZCBwdWJsaXNoZWQgaW4gZGlyZWN0b3JpZXMgYW5kIG9uIHdlYnNpdGVzIGluZm9ybWluZyBjdXN0b21lcnMgd2hlbiB0aGUgZmFjaWxpdHkgaXMgYXZhaWxhYmxlLlxyXG4gICAqIFNwZWNpZmljIHNlcnZpY2VzIHdpdGhpbiB0aGUgbG9jYXRpb24gbWF5IGhhdmUgdGhlaXIgb3duIGhvdXJzIHdoaWNoIGNvdWxkIGJlIHNob3J0ZXIgKG9yIGxvbmdlcikgdGhhbiB0aGUgbG9jYXRpb25zIGhvdXJzLlxyXG4gICAqL1xyXG4gIGhvdXJzT2ZPcGVyYXRpb24/OiBmaGlyLkxvY2F0aW9uSG91cnNPZk9wZXJhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGVuIHRoZSBsb2NhdGlvbnMgb3BlbmluZyBvdXJzIGFyZSBkaWZmZXJlbnQgdG8gbm9ybWFsLCBlLmcuIHB1YmxpYyBob2xpZGF5IGF2YWlsYWJpbGl0eS4gU3VjY2luY3RseSBkZXNjcmliaW5nIGFsbCBwb3NzaWJsZSBleGNlcHRpb25zIHRvIG5vcm1hbCBzaXRlIGF2YWlsYWJpbGl0eSBhcyBkZXRhaWxlZCBpbiB0aGUgb3BlbmluZyBob3VycyBUaW1lcy5cclxuICAgKi9cclxuICBhdmFpbGFiaWxpdHlFeGNlcHRpb25zPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnNcclxuICAgKi9cclxuICBfYXZhaWxhYmlsaXR5RXhjZXB0aW9ucz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGVjaG5pY2FsIGVuZHBvaW50cyBwcm92aWRpbmcgYWNjZXNzIHRvIHNlcnZpY2VzIG9wZXJhdGVkIGZvciB0aGUgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgZW5kcG9pbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXRhaWxzIGFuZCBwb3NpdGlvbiBpbmZvcm1hdGlvbiBmb3IgYSBwaHlzaWNhbCBwbGFjZSB3aGVyZSBzZXJ2aWNlcyBhcmUgcHJvdmlkZWQgYW5kIHJlc291cmNlcyBhbmQgcGFydGljaXBhbnRzIG1heSBiZSBzdG9yZWQsIGZvdW5kLCBjb250YWluZWQsIG9yIGFjY29tbW9kYXRlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMb2NhdGlvbiBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTG9jYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiTG9jYXRpb25cIjtcclxuICAvKipcclxuICAgKiBVbmlxdWUgY29kZSBvciBudW1iZXIgaWRlbnRpZnlpbmcgdGhlIGxvY2F0aW9uIHRvIGl0cyB1c2Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBwcm9wZXJ0eSBjb3ZlcnMgdGhlIGdlbmVyYWwgYXZhaWxhYmlsaXR5IG9mIHRoZSByZXNvdXJjZSwgbm90IHRoZSBjdXJyZW50IHZhbHVlIHdoaWNoIG1heSBiZSBjb3ZlcmVkIGJ5IHRoZSBvcGVyYXRpb25TdGF0dXMsIG9yIGJ5IGEgc2NoZWR1bGUvc2xvdHMgaWYgdGhleSBhcmUgY29uZmlndXJlZCBmb3IgdGhlIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPExvY2F0aW9uU3RhdHVzQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3BlcmF0aW9uYWwgc3RhdHVzIGNvdmVycyBvcGVyYXRpb24gdmFsdWVzIG1vc3QgcmVsZXZhbnQgdG8gYmVkcyAoYnV0IGNhbiBhbHNvIGFwcGx5IHRvIHJvb21zL3VuaXRzL2NoYWlycy9ldGMuIHN1Y2ggYXMgYW4gaXNvbGF0aW9uIHVuaXQvZGlhbHlzaXMgY2hhaXIpLiBUaGlzIHR5cGljYWxseSBjb3ZlcnMgY29uY2VwdHMgc3VjaCBhcyBjb250YW1pbmF0aW9uLCBob3VzZWtlZXBpbmcsIGFuZCBvdGhlciBhY3Rpdml0aWVzIGxpa2UgbWFpbnRlbmFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIG9wZXJhdGlvbmFsU3RhdHVzPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBuYW1lIG9mIGEgbG9jYXRpb24gY2hhbmdlcywgY29uc2lkZXIgcHV0dGluZyB0aGUgb2xkIG5hbWUgaW4gdGhlIGFsaWFzIGNvbHVtbiBzbyB0aGF0IGl0IGNhbiBzdGlsbCBiZSBsb2NhdGVkIHRocm91Z2ggc2VhcmNoZXMuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGFyZSBubyBkYXRlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGFsaWFzL2hpc3RvcmljIG5hbWVzLCBhcyB0aGlzIGlzIG5vdCBpbnRlbmRlZCB0byB0cmFjayB3aGVuIG5hbWVzIHdlcmUgdXNlZCwgYnV0IHRvIGFzc2lzdCBpbiBzZWFyY2hpbmcgc28gdGhhdCBvbGRlciBuYW1lcyBjYW4gc3RpbGwgcmVzdWx0IGluIGlkZW50aWZ5aW5nIHRoZSBsb2NhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYWxpYXM6IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaXB0aW9uIG9mIHRoZSBMb2NhdGlvbiwgd2hpY2ggaGVscHMgaW4gZmluZGluZyBvciByZWZlcmVuY2luZyB0aGUgcGxhY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHdoZXRoZXIgb3Igbm90IHRoZSBsb2NhdGlvbiBpcyBhIGNsYXNzIG9mIGxvY2F0aW9ucyBjaGFuZ2VzIGhvdyBpdCBjYW4gYmUgdXNlZCBhbmQgdW5kZXJzdG9vZC5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kZT86IGZoaXIuRmhpckNvZGU8TG9jYXRpb25Nb2RlQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgZnVuY3Rpb24gcGVyZm9ybWVkIGF0IHRoZSBsb2NhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgY29udGFjdCBkZXRhaWxzIG9mIGNvbW11bmljYXRpb24gZGV2aWNlcyBhdmFpbGFibGUgYXQgdGhlIGxvY2F0aW9uLiBUaGlzIGNhbiBpbmNsdWRlIHBob25lIG51bWJlcnMsIGZheCBudW1iZXJzLCBtb2JpbGUgbnVtYmVycywgZW1haWwgYWRkcmVzc2VzIGFuZCB3ZWIgc2l0ZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHRlbGVjb206IGZoaXIuQ29udGFjdFBvaW50W107XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBhZGRyZXNzZXMgc2hvdWxkIGJlIHJlY29yZGVkIHVzaW5nIGFub3RoZXIgaW5zdGFuY2Ugb2YgdGhlIExvY2F0aW9uIHJlc291cmNlLCBvciB2aWEgdGhlIE9yZ2FuaXphdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkcmVzcz86IGZoaXIuQWRkcmVzc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGh5c2ljYWwgZm9ybSBvZiB0aGUgbG9jYXRpb24sIGUuZy4gYnVpbGRpbmcsIHJvb20sIHZlaGljbGUsIHJvYWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBoeXNpY2FsVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYWJzb2x1dGUgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBvZiB0aGUgTG9jYXRpb24sIGV4cHJlc3NlZCB1c2luZyB0aGUgV0dTODQgZGF0dW0gKFRoaXMgaXMgdGhlIHNhbWUgY28tb3JkaW5hdGUgc3lzdGVtIHVzZWQgaW4gS01MKS5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zaXRpb24/OiBmaGlyLkxvY2F0aW9uUG9zaXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY2FuIGFsc28gYmUgdXNlZCBhcyB0aGUgcGFydCBvZiB0aGUgb3JnYW5pemF0aW9uIGhpZXJhcmNoeSB3aGVyZSB0aGlzIGxvY2F0aW9uIHByb3ZpZGVzIHNlcnZpY2VzLiBUaGVzZSBzZXJ2aWNlcyBjYW4gYmUgZGVmaW5lZCB0aHJvdWdoIHRoZSBIZWFsdGhjYXJlU2VydmljZSByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgbWFuYWdpbmdPcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW5vdGhlciBMb2NhdGlvbiBvZiB3aGljaCB0aGlzIExvY2F0aW9uIGlzIHBoeXNpY2FsbHkgYSBwYXJ0IG9mLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJ0T2Y/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB0eXBlIG9mIGluZm9ybWF0aW9uIGlzIGNvbW1vbmx5IGZvdW5kIHB1Ymxpc2hlZCBpbiBkaXJlY3RvcmllcyBhbmQgb24gd2Vic2l0ZXMgaW5mb3JtaW5nIGN1c3RvbWVycyB3aGVuIHRoZSBmYWNpbGl0eSBpcyBhdmFpbGFibGUuXHJcbiAgICogU3BlY2lmaWMgc2VydmljZXMgd2l0aGluIHRoZSBsb2NhdGlvbiBtYXkgaGF2ZSB0aGVpciBvd24gaG91cnMgd2hpY2ggY291bGQgYmUgc2hvcnRlciAob3IgbG9uZ2VyKSB0aGFuIHRoZSBsb2NhdGlvbnMgaG91cnMuXHJcbiAgICovXHJcbiAgcHVibGljIGhvdXJzT2ZPcGVyYXRpb246IGZoaXIuTG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGVuIHRoZSBsb2NhdGlvbnMgb3BlbmluZyBvdXJzIGFyZSBkaWZmZXJlbnQgdG8gbm9ybWFsLCBlLmcuIHB1YmxpYyBob2xpZGF5IGF2YWlsYWJpbGl0eS4gU3VjY2luY3RseSBkZXNjcmliaW5nIGFsbCBwb3NzaWJsZSBleGNlcHRpb25zIHRvIG5vcm1hbCBzaXRlIGF2YWlsYWJpbGl0eSBhcyBkZXRhaWxlZCBpbiB0aGUgb3BlbmluZyBob3VycyBUaW1lcy5cclxuICAgKi9cclxuICBwdWJsaWMgYXZhaWxhYmlsaXR5RXhjZXB0aW9ucz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGVjaG5pY2FsIGVuZHBvaW50cyBwcm92aWRpbmcgYWNjZXNzIHRvIHNlcnZpY2VzIG9wZXJhdGVkIGZvciB0aGUgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGVuZHBvaW50OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIExvY2F0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TG9jYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnTG9jYXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxMb2NhdGlvblN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxMb2NhdGlvblN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3BlcmF0aW9uYWxTdGF0dXMnXSkgeyB0aGlzLm9wZXJhdGlvbmFsU3RhdHVzID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5vcGVyYXRpb25hbFN0YXR1cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhbGlhcyddKSB7IHRoaXMuYWxpYXMgPSBzb3VyY2UuYWxpYXMubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWxpYXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FsaWFzJ10pIHtcclxuICAgICAgc291cmNlLl9hbGlhcy5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hbGlhcy5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLmFsaWFzW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuYWxpYXMucHVzaChuZXcgZmhpci5GaGlyU3RyaW5nKHggYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kZSddKSB7IHRoaXMubW9kZSA9IG5ldyBmaGlyLkZoaXJDb2RlPExvY2F0aW9uTW9kZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5tb2RlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubW9kZSkgeyB0aGlzLm1vZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbW9kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxMb2NhdGlvbk1vZGVDb2RlVHlwZT4oc291cmNlLl9tb2RlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gc291cmNlLnR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RlbGVjb20nXSkgeyB0aGlzLnRlbGVjb20gPSBzb3VyY2UudGVsZWNvbS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3RQb2ludCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRlbGVjb20gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkcmVzcyddKSB7IHRoaXMuYWRkcmVzcyA9IG5ldyBmaGlyLkFkZHJlc3Moc291cmNlLmFkZHJlc3MpOyB9XHJcbiAgICBpZiAoc291cmNlWydwaHlzaWNhbFR5cGUnXSkgeyB0aGlzLnBoeXNpY2FsVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGh5c2ljYWxUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncG9zaXRpb24nXSkgeyB0aGlzLnBvc2l0aW9uID0gbmV3IGZoaXIuTG9jYXRpb25Qb3NpdGlvbihzb3VyY2UucG9zaXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydtYW5hZ2luZ09yZ2FuaXphdGlvbiddKSB7IHRoaXMubWFuYWdpbmdPcmdhbml6YXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm1hbmFnaW5nT3JnYW5pemF0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFydE9mJ10pIHsgdGhpcy5wYXJ0T2YgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhcnRPZik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2hvdXJzT2ZPcGVyYXRpb24nXSkgeyB0aGlzLmhvdXJzT2ZPcGVyYXRpb24gPSBzb3VyY2UuaG91cnNPZk9wZXJhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkxvY2F0aW9uSG91cnNPZk9wZXJhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmhvdXJzT2ZPcGVyYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXZhaWxhYmlsaXR5RXhjZXB0aW9ucyddKSB7IHRoaXMuYXZhaWxhYmlsaXR5RXhjZXB0aW9ucyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYXZhaWxhYmlsaXR5RXhjZXB0aW9uc30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYXZhaWxhYmlsaXR5RXhjZXB0aW9ucyddKSB7XHJcbiAgICAgIGlmICh0aGlzLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnMpIHsgdGhpcy5hdmFpbGFiaWxpdHlFeGNlcHRpb25zLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2F2YWlsYWJpbGl0eUV4Y2VwdGlvbnMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hdmFpbGFiaWxpdHlFeGNlcHRpb25zID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2F2YWlsYWJpbGl0eUV4Y2VwdGlvbnMgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2VuZHBvaW50J10pIHsgdGhpcy5lbmRwb2ludCA9IHNvdXJjZS5lbmRwb2ludC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVuZHBvaW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdMb2NhdGlvbicgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9TVignc3RhdHVzJyxleHAsJ0xvY2F0aW9uU3RhdHVzJyxMb2NhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPUygnb3BlcmF0aW9uYWxTdGF0dXMnLGV4cClcclxuICAgIHRoaXMudk9TKCduYW1lJyxleHApXHJcbiAgICB0aGlzLnZPQSgnYWxpYXMnLGV4cClcclxuICAgIHRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1NWKCdtb2RlJyxleHAsJ0xvY2F0aW9uTW9kZScsTG9jYXRpb25Nb2RlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9BKCd0eXBlJyxleHApXHJcbiAgICB0aGlzLnZPQSgndGVsZWNvbScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2FkZHJlc3MnLGV4cClcclxuICAgIHRoaXMudk9TKCdwaHlzaWNhbFR5cGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdwb3NpdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ21hbmFnaW5nT3JnYW5pemF0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygncGFydE9mJyxleHApXHJcbiAgICB0aGlzLnZPQSgnaG91cnNPZk9wZXJhdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2F2YWlsYWJpbGl0eUV4Y2VwdGlvbnMnLGV4cClcclxuICAgIHRoaXMudk9BKCdlbmRwb2ludCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19