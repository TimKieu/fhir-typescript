// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Location
import * as fhir from '../fhir.js';
// @ts-ignore
import { DaysOfWeekVsValidation } from '../fhirValueSets/DaysOfWeekVsValidation.js';
// @ts-ignore
import { LocationStatusVsValidation } from '../fhirValueSets/LocationStatusVsValidation.js';
// @ts-ignore
import { LocationModeVsValidation } from '../fhirValueSets/LocationModeVsValidation.js';
/**
 * The absolute geographic location of the Location, expressed using the WGS84 datum (This is the same co-ordinate system used in KML).
 */
export class LocationPosition extends fhir.BackboneElement {
    /**
     * Default constructor for LocationPosition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['longitude']) {
            this.longitude = new fhir.FhirDecimal({ value: source.longitude });
        }
        else {
            this.longitude = null;
        }
        if (source['_longitude']) {
            if (this.longitude) {
                this.longitude.addExtendedProperties(source._longitude);
            }
            else {
                this.longitude = new fhir.FhirDecimal(source._longitude);
            }
        }
        if (source['latitude']) {
            this.latitude = new fhir.FhirDecimal({ value: source.latitude });
        }
        else {
            this.latitude = null;
        }
        if (source['_latitude']) {
            if (this.latitude) {
                this.latitude.addExtendedProperties(source._latitude);
            }
            else {
                this.latitude = new fhir.FhirDecimal(source._latitude);
            }
        }
        if (source['altitude']) {
            this.altitude = new fhir.FhirDecimal({ value: source.altitude });
        }
        if (source['_altitude']) {
            if (this.altitude) {
                this.altitude.addExtendedProperties(source._altitude);
            }
            else {
                this.altitude = new fhir.FhirDecimal(source._altitude);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Location.position';
        }
        this.vReqS('longitude', expression);
        this.vReqS('latitude', expression);
        this.vOptS('altitude', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
LocationPosition._fts_dataType = 'LocationPosition';
/**
 * This type of information is commonly found published in directories and on websites informing customers when the facility is available.
 * Specific services within the location may have their own hours which could be shorter (or longer) than the locations hours.
 */
export class LocationHoursOfOperation extends fhir.BackboneElement {
    /**
     * Default constructor for LocationHoursOfOperation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['daysOfWeek']) {
            this.daysOfWeek = source.daysOfWeek.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.daysOfWeek = [];
        }
        if (source['_daysOfWeek']) {
            source._daysOfWeek.forEach((x, i) => {
                if (this.daysOfWeek.length >= i) {
                    if (x) {
                        this.daysOfWeek[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.daysOfWeek.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['allDay']) {
            this.allDay = new fhir.FhirBoolean({ value: source.allDay });
        }
        if (source['_allDay']) {
            if (this.allDay) {
                this.allDay.addExtendedProperties(source._allDay);
            }
            else {
                this.allDay = new fhir.FhirBoolean(source._allDay);
            }
        }
        if (source['openingTime']) {
            this.openingTime = new fhir.FhirTime({ value: source.openingTime });
        }
        if (source['_openingTime']) {
            if (this.openingTime) {
                this.openingTime.addExtendedProperties(source._openingTime);
            }
            else {
                this.openingTime = new fhir.FhirTime(source._openingTime);
            }
        }
        if (source['closingTime']) {
            this.closingTime = new fhir.FhirTime({ value: source.closingTime });
        }
        if (source['_closingTime']) {
            if (this.closingTime) {
                this.closingTime.addExtendedProperties(source._closingTime);
            }
            else {
                this.closingTime = new fhir.FhirTime(source._closingTime);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Location.hoursOfOperation';
        }
        this.vOptAV('daysOfWeek', expression, 'DaysOfWeek', DaysOfWeekVsValidation, 'r');
        this.vOptS('allDay', expression);
        this.vOptS('openingTime', expression);
        this.vOptS('closingTime', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
LocationHoursOfOperation._fts_dataType = 'LocationHoursOfOperation';
/**
 * Details and position information for a physical place where services are provided and resources and participants may be stored, found, contained, or accommodated.
 */
export class Location extends fhir.DomainResource {
    /**
     * Default constructor for Location - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Location';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['operationalStatus']) {
            this.operationalStatus = new fhir.Coding(source.operationalStatus);
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['alias']) {
            this.alias = source.alias.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.alias = [];
        }
        if (source['_alias']) {
            source._alias.forEach((x, i) => {
                if (this.alias.length >= i) {
                    if (x) {
                        this.alias[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.alias.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['mode']) {
            this.mode = new fhir.FhirCode({ value: source.mode });
        }
        if (source['_mode']) {
            if (this.mode) {
                this.mode.addExtendedProperties(source._mode);
            }
            else {
                this.mode = new fhir.FhirCode(source._mode);
            }
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
        if (source['address']) {
            this.address = new fhir.Address(source.address);
        }
        if (source['physicalType']) {
            this.physicalType = new fhir.CodeableConcept(source.physicalType);
        }
        if (source['position']) {
            this.position = new fhir.LocationPosition(source.position);
        }
        if (source['managingOrganization']) {
            this.managingOrganization = new fhir.Reference(source.managingOrganization);
        }
        if (source['partOf']) {
            this.partOf = new fhir.Reference(source.partOf);
        }
        if (source['hoursOfOperation']) {
            this.hoursOfOperation = source.hoursOfOperation.map((x) => new fhir.LocationHoursOfOperation(x));
        }
        else {
            this.hoursOfOperation = [];
        }
        if (source['availabilityExceptions']) {
            this.availabilityExceptions = new fhir.FhirString({ value: source.availabilityExceptions });
        }
        if (source['_availabilityExceptions']) {
            if (this.availabilityExceptions) {
                this.availabilityExceptions.addExtendedProperties(source._availabilityExceptions);
            }
            else {
                this.availabilityExceptions = new fhir.FhirString(source._availabilityExceptions);
            }
        }
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.Reference(x));
        }
        else {
            this.endpoint = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Location';
        }
        this.vReqS('resourceType', expression);
        this.vOptA('identifier', expression);
        this.vOptSV('status', expression, 'LocationStatus', LocationStatusVsValidation, 'r');
        this.vOptS('operationalStatus', expression);
        this.vOptS('name', expression);
        this.vOptA('alias', expression);
        this.vOptS('description', expression);
        this.vOptSV('mode', expression, 'LocationMode', LocationModeVsValidation, 'r');
        this.vOptA('type', expression);
        this.vOptA('telecom', expression);
        this.vOptS('address', expression);
        this.vOptS('physicalType', expression);
        this.vOptS('position', expression);
        this.vOptS('managingOrganization', expression);
        this.vOptS('partOf', expression);
        this.vOptA('hoursOfOperation', expression);
        this.vOptS('availabilityExceptions', expression);
        this.vOptA('endpoint', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Location._fts_dataType = 'Location';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9jYXRpb24uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0xvY2F0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDBCQUEwQjtBQUUxQixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFHcEYsYUFBYTtBQUNiLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBTzVGLGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQztBQXVDeEY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQnhEOztPQUVHO0lBQ0gsWUFBWSxTQUF1QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM3RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBQyxDQUFDLENBQUM7U0FBRTthQUN6RjtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDL0IsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFVBQVcsQ0FBQyxDQUFDO2FBQUU7aUJBQzVFO2dCQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxVQUEyQyxD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QUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUFrQixFQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMsd0JBQXdCLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDL0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUMsVUFBVSxDQUFDLENBQUE7UUFDakMsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE5SkQ7O0dBRUc7QUFDNkIsc0JBQWEsR0FBVSxVQUFVLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IExvY2F0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEYXlzT2ZXZWVrQ29kZXMsICBEYXlzT2ZXZWVrQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RheXNPZldlZWtDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGF5c09mV2Vla1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGF5c09mV2Vla1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTG9jYXRpb25TdGF0dXNDb2RlcywgIExvY2F0aW9uU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xvY2F0aW9uU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExvY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Mb2NhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjIwMTE2Q29kZXMsICBWMjAxMTZDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjIwMTE2Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYyMDExNlZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjIwMTE2VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMb2NhdGlvbk1vZGVDb2RlcywgIExvY2F0aW9uTW9kZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Mb2NhdGlvbk1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTG9jYXRpb25Nb2RlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Mb2NhdGlvbk1vZGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzU2VydmljZURlbGl2ZXJ5TG9jYXRpb25Sb2xlVHlwZUNvZGVzLCAgVjNTZXJ2aWNlRGVsaXZlcnlMb2NhdGlvblJvbGVUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzU2VydmljZURlbGl2ZXJ5TG9jYXRpb25Sb2xlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM1NlcnZpY2VEZWxpdmVyeUxvY2F0aW9uUm9sZVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzU2VydmljZURlbGl2ZXJ5TG9jYXRpb25Sb2xlVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTG9jYXRpb25QaHlzaWNhbFR5cGVDb2RlcywgIExvY2F0aW9uUGh5c2ljYWxUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xvY2F0aW9uUGh5c2ljYWxUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExvY2F0aW9uUGh5c2ljYWxUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Mb2NhdGlvblBoeXNpY2FsVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBMb2NhdGlvblBvc2l0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uUG9zaXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBMb25naXR1ZGUuIFRoZSB2YWx1ZSBkb21haW4gYW5kIHRoZSBpbnRlcnByZXRhdGlvbiBhcmUgdGhlIHNhbWUgYXMgZm9yIHRoZSB0ZXh0IG9mIHRoZSBsb25naXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgbG9uZ2l0dWRlOiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLnBvc2l0aW9uLmxvbmdpdHVkZVxyXG4gICAqL1xyXG4gIF9sb25naXR1ZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIExhdGl0dWRlLiBUaGUgdmFsdWUgZG9tYWluIGFuZCB0aGUgaW50ZXJwcmV0YXRpb24gYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgdGV4dCBvZiB0aGUgbGF0aXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgbGF0aXR1ZGU6IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24ucG9zaXRpb24ubGF0aXR1ZGVcclxuICAgKi9cclxuICBfbGF0aXR1ZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFsdGl0dWRlLiBUaGUgdmFsdWUgZG9tYWluIGFuZCB0aGUgaW50ZXJwcmV0YXRpb24gYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgdGV4dCBvZiB0aGUgYWx0aXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgYWx0aXR1ZGU/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLnBvc2l0aW9uLmFsdGl0dWRlXHJcbiAgICovXHJcbiAgX2FsdGl0dWRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBhYnNvbHV0ZSBnZW9ncmFwaGljIGxvY2F0aW9uIG9mIHRoZSBMb2NhdGlvbiwgZXhwcmVzc2VkIHVzaW5nIHRoZSBXR1M4NCBkYXR1bSAoVGhpcyBpcyB0aGUgc2FtZSBjby1vcmRpbmF0ZSBzeXN0ZW0gdXNlZCBpbiBLTUwpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExvY2F0aW9uUG9zaXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdMb2NhdGlvblBvc2l0aW9uJztcclxuICAvKipcclxuICAgKiBMb25naXR1ZGUuIFRoZSB2YWx1ZSBkb21haW4gYW5kIHRoZSBpbnRlcnByZXRhdGlvbiBhcmUgdGhlIHNhbWUgYXMgZm9yIHRoZSB0ZXh0IG9mIHRoZSBsb25naXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgcHVibGljIGxvbmdpdHVkZTogZmhpci5GaGlyRGVjaW1hbHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIExhdGl0dWRlLiBUaGUgdmFsdWUgZG9tYWluIGFuZCB0aGUgaW50ZXJwcmV0YXRpb24gYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgdGV4dCBvZiB0aGUgbGF0aXR1ZGUgZWxlbWVudCBpbiBLTUwgKHNlZSBub3RlcyBiZWxvdykuXHJcbiAgICovXHJcbiAgcHVibGljIGxhdGl0dWRlOiBmaGlyLkZoaXJEZWNpbWFsfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQWx0aXR1ZGUuIFRoZSB2YWx1ZSBkb21haW4gYW5kIHRoZSBpbnRlcnByZXRhdGlvbiBhcmUgdGhlIHNhbWUgYXMgZm9yIHRoZSB0ZXh0IG9mIHRoZSBhbHRpdHVkZSBlbGVtZW50IGluIEtNTCAoc2VlIG5vdGVzIGJlbG93KS5cclxuICAgKi9cclxuICBwdWJsaWMgYWx0aXR1ZGU/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBMb2NhdGlvblBvc2l0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TG9jYXRpb25Qb3NpdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydsb25naXR1ZGUnXSkgeyB0aGlzLmxvbmdpdHVkZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmxvbmdpdHVkZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5sb25naXR1ZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfbG9uZ2l0dWRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubG9uZ2l0dWRlKSB7IHRoaXMubG9uZ2l0dWRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2xvbmdpdHVkZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmxvbmdpdHVkZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fbG9uZ2l0dWRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGF0aXR1ZGUnXSkgeyB0aGlzLmxhdGl0dWRlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UubGF0aXR1ZGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubGF0aXR1ZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfbGF0aXR1ZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5sYXRpdHVkZSkgeyB0aGlzLmxhdGl0dWRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2xhdGl0dWRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubGF0aXR1ZGUgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2xhdGl0dWRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWx0aXR1ZGUnXSkgeyB0aGlzLmFsdGl0dWRlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UuYWx0aXR1ZGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FsdGl0dWRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWx0aXR1ZGUpIHsgdGhpcy5hbHRpdHVkZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hbHRpdHVkZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFsdGl0dWRlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9hbHRpdHVkZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnTG9jYXRpb24ucG9zaXRpb24nIH1cclxuICAgIHRoaXMudlJlcVMoJ2xvbmdpdHVkZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudlJlcVMoJ2xhdGl0dWRlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnYWx0aXR1ZGUnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uSG91cnNPZk9wZXJhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGljaCBkYXlzIG9mIHRoZSB3ZWVrIGFyZSBhdmFpbGFibGUgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZCBUaW1lcy5cclxuICAgKi9cclxuICBkYXlzT2ZXZWVrPzogZmhpci5GaGlyQ29kZTxEYXlzT2ZXZWVrQ29kZVR5cGU+W118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24uaG91cnNPZk9wZXJhdGlvbi5kYXlzT2ZXZWVrXHJcbiAgICovXHJcbiAgX2RheXNPZldlZWs/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBMb2NhdGlvbiBpcyBvcGVuIGFsbCBkYXkuXHJcbiAgICovXHJcbiAgYWxsRGF5PzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24uaG91cnNPZk9wZXJhdGlvbi5hbGxEYXlcclxuICAgKi9cclxuICBfYWxsRGF5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaW1lIHRoYXQgdGhlIExvY2F0aW9uIG9wZW5zLlxyXG4gICAqL1xyXG4gIG9wZW5pbmdUaW1lPzogZmhpci5GaGlyVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBMb2NhdGlvbi5ob3Vyc09mT3BlcmF0aW9uLm9wZW5pbmdUaW1lXHJcbiAgICovXHJcbiAgX29wZW5pbmdUaW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaW1lIHRoYXQgdGhlIExvY2F0aW9uIGNsb3Nlcy5cclxuICAgKi9cclxuICBjbG9zaW5nVGltZT86IGZoaXIuRmhpclRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24uaG91cnNPZk9wZXJhdGlvbi5jbG9zaW5nVGltZVxyXG4gICAqL1xyXG4gIF9jbG9zaW5nVGltZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGlzIHR5cGUgb2YgaW5mb3JtYXRpb24gaXMgY29tbW9ubHkgZm91bmQgcHVibGlzaGVkIGluIGRpcmVjdG9yaWVzIGFuZCBvbiB3ZWJzaXRlcyBpbmZvcm1pbmcgY3VzdG9tZXJzIHdoZW4gdGhlIGZhY2lsaXR5IGlzIGF2YWlsYWJsZS5cclxuICogU3BlY2lmaWMgc2VydmljZXMgd2l0aGluIHRoZSBsb2NhdGlvbiBtYXkgaGF2ZSB0aGVpciBvd24gaG91cnMgd2hpY2ggY291bGQgYmUgc2hvcnRlciAob3IgbG9uZ2VyKSB0aGFuIHRoZSBsb2NhdGlvbnMgaG91cnMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uJztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hpY2ggZGF5cyBvZiB0aGUgd2VlayBhcmUgYXZhaWxhYmxlIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgVGltZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRheXNPZldlZWs6IGZoaXIuRmhpckNvZGU8RGF5c09mV2Vla0NvZGVUeXBlPltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBMb2NhdGlvbiBpcyBvcGVuIGFsbCBkYXkuXHJcbiAgICovXHJcbiAgcHVibGljIGFsbERheT86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWUgdGhhdCB0aGUgTG9jYXRpb24gb3BlbnMuXHJcbiAgICovXHJcbiAgcHVibGljIG9wZW5pbmdUaW1lPzogZmhpci5GaGlyVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltZSB0aGF0IHRoZSBMb2NhdGlvbiBjbG9zZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGNsb3NpbmdUaW1lPzogZmhpci5GaGlyVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2RheXNPZldlZWsnXSkgeyB0aGlzLmRheXNPZldlZWsgPSBzb3VyY2UuZGF5c09mV2Vlay5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDb2RlPERheXNPZldlZWtDb2RlVHlwZT4oe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXlzT2ZXZWVrID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXlzT2ZXZWVrJ10pIHtcclxuICAgICAgc291cmNlLl9kYXlzT2ZXZWVrLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRheXNPZldlZWsubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5kYXlzT2ZXZWVrW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuZGF5c09mV2Vlay5wdXNoKG5ldyBmaGlyLkZoaXJDb2RlPERheXNPZldlZWtDb2RlVHlwZT4oeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2FsbERheSddKSB7IHRoaXMuYWxsRGF5ID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuYWxsRGF5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hbGxEYXknXSkge1xyXG4gICAgICBpZiAodGhpcy5hbGxEYXkpIHsgdGhpcy5hbGxEYXkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWxsRGF5ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWxsRGF5ID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9hbGxEYXkgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvcGVuaW5nVGltZSddKSB7IHRoaXMub3BlbmluZ1RpbWUgPSBuZXcgZmhpci5GaGlyVGltZSh7dmFsdWU6IHNvdXJjZS5vcGVuaW5nVGltZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3BlbmluZ1RpbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5vcGVuaW5nVGltZSkgeyB0aGlzLm9wZW5pbmdUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29wZW5pbmdUaW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3BlbmluZ1RpbWUgPSBuZXcgZmhpci5GaGlyVGltZShzb3VyY2UuX29wZW5pbmdUaW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xvc2luZ1RpbWUnXSkgeyB0aGlzLmNsb3NpbmdUaW1lID0gbmV3IGZoaXIuRmhpclRpbWUoe3ZhbHVlOiBzb3VyY2UuY2xvc2luZ1RpbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Nsb3NpbmdUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY2xvc2luZ1RpbWUpIHsgdGhpcy5jbG9zaW5nVGltZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jbG9zaW5nVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNsb3NpbmdUaW1lID0gbmV3IGZoaXIuRmhpclRpbWUoc291cmNlLl9jbG9zaW5nVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnTG9jYXRpb24uaG91cnNPZk9wZXJhdGlvbicgfVxyXG4gICAgdGhpcy52T3B0QVYoJ2RheXNPZldlZWsnLGV4cHJlc3Npb24sJ0RheXNPZldlZWsnLERheXNPZldlZWtWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T3B0UygnYWxsRGF5JyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0Uygnb3BlbmluZ1RpbWUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdjbG9zaW5nVGltZScsZXhwcmVzc2lvbilcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBMb2NhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkxvY2F0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVuaXF1ZSBjb2RlIG9yIG51bWJlciBpZGVudGlmeWluZyB0aGUgbG9jYXRpb24gdG8gaXRzIHVzZXJzLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgcHJvcGVydHkgY292ZXJzIHRoZSBnZW5lcmFsIGF2YWlsYWJpbGl0eSBvZiB0aGUgcmVzb3VyY2UsIG5vdCB0aGUgY3VycmVudCB2YWx1ZSB3aGljaCBtYXkgYmUgY292ZXJlZCBieSB0aGUgb3BlcmF0aW9uU3RhdHVzLCBvciBieSBhIHNjaGVkdWxlL3Nsb3RzIGlmIHRoZXkgYXJlIGNvbmZpZ3VyZWQgZm9yIHRoZSBsb2NhdGlvbi5cclxuICAgKi9cclxuICBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPExvY2F0aW9uU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcGVyYXRpb25hbCBzdGF0dXMgY292ZXJzIG9wZXJhdGlvbiB2YWx1ZXMgbW9zdCByZWxldmFudCB0byBiZWRzIChidXQgY2FuIGFsc28gYXBwbHkgdG8gcm9vbXMvdW5pdHMvY2hhaXJzL2V0Yy4gc3VjaCBhcyBhbiBpc29sYXRpb24gdW5pdC9kaWFseXNpcyBjaGFpcikuIFRoaXMgdHlwaWNhbGx5IGNvdmVycyBjb25jZXB0cyBzdWNoIGFzIGNvbnRhbWluYXRpb24sIGhvdXNla2VlcGluZywgYW5kIG90aGVyIGFjdGl2aXRpZXMgbGlrZSBtYWludGVuYW5jZS5cclxuICAgKi9cclxuICBvcGVyYXRpb25hbFN0YXR1cz86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIG5hbWUgb2YgYSBsb2NhdGlvbiBjaGFuZ2VzLCBjb25zaWRlciBwdXR0aW5nIHRoZSBvbGQgbmFtZSBpbiB0aGUgYWxpYXMgY29sdW1uIHNvIHRoYXQgaXQgY2FuIHN0aWxsIGJlIGxvY2F0ZWQgdGhyb3VnaCBzZWFyY2hlcy5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IExvY2F0aW9uLm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgYXJlIG5vIGRhdGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWxpYXMvaGlzdG9yaWMgbmFtZXMsIGFzIHRoaXMgaXMgbm90IGludGVuZGVkIHRvIHRyYWNrIHdoZW4gbmFtZXMgd2VyZSB1c2VkLCBidXQgdG8gYXNzaXN0IGluIHNlYXJjaGluZyBzbyB0aGF0IG9sZGVyIG5hbWVzIGNhbiBzdGlsbCByZXN1bHQgaW4gaWRlbnRpZnlpbmcgdGhlIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIGFsaWFzPzogZmhpci5GaGlyU3RyaW5nW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24uYWxpYXNcclxuICAgKi9cclxuICBfYWxpYXM/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaXB0aW9uIG9mIHRoZSBMb2NhdGlvbiwgd2hpY2ggaGVscHMgaW4gZmluZGluZyBvciByZWZlcmVuY2luZyB0aGUgcGxhY2UuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24uZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2Ugd2hldGhlciBvciBub3QgdGhlIGxvY2F0aW9uIGlzIGEgY2xhc3Mgb2YgbG9jYXRpb25zIGNoYW5nZXMgaG93IGl0IGNhbiBiZSB1c2VkIGFuZCB1bmRlcnN0b29kLlxyXG4gICAqL1xyXG4gIG1vZGU/OiBmaGlyLkZoaXJDb2RlPExvY2F0aW9uTW9kZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBMb2NhdGlvbi5tb2RlXHJcbiAgICovXHJcbiAgX21vZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgdHlwZSBvZiBmdW5jdGlvbiBwZXJmb3JtZWQgYXQgdGhlIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvbnRhY3QgZGV0YWlscyBvZiBjb21tdW5pY2F0aW9uIGRldmljZXMgYXZhaWxhYmxlIGF0IHRoZSBsb2NhdGlvbi4gVGhpcyBjYW4gaW5jbHVkZSBwaG9uZSBudW1iZXJzLCBmYXggbnVtYmVycywgbW9iaWxlIG51bWJlcnMsIGVtYWlsIGFkZHJlc3NlcyBhbmQgd2ViIHNpdGVzLlxyXG4gICAqL1xyXG4gIHRlbGVjb20/OiBmaGlyLkNvbnRhY3RQb2ludEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBhZGRyZXNzZXMgc2hvdWxkIGJlIHJlY29yZGVkIHVzaW5nIGFub3RoZXIgaW5zdGFuY2Ugb2YgdGhlIExvY2F0aW9uIHJlc291cmNlLCBvciB2aWEgdGhlIE9yZ2FuaXphdGlvbi5cclxuICAgKi9cclxuICBhZGRyZXNzPzogZmhpci5BZGRyZXNzQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGh5c2ljYWwgZm9ybSBvZiB0aGUgbG9jYXRpb24sIGUuZy4gYnVpbGRpbmcsIHJvb20sIHZlaGljbGUsIHJvYWQuXHJcbiAgICovXHJcbiAgcGh5c2ljYWxUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYWJzb2x1dGUgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBvZiB0aGUgTG9jYXRpb24sIGV4cHJlc3NlZCB1c2luZyB0aGUgV0dTODQgZGF0dW0gKFRoaXMgaXMgdGhlIHNhbWUgY28tb3JkaW5hdGUgc3lzdGVtIHVzZWQgaW4gS01MKS5cclxuICAgKi9cclxuICBwb3NpdGlvbj86IGZoaXIuTG9jYXRpb25Qb3NpdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY2FuIGFsc28gYmUgdXNlZCBhcyB0aGUgcGFydCBvZiB0aGUgb3JnYW5pemF0aW9uIGhpZXJhcmNoeSB3aGVyZSB0aGlzIGxvY2F0aW9uIHByb3ZpZGVzIHNlcnZpY2VzLiBUaGVzZSBzZXJ2aWNlcyBjYW4gYmUgZGVmaW5lZCB0aHJvdWdoIHRoZSBIZWFsdGhjYXJlU2VydmljZSByZXNvdXJjZS5cclxuICAgKi9cclxuICBtYW5hZ2luZ09yZ2FuaXphdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW5vdGhlciBMb2NhdGlvbiBvZiB3aGljaCB0aGlzIExvY2F0aW9uIGlzIHBoeXNpY2FsbHkgYSBwYXJ0IG9mLlxyXG4gICAqL1xyXG4gIHBhcnRPZj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB0eXBlIG9mIGluZm9ybWF0aW9uIGlzIGNvbW1vbmx5IGZvdW5kIHB1Ymxpc2hlZCBpbiBkaXJlY3RvcmllcyBhbmQgb24gd2Vic2l0ZXMgaW5mb3JtaW5nIGN1c3RvbWVycyB3aGVuIHRoZSBmYWNpbGl0eSBpcyBhdmFpbGFibGUuXHJcbiAgICogU3BlY2lmaWMgc2VydmljZXMgd2l0aGluIHRoZSBsb2NhdGlvbiBtYXkgaGF2ZSB0aGVpciBvd24gaG91cnMgd2hpY2ggY291bGQgYmUgc2hvcnRlciAob3IgbG9uZ2VyKSB0aGFuIHRoZSBsb2NhdGlvbnMgaG91cnMuXHJcbiAgICovXHJcbiAgaG91cnNPZk9wZXJhdGlvbj86IGZoaXIuTG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHdoZW4gdGhlIGxvY2F0aW9ucyBvcGVuaW5nIG91cnMgYXJlIGRpZmZlcmVudCB0byBub3JtYWwsIGUuZy4gcHVibGljIGhvbGlkYXkgYXZhaWxhYmlsaXR5LiBTdWNjaW5jdGx5IGRlc2NyaWJpbmcgYWxsIHBvc3NpYmxlIGV4Y2VwdGlvbnMgdG8gbm9ybWFsIHNpdGUgYXZhaWxhYmlsaXR5IGFzIGRldGFpbGVkIGluIHRoZSBvcGVuaW5nIGhvdXJzIFRpbWVzLlxyXG4gICAqL1xyXG4gIGF2YWlsYWJpbGl0eUV4Y2VwdGlvbnM/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTG9jYXRpb24uYXZhaWxhYmlsaXR5RXhjZXB0aW9uc1xyXG4gICAqL1xyXG4gIF9hdmFpbGFiaWxpdHlFeGNlcHRpb25zPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUZWNobmljYWwgZW5kcG9pbnRzIHByb3ZpZGluZyBhY2Nlc3MgdG8gc2VydmljZXMgb3BlcmF0ZWQgZm9yIHRoZSBsb2NhdGlvbi5cclxuICAgKi9cclxuICBlbmRwb2ludD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERldGFpbHMgYW5kIHBvc2l0aW9uIGluZm9ybWF0aW9uIGZvciBhIHBoeXNpY2FsIHBsYWNlIHdoZXJlIHNlcnZpY2VzIGFyZSBwcm92aWRlZCBhbmQgcmVzb3VyY2VzIGFuZCBwYXJ0aWNpcGFudHMgbWF5IGJlIHN0b3JlZCwgZm91bmQsIGNvbnRhaW5lZCwgb3IgYWNjb21tb2RhdGVkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExvY2F0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdMb2NhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJMb2NhdGlvblwiO1xyXG4gIC8qKlxyXG4gICAqIFVuaXF1ZSBjb2RlIG9yIG51bWJlciBpZGVudGlmeWluZyB0aGUgbG9jYXRpb24gdG8gaXRzIHVzZXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIHByb3BlcnR5IGNvdmVycyB0aGUgZ2VuZXJhbCBhdmFpbGFiaWxpdHkgb2YgdGhlIHJlc291cmNlLCBub3QgdGhlIGN1cnJlbnQgdmFsdWUgd2hpY2ggbWF5IGJlIGNvdmVyZWQgYnkgdGhlIG9wZXJhdGlvblN0YXR1cywgb3IgYnkgYSBzY2hlZHVsZS9zbG90cyBpZiB0aGV5IGFyZSBjb25maWd1cmVkIGZvciB0aGUgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuRmhpckNvZGU8TG9jYXRpb25TdGF0dXNDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcGVyYXRpb25hbCBzdGF0dXMgY292ZXJzIG9wZXJhdGlvbiB2YWx1ZXMgbW9zdCByZWxldmFudCB0byBiZWRzIChidXQgY2FuIGFsc28gYXBwbHkgdG8gcm9vbXMvdW5pdHMvY2hhaXJzL2V0Yy4gc3VjaCBhcyBhbiBpc29sYXRpb24gdW5pdC9kaWFseXNpcyBjaGFpcikuIFRoaXMgdHlwaWNhbGx5IGNvdmVycyBjb25jZXB0cyBzdWNoIGFzIGNvbnRhbWluYXRpb24sIGhvdXNla2VlcGluZywgYW5kIG90aGVyIGFjdGl2aXRpZXMgbGlrZSBtYWludGVuYW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgb3BlcmF0aW9uYWxTdGF0dXM/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIG5hbWUgb2YgYSBsb2NhdGlvbiBjaGFuZ2VzLCBjb25zaWRlciBwdXR0aW5nIHRoZSBvbGQgbmFtZSBpbiB0aGUgYWxpYXMgY29sdW1uIHNvIHRoYXQgaXQgY2FuIHN0aWxsIGJlIGxvY2F0ZWQgdGhyb3VnaCBzZWFyY2hlcy5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgYXJlIG5vIGRhdGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWxpYXMvaGlzdG9yaWMgbmFtZXMsIGFzIHRoaXMgaXMgbm90IGludGVuZGVkIHRvIHRyYWNrIHdoZW4gbmFtZXMgd2VyZSB1c2VkLCBidXQgdG8gYXNzaXN0IGluIHNlYXJjaGluZyBzbyB0aGF0IG9sZGVyIG5hbWVzIGNhbiBzdGlsbCByZXN1bHQgaW4gaWRlbnRpZnlpbmcgdGhlIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbGlhczogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpcHRpb24gb2YgdGhlIExvY2F0aW9uLCB3aGljaCBoZWxwcyBpbiBmaW5kaW5nIG9yIHJlZmVyZW5jaW5nIHRoZSBwbGFjZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2Ugd2hldGhlciBvciBub3QgdGhlIGxvY2F0aW9uIGlzIGEgY2xhc3Mgb2YgbG9jYXRpb25zIGNoYW5nZXMgaG93IGl0IGNhbiBiZSB1c2VkIGFuZCB1bmRlcnN0b29kLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RlPzogZmhpci5GaGlyQ29kZTxMb2NhdGlvbk1vZGVDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgdHlwZSBvZiBmdW5jdGlvbiBwZXJmb3JtZWQgYXQgdGhlIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb250YWN0IGRldGFpbHMgb2YgY29tbXVuaWNhdGlvbiBkZXZpY2VzIGF2YWlsYWJsZSBhdCB0aGUgbG9jYXRpb24uIFRoaXMgY2FuIGluY2x1ZGUgcGhvbmUgbnVtYmVycywgZmF4IG51bWJlcnMsIG1vYmlsZSBudW1iZXJzLCBlbWFpbCBhZGRyZXNzZXMgYW5kIHdlYiBzaXRlcy5cclxuICAgKi9cclxuICBwdWJsaWMgdGVsZWNvbTogZmhpci5Db250YWN0UG9pbnRbXTtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIGFkZHJlc3NlcyBzaG91bGQgYmUgcmVjb3JkZWQgdXNpbmcgYW5vdGhlciBpbnN0YW5jZSBvZiB0aGUgTG9jYXRpb24gcmVzb3VyY2UsIG9yIHZpYSB0aGUgT3JnYW5pemF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRyZXNzPzogZmhpci5BZGRyZXNzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQaHlzaWNhbCBmb3JtIG9mIHRoZSBsb2NhdGlvbiwgZS5nLiBidWlsZGluZywgcm9vbSwgdmVoaWNsZSwgcm9hZC5cclxuICAgKi9cclxuICBwdWJsaWMgcGh5c2ljYWxUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhYnNvbHV0ZSBnZW9ncmFwaGljIGxvY2F0aW9uIG9mIHRoZSBMb2NhdGlvbiwgZXhwcmVzc2VkIHVzaW5nIHRoZSBXR1M4NCBkYXR1bSAoVGhpcyBpcyB0aGUgc2FtZSBjby1vcmRpbmF0ZSBzeXN0ZW0gdXNlZCBpbiBLTUwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb3NpdGlvbj86IGZoaXIuTG9jYXRpb25Qb3NpdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjYW4gYWxzbyBiZSB1c2VkIGFzIHRoZSBwYXJ0IG9mIHRoZSBvcmdhbml6YXRpb24gaGllcmFyY2h5IHdoZXJlIHRoaXMgbG9jYXRpb24gcHJvdmlkZXMgc2VydmljZXMuIFRoZXNlIHNlcnZpY2VzIGNhbiBiZSBkZWZpbmVkIHRocm91Z2ggdGhlIEhlYWx0aGNhcmVTZXJ2aWNlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW5hZ2luZ09yZ2FuaXphdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbm90aGVyIExvY2F0aW9uIG9mIHdoaWNoIHRoaXMgTG9jYXRpb24gaXMgcGh5c2ljYWxseSBhIHBhcnQgb2YuXHJcbiAgICovXHJcbiAgcHVibGljIHBhcnRPZj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHR5cGUgb2YgaW5mb3JtYXRpb24gaXMgY29tbW9ubHkgZm91bmQgcHVibGlzaGVkIGluIGRpcmVjdG9yaWVzIGFuZCBvbiB3ZWJzaXRlcyBpbmZvcm1pbmcgY3VzdG9tZXJzIHdoZW4gdGhlIGZhY2lsaXR5IGlzIGF2YWlsYWJsZS5cclxuICAgKiBTcGVjaWZpYyBzZXJ2aWNlcyB3aXRoaW4gdGhlIGxvY2F0aW9uIG1heSBoYXZlIHRoZWlyIG93biBob3VycyB3aGljaCBjb3VsZCBiZSBzaG9ydGVyIChvciBsb25nZXIpIHRoYW4gdGhlIGxvY2F0aW9ucyBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgaG91cnNPZk9wZXJhdGlvbjogZmhpci5Mb2NhdGlvbkhvdXJzT2ZPcGVyYXRpb25bXTtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHdoZW4gdGhlIGxvY2F0aW9ucyBvcGVuaW5nIG91cnMgYXJlIGRpZmZlcmVudCB0byBub3JtYWwsIGUuZy4gcHVibGljIGhvbGlkYXkgYXZhaWxhYmlsaXR5LiBTdWNjaW5jdGx5IGRlc2NyaWJpbmcgYWxsIHBvc3NpYmxlIGV4Y2VwdGlvbnMgdG8gbm9ybWFsIHNpdGUgYXZhaWxhYmlsaXR5IGFzIGRldGFpbGVkIGluIHRoZSBvcGVuaW5nIGhvdXJzIFRpbWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdmFpbGFiaWxpdHlFeGNlcHRpb25zPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZWNobmljYWwgZW5kcG9pbnRzIHByb3ZpZGluZyBhY2Nlc3MgdG8gc2VydmljZXMgb3BlcmF0ZWQgZm9yIHRoZSBsb2NhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZW5kcG9pbnQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTG9jYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxMb2NhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdMb2NhdGlvbic7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPExvY2F0aW9uU3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPExvY2F0aW9uU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvcGVyYXRpb25hbFN0YXR1cyddKSB7IHRoaXMub3BlcmF0aW9uYWxTdGF0dXMgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLm9wZXJhdGlvbmFsU3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2FsaWFzJ10pIHsgdGhpcy5hbGlhcyA9IHNvdXJjZS5hbGlhcy5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hbGlhcyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWxpYXMnXSkge1xyXG4gICAgICBzb3VyY2UuX2FsaWFzLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmFsaWFzLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuYWxpYXNbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5hbGlhcy5wdXNoKG5ldyBmaGlyLkZoaXJTdHJpbmcoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtb2RlJ10pIHsgdGhpcy5tb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8TG9jYXRpb25Nb2RlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLm1vZGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX21vZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5tb2RlKSB7IHRoaXMubW9kZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tb2RlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubW9kZSA9IG5ldyBmaGlyLkZoaXJDb2RlPExvY2F0aW9uTW9kZUNvZGVUeXBlPihzb3VyY2UuX21vZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGVsZWNvbSddKSB7IHRoaXMudGVsZWNvbSA9IHNvdXJjZS50ZWxlY29tLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29udGFjdFBvaW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGVsZWNvbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10pIHsgdGhpcy5hZGRyZXNzID0gbmV3IGZoaXIuQWRkcmVzcyhzb3VyY2UuYWRkcmVzcyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BoeXNpY2FsVHlwZSddKSB7IHRoaXMucGh5c2ljYWxUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5waHlzaWNhbFR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydwb3NpdGlvbiddKSB7IHRoaXMucG9zaXRpb24gPSBuZXcgZmhpci5Mb2NhdGlvblBvc2l0aW9uKHNvdXJjZS5wb3NpdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbmFnaW5nT3JnYW5pemF0aW9uJ10pIHsgdGhpcy5tYW5hZ2luZ09yZ2FuaXphdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubWFuYWdpbmdPcmdhbml6YXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0T2YnXSkgeyB0aGlzLnBhcnRPZiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGFydE9mKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaG91cnNPZk9wZXJhdGlvbiddKSB7IHRoaXMuaG91cnNPZk9wZXJhdGlvbiA9IHNvdXJjZS5ob3Vyc09mT3BlcmF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuTG9jYXRpb25Ib3Vyc09mT3BlcmF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaG91cnNPZk9wZXJhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhdmFpbGFiaWxpdHlFeGNlcHRpb25zJ10pIHsgdGhpcy5hdmFpbGFiaWxpdHlFeGNlcHRpb25zID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hdmFpbGFiaWxpdHlFeGNlcHRpb25zfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hdmFpbGFiaWxpdHlFeGNlcHRpb25zJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYXZhaWxhYmlsaXR5RXhjZXB0aW9ucykgeyB0aGlzLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXZhaWxhYmlsaXR5RXhjZXB0aW9ucyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYXZhaWxhYmlsaXR5RXhjZXB0aW9ucyBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW5kcG9pbnQnXSkgeyB0aGlzLmVuZHBvaW50ID0gc291cmNlLmVuZHBvaW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZW5kcG9pbnQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdMb2NhdGlvbicgfVxyXG4gICAgdGhpcy52UmVxUygncmVzb3VyY2VUeXBlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnaWRlbnRpZmllcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFNWKCdzdGF0dXMnLGV4cHJlc3Npb24sJ0xvY2F0aW9uU3RhdHVzJyxMb2NhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPcHRTKCdvcGVyYXRpb25hbFN0YXR1cycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ25hbWUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdhbGlhcycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2Rlc2NyaXB0aW9uJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0U1YoJ21vZGUnLGV4cHJlc3Npb24sJ0xvY2F0aW9uTW9kZScsTG9jYXRpb25Nb2RlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9wdEEoJ3R5cGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCd0ZWxlY29tJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnYWRkcmVzcycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3BoeXNpY2FsVHlwZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3Bvc2l0aW9uJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnbWFuYWdpbmdPcmdhbml6YXRpb24nLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdwYXJ0T2YnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdob3Vyc09mT3BlcmF0aW9uJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnYXZhaWxhYmlsaXR5RXhjZXB0aW9ucycsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2VuZHBvaW50JyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19