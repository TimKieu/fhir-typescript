// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: MedicationKnowledge
import * as fhir from '../fhir.js';
// @ts-ignore
import { MedicationknowledgeStatusVsValidation } from '../fhirValueSets/MedicationknowledgeStatusVsValidation.js';
/**
 * Associated or related knowledge about a medication.
 */
export class MedicationKnowledgeRelatedMedicationKnowledge extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRelatedMedicationKnowledge - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['reference']) {
            this.reference = source.reference.map((x) => new fhir.Reference(x));
        }
        else {
            this.reference = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.relatedMedicationKnowledge';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vRA('reference', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRelatedMedicationKnowledge._fts_dataType = 'MedicationKnowledgeRelatedMedicationKnowledge';
/**
 * Associated documentation about the medication.
 */
export class MedicationKnowledgeMonograph extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeMonograph - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['source']) {
            this.source = new fhir.Reference(source.source);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.monograph';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('source', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeMonograph._fts_dataType = 'MedicationKnowledgeMonograph';
/**
 * Identifies a particular constituent of interest in the product.
 */
export class MedicationKnowledgeIngredient extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeIngredient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['item']) {
            this.item = source.item;
        }
        else if (source['itemCodeableConcept']) {
            this.item = new fhir.CodeableConcept(source.itemCodeableConcept);
        }
        else if (source['itemReference']) {
            this.item = new fhir.Reference(source.itemReference);
        }
        else {
            this.item = null;
        }
        if (source['isActive']) {
            this.isActive = new fhir.FhirBoolean({ value: source.isActive });
        }
        if (source['_isActive']) {
            if (this.isActive) {
                this.isActive.addExtendedProperties(source._isActive);
            }
            else {
                this.isActive = new fhir.FhirBoolean(source._isActive);
            }
        }
        if (source['strength']) {
            this.strength = new fhir.Ratio(source.strength);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.ingredient';
        }
        iss.push(...this.vRS('item', exp));
        iss.push(...this.vOS('isActive', exp));
        iss.push(...this.vOS('strength', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeIngredient._fts_dataType = 'MedicationKnowledgeIngredient';
/**
 * Internal flag to properly serialize choice-type element MedicationKnowledge.ingredient.item[x]
 */
MedicationKnowledgeIngredient._fts_itemIsChoice = true;
/**
 * The price of the medication.
 */
export class MedicationKnowledgeCost extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeCost - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['source']) {
            this.source = new fhir.FhirString({ value: source.source });
        }
        if (source['_source']) {
            if (this.source) {
                this.source.addExtendedProperties(source._source);
            }
            else {
                this.source = new fhir.FhirString(source._source);
            }
        }
        if (source['cost']) {
            this.cost = new fhir.Money(source.cost);
        }
        else {
            this.cost = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.cost';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOS('source', exp));
        iss.push(...this.vRS('cost', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeCost._fts_dataType = 'MedicationKnowledgeCost';
/**
 * The program under which the medication is reviewed.
 */
export class MedicationKnowledgeMonitoringProgram extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeMonitoringProgram - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.monitoringProgram';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('name', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeMonitoringProgram._fts_dataType = 'MedicationKnowledgeMonitoringProgram';
/**
 * Dosage for the medication for the specific guidelines.
 */
export class MedicationKnowledgeAdministrationGuidelinesDosage extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeAdministrationGuidelinesDosage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['dosage']) {
            this.dosage = source.dosage.map((x) => new fhir.Dosage(x));
        }
        else {
            this.dosage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.administrationGuidelines.dosage';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vRA('dosage', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeAdministrationGuidelinesDosage._fts_dataType = 'MedicationKnowledgeAdministrationGuidelinesDosage';
/**
 * Characteristics of the patient that are relevant to the administration guidelines (for example, height, weight, gender, etc.).
 */
export class MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['characteristic']) {
            this.characteristic = source.characteristic;
        }
        else if (source['characteristicCodeableConcept']) {
            this.characteristic = new fhir.CodeableConcept(source.characteristicCodeableConcept);
        }
        else if (source['characteristicQuantity']) {
            this.characteristic = new fhir.Quantity(source.characteristicQuantity);
        }
        else {
            this.characteristic = null;
        }
        if (source['value']) {
            this.value = source.value.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.value = [];
        }
        if (source['_value']) {
            source._value.forEach((x, i) => {
                if (this.value.length >= i) {
                    if (x) {
                        this.value[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.value.push(new fhir.FhirString(x));
                    }
                }
            });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.administrationGuidelines.patientCharacteristics';
        }
        iss.push(...this.vRS('characteristic', exp));
        iss.push(...this.vOA('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics._fts_dataType = 'MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics';
/**
 * Internal flag to properly serialize choice-type element MedicationKnowledge.administrationGuidelines.patientCharacteristics.characteristic[x]
 */
MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics._fts_characteristicIsChoice = true;
/**
 * Guidelines for the administration of the medication.
 */
export class MedicationKnowledgeAdministrationGuidelines extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeAdministrationGuidelines - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['dosage']) {
            this.dosage = source.dosage.map((x) => new fhir.MedicationKnowledgeAdministrationGuidelinesDosage(x));
        }
        else {
            this.dosage = [];
        }
        if (source['indication']) {
            this.indication = source.indication;
        }
        else if (source['indicationCodeableConcept']) {
            this.indication = new fhir.CodeableConcept(source.indicationCodeableConcept);
        }
        else if (source['indicationReference']) {
            this.indication = new fhir.Reference(source.indicationReference);
        }
        if (source['patientCharacteristics']) {
            this.patientCharacteristics = source.patientCharacteristics.map((x) => new fhir.MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics(x));
        }
        else {
            this.patientCharacteristics = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.administrationGuidelines';
        }
        iss.push(...this.vOA('dosage', exp));
        iss.push(...this.vOS('indication', exp));
        iss.push(...this.vOA('patientCharacteristics', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeAdministrationGuidelines._fts_dataType = 'MedicationKnowledgeAdministrationGuidelines';
/**
 * Internal flag to properly serialize choice-type element MedicationKnowledge.administrationGuidelines.indication[x]
 */
MedicationKnowledgeAdministrationGuidelines._fts_indicationIsChoice = true;
/**
 * Categorization of the medication within a formulary or classification system.
 */
export class MedicationKnowledgeMedicineClassification extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeMedicineClassification - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['classification']) {
            this.classification = source.classification.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.classification = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.medicineClassification';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOA('classification', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeMedicineClassification._fts_dataType = 'MedicationKnowledgeMedicineClassification';
/**
 * Information that only applies to packages (not products).
 */
export class MedicationKnowledgePackaging extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgePackaging - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.packaging';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('quantity', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgePackaging._fts_dataType = 'MedicationKnowledgePackaging';
/**
 * Specifies descriptive properties of the medicine, such as color, shape, imprints, etc.
 */
export class MedicationKnowledgeDrugCharacteristic extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeDrugCharacteristic - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueBase64Binary']) {
            this.value = new fhir.FhirBase64Binary({ value: source.valueBase64Binary });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.drugCharacteristic';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeDrugCharacteristic._fts_dataType = 'MedicationKnowledgeDrugCharacteristic';
/**
 * Internal flag to properly serialize choice-type element MedicationKnowledge.drugCharacteristic.value[x]
 */
MedicationKnowledgeDrugCharacteristic._fts_valueIsChoice = true;
/**
 * Specifies if changes are allowed when dispensing a medication from a regulatory perspective.
 */
export class MedicationKnowledgeRegulatorySubstitution extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRegulatorySubstitution - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['allowed']) {
            this.allowed = new fhir.FhirBoolean({ value: source.allowed });
        }
        else {
            this.allowed = null;
        }
        if (source['_allowed']) {
            if (this.allowed) {
                this.allowed.addExtendedProperties(source._allowed);
            }
            else {
                this.allowed = new fhir.FhirBoolean(source._allowed);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.regulatory.substitution';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vRS('allowed', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRegulatorySubstitution._fts_dataType = 'MedicationKnowledgeRegulatorySubstitution';
/**
 * Specifies the schedule of a medication in jurisdiction.
 */
export class MedicationKnowledgeRegulatorySchedule extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRegulatorySchedule - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['schedule']) {
            this.schedule = new fhir.CodeableConcept(source.schedule);
        }
        else {
            this.schedule = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.regulatory.schedule';
        }
        iss.push(...this.vRS('schedule', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRegulatorySchedule._fts_dataType = 'MedicationKnowledgeRegulatorySchedule';
/**
 * The maximum number of units of the medication that can be dispensed in a period.
 */
export class MedicationKnowledgeRegulatoryMaxDispense extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRegulatoryMaxDispense - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        else {
            this.quantity = null;
        }
        if (source['period']) {
            this.period = new fhir.Duration(source.period);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.regulatory.maxDispense';
        }
        iss.push(...this.vRS('quantity', exp));
        iss.push(...this.vOS('period', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRegulatoryMaxDispense._fts_dataType = 'MedicationKnowledgeRegulatoryMaxDispense';
/**
 * Regulatory information about a medication.
 */
export class MedicationKnowledgeRegulatory extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRegulatory - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['regulatoryAuthority']) {
            this.regulatoryAuthority = new fhir.Reference(source.regulatoryAuthority);
        }
        else {
            this.regulatoryAuthority = null;
        }
        if (source['substitution']) {
            this.substitution = source.substitution.map((x) => new fhir.MedicationKnowledgeRegulatorySubstitution(x));
        }
        else {
            this.substitution = [];
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.MedicationKnowledgeRegulatorySchedule(x));
        }
        else {
            this.schedule = [];
        }
        if (source['maxDispense']) {
            this.maxDispense = new fhir.MedicationKnowledgeRegulatoryMaxDispense(source.maxDispense);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.regulatory';
        }
        iss.push(...this.vRS('regulatoryAuthority', exp));
        iss.push(...this.vOA('substitution', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOS('maxDispense', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRegulatory._fts_dataType = 'MedicationKnowledgeRegulatory';
/**
 * The time course of drug absorption, distribution, metabolism and excretion of a medication from the body.
 */
export class MedicationKnowledgeKinetics extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeKinetics - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['areaUnderCurve']) {
            this.areaUnderCurve = source.areaUnderCurve.map((x) => new fhir.Quantity(x));
        }
        else {
            this.areaUnderCurve = [];
        }
        if (source['lethalDose50']) {
            this.lethalDose50 = source.lethalDose50.map((x) => new fhir.Quantity(x));
        }
        else {
            this.lethalDose50 = [];
        }
        if (source['halfLifePeriod']) {
            this.halfLifePeriod = new fhir.Duration(source.halfLifePeriod);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge.kinetics';
        }
        iss.push(...this.vOA('areaUnderCurve', exp));
        iss.push(...this.vOA('lethalDose50', exp));
        iss.push(...this.vOS('halfLifePeriod', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeKinetics._fts_dataType = 'MedicationKnowledgeKinetics';
/**
 * Information about a medication that is used to support knowledge.
 */
export class MedicationKnowledge extends fhir.DomainResource {
    /**
     * Default constructor for MedicationKnowledge - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MedicationKnowledge';
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['manufacturer']) {
            this.manufacturer = new fhir.Reference(source.manufacturer);
        }
        if (source['doseForm']) {
            this.doseForm = new fhir.CodeableConcept(source.doseForm);
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount);
        }
        if (source['synonym']) {
            this.synonym = source.synonym.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.synonym = [];
        }
        if (source['_synonym']) {
            source._synonym.forEach((x, i) => {
                if (this.synonym.length >= i) {
                    if (x) {
                        this.synonym[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.synonym.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['relatedMedicationKnowledge']) {
            this.relatedMedicationKnowledge = source.relatedMedicationKnowledge.map((x) => new fhir.MedicationKnowledgeRelatedMedicationKnowledge(x));
        }
        else {
            this.relatedMedicationKnowledge = [];
        }
        if (source['associatedMedication']) {
            this.associatedMedication = source.associatedMedication.map((x) => new fhir.Reference(x));
        }
        else {
            this.associatedMedication = [];
        }
        if (source['productType']) {
            this.productType = source.productType.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.productType = [];
        }
        if (source['monograph']) {
            this.monograph = source.monograph.map((x) => new fhir.MedicationKnowledgeMonograph(x));
        }
        else {
            this.monograph = [];
        }
        if (source['ingredient']) {
            this.ingredient = source.ingredient.map((x) => new fhir.MedicationKnowledgeIngredient(x));
        }
        else {
            this.ingredient = [];
        }
        if (source['preparationInstruction']) {
            this.preparationInstruction = new fhir.FhirMarkdown({ value: source.preparationInstruction });
        }
        if (source['_preparationInstruction']) {
            if (this.preparationInstruction) {
                this.preparationInstruction.addExtendedProperties(source._preparationInstruction);
            }
            else {
                this.preparationInstruction = new fhir.FhirMarkdown(source._preparationInstruction);
            }
        }
        if (source['intendedRoute']) {
            this.intendedRoute = source.intendedRoute.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.intendedRoute = [];
        }
        if (source['cost']) {
            this.cost = source.cost.map((x) => new fhir.MedicationKnowledgeCost(x));
        }
        else {
            this.cost = [];
        }
        if (source['monitoringProgram']) {
            this.monitoringProgram = source.monitoringProgram.map((x) => new fhir.MedicationKnowledgeMonitoringProgram(x));
        }
        else {
            this.monitoringProgram = [];
        }
        if (source['administrationGuidelines']) {
            this.administrationGuidelines = source.administrationGuidelines.map((x) => new fhir.MedicationKnowledgeAdministrationGuidelines(x));
        }
        else {
            this.administrationGuidelines = [];
        }
        if (source['medicineClassification']) {
            this.medicineClassification = source.medicineClassification.map((x) => new fhir.MedicationKnowledgeMedicineClassification(x));
        }
        else {
            this.medicineClassification = [];
        }
        if (source['packaging']) {
            this.packaging = new fhir.MedicationKnowledgePackaging(source.packaging);
        }
        if (source['drugCharacteristic']) {
            this.drugCharacteristic = source.drugCharacteristic.map((x) => new fhir.MedicationKnowledgeDrugCharacteristic(x));
        }
        else {
            this.drugCharacteristic = [];
        }
        if (source['contraindication']) {
            this.contraindication = source.contraindication.map((x) => new fhir.Reference(x));
        }
        else {
            this.contraindication = [];
        }
        if (source['regulatory']) {
            this.regulatory = source.regulatory.map((x) => new fhir.MedicationKnowledgeRegulatory(x));
        }
        else {
            this.regulatory = [];
        }
        if (source['kinetics']) {
            this.kinetics = source.kinetics.map((x) => new fhir.MedicationKnowledgeKinetics(x));
        }
        else {
            this.kinetics = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationKnowledge';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOS('code', exp));
        iss.push(...this.vOSV('status', exp, 'MedicationknowledgeStatus', MedicationknowledgeStatusVsValidation, 'r'));
        iss.push(...this.vOS('manufacturer', exp));
        iss.push(...this.vOS('doseForm', exp));
        iss.push(...this.vOS('amount', exp));
        iss.push(...this.vOA('synonym', exp));
        iss.push(...this.vOA('relatedMedicationKnowledge', exp));
        iss.push(...this.vOA('associatedMedication', exp));
        iss.push(...this.vOA('productType', exp));
        iss.push(...this.vOA('monograph', exp));
        iss.push(...this.vOA('ingredient', exp));
        iss.push(...this.vOS('preparationInstruction', exp));
        iss.push(...this.vOA('intendedRoute', exp));
        iss.push(...this.vOA('cost', exp));
        iss.push(...this.vOA('monitoringProgram', exp));
        iss.push(...this.vOA('administrationGuidelines', exp));
        iss.push(...this.vOA('medicineClassification', exp));
        iss.push(...this.vOS('packaging', exp));
        iss.push(...this.vOA('drugCharacteristic', exp));
        iss.push(...this.vOA('contraindication', exp));
        iss.push(...this.vOA('regulatory', exp));
        iss.push(...this.vOA('kinetics', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledge._fts_dataType = 'MedicationKnowledge';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWNhdGlvbktub3dsZWRnZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvTWVkaWNhdGlvbktub3dsZWRnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxxQ0FBcUM7QUFFckMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFnQm5DLGFBQWE7QUFDYixPQUFPLEVBQUUscUNBQXFDLEVBQUUsTUFBTSwyREFBMkQsQ0FBQztBQXVCbEg7O0dBRUc7QUFDSCxNQUFNLE9BQU8sNkNBQThDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhckY7O09BRUc7SUFDSCxZQUFZLFNBQW9FLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzFILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTthQUNyRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzVGO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FBRTtJQUMvQixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxHQUFHLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FB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RyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUF4TEQ7O0dBRUc7QUFDNkIsaUNBQWEsR0FBVSxxQkFBcUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogTWVkaWNhdGlvbktub3dsZWRnZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbmtub3dsZWRnZVBhY2thZ2VUeXBlQ29kZXMsICBNZWRpY2F0aW9ua25vd2xlZGdlUGFja2FnZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvbmtub3dsZWRnZVBhY2thZ2VUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lZGljYXRpb25rbm93bGVkZ2VQYWNrYWdlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvbmtub3dsZWRnZVBhY2thZ2VUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9ua25vd2xlZGdlQ2hhcmFjdGVyaXN0aWNDb2RlcywgIE1lZGljYXRpb25rbm93bGVkZ2VDaGFyYWN0ZXJpc3RpY0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9ua25vd2xlZGdlQ2hhcmFjdGVyaXN0aWNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbmtub3dsZWRnZUNoYXJhY3RlcmlzdGljVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9ua25vd2xlZGdlQ2hhcmFjdGVyaXN0aWNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lZGljYXRpb25Db2RlcywgIE1lZGljYXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9ua25vd2xlZGdlU3RhdHVzQ29kZXMsICBNZWRpY2F0aW9ua25vd2xlZGdlU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25rbm93bGVkZ2VTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbmtub3dsZWRnZVN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvbmtub3dsZWRnZVN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbkZvcm1Db2RlcywgIE1lZGljYXRpb25Gb3JtQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25Gb3JtQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lZGljYXRpb25Gb3JtVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9uRm9ybVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUm91dGVDb2RlcywgIFJvdXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JvdXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJvdXRlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Sb3V0ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlUmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZVJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhdGVnb3J5IG9mIHRoZSBhc3NvY2lhdGVkIG1lZGljYXRpb24ga25vd2xlZGdlIHJlZmVyZW5jZS5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gYWJvdXQgdGhlIGFzc29jaWF0ZWQgbWVkaWNhdGlvbiBrbm93bGVkZ2UuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXxudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQXNzb2NpYXRlZCBvciByZWxhdGVkIGtub3dsZWRnZSBhYm91dCBhIG1lZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZVJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZVJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlJztcclxuICAvKipcclxuICAgKiBUaGUgY2F0ZWdvcnkgb2YgdGhlIGFzc29jaWF0ZWQgbWVkaWNhdGlvbiBrbm93bGVkZ2UgcmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgYXNzb2NpYXRlZCBtZWRpY2F0aW9uIGtub3dsZWRnZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VSZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VSZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZSddKSB7IHRoaXMucmVmZXJlbmNlID0gc291cmNlLnJlZmVyZW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZmVyZW5jZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvbktub3dsZWRnZS5yZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UkEoJ3JlZmVyZW5jZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbktub3dsZWRnZU1vbm9ncmFwaCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlTW9ub2dyYXBoQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhdGVnb3J5IG9mIGRvY3VtZW50YXRpb24gYWJvdXQgdGhlIG1lZGljYXRpb24uIChlLmcuIHByb2Zlc3Npb25hbCBtb25vZ3JhcGgsIHBhdGllbnQgZWR1Y2F0aW9uIG1vbm9ncmFwaCkuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHNvdXJjZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gYWJvdXQgdGhlIG1lZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZU1vbm9ncmFwaCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VNb25vZ3JhcGgnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjYXRlZ29yeSBvZiBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBtZWRpY2F0aW9uLiAoZS5nLiBwcm9mZXNzaW9uYWwgbW9ub2dyYXBoLCBwYXRpZW50IGVkdWNhdGlvbiBtb25vZ3JhcGgpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VNb25vZ3JhcGggLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlTW9ub2dyYXBoQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2UnXSkgeyB0aGlzLnNvdXJjZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc291cmNlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lZGljYXRpb25Lbm93bGVkZ2UubW9ub2dyYXBoJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc291cmNlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3R1YWwgaW5ncmVkaWVudCAtIGVpdGhlciBhIHN1YnN0YW5jZSAoc2ltcGxlIGluZ3JlZGllbnQpIG9yIGFub3RoZXIgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBpdGVtPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3R1YWwgaW5ncmVkaWVudCAtIGVpdGhlciBhIHN1YnN0YW5jZSAoc2ltcGxlIGluZ3JlZGllbnQpIG9yIGFub3RoZXIgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBpdGVtQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIGluZ3JlZGllbnQgLSBlaXRoZXIgYSBzdWJzdGFuY2UgKHNpbXBsZSBpbmdyZWRpZW50KSBvciBhbm90aGVyIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgaXRlbVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGlvbiBvZiB3aGV0aGVyIHRoaXMgaW5ncmVkaWVudCBhZmZlY3RzIHRoZSB0aGVyYXBldXRpYyBhY3Rpb24gb2YgdGhlIGRydWcuXHJcbiAgICovXHJcbiAgaXNBY3RpdmU/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2F0aW9uS25vd2xlZGdlLmluZ3JlZGllbnQuaXNBY3RpdmVcclxuICAgKi9cclxuICBfaXNBY3RpdmU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyBob3cgbWFueSAob3IgaG93IG11Y2gpIG9mIHRoZSBpdGVtcyB0aGVyZSBhcmUgaW4gdGhpcyBNZWRpY2F0aW9uLiAgRm9yIGV4YW1wbGUsIDI1MCBtZyBwZXIgdGFibGV0LiAgVGhpcyBpcyBleHByZXNzZWQgYXMgYSByYXRpbyB3aGVyZSB0aGUgbnVtZXJhdG9yIGlzIDI1MG1nIGFuZCB0aGUgZGVub21pbmF0b3IgaXMgMSB0YWJsZXQuXHJcbiAgICovXHJcbiAgc3RyZW5ndGg/OiBmaGlyLlJhdGlvQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJZGVudGlmaWVzIGEgcGFydGljdWxhciBjb25zdGl0dWVudCBvZiBpbnRlcmVzdCBpbiB0aGUgcHJvZHVjdC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VJbmdyZWRpZW50JztcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIGluZ3JlZGllbnQgLSBlaXRoZXIgYSBzdWJzdGFuY2UgKHNpbXBsZSBpbmdyZWRpZW50KSBvciBhbm90aGVyIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGl0ZW06IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25Lbm93bGVkZ2UuaW5ncmVkaWVudC5pdGVtW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2l0ZW1Jc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBJbmRpY2F0aW9uIG9mIHdoZXRoZXIgdGhpcyBpbmdyZWRpZW50IGFmZmVjdHMgdGhlIHRoZXJhcGV1dGljIGFjdGlvbiBvZiB0aGUgZHJ1Zy5cclxuICAgKi9cclxuICBwdWJsaWMgaXNBY3RpdmU/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgaG93IG1hbnkgKG9yIGhvdyBtdWNoKSBvZiB0aGUgaXRlbXMgdGhlcmUgYXJlIGluIHRoaXMgTWVkaWNhdGlvbi4gIEZvciBleGFtcGxlLCAyNTAgbWcgcGVyIHRhYmxldC4gIFRoaXMgaXMgZXhwcmVzc2VkIGFzIGEgcmF0aW8gd2hlcmUgdGhlIG51bWVyYXRvciBpcyAyNTBtZyBhbmQgdGhlIGRlbm9taW5hdG9yIGlzIDEgdGFibGV0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdHJlbmd0aD86IGZoaXIuUmF0aW98dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VJbmdyZWRpZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZUluZ3JlZGllbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaXRlbSddKSB7IHRoaXMuaXRlbSA9IHNvdXJjZS5pdGVtOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2l0ZW1Db2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLml0ZW0gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLml0ZW1Db2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2l0ZW1SZWZlcmVuY2UnXSkgeyB0aGlzLml0ZW0gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLml0ZW1SZWZlcmVuY2UpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pdGVtID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaXNBY3RpdmUnXSkgeyB0aGlzLmlzQWN0aXZlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuaXNBY3RpdmV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2lzQWN0aXZlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHsgdGhpcy5pc0FjdGl2ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pc0FjdGl2ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmlzQWN0aXZlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9pc0FjdGl2ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N0cmVuZ3RoJ10pIHsgdGhpcy5zdHJlbmd0aCA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS5zdHJlbmd0aCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWRpY2F0aW9uS25vd2xlZGdlLmluZ3JlZGllbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdpdGVtJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpc0FjdGl2ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3RyZW5ndGgnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VDb3N0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VDb3N0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhdGVnb3J5IG9mIHRoZSBjb3N0IGluZm9ybWF0aW9uLiAgRm9yIGV4YW1wbGUsIG1hbnVmYWN0dXJlcnMnIGNvc3QsIHBhdGllbnQgY29zdCwgY2xhaW0gcmVpbWJ1cnNlbWVudCBjb3N0LCBhY3R1YWwgYWNxdWlzaXRpb24gY29zdC5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIG9yIG93bmVyIHRoYXQgYXNzaWducyB0aGUgcHJpY2UgdG8gdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgc291cmNlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1lZGljYXRpb25Lbm93bGVkZ2UuY29zdC5zb3VyY2VcclxuICAgKi9cclxuICBfc291cmNlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcHJpY2Ugb2YgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgY29zdDogZmhpci5Nb25leUFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwcmljZSBvZiB0aGUgbWVkaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlQ29zdCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VDb3N0JztcclxuICAvKipcclxuICAgKiBUaGUgY2F0ZWdvcnkgb2YgdGhlIGNvc3QgaW5mb3JtYXRpb24uICBGb3IgZXhhbXBsZSwgbWFudWZhY3R1cmVycycgY29zdCwgcGF0aWVudCBjb3N0LCBjbGFpbSByZWltYnVyc2VtZW50IGNvc3QsIGFjdHVhbCBhY3F1aXNpdGlvbiBjb3N0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzb3VyY2Ugb3Igb3duZXIgdGhhdCBhc3NpZ25zIHRoZSBwcmljZSB0byB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJpY2Ugb2YgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvc3Q6IGZoaXIuTW9uZXl8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlQ29zdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VDb3N0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlJ10pIHsgdGhpcy5zb3VyY2UgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnNvdXJjZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc291cmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc291cmNlKSB7IHRoaXMuc291cmNlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3NvdXJjZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNvdXJjZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9zb3VyY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Nvc3QnXSkgeyB0aGlzLmNvc3QgPSBuZXcgZmhpci5Nb25leShzb3VyY2UuY29zdCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvc3QgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvbktub3dsZWRnZS5jb3N0JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc291cmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdjb3N0JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlTW9uaXRvcmluZ1Byb2dyYW0gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZU1vbml0b3JpbmdQcm9ncmFtQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBwcm9ncmFtIHVuZGVyIHdoaWNoIHRoZSBtZWRpY2F0aW9uIGlzIG1vbml0b3JlZC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOYW1lIG9mIHRoZSByZXZpZXdpbmcgcHJvZ3JhbS5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1lZGljYXRpb25Lbm93bGVkZ2UubW9uaXRvcmluZ1Byb2dyYW0ubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwcm9ncmFtIHVuZGVyIHdoaWNoIHRoZSBtZWRpY2F0aW9uIGlzIHJldmlld2VkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25Lbm93bGVkZ2VNb25pdG9yaW5nUHJvZ3JhbSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VNb25pdG9yaW5nUHJvZ3JhbSc7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBwcm9ncmFtIHVuZGVyIHdoaWNoIHRoZSBtZWRpY2F0aW9uIGlzIG1vbml0b3JlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOYW1lIG9mIHRoZSByZXZpZXdpbmcgcHJvZ3JhbS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZU1vbml0b3JpbmdQcm9ncmFtIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZU1vbml0b3JpbmdQcm9ncmFtQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19uYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMubmFtZSkgeyB0aGlzLm5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lZGljYXRpb25Lbm93bGVkZ2UubW9uaXRvcmluZ1Byb2dyYW0nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCduYW1lJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzRG9zYWdlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNEb3NhZ2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBkb3NhZ2UgKGZvciBleGFtcGxlLCBwcm9waHlsYXhpcywgbWFpbnRlbmFuY2UsIHRoZXJhcGV1dGljLCBldGMuKS5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBEb3NhZ2UgZm9yIHRoZSBtZWRpY2F0aW9uIGZvciB0aGUgc3BlY2lmaWMgZ3VpZGVsaW5lcy5cclxuICAgKi9cclxuICBkb3NhZ2U6IGZoaXIuRG9zYWdlQXJnc1tdfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEb3NhZ2UgZm9yIHRoZSBtZWRpY2F0aW9uIGZvciB0aGUgc3BlY2lmaWMgZ3VpZGVsaW5lcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzRG9zYWdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0Rvc2FnZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZG9zYWdlIChmb3IgZXhhbXBsZSwgcHJvcGh5bGF4aXMsIG1haW50ZW5hbmNlLCB0aGVyYXBldXRpYywgZXRjLikuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRG9zYWdlIGZvciB0aGUgbWVkaWNhdGlvbiBmb3IgdGhlIHNwZWNpZmljIGd1aWRlbGluZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRvc2FnZTogZmhpci5Eb3NhZ2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzRG9zYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0Rvc2FnZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rvc2FnZSddKSB7IHRoaXMuZG9zYWdlID0gc291cmNlLmRvc2FnZS5tYXAoKHgpID0+IG5ldyBmaGlyLkRvc2FnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvc2FnZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMuZG9zYWdlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSQSgnZG9zYWdlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzUGF0aWVudENoYXJhY3RlcmlzdGljcyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzUGF0aWVudENoYXJhY3RlcmlzdGljc0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljIGNoYXJhY3RlcmlzdGljIHRoYXQgaXMgcmVsZXZhbnQgdG8gdGhlIGFkbWluaXN0cmF0aW9uIGd1aWRlbGluZSAoZS5nLiBoZWlnaHQsIHdlaWdodCwgZ2VuZGVyKS5cclxuICAgKi9cclxuICBjaGFyYWN0ZXJpc3RpYz86IGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljIGNoYXJhY3RlcmlzdGljIHRoYXQgaXMgcmVsZXZhbnQgdG8gdGhlIGFkbWluaXN0cmF0aW9uIGd1aWRlbGluZSAoZS5nLiBoZWlnaHQsIHdlaWdodCwgZ2VuZGVyKS5cclxuICAgKi9cclxuICBjaGFyYWN0ZXJpc3RpY0NvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWMgY2hhcmFjdGVyaXN0aWMgdGhhdCBpcyByZWxldmFudCB0byB0aGUgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lIChlLmcuIGhlaWdodCwgd2VpZ2h0LCBnZW5kZXIpLlxyXG4gICAqL1xyXG4gIGNoYXJhY3RlcmlzdGljUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIGNoYXJhY3RlcmlzdGljIChlLmcuIGhlaWdodCwgd2VpZ2h0LCBnZW5kZXIsIGV0Yy4pLlxyXG4gICAqL1xyXG4gIHZhbHVlPzogZmhpci5GaGlyU3RyaW5nW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMucGF0aWVudENoYXJhY3RlcmlzdGljcy52YWx1ZVxyXG4gICAqL1xyXG4gIF92YWx1ZT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGFyYWN0ZXJpc3RpY3Mgb2YgdGhlIHBhdGllbnQgdGhhdCBhcmUgcmVsZXZhbnQgdG8gdGhlIGFkbWluaXN0cmF0aW9uIGd1aWRlbGluZXMgKGZvciBleGFtcGxlLCBoZWlnaHQsIHdlaWdodCwgZ2VuZGVyLCBldGMuKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzUGF0aWVudENoYXJhY3RlcmlzdGljcyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzJztcclxuICAvKipcclxuICAgKiBTcGVjaWZpYyBjaGFyYWN0ZXJpc3RpYyB0aGF0IGlzIHJlbGV2YW50IHRvIHRoZSBhZG1pbmlzdHJhdGlvbiBndWlkZWxpbmUgKGUuZy4gaGVpZ2h0LCB3ZWlnaHQsIGdlbmRlcikuXHJcbiAgICovXHJcbiAgcHVibGljIGNoYXJhY3RlcmlzdGljOiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5RdWFudGl0eSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25Lbm93bGVkZ2UuYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzLnBhdGllbnRDaGFyYWN0ZXJpc3RpY3MuY2hhcmFjdGVyaXN0aWNbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfY2hhcmFjdGVyaXN0aWNJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgY2hhcmFjdGVyaXN0aWMgKGUuZy4gaGVpZ2h0LCB3ZWlnaHQsIGdlbmRlciwgZXRjLikuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzUGF0aWVudENoYXJhY3RlcmlzdGljcyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NoYXJhY3RlcmlzdGljJ10pIHsgdGhpcy5jaGFyYWN0ZXJpc3RpYyA9IHNvdXJjZS5jaGFyYWN0ZXJpc3RpYzsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydjaGFyYWN0ZXJpc3RpY0NvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuY2hhcmFjdGVyaXN0aWMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNoYXJhY3RlcmlzdGljQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydjaGFyYWN0ZXJpc3RpY1F1YW50aXR5J10pIHsgdGhpcy5jaGFyYWN0ZXJpc3RpYyA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5jaGFyYWN0ZXJpc3RpY1F1YW50aXR5KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2hhcmFjdGVyaXN0aWMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBzb3VyY2UudmFsdWUubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsdWUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZhbHVlJ10pIHtcclxuICAgICAgc291cmNlLl92YWx1ZS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLnZhbHVlW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMudmFsdWUucHVzaChuZXcgZmhpci5GaGlyU3RyaW5nKHggYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMucGF0aWVudENoYXJhY3RlcmlzdGljcycgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2NoYXJhY3RlcmlzdGljJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd2YWx1ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogRG9zYWdlIGZvciB0aGUgbWVkaWNhdGlvbiBmb3IgdGhlIHNwZWNpZmljIGd1aWRlbGluZXMuXHJcbiAgICovXHJcbiAgZG9zYWdlPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzRG9zYWdlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0aW9uIGZvciB1c2UgdGhhdCBhcHBseSB0byB0aGUgc3BlY2lmaWMgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lcy5cclxuICAgKi9cclxuICBpbmRpY2F0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRpb24gZm9yIHVzZSB0aGF0IGFwcGx5IHRvIHRoZSBzcGVjaWZpYyBhZG1pbmlzdHJhdGlvbiBndWlkZWxpbmVzLlxyXG4gICAqL1xyXG4gIGluZGljYXRpb25Db2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRpb24gZm9yIHVzZSB0aGF0IGFwcGx5IHRvIHRoZSBzcGVjaWZpYyBhZG1pbmlzdHJhdGlvbiBndWlkZWxpbmVzLlxyXG4gICAqL1xyXG4gIGluZGljYXRpb25SZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENoYXJhY3RlcmlzdGljcyBvZiB0aGUgcGF0aWVudCB0aGF0IGFyZSByZWxldmFudCB0byB0aGUgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lcyAoZm9yIGV4YW1wbGUsIGhlaWdodCwgd2VpZ2h0LCBnZW5kZXIsIGV0Yy4pLlxyXG4gICAqL1xyXG4gIHBhdGllbnRDaGFyYWN0ZXJpc3RpY3M/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEd1aWRlbGluZXMgZm9yIHRoZSBhZG1pbmlzdHJhdGlvbiBvZiB0aGUgbWVkaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcyc7XHJcbiAgLyoqXHJcbiAgICogRG9zYWdlIGZvciB0aGUgbWVkaWNhdGlvbiBmb3IgdGhlIHNwZWNpZmljIGd1aWRlbGluZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRvc2FnZTogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzRG9zYWdlW107XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGlvbiBmb3IgdXNlIHRoYXQgYXBwbHkgdG8gdGhlIHNwZWNpZmljIGFkbWluaXN0cmF0aW9uIGd1aWRlbGluZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGluZGljYXRpb24/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25Lbm93bGVkZ2UuYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzLmluZGljYXRpb25beF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfaW5kaWNhdGlvbklzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIENoYXJhY3RlcmlzdGljcyBvZiB0aGUgcGF0aWVudCB0aGF0IGFyZSByZWxldmFudCB0byB0aGUgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lcyAoZm9yIGV4YW1wbGUsIGhlaWdodCwgd2VpZ2h0LCBnZW5kZXIsIGV0Yy4pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50Q2hhcmFjdGVyaXN0aWNzOiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZG9zYWdlJ10pIHsgdGhpcy5kb3NhZ2UgPSBzb3VyY2UuZG9zYWdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0Rvc2FnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvc2FnZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbmRpY2F0aW9uJ10pIHsgdGhpcy5pbmRpY2F0aW9uID0gc291cmNlLmluZGljYXRpb247IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnaW5kaWNhdGlvbkNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuaW5kaWNhdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuaW5kaWNhdGlvbkNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnaW5kaWNhdGlvblJlZmVyZW5jZSddKSB7IHRoaXMuaW5kaWNhdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuaW5kaWNhdGlvblJlZmVyZW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnRDaGFyYWN0ZXJpc3RpY3MnXSkgeyB0aGlzLnBhdGllbnRDaGFyYWN0ZXJpc3RpY3MgPSBzb3VyY2UucGF0aWVudENoYXJhY3RlcmlzdGljcy5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGF0aWVudENoYXJhY3RlcmlzdGljcyA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdkb3NhZ2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2luZGljYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BhdGllbnRDaGFyYWN0ZXJpc3RpY3MnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VNZWRpY2luZUNsYXNzaWZpY2F0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VNZWRpY2luZUNsYXNzaWZpY2F0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgY2F0ZWdvcnkgZm9yIHRoZSBtZWRpY2F0aW9uIChmb3IgZXhhbXBsZSwgdGhlcmFwZXV0aWMgY2xhc3NpZmljYXRpb24sIHRoZXJhcGV1dGljIHN1Yi1jbGFzc2lmaWNhdGlvbikuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWMgY2F0ZWdvcnkgYXNzaWduZWQgdG8gdGhlIG1lZGljYXRpb24gKGUuZy4gYW50aS1pbmZlY3RpdmUsIGFudGktaHlwZXJ0ZW5zaXZlLCBhbnRpYmlvdGljLCBldGMuKS5cclxuICAgKi9cclxuICBjbGFzc2lmaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENhdGVnb3JpemF0aW9uIG9mIHRoZSBtZWRpY2F0aW9uIHdpdGhpbiBhIGZvcm11bGFyeSBvciBjbGFzc2lmaWNhdGlvbiBzeXN0ZW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZU1lZGljaW5lQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlTWVkaWNpbmVDbGFzc2lmaWNhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgY2F0ZWdvcnkgZm9yIHRoZSBtZWRpY2F0aW9uIChmb3IgZXhhbXBsZSwgdGhlcmFwZXV0aWMgY2xhc3NpZmljYXRpb24sIHRoZXJhcGV1dGljIHN1Yi1jbGFzc2lmaWNhdGlvbikuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWMgY2F0ZWdvcnkgYXNzaWduZWQgdG8gdGhlIG1lZGljYXRpb24gKGUuZy4gYW50aS1pbmZlY3RpdmUsIGFudGktaHlwZXJ0ZW5zaXZlLCBhbnRpYmlvdGljLCBldGMuKS5cclxuICAgKi9cclxuICBwdWJsaWMgY2xhc3NpZmljYXRpb246IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZU1lZGljaW5lQ2xhc3NpZmljYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlTWVkaWNpbmVDbGFzc2lmaWNhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NsYXNzaWZpY2F0aW9uJ10pIHsgdGhpcy5jbGFzc2lmaWNhdGlvbiA9IHNvdXJjZS5jbGFzc2lmaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNsYXNzaWZpY2F0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWRpY2F0aW9uS25vd2xlZGdlLm1lZGljaW5lQ2xhc3NpZmljYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjbGFzc2lmaWNhdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbktub3dsZWRnZVBhY2thZ2luZyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlUGFja2FnaW5nQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgZGVmaW5lcyB0aGUgc3BlY2lmaWMgdHlwZSBvZiBwYWNrYWdpbmcgdGhhdCB0aGUgbWVkaWNhdGlvbiBjYW4gYmUgZm91bmQgaW4gKGUuZy4gYmxpc3RlciBzbGVldmUsIHR1YmUsIGJvdHRsZSkuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiBwcm9kdWN0IHVuaXRzIHRoZSBwYWNrYWdlIHdvdWxkIGNvbnRhaW4gaWYgZnVsbHkgbG9hZGVkLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gdGhhdCBvbmx5IGFwcGxpZXMgdG8gcGFja2FnZXMgKG5vdCBwcm9kdWN0cykuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZVBhY2thZ2luZyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VQYWNrYWdpbmcnO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSB0aGF0IGRlZmluZXMgdGhlIHNwZWNpZmljIHR5cGUgb2YgcGFja2FnaW5nIHRoYXQgdGhlIG1lZGljYXRpb24gY2FuIGJlIGZvdW5kIGluIChlLmcuIGJsaXN0ZXIgc2xlZXZlLCB0dWJlLCBib3R0bGUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgcHJvZHVjdCB1bml0cyB0aGUgcGFja2FnZSB3b3VsZCBjb250YWluIGlmIGZ1bGx5IGxvYWRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlUGFja2FnaW5nIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZVBhY2thZ2luZ0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lZGljYXRpb25Lbm93bGVkZ2UucGFja2FnaW5nJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VEcnVnQ2hhcmFjdGVyaXN0aWMgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZURydWdDaGFyYWN0ZXJpc3RpY0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBzcGVjaWZ5aW5nIHdoaWNoIGNoYXJhY3RlcmlzdGljIG9mIHRoZSBtZWRpY2luZSBpcyBiZWluZyBkZXNjcmliZWQgKGZvciBleGFtcGxlLCBjb2xvdXIsIHNoYXBlLCBpbXByaW50KS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGVzY3JpcHRpb24gc2hvdWxkIGJlIHByb3ZpZGVkIGFzIGEgQ29kZWFibGVDb25jZXB0LCBTaW1wbGVRdWFudGl0eSBvciBhbiBpbWFnZS4gIFRoZSBkZXNjcmlwdGlvbiBjYW4gYmUgYSBzdHJpbmcgb25seSB3aGVuIHRoZXNlIG90aGVycyBhcmUgbm90IGF2YWlsYWJsZS5cclxuICAgKi9cclxuICB2YWx1ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuRmhpclN0cmluZ3xmaGlyLlF1YW50aXR5fGZoaXIuRmhpckJhc2U2NEJpbmFyeXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlc2NyaXB0aW9uIHNob3VsZCBiZSBwcm92aWRlZCBhcyBhIENvZGVhYmxlQ29uY2VwdCwgU2ltcGxlUXVhbnRpdHkgb3IgYW4gaW1hZ2UuICBUaGUgZGVzY3JpcHRpb24gY2FuIGJlIGEgc3RyaW5nIG9ubHkgd2hlbiB0aGVzZSBvdGhlcnMgYXJlIG5vdCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgdmFsdWVDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBDb2RlYWJsZUNvbmNlcHQsIFNpbXBsZVF1YW50aXR5IG9yIGFuIGltYWdlLiAgVGhlIGRlc2NyaXB0aW9uIGNhbiBiZSBhIHN0cmluZyBvbmx5IHdoZW4gdGhlc2Ugb3RoZXJzIGFyZSBub3QgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHZhbHVlU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlc2NyaXB0aW9uIHNob3VsZCBiZSBwcm92aWRlZCBhcyBhIENvZGVhYmxlQ29uY2VwdCwgU2ltcGxlUXVhbnRpdHkgb3IgYW4gaW1hZ2UuICBUaGUgZGVzY3JpcHRpb24gY2FuIGJlIGEgc3RyaW5nIG9ubHkgd2hlbiB0aGVzZSBvdGhlcnMgYXJlIG5vdCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgdmFsdWVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGVzY3JpcHRpb24gc2hvdWxkIGJlIHByb3ZpZGVkIGFzIGEgQ29kZWFibGVDb25jZXB0LCBTaW1wbGVRdWFudGl0eSBvciBhbiBpbWFnZS4gIFRoZSBkZXNjcmlwdGlvbiBjYW4gYmUgYSBzdHJpbmcgb25seSB3aGVuIHRoZXNlIG90aGVycyBhcmUgbm90IGF2YWlsYWJsZS5cclxuICAgKi9cclxuICB2YWx1ZUJhc2U2NEJpbmFyeT86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXxzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU3BlY2lmaWVzIGRlc2NyaXB0aXZlIHByb3BlcnRpZXMgb2YgdGhlIG1lZGljaW5lLCBzdWNoIGFzIGNvbG9yLCBzaGFwZSwgaW1wcmludHMsIGV0Yy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlRHJ1Z0NoYXJhY3RlcmlzdGljIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZURydWdDaGFyYWN0ZXJpc3RpYyc7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHNwZWNpZnlpbmcgd2hpY2ggY2hhcmFjdGVyaXN0aWMgb2YgdGhlIG1lZGljaW5lIGlzIGJlaW5nIGRlc2NyaWJlZCAoZm9yIGV4YW1wbGUsIGNvbG91ciwgc2hhcGUsIGltcHJpbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBDb2RlYWJsZUNvbmNlcHQsIFNpbXBsZVF1YW50aXR5IG9yIGFuIGltYWdlLiAgVGhlIGRlc2NyaXB0aW9uIGNhbiBiZSBhIHN0cmluZyBvbmx5IHdoZW4gdGhlc2Ugb3RoZXJzIGFyZSBub3QgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZT86IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5RdWFudGl0eXxmaGlyLkZoaXJCYXNlNjRCaW5hcnkpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25Lbm93bGVkZ2UuZHJ1Z0NoYXJhY3RlcmlzdGljLnZhbHVlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3ZhbHVlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZURydWdDaGFyYWN0ZXJpc3RpYyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VEcnVnQ2hhcmFjdGVyaXN0aWNBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbHVlQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVN0cmluZyddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlU3RyaW5nfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVRdWFudGl0eSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UudmFsdWVRdWFudGl0eSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVCYXNlNjRCaW5hcnknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeSh7dmFsdWU6IHNvdXJjZS52YWx1ZUJhc2U2NEJpbmFyeX0pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvbktub3dsZWRnZS5kcnVnQ2hhcmFjdGVyaXN0aWMnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd2YWx1ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTdWJzdGl0dXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTdWJzdGl0dXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgdGhlIHR5cGUgb2Ygc3Vic3RpdHV0aW9uIGFsbG93ZWQuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIGlmIHJlZ3VsYXRpb24gYWxsb3dzIGZvciBjaGFuZ2VzIGluIHRoZSBtZWRpY2F0aW9uIHdoZW4gZGlzcGVuc2luZy5cclxuICAgKi9cclxuICBhbGxvd2VkOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2F0aW9uS25vd2xlZGdlLnJlZ3VsYXRvcnkuc3Vic3RpdHV0aW9uLmFsbG93ZWRcclxuICAgKi9cclxuICBfYWxsb3dlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTcGVjaWZpZXMgaWYgY2hhbmdlcyBhcmUgYWxsb3dlZCB3aGVuIGRpc3BlbnNpbmcgYSBtZWRpY2F0aW9uIGZyb20gYSByZWd1bGF0b3J5IHBlcnNwZWN0aXZlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U3Vic3RpdHV0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTdWJzdGl0dXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyB0aGUgdHlwZSBvZiBzdWJzdGl0dXRpb24gYWxsb3dlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgaWYgcmVndWxhdGlvbiBhbGxvd3MgZm9yIGNoYW5nZXMgaW4gdGhlIG1lZGljYXRpb24gd2hlbiBkaXNwZW5zaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbGxvd2VkOiBmaGlyLkZoaXJCb29sZWFufG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTdWJzdGl0dXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVN1YnN0aXR1dGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FsbG93ZWQnXSkgeyB0aGlzLmFsbG93ZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5hbGxvd2VkfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFsbG93ZWQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWxsb3dlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFsbG93ZWQpIHsgdGhpcy5hbGxvd2VkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FsbG93ZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hbGxvd2VkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9hbGxvd2VkIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lZGljYXRpb25Lbm93bGVkZ2UucmVndWxhdG9yeS5zdWJzdGl0dXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdhbGxvd2VkJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVNjaGVkdWxlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U2NoZWR1bGVBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgdGhlIHNwZWNpZmljIGRydWcgc2NoZWR1bGUuXHJcbiAgICovXHJcbiAgc2NoZWR1bGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogU3BlY2lmaWVzIHRoZSBzY2hlZHVsZSBvZiBhIG1lZGljYXRpb24gaW4ganVyaXNkaWN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U2NoZWR1bGUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVNjaGVkdWxlJztcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgdGhlIHNwZWNpZmljIGRydWcgc2NoZWR1bGUuXHJcbiAgICovXHJcbiAgcHVibGljIHNjaGVkdWxlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U2NoZWR1bGUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVNjaGVkdWxlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NjaGVkdWxlJ10pIHsgdGhpcy5zY2hlZHVsZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc2NoZWR1bGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zY2hlZHVsZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWRpY2F0aW9uS25vd2xlZGdlLnJlZ3VsYXRvcnkuc2NoZWR1bGUnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzY2hlZHVsZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlNYXhEaXNwZW5zZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeU1heERpc3BlbnNlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZC5cclxuICAgKi9cclxuICBxdWFudGl0eTogZmhpci5RdWFudGl0eUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIHRoYXQgYXBwbGllcyB0byB0aGUgbWF4aW11bSBudW1iZXIgb2YgdW5pdHMuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5EdXJhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZCBpbiBhIHBlcmlvZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeU1heERpc3BlbnNlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlNYXhEaXNwZW5zZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcXVhbnRpdHk6IGZoaXIuUXVhbnRpdHl8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIHRoYXQgYXBwbGllcyB0byB0aGUgbWF4aW11bSBudW1iZXIgb2YgdW5pdHMuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IGZoaXIuRHVyYXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5TWF4RGlzcGVuc2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeU1heERpc3BlbnNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10pIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5xdWFudGl0eSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnF1YW50aXR5ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5EdXJhdGlvbihzb3VyY2UucGVyaW9kKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lZGljYXRpb25Lbm93bGVkZ2UucmVndWxhdG9yeS5tYXhEaXNwZW5zZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3F1YW50aXR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwZXJpb2QnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGF1dGhvcml0eSB0aGF0IGlzIHNwZWNpZnlpbmcgdGhlIHJlZ3VsYXRpb25zLlxyXG4gICAqL1xyXG4gIHJlZ3VsYXRvcnlBdXRob3JpdHk6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyBpZiBjaGFuZ2VzIGFyZSBhbGxvd2VkIHdoZW4gZGlzcGVuc2luZyBhIG1lZGljYXRpb24gZnJvbSBhIHJlZ3VsYXRvcnkgcGVyc3BlY3RpdmUuXHJcbiAgICovXHJcbiAgc3Vic3RpdHV0aW9uPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVN1YnN0aXR1dGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIHRoZSBzY2hlZHVsZSBvZiBhIG1lZGljYXRpb24gaW4ganVyaXNkaWN0aW9uLlxyXG4gICAqL1xyXG4gIHNjaGVkdWxlPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVNjaGVkdWxlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdW5pdHMgb2YgdGhlIG1lZGljYXRpb24gdGhhdCBjYW4gYmUgZGlzcGVuc2VkIGluIGEgcGVyaW9kLlxyXG4gICAqL1xyXG4gIG1heERpc3BlbnNlPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeU1heERpc3BlbnNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWd1bGF0b3J5IGluZm9ybWF0aW9uIGFib3V0IGEgbWVkaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5JztcclxuICAvKipcclxuICAgKiBUaGUgYXV0aG9yaXR5IHRoYXQgaXMgc3BlY2lmeWluZyB0aGUgcmVndWxhdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZ3VsYXRvcnlBdXRob3JpdHk6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIGlmIGNoYW5nZXMgYXJlIGFsbG93ZWQgd2hlbiBkaXNwZW5zaW5nIGEgbWVkaWNhdGlvbiBmcm9tIGEgcmVndWxhdG9yeSBwZXJzcGVjdGl2ZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3Vic3RpdHV0aW9uOiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U3Vic3RpdHV0aW9uW107XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIHRoZSBzY2hlZHVsZSBvZiBhIG1lZGljYXRpb24gaW4ganVyaXNkaWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzY2hlZHVsZTogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVNjaGVkdWxlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZCBpbiBhIHBlcmlvZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4RGlzcGVuc2U/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5TWF4RGlzcGVuc2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncmVndWxhdG9yeUF1dGhvcml0eSddKSB7IHRoaXMucmVndWxhdG9yeUF1dGhvcml0eSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVndWxhdG9yeUF1dGhvcml0eSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZ3VsYXRvcnlBdXRob3JpdHkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJzdGl0dXRpb24nXSkgeyB0aGlzLnN1YnN0aXR1dGlvbiA9IHNvdXJjZS5zdWJzdGl0dXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVN1YnN0aXR1dGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1YnN0aXR1dGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzY2hlZHVsZSddKSB7IHRoaXMuc2NoZWR1bGUgPSBzb3VyY2Uuc2NoZWR1bGUubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVNjaGVkdWxlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2NoZWR1bGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWF4RGlzcGVuc2UnXSkgeyB0aGlzLm1heERpc3BlbnNlID0gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlNYXhEaXNwZW5zZShzb3VyY2UubWF4RGlzcGVuc2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvbktub3dsZWRnZS5yZWd1bGF0b3J5JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncmVndWxhdG9yeUF1dGhvcml0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3Vic3RpdHV0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzY2hlZHVsZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF4RGlzcGVuc2UnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VLaW5ldGljcyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlS2luZXRpY3NBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgZHJ1ZyBjb25jZW50cmF0aW9uIG1lYXN1cmVkIGF0IGNlcnRhaW4gZGlzY3JldGUgcG9pbnRzIGluIHRpbWUuXHJcbiAgICovXHJcbiAgYXJlYVVuZGVyQ3VydmU/OiBmaGlyLlF1YW50aXR5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWVkaWFuIGxldGhhbCBkb3NlIG9mIGEgZHJ1Zy5cclxuICAgKi9cclxuICBsZXRoYWxEb3NlNTA/OiBmaGlyLlF1YW50aXR5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSByZXF1aXJlZCBmb3IgYW55IHNwZWNpZmllZCBwcm9wZXJ0eSAoZS5nLiwgdGhlIGNvbmNlbnRyYXRpb24gb2YgYSBzdWJzdGFuY2UgaW4gdGhlIGJvZHkpIHRvIGRlY3JlYXNlIGJ5IGhhbGYuXHJcbiAgICovXHJcbiAgaGFsZkxpZmVQZXJpb2Q/OiBmaGlyLkR1cmF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgdGltZSBjb3Vyc2Ugb2YgZHJ1ZyBhYnNvcnB0aW9uLCBkaXN0cmlidXRpb24sIG1ldGFib2xpc20gYW5kIGV4Y3JldGlvbiBvZiBhIG1lZGljYXRpb24gZnJvbSB0aGUgYm9keS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlS2luZXRpY3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlS2luZXRpY3MnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkcnVnIGNvbmNlbnRyYXRpb24gbWVhc3VyZWQgYXQgY2VydGFpbiBkaXNjcmV0ZSBwb2ludHMgaW4gdGltZS5cclxuICAgKi9cclxuICBwdWJsaWMgYXJlYVVuZGVyQ3VydmU6IGZoaXIuUXVhbnRpdHlbXTtcclxuICAvKipcclxuICAgKiBUaGUgbWVkaWFuIGxldGhhbCBkb3NlIG9mIGEgZHJ1Zy5cclxuICAgKi9cclxuICBwdWJsaWMgbGV0aGFsRG9zZTUwOiBmaGlyLlF1YW50aXR5W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgcmVxdWlyZWQgZm9yIGFueSBzcGVjaWZpZWQgcHJvcGVydHkgKGUuZy4sIHRoZSBjb25jZW50cmF0aW9uIG9mIGEgc3Vic3RhbmNlIGluIHRoZSBib2R5KSB0byBkZWNyZWFzZSBieSBoYWxmLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoYWxmTGlmZVBlcmlvZD86IGZoaXIuRHVyYXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VLaW5ldGljcyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VLaW5ldGljc0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhcmVhVW5kZXJDdXJ2ZSddKSB7IHRoaXMuYXJlYVVuZGVyQ3VydmUgPSBzb3VyY2UuYXJlYVVuZGVyQ3VydmUubWFwKCh4KSA9PiBuZXcgZmhpci5RdWFudGl0eSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFyZWFVbmRlckN1cnZlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2xldGhhbERvc2U1MCddKSB7IHRoaXMubGV0aGFsRG9zZTUwID0gc291cmNlLmxldGhhbERvc2U1MC5tYXAoKHgpID0+IG5ldyBmaGlyLlF1YW50aXR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubGV0aGFsRG9zZTUwID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2hhbGZMaWZlUGVyaW9kJ10pIHsgdGhpcy5oYWxmTGlmZVBlcmlvZCA9IG5ldyBmaGlyLkR1cmF0aW9uKHNvdXJjZS5oYWxmTGlmZVBlcmlvZCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWRpY2F0aW9uS25vd2xlZGdlLmtpbmV0aWNzJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYXJlYVVuZGVyQ3VydmUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2xldGhhbERvc2U1MCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaGFsZkxpZmVQZXJpb2QnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIk1lZGljYXRpb25Lbm93bGVkZ2VcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVwZW5kaW5nIG9uIHRoZSBjb250ZXh0IG9mIHVzZSwgdGhlIGNvZGUgdGhhdCB3YXMgYWN0dWFsbHkgc2VsZWN0ZWQgYnkgdGhlIHVzZXIgKHByZXNjcmliZXIsIGRpc3BlbnNlciwgZXRjLikgd2lsbCBoYXZlIHRoZSBjb2RpbmcudXNlclNlbGVjdGVkIHNldCB0byB0cnVlLiAgQXMgZGVzY3JpYmVkIGluIHRoZSBjb2RpbmcgZGF0YXR5cGU6IFwiQSBjb2RpbmcgbWF5IGJlIG1hcmtlZCBhcyBhIFwidXNlclNlbGVjdGVkXCIgaWYgYSB1c2VyIHNlbGVjdGVkIHRoZSBwYXJ0aWN1bGFyIGNvZGVkIHZhbHVlIGluIGEgdXNlciBpbnRlcmZhY2UgKGUuZy4gdGhlIHVzZXIgc2VsZWN0cyBhbiBpdGVtIGluIGEgcGljay1saXN0KS4gSWYgYSB1c2VyIHNlbGVjdGVkIGNvZGluZyBleGlzdHMsIGl0IGlzIHRoZSBwcmVmZXJyZWQgY2hvaWNlIGZvciBwZXJmb3JtaW5nIHRyYW5zbGF0aW9ucyBldGMuIE90aGVyIGNvZGVzIGNhbiBvbmx5IGJlIGxpdGVyYWwgdHJhbnNsYXRpb25zIHRvIGFsdGVybmF0aXZlIGNvZGUgc3lzdGVtcywgb3IgY29kZXMgYXQgYSBsb3dlciBsZXZlbCBvZiBncmFudWxhcml0eSAoZS5nLiBhIGdlbmVyaWMgY29kZSBmb3IgYSB2ZW5kb3Itc3BlY2lmaWMgcHJpbWFyeSBvbmUpLlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgc3RhdHVzIGlzIGludGVuZGVkIHRvIGlkZW50aWZ5IGlmIHRoZSBtZWRpY2F0aW9uIGluIGEgbG9jYWwgc3lzdGVtIGlzIGluIGFjdGl2ZSB1c2Ugd2l0aGluIGEgZHJ1ZyBkYXRhYmFzZSBvciBpbnZlbnRvcnkuICBGb3IgZXhhbXBsZSwgYSBwaGFybWFjeSBzeXN0ZW0gbWF5IGNyZWF0ZSBhIG5ldyBkcnVnIGZpbGUgcmVjb3JkIGZvciBhIGNvbXBvdW5kZWQgcHJvZHVjdCBcIkFCQyBIb3NwaXRhbCBTcGVjaWFsIENyZWFtXCIgd2l0aCBhbiBhY3RpdmUgc3RhdHVzLiAgQXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLCBpdCBtYXkgYmUgZGV0ZXJtaW5lZCB0aGF0IHRoZSBkcnVnIHJlY29yZCB3YXMgY3JlYXRlZCB3aXRoIGFuIGVycm9yIGFuZCB0aGUgc3RhdHVzIGlzIGNoYW5nZWQgdG8gXCJlbnRlcmVkIGluIGVycm9yXCIuICAgVGhpcyBzdGF0dXMgaXMgbm90IGludGVuZGVkIHRvIHNwZWNpZnkgaWYgYSBtZWRpY2F0aW9uIGlzIHBhcnQgb2YgYSBwYXJ0aWN1bGFyIGZvcm11bGFyeS4gIEl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIGRydWcgcmVjb3JkIG1heSBiZSByZWZlcmVuY2VkIGJ5IG11bHRpcGxlIGZvcm11bGFyaWVzIG9yIGNhdGFsb2d1ZXMgYW5kIGVhY2ggb2YgdGhvc2UgZW50cmllcyB3b3VsZCBoYXZlIGEgc2VwYXJhdGUgc3RhdHVzLlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuRmhpckNvZGU8TWVkaWNhdGlvbmtub3dsZWRnZVN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2F0aW9uS25vd2xlZGdlLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgZGV0YWlscyBvZiB0aGUgbWFudWZhY3R1cmVyIG9mIHRoZSBtZWRpY2F0aW9uIHByb2R1Y3QuICBUaGlzIGlzIG5vdCBpbnRlbmRlZCB0byByZXByZXNlbnQgdGhlIGRpc3RyaWJ1dG9yIG9mIGEgbWVkaWNhdGlvbiBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIG1hbnVmYWN0dXJlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiBNZWRpY2F0aW9uIGlzIHJlZmVyZW5jZWQgZnJvbSBNZWRpY2F0aW9uUmVxdWVzdCwgdGhpcyBpcyB0aGUgb3JkZXJlZCBmb3JtLiAgV2hlbiBNZWRpY2F0aW9uIGlzIHJlZmVyZW5jZWQgd2l0aGluIE1lZGljYXRpb25EaXNwZW5zZSwgdGhpcyBpcyB0aGUgZGlzcGVuc2VkIGZvcm0uICBXaGVuIE1lZGljYXRpb24gaXMgcmVmZXJlbmNlZCB3aXRoaW4gTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLCB0aGlzIGlzIGFkbWluaXN0ZXJlZCBmb3JtLlxyXG4gICAqL1xyXG4gIGRvc2VGb3JtPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIHRoZSBxdWFudGl0eSBvZiBtZWRpY2F0aW9uIGluIGEgcGFja2FnZS4gIFRvIHNwZWNpZnkgdGhlIHN0cmVuZ3RoIG9mIHRoZSBtZWRpY2F0aW9uLCB0aGUgSW5ncmVkaWVudC5zdHJlbmd0aCBhdHRyaWJ1dGUgaXMgdXNlZC5cclxuICAgKi9cclxuICBhbW91bnQ/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBuYW1lcyBmb3IgYSBtZWRpY2F0aW9uLCBmb3IgZXhhbXBsZSwgdGhlIG5hbWUocykgZ2l2ZW4gdG8gYSBtZWRpY2F0aW9uIGluIGRpZmZlcmVudCBjb3VudHJpZXMuICBGb3IgZXhhbXBsZSwgYWNldGFtaW5vcGhlbiBhbmQgcGFyYWNldGFtb2wgb3Igc2FsYnV0YW1vbCBhbmQgYWxidXRlcm9sLlxyXG4gICAqL1xyXG4gIHN5bm9ueW0/OiBmaGlyLkZoaXJTdHJpbmdbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2F0aW9uS25vd2xlZGdlLnN5bm9ueW1cclxuICAgKi9cclxuICBfc3lub255bT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBvciByZWxhdGVkIGtub3dsZWRnZSBhYm91dCBhIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2U/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBvciByZWxhdGVkIG1lZGljYXRpb25zLiAgRm9yIGV4YW1wbGUsIGlmIHRoZSBtZWRpY2F0aW9uIGlzIGEgYnJhbmRlZCBwcm9kdWN0IChlLmcuIENyZXN0b3IpLCB0aGlzIGlzIHRoZSBUaGVyYXBldXRpYyBNb2VpdHkgKGUuZy4gUm9zdXZhc3RhdGluKSBvciBpZiB0aGlzIGlzIGEgZ2VuZXJpYyBtZWRpY2F0aW9uIChlLmcuIFJvc3V2YXN0YXRpbiksIHRoaXMgd291bGQgbGluayB0byBhIGJyYW5kZWQgcHJvZHVjdCAoZS5nLiBDcmVzdG9yKS5cclxuICAgKi9cclxuICBhc3NvY2lhdGVkTWVkaWNhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYXRlZ29yeSBvZiB0aGUgbWVkaWNhdGlvbiBvciBwcm9kdWN0IChlLmcuIGJyYW5kZWQgcHJvZHVjdCwgdGhlcmFwZXV0aWMgbW9laXR5LCBnZW5lcmljIHByb2R1Y3QsIGlubm92YXRvciBwcm9kdWN0LCBldGMuKS5cclxuICAgKi9cclxuICBwcm9kdWN0VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gYWJvdXQgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgbW9ub2dyYXBoPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlTW9ub2dyYXBoQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIGEgcGFydGljdWxhciBjb25zdGl0dWVudCBvZiBpbnRlcmVzdCBpbiB0aGUgcHJvZHVjdC5cclxuICAgKi9cclxuICBpbmdyZWRpZW50PzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluc3RydWN0aW9ucyBmb3IgcHJlcGFyaW5nIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHByZXBhcmF0aW9uSW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2F0aW9uS25vd2xlZGdlLnByZXBhcmF0aW9uSW5zdHJ1Y3Rpb25cclxuICAgKi9cclxuICBfcHJlcGFyYXRpb25JbnN0cnVjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGludGVuZGVkIG9yIGFwcHJvdmVkIHJvdXRlIG9mIGFkbWluaXN0cmF0aW9uLlxyXG4gICAqL1xyXG4gIGludGVuZGVkUm91dGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaWNlIG9mIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGNvc3Q/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VDb3N0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZ3JhbSB1bmRlciB3aGljaCB0aGUgbWVkaWNhdGlvbiBpcyByZXZpZXdlZC5cclxuICAgKi9cclxuICBtb25pdG9yaW5nUHJvZ3JhbT86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZU1vbml0b3JpbmdQcm9ncmFtQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBHdWlkZWxpbmVzIGZvciB0aGUgYWRtaW5pc3RyYXRpb24gb2YgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYXRlZ29yaXphdGlvbiBvZiB0aGUgbWVkaWNhdGlvbiB3aXRoaW4gYSBmb3JtdWxhcnkgb3IgY2xhc3NpZmljYXRpb24gc3lzdGVtLlxyXG4gICAqL1xyXG4gIG1lZGljaW5lQ2xhc3NpZmljYXRpb24/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNZWRpY2luZUNsYXNzaWZpY2F0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiB0aGF0IG9ubHkgYXBwbGllcyB0byBwYWNrYWdlcyAobm90IHByb2R1Y3RzKS5cclxuICAgKi9cclxuICBwYWNrYWdpbmc/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VQYWNrYWdpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgZGVzY3JpcHRpdmUgcHJvcGVydGllcyBvZiB0aGUgbWVkaWNpbmUsIHN1Y2ggYXMgY29sb3IsIHNoYXBlLCBpbXByaW50cywgZXRjLlxyXG4gICAqL1xyXG4gIGRydWdDaGFyYWN0ZXJpc3RpYz86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZURydWdDaGFyYWN0ZXJpc3RpY0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUG90ZW50aWFsIGNsaW5pY2FsIGlzc3VlIHdpdGggb3IgYmV0d2VlbiBtZWRpY2F0aW9uKHMpIChmb3IgZXhhbXBsZSwgZHJ1Zy1kcnVnIGludGVyYWN0aW9uLCBkcnVnLWRpc2Vhc2UgY29udHJhaW5kaWNhdGlvbiwgZHJ1Zy1hbGxlcmd5IGludGVyYWN0aW9uLCBldGMuKS5cclxuICAgKi9cclxuICBjb250cmFpbmRpY2F0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlZ3VsYXRvcnkgaW5mb3JtYXRpb24gYWJvdXQgYSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHJlZ3VsYXRvcnk/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBjb3Vyc2Ugb2YgZHJ1ZyBhYnNvcnB0aW9uLCBkaXN0cmlidXRpb24sIG1ldGFib2xpc20gYW5kIGV4Y3JldGlvbiBvZiBhIG1lZGljYXRpb24gZnJvbSB0aGUgYm9keS5cclxuICAgKi9cclxuICBraW5ldGljcz86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUtpbmV0aWNzQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZm9ybWF0aW9uIGFib3V0IGEgbWVkaWNhdGlvbiB0aGF0IGlzIHVzZWQgdG8gc3VwcG9ydCBrbm93bGVkZ2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZSBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJNZWRpY2F0aW9uS25vd2xlZGdlXCI7XHJcbiAgLyoqXHJcbiAgICogRGVwZW5kaW5nIG9uIHRoZSBjb250ZXh0IG9mIHVzZSwgdGhlIGNvZGUgdGhhdCB3YXMgYWN0dWFsbHkgc2VsZWN0ZWQgYnkgdGhlIHVzZXIgKHByZXNjcmliZXIsIGRpc3BlbnNlciwgZXRjLikgd2lsbCBoYXZlIHRoZSBjb2RpbmcudXNlclNlbGVjdGVkIHNldCB0byB0cnVlLiAgQXMgZGVzY3JpYmVkIGluIHRoZSBjb2RpbmcgZGF0YXR5cGU6IFwiQSBjb2RpbmcgbWF5IGJlIG1hcmtlZCBhcyBhIFwidXNlclNlbGVjdGVkXCIgaWYgYSB1c2VyIHNlbGVjdGVkIHRoZSBwYXJ0aWN1bGFyIGNvZGVkIHZhbHVlIGluIGEgdXNlciBpbnRlcmZhY2UgKGUuZy4gdGhlIHVzZXIgc2VsZWN0cyBhbiBpdGVtIGluIGEgcGljay1saXN0KS4gSWYgYSB1c2VyIHNlbGVjdGVkIGNvZGluZyBleGlzdHMsIGl0IGlzIHRoZSBwcmVmZXJyZWQgY2hvaWNlIGZvciBwZXJmb3JtaW5nIHRyYW5zbGF0aW9ucyBldGMuIE90aGVyIGNvZGVzIGNhbiBvbmx5IGJlIGxpdGVyYWwgdHJhbnNsYXRpb25zIHRvIGFsdGVybmF0aXZlIGNvZGUgc3lzdGVtcywgb3IgY29kZXMgYXQgYSBsb3dlciBsZXZlbCBvZiBncmFudWxhcml0eSAoZS5nLiBhIGdlbmVyaWMgY29kZSBmb3IgYSB2ZW5kb3Itc3BlY2lmaWMgcHJpbWFyeSBvbmUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgc3RhdHVzIGlzIGludGVuZGVkIHRvIGlkZW50aWZ5IGlmIHRoZSBtZWRpY2F0aW9uIGluIGEgbG9jYWwgc3lzdGVtIGlzIGluIGFjdGl2ZSB1c2Ugd2l0aGluIGEgZHJ1ZyBkYXRhYmFzZSBvciBpbnZlbnRvcnkuICBGb3IgZXhhbXBsZSwgYSBwaGFybWFjeSBzeXN0ZW0gbWF5IGNyZWF0ZSBhIG5ldyBkcnVnIGZpbGUgcmVjb3JkIGZvciBhIGNvbXBvdW5kZWQgcHJvZHVjdCBcIkFCQyBIb3NwaXRhbCBTcGVjaWFsIENyZWFtXCIgd2l0aCBhbiBhY3RpdmUgc3RhdHVzLiAgQXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLCBpdCBtYXkgYmUgZGV0ZXJtaW5lZCB0aGF0IHRoZSBkcnVnIHJlY29yZCB3YXMgY3JlYXRlZCB3aXRoIGFuIGVycm9yIGFuZCB0aGUgc3RhdHVzIGlzIGNoYW5nZWQgdG8gXCJlbnRlcmVkIGluIGVycm9yXCIuICAgVGhpcyBzdGF0dXMgaXMgbm90IGludGVuZGVkIHRvIHNwZWNpZnkgaWYgYSBtZWRpY2F0aW9uIGlzIHBhcnQgb2YgYSBwYXJ0aWN1bGFyIGZvcm11bGFyeS4gIEl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIGRydWcgcmVjb3JkIG1heSBiZSByZWZlcmVuY2VkIGJ5IG11bHRpcGxlIGZvcm11bGFyaWVzIG9yIGNhdGFsb2d1ZXMgYW5kIGVhY2ggb2YgdGhvc2UgZW50cmllcyB3b3VsZCBoYXZlIGEgc2VwYXJhdGUgc3RhdHVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPE1lZGljYXRpb25rbm93bGVkZ2VTdGF0dXNDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgZGV0YWlscyBvZiB0aGUgbWFudWZhY3R1cmVyIG9mIHRoZSBtZWRpY2F0aW9uIHByb2R1Y3QuICBUaGlzIGlzIG5vdCBpbnRlbmRlZCB0byByZXByZXNlbnQgdGhlIGRpc3RyaWJ1dG9yIG9mIGEgbWVkaWNhdGlvbiBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW51ZmFjdHVyZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiBNZWRpY2F0aW9uIGlzIHJlZmVyZW5jZWQgZnJvbSBNZWRpY2F0aW9uUmVxdWVzdCwgdGhpcyBpcyB0aGUgb3JkZXJlZCBmb3JtLiAgV2hlbiBNZWRpY2F0aW9uIGlzIHJlZmVyZW5jZWQgd2l0aGluIE1lZGljYXRpb25EaXNwZW5zZSwgdGhpcyBpcyB0aGUgZGlzcGVuc2VkIGZvcm0uICBXaGVuIE1lZGljYXRpb24gaXMgcmVmZXJlbmNlZCB3aXRoaW4gTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLCB0aGlzIGlzIGFkbWluaXN0ZXJlZCBmb3JtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb3NlRm9ybT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIHRoZSBxdWFudGl0eSBvZiBtZWRpY2F0aW9uIGluIGEgcGFja2FnZS4gIFRvIHNwZWNpZnkgdGhlIHN0cmVuZ3RoIG9mIHRoZSBtZWRpY2F0aW9uLCB0aGUgSW5ncmVkaWVudC5zdHJlbmd0aCBhdHRyaWJ1dGUgaXMgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBuYW1lcyBmb3IgYSBtZWRpY2F0aW9uLCBmb3IgZXhhbXBsZSwgdGhlIG5hbWUocykgZ2l2ZW4gdG8gYSBtZWRpY2F0aW9uIGluIGRpZmZlcmVudCBjb3VudHJpZXMuICBGb3IgZXhhbXBsZSwgYWNldGFtaW5vcGhlbiBhbmQgcGFyYWNldGFtb2wgb3Igc2FsYnV0YW1vbCBhbmQgYWxidXRlcm9sLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzeW5vbnltOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBBc3NvY2lhdGVkIG9yIHJlbGF0ZWQga25vd2xlZGdlIGFib3V0IGEgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2U6IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlW107XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBvciByZWxhdGVkIG1lZGljYXRpb25zLiAgRm9yIGV4YW1wbGUsIGlmIHRoZSBtZWRpY2F0aW9uIGlzIGEgYnJhbmRlZCBwcm9kdWN0IChlLmcuIENyZXN0b3IpLCB0aGlzIGlzIHRoZSBUaGVyYXBldXRpYyBNb2VpdHkgKGUuZy4gUm9zdXZhc3RhdGluKSBvciBpZiB0aGlzIGlzIGEgZ2VuZXJpYyBtZWRpY2F0aW9uIChlLmcuIFJvc3V2YXN0YXRpbiksIHRoaXMgd291bGQgbGluayB0byBhIGJyYW5kZWQgcHJvZHVjdCAoZS5nLiBDcmVzdG9yKS5cclxuICAgKi9cclxuICBwdWJsaWMgYXNzb2NpYXRlZE1lZGljYXRpb246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQ2F0ZWdvcnkgb2YgdGhlIG1lZGljYXRpb24gb3IgcHJvZHVjdCAoZS5nLiBicmFuZGVkIHByb2R1Y3QsIHRoZXJhcGV1dGljIG1vZWl0eSwgZ2VuZXJpYyBwcm9kdWN0LCBpbm5vdmF0b3IgcHJvZHVjdCwgZXRjLikuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3RUeXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbW9ub2dyYXBoOiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNb25vZ3JhcGhbXTtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIGEgcGFydGljdWxhciBjb25zdGl0dWVudCBvZiBpbnRlcmVzdCBpbiB0aGUgcHJvZHVjdC5cclxuICAgKi9cclxuICBwdWJsaWMgaW5ncmVkaWVudDogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnN0cnVjdGlvbnMgZm9yIHByZXBhcmluZyB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJlcGFyYXRpb25JbnN0cnVjdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW50ZW5kZWQgb3IgYXBwcm92ZWQgcm91dGUgb2YgYWRtaW5pc3RyYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGludGVuZGVkUm91dGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaWNlIG9mIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3N0OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VDb3N0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2dyYW0gdW5kZXIgd2hpY2ggdGhlIG1lZGljYXRpb24gaXMgcmV2aWV3ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG1vbml0b3JpbmdQcm9ncmFtOiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNb25pdG9yaW5nUHJvZ3JhbVtdO1xyXG4gIC8qKlxyXG4gICAqIEd1aWRlbGluZXMgZm9yIHRoZSBhZG1pbmlzdHJhdGlvbiBvZiB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzOiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNbXTtcclxuICAvKipcclxuICAgKiBDYXRlZ29yaXphdGlvbiBvZiB0aGUgbWVkaWNhdGlvbiB3aXRoaW4gYSBmb3JtdWxhcnkgb3IgY2xhc3NpZmljYXRpb24gc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZWRpY2luZUNsYXNzaWZpY2F0aW9uOiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNZWRpY2luZUNsYXNzaWZpY2F0aW9uW107XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gdGhhdCBvbmx5IGFwcGxpZXMgdG8gcGFja2FnZXMgKG5vdCBwcm9kdWN0cykuXHJcbiAgICovXHJcbiAgcHVibGljIHBhY2thZ2luZz86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVBhY2thZ2luZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIGRlc2NyaXB0aXZlIHByb3BlcnRpZXMgb2YgdGhlIG1lZGljaW5lLCBzdWNoIGFzIGNvbG9yLCBzaGFwZSwgaW1wcmludHMsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgZHJ1Z0NoYXJhY3RlcmlzdGljOiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VEcnVnQ2hhcmFjdGVyaXN0aWNbXTtcclxuICAvKipcclxuICAgKiBQb3RlbnRpYWwgY2xpbmljYWwgaXNzdWUgd2l0aCBvciBiZXR3ZWVuIG1lZGljYXRpb24ocykgKGZvciBleGFtcGxlLCBkcnVnLWRydWcgaW50ZXJhY3Rpb24sIGRydWctZGlzZWFzZSBjb250cmFpbmRpY2F0aW9uLCBkcnVnLWFsbGVyZ3kgaW50ZXJhY3Rpb24sIGV0Yy4pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250cmFpbmRpY2F0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFJlZ3VsYXRvcnkgaW5mb3JtYXRpb24gYWJvdXQgYSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWd1bGF0b3J5OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgY291cnNlIG9mIGRydWcgYWJzb3JwdGlvbiwgZGlzdHJpYnV0aW9uLCBtZXRhYm9saXNtIGFuZCBleGNyZXRpb24gb2YgYSBtZWRpY2F0aW9uIGZyb20gdGhlIGJvZHkuXHJcbiAgICovXHJcbiAgcHVibGljIGtpbmV0aWNzOiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VLaW5ldGljc1tdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ01lZGljYXRpb25Lbm93bGVkZ2UnO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29kZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8TWVkaWNhdGlvbmtub3dsZWRnZVN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxNZWRpY2F0aW9ua25vd2xlZGdlU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYW51ZmFjdHVyZXInXSkgeyB0aGlzLm1hbnVmYWN0dXJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubWFudWZhY3R1cmVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9zZUZvcm0nXSkgeyB0aGlzLmRvc2VGb3JtID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5kb3NlRm9ybSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Ftb3VudCddKSB7IHRoaXMuYW1vdW50ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmFtb3VudCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N5bm9ueW0nXSkgeyB0aGlzLnN5bm9ueW0gPSBzb3VyY2Uuc3lub255bS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zeW5vbnltID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19zeW5vbnltJ10pIHtcclxuICAgICAgc291cmNlLl9zeW5vbnltLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN5bm9ueW0ubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5zeW5vbnltW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuc3lub255bS5wdXNoKG5ldyBmaGlyLkZoaXJTdHJpbmcoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlJ10pIHsgdGhpcy5yZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZSA9IHNvdXJjZS5yZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZS5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Fzc29jaWF0ZWRNZWRpY2F0aW9uJ10pIHsgdGhpcy5hc3NvY2lhdGVkTWVkaWNhdGlvbiA9IHNvdXJjZS5hc3NvY2lhdGVkTWVkaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFzc29jaWF0ZWRNZWRpY2F0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3RUeXBlJ10pIHsgdGhpcy5wcm9kdWN0VHlwZSA9IHNvdXJjZS5wcm9kdWN0VHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2R1Y3RUeXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21vbm9ncmFwaCddKSB7IHRoaXMubW9ub2dyYXBoID0gc291cmNlLm1vbm9ncmFwaC5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNb25vZ3JhcGgoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb25vZ3JhcGggPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5ncmVkaWVudCddKSB7IHRoaXMuaW5ncmVkaWVudCA9IHNvdXJjZS5pbmdyZWRpZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUluZ3JlZGllbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbmdyZWRpZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZXBhcmF0aW9uSW5zdHJ1Y3Rpb24nXSkgeyB0aGlzLnByZXBhcmF0aW9uSW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UucHJlcGFyYXRpb25JbnN0cnVjdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJlcGFyYXRpb25JbnN0cnVjdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByZXBhcmF0aW9uSW5zdHJ1Y3Rpb24pIHsgdGhpcy5wcmVwYXJhdGlvbkluc3RydWN0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ByZXBhcmF0aW9uSW5zdHJ1Y3Rpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcmVwYXJhdGlvbkluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHNvdXJjZS5fcHJlcGFyYXRpb25JbnN0cnVjdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpck1hcmtkb3duQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlbmRlZFJvdXRlJ10pIHsgdGhpcy5pbnRlbmRlZFJvdXRlID0gc291cmNlLmludGVuZGVkUm91dGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnRlbmRlZFJvdXRlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Nvc3QnXSkgeyB0aGlzLmNvc3QgPSBzb3VyY2UuY29zdC5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VDb3N0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29zdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtb25pdG9yaW5nUHJvZ3JhbSddKSB7IHRoaXMubW9uaXRvcmluZ1Byb2dyYW0gPSBzb3VyY2UubW9uaXRvcmluZ1Byb2dyYW0ubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlTW9uaXRvcmluZ1Byb2dyYW0oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb25pdG9yaW5nUHJvZ3JhbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMnXSkgeyB0aGlzLmFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcyA9IHNvdXJjZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21lZGljaW5lQ2xhc3NpZmljYXRpb24nXSkgeyB0aGlzLm1lZGljaW5lQ2xhc3NpZmljYXRpb24gPSBzb3VyY2UubWVkaWNpbmVDbGFzc2lmaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNZWRpY2luZUNsYXNzaWZpY2F0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubWVkaWNpbmVDbGFzc2lmaWNhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdpbmcnXSkgeyB0aGlzLnBhY2thZ2luZyA9IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VQYWNrYWdpbmcoc291cmNlLnBhY2thZ2luZyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RydWdDaGFyYWN0ZXJpc3RpYyddKSB7IHRoaXMuZHJ1Z0NoYXJhY3RlcmlzdGljID0gc291cmNlLmRydWdDaGFyYWN0ZXJpc3RpYy5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VEcnVnQ2hhcmFjdGVyaXN0aWMoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kcnVnQ2hhcmFjdGVyaXN0aWMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udHJhaW5kaWNhdGlvbiddKSB7IHRoaXMuY29udHJhaW5kaWNhdGlvbiA9IHNvdXJjZS5jb250cmFpbmRpY2F0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29udHJhaW5kaWNhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWd1bGF0b3J5J10pIHsgdGhpcy5yZWd1bGF0b3J5ID0gc291cmNlLnJlZ3VsYXRvcnkubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZ3VsYXRvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsna2luZXRpY3MnXSkgeyB0aGlzLmtpbmV0aWNzID0gc291cmNlLmtpbmV0aWNzLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUtpbmV0aWNzKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMua2luZXRpY3MgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lZGljYXRpb25Lbm93bGVkZ2UnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJQUygncmVzb3VyY2VUeXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignc3RhdHVzJyxleHAsJ01lZGljYXRpb25rbm93bGVkZ2VTdGF0dXMnLE1lZGljYXRpb25rbm93bGVkZ2VTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWFudWZhY3R1cmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkb3NlRm9ybScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYW1vdW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzeW5vbnltJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdyZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYXNzb2NpYXRlZE1lZGljYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3Byb2R1Y3RUeXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdtb25vZ3JhcGgnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2luZ3JlZGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ByZXBhcmF0aW9uSW5zdHJ1Y3Rpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2ludGVuZGVkUm91dGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2Nvc3QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ21vbml0b3JpbmdQcm9ncmFtJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdhZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ21lZGljaW5lQ2xhc3NpZmljYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BhY2thZ2luZycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZHJ1Z0NoYXJhY3RlcmlzdGljJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb250cmFpbmRpY2F0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdyZWd1bGF0b3J5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdraW5ldGljcycsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=