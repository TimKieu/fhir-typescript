// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: MedicationKnowledge
import * as fhir from '../fhir.js';
// @ts-ignore
import { MedicationknowledgeStatusCodings, } from '../fhirValueSets/MedicationknowledgeStatusCodings.js';
/**
 * Associated or related knowledge about a medication.
 */
export class MedicationKnowledgeRelatedMedicationKnowledge extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRelatedMedicationKnowledge - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['reference']) {
            this.reference = source.reference.map((x) => new fhir.Reference(x));
        }
        else {
            this.reference = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: MedicationKnowledge.relatedMedicationKnowledge.type:CodeableConcept', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (!this['reference']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property reference:fhir.Reference[] fhir: MedicationKnowledge.relatedMedicationKnowledge.reference:Reference', });
        }
        else if (!Array.isArray(this.reference)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property reference:fhir.Reference[] fhir: MedicationKnowledge.relatedMedicationKnowledge.reference:Reference', });
        }
        else if (this.reference.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property reference:fhir.Reference[] fhir: MedicationKnowledge.relatedMedicationKnowledge.reference:Reference', });
        }
        if (this["reference"]) {
            this.reference.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRelatedMedicationKnowledge._fts_dataType = 'MedicationKnowledgeRelatedMedicationKnowledge';
/**
 * Associated documentation about the medication.
 */
export class MedicationKnowledgeMonograph extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeMonograph - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['source']) {
            this.source = new fhir.Reference(source.source);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["source"]) {
            issues.push(...this.source.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeMonograph._fts_dataType = 'MedicationKnowledgeMonograph';
/**
 * Identifies a particular constituent of interest in the product.
 */
export class MedicationKnowledgeIngredient extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeIngredient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['item']) {
            this.item = source.item;
        }
        else if (source['itemCodeableConcept']) {
            this.item = new fhir.CodeableConcept(source.itemCodeableConcept);
        }
        else if (source['itemReference']) {
            this.item = new fhir.Reference(source.itemReference);
        }
        else {
            this.item = null;
        }
        if (source['isActive']) {
            this.isActive = new fhir.FhirBoolean({ value: source.isActive });
        }
        if (source['strength']) {
            this.strength = new fhir.Ratio(source.strength);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['item']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property item: fhir: MedicationKnowledge.ingredient.item[x]:', });
        }
        if (this["isActive"]) {
            issues.push(...this.isActive.doModelValidation());
        }
        if (this["strength"]) {
            issues.push(...this.strength.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeIngredient._fts_dataType = 'MedicationKnowledgeIngredient';
/**
 * Internal flag to properly serialize choice-type element MedicationKnowledge.ingredient.item[x]
 */
MedicationKnowledgeIngredient._fts_itemIsChoice = true;
/**
 * The price of the medication.
 */
export class MedicationKnowledgeCost extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeCost - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['source']) {
            this.source = new fhir.FhirString({ value: source.source });
        }
        if (source['cost']) {
            this.cost = new fhir.Money(source.cost);
        }
        else {
            this.cost = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: MedicationKnowledge.cost.type:CodeableConcept', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["source"]) {
            issues.push(...this.source.doModelValidation());
        }
        if (!this['cost']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property cost:fhir.Money fhir: MedicationKnowledge.cost.cost:Money', });
        }
        if (this["cost"]) {
            issues.push(...this.cost.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeCost._fts_dataType = 'MedicationKnowledgeCost';
/**
 * The program under which the medication is reviewed.
 */
export class MedicationKnowledgeMonitoringProgram extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeMonitoringProgram - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeMonitoringProgram._fts_dataType = 'MedicationKnowledgeMonitoringProgram';
/**
 * Dosage for the medication for the specific guidelines.
 */
export class MedicationKnowledgeAdministrationGuidelinesDosage extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeAdministrationGuidelinesDosage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['dosage']) {
            this.dosage = source.dosage.map((x) => new fhir.Dosage(x));
        }
        else {
            this.dosage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: MedicationKnowledge.administrationGuidelines.dosage.type:CodeableConcept', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (!this['dosage']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property dosage:fhir.Dosage[] fhir: MedicationKnowledge.administrationGuidelines.dosage.dosage:Dosage', });
        }
        else if (!Array.isArray(this.dosage)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property dosage:fhir.Dosage[] fhir: MedicationKnowledge.administrationGuidelines.dosage.dosage:Dosage', });
        }
        else if (this.dosage.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property dosage:fhir.Dosage[] fhir: MedicationKnowledge.administrationGuidelines.dosage.dosage:Dosage', });
        }
        if (this["dosage"]) {
            this.dosage.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeAdministrationGuidelinesDosage._fts_dataType = 'MedicationKnowledgeAdministrationGuidelinesDosage';
/**
 * Characteristics of the patient that are relevant to the administration guidelines (for example, height, weight, gender, etc.).
 */
export class MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['characteristic']) {
            this.characteristic = source.characteristic;
        }
        else if (source['characteristicCodeableConcept']) {
            this.characteristic = new fhir.CodeableConcept(source.characteristicCodeableConcept);
        }
        else if (source['characteristicQuantity']) {
            this.characteristic = new fhir.Quantity(source.characteristicQuantity);
        }
        else {
            this.characteristic = null;
        }
        if (source['value']) {
            this.value = source.value.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.value = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['characteristic']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property characteristic: fhir: MedicationKnowledge.administrationGuidelines.patientCharacteristics.characteristic[x]:', });
        }
        if (this["value"]) {
            this.value.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics._fts_dataType = 'MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics';
/**
 * Internal flag to properly serialize choice-type element MedicationKnowledge.administrationGuidelines.patientCharacteristics.characteristic[x]
 */
MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics._fts_characteristicIsChoice = true;
/**
 * Guidelines for the administration of the medication.
 */
export class MedicationKnowledgeAdministrationGuidelines extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeAdministrationGuidelines - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['dosage']) {
            this.dosage = source.dosage.map((x) => new fhir.MedicationKnowledgeAdministrationGuidelinesDosage(x));
        }
        else {
            this.dosage = [];
        }
        if (source['indication']) {
            this.indication = source.indication;
        }
        else if (source['indicationCodeableConcept']) {
            this.indication = new fhir.CodeableConcept(source.indicationCodeableConcept);
        }
        else if (source['indicationReference']) {
            this.indication = new fhir.Reference(source.indicationReference);
        }
        if (source['patientCharacteristics']) {
            this.patientCharacteristics = source.patientCharacteristics.map((x) => new fhir.MedicationKnowledgeAdministrationGuidelinesPatientCharacteristics(x));
        }
        else {
            this.patientCharacteristics = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["dosage"]) {
            this.dosage.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["patientCharacteristics"]) {
            this.patientCharacteristics.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeAdministrationGuidelines._fts_dataType = 'MedicationKnowledgeAdministrationGuidelines';
/**
 * Internal flag to properly serialize choice-type element MedicationKnowledge.administrationGuidelines.indication[x]
 */
MedicationKnowledgeAdministrationGuidelines._fts_indicationIsChoice = true;
/**
 * Categorization of the medication within a formulary or classification system.
 */
export class MedicationKnowledgeMedicineClassification extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeMedicineClassification - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['classification']) {
            this.classification = source.classification.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.classification = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: MedicationKnowledge.medicineClassification.type:CodeableConcept', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["classification"]) {
            this.classification.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeMedicineClassification._fts_dataType = 'MedicationKnowledgeMedicineClassification';
/**
 * Information that only applies to packages (not products).
 */
export class MedicationKnowledgePackaging extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgePackaging - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["quantity"]) {
            issues.push(...this.quantity.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgePackaging._fts_dataType = 'MedicationKnowledgePackaging';
/**
 * Specifies descriptive properties of the medicine, such as color, shape, imprints, etc.
 */
export class MedicationKnowledgeDrugCharacteristic extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeDrugCharacteristic - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueBase64Binary']) {
            this.value = new fhir.FhirBase64Binary({ value: source.valueBase64Binary });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeDrugCharacteristic._fts_dataType = 'MedicationKnowledgeDrugCharacteristic';
/**
 * Internal flag to properly serialize choice-type element MedicationKnowledge.drugCharacteristic.value[x]
 */
MedicationKnowledgeDrugCharacteristic._fts_valueIsChoice = true;
/**
 * Specifies if changes are allowed when dispensing a medication from a regulatory perspective.
 */
export class MedicationKnowledgeRegulatorySubstitution extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRegulatorySubstitution - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['allowed']) {
            this.allowed = new fhir.FhirBoolean({ value: source.allowed });
        }
        else {
            this.allowed = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: MedicationKnowledge.regulatory.substitution.type:CodeableConcept', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (!this['allowed']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property allowed:fhir.FhirBoolean fhir: MedicationKnowledge.regulatory.substitution.allowed:boolean', });
        }
        if (this["allowed"]) {
            issues.push(...this.allowed.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRegulatorySubstitution._fts_dataType = 'MedicationKnowledgeRegulatorySubstitution';
/**
 * Specifies the schedule of a medication in jurisdiction.
 */
export class MedicationKnowledgeRegulatorySchedule extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRegulatorySchedule - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['schedule']) {
            this.schedule = new fhir.CodeableConcept(source.schedule);
        }
        else {
            this.schedule = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['schedule']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property schedule:fhir.CodeableConcept fhir: MedicationKnowledge.regulatory.schedule.schedule:CodeableConcept', });
        }
        if (this["schedule"]) {
            issues.push(...this.schedule.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRegulatorySchedule._fts_dataType = 'MedicationKnowledgeRegulatorySchedule';
/**
 * The maximum number of units of the medication that can be dispensed in a period.
 */
export class MedicationKnowledgeRegulatoryMaxDispense extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRegulatoryMaxDispense - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        else {
            this.quantity = null;
        }
        if (source['period']) {
            this.period = new fhir.Duration(source.period);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['quantity']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property quantity:fhir.Quantity fhir: MedicationKnowledge.regulatory.maxDispense.quantity:Quantity', });
        }
        if (this["quantity"]) {
            issues.push(...this.quantity.doModelValidation());
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRegulatoryMaxDispense._fts_dataType = 'MedicationKnowledgeRegulatoryMaxDispense';
/**
 * Regulatory information about a medication.
 */
export class MedicationKnowledgeRegulatory extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeRegulatory - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['regulatoryAuthority']) {
            this.regulatoryAuthority = new fhir.Reference(source.regulatoryAuthority);
        }
        else {
            this.regulatoryAuthority = null;
        }
        if (source['substitution']) {
            this.substitution = source.substitution.map((x) => new fhir.MedicationKnowledgeRegulatorySubstitution(x));
        }
        else {
            this.substitution = [];
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.MedicationKnowledgeRegulatorySchedule(x));
        }
        else {
            this.schedule = [];
        }
        if (source['maxDispense']) {
            this.maxDispense = new fhir.MedicationKnowledgeRegulatoryMaxDispense(source.maxDispense);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['regulatoryAuthority']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property regulatoryAuthority:fhir.Reference fhir: MedicationKnowledge.regulatory.regulatoryAuthority:Reference', });
        }
        if (this["regulatoryAuthority"]) {
            issues.push(...this.regulatoryAuthority.doModelValidation());
        }
        if (this["substitution"]) {
            this.substitution.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["schedule"]) {
            this.schedule.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["maxDispense"]) {
            issues.push(...this.maxDispense.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeRegulatory._fts_dataType = 'MedicationKnowledgeRegulatory';
/**
 * The time course of drug absorption, distribution, metabolism and excretion of a medication from the body.
 */
export class MedicationKnowledgeKinetics extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationKnowledgeKinetics - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['areaUnderCurve']) {
            this.areaUnderCurve = source.areaUnderCurve.map((x) => new fhir.Quantity(x));
        }
        else {
            this.areaUnderCurve = [];
        }
        if (source['lethalDose50']) {
            this.lethalDose50 = source.lethalDose50.map((x) => new fhir.Quantity(x));
        }
        else {
            this.lethalDose50 = [];
        }
        if (source['halfLifePeriod']) {
            this.halfLifePeriod = new fhir.Duration(source.halfLifePeriod);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["areaUnderCurve"]) {
            this.areaUnderCurve.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["lethalDose50"]) {
            this.lethalDose50.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["halfLifePeriod"]) {
            issues.push(...this.halfLifePeriod.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledgeKinetics._fts_dataType = 'MedicationKnowledgeKinetics';
/**
 * Information about a medication that is used to support knowledge.
 */
export class MedicationKnowledge extends fhir.DomainResource {
    /**
     * Default constructor for MedicationKnowledge - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MedicationKnowledge';
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['status']) {
            this.status = source.status;
        }
        if (source['manufacturer']) {
            this.manufacturer = new fhir.Reference(source.manufacturer);
        }
        if (source['doseForm']) {
            this.doseForm = new fhir.CodeableConcept(source.doseForm);
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount);
        }
        if (source['synonym']) {
            this.synonym = source.synonym.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.synonym = [];
        }
        if (source['relatedMedicationKnowledge']) {
            this.relatedMedicationKnowledge = source.relatedMedicationKnowledge.map((x) => new fhir.MedicationKnowledgeRelatedMedicationKnowledge(x));
        }
        else {
            this.relatedMedicationKnowledge = [];
        }
        if (source['associatedMedication']) {
            this.associatedMedication = source.associatedMedication.map((x) => new fhir.Reference(x));
        }
        else {
            this.associatedMedication = [];
        }
        if (source['productType']) {
            this.productType = source.productType.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.productType = [];
        }
        if (source['monograph']) {
            this.monograph = source.monograph.map((x) => new fhir.MedicationKnowledgeMonograph(x));
        }
        else {
            this.monograph = [];
        }
        if (source['ingredient']) {
            this.ingredient = source.ingredient.map((x) => new fhir.MedicationKnowledgeIngredient(x));
        }
        else {
            this.ingredient = [];
        }
        if (source['preparationInstruction']) {
            this.preparationInstruction = new fhir.FhirMarkdown({ value: source.preparationInstruction });
        }
        if (source['intendedRoute']) {
            this.intendedRoute = source.intendedRoute.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.intendedRoute = [];
        }
        if (source['cost']) {
            this.cost = source.cost.map((x) => new fhir.MedicationKnowledgeCost(x));
        }
        else {
            this.cost = [];
        }
        if (source['monitoringProgram']) {
            this.monitoringProgram = source.monitoringProgram.map((x) => new fhir.MedicationKnowledgeMonitoringProgram(x));
        }
        else {
            this.monitoringProgram = [];
        }
        if (source['administrationGuidelines']) {
            this.administrationGuidelines = source.administrationGuidelines.map((x) => new fhir.MedicationKnowledgeAdministrationGuidelines(x));
        }
        else {
            this.administrationGuidelines = [];
        }
        if (source['medicineClassification']) {
            this.medicineClassification = source.medicineClassification.map((x) => new fhir.MedicationKnowledgeMedicineClassification(x));
        }
        else {
            this.medicineClassification = [];
        }
        if (source['packaging']) {
            this.packaging = new fhir.MedicationKnowledgePackaging(source.packaging);
        }
        if (source['drugCharacteristic']) {
            this.drugCharacteristic = source.drugCharacteristic.map((x) => new fhir.MedicationKnowledgeDrugCharacteristic(x));
        }
        else {
            this.drugCharacteristic = [];
        }
        if (source['contraindication']) {
            this.contraindication = source.contraindication.map((x) => new fhir.Reference(x));
        }
        else {
            this.contraindication = [];
        }
        if (source['regulatory']) {
            this.regulatory = source.regulatory.map((x) => new fhir.MedicationKnowledgeRegulatory(x));
        }
        else {
            this.regulatory = [];
        }
        if (source['kinetics']) {
            this.kinetics = source.kinetics.map((x) => new fhir.MedicationKnowledgeKinetics(x));
        }
        else {
            this.kinetics = [];
        }
    }
    /**
     * Required-bound Value Set for status (MedicationKnowledge.status)
     */
    static statusRequiredCoding() {
        return MedicationknowledgeStatusCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"MedicationKnowledge" fhir: MedicationKnowledge.resourceType:"MedicationKnowledge"', });
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation());
        }
        if (this["manufacturer"]) {
            issues.push(...this.manufacturer.doModelValidation());
        }
        if (this["doseForm"]) {
            issues.push(...this.doseForm.doModelValidation());
        }
        if (this["amount"]) {
            issues.push(...this.amount.doModelValidation());
        }
        if (this["synonym"]) {
            this.synonym.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["relatedMedicationKnowledge"]) {
            this.relatedMedicationKnowledge.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["associatedMedication"]) {
            this.associatedMedication.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["productType"]) {
            this.productType.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["monograph"]) {
            this.monograph.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["ingredient"]) {
            this.ingredient.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["preparationInstruction"]) {
            issues.push(...this.preparationInstruction.doModelValidation());
        }
        if (this["intendedRoute"]) {
            this.intendedRoute.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["cost"]) {
            this.cost.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["monitoringProgram"]) {
            this.monitoringProgram.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["administrationGuidelines"]) {
            this.administrationGuidelines.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["medicineClassification"]) {
            this.medicineClassification.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["packaging"]) {
            issues.push(...this.packaging.doModelValidation());
        }
        if (this["drugCharacteristic"]) {
            this.drugCharacteristic.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["contraindication"]) {
            this.contraindication.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["regulatory"]) {
            this.regulatory.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["kinetics"]) {
            this.kinetics.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationKnowledge._fts_dataType = 'MedicationKnowledge';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWNhdGlvbktub3dsZWRnZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvTWVkaWNhdGlvbktub3dsZWRnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxxQ0FBcUM7QUFFckMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFjbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxnQ0FBZ0MsR0FBdUMsTUFBTSxzREFBc0QsQ0FBQztBQXlCN0k7O0dBRUc7QUFDSCxNQUFNLE9BQU8sNkNBQThDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhckY7O09BRUc7SUFDSCxZQUFZLFNBQW9FLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzFILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTthQUNyRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzVGO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FBRTtJQUMvQixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUI7UUFDL0IsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxJQUFJLENB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QyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDbEgsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ3RHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNsRyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQWhMRDs7R0FFRztBQUM2QixpQ0FBYSxHQUFVLHFCQUFxQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBNZWRpY2F0aW9uS25vd2xlZGdlXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9ua25vd2xlZGdlUGFja2FnZVR5cGVDb2RpbmdzLCBNZWRpY2F0aW9ua25vd2xlZGdlUGFja2FnZVR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9ua25vd2xlZGdlUGFja2FnZVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9ua25vd2xlZGdlUGFja2FnZVR5cGVDb2RlcywgIE1lZGljYXRpb25rbm93bGVkZ2VQYWNrYWdlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9ua25vd2xlZGdlUGFja2FnZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbmtub3dsZWRnZUNoYXJhY3RlcmlzdGljQ29kaW5ncywgTWVkaWNhdGlvbmtub3dsZWRnZUNoYXJhY3RlcmlzdGljQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvbmtub3dsZWRnZUNoYXJhY3RlcmlzdGljQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbmtub3dsZWRnZUNoYXJhY3RlcmlzdGljQ29kZXMsICBNZWRpY2F0aW9ua25vd2xlZGdlQ2hhcmFjdGVyaXN0aWNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvbmtub3dsZWRnZUNoYXJhY3RlcmlzdGljQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lZGljYXRpb25Db2Rlc0NvZGluZ3MsIE1lZGljYXRpb25Db2Rlc0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25Db2Rlc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lZGljYXRpb25Db2Rlc0NvZGVzLCAgTWVkaWNhdGlvbkNvZGVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25Db2Rlc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9ua25vd2xlZGdlU3RhdHVzQ29kaW5ncywgTWVkaWNhdGlvbmtub3dsZWRnZVN0YXR1c0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25rbm93bGVkZ2VTdGF0dXNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9ua25vd2xlZGdlU3RhdHVzQ29kZXMsICBNZWRpY2F0aW9ua25vd2xlZGdlU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25rbm93bGVkZ2VTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbkZvcm1Db2Rlc0NvZGluZ3MsIE1lZGljYXRpb25Gb3JtQ29kZXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9uRm9ybUNvZGVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbkZvcm1Db2Rlc0NvZGVzLCAgTWVkaWNhdGlvbkZvcm1Db2Rlc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9uRm9ybUNvZGVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJvdXRlQ29kZXNDb2RpbmdzLCBSb3V0ZUNvZGVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVDb2Rlc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJvdXRlQ29kZXNDb2RlcywgIFJvdXRlQ29kZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVDb2Rlc0NvZGVzLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VSZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlUmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgY2F0ZWdvcnkgb2YgdGhlIGFzc29jaWF0ZWQgbWVkaWNhdGlvbiBrbm93bGVkZ2UgcmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgYXNzb2NpYXRlZCBtZWRpY2F0aW9uIGtub3dsZWRnZS5cclxuICAgKi9cclxuICByZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlQXJnc1tdfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBc3NvY2lhdGVkIG9yIHJlbGF0ZWQga25vd2xlZGdlIGFib3V0IGEgbWVkaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlUmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlUmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2UnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjYXRlZ29yeSBvZiB0aGUgYXNzb2NpYXRlZCBtZWRpY2F0aW9uIGtub3dsZWRnZSByZWZlcmVuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBhc3NvY2lhdGVkIG1lZGljYXRpb24ga25vd2xlZGdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZVJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZVJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlJ10pIHsgdGhpcy5yZWZlcmVuY2UgPSBzb3VyY2UucmVmZXJlbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVmZXJlbmNlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLnJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlLnR5cGU6Q29kZWFibGVDb25jZXB0JywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3JlZmVyZW5jZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVmZXJlbmNlOmZoaXIuUmVmZXJlbmNlW10gZmhpcjogTWVkaWNhdGlvbktub3dsZWRnZS5yZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZS5yZWZlcmVuY2U6UmVmZXJlbmNlJywgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucmVmZXJlbmNlKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnc3RydWN0dXJlJywgIGRpYWdub3N0aWNzOiAnRm91bmQgc2NhbGFyIGluIGFycmF5IHByb3BlcnR5IHJlZmVyZW5jZTpmaGlyLlJlZmVyZW5jZVtdIGZoaXI6IE1lZGljYXRpb25Lbm93bGVkZ2UucmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2UucmVmZXJlbmNlOlJlZmVyZW5jZScsIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnJlZmVyZW5jZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZWZlcmVuY2U6Zmhpci5SZWZlcmVuY2VbXSBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLnJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlLnJlZmVyZW5jZTpSZWZlcmVuY2UnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicmVmZXJlbmNlXCJdKSB7IHRoaXMucmVmZXJlbmNlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VNb25vZ3JhcGggdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZU1vbm9ncmFwaEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjYXRlZ29yeSBvZiBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBtZWRpY2F0aW9uLiAoZS5nLiBwcm9mZXNzaW9uYWwgbW9ub2dyYXBoLCBwYXRpZW50IGVkdWNhdGlvbiBtb25vZ3JhcGgpLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBzb3VyY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBtZWRpY2F0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25Lbm93bGVkZ2VNb25vZ3JhcGggZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlTW9ub2dyYXBoJztcclxuICAvKipcclxuICAgKiBUaGUgY2F0ZWdvcnkgb2YgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgbWVkaWNhdGlvbi4gKGUuZy4gcHJvZmVzc2lvbmFsIG1vbm9ncmFwaCwgcGF0aWVudCBlZHVjYXRpb24gbW9ub2dyYXBoKS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gYWJvdXQgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlTW9ub2dyYXBoIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZU1vbm9ncmFwaEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlJ10pIHsgdGhpcy5zb3VyY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnNvdXJjZSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic291cmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc291cmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbktub3dsZWRnZUluZ3JlZGllbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZUluZ3JlZGllbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIGluZ3JlZGllbnQgLSBlaXRoZXIgYSBzdWJzdGFuY2UgKHNpbXBsZSBpbmdyZWRpZW50KSBvciBhbm90aGVyIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgaXRlbT86IGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIGluZ3JlZGllbnQgLSBlaXRoZXIgYSBzdWJzdGFuY2UgKHNpbXBsZSBpbmdyZWRpZW50KSBvciBhbm90aGVyIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgaXRlbUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdHVhbCBpbmdyZWRpZW50IC0gZWl0aGVyIGEgc3Vic3RhbmNlIChzaW1wbGUgaW5ncmVkaWVudCkgb3IgYW5vdGhlciBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGl0ZW1SZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRpb24gb2Ygd2hldGhlciB0aGlzIGluZ3JlZGllbnQgYWZmZWN0cyB0aGUgdGhlcmFwZXV0aWMgYWN0aW9uIG9mIHRoZSBkcnVnLlxyXG4gICAqL1xyXG4gIGlzQWN0aXZlPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgaG93IG1hbnkgKG9yIGhvdyBtdWNoKSBvZiB0aGUgaXRlbXMgdGhlcmUgYXJlIGluIHRoaXMgTWVkaWNhdGlvbi4gIEZvciBleGFtcGxlLCAyNTAgbWcgcGVyIHRhYmxldC4gIFRoaXMgaXMgZXhwcmVzc2VkIGFzIGEgcmF0aW8gd2hlcmUgdGhlIG51bWVyYXRvciBpcyAyNTBtZyBhbmQgdGhlIGRlbm9taW5hdG9yIGlzIDEgdGFibGV0LlxyXG4gICAqL1xyXG4gIHN0cmVuZ3RoPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSWRlbnRpZmllcyBhIHBhcnRpY3VsYXIgY29uc3RpdHVlbnQgb2YgaW50ZXJlc3QgaW4gdGhlIHByb2R1Y3QuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZUluZ3JlZGllbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdHVhbCBpbmdyZWRpZW50IC0gZWl0aGVyIGEgc3Vic3RhbmNlIChzaW1wbGUgaW5ncmVkaWVudCkgb3IgYW5vdGhlciBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpdGVtOiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBNZWRpY2F0aW9uS25vd2xlZGdlLmluZ3JlZGllbnQuaXRlbVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19pdGVtSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGlvbiBvZiB3aGV0aGVyIHRoaXMgaW5ncmVkaWVudCBhZmZlY3RzIHRoZSB0aGVyYXBldXRpYyBhY3Rpb24gb2YgdGhlIGRydWcuXHJcbiAgICovXHJcbiAgcHVibGljIGlzQWN0aXZlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIGhvdyBtYW55IChvciBob3cgbXVjaCkgb2YgdGhlIGl0ZW1zIHRoZXJlIGFyZSBpbiB0aGlzIE1lZGljYXRpb24uICBGb3IgZXhhbXBsZSwgMjUwIG1nIHBlciB0YWJsZXQuICBUaGlzIGlzIGV4cHJlc3NlZCBhcyBhIHJhdGlvIHdoZXJlIHRoZSBudW1lcmF0b3IgaXMgMjUwbWcgYW5kIHRoZSBkZW5vbWluYXRvciBpcyAxIHRhYmxldC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RyZW5ndGg/OiBmaGlyLlJhdGlvfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VJbmdyZWRpZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2l0ZW0nXSkgeyB0aGlzLml0ZW0gPSBzb3VyY2UuaXRlbTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydpdGVtQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5pdGVtID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5pdGVtQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydpdGVtUmVmZXJlbmNlJ10pIHsgdGhpcy5pdGVtID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5pdGVtUmVmZXJlbmNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaXRlbSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2lzQWN0aXZlJ10pIHsgdGhpcy5pc0FjdGl2ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmlzQWN0aXZlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0cmVuZ3RoJ10pIHsgdGhpcy5zdHJlbmd0aCA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS5zdHJlbmd0aCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snaXRlbSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgaXRlbTogZmhpcjogTWVkaWNhdGlvbktub3dsZWRnZS5pbmdyZWRpZW50Lml0ZW1beF06JywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImlzQWN0aXZlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaXNBY3RpdmUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3RyZW5ndGhcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdHJlbmd0aC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VDb3N0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VDb3N0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhdGVnb3J5IG9mIHRoZSBjb3N0IGluZm9ybWF0aW9uLiAgRm9yIGV4YW1wbGUsIG1hbnVmYWN0dXJlcnMnIGNvc3QsIHBhdGllbnQgY29zdCwgY2xhaW0gcmVpbWJ1cnNlbWVudCBjb3N0LCBhY3R1YWwgYWNxdWlzaXRpb24gY29zdC5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIG9yIG93bmVyIHRoYXQgYXNzaWducyB0aGUgcHJpY2UgdG8gdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgc291cmNlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaWNlIG9mIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGNvc3Q6IGZoaXIuTW9uZXlBcmdzfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcHJpY2Ugb2YgdGhlIG1lZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZUNvc3QgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlQ29zdCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhdGVnb3J5IG9mIHRoZSBjb3N0IGluZm9ybWF0aW9uLiAgRm9yIGV4YW1wbGUsIG1hbnVmYWN0dXJlcnMnIGNvc3QsIHBhdGllbnQgY29zdCwgY2xhaW0gcmVpbWJ1cnNlbWVudCBjb3N0LCBhY3R1YWwgYWNxdWlzaXRpb24gY29zdC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIG9yIG93bmVyIHRoYXQgYXNzaWducyB0aGUgcHJpY2UgdG8gdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaWNlIG9mIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3N0OiBmaGlyLk1vbmV5fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZUNvc3QgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlQ29zdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZSddKSB7IHRoaXMuc291cmNlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zb3VyY2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29zdCddKSB7IHRoaXMuY29zdCA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS5jb3N0KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29zdCA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLmNvc3QudHlwZTpDb2RlYWJsZUNvbmNlcHQnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic291cmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc291cmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2Nvc3QnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGNvc3Q6Zmhpci5Nb25leSBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLmNvc3QuY29zdDpNb25leScsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJjb3N0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29zdC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VNb25pdG9yaW5nUHJvZ3JhbSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlTW9uaXRvcmluZ1Byb2dyYW1BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIHByb2dyYW0gdW5kZXIgd2hpY2ggdGhlIG1lZGljYXRpb24gaXMgbW9uaXRvcmVkLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5hbWUgb2YgdGhlIHJldmlld2luZyBwcm9ncmFtLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwcm9ncmFtIHVuZGVyIHdoaWNoIHRoZSBtZWRpY2F0aW9uIGlzIHJldmlld2VkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25Lbm93bGVkZ2VNb25pdG9yaW5nUHJvZ3JhbSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VNb25pdG9yaW5nUHJvZ3JhbSc7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBwcm9ncmFtIHVuZGVyIHdoaWNoIHRoZSBtZWRpY2F0aW9uIGlzIG1vbml0b3JlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOYW1lIG9mIHRoZSByZXZpZXdpbmcgcHJvZ3JhbS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZU1vbml0b3JpbmdQcm9ncmFtIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZU1vbml0b3JpbmdQcm9ncmFtQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzRG9zYWdlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNEb3NhZ2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBkb3NhZ2UgKGZvciBleGFtcGxlLCBwcm9waHlsYXhpcywgbWFpbnRlbmFuY2UsIHRoZXJhcGV1dGljLCBldGMuKS5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBEb3NhZ2UgZm9yIHRoZSBtZWRpY2F0aW9uIGZvciB0aGUgc3BlY2lmaWMgZ3VpZGVsaW5lcy5cclxuICAgKi9cclxuICBkb3NhZ2U6IGZoaXIuRG9zYWdlQXJnc1tdfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEb3NhZ2UgZm9yIHRoZSBtZWRpY2F0aW9uIGZvciB0aGUgc3BlY2lmaWMgZ3VpZGVsaW5lcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzRG9zYWdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0Rvc2FnZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZG9zYWdlIChmb3IgZXhhbXBsZSwgcHJvcGh5bGF4aXMsIG1haW50ZW5hbmNlLCB0aGVyYXBldXRpYywgZXRjLikuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRG9zYWdlIGZvciB0aGUgbWVkaWNhdGlvbiBmb3IgdGhlIHNwZWNpZmljIGd1aWRlbGluZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRvc2FnZTogZmhpci5Eb3NhZ2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzRG9zYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0Rvc2FnZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rvc2FnZSddKSB7IHRoaXMuZG9zYWdlID0gc291cmNlLmRvc2FnZS5tYXAoKHgpID0+IG5ldyBmaGlyLkRvc2FnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvc2FnZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3R5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHR5cGU6Zmhpci5Db2RlYWJsZUNvbmNlcHQgZmhpcjogTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMuZG9zYWdlLnR5cGU6Q29kZWFibGVDb25jZXB0JywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2Rvc2FnZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgZG9zYWdlOmZoaXIuRG9zYWdlW10gZmhpcjogTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMuZG9zYWdlLmRvc2FnZTpEb3NhZ2UnLCB9KTtcclxuICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5kb3NhZ2UpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdzdHJ1Y3R1cmUnLCAgZGlhZ25vc3RpY3M6ICdGb3VuZCBzY2FsYXIgaW4gYXJyYXkgcHJvcGVydHkgZG9zYWdlOmZoaXIuRG9zYWdlW10gZmhpcjogTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMuZG9zYWdlLmRvc2FnZTpEb3NhZ2UnLCB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5kb3NhZ2UubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgZG9zYWdlOmZoaXIuRG9zYWdlW10gZmhpcjogTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMuZG9zYWdlLmRvc2FnZTpEb3NhZ2UnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiZG9zYWdlXCJdKSB7IHRoaXMuZG9zYWdlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWMgY2hhcmFjdGVyaXN0aWMgdGhhdCBpcyByZWxldmFudCB0byB0aGUgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lIChlLmcuIGhlaWdodCwgd2VpZ2h0LCBnZW5kZXIpLlxyXG4gICAqL1xyXG4gIGNoYXJhY3RlcmlzdGljPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWMgY2hhcmFjdGVyaXN0aWMgdGhhdCBpcyByZWxldmFudCB0byB0aGUgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lIChlLmcuIGhlaWdodCwgd2VpZ2h0LCBnZW5kZXIpLlxyXG4gICAqL1xyXG4gIGNoYXJhY3RlcmlzdGljQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpYyBjaGFyYWN0ZXJpc3RpYyB0aGF0IGlzIHJlbGV2YW50IHRvIHRoZSBhZG1pbmlzdHJhdGlvbiBndWlkZWxpbmUgKGUuZy4gaGVpZ2h0LCB3ZWlnaHQsIGdlbmRlcikuXHJcbiAgICovXHJcbiAgY2hhcmFjdGVyaXN0aWNRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgY2hhcmFjdGVyaXN0aWMgKGUuZy4gaGVpZ2h0LCB3ZWlnaHQsIGdlbmRlciwgZXRjLikuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkZoaXJTdHJpbmdbXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGFyYWN0ZXJpc3RpY3Mgb2YgdGhlIHBhdGllbnQgdGhhdCBhcmUgcmVsZXZhbnQgdG8gdGhlIGFkbWluaXN0cmF0aW9uIGd1aWRlbGluZXMgKGZvciBleGFtcGxlLCBoZWlnaHQsIHdlaWdodCwgZ2VuZGVyLCBldGMuKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzUGF0aWVudENoYXJhY3RlcmlzdGljcyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzJztcclxuICAvKipcclxuICAgKiBTcGVjaWZpYyBjaGFyYWN0ZXJpc3RpYyB0aGF0IGlzIHJlbGV2YW50IHRvIHRoZSBhZG1pbmlzdHJhdGlvbiBndWlkZWxpbmUgKGUuZy4gaGVpZ2h0LCB3ZWlnaHQsIGdlbmRlcikuXHJcbiAgICovXHJcbiAgcHVibGljIGNoYXJhY3RlcmlzdGljOiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5RdWFudGl0eSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25Lbm93bGVkZ2UuYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzLnBhdGllbnRDaGFyYWN0ZXJpc3RpY3MuY2hhcmFjdGVyaXN0aWNbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfY2hhcmFjdGVyaXN0aWNJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgY2hhcmFjdGVyaXN0aWMgKGUuZy4gaGVpZ2h0LCB3ZWlnaHQsIGdlbmRlciwgZXRjLikuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlPzogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc1BhdGllbnRDaGFyYWN0ZXJpc3RpY3MgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzUGF0aWVudENoYXJhY3RlcmlzdGljc0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjaGFyYWN0ZXJpc3RpYyddKSB7IHRoaXMuY2hhcmFjdGVyaXN0aWMgPSBzb3VyY2UuY2hhcmFjdGVyaXN0aWM7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnY2hhcmFjdGVyaXN0aWNDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLmNoYXJhY3RlcmlzdGljID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jaGFyYWN0ZXJpc3RpY0NvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnY2hhcmFjdGVyaXN0aWNRdWFudGl0eSddKSB7IHRoaXMuY2hhcmFjdGVyaXN0aWMgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuY2hhcmFjdGVyaXN0aWNRdWFudGl0eSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNoYXJhY3RlcmlzdGljID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gc291cmNlLnZhbHVlLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snY2hhcmFjdGVyaXN0aWMnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGNoYXJhY3RlcmlzdGljOiBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLmFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcy5wYXRpZW50Q2hhcmFjdGVyaXN0aWNzLmNoYXJhY3RlcmlzdGljW3hdOicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ2YWx1ZVwiXSkgeyB0aGlzLnZhbHVlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIERvc2FnZSBmb3IgdGhlIG1lZGljYXRpb24gZm9yIHRoZSBzcGVjaWZpYyBndWlkZWxpbmVzLlxyXG4gICAqL1xyXG4gIGRvc2FnZT86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0Rvc2FnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGlvbiBmb3IgdXNlIHRoYXQgYXBwbHkgdG8gdGhlIHNwZWNpZmljIGFkbWluaXN0cmF0aW9uIGd1aWRlbGluZXMuXHJcbiAgICovXHJcbiAgaW5kaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0aW9uIGZvciB1c2UgdGhhdCBhcHBseSB0byB0aGUgc3BlY2lmaWMgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lcy5cclxuICAgKi9cclxuICBpbmRpY2F0aW9uQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0aW9uIGZvciB1c2UgdGhhdCBhcHBseSB0byB0aGUgc3BlY2lmaWMgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lcy5cclxuICAgKi9cclxuICBpbmRpY2F0aW9uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDaGFyYWN0ZXJpc3RpY3Mgb2YgdGhlIHBhdGllbnQgdGhhdCBhcmUgcmVsZXZhbnQgdG8gdGhlIGFkbWluaXN0cmF0aW9uIGd1aWRlbGluZXMgKGZvciBleGFtcGxlLCBoZWlnaHQsIHdlaWdodCwgZ2VuZGVyLCBldGMuKS5cclxuICAgKi9cclxuICBwYXRpZW50Q2hhcmFjdGVyaXN0aWNzPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlQWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzUGF0aWVudENoYXJhY3RlcmlzdGljc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHdWlkZWxpbmVzIGZvciB0aGUgYWRtaW5pc3RyYXRpb24gb2YgdGhlIG1lZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMnO1xyXG4gIC8qKlxyXG4gICAqIERvc2FnZSBmb3IgdGhlIG1lZGljYXRpb24gZm9yIHRoZSBzcGVjaWZpYyBndWlkZWxpbmVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb3NhZ2U/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNEb3NhZ2VbXTtcclxuICAvKipcclxuICAgKiBJbmRpY2F0aW9uIGZvciB1c2UgdGhhdCBhcHBseSB0byB0aGUgc3BlY2lmaWMgYWRtaW5pc3RyYXRpb24gZ3VpZGVsaW5lcy5cclxuICAgKi9cclxuICBwdWJsaWMgaW5kaWNhdGlvbj86IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgTWVkaWNhdGlvbktub3dsZWRnZS5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMuaW5kaWNhdGlvblt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19pbmRpY2F0aW9uSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogQ2hhcmFjdGVyaXN0aWNzIG9mIHRoZSBwYXRpZW50IHRoYXQgYXJlIHJlbGV2YW50IHRvIHRoZSBhZG1pbmlzdHJhdGlvbiBndWlkZWxpbmVzIChmb3IgZXhhbXBsZSwgaGVpZ2h0LCB3ZWlnaHQsIGdlbmRlciwgZXRjLikuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnRDaGFyYWN0ZXJpc3RpY3M/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZG9zYWdlJ10pIHsgdGhpcy5kb3NhZ2UgPSBzb3VyY2UuZG9zYWdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0Rvc2FnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvc2FnZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbmRpY2F0aW9uJ10pIHsgdGhpcy5pbmRpY2F0aW9uID0gc291cmNlLmluZGljYXRpb247IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnaW5kaWNhdGlvbkNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuaW5kaWNhdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuaW5kaWNhdGlvbkNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnaW5kaWNhdGlvblJlZmVyZW5jZSddKSB7IHRoaXMuaW5kaWNhdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuaW5kaWNhdGlvblJlZmVyZW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnRDaGFyYWN0ZXJpc3RpY3MnXSkgeyB0aGlzLnBhdGllbnRDaGFyYWN0ZXJpc3RpY3MgPSBzb3VyY2UucGF0aWVudENoYXJhY3RlcmlzdGljcy5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXNQYXRpZW50Q2hhcmFjdGVyaXN0aWNzKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGF0aWVudENoYXJhY3RlcmlzdGljcyA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcImRvc2FnZVwiXSkgeyB0aGlzLmRvc2FnZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicGF0aWVudENoYXJhY3RlcmlzdGljc1wiXSkgeyB0aGlzLnBhdGllbnRDaGFyYWN0ZXJpc3RpY3MuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbktub3dsZWRnZU1lZGljaW5lQ2xhc3NpZmljYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZU1lZGljaW5lQ2xhc3NpZmljYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBjYXRlZ29yeSBmb3IgdGhlIG1lZGljYXRpb24gKGZvciBleGFtcGxlLCB0aGVyYXBldXRpYyBjbGFzc2lmaWNhdGlvbiwgdGhlcmFwZXV0aWMgc3ViLWNsYXNzaWZpY2F0aW9uKS5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpYyBjYXRlZ29yeSBhc3NpZ25lZCB0byB0aGUgbWVkaWNhdGlvbiAoZS5nLiBhbnRpLWluZmVjdGl2ZSwgYW50aS1oeXBlcnRlbnNpdmUsIGFudGliaW90aWMsIGV0Yy4pLlxyXG4gICAqL1xyXG4gIGNsYXNzaWZpY2F0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ2F0ZWdvcml6YXRpb24gb2YgdGhlIG1lZGljYXRpb24gd2l0aGluIGEgZm9ybXVsYXJ5IG9yIGNsYXNzaWZpY2F0aW9uIHN5c3RlbS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlTWVkaWNpbmVDbGFzc2lmaWNhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VNZWRpY2luZUNsYXNzaWZpY2F0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBjYXRlZ29yeSBmb3IgdGhlIG1lZGljYXRpb24gKGZvciBleGFtcGxlLCB0aGVyYXBldXRpYyBjbGFzc2lmaWNhdGlvbiwgdGhlcmFwZXV0aWMgc3ViLWNsYXNzaWZpY2F0aW9uKS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpYyBjYXRlZ29yeSBhc3NpZ25lZCB0byB0aGUgbWVkaWNhdGlvbiAoZS5nLiBhbnRpLWluZmVjdGl2ZSwgYW50aS1oeXBlcnRlbnNpdmUsIGFudGliaW90aWMsIGV0Yy4pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFzc2lmaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZU1lZGljaW5lQ2xhc3NpZmljYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlTWVkaWNpbmVDbGFzc2lmaWNhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NsYXNzaWZpY2F0aW9uJ10pIHsgdGhpcy5jbGFzc2lmaWNhdGlvbiA9IHNvdXJjZS5jbGFzc2lmaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNsYXNzaWZpY2F0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLm1lZGljaW5lQ2xhc3NpZmljYXRpb24udHlwZTpDb2RlYWJsZUNvbmNlcHQnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY2xhc3NpZmljYXRpb25cIl0pIHsgdGhpcy5jbGFzc2lmaWNhdGlvbi5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlUGFja2FnaW5nIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VQYWNrYWdpbmdBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBkZWZpbmVzIHRoZSBzcGVjaWZpYyB0eXBlIG9mIHBhY2thZ2luZyB0aGF0IHRoZSBtZWRpY2F0aW9uIGNhbiBiZSBmb3VuZCBpbiAoZS5nLiBibGlzdGVyIHNsZWV2ZSwgdHViZSwgYm90dGxlKS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHByb2R1Y3QgdW5pdHMgdGhlIHBhY2thZ2Ugd291bGQgY29udGFpbiBpZiBmdWxseSBsb2FkZWQuXHJcbiAgICovXHJcbiAgcXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiB0aGF0IG9ubHkgYXBwbGllcyB0byBwYWNrYWdlcyAobm90IHByb2R1Y3RzKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlUGFja2FnaW5nIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZVBhY2thZ2luZyc7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgZGVmaW5lcyB0aGUgc3BlY2lmaWMgdHlwZSBvZiBwYWNrYWdpbmcgdGhhdCB0aGUgbWVkaWNhdGlvbiBjYW4gYmUgZm91bmQgaW4gKGUuZy4gYmxpc3RlciBzbGVldmUsIHR1YmUsIGJvdHRsZSkuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiBwcm9kdWN0IHVuaXRzIHRoZSBwYWNrYWdlIHdvdWxkIGNvbnRhaW4gaWYgZnVsbHkgbG9hZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VQYWNrYWdpbmcgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlUGFja2FnaW5nQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UucXVhbnRpdHkpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInF1YW50aXR5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucXVhbnRpdHkuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlRHJ1Z0NoYXJhY3RlcmlzdGljIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VEcnVnQ2hhcmFjdGVyaXN0aWNBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGUgc3BlY2lmeWluZyB3aGljaCBjaGFyYWN0ZXJpc3RpYyBvZiB0aGUgbWVkaWNpbmUgaXMgYmVpbmcgZGVzY3JpYmVkIChmb3IgZXhhbXBsZSwgY29sb3VyLCBzaGFwZSwgaW1wcmludCkuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlc2NyaXB0aW9uIHNob3VsZCBiZSBwcm92aWRlZCBhcyBhIENvZGVhYmxlQ29uY2VwdCwgU2ltcGxlUXVhbnRpdHkgb3IgYW4gaW1hZ2UuICBUaGUgZGVzY3JpcHRpb24gY2FuIGJlIGEgc3RyaW5nIG9ubHkgd2hlbiB0aGVzZSBvdGhlcnMgYXJlIG5vdCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5RdWFudGl0eXxmaGlyLkZoaXJCYXNlNjRCaW5hcnl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBDb2RlYWJsZUNvbmNlcHQsIFNpbXBsZVF1YW50aXR5IG9yIGFuIGltYWdlLiAgVGhlIGRlc2NyaXB0aW9uIGNhbiBiZSBhIHN0cmluZyBvbmx5IHdoZW4gdGhlc2Ugb3RoZXJzIGFyZSBub3QgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHZhbHVlQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGVzY3JpcHRpb24gc2hvdWxkIGJlIHByb3ZpZGVkIGFzIGEgQ29kZWFibGVDb25jZXB0LCBTaW1wbGVRdWFudGl0eSBvciBhbiBpbWFnZS4gIFRoZSBkZXNjcmlwdGlvbiBjYW4gYmUgYSBzdHJpbmcgb25seSB3aGVuIHRoZXNlIG90aGVycyBhcmUgbm90IGF2YWlsYWJsZS5cclxuICAgKi9cclxuICB2YWx1ZVN0cmluZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBDb2RlYWJsZUNvbmNlcHQsIFNpbXBsZVF1YW50aXR5IG9yIGFuIGltYWdlLiAgVGhlIGRlc2NyaXB0aW9uIGNhbiBiZSBhIHN0cmluZyBvbmx5IHdoZW4gdGhlc2Ugb3RoZXJzIGFyZSBub3QgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlc2NyaXB0aW9uIHNob3VsZCBiZSBwcm92aWRlZCBhcyBhIENvZGVhYmxlQ29uY2VwdCwgU2ltcGxlUXVhbnRpdHkgb3IgYW4gaW1hZ2UuICBUaGUgZGVzY3JpcHRpb24gY2FuIGJlIGEgc3RyaW5nIG9ubHkgd2hlbiB0aGVzZSBvdGhlcnMgYXJlIG5vdCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgdmFsdWVCYXNlNjRCaW5hcnk/OiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNwZWNpZmllcyBkZXNjcmlwdGl2ZSBwcm9wZXJ0aWVzIG9mIHRoZSBtZWRpY2luZSwgc3VjaCBhcyBjb2xvciwgc2hhcGUsIGltcHJpbnRzLCBldGMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZURydWdDaGFyYWN0ZXJpc3RpYyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VEcnVnQ2hhcmFjdGVyaXN0aWMnO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBzcGVjaWZ5aW5nIHdoaWNoIGNoYXJhY3RlcmlzdGljIG9mIHRoZSBtZWRpY2luZSBpcyBiZWluZyBkZXNjcmliZWQgKGZvciBleGFtcGxlLCBjb2xvdXIsIHNoYXBlLCBpbXByaW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGVzY3JpcHRpb24gc2hvdWxkIGJlIHByb3ZpZGVkIGFzIGEgQ29kZWFibGVDb25jZXB0LCBTaW1wbGVRdWFudGl0eSBvciBhbiBpbWFnZS4gIFRoZSBkZXNjcmlwdGlvbiBjYW4gYmUgYSBzdHJpbmcgb25seSB3aGVuIHRoZXNlIG90aGVycyBhcmUgbm90IGF2YWlsYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5GaGlyU3RyaW5nfGZoaXIuUXVhbnRpdHl8Zmhpci5GaGlyQmFzZTY0QmluYXJ5KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBNZWRpY2F0aW9uS25vd2xlZGdlLmRydWdDaGFyYWN0ZXJpc3RpYy52YWx1ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c192YWx1ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VEcnVnQ2hhcmFjdGVyaXN0aWMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlRHJ1Z0NoYXJhY3RlcmlzdGljQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBzb3VyY2UudmFsdWU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS52YWx1ZUNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVTdHJpbmcnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS52YWx1ZVN0cmluZ30pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlUXVhbnRpdHknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnZhbHVlUXVhbnRpdHkpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQmFzZTY0QmluYXJ5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJCYXNlNjRCaW5hcnkoe3ZhbHVlOiBzb3VyY2UudmFsdWVCYXNlNjRCaW5hcnl9KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U3Vic3RpdHV0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U3Vic3RpdHV0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIHRoZSB0eXBlIG9mIHN1YnN0aXR1dGlvbiBhbGxvd2VkLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyBpZiByZWd1bGF0aW9uIGFsbG93cyBmb3IgY2hhbmdlcyBpbiB0aGUgbWVkaWNhdGlvbiB3aGVuIGRpc3BlbnNpbmcuXHJcbiAgICovXHJcbiAgYWxsb3dlZDogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNwZWNpZmllcyBpZiBjaGFuZ2VzIGFyZSBhbGxvd2VkIHdoZW4gZGlzcGVuc2luZyBhIG1lZGljYXRpb24gZnJvbSBhIHJlZ3VsYXRvcnkgcGVyc3BlY3RpdmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTdWJzdGl0dXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVN1YnN0aXR1dGlvbic7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIHRoZSB0eXBlIG9mIHN1YnN0aXR1dGlvbiBhbGxvd2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyBpZiByZWd1bGF0aW9uIGFsbG93cyBmb3IgY2hhbmdlcyBpbiB0aGUgbWVkaWNhdGlvbiB3aGVuIGRpc3BlbnNpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGFsbG93ZWQ6IGZoaXIuRmhpckJvb2xlYW58bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVN1YnN0aXR1dGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U3Vic3RpdHV0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWxsb3dlZCddKSB7IHRoaXMuYWxsb3dlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmFsbG93ZWR9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWxsb3dlZCA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZTpmaGlyLkNvZGVhYmxlQ29uY2VwdCBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLnJlZ3VsYXRvcnkuc3Vic3RpdHV0aW9uLnR5cGU6Q29kZWFibGVDb25jZXB0JywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2FsbG93ZWQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGFsbG93ZWQ6Zmhpci5GaGlyQm9vbGVhbiBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLnJlZ3VsYXRvcnkuc3Vic3RpdHV0aW9uLmFsbG93ZWQ6Ym9vbGVhbicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJhbGxvd2VkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYWxsb3dlZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U2NoZWR1bGUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTY2hlZHVsZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyB0aGUgc3BlY2lmaWMgZHJ1ZyBzY2hlZHVsZS5cclxuICAgKi9cclxuICBzY2hlZHVsZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTcGVjaWZpZXMgdGhlIHNjaGVkdWxlIG9mIGEgbWVkaWNhdGlvbiBpbiBqdXJpc2RpY3Rpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTY2hlZHVsZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U2NoZWR1bGUnO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyB0aGUgc3BlY2lmaWMgZHJ1ZyBzY2hlZHVsZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2NoZWR1bGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTY2hlZHVsZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5U2NoZWR1bGVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2NoZWR1bGUnXSkgeyB0aGlzLnNjaGVkdWxlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zY2hlZHVsZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNjaGVkdWxlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydzY2hlZHVsZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc2NoZWR1bGU6Zmhpci5Db2RlYWJsZUNvbmNlcHQgZmhpcjogTWVkaWNhdGlvbktub3dsZWRnZS5yZWd1bGF0b3J5LnNjaGVkdWxlLnNjaGVkdWxlOkNvZGVhYmxlQ29uY2VwdCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzY2hlZHVsZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNjaGVkdWxlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlNYXhEaXNwZW5zZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeU1heERpc3BlbnNlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZC5cclxuICAgKi9cclxuICBxdWFudGl0eTogZmhpci5RdWFudGl0eUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIHRoYXQgYXBwbGllcyB0byB0aGUgbWF4aW11bSBudW1iZXIgb2YgdW5pdHMuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5EdXJhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZCBpbiBhIHBlcmlvZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeU1heERpc3BlbnNlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlNYXhEaXNwZW5zZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcXVhbnRpdHk6IGZoaXIuUXVhbnRpdHl8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIHRoYXQgYXBwbGllcyB0byB0aGUgbWF4aW11bSBudW1iZXIgb2YgdW5pdHMuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IGZoaXIuRHVyYXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5TWF4RGlzcGVuc2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeU1heERpc3BlbnNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10pIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5xdWFudGl0eSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnF1YW50aXR5ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5EdXJhdGlvbihzb3VyY2UucGVyaW9kKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydxdWFudGl0eSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcXVhbnRpdHk6Zmhpci5RdWFudGl0eSBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLnJlZ3VsYXRvcnkubWF4RGlzcGVuc2UucXVhbnRpdHk6UXVhbnRpdHknLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicXVhbnRpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5xdWFudGl0eS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwZXJpb2RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wZXJpb2QuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhdXRob3JpdHkgdGhhdCBpcyBzcGVjaWZ5aW5nIHRoZSByZWd1bGF0aW9ucy5cclxuICAgKi9cclxuICByZWd1bGF0b3J5QXV0aG9yaXR5OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgaWYgY2hhbmdlcyBhcmUgYWxsb3dlZCB3aGVuIGRpc3BlbnNpbmcgYSBtZWRpY2F0aW9uIGZyb20gYSByZWd1bGF0b3J5IHBlcnNwZWN0aXZlLlxyXG4gICAqL1xyXG4gIHN1YnN0aXR1dGlvbj86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTdWJzdGl0dXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyB0aGUgc2NoZWR1bGUgb2YgYSBtZWRpY2F0aW9uIGluIGp1cmlzZGljdGlvbi5cclxuICAgKi9cclxuICBzY2hlZHVsZT86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTY2hlZHVsZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZCBpbiBhIHBlcmlvZC5cclxuICAgKi9cclxuICBtYXhEaXNwZW5zZT86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlNYXhEaXNwZW5zZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogUmVndWxhdG9yeSBpbmZvcm1hdGlvbiBhYm91dCBhIG1lZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGF1dGhvcml0eSB0aGF0IGlzIHNwZWNpZnlpbmcgdGhlIHJlZ3VsYXRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWd1bGF0b3J5QXV0aG9yaXR5OiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyBpZiBjaGFuZ2VzIGFyZSBhbGxvd2VkIHdoZW4gZGlzcGVuc2luZyBhIG1lZGljYXRpb24gZnJvbSBhIHJlZ3VsYXRvcnkgcGVyc3BlY3RpdmUuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YnN0aXR1dGlvbj86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlTdWJzdGl0dXRpb25bXTtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgdGhlIHNjaGVkdWxlIG9mIGEgbWVkaWNhdGlvbiBpbiBqdXJpc2RpY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHNjaGVkdWxlPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVNjaGVkdWxlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgY2FuIGJlIGRpc3BlbnNlZCBpbiBhIHBlcmlvZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4RGlzcGVuc2U/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5TWF4RGlzcGVuc2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncmVndWxhdG9yeUF1dGhvcml0eSddKSB7IHRoaXMucmVndWxhdG9yeUF1dGhvcml0eSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVndWxhdG9yeUF1dGhvcml0eSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZ3VsYXRvcnlBdXRob3JpdHkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJzdGl0dXRpb24nXSkgeyB0aGlzLnN1YnN0aXR1dGlvbiA9IHNvdXJjZS5zdWJzdGl0dXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVN1YnN0aXR1dGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1YnN0aXR1dGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzY2hlZHVsZSddKSB7IHRoaXMuc2NoZWR1bGUgPSBzb3VyY2Uuc2NoZWR1bGUubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeVNjaGVkdWxlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2NoZWR1bGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWF4RGlzcGVuc2UnXSkgeyB0aGlzLm1heERpc3BlbnNlID0gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlZ3VsYXRvcnlNYXhEaXNwZW5zZShzb3VyY2UubWF4RGlzcGVuc2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAoIXRoaXNbJ3JlZ3VsYXRvcnlBdXRob3JpdHknXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlZ3VsYXRvcnlBdXRob3JpdHk6Zmhpci5SZWZlcmVuY2UgZmhpcjogTWVkaWNhdGlvbktub3dsZWRnZS5yZWd1bGF0b3J5LnJlZ3VsYXRvcnlBdXRob3JpdHk6UmVmZXJlbmNlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInJlZ3VsYXRvcnlBdXRob3JpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZWd1bGF0b3J5QXV0aG9yaXR5LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInN1YnN0aXR1dGlvblwiXSkgeyB0aGlzLnN1YnN0aXR1dGlvbi5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wic2NoZWR1bGVcIl0pIHsgdGhpcy5zY2hlZHVsZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wibWF4RGlzcGVuc2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tYXhEaXNwZW5zZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25Lbm93bGVkZ2VLaW5ldGljcyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uS25vd2xlZGdlS2luZXRpY3NBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgZHJ1ZyBjb25jZW50cmF0aW9uIG1lYXN1cmVkIGF0IGNlcnRhaW4gZGlzY3JldGUgcG9pbnRzIGluIHRpbWUuXHJcbiAgICovXHJcbiAgYXJlYVVuZGVyQ3VydmU/OiBmaGlyLlF1YW50aXR5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWVkaWFuIGxldGhhbCBkb3NlIG9mIGEgZHJ1Zy5cclxuICAgKi9cclxuICBsZXRoYWxEb3NlNTA/OiBmaGlyLlF1YW50aXR5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSByZXF1aXJlZCBmb3IgYW55IHNwZWNpZmllZCBwcm9wZXJ0eSAoZS5nLiwgdGhlIGNvbmNlbnRyYXRpb24gb2YgYSBzdWJzdGFuY2UgaW4gdGhlIGJvZHkpIHRvIGRlY3JlYXNlIGJ5IGhhbGYuXHJcbiAgICovXHJcbiAgaGFsZkxpZmVQZXJpb2Q/OiBmaGlyLkR1cmF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgdGltZSBjb3Vyc2Ugb2YgZHJ1ZyBhYnNvcnB0aW9uLCBkaXN0cmlidXRpb24sIG1ldGFib2xpc20gYW5kIGV4Y3JldGlvbiBvZiBhIG1lZGljYXRpb24gZnJvbSB0aGUgYm9keS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uS25vd2xlZGdlS2luZXRpY3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uS25vd2xlZGdlS2luZXRpY3MnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkcnVnIGNvbmNlbnRyYXRpb24gbWVhc3VyZWQgYXQgY2VydGFpbiBkaXNjcmV0ZSBwb2ludHMgaW4gdGltZS5cclxuICAgKi9cclxuICBwdWJsaWMgYXJlYVVuZGVyQ3VydmU/OiBmaGlyLlF1YW50aXR5W107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lZGlhbiBsZXRoYWwgZG9zZSBvZiBhIGRydWcuXHJcbiAgICovXHJcbiAgcHVibGljIGxldGhhbERvc2U1MD86IGZoaXIuUXVhbnRpdHlbXTtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSByZXF1aXJlZCBmb3IgYW55IHNwZWNpZmllZCBwcm9wZXJ0eSAoZS5nLiwgdGhlIGNvbmNlbnRyYXRpb24gb2YgYSBzdWJzdGFuY2UgaW4gdGhlIGJvZHkpIHRvIGRlY3JlYXNlIGJ5IGhhbGYuXHJcbiAgICovXHJcbiAgcHVibGljIGhhbGZMaWZlUGVyaW9kPzogZmhpci5EdXJhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbktub3dsZWRnZUtpbmV0aWNzIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZUtpbmV0aWNzQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2FyZWFVbmRlckN1cnZlJ10pIHsgdGhpcy5hcmVhVW5kZXJDdXJ2ZSA9IHNvdXJjZS5hcmVhVW5kZXJDdXJ2ZS5tYXAoKHgpID0+IG5ldyBmaGlyLlF1YW50aXR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXJlYVVuZGVyQ3VydmUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGV0aGFsRG9zZTUwJ10pIHsgdGhpcy5sZXRoYWxEb3NlNTAgPSBzb3VyY2UubGV0aGFsRG9zZTUwLm1hcCgoeCkgPT4gbmV3IGZoaXIuUXVhbnRpdHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5sZXRoYWxEb3NlNTAgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaGFsZkxpZmVQZXJpb2QnXSkgeyB0aGlzLmhhbGZMaWZlUGVyaW9kID0gbmV3IGZoaXIuRHVyYXRpb24oc291cmNlLmhhbGZMaWZlUGVyaW9kKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJhcmVhVW5kZXJDdXJ2ZVwiXSkgeyB0aGlzLmFyZWFVbmRlckN1cnZlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJsZXRoYWxEb3NlNTBcIl0pIHsgdGhpcy5sZXRoYWxEb3NlNTAuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImhhbGZMaWZlUGVyaW9kXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaGFsZkxpZmVQZXJpb2QuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uS25vd2xlZGdlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25Lbm93bGVkZ2VBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJNZWRpY2F0aW9uS25vd2xlZGdlXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlcGVuZGluZyBvbiB0aGUgY29udGV4dCBvZiB1c2UsIHRoZSBjb2RlIHRoYXQgd2FzIGFjdHVhbGx5IHNlbGVjdGVkIGJ5IHRoZSB1c2VyIChwcmVzY3JpYmVyLCBkaXNwZW5zZXIsIGV0Yy4pIHdpbGwgaGF2ZSB0aGUgY29kaW5nLnVzZXJTZWxlY3RlZCBzZXQgdG8gdHJ1ZS4gIEFzIGRlc2NyaWJlZCBpbiB0aGUgY29kaW5nIGRhdGF0eXBlOiBcIkEgY29kaW5nIG1heSBiZSBtYXJrZWQgYXMgYSBcInVzZXJTZWxlY3RlZFwiIGlmIGEgdXNlciBzZWxlY3RlZCB0aGUgcGFydGljdWxhciBjb2RlZCB2YWx1ZSBpbiBhIHVzZXIgaW50ZXJmYWNlIChlLmcuIHRoZSB1c2VyIHNlbGVjdHMgYW4gaXRlbSBpbiBhIHBpY2stbGlzdCkuIElmIGEgdXNlciBzZWxlY3RlZCBjb2RpbmcgZXhpc3RzLCBpdCBpcyB0aGUgcHJlZmVycmVkIGNob2ljZSBmb3IgcGVyZm9ybWluZyB0cmFuc2xhdGlvbnMgZXRjLiBPdGhlciBjb2RlcyBjYW4gb25seSBiZSBsaXRlcmFsIHRyYW5zbGF0aW9ucyB0byBhbHRlcm5hdGl2ZSBjb2RlIHN5c3RlbXMsIG9yIGNvZGVzIGF0IGEgbG93ZXIgbGV2ZWwgb2YgZ3JhbnVsYXJpdHkgKGUuZy4gYSBnZW5lcmljIGNvZGUgZm9yIGEgdmVuZG9yLXNwZWNpZmljIHByaW1hcnkgb25lKS5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHN0YXR1cyBpcyBpbnRlbmRlZCB0byBpZGVudGlmeSBpZiB0aGUgbWVkaWNhdGlvbiBpbiBhIGxvY2FsIHN5c3RlbSBpcyBpbiBhY3RpdmUgdXNlIHdpdGhpbiBhIGRydWcgZGF0YWJhc2Ugb3IgaW52ZW50b3J5LiAgRm9yIGV4YW1wbGUsIGEgcGhhcm1hY3kgc3lzdGVtIG1heSBjcmVhdGUgYSBuZXcgZHJ1ZyBmaWxlIHJlY29yZCBmb3IgYSBjb21wb3VuZGVkIHByb2R1Y3QgXCJBQkMgSG9zcGl0YWwgU3BlY2lhbCBDcmVhbVwiIHdpdGggYW4gYWN0aXZlIHN0YXR1cy4gIEF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSwgaXQgbWF5IGJlIGRldGVybWluZWQgdGhhdCB0aGUgZHJ1ZyByZWNvcmQgd2FzIGNyZWF0ZWQgd2l0aCBhbiBlcnJvciBhbmQgdGhlIHN0YXR1cyBpcyBjaGFuZ2VkIHRvIFwiZW50ZXJlZCBpbiBlcnJvclwiLiAgIFRoaXMgc3RhdHVzIGlzIG5vdCBpbnRlbmRlZCB0byBzcGVjaWZ5IGlmIGEgbWVkaWNhdGlvbiBpcyBwYXJ0IG9mIGEgcGFydGljdWxhciBmb3JtdWxhcnkuICBJdCBpcyBwb3NzaWJsZSB0aGF0IHRoZSBkcnVnIHJlY29yZCBtYXkgYmUgcmVmZXJlbmNlZCBieSBtdWx0aXBsZSBmb3JtdWxhcmllcyBvciBjYXRhbG9ndWVzIGFuZCBlYWNoIG9mIHRob3NlIGVudHJpZXMgd291bGQgaGF2ZSBhIHNlcGFyYXRlIHN0YXR1cy5cclxuICAgKi9cclxuICBzdGF0dXM/OiBNZWRpY2F0aW9ua25vd2xlZGdlU3RhdHVzQ29kZVR5cGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgZGV0YWlscyBvZiB0aGUgbWFudWZhY3R1cmVyIG9mIHRoZSBtZWRpY2F0aW9uIHByb2R1Y3QuICBUaGlzIGlzIG5vdCBpbnRlbmRlZCB0byByZXByZXNlbnQgdGhlIGRpc3RyaWJ1dG9yIG9mIGEgbWVkaWNhdGlvbiBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIG1hbnVmYWN0dXJlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiBNZWRpY2F0aW9uIGlzIHJlZmVyZW5jZWQgZnJvbSBNZWRpY2F0aW9uUmVxdWVzdCwgdGhpcyBpcyB0aGUgb3JkZXJlZCBmb3JtLiAgV2hlbiBNZWRpY2F0aW9uIGlzIHJlZmVyZW5jZWQgd2l0aGluIE1lZGljYXRpb25EaXNwZW5zZSwgdGhpcyBpcyB0aGUgZGlzcGVuc2VkIGZvcm0uICBXaGVuIE1lZGljYXRpb24gaXMgcmVmZXJlbmNlZCB3aXRoaW4gTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLCB0aGlzIGlzIGFkbWluaXN0ZXJlZCBmb3JtLlxyXG4gICAqL1xyXG4gIGRvc2VGb3JtPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIHRoZSBxdWFudGl0eSBvZiBtZWRpY2F0aW9uIGluIGEgcGFja2FnZS4gIFRvIHNwZWNpZnkgdGhlIHN0cmVuZ3RoIG9mIHRoZSBtZWRpY2F0aW9uLCB0aGUgSW5ncmVkaWVudC5zdHJlbmd0aCBhdHRyaWJ1dGUgaXMgdXNlZC5cclxuICAgKi9cclxuICBhbW91bnQ/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBuYW1lcyBmb3IgYSBtZWRpY2F0aW9uLCBmb3IgZXhhbXBsZSwgdGhlIG5hbWUocykgZ2l2ZW4gdG8gYSBtZWRpY2F0aW9uIGluIGRpZmZlcmVudCBjb3VudHJpZXMuICBGb3IgZXhhbXBsZSwgYWNldGFtaW5vcGhlbiBhbmQgcGFyYWNldGFtb2wgb3Igc2FsYnV0YW1vbCBhbmQgYWxidXRlcm9sLlxyXG4gICAqL1xyXG4gIHN5bm9ueW0/OiBmaGlyLkZoaXJTdHJpbmdbXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBvciByZWxhdGVkIGtub3dsZWRnZSBhYm91dCBhIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2U/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBvciByZWxhdGVkIG1lZGljYXRpb25zLiAgRm9yIGV4YW1wbGUsIGlmIHRoZSBtZWRpY2F0aW9uIGlzIGEgYnJhbmRlZCBwcm9kdWN0IChlLmcuIENyZXN0b3IpLCB0aGlzIGlzIHRoZSBUaGVyYXBldXRpYyBNb2VpdHkgKGUuZy4gUm9zdXZhc3RhdGluKSBvciBpZiB0aGlzIGlzIGEgZ2VuZXJpYyBtZWRpY2F0aW9uIChlLmcuIFJvc3V2YXN0YXRpbiksIHRoaXMgd291bGQgbGluayB0byBhIGJyYW5kZWQgcHJvZHVjdCAoZS5nLiBDcmVzdG9yKS5cclxuICAgKi9cclxuICBhc3NvY2lhdGVkTWVkaWNhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYXRlZ29yeSBvZiB0aGUgbWVkaWNhdGlvbiBvciBwcm9kdWN0IChlLmcuIGJyYW5kZWQgcHJvZHVjdCwgdGhlcmFwZXV0aWMgbW9laXR5LCBnZW5lcmljIHByb2R1Y3QsIGlubm92YXRvciBwcm9kdWN0LCBldGMuKS5cclxuICAgKi9cclxuICBwcm9kdWN0VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gYWJvdXQgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgbW9ub2dyYXBoPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlTW9ub2dyYXBoQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIGEgcGFydGljdWxhciBjb25zdGl0dWVudCBvZiBpbnRlcmVzdCBpbiB0aGUgcHJvZHVjdC5cclxuICAgKi9cclxuICBpbmdyZWRpZW50PzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluc3RydWN0aW9ucyBmb3IgcHJlcGFyaW5nIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHByZXBhcmF0aW9uSW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlbmRlZCBvciBhcHByb3ZlZCByb3V0ZSBvZiBhZG1pbmlzdHJhdGlvbi5cclxuICAgKi9cclxuICBpbnRlbmRlZFJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmljZSBvZiB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBjb3N0PzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlQ29zdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2dyYW0gdW5kZXIgd2hpY2ggdGhlIG1lZGljYXRpb24gaXMgcmV2aWV3ZWQuXHJcbiAgICovXHJcbiAgbW9uaXRvcmluZ1Byb2dyYW0/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNb25pdG9yaW5nUHJvZ3JhbUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogR3VpZGVsaW5lcyBmb3IgdGhlIGFkbWluaXN0cmF0aW9uIG9mIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcz86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2F0ZWdvcml6YXRpb24gb2YgdGhlIG1lZGljYXRpb24gd2l0aGluIGEgZm9ybXVsYXJ5IG9yIGNsYXNzaWZpY2F0aW9uIHN5c3RlbS5cclxuICAgKi9cclxuICBtZWRpY2luZUNsYXNzaWZpY2F0aW9uPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlTWVkaWNpbmVDbGFzc2lmaWNhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gdGhhdCBvbmx5IGFwcGxpZXMgdG8gcGFja2FnZXMgKG5vdCBwcm9kdWN0cykuXHJcbiAgICovXHJcbiAgcGFja2FnaW5nPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUGFja2FnaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIGRlc2NyaXB0aXZlIHByb3BlcnRpZXMgb2YgdGhlIG1lZGljaW5lLCBzdWNoIGFzIGNvbG9yLCBzaGFwZSwgaW1wcmludHMsIGV0Yy5cclxuICAgKi9cclxuICBkcnVnQ2hhcmFjdGVyaXN0aWM/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VEcnVnQ2hhcmFjdGVyaXN0aWNBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBvdGVudGlhbCBjbGluaWNhbCBpc3N1ZSB3aXRoIG9yIGJldHdlZW4gbWVkaWNhdGlvbihzKSAoZm9yIGV4YW1wbGUsIGRydWctZHJ1ZyBpbnRlcmFjdGlvbiwgZHJ1Zy1kaXNlYXNlIGNvbnRyYWluZGljYXRpb24sIGRydWctYWxsZXJneSBpbnRlcmFjdGlvbiwgZXRjLikuXHJcbiAgICovXHJcbiAgY29udHJhaW5kaWNhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWd1bGF0b3J5IGluZm9ybWF0aW9uIGFib3V0IGEgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICByZWd1bGF0b3J5PzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlUmVndWxhdG9yeUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgY291cnNlIG9mIGRydWcgYWJzb3JwdGlvbiwgZGlzdHJpYnV0aW9uLCBtZXRhYm9saXNtIGFuZCBleGNyZXRpb24gb2YgYSBtZWRpY2F0aW9uIGZyb20gdGhlIGJvZHkuXHJcbiAgICovXHJcbiAga2luZXRpY3M/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VLaW5ldGljc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCBhIG1lZGljYXRpb24gdGhhdCBpcyB1c2VkIHRvIHN1cHBvcnQga25vd2xlZGdlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25Lbm93bGVkZ2UgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25Lbm93bGVkZ2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiTWVkaWNhdGlvbktub3dsZWRnZVwiO1xyXG4gIC8qKlxyXG4gICAqIERlcGVuZGluZyBvbiB0aGUgY29udGV4dCBvZiB1c2UsIHRoZSBjb2RlIHRoYXQgd2FzIGFjdHVhbGx5IHNlbGVjdGVkIGJ5IHRoZSB1c2VyIChwcmVzY3JpYmVyLCBkaXNwZW5zZXIsIGV0Yy4pIHdpbGwgaGF2ZSB0aGUgY29kaW5nLnVzZXJTZWxlY3RlZCBzZXQgdG8gdHJ1ZS4gIEFzIGRlc2NyaWJlZCBpbiB0aGUgY29kaW5nIGRhdGF0eXBlOiBcIkEgY29kaW5nIG1heSBiZSBtYXJrZWQgYXMgYSBcInVzZXJTZWxlY3RlZFwiIGlmIGEgdXNlciBzZWxlY3RlZCB0aGUgcGFydGljdWxhciBjb2RlZCB2YWx1ZSBpbiBhIHVzZXIgaW50ZXJmYWNlIChlLmcuIHRoZSB1c2VyIHNlbGVjdHMgYW4gaXRlbSBpbiBhIHBpY2stbGlzdCkuIElmIGEgdXNlciBzZWxlY3RlZCBjb2RpbmcgZXhpc3RzLCBpdCBpcyB0aGUgcHJlZmVycmVkIGNob2ljZSBmb3IgcGVyZm9ybWluZyB0cmFuc2xhdGlvbnMgZXRjLiBPdGhlciBjb2RlcyBjYW4gb25seSBiZSBsaXRlcmFsIHRyYW5zbGF0aW9ucyB0byBhbHRlcm5hdGl2ZSBjb2RlIHN5c3RlbXMsIG9yIGNvZGVzIGF0IGEgbG93ZXIgbGV2ZWwgb2YgZ3JhbnVsYXJpdHkgKGUuZy4gYSBnZW5lcmljIGNvZGUgZm9yIGEgdmVuZG9yLXNwZWNpZmljIHByaW1hcnkgb25lKS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHN0YXR1cyBpcyBpbnRlbmRlZCB0byBpZGVudGlmeSBpZiB0aGUgbWVkaWNhdGlvbiBpbiBhIGxvY2FsIHN5c3RlbSBpcyBpbiBhY3RpdmUgdXNlIHdpdGhpbiBhIGRydWcgZGF0YWJhc2Ugb3IgaW52ZW50b3J5LiAgRm9yIGV4YW1wbGUsIGEgcGhhcm1hY3kgc3lzdGVtIG1heSBjcmVhdGUgYSBuZXcgZHJ1ZyBmaWxlIHJlY29yZCBmb3IgYSBjb21wb3VuZGVkIHByb2R1Y3QgXCJBQkMgSG9zcGl0YWwgU3BlY2lhbCBDcmVhbVwiIHdpdGggYW4gYWN0aXZlIHN0YXR1cy4gIEF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSwgaXQgbWF5IGJlIGRldGVybWluZWQgdGhhdCB0aGUgZHJ1ZyByZWNvcmQgd2FzIGNyZWF0ZWQgd2l0aCBhbiBlcnJvciBhbmQgdGhlIHN0YXR1cyBpcyBjaGFuZ2VkIHRvIFwiZW50ZXJlZCBpbiBlcnJvclwiLiAgIFRoaXMgc3RhdHVzIGlzIG5vdCBpbnRlbmRlZCB0byBzcGVjaWZ5IGlmIGEgbWVkaWNhdGlvbiBpcyBwYXJ0IG9mIGEgcGFydGljdWxhciBmb3JtdWxhcnkuICBJdCBpcyBwb3NzaWJsZSB0aGF0IHRoZSBkcnVnIHJlY29yZCBtYXkgYmUgcmVmZXJlbmNlZCBieSBtdWx0aXBsZSBmb3JtdWxhcmllcyBvciBjYXRhbG9ndWVzIGFuZCBlYWNoIG9mIHRob3NlIGVudHJpZXMgd291bGQgaGF2ZSBhIHNlcGFyYXRlIHN0YXR1cy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzPzogTWVkaWNhdGlvbmtub3dsZWRnZVN0YXR1c0NvZGVUeXBlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIGRldGFpbHMgb2YgdGhlIG1hbnVmYWN0dXJlciBvZiB0aGUgbWVkaWNhdGlvbiBwcm9kdWN0LiAgVGhpcyBpcyBub3QgaW50ZW5kZWQgdG8gcmVwcmVzZW50IHRoZSBkaXN0cmlidXRvciBvZiBhIG1lZGljYXRpb24gcHJvZHVjdC5cclxuICAgKi9cclxuICBwdWJsaWMgbWFudWZhY3R1cmVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gTWVkaWNhdGlvbiBpcyByZWZlcmVuY2VkIGZyb20gTWVkaWNhdGlvblJlcXVlc3QsIHRoaXMgaXMgdGhlIG9yZGVyZWQgZm9ybS4gIFdoZW4gTWVkaWNhdGlvbiBpcyByZWZlcmVuY2VkIHdpdGhpbiBNZWRpY2F0aW9uRGlzcGVuc2UsIHRoaXMgaXMgdGhlIGRpc3BlbnNlZCBmb3JtLiAgV2hlbiBNZWRpY2F0aW9uIGlzIHJlZmVyZW5jZWQgd2l0aGluIE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiwgdGhpcyBpcyBhZG1pbmlzdGVyZWQgZm9ybS5cclxuICAgKi9cclxuICBwdWJsaWMgZG9zZUZvcm0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyB0aGUgcXVhbnRpdHkgb2YgbWVkaWNhdGlvbiBpbiBhIHBhY2thZ2UuICBUbyBzcGVjaWZ5IHRoZSBzdHJlbmd0aCBvZiB0aGUgbWVkaWNhdGlvbiwgdGhlIEluZ3JlZGllbnQuc3RyZW5ndGggYXR0cmlidXRlIGlzIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGFtb3VudD86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgbmFtZXMgZm9yIGEgbWVkaWNhdGlvbiwgZm9yIGV4YW1wbGUsIHRoZSBuYW1lKHMpIGdpdmVuIHRvIGEgbWVkaWNhdGlvbiBpbiBkaWZmZXJlbnQgY291bnRyaWVzLiAgRm9yIGV4YW1wbGUsIGFjZXRhbWlub3BoZW4gYW5kIHBhcmFjZXRhbW9sIG9yIHNhbGJ1dGFtb2wgYW5kIGFsYnV0ZXJvbC5cclxuICAgKi9cclxuICBwdWJsaWMgc3lub255bT86IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIEFzc29jaWF0ZWQgb3IgcmVsYXRlZCBrbm93bGVkZ2UgYWJvdXQgYSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGVkTWVkaWNhdGlvbktub3dsZWRnZT86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlW107XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBvciByZWxhdGVkIG1lZGljYXRpb25zLiAgRm9yIGV4YW1wbGUsIGlmIHRoZSBtZWRpY2F0aW9uIGlzIGEgYnJhbmRlZCBwcm9kdWN0IChlLmcuIENyZXN0b3IpLCB0aGlzIGlzIHRoZSBUaGVyYXBldXRpYyBNb2VpdHkgKGUuZy4gUm9zdXZhc3RhdGluKSBvciBpZiB0aGlzIGlzIGEgZ2VuZXJpYyBtZWRpY2F0aW9uIChlLmcuIFJvc3V2YXN0YXRpbiksIHRoaXMgd291bGQgbGluayB0byBhIGJyYW5kZWQgcHJvZHVjdCAoZS5nLiBDcmVzdG9yKS5cclxuICAgKi9cclxuICBwdWJsaWMgYXNzb2NpYXRlZE1lZGljYXRpb24/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIENhdGVnb3J5IG9mIHRoZSBtZWRpY2F0aW9uIG9yIHByb2R1Y3QgKGUuZy4gYnJhbmRlZCBwcm9kdWN0LCB0aGVyYXBldXRpYyBtb2VpdHksIGdlbmVyaWMgcHJvZHVjdCwgaW5ub3ZhdG9yIHByb2R1Y3QsIGV0Yy4pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9kdWN0VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb25vZ3JhcGg/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNb25vZ3JhcGhbXTtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIGEgcGFydGljdWxhciBjb25zdGl0dWVudCBvZiBpbnRlcmVzdCBpbiB0aGUgcHJvZHVjdC5cclxuICAgKi9cclxuICBwdWJsaWMgaW5ncmVkaWVudD86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUluZ3JlZGllbnRbXTtcclxuICAvKipcclxuICAgKiBUaGUgaW5zdHJ1Y3Rpb25zIGZvciBwcmVwYXJpbmcgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHByZXBhcmF0aW9uSW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGludGVuZGVkIG9yIGFwcHJvdmVkIHJvdXRlIG9mIGFkbWluaXN0cmF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnRlbmRlZFJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgcHJpY2Ugb2YgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvc3Q/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VDb3N0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2dyYW0gdW5kZXIgd2hpY2ggdGhlIG1lZGljYXRpb24gaXMgcmV2aWV3ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG1vbml0b3JpbmdQcm9ncmFtPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlTW9uaXRvcmluZ1Byb2dyYW1bXTtcclxuICAvKipcclxuICAgKiBHdWlkZWxpbmVzIGZvciB0aGUgYWRtaW5pc3RyYXRpb24gb2YgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcz86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUFkbWluaXN0cmF0aW9uR3VpZGVsaW5lc1tdO1xyXG4gIC8qKlxyXG4gICAqIENhdGVnb3JpemF0aW9uIG9mIHRoZSBtZWRpY2F0aW9uIHdpdGhpbiBhIGZvcm11bGFyeSBvciBjbGFzc2lmaWNhdGlvbiBzeXN0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIG1lZGljaW5lQ2xhc3NpZmljYXRpb24/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNZWRpY2luZUNsYXNzaWZpY2F0aW9uW107XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gdGhhdCBvbmx5IGFwcGxpZXMgdG8gcGFja2FnZXMgKG5vdCBwcm9kdWN0cykuXHJcbiAgICovXHJcbiAgcHVibGljIHBhY2thZ2luZz86IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVBhY2thZ2luZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIGRlc2NyaXB0aXZlIHByb3BlcnRpZXMgb2YgdGhlIG1lZGljaW5lLCBzdWNoIGFzIGNvbG9yLCBzaGFwZSwgaW1wcmludHMsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgZHJ1Z0NoYXJhY3RlcmlzdGljPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlRHJ1Z0NoYXJhY3RlcmlzdGljW107XHJcbiAgLyoqXHJcbiAgICogUG90ZW50aWFsIGNsaW5pY2FsIGlzc3VlIHdpdGggb3IgYmV0d2VlbiBtZWRpY2F0aW9uKHMpIChmb3IgZXhhbXBsZSwgZHJ1Zy1kcnVnIGludGVyYWN0aW9uLCBkcnVnLWRpc2Vhc2UgY29udHJhaW5kaWNhdGlvbiwgZHJ1Zy1hbGxlcmd5IGludGVyYWN0aW9uLCBldGMuKS5cclxuICAgKi9cclxuICBwdWJsaWMgY29udHJhaW5kaWNhdGlvbj86IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogUmVndWxhdG9yeSBpbmZvcm1hdGlvbiBhYm91dCBhIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHJlZ3VsYXRvcnk/OiBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgY291cnNlIG9mIGRydWcgYWJzb3JwdGlvbiwgZGlzdHJpYnV0aW9uLCBtZXRhYm9saXNtIGFuZCBleGNyZXRpb24gb2YgYSBtZWRpY2F0aW9uIGZyb20gdGhlIGJvZHkuXHJcbiAgICovXHJcbiAgcHVibGljIGtpbmV0aWNzPzogZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlS2luZXRpY3NbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uS25vd2xlZGdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbktub3dsZWRnZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdNZWRpY2F0aW9uS25vd2xlZGdlJztcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IHNvdXJjZS5zdGF0dXM7IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbnVmYWN0dXJlciddKSB7IHRoaXMubWFudWZhY3R1cmVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5tYW51ZmFjdHVyZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydkb3NlRm9ybSddKSB7IHRoaXMuZG9zZUZvcm0gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmRvc2VGb3JtKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW1vdW50J10pIHsgdGhpcy5hbW91bnQgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuYW1vdW50KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3lub255bSddKSB7IHRoaXMuc3lub255bSA9IHNvdXJjZS5zeW5vbnltLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN5bm9ueW0gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2UnXSkgeyB0aGlzLnJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlID0gc291cmNlLnJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXNzb2NpYXRlZE1lZGljYXRpb24nXSkgeyB0aGlzLmFzc29jaWF0ZWRNZWRpY2F0aW9uID0gc291cmNlLmFzc29jaWF0ZWRNZWRpY2F0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXNzb2NpYXRlZE1lZGljYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZHVjdFR5cGUnXSkgeyB0aGlzLnByb2R1Y3RUeXBlID0gc291cmNlLnByb2R1Y3RUeXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvZHVjdFR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9ub2dyYXBoJ10pIHsgdGhpcy5tb25vZ3JhcGggPSBzb3VyY2UubW9ub2dyYXBoLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZU1vbm9ncmFwaCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vbm9ncmFwaCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbmdyZWRpZW50J10pIHsgdGhpcy5pbmdyZWRpZW50ID0gc291cmNlLmluZ3JlZGllbnQubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlSW5ncmVkaWVudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluZ3JlZGllbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJlcGFyYXRpb25JbnN0cnVjdGlvbiddKSB7IHRoaXMucHJlcGFyYXRpb25JbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5wcmVwYXJhdGlvbkluc3RydWN0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVuZGVkUm91dGUnXSkgeyB0aGlzLmludGVuZGVkUm91dGUgPSBzb3VyY2UuaW50ZW5kZWRSb3V0ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmludGVuZGVkUm91dGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29zdCddKSB7IHRoaXMuY29zdCA9IHNvdXJjZS5jb3N0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZUNvc3QoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb3N0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21vbml0b3JpbmdQcm9ncmFtJ10pIHsgdGhpcy5tb25pdG9yaW5nUHJvZ3JhbSA9IHNvdXJjZS5tb25pdG9yaW5nUHJvZ3JhbS5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VNb25pdG9yaW5nUHJvZ3JhbSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vbml0b3JpbmdQcm9ncmFtID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkbWluaXN0cmF0aW9uR3VpZGVsaW5lcyddKSB7IHRoaXMuYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzID0gc291cmNlLmFkbWluaXN0cmF0aW9uR3VpZGVsaW5lcy5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VBZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hZG1pbmlzdHJhdGlvbkd1aWRlbGluZXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWVkaWNpbmVDbGFzc2lmaWNhdGlvbiddKSB7IHRoaXMubWVkaWNpbmVDbGFzc2lmaWNhdGlvbiA9IHNvdXJjZS5tZWRpY2luZUNsYXNzaWZpY2F0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZU1lZGljaW5lQ2xhc3NpZmljYXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tZWRpY2luZUNsYXNzaWZpY2F0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhY2thZ2luZyddKSB7IHRoaXMucGFja2FnaW5nID0gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZVBhY2thZ2luZyhzb3VyY2UucGFja2FnaW5nKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZHJ1Z0NoYXJhY3RlcmlzdGljJ10pIHsgdGhpcy5kcnVnQ2hhcmFjdGVyaXN0aWMgPSBzb3VyY2UuZHJ1Z0NoYXJhY3RlcmlzdGljLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvbktub3dsZWRnZURydWdDaGFyYWN0ZXJpc3RpYyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRydWdDaGFyYWN0ZXJpc3RpYyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250cmFpbmRpY2F0aW9uJ10pIHsgdGhpcy5jb250cmFpbmRpY2F0aW9uID0gc291cmNlLmNvbnRyYWluZGljYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250cmFpbmRpY2F0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZ3VsYXRvcnknXSkgeyB0aGlzLnJlZ3VsYXRvcnkgPSBzb3VyY2UucmVndWxhdG9yeS5tYXAoKHgpID0+IG5ldyBmaGlyLk1lZGljYXRpb25Lbm93bGVkZ2VSZWd1bGF0b3J5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVndWxhdG9yeSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydraW5ldGljcyddKSB7IHRoaXMua2luZXRpY3MgPSBzb3VyY2Uua2luZXRpY3MubWFwKCh4KSA9PiBuZXcgZmhpci5NZWRpY2F0aW9uS25vd2xlZGdlS2luZXRpY3MoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5raW5ldGljcyA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzIChNZWRpY2F0aW9uS25vd2xlZGdlLnN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHN0YXR1c1JlcXVpcmVkQ29kaW5nKCk6TWVkaWNhdGlvbmtub3dsZWRnZVN0YXR1c0NvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIE1lZGljYXRpb25rbm93bGVkZ2VTdGF0dXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZVR5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZTpcIk1lZGljYXRpb25Lbm93bGVkZ2VcIiBmaGlyOiBNZWRpY2F0aW9uS25vd2xlZGdlLnJlc291cmNlVHlwZTpcIk1lZGljYXRpb25Lbm93bGVkZ2VcIicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJjb2RlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29kZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJtYW51ZmFjdHVyZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tYW51ZmFjdHVyZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZG9zZUZvcm1cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kb3NlRm9ybS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJhbW91bnRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hbW91bnQuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3lub255bVwiXSkgeyB0aGlzLnN5bm9ueW0uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInJlbGF0ZWRNZWRpY2F0aW9uS25vd2xlZGdlXCJdKSB7IHRoaXMucmVsYXRlZE1lZGljYXRpb25Lbm93bGVkZ2UuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImFzc29jaWF0ZWRNZWRpY2F0aW9uXCJdKSB7IHRoaXMuYXNzb2NpYXRlZE1lZGljYXRpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInByb2R1Y3RUeXBlXCJdKSB7IHRoaXMucHJvZHVjdFR5cGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm1vbm9ncmFwaFwiXSkgeyB0aGlzLm1vbm9ncmFwaC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiaW5ncmVkaWVudFwiXSkgeyB0aGlzLmluZ3JlZGllbnQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInByZXBhcmF0aW9uSW5zdHJ1Y3Rpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcmVwYXJhdGlvbkluc3RydWN0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImludGVuZGVkUm91dGVcIl0pIHsgdGhpcy5pbnRlbmRlZFJvdXRlLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJjb3N0XCJdKSB7IHRoaXMuY29zdC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wibW9uaXRvcmluZ1Byb2dyYW1cIl0pIHsgdGhpcy5tb25pdG9yaW5nUHJvZ3JhbS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzXCJdKSB7IHRoaXMuYWRtaW5pc3RyYXRpb25HdWlkZWxpbmVzLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJtZWRpY2luZUNsYXNzaWZpY2F0aW9uXCJdKSB7IHRoaXMubWVkaWNpbmVDbGFzc2lmaWNhdGlvbi5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicGFja2FnaW5nXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGFja2FnaW5nLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRydWdDaGFyYWN0ZXJpc3RpY1wiXSkgeyB0aGlzLmRydWdDaGFyYWN0ZXJpc3RpYy5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiY29udHJhaW5kaWNhdGlvblwiXSkgeyB0aGlzLmNvbnRyYWluZGljYXRpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInJlZ3VsYXRvcnlcIl0pIHsgdGhpcy5yZWd1bGF0b3J5LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJraW5ldGljc1wiXSkgeyB0aGlzLmtpbmV0aWNzLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19