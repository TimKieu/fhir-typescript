// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Media
import * as fhir from '../fhir.js';
// @ts-ignore
import { EventStatusCodings, } from '../fhirValueSets/EventStatusCodings.js';
// @ts-ignore
import { MediaTypeCodings, } from '../fhirValueSets/MediaTypeCodings.js';
/**
 * A photo, video, or audio recording acquired or used in healthcare. The actual content may be inline or provided by direct reference.
 */
export class Media extends fhir.DomainResource {
    /**
     * Default constructor for Media - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Media';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['basedOn']) {
            this.basedOn = source.basedOn.map((x) => new fhir.Reference(x));
        }
        else {
            this.basedOn = [];
        }
        if (source['partOf']) {
            this.partOf = source.partOf.map((x) => new fhir.Reference(x));
        }
        else {
            this.partOf = [];
        }
        if (source['status']) {
            this.status = source.status;
        }
        else {
            this.status = null;
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['modality']) {
            this.modality = new fhir.CodeableConcept(source.modality);
        }
        if (source['view']) {
            this.view = new fhir.CodeableConcept(source.view);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['created']) {
            this.created = source.created;
        }
        else if (source['createdDateTime']) {
            this.created = new fhir.FhirDateTime({ value: source.createdDateTime });
        }
        else if (source['createdPeriod']) {
            this.created = new fhir.Period(source.createdPeriod);
        }
        if (source['issued']) {
            this.issued = new fhir.FhirInstant({ value: source.issued });
        }
        if (source['operator']) {
            this.operator = new fhir.Reference(source.operator);
        }
        if (source['reasonCode']) {
            this.reasonCode = source.reasonCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reasonCode = [];
        }
        if (source['bodySite']) {
            this.bodySite = new fhir.CodeableConcept(source.bodySite);
        }
        if (source['deviceName']) {
            this.deviceName = new fhir.FhirString({ value: source.deviceName });
        }
        if (source['device']) {
            this.device = new fhir.Reference(source.device);
        }
        if (source['height']) {
            this.height = new fhir.FhirPositiveInt({ value: source.height });
        }
        if (source['width']) {
            this.width = new fhir.FhirPositiveInt({ value: source.width });
        }
        if (source['frames']) {
            this.frames = new fhir.FhirPositiveInt({ value: source.frames });
        }
        if (source['duration']) {
            this.duration = new fhir.FhirDecimal({ value: source.duration });
        }
        if (source['content']) {
            this.content = new fhir.Attachment(source.content);
        }
        else {
            this.content = null;
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Required-bound Value Set for status (Media.status)
     */
    static statusRequiredCoding() {
        return EventStatusCodings;
    }
    /**
     * Extensible-bound Value Set for type (Media.type)
     */
    static typeExtensibleCoding() {
        return MediaTypeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"Media" fhir: Media.resourceType:"Media"', });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["basedOn"]) {
            this.basedOn.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["partOf"]) {
            this.partOf.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:EventStatusCodeType fhir: Media.status:code', });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["modality"]) {
            issues.push(...this.modality.doModelValidation());
        }
        if (this["view"]) {
            issues.push(...this.view.doModelValidation());
        }
        if (this["subject"]) {
            issues.push(...this.subject.doModelValidation());
        }
        if (this["encounter"]) {
            issues.push(...this.encounter.doModelValidation());
        }
        if (this["issued"]) {
            issues.push(...this.issued.doModelValidation());
        }
        if (this["operator"]) {
            issues.push(...this.operator.doModelValidation());
        }
        if (this["reasonCode"]) {
            this.reasonCode.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["bodySite"]) {
            issues.push(...this.bodySite.doModelValidation());
        }
        if (this["deviceName"]) {
            issues.push(...this.deviceName.doModelValidation());
        }
        if (this["device"]) {
            issues.push(...this.device.doModelValidation());
        }
        if (this["height"]) {
            issues.push(...this.height.doModelValidation());
        }
        if (this["width"]) {
            issues.push(...this.width.doModelValidation());
        }
        if (this["frames"]) {
            issues.push(...this.frames.doModelValidation());
        }
        if (this["duration"]) {
            issues.push(...this.duration.doModelValidation());
        }
        if (!this['content']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property content:fhir.Attachment fhir: Media.content:Attachment', });
        }
        if (this["content"]) {
            issues.push(...this.content.doModelValidation());
        }
        if (this["note"]) {
            this.note.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Media._fts_dataType = 'Media';
/**
 * Internal flag to properly serialize choice-type element Media.created[x]
 */
Media._fts_createdIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWEuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL01lZGlhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLHVCQUF1QjtBQUV2QixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUVuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGtCQUFrQixHQUF5QixNQUFNLHdDQUF3QyxDQUFDO0FBR25HLGFBQWE7QUFDYixPQUFPLEVBQUUsZ0JBQWdCLEdBQXVCLE1BQU0sc0NBQXNDLENBQUM7QUE0SDdGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLEtBQU0sU0FBUSxJQUFJLENBQUMsY0FBYztJQXdHNUM7O09BRUc7SUFDSCxZQUFZLFNBQTRCLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ2xGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUM7UUFDNUIsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2hHO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM5QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDdEY7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzNCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRjtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7U0FBRTthQUNqRDtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUM3RSxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFD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QixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDOUUsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUN4RSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzVFLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUN0RyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzVFLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDaEYsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUN4RSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQ3hFLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDdEUsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUN4RSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzVFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRyxXQUFXLEVBQUUsa0ZBQWtGLEdBQUcsQ0FBQyxDQUFDO1NBQ3pKO1FBQ0QsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDMUYsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE1TEQ7O0dBRUc7QUFDNkIsbUJBQWEsR0FBVSxPQUFPLENBQUM7QUErQy9EOztHQUVHO0FBQ3VCLDBCQUFvQixHQUFRLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogTWVkaWFcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV2ZW50U3RhdHVzQ29kaW5ncywgRXZlbnRTdGF0dXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FdmVudFN0YXR1c0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV2ZW50U3RhdHVzQ29kZXMsICBFdmVudFN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FdmVudFN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpYVR5cGVDb2RpbmdzLCBNZWRpYVR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpYVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpYVR5cGVDb2RlcywgIE1lZGlhVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpYVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWFWaWV3Q29kaW5ncywgTWVkaWFWaWV3Q29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWFWaWV3Q29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWFWaWV3Q29kZXMsICBNZWRpYVZpZXdDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWFWaWV3Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2NlZHVyZVJlYXNvbkNvZGluZ3MsIFByb2NlZHVyZVJlYXNvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2NlZHVyZVJlYXNvbkNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2NlZHVyZVJlYXNvbkNvZGVzLCAgUHJvY2VkdXJlUmVhc29uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2NlZHVyZVJlYXNvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCb2R5U2l0ZUNvZGluZ3MsIEJvZHlTaXRlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQm9keVNpdGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCb2R5U2l0ZUNvZGVzLCAgQm9keVNpdGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQm9keVNpdGVDb2Rlcy5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpYSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpYUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIk1lZGlhXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGlmaWVyIGxhYmVsIGFuZCB1c2UgY2FuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoYXQga2luZCBvZiBpZGVudGlmaWVyIGl0IGlzLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcHJvY2VkdXJlIHRoYXQgaXMgZnVsZmlsbGVkIGluIHdob2xlIG9yIGluIHBhcnQgYnkgdGhlIGNyZWF0aW9uIG9mIHRoaXMgbWVkaWEuXHJcbiAgICovXHJcbiAgYmFzZWRPbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3QgdG8gYmUgdXNlZCB0byBsaW5rIGFuIGV2ZW50IHRvIGFuIEVuY291bnRlciAtIHVzZSBNZWRpYS5lbmNvdW50ZXIgZm9yIHRoYXQuXHJcbiAgICogW1RoZSBhbGxvd2VkIHJlZmVyZW5jZSByZXNvdXJjZXMgbWF5IGJlIGFkanVzdGVkIGFzIGFwcHJvcHJpYXRlIGZvciB0aGUgZXZlbnQgcmVzb3VyY2VdLlxyXG4gICAqL1xyXG4gIHBhcnRPZj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIG5vbWluYWwgc3RhdGUtdHJhbnNpdGlvbiBkaWFncmFtIGNhbiBiZSBmb3VuZCBpbiB0aGUgW1tldmVudC5odG1sI3N0YXRlbWFjaGluZSB8IEV2ZW50IHBhdHRlcm5dXSBkb2N1bWVudGF0aW9uXHJcbiAgICogVW5rbm93biBkb2VzIG5vdCByZXByZXNlbnQgXCJvdGhlclwiIC0gb25lIG9mIHRoZSBkZWZpbmVkIHN0YXR1c2VzIG11c3QgYXBwbHkuICBVbmtub3duIGlzIHVzZWQgd2hlbiB0aGUgYXV0aG9yaW5nIHN5c3RlbSBpcyBub3Qgc3VyZSB3aGF0IHRoZSBjdXJyZW50IHN0YXR1cyBpcy5cclxuICAgKi9cclxuICBzdGF0dXM6IEV2ZW50U3RhdHVzQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBjbGFzc2lmaWVzIHdoZXRoZXIgdGhlIG1lZGlhIGlzIGFuIGltYWdlLCB2aWRlbyBvciBhdWRpbyByZWNvcmRpbmcgb3Igc29tZSBvdGhlciBtZWRpYSBjYXRlZ29yeS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXRhaWxzIG9mIHRoZSB0eXBlIG9mIHRoZSBtZWRpYSAtIHVzdWFsbHksIGhvdyBpdCB3YXMgYWNxdWlyZWQgKHdoYXQgdHlwZSBvZiBkZXZpY2UpLiBJZiBpbWFnZXMgc291cmNlZCBmcm9tIGEgRElDT00gc3lzdGVtLCBhcmUgd3JhcHBlZCBpbiBhIE1lZGlhIHJlc291cmNlLCB0aGVuIHRoaXMgaXMgdGhlIG1vZGFsaXR5LlxyXG4gICAqL1xyXG4gIG1vZGFsaXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgaW1hZ2luZyB2aWV3IGUuZy4gTGF0ZXJhbCBvciBBbnRlcm8tcG9zdGVyaW9yIChBUCkuXHJcbiAgICovXHJcbiAgdmlldz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hvL1doYXQgdGhpcyBNZWRpYSBpcyBhIHJlY29yZCBvZi5cclxuICAgKi9cclxuICBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHdpbGwgdHlwaWNhbGx5IGJlIHRoZSBlbmNvdW50ZXIgdGhlIG1lZGlhIG9jY3VycmVkIHdpdGhpbi5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lKHMpIGF0IHdoaWNoIHRoZSBtZWRpYSB3YXMgY29sbGVjdGVkLlxyXG4gICAqL1xyXG4gIGNyZWF0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYW5kIHRpbWUocykgYXQgd2hpY2ggdGhlIG1lZGlhIHdhcyBjb2xsZWN0ZWQuXHJcbiAgICovXHJcbiAgY3JlYXRlZERhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhbmQgdGltZShzKSBhdCB3aGljaCB0aGUgbWVkaWEgd2FzIGNvbGxlY3RlZC5cclxuICAgKi9cclxuICBjcmVhdGVkUGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdCBtYXkgYmUgdGhlIHNhbWUgYXMgdGhlIFtgbGFzdFVwZGF0ZWRgIF0ocmVzb3VyY2UtZGVmaW5pdGlvbnMuaHRtbCNNZXRhLmxhc3RVcGRhdGVkKSB0aW1lIG9mIHRoZSByZXNvdXJjZSBpdHNlbGYuICBGb3IgT2JzZXJ2YXRpb25zIHRoYXQgZG8gcmVxdWlyZSByZXZpZXcgYW5kIHZlcmlmaWNhdGlvbiBmb3IgY2VydGFpbiB1cGRhdGVzLCBpdCBtaWdodCBub3QgYmUgdGhlIHNhbWUgYXMgdGhlIGBsYXN0VXBkYXRlZGAgdGltZSBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmIGR1ZSB0byBhIG5vbi1jbGluaWNhbGx5IHNpZ25pZmljYW50IHVwZGF0ZSB0aGF0IGRvZXMgbm90IHJlcXVpcmUgdGhlIG5ldyB2ZXJzaW9uIHRvIGJlIHJldmlld2VkIGFuZCB2ZXJpZmllZCBhZ2Fpbi5cclxuICAgKi9cclxuICBpc3N1ZWQ/OiBmaGlyLkZoaXJJbnN0YW50fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiB3aG8gYWRtaW5pc3RlcmVkIHRoZSBjb2xsZWN0aW9uIG9mIHRoZSBpbWFnZS5cclxuICAgKi9cclxuICBvcGVyYXRvcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGV4dHVhbCByZWFzb25zIGNhbiBiZSBjYXB0dXJlZCB1c2luZyByZWFzb25Db2RlLnRleHQuXHJcbiAgICovXHJcbiAgcmVhc29uQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPbmx5IHVzZWQgaWYgbm90IGltcGxpY2l0IGluIGNvZGUgZm91bmQgaW4gT2JzZXJ2YXRpb24uY29kZS4gIEluIG1hbnkgc3lzdGVtcywgdGhpcyBtYXkgYmUgcmVwcmVzZW50ZWQgYXMgYSByZWxhdGVkIG9ic2VydmF0aW9uIGluc3RlYWQgb2YgYW4gaW5saW5lIGNvbXBvbmVudC4gICBcclxuICAgKiBJZiB0aGUgdXNlIGNhc2UgcmVxdWlyZXMgQm9keVNpdGUgdG8gYmUgaGFuZGxlZCBhcyBhIHNlcGFyYXRlIHJlc291cmNlIChlLmcuIHRvIGlkZW50aWZ5IGFuZCB0cmFjayBzZXBhcmF0ZWx5KSB0aGVuIHVzZSB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uWyBib2R5U2l0ZV0oZXh0ZW5zaW9uLWJvZHlzaXRlLmh0bWwpLlxyXG4gICAqL1xyXG4gIGJvZHlTaXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZGV2aWNlIC8gbWFudWZhY3R1cmVyIG9mIHRoZSBkZXZpY2UgIHRoYXQgd2FzIHVzZWQgdG8gbWFrZSB0aGUgcmVjb3JkaW5nLlxyXG4gICAqL1xyXG4gIGRldmljZU5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBleHRlbnNpb24gc2hvdWxkIGJlIHVzZWQgaWYgZnVydGhlciB0eXBpbmcgb2YgdGhlIGRldmljZSBpcyBuZWVkZWQuICBTZWNvbmRhcnkgZGV2aWNlcyB1c2VkIHRvIHN1cHBvcnQgY29sbGVjdGluZyBhIG1lZGlhIGNhbiBiZSByZXByZXNlbnRlZCB1c2luZyBlaXRoZXIgZXh0ZW5zaW9uIG9yIHRocm91Z2ggdGhlIE9ic2VydmF0aW9uLnJlbGF0ZWQgZWxlbWVudC5cclxuICAgKi9cclxuICBkZXZpY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhlaWdodCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzIChwaG90by92aWRlbykuXHJcbiAgICovXHJcbiAgaGVpZ2h0PzogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaWR0aCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzIChwaG90by92aWRlbykuXHJcbiAgICovXHJcbiAgd2lkdGg/OiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIGlmIHRoZSBudW1iZXIgb2YgZnJhbWVzIGlzIG5vdCBzdXBwbGllZCwgdGhlIHZhbHVlIG1heSBiZSB1bmtub3duLiBBcHBsaWNhdGlvbnMgc2hvdWxkIG5vdCBhc3N1bWUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBmcmFtZSB1bmxlc3MgaXQgaXMgZXhwbGljaXRseSBzdGF0ZWQuXHJcbiAgICovXHJcbiAgZnJhbWVzPzogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZHVyYXRpb24gbWlnaHQgZGlmZmVyIGZyb20gb2NjdXJyZW5jZVBlcmlvZCBpZiByZWNvcmRpbmcgd2FzIHBhdXNlZC5cclxuICAgKi9cclxuICBkdXJhdGlvbj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWNvbW1lbmRlZCBjb250ZW50IHR5cGVzOiBpbWFnZS9qcGVnLCBpbWFnZS9wbmcsIGltYWdlL3RpZmYsIHZpZGVvL21wZWcsIGF1ZGlvL21wNCwgYXBwbGljYXRpb24vZGljb20uIEFwcGxpY2F0aW9uL2RpY29tIGNhbiBjb250YWluIHRoZSB0cmFuc2ZlciBzeW50YXggYXMgYSBwYXJhbWV0ZXIuICBGb3IgbWVkaWEgdGhhdCBjb3ZlcnMgYSBwZXJpb2Qgb2YgdGltZSAodmlkZW8vc291bmQpLCB0aGUgY29udGVudC5jcmVhdGlvblRpbWUgaXMgdGhlIGVuZCB0aW1lLiBDcmVhdGlvbiB0aW1lIGlzIHVzZWQgZm9yIHRyYWNraW5nLCBvcmdhbml6aW5nIHZlcnNpb25zIGFuZCBzZWFyY2hpbmcuXHJcbiAgICovXHJcbiAgY29udGVudDogZmhpci5BdHRhY2htZW50QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIE5vdCB0byBiZSB1c2VkIGZvciBvYnNlcnZhdGlvbnMsIGNvbmNsdXNpb25zLCBldGMuIEluc3RlYWQgdXNlIGFuIFtPYnNlcnZhdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCkgYmFzZWQgb24gdGhlIE1lZGlhL0ltYWdpbmdTdHVkeSByZXNvdXJjZS5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcGhvdG8sIHZpZGVvLCBvciBhdWRpbyByZWNvcmRpbmcgYWNxdWlyZWQgb3IgdXNlZCBpbiBoZWFsdGhjYXJlLiBUaGUgYWN0dWFsIGNvbnRlbnQgbWF5IGJlIGlubGluZSBvciBwcm92aWRlZCBieSBkaXJlY3QgcmVmZXJlbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGlhIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpYSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJNZWRpYVwiO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGlmaWVyIGxhYmVsIGFuZCB1c2UgY2FuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoYXQga2luZCBvZiBpZGVudGlmaWVyIGl0IGlzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogQSBwcm9jZWR1cmUgdGhhdCBpcyBmdWxmaWxsZWQgaW4gd2hvbGUgb3IgaW4gcGFydCBieSB0aGUgY3JlYXRpb24gb2YgdGhpcyBtZWRpYS5cclxuICAgKi9cclxuICBwdWJsaWMgYmFzZWRPbj86IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogTm90IHRvIGJlIHVzZWQgdG8gbGluayBhbiBldmVudCB0byBhbiBFbmNvdW50ZXIgLSB1c2UgTWVkaWEuZW5jb3VudGVyIGZvciB0aGF0LlxyXG4gICAqIFtUaGUgYWxsb3dlZCByZWZlcmVuY2UgcmVzb3VyY2VzIG1heSBiZSBhZGp1c3RlZCBhcyBhcHByb3ByaWF0ZSBmb3IgdGhlIGV2ZW50IHJlc291cmNlXS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydE9mPzogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBBIG5vbWluYWwgc3RhdGUtdHJhbnNpdGlvbiBkaWFncmFtIGNhbiBiZSBmb3VuZCBpbiB0aGUgW1tldmVudC5odG1sI3N0YXRlbWFjaGluZSB8IEV2ZW50IHBhdHRlcm5dXSBkb2N1bWVudGF0aW9uXHJcbiAgICogVW5rbm93biBkb2VzIG5vdCByZXByZXNlbnQgXCJvdGhlclwiIC0gb25lIG9mIHRoZSBkZWZpbmVkIHN0YXR1c2VzIG11c3QgYXBwbHkuICBVbmtub3duIGlzIHVzZWQgd2hlbiB0aGUgYXV0aG9yaW5nIHN5c3RlbSBpcyBub3Qgc3VyZSB3aGF0IHRoZSBjdXJyZW50IHN0YXR1cyBpcy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBFdmVudFN0YXR1c0NvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgY2xhc3NpZmllcyB3aGV0aGVyIHRoZSBtZWRpYSBpcyBhbiBpbWFnZSwgdmlkZW8gb3IgYXVkaW8gcmVjb3JkaW5nIG9yIHNvbWUgb3RoZXIgbWVkaWEgY2F0ZWdvcnkuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGV0YWlscyBvZiB0aGUgdHlwZSBvZiB0aGUgbWVkaWEgLSB1c3VhbGx5LCBob3cgaXQgd2FzIGFjcXVpcmVkICh3aGF0IHR5cGUgb2YgZGV2aWNlKS4gSWYgaW1hZ2VzIHNvdXJjZWQgZnJvbSBhIERJQ09NIHN5c3RlbSwgYXJlIHdyYXBwZWQgaW4gYSBNZWRpYSByZXNvdXJjZSwgdGhlbiB0aGlzIGlzIHRoZSBtb2RhbGl0eS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kYWxpdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgdGhlIGltYWdpbmcgdmlldyBlLmcuIExhdGVyYWwgb3IgQW50ZXJvLXBvc3RlcmlvciAoQVApLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2aWV3PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoby9XaGF0IHRoaXMgTWVkaWEgaXMgYSByZWNvcmQgb2YuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB3aWxsIHR5cGljYWxseSBiZSB0aGUgZW5jb3VudGVyIHRoZSBtZWRpYSBvY2N1cnJlZCB3aXRoaW4uXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhbmQgdGltZShzKSBhdCB3aGljaCB0aGUgbWVkaWEgd2FzIGNvbGxlY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY3JlYXRlZD86IChmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgTWVkaWEuY3JlYXRlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19jcmVhdGVkSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogSXQgbWF5IGJlIHRoZSBzYW1lIGFzIHRoZSBbYGxhc3RVcGRhdGVkYCBdKHJlc291cmNlLWRlZmluaXRpb25zLmh0bWwjTWV0YS5sYXN0VXBkYXRlZCkgdGltZSBvZiB0aGUgcmVzb3VyY2UgaXRzZWxmLiAgRm9yIE9ic2VydmF0aW9ucyB0aGF0IGRvIHJlcXVpcmUgcmV2aWV3IGFuZCB2ZXJpZmljYXRpb24gZm9yIGNlcnRhaW4gdXBkYXRlcywgaXQgbWlnaHQgbm90IGJlIHRoZSBzYW1lIGFzIHRoZSBgbGFzdFVwZGF0ZWRgIHRpbWUgb2YgdGhlIHJlc291cmNlIGl0c2VsZiBkdWUgdG8gYSBub24tY2xpbmljYWxseSBzaWduaWZpY2FudCB1cGRhdGUgdGhhdCBkb2VzIG5vdCByZXF1aXJlIHRoZSBuZXcgdmVyc2lvbiB0byBiZSByZXZpZXdlZCBhbmQgdmVyaWZpZWQgYWdhaW4uXHJcbiAgICovXHJcbiAgcHVibGljIGlzc3VlZD86IGZoaXIuRmhpckluc3RhbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwZXJzb24gd2hvIGFkbWluaXN0ZXJlZCB0aGUgY29sbGVjdGlvbiBvZiB0aGUgaW1hZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIG9wZXJhdG9yPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRleHR1YWwgcmVhc29ucyBjYW4gYmUgY2FwdHVyZWQgdXNpbmcgcmVhc29uQ29kZS50ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb25Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBPbmx5IHVzZWQgaWYgbm90IGltcGxpY2l0IGluIGNvZGUgZm91bmQgaW4gT2JzZXJ2YXRpb24uY29kZS4gIEluIG1hbnkgc3lzdGVtcywgdGhpcyBtYXkgYmUgcmVwcmVzZW50ZWQgYXMgYSByZWxhdGVkIG9ic2VydmF0aW9uIGluc3RlYWQgb2YgYW4gaW5saW5lIGNvbXBvbmVudC4gICBcclxuICAgKiBJZiB0aGUgdXNlIGNhc2UgcmVxdWlyZXMgQm9keVNpdGUgdG8gYmUgaGFuZGxlZCBhcyBhIHNlcGFyYXRlIHJlc291cmNlIChlLmcuIHRvIGlkZW50aWZ5IGFuZCB0cmFjayBzZXBhcmF0ZWx5KSB0aGVuIHVzZSB0aGUgc3RhbmRhcmQgZXh0ZW5zaW9uWyBib2R5U2l0ZV0oZXh0ZW5zaW9uLWJvZHlzaXRlLmh0bWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBib2R5U2l0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZGV2aWNlIC8gbWFudWZhY3R1cmVyIG9mIHRoZSBkZXZpY2UgIHRoYXQgd2FzIHVzZWQgdG8gbWFrZSB0aGUgcmVjb3JkaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXZpY2VOYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBleHRlbnNpb24gc2hvdWxkIGJlIHVzZWQgaWYgZnVydGhlciB0eXBpbmcgb2YgdGhlIGRldmljZSBpcyBuZWVkZWQuICBTZWNvbmRhcnkgZGV2aWNlcyB1c2VkIHRvIHN1cHBvcnQgY29sbGVjdGluZyBhIG1lZGlhIGNhbiBiZSByZXByZXNlbnRlZCB1c2luZyBlaXRoZXIgZXh0ZW5zaW9uIG9yIHRocm91Z2ggdGhlIE9ic2VydmF0aW9uLnJlbGF0ZWQgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZGV2aWNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhlaWdodCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzIChwaG90by92aWRlbykuXHJcbiAgICovXHJcbiAgcHVibGljIGhlaWdodD86IGZoaXIuRmhpclBvc2l0aXZlSW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaWR0aCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzIChwaG90by92aWRlbykuXHJcbiAgICovXHJcbiAgcHVibGljIHdpZHRoPzogZmhpci5GaGlyUG9zaXRpdmVJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIGlmIHRoZSBudW1iZXIgb2YgZnJhbWVzIGlzIG5vdCBzdXBwbGllZCwgdGhlIHZhbHVlIG1heSBiZSB1bmtub3duLiBBcHBsaWNhdGlvbnMgc2hvdWxkIG5vdCBhc3N1bWUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBmcmFtZSB1bmxlc3MgaXQgaXMgZXhwbGljaXRseSBzdGF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGZyYW1lcz86IGZoaXIuRmhpclBvc2l0aXZlSW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZHVyYXRpb24gbWlnaHQgZGlmZmVyIGZyb20gb2NjdXJyZW5jZVBlcmlvZCBpZiByZWNvcmRpbmcgd2FzIHBhdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZHVyYXRpb24/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWNvbW1lbmRlZCBjb250ZW50IHR5cGVzOiBpbWFnZS9qcGVnLCBpbWFnZS9wbmcsIGltYWdlL3RpZmYsIHZpZGVvL21wZWcsIGF1ZGlvL21wNCwgYXBwbGljYXRpb24vZGljb20uIEFwcGxpY2F0aW9uL2RpY29tIGNhbiBjb250YWluIHRoZSB0cmFuc2ZlciBzeW50YXggYXMgYSBwYXJhbWV0ZXIuICBGb3IgbWVkaWEgdGhhdCBjb3ZlcnMgYSBwZXJpb2Qgb2YgdGltZSAodmlkZW8vc291bmQpLCB0aGUgY29udGVudC5jcmVhdGlvblRpbWUgaXMgdGhlIGVuZCB0aW1lLiBDcmVhdGlvbiB0aW1lIGlzIHVzZWQgZm9yIHRyYWNraW5nLCBvcmdhbml6aW5nIHZlcnNpb25zIGFuZCBzZWFyY2hpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRlbnQ6IGZoaXIuQXR0YWNobWVudHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIE5vdCB0byBiZSB1c2VkIGZvciBvYnNlcnZhdGlvbnMsIGNvbmNsdXNpb25zLCBldGMuIEluc3RlYWQgdXNlIGFuIFtPYnNlcnZhdGlvbl0ob2JzZXJ2YXRpb24uaHRtbCkgYmFzZWQgb24gdGhlIE1lZGlhL0ltYWdpbmdTdHVkeSByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZT86IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGlhIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWFBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnTWVkaWEnO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmFzZWRPbiddKSB7IHRoaXMuYmFzZWRPbiA9IHNvdXJjZS5iYXNlZE9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYmFzZWRPbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0T2YnXSkgeyB0aGlzLnBhcnRPZiA9IHNvdXJjZS5wYXJ0T2YubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXJ0T2YgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBzb3VyY2Uuc3RhdHVzOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kYWxpdHknXSkgeyB0aGlzLm1vZGFsaXR5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tb2RhbGl0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZpZXcnXSkgeyB0aGlzLnZpZXcgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZpZXcpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW5jb3VudGVyJ10pIHsgdGhpcy5lbmNvdW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmVuY291bnRlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NyZWF0ZWQnXSkgeyB0aGlzLmNyZWF0ZWQgPSBzb3VyY2UuY3JlYXRlZDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydjcmVhdGVkRGF0ZVRpbWUnXSkgeyB0aGlzLmNyZWF0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuY3JlYXRlZERhdGVUaW1lfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnY3JlYXRlZFBlcmlvZCddKSB7IHRoaXMuY3JlYXRlZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UuY3JlYXRlZFBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2lzc3VlZCddKSB7IHRoaXMuaXNzdWVkID0gbmV3IGZoaXIuRmhpckluc3RhbnQoe3ZhbHVlOiBzb3VyY2UuaXNzdWVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29wZXJhdG9yJ10pIHsgdGhpcy5vcGVyYXRvciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3BlcmF0b3IpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWFzb25Db2RlJ10pIHsgdGhpcy5yZWFzb25Db2RlID0gc291cmNlLnJlYXNvbkNvZGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWFzb25Db2RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2JvZHlTaXRlJ10pIHsgdGhpcy5ib2R5U2l0ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYm9keVNpdGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXZpY2VOYW1lJ10pIHsgdGhpcy5kZXZpY2VOYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXZpY2VOYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RldmljZSddKSB7IHRoaXMuZGV2aWNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5kZXZpY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydoZWlnaHQnXSkgeyB0aGlzLmhlaWdodCA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHNvdXJjZS5oZWlnaHR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2lkdGgnXSkgeyB0aGlzLndpZHRoID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLndpZHRofSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZyYW1lcyddKSB7IHRoaXMuZnJhbWVzID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLmZyYW1lc30pOyB9XHJcbiAgICBpZiAoc291cmNlWydkdXJhdGlvbiddKSB7IHRoaXMuZHVyYXRpb24gPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5kdXJhdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250ZW50J10pIHsgdGhpcy5jb250ZW50ID0gbmV3IGZoaXIuQXR0YWNobWVudChzb3VyY2UuY29udGVudCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRlbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RlJ10pIHsgdGhpcy5ub3RlID0gc291cmNlLm5vdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Bbm5vdGF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubm90ZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc3RhdHVzIChNZWRpYS5zdGF0dXMpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBzdGF0dXNSZXF1aXJlZENvZGluZygpOkV2ZW50U3RhdHVzQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRXZlbnRTdGF0dXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoTWVkaWEudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHR5cGVFeHRlbnNpYmxlQ29kaW5nKCk6TWVkaWFUeXBlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gTWVkaWFUeXBlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZXNvdXJjZVR5cGU6XCJNZWRpYVwiIGZoaXI6IE1lZGlhLnJlc291cmNlVHlwZTpcIk1lZGlhXCInLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiaWRlbnRpZmllclwiXSkgeyB0aGlzLmlkZW50aWZpZXIuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImJhc2VkT25cIl0pIHsgdGhpcy5iYXNlZE9uLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJwYXJ0T2ZcIl0pIHsgdGhpcy5wYXJ0T2YuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAoIXRoaXNbJ3N0YXR1cyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc3RhdHVzOkV2ZW50U3RhdHVzQ29kZVR5cGUgZmhpcjogTWVkaWEuc3RhdHVzOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibW9kYWxpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tb2RhbGl0eS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ2aWV3XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudmlldy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdWJqZWN0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3ViamVjdC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJlbmNvdW50ZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5lbmNvdW50ZXIuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaXNzdWVkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaXNzdWVkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm9wZXJhdG9yXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3BlcmF0b3IuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVhc29uQ29kZVwiXSkgeyB0aGlzLnJlYXNvbkNvZGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImJvZHlTaXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYm9keVNpdGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGV2aWNlTmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRldmljZU5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGV2aWNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGV2aWNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImhlaWdodFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmhlaWdodC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ3aWR0aFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLndpZHRoLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImZyYW1lc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmZyYW1lcy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkdXJhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmR1cmF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ2NvbnRlbnQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGNvbnRlbnQ6Zmhpci5BdHRhY2htZW50IGZoaXI6IE1lZGlhLmNvbnRlbnQ6QXR0YWNobWVudCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJjb250ZW50XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29udGVudC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJub3RlXCJdKSB7IHRoaXMubm90ZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==