// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: AllergyIntolerance
import * as fhir from '../fhir.js';
// @ts-ignore
import { ReactionEventSeverityCodes } from '../fhirValueSets/ReactionEventSeverityCodes.js';
// @ts-ignore
import { AllergyintoleranceClinicalCodes } from '../fhirValueSets/AllergyintoleranceClinicalCodes.js';
// @ts-ignore
import { AllergyintoleranceVerificationCodes } from '../fhirValueSets/AllergyintoleranceVerificationCodes.js';
// @ts-ignore
import { AllergyIntoleranceTypeCodes } from '../fhirValueSets/AllergyIntoleranceTypeCodes.js';
// @ts-ignore
import { AllergyIntoleranceCategoryCodes } from '../fhirValueSets/AllergyIntoleranceCategoryCodes.js';
// @ts-ignore
import { AllergyIntoleranceCriticalityCodes } from '../fhirValueSets/AllergyIntoleranceCriticalityCodes.js';
/**
 * Details about each adverse reaction event linked to exposure to the identified substance.
 */
export class AllergyIntoleranceReaction extends fhir.BackboneElement {
    /**
     * Default constructor for AllergyIntoleranceReaction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['substance']) {
            this.substance = new fhir.CodeableConcept(source.substance);
        }
        if (source['manifestation']) {
            this.manifestation = source.manifestation.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.manifestation = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['onset']) {
            this.onset = new fhir.FhirDateTime({ value: source.onset });
        }
        if (source['_onset']) {
            if (this.onset) {
                this.onset.addExtendedProperties(source._onset);
            }
            else {
                this.onset = new fhir.FhirDateTime(source._onset);
            }
        }
        if (source['severity']) {
            this.severity = new fhir.FhirCode({ value: source.severity });
        }
        if (source['_severity']) {
            if (this.severity) {
                this.severity.addExtendedProperties(source._severity);
            }
            else {
                this.severity = new fhir.FhirCode(source._severity);
            }
        }
        if (source['exposureRoute']) {
            this.exposureRoute = new fhir.CodeableConcept(source.exposureRoute);
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Required-bound Value Set for severity (AllergyIntolerance.reaction.severity)
     */
    static get severityRequiredCodes() {
        return ReactionEventSeverityCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AllergyIntolerance.reaction';
        }
        if (this["substance"]) {
            issues.push(...this.substance.doModelValidation(expression + '.substance'));
        }
        if (!this['manifestation']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property manifestation fhir: AllergyIntolerance.reaction.manifestation:CodeableConcept', expression: [expression] });
        }
        else if (!Array.isArray(this.manifestation)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property manifestation fhir: AllergyIntolerance.reaction.manifestation:CodeableConcept', expression: [expression] });
        }
        else if (this.manifestation.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property manifestation fhir: AllergyIntolerance.reaction.manifestation:CodeableConcept', expression: [expression] });
        }
        if (this["manifestation"]) {
            this.manifestation.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.manifestation[${i}]`)); });
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation(expression + '.description'));
        }
        if (this["onset"]) {
            issues.push(...this.onset.doModelValidation(expression + '.onset'));
        }
        if (this['severity'] && (!Object.values(ReactionEventSeverityCodes).includes(this.severity.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property severity fhir: AllergyIntolerance.reaction.severity:code Required binding to: ReactionEventSeverity', expression: [expression] });
        }
        if (this["severity"]) {
            issues.push(...this.severity.doModelValidation(expression + '.severity'));
        }
        if (this["exposureRoute"]) {
            issues.push(...this.exposureRoute.doModelValidation(expression + '.exposureRoute'));
        }
        if (this["note"]) {
            this.note.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.note[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AllergyIntoleranceReaction._fts_dataType = 'AllergyIntoleranceReaction';
/**
 * Risk of harmful or undesirable, physiological response which is unique to an individual and associated with exposure to a substance.
 */
export class AllergyIntolerance extends fhir.DomainResource {
    /**
     * Default constructor for AllergyIntolerance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AllergyIntolerance';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['clinicalStatus']) {
            this.clinicalStatus = new fhir.CodeableConcept(source.clinicalStatus);
        }
        if (source['verificationStatus']) {
            this.verificationStatus = new fhir.CodeableConcept(source.verificationStatus);
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.category = [];
        }
        if (source['_category']) {
            source._category.forEach((x, i) => {
                if (this.category.length >= i) {
                    if (x) {
                        this.category[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.category.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['criticality']) {
            this.criticality = new fhir.FhirCode({ value: source.criticality });
        }
        if (source['_criticality']) {
            if (this.criticality) {
                this.criticality.addExtendedProperties(source._criticality);
            }
            else {
                this.criticality = new fhir.FhirCode(source._criticality);
            }
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        else {
            this.patient = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['onset']) {
            this.onset = source.onset;
        }
        else if (source['onsetDateTime']) {
            this.onset = new fhir.FhirDateTime({ value: source.onsetDateTime });
        }
        else if (source['onsetAge']) {
            this.onset = new fhir.Age(source.onsetAge);
        }
        else if (source['onsetPeriod']) {
            this.onset = new fhir.Period(source.onsetPeriod);
        }
        else if (source['onsetRange']) {
            this.onset = new fhir.Range(source.onsetRange);
        }
        else if (source['onsetString']) {
            this.onset = new fhir.FhirString({ value: source.onsetString });
        }
        if (source['recordedDate']) {
            this.recordedDate = new fhir.FhirDateTime({ value: source.recordedDate });
        }
        if (source['_recordedDate']) {
            if (this.recordedDate) {
                this.recordedDate.addExtendedProperties(source._recordedDate);
            }
            else {
                this.recordedDate = new fhir.FhirDateTime(source._recordedDate);
            }
        }
        if (source['recorder']) {
            this.recorder = new fhir.Reference(source.recorder);
        }
        if (source['asserter']) {
            this.asserter = new fhir.Reference(source.asserter);
        }
        if (source['lastOccurrence']) {
            this.lastOccurrence = new fhir.FhirDateTime({ value: source.lastOccurrence });
        }
        if (source['_lastOccurrence']) {
            if (this.lastOccurrence) {
                this.lastOccurrence.addExtendedProperties(source._lastOccurrence);
            }
            else {
                this.lastOccurrence = new fhir.FhirDateTime(source._lastOccurrence);
            }
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['reaction']) {
            this.reaction = source.reaction.map((x) => new fhir.AllergyIntoleranceReaction(x));
        }
        else {
            this.reaction = [];
        }
    }
    /**
     * Required-bound Value Set for clinicalStatus (AllergyIntolerance.clinicalStatus)
     */
    static get clinicalStatusRequiredCodes() {
        return AllergyintoleranceClinicalCodes;
    }
    /**
     * Required-bound Value Set for verificationStatus (AllergyIntolerance.verificationStatus)
     */
    static get verificationStatusRequiredCodes() {
        return AllergyintoleranceVerificationCodes;
    }
    /**
     * Required-bound Value Set for type (AllergyIntolerance.type)
     */
    static get typeRequiredCodes() {
        return AllergyIntoleranceTypeCodes;
    }
    /**
     * Required-bound Value Set for category (AllergyIntolerance.category)
     */
    static get categoryRequiredCodes() {
        return AllergyIntoleranceCategoryCodes;
    }
    /**
     * Required-bound Value Set for criticality (AllergyIntolerance.criticality)
     */
    static get criticalityRequiredCodes() {
        return AllergyIntoleranceCriticalityCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AllergyIntolerance';
        }
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType fhir: AllergyIntolerance.resourceType:"AllergyIntolerance"', expression: [expression] });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.identifier[${i}]`)); });
        }
        if (this["clinicalStatus"]) {
            issues.push(...this.clinicalStatus.doModelValidation(expression + '.clinicalStatus'));
        }
        if (this["verificationStatus"]) {
            issues.push(...this.verificationStatus.doModelValidation(expression + '.verificationStatus'));
        }
        if (this['type'] && (!Object.values(AllergyIntoleranceTypeCodes).includes(this.type.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property type fhir: AllergyIntolerance.type:code Required binding to: AllergyIntoleranceType', expression: [expression] });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this['category']) {
            this.category.forEach((v) => {
                if (!Object.values(AllergyIntoleranceCategoryCodes).includes(v.value)) {
                    issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property category fhir: AllergyIntolerance.category:code Required binding to: AllergyIntoleranceCategory', expression: [expression] });
                }
            });
        }
        if (this["category"]) {
            this.category.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.category[${i}]`)); });
        }
        if (this['criticality'] && (!Object.values(AllergyIntoleranceCriticalityCodes).includes(this.criticality.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property criticality fhir: AllergyIntolerance.criticality:code Required binding to: AllergyIntoleranceCriticality', expression: [expression] });
        }
        if (this["criticality"]) {
            issues.push(...this.criticality.doModelValidation(expression + '.criticality'));
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation(expression + '.code'));
        }
        if (!this['patient']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property patient fhir: AllergyIntolerance.patient:Reference', expression: [expression] });
        }
        if (this["patient"]) {
            issues.push(...this.patient.doModelValidation(expression + '.patient'));
        }
        if (this["encounter"]) {
            issues.push(...this.encounter.doModelValidation(expression + '.encounter'));
        }
        if (this["recordedDate"]) {
            issues.push(...this.recordedDate.doModelValidation(expression + '.recordedDate'));
        }
        if (this["recorder"]) {
            issues.push(...this.recorder.doModelValidation(expression + '.recorder'));
        }
        if (this["asserter"]) {
            issues.push(...this.asserter.doModelValidation(expression + '.asserter'));
        }
        if (this["lastOccurrence"]) {
            issues.push(...this.lastOccurrence.doModelValidation(expression + '.lastOccurrence'));
        }
        if (this["note"]) {
            this.note.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.note[${i}]`)); });
        }
        if (this["reaction"]) {
            this.reaction.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.reaction[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AllergyIntolerance._fts_dataType = 'AllergyIntolerance';
/**
 * Internal flag to properly serialize choice-type element AllergyIntolerance.onset[x]
 */
AllergyIntolerance._fts_onsetIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWxsZXJneUludG9sZXJhbmNlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BbGxlcmd5SW50b2xlcmFuY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBWW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsMEJBQTBCLEVBQWtDLE1BQU0sZ0RBQWdELENBQUM7QUFPNUgsYUFBYTtBQUNiLE9BQU8sRUFBRSwrQkFBK0IsRUFBdUMsTUFBTSxxREFBcUQsQ0FBQztBQUczSSxhQUFhO0FBQ2IsT0FBTyxFQUFFLG1DQUFtQyxFQUEyQyxNQUFNLHlEQUF5RCxDQUFDO0FBR3ZKLGFBQWE7QUFDYixPQUFPLEVBQUUsMkJBQTJCLEVBQW1DLE1BQU0saURBQWlELENBQUM7QUFHL0gsYUFBYTtBQUNiLE9BQU8sRUFBRSwrQkFBK0IsRUFBdUMsTUFBTSxxREFBcUQsQ0FBQztBQUczSSxhQUFhO0FBQ2IsT0FBTyxFQUFFLGtDQUFrQyxFQUEwQyxNQUFNLHdEQUF3RCxDQUFDO0FBbURwSjs7R0FFRztBQUNILE1BQU0sT0FBTywwQkFBMkIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlDbEU7O09BRUc7SUFDSCxZQUFZLFNBQWlELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3ZHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7U0FBRTtRQUN6RixJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFH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QUU7UUFDbEcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2xHLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDcEgsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNwSCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ2hJLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBN01EOztHQUVHO0FBQzZCLGdDQUFhLEdBQVUsb0JBQW9CLENBQUM7QUFnRDVFOztHQUVHO0FBQ3VCLHFDQUFrQixHQUFRLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQWxsZXJneUludG9sZXJhbmNlXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTdWJzdGFuY2VDb2RpbmdzLCBTdWJzdGFuY2VDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TdWJzdGFuY2VDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTdWJzdGFuY2VDb2RlcywgIFN1YnN0YW5jZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TdWJzdGFuY2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xpbmljYWxGaW5kaW5nc0NvZGluZ3MsIENsaW5pY2FsRmluZGluZ3NDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGluaWNhbEZpbmRpbmdzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xpbmljYWxGaW5kaW5nc0NvZGVzLCAgQ2xpbmljYWxGaW5kaW5nc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGluaWNhbEZpbmRpbmdzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlYWN0aW9uRXZlbnRTZXZlcml0eUNvZGluZ3MsIFJlYWN0aW9uRXZlbnRTZXZlcml0eUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlYWN0aW9uRXZlbnRTZXZlcml0eUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlYWN0aW9uRXZlbnRTZXZlcml0eUNvZGVzLCAgUmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlYWN0aW9uRXZlbnRTZXZlcml0eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSb3V0ZUNvZGluZ3MsIFJvdXRlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSb3V0ZUNvZGVzLCAgUm91dGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWxsZXJneWludG9sZXJhbmNlQ2xpbmljYWxDb2RpbmdzLCBBbGxlcmd5aW50b2xlcmFuY2VDbGluaWNhbENvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lpbnRvbGVyYW5jZUNsaW5pY2FsQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWxsZXJneWludG9sZXJhbmNlQ2xpbmljYWxDb2RlcywgIEFsbGVyZ3lpbnRvbGVyYW5jZUNsaW5pY2FsQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lpbnRvbGVyYW5jZUNsaW5pY2FsQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lpbnRvbGVyYW5jZVZlcmlmaWNhdGlvbkNvZGluZ3MsIEFsbGVyZ3lpbnRvbGVyYW5jZVZlcmlmaWNhdGlvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lpbnRvbGVyYW5jZVZlcmlmaWNhdGlvbkNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lpbnRvbGVyYW5jZVZlcmlmaWNhdGlvbkNvZGVzLCAgQWxsZXJneWludG9sZXJhbmNlVmVyaWZpY2F0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lpbnRvbGVyYW5jZVZlcmlmaWNhdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kaW5ncywgQWxsZXJneUludG9sZXJhbmNlVHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZXMsICBBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RpbmdzLCBBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RlcywgIEFsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5Q29kaW5ncywgQWxsZXJneUludG9sZXJhbmNlQ3JpdGljYWxpdHlDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5Q29kZXMsICBBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5aW50b2xlcmFuY2VDb2RpbmdzLCBBbGxlcmd5aW50b2xlcmFuY2VDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5aW50b2xlcmFuY2VDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5aW50b2xlcmFuY2VDb2RlcywgIEFsbGVyZ3lpbnRvbGVyYW5jZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5aW50b2xlcmFuY2VDb2Rlcy5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBbGxlcmd5SW50b2xlcmFuY2VSZWFjdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBbGxlcmd5SW50b2xlcmFuY2VSZWFjdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENvZGluZyBvZiB0aGUgc3BlY2lmaWMgc3Vic3RhbmNlIChvciBwaGFybWFjZXV0aWNhbCBwcm9kdWN0KSB3aXRoIGEgdGVybWlub2xvZ3kgY2FwYWJsZSBvZiB0cmlnZ2VyaW5nIGRlY2lzaW9uIHN1cHBvcnQgc2hvdWxkIGJlIHVzZWQgd2hlcmV2ZXIgcG9zc2libGUuICBUaGUgJ2NvZGUnIGVsZW1lbnQgYWxsb3dzIGZvciB0aGUgdXNlIG9mIGEgc3BlY2lmaWMgc3Vic3RhbmNlIG9yIHBoYXJtYWNldXRpY2FsIHByb2R1Y3QsIG9yIGEgZ3JvdXAgb3IgY2xhc3Mgb2Ygc3Vic3RhbmNlcy4gSW4gdGhlIGNhc2Ugb2YgYW4gYWxsZXJneSBvciBpbnRvbGVyYW5jZSB0byBhIGNsYXNzIG9mIHN1YnN0YW5jZXMsIChmb3IgZXhhbXBsZSwgXCJwZW5pY2lsbGluc1wiKSwgdGhlICdyZWFjdGlvbi5zdWJzdGFuY2UnIGVsZW1lbnQgY291bGQgYmUgdXNlZCB0byBjb2RlIHRoZSBzcGVjaWZpYyBzdWJzdGFuY2UgdGhhdCB3YXMgaWRlbnRpZmllZCBhcyBoYXZpbmcgY2F1c2VkIHRoZSByZWFjdGlvbiAoZm9yIGV4YW1wbGUsIFwiYW1veHljaWxsaW5cIikuIER1cGxpY2F0aW9uIG9mIHRoZSB2YWx1ZSBpbiB0aGUgJ2NvZGUnIGFuZCAncmVhY3Rpb24uc3Vic3RhbmNlJyBlbGVtZW50cyBpcyBhY2NlcHRhYmxlIHdoZW4gYSBzcGVjaWZpYyBzdWJzdGFuY2UgaGFzIGJlZW4gcmVjb3JkZWQgaW4gJ2NvZGUnLlxyXG4gICAqL1xyXG4gIHN1YnN0YW5jZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFuaWZlc3RhdGlvbiBjYW4gYmUgZXhwcmVzc2VkIGFzIGEgc2luZ2xlIHdvcmQsIHBocmFzZSBvciBicmllZiBkZXNjcmlwdGlvbi4gRm9yIGV4YW1wbGU6IG5hdXNlYSwgcmFzaCBvciBubyByZWFjdGlvbi4gSXQgaXMgcHJlZmVyYWJsZSB0aGF0IG1hbmlmZXN0YXRpb24gc2hvdWxkIGJlIGNvZGVkIHdpdGggYSB0ZXJtaW5vbG9neSwgd2hlcmUgcG9zc2libGUuIFRoZSB2YWx1ZXMgZW50ZXJlZCBoZXJlIG1heSBiZSB1c2VkIHRvIGRpc3BsYXkgb24gYW4gYXBwbGljYXRpb24gc2NyZWVuIGFzIHBhcnQgb2YgYSBsaXN0IG9mIGFkdmVyc2UgcmVhY3Rpb25zLCBhcyByZWNvbW1lbmRlZCBpbiB0aGUgVUsgTkhTIENVSSBndWlkZWxpbmVzLiAgVGVybWlub2xvZ2llcyBjb21tb25seSB1c2VkIGluY2x1ZGUsIGJ1dCBhcmUgbm90IGxpbWl0ZWQgdG8sIFNOT01FRCBDVCBvciBJQ0QxMC5cclxuICAgKi9cclxuICBtYW5pZmVzdGF0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFVzZSB0aGUgZGVzY3JpcHRpb24gdG8gcHJvdmlkZSBhbnkgZGV0YWlscyBvZiBhIHBhcnRpY3VsYXIgZXZlbnQgb2YgdGhlIG9jY3VycmVkIHJlYWN0aW9uIHN1Y2ggYXMgY2lyY3Vtc3RhbmNlcywgcmVhY3Rpb24gc3BlY2lmaWNzLCB3aGF0IGhhcHBlbmVkIGJlZm9yZS9hZnRlci4gSW5mb3JtYXRpb24sIHJlbGF0ZWQgdG8gdGhlIGV2ZW50LCBidXQgbm90IGRlc2NyaWJpbmcgYSBwYXJ0aWN1bGFyIGNhcmUgc2hvdWxkIGJlIGNhcHR1cmVkIGluIHRoZSBjb21tZW50IGZpZWxkLiBGb3IgZXhhbXBsZTogYXQgdGhlIGFnZSBvZiBmb3VyLCB0aGUgcGF0aWVudCB3YXMgZ2l2ZW4gcGVuaWNpbGxpbiBmb3Igc3RyZXAgdGhyb2F0IGFuZCBzdWJzZXF1ZW50bHkgZGV2ZWxvcGVkIHNldmVyZSBoaXZlcy5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UucmVhY3Rpb24uZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFJlY29yZCBvZiB0aGUgZGF0ZSBhbmQvb3IgdGltZSBvZiB0aGUgb25zZXQgb2YgdGhlIFJlYWN0aW9uLlxyXG4gICAqL1xyXG4gIG9uc2V0PzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLnJlYWN0aW9uLm9uc2V0XHJcbiAgICovXHJcbiAgX29uc2V0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJdCBpcyBhY2tub3dsZWRnZWQgdGhhdCB0aGlzIGFzc2Vzc21lbnQgaXMgdmVyeSBzdWJqZWN0aXZlLiBUaGVyZSBtYXkgYmUgc29tZSBzcGVjaWZpYyBwcmFjdGljZSBkb21haW5zIHdoZXJlIG9iamVjdGl2ZSBzY2FsZXMgaGF2ZSBiZWVuIGFwcGxpZWQuIE9iamVjdGl2ZSBzY2FsZXMgY2FuIGJlIGluY2x1ZGVkIGluIHRoaXMgbW9kZWwgYXMgZXh0ZW5zaW9ucy5cclxuICAgKi9cclxuICBzZXZlcml0eT86IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFsbGVyZ3lJbnRvbGVyYW5jZS5yZWFjdGlvbi5zZXZlcml0eVxyXG4gICAqL1xyXG4gIF9zZXZlcml0eT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ29kaW5nIG9mIHRoZSByb3V0ZSBvZiBleHBvc3VyZSB3aXRoIGEgdGVybWlub2xvZ3kgc2hvdWxkIGJlIHVzZWQgd2hlcmV2ZXIgcG9zc2libGUuXHJcbiAgICovXHJcbiAgZXhwb3N1cmVSb3V0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlIHRoaXMgZmllbGQgdG8gcmVjb3JkIGluZm9ybWF0aW9uIGluZGlyZWN0bHkgcmVsYXRlZCB0byBhIHBhcnRpY3VsYXIgZXZlbnQgYW5kIG5vdCBjYXB0dXJlZCBpbiB0aGUgZGVzY3JpcHRpb24uIEZvciBleGFtcGxlOiBDbGluaWNhbCByZWNvcmRzIGFyZSBubyBsb25nZXIgYXZhaWxhYmxlLCByZWNvcmRlZCBiYXNlZCBvbiBpbmZvcm1hdGlvbiBwcm92aWRlZCB0byB0aGUgcGF0aWVudCBieSBoZXIgbW90aGVyIGFuZCBoZXIgbW90aGVyIGlzIGRlY2Vhc2VkLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkFubm90YXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGV0YWlscyBhYm91dCBlYWNoIGFkdmVyc2UgcmVhY3Rpb24gZXZlbnQgbGlua2VkIHRvIGV4cG9zdXJlIHRvIHRoZSBpZGVudGlmaWVkIHN1YnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbGxlcmd5SW50b2xlcmFuY2VSZWFjdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FsbGVyZ3lJbnRvbGVyYW5jZVJlYWN0aW9uJztcclxuICAvKipcclxuICAgKiBDb2Rpbmcgb2YgdGhlIHNwZWNpZmljIHN1YnN0YW5jZSAob3IgcGhhcm1hY2V1dGljYWwgcHJvZHVjdCkgd2l0aCBhIHRlcm1pbm9sb2d5IGNhcGFibGUgb2YgdHJpZ2dlcmluZyBkZWNpc2lvbiBzdXBwb3J0IHNob3VsZCBiZSB1c2VkIHdoZXJldmVyIHBvc3NpYmxlLiAgVGhlICdjb2RlJyBlbGVtZW50IGFsbG93cyBmb3IgdGhlIHVzZSBvZiBhIHNwZWNpZmljIHN1YnN0YW5jZSBvciBwaGFybWFjZXV0aWNhbCBwcm9kdWN0LCBvciBhIGdyb3VwIG9yIGNsYXNzIG9mIHN1YnN0YW5jZXMuIEluIHRoZSBjYXNlIG9mIGFuIGFsbGVyZ3kgb3IgaW50b2xlcmFuY2UgdG8gYSBjbGFzcyBvZiBzdWJzdGFuY2VzLCAoZm9yIGV4YW1wbGUsIFwicGVuaWNpbGxpbnNcIiksIHRoZSAncmVhY3Rpb24uc3Vic3RhbmNlJyBlbGVtZW50IGNvdWxkIGJlIHVzZWQgdG8gY29kZSB0aGUgc3BlY2lmaWMgc3Vic3RhbmNlIHRoYXQgd2FzIGlkZW50aWZpZWQgYXMgaGF2aW5nIGNhdXNlZCB0aGUgcmVhY3Rpb24gKGZvciBleGFtcGxlLCBcImFtb3h5Y2lsbGluXCIpLiBEdXBsaWNhdGlvbiBvZiB0aGUgdmFsdWUgaW4gdGhlICdjb2RlJyBhbmQgJ3JlYWN0aW9uLnN1YnN0YW5jZScgZWxlbWVudHMgaXMgYWNjZXB0YWJsZSB3aGVuIGEgc3BlY2lmaWMgc3Vic3RhbmNlIGhhcyBiZWVuIHJlY29yZGVkIGluICdjb2RlJy5cclxuICAgKi9cclxuICBwdWJsaWMgc3Vic3RhbmNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hbmlmZXN0YXRpb24gY2FuIGJlIGV4cHJlc3NlZCBhcyBhIHNpbmdsZSB3b3JkLCBwaHJhc2Ugb3IgYnJpZWYgZGVzY3JpcHRpb24uIEZvciBleGFtcGxlOiBuYXVzZWEsIHJhc2ggb3Igbm8gcmVhY3Rpb24uIEl0IGlzIHByZWZlcmFibGUgdGhhdCBtYW5pZmVzdGF0aW9uIHNob3VsZCBiZSBjb2RlZCB3aXRoIGEgdGVybWlub2xvZ3ksIHdoZXJlIHBvc3NpYmxlLiBUaGUgdmFsdWVzIGVudGVyZWQgaGVyZSBtYXkgYmUgdXNlZCB0byBkaXNwbGF5IG9uIGFuIGFwcGxpY2F0aW9uIHNjcmVlbiBhcyBwYXJ0IG9mIGEgbGlzdCBvZiBhZHZlcnNlIHJlYWN0aW9ucywgYXMgcmVjb21tZW5kZWQgaW4gdGhlIFVLIE5IUyBDVUkgZ3VpZGVsaW5lcy4gIFRlcm1pbm9sb2dpZXMgY29tbW9ubHkgdXNlZCBpbmNsdWRlLCBidXQgYXJlIG5vdCBsaW1pdGVkIHRvLCBTTk9NRUQgQ1Qgb3IgSUNEMTAuXHJcbiAgICovXHJcbiAgcHVibGljIG1hbmlmZXN0YXRpb246IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVXNlIHRoZSBkZXNjcmlwdGlvbiB0byBwcm92aWRlIGFueSBkZXRhaWxzIG9mIGEgcGFydGljdWxhciBldmVudCBvZiB0aGUgb2NjdXJyZWQgcmVhY3Rpb24gc3VjaCBhcyBjaXJjdW1zdGFuY2VzLCByZWFjdGlvbiBzcGVjaWZpY3MsIHdoYXQgaGFwcGVuZWQgYmVmb3JlL2FmdGVyLiBJbmZvcm1hdGlvbiwgcmVsYXRlZCB0byB0aGUgZXZlbnQsIGJ1dCBub3QgZGVzY3JpYmluZyBhIHBhcnRpY3VsYXIgY2FyZSBzaG91bGQgYmUgY2FwdHVyZWQgaW4gdGhlIGNvbW1lbnQgZmllbGQuIEZvciBleGFtcGxlOiBhdCB0aGUgYWdlIG9mIGZvdXIsIHRoZSBwYXRpZW50IHdhcyBnaXZlbiBwZW5pY2lsbGluIGZvciBzdHJlcCB0aHJvYXQgYW5kIHN1YnNlcXVlbnRseSBkZXZlbG9wZWQgc2V2ZXJlIGhpdmVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVjb3JkIG9mIHRoZSBkYXRlIGFuZC9vciB0aW1lIG9mIHRoZSBvbnNldCBvZiB0aGUgUmVhY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG9uc2V0PzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0IGlzIGFja25vd2xlZGdlZCB0aGF0IHRoaXMgYXNzZXNzbWVudCBpcyB2ZXJ5IHN1YmplY3RpdmUuIFRoZXJlIG1heSBiZSBzb21lIHNwZWNpZmljIHByYWN0aWNlIGRvbWFpbnMgd2hlcmUgb2JqZWN0aXZlIHNjYWxlcyBoYXZlIGJlZW4gYXBwbGllZC4gT2JqZWN0aXZlIHNjYWxlcyBjYW4gYmUgaW5jbHVkZWQgaW4gdGhpcyBtb2RlbCBhcyBleHRlbnNpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXZlcml0eT86IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2Rpbmcgb2YgdGhlIHJvdXRlIG9mIGV4cG9zdXJlIHdpdGggYSB0ZXJtaW5vbG9neSBzaG91bGQgYmUgdXNlZCB3aGVyZXZlciBwb3NzaWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgZXhwb3N1cmVSb3V0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2UgdGhpcyBmaWVsZCB0byByZWNvcmQgaW5mb3JtYXRpb24gaW5kaXJlY3RseSByZWxhdGVkIHRvIGEgcGFydGljdWxhciBldmVudCBhbmQgbm90IGNhcHR1cmVkIGluIHRoZSBkZXNjcmlwdGlvbi4gRm9yIGV4YW1wbGU6IENsaW5pY2FsIHJlY29yZHMgYXJlIG5vIGxvbmdlciBhdmFpbGFibGUsIHJlY29yZGVkIGJhc2VkIG9uIGluZm9ybWF0aW9uIHByb3ZpZGVkIHRvIHRoZSBwYXRpZW50IGJ5IGhlciBtb3RoZXIgYW5kIGhlciBtb3RoZXIgaXMgZGVjZWFzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU6IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFsbGVyZ3lJbnRvbGVyYW5jZVJlYWN0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc3Vic3RhbmNlJ10pIHsgdGhpcy5zdWJzdGFuY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN1YnN0YW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbmlmZXN0YXRpb24nXSkgeyB0aGlzLm1hbmlmZXN0YXRpb24gPSBzb3VyY2UubWFuaWZlc3RhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hbmlmZXN0YXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29uc2V0J10pIHsgdGhpcy5vbnNldCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5vbnNldH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb25zZXQnXSkge1xyXG4gICAgICBpZiAodGhpcy5vbnNldCkgeyB0aGlzLm9uc2V0LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29uc2V0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub25zZXQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9vbnNldCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZXZlcml0eSddKSB7IHRoaXMuc2V2ZXJpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxSZWFjdGlvbkV2ZW50U2V2ZXJpdHlDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc2V2ZXJpdHl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NldmVyaXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMuc2V2ZXJpdHkpIHsgdGhpcy5zZXZlcml0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXZlcml0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNldmVyaXR5ID0gbmV3IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZVR5cGU+KHNvdXJjZS5fc2V2ZXJpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2V4cG9zdXJlUm91dGUnXSkgeyB0aGlzLmV4cG9zdXJlUm91dGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmV4cG9zdXJlUm91dGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RlJ10pIHsgdGhpcy5ub3RlID0gc291cmNlLm5vdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Bbm5vdGF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubm90ZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igc2V2ZXJpdHkgKEFsbGVyZ3lJbnRvbGVyYW5jZS5yZWFjdGlvbi5zZXZlcml0eSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBzZXZlcml0eVJlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gUmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0FsbGVyZ3lJbnRvbGVyYW5jZS5yZWFjdGlvbicgfVxyXG4gICAgaWYgKHRoaXNbXCJzdWJzdGFuY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdWJzdGFuY2UuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnN1YnN0YW5jZScpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydtYW5pZmVzdGF0aW9uJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG1hbmlmZXN0YXRpb24gZmhpcjogQWxsZXJneUludG9sZXJhbmNlLnJlYWN0aW9uLm1hbmlmZXN0YXRpb246Q29kZWFibGVDb25jZXB0JywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLm1hbmlmZXN0YXRpb24pKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdzdHJ1Y3R1cmUnLCBkaWFnbm9zdGljczogJ0ZvdW5kIHNjYWxhciBpbiBhcnJheSBwcm9wZXJ0eSBtYW5pZmVzdGF0aW9uIGZoaXI6IEFsbGVyZ3lJbnRvbGVyYW5jZS5yZWFjdGlvbi5tYW5pZmVzdGF0aW9uOkNvZGVhYmxlQ29uY2VwdCcsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5tYW5pZmVzdGF0aW9uLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgbWFuaWZlc3RhdGlvbiBmaGlyOiBBbGxlcmd5SW50b2xlcmFuY2UucmVhY3Rpb24ubWFuaWZlc3RhdGlvbjpDb2RlYWJsZUNvbmNlcHQnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcIm1hbmlmZXN0YXRpb25cIl0pIHsgdGhpcy5tYW5pZmVzdGF0aW9uLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5tYW5pZmVzdGF0aW9uWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImRlc2NyaXB0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVzY3JpcHRpb24uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmRlc2NyaXB0aW9uJykpOyB9XHJcbiAgICBpZiAodGhpc1tcIm9uc2V0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub25zZXQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm9uc2V0JykpOyB9XHJcbiAgICBpZiAodGhpc1snc2V2ZXJpdHknXSAmJiAoIU9iamVjdC52YWx1ZXMoUmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZXMpLmluY2x1ZGVzKHRoaXMuc2V2ZXJpdHkudmFsdWUgYXMgYW55KSkpIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ2NvZGUtaW52YWxpZCcsIGRpYWdub3N0aWNzOiAnSW52YWxpZCBjb2RlIHByb3BlcnR5IHNldmVyaXR5IGZoaXI6IEFsbGVyZ3lJbnRvbGVyYW5jZS5yZWFjdGlvbi5zZXZlcml0eTpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IFJlYWN0aW9uRXZlbnRTZXZlcml0eScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic2V2ZXJpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zZXZlcml0eS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc2V2ZXJpdHknKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZXhwb3N1cmVSb3V0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmV4cG9zdXJlUm91dGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmV4cG9zdXJlUm91dGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibm90ZVwiXSkgeyB0aGlzLm5vdGUuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLm5vdGVbJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBbGxlcmd5SW50b2xlcmFuY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWxsZXJneUludG9sZXJhbmNlQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQWxsZXJneUludG9sZXJhbmNlXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgYSBidXNpbmVzcyBpZGVudGlmaWVyLCBub3QgYSByZXNvdXJjZSBpZGVudGlmaWVyIChzZWUgW2Rpc2N1c3Npb25dKHJlc291cmNlLmh0bWwjaWRlbnRpZmllcnMpKS4gIEl0IGlzIGJlc3QgcHJhY3RpY2UgZm9yIHRoZSBpZGVudGlmaWVyIHRvIG9ubHkgYXBwZWFyIG9uIGEgc2luZ2xlIHJlc291cmNlIGluc3RhbmNlLCBob3dldmVyIGJ1c2luZXNzIHByYWN0aWNlcyBtYXkgb2NjYXNpb25hbGx5IGRpY3RhdGUgdGhhdCBtdWx0aXBsZSByZXNvdXJjZSBpbnN0YW5jZXMgd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyIGNhbiBleGlzdCAtIHBvc3NpYmx5IGV2ZW4gd2l0aCBkaWZmZXJlbnQgcmVzb3VyY2UgdHlwZXMuICBGb3IgZXhhbXBsZSwgbXVsdGlwbGUgUGF0aWVudCBhbmQgYSBQZXJzb24gcmVzb3VyY2UgaW5zdGFuY2UgbWlnaHQgc2hhcmUgdGhlIHNhbWUgc29jaWFsIGluc3VyYW5jZSBudW1iZXIuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVmZXIgdG8gW2Rpc2N1c3Npb25dKGV4dGVuc2liaWxpdHkuaHRtbCNTcGVjaWFsLUNhc2UpIGlmIGNsaW5jYWxTdGF0dXMgaXMgbWlzc2luZyBkYXRhLlxyXG4gICAqIFRoZSBkYXRhIHR5cGUgaXMgQ29kZWFibGVDb25jZXB0IGJlY2F1c2UgY2xpbmljYWxTdGF0dXMgaGFzIHNvbWUgY2xpbmljYWwganVkZ21lbnQgaW52b2x2ZWQsIHN1Y2ggdGhhdCB0aGVyZSBtaWdodCBuZWVkIHRvIGJlIG1vcmUgc3BlY2lmaWNpdHkgdGhhbiB0aGUgcmVxdWlyZWQgRkhJUiB2YWx1ZSBzZXQgYWxsb3dzLiBGb3IgZXhhbXBsZSwgYSBTTk9NRUQgY29kaW5nIG1pZ2h0IGFsbG93IGZvciBhZGRpdGlvbmFsIHNwZWNpZmljaXR5LlxyXG4gICAqL1xyXG4gIGNsaW5pY2FsU3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0YSB0eXBlIGlzIENvZGVhYmxlQ29uY2VwdCBiZWNhdXNlIHZlcmlmaWNhdGlvblN0YXR1cyBoYXMgc29tZSBjbGluaWNhbCBqdWRnbWVudCBpbnZvbHZlZCwgc3VjaCB0aGF0IHRoZXJlIG1pZ2h0IG5lZWQgdG8gYmUgbW9yZSBzcGVjaWZpY2l0eSB0aGFuIHRoZSByZXF1aXJlZCBGSElSIHZhbHVlIHNldCBhbGxvd3MuIEZvciBleGFtcGxlLCBhIFNOT01FRCBjb2RpbmcgbWlnaHQgYWxsb3cgZm9yIGFkZGl0aW9uYWwgc3BlY2lmaWNpdHkuXHJcbiAgICovXHJcbiAgdmVyaWZpY2F0aW9uU3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxlcmdpYyAodHlwaWNhbGx5IGltbXVuZS1tZWRpYXRlZCkgcmVhY3Rpb25zIGhhdmUgYmVlbiB0cmFkaXRpb25hbGx5IHJlZ2FyZGVkIGFzIGFuIGluZGljYXRvciBmb3IgcG90ZW50aWFsIGVzY2FsYXRpb24gdG8gc2lnbmlmaWNhbnQgZnV0dXJlIHJpc2suIENvbnRlbXBvcmFyeSBrbm93bGVkZ2Ugc3VnZ2VzdHMgdGhhdCBzb21lIHJlYWN0aW9ucyBwcmV2aW91c2x5IHRob3VnaHQgdG8gYmUgaW1tdW5lLW1lZGlhdGVkIGFyZSwgaW4gZmFjdCwgbm9uLWltbXVuZSwgYnV0IGluIHNvbWUgY2FzZXMgY2FuIHN0aWxsIHBvc2UgYSBsaWZlIHRocmVhdGVuaW5nIHJpc2suIEl0IGlzIGFja25vd2xlZGdlZCB0aGF0IG1hbnkgY2xpbmljaWFucyBtaWdodCBub3QgYmUgaW4gYSBwb3NpdGlvbiB0byBkaXN0aW5ndWlzaCB0aGUgbWVjaGFuaXNtIG9mIGEgcGFydGljdWxhciByZWFjdGlvbi4gT2Z0ZW4gdGhlIHRlcm0gXCJhbGxlcmd5XCIgaXMgdXNlZCByYXRoZXIgZ2VuZXJpY2FsbHkgYW5kIG1heSBvdmVybGFwIHdpdGggdGhlIHVzZSBvZiBcImludG9sZXJhbmNlXCIgLSBpbiBwcmFjdGljZSB0aGUgYm91bmRhcmllcyBiZXR3ZWVuIHRoZXNlIHR3byBjb25jZXB0cyBtaWdodCBub3QgYmUgd2VsbC1kZWZpbmVkIG9yIHVuZGVyc3Rvb2QuIFRoaXMgZGF0YSBlbGVtZW50IGlzIGluY2x1ZGVkIG5ldmVydGhlbGVzcywgYmVjYXVzZSBtYW55IGxlZ2FjeSBzeXN0ZW1zIGhhdmUgY2FwdHVyZWQgdGhpcyBhdHRyaWJ1dGUuIEltbXVub2xvZ2ljIHRlc3RpbmcgbWF5IHByb3ZpZGUgc3VwcG9ydGluZyBldmlkZW5jZSBmb3IgdGhlIGJhc2lzIG9mIHRoZSByZWFjdGlvbiBhbmQgdGhlIGNhdXNhdGl2ZSBzdWJzdGFuY2UsIGJ1dCBubyB0ZXN0cyBhcmUgMTAwJSBzZW5zaXRpdmUgb3Igc3BlY2lmaWMgZm9yIHNlbnNpdGl2aXR5IHRvIGEgcGFydGljdWxhciBzdWJzdGFuY2UuIElmLCBhcyBpcyBjb21tb25seSB0aGUgY2FzZSwgaXQgaXMgdW5jbGVhciB3aGV0aGVyIHRoZSByZWFjdGlvbiBpcyBkdWUgdG8gYW4gYWxsZXJneSBvciBhbiBpbnRvbGVyYW5jZSwgdGhlbiB0aGUgdHlwZSBlbGVtZW50IHNob3VsZCBiZSBvbWl0dGVkIGZyb20gdGhlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZVR5cGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkYXRhIGVsZW1lbnQgaGFzIGJlZW4gaW5jbHVkZWQgYmVjYXVzZSBpdCBpcyBjdXJyZW50bHkgYmVpbmcgY2FwdHVyZWQgaW4gc29tZSBjbGluaWNhbCBzeXN0ZW1zLiBUaGlzIGRhdGEgY2FuIGJlIGRlcml2ZWQgZnJvbSB0aGUgc3Vic3RhbmNlIHdoZXJlIGNvZGluZyBzeXN0ZW1zIGFyZSB1c2VkLCBhbmQgaXMgZWZmZWN0aXZlbHkgcmVkdW5kYW50IGluIHRoYXQgc2l0dWF0aW9uLiAgV2hlbiBzZWFyY2hpbmcgb24gY2F0ZWdvcnksIGNvbnNpZGVyIHRoZSBpbXBsaWNhdGlvbnMgb2YgQWxsZXJneUludG9sZXJhbmNlIHJlc291cmNlcyB3aXRob3V0IGEgY2F0ZWdvcnkuICBGb3IgZXhhbXBsZSwgd2hlbiBzZWFyY2hpbmcgb24gY2F0ZWdvcnkgPSBtZWRpY2F0aW9uLCBtZWRpY2F0aW9uIGFsbGVyZ2llcyB0aGF0IGRvbid0IGhhdmUgYSBjYXRlZ29yeSB2YWx1ZWQgd2lsbCBub3QgYmUgcmV0dXJuZWQuICBSZWZlciB0byBbc2VhcmNoXShzZWFyY2guaHRtbCkgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIHNlYXJjaCBjYXRlZ29yeSB3aXRoIGEgOm1pc3NpbmcgbW9kaWZpZXIgdG8gZ2V0IGFsbGVyZ2llcyB0aGF0IGRvbid0IGhhdmUgYSBjYXRlZ29yeS4gIEFkZGl0aW9uYWxseSwgY2F0ZWdvcnkgc2hvdWxkIGJlIHVzZWQgd2l0aCBjYXV0aW9uIGJlY2F1c2UgY2F0ZWdvcnkgY2FuIGJlIHN1YmplY3RpdmUgYmFzZWQgb24gdGhlIHNlbmRlci5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RlVHlwZT5bXXxzdHJpbmdbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFsbGVyZ3lJbnRvbGVyYW5jZS5jYXRlZ29yeVxyXG4gICAqL1xyXG4gIF9jYXRlZ29yeT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlZmF1bHQgY3JpdGljYWxpdHkgdmFsdWUgZm9yIGFueSBwcm9wZW5zaXR5IHRvIGFuIGFkdmVyc2UgcmVhY3Rpb24gc2hvdWxkIGJlICdMb3cgUmlzaycsIGluZGljYXRpbmcgYXQgdGhlIHZlcnkgbGVhc3QgYSByZWxhdGl2ZSBjb250cmFpbmRpY2F0aW9uIHRvIGRlbGliZXJhdGUgb3Igdm9sdW50YXJ5IGV4cG9zdXJlIHRvIHRoZSBzdWJzdGFuY2UuICdIaWdoIFJpc2snIGlzIGZsYWdnZWQgaWYgdGhlIGNsaW5pY2lhbiBoYXMgaWRlbnRpZmllZCBhIHByb3BlbnNpdHkgZm9yIGEgbW9yZSBzZXJpb3VzIG9yIHBvdGVudGlhbGx5IGxpZmUtdGhyZWF0ZW5pbmcgcmVhY3Rpb24sIHN1Y2ggYXMgYW5hcGh5bGF4aXMsIGFuZCBpbXBsaWVzIGFuIGFic29sdXRlIGNvbnRyYWluZGljYXRpb24gdG8gZGVsaWJlcmF0ZSBvciB2b2x1bnRhcnkgZXhwb3N1cmUgdG8gdGhlIHN1YnN0YW5jZS4gSWYgdGhpcyBlbGVtZW50IGlzIG1pc3NpbmcsIHRoZSBjcml0aWNhbGl0eSBpcyB1bmtub3duICh0aG91Z2ggaXQgbWF5IGJlIGtub3duIGVsc2V3aGVyZSkuICBTeXN0ZW1zIHRoYXQgY2FwdHVyZSBhIHNldmVyaXR5IGF0IHRoZSBjb25kaXRpb24gbGV2ZWwgYXJlIGFjdHVhbGx5IHJlcHJlc2VudGluZyB0aGUgY29uY2VwdCBvZiBjcml0aWNhbGl0eSB3aGVyZWFzIHRoZSBzZXZlcml0eSBkb2N1bWVudGVkIGF0IHRoZSByZWFjdGlvbiBsZXZlbCBpcyByZXByZXNlbnRpbmcgdGhlIHRydWUgcmVhY3Rpb24gc2V2ZXJpdHkuICBFeGlzdGluZyBzeXN0ZW1zIHRoYXQgYXJlIGNhcHR1cmluZyBib3RoIGNvbmRpdGlvbiBjcml0aWNhbGl0eSBhbmQgcmVhY3Rpb24gc2V2ZXJpdHkgbWF5IHVzZSB0aGUgdGVybSBcInNldmVyaXR5XCIgdG8gcmVwcmVzZW50IGJvdGguICBDcml0aWNhbGl0eSBpcyB0aGUgd29yc3QgaXQgY291bGQgYmUgaW4gdGhlIGZ1dHVyZSAoaS5lLiBzaXR1YXRpb24tYWdub3N0aWMpIHdoZXJlYXMgc2V2ZXJpdHkgaXMgc2l0dWF0aW9uLWRlcGVuZGVudC5cclxuICAgKi9cclxuICBjcml0aWNhbGl0eT86IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlQ3JpdGljYWxpdHlDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLmNyaXRpY2FsaXR5XHJcbiAgICovXHJcbiAgX2NyaXRpY2FsaXR5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJdCBpcyBzdHJvbmdseSByZWNvbW1lbmRlZCB0aGF0IHRoaXMgZWxlbWVudCBiZSBwb3B1bGF0ZWQgdXNpbmcgYSB0ZXJtaW5vbG9neSwgd2hlcmUgcG9zc2libGUuIEZvciBleGFtcGxlLCBzb21lIHRlcm1pbm9sb2dpZXMgdXNlZCBpbmNsdWRlIFJ4Tm9ybSwgU05PTUVEIENULCBETStELCBOREZSVCwgSUNELTksIElEQy0xMCwgVU5JSSwgYW5kIEFUQy4gUGxhaW4gdGV4dCBzaG91bGQgb25seSBiZSB1c2VkIGlmIHRoZXJlIGlzIG5vIGFwcHJvcHJpYXRlIHRlcm1pbm9sb2d5IGF2YWlsYWJsZS4gQWRkaXRpb25hbCBkZXRhaWxzIGNhbiBiZSBzcGVjaWZpZWQgaW4gdGhlIHRleHQuXHJcbiAgICogV2hlbiBhIHN1YnN0YW5jZSBvciBwcm9kdWN0IGNvZGUgaXMgc3BlY2lmaWVkIGZvciB0aGUgJ2NvZGUnIGVsZW1lbnQsIHRoZSBcImRlZmF1bHRcIiBzZW1hbnRpYyBjb250ZXh0IGlzIHRoYXQgdGhpcyBpcyBhIHBvc2l0aXZlIHN0YXRlbWVudCBvZiBhbiBhbGxlcmd5IG9yIGludG9sZXJhbmNlIChkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIHRoZSAndHlwZScgZWxlbWVudCwgaWYgcHJlc2VudCkgY29uZGl0aW9uIHRvIHRoZSBzcGVjaWZpZWQgc3Vic3RhbmNlL3Byb2R1Y3QuICBJbiB0aGUgY29ycmVzcG9uZGluZyBTTk9NRUQgQ1QgYWxsZXJneSBtb2RlbCwgdGhlIHNwZWNpZmllZCBzdWJzdGFuY2UvcHJvZHVjdCBpcyB0aGUgdGFyZ2V0IChkZXN0aW5hdGlvbikgb2YgdGhlIFwiQ2F1c2F0aXZlIGFnZW50XCIgcmVsYXRpb25zaGlwLlxyXG4gICAqIFRoZSAnc3Vic3RhbmNlRXhwb3N1cmVSaXNrJyBleHRlbnNpb24gaXMgYXZhaWxhYmxlIGFzIGEgc3RydWN0dXJlZCBhbmQgbW9yZSBmbGV4aWJsZSBhbHRlcm5hdGl2ZSB0byB0aGUgJ2NvZGUnIGVsZW1lbnQgZm9yIG1ha2luZyBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBhbGxlcmd5IG9yIGludG9sZXJhbmNlIHN0YXRlbWVudHMuICBUaGlzIGV4dGVuc2lvbiBwcm92aWRlcyB0aGUgY2FwYWJpbGl0eSB0byBtYWtlIFwibm8ga25vd24gYWxsZXJneVwiIChvciBcIm5vIHJpc2sgb2YgYWR2ZXJzZSByZWFjdGlvblwiKSBzdGF0ZW1lbnRzIHJlZ2FyZGluZyBhbnkgY29kZWQgc3Vic3RhbmNlL3Byb2R1Y3QgKGluY2x1ZGluZyBjYXNlcyB3aGVuIGEgcHJlLWNvb3JkaW5hdGVkIFwibm8gYWxsZXJneSB0byB4XCIgY29uY2VwdCBmb3IgdGhhdCBzdWJzdGFuY2UvcHJvZHVjdCBkb2VzIG5vdCBleGlzdCkuICBJZiB0aGUgJ3N1YnN0YW5jZUV4cG9zdXJlUmlzaycgZXh0ZW5zaW9uIGlzIHByZXNlbnQsIHRoZSBBbGxlcmd5SW50b2xlcmFuY2UuY29kZSBlbGVtZW50IFNIQUxMIGJlIG9taXR0ZWQuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGllbnQgd2hvIGhhcyB0aGUgYWxsZXJneSBvciBpbnRvbGVyYW5jZS5cclxuICAgKi9cclxuICBwYXRpZW50OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZW5jb3VudGVyIHdoZW4gdGhlIGFsbGVyZ3kgb3IgaW50b2xlcmFuY2Ugd2FzIGFzc2VydGVkLlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXN0aW1hdGVkIG9yIGFjdHVhbCBkYXRlLCAgZGF0ZS10aW1lLCBvciBhZ2Ugd2hlbiBhbGxlcmd5IG9yIGludG9sZXJhbmNlIHdhcyBpZGVudGlmaWVkLlxyXG4gICAqL1xyXG4gIG9uc2V0PzogZmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5BZ2V8Zmhpci5QZXJpb2R8Zmhpci5SYW5nZXxmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVzdGltYXRlZCBvciBhY3R1YWwgZGF0ZSwgIGRhdGUtdGltZSwgb3IgYWdlIHdoZW4gYWxsZXJneSBvciBpbnRvbGVyYW5jZSB3YXMgaWRlbnRpZmllZC5cclxuICAgKi9cclxuICBvbnNldERhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFc3RpbWF0ZWQgb3IgYWN0dWFsIGRhdGUsICBkYXRlLXRpbWUsIG9yIGFnZSB3aGVuIGFsbGVyZ3kgb3IgaW50b2xlcmFuY2Ugd2FzIGlkZW50aWZpZWQuXHJcbiAgICovXHJcbiAgb25zZXRBZ2U/OiBmaGlyLkFnZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVzdGltYXRlZCBvciBhY3R1YWwgZGF0ZSwgIGRhdGUtdGltZSwgb3IgYWdlIHdoZW4gYWxsZXJneSBvciBpbnRvbGVyYW5jZSB3YXMgaWRlbnRpZmllZC5cclxuICAgKi9cclxuICBvbnNldFBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXN0aW1hdGVkIG9yIGFjdHVhbCBkYXRlLCAgZGF0ZS10aW1lLCBvciBhZ2Ugd2hlbiBhbGxlcmd5IG9yIGludG9sZXJhbmNlIHdhcyBpZGVudGlmaWVkLlxyXG4gICAqL1xyXG4gIG9uc2V0UmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXN0aW1hdGVkIG9yIGFjdHVhbCBkYXRlLCAgZGF0ZS10aW1lLCBvciBhZ2Ugd2hlbiBhbGxlcmd5IG9yIGludG9sZXJhbmNlIHdhcyBpZGVudGlmaWVkLlxyXG4gICAqL1xyXG4gIG9uc2V0U3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29yZGVkRGF0ZSByZXByZXNlbnRzIHdoZW4gdGhpcyBwYXJ0aWN1bGFyIEFsbGVyZ3lJbnRvbGVyYW5jZSByZWNvcmQgd2FzIGNyZWF0ZWQgaW4gdGhlIHN5c3RlbSwgd2hpY2ggaXMgb2Z0ZW4gYSBzeXN0ZW0tZ2VuZXJhdGVkIGRhdGUuXHJcbiAgICovXHJcbiAgcmVjb3JkZWREYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLnJlY29yZGVkRGF0ZVxyXG4gICAqL1xyXG4gIF9yZWNvcmRlZERhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluZGl2aWR1YWwgd2hvIHJlY29yZGVkIHRoZSByZWNvcmQgYW5kIHRha2VzIHJlc3BvbnNpYmlsaXR5IGZvciBpdHMgY29udGVudC5cclxuICAgKi9cclxuICByZWNvcmRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29yZGVyIHRha2VzIHJlc3BvbnNpYmlsaXR5IGZvciB0aGUgY29udGVudCwgYnV0IGNhbiByZWZlcmVuY2UgdGhlIHNvdXJjZSBmcm9tIHdoZXJlIHRoZXkgZ290IGl0LlxyXG4gICAqL1xyXG4gIGFzc2VydGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGRhdGUgbWF5IGJlIHJlcGxpY2F0ZWQgYnkgb25lIG9mIHRoZSBPbnNldCBvZiBSZWFjdGlvbiBkYXRlcy4gV2hlcmUgYSB0ZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkYXRlIG9mIGxhc3Qgb2NjdXJyZW5jZSBpcyByZXF1aXJlZCBlLmcuICdJbiBDaGlsZGhvb2QsICcxMCB5ZWFycyBhZ28nIHRoZSBDb21tZW50IGVsZW1lbnQgc2hvdWxkIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgbGFzdE9jY3VycmVuY2U/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UubGFzdE9jY3VycmVuY2VcclxuICAgKi9cclxuICBfbGFzdE9jY3VycmVuY2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiBpbmNsdWRpbmcgcmVhc29uIGZvciBmbGFnZ2luZyBhIHNlcmlvdXNuZXNzIG9mICdIaWdoIFJpc2snOyBhbmQgaW5zdHJ1Y3Rpb25zIHJlbGF0ZWQgdG8gZnV0dXJlIGV4cG9zdXJlIG9yIGFkbWluaXN0cmF0aW9uIG9mIHRoZSBzdWJzdGFuY2UsIHN1Y2ggYXMgYWRtaW5pc3RyYXRpb24gd2l0aGluIGFuIEludGVuc2l2ZSBDYXJlIFVuaXQgb3IgdW5kZXIgY29ydGljb3N0ZXJvaWQgY292ZXIuIFRoZSBub3RlcyBzaG91bGQgYmUgcmVsYXRlZCB0byBhbiBhbGxlcmd5IG9yIGludG9sZXJhbmNlIGFzIGEgY29uZGl0aW9uIGluIGdlbmVyYWwgYW5kIG5vdCByZWxhdGVkIHRvIGFueSBwYXJ0aWN1bGFyIGVwaXNvZGUgb2YgaXQuIEZvciBlcGlzb2RlIG5vdGVzIGFuZCBkZXNjcmlwdGlvbnMsIHVzZSBBbGxlcmd5SW50b2xlcmFuY2UuZXZlbnQuZGVzY3JpcHRpb24gYW5kICBBbGxlcmd5SW50b2xlcmFuY2UuZXZlbnQubm90ZXMuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGV0YWlscyBhYm91dCBlYWNoIGFkdmVyc2UgcmVhY3Rpb24gZXZlbnQgbGlua2VkIHRvIGV4cG9zdXJlIHRvIHRoZSBpZGVudGlmaWVkIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICByZWFjdGlvbj86IGZoaXIuQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogUmlzayBvZiBoYXJtZnVsIG9yIHVuZGVzaXJhYmxlLCBwaHlzaW9sb2dpY2FsIHJlc3BvbnNlIHdoaWNoIGlzIHVuaXF1ZSB0byBhbiBpbmRpdmlkdWFsIGFuZCBhc3NvY2lhdGVkIHdpdGggZXhwb3N1cmUgdG8gYSBzdWJzdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWxsZXJneUludG9sZXJhbmNlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBbGxlcmd5SW50b2xlcmFuY2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQWxsZXJneUludG9sZXJhbmNlXCI7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBhIGJ1c2luZXNzIGlkZW50aWZpZXIsIG5vdCBhIHJlc291cmNlIGlkZW50aWZpZXIgKHNlZSBbZGlzY3Vzc2lvbl0ocmVzb3VyY2UuaHRtbCNpZGVudGlmaWVycykpLiAgSXQgaXMgYmVzdCBwcmFjdGljZSBmb3IgdGhlIGlkZW50aWZpZXIgdG8gb25seSBhcHBlYXIgb24gYSBzaW5nbGUgcmVzb3VyY2UgaW5zdGFuY2UsIGhvd2V2ZXIgYnVzaW5lc3MgcHJhY3RpY2VzIG1heSBvY2Nhc2lvbmFsbHkgZGljdGF0ZSB0aGF0IG11bHRpcGxlIHJlc291cmNlIGluc3RhbmNlcyB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgY2FuIGV4aXN0IC0gcG9zc2libHkgZXZlbiB3aXRoIGRpZmZlcmVudCByZXNvdXJjZSB0eXBlcy4gIEZvciBleGFtcGxlLCBtdWx0aXBsZSBQYXRpZW50IGFuZCBhIFBlcnNvbiByZXNvdXJjZSBpbnN0YW5jZSBtaWdodCBzaGFyZSB0aGUgc2FtZSBzb2NpYWwgaW5zdXJhbmNlIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogUmVmZXIgdG8gW2Rpc2N1c3Npb25dKGV4dGVuc2liaWxpdHkuaHRtbCNTcGVjaWFsLUNhc2UpIGlmIGNsaW5jYWxTdGF0dXMgaXMgbWlzc2luZyBkYXRhLlxyXG4gICAqIFRoZSBkYXRhIHR5cGUgaXMgQ29kZWFibGVDb25jZXB0IGJlY2F1c2UgY2xpbmljYWxTdGF0dXMgaGFzIHNvbWUgY2xpbmljYWwganVkZ21lbnQgaW52b2x2ZWQsIHN1Y2ggdGhhdCB0aGVyZSBtaWdodCBuZWVkIHRvIGJlIG1vcmUgc3BlY2lmaWNpdHkgdGhhbiB0aGUgcmVxdWlyZWQgRkhJUiB2YWx1ZSBzZXQgYWxsb3dzLiBGb3IgZXhhbXBsZSwgYSBTTk9NRUQgY29kaW5nIG1pZ2h0IGFsbG93IGZvciBhZGRpdGlvbmFsIHNwZWNpZmljaXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGluaWNhbFN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0YSB0eXBlIGlzIENvZGVhYmxlQ29uY2VwdCBiZWNhdXNlIHZlcmlmaWNhdGlvblN0YXR1cyBoYXMgc29tZSBjbGluaWNhbCBqdWRnbWVudCBpbnZvbHZlZCwgc3VjaCB0aGF0IHRoZXJlIG1pZ2h0IG5lZWQgdG8gYmUgbW9yZSBzcGVjaWZpY2l0eSB0aGFuIHRoZSByZXF1aXJlZCBGSElSIHZhbHVlIHNldCBhbGxvd3MuIEZvciBleGFtcGxlLCBhIFNOT01FRCBjb2RpbmcgbWlnaHQgYWxsb3cgZm9yIGFkZGl0aW9uYWwgc3BlY2lmaWNpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIHZlcmlmaWNhdGlvblN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxlcmdpYyAodHlwaWNhbGx5IGltbXVuZS1tZWRpYXRlZCkgcmVhY3Rpb25zIGhhdmUgYmVlbiB0cmFkaXRpb25hbGx5IHJlZ2FyZGVkIGFzIGFuIGluZGljYXRvciBmb3IgcG90ZW50aWFsIGVzY2FsYXRpb24gdG8gc2lnbmlmaWNhbnQgZnV0dXJlIHJpc2suIENvbnRlbXBvcmFyeSBrbm93bGVkZ2Ugc3VnZ2VzdHMgdGhhdCBzb21lIHJlYWN0aW9ucyBwcmV2aW91c2x5IHRob3VnaHQgdG8gYmUgaW1tdW5lLW1lZGlhdGVkIGFyZSwgaW4gZmFjdCwgbm9uLWltbXVuZSwgYnV0IGluIHNvbWUgY2FzZXMgY2FuIHN0aWxsIHBvc2UgYSBsaWZlIHRocmVhdGVuaW5nIHJpc2suIEl0IGlzIGFja25vd2xlZGdlZCB0aGF0IG1hbnkgY2xpbmljaWFucyBtaWdodCBub3QgYmUgaW4gYSBwb3NpdGlvbiB0byBkaXN0aW5ndWlzaCB0aGUgbWVjaGFuaXNtIG9mIGEgcGFydGljdWxhciByZWFjdGlvbi4gT2Z0ZW4gdGhlIHRlcm0gXCJhbGxlcmd5XCIgaXMgdXNlZCByYXRoZXIgZ2VuZXJpY2FsbHkgYW5kIG1heSBvdmVybGFwIHdpdGggdGhlIHVzZSBvZiBcImludG9sZXJhbmNlXCIgLSBpbiBwcmFjdGljZSB0aGUgYm91bmRhcmllcyBiZXR3ZWVuIHRoZXNlIHR3byBjb25jZXB0cyBtaWdodCBub3QgYmUgd2VsbC1kZWZpbmVkIG9yIHVuZGVyc3Rvb2QuIFRoaXMgZGF0YSBlbGVtZW50IGlzIGluY2x1ZGVkIG5ldmVydGhlbGVzcywgYmVjYXVzZSBtYW55IGxlZ2FjeSBzeXN0ZW1zIGhhdmUgY2FwdHVyZWQgdGhpcyBhdHRyaWJ1dGUuIEltbXVub2xvZ2ljIHRlc3RpbmcgbWF5IHByb3ZpZGUgc3VwcG9ydGluZyBldmlkZW5jZSBmb3IgdGhlIGJhc2lzIG9mIHRoZSByZWFjdGlvbiBhbmQgdGhlIGNhdXNhdGl2ZSBzdWJzdGFuY2UsIGJ1dCBubyB0ZXN0cyBhcmUgMTAwJSBzZW5zaXRpdmUgb3Igc3BlY2lmaWMgZm9yIHNlbnNpdGl2aXR5IHRvIGEgcGFydGljdWxhciBzdWJzdGFuY2UuIElmLCBhcyBpcyBjb21tb25seSB0aGUgY2FzZSwgaXQgaXMgdW5jbGVhciB3aGV0aGVyIHRoZSByZWFjdGlvbiBpcyBkdWUgdG8gYW4gYWxsZXJneSBvciBhbiBpbnRvbGVyYW5jZSwgdGhlbiB0aGUgdHlwZSBlbGVtZW50IHNob3VsZCBiZSBvbWl0dGVkIGZyb20gdGhlIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGRhdGEgZWxlbWVudCBoYXMgYmVlbiBpbmNsdWRlZCBiZWNhdXNlIGl0IGlzIGN1cnJlbnRseSBiZWluZyBjYXB0dXJlZCBpbiBzb21lIGNsaW5pY2FsIHN5c3RlbXMuIFRoaXMgZGF0YSBjYW4gYmUgZGVyaXZlZCBmcm9tIHRoZSBzdWJzdGFuY2Ugd2hlcmUgY29kaW5nIHN5c3RlbXMgYXJlIHVzZWQsIGFuZCBpcyBlZmZlY3RpdmVseSByZWR1bmRhbnQgaW4gdGhhdCBzaXR1YXRpb24uICBXaGVuIHNlYXJjaGluZyBvbiBjYXRlZ29yeSwgY29uc2lkZXIgdGhlIGltcGxpY2F0aW9ucyBvZiBBbGxlcmd5SW50b2xlcmFuY2UgcmVzb3VyY2VzIHdpdGhvdXQgYSBjYXRlZ29yeS4gIEZvciBleGFtcGxlLCB3aGVuIHNlYXJjaGluZyBvbiBjYXRlZ29yeSA9IG1lZGljYXRpb24sIG1lZGljYXRpb24gYWxsZXJnaWVzIHRoYXQgZG9uJ3QgaGF2ZSBhIGNhdGVnb3J5IHZhbHVlZCB3aWxsIG5vdCBiZSByZXR1cm5lZC4gIFJlZmVyIHRvIFtzZWFyY2hdKHNlYXJjaC5odG1sKSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gc2VhcmNoIGNhdGVnb3J5IHdpdGggYSA6bWlzc2luZyBtb2RpZmllciB0byBnZXQgYWxsZXJnaWVzIHRoYXQgZG9uJ3QgaGF2ZSBhIGNhdGVnb3J5LiAgQWRkaXRpb25hbGx5LCBjYXRlZ29yeSBzaG91bGQgYmUgdXNlZCB3aXRoIGNhdXRpb24gYmVjYXVzZSBjYXRlZ29yeSBjYW4gYmUgc3ViamVjdGl2ZSBiYXNlZCBvbiB0aGUgc2VuZGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeTogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeUNvZGVUeXBlPltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZWZhdWx0IGNyaXRpY2FsaXR5IHZhbHVlIGZvciBhbnkgcHJvcGVuc2l0eSB0byBhbiBhZHZlcnNlIHJlYWN0aW9uIHNob3VsZCBiZSAnTG93IFJpc2snLCBpbmRpY2F0aW5nIGF0IHRoZSB2ZXJ5IGxlYXN0IGEgcmVsYXRpdmUgY29udHJhaW5kaWNhdGlvbiB0byBkZWxpYmVyYXRlIG9yIHZvbHVudGFyeSBleHBvc3VyZSB0byB0aGUgc3Vic3RhbmNlLiAnSGlnaCBSaXNrJyBpcyBmbGFnZ2VkIGlmIHRoZSBjbGluaWNpYW4gaGFzIGlkZW50aWZpZWQgYSBwcm9wZW5zaXR5IGZvciBhIG1vcmUgc2VyaW91cyBvciBwb3RlbnRpYWxseSBsaWZlLXRocmVhdGVuaW5nIHJlYWN0aW9uLCBzdWNoIGFzIGFuYXBoeWxheGlzLCBhbmQgaW1wbGllcyBhbiBhYnNvbHV0ZSBjb250cmFpbmRpY2F0aW9uIHRvIGRlbGliZXJhdGUgb3Igdm9sdW50YXJ5IGV4cG9zdXJlIHRvIHRoZSBzdWJzdGFuY2UuIElmIHRoaXMgZWxlbWVudCBpcyBtaXNzaW5nLCB0aGUgY3JpdGljYWxpdHkgaXMgdW5rbm93biAodGhvdWdoIGl0IG1heSBiZSBrbm93biBlbHNld2hlcmUpLiAgU3lzdGVtcyB0aGF0IGNhcHR1cmUgYSBzZXZlcml0eSBhdCB0aGUgY29uZGl0aW9uIGxldmVsIGFyZSBhY3R1YWxseSByZXByZXNlbnRpbmcgdGhlIGNvbmNlcHQgb2YgY3JpdGljYWxpdHkgd2hlcmVhcyB0aGUgc2V2ZXJpdHkgZG9jdW1lbnRlZCBhdCB0aGUgcmVhY3Rpb24gbGV2ZWwgaXMgcmVwcmVzZW50aW5nIHRoZSB0cnVlIHJlYWN0aW9uIHNldmVyaXR5LiAgRXhpc3Rpbmcgc3lzdGVtcyB0aGF0IGFyZSBjYXB0dXJpbmcgYm90aCBjb25kaXRpb24gY3JpdGljYWxpdHkgYW5kIHJlYWN0aW9uIHNldmVyaXR5IG1heSB1c2UgdGhlIHRlcm0gXCJzZXZlcml0eVwiIHRvIHJlcHJlc2VudCBib3RoLiAgQ3JpdGljYWxpdHkgaXMgdGhlIHdvcnN0IGl0IGNvdWxkIGJlIGluIHRoZSBmdXR1cmUgKGkuZS4gc2l0dWF0aW9uLWFnbm9zdGljKSB3aGVyZWFzIHNldmVyaXR5IGlzIHNpdHVhdGlvbi1kZXBlbmRlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNyaXRpY2FsaXR5PzogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXQgaXMgc3Ryb25nbHkgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGVsZW1lbnQgYmUgcG9wdWxhdGVkIHVzaW5nIGEgdGVybWlub2xvZ3ksIHdoZXJlIHBvc3NpYmxlLiBGb3IgZXhhbXBsZSwgc29tZSB0ZXJtaW5vbG9naWVzIHVzZWQgaW5jbHVkZSBSeE5vcm0sIFNOT01FRCBDVCwgRE0rRCwgTkRGUlQsIElDRC05LCBJREMtMTAsIFVOSUksIGFuZCBBVEMuIFBsYWluIHRleHQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpZiB0aGVyZSBpcyBubyBhcHByb3ByaWF0ZSB0ZXJtaW5vbG9neSBhdmFpbGFibGUuIEFkZGl0aW9uYWwgZGV0YWlscyBjYW4gYmUgc3BlY2lmaWVkIGluIHRoZSB0ZXh0LlxyXG4gICAqIFdoZW4gYSBzdWJzdGFuY2Ugb3IgcHJvZHVjdCBjb2RlIGlzIHNwZWNpZmllZCBmb3IgdGhlICdjb2RlJyBlbGVtZW50LCB0aGUgXCJkZWZhdWx0XCIgc2VtYW50aWMgY29udGV4dCBpcyB0aGF0IHRoaXMgaXMgYSBwb3NpdGl2ZSBzdGF0ZW1lbnQgb2YgYW4gYWxsZXJneSBvciBpbnRvbGVyYW5jZSAoZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZSBvZiB0aGUgJ3R5cGUnIGVsZW1lbnQsIGlmIHByZXNlbnQpIGNvbmRpdGlvbiB0byB0aGUgc3BlY2lmaWVkIHN1YnN0YW5jZS9wcm9kdWN0LiAgSW4gdGhlIGNvcnJlc3BvbmRpbmcgU05PTUVEIENUIGFsbGVyZ3kgbW9kZWwsIHRoZSBzcGVjaWZpZWQgc3Vic3RhbmNlL3Byb2R1Y3QgaXMgdGhlIHRhcmdldCAoZGVzdGluYXRpb24pIG9mIHRoZSBcIkNhdXNhdGl2ZSBhZ2VudFwiIHJlbGF0aW9uc2hpcC5cclxuICAgKiBUaGUgJ3N1YnN0YW5jZUV4cG9zdXJlUmlzaycgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZSBhcyBhIHN0cnVjdHVyZWQgYW5kIG1vcmUgZmxleGlibGUgYWx0ZXJuYXRpdmUgdG8gdGhlICdjb2RlJyBlbGVtZW50IGZvciBtYWtpbmcgcG9zaXRpdmUgb3IgbmVnYXRpdmUgYWxsZXJneSBvciBpbnRvbGVyYW5jZSBzdGF0ZW1lbnRzLiAgVGhpcyBleHRlbnNpb24gcHJvdmlkZXMgdGhlIGNhcGFiaWxpdHkgdG8gbWFrZSBcIm5vIGtub3duIGFsbGVyZ3lcIiAob3IgXCJubyByaXNrIG9mIGFkdmVyc2UgcmVhY3Rpb25cIikgc3RhdGVtZW50cyByZWdhcmRpbmcgYW55IGNvZGVkIHN1YnN0YW5jZS9wcm9kdWN0IChpbmNsdWRpbmcgY2FzZXMgd2hlbiBhIHByZS1jb29yZGluYXRlZCBcIm5vIGFsbGVyZ3kgdG8geFwiIGNvbmNlcHQgZm9yIHRoYXQgc3Vic3RhbmNlL3Byb2R1Y3QgZG9lcyBub3QgZXhpc3QpLiAgSWYgdGhlICdzdWJzdGFuY2VFeHBvc3VyZVJpc2snIGV4dGVuc2lvbiBpcyBwcmVzZW50LCB0aGUgQWxsZXJneUludG9sZXJhbmNlLmNvZGUgZWxlbWVudCBTSEFMTCBiZSBvbWl0dGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRpZW50IHdobyBoYXMgdGhlIGFsbGVyZ3kgb3IgaW50b2xlcmFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGVuY291bnRlciB3aGVuIHRoZSBhbGxlcmd5IG9yIGludG9sZXJhbmNlIHdhcyBhc3NlcnRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZW5jb3VudGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVzdGltYXRlZCBvciBhY3R1YWwgZGF0ZSwgIGRhdGUtdGltZSwgb3IgYWdlIHdoZW4gYWxsZXJneSBvciBpbnRvbGVyYW5jZSB3YXMgaWRlbnRpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgb25zZXQ/OiAoZmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5BZ2V8Zmhpci5QZXJpb2R8Zmhpci5SYW5nZXxmaGlyLkZoaXJTdHJpbmcpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEFsbGVyZ3lJbnRvbGVyYW5jZS5vbnNldFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19vbnNldElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWNvcmRlZERhdGUgcmVwcmVzZW50cyB3aGVuIHRoaXMgcGFydGljdWxhciBBbGxlcmd5SW50b2xlcmFuY2UgcmVjb3JkIHdhcyBjcmVhdGVkIGluIHRoZSBzeXN0ZW0sIHdoaWNoIGlzIG9mdGVuIGEgc3lzdGVtLWdlbmVyYXRlZCBkYXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNvcmRlZERhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaXZpZHVhbCB3aG8gcmVjb3JkZWQgdGhlIHJlY29yZCBhbmQgdGFrZXMgcmVzcG9uc2liaWxpdHkgZm9yIGl0cyBjb250ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNvcmRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVjb3JkZXIgdGFrZXMgcmVzcG9uc2liaWxpdHkgZm9yIHRoZSBjb250ZW50LCBidXQgY2FuIHJlZmVyZW5jZSB0aGUgc291cmNlIGZyb20gd2hlcmUgdGhleSBnb3QgaXQuXHJcbiAgICovXHJcbiAgcHVibGljIGFzc2VydGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGF0ZSBtYXkgYmUgcmVwbGljYXRlZCBieSBvbmUgb2YgdGhlIE9uc2V0IG9mIFJlYWN0aW9uIGRhdGVzLiBXaGVyZSBhIHRleHR1YWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGRhdGUgb2YgbGFzdCBvY2N1cnJlbmNlIGlzIHJlcXVpcmVkIGUuZy4gJ0luIENoaWxkaG9vZCwgJzEwIHllYXJzIGFnbycgdGhlIENvbW1lbnQgZWxlbWVudCBzaG91bGQgYmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbGFzdE9jY3VycmVuY2U/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IGluY2x1ZGluZyByZWFzb24gZm9yIGZsYWdnaW5nIGEgc2VyaW91c25lc3Mgb2YgJ0hpZ2ggUmlzayc7IGFuZCBpbnN0cnVjdGlvbnMgcmVsYXRlZCB0byBmdXR1cmUgZXhwb3N1cmUgb3IgYWRtaW5pc3RyYXRpb24gb2YgdGhlIHN1YnN0YW5jZSwgc3VjaCBhcyBhZG1pbmlzdHJhdGlvbiB3aXRoaW4gYW4gSW50ZW5zaXZlIENhcmUgVW5pdCBvciB1bmRlciBjb3J0aWNvc3Rlcm9pZCBjb3Zlci4gVGhlIG5vdGVzIHNob3VsZCBiZSByZWxhdGVkIHRvIGFuIGFsbGVyZ3kgb3IgaW50b2xlcmFuY2UgYXMgYSBjb25kaXRpb24gaW4gZ2VuZXJhbCBhbmQgbm90IHJlbGF0ZWQgdG8gYW55IHBhcnRpY3VsYXIgZXBpc29kZSBvZiBpdC4gRm9yIGVwaXNvZGUgbm90ZXMgYW5kIGRlc2NyaXB0aW9ucywgdXNlIEFsbGVyZ3lJbnRvbGVyYW5jZS5ldmVudC5kZXNjcmlwdGlvbiBhbmQgIEFsbGVyZ3lJbnRvbGVyYW5jZS5ldmVudC5ub3Rlcy5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZTogZmhpci5Bbm5vdGF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGV0YWlscyBhYm91dCBlYWNoIGFkdmVyc2UgcmVhY3Rpb24gZXZlbnQgbGlua2VkIHRvIGV4cG9zdXJlIHRvIHRoZSBpZGVudGlmaWVkIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhY3Rpb246IGZoaXIuQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb25bXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBbGxlcmd5SW50b2xlcmFuY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBbGxlcmd5SW50b2xlcmFuY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQWxsZXJneUludG9sZXJhbmNlJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NsaW5pY2FsU3RhdHVzJ10pIHsgdGhpcy5jbGluaWNhbFN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2xpbmljYWxTdGF0dXMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJpZmljYXRpb25TdGF0dXMnXSkgeyB0aGlzLnZlcmlmaWNhdGlvblN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmVyaWZpY2F0aW9uU3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZVR5cGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlVHlwZUNvZGVUeXBlPihzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kZVR5cGU+KHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2F0ZWdvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NhdGVnb3J5J10pIHtcclxuICAgICAgc291cmNlLl9jYXRlZ29yeS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5jYXRlZ29yeS5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLmNhdGVnb3J5W2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuY2F0ZWdvcnkucHVzaChuZXcgZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeUNvZGVUeXBlPih4IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY3JpdGljYWxpdHknXSkgeyB0aGlzLmNyaXRpY2FsaXR5ID0gbmV3IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlQ3JpdGljYWxpdHlDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuY3JpdGljYWxpdHl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NyaXRpY2FsaXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMuY3JpdGljYWxpdHkpIHsgdGhpcy5jcml0aWNhbGl0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jcml0aWNhbGl0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNyaXRpY2FsaXR5ID0gbmV3IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlQ3JpdGljYWxpdHlDb2RlVHlwZT4oc291cmNlLl9jcml0aWNhbGl0eSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29kZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnQnXSkgeyB0aGlzLnBhdGllbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhdGllbnQpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXRpZW50ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW5jb3VudGVyJ10pIHsgdGhpcy5lbmNvdW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmVuY291bnRlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ29uc2V0J10pIHsgdGhpcy5vbnNldCA9IHNvdXJjZS5vbnNldDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydvbnNldERhdGVUaW1lJ10pIHsgdGhpcy5vbnNldCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5vbnNldERhdGVUaW1lfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnb25zZXRBZ2UnXSkgeyB0aGlzLm9uc2V0ID0gbmV3IGZoaXIuQWdlKHNvdXJjZS5vbnNldEFnZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnb25zZXRQZXJpb2QnXSkgeyB0aGlzLm9uc2V0ID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5vbnNldFBlcmlvZCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnb25zZXRSYW5nZSddKSB7IHRoaXMub25zZXQgPSBuZXcgZmhpci5SYW5nZShzb3VyY2Uub25zZXRSYW5nZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnb25zZXRTdHJpbmcnXSkgeyB0aGlzLm9uc2V0ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5vbnNldFN0cmluZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWNvcmRlZERhdGUnXSkgeyB0aGlzLnJlY29yZGVkRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5yZWNvcmRlZERhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlY29yZGVkRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlY29yZGVkRGF0ZSkgeyB0aGlzLnJlY29yZGVkRGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZWNvcmRlZERhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZWNvcmRlZERhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9yZWNvcmRlZERhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVjb3JkZXInXSkgeyB0aGlzLnJlY29yZGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWNvcmRlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Fzc2VydGVyJ10pIHsgdGhpcy5hc3NlcnRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuYXNzZXJ0ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydsYXN0T2NjdXJyZW5jZSddKSB7IHRoaXMubGFzdE9jY3VycmVuY2UgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UubGFzdE9jY3VycmVuY2V9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2xhc3RPY2N1cnJlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubGFzdE9jY3VycmVuY2UpIHsgdGhpcy5sYXN0T2NjdXJyZW5jZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9sYXN0T2NjdXJyZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmxhc3RPY2N1cnJlbmNlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fbGFzdE9jY3VycmVuY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IHNvdXJjZS5ub3RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQW5ub3RhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhY3Rpb24nXSkgeyB0aGlzLnJlYWN0aW9uID0gc291cmNlLnJlYWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWFjdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgY2xpbmljYWxTdGF0dXMgKEFsbGVyZ3lJbnRvbGVyYW5jZS5jbGluaWNhbFN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBjbGluaWNhbFN0YXR1c1JlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gQWxsZXJneWludG9sZXJhbmNlQ2xpbmljYWxDb2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciB2ZXJpZmljYXRpb25TdGF0dXMgKEFsbGVyZ3lJbnRvbGVyYW5jZS52ZXJpZmljYXRpb25TdGF0dXMpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgdmVyaWZpY2F0aW9uU3RhdHVzUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBBbGxlcmd5aW50b2xlcmFuY2VWZXJpZmljYXRpb25Db2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChBbGxlcmd5SW50b2xlcmFuY2UudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgY2F0ZWdvcnkgKEFsbGVyZ3lJbnRvbGVyYW5jZS5jYXRlZ29yeSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBjYXRlZ29yeVJlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBjcml0aWNhbGl0eSAoQWxsZXJneUludG9sZXJhbmNlLmNyaXRpY2FsaXR5KVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IGNyaXRpY2FsaXR5UmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdBbGxlcmd5SW50b2xlcmFuY2UnIH1cclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZSBmaGlyOiBBbGxlcmd5SW50b2xlcmFuY2UucmVzb3VyY2VUeXBlOlwiQWxsZXJneUludG9sZXJhbmNlXCInLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgdGhpcy5pZGVudGlmaWVyLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5pZGVudGlmaWVyWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImNsaW5pY2FsU3RhdHVzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY2xpbmljYWxTdGF0dXMuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmNsaW5pY2FsU3RhdHVzJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInZlcmlmaWNhdGlvblN0YXR1c1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnZlcmlmaWNhdGlvblN0YXR1cy5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycudmVyaWZpY2F0aW9uU3RhdHVzJykpOyB9XHJcbiAgICBpZiAodGhpc1sndHlwZSddICYmICghT2JqZWN0LnZhbHVlcyhBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZXMpLmluY2x1ZGVzKHRoaXMudHlwZS52YWx1ZSBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgdHlwZSBmaGlyOiBBbGxlcmd5SW50b2xlcmFuY2UudHlwZTpjb2RlIFJlcXVpcmVkIGJpbmRpbmcgdG86IEFsbGVyZ3lJbnRvbGVyYW5jZVR5cGUnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy50eXBlJykpOyB9XHJcbiAgICBpZiAodGhpc1snY2F0ZWdvcnknXSkge1xyXG4gICAgICB0aGlzLmNhdGVnb3J5LmZvckVhY2goKHYpID0+IHtcclxuICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RlcykuaW5jbHVkZXModi52YWx1ZSBhcyBhbnkpKSB7XHJcbiAgICAgICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgY2F0ZWdvcnkgZmhpcjogQWxsZXJneUludG9sZXJhbmNlLmNhdGVnb3J5OmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnknLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiY2F0ZWdvcnlcIl0pIHsgdGhpcy5jYXRlZ29yeS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuY2F0ZWdvcnlbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzWydjcml0aWNhbGl0eSddICYmICghT2JqZWN0LnZhbHVlcyhBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVzKS5pbmNsdWRlcyh0aGlzLmNyaXRpY2FsaXR5LnZhbHVlIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSBjcml0aWNhbGl0eSBmaGlyOiBBbGxlcmd5SW50b2xlcmFuY2UuY3JpdGljYWxpdHk6Y29kZSBSZXF1aXJlZCBiaW5kaW5nIHRvOiBBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiY3JpdGljYWxpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jcml0aWNhbGl0eS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuY3JpdGljYWxpdHknKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29kZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvZGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmNvZGUnKSk7IH1cclxuICAgIGlmICghdGhpc1sncGF0aWVudCddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwYXRpZW50IGZoaXI6IEFsbGVyZ3lJbnRvbGVyYW5jZS5wYXRpZW50OlJlZmVyZW5jZScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicGF0aWVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBhdGllbnQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnBhdGllbnQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZW5jb3VudGVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZW5jb3VudGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5lbmNvdW50ZXInKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVjb3JkZWREYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVjb3JkZWREYXRlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5yZWNvcmRlZERhdGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVjb3JkZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZWNvcmRlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucmVjb3JkZXInKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYXNzZXJ0ZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hc3NlcnRlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuYXNzZXJ0ZXInKSk7IH1cclxuICAgIGlmICh0aGlzW1wibGFzdE9jY3VycmVuY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5sYXN0T2NjdXJyZW5jZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycubGFzdE9jY3VycmVuY2UnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibm90ZVwiXSkgeyB0aGlzLm5vdGUuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLm5vdGVbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicmVhY3Rpb25cIl0pIHsgdGhpcy5yZWFjdGlvbi5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AucmVhY3Rpb25bJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==