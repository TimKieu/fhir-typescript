// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: SubstanceSpecification
import * as fhir from '../fhir.js';
/**
 * Moiety, for structural modifications.
 */
export class SubstanceSpecificationMoiety extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationMoiety - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['role']) {
            this.role = new fhir.CodeableConcept(source.role);
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['stereochemistry']) {
            this.stereochemistry = new fhir.CodeableConcept(source.stereochemistry);
        }
        if (source['opticalActivity']) {
            this.opticalActivity = new fhir.CodeableConcept(source.opticalActivity);
        }
        if (source['molecularFormula']) {
            this.molecularFormula = new fhir.FhirString({ value: source.molecularFormula });
        }
        if (source['_molecularFormula']) {
            if (this.molecularFormula) {
                this.molecularFormula.addExtendedProperties(source._molecularFormula);
            }
            else {
                this.molecularFormula = new fhir.FhirString(source._molecularFormula);
            }
        }
        if (source['amount']) {
            this.amount = source.amount;
        }
        else if (source['amountQuantity']) {
            this.amount = new fhir.Quantity(source.amountQuantity);
        }
        else if (source['amountString']) {
            this.amount = new fhir.FhirString({ value: source.amountString });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.moiety';
        }
        if (this["role"]) {
            issues.push(...this.role.doModelValidation(expression + '.role'));
        }
        if (this["identifier"]) {
            issues.push(...this.identifier.doModelValidation(expression + '.identifier'));
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation(expression + '.name'));
        }
        if (this["stereochemistry"]) {
            issues.push(...this.stereochemistry.doModelValidation(expression + '.stereochemistry'));
        }
        if (this["opticalActivity"]) {
            issues.push(...this.opticalActivity.doModelValidation(expression + '.opticalActivity'));
        }
        if (this["molecularFormula"]) {
            issues.push(...this.molecularFormula.doModelValidation(expression + '.molecularFormula'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationMoiety._fts_dataType = 'SubstanceSpecificationMoiety';
/**
 * Internal flag to properly serialize choice-type element SubstanceSpecification.moiety.amount[x]
 */
SubstanceSpecificationMoiety._fts_amountIsChoice = true;
/**
 * General specifications for this substance, including how it is related to other substances.
 */
export class SubstanceSpecificationProperty extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationProperty - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category);
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['parameters']) {
            this.parameters = new fhir.FhirString({ value: source.parameters });
        }
        if (source['_parameters']) {
            if (this.parameters) {
                this.parameters.addExtendedProperties(source._parameters);
            }
            else {
                this.parameters = new fhir.FhirString(source._parameters);
            }
        }
        if (source['definingSubstance']) {
            this.definingSubstance = source.definingSubstance;
        }
        else if (source['definingSubstanceReference']) {
            this.definingSubstance = new fhir.Reference(source.definingSubstanceReference);
        }
        else if (source['definingSubstanceCodeableConcept']) {
            this.definingSubstance = new fhir.CodeableConcept(source.definingSubstanceCodeableConcept);
        }
        if (source['amount']) {
            this.amount = source.amount;
        }
        else if (source['amountQuantity']) {
            this.amount = new fhir.Quantity(source.amountQuantity);
        }
        else if (source['amountString']) {
            this.amount = new fhir.FhirString({ value: source.amountString });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.property';
        }
        if (this["category"]) {
            issues.push(...this.category.doModelValidation(expression + '.category'));
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation(expression + '.code'));
        }
        if (this["parameters"]) {
            issues.push(...this.parameters.doModelValidation(expression + '.parameters'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationProperty._fts_dataType = 'SubstanceSpecificationProperty';
/**
 * Internal flag to properly serialize choice-type element SubstanceSpecification.property.definingSubstance[x]
 */
SubstanceSpecificationProperty._fts_definingSubstanceIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element SubstanceSpecification.property.amount[x]
 */
SubstanceSpecificationProperty._fts_amountIsChoice = true;
/**
 * The molecular weight or weight range (for proteins, polymers or nucleic acids).
 */
export class SubstanceSpecificationStructureIsotopeMolecularWeight extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationStructureIsotopeMolecularWeight - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.structure.isotope.molecularWeight';
        }
        if (this["method"]) {
            issues.push(...this.method.doModelValidation(expression + '.method'));
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["amount"]) {
            issues.push(...this.amount.doModelValidation(expression + '.amount'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationStructureIsotopeMolecularWeight._fts_dataType = 'SubstanceSpecificationStructureIsotopeMolecularWeight';
/**
 * Applicable for single substances that contain a radionuclide or a non-natural isotopic ratio.
 */
export class SubstanceSpecificationStructureIsotope extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationStructureIsotope - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['name']) {
            this.name = new fhir.CodeableConcept(source.name);
        }
        if (source['substitution']) {
            this.substitution = new fhir.CodeableConcept(source.substitution);
        }
        if (source['halfLife']) {
            this.halfLife = new fhir.Quantity(source.halfLife);
        }
        if (source['molecularWeight']) {
            this.molecularWeight = new fhir.SubstanceSpecificationStructureIsotopeMolecularWeight(source.molecularWeight);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.structure.isotope';
        }
        if (this["identifier"]) {
            issues.push(...this.identifier.doModelValidation(expression + '.identifier'));
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation(expression + '.name'));
        }
        if (this["substitution"]) {
            issues.push(...this.substitution.doModelValidation(expression + '.substitution'));
        }
        if (this["halfLife"]) {
            issues.push(...this.halfLife.doModelValidation(expression + '.halfLife'));
        }
        if (this["molecularWeight"]) {
            issues.push(...this.molecularWeight.doModelValidation(expression + '.molecularWeight'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationStructureIsotope._fts_dataType = 'SubstanceSpecificationStructureIsotope';
/**
 * Molecular structural representation.
 */
export class SubstanceSpecificationStructureRepresentation extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationStructureRepresentation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['representation']) {
            this.representation = new fhir.FhirString({ value: source.representation });
        }
        if (source['_representation']) {
            if (this.representation) {
                this.representation.addExtendedProperties(source._representation);
            }
            else {
                this.representation = new fhir.FhirString(source._representation);
            }
        }
        if (source['attachment']) {
            this.attachment = new fhir.Attachment(source.attachment);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.structure.representation';
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["representation"]) {
            issues.push(...this.representation.doModelValidation(expression + '.representation'));
        }
        if (this["attachment"]) {
            issues.push(...this.attachment.doModelValidation(expression + '.attachment'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationStructureRepresentation._fts_dataType = 'SubstanceSpecificationStructureRepresentation';
/**
 * Structural information.
 */
export class SubstanceSpecificationStructure extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationStructure - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['stereochemistry']) {
            this.stereochemistry = new fhir.CodeableConcept(source.stereochemistry);
        }
        if (source['opticalActivity']) {
            this.opticalActivity = new fhir.CodeableConcept(source.opticalActivity);
        }
        if (source['molecularFormula']) {
            this.molecularFormula = new fhir.FhirString({ value: source.molecularFormula });
        }
        if (source['_molecularFormula']) {
            if (this.molecularFormula) {
                this.molecularFormula.addExtendedProperties(source._molecularFormula);
            }
            else {
                this.molecularFormula = new fhir.FhirString(source._molecularFormula);
            }
        }
        if (source['molecularFormulaByMoiety']) {
            this.molecularFormulaByMoiety = new fhir.FhirString({ value: source.molecularFormulaByMoiety });
        }
        if (source['_molecularFormulaByMoiety']) {
            if (this.molecularFormulaByMoiety) {
                this.molecularFormulaByMoiety.addExtendedProperties(source._molecularFormulaByMoiety);
            }
            else {
                this.molecularFormulaByMoiety = new fhir.FhirString(source._molecularFormulaByMoiety);
            }
        }
        if (source['isotope']) {
            this.isotope = source.isotope.map((x) => new fhir.SubstanceSpecificationStructureIsotope(x));
        }
        else {
            this.isotope = [];
        }
        if (source['molecularWeight']) {
            this.molecularWeight = new fhir.SubstanceSpecificationStructureIsotopeMolecularWeight(source.molecularWeight);
        }
        if (source['source']) {
            this.source = source.source.map((x) => new fhir.Reference(x));
        }
        else {
            this.source = [];
        }
        if (source['representation']) {
            this.representation = source.representation.map((x) => new fhir.SubstanceSpecificationStructureRepresentation(x));
        }
        else {
            this.representation = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.structure';
        }
        if (this["stereochemistry"]) {
            issues.push(...this.stereochemistry.doModelValidation(expression + '.stereochemistry'));
        }
        if (this["opticalActivity"]) {
            issues.push(...this.opticalActivity.doModelValidation(expression + '.opticalActivity'));
        }
        if (this["molecularFormula"]) {
            issues.push(...this.molecularFormula.doModelValidation(expression + '.molecularFormula'));
        }
        if (this["molecularFormulaByMoiety"]) {
            issues.push(...this.molecularFormulaByMoiety.doModelValidation(expression + '.molecularFormulaByMoiety'));
        }
        if (this["isotope"]) {
            this.isotope.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.isotope[${i}]`)); });
        }
        if (this["molecularWeight"]) {
            issues.push(...this.molecularWeight.doModelValidation(expression + '.molecularWeight'));
        }
        if (this["source"]) {
            this.source.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.source[${i}]`)); });
        }
        if (this["representation"]) {
            this.representation.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.representation[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationStructure._fts_dataType = 'SubstanceSpecificationStructure';
/**
 * Codes associated with the substance.
 */
export class SubstanceSpecificationCode extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationCode - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['statusDate']) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate });
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDateTime(source._statusDate);
            }
        }
        if (source['comment']) {
            this.comment = new fhir.FhirString({ value: source.comment });
        }
        if (source['_comment']) {
            if (this.comment) {
                this.comment.addExtendedProperties(source._comment);
            }
            else {
                this.comment = new fhir.FhirString(source._comment);
            }
        }
        if (source['source']) {
            this.source = source.source.map((x) => new fhir.Reference(x));
        }
        else {
            this.source = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.code';
        }
        if (this["code"]) {
            issues.push(...this.code.doModelValidation(expression + '.code'));
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation(expression + '.status'));
        }
        if (this["statusDate"]) {
            issues.push(...this.statusDate.doModelValidation(expression + '.statusDate'));
        }
        if (this["comment"]) {
            issues.push(...this.comment.doModelValidation(expression + '.comment'));
        }
        if (this["source"]) {
            this.source.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.source[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationCode._fts_dataType = 'SubstanceSpecificationCode';
/**
 * Details of the official nature of this name.
 */
export class SubstanceSpecificationNameOfficial extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationNameOfficial - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['authority']) {
            this.authority = new fhir.CodeableConcept(source.authority);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.name.official';
        }
        if (this["authority"]) {
            issues.push(...this.authority.doModelValidation(expression + '.authority'));
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation(expression + '.status'));
        }
        if (this["date"]) {
            issues.push(...this.date.doModelValidation(expression + '.date'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationNameOfficial._fts_dataType = 'SubstanceSpecificationNameOfficial';
/**
 * Names applicable to this substance.
 */
export class SubstanceSpecificationName extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationName - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['preferred']) {
            this.preferred = new fhir.FhirBoolean({ value: source.preferred });
        }
        if (source['_preferred']) {
            if (this.preferred) {
                this.preferred.addExtendedProperties(source._preferred);
            }
            else {
                this.preferred = new fhir.FhirBoolean(source._preferred);
            }
        }
        if (source['language']) {
            this.language = source.language.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.language = [];
        }
        if (source['domain']) {
            this.domain = source.domain.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.domain = [];
        }
        if (source['jurisdiction']) {
            this.jurisdiction = source.jurisdiction.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.jurisdiction = [];
        }
        if (source['synonym']) {
            this.synonym = source.synonym.map((x) => new fhir.SubstanceSpecificationName(x));
        }
        else {
            this.synonym = [];
        }
        if (source['translation']) {
            this.translation = source.translation.map((x) => new fhir.SubstanceSpecificationName(x));
        }
        else {
            this.translation = [];
        }
        if (source['official']) {
            this.official = source.official.map((x) => new fhir.SubstanceSpecificationNameOfficial(x));
        }
        else {
            this.official = [];
        }
        if (source['source']) {
            this.source = source.source.map((x) => new fhir.Reference(x));
        }
        else {
            this.source = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.name';
        }
        if (!this['name']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property name fhir: SubstanceSpecification.name.name:string', expression: [expression] });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation(expression + '.name'));
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation(expression + '.status'));
        }
        if (this["preferred"]) {
            issues.push(...this.preferred.doModelValidation(expression + '.preferred'));
        }
        if (this["language"]) {
            this.language.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.language[${i}]`)); });
        }
        if (this["domain"]) {
            this.domain.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.domain[${i}]`)); });
        }
        if (this["jurisdiction"]) {
            this.jurisdiction.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.jurisdiction[${i}]`)); });
        }
        if (this["synonym"]) {
            this.synonym.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.synonym[${i}]`)); });
        }
        if (this["translation"]) {
            this.translation.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.translation[${i}]`)); });
        }
        if (this["official"]) {
            this.official.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.official[${i}]`)); });
        }
        if (this["source"]) {
            this.source.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.source[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationName._fts_dataType = 'SubstanceSpecificationName';
/**
 * A link between this substance and another, with details of the relationship.
 */
export class SubstanceSpecificationRelationship extends fhir.BackboneElement {
    /**
     * Default constructor for SubstanceSpecificationRelationship - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['substance']) {
            this.substance = source.substance;
        }
        else if (source['substanceReference']) {
            this.substance = new fhir.Reference(source.substanceReference);
        }
        else if (source['substanceCodeableConcept']) {
            this.substance = new fhir.CodeableConcept(source.substanceCodeableConcept);
        }
        if (source['relationship']) {
            this.relationship = new fhir.CodeableConcept(source.relationship);
        }
        if (source['isDefining']) {
            this.isDefining = new fhir.FhirBoolean({ value: source.isDefining });
        }
        if (source['_isDefining']) {
            if (this.isDefining) {
                this.isDefining.addExtendedProperties(source._isDefining);
            }
            else {
                this.isDefining = new fhir.FhirBoolean(source._isDefining);
            }
        }
        if (source['amount']) {
            this.amount = source.amount;
        }
        else if (source['amountQuantity']) {
            this.amount = new fhir.Quantity(source.amountQuantity);
        }
        else if (source['amountRange']) {
            this.amount = new fhir.Range(source.amountRange);
        }
        else if (source['amountRatio']) {
            this.amount = new fhir.Ratio(source.amountRatio);
        }
        else if (source['amountString']) {
            this.amount = new fhir.FhirString({ value: source.amountString });
        }
        if (source['amountRatioLowLimit']) {
            this.amountRatioLowLimit = new fhir.Ratio(source.amountRatioLowLimit);
        }
        if (source['amountType']) {
            this.amountType = new fhir.CodeableConcept(source.amountType);
        }
        if (source['source']) {
            this.source = source.source.map((x) => new fhir.Reference(x));
        }
        else {
            this.source = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification.relationship';
        }
        if (this["relationship"]) {
            issues.push(...this.relationship.doModelValidation(expression + '.relationship'));
        }
        if (this["isDefining"]) {
            issues.push(...this.isDefining.doModelValidation(expression + '.isDefining'));
        }
        if (this["amountRatioLowLimit"]) {
            issues.push(...this.amountRatioLowLimit.doModelValidation(expression + '.amountRatioLowLimit'));
        }
        if (this["amountType"]) {
            issues.push(...this.amountType.doModelValidation(expression + '.amountType'));
        }
        if (this["source"]) {
            this.source.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.source[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecificationRelationship._fts_dataType = 'SubstanceSpecificationRelationship';
/**
 * Internal flag to properly serialize choice-type element SubstanceSpecification.relationship.substance[x]
 */
SubstanceSpecificationRelationship._fts_substanceIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element SubstanceSpecification.relationship.amount[x]
 */
SubstanceSpecificationRelationship._fts_amountIsChoice = true;
/**
 * The detailed description of a substance, typically at a level beyond what is used for prescribing.
 */
export class SubstanceSpecification extends fhir.DomainResource {
    /**
     * Default constructor for SubstanceSpecification - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'SubstanceSpecification';
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['domain']) {
            this.domain = new fhir.CodeableConcept(source.domain);
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['source']) {
            this.source = source.source.map((x) => new fhir.Reference(x));
        }
        else {
            this.source = [];
        }
        if (source['comment']) {
            this.comment = new fhir.FhirString({ value: source.comment });
        }
        if (source['_comment']) {
            if (this.comment) {
                this.comment.addExtendedProperties(source._comment);
            }
            else {
                this.comment = new fhir.FhirString(source._comment);
            }
        }
        if (source['moiety']) {
            this.moiety = source.moiety.map((x) => new fhir.SubstanceSpecificationMoiety(x));
        }
        else {
            this.moiety = [];
        }
        if (source['property']) {
            this.property = source.property.map((x) => new fhir.SubstanceSpecificationProperty(x));
        }
        else {
            this.property = [];
        }
        if (source['referenceInformation']) {
            this.referenceInformation = new fhir.Reference(source.referenceInformation);
        }
        if (source['structure']) {
            this.structure = new fhir.SubstanceSpecificationStructure(source.structure);
        }
        if (source['code']) {
            this.code = source.code.map((x) => new fhir.SubstanceSpecificationCode(x));
        }
        else {
            this.code = [];
        }
        if (source['name']) {
            this.name = source.name.map((x) => new fhir.SubstanceSpecificationName(x));
        }
        else {
            this.name = [];
        }
        if (source['molecularWeight']) {
            this.molecularWeight = source.molecularWeight.map((x) => new fhir.SubstanceSpecificationStructureIsotopeMolecularWeight(x));
        }
        else {
            this.molecularWeight = [];
        }
        if (source['relationship']) {
            this.relationship = source.relationship.map((x) => new fhir.SubstanceSpecificationRelationship(x));
        }
        else {
            this.relationship = [];
        }
        if (source['nucleicAcid']) {
            this.nucleicAcid = new fhir.Reference(source.nucleicAcid);
        }
        if (source['polymer']) {
            this.polymer = new fhir.Reference(source.polymer);
        }
        if (source['protein']) {
            this.protein = new fhir.Reference(source.protein);
        }
        if (source['sourceMaterial']) {
            this.sourceMaterial = new fhir.Reference(source.sourceMaterial);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'SubstanceSpecification';
        }
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType fhir: SubstanceSpecification.resourceType:"SubstanceSpecification"', expression: [expression] });
        }
        if (this["identifier"]) {
            issues.push(...this.identifier.doModelValidation(expression + '.identifier'));
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation(expression + '.status'));
        }
        if (this["domain"]) {
            issues.push(...this.domain.doModelValidation(expression + '.domain'));
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation(expression + '.description'));
        }
        if (this["source"]) {
            this.source.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.source[${i}]`)); });
        }
        if (this["comment"]) {
            issues.push(...this.comment.doModelValidation(expression + '.comment'));
        }
        if (this["moiety"]) {
            this.moiety.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.moiety[${i}]`)); });
        }
        if (this["property"]) {
            this.property.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.property[${i}]`)); });
        }
        if (this["referenceInformation"]) {
            issues.push(...this.referenceInformation.doModelValidation(expression + '.referenceInformation'));
        }
        if (this["structure"]) {
            issues.push(...this.structure.doModelValidation(expression + '.structure'));
        }
        if (this["code"]) {
            this.code.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.code[${i}]`)); });
        }
        if (this["name"]) {
            this.name.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.name[${i}]`)); });
        }
        if (this["molecularWeight"]) {
            this.molecularWeight.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.molecularWeight[${i}]`)); });
        }
        if (this["relationship"]) {
            this.relationship.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.relationship[${i}]`)); });
        }
        if (this["nucleicAcid"]) {
            issues.push(...this.nucleicAcid.doModelValidation(expression + '.nucleicAcid'));
        }
        if (this["polymer"]) {
            issues.push(...this.polymer.doModelValidation(expression + '.polymer'));
        }
        if (this["protein"]) {
            issues.push(...this.protein.doModelValidation(expression + '.protein'));
        }
        if (this["sourceMaterial"]) {
            issues.push(...this.sourceMaterial.doModelValidation(expression + '.sourceMaterial'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SubstanceSpecification._fts_dataType = 'SubstanceSpecification';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyx3Q0FBd0M7QUFFeEMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFvRG5DOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRCQUE2QixTQUFRLElBQUksQ0FBQyxlQUFlO0lBcUNwRTs7T0FFRztJQUNILFlBQVksU0FBbUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDekcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQUU7UUFDdkYsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzlFLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ25CLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQzthQUFFO2lCQUM3RDtnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBcUMsQ0FBQyxDQUFDO2FBQUU7U0FDeEY7UUFDRCxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1NBQUU7UUFDM0csSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUFFO1FBQzNHLElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNsSCxJQUFJLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQy9CLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsaUJBQWtCLENBQUMsQ0FBQzthQUFFO2lCQUNqRztnQkFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUQsQ0FBQyxDQUFDO2FBQUU7U0FDaEg7UUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUFFO2FBQ2pELElBQUksTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7U0FBRTthQUN6RixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1NBQUU7SUFDdkcsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRywrQkFBK0IsQ0FBQTtTQUFFO1FBQ3ZFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDeEcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdkgsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN2SCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDMUgsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF4RUQ7O0dBRUc7QUFDNkIsMENBQWEsR0FBVSw4QkFBOEIsQ0FBQztBQTZCdEY7O0dBRUc7QUFDdUIsZ0RBQW1CLEdBQVEsSUFBSSxDQUFDO0FBcUY1RDs7R0FFRztBQUNILE1BQU0sT0FBTyw4QkFBK0IsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlDdEU7O09BRUc7SUFDSCxZQUFZLFNBQXFELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzNHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFVBQVUsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNoRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUN6QixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsV0FBWSxDQUFDLENBQUM7YUFBRTtpQkFDL0U7Z0JBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFdBQTJDLENBQUMsQ0FBQzthQUFFO1NBQ3BHO1FBQ0QsSUFBSSxNQUFNLENBQUMsbUJBQW1CLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUM7U0FBRTthQUNsRixJQUFJLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsMEJBQTBCLENBQUMsQ0FBQztTQUFFO2FBQzdILElBQUksTUFBTSxDQUFDLGtDQUFrQyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1NBQUU7UUFDcEosSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7U0FBRTthQUNqRCxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQUU7YUFDekYsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLENBQUMsQ0FBQztTQUFFO0lBQ3ZHLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLGFBQW9CLEVBQUU7UUFDdEQsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRSxJQUFJLFVBQVUsS0FBSyxFQUFFLEVBQUU7WUFBRSxVQUFVLEdBQUcsaUNBQWlDLENBQUE7U0FBRTtRQUN6RSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDbEcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN4RyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTdERDs7R0FFRztBQUM2Qiw0Q0FBYSxHQUFVLGdDQUFnQyxDQUFDO0FBaUJ4Rjs7R0FFRztBQUN1Qiw2REFBOEIsR0FBUSxJQUFJLENBQUM7QUFLckU7O0dBRUc7QUFDdUIsa0RBQW1CLEdBQVEsSUFBSSxDQUFDO0FBa0Q1RDs7R0FFRztBQUNILE1BQU0sT0FBTyxxREFBc0QsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlCN0Y7O09BRUc7SUFDSCxZQUFZLFNBQTRFLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ2xJLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FBRTtRQUNoRixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQUU7SUFDM0UsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRywwREFBMEQsQ0FBQTtTQUFFO1FBQ2xHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUM1RixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdEYsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQzVGLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBbkNEOztHQUVHO0FBQzZCLG1FQUFhLEdBQVUsdURBQXVELENBQUM7QUE0RGpIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHNDQUF1QyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBeUI5RTs7T0FFRztJQUNILFlBQVksU0FBNkQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDbkgsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUFFO1FBQ3ZGLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7U0FBRTtRQUNsRyxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUFFO1FBQy9FLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksSUFBSSxDQUFDLHFEQUFxRCxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUFFO0lBQ25KLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLGFBQW9CLEVBQUU7UUFDdEQsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRSxJQUFJLFVBQVUsS0FBSyxFQUFFLEVBQUU7WUFBRSxVQUFVLEdBQUcsMENBQTBDLENBQUE7U0FBRTtRQUNsRixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDeEcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUM5RyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDbEcsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN2SCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQS9DRDs7R0FFRztBQUM2QixvREFBYSxHQUFVLHdDQUF3QyxDQUFDO0FBb0VsRzs7R0FFRztBQUNILE1BQU0sT0FBTyw2Q0FBOEMsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlCckY7O09BRUc7SUFDSCxZQUFZLFNBQW9FLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzFILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLGNBQWMsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUM1RyxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQzdCLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtnQkFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxlQUFnQixDQUFDLENBQUM7YUFBRTtpQkFDM0Y7Z0JBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLGVBQStDLENBQUMsQ0FBQzthQUFFO1NBQzVHO1FBQ0QsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FBRTtJQUN6RixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxhQUFvQixFQUFFO1FBQ3RELElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakUsSUFBSSxVQUFVLEtBQUssRUFBRSxFQUFFO1lBQUUsVUFBVSxHQUFHLGlEQUFpRCxDQUFBO1NBQUU7UUFDekYsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDcEgsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3hHLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBdkNEOztHQUVHO0FBQzZCLDJEQUFhLEdBQVUsK0NBQStDLENBQUM7QUFvRnpHOztHQUVHO0FBQ0gsTUFBTSxPQUFPLCtCQUFnQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBcUN2RTs7T0FFRztJQUNILFlBQVksU0FBc0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDNUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1NBQUU7UUFDM0csSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUFFO1FBQzNHLElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNsSCxJQUFJLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQy9CLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsaUJBQWtCLENBQUMsQ0FBQzthQUFFO2lCQUNqRztnQkFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUQsQ0FBQyxDQUFDO2FBQUU7U0FDaEg7UUFDRCxJQUFJLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsd0JBQXdCLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDMUksSUFBSSxNQUFNLENBQUMsMkJBQTJCLENBQUMsRUFBRTtZQUN2QyxJQUFJLElBQUksQ0FBQyx3QkFBd0IsRUFBRTtnQkFBRSxJQUFJLENBQUMsd0JBQXdCLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLHlCQUEwQixDQUFDLENBQUM7YUFBRTtpQkFDekg7Z0JBQUUsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMseUJBQXlELENBQUMsQ0FBQzthQUFFO1NBQ2hJO1FBQ0QsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbkg7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzNCLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksSUFBSSxDQUFDLHFEQUFxRCxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUFFO1FBQ2pKLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRjtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLDZDQUE2QyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMvSTtZQUFFLElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO1NBQUU7SUFDcEMsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyxrQ0FBa0MsQ0FBQTtTQUFFO1FBQzFFLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdkgsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN2SCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDMUgsSUFBSSxJQUFJLENBQUMsMEJBQTBCLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsd0JBQXdCLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLDJCQUEyQixDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2xKLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDN0gsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN2SCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzFILElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ2xKLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBNUVEOztHQUVHO0FBQzZCLDZDQUFhLEdBQVUsaUNBQWlDLENBQUM7QUE2RzNGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDBCQUEyQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBeUJsRTs7T0FFRztJQUNILFlBQVksU0FBaUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDdkcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQUU7UUFDaEYsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2xHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQ3pCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxXQUFZLENBQUMsQ0FBQzthQUFFO2lCQUMvRTtnQkFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsV0FBNkMsQ0FBQyxDQUFDO2FBQUU7U0FDeEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdkYsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDdEIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUFFLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQyxDQUFDO2FBQUU7aUJBQ3RFO2dCQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxRQUF3QyxDQUFDLENBQUM7YUFBRTtTQUM5RjtRQUNELElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRjtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQUU7SUFDNUIsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyw2QkFBNkIsQ0FBQTtTQUFFO1FBQ3JFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDNUYsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3hHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUMvRixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzFILE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBeEREOztHQUVHO0FBQzZCLHdDQUFhLEdBQVUsNEJBQTRCLENBQUM7QUE2RXRGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGtDQUFtQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUIxRTs7T0FFRztJQUNILFlBQVksU0FBeUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDL0csS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUFFO1FBQ3pGLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQUU7UUFDaEYsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2hGLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ25CLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQzthQUFFO2lCQUM3RDtnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBdUMsQ0FBQyxDQUFDO2FBQUU7U0FDNUY7SUFDSCxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxhQUFvQixFQUFFO1FBQ3RELElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakUsSUFBSSxVQUFVLEtBQUssRUFBRSxFQUFFO1lBQUUsVUFBVSxHQUFHLHNDQUFzQyxDQUFBO1NBQUU7UUFDOUUsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3JHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUM1RixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdEYsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF2Q0Q7O0dBRUc7QUFDNkIsZ0RBQWEsR0FBVSxvQ0FBb0MsQ0FBQztBQWdHOUY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sMEJBQTJCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpRGxFOztPQUVHO0lBQ0gsWUFBWSxTQUFpRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN2RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUN6RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQUU7aUJBQzdEO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFxQyxDQUFDLENBQUM7YUFBRTtTQUN4RjtRQUNELElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FBRTtRQUNoRixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDOUYsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFVBQVcsQ0FBQyxDQUFDO2FBQUU7aUJBQzVFO2dCQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxVQUEyQyxDQUFDLENBQUM7YUFBRTtTQUNwRztRQUNELElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMvRjtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3pGO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7U0FBRTtRQUMxQixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDM0c7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ2hDLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3ZHO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7U0FBRTtRQUMzQixJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuSDtZQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDL0IsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbEg7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRjtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQUU7SUFDNUIsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyw2QkFBNkIsQ0FBQTtTQUFFO1FBQ3JFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsOEVBQThFLEVBQUUsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzdLO1FBQ0QsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDNUYsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3JHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDaEksSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUMxSCxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDNUksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUM3SCxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDekksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNoSSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzFILE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBdEdEOztHQUVHO0FBQzZCLHdDQUFhLEdBQVUsNEJBQTRCLENBQUM7QUFtS3RGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGtDQUFtQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBeUMxRTs7T0FFRztJQUNILFlBQVksU0FBeUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDL0csS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztTQUFFO2FBQzFELElBQUksTUFBTSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztTQUFFO2FBQ3JHLElBQUksTUFBTSxDQUFDLDBCQUEwQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsd0JBQXdCLENBQUMsQ0FBQztTQUFFO1FBQzVILElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQUU7UUFDbEcsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2pHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQ3pCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxXQUFZLENBQUMsQ0FBQzthQUFFO2lCQUMvRTtnQkFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsV0FBNEMsQ0FBQyxDQUFDO2FBQUU7U0FDdEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUFFO2FBQ2pELElBQUksTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7U0FBRTthQUN6RixJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUFFO2FBQ2hGLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQUU7YUFDaEYsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3JHLElBQUksTUFBTSxDQUFDLHFCQUFxQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1NBQUU7UUFDN0csSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FBRTtRQUM1RixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbkY7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztTQUFFO0lBQzVCLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLGFBQW9CLEVBQUU7UUFDdEQsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRSxJQUFJLFVBQVUsS0FBSyxFQUFFLEVBQUU7WUFBRSxVQUFVLEdBQUcscUNBQXFDLENBQUE7U0FBRTtRQUM3RSxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDOUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3hHLElBQUksSUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUNuSSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDeEcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUMxSCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTVFRDs7R0FFRztBQUM2QixnREFBYSxHQUFVLG9DQUFvQyxDQUFDO0FBSzVGOztHQUVHO0FBQ3VCLHlEQUFzQixHQUFRLElBQUksQ0FBQztBQWE3RDs7R0FFRztBQUN1QixzREFBbUIsR0FBUSxJQUFJLENBQUM7QUFpSjVEOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHNCQUF1QixTQUFRLElBQUksQ0FBQyxjQUFjO0lBcUY3RDs7T0FFRztJQUNILFlBQVksU0FBNkMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDbkcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsWUFBWSxHQUFHLHdCQUF3QixDQUFDO1FBQzdDLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQUU7UUFDdkYsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUFFO1FBQ2hGLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQUU7UUFDaEYsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ25HLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQzFCLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxZQUFhLENBQUMsQ0FBQzthQUFFO2lCQUNsRjtnQkFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsWUFBNEMsQ0FBQyxDQUFDO2FBQUU7U0FDdEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbkY7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE9BQU8sRUFBQyxDQUFDLENBQUM7U0FBRTtRQUN2RixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUN0QixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFDLENBQUM7YUFBRTtpQkFDdEU7Z0JBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFFBQXdDLENBQUMsQ0FBQzthQUFFO1NBQzlGO1FBQ0QsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDdEc7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsOEJBQThCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzlHO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM1QixJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQztTQUFFO1FBQ3BILElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQywrQkFBK0IsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7U0FBRTtRQUN6RyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUM5RjtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDeEIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDOUY7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ3hCLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxxREFBcUQsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDMUo7WUFBRSxJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ25DLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzlIO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNoQyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUFFO1FBQ3pGLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDN0UsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUM3RSxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQUU7SUFDcEcsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsYUFBb0IsRUFBRTtRQUN0RCxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksVUFBVSxLQUFLLEVBQUUsRUFBRTtZQUFFLFVBQVUsR0FBRyx3QkFBd0IsQ0FBQTtTQUFFO1FBQ2hFLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsMkdBQTJHLEVBQUUsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzFNO1FBQ0QsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3hHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDNUYsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQzVGLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUMzRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzFILElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUMvRixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzFILElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDaEksSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3RJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUNyRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQ3BILElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDcEgsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQUU7UUFDckosSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUFFO1FBQzVJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsVUFBVSxHQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUMzRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDL0YsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUFFO1FBQy9GLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDcEgsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUExSkQ7O0dBRUc7QUFDNkIsb0NBQWEsR0FBVSx3QkFBd0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogU3Vic3RhbmNlU3BlY2lmaWNhdGlvblxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uTW9pZXR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25Nb2lldHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBSb2xlIHRoYXQgdGhlIG1vaWV0eSBpcyBwbGF5aW5nLlxyXG4gICAqL1xyXG4gIHJvbGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgYnkgd2hpY2ggdGhpcyBtb2lldHkgc3Vic3RhbmNlIGlzIGtub3duLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0dWFsIG5hbWUgZm9yIHRoaXMgbW9pZXR5IHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNwZWNpZmljYXRpb24ubW9pZXR5Lm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogU3RlcmVvY2hlbWlzdHJ5IHR5cGUuXHJcbiAgICovXHJcbiAgc3RlcmVvY2hlbWlzdHJ5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPcHRpY2FsIGFjdGl2aXR5IHR5cGUuXHJcbiAgICovXHJcbiAgb3B0aWNhbEFjdGl2aXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNb2xlY3VsYXIgZm9ybXVsYS5cclxuICAgKi9cclxuICBtb2xlY3VsYXJGb3JtdWxhPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNwZWNpZmljYXRpb24ubW9pZXR5Lm1vbGVjdWxhckZvcm11bGFcclxuICAgKi9cclxuICBfbW9sZWN1bGFyRm9ybXVsYT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUXVhbnRpdGF0aXZlIHZhbHVlIGZvciB0aGlzIG1vaWV0eS5cclxuICAgKi9cclxuICBhbW91bnQ/OiBmaGlyLlF1YW50aXR5fGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUXVhbnRpdGF0aXZlIHZhbHVlIGZvciB0aGlzIG1vaWV0eS5cclxuICAgKi9cclxuICBhbW91bnRRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBRdWFudGl0YXRpdmUgdmFsdWUgZm9yIHRoaXMgbW9pZXR5LlxyXG4gICAqL1xyXG4gIGFtb3VudFN0cmluZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTW9pZXR5LCBmb3Igc3RydWN0dXJhbCBtb2RpZmljYXRpb25zLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN1YnN0YW5jZVNwZWNpZmljYXRpb25Nb2lldHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTdWJzdGFuY2VTcGVjaWZpY2F0aW9uTW9pZXR5JztcclxuICAvKipcclxuICAgKiBSb2xlIHRoYXQgdGhlIG1vaWV0eSBpcyBwbGF5aW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb2xlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgYnkgd2hpY2ggdGhpcyBtb2lldHkgc3Vic3RhbmNlIGlzIGtub3duLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0dWFsIG5hbWUgZm9yIHRoaXMgbW9pZXR5IHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RlcmVvY2hlbWlzdHJ5IHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIHN0ZXJlb2NoZW1pc3RyeT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPcHRpY2FsIGFjdGl2aXR5IHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIG9wdGljYWxBY3Rpdml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNb2xlY3VsYXIgZm9ybXVsYS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9sZWN1bGFyRm9ybXVsYT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUXVhbnRpdGF0aXZlIHZhbHVlIGZvciB0aGlzIG1vaWV0eS5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogKGZoaXIuUXVhbnRpdHl8Zmhpci5GaGlyU3RyaW5nKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uLm1vaWV0eS5hbW91bnRbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfYW1vdW50SXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk1vaWV0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFN1YnN0YW5jZVNwZWNpZmljYXRpb25Nb2lldHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncm9sZSddKSB7IHRoaXMucm9sZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uucm9sZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N0ZXJlb2NoZW1pc3RyeSddKSB7IHRoaXMuc3RlcmVvY2hlbWlzdHJ5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zdGVyZW9jaGVtaXN0cnkpOyB9XHJcbiAgICBpZiAoc291cmNlWydvcHRpY2FsQWN0aXZpdHknXSkgeyB0aGlzLm9wdGljYWxBY3Rpdml0eSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uub3B0aWNhbEFjdGl2aXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9sZWN1bGFyRm9ybXVsYSddKSB7IHRoaXMubW9sZWN1bGFyRm9ybXVsYSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubW9sZWN1bGFyRm9ybXVsYX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbW9sZWN1bGFyRm9ybXVsYSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm1vbGVjdWxhckZvcm11bGEpIHsgdGhpcy5tb2xlY3VsYXJGb3JtdWxhLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX21vbGVjdWxhckZvcm11bGEhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5tb2xlY3VsYXJGb3JtdWxhID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX21vbGVjdWxhckZvcm11bGEgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Ftb3VudCddKSB7IHRoaXMuYW1vdW50ID0gc291cmNlLmFtb3VudDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydhbW91bnRRdWFudGl0eSddKSB7IHRoaXMuYW1vdW50ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmFtb3VudFF1YW50aXR5KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydhbW91bnRTdHJpbmcnXSkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYW1vdW50U3RyaW5nfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5tb2lldHknIH1cclxuICAgIGlmICh0aGlzW1wicm9sZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJvbGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnJvbGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiaWRlbnRpZmllclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmlkZW50aWZpZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmlkZW50aWZpZXInKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm5hbWUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3RlcmVvY2hlbWlzdHJ5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RlcmVvY2hlbWlzdHJ5LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zdGVyZW9jaGVtaXN0cnknKSk7IH1cclxuICAgIGlmICh0aGlzW1wib3B0aWNhbEFjdGl2aXR5XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3B0aWNhbEFjdGl2aXR5LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5vcHRpY2FsQWN0aXZpdHknKSk7IH1cclxuICAgIGlmICh0aGlzW1wibW9sZWN1bGFyRm9ybXVsYVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1vbGVjdWxhckZvcm11bGEuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm1vbGVjdWxhckZvcm11bGEnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uUHJvcGVydHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU3BlY2lmaWNhdGlvblByb3BlcnR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBjYXRlZ29yeSBmb3IgdGhpcyBwcm9wZXJ0eSwgZS5nLiBQaHlzaWNhbCwgQ2hlbWljYWwsIEVuenltYXRpYy5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvcGVydHkgdHlwZSBlLmcuIHZpc2Nvc2l0eSwgcEgsIGlzb2VsZWN0cmljIHBvaW50LlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBhcmFtZXRlcnMgdGhhdCB3ZXJlIHVzZWQgaW4gdGhlIG1lYXN1cmVtZW50IG9mIGEgcHJvcGVydHkgKGUuZy4gZm9yIHZpc2Nvc2l0eTogbWVhc3VyZWQgYXQgMjBDIHdpdGggYSBwSCBvZiA3LjEpLlxyXG4gICAqL1xyXG4gIHBhcmFtZXRlcnM/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5wcm9wZXJ0eS5wYXJhbWV0ZXJzXHJcbiAgICovXHJcbiAgX3BhcmFtZXRlcnM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgc3Vic3RhbmNlIHVwb24gd2hpY2ggYSBkZWZpbmluZyBwcm9wZXJ0eSBkZXBlbmRzIChlLmcuIGZvciBzb2x1YmlsaXR5OiBpbiB3YXRlciwgaW4gYWxjb2hvbCkuXHJcbiAgICovXHJcbiAgZGVmaW5pbmdTdWJzdGFuY2U/OiBmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzdWJzdGFuY2UgdXBvbiB3aGljaCBhIGRlZmluaW5nIHByb3BlcnR5IGRlcGVuZHMgKGUuZy4gZm9yIHNvbHViaWxpdHk6IGluIHdhdGVyLCBpbiBhbGNvaG9sKS5cclxuICAgKi9cclxuICBkZWZpbmluZ1N1YnN0YW5jZVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzdWJzdGFuY2UgdXBvbiB3aGljaCBhIGRlZmluaW5nIHByb3BlcnR5IGRlcGVuZHMgKGUuZy4gZm9yIHNvbHViaWxpdHk6IGluIHdhdGVyLCBpbiBhbGNvaG9sKS5cclxuICAgKi9cclxuICBkZWZpbmluZ1N1YnN0YW5jZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUXVhbnRpdGF0aXZlIHZhbHVlIGZvciB0aGlzIHByb3BlcnR5LlxyXG4gICAqL1xyXG4gIGFtb3VudD86IGZoaXIuUXVhbnRpdHl8Zmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBRdWFudGl0YXRpdmUgdmFsdWUgZm9yIHRoaXMgcHJvcGVydHkuXHJcbiAgICovXHJcbiAgYW1vdW50UXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUXVhbnRpdGF0aXZlIHZhbHVlIGZvciB0aGlzIHByb3BlcnR5LlxyXG4gICAqL1xyXG4gIGFtb3VudFN0cmluZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhbCBzcGVjaWZpY2F0aW9ucyBmb3IgdGhpcyBzdWJzdGFuY2UsIGluY2x1ZGluZyBob3cgaXQgaXMgcmVsYXRlZCB0byBvdGhlciBzdWJzdGFuY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN1YnN0YW5jZVNwZWNpZmljYXRpb25Qcm9wZXJ0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb25Qcm9wZXJ0eSc7XHJcbiAgLyoqXHJcbiAgICogQSBjYXRlZ29yeSBmb3IgdGhpcyBwcm9wZXJ0eSwgZS5nLiBQaHlzaWNhbCwgQ2hlbWljYWwsIEVuenltYXRpYy5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvcGVydHkgdHlwZSBlLmcuIHZpc2Nvc2l0eSwgcEgsIGlzb2VsZWN0cmljIHBvaW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBhcmFtZXRlcnMgdGhhdCB3ZXJlIHVzZWQgaW4gdGhlIG1lYXN1cmVtZW50IG9mIGEgcHJvcGVydHkgKGUuZy4gZm9yIHZpc2Nvc2l0eTogbWVhc3VyZWQgYXQgMjBDIHdpdGggYSBwSCBvZiA3LjEpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJhbWV0ZXJzPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHN1YnN0YW5jZSB1cG9uIHdoaWNoIGEgZGVmaW5pbmcgcHJvcGVydHkgZGVwZW5kcyAoZS5nLiBmb3Igc29sdWJpbGl0eTogaW4gd2F0ZXIsIGluIGFsY29ob2wpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWZpbmluZ1N1YnN0YW5jZT86IChmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5wcm9wZXJ0eS5kZWZpbmluZ1N1YnN0YW5jZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19kZWZpbmluZ1N1YnN0YW5jZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFF1YW50aXRhdGl2ZSB2YWx1ZSBmb3IgdGhpcyBwcm9wZXJ0eS5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogKGZoaXIuUXVhbnRpdHl8Zmhpci5GaGlyU3RyaW5nKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uLnByb3BlcnR5LmFtb3VudFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19hbW91bnRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uUHJvcGVydHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTcGVjaWZpY2F0aW9uUHJvcGVydHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jYXRlZ29yeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJhbWV0ZXJzJ10pIHsgdGhpcy5wYXJhbWV0ZXJzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wYXJhbWV0ZXJzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wYXJhbWV0ZXJzJ10pIHtcclxuICAgICAgaWYgKHRoaXMucGFyYW1ldGVycykgeyB0aGlzLnBhcmFtZXRlcnMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcGFyYW1ldGVycyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBhcmFtZXRlcnMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcGFyYW1ldGVycyBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVmaW5pbmdTdWJzdGFuY2UnXSkgeyB0aGlzLmRlZmluaW5nU3Vic3RhbmNlID0gc291cmNlLmRlZmluaW5nU3Vic3RhbmNlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RlZmluaW5nU3Vic3RhbmNlUmVmZXJlbmNlJ10pIHsgdGhpcy5kZWZpbmluZ1N1YnN0YW5jZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZGVmaW5pbmdTdWJzdGFuY2VSZWZlcmVuY2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RlZmluaW5nU3Vic3RhbmNlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5kZWZpbmluZ1N1YnN0YW5jZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZGVmaW5pbmdTdWJzdGFuY2VDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBpZiAoc291cmNlWydhbW91bnQnXSkgeyB0aGlzLmFtb3VudCA9IHNvdXJjZS5hbW91bnQ7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYW1vdW50UXVhbnRpdHknXSkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5hbW91bnRRdWFudGl0eSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYW1vdW50U3RyaW5nJ10pIHsgdGhpcy5hbW91bnQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmFtb3VudFN0cmluZ30pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb24ucHJvcGVydHknIH1cclxuICAgIGlmICh0aGlzW1wiY2F0ZWdvcnlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jYXRlZ29yeS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuY2F0ZWdvcnknKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29kZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvZGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmNvZGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGFyYW1ldGVyc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBhcmFtZXRlcnMuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnBhcmFtZXRlcnMnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlSXNvdG9wZU1vbGVjdWxhcldlaWdodCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlSXNvdG9wZU1vbGVjdWxhcldlaWdodEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgYnkgd2hpY2ggdGhlIG1vbGVjdWxhciB3ZWlnaHQgd2FzIGRldGVybWluZWQuXHJcbiAgICovXHJcbiAgbWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIG1vbGVjdWxhciB3ZWlnaHQgc3VjaCBhcyBleGFjdCwgYXZlcmFnZSAoYWxzbyBrbm93biBhcy4gbnVtYmVyIGF2ZXJhZ2UpLCB3ZWlnaHQgYXZlcmFnZS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2VkIHRvIGNhcHR1cmUgcXVhbnRpdGF0aXZlIHZhbHVlcyBmb3IgYSB2YXJpZXR5IG9mIGVsZW1lbnRzLiBJZiBvbmx5IGxpbWl0cyBhcmUgZ2l2ZW4sIHRoZSBhcml0aG1ldGljIG1lYW4gd291bGQgYmUgdGhlIGF2ZXJhZ2UuIElmIG9ubHkgYSBzaW5nbGUgZGVmaW5pdGUgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudCBpcyBnaXZlbiwgaXQgd291bGQgYmUgY2FwdHVyZWQgaW4gdGhpcyBmaWVsZC5cclxuICAgKi9cclxuICBhbW91bnQ/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgbW9sZWN1bGFyIHdlaWdodCBvciB3ZWlnaHQgcmFuZ2UgKGZvciBwcm90ZWlucywgcG9seW1lcnMgb3IgbnVjbGVpYyBhY2lkcykuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZUlzb3RvcGVNb2xlY3VsYXJXZWlnaHQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlSXNvdG9wZU1vbGVjdWxhcldlaWdodCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1ldGhvZCBieSB3aGljaCB0aGUgbW9sZWN1bGFyIHdlaWdodCB3YXMgZGV0ZXJtaW5lZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgbW9sZWN1bGFyIHdlaWdodCBzdWNoIGFzIGV4YWN0LCBhdmVyYWdlIChhbHNvIGtub3duIGFzLiBudW1iZXIgYXZlcmFnZSksIHdlaWdodCBhdmVyYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gY2FwdHVyZSBxdWFudGl0YXRpdmUgdmFsdWVzIGZvciBhIHZhcmlldHkgb2YgZWxlbWVudHMuIElmIG9ubHkgbGltaXRzIGFyZSBnaXZlbiwgdGhlIGFyaXRobWV0aWMgbWVhbiB3b3VsZCBiZSB0aGUgYXZlcmFnZS4gSWYgb25seSBhIHNpbmdsZSBkZWZpbml0ZSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50IGlzIGdpdmVuLCBpdCB3b3VsZCBiZSBjYXB0dXJlZCBpbiB0aGlzIGZpZWxkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbW91bnQ/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlSXNvdG9wZU1vbGVjdWxhcldlaWdodCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlTW9sZWN1bGFyV2VpZ2h0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21ldGhvZCddKSB7IHRoaXMubWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZXRob2QpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW1vdW50J10pIHsgdGhpcy5hbW91bnQgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuYW1vdW50KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdTdWJzdGFuY2VTcGVjaWZpY2F0aW9uLnN0cnVjdHVyZS5pc290b3BlLm1vbGVjdWxhcldlaWdodCcgfVxyXG4gICAgaWYgKHRoaXNbXCJtZXRob2RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tZXRob2QuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm1ldGhvZCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycudHlwZScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJhbW91bnRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hbW91bnQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmFtb3VudCcpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU3Vic3RhbmNlIGlkZW50aWZpZXIgZm9yIGVhY2ggbm9uLW5hdHVyYWwgb3IgcmFkaW9pc290b3BlLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdWJzdGFuY2UgbmFtZSBmb3IgZWFjaCBub24tbmF0dXJhbCBvciByYWRpb2lzb3RvcGUuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgaXNvdG9waWMgc3Vic3RpdHV0aW9uIHByZXNlbnQgaW4gYSBzaW5nbGUgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHN1YnN0aXR1dGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSGFsZiBsaWZlIC0gZm9yIGEgbm9uLW5hdHVyYWwgbnVjbGlkZS5cclxuICAgKi9cclxuICBoYWxmTGlmZT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbW9sZWN1bGFyIHdlaWdodCBvciB3ZWlnaHQgcmFuZ2UgKGZvciBwcm90ZWlucywgcG9seW1lcnMgb3IgbnVjbGVpYyBhY2lkcykuXHJcbiAgICovXHJcbiAgbW9sZWN1bGFyV2VpZ2h0PzogZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlSXNvdG9wZU1vbGVjdWxhcldlaWdodEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQXBwbGljYWJsZSBmb3Igc2luZ2xlIHN1YnN0YW5jZXMgdGhhdCBjb250YWluIGEgcmFkaW9udWNsaWRlIG9yIGEgbm9uLW5hdHVyYWwgaXNvdG9waWMgcmF0aW8uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZUlzb3RvcGUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlSXNvdG9wZSc7XHJcbiAgLyoqXHJcbiAgICogU3Vic3RhbmNlIGlkZW50aWZpZXIgZm9yIGVhY2ggbm9uLW5hdHVyYWwgb3IgcmFkaW9pc290b3BlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdWJzdGFuY2UgbmFtZSBmb3IgZWFjaCBub24tbmF0dXJhbCBvciByYWRpb2lzb3RvcGUuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgaXNvdG9waWMgc3Vic3RpdHV0aW9uIHByZXNlbnQgaW4gYSBzaW5nbGUgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJzdGl0dXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSGFsZiBsaWZlIC0gZm9yIGEgbm9uLW5hdHVyYWwgbnVjbGlkZS5cclxuICAgKi9cclxuICBwdWJsaWMgaGFsZkxpZmU/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbW9sZWN1bGFyIHdlaWdodCBvciB3ZWlnaHQgcmFuZ2UgKGZvciBwcm90ZWlucywgcG9seW1lcnMgb3IgbnVjbGVpYyBhY2lkcykuXHJcbiAgICovXHJcbiAgcHVibGljIG1vbGVjdWxhcldlaWdodD86IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZUlzb3RvcGVNb2xlY3VsYXJXZWlnaHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZUlzb3RvcGVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmlkZW50aWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5uYW1lKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3Vic3RpdHV0aW9uJ10pIHsgdGhpcy5zdWJzdGl0dXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN1YnN0aXR1dGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2hhbGZMaWZlJ10pIHsgdGhpcy5oYWxmTGlmZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5oYWxmTGlmZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21vbGVjdWxhcldlaWdodCddKSB7IHRoaXMubW9sZWN1bGFyV2VpZ2h0ID0gbmV3IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZUlzb3RvcGVNb2xlY3VsYXJXZWlnaHQoc291cmNlLm1vbGVjdWxhcldlaWdodCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5zdHJ1Y3R1cmUuaXNvdG9wZScgfVxyXG4gICAgaWYgKHRoaXNbXCJpZGVudGlmaWVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaWRlbnRpZmllci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuaWRlbnRpZmllcicpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJuYW1lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmFtZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycubmFtZScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdWJzdGl0dXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdWJzdGl0dXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnN1YnN0aXR1dGlvbicpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJoYWxmTGlmZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmhhbGZMaWZlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5oYWxmTGlmZScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJtb2xlY3VsYXJXZWlnaHRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tb2xlY3VsYXJXZWlnaHQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm1vbGVjdWxhcldlaWdodCcpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVSZXByZXNlbnRhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlUmVwcmVzZW50YXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBzdHJ1Y3R1cmUgKGUuZy4gRnVsbCwgUGFydGlhbCwgUmVwcmVzZW50YXRpdmUpLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdHJ1Y3R1cmFsIHJlcHJlc2VudGF0aW9uIGFzIHRleHQgc3RyaW5nIGluIGEgZm9ybWF0IGUuZy4gSW5DaEksIFNNSUxFUywgTU9MRklMRSwgQ0RYLlxyXG4gICAqL1xyXG4gIHJlcHJlc2VudGF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNwZWNpZmljYXRpb24uc3RydWN0dXJlLnJlcHJlc2VudGF0aW9uLnJlcHJlc2VudGF0aW9uXHJcbiAgICovXHJcbiAgX3JlcHJlc2VudGF0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBbiBhdHRhY2hlZCBmaWxlIHdpdGggdGhlIHN0cnVjdHVyYWwgcmVwcmVzZW50YXRpb24uXHJcbiAgICovXHJcbiAgYXR0YWNobWVudD86IGZoaXIuQXR0YWNobWVudEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTW9sZWN1bGFyIHN0cnVjdHVyYWwgcmVwcmVzZW50YXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZVJlcHJlc2VudGF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZVJlcHJlc2VudGF0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBzdHJ1Y3R1cmUgKGUuZy4gRnVsbCwgUGFydGlhbCwgUmVwcmVzZW50YXRpdmUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdHJ1Y3R1cmFsIHJlcHJlc2VudGF0aW9uIGFzIHRleHQgc3RyaW5nIGluIGEgZm9ybWF0IGUuZy4gSW5DaEksIFNNSUxFUywgTU9MRklMRSwgQ0RYLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXByZXNlbnRhdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gYXR0YWNoZWQgZmlsZSB3aXRoIHRoZSBzdHJ1Y3R1cmFsIHJlcHJlc2VudGF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlUmVwcmVzZW50YXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlUmVwcmVzZW50YXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcHJlc2VudGF0aW9uJ10pIHsgdGhpcy5yZXByZXNlbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucmVwcmVzZW50YXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlcHJlc2VudGF0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVwcmVzZW50YXRpb24pIHsgdGhpcy5yZXByZXNlbnRhdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZXByZXNlbnRhdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlcHJlc2VudGF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3JlcHJlc2VudGF0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdHRhY2htZW50J10pIHsgdGhpcy5hdHRhY2htZW50ID0gbmV3IGZoaXIuQXR0YWNobWVudChzb3VyY2UuYXR0YWNobWVudCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5zdHJ1Y3R1cmUucmVwcmVzZW50YXRpb24nIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnR5cGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVwcmVzZW50YXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZXByZXNlbnRhdGlvbi5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucmVwcmVzZW50YXRpb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYXR0YWNobWVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmF0dGFjaG1lbnQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmF0dGFjaG1lbnQnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTdGVyZW9jaGVtaXN0cnkgdHlwZS5cclxuICAgKi9cclxuICBzdGVyZW9jaGVtaXN0cnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9wdGljYWwgYWN0aXZpdHkgdHlwZS5cclxuICAgKi9cclxuICBvcHRpY2FsQWN0aXZpdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1vbGVjdWxhciBmb3JtdWxhLlxyXG4gICAqL1xyXG4gIG1vbGVjdWxhckZvcm11bGE/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5zdHJ1Y3R1cmUubW9sZWN1bGFyRm9ybXVsYVxyXG4gICAqL1xyXG4gIF9tb2xlY3VsYXJGb3JtdWxhPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBTcGVjaWZpZWQgcGVyIG1vaWV0eSBhY2NvcmRpbmcgdG8gdGhlIEhpbGwgc3lzdGVtLCBpLmUuIGZpcnN0IEMsIHRoZW4gSCwgdGhlbiBhbHBoYWJldGljYWwsIGVhY2ggbW9pZXR5IHNlcGFyYXRlZCBieSBhIGRvdC5cclxuICAgKi9cclxuICBtb2xlY3VsYXJGb3JtdWxhQnlNb2lldHk/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5zdHJ1Y3R1cmUubW9sZWN1bGFyRm9ybXVsYUJ5TW9pZXR5XHJcbiAgICovXHJcbiAgX21vbGVjdWxhckZvcm11bGFCeU1vaWV0eT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQXBwbGljYWJsZSBmb3Igc2luZ2xlIHN1YnN0YW5jZXMgdGhhdCBjb250YWluIGEgcmFkaW9udWNsaWRlIG9yIGEgbm9uLW5hdHVyYWwgaXNvdG9waWMgcmF0aW8uXHJcbiAgICovXHJcbiAgaXNvdG9wZT86IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZUlzb3RvcGVBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtb2xlY3VsYXIgd2VpZ2h0IG9yIHdlaWdodCByYW5nZSAoZm9yIHByb3RlaW5zLCBwb2x5bWVycyBvciBudWNsZWljIGFjaWRzKS5cclxuICAgKi9cclxuICBtb2xlY3VsYXJXZWlnaHQ/OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlTW9sZWN1bGFyV2VpZ2h0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3VwcG9ydGluZyBsaXRlcmF0dXJlLlxyXG4gICAqL1xyXG4gIHNvdXJjZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNb2xlY3VsYXIgc3RydWN0dXJhbCByZXByZXNlbnRhdGlvbi5cclxuICAgKi9cclxuICByZXByZXNlbnRhdGlvbj86IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZVJlcHJlc2VudGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0cnVjdHVyYWwgaW5mb3JtYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmUnO1xyXG4gIC8qKlxyXG4gICAqIFN0ZXJlb2NoZW1pc3RyeSB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGVyZW9jaGVtaXN0cnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3B0aWNhbCBhY3Rpdml0eSB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcHRpY2FsQWN0aXZpdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTW9sZWN1bGFyIGZvcm11bGEuXHJcbiAgICovXHJcbiAgcHVibGljIG1vbGVjdWxhckZvcm11bGE/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllZCBwZXIgbW9pZXR5IGFjY29yZGluZyB0byB0aGUgSGlsbCBzeXN0ZW0sIGkuZS4gZmlyc3QgQywgdGhlbiBILCB0aGVuIGFscGhhYmV0aWNhbCwgZWFjaCBtb2lldHkgc2VwYXJhdGVkIGJ5IGEgZG90LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2xlY3VsYXJGb3JtdWxhQnlNb2lldHk/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFwcGxpY2FibGUgZm9yIHNpbmdsZSBzdWJzdGFuY2VzIHRoYXQgY29udGFpbiBhIHJhZGlvbnVjbGlkZSBvciBhIG5vbi1uYXR1cmFsIGlzb3RvcGljIHJhdGlvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpc290b3BlOiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vbGVjdWxhciB3ZWlnaHQgb3Igd2VpZ2h0IHJhbmdlIChmb3IgcHJvdGVpbnMsIHBvbHltZXJzIG9yIG51Y2xlaWMgYWNpZHMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2xlY3VsYXJXZWlnaHQ/OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlTW9sZWN1bGFyV2VpZ2h0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdXBwb3J0aW5nIGxpdGVyYXR1cmUuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBNb2xlY3VsYXIgc3RydWN0dXJhbCByZXByZXNlbnRhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVwcmVzZW50YXRpb246IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZVJlcHJlc2VudGF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc3RlcmVvY2hlbWlzdHJ5J10pIHsgdGhpcy5zdGVyZW9jaGVtaXN0cnkgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN0ZXJlb2NoZW1pc3RyeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29wdGljYWxBY3Rpdml0eSddKSB7IHRoaXMub3B0aWNhbEFjdGl2aXR5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5vcHRpY2FsQWN0aXZpdHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydtb2xlY3VsYXJGb3JtdWxhJ10pIHsgdGhpcy5tb2xlY3VsYXJGb3JtdWxhID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5tb2xlY3VsYXJGb3JtdWxhfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tb2xlY3VsYXJGb3JtdWxhJ10pIHtcclxuICAgICAgaWYgKHRoaXMubW9sZWN1bGFyRm9ybXVsYSkgeyB0aGlzLm1vbGVjdWxhckZvcm11bGEuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbW9sZWN1bGFyRm9ybXVsYSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1vbGVjdWxhckZvcm11bGEgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbW9sZWN1bGFyRm9ybXVsYSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9sZWN1bGFyRm9ybXVsYUJ5TW9pZXR5J10pIHsgdGhpcy5tb2xlY3VsYXJGb3JtdWxhQnlNb2lldHkgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm1vbGVjdWxhckZvcm11bGFCeU1vaWV0eX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbW9sZWN1bGFyRm9ybXVsYUJ5TW9pZXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMubW9sZWN1bGFyRm9ybXVsYUJ5TW9pZXR5KSB7IHRoaXMubW9sZWN1bGFyRm9ybXVsYUJ5TW9pZXR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX21vbGVjdWxhckZvcm11bGFCeU1vaWV0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1vbGVjdWxhckZvcm11bGFCeU1vaWV0eSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9tb2xlY3VsYXJGb3JtdWxhQnlNb2lldHkgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2lzb3RvcGUnXSkgeyB0aGlzLmlzb3RvcGUgPSBzb3VyY2UuaXNvdG9wZS5tYXAoKHgpID0+IG5ldyBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaXNvdG9wZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtb2xlY3VsYXJXZWlnaHQnXSkgeyB0aGlzLm1vbGVjdWxhcldlaWdodCA9IG5ldyBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlTW9sZWN1bGFyV2VpZ2h0KHNvdXJjZS5tb2xlY3VsYXJXZWlnaHQpOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2UnXSkgeyB0aGlzLnNvdXJjZSA9IHNvdXJjZS5zb3VyY2UubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zb3VyY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVwcmVzZW50YXRpb24nXSkgeyB0aGlzLnJlcHJlc2VudGF0aW9uID0gc291cmNlLnJlcHJlc2VudGF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZVJlcHJlc2VudGF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVwcmVzZW50YXRpb24gPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdTdWJzdGFuY2VTcGVjaWZpY2F0aW9uLnN0cnVjdHVyZScgfVxyXG4gICAgaWYgKHRoaXNbXCJzdGVyZW9jaGVtaXN0cnlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdGVyZW9jaGVtaXN0cnkuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnN0ZXJlb2NoZW1pc3RyeScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcHRpY2FsQWN0aXZpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vcHRpY2FsQWN0aXZpdHkuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm9wdGljYWxBY3Rpdml0eScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJtb2xlY3VsYXJGb3JtdWxhXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubW9sZWN1bGFyRm9ybXVsYS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycubW9sZWN1bGFyRm9ybXVsYScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJtb2xlY3VsYXJGb3JtdWxhQnlNb2lldHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tb2xlY3VsYXJGb3JtdWxhQnlNb2lldHkuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm1vbGVjdWxhckZvcm11bGFCeU1vaWV0eScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJpc290b3BlXCJdKSB7IHRoaXMuaXNvdG9wZS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuaXNvdG9wZVske2l9XWApKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJtb2xlY3VsYXJXZWlnaHRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tb2xlY3VsYXJXZWlnaHQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm1vbGVjdWxhcldlaWdodCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzb3VyY2VcIl0pIHsgdGhpcy5zb3VyY2UuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnNvdXJjZVske2l9XWApKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJyZXByZXNlbnRhdGlvblwiXSkgeyB0aGlzLnJlcHJlc2VudGF0aW9uLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5yZXByZXNlbnRhdGlvblske2l9XWApKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25Db2RlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25Db2RlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIGNvZGUuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RhdHVzIG9mIHRoZSBjb2RlIGFzc2lnbm1lbnQuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhdCB3aGljaCB0aGUgY29kZSBzdGF0dXMgaXMgY2hhbmdlZCBhcyBwYXJ0IG9mIHRoZSB0ZXJtaW5vbG9neSBtYWludGVuYW5jZS5cclxuICAgKi9cclxuICBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5jb2RlLnN0YXR1c0RhdGVcclxuICAgKi9cclxuICBfc3RhdHVzRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQW55IGNvbW1lbnQgY2FuIGJlIHByb3ZpZGVkIGluIHRoaXMgZmllbGQsIGlmIG5lY2Vzc2FyeS5cclxuICAgKi9cclxuICBjb21tZW50PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNwZWNpZmljYXRpb24uY29kZS5jb21tZW50XHJcbiAgICovXHJcbiAgX2NvbW1lbnQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFN1cHBvcnRpbmcgbGl0ZXJhdHVyZS5cclxuICAgKi9cclxuICBzb3VyY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb2RlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHN1YnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uQ29kZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb25Db2RlJztcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgY29kZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdGF0dXMgb2YgdGhlIGNvZGUgYXNzaWdubWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGF0IHdoaWNoIHRoZSBjb2RlIHN0YXR1cyBpcyBjaGFuZ2VkIGFzIHBhcnQgb2YgdGhlIHRlcm1pbm9sb2d5IG1haW50ZW5hbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFueSBjb21tZW50IGNhbiBiZSBwcm92aWRlZCBpbiB0aGlzIGZpZWxkLCBpZiBuZWNlc3NhcnkuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW1lbnQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN1cHBvcnRpbmcgbGl0ZXJhdHVyZS5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNwZWNpZmljYXRpb25Db2RlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU3BlY2lmaWNhdGlvbkNvZGVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29kZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zdGF0dXMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXNEYXRlJ10pIHsgdGhpcy5zdGF0dXNEYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnN0YXR1c0RhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1c0RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXNEYXRlKSB7IHRoaXMuc3RhdHVzRGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXNEYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3N0YXR1c0RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tbWVudCddKSB7IHRoaXMuY29tbWVudCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29tbWVudH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29tbWVudCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvbW1lbnQpIHsgdGhpcy5jb21tZW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvbW1lbnQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb21tZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2NvbW1lbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZSddKSB7IHRoaXMuc291cmNlID0gc291cmNlLnNvdXJjZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNvdXJjZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb24uY29kZScgfVxyXG4gICAgaWYgKHRoaXNbXCJjb2RlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29kZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuY29kZScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdGF0dXNcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdGF0dXMuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnN0YXR1cycpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdGF0dXNEYXRlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RhdHVzRGF0ZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc3RhdHVzRGF0ZScpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb21tZW50XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuY29tbWVudC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuY29tbWVudCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzb3VyY2VcIl0pIHsgdGhpcy5zb3VyY2UuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnNvdXJjZVske2l9XWApKTsgfSkgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25OYW1lT2ZmaWNpYWwgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWVPZmZpY2lhbEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFdoaWNoIGF1dGhvcml0eSB1c2VzIHRoaXMgb2ZmaWNpYWwgbmFtZS5cclxuICAgKi9cclxuICBhdXRob3JpdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIG9mZmljaWFsIG5hbWUuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEYXRlIG9mIG9mZmljaWFsIG5hbWUgY2hhbmdlLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uLm5hbWUub2ZmaWNpYWwuZGF0ZVxyXG4gICAqL1xyXG4gIF9kYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIERldGFpbHMgb2YgdGhlIG9mZmljaWFsIG5hdHVyZSBvZiB0aGlzIG5hbWUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWVPZmZpY2lhbCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb25OYW1lT2ZmaWNpYWwnO1xyXG4gIC8qKlxyXG4gICAqIFdoaWNoIGF1dGhvcml0eSB1c2VzIHRoaXMgb2ZmaWNpYWwgbmFtZS5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aG9yaXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIG9mZmljaWFsIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEYXRlIG9mIG9mZmljaWFsIG5hbWUgY2hhbmdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNwZWNpZmljYXRpb25OYW1lT2ZmaWNpYWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxTdWJzdGFuY2VTcGVjaWZpY2F0aW9uTmFtZU9mZmljaWFsQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2F1dGhvcml0eSddKSB7IHRoaXMuYXV0aG9yaXR5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hdXRob3JpdHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZSkgeyB0aGlzLmRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5uYW1lLm9mZmljaWFsJyB9XHJcbiAgICBpZiAodGhpc1tcImF1dGhvcml0eVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmF1dGhvcml0eS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuYXV0aG9yaXR5JykpOyB9XHJcbiAgICBpZiAodGhpc1tcInN0YXR1c1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnN0YXR1cy5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc3RhdHVzJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImRhdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kYXRlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5kYXRlJykpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWVBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIG5hbWUuXHJcbiAgICovXHJcbiAgbmFtZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNwZWNpZmljYXRpb24ubmFtZS5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE5hbWUgdHlwZS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBuYW1lLlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhpcyBpcyB0aGUgcHJlZmVycmVkIG5hbWUgZm9yIHRoaXMgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHByZWZlcnJlZD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNwZWNpZmljYXRpb24ubmFtZS5wcmVmZXJyZWRcclxuICAgKi9cclxuICBfcHJlZmVycmVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBMYW5ndWFnZSBvZiB0aGUgbmFtZS5cclxuICAgKi9cclxuICBsYW5ndWFnZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdXNlIGNvbnRleHQgb2YgdGhpcyBuYW1lIGZvciBleGFtcGxlIGlmIHRoZXJlIGlzIGEgZGlmZmVyZW50IG5hbWUgYSBkcnVnIGFjdGl2ZSBpbmdyZWRpZW50IGFzIG9wcG9zZWQgdG8gYSBmb29kIGNvbG91ciBhZGRpdGl2ZS5cclxuICAgKi9cclxuICBkb21haW4/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGp1cmlzZGljdGlvbiB3aGVyZSB0aGlzIG5hbWUgYXBwbGllcy5cclxuICAgKi9cclxuICBqdXJpc2RpY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzeW5vbnltIG9mIHRoaXMgbmFtZS5cclxuICAgKi9cclxuICBzeW5vbnltPzogZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uTmFtZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB0cmFuc2xhdGlvbiBmb3IgdGhpcyBuYW1lLlxyXG4gICAqL1xyXG4gIHRyYW5zbGF0aW9uPzogZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uTmFtZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGV0YWlscyBvZiB0aGUgb2ZmaWNpYWwgbmF0dXJlIG9mIHRoaXMgbmFtZS5cclxuICAgKi9cclxuICBvZmZpY2lhbD86IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWVPZmZpY2lhbEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3VwcG9ydGluZyBsaXRlcmF0dXJlLlxyXG4gICAqL1xyXG4gIHNvdXJjZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIE5hbWVzIGFwcGxpY2FibGUgdG8gdGhpcyBzdWJzdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTdWJzdGFuY2VTcGVjaWZpY2F0aW9uTmFtZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdHVhbCBuYW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBOYW1lIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgbmFtZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgaXMgdGhlIHByZWZlcnJlZCBuYW1lIGZvciB0aGlzIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJlZmVycmVkPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTGFuZ3VhZ2Ugb2YgdGhlIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIGxhbmd1YWdlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB1c2UgY29udGV4dCBvZiB0aGlzIG5hbWUgZm9yIGV4YW1wbGUgaWYgdGhlcmUgaXMgYSBkaWZmZXJlbnQgbmFtZSBhIGRydWcgYWN0aXZlIGluZ3JlZGllbnQgYXMgb3Bwb3NlZCB0byBhIGZvb2QgY29sb3VyIGFkZGl0aXZlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb21haW46IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIGp1cmlzZGljdGlvbiB3aGVyZSB0aGlzIG5hbWUgYXBwbGllcy5cclxuICAgKi9cclxuICBwdWJsaWMganVyaXNkaWN0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEEgc3lub255bSBvZiB0aGlzIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIHN5bm9ueW06IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWVbXTtcclxuICAvKipcclxuICAgKiBBIHRyYW5zbGF0aW9uIGZvciB0aGlzIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIHRyYW5zbGF0aW9uOiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25OYW1lW107XHJcbiAgLyoqXHJcbiAgICogRGV0YWlscyBvZiB0aGUgb2ZmaWNpYWwgbmF0dXJlIG9mIHRoaXMgbmFtZS5cclxuICAgKi9cclxuICBwdWJsaWMgb2ZmaWNpYWw6IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWVPZmZpY2lhbFtdO1xyXG4gIC8qKlxyXG4gICAqIFN1cHBvcnRpbmcgbGl0ZXJhdHVyZS5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFN1YnN0YW5jZVNwZWNpZmljYXRpb25OYW1lIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU3BlY2lmaWNhdGlvbk5hbWVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5uYW1lID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN0YXR1cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZWZlcnJlZCddKSB7IHRoaXMucHJlZmVycmVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UucHJlZmVycmVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wcmVmZXJyZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5wcmVmZXJyZWQpIHsgdGhpcy5wcmVmZXJyZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcHJlZmVycmVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHJlZmVycmVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9wcmVmZXJyZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydsYW5ndWFnZSddKSB7IHRoaXMubGFuZ3VhZ2UgPSBzb3VyY2UubGFuZ3VhZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5sYW5ndWFnZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkb21haW4nXSkgeyB0aGlzLmRvbWFpbiA9IHNvdXJjZS5kb21haW4ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kb21haW4gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnanVyaXNkaWN0aW9uJ10pIHsgdGhpcy5qdXJpc2RpY3Rpb24gPSBzb3VyY2UuanVyaXNkaWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuanVyaXNkaWN0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N5bm9ueW0nXSkgeyB0aGlzLnN5bm9ueW0gPSBzb3VyY2Uuc3lub255bS5tYXAoKHgpID0+IG5ldyBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25OYW1lKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3lub255bSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0cmFuc2xhdGlvbiddKSB7IHRoaXMudHJhbnNsYXRpb24gPSBzb3VyY2UudHJhbnNsYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uTmFtZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRyYW5zbGF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ29mZmljaWFsJ10pIHsgdGhpcy5vZmZpY2lhbCA9IHNvdXJjZS5vZmZpY2lhbC5tYXAoKHgpID0+IG5ldyBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25OYW1lT2ZmaWNpYWwoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vZmZpY2lhbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2UnXSkgeyB0aGlzLnNvdXJjZSA9IHNvdXJjZS5zb3VyY2UubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zb3VyY2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdTdWJzdGFuY2VTcGVjaWZpY2F0aW9uLm5hbWUnIH1cclxuICAgIGlmICghdGhpc1snbmFtZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBuYW1lIGZoaXI6IFN1YnN0YW5jZVNwZWNpZmljYXRpb24ubmFtZS5uYW1lOnN0cmluZycsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm5hbWUnKSk7IH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnR5cGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3RhdHVzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RhdHVzLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zdGF0dXMnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHJlZmVycmVkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHJlZmVycmVkLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5wcmVmZXJyZWQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibGFuZ3VhZ2VcIl0pIHsgdGhpcy5sYW5ndWFnZS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AubGFuZ3VhZ2VbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZG9tYWluXCJdKSB7IHRoaXMuZG9tYWluLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5kb21haW5bJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wianVyaXNkaWN0aW9uXCJdKSB7IHRoaXMuanVyaXNkaWN0aW9uLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5qdXJpc2RpY3Rpb25bJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wic3lub255bVwiXSkgeyB0aGlzLnN5bm9ueW0uZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnN5bm9ueW1bJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widHJhbnNsYXRpb25cIl0pIHsgdGhpcy50cmFuc2xhdGlvbi5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AudHJhbnNsYXRpb25bJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wib2ZmaWNpYWxcIl0pIHsgdGhpcy5vZmZpY2lhbC5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2Aub2ZmaWNpYWxbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wic291cmNlXCJdKSB7IHRoaXMuc291cmNlLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5zb3VyY2VbJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uUmVsYXRpb25zaGlwIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnN0YW5jZVNwZWNpZmljYXRpb25SZWxhdGlvbnNoaXBBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIHBvaW50ZXIgdG8gYW5vdGhlciBzdWJzdGFuY2UsIGFzIGEgcmVzb3VyY2Ugb3IganVzdCBhIHJlcHJlc2VudGF0aW9uYWwgY29kZS5cclxuICAgKi9cclxuICBzdWJzdGFuY2U/OiBmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBwb2ludGVyIHRvIGFub3RoZXIgc3Vic3RhbmNlLCBhcyBhIHJlc291cmNlIG9yIGp1c3QgYSByZXByZXNlbnRhdGlvbmFsIGNvZGUuXHJcbiAgICovXHJcbiAgc3Vic3RhbmNlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHBvaW50ZXIgdG8gYW5vdGhlciBzdWJzdGFuY2UsIGFzIGEgcmVzb3VyY2Ugb3IganVzdCBhIHJlcHJlc2VudGF0aW9uYWwgY29kZS5cclxuICAgKi9cclxuICBzdWJzdGFuY2VDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIFwic2FsdCB0byBwYXJlbnRcIiwgXCJhY3RpdmUgbW9pZXR5XCIsIFwic3RhcnRpbmcgbWF0ZXJpYWxcIi5cclxuICAgKi9cclxuICByZWxhdGlvbnNoaXA/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIHdoZXJlIGFuIGVuenltZSBzdHJvbmdseSBib25kcyB3aXRoIGEgcGFydGljdWxhciBzdWJzdGFuY2UsIHRoaXMgaXMgYSBkZWZpbmluZyByZWxhdGlvbnNoaXAgZm9yIHRoYXQgZW56eW1lLCBvdXQgb2Ygc2V2ZXJhbCBwb3NzaWJsZSBzdWJzdGFuY2UgcmVsYXRpb25zaGlwcy5cclxuICAgKi9cclxuICBpc0RlZmluaW5nPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5yZWxhdGlvbnNoaXAuaXNEZWZpbmluZ1xyXG4gICAqL1xyXG4gIF9pc0RlZmluaW5nPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIG51bWVyaWMgZmFjdG9yIGZvciB0aGUgcmVsYXRpb25zaGlwLCBmb3IgaW5zdGFuY2UgdG8gZXhwcmVzcyB0aGF0IHRoZSBzYWx0IG9mIGEgc3Vic3RhbmNlIGhhcyBzb21lIHBlcmNlbnRhZ2Ugb2YgdGhlIGFjdGl2ZSBzdWJzdGFuY2UgaW4gcmVsYXRpb24gdG8gc29tZSBvdGhlci5cclxuICAgKi9cclxuICBhbW91bnQ/OiBmaGlyLlF1YW50aXR5fGZoaXIuUmFuZ2V8Zmhpci5SYXRpb3xmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbnVtZXJpYyBmYWN0b3IgZm9yIHRoZSByZWxhdGlvbnNoaXAsIGZvciBpbnN0YW5jZSB0byBleHByZXNzIHRoYXQgdGhlIHNhbHQgb2YgYSBzdWJzdGFuY2UgaGFzIHNvbWUgcGVyY2VudGFnZSBvZiB0aGUgYWN0aXZlIHN1YnN0YW5jZSBpbiByZWxhdGlvbiB0byBzb21lIG90aGVyLlxyXG4gICAqL1xyXG4gIGFtb3VudFF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbnVtZXJpYyBmYWN0b3IgZm9yIHRoZSByZWxhdGlvbnNoaXAsIGZvciBpbnN0YW5jZSB0byBleHByZXNzIHRoYXQgdGhlIHNhbHQgb2YgYSBzdWJzdGFuY2UgaGFzIHNvbWUgcGVyY2VudGFnZSBvZiB0aGUgYWN0aXZlIHN1YnN0YW5jZSBpbiByZWxhdGlvbiB0byBzb21lIG90aGVyLlxyXG4gICAqL1xyXG4gIGFtb3VudFJhbmdlPzogZmhpci5SYW5nZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbnVtZXJpYyBmYWN0b3IgZm9yIHRoZSByZWxhdGlvbnNoaXAsIGZvciBpbnN0YW5jZSB0byBleHByZXNzIHRoYXQgdGhlIHNhbHQgb2YgYSBzdWJzdGFuY2UgaGFzIHNvbWUgcGVyY2VudGFnZSBvZiB0aGUgYWN0aXZlIHN1YnN0YW5jZSBpbiByZWxhdGlvbiB0byBzb21lIG90aGVyLlxyXG4gICAqL1xyXG4gIGFtb3VudFJhdGlvPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbnVtZXJpYyBmYWN0b3IgZm9yIHRoZSByZWxhdGlvbnNoaXAsIGZvciBpbnN0YW5jZSB0byBleHByZXNzIHRoYXQgdGhlIHNhbHQgb2YgYSBzdWJzdGFuY2UgaGFzIHNvbWUgcGVyY2VudGFnZSBvZiB0aGUgYWN0aXZlIHN1YnN0YW5jZSBpbiByZWxhdGlvbiB0byBzb21lIG90aGVyLlxyXG4gICAqL1xyXG4gIGFtb3VudFN0cmluZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciB1c2Ugd2hlbiB0aGUgbnVtZXJpYy5cclxuICAgKi9cclxuICBhbW91bnRSYXRpb0xvd0xpbWl0PzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9wZXJhdG9yIGZvciB0aGUgYW1vdW50LCBmb3IgZXhhbXBsZSBcImF2ZXJhZ2VcIiwgXCJhcHByb3hpbWF0ZWx5XCIsIFwibGVzcyB0aGFuXCIuXHJcbiAgICovXHJcbiAgYW1vdW50VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3VwcG9ydGluZyBsaXRlcmF0dXJlLlxyXG4gICAqL1xyXG4gIHNvdXJjZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgbGluayBiZXR3ZWVuIHRoaXMgc3Vic3RhbmNlIGFuZCBhbm90aGVyLCB3aXRoIGRldGFpbHMgb2YgdGhlIHJlbGF0aW9uc2hpcC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uUmVsYXRpb25zaGlwIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnU3Vic3RhbmNlU3BlY2lmaWNhdGlvblJlbGF0aW9uc2hpcCc7XHJcbiAgLyoqXHJcbiAgICogQSBwb2ludGVyIHRvIGFub3RoZXIgc3Vic3RhbmNlLCBhcyBhIHJlc291cmNlIG9yIGp1c3QgYSByZXByZXNlbnRhdGlvbmFsIGNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YnN0YW5jZT86IChmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5yZWxhdGlvbnNoaXAuc3Vic3RhbmNlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3N1YnN0YW5jZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIFwic2FsdCB0byBwYXJlbnRcIiwgXCJhY3RpdmUgbW9pZXR5XCIsIFwic3RhcnRpbmcgbWF0ZXJpYWxcIi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRpb25zaGlwPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIHdoZXJlIGFuIGVuenltZSBzdHJvbmdseSBib25kcyB3aXRoIGEgcGFydGljdWxhciBzdWJzdGFuY2UsIHRoaXMgaXMgYSBkZWZpbmluZyByZWxhdGlvbnNoaXAgZm9yIHRoYXQgZW56eW1lLCBvdXQgb2Ygc2V2ZXJhbCBwb3NzaWJsZSBzdWJzdGFuY2UgcmVsYXRpb25zaGlwcy5cclxuICAgKi9cclxuICBwdWJsaWMgaXNEZWZpbmluZz86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbnVtZXJpYyBmYWN0b3IgZm9yIHRoZSByZWxhdGlvbnNoaXAsIGZvciBpbnN0YW5jZSB0byBleHByZXNzIHRoYXQgdGhlIHNhbHQgb2YgYSBzdWJzdGFuY2UgaGFzIHNvbWUgcGVyY2VudGFnZSBvZiB0aGUgYWN0aXZlIHN1YnN0YW5jZSBpbiByZWxhdGlvbiB0byBzb21lIG90aGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbW91bnQ/OiAoZmhpci5RdWFudGl0eXxmaGlyLlJhbmdlfGZoaXIuUmF0aW98Zmhpci5GaGlyU3RyaW5nKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uLnJlbGF0aW9uc2hpcC5hbW91bnRbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfYW1vdW50SXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRm9yIHVzZSB3aGVuIHRoZSBudW1lcmljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbW91bnRSYXRpb0xvd0xpbWl0PzogZmhpci5SYXRpb3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb3BlcmF0b3IgZm9yIHRoZSBhbW91bnQsIGZvciBleGFtcGxlIFwiYXZlcmFnZVwiLCBcImFwcHJveGltYXRlbHlcIiwgXCJsZXNzIHRoYW5cIi5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdXBwb3J0aW5nIGxpdGVyYXR1cmUuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uUmVsYXRpb25zaGlwIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3Vic3RhbmNlU3BlY2lmaWNhdGlvblJlbGF0aW9uc2hpcEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzdWJzdGFuY2UnXSkgeyB0aGlzLnN1YnN0YW5jZSA9IHNvdXJjZS5zdWJzdGFuY2U7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnc3Vic3RhbmNlUmVmZXJlbmNlJ10pIHsgdGhpcy5zdWJzdGFuY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnN1YnN0YW5jZVJlZmVyZW5jZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnc3Vic3RhbmNlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5zdWJzdGFuY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN1YnN0YW5jZUNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlbGF0aW9uc2hpcCddKSB7IHRoaXMucmVsYXRpb25zaGlwID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZWxhdGlvbnNoaXApOyB9XHJcbiAgICBpZiAoc291cmNlWydpc0RlZmluaW5nJ10pIHsgdGhpcy5pc0RlZmluaW5nID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuaXNEZWZpbmluZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfaXNEZWZpbmluZyddKSB7XHJcbiAgICAgIGlmICh0aGlzLmlzRGVmaW5pbmcpIHsgdGhpcy5pc0RlZmluaW5nLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2lzRGVmaW5pbmchKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5pc0RlZmluaW5nID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9pc0RlZmluaW5nIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW1vdW50J10pIHsgdGhpcy5hbW91bnQgPSBzb3VyY2UuYW1vdW50OyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Ftb3VudFF1YW50aXR5J10pIHsgdGhpcy5hbW91bnQgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuYW1vdW50UXVhbnRpdHkpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Ftb3VudFJhbmdlJ10pIHsgdGhpcy5hbW91bnQgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UuYW1vdW50UmFuZ2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Ftb3VudFJhdGlvJ10pIHsgdGhpcy5hbW91bnQgPSBuZXcgZmhpci5SYXRpbyhzb3VyY2UuYW1vdW50UmF0aW8pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2Ftb3VudFN0cmluZyddKSB7IHRoaXMuYW1vdW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hbW91bnRTdHJpbmd9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW1vdW50UmF0aW9Mb3dMaW1pdCddKSB7IHRoaXMuYW1vdW50UmF0aW9Mb3dMaW1pdCA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS5hbW91bnRSYXRpb0xvd0xpbWl0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW1vdW50VHlwZSddKSB7IHRoaXMuYW1vdW50VHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYW1vdW50VHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZSddKSB7IHRoaXMuc291cmNlID0gc291cmNlLnNvdXJjZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNvdXJjZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb24ucmVsYXRpb25zaGlwJyB9XHJcbiAgICBpZiAodGhpc1tcInJlbGF0aW9uc2hpcFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlbGF0aW9uc2hpcC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucmVsYXRpb25zaGlwJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImlzRGVmaW5pbmdcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5pc0RlZmluaW5nLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5pc0RlZmluaW5nJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImFtb3VudFJhdGlvTG93TGltaXRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hbW91bnRSYXRpb0xvd0xpbWl0LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5hbW91bnRSYXRpb0xvd0xpbWl0JykpOyB9XHJcbiAgICBpZiAodGhpc1tcImFtb3VudFR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hbW91bnRUeXBlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5hbW91bnRUeXBlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZVwiXSkgeyB0aGlzLnNvdXJjZS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2Auc291cmNlWyR7aX1dYCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiU3Vic3RhbmNlU3BlY2lmaWNhdGlvblwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIGJ5IHdoaWNoIHRoaXMgc3Vic3RhbmNlIGlzIGtub3duLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIaWdoIGxldmVsIGNhdGVnb3JpemF0aW9uLCBlLmcuIHBvbHltZXIgb3IgbnVjbGVpYyBhY2lkLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN0YXR1cyBvZiBzdWJzdGFuY2Ugd2l0aGluIHRoZSBjYXRhbG9ndWUgZS5nLiBhcHByb3ZlZC5cclxuICAgKi9cclxuICBzdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBzdWJzdGFuY2UgYXBwbGllcyB0byBvbmx5IGh1bWFuIG9yIHZldGVyaW5hcnkgdXNlLlxyXG4gICAqL1xyXG4gIGRvbWFpbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGV4dHVhbCBkZXNjcmlwdGlvbiBvZiB0aGUgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFN1YnN0YW5jZVNwZWNpZmljYXRpb24uZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFN1cHBvcnRpbmcgbGl0ZXJhdHVyZS5cclxuICAgKi9cclxuICBzb3VyY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGV4dHVhbCBjb21tZW50IGFib3V0IHRoaXMgcmVjb3JkIG9mIGEgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIGNvbW1lbnQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3Vic3RhbmNlU3BlY2lmaWNhdGlvbi5jb21tZW50XHJcbiAgICovXHJcbiAgX2NvbW1lbnQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE1vaWV0eSwgZm9yIHN0cnVjdHVyYWwgbW9kaWZpY2F0aW9ucy5cclxuICAgKi9cclxuICBtb2lldHk/OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25Nb2lldHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEdlbmVyYWwgc3BlY2lmaWNhdGlvbnMgZm9yIHRoaXMgc3Vic3RhbmNlLCBpbmNsdWRpbmcgaG93IGl0IGlzIHJlbGF0ZWQgdG8gb3RoZXIgc3Vic3RhbmNlcy5cclxuICAgKi9cclxuICBwcm9wZXJ0eT86IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblByb3BlcnR5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGluZm9ybWF0aW9uIGRldGFpbGluZyB0aGlzIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICByZWZlcmVuY2VJbmZvcm1hdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RydWN0dXJhbCBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBzdHJ1Y3R1cmU/OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2RlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uQ29kZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTmFtZXMgYXBwbGljYWJsZSB0byB0aGlzIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uTmFtZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vbGVjdWxhciB3ZWlnaHQgb3Igd2VpZ2h0IHJhbmdlIChmb3IgcHJvdGVpbnMsIHBvbHltZXJzIG9yIG51Y2xlaWMgYWNpZHMpLlxyXG4gICAqL1xyXG4gIG1vbGVjdWxhcldlaWdodD86IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZUlzb3RvcGVNb2xlY3VsYXJXZWlnaHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbGluayBiZXR3ZWVuIHRoaXMgc3Vic3RhbmNlIGFuZCBhbm90aGVyLCB3aXRoIGRldGFpbHMgb2YgdGhlIHJlbGF0aW9uc2hpcC5cclxuICAgKi9cclxuICByZWxhdGlvbnNoaXA/OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25SZWxhdGlvbnNoaXBBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERhdGEgaXRlbXMgc3BlY2lmaWMgdG8gbnVjbGVpYyBhY2lkcy5cclxuICAgKi9cclxuICBudWNsZWljQWNpZD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0YSBpdGVtcyBzcGVjaWZpYyB0byBwb2x5bWVycy5cclxuICAgKi9cclxuICBwb2x5bWVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEYXRhIGl0ZW1zIHNwZWNpZmljIHRvIHByb3RlaW5zLlxyXG4gICAqL1xyXG4gIHByb3RlaW4/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIG9yIHRheG9ub21pYy9hbmF0b21pY2FsIHNvdXJjZSBmb3IgdGhlIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBzb3VyY2VNYXRlcmlhbD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgZGV0YWlsZWQgZGVzY3JpcHRpb24gb2YgYSBzdWJzdGFuY2UsIHR5cGljYWxseSBhdCBhIGxldmVsIGJleW9uZCB3aGF0IGlzIHVzZWQgZm9yIHByZXNjcmliaW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN1YnN0YW5jZVNwZWNpZmljYXRpb24gZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiU3Vic3RhbmNlU3BlY2lmaWNhdGlvblwiO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgYnkgd2hpY2ggdGhpcyBzdWJzdGFuY2UgaXMga25vd24uXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhpZ2ggbGV2ZWwgY2F0ZWdvcml6YXRpb24sIGUuZy4gcG9seW1lciBvciBudWNsZWljIGFjaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RhdHVzIG9mIHN1YnN0YW5jZSB3aXRoaW4gdGhlIGNhdGFsb2d1ZSBlLmcuIGFwcHJvdmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHN1YnN0YW5jZSBhcHBsaWVzIHRvIG9ubHkgaHVtYW4gb3IgdmV0ZXJpbmFyeSB1c2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRvbWFpbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0dWFsIGRlc2NyaXB0aW9uIG9mIHRoZSBzdWJzdGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdXBwb3J0aW5nIGxpdGVyYXR1cmUuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUZXh0dWFsIGNvbW1lbnQgYWJvdXQgdGhpcyByZWNvcmQgb2YgYSBzdWJzdGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW1lbnQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1vaWV0eSwgZm9yIHN0cnVjdHVyYWwgbW9kaWZpY2F0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgbW9pZXR5OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25Nb2lldHlbXTtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIHNwZWNpZmljYXRpb25zIGZvciB0aGlzIHN1YnN0YW5jZSwgaW5jbHVkaW5nIGhvdyBpdCBpcyByZWxhdGVkIHRvIG90aGVyIHN1YnN0YW5jZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHByb3BlcnR5OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25Qcm9wZXJ0eVtdO1xyXG4gIC8qKlxyXG4gICAqIEdlbmVyYWwgaW5mb3JtYXRpb24gZGV0YWlsaW5nIHRoaXMgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2VJbmZvcm1hdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdHJ1Y3R1cmFsIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdHJ1Y3R1cmU/OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvZGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25Db2RlW107XHJcbiAgLyoqXHJcbiAgICogTmFtZXMgYXBwbGljYWJsZSB0byB0aGlzIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZTogZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uTmFtZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtb2xlY3VsYXIgd2VpZ2h0IG9yIHdlaWdodCByYW5nZSAoZm9yIHByb3RlaW5zLCBwb2x5bWVycyBvciBudWNsZWljIGFjaWRzKS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9sZWN1bGFyV2VpZ2h0OiBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25TdHJ1Y3R1cmVJc290b3BlTW9sZWN1bGFyV2VpZ2h0W107XHJcbiAgLyoqXHJcbiAgICogQSBsaW5rIGJldHdlZW4gdGhpcyBzdWJzdGFuY2UgYW5kIGFub3RoZXIsIHdpdGggZGV0YWlscyBvZiB0aGUgcmVsYXRpb25zaGlwLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGlvbnNoaXA6IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblJlbGF0aW9uc2hpcFtdO1xyXG4gIC8qKlxyXG4gICAqIERhdGEgaXRlbXMgc3BlY2lmaWMgdG8gbnVjbGVpYyBhY2lkcy5cclxuICAgKi9cclxuICBwdWJsaWMgbnVjbGVpY0FjaWQ/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0YSBpdGVtcyBzcGVjaWZpYyB0byBwb2x5bWVycy5cclxuICAgKi9cclxuICBwdWJsaWMgcG9seW1lcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEYXRhIGl0ZW1zIHNwZWNpZmljIHRvIHByb3RlaW5zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm90ZWluPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIG9yIHRheG9ub21pYy9hbmF0b21pY2FsIHNvdXJjZSBmb3IgdGhlIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlTWF0ZXJpYWw/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3Vic3RhbmNlU3BlY2lmaWNhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFN1YnN0YW5jZVNwZWNpZmljYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnU3Vic3RhbmNlU3BlY2lmaWNhdGlvbic7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UuaWRlbnRpZmllcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9tYWluJ10pIHsgdGhpcy5kb21haW4gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmRvbWFpbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2UnXSkgeyB0aGlzLnNvdXJjZSA9IHNvdXJjZS5zb3VyY2UubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zb3VyY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tbWVudCddKSB7IHRoaXMuY29tbWVudCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29tbWVudH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29tbWVudCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvbW1lbnQpIHsgdGhpcy5jb21tZW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvbW1lbnQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb21tZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2NvbW1lbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21vaWV0eSddKSB7IHRoaXMubW9pZXR5ID0gc291cmNlLm1vaWV0eS5tYXAoKHgpID0+IG5ldyBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25Nb2lldHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb2lldHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvcGVydHknXSkgeyB0aGlzLnByb3BlcnR5ID0gc291cmNlLnByb3BlcnR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblByb3BlcnR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlSW5mb3JtYXRpb24nXSkgeyB0aGlzLnJlZmVyZW5jZUluZm9ybWF0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWZlcmVuY2VJbmZvcm1hdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0cnVjdHVyZSddKSB7IHRoaXMuc3RydWN0dXJlID0gbmV3IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvblN0cnVjdHVyZShzb3VyY2Uuc3RydWN0dXJlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IHNvdXJjZS5jb2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3Vic3RhbmNlU3BlY2lmaWNhdGlvbkNvZGUoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBzb3VyY2UubmFtZS5tYXAoKHgpID0+IG5ldyBmaGlyLlN1YnN0YW5jZVNwZWNpZmljYXRpb25OYW1lKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubmFtZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtb2xlY3VsYXJXZWlnaHQnXSkgeyB0aGlzLm1vbGVjdWxhcldlaWdodCA9IHNvdXJjZS5tb2xlY3VsYXJXZWlnaHQubWFwKCh4KSA9PiBuZXcgZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uU3RydWN0dXJlSXNvdG9wZU1vbGVjdWxhcldlaWdodCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vbGVjdWxhcldlaWdodCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGlvbnNoaXAnXSkgeyB0aGlzLnJlbGF0aW9uc2hpcCA9IHNvdXJjZS5yZWxhdGlvbnNoaXAubWFwKCh4KSA9PiBuZXcgZmhpci5TdWJzdGFuY2VTcGVjaWZpY2F0aW9uUmVsYXRpb25zaGlwKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVsYXRpb25zaGlwID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ251Y2xlaWNBY2lkJ10pIHsgdGhpcy5udWNsZWljQWNpZCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubnVjbGVpY0FjaWQpOyB9XHJcbiAgICBpZiAoc291cmNlWydwb2x5bWVyJ10pIHsgdGhpcy5wb2x5bWVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wb2x5bWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvdGVpbiddKSB7IHRoaXMucHJvdGVpbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucHJvdGVpbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZU1hdGVyaWFsJ10pIHsgdGhpcy5zb3VyY2VNYXRlcmlhbCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc291cmNlTWF0ZXJpYWwpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ1N1YnN0YW5jZVNwZWNpZmljYXRpb24nIH1cclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZSBmaGlyOiBTdWJzdGFuY2VTcGVjaWZpY2F0aW9uLnJlc291cmNlVHlwZTpcIlN1YnN0YW5jZVNwZWNpZmljYXRpb25cIicsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiaWRlbnRpZmllclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmlkZW50aWZpZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmlkZW50aWZpZXInKSk7IH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnR5cGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3RhdHVzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RhdHVzLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zdGF0dXMnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZG9tYWluXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZG9tYWluLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5kb21haW4nKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuZGVzY3JpcHRpb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1wic291cmNlXCJdKSB7IHRoaXMuc291cmNlLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5zb3VyY2VbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiY29tbWVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvbW1lbnQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmNvbW1lbnQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibW9pZXR5XCJdKSB7IHRoaXMubW9pZXR5LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5tb2lldHlbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicHJvcGVydHlcIl0pIHsgdGhpcy5wcm9wZXJ0eS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AucHJvcGVydHlbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicmVmZXJlbmNlSW5mb3JtYXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZWZlcmVuY2VJbmZvcm1hdGlvbi5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucmVmZXJlbmNlSW5mb3JtYXRpb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1wic3RydWN0dXJlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3RydWN0dXJlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zdHJ1Y3R1cmUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiY29kZVwiXSkgeyB0aGlzLmNvZGUuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLmNvZGVbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyB0aGlzLm5hbWUuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLm5hbWVbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wibW9sZWN1bGFyV2VpZ2h0XCJdKSB7IHRoaXMubW9sZWN1bGFyV2VpZ2h0LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5tb2xlY3VsYXJXZWlnaHRbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wicmVsYXRpb25zaGlwXCJdKSB7IHRoaXMucmVsYXRpb25zaGlwLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5yZWxhdGlvbnNoaXBbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wibnVjbGVpY0FjaWRcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5udWNsZWljQWNpZC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycubnVjbGVpY0FjaWQnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicG9seW1lclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBvbHltZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnBvbHltZXInKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHJvdGVpblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnByb3RlaW4uZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnByb3RlaW4nKSk7IH1cclxuICAgIGlmICh0aGlzW1wic291cmNlTWF0ZXJpYWxcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zb3VyY2VNYXRlcmlhbC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc291cmNlTWF0ZXJpYWwnKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==