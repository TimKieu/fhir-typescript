// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: NutritionOrder
import * as fhir from '../fhir.js';
// @ts-ignore
import { RequestStatusVsValidation } from '../fhirValueSets/RequestStatusVsValidation.js';
// @ts-ignore
import { RequestIntentVsValidation } from '../fhirValueSets/RequestIntentVsValidation.js';
/**
 * Class that defines the quantity and type of nutrient modifications (for example carbohydrate, fiber or sodium) required for the oral diet.
 */
export class NutritionOrderOralDietNutrient extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDietNutrient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['modifier']) {
            this.modifier = new fhir.CodeableConcept(source.modifier, options);
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet.nutrient';
        }
        iss.push(...this.vOS('modifier', exp));
        iss.push(...this.vOS('amount', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDietNutrient._fts_dataType = 'NutritionOrderOralDietNutrient';
/**
 * Class that describes any texture modifications required for the patient to safely consume various types of solid foods.
 */
export class NutritionOrderOralDietTexture extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDietTexture - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['modifier']) {
            this.modifier = new fhir.CodeableConcept(source.modifier, options);
        }
        if (source['foodType']) {
            this.foodType = new fhir.CodeableConcept(source.foodType, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet.texture';
        }
        iss.push(...this.vOS('modifier', exp));
        iss.push(...this.vOS('foodType', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDietTexture._fts_dataType = 'NutritionOrderOralDietTexture';
/**
 * Diet given orally in contrast to enteral (tube) feeding.
 */
export class NutritionOrderOralDiet extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDiet - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.type = [];
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.Timing(x, options));
        }
        else {
            this.schedule = [];
        }
        if (source['nutrient']) {
            this.nutrient = source.nutrient.map((x) => new fhir.NutritionOrderOralDietNutrient(x, options));
        }
        else {
            this.nutrient = [];
        }
        if (source['texture']) {
            this.texture = source.texture.map((x) => new fhir.NutritionOrderOralDietTexture(x, options));
        }
        else {
            this.texture = [];
        }
        if (source['fluidConsistencyType']) {
            this.fluidConsistencyType = source.fluidConsistencyType.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.fluidConsistencyType = [];
        }
        if (source['instruction'] !== undefined) {
            this.instruction = new fhir.FhirString({ value: source.instruction }, options);
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet';
        }
        iss.push(...this.vOA('type', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOA('nutrient', exp));
        iss.push(...this.vOA('texture', exp));
        iss.push(...this.vOA('fluidConsistencyType', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDiet._fts_dataType = 'NutritionOrderOralDiet';
/**
 * Oral nutritional products given in order to add further nutritional value to the patient's diet.
 */
export class NutritionOrderSupplement extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderSupplement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['productName'] !== undefined) {
            this.productName = new fhir.FhirString({ value: source.productName }, options);
        }
        if (source['_productName']) {
            if (this.productName) {
                this.productName.addExtendedProperties(source._productName);
            }
            else {
                this.productName = new fhir.FhirString(source._productName, options);
            }
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.Timing(x, options));
        }
        else {
            this.schedule = [];
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['instruction'] !== undefined) {
            this.instruction = new fhir.FhirString({ value: source.instruction }, options);
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.supplement';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('productName', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderSupplement._fts_dataType = 'NutritionOrderSupplement';
/**
 * See implementation notes below for further discussion on how to order continuous vs bolus enteral feeding using this resource.
 */
export class NutritionOrderEnteralFormulaAdministration extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderEnteralFormulaAdministration - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['schedule']) {
            this.schedule = new fhir.Timing(source.schedule, options);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateQuantity']) {
            this.rate = new fhir.Quantity(source.rateQuantity, options);
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.enteralFormula.administration';
        }
        iss.push(...this.vOS('schedule', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('rate', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderEnteralFormulaAdministration._fts_dataType = 'NutritionOrderEnteralFormulaAdministration';
/**
 * Internal flag to properly serialize choice-type element NutritionOrder.enteralFormula.administration.rate[x]
 */
NutritionOrderEnteralFormulaAdministration._fts_rateIsChoice = true;
/**
 * Feeding provided through the gastrointestinal tract via a tube, catheter, or stoma that delivers nutrition distal to the oral cavity.
 */
export class NutritionOrderEnteralFormula extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderEnteralFormula - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['baseFormulaType']) {
            this.baseFormulaType = new fhir.CodeableConcept(source.baseFormulaType, options);
        }
        if (source['baseFormulaProductName'] !== undefined) {
            this.baseFormulaProductName = new fhir.FhirString({ value: source.baseFormulaProductName }, options);
        }
        if (source['_baseFormulaProductName']) {
            if (this.baseFormulaProductName) {
                this.baseFormulaProductName.addExtendedProperties(source._baseFormulaProductName);
            }
            else {
                this.baseFormulaProductName = new fhir.FhirString(source._baseFormulaProductName, options);
            }
        }
        if (source['additiveType']) {
            this.additiveType = new fhir.CodeableConcept(source.additiveType, options);
        }
        if (source['additiveProductName'] !== undefined) {
            this.additiveProductName = new fhir.FhirString({ value: source.additiveProductName }, options);
        }
        if (source['_additiveProductName']) {
            if (this.additiveProductName) {
                this.additiveProductName.addExtendedProperties(source._additiveProductName);
            }
            else {
                this.additiveProductName = new fhir.FhirString(source._additiveProductName, options);
            }
        }
        if (source['caloricDensity']) {
            this.caloricDensity = new fhir.Quantity(source.caloricDensity, options);
        }
        if (source['routeofAdministration']) {
            this.routeofAdministration = new fhir.CodeableConcept(source.routeofAdministration, options);
        }
        if (source['administration']) {
            this.administration = source.administration.map((x) => new fhir.NutritionOrderEnteralFormulaAdministration(x, options));
        }
        else {
            this.administration = [];
        }
        if (source['maxVolumeToDeliver']) {
            this.maxVolumeToDeliver = new fhir.Quantity(source.maxVolumeToDeliver, options);
        }
        if (source['administrationInstruction'] !== undefined) {
            this.administrationInstruction = new fhir.FhirString({ value: source.administrationInstruction }, options);
        }
        if (source['_administrationInstruction']) {
            if (this.administrationInstruction) {
                this.administrationInstruction.addExtendedProperties(source._administrationInstruction);
            }
            else {
                this.administrationInstruction = new fhir.FhirString(source._administrationInstruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.enteralFormula';
        }
        iss.push(...this.vOS('baseFormulaType', exp));
        iss.push(...this.vOS('baseFormulaProductName', exp));
        iss.push(...this.vOS('additiveType', exp));
        iss.push(...this.vOS('additiveProductName', exp));
        iss.push(...this.vOS('caloricDensity', exp));
        iss.push(...this.vOS('routeofAdministration', exp));
        iss.push(...this.vOA('administration', exp));
        iss.push(...this.vOS('maxVolumeToDeliver', exp));
        iss.push(...this.vOS('administrationInstruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderEnteralFormula._fts_dataType = 'NutritionOrderEnteralFormula';
/**
 * A request to supply a diet, formula feeding (enteral) or oral nutritional supplement to a patient/resident.
 */
export class NutritionOrder extends fhir.DomainResource {
    /**
     * Default constructor for NutritionOrder - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'NutritionOrder';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['instantiatesCanonical'] !== undefined) {
            this.instantiatesCanonical = source.instantiatesCanonical.map((x) => new fhir.FhirCanonical({ value: x }, options));
        }
        else {
            this.instantiatesCanonical = [];
        }
        if (source['_instantiatesCanonical']) {
            source._instantiatesCanonical.forEach((x, i) => {
                if (this.instantiatesCanonical.length >= i) {
                    if (x) {
                        this.instantiatesCanonical[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.instantiatesCanonical.push(new fhir.FhirCanonical(x));
                    }
                }
            });
        }
        if (source['instantiatesUri'] !== undefined) {
            this.instantiatesUri = source.instantiatesUri.map((x) => new fhir.FhirUri({ value: x }, options));
        }
        else {
            this.instantiatesUri = [];
        }
        if (source['_instantiatesUri']) {
            source._instantiatesUri.forEach((x, i) => {
                if (this.instantiatesUri.length >= i) {
                    if (x) {
                        this.instantiatesUri[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.instantiatesUri.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['instantiates'] !== undefined) {
            this.instantiates = source.instantiates.map((x) => new fhir.FhirUri({ value: x }, options));
        }
        else {
            this.instantiates = [];
        }
        if (source['_instantiates']) {
            source._instantiates.forEach((x, i) => {
                if (this.instantiates.length >= i) {
                    if (x) {
                        this.instantiates[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.instantiates.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['intent'] !== undefined) {
            this.intent = new fhir.FhirCode({ value: source.intent }, options);
        }
        else {
            this.intent = null;
        }
        if (source['_intent']) {
            if (this.intent) {
                this.intent.addExtendedProperties(source._intent);
            }
            else {
                this.intent = new fhir.FhirCode(source._intent, options);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        else {
            this.patient = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter, options);
        }
        if (source['dateTime'] !== undefined) {
            this.dateTime = new fhir.FhirDateTime({ value: source.dateTime }, options);
        }
        else {
            this.dateTime = null;
        }
        if (source['_dateTime']) {
            if (this.dateTime) {
                this.dateTime.addExtendedProperties(source._dateTime);
            }
            else {
                this.dateTime = new fhir.FhirDateTime(source._dateTime, options);
            }
        }
        if (source['orderer']) {
            this.orderer = new fhir.Reference(source.orderer, options);
        }
        if (source['allergyIntolerance']) {
            this.allergyIntolerance = source.allergyIntolerance.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.allergyIntolerance = [];
        }
        if (source['foodPreferenceModifier']) {
            this.foodPreferenceModifier = source.foodPreferenceModifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.foodPreferenceModifier = [];
        }
        if (source['excludeFoodModifier']) {
            this.excludeFoodModifier = source.excludeFoodModifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.excludeFoodModifier = [];
        }
        if (source['oralDiet']) {
            this.oralDiet = new fhir.NutritionOrderOralDiet(source.oralDiet, options);
        }
        if (source['supplement']) {
            this.supplement = source.supplement.map((x) => new fhir.NutritionOrderSupplement(x, options));
        }
        else {
            this.supplement = [];
        }
        if (source['enteralFormula']) {
            this.enteralFormula = new fhir.NutritionOrderEnteralFormula(source.enteralFormula, options);
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x, options));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOA('instantiatesCanonical', exp));
        iss.push(...this.vOA('instantiatesUri', exp));
        iss.push(...this.vOA('instantiates', exp));
        iss.push(...this.vRSV('status', exp, 'RequestStatus', RequestStatusVsValidation, 'r'));
        iss.push(...this.vRSV('intent', exp, 'RequestIntent', RequestIntentVsValidation, 'r'));
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vRS('dateTime', exp));
        iss.push(...this.vOS('orderer', exp));
        iss.push(...this.vOA('allergyIntolerance', exp));
        iss.push(...this.vOA('foodPreferenceModifier', exp));
        iss.push(...this.vOA('excludeFoodModifier', exp));
        iss.push(...this.vOS('oralDiet', exp));
        iss.push(...this.vOA('supplement', exp));
        iss.push(...this.vOS('enteralFormula', exp));
        iss.push(...this.vOA('note', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrder._fts_dataType = 'NutritionOrder';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTnV0cml0aW9uT3JkZXIuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL051dHJpdGlvbk9yZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUVoQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQXdCbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLCtDQUErQyxDQUFDO0FBRzFGLGFBQWE7QUFDYixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQXVCMUY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sOEJBQStCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhdEU7O09BRUc7SUFDSCxZQUFZLFNBQXFELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzNHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDL0YsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7SUFDcEYsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLGtDQUFrQyxDQUFBO1NBQUU7UUFDNUQsR0FBRyxD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Q0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXZLRDs7R0FFRztBQUM2Qiw0QkFBYSxHQUFVLGdCQUFnQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBOdXRyaXRpb25PcmRlclxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTnV0cmllbnRDb2RlcywgIE51dHJpZW50Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL051dHJpZW50Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE51dHJpZW50VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9OdXRyaWVudFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTW9kaWZpZWRGb29kdHlwZUNvZGVzLCAgTW9kaWZpZWRGb29kdHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Nb2RpZmllZEZvb2R0eXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1vZGlmaWVkRm9vZHR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01vZGlmaWVkRm9vZHR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpZXRUeXBlQ29kZXMsICBEaWV0VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWV0VHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaWV0VHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGlldFR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVudGZvcm11bGFBZGRpdGl2ZUNvZGVzLCAgRW50Zm9ybXVsYUFkZGl0aXZlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VudGZvcm11bGFBZGRpdGl2ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbnRmb3JtdWxhQWRkaXRpdmVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VudGZvcm11bGFBZGRpdGl2ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW50ZXJhbFJvdXRlQ29kZXMsICBFbnRlcmFsUm91dGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW50ZXJhbFJvdXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVudGVyYWxSb3V0ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW50ZXJhbFJvdXRlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXF1ZXN0U3RhdHVzQ29kZXMsICBSZXF1ZXN0U3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcXVlc3RTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVxdWVzdFN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVxdWVzdFN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVxdWVzdEludGVudENvZGVzLCAgUmVxdWVzdEludGVudENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXF1ZXN0SW50ZW50Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlcXVlc3RJbnRlbnRWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcXVlc3RJbnRlbnRWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVuY291bnRlckRpZXRDb2RlcywgIEVuY291bnRlckRpZXRDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW5jb3VudGVyRGlldENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJEaWV0VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJEaWV0VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBGb29kVHlwZUNvZGVzLCAgRm9vZFR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRm9vZFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm9vZFR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Zvb2RUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyT3JhbERpZXROdXRyaWVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgbnV0cmllbnQgdGhhdCBpcyBiZWluZyBtb2RpZmllZCBzdWNoIGFzIGNhcmJvaHlkcmF0ZSBvciBzb2RpdW0uXHJcbiAgICovXHJcbiAgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG51dHJpZW50IHRvIGluY2x1ZGUgaW4gZGlldC5cclxuICAgKi9cclxuICBhbW91bnQ/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyB0aGF0IGRlZmluZXMgdGhlIHF1YW50aXR5IGFuZCB0eXBlIG9mIG51dHJpZW50IG1vZGlmaWNhdGlvbnMgKGZvciBleGFtcGxlIGNhcmJvaHlkcmF0ZSwgZmliZXIgb3Igc29kaXVtKSByZXF1aXJlZCBmb3IgdGhlIG9yYWwgZGlldC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnQnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudXRyaWVudCB0aGF0IGlzIGJlaW5nIG1vZGlmaWVkIHN1Y2ggYXMgY2FyYm9oeWRyYXRlIG9yIHNvZGl1bS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YW50aXR5IG9mIHRoZSBzcGVjaWZpZWQgbnV0cmllbnQgdG8gaW5jbHVkZSBpbiBkaWV0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbW91bnQ/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxOdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbW9kaWZpZXInXSkgeyB0aGlzLm1vZGlmaWVyID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tb2RpZmllciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Ftb3VudCddKSB7IHRoaXMuYW1vdW50ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmFtb3VudCwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdOdXRyaXRpb25PcmRlci5vcmFsRGlldC5udXRyaWVudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhbW91bnQnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQ291cGxlZCB3aXRoIHRoZSBmb29kVHlwZSAoTWVhdCkuXHJcbiAgICovXHJcbiAgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvdXBsZWQgd2l0aCB0aGUgYHRleHR1cmUubW9kaWZpZXJgOyBjb3VsZCBiZSAoQWxsIEZvb2RzKS5cclxuICAgKi9cclxuICBmb29kVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyB0aGF0IGRlc2NyaWJlcyBhbnkgdGV4dHVyZSBtb2RpZmljYXRpb25zIHJlcXVpcmVkIGZvciB0aGUgcGF0aWVudCB0byBzYWZlbHkgY29uc3VtZSB2YXJpb3VzIHR5cGVzIG9mIHNvbGlkIGZvb2RzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmUnO1xyXG4gIC8qKlxyXG4gICAqIENvdXBsZWQgd2l0aCB0aGUgZm9vZFR5cGUgKE1lYXQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RpZmllcj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb3VwbGVkIHdpdGggdGhlIGB0ZXh0dXJlLm1vZGlmaWVyYDsgY291bGQgYmUgKEFsbCBGb29kcykuXHJcbiAgICovXHJcbiAgcHVibGljIGZvb2RUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbW9kaWZpZXInXSkgeyB0aGlzLm1vZGlmaWVyID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tb2RpZmllciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Zvb2RUeXBlJ10pIHsgdGhpcy5mb29kVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZm9vZFR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIub3JhbERpZXQudGV4dHVyZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdmb29kVHlwZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXJPcmFsRGlldCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGtpbmQgb2YgZGlldCBvciBkaWV0YXJ5IHJlc3RyaWN0aW9uIHN1Y2ggYXMgZmliZXIgcmVzdHJpY3RlZCBkaWV0IG9yIGRpYWJldGljIGRpZXQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgZGlldCBzaG91bGQgYmUgZ2l2ZW4uICBUaGUgZGlldCBzaG91bGQgYmUgZ2l2ZW4gZm9yIHRoZSBjb21iaW5hdGlvbiBvZiBhbGwgc2NoZWR1bGVzIGlmIG1vcmUgdGhhbiBvbmUgc2NoZWR1bGUgaXMgcHJlc2VudC5cclxuICAgKi9cclxuICBzY2hlZHVsZT86IGZoaXIuVGltaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDbGFzcyB0aGF0IGRlZmluZXMgdGhlIHF1YW50aXR5IGFuZCB0eXBlIG9mIG51dHJpZW50IG1vZGlmaWNhdGlvbnMgKGZvciBleGFtcGxlIGNhcmJvaHlkcmF0ZSwgZmliZXIgb3Igc29kaXVtKSByZXF1aXJlZCBmb3IgdGhlIG9yYWwgZGlldC5cclxuICAgKi9cclxuICBudXRyaWVudD86IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDbGFzcyB0aGF0IGRlc2NyaWJlcyBhbnkgdGV4dHVyZSBtb2RpZmljYXRpb25zIHJlcXVpcmVkIGZvciB0aGUgcGF0aWVudCB0byBzYWZlbHkgY29uc3VtZSB2YXJpb3VzIHR5cGVzIG9mIHNvbGlkIGZvb2RzLlxyXG4gICAqL1xyXG4gIHRleHR1cmU/OiBmaGlyLk51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVxdWlyZWQgY29uc2lzdGVuY3kgKGUuZy4gaG9uZXktdGhpY2ssIG5lY3Rhci10aGljaywgdGhpbiwgdGhpY2tlbmVkLikgb2YgbGlxdWlkcyBvciBmbHVpZHMgc2VydmVkIHRvIHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIGZsdWlkQ29uc2lzdGVuY3lUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLlxyXG4gICAqL1xyXG4gIGluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLm9yYWxEaWV0Lmluc3RydWN0aW9uXHJcbiAgICovXHJcbiAgX2luc3RydWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIERpZXQgZ2l2ZW4gb3JhbGx5IGluIGNvbnRyYXN0IHRvIGVudGVyYWwgKHR1YmUpIGZlZWRpbmcuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJPcmFsRGlldCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ051dHJpdGlvbk9yZGVyT3JhbERpZXQnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIGRpZXQgb3IgZGlldGFyeSByZXN0cmljdGlvbiBzdWNoIGFzIGZpYmVyIHJlc3RyaWN0ZWQgZGlldCBvciBkaWFiZXRpYyBkaWV0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBhbmQgZnJlcXVlbmN5IGF0IHdoaWNoIHRoZSBkaWV0IHNob3VsZCBiZSBnaXZlbi4gIFRoZSBkaWV0IHNob3VsZCBiZSBnaXZlbiBmb3IgdGhlIGNvbWJpbmF0aW9uIG9mIGFsbCBzY2hlZHVsZXMgaWYgbW9yZSB0aGFuIG9uZSBzY2hlZHVsZSBpcyBwcmVzZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzY2hlZHVsZTogZmhpci5UaW1pbmdbXTtcclxuICAvKipcclxuICAgKiBDbGFzcyB0aGF0IGRlZmluZXMgdGhlIHF1YW50aXR5IGFuZCB0eXBlIG9mIG51dHJpZW50IG1vZGlmaWNhdGlvbnMgKGZvciBleGFtcGxlIGNhcmJvaHlkcmF0ZSwgZmliZXIgb3Igc29kaXVtKSByZXF1aXJlZCBmb3IgdGhlIG9yYWwgZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgbnV0cmllbnQ6IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50W107XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZXNjcmliZXMgYW55IHRleHR1cmUgbW9kaWZpY2F0aW9ucyByZXF1aXJlZCBmb3IgdGhlIHBhdGllbnQgdG8gc2FmZWx5IGNvbnN1bWUgdmFyaW91cyB0eXBlcyBvZiBzb2xpZCBmb29kcy5cclxuICAgKi9cclxuICBwdWJsaWMgdGV4dHVyZTogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXF1aXJlZCBjb25zaXN0ZW5jeSAoZS5nLiBob25leS10aGljaywgbmVjdGFyLXRoaWNrLCB0aGluLCB0aGlja2VuZWQuKSBvZiBsaXF1aWRzIG9yIGZsdWlkcyBzZXJ2ZWQgdG8gdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGZsdWlkQ29uc2lzdGVuY3lUeXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTnV0cml0aW9uT3JkZXJPcmFsRGlldCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyT3JhbERpZXRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IHNvdXJjZS50eXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzY2hlZHVsZSddKSB7IHRoaXMuc2NoZWR1bGUgPSBzb3VyY2Uuc2NoZWR1bGUubWFwKCh4KSA9PiBuZXcgZmhpci5UaW1pbmcoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zY2hlZHVsZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydudXRyaWVudCddKSB7IHRoaXMubnV0cmllbnQgPSBzb3VyY2UubnV0cmllbnQubWFwKCh4KSA9PiBuZXcgZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5udXRyaWVudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0ZXh0dXJlJ10pIHsgdGhpcy50ZXh0dXJlID0gc291cmNlLnRleHR1cmUubWFwKCh4KSA9PiBuZXcgZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRleHR1cmUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmx1aWRDb25zaXN0ZW5jeVR5cGUnXSkgeyB0aGlzLmZsdWlkQ29uc2lzdGVuY3lUeXBlID0gc291cmNlLmZsdWlkQ29uc2lzdGVuY3lUeXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZmx1aWRDb25zaXN0ZW5jeVR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5zdHJ1Y3Rpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuaW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmluc3RydWN0aW9ufSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbnN0cnVjdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmluc3RydWN0aW9uKSB7IHRoaXMuaW5zdHJ1Y3Rpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faW5zdHJ1Y3Rpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5pbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9pbnN0cnVjdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ051dHJpdGlvbk9yZGVyLm9yYWxEaWV0JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc2NoZWR1bGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ251dHJpZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd0ZXh0dXJlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdmbHVpZENvbnNpc3RlbmN5VHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaW5zdHJ1Y3Rpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyU3VwcGxlbWVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlclN1cHBsZW1lbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBudXRyaXRpb25hbCBzdXBwbGVtZW50IHByb2R1Y3QgcmVxdWlyZWQgc3VjaCBhcyBhIGhpZ2ggcHJvdGVpbiBvciBwZWRpYXRyaWMgY2xlYXIgbGlxdWlkIHN1cHBsZW1lbnQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3Qgb3IgYnJhbmQgbmFtZSBvZiB0aGUgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBzdWNoIGFzIFwiQWNtZSBQcm90ZWluIFNoYWtlXCIuXHJcbiAgICovXHJcbiAgcHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuc3VwcGxlbWVudC5wcm9kdWN0TmFtZVxyXG4gICAqL1xyXG4gIF9wcm9kdWN0TmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgcGVyaW9kIGFuZCBmcmVxdWVuY3kgYXQgd2hpY2ggdGhlIHN1cHBsZW1lbnQocykgc2hvdWxkIGJlIGdpdmVuLiAgVGhlIHN1cHBsZW1lbnQgc2hvdWxkIGJlIGdpdmVuIGZvciB0aGUgY29tYmluYXRpb24gb2YgYWxsIHNjaGVkdWxlcyBpZiBtb3JlIHRoYW4gb25lIHNjaGVkdWxlIGlzIHByZXNlbnQuXHJcbiAgICovXHJcbiAgc2NoZWR1bGU/OiBmaGlyLlRpbWluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiB0aGUgbnV0cml0aW9uYWwgc3VwcGxlbWVudCB0byBiZSBnaXZlbi5cclxuICAgKi9cclxuICBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBjYW4gYmUgdXNlZCBmb3IgY2FzZXMgd2hlcmUgdGhlIGluc3RydWN0aW9ucyBhcmUgdG9vIGNvbXBsZXggdG8gY29kZS5cclxuICAgKi9cclxuICBpbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5zdXBwbGVtZW50Lmluc3RydWN0aW9uXHJcbiAgICovXHJcbiAgX2luc3RydWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIE9yYWwgbnV0cml0aW9uYWwgcHJvZHVjdHMgZ2l2ZW4gaW4gb3JkZXIgdG8gYWRkIGZ1cnRoZXIgbnV0cml0aW9uYWwgdmFsdWUgdG8gdGhlIHBhdGllbnQncyBkaWV0LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51dHJpdGlvbk9yZGVyU3VwcGxlbWVudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ051dHJpdGlvbk9yZGVyU3VwcGxlbWVudCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGtpbmQgb2YgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBwcm9kdWN0IHJlcXVpcmVkIHN1Y2ggYXMgYSBoaWdoIHByb3RlaW4gb3IgcGVkaWF0cmljIGNsZWFyIGxpcXVpZCBzdXBwbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgc3VjaCBhcyBcIkFjbWUgUHJvdGVpbiBTaGFrZVwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgcGVyaW9kIGFuZCBmcmVxdWVuY3kgYXQgd2hpY2ggdGhlIHN1cHBsZW1lbnQocykgc2hvdWxkIGJlIGdpdmVuLiAgVGhlIHN1cHBsZW1lbnQgc2hvdWxkIGJlIGdpdmVuIGZvciB0aGUgY29tYmluYXRpb24gb2YgYWxsIHNjaGVkdWxlcyBpZiBtb3JlIHRoYW4gb25lIHNjaGVkdWxlIGlzIHByZXNlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHNjaGVkdWxlOiBmaGlyLlRpbWluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgdGhlIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgdG8gYmUgZ2l2ZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IGRvc2FnZSBpbnN0cnVjdGlvbnMgY2FuIGJlIHVzZWQgZm9yIGNhc2VzIHdoZXJlIHRoZSBpbnN0cnVjdGlvbnMgYXJlIHRvbyBjb21wbGV4IHRvIGNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlclN1cHBsZW1lbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxOdXRyaXRpb25PcmRlclN1cHBsZW1lbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3ROYW1lJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wcm9kdWN0TmFtZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJvZHVjdE5hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5wcm9kdWN0TmFtZSkgeyB0aGlzLnByb2R1Y3ROYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Byb2R1Y3ROYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcHJvZHVjdE5hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NjaGVkdWxlJ10pIHsgdGhpcy5zY2hlZHVsZSA9IHNvdXJjZS5zY2hlZHVsZS5tYXAoKHgpID0+IG5ldyBmaGlyLlRpbWluZyh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNjaGVkdWxlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10pIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5xdWFudGl0eSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3RydWN0aW9uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5pbnN0cnVjdGlvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW5zdHJ1Y3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5pbnN0cnVjdGlvbikgeyB0aGlzLmluc3RydWN0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2luc3RydWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5faW5zdHJ1Y3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdOdXRyaXRpb25PcmRlci5zdXBwbGVtZW50JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHJvZHVjdE5hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3NjaGVkdWxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdxdWFudGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaW5zdHJ1Y3Rpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgZW50ZXJhbCBmb3JtdWxhIHNob3VsZCBiZSBkZWxpdmVyZWQgdG8gdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgc2NoZWR1bGU/OiBmaGlyLlRpbWluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2b2x1bWUgb2YgZm9ybXVsYSB0byBwcm92aWRlIHRvIHRoZSBwYXRpZW50IHBlciB0aGUgc3BlY2lmaWVkIGFkbWluaXN0cmF0aW9uIHNjaGVkdWxlLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJhdGlvIGlzIHVzZWQgd2hlbiB0aGUgcXVhbnRpdHkgdmFsdWUgaW4gdGhlIGRlbm9taW5hdG9yIGlzIG5vdCBcIjFcIiwgb3RoZXJ3aXNlIHVzZSBRdWFudGl0eS4gRm9yIGV4YW1wbGUsIHRoZSBSYXRpbyBkYXRhdHlwZSBpcyB1c2VkIGZvciBcIjIwMCBtTC80IGhyc1wiIHZlcnN1cyB0aGUgUXVhbnRpdHkgZGF0YXR5cGUgZm9yIFwiNTAgbUwvaHJcIi5cclxuICAgKi9cclxuICByYXRlPzogZmhpci5RdWFudGl0eXxmaGlyLlJhdGlvfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSYXRpbyBpcyB1c2VkIHdoZW4gdGhlIHF1YW50aXR5IHZhbHVlIGluIHRoZSBkZW5vbWluYXRvciBpcyBub3QgXCIxXCIsIG90aGVyd2lzZSB1c2UgUXVhbnRpdHkuIEZvciBleGFtcGxlLCB0aGUgUmF0aW8gZGF0YXR5cGUgaXMgdXNlZCBmb3IgXCIyMDAgbUwvNCBocnNcIiB2ZXJzdXMgdGhlIFF1YW50aXR5IGRhdGF0eXBlIGZvciBcIjUwIG1ML2hyXCIuXHJcbiAgICovXHJcbiAgcmF0ZVF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJhdGlvIGlzIHVzZWQgd2hlbiB0aGUgcXVhbnRpdHkgdmFsdWUgaW4gdGhlIGRlbm9taW5hdG9yIGlzIG5vdCBcIjFcIiwgb3RoZXJ3aXNlIHVzZSBRdWFudGl0eS4gRm9yIGV4YW1wbGUsIHRoZSBSYXRpbyBkYXRhdHlwZSBpcyB1c2VkIGZvciBcIjIwMCBtTC80IGhyc1wiIHZlcnN1cyB0aGUgUXVhbnRpdHkgZGF0YXR5cGUgZm9yIFwiNTAgbUwvaHJcIi5cclxuICAgKi9cclxuICByYXRlUmF0aW8/OiBmaGlyLlJhdGlvQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZWUgaW1wbGVtZW50YXRpb24gbm90ZXMgYmVsb3cgZm9yIGZ1cnRoZXIgZGlzY3Vzc2lvbiBvbiBob3cgdG8gb3JkZXIgY29udGludW91cyB2cyBib2x1cyBlbnRlcmFsIGZlZWRpbmcgdXNpbmcgdGhpcyByZXNvdXJjZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBhbmQgZnJlcXVlbmN5IGF0IHdoaWNoIHRoZSBlbnRlcmFsIGZvcm11bGEgc2hvdWxkIGJlIGRlbGl2ZXJlZCB0byB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc2NoZWR1bGU/OiBmaGlyLlRpbWluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZvbHVtZSBvZiBmb3JtdWxhIHRvIHByb3ZpZGUgdG8gdGhlIHBhdGllbnQgcGVyIHRoZSBzcGVjaWZpZWQgYWRtaW5pc3RyYXRpb24gc2NoZWR1bGUuXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmF0aW8gaXMgdXNlZCB3aGVuIHRoZSBxdWFudGl0eSB2YWx1ZSBpbiB0aGUgZGVub21pbmF0b3IgaXMgbm90IFwiMVwiLCBvdGhlcndpc2UgdXNlIFF1YW50aXR5LiBGb3IgZXhhbXBsZSwgdGhlIFJhdGlvIGRhdGF0eXBlIGlzIHVzZWQgZm9yIFwiMjAwIG1MLzQgaHJzXCIgdmVyc3VzIHRoZSBRdWFudGl0eSBkYXRhdHlwZSBmb3IgXCI1MCBtTC9oclwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByYXRlPzogKGZoaXIuUXVhbnRpdHl8Zmhpci5SYXRpbyl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYWRtaW5pc3RyYXRpb24ucmF0ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19yYXRlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NjaGVkdWxlJ10pIHsgdGhpcy5zY2hlZHVsZSA9IG5ldyBmaGlyLlRpbWluZyhzb3VyY2Uuc2NoZWR1bGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UucXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyYXRlJ10pIHsgdGhpcy5yYXRlID0gc291cmNlLnJhdGU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVF1YW50aXR5J10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnJhdGVRdWFudGl0eSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVJhdGlvJ10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUmF0aW8oc291cmNlLnJhdGVSYXRpbywgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdOdXRyaXRpb25PcmRlci5lbnRlcmFsRm9ybXVsYS5hZG1pbmlzdHJhdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NjaGVkdWxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdxdWFudGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmF0ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZW50ZXJhbCBvciBpbmZhbnQgZm9ybXVsYSBzdWNoIGFzIGFuIGFkdWx0IHN0YW5kYXJkIGZvcm11bGEgd2l0aCBmaWJlciBvciBhIHNveS1iYXNlZCBpbmZhbnQgZm9ybXVsYS5cclxuICAgKi9cclxuICBiYXNlRm9ybXVsYVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIGVudGVyYWwgb3IgaW5mYW50IGZvcm11bGEgcHJvZHVjdCBzdWNoIGFzIFwiQUNNRSBBZHVsdCBTdGFuZGFyZCBGb3JtdWxhXCIuXHJcbiAgICovXHJcbiAgYmFzZUZvcm11bGFQcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5lbnRlcmFsRm9ybXVsYS5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lXHJcbiAgICovXHJcbiAgX2Jhc2VGb3JtdWxhUHJvZHVjdE5hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgdHlwZSBvZiBtb2R1bGFyIGNvbXBvbmVudCBzdWNoIGFzIHByb3RlaW4sIGNhcmJvaHlkcmF0ZSwgZmF0IG9yIGZpYmVyIHRvIGJlIHByb3ZpZGVkIGluIGFkZGl0aW9uIHRvIG9yIG1peGVkIHdpdGggdGhlIGJhc2UgZm9ybXVsYS5cclxuICAgKi9cclxuICBhZGRpdGl2ZVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIHR5cGUgb2YgbW9kdWxhciBjb21wb25lbnQgdG8gYmUgYWRkZWQgdG8gdGhlIGZvcm11bGEuXHJcbiAgICovXHJcbiAgYWRkaXRpdmVQcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5lbnRlcmFsRm9ybXVsYS5hZGRpdGl2ZVByb2R1Y3ROYW1lXHJcbiAgICovXHJcbiAgX2FkZGl0aXZlUHJvZHVjdE5hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgZW5lcmd5IChjYWxvcmllcykgdGhhdCB0aGUgZm9ybXVsYSBzaG91bGQgcHJvdmlkZSBwZXIgc3BlY2lmaWVkIHZvbHVtZSwgdHlwaWNhbGx5IHBlciBtTCBvciBmbHVpZCBvei4gIEZvciBleGFtcGxlLCBhbiBpbmZhbnQgbWF5IHJlcXVpcmUgYSBmb3JtdWxhIHRoYXQgcHJvdmlkZXMgMjQgY2Fsb3JpZXMgcGVyIGZsdWlkIG91bmNlIG9yIGFuIGFkdWx0IG1heSByZXF1aXJlIGFuIGVudGVyYWwgZm9ybXVsYSB0aGF0IHByb3ZpZGVzIDEuNSBjYWxvcmllL21MLlxyXG4gICAqL1xyXG4gIGNhbG9yaWNEZW5zaXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByb3V0ZSBvciBwaHlzaW9sb2dpY2FsIHBhdGggb2YgYWRtaW5pc3RyYXRpb24gaW50byB0aGUgcGF0aWVudCdzIGdhc3Ryb2ludGVzdGluYWwgIHRyYWN0IGZvciBwdXJwb3NlcyBvZiBwcm92aWRpbmcgdGhlIGZvcm11bGEgZmVlZGluZywgZS5nLiBuYXNvZ2FzdHJpYyB0dWJlLlxyXG4gICAqL1xyXG4gIHJvdXRlb2ZBZG1pbmlzdHJhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2VlIGltcGxlbWVudGF0aW9uIG5vdGVzIGJlbG93IGZvciBmdXJ0aGVyIGRpc2N1c3Npb24gb24gaG93IHRvIG9yZGVyIGNvbnRpbnVvdXMgdnMgYm9sdXMgZW50ZXJhbCBmZWVkaW5nIHVzaW5nIHRoaXMgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgYWRtaW5pc3RyYXRpb24/OiBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gdG90YWwgcXVhbnRpdHkgb2YgZm9ybXVsYSB0aGF0IG1heSBiZSBhZG1pbmlzdGVyZWQgdG8gYSBzdWJqZWN0IG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lLCBlLmcuIDE0NDAgbUwgb3ZlciAyNCBob3Vycy5cclxuICAgKi9cclxuICBtYXhWb2x1bWVUb0RlbGl2ZXI/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IGRvc2FnZSBpbnN0cnVjdGlvbnMgY2FuIGJlIHVzZWQgZm9yIGNhc2VzIHdoZXJlIHRoZSBpbnN0cnVjdGlvbnMgYXJlIHRvbyBjb21wbGV4IHRvIGNvZGUuXHJcbiAgICovXHJcbiAgYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5lbnRlcmFsRm9ybXVsYS5hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uXHJcbiAgICovXHJcbiAgX2FkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogRmVlZGluZyBwcm92aWRlZCB0aHJvdWdoIHRoZSBnYXN0cm9pbnRlc3RpbmFsIHRyYWN0IHZpYSBhIHR1YmUsIGNhdGhldGVyLCBvciBzdG9tYSB0aGF0IGRlbGl2ZXJzIG51dHJpdGlvbiBkaXN0YWwgdG8gdGhlIG9yYWwgY2F2aXR5LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGEgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhJztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBlbnRlcmFsIG9yIGluZmFudCBmb3JtdWxhIHN1Y2ggYXMgYW4gYWR1bHQgc3RhbmRhcmQgZm9ybXVsYSB3aXRoIGZpYmVyIG9yIGEgc295LWJhc2VkIGluZmFudCBmb3JtdWxhLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBiYXNlRm9ybXVsYVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3Qgb3IgYnJhbmQgbmFtZSBvZiB0aGUgZW50ZXJhbCBvciBpbmZhbnQgZm9ybXVsYSBwcm9kdWN0IHN1Y2ggYXMgXCJBQ01FIEFkdWx0IFN0YW5kYXJkIEZvcm11bGFcIi5cclxuICAgKi9cclxuICBwdWJsaWMgYmFzZUZvcm11bGFQcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSB0eXBlIG9mIG1vZHVsYXIgY29tcG9uZW50IHN1Y2ggYXMgcHJvdGVpbiwgY2FyYm9oeWRyYXRlLCBmYXQgb3IgZmliZXIgdG8gYmUgcHJvdmlkZWQgaW4gYWRkaXRpb24gdG8gb3IgbWl4ZWQgd2l0aCB0aGUgYmFzZSBmb3JtdWxhLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRpdGl2ZVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3Qgb3IgYnJhbmQgbmFtZSBvZiB0aGUgdHlwZSBvZiBtb2R1bGFyIGNvbXBvbmVudCB0byBiZSBhZGRlZCB0byB0aGUgZm9ybXVsYS5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkaXRpdmVQcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiBlbmVyZ3kgKGNhbG9yaWVzKSB0aGF0IHRoZSBmb3JtdWxhIHNob3VsZCBwcm92aWRlIHBlciBzcGVjaWZpZWQgdm9sdW1lLCB0eXBpY2FsbHkgcGVyIG1MIG9yIGZsdWlkIG96LiAgRm9yIGV4YW1wbGUsIGFuIGluZmFudCBtYXkgcmVxdWlyZSBhIGZvcm11bGEgdGhhdCBwcm92aWRlcyAyNCBjYWxvcmllcyBwZXIgZmx1aWQgb3VuY2Ugb3IgYW4gYWR1bHQgbWF5IHJlcXVpcmUgYW4gZW50ZXJhbCBmb3JtdWxhIHRoYXQgcHJvdmlkZXMgMS41IGNhbG9yaWUvbUwuXHJcbiAgICovXHJcbiAgcHVibGljIGNhbG9yaWNEZW5zaXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJvdXRlIG9yIHBoeXNpb2xvZ2ljYWwgcGF0aCBvZiBhZG1pbmlzdHJhdGlvbiBpbnRvIHRoZSBwYXRpZW50J3MgZ2FzdHJvaW50ZXN0aW5hbCAgdHJhY3QgZm9yIHB1cnBvc2VzIG9mIHByb3ZpZGluZyB0aGUgZm9ybXVsYSBmZWVkaW5nLCBlLmcuIG5hc29nYXN0cmljIHR1YmUuXHJcbiAgICovXHJcbiAgcHVibGljIHJvdXRlb2ZBZG1pbmlzdHJhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTZWUgaW1wbGVtZW50YXRpb24gbm90ZXMgYmVsb3cgZm9yIGZ1cnRoZXIgZGlzY3Vzc2lvbiBvbiBob3cgdG8gb3JkZXIgY29udGludW91cyB2cyBib2x1cyBlbnRlcmFsIGZlZWRpbmcgdXNpbmcgdGhpcyByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWRtaW5pc3RyYXRpb246IGZoaXIuTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gdG90YWwgcXVhbnRpdHkgb2YgZm9ybXVsYSB0aGF0IG1heSBiZSBhZG1pbmlzdGVyZWQgdG8gYSBzdWJqZWN0IG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lLCBlLmcuIDE0NDAgbUwgb3ZlciAyNCBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4Vm9sdW1lVG9EZWxpdmVyPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IGRvc2FnZSBpbnN0cnVjdGlvbnMgY2FuIGJlIHVzZWQgZm9yIGNhc2VzIHdoZXJlIHRoZSBpbnN0cnVjdGlvbnMgYXJlIHRvbyBjb21wbGV4IHRvIGNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGEgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2Jhc2VGb3JtdWxhVHlwZSddKSB7IHRoaXMuYmFzZUZvcm11bGFUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5iYXNlRm9ybXVsYVR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydiYXNlRm9ybXVsYVByb2R1Y3ROYW1lJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmJhc2VGb3JtdWxhUHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmJhc2VGb3JtdWxhUHJvZHVjdE5hbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Jhc2VGb3JtdWxhUHJvZHVjdE5hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lKSB7IHRoaXMuYmFzZUZvcm11bGFQcm9kdWN0TmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9iYXNlRm9ybXVsYVByb2R1Y3ROYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYmFzZUZvcm11bGFQcm9kdWN0TmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9iYXNlRm9ybXVsYVByb2R1Y3ROYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhZGRpdGl2ZVR5cGUnXSkgeyB0aGlzLmFkZGl0aXZlVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYWRkaXRpdmVUeXBlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkaXRpdmVQcm9kdWN0TmFtZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5hZGRpdGl2ZVByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hZGRpdGl2ZVByb2R1Y3ROYW1lfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hZGRpdGl2ZVByb2R1Y3ROYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWRkaXRpdmVQcm9kdWN0TmFtZSkgeyB0aGlzLmFkZGl0aXZlUHJvZHVjdE5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWRkaXRpdmVQcm9kdWN0TmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFkZGl0aXZlUHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYWRkaXRpdmVQcm9kdWN0TmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2Fsb3JpY0RlbnNpdHknXSkgeyB0aGlzLmNhbG9yaWNEZW5zaXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmNhbG9yaWNEZW5zaXR5LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm91dGVvZkFkbWluaXN0cmF0aW9uJ10pIHsgdGhpcy5yb3V0ZW9mQWRtaW5pc3RyYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJvdXRlb2ZBZG1pbmlzdHJhdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkbWluaXN0cmF0aW9uJ10pIHsgdGhpcy5hZG1pbmlzdHJhdGlvbiA9IHNvdXJjZS5hZG1pbmlzdHJhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFkbWluaXN0cmF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21heFZvbHVtZVRvRGVsaXZlciddKSB7IHRoaXMubWF4Vm9sdW1lVG9EZWxpdmVyID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm1heFZvbHVtZVRvRGVsaXZlciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24pIHsgdGhpcy5hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2FkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdOdXRyaXRpb25PcmRlci5lbnRlcmFsRm9ybXVsYScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Jhc2VGb3JtdWxhVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYmFzZUZvcm11bGFQcm9kdWN0TmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRkaXRpdmVUeXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhZGRpdGl2ZVByb2R1Y3ROYW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjYWxvcmljRGVuc2l0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncm91dGVvZkFkbWluaXN0cmF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdhZG1pbmlzdHJhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF4Vm9sdW1lVG9EZWxpdmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlciB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlckFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIk51dHJpdGlvbk9yZGVyXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBJZGVudGlmaWVyLnR5cGUgZWxlbWVudCBjYW4gYmUgdG8gaW5kaWNhdGUgZmlsbGVyIHZzLiBwbGFjZXIgaWYgbmVlZGVkLiAgVGhpcyBpcyBleHBsYWluZWQgaW4gZnVydGhlciBkZXRhaWwgW2hlcmVdKHNlcnZpY2VyZXF1ZXN0Lmh0bWwjbm90ZXMpLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGU6IFRoaXMgaXMgYSBidXNpbmVzcyBpZGVudGlmaWVyLCBub3QgYSByZXNvdXJjZSBpZGVudGlmaWVyIChzZWUgW2Rpc2N1c3Npb25dKHJlc291cmNlLmh0bWwjaWRlbnRpZmllcnMpKS4gIEl0IGlzIGJlc3QgcHJhY3RpY2UgZm9yIHRoZSBpZGVudGlmaWVyIHRvIG9ubHkgYXBwZWFyIG9uIGEgc2luZ2xlIHJlc291cmNlIGluc3RhbmNlLCBob3dldmVyIGJ1c2luZXNzIHByYWN0aWNlcyBtYXkgb2NjYXNpb25hbGx5IGRpY3RhdGUgdGhhdCBtdWx0aXBsZSByZXNvdXJjZSBpbnN0YW5jZXMgd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyIGNhbiBleGlzdCAtIHBvc3NpYmx5IGV2ZW4gd2l0aCBkaWZmZXJlbnQgcmVzb3VyY2UgdHlwZXMuICBGb3IgZXhhbXBsZSwgbXVsdGlwbGUgUGF0aWVudCBhbmQgYSBQZXJzb24gcmVzb3VyY2UgaW5zdGFuY2UgbWlnaHQgc2hhcmUgdGhlIHNhbWUgc29jaWFsIGluc3VyYW5jZSBudW1iZXIuXHJcbiAgICovXHJcbiAgaW5zdGFudGlhdGVzQ2Fub25pY2FsPzogZmhpci5GaGlyQ2Fub25pY2FsW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuaW5zdGFudGlhdGVzQ2Fub25pY2FsXHJcbiAgICovXHJcbiAgX2luc3RhbnRpYXRlc0Nhbm9uaWNhbD86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBtaWdodCBiZSBhbiBIVE1MIHBhZ2UsIFBERiwgZXRjLiBvciBjb3VsZCBqdXN0IGJlIGEgbm9uLXJlc29sdmFibGUgVVJJIGlkZW50aWZpZXIuXHJcbiAgICovXHJcbiAgaW5zdGFudGlhdGVzVXJpPzogZmhpci5GaGlyVXJpW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuaW5zdGFudGlhdGVzVXJpXHJcbiAgICovXHJcbiAgX2luc3RhbnRpYXRlc1VyaT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogVGhlIFVSTCBwb2ludGluZyB0byBhIHByb3RvY29sLCBndWlkZWxpbmUsIG9yZGVyc2V0IG9yIG90aGVyIGRlZmluaXRpb24gdGhhdCBpcyBhZGhlcmVkIHRvIGluIHdob2xlIG9yIGluIHBhcnQgYnkgdGhpcyBOdXRyaXRpb25PcmRlci5cclxuICAgKi9cclxuICBpbnN0YW50aWF0ZXM/OiBmaGlyLkZoaXJVcmlbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5pbnN0YW50aWF0ZXNcclxuICAgKi9cclxuICBfaW5zdGFudGlhdGVzPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHkgdGhlIHN5c3RlbSBwbGFjaW5nIHRoZSBvcmRlciBzZXRzIHRoZSBzdGF0dXMgdG8gXCJyZXF1ZXN0ZWRcIi4gVGhlcmVhZnRlciwgdGhlIG9yZGVyIGlzIG1haW50YWluZWQgYnkgdGhlIHJlY2VpdmVyIHRoYXQgdXBkYXRlcyB0aGUgc3RhdHVzIGFzIHRoZSByZXF1ZXN0IGlzIGhhbmRsZWQuICBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPFJlcXVlc3RTdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hlbiByZXNvdXJjZXMgbWFwIHRvIHRoaXMgZWxlbWVudCwgdGhleSBhcmUgZnJlZSB0byBkZWZpbmUgYXMgbWFueSBjb2RlcyBhcyBuZWNlc3NhcnkgdG8gY292ZXIgdGhlaXIgc3BhY2UgYW5kIHdpbGwgbWFwIHRvIFwicHJvcG9zYWwsIHBsYW4gb3Igb3JkZXJcIi4gIENhbiBoYXZlIG11bHRpcGxlIGNvZGVzIHRoYXQgbWFwIHRvIG9uZSBvZiB0aGVzZS4gIEUuZy4gXCJvcmlnaW5hbCBvcmRlclwiLCBcImVuY29kZWQgb3JkZXJcIiwgXCJyZWZsZXggb3JkZXJcIiB3b3VsZCBhbGwgbWFwIHRvIFwib3JkZXJcIi4gIEV4cGVjdGF0aW9uIGlzIHRoYXQgdGhlIHNldCBvZiBjb2RlcyBpcyBtdXR1YWxseSBleGNsdXNpdmUgb3IgYSBzdHJpY3QgYWxsLWVuY29tcGFzc2luZyBoaWVyYXJjaHkuXHJcbiAgICovXHJcbiAgaW50ZW50OiBmaGlyLkZoaXJDb2RlPFJlcXVlc3RJbnRlbnRDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuaW50ZW50XHJcbiAgICovXHJcbiAgX2ludGVudD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiAocGF0aWVudCkgd2hvIG5lZWRzIHRoZSBudXRyaXRpb24gb3JkZXIgZm9yIGFuIG9yYWwgZGlldCwgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBhbmQvb3IgZW50ZXJhbCBvciBmb3JtdWxhIGZlZWRpbmcuXHJcbiAgICovXHJcbiAgcGF0aWVudDogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQW4gZW5jb3VudGVyIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGVhbHRoY2FyZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVxdWVzdCBpcyBtYWRlLlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYW5kIHRpbWUgdGhhdCB0aGlzIG51dHJpdGlvbiBvcmRlciB3YXMgcmVxdWVzdGVkLlxyXG4gICAqL1xyXG4gIGRhdGVUaW1lOiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5kYXRlVGltZVxyXG4gICAqL1xyXG4gIF9kYXRlVGltZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByYWN0aXRpb25lciB0aGF0IGhvbGRzIGxlZ2FsIHJlc3BvbnNpYmlsaXR5IGZvciBvcmRlcmluZyB0aGUgZGlldCwgbnV0cml0aW9uYWwgc3VwcGxlbWVudCwgb3IgZm9ybXVsYSBmZWVkaW5ncy5cclxuICAgKi9cclxuICBvcmRlcmVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBvbiBhIHBhdGllbnQncyBmb29kIGFsbGVyZ2llcyBhbmQgaW50b2xlcmFuY2VzIHRvIGluZm9ybSBoZWFsdGhjYXJlIHBlcnNvbm5lbCBhYm91dCB0aGUgdHlwZSBvZiBmb29kcyB0aGF0IHRoZSBwYXRpZW50IHNob3VsZG4ndCByZWNlaXZlIG9yIGNvbnN1bWUuXHJcbiAgICovXHJcbiAgYWxsZXJneUludG9sZXJhbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgcHJlZmVyZW5jZXMgdGhhdCBpbmZvcm0gaGVhbHRoY2FyZSBwZXJzb25uZWwgYWJvdXQgdGhlIGZvb2QgdGhhdCB0aGUgcGF0aWVudCBzaG91bGQgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIGZvb2RQcmVmZXJlbmNlTW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gYSBwYXRpZW50J3MgZm9vZCBhbGxlcmdpZXMsIGludG9sZXJhbmNlcyBhbmQgcHJlZmVyZW5jZXMgdG8gaW5mb3JtIGhlYWx0aGNhcmUgcGVyc29ubmVsIGFib3V0IHRoZSB0eXBlICBvZiBmb29kcyB0aGF0IHRoZSBwYXRpZW50IHNob3VsZG4ndCByZWNlaXZlIG9yIGNvbnN1bWUuXHJcbiAgICovXHJcbiAgZXhjbHVkZUZvb2RNb2RpZmllcj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEaWV0IGdpdmVuIG9yYWxseSBpbiBjb250cmFzdCB0byBlbnRlcmFsICh0dWJlKSBmZWVkaW5nLlxyXG4gICAqL1xyXG4gIG9yYWxEaWV0PzogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3JhbCBudXRyaXRpb25hbCBwcm9kdWN0cyBnaXZlbiBpbiBvcmRlciB0byBhZGQgZnVydGhlciBudXRyaXRpb25hbCB2YWx1ZSB0byB0aGUgcGF0aWVudCdzIGRpZXQuXHJcbiAgICovXHJcbiAgc3VwcGxlbWVudD86IGZoaXIuTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGZWVkaW5nIHByb3ZpZGVkIHRocm91Z2ggdGhlIGdhc3Ryb2ludGVzdGluYWwgdHJhY3QgdmlhIGEgdHViZSwgY2F0aGV0ZXIsIG9yIHN0b21hIHRoYXQgZGVsaXZlcnMgbnV0cml0aW9uIGRpc3RhbCB0byB0aGUgb3JhbCBjYXZpdHkuXHJcbiAgICovXHJcbiAgZW50ZXJhbEZvcm11bGE/OiBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgU0hBTEwgTk9UIGJlIHVzZWQgdG8gc3VwcGx5IGZyZWUgdGV4dCBpbnN0cnVjdGlvbnMgZm9yIHRoZSBkaWV0IHdoaWNoIGFyZSByZXByZXNlbnRlZCBpbiB0aGUgYC5vcmFsRGlldC5pbnN0cnVjdGlvbmAsIGBzdXBwbGVtZW50Lmluc3RydWN0aW9uYCwgb3IgYGVudGVyYWxGb3JtdWxhLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb25gIGVsZW1lbnRzLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkFubm90YXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSByZXF1ZXN0IHRvIHN1cHBseSBhIGRpZXQsIGZvcm11bGEgZmVlZGluZyAoZW50ZXJhbCkgb3Igb3JhbCBudXRyaXRpb25hbCBzdXBwbGVtZW50IHRvIGEgcGF0aWVudC9yZXNpZGVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlciBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXInO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiTnV0cml0aW9uT3JkZXJcIjtcclxuICAvKipcclxuICAgKiBUaGUgSWRlbnRpZmllci50eXBlIGVsZW1lbnQgY2FuIGJlIHRvIGluZGljYXRlIGZpbGxlciB2cy4gcGxhY2VyIGlmIG5lZWRlZC4gIFRoaXMgaXMgZXhwbGFpbmVkIGluIGZ1cnRoZXIgZGV0YWlsIFtoZXJlXShzZXJ2aWNlcmVxdWVzdC5odG1sI25vdGVzKS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogTm90ZTogVGhpcyBpcyBhIGJ1c2luZXNzIGlkZW50aWZpZXIsIG5vdCBhIHJlc291cmNlIGlkZW50aWZpZXIgKHNlZSBbZGlzY3Vzc2lvbl0ocmVzb3VyY2UuaHRtbCNpZGVudGlmaWVycykpLiAgSXQgaXMgYmVzdCBwcmFjdGljZSBmb3IgdGhlIGlkZW50aWZpZXIgdG8gb25seSBhcHBlYXIgb24gYSBzaW5nbGUgcmVzb3VyY2UgaW5zdGFuY2UsIGhvd2V2ZXIgYnVzaW5lc3MgcHJhY3RpY2VzIG1heSBvY2Nhc2lvbmFsbHkgZGljdGF0ZSB0aGF0IG11bHRpcGxlIHJlc291cmNlIGluc3RhbmNlcyB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgY2FuIGV4aXN0IC0gcG9zc2libHkgZXZlbiB3aXRoIGRpZmZlcmVudCByZXNvdXJjZSB0eXBlcy4gIEZvciBleGFtcGxlLCBtdWx0aXBsZSBQYXRpZW50IGFuZCBhIFBlcnNvbiByZXNvdXJjZSBpbnN0YW5jZSBtaWdodCBzaGFyZSB0aGUgc2FtZSBzb2NpYWwgaW5zdXJhbmNlIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdGFudGlhdGVzQ2Fub25pY2FsOiBmaGlyLkZoaXJDYW5vbmljYWxbXTtcclxuICAvKipcclxuICAgKiBUaGlzIG1pZ2h0IGJlIGFuIEhUTUwgcGFnZSwgUERGLCBldGMuIG9yIGNvdWxkIGp1c3QgYmUgYSBub24tcmVzb2x2YWJsZSBVUkkgaWRlbnRpZmllci5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdGFudGlhdGVzVXJpOiBmaGlyLkZoaXJVcmlbXTtcclxuICAvKipcclxuICAgKiBUaGUgVVJMIHBvaW50aW5nIHRvIGEgcHJvdG9jb2wsIGd1aWRlbGluZSwgb3JkZXJzZXQgb3Igb3RoZXIgZGVmaW5pdGlvbiB0aGF0IGlzIGFkaGVyZWQgdG8gaW4gd2hvbGUgb3IgaW4gcGFydCBieSB0aGlzIE51dHJpdGlvbk9yZGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnN0YW50aWF0ZXM6IGZoaXIuRmhpclVyaVtdO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSB0aGUgc3lzdGVtIHBsYWNpbmcgdGhlIG9yZGVyIHNldHMgdGhlIHN0YXR1cyB0byBcInJlcXVlc3RlZFwiLiBUaGVyZWFmdGVyLCB0aGUgb3JkZXIgaXMgbWFpbnRhaW5lZCBieSB0aGUgcmVjZWl2ZXIgdGhhdCB1cGRhdGVzIHRoZSBzdGF0dXMgYXMgdGhlIHJlcXVlc3QgaXMgaGFuZGxlZC4gIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPFJlcXVlc3RTdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBXaGVuIHJlc291cmNlcyBtYXAgdG8gdGhpcyBlbGVtZW50LCB0aGV5IGFyZSBmcmVlIHRvIGRlZmluZSBhcyBtYW55IGNvZGVzIGFzIG5lY2Vzc2FyeSB0byBjb3ZlciB0aGVpciBzcGFjZSBhbmQgd2lsbCBtYXAgdG8gXCJwcm9wb3NhbCwgcGxhbiBvciBvcmRlclwiLiAgQ2FuIGhhdmUgbXVsdGlwbGUgY29kZXMgdGhhdCBtYXAgdG8gb25lIG9mIHRoZXNlLiAgRS5nLiBcIm9yaWdpbmFsIG9yZGVyXCIsIFwiZW5jb2RlZCBvcmRlclwiLCBcInJlZmxleCBvcmRlclwiIHdvdWxkIGFsbCBtYXAgdG8gXCJvcmRlclwiLiAgRXhwZWN0YXRpb24gaXMgdGhhdCB0aGUgc2V0IG9mIGNvZGVzIGlzIG11dHVhbGx5IGV4Y2x1c2l2ZSBvciBhIHN0cmljdCBhbGwtZW5jb21wYXNzaW5nIGhpZXJhcmNoeS5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZW50OiBmaGlyLkZoaXJDb2RlPFJlcXVlc3RJbnRlbnRDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyc29uIChwYXRpZW50KSB3aG8gbmVlZHMgdGhlIG51dHJpdGlvbiBvcmRlciBmb3IgYW4gb3JhbCBkaWV0LCBudXRyaXRpb25hbCBzdXBwbGVtZW50IGFuZC9vciBlbnRlcmFsIG9yIGZvcm11bGEgZmVlZGluZy5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0aWVudDogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBBbiBlbmNvdW50ZXIgdGhhdCBwcm92aWRlcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoZWFsdGhjYXJlIGNvbnRleHQgaW4gd2hpY2ggdGhpcyByZXF1ZXN0IGlzIG1hZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhbmQgdGltZSB0aGF0IHRoaXMgbnV0cml0aW9uIG9yZGVyIHdhcyByZXF1ZXN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGVUaW1lOiBmaGlyLkZoaXJEYXRlVGltZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmFjdGl0aW9uZXIgdGhhdCBob2xkcyBsZWdhbCByZXNwb25zaWJpbGl0eSBmb3Igb3JkZXJpbmcgdGhlIGRpZXQsIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQsIG9yIGZvcm11bGEgZmVlZGluZ3MuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZGVyZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gYSBwYXRpZW50J3MgZm9vZCBhbGxlcmdpZXMgYW5kIGludG9sZXJhbmNlcyB0byBpbmZvcm0gaGVhbHRoY2FyZSBwZXJzb25uZWwgYWJvdXQgdGhlIHR5cGUgb2YgZm9vZHMgdGhhdCB0aGUgcGF0aWVudCBzaG91bGRuJ3QgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbGxlcmd5SW50b2xlcmFuY2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gYSBwYXRpZW50J3MgZm9vZCBwcmVmZXJlbmNlcyB0aGF0IGluZm9ybSBoZWFsdGhjYXJlIHBlcnNvbm5lbCBhYm91dCB0aGUgZm9vZCB0aGF0IHRoZSBwYXRpZW50IHNob3VsZCByZWNlaXZlIG9yIGNvbnN1bWUuXHJcbiAgICovXHJcbiAgcHVibGljIGZvb2RQcmVmZXJlbmNlTW9kaWZpZXI6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gYSBwYXRpZW50J3MgZm9vZCBhbGxlcmdpZXMsIGludG9sZXJhbmNlcyBhbmQgcHJlZmVyZW5jZXMgdG8gaW5mb3JtIGhlYWx0aGNhcmUgcGVyc29ubmVsIGFib3V0IHRoZSB0eXBlICBvZiBmb29kcyB0aGF0IHRoZSBwYXRpZW50IHNob3VsZG4ndCByZWNlaXZlIG9yIGNvbnN1bWUuXHJcbiAgICovXHJcbiAgcHVibGljIGV4Y2x1ZGVGb29kTW9kaWZpZXI6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGlldCBnaXZlbiBvcmFsbHkgaW4gY29udHJhc3QgdG8gZW50ZXJhbCAodHViZSkgZmVlZGluZy5cclxuICAgKi9cclxuICBwdWJsaWMgb3JhbERpZXQ/OiBmaGlyLk51dHJpdGlvbk9yZGVyT3JhbERpZXR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9yYWwgbnV0cml0aW9uYWwgcHJvZHVjdHMgZ2l2ZW4gaW4gb3JkZXIgdG8gYWRkIGZ1cnRoZXIgbnV0cml0aW9uYWwgdmFsdWUgdG8gdGhlIHBhdGllbnQncyBkaWV0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdXBwbGVtZW50OiBmaGlyLk51dHJpdGlvbk9yZGVyU3VwcGxlbWVudFtdO1xyXG4gIC8qKlxyXG4gICAqIEZlZWRpbmcgcHJvdmlkZWQgdGhyb3VnaCB0aGUgZ2FzdHJvaW50ZXN0aW5hbCB0cmFjdCB2aWEgYSB0dWJlLCBjYXRoZXRlciwgb3Igc3RvbWEgdGhhdCBkZWxpdmVycyBudXRyaXRpb24gZGlzdGFsIHRvIHRoZSBvcmFsIGNhdml0eS5cclxuICAgKi9cclxuICBwdWJsaWMgZW50ZXJhbEZvcm11bGE/OiBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGF8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBTSEFMTCBOT1QgYmUgdXNlZCB0byBzdXBwbHkgZnJlZSB0ZXh0IGluc3RydWN0aW9ucyBmb3IgdGhlIGRpZXQgd2hpY2ggYXJlIHJlcHJlc2VudGVkIGluIHRoZSBgLm9yYWxEaWV0Lmluc3RydWN0aW9uYCwgYHN1cHBsZW1lbnQuaW5zdHJ1Y3Rpb25gLCBvciBgZW50ZXJhbEZvcm11bGEuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbmAgZWxlbWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU6IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnTnV0cml0aW9uT3JkZXInO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5zdGFudGlhdGVzQ2Fub25pY2FsJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmluc3RhbnRpYXRlc0Nhbm9uaWNhbCA9IHNvdXJjZS5pbnN0YW50aWF0ZXNDYW5vbmljYWwubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHt2YWx1ZTogeH0sIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW5zdGFudGlhdGVzQ2Fub25pY2FsID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbnN0YW50aWF0ZXNDYW5vbmljYWwnXSkge1xyXG4gICAgICBzb3VyY2UuX2luc3RhbnRpYXRlc0Nhbm9uaWNhbC5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW50aWF0ZXNDYW5vbmljYWwubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5pbnN0YW50aWF0ZXNDYW5vbmljYWxbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5pbnN0YW50aWF0ZXNDYW5vbmljYWwucHVzaChuZXcgZmhpci5GaGlyQ2Fub25pY2FsKHggYXMgUGFydGlhbDxmaGlyLkZoaXJDYW5vbmljYWxBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpbnN0YW50aWF0ZXNVcmknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuaW5zdGFudGlhdGVzVXJpID0gc291cmNlLmluc3RhbnRpYXRlc1VyaS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiB4fSwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnN0YW50aWF0ZXNVcmkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2luc3RhbnRpYXRlc1VyaSddKSB7XHJcbiAgICAgIHNvdXJjZS5faW5zdGFudGlhdGVzVXJpLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbnRpYXRlc1VyaS5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLmluc3RhbnRpYXRlc1VyaVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLmluc3RhbnRpYXRlc1VyaS5wdXNoKG5ldyBmaGlyLkZoaXJVcmkoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3RhbnRpYXRlcyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5pbnN0YW50aWF0ZXMgPSBzb3VyY2UuaW5zdGFudGlhdGVzLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHh9LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluc3RhbnRpYXRlcyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW5zdGFudGlhdGVzJ10pIHtcclxuICAgICAgc291cmNlLl9pbnN0YW50aWF0ZXMuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFudGlhdGVzLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuaW5zdGFudGlhdGVzW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuaW5zdGFudGlhdGVzLnB1c2gobmV3IGZoaXIuRmhpclVyaSh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlcXVlc3RTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8UmVxdWVzdFN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW50ZW50J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmludGVudCA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlcXVlc3RJbnRlbnRDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuaW50ZW50fSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmludGVudCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbnRlbnQnXSkge1xyXG4gICAgICBpZiAodGhpcy5pbnRlbnQpIHsgdGhpcy5pbnRlbnQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faW50ZW50ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaW50ZW50ID0gbmV3IGZoaXIuRmhpckNvZGU8UmVxdWVzdEludGVudENvZGVUeXBlPihzb3VyY2UuX2ludGVudCBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aWVudCddKSB7IHRoaXMucGF0aWVudCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGF0aWVudCwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhdGllbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydlbmNvdW50ZXInXSkgeyB0aGlzLmVuY291bnRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZW5jb3VudGVyLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZVRpbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZVRpbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGF0ZVRpbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGF0ZVRpbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlVGltZSkgeyB0aGlzLmRhdGVUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RhdGVUaW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvcmRlcmVyJ10pIHsgdGhpcy5vcmRlcmVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vcmRlcmVyLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWxsZXJneUludG9sZXJhbmNlJ10pIHsgdGhpcy5hbGxlcmd5SW50b2xlcmFuY2UgPSBzb3VyY2UuYWxsZXJneUludG9sZXJhbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWxsZXJneUludG9sZXJhbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Zvb2RQcmVmZXJlbmNlTW9kaWZpZXInXSkgeyB0aGlzLmZvb2RQcmVmZXJlbmNlTW9kaWZpZXIgPSBzb3VyY2UuZm9vZFByZWZlcmVuY2VNb2RpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZvb2RQcmVmZXJlbmNlTW9kaWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhjbHVkZUZvb2RNb2RpZmllciddKSB7IHRoaXMuZXhjbHVkZUZvb2RNb2RpZmllciA9IHNvdXJjZS5leGNsdWRlRm9vZE1vZGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXhjbHVkZUZvb2RNb2RpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmFsRGlldCddKSB7IHRoaXMub3JhbERpZXQgPSBuZXcgZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0KHNvdXJjZS5vcmFsRGlldCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1cHBsZW1lbnQnXSkgeyB0aGlzLnN1cHBsZW1lbnQgPSBzb3VyY2Uuc3VwcGxlbWVudC5tYXAoKHgpID0+IG5ldyBmaGlyLk51dHJpdGlvbk9yZGVyU3VwcGxlbWVudCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1cHBsZW1lbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW50ZXJhbEZvcm11bGEnXSkgeyB0aGlzLmVudGVyYWxGb3JtdWxhID0gbmV3IGZoaXIuTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYShzb3VyY2UuZW50ZXJhbEZvcm11bGEsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RlJ10pIHsgdGhpcy5ub3RlID0gc291cmNlLm5vdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Bbm5vdGF0aW9uKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubm90ZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXInIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpbnN0YW50aWF0ZXNDYW5vbmljYWwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2luc3RhbnRpYXRlc1VyaScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaW5zdGFudGlhdGVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVignc3RhdHVzJyxleHAsJ1JlcXVlc3RTdGF0dXMnLFJlcXVlc3RTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ2ludGVudCcsZXhwLCdSZXF1ZXN0SW50ZW50JyxSZXF1ZXN0SW50ZW50VnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3BhdGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2VuY291bnRlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnZGF0ZVRpbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ29yZGVyZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2FsbGVyZ3lJbnRvbGVyYW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZm9vZFByZWZlcmVuY2VNb2RpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZXhjbHVkZUZvb2RNb2RpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JhbERpZXQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3N1cHBsZW1lbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2VudGVyYWxGb3JtdWxhJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdub3RlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==