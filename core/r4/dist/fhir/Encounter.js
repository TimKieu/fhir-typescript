// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Encounter
import * as fhir from '../fhir.js';
// @ts-ignore
import { EncounterStatusCodings, } from '../fhirValueSets/EncounterStatusCodings.js';
// @ts-ignore
import { V3ActEncounterCodeCodings, } from '../fhirValueSets/V3ActEncounterCodeCodings.js';
// @ts-ignore
import { EncounterParticipantTypeCodings, } from '../fhirValueSets/EncounterParticipantTypeCodings.js';
// @ts-ignore
import { DiagnosisRoleCodings, } from '../fhirValueSets/DiagnosisRoleCodings.js';
// @ts-ignore
import { EncounterAdmitSourceCodings, } from '../fhirValueSets/EncounterAdmitSourceCodings.js';
// @ts-ignore
import { EncounterSpecialCourtesyCodings, } from '../fhirValueSets/EncounterSpecialCourtesyCodings.js';
// @ts-ignore
import { EncounterSpecialArrangementsCodings, } from '../fhirValueSets/EncounterSpecialArrangementsCodings.js';
// @ts-ignore
import { EncounterLocationStatusCodings, } from '../fhirValueSets/EncounterLocationStatusCodings.js';
// @ts-ignore
import { EncounterReasonCodings, } from '../fhirValueSets/EncounterReasonCodings.js';
/**
 * The current status is always found in the current version of the resource, not the status history.
 */
export class EncounterStatusHistory extends fhir.BackboneElement {
    /**
     * Default constructor for EncounterStatusHistory - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['status']) {
            this.status = source.status;
        }
        else {
            this.status = null;
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        else {
            this.period = null;
        }
    }
    /**
     * Required-bound Value Set for status (Encounter.statusHistory.status)
     */
    static statusRequiredCoding() {
        return EncounterStatusCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:EncounterStatusCodeType fhir: Encounter.statusHistory.status:code', });
        }
        if (!this['period']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property period:fhir.Period fhir: Encounter.statusHistory.period:Period', });
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EncounterStatusHistory._fts_dataType = 'EncounterStatusHistory';
/**
 * The class history permits the tracking of the encounters transitions without needing to go  through the resource history.  This would be used for a case where an admission starts of as an emergency encounter, then transitions into an inpatient scenario. Doing this and not restarting a new encounter ensures that any lab/diagnostic results can more easily follow the patient and not require re-processing and not get lost or cancelled during a kind of discharge from emergency to inpatient.
 */
export class EncounterClassHistory extends fhir.BackboneElement {
    /**
     * Default constructor for EncounterClassHistory - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['class']) {
            this.class = new fhir.Coding(source.class);
        }
        else {
            this.class = null;
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        else {
            this.period = null;
        }
    }
    /**
     * Extensible-bound Value Set for class (Encounter.classHistory.class)
     */
    static classExtensibleCoding() {
        return V3ActEncounterCodeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['class']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property class:fhir.Coding fhir: Encounter.classHistory.class:Coding', });
        }
        if (this["class"]) {
            issues.push(...this.class.doModelValidation());
        }
        if (!this['period']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property period:fhir.Period fhir: Encounter.classHistory.period:Period', });
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EncounterClassHistory._fts_dataType = 'EncounterClassHistory';
/**
 * The list of people responsible for providing the service.
 */
export class EncounterParticipant extends fhir.BackboneElement {
    /**
     * Default constructor for EncounterParticipant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        if (source['individual']) {
            this.individual = new fhir.Reference(source.individual);
        }
    }
    /**
     * Extensible-bound Value Set for type (Encounter.participant.type)
     */
    static typeExtensibleCoding() {
        return EncounterParticipantTypeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            this.type.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        if (this["individual"]) {
            issues.push(...this.individual.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EncounterParticipant._fts_dataType = 'EncounterParticipant';
/**
 * The list of diagnosis relevant to this encounter.
 */
export class EncounterDiagnosis extends fhir.BackboneElement {
    /**
     * Default constructor for EncounterDiagnosis - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['condition']) {
            this.condition = new fhir.Reference(source.condition);
        }
        else {
            this.condition = null;
        }
        if (source['use']) {
            this.use = new fhir.CodeableConcept(source.use);
        }
        if (source['rank']) {
            this.rank = new fhir.FhirPositiveInt({ value: source.rank });
        }
    }
    /**
     * Preferred-bound Value Set for use (Encounter.diagnosis.use)
     */
    static usePreferredCoding() {
        return DiagnosisRoleCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['condition']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property condition:fhir.Reference fhir: Encounter.diagnosis.condition:Reference', });
        }
        if (this["condition"]) {
            issues.push(...this.condition.doModelValidation());
        }
        if (this["use"]) {
            issues.push(...this.use.doModelValidation());
        }
        if (this["rank"]) {
            issues.push(...this.rank.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EncounterDiagnosis._fts_dataType = 'EncounterDiagnosis';
/**
 * An Encounter may cover more than just the inpatient stay. Contexts such as outpatients, community clinics, and aged care facilities are also included.
 * The duration recorded in the period of this encounter covers the entire scope of this hospitalization record.
 */
export class EncounterHospitalization extends fhir.BackboneElement {
    /**
     * Default constructor for EncounterHospitalization - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['preAdmissionIdentifier']) {
            this.preAdmissionIdentifier = new fhir.Identifier(source.preAdmissionIdentifier);
        }
        if (source['origin']) {
            this.origin = new fhir.Reference(source.origin);
        }
        if (source['admitSource']) {
            this.admitSource = new fhir.CodeableConcept(source.admitSource);
        }
        if (source['reAdmission']) {
            this.reAdmission = new fhir.CodeableConcept(source.reAdmission);
        }
        if (source['dietPreference']) {
            this.dietPreference = source.dietPreference.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.dietPreference = [];
        }
        if (source['specialCourtesy']) {
            this.specialCourtesy = source.specialCourtesy.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.specialCourtesy = [];
        }
        if (source['specialArrangement']) {
            this.specialArrangement = source.specialArrangement.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.specialArrangement = [];
        }
        if (source['destination']) {
            this.destination = new fhir.Reference(source.destination);
        }
        if (source['dischargeDisposition']) {
            this.dischargeDisposition = new fhir.CodeableConcept(source.dischargeDisposition);
        }
    }
    /**
     * Preferred-bound Value Set for admitSource (Encounter.hospitalization.admitSource)
     */
    static admitSourcePreferredCoding() {
        return EncounterAdmitSourceCodings;
    }
    /**
     * Preferred-bound Value Set for specialCourtesy (Encounter.hospitalization.specialCourtesy)
     */
    static specialCourtesyPreferredCoding() {
        return EncounterSpecialCourtesyCodings;
    }
    /**
     * Preferred-bound Value Set for specialArrangement (Encounter.hospitalization.specialArrangement)
     */
    static specialArrangementPreferredCoding() {
        return EncounterSpecialArrangementsCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["preAdmissionIdentifier"]) {
            issues.push(...this.preAdmissionIdentifier.doModelValidation());
        }
        if (this["origin"]) {
            issues.push(...this.origin.doModelValidation());
        }
        if (this["admitSource"]) {
            issues.push(...this.admitSource.doModelValidation());
        }
        if (this["reAdmission"]) {
            issues.push(...this.reAdmission.doModelValidation());
        }
        if (this["dietPreference"]) {
            this.dietPreference.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["specialCourtesy"]) {
            this.specialCourtesy.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["specialArrangement"]) {
            this.specialArrangement.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["destination"]) {
            issues.push(...this.destination.doModelValidation());
        }
        if (this["dischargeDisposition"]) {
            issues.push(...this.dischargeDisposition.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EncounterHospitalization._fts_dataType = 'EncounterHospitalization';
/**
 * Virtual encounters can be recorded in the Encounter by specifying a location reference to a location of type "kind" such as "client's home" and an encounter.class = "virtual".
 */
export class EncounterLocation extends fhir.BackboneElement {
    /**
     * Default constructor for EncounterLocation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        else {
            this.location = null;
        }
        if (source['status']) {
            this.status = source.status;
        }
        if (source['physicalType']) {
            this.physicalType = new fhir.CodeableConcept(source.physicalType);
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
    }
    /**
     * Required-bound Value Set for status (Encounter.location.status)
     */
    static statusRequiredCoding() {
        return EncounterLocationStatusCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['location']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property location:fhir.Reference fhir: Encounter.location.location:Reference', });
        }
        if (this["location"]) {
            issues.push(...this.location.doModelValidation());
        }
        if (this["physicalType"]) {
            issues.push(...this.physicalType.doModelValidation());
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EncounterLocation._fts_dataType = 'EncounterLocation';
/**
 * An interaction between a patient and healthcare provider(s) for the purpose of providing healthcare service(s) or assessing the health status of a patient.
 */
export class Encounter extends fhir.DomainResource {
    /**
     * Default constructor for Encounter - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Encounter';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = source.status;
        }
        else {
            this.status = null;
        }
        if (source['statusHistory']) {
            this.statusHistory = source.statusHistory.map((x) => new fhir.EncounterStatusHistory(x));
        }
        else {
            this.statusHistory = [];
        }
        if (source['class']) {
            this.class = new fhir.Coding(source.class);
        }
        else {
            this.class = null;
        }
        if (source['classHistory']) {
            this.classHistory = source.classHistory.map((x) => new fhir.EncounterClassHistory(x));
        }
        else {
            this.classHistory = [];
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['serviceType']) {
            this.serviceType = new fhir.CodeableConcept(source.serviceType);
        }
        if (source['priority']) {
            this.priority = new fhir.CodeableConcept(source.priority);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['episodeOfCare']) {
            this.episodeOfCare = source.episodeOfCare.map((x) => new fhir.Reference(x));
        }
        else {
            this.episodeOfCare = [];
        }
        if (source['basedOn']) {
            this.basedOn = source.basedOn.map((x) => new fhir.Reference(x));
        }
        else {
            this.basedOn = [];
        }
        if (source['participant']) {
            this.participant = source.participant.map((x) => new fhir.EncounterParticipant(x));
        }
        else {
            this.participant = [];
        }
        if (source['appointment']) {
            this.appointment = source.appointment.map((x) => new fhir.Reference(x));
        }
        else {
            this.appointment = [];
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        if (source['length']) {
            this.length = new fhir.Duration(source.length);
        }
        if (source['reasonCode']) {
            this.reasonCode = source.reasonCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reasonCode = [];
        }
        if (source['reasonReference']) {
            this.reasonReference = source.reasonReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.reasonReference = [];
        }
        if (source['diagnosis']) {
            this.diagnosis = source.diagnosis.map((x) => new fhir.EncounterDiagnosis(x));
        }
        else {
            this.diagnosis = [];
        }
        if (source['account']) {
            this.account = source.account.map((x) => new fhir.Reference(x));
        }
        else {
            this.account = [];
        }
        if (source['hospitalization']) {
            this.hospitalization = new fhir.EncounterHospitalization(source.hospitalization);
        }
        if (source['location']) {
            this.location = source.location.map((x) => new fhir.EncounterLocation(x));
        }
        else {
            this.location = [];
        }
        if (source['serviceProvider']) {
            this.serviceProvider = new fhir.Reference(source.serviceProvider);
        }
        if (source['partOf']) {
            this.partOf = new fhir.Reference(source.partOf);
        }
    }
    /**
     * Required-bound Value Set for status (Encounter.status)
     */
    static statusRequiredCoding() {
        return EncounterStatusCodings;
    }
    /**
     * Extensible-bound Value Set for class (Encounter.class)
     */
    static classExtensibleCoding() {
        return V3ActEncounterCodeCodings;
    }
    /**
     * Preferred-bound Value Set for reasonCode (Encounter.reasonCode)
     */
    static reasonCodePreferredCoding() {
        return EncounterReasonCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"Encounter" fhir: Encounter.resourceType:"Encounter"', });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:EncounterStatusCodeType fhir: Encounter.status:code', });
        }
        if (this["statusHistory"]) {
            this.statusHistory.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['class']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property class:fhir.Coding fhir: Encounter.class:Coding', });
        }
        if (this["class"]) {
            issues.push(...this.class.doModelValidation());
        }
        if (this["classHistory"]) {
            this.classHistory.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["type"]) {
            this.type.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["serviceType"]) {
            issues.push(...this.serviceType.doModelValidation());
        }
        if (this["priority"]) {
            issues.push(...this.priority.doModelValidation());
        }
        if (this["subject"]) {
            issues.push(...this.subject.doModelValidation());
        }
        if (this["episodeOfCare"]) {
            this.episodeOfCare.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["basedOn"]) {
            this.basedOn.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["participant"]) {
            this.participant.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["appointment"]) {
            this.appointment.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        if (this["length"]) {
            issues.push(...this.length.doModelValidation());
        }
        if (this["reasonCode"]) {
            this.reasonCode.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["reasonReference"]) {
            this.reasonReference.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["diagnosis"]) {
            this.diagnosis.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["account"]) {
            this.account.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["hospitalization"]) {
            issues.push(...this.hospitalization.doModelValidation());
        }
        if (this["location"]) {
            this.location.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["serviceProvider"]) {
            issues.push(...this.serviceProvider.doModelValidation());
        }
        if (this["partOf"]) {
            issues.push(...this.partOf.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Encounter._fts_dataType = 'Encounter';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5jb3VudGVyLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9FbmNvdW50ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsMkJBQTJCO0FBRTNCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBRW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsc0JBQXNCLEdBQTZCLE1BQU0sNENBQTRDLENBQUM7QUFHL0csYUFBYTtBQUNiLE9BQU8sRUFBRSx5QkFBeUIsR0FBZ0MsTUFBTSwrQ0FBK0MsQ0FBQztBQUd4SCxhQUFhO0FBQ2IsT0FBTyxFQUFFLCtCQUErQixHQUFzQyxNQUFNLHFEQUFxRCxDQUFDO0FBRzFJLGFBQWE7QUFDYixPQUFPLEVBQUUsb0JBQW9CLEdBQTJCLE1BQU0sMENBQTBDLENBQUM7QUFHekcsYUFBYTtBQUNiLE9BQU8sRUFBRSwyQkFBMkIsR0FBa0MsTUFBTSxpREFBaUQsQ0FBQztBQVc5SCxhQUFhO0FBQ2IsT0FBTyxFQUFFLCtCQUErQixHQUFzQyxNQUFNLHFEQUFxRCxDQUFDO0FBRzFJLGFBQWE7QUFDYixPQUFPLEVBQUUsbUNBQW1DLEdBQTBDLE1BQU0seURBQXlELENBQUM7QUFPdEosYUFBYTtBQUNiLE9BQU8sRUFBRSw4QkFBOEIsR0FBcUMsTUFBTSxvREFBb0QsQ0FBQztBQW1CdkksYUFBYTtBQUNiLE9BQU8sRUFBRSxzQkFBc0IsR0FBNkIsTUFBTSw0Q0FBNEMsQ0FBQztBQWlCL0c7O0dBRUc7QUFDSCxNQUFNLE9BQU8sc0JBQXVCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhOUQ7O09BRUc7SUFDSCxZQUFZLFNBQTZDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ25HLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMs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LENBQUMsZUFBZSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztTQUFFO1FBQzFGLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1NBQUU7UUFDeEUsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUExTUQ7O0dBRUc7QUFDNkIsdUJBQWEsR0FBVSxXQUFXLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjQuY29yZSB2ZXJzaW9uOiA0LjAuMVxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IEVuY291bnRlclxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyU3RhdHVzQ29kaW5ncywgRW5jb3VudGVyU3RhdHVzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW5jb3VudGVyU3RhdHVzQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyU3RhdHVzQ29kZXMsICBFbmNvdW50ZXJTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW5jb3VudGVyU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzQWN0RW5jb3VudGVyQ29kZUNvZGluZ3MsIFYzQWN0RW5jb3VudGVyQ29kZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzQWN0RW5jb3VudGVyQ29kZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzQWN0RW5jb3VudGVyQ29kZUNvZGVzLCAgVjNBY3RFbmNvdW50ZXJDb2RlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzQWN0RW5jb3VudGVyQ29kZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RpbmdzLCBFbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2RlcywgIEVuY291bnRlclBhcnRpY2lwYW50VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJQYXJ0aWNpcGFudFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGlhZ25vc2lzUm9sZUNvZGluZ3MsIERpYWdub3Npc1JvbGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWFnbm9zaXNSb2xlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGlhZ25vc2lzUm9sZUNvZGVzLCAgRGlhZ25vc2lzUm9sZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWFnbm9zaXNSb2xlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVuY291bnRlckFkbWl0U291cmNlQ29kaW5ncywgRW5jb3VudGVyQWRtaXRTb3VyY2VDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJBZG1pdFNvdXJjZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVuY291bnRlckFkbWl0U291cmNlQ29kZXMsICBFbmNvdW50ZXJBZG1pdFNvdXJjZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJBZG1pdFNvdXJjZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWMjAwOTJDb2RpbmdzLCBWMjAwOTJDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WMjAwOTJDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWMjAwOTJDb2RlcywgIFYyMDA5MkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WMjAwOTJDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyRGlldENvZGluZ3MsIEVuY291bnRlckRpZXRDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJEaWV0Q29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyRGlldENvZGVzLCAgRW5jb3VudGVyRGlldENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJEaWV0Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVuY291bnRlclNwZWNpYWxDb3VydGVzeUNvZGluZ3MsIEVuY291bnRlclNwZWNpYWxDb3VydGVzeUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VuY291bnRlclNwZWNpYWxDb3VydGVzeUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVuY291bnRlclNwZWNpYWxDb3VydGVzeUNvZGVzLCAgRW5jb3VudGVyU3BlY2lhbENvdXJ0ZXN5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VuY291bnRlclNwZWNpYWxDb3VydGVzeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJTcGVjaWFsQXJyYW5nZW1lbnRzQ29kaW5ncywgRW5jb3VudGVyU3BlY2lhbEFycmFuZ2VtZW50c0NvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VuY291bnRlclNwZWNpYWxBcnJhbmdlbWVudHNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJTcGVjaWFsQXJyYW5nZW1lbnRzQ29kZXMsICBFbmNvdW50ZXJTcGVjaWFsQXJyYW5nZW1lbnRzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VuY291bnRlclNwZWNpYWxBcnJhbmdlbWVudHNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyRGlzY2hhcmdlRGlzcG9zaXRpb25Db2RpbmdzLCBFbmNvdW50ZXJEaXNjaGFyZ2VEaXNwb3NpdGlvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VuY291bnRlckRpc2NoYXJnZURpc3Bvc2l0aW9uQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyRGlzY2hhcmdlRGlzcG9zaXRpb25Db2RlcywgIEVuY291bnRlckRpc2NoYXJnZURpc3Bvc2l0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VuY291bnRlckRpc2NoYXJnZURpc3Bvc2l0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVuY291bnRlckxvY2F0aW9uU3RhdHVzQ29kaW5ncywgRW5jb3VudGVyTG9jYXRpb25TdGF0dXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJMb2NhdGlvblN0YXR1c0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVuY291bnRlckxvY2F0aW9uU3RhdHVzQ29kZXMsICBFbmNvdW50ZXJMb2NhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJMb2NhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMb2NhdGlvblBoeXNpY2FsVHlwZUNvZGluZ3MsIExvY2F0aW9uUGh5c2ljYWxUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTG9jYXRpb25QaHlzaWNhbFR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMb2NhdGlvblBoeXNpY2FsVHlwZUNvZGVzLCAgTG9jYXRpb25QaHlzaWNhbFR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTG9jYXRpb25QaHlzaWNhbFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyVHlwZUNvZGluZ3MsIEVuY291bnRlclR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyVHlwZUNvZGVzLCAgRW5jb3VudGVyVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbmNvdW50ZXJUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VUeXBlQ29kaW5ncywgU2VydmljZVR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZXJ2aWNlVHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VUeXBlQ29kZXMsICBTZXJ2aWNlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZXJ2aWNlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM0FjdFByaW9yaXR5Q29kaW5ncywgVjNBY3RQcmlvcml0eUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzQWN0UHJpb3JpdHlDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM0FjdFByaW9yaXR5Q29kZXMsICBWM0FjdFByaW9yaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzQWN0UHJpb3JpdHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyUmVhc29uQ29kaW5ncywgRW5jb3VudGVyUmVhc29uQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW5jb3VudGVyUmVhc29uQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyUmVhc29uQ29kZXMsICBFbmNvdW50ZXJSZWFzb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW5jb3VudGVyUmVhc29uQ29kZXMuanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRW5jb3VudGVyU3RhdHVzSGlzdG9yeSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBFbmNvdW50ZXJTdGF0dXNIaXN0b3J5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogcGxhbm5lZCB8IGFycml2ZWQgfCB0cmlhZ2VkIHwgaW4tcHJvZ3Jlc3MgfCBvbmxlYXZlIHwgZmluaXNoZWQgfCBjYW5jZWxsZWQgKy5cclxuICAgKi9cclxuICBzdGF0dXM6IEVuY291bnRlclN0YXR1c0NvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgdGhhdCB0aGUgZXBpc29kZSB3YXMgaW4gdGhlIHNwZWNpZmllZCBzdGF0dXMuXHJcbiAgICovXHJcbiAgcGVyaW9kOiBmaGlyLlBlcmlvZEFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBjdXJyZW50IHN0YXR1cyBpcyBhbHdheXMgZm91bmQgaW4gdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgcmVzb3VyY2UsIG5vdCB0aGUgc3RhdHVzIGhpc3RvcnkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRW5jb3VudGVyU3RhdHVzSGlzdG9yeSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0VuY291bnRlclN0YXR1c0hpc3RvcnknO1xyXG4gIC8qKlxyXG4gICAqIHBsYW5uZWQgfCBhcnJpdmVkIHwgdHJpYWdlZCB8IGluLXByb2dyZXNzIHwgb25sZWF2ZSB8IGZpbmlzaGVkIHwgY2FuY2VsbGVkICsuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogRW5jb3VudGVyU3RhdHVzQ29kZVR5cGV8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSB0aGF0IHRoZSBlcGlzb2RlIHdhcyBpbiB0aGUgc3BlY2lmaWVkIHN0YXR1cy5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kOiBmaGlyLlBlcmlvZHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEVuY291bnRlclN0YXR1c0hpc3RvcnkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxFbmNvdW50ZXJTdGF0dXNIaXN0b3J5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gc291cmNlLnN0YXR1czsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnBlcmlvZCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcmlvZCA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBzdGF0dXMgKEVuY291bnRlci5zdGF0dXNIaXN0b3J5LnN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHN0YXR1c1JlcXVpcmVkQ29kaW5nKCk6RW5jb3VudGVyU3RhdHVzQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRW5jb3VudGVyU3RhdHVzQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snc3RhdHVzJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzdGF0dXM6RW5jb3VudGVyU3RhdHVzQ29kZVR5cGUgZmhpcjogRW5jb3VudGVyLnN0YXR1c0hpc3Rvcnkuc3RhdHVzOmNvZGUnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICghdGhpc1sncGVyaW9kJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBwZXJpb2Q6Zmhpci5QZXJpb2QgZmhpcjogRW5jb3VudGVyLnN0YXR1c0hpc3RvcnkucGVyaW9kOlBlcmlvZCcsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJwZXJpb2RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wZXJpb2QuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBFbmNvdW50ZXJDbGFzc0hpc3RvcnkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW5jb3VudGVyQ2xhc3NIaXN0b3J5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogaW5wYXRpZW50IHwgb3V0cGF0aWVudCB8IGFtYnVsYXRvcnkgfCBlbWVyZ2VuY3kgKy5cclxuICAgKi9cclxuICBjbGFzczogZmhpci5Db2RpbmdBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgdGhhdCB0aGUgZXBpc29kZSB3YXMgaW4gdGhlIHNwZWNpZmllZCBjbGFzcy5cclxuICAgKi9cclxuICBwZXJpb2Q6IGZoaXIuUGVyaW9kQXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGNsYXNzIGhpc3RvcnkgcGVybWl0cyB0aGUgdHJhY2tpbmcgb2YgdGhlIGVuY291bnRlcnMgdHJhbnNpdGlvbnMgd2l0aG91dCBuZWVkaW5nIHRvIGdvICB0aHJvdWdoIHRoZSByZXNvdXJjZSBoaXN0b3J5LiAgVGhpcyB3b3VsZCBiZSB1c2VkIGZvciBhIGNhc2Ugd2hlcmUgYW4gYWRtaXNzaW9uIHN0YXJ0cyBvZiBhcyBhbiBlbWVyZ2VuY3kgZW5jb3VudGVyLCB0aGVuIHRyYW5zaXRpb25zIGludG8gYW4gaW5wYXRpZW50IHNjZW5hcmlvLiBEb2luZyB0aGlzIGFuZCBub3QgcmVzdGFydGluZyBhIG5ldyBlbmNvdW50ZXIgZW5zdXJlcyB0aGF0IGFueSBsYWIvZGlhZ25vc3RpYyByZXN1bHRzIGNhbiBtb3JlIGVhc2lseSBmb2xsb3cgdGhlIHBhdGllbnQgYW5kIG5vdCByZXF1aXJlIHJlLXByb2Nlc3NpbmcgYW5kIG5vdCBnZXQgbG9zdCBvciBjYW5jZWxsZWQgZHVyaW5nIGEga2luZCBvZiBkaXNjaGFyZ2UgZnJvbSBlbWVyZ2VuY3kgdG8gaW5wYXRpZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEVuY291bnRlckNsYXNzSGlzdG9yeSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0VuY291bnRlckNsYXNzSGlzdG9yeSc7XHJcbiAgLyoqXHJcbiAgICogaW5wYXRpZW50IHwgb3V0cGF0aWVudCB8IGFtYnVsYXRvcnkgfCBlbWVyZ2VuY3kgKy5cclxuICAgKi9cclxuICBwdWJsaWMgY2xhc3M6IGZoaXIuQ29kaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgdGhhdCB0aGUgZXBpc29kZSB3YXMgaW4gdGhlIHNwZWNpZmllZCBjbGFzcy5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kOiBmaGlyLlBlcmlvZHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEVuY291bnRlckNsYXNzSGlzdG9yeSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEVuY291bnRlckNsYXNzSGlzdG9yeUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjbGFzcyddKSB7IHRoaXMuY2xhc3MgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLmNsYXNzKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2xhc3MgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UucGVyaW9kKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGVyaW9kID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgY2xhc3MgKEVuY291bnRlci5jbGFzc0hpc3RvcnkuY2xhc3MpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBjbGFzc0V4dGVuc2libGVDb2RpbmcoKTpWM0FjdEVuY291bnRlckNvZGVDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBWM0FjdEVuY291bnRlckNvZGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydjbGFzcyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgY2xhc3M6Zmhpci5Db2RpbmcgZmhpcjogRW5jb3VudGVyLmNsYXNzSGlzdG9yeS5jbGFzczpDb2RpbmcnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiY2xhc3NcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5jbGFzcy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydwZXJpb2QnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHBlcmlvZDpmaGlyLlBlcmlvZCBmaGlyOiBFbmNvdW50ZXIuY2xhc3NIaXN0b3J5LnBlcmlvZDpQZXJpb2QnLCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicGVyaW9kXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGVyaW9kLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRW5jb3VudGVyUGFydGljaXBhbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW5jb3VudGVyUGFydGljaXBhbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgcGFydGljaXBhbnQgdHlwZSBpbmRpY2F0ZXMgaG93IGFuIGluZGl2aWR1YWwgcGFydGljaXBhdGVzIGluIGFuIGVuY291bnRlci4gSXQgaW5jbHVkZXMgbm9uLXByYWN0aXRpb25lciBwYXJ0aWNpcGFudHMsIGFuZCBmb3IgcHJhY3RpdGlvbmVycyB0aGlzIGlzIHRvIGRlc2NyaWJlIHRoZSBhY3Rpb24gdHlwZSBpbiB0aGUgY29udGV4dCBvZiB0aGlzIGVuY291bnRlciAoZS5nLiBBZG1pdHRpbmcgRHIsIEF0dGVuZGluZyBEciwgVHJhbnNsYXRvciwgQ29uc3VsdGluZyBEcikuIFRoaXMgaXMgZGlmZmVyZW50IHRvIHRoZSBwcmFjdGl0aW9uZXIgcm9sZXMgd2hpY2ggYXJlIGZ1bmN0aW9uYWwgcm9sZXMsIGRlcml2ZWQgZnJvbSB0ZXJtcyBvZiBlbXBsb3ltZW50LCBlZHVjYXRpb24sIGxpY2Vuc2luZywgZXRjLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcmlvZCBvZiB0aW1lIHRoYXQgdGhlIHNwZWNpZmllZCBwYXJ0aWNpcGFudCBwYXJ0aWNpcGF0ZWQgaW4gdGhlIGVuY291bnRlci4gVGhlc2UgY2FuIG92ZXJsYXAgb3IgYmUgc3ViLXNldHMgb2YgdGhlIG92ZXJhbGwgZW5jb3VudGVyJ3MgcGVyaW9kLlxyXG4gICAqL1xyXG4gIHBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGVyc29ucyBpbnZvbHZlZCBpbiB0aGUgZW5jb3VudGVyIG90aGVyIHRoYW4gdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgaW5kaXZpZHVhbD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgbGlzdCBvZiBwZW9wbGUgcmVzcG9uc2libGUgZm9yIHByb3ZpZGluZyB0aGUgc2VydmljZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbmNvdW50ZXJQYXJ0aWNpcGFudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0VuY291bnRlclBhcnRpY2lwYW50JztcclxuICAvKipcclxuICAgKiBUaGUgcGFydGljaXBhbnQgdHlwZSBpbmRpY2F0ZXMgaG93IGFuIGluZGl2aWR1YWwgcGFydGljaXBhdGVzIGluIGFuIGVuY291bnRlci4gSXQgaW5jbHVkZXMgbm9uLXByYWN0aXRpb25lciBwYXJ0aWNpcGFudHMsIGFuZCBmb3IgcHJhY3RpdGlvbmVycyB0aGlzIGlzIHRvIGRlc2NyaWJlIHRoZSBhY3Rpb24gdHlwZSBpbiB0aGUgY29udGV4dCBvZiB0aGlzIGVuY291bnRlciAoZS5nLiBBZG1pdHRpbmcgRHIsIEF0dGVuZGluZyBEciwgVHJhbnNsYXRvciwgQ29uc3VsdGluZyBEcikuIFRoaXMgaXMgZGlmZmVyZW50IHRvIHRoZSBwcmFjdGl0aW9uZXIgcm9sZXMgd2hpY2ggYXJlIGZ1bmN0aW9uYWwgcm9sZXMsIGRlcml2ZWQgZnJvbSB0ZXJtcyBvZiBlbXBsb3ltZW50LCBlZHVjYXRpb24sIGxpY2Vuc2luZywgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIG9mIHRpbWUgdGhhdCB0aGUgc3BlY2lmaWVkIHBhcnRpY2lwYW50IHBhcnRpY2lwYXRlZCBpbiB0aGUgZW5jb3VudGVyLiBUaGVzZSBjYW4gb3ZlcmxhcCBvciBiZSBzdWItc2V0cyBvZiB0aGUgb3ZlcmFsbCBlbmNvdW50ZXIncyBwZXJpb2QuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQZXJzb25zIGludm9sdmVkIGluIHRoZSBlbmNvdW50ZXIgb3RoZXIgdGhhbiB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgaW5kaXZpZHVhbD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBFbmNvdW50ZXJQYXJ0aWNpcGFudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEVuY291bnRlclBhcnRpY2lwYW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2luZGl2aWR1YWwnXSkgeyB0aGlzLmluZGl2aWR1YWwgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmluZGl2aWR1YWwpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChFbmNvdW50ZXIucGFydGljaXBhbnQudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHR5cGVFeHRlbnNpYmxlQ29kaW5nKCk6RW5jb3VudGVyUGFydGljaXBhbnRUeXBlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRW5jb3VudGVyUGFydGljaXBhbnRUeXBlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyB0aGlzLnR5cGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInBlcmlvZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBlcmlvZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJpbmRpdmlkdWFsXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaW5kaXZpZHVhbC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEVuY291bnRlckRpYWdub3NpcyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBFbmNvdW50ZXJEaWFnbm9zaXNBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBGb3Igc3lzdGVtcyB0aGF0IG5lZWQgdG8ga25vdyB3aGljaCB3YXMgdGhlIHByaW1hcnkgZGlhZ25vc2lzLCB0aGVzZSB3aWxsIGJlIG1hcmtlZCB3aXRoIHRoZSBzdGFuZGFyZCBleHRlbnNpb24gcHJpbWFyeURpYWdub3NpcyAod2hpY2ggaXMgYSBzZXF1ZW5jZSB2YWx1ZSByYXRoZXIgdGhhbiBhIGZsYWcsIDEgPSBwcmltYXJ5IGRpYWdub3NpcykuXHJcbiAgICovXHJcbiAgY29uZGl0aW9uOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBSb2xlIHRoYXQgdGhpcyBkaWFnbm9zaXMgaGFzIHdpdGhpbiB0aGUgZW5jb3VudGVyIChlLmcuIGFkbWlzc2lvbiwgYmlsbGluZywgZGlzY2hhcmdlIOKApikuXHJcbiAgICovXHJcbiAgdXNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSYW5raW5nIG9mIHRoZSBkaWFnbm9zaXMgKGZvciBlYWNoIHJvbGUgdHlwZSkuXHJcbiAgICovXHJcbiAgcmFuaz86IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgbGlzdCBvZiBkaWFnbm9zaXMgcmVsZXZhbnQgdG8gdGhpcyBlbmNvdW50ZXIuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRW5jb3VudGVyRGlhZ25vc2lzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRW5jb3VudGVyRGlhZ25vc2lzJztcclxuICAvKipcclxuICAgKiBGb3Igc3lzdGVtcyB0aGF0IG5lZWQgdG8ga25vdyB3aGljaCB3YXMgdGhlIHByaW1hcnkgZGlhZ25vc2lzLCB0aGVzZSB3aWxsIGJlIG1hcmtlZCB3aXRoIHRoZSBzdGFuZGFyZCBleHRlbnNpb24gcHJpbWFyeURpYWdub3NpcyAod2hpY2ggaXMgYSBzZXF1ZW5jZSB2YWx1ZSByYXRoZXIgdGhhbiBhIGZsYWcsIDEgPSBwcmltYXJ5IGRpYWdub3NpcykuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbmRpdGlvbjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBSb2xlIHRoYXQgdGhpcyBkaWFnbm9zaXMgaGFzIHdpdGhpbiB0aGUgZW5jb3VudGVyIChlLmcuIGFkbWlzc2lvbiwgYmlsbGluZywgZGlzY2hhcmdlIOKApikuXHJcbiAgICovXHJcbiAgcHVibGljIHVzZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSYW5raW5nIG9mIHRoZSBkaWFnbm9zaXMgKGZvciBlYWNoIHJvbGUgdHlwZSkuXHJcbiAgICovXHJcbiAgcHVibGljIHJhbms/OiBmaGlyLkZoaXJQb3NpdGl2ZUludHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRW5jb3VudGVyRGlhZ25vc2lzIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RW5jb3VudGVyRGlhZ25vc2lzQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvbmRpdGlvbiddKSB7IHRoaXMuY29uZGl0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5jb25kaXRpb24pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb25kaXRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd1c2UnXSkgeyB0aGlzLnVzZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudXNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmFuayddKSB7IHRoaXMucmFuayA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHNvdXJjZS5yYW5rfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUHJlZmVycmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgdXNlIChFbmNvdW50ZXIuZGlhZ25vc2lzLnVzZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHVzZVByZWZlcnJlZENvZGluZygpOkRpYWdub3Npc1JvbGVDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBEaWFnbm9zaXNSb2xlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1snY29uZGl0aW9uJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBjb25kaXRpb246Zmhpci5SZWZlcmVuY2UgZmhpcjogRW5jb3VudGVyLmRpYWdub3Npcy5jb25kaXRpb246UmVmZXJlbmNlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImNvbmRpdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNvbmRpdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ1c2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy51c2UuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmFua1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJhbmsuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBFbmNvdW50ZXJIb3NwaXRhbGl6YXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW5jb3VudGVySG9zcGl0YWxpemF0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogUHJlLWFkbWlzc2lvbiBpZGVudGlmaWVyLlxyXG4gICAqL1xyXG4gIHByZUFkbWlzc2lvbklkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbG9jYXRpb24vb3JnYW5pemF0aW9uIGZyb20gd2hpY2ggdGhlIHBhdGllbnQgY2FtZSBiZWZvcmUgYWRtaXNzaW9uLlxyXG4gICAqL1xyXG4gIG9yaWdpbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJvbSB3aGVyZSBwYXRpZW50IHdhcyBhZG1pdHRlZCAocGh5c2ljaWFuIHJlZmVycmFsLCB0cmFuc2ZlcikuXHJcbiAgICovXHJcbiAgYWRtaXRTb3VyY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhpcyBob3NwaXRhbGl6YXRpb24gaXMgYSByZWFkbWlzc2lvbiBhbmQgd2h5IGlmIGtub3duLlxyXG4gICAqL1xyXG4gIHJlQWRtaXNzaW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgYSBwYXRpZW50IG1heSByZXF1ZXN0IGJvdGggYSBkYWlyeS1mcmVlIGFuZCBudXQtZnJlZSBkaWV0IHByZWZlcmVuY2UgKG5vdCBtdXR1YWxseSBleGNsdXNpdmUpLlxyXG4gICAqL1xyXG4gIGRpZXRQcmVmZXJlbmNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpYWwgY291cnRlc2llcyAoVklQLCBib2FyZCBtZW1iZXIpLlxyXG4gICAqL1xyXG4gIHNwZWNpYWxDb3VydGVzeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbnkgc3BlY2lhbCByZXF1ZXN0cyB0aGF0IGhhdmUgYmVlbiBtYWRlIGZvciB0aGlzIGhvc3BpdGFsaXphdGlvbiBlbmNvdW50ZXIsIHN1Y2ggYXMgdGhlIHByb3Zpc2lvbiBvZiBzcGVjaWZpYyBlcXVpcG1lbnQgb3Igb3RoZXIgdGhpbmdzLlxyXG4gICAqL1xyXG4gIHNwZWNpYWxBcnJhbmdlbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMb2NhdGlvbi9vcmdhbml6YXRpb24gdG8gd2hpY2ggdGhlIHBhdGllbnQgaXMgZGlzY2hhcmdlZC5cclxuICAgKi9cclxuICBkZXN0aW5hdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2F0ZWdvcnkgb3Iga2luZCBvZiBsb2NhdGlvbiBhZnRlciBkaXNjaGFyZ2UuXHJcbiAgICovXHJcbiAgZGlzY2hhcmdlRGlzcG9zaXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQW4gRW5jb3VudGVyIG1heSBjb3ZlciBtb3JlIHRoYW4ganVzdCB0aGUgaW5wYXRpZW50IHN0YXkuIENvbnRleHRzIHN1Y2ggYXMgb3V0cGF0aWVudHMsIGNvbW11bml0eSBjbGluaWNzLCBhbmQgYWdlZCBjYXJlIGZhY2lsaXRpZXMgYXJlIGFsc28gaW5jbHVkZWQuXHJcbiAqIFRoZSBkdXJhdGlvbiByZWNvcmRlZCBpbiB0aGUgcGVyaW9kIG9mIHRoaXMgZW5jb3VudGVyIGNvdmVycyB0aGUgZW50aXJlIHNjb3BlIG9mIHRoaXMgaG9zcGl0YWxpemF0aW9uIHJlY29yZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbmNvdW50ZXJIb3NwaXRhbGl6YXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdFbmNvdW50ZXJIb3NwaXRhbGl6YXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFByZS1hZG1pc3Npb24gaWRlbnRpZmllci5cclxuICAgKi9cclxuICBwdWJsaWMgcHJlQWRtaXNzaW9uSWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxvY2F0aW9uL29yZ2FuaXphdGlvbiBmcm9tIHdoaWNoIHRoZSBwYXRpZW50IGNhbWUgYmVmb3JlIGFkbWlzc2lvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb3JpZ2luPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyb20gd2hlcmUgcGF0aWVudCB3YXMgYWRtaXR0ZWQgKHBoeXNpY2lhbiByZWZlcnJhbCwgdHJhbnNmZXIpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZG1pdFNvdXJjZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoaXMgaG9zcGl0YWxpemF0aW9uIGlzIGEgcmVhZG1pc3Npb24gYW5kIHdoeSBpZiBrbm93bi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVBZG1pc3Npb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIGEgcGF0aWVudCBtYXkgcmVxdWVzdCBib3RoIGEgZGFpcnktZnJlZSBhbmQgbnV0LWZyZWUgZGlldCBwcmVmZXJlbmNlIChub3QgbXV0dWFsbHkgZXhjbHVzaXZlKS5cclxuICAgKi9cclxuICBwdWJsaWMgZGlldFByZWZlcmVuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpYWwgY291cnRlc2llcyAoVklQLCBib2FyZCBtZW1iZXIpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzcGVjaWFsQ291cnRlc3k/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEFueSBzcGVjaWFsIHJlcXVlc3RzIHRoYXQgaGF2ZSBiZWVuIG1hZGUgZm9yIHRoaXMgaG9zcGl0YWxpemF0aW9uIGVuY291bnRlciwgc3VjaCBhcyB0aGUgcHJvdmlzaW9uIG9mIHNwZWNpZmljIGVxdWlwbWVudCBvciBvdGhlciB0aGluZ3MuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpYWxBcnJhbmdlbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogTG9jYXRpb24vb3JnYW5pemF0aW9uIHRvIHdoaWNoIHRoZSBwYXRpZW50IGlzIGRpc2NoYXJnZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc3RpbmF0aW9uPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENhdGVnb3J5IG9yIGtpbmQgb2YgbG9jYXRpb24gYWZ0ZXIgZGlzY2hhcmdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaXNjaGFyZ2VEaXNwb3NpdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBFbmNvdW50ZXJIb3NwaXRhbGl6YXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxFbmNvdW50ZXJIb3NwaXRhbGl6YXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncHJlQWRtaXNzaW9uSWRlbnRpZmllciddKSB7IHRoaXMucHJlQWRtaXNzaW9uSWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLnByZUFkbWlzc2lvbklkZW50aWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmlnaW4nXSkgeyB0aGlzLm9yaWdpbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3JpZ2luKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRtaXRTb3VyY2UnXSkgeyB0aGlzLmFkbWl0U291cmNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hZG1pdFNvdXJjZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlQWRtaXNzaW9uJ10pIHsgdGhpcy5yZUFkbWlzc2lvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucmVBZG1pc3Npb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydkaWV0UHJlZmVyZW5jZSddKSB7IHRoaXMuZGlldFByZWZlcmVuY2UgPSBzb3VyY2UuZGlldFByZWZlcmVuY2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kaWV0UHJlZmVyZW5jZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzcGVjaWFsQ291cnRlc3knXSkgeyB0aGlzLnNwZWNpYWxDb3VydGVzeSA9IHNvdXJjZS5zcGVjaWFsQ291cnRlc3kubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zcGVjaWFsQ291cnRlc3kgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3BlY2lhbEFycmFuZ2VtZW50J10pIHsgdGhpcy5zcGVjaWFsQXJyYW5nZW1lbnQgPSBzb3VyY2Uuc3BlY2lhbEFycmFuZ2VtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3BlY2lhbEFycmFuZ2VtZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc3RpbmF0aW9uJ10pIHsgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZGVzdGluYXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXNjaGFyZ2VEaXNwb3NpdGlvbiddKSB7IHRoaXMuZGlzY2hhcmdlRGlzcG9zaXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmRpc2NoYXJnZURpc3Bvc2l0aW9uKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBQcmVmZXJyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBhZG1pdFNvdXJjZSAoRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbi5hZG1pdFNvdXJjZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGFkbWl0U291cmNlUHJlZmVycmVkQ29kaW5nKCk6RW5jb3VudGVyQWRtaXRTb3VyY2VDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBFbmNvdW50ZXJBZG1pdFNvdXJjZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFByZWZlcnJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHNwZWNpYWxDb3VydGVzeSAoRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbi5zcGVjaWFsQ291cnRlc3kpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBzcGVjaWFsQ291cnRlc3lQcmVmZXJyZWRDb2RpbmcoKTpFbmNvdW50ZXJTcGVjaWFsQ291cnRlc3lDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBFbmNvdW50ZXJTcGVjaWFsQ291cnRlc3lDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBQcmVmZXJyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBzcGVjaWFsQXJyYW5nZW1lbnQgKEVuY291bnRlci5ob3NwaXRhbGl6YXRpb24uc3BlY2lhbEFycmFuZ2VtZW50KVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgc3BlY2lhbEFycmFuZ2VtZW50UHJlZmVycmVkQ29kaW5nKCk6RW5jb3VudGVyU3BlY2lhbEFycmFuZ2VtZW50c0NvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIEVuY291bnRlclNwZWNpYWxBcnJhbmdlbWVudHNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJwcmVBZG1pc3Npb25JZGVudGlmaWVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucHJlQWRtaXNzaW9uSWRlbnRpZmllci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvcmlnaW5cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vcmlnaW4uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wiYWRtaXRTb3VyY2VcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5hZG1pdFNvdXJjZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJyZUFkbWlzc2lvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlQWRtaXNzaW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRpZXRQcmVmZXJlbmNlXCJdKSB7IHRoaXMuZGlldFByZWZlcmVuY2UuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInNwZWNpYWxDb3VydGVzeVwiXSkgeyB0aGlzLnNwZWNpYWxDb3VydGVzeS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wic3BlY2lhbEFycmFuZ2VtZW50XCJdKSB7IHRoaXMuc3BlY2lhbEFycmFuZ2VtZW50LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXN0aW5hdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlc3RpbmF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRpc2NoYXJnZURpc3Bvc2l0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGlzY2hhcmdlRGlzcG9zaXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBFbmNvdW50ZXJMb2NhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBFbmNvdW50ZXJMb2NhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgZW5jb3VudGVyIHRha2VzIHBsYWNlLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSBwYXRpZW50IGlzIG5vIGxvbmdlciBhY3RpdmUgYXQgYSBsb2NhdGlvbiwgdGhlbiB0aGUgcGVyaW9kIGVuZCBkYXRlIGlzIGVudGVyZWQsIGFuZCB0aGUgc3RhdHVzIG1heSBiZSBjaGFuZ2VkIHRvIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBzdGF0dXM/OiBFbmNvdW50ZXJMb2NhdGlvblN0YXR1c0NvZGVUeXBlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGluZm9ybWF0aW9uIGlzIGRlLW5vcm1hbGl6ZWQgZnJvbSB0aGUgTG9jYXRpb24gcmVzb3VyY2UgdG8gc3VwcG9ydCB0aGUgZWFzaWVyIHVuZGVyc3RhbmRpbmcgb2YgdGhlIGVuY291bnRlciByZXNvdXJjZSBhbmQgcHJvY2Vzc2luZyBpbiBtZXNzYWdpbmcgb3IgcXVlcnkuXHJcbiAgICogVGhlcmUgbWF5IGJlIG1hbnkgbGV2ZWxzIGluIHRoZSBoaWVyYWNoeSwgYW5kIHRoaXMgbWF5IG9ubHkgcGljIHNwZWNpZmljIGxldmVscyB0aGF0IGFyZSByZXF1aXJlZCBmb3IgYSBzcGVjaWZpYyB1c2FnZSBzY2VuYXJpby5cclxuICAgKi9cclxuICBwaHlzaWNhbFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWUgcGVyaW9kIGR1cmluZyB3aGljaCB0aGUgcGF0aWVudCB3YXMgcHJlc2VudCBhdCB0aGUgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZpcnR1YWwgZW5jb3VudGVycyBjYW4gYmUgcmVjb3JkZWQgaW4gdGhlIEVuY291bnRlciBieSBzcGVjaWZ5aW5nIGEgbG9jYXRpb24gcmVmZXJlbmNlIHRvIGEgbG9jYXRpb24gb2YgdHlwZSBcImtpbmRcIiBzdWNoIGFzIFwiY2xpZW50J3MgaG9tZVwiIGFuZCBhbiBlbmNvdW50ZXIuY2xhc3MgPSBcInZpcnR1YWxcIi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbmNvdW50ZXJMb2NhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0VuY291bnRlckxvY2F0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgbG9jYXRpb24gd2hlcmUgdGhlIGVuY291bnRlciB0YWtlcyBwbGFjZS5cclxuICAgKi9cclxuICBwdWJsaWMgbG9jYXRpb246IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgcGF0aWVudCBpcyBubyBsb25nZXIgYWN0aXZlIGF0IGEgbG9jYXRpb24sIHRoZW4gdGhlIHBlcmlvZCBlbmQgZGF0ZSBpcyBlbnRlcmVkLCBhbmQgdGhlIHN0YXR1cyBtYXkgYmUgY2hhbmdlZCB0byBjb21wbGV0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IEVuY291bnRlckxvY2F0aW9uU3RhdHVzQ29kZVR5cGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaW5mb3JtYXRpb24gaXMgZGUtbm9ybWFsaXplZCBmcm9tIHRoZSBMb2NhdGlvbiByZXNvdXJjZSB0byBzdXBwb3J0IHRoZSBlYXNpZXIgdW5kZXJzdGFuZGluZyBvZiB0aGUgZW5jb3VudGVyIHJlc291cmNlIGFuZCBwcm9jZXNzaW5nIGluIG1lc3NhZ2luZyBvciBxdWVyeS5cclxuICAgKiBUaGVyZSBtYXkgYmUgbWFueSBsZXZlbHMgaW4gdGhlIGhpZXJhY2h5LCBhbmQgdGhpcyBtYXkgb25seSBwaWMgc3BlY2lmaWMgbGV2ZWxzIHRoYXQgYXJlIHJlcXVpcmVkIGZvciBhIHNwZWNpZmljIHVzYWdlIHNjZW5hcmlvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwaHlzaWNhbFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltZSBwZXJpb2QgZHVyaW5nIHdoaWNoIHRoZSBwYXRpZW50IHdhcyBwcmVzZW50IGF0IHRoZSBsb2NhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEVuY291bnRlckxvY2F0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RW5jb3VudGVyTG9jYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbG9jYXRpb24nXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5sb2NhdGlvbik7IH1cclxuICAgIGVsc2UgeyB0aGlzLmxvY2F0aW9uID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBzb3VyY2Uuc3RhdHVzOyB9XHJcbiAgICBpZiAoc291cmNlWydwaHlzaWNhbFR5cGUnXSkgeyB0aGlzLnBoeXNpY2FsVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGh5c2ljYWxUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnBlcmlvZCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBzdGF0dXMgKEVuY291bnRlci5sb2NhdGlvbi5zdGF0dXMpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBzdGF0dXNSZXF1aXJlZENvZGluZygpOkVuY291bnRlckxvY2F0aW9uU3RhdHVzQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRW5jb3VudGVyTG9jYXRpb25TdGF0dXNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydsb2NhdGlvbiddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgbG9jYXRpb246Zmhpci5SZWZlcmVuY2UgZmhpcjogRW5jb3VudGVyLmxvY2F0aW9uLmxvY2F0aW9uOlJlZmVyZW5jZScsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJsb2NhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmxvY2F0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBoeXNpY2FsVHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBoeXNpY2FsVHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwZXJpb2RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wZXJpb2QuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBFbmNvdW50ZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW5jb3VudGVyQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiRW5jb3VudGVyXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIocykgYnkgd2hpY2ggdGhpcyBlbmNvdW50ZXIgaXMga25vd24uXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IGludGVybmFsIGJ1c2luZXNzIHJ1bGVzIHdpbGwgZGV0ZXJtaW5lIHRoZSBhcHByb3ByaWF0ZSB0cmFuc2l0aW9ucyB0aGF0IG1heSBvY2N1ciBiZXR3ZWVuIHN0YXR1c2VzIChhbmQgYWxzbyBjbGFzc2VzKS5cclxuICAgKi9cclxuICBzdGF0dXM6IEVuY291bnRlclN0YXR1c0NvZGVUeXBlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGN1cnJlbnQgc3RhdHVzIGlzIGFsd2F5cyBmb3VuZCBpbiB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSByZXNvdXJjZSwgbm90IHRoZSBzdGF0dXMgaGlzdG9yeS5cclxuICAgKi9cclxuICBzdGF0dXNIaXN0b3J5PzogZmhpci5FbmNvdW50ZXJTdGF0dXNIaXN0b3J5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb25jZXB0cyByZXByZXNlbnRpbmcgY2xhc3NpZmljYXRpb24gb2YgcGF0aWVudCBlbmNvdW50ZXIgc3VjaCBhcyBhbWJ1bGF0b3J5IChvdXRwYXRpZW50KSwgaW5wYXRpZW50LCBlbWVyZ2VuY3ksIGhvbWUgaGVhbHRoIG9yIG90aGVycyBkdWUgdG8gbG9jYWwgdmFyaWF0aW9ucy5cclxuICAgKi9cclxuICBjbGFzczogZmhpci5Db2RpbmdBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNsYXNzIGhpc3RvcnkgcGVybWl0cyB0aGUgdHJhY2tpbmcgb2YgdGhlIGVuY291bnRlcnMgdHJhbnNpdGlvbnMgd2l0aG91dCBuZWVkaW5nIHRvIGdvICB0aHJvdWdoIHRoZSByZXNvdXJjZSBoaXN0b3J5LiAgVGhpcyB3b3VsZCBiZSB1c2VkIGZvciBhIGNhc2Ugd2hlcmUgYW4gYWRtaXNzaW9uIHN0YXJ0cyBvZiBhcyBhbiBlbWVyZ2VuY3kgZW5jb3VudGVyLCB0aGVuIHRyYW5zaXRpb25zIGludG8gYW4gaW5wYXRpZW50IHNjZW5hcmlvLiBEb2luZyB0aGlzIGFuZCBub3QgcmVzdGFydGluZyBhIG5ldyBlbmNvdW50ZXIgZW5zdXJlcyB0aGF0IGFueSBsYWIvZGlhZ25vc3RpYyByZXN1bHRzIGNhbiBtb3JlIGVhc2lseSBmb2xsb3cgdGhlIHBhdGllbnQgYW5kIG5vdCByZXF1aXJlIHJlLXByb2Nlc3NpbmcgYW5kIG5vdCBnZXQgbG9zdCBvciBjYW5jZWxsZWQgZHVyaW5nIGEga2luZCBvZiBkaXNjaGFyZ2UgZnJvbSBlbWVyZ2VuY3kgdG8gaW5wYXRpZW50LlxyXG4gICAqL1xyXG4gIGNsYXNzSGlzdG9yeT86IGZoaXIuRW5jb3VudGVyQ2xhc3NIaXN0b3J5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaW5jZSB0aGVyZSBhcmUgbWFueSB3YXlzIHRvIGZ1cnRoZXIgY2xhc3NpZnkgZW5jb3VudGVycywgdGhpcyBlbGVtZW50IGlzIDAuLiouXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBCcm9hZCBjYXRlZ29yaXphdGlvbiBvZiB0aGUgc2VydmljZSB0aGF0IGlzIHRvIGJlIHByb3ZpZGVkIChlLmcuIGNhcmRpb2xvZ3kpLlxyXG4gICAqL1xyXG4gIHNlcnZpY2VUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHVyZ2VuY3kgb2YgdGhlIGVuY291bnRlci5cclxuICAgKi9cclxuICBwcmlvcml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hpbGUgdGhlIGVuY291bnRlciBpcyBhbHdheXMgYWJvdXQgdGhlIHBhdGllbnQsIHRoZSBwYXRpZW50IG1pZ2h0IG5vdCBhY3R1YWxseSBiZSBrbm93biBpbiBhbGwgY29udGV4dHMgb2YgdXNlLCBhbmQgdGhlcmUgbWF5IGJlIGEgZ3JvdXAgb2YgcGF0aWVudHMgdGhhdCBjb3VsZCBiZSBhbm9ueW1vdXMgKHN1Y2ggYXMgaW4gYSBncm91cCB0aGVyYXB5IGZvciBBbGNvaG9saWNzIEFub255bW91cyAtIHdoZXJlIHRoZSByZWNvcmRpbmcgb2YgdGhlIGVuY291bnRlciBjb3VsZCBiZSB1c2VkIGZvciBiaWxsaW5nIG9uIHRoZSBudW1iZXIgb2YgcGVvcGxlL3N0YWZmIGFuZCBub3QgaW1wb3J0YW50IHRvIHRoZSBjb250ZXh0IG9mIHRoZSBzcGVjaWZpYyBwYXRpZW50cykgb3IgYWx0ZXJuYXRlbHkgaW4gdmV0ZXJpbmFyeSBjYXJlIGEgaGVyZCBvZiBzaGVlcCByZWNlaXZpbmcgdHJlYXRtZW50ICh3aGVyZSB0aGUgYW5pbWFscyBhcmUgbm90IGluZGl2aWR1YWxseSB0cmFja2VkKS5cclxuICAgKi9cclxuICBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSBhIHNwZWNpZmljIGVuY291bnRlciBzaG91bGQgYmUgY2xhc3NpZmllZCBhcyBhIHBhcnQgb2YgYSBzcGVjaWZpYyBlcGlzb2RlKHMpIG9mIGNhcmUgdGhpcyBmaWVsZCBzaG91bGQgYmUgdXNlZC4gVGhpcyBhc3NvY2lhdGlvbiBjYW4gZmFjaWxpdGF0ZSBncm91cGluZyBvZiByZWxhdGVkIGVuY291bnRlcnMgdG9nZXRoZXIgZm9yIGEgc3BlY2lmaWMgcHVycG9zZSwgc3VjaCBhcyBnb3Zlcm5tZW50IHJlcG9ydGluZywgaXNzdWUgdHJhY2tpbmcsIGFzc29jaWF0aW9uIHZpYSBhIGNvbW1vbiBwcm9ibGVtLiAgVGhlIGFzc29jaWF0aW9uIGlzIHJlY29yZGVkIG9uIHRoZSBlbmNvdW50ZXIgYXMgdGhlc2UgYXJlIHR5cGljYWxseSBjcmVhdGVkIGFmdGVyIHRoZSBlcGlzb2RlIG9mIGNhcmUgYW5kIGdyb3VwZWQgb24gZW50cnkgcmF0aGVyIHRoYW4gZWRpdGluZyB0aGUgZXBpc29kZSBvZiBjYXJlIHRvIGFwcGVuZCBhbm90aGVyIGVuY291bnRlciB0byBpdCAodGhlIGVwaXNvZGUgb2YgY2FyZSBjb3VsZCBzcGFuIHllYXJzKS5cclxuICAgKi9cclxuICBlcGlzb2RlT2ZDYXJlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXF1ZXN0IHRoaXMgZW5jb3VudGVyIHNhdGlzZmllcyAoZS5nLiBpbmNvbWluZyByZWZlcnJhbCBvciBwcm9jZWR1cmUgcmVxdWVzdCkuXHJcbiAgICovXHJcbiAgYmFzZWRPbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGlzdCBvZiBwZW9wbGUgcmVzcG9uc2libGUgZm9yIHByb3ZpZGluZyB0aGUgc2VydmljZS5cclxuICAgKi9cclxuICBwYXJ0aWNpcGFudD86IGZoaXIuRW5jb3VudGVyUGFydGljaXBhbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhcHBvaW50bWVudCB0aGF0IHNjaGVkdWxlZCB0aGlzIGVuY291bnRlci5cclxuICAgKi9cclxuICBhcHBvaW50bWVudD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBub3QgKHlldCkga25vd24sIHRoZSBlbmQgb2YgdGhlIFBlcmlvZCBtYXkgYmUgb21pdHRlZC5cclxuICAgKi9cclxuICBwZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1heSBkaWZmZXIgZnJvbSB0aGUgdGltZSB0aGUgRW5jb3VudGVyLnBlcmlvZCBsYXN0ZWQgYmVjYXVzZSBvZiBsZWF2ZSBvZiBhYnNlbmNlLlxyXG4gICAqL1xyXG4gIGxlbmd0aD86IGZoaXIuRHVyYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3Igc3lzdGVtcyB0aGF0IG5lZWQgdG8ga25vdyB3aGljaCB3YXMgdGhlIHByaW1hcnkgZGlhZ25vc2lzLCB0aGVzZSB3aWxsIGJlIG1hcmtlZCB3aXRoIHRoZSBzdGFuZGFyZCBleHRlbnNpb24gcHJpbWFyeURpYWdub3NpcyAod2hpY2ggaXMgYSBzZXF1ZW5jZSB2YWx1ZSByYXRoZXIgdGhhbiBhIGZsYWcsIDEgPSBwcmltYXJ5IGRpYWdub3NpcykuXHJcbiAgICovXHJcbiAgcmVhc29uQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3Igc3lzdGVtcyB0aGF0IG5lZWQgdG8ga25vdyB3aGljaCB3YXMgdGhlIHByaW1hcnkgZGlhZ25vc2lzLCB0aGVzZSB3aWxsIGJlIG1hcmtlZCB3aXRoIHRoZSBzdGFuZGFyZCBleHRlbnNpb24gcHJpbWFyeURpYWdub3NpcyAod2hpY2ggaXMgYSBzZXF1ZW5jZSB2YWx1ZSByYXRoZXIgdGhhbiBhIGZsYWcsIDEgPSBwcmltYXJ5IGRpYWdub3NpcykuXHJcbiAgICovXHJcbiAgcmVhc29uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsaXN0IG9mIGRpYWdub3NpcyByZWxldmFudCB0byB0aGlzIGVuY291bnRlci5cclxuICAgKi9cclxuICBkaWFnbm9zaXM/OiBmaGlyLkVuY291bnRlckRpYWdub3Npc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGJpbGxpbmcgc3lzdGVtIG1heSBjaG9vc2UgdG8gYWxsb2NhdGUgYmlsbGFibGUgaXRlbXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBFbmNvdW50ZXIgdG8gZGlmZmVyZW50IHJlZmVyZW5jZWQgQWNjb3VudHMgYmFzZWQgb24gaW50ZXJuYWwgYnVzaW5lc3MgcnVsZXMuXHJcbiAgICovXHJcbiAgYWNjb3VudD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBFbmNvdW50ZXIgbWF5IGNvdmVyIG1vcmUgdGhhbiBqdXN0IHRoZSBpbnBhdGllbnQgc3RheS4gQ29udGV4dHMgc3VjaCBhcyBvdXRwYXRpZW50cywgY29tbXVuaXR5IGNsaW5pY3MsIGFuZCBhZ2VkIGNhcmUgZmFjaWxpdGllcyBhcmUgYWxzbyBpbmNsdWRlZC5cclxuICAgKiBUaGUgZHVyYXRpb24gcmVjb3JkZWQgaW4gdGhlIHBlcmlvZCBvZiB0aGlzIGVuY291bnRlciBjb3ZlcnMgdGhlIGVudGlyZSBzY29wZSBvZiB0aGlzIGhvc3BpdGFsaXphdGlvbiByZWNvcmQuXHJcbiAgICovXHJcbiAgaG9zcGl0YWxpemF0aW9uPzogZmhpci5FbmNvdW50ZXJIb3NwaXRhbGl6YXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBWaXJ0dWFsIGVuY291bnRlcnMgY2FuIGJlIHJlY29yZGVkIGluIHRoZSBFbmNvdW50ZXIgYnkgc3BlY2lmeWluZyBhIGxvY2F0aW9uIHJlZmVyZW5jZSB0byBhIGxvY2F0aW9uIG9mIHR5cGUgXCJraW5kXCIgc3VjaCBhcyBcImNsaWVudCdzIGhvbWVcIiBhbmQgYW4gZW5jb3VudGVyLmNsYXNzID0gXCJ2aXJ0dWFsXCIuXHJcbiAgICovXHJcbiAgbG9jYXRpb24/OiBmaGlyLkVuY291bnRlckxvY2F0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JnYW5pemF0aW9uIHRoYXQgaXMgcHJpbWFyaWx5IHJlc3BvbnNpYmxlIGZvciB0aGlzIEVuY291bnRlcidzIHNlcnZpY2VzLiBUaGlzIE1BWSBiZSB0aGUgc2FtZSBhcyB0aGUgb3JnYW5pemF0aW9uIG9uIHRoZSBQYXRpZW50IHJlY29yZCwgaG93ZXZlciBpdCBjb3VsZCBiZSBkaWZmZXJlbnQsIHN1Y2ggYXMgaWYgdGhlIGFjdG9yIHBlcmZvcm1pbmcgdGhlIHNlcnZpY2VzIHdhcyBmcm9tIGFuIGV4dGVybmFsIG9yZ2FuaXphdGlvbiAod2hpY2ggbWF5IGJlIGJpbGxlZCBzZXBlcmF0ZWx5KSBmb3IgYW4gZXh0ZXJuYWwgY29uc3VsdGF0aW9uLiAgUmVmZXIgdG8gdGhlIGV4YW1wbGUgYnVuZGxlIHNob3dpbmcgYW4gYWJicmV2aWF0ZWQgc2V0IG9mIEVuY291bnRlcnMgZm9yIGEgY29sb25vc2NvcHkuXHJcbiAgICovXHJcbiAgc2VydmljZVByb3ZpZGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGFsc28gdXNlZCBmb3IgYXNzb2NpYXRpbmcgYSBjaGlsZCdzIGVuY291bnRlciBiYWNrIHRvIHRoZSBtb3RoZXIncyBlbmNvdW50ZXIuXHJcbiAgICogUmVmZXIgdG8gdGhlIE5vdGVzIHNlY3Rpb24gaW4gdGhlIFBhdGllbnQgcmVzb3VyY2UgZm9yIGZ1cnRoZXIgZGV0YWlscy5cclxuICAgKi9cclxuICBwYXJ0T2Y/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQW4gaW50ZXJhY3Rpb24gYmV0d2VlbiBhIHBhdGllbnQgYW5kIGhlYWx0aGNhcmUgcHJvdmlkZXIocykgZm9yIHRoZSBwdXJwb3NlIG9mIHByb3ZpZGluZyBoZWFsdGhjYXJlIHNlcnZpY2Uocykgb3IgYXNzZXNzaW5nIHRoZSBoZWFsdGggc3RhdHVzIG9mIGEgcGF0aWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbmNvdW50ZXIgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0VuY291bnRlcic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJFbmNvdW50ZXJcIjtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyKHMpIGJ5IHdoaWNoIHRoaXMgZW5jb3VudGVyIGlzIGtub3duLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IGludGVybmFsIGJ1c2luZXNzIHJ1bGVzIHdpbGwgZGV0ZXJtaW5lIHRoZSBhcHByb3ByaWF0ZSB0cmFuc2l0aW9ucyB0aGF0IG1heSBvY2N1ciBiZXR3ZWVuIHN0YXR1c2VzIChhbmQgYWxzbyBjbGFzc2VzKS5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBFbmNvdW50ZXJTdGF0dXNDb2RlVHlwZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjdXJyZW50IHN0YXR1cyBpcyBhbHdheXMgZm91bmQgaW4gdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgcmVzb3VyY2UsIG5vdCB0aGUgc3RhdHVzIGhpc3RvcnkuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1c0hpc3Rvcnk/OiBmaGlyLkVuY291bnRlclN0YXR1c0hpc3RvcnlbXTtcclxuICAvKipcclxuICAgKiBDb25jZXB0cyByZXByZXNlbnRpbmcgY2xhc3NpZmljYXRpb24gb2YgcGF0aWVudCBlbmNvdW50ZXIgc3VjaCBhcyBhbWJ1bGF0b3J5IChvdXRwYXRpZW50KSwgaW5wYXRpZW50LCBlbWVyZ2VuY3ksIGhvbWUgaGVhbHRoIG9yIG90aGVycyBkdWUgdG8gbG9jYWwgdmFyaWF0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgY2xhc3M6IGZoaXIuQ29kaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNsYXNzIGhpc3RvcnkgcGVybWl0cyB0aGUgdHJhY2tpbmcgb2YgdGhlIGVuY291bnRlcnMgdHJhbnNpdGlvbnMgd2l0aG91dCBuZWVkaW5nIHRvIGdvICB0aHJvdWdoIHRoZSByZXNvdXJjZSBoaXN0b3J5LiAgVGhpcyB3b3VsZCBiZSB1c2VkIGZvciBhIGNhc2Ugd2hlcmUgYW4gYWRtaXNzaW9uIHN0YXJ0cyBvZiBhcyBhbiBlbWVyZ2VuY3kgZW5jb3VudGVyLCB0aGVuIHRyYW5zaXRpb25zIGludG8gYW4gaW5wYXRpZW50IHNjZW5hcmlvLiBEb2luZyB0aGlzIGFuZCBub3QgcmVzdGFydGluZyBhIG5ldyBlbmNvdW50ZXIgZW5zdXJlcyB0aGF0IGFueSBsYWIvZGlhZ25vc3RpYyByZXN1bHRzIGNhbiBtb3JlIGVhc2lseSBmb2xsb3cgdGhlIHBhdGllbnQgYW5kIG5vdCByZXF1aXJlIHJlLXByb2Nlc3NpbmcgYW5kIG5vdCBnZXQgbG9zdCBvciBjYW5jZWxsZWQgZHVyaW5nIGEga2luZCBvZiBkaXNjaGFyZ2UgZnJvbSBlbWVyZ2VuY3kgdG8gaW5wYXRpZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFzc0hpc3Rvcnk/OiBmaGlyLkVuY291bnRlckNsYXNzSGlzdG9yeVtdO1xyXG4gIC8qKlxyXG4gICAqIFNpbmNlIHRoZXJlIGFyZSBtYW55IHdheXMgdG8gZnVydGhlciBjbGFzc2lmeSBlbmNvdW50ZXJzLCB0aGlzIGVsZW1lbnQgaXMgMC4uKi5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQnJvYWQgY2F0ZWdvcml6YXRpb24gb2YgdGhlIHNlcnZpY2UgdGhhdCBpcyB0byBiZSBwcm92aWRlZCAoZS5nLiBjYXJkaW9sb2d5KS5cclxuICAgKi9cclxuICBwdWJsaWMgc2VydmljZVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSB1cmdlbmN5IG9mIHRoZSBlbmNvdW50ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHByaW9yaXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoaWxlIHRoZSBlbmNvdW50ZXIgaXMgYWx3YXlzIGFib3V0IHRoZSBwYXRpZW50LCB0aGUgcGF0aWVudCBtaWdodCBub3QgYWN0dWFsbHkgYmUga25vd24gaW4gYWxsIGNvbnRleHRzIG9mIHVzZSwgYW5kIHRoZXJlIG1heSBiZSBhIGdyb3VwIG9mIHBhdGllbnRzIHRoYXQgY291bGQgYmUgYW5vbnltb3VzIChzdWNoIGFzIGluIGEgZ3JvdXAgdGhlcmFweSBmb3IgQWxjb2hvbGljcyBBbm9ueW1vdXMgLSB3aGVyZSB0aGUgcmVjb3JkaW5nIG9mIHRoZSBlbmNvdW50ZXIgY291bGQgYmUgdXNlZCBmb3IgYmlsbGluZyBvbiB0aGUgbnVtYmVyIG9mIHBlb3BsZS9zdGFmZiBhbmQgbm90IGltcG9ydGFudCB0byB0aGUgY29udGV4dCBvZiB0aGUgc3BlY2lmaWMgcGF0aWVudHMpIG9yIGFsdGVybmF0ZWx5IGluIHZldGVyaW5hcnkgY2FyZSBhIGhlcmQgb2Ygc2hlZXAgcmVjZWl2aW5nIHRyZWF0bWVudCAod2hlcmUgdGhlIGFuaW1hbHMgYXJlIG5vdCBpbmRpdmlkdWFsbHkgdHJhY2tlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgYSBzcGVjaWZpYyBlbmNvdW50ZXIgc2hvdWxkIGJlIGNsYXNzaWZpZWQgYXMgYSBwYXJ0IG9mIGEgc3BlY2lmaWMgZXBpc29kZShzKSBvZiBjYXJlIHRoaXMgZmllbGQgc2hvdWxkIGJlIHVzZWQuIFRoaXMgYXNzb2NpYXRpb24gY2FuIGZhY2lsaXRhdGUgZ3JvdXBpbmcgb2YgcmVsYXRlZCBlbmNvdW50ZXJzIHRvZ2V0aGVyIGZvciBhIHNwZWNpZmljIHB1cnBvc2UsIHN1Y2ggYXMgZ292ZXJubWVudCByZXBvcnRpbmcsIGlzc3VlIHRyYWNraW5nLCBhc3NvY2lhdGlvbiB2aWEgYSBjb21tb24gcHJvYmxlbS4gIFRoZSBhc3NvY2lhdGlvbiBpcyByZWNvcmRlZCBvbiB0aGUgZW5jb3VudGVyIGFzIHRoZXNlIGFyZSB0eXBpY2FsbHkgY3JlYXRlZCBhZnRlciB0aGUgZXBpc29kZSBvZiBjYXJlIGFuZCBncm91cGVkIG9uIGVudHJ5IHJhdGhlciB0aGFuIGVkaXRpbmcgdGhlIGVwaXNvZGUgb2YgY2FyZSB0byBhcHBlbmQgYW5vdGhlciBlbmNvdW50ZXIgdG8gaXQgKHRoZSBlcGlzb2RlIG9mIGNhcmUgY291bGQgc3BhbiB5ZWFycykuXHJcbiAgICovXHJcbiAgcHVibGljIGVwaXNvZGVPZkNhcmU/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXF1ZXN0IHRoaXMgZW5jb3VudGVyIHNhdGlzZmllcyAoZS5nLiBpbmNvbWluZyByZWZlcnJhbCBvciBwcm9jZWR1cmUgcmVxdWVzdCkuXHJcbiAgICovXHJcbiAgcHVibGljIGJhc2VkT24/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsaXN0IG9mIHBlb3BsZSByZXNwb25zaWJsZSBmb3IgcHJvdmlkaW5nIHRoZSBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJ0aWNpcGFudD86IGZoaXIuRW5jb3VudGVyUGFydGljaXBhbnRbXTtcclxuICAvKipcclxuICAgKiBUaGUgYXBwb2ludG1lbnQgdGhhdCBzY2hlZHVsZWQgdGhpcyBlbmNvdW50ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGFwcG9pbnRtZW50PzogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBJZiBub3QgKHlldCkga25vd24sIHRoZSBlbmQgb2YgdGhlIFBlcmlvZCBtYXkgYmUgb21pdHRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1heSBkaWZmZXIgZnJvbSB0aGUgdGltZSB0aGUgRW5jb3VudGVyLnBlcmlvZCBsYXN0ZWQgYmVjYXVzZSBvZiBsZWF2ZSBvZiBhYnNlbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsZW5ndGg/OiBmaGlyLkR1cmF0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3Igc3lzdGVtcyB0aGF0IG5lZWQgdG8ga25vdyB3aGljaCB3YXMgdGhlIHByaW1hcnkgZGlhZ25vc2lzLCB0aGVzZSB3aWxsIGJlIG1hcmtlZCB3aXRoIHRoZSBzdGFuZGFyZCBleHRlbnNpb24gcHJpbWFyeURpYWdub3NpcyAod2hpY2ggaXMgYSBzZXF1ZW5jZSB2YWx1ZSByYXRoZXIgdGhhbiBhIGZsYWcsIDEgPSBwcmltYXJ5IGRpYWdub3NpcykuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYXNvbkNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZvciBzeXN0ZW1zIHRoYXQgbmVlZCB0byBrbm93IHdoaWNoIHdhcyB0aGUgcHJpbWFyeSBkaWFnbm9zaXMsIHRoZXNlIHdpbGwgYmUgbWFya2VkIHdpdGggdGhlIHN0YW5kYXJkIGV4dGVuc2lvbiBwcmltYXJ5RGlhZ25vc2lzICh3aGljaCBpcyBhIHNlcXVlbmNlIHZhbHVlIHJhdGhlciB0aGFuIGEgZmxhZywgMSA9IHByaW1hcnkgZGlhZ25vc2lzKS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgbGlzdCBvZiBkaWFnbm9zaXMgcmVsZXZhbnQgdG8gdGhpcyBlbmNvdW50ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGRpYWdub3Npcz86IGZoaXIuRW5jb3VudGVyRGlhZ25vc2lzW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGJpbGxpbmcgc3lzdGVtIG1heSBjaG9vc2UgdG8gYWxsb2NhdGUgYmlsbGFibGUgaXRlbXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBFbmNvdW50ZXIgdG8gZGlmZmVyZW50IHJlZmVyZW5jZWQgQWNjb3VudHMgYmFzZWQgb24gaW50ZXJuYWwgYnVzaW5lc3MgcnVsZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGFjY291bnQ/OiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEFuIEVuY291bnRlciBtYXkgY292ZXIgbW9yZSB0aGFuIGp1c3QgdGhlIGlucGF0aWVudCBzdGF5LiBDb250ZXh0cyBzdWNoIGFzIG91dHBhdGllbnRzLCBjb21tdW5pdHkgY2xpbmljcywgYW5kIGFnZWQgY2FyZSBmYWNpbGl0aWVzIGFyZSBhbHNvIGluY2x1ZGVkLlxyXG4gICAqIFRoZSBkdXJhdGlvbiByZWNvcmRlZCBpbiB0aGUgcGVyaW9kIG9mIHRoaXMgZW5jb3VudGVyIGNvdmVycyB0aGUgZW50aXJlIHNjb3BlIG9mIHRoaXMgaG9zcGl0YWxpemF0aW9uIHJlY29yZC5cclxuICAgKi9cclxuICBwdWJsaWMgaG9zcGl0YWxpemF0aW9uPzogZmhpci5FbmNvdW50ZXJIb3NwaXRhbGl6YXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFZpcnR1YWwgZW5jb3VudGVycyBjYW4gYmUgcmVjb3JkZWQgaW4gdGhlIEVuY291bnRlciBieSBzcGVjaWZ5aW5nIGEgbG9jYXRpb24gcmVmZXJlbmNlIHRvIGEgbG9jYXRpb24gb2YgdHlwZSBcImtpbmRcIiBzdWNoIGFzIFwiY2xpZW50J3MgaG9tZVwiIGFuZCBhbiBlbmNvdW50ZXIuY2xhc3MgPSBcInZpcnR1YWxcIi5cclxuICAgKi9cclxuICBwdWJsaWMgbG9jYXRpb24/OiBmaGlyLkVuY291bnRlckxvY2F0aW9uW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXphdGlvbiB0aGF0IGlzIHByaW1hcmlseSByZXNwb25zaWJsZSBmb3IgdGhpcyBFbmNvdW50ZXIncyBzZXJ2aWNlcy4gVGhpcyBNQVkgYmUgdGhlIHNhbWUgYXMgdGhlIG9yZ2FuaXphdGlvbiBvbiB0aGUgUGF0aWVudCByZWNvcmQsIGhvd2V2ZXIgaXQgY291bGQgYmUgZGlmZmVyZW50LCBzdWNoIGFzIGlmIHRoZSBhY3RvciBwZXJmb3JtaW5nIHRoZSBzZXJ2aWNlcyB3YXMgZnJvbSBhbiBleHRlcm5hbCBvcmdhbml6YXRpb24gKHdoaWNoIG1heSBiZSBiaWxsZWQgc2VwZXJhdGVseSkgZm9yIGFuIGV4dGVybmFsIGNvbnN1bHRhdGlvbi4gIFJlZmVyIHRvIHRoZSBleGFtcGxlIGJ1bmRsZSBzaG93aW5nIGFuIGFiYnJldmlhdGVkIHNldCBvZiBFbmNvdW50ZXJzIGZvciBhIGNvbG9ub3Njb3B5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJ2aWNlUHJvdmlkZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBhbHNvIHVzZWQgZm9yIGFzc29jaWF0aW5nIGEgY2hpbGQncyBlbmNvdW50ZXIgYmFjayB0byB0aGUgbW90aGVyJ3MgZW5jb3VudGVyLlxyXG4gICAqIFJlZmVyIHRvIHRoZSBOb3RlcyBzZWN0aW9uIGluIHRoZSBQYXRpZW50IHJlc291cmNlIGZvciBmdXJ0aGVyIGRldGFpbHMuXHJcbiAgICovXHJcbiAgcHVibGljIHBhcnRPZj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBFbmNvdW50ZXIgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxFbmNvdW50ZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnRW5jb3VudGVyJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gc291cmNlLnN0YXR1czsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzSGlzdG9yeSddKSB7IHRoaXMuc3RhdHVzSGlzdG9yeSA9IHNvdXJjZS5zdGF0dXNIaXN0b3J5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuRW5jb3VudGVyU3RhdHVzSGlzdG9yeSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1c0hpc3RvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xhc3MnXSkgeyB0aGlzLmNsYXNzID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5jbGFzcyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNsYXNzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xhc3NIaXN0b3J5J10pIHsgdGhpcy5jbGFzc0hpc3RvcnkgPSBzb3VyY2UuY2xhc3NIaXN0b3J5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuRW5jb3VudGVyQ2xhc3NIaXN0b3J5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2xhc3NIaXN0b3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VydmljZVR5cGUnXSkgeyB0aGlzLnNlcnZpY2VUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zZXJ2aWNlVHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByaW9yaXR5J10pIHsgdGhpcy5wcmlvcml0eSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucHJpb3JpdHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXBpc29kZU9mQ2FyZSddKSB7IHRoaXMuZXBpc29kZU9mQ2FyZSA9IHNvdXJjZS5lcGlzb2RlT2ZDYXJlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXBpc29kZU9mQ2FyZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydiYXNlZE9uJ10pIHsgdGhpcy5iYXNlZE9uID0gc291cmNlLmJhc2VkT24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5iYXNlZE9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhcnRpY2lwYW50J10pIHsgdGhpcy5wYXJ0aWNpcGFudCA9IHNvdXJjZS5wYXJ0aWNpcGFudC5tYXAoKHgpID0+IG5ldyBmaGlyLkVuY291bnRlclBhcnRpY2lwYW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFydGljaXBhbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXBwb2ludG1lbnQnXSkgeyB0aGlzLmFwcG9pbnRtZW50ID0gc291cmNlLmFwcG9pbnRtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXBwb2ludG1lbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2xlbmd0aCddKSB7IHRoaXMubGVuZ3RoID0gbmV3IGZoaXIuRHVyYXRpb24oc291cmNlLmxlbmd0aCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbkNvZGUnXSkgeyB0aGlzLnJlYXNvbkNvZGUgPSBzb3VyY2UucmVhc29uQ29kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlYXNvbkNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uUmVmZXJlbmNlJ10pIHsgdGhpcy5yZWFzb25SZWZlcmVuY2UgPSBzb3VyY2UucmVhc29uUmVmZXJlbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVhc29uUmVmZXJlbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2RpYWdub3NpcyddKSB7IHRoaXMuZGlhZ25vc2lzID0gc291cmNlLmRpYWdub3Npcy5tYXAoKHgpID0+IG5ldyBmaGlyLkVuY291bnRlckRpYWdub3Npcyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRpYWdub3NpcyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhY2NvdW50J10pIHsgdGhpcy5hY2NvdW50ID0gc291cmNlLmFjY291bnQubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hY2NvdW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2hvc3BpdGFsaXphdGlvbiddKSB7IHRoaXMuaG9zcGl0YWxpemF0aW9uID0gbmV3IGZoaXIuRW5jb3VudGVySG9zcGl0YWxpemF0aW9uKHNvdXJjZS5ob3NwaXRhbGl6YXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydsb2NhdGlvbiddKSB7IHRoaXMubG9jYXRpb24gPSBzb3VyY2UubG9jYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5FbmNvdW50ZXJMb2NhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmxvY2F0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcnZpY2VQcm92aWRlciddKSB7IHRoaXMuc2VydmljZVByb3ZpZGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zZXJ2aWNlUHJvdmlkZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0T2YnXSkgeyB0aGlzLnBhcnRPZiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGFydE9mKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHN0YXR1cyAoRW5jb3VudGVyLnN0YXR1cylcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHN0YXR1c1JlcXVpcmVkQ29kaW5nKCk6RW5jb3VudGVyU3RhdHVzQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gRW5jb3VudGVyU3RhdHVzQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIGNsYXNzIChFbmNvdW50ZXIuY2xhc3MpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBjbGFzc0V4dGVuc2libGVDb2RpbmcoKTpWM0FjdEVuY291bnRlckNvZGVDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBWM0FjdEVuY291bnRlckNvZGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBQcmVmZXJyZWQtYm91bmQgVmFsdWUgU2V0IGZvciByZWFzb25Db2RlIChFbmNvdW50ZXIucmVhc29uQ29kZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJlYXNvbkNvZGVQcmVmZXJyZWRDb2RpbmcoKTpFbmNvdW50ZXJSZWFzb25Db2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBFbmNvdW50ZXJSZWFzb25Db2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZVR5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCAgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZTpcIkVuY291bnRlclwiIGZoaXI6IEVuY291bnRlci5yZXNvdXJjZVR5cGU6XCJFbmNvdW50ZXJcIicsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJpZGVudGlmaWVyXCJdKSB7IHRoaXMuaWRlbnRpZmllci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICghdGhpc1snc3RhdHVzJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBzdGF0dXM6RW5jb3VudGVyU3RhdHVzQ29kZVR5cGUgZmhpcjogRW5jb3VudGVyLnN0YXR1czpjb2RlJywgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInN0YXR1c0hpc3RvcnlcIl0pIHsgdGhpcy5zdGF0dXNIaXN0b3J5LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKCF0aGlzWydjbGFzcyddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsICBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgY2xhc3M6Zmhpci5Db2RpbmcgZmhpcjogRW5jb3VudGVyLmNsYXNzOkNvZGluZycsIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJjbGFzc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmNsYXNzLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNsYXNzSGlzdG9yeVwiXSkgeyB0aGlzLmNsYXNzSGlzdG9yeS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyB0aGlzLnR5cGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInNlcnZpY2VUeXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc2VydmljZVR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHJpb3JpdHlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wcmlvcml0eS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdWJqZWN0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc3ViamVjdC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJlcGlzb2RlT2ZDYXJlXCJdKSB7IHRoaXMuZXBpc29kZU9mQ2FyZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiYmFzZWRPblwiXSkgeyB0aGlzLmJhc2VkT24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInBhcnRpY2lwYW50XCJdKSB7IHRoaXMucGFydGljaXBhbnQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcImFwcG9pbnRtZW50XCJdKSB7IHRoaXMuYXBwb2ludG1lbnQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInBlcmlvZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBlcmlvZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJsZW5ndGhcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5sZW5ndGguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicmVhc29uQ29kZVwiXSkgeyB0aGlzLnJlYXNvbkNvZGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInJlYXNvblJlZmVyZW5jZVwiXSkgeyB0aGlzLnJlYXNvblJlZmVyZW5jZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiZGlhZ25vc2lzXCJdKSB7IHRoaXMuZGlhZ25vc2lzLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJhY2NvdW50XCJdKSB7IHRoaXMuYWNjb3VudC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiaG9zcGl0YWxpemF0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuaG9zcGl0YWxpemF0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImxvY2F0aW9uXCJdKSB7IHRoaXMubG9jYXRpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcInNlcnZpY2VQcm92aWRlclwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNlcnZpY2VQcm92aWRlci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwYXJ0T2ZcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wYXJ0T2YuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==