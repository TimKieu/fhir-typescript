// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Coverage
import * as fhir from '../fhir.js';
// @ts-ignore
import { FmStatusVsValidation } from '../fhirValueSets/FmStatusVsValidation.js';
/**
 * For example may be used to identify a class of coverage or employer group, Policy, Plan.
 */
export class CoverageClass extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageClass - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        else {
            this.value = null;
        }
        if (source['_value']) {
            if (this.value) {
                this.value.addExtendedProperties(source._value);
            }
            else {
                this.value = new fhir.FhirString(source._value);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Coverage.class';
        }
        this.vReqS('type', expression);
        this.vReqS('value', expression);
        this.vOptS('name', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageClass._fts_dataType = 'CoverageClass';
/**
 * A suite of codes indicating exceptions or reductions to patient costs and their effective periods.
 */
export class CoverageCostToBeneficiaryException extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageCostToBeneficiaryException - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Coverage.costToBeneficiary.exception';
        }
        this.vReqS('type', expression);
        this.vOptS('period', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageCostToBeneficiaryException._fts_dataType = 'CoverageCostToBeneficiaryException';
/**
 * For example by knowing the patient visit co-pay, the provider can collect the amount prior to undertaking treatment.
 */
export class CoverageCostToBeneficiary extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageCostToBeneficiary - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueMoney']) {
            this.value = new fhir.Money(source.valueMoney);
        }
        else {
            this.value = null;
        }
        if (source['exception']) {
            this.exception = source.exception.map((x) => new fhir.CoverageCostToBeneficiaryException(x));
        }
        else {
            this.exception = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Coverage.costToBeneficiary';
        }
        this.vOptS('type', expression);
        this.vReqS('value', expression);
        this.vOptA('exception', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageCostToBeneficiary._fts_dataType = 'CoverageCostToBeneficiary';
/**
 * Internal flag to properly serialize choice-type element Coverage.costToBeneficiary.value[x]
 */
CoverageCostToBeneficiary._fts_valueIsChoice = true;
/**
 * Financial instrument which may be used to reimburse or pay for health care products and services. Includes both insurance and self-payment.
 */
export class Coverage extends fhir.DomainResource {
    /**
     * Default constructor for Coverage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Coverage';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['policyHolder']) {
            this.policyHolder = new fhir.Reference(source.policyHolder);
        }
        if (source['subscriber']) {
            this.subscriber = new fhir.Reference(source.subscriber);
        }
        if (source['subscriberId']) {
            this.subscriberId = new fhir.FhirString({ value: source.subscriberId });
        }
        if (source['_subscriberId']) {
            if (this.subscriberId) {
                this.subscriberId.addExtendedProperties(source._subscriberId);
            }
            else {
                this.subscriberId = new fhir.FhirString(source._subscriberId);
            }
        }
        if (source['beneficiary']) {
            this.beneficiary = new fhir.Reference(source.beneficiary);
        }
        else {
            this.beneficiary = null;
        }
        if (source['dependent']) {
            this.dependent = new fhir.FhirString({ value: source.dependent });
        }
        if (source['_dependent']) {
            if (this.dependent) {
                this.dependent.addExtendedProperties(source._dependent);
            }
            else {
                this.dependent = new fhir.FhirString(source._dependent);
            }
        }
        if (source['relationship']) {
            this.relationship = new fhir.CodeableConcept(source.relationship);
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        if (source['payor']) {
            this.payor = source.payor.map((x) => new fhir.Reference(x));
        }
        else {
            this.payor = [];
        }
        if (source['class']) {
            this.class = source.class.map((x) => new fhir.CoverageClass(x));
        }
        else {
            this.class = [];
        }
        if (source['order']) {
            this.order = new fhir.FhirPositiveInt({ value: source.order });
        }
        if (source['_order']) {
            if (this.order) {
                this.order.addExtendedProperties(source._order);
            }
            else {
                this.order = new fhir.FhirPositiveInt(source._order);
            }
        }
        if (source['network']) {
            this.network = new fhir.FhirString({ value: source.network });
        }
        if (source['_network']) {
            if (this.network) {
                this.network.addExtendedProperties(source._network);
            }
            else {
                this.network = new fhir.FhirString(source._network);
            }
        }
        if (source['costToBeneficiary']) {
            this.costToBeneficiary = source.costToBeneficiary.map((x) => new fhir.CoverageCostToBeneficiary(x));
        }
        else {
            this.costToBeneficiary = [];
        }
        if (source['subrogation']) {
            this.subrogation = new fhir.FhirBoolean({ value: source.subrogation });
        }
        if (source['_subrogation']) {
            if (this.subrogation) {
                this.subrogation.addExtendedProperties(source._subrogation);
            }
            else {
                this.subrogation = new fhir.FhirBoolean(source._subrogation);
            }
        }
        if (source['contract']) {
            this.contract = source.contract.map((x) => new fhir.Reference(x));
        }
        else {
            this.contract = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'Coverage';
        }
        this.vReqS('resourceType', expression);
        this.vOptA('identifier', expression);
        this.vReqSV('status', expression, 'FmStatus', FmStatusVsValidation, 'r');
        this.vOptS('type', expression);
        this.vOptS('policyHolder', expression);
        this.vOptS('subscriber', expression);
        this.vOptS('subscriberId', expression);
        this.vReqS('beneficiary', expression);
        this.vOptS('dependent', expression);
        this.vOptS('relationship', expression);
        this.vOptS('period', expression);
        this.vReqA('payor', expression);
        this.vOptA('class', expression);
        this.vOptS('order', expression);
        this.vOptS('network', expression);
        this.vOptA('costToBeneficiary', expression);
        this.vOptS('subrogation', expression);
        this.vOptA('contract', expression);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Coverage._fts_dataType = 'Coverage';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ292ZXJhZ2UuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0NvdmVyYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDBCQUEwQjtBQUUxQixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQWdCbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBbUNoRjs7R0FFRztBQUNILE1BQU0sT0FBTyxhQUFjLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQnJEOztPQUVHO0lBQ0gsWUFBWSxTQUFvQyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMxRixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDckU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUM7U0FBRTthQUM1RTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDM0IsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDcEIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUFFLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLE1BQU8sQ0FBQyxDQUFDO2FBQUU7aUJBQ2hFO2dCQUFFLElBQUksQ0FBQyxL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Q0FBQyxtQkFBbUIsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUMxQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBQyxVQUFVLENBQUMsQ0FBQTtRQUNqQyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTdKRDs7R0FFRztBQUM2QixzQkFBYSxHQUFVLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQ292ZXJhZ2VcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvdmVyYWdlQ2xhc3NDb2RlcywgIENvdmVyYWdlQ2xhc3NDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ292ZXJhZ2VDbGFzc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZUNsYXNzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db3ZlcmFnZUNsYXNzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZUZpbmFuY2lhbEV4Y2VwdGlvbkNvZGVzLCAgQ292ZXJhZ2VGaW5hbmNpYWxFeGNlcHRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ292ZXJhZ2VGaW5hbmNpYWxFeGNlcHRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ292ZXJhZ2VGaW5hbmNpYWxFeGNlcHRpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvdmVyYWdlRmluYW5jaWFsRXhjZXB0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZUNvcGF5VHlwZUNvZGVzLCAgQ292ZXJhZ2VDb3BheVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ292ZXJhZ2VDb3BheVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ292ZXJhZ2VDb3BheVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvdmVyYWdlQ29wYXlUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBGbVN0YXR1c0NvZGVzLCAgRm1TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRm1TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm1TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ZtU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZVR5cGVDb2RlcywgIENvdmVyYWdlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db3ZlcmFnZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ292ZXJhZ2VUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db3ZlcmFnZVR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFN1YnNjcmliZXJSZWxhdGlvbnNoaXBDb2RlcywgIFN1YnNjcmliZXJSZWxhdGlvbnNoaXBDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3Vic2NyaWJlclJlbGF0aW9uc2hpcENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTdWJzY3JpYmVyUmVsYXRpb25zaGlwVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TdWJzY3JpYmVyUmVsYXRpb25zaGlwVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvdmVyYWdlQ2xhc3MgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ292ZXJhZ2VDbGFzc0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGNsYXNzaWZpY2F0aW9uIGZvciB3aGljaCBhbiBpbnN1cmVyLXNwZWNpZmljIGNsYXNzIGxhYmVsIG9yIG51bWJlciBhbmQgb3B0aW9uYWwgbmFtZSBpcyBwcm92aWRlZCwgZm9yIGV4YW1wbGUgbWF5IGJlIHVzZWQgdG8gaWRlbnRpZnkgYSBjbGFzcyBvZiBjb3ZlcmFnZSBvciBlbXBsb3llciBncm91cCwgUG9saWN5LCBQbGFuLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlLCB0aGUgR3JvdXAgb3IgUGxhbiBudW1iZXIuXHJcbiAgICovXHJcbiAgdmFsdWU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZS5jbGFzcy52YWx1ZVxyXG4gICAqL1xyXG4gIF92YWx1ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBzaG9ydCBkZXNjcmlwdGlvbiBmb3IgdGhlIGNsYXNzLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ292ZXJhZ2UuY2xhc3MubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvciBleGFtcGxlIG1heSBiZSB1c2VkIHRvIGlkZW50aWZ5IGEgY2xhc3Mgb2YgY292ZXJhZ2Ugb3IgZW1wbG95ZXIgZ3JvdXAsIFBvbGljeSwgUGxhbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb3ZlcmFnZUNsYXNzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ292ZXJhZ2VDbGFzcyc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgY2xhc3NpZmljYXRpb24gZm9yIHdoaWNoIGFuIGluc3VyZXItc3BlY2lmaWMgY2xhc3MgbGFiZWwgb3IgbnVtYmVyIGFuZCBvcHRpb25hbCBuYW1lIGlzIHByb3ZpZGVkLCBmb3IgZXhhbXBsZSBtYXkgYmUgdXNlZCB0byBpZGVudGlmeSBhIGNsYXNzIG9mIGNvdmVyYWdlIG9yIGVtcGxveWVyIGdyb3VwLCBQb2xpY3ksIFBsYW4uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIHRoZSBHcm91cCBvciBQbGFuIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgc2hvcnQgZGVzY3JpcHRpb24gZm9yIHRoZSBjbGFzcy5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ292ZXJhZ2VDbGFzcyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlQ2xhc3NBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZhbHVlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudmFsdWUpIHsgdGhpcy52YWx1ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92YWx1ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZhbHVlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19uYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMubmFtZSkgeyB0aGlzLm5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdDb3ZlcmFnZS5jbGFzcycgfVxyXG4gICAgdGhpcy52UmVxUygndHlwZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudlJlcVMoJ3ZhbHVlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygnbmFtZScsZXhwcmVzc2lvbilcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5RXhjZXB0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlFeGNlcHRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgY29kZSBmb3IgdGhlIHNwZWNpZmljIGV4Y2VwdGlvbi5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZWZyYW1lIGR1cmluZyB3aGVuIHRoZSBleGNlcHRpb24gaXMgaW4gZm9yY2UuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc3VpdGUgb2YgY29kZXMgaW5kaWNhdGluZyBleGNlcHRpb25zIG9yIHJlZHVjdGlvbnMgdG8gcGF0aWVudCBjb3N0cyBhbmQgdGhlaXIgZWZmZWN0aXZlIHBlcmlvZHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeUV4Y2VwdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlFeGNlcHRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlIGZvciB0aGUgc3BlY2lmaWMgZXhjZXB0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lZnJhbWUgZHVyaW5nIHdoZW4gdGhlIGV4Y2VwdGlvbiBpcyBpbiBmb3JjZS5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlFeGNlcHRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5RXhjZXB0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnBlcmlvZCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQ292ZXJhZ2UuY29zdFRvQmVuZWZpY2lhcnkuZXhjZXB0aW9uJyB9XHJcbiAgICB0aGlzLnZSZXFTKCd0eXBlJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0UygncGVyaW9kJyxleHByZXNzaW9uKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIHZpc2l0LCBzcGVjaWFsaXN0IHZpc2l0cywgZW1lcmdlbmN5LCBpbnBhdGllbnQgY2FyZSwgZXRjLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFtb3VudCBtYXkgYmUgZXhwcmVzc2VkIGFzIGEgcGVyY2VudGFnZSBvZiB0aGUgc2VydmljZS9wcm9kdWN0IGNvc3Qgb3IgYSBmaXhlZCBhbW91bnQgb2YgY3VycmVuY3kuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLlF1YW50aXR5fGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFtb3VudCBtYXkgYmUgZXhwcmVzc2VkIGFzIGEgcGVyY2VudGFnZSBvZiB0aGUgc2VydmljZS9wcm9kdWN0IGNvc3Qgb3IgYSBmaXhlZCBhbW91bnQgb2YgY3VycmVuY3kuXHJcbiAgICovXHJcbiAgdmFsdWVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbW91bnQgbWF5IGJlIGV4cHJlc3NlZCBhcyBhIHBlcmNlbnRhZ2Ugb2YgdGhlIHNlcnZpY2UvcHJvZHVjdCBjb3N0IG9yIGEgZml4ZWQgYW1vdW50IG9mIGN1cnJlbmN5LlxyXG4gICAqL1xyXG4gIHZhbHVlTW9uZXk/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzdWl0ZSBvZiBjb2RlcyBpbmRpY2F0aW5nIGV4Y2VwdGlvbnMgb3IgcmVkdWN0aW9ucyB0byBwYXRpZW50IGNvc3RzIGFuZCB0aGVpciBlZmZlY3RpdmUgcGVyaW9kcy5cclxuICAgKi9cclxuICBleGNlcHRpb24/OiBmaGlyLkNvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlFeGNlcHRpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRm9yIGV4YW1wbGUgYnkga25vd2luZyB0aGUgcGF0aWVudCB2aXNpdCBjby1wYXksIHRoZSBwcm92aWRlciBjYW4gY29sbGVjdCB0aGUgYW1vdW50IHByaW9yIHRvIHVuZGVydGFraW5nIHRyZWF0bWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeSc7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgdmlzaXQsIHNwZWNpYWxpc3QgdmlzaXRzLCBlbWVyZ2VuY3ksIGlucGF0aWVudCBjYXJlLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW1vdW50IG1heSBiZSBleHByZXNzZWQgYXMgYSBwZXJjZW50YWdlIG9mIHRoZSBzZXJ2aWNlL3Byb2R1Y3QgY29zdCBvciBhIGZpeGVkIGFtb3VudCBvZiBjdXJyZW5jeS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU6IChmaGlyLlF1YW50aXR5fGZoaXIuTW9uZXkpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDb3ZlcmFnZS5jb3N0VG9CZW5lZmljaWFyeS52YWx1ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c192YWx1ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEEgc3VpdGUgb2YgY29kZXMgaW5kaWNhdGluZyBleGNlcHRpb25zIG9yIHJlZHVjdGlvbnMgdG8gcGF0aWVudCBjb3N0cyBhbmQgdGhlaXIgZWZmZWN0aXZlIHBlcmlvZHMuXHJcbiAgICovXHJcbiAgcHVibGljIGV4Y2VwdGlvbjogZmhpci5Db3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5RXhjZXB0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVF1YW50aXR5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS52YWx1ZVF1YW50aXR5KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZU1vbmV5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS52YWx1ZU1vbmV5KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsdWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydleGNlcHRpb24nXSkgeyB0aGlzLmV4Y2VwdGlvbiA9IHNvdXJjZS5leGNlcHRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5RXhjZXB0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXhjZXB0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQ292ZXJhZ2UuY29zdFRvQmVuZWZpY2lhcnknIH1cclxuICAgIHRoaXMudk9wdFMoJ3R5cGUnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZSZXFTKCd2YWx1ZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2V4Y2VwdGlvbicsZXhwcmVzc2lvbilcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb3ZlcmFnZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb3ZlcmFnZUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkNvdmVyYWdlXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYWluIChhbmQgcG9zc2libHkgb25seSkgaWRlbnRpZmllciBmb3IgdGhlIGNvdmVyYWdlIC0gb2Z0ZW4gcmVmZXJyZWQgdG8gYXMgYSBNZW1iZXIgSWQsIENlcnRpZmljYXRlIG51bWJlciwgUGVyc29uYWwgSGVhbHRoIE51bWJlciBvciBDYXNlIElELiBNYXkgYmUgY29uc3RydWN0ZWQgYXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIENvdmVyYWdlLlN1YnNjcmliZXJJRCBhbmQgdGhlIENvdmVyYWdlLmRlcGVuZGFudC5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyB0aGUgY29kZSBlbnRlcmVkLWluLWVycm9yIHRoYXQgbWFya3MgdGhlIGNvdmVyYWdlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPEZtU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvdmVyYWdlLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGNvdmVyYWdlOiBzb2NpYWwgcHJvZ3JhbSwgbWVkaWNhbCBwbGFuLCBhY2NpZGVudCBjb3ZlcmFnZSAod29ya2VycyBjb21wZW5zYXRpb24sIGF1dG8pLCBncm91cCBoZWFsdGggb3IgcGF5bWVudCBieSBhbiBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbi5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogbWF5IGJlIGFuIGluZGl2aWR1YWwsIGNvcnBvcmF0aW9uIG9yIHRoZSBzdWJzY3JpYmVyJ3MgZW1wbG95ZXIuXHJcbiAgICovXHJcbiAgcG9saWN5SG9sZGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgYmUgc2VsZiBvciBhIHBhcmVudCBpbiB0aGUgY2FzZSBvZiBkZXBlbmRhbnRzLlxyXG4gICAqL1xyXG4gIHN1YnNjcmliZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnN1cmVyIGFzc2lnbmVkIElEIGZvciB0aGUgU3Vic2NyaWJlci5cclxuICAgKi9cclxuICBzdWJzY3JpYmVySWQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ292ZXJhZ2Uuc3Vic2NyaWJlcklkXHJcbiAgICovXHJcbiAgX3N1YnNjcmliZXJJZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhcnR5IHdobyBiZW5lZml0cyBmcm9tIHRoZSBpbnN1cmFuY2UgY292ZXJhZ2U7IHRoZSBwYXRpZW50IHdoZW4gcHJvZHVjdHMgYW5kL29yIHNlcnZpY2VzIGFyZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBiZW5lZmljaWFyeTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUGVyaW9kaWNhbGx5IHRoZSBtZW1iZXIgbnVtYmVyIGlzIGNvbnN0cnVjdGVkIGZyb20gdGhlIHN1YnNjcmliZXJJZCBhbmQgdGhlIGRlcGVuZGFudCBudW1iZXIuXHJcbiAgICovXHJcbiAgZGVwZW5kZW50PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvdmVyYWdlLmRlcGVuZGVudFxyXG4gICAqL1xyXG4gIF9kZXBlbmRlbnQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgYW4gaW5kaXZpZHVhbCB1c2VzIHBvbGljaWVzIHdoaWNoIGFyZSB0aGVpcnMgKHJlbGF0aW9uc2hpcD0nc2VsZicpIGJlZm9yZSBwb2xpY2llcyBvd25lZCBieSBvdGhlcnMuXHJcbiAgICovXHJcbiAgcmVsYXRpb25zaGlwPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaW1lIHBlcmlvZCBkdXJpbmcgd2hpY2ggdGhlIGNvdmVyYWdlIGlzIGluIGZvcmNlLiBBIG1pc3Npbmcgc3RhcnQgZGF0ZSBpbmRpY2F0ZXMgdGhlIHN0YXJ0IGRhdGUgaXNuJ3Qga25vd24sIGEgbWlzc2luZyBlbmQgZGF0ZSBtZWFucyB0aGUgY292ZXJhZ2UgaXMgY29udGludWluZyB0byBiZSBpbiBmb3JjZS5cclxuICAgKi9cclxuICBwZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1heSBwcm92aWRlIG11bHRpcGxlIGlkZW50aWZpZXJzIHN1Y2ggYXMgaW5zdXJhbmNlIGNvbXBhbnkgaWRlbnRpZmllciBvciBidXNpbmVzcyBpZGVudGlmaWVyIChCSU4gbnVtYmVyKS5cclxuICAgKiBGb3Igc2VsZnBheSBpdCBtYXkgcHJvdmlkZSBtdWx0aXBsZSBwYXlpbmcgcGVyc29ucyBhbmQvb3Igb3JnYW5pemF0aW9ucy5cclxuICAgKi9cclxuICBwYXlvcjogZmhpci5SZWZlcmVuY2VBcmdzW118bnVsbDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSBtYXkgYmUgdXNlZCB0byBpZGVudGlmeSBhIGNsYXNzIG9mIGNvdmVyYWdlIG9yIGVtcGxveWVyIGdyb3VwLCBQb2xpY3ksIFBsYW4uXHJcbiAgICovXHJcbiAgY2xhc3M/OiBmaGlyLkNvdmVyYWdlQ2xhc3NBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmRlciBvZiBhcHBsaWNhYmlsaXR5IG9mIHRoaXMgY292ZXJhZ2UgcmVsYXRpdmUgdG8gb3RoZXIgY292ZXJhZ2VzIHdoaWNoIGFyZSBjdXJyZW50bHkgaW4gZm9yY2UuIE5vdGUsIHRoZXJlIG1heSBiZSBnYXBzIGluIHRoZSBudW1iZXJpbmcgYW5kIHRoaXMgZG9lcyBub3QgaW1wbHkgcHJpbWFyeSwgc2Vjb25kYXJ5IGV0Yy4gYXMgdGhlIHNwZWNpZmljIHBvc2l0aW9uaW5nIG9mIGNvdmVyYWdlcyBkZXBlbmRzIHVwb24gdGhlIGVwaXNvZGUgb2YgY2FyZS5cclxuICAgKi9cclxuICBvcmRlcj86IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvdmVyYWdlLm9yZGVyXHJcbiAgICovXHJcbiAgX29yZGVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgaW5zdXJlci1zcGVjaWZpYyBpZGVudGlmaWVyIGZvciB0aGUgaW5zdXJlci1kZWZpbmVkIG5ldHdvcmsgb2YgcHJvdmlkZXJzIHRvIHdoaWNoIHRoZSBiZW5lZmljaWFyeSBtYXkgc2VlayB0cmVhdG1lbnQgd2hpY2ggd2lsbCBiZSBjb3ZlcmVkIGF0IHRoZSAnaW4tbmV0d29yaycgcmF0ZSwgb3RoZXJ3aXNlICdvdXQgb2YgbmV0d29yaycgdGVybXMgYW5kIGNvbmRpdGlvbnMgYXBwbHkuXHJcbiAgICovXHJcbiAgbmV0d29yaz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZS5uZXR3b3JrXHJcbiAgICovXHJcbiAgX25ldHdvcms/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIGJ5IGtub3dpbmcgdGhlIHBhdGllbnQgdmlzaXQgY28tcGF5LCB0aGUgcHJvdmlkZXIgY2FuIGNvbGxlY3QgdGhlIGFtb3VudCBwcmlvciB0byB1bmRlcnRha2luZyB0cmVhdG1lbnQuXHJcbiAgICovXHJcbiAgY29zdFRvQmVuZWZpY2lhcnk/OiBmaGlyLkNvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgYXV0b21vdGl2ZSBhbmQgd29ya2VyJ3MgY29tcGVuc2F0aW9uIHBvbGljaWVzIHdvdWxkIGJlIGZsYWdnZWQgd2l0aCAnc3Vicm9nYXRpb249dHJ1ZScgdG8gZW5hYmxlIGhlYWx0aGNhcmUgcGF5b3JzIHRvIGNvbGxlY3QgYWdhaW5zdCBhY2NpZGVudCBjbGFpbXMuXHJcbiAgICovXHJcbiAgc3Vicm9nYXRpb24/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb3ZlcmFnZS5zdWJyb2dhdGlvblxyXG4gICAqL1xyXG4gIF9zdWJyb2dhdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBvbGljeShzKSB3aGljaCBjb25zdGl0dXRlIHRoaXMgaW5zdXJhbmNlIGNvdmVyYWdlLlxyXG4gICAqL1xyXG4gIGNvbnRyYWN0PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRmluYW5jaWFsIGluc3RydW1lbnQgd2hpY2ggbWF5IGJlIHVzZWQgdG8gcmVpbWJ1cnNlIG9yIHBheSBmb3IgaGVhbHRoIGNhcmUgcHJvZHVjdHMgYW5kIHNlcnZpY2VzLiBJbmNsdWRlcyBib3RoIGluc3VyYW5jZSBhbmQgc2VsZi1wYXltZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvdmVyYWdlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb3ZlcmFnZSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJDb3ZlcmFnZVwiO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYWluIChhbmQgcG9zc2libHkgb25seSkgaWRlbnRpZmllciBmb3IgdGhlIGNvdmVyYWdlIC0gb2Z0ZW4gcmVmZXJyZWQgdG8gYXMgYSBNZW1iZXIgSWQsIENlcnRpZmljYXRlIG51bWJlciwgUGVyc29uYWwgSGVhbHRoIE51bWJlciBvciBDYXNlIElELiBNYXkgYmUgY29uc3RydWN0ZWQgYXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIENvdmVyYWdlLlN1YnNjcmliZXJJRCBhbmQgdGhlIENvdmVyYWdlLmRlcGVuZGFudC5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGUgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmtzIHRoZSBjb3ZlcmFnZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBjb3ZlcmFnZTogc29jaWFsIHByb2dyYW0sIG1lZGljYWwgcGxhbiwgYWNjaWRlbnQgY292ZXJhZ2UgKHdvcmtlcnMgY29tcGVuc2F0aW9uLCBhdXRvKSwgZ3JvdXAgaGVhbHRoIG9yIHBheW1lbnQgYnkgYW4gaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IG1heSBiZSBhbiBpbmRpdmlkdWFsLCBjb3Jwb3JhdGlvbiBvciB0aGUgc3Vic2NyaWJlcidzIGVtcGxveWVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb2xpY3lIb2xkZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIHNlbGYgb3IgYSBwYXJlbnQgaW4gdGhlIGNhc2Ugb2YgZGVwZW5kYW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgc3Vic2NyaWJlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5zdXJlciBhc3NpZ25lZCBJRCBmb3IgdGhlIFN1YnNjcmliZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YnNjcmliZXJJZD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhcnR5IHdobyBiZW5lZml0cyBmcm9tIHRoZSBpbnN1cmFuY2UgY292ZXJhZ2U7IHRoZSBwYXRpZW50IHdoZW4gcHJvZHVjdHMgYW5kL29yIHNlcnZpY2VzIGFyZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgYmVuZWZpY2lhcnk6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUGVyaW9kaWNhbGx5IHRoZSBtZW1iZXIgbnVtYmVyIGlzIGNvbnN0cnVjdGVkIGZyb20gdGhlIHN1YnNjcmliZXJJZCBhbmQgdGhlIGRlcGVuZGFudCBudW1iZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGRlcGVuZGVudD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCBhbiBpbmRpdmlkdWFsIHVzZXMgcG9saWNpZXMgd2hpY2ggYXJlIHRoZWlycyAocmVsYXRpb25zaGlwPSdzZWxmJykgYmVmb3JlIHBvbGljaWVzIG93bmVkIGJ5IG90aGVycy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRpb25zaGlwPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWUgcGVyaW9kIGR1cmluZyB3aGljaCB0aGUgY292ZXJhZ2UgaXMgaW4gZm9yY2UuIEEgbWlzc2luZyBzdGFydCBkYXRlIGluZGljYXRlcyB0aGUgc3RhcnQgZGF0ZSBpc24ndCBrbm93biwgYSBtaXNzaW5nIGVuZCBkYXRlIG1lYW5zIHRoZSBjb3ZlcmFnZSBpcyBjb250aW51aW5nIHRvIGJlIGluIGZvcmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IHByb3ZpZGUgbXVsdGlwbGUgaWRlbnRpZmllcnMgc3VjaCBhcyBpbnN1cmFuY2UgY29tcGFueSBpZGVudGlmaWVyIG9yIGJ1c2luZXNzIGlkZW50aWZpZXIgKEJJTiBudW1iZXIpLlxyXG4gICAqIEZvciBzZWxmcGF5IGl0IG1heSBwcm92aWRlIG11bHRpcGxlIHBheWluZyBwZXJzb25zIGFuZC9vciBvcmdhbml6YXRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXlvcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSBtYXkgYmUgdXNlZCB0byBpZGVudGlmeSBhIGNsYXNzIG9mIGNvdmVyYWdlIG9yIGVtcGxveWVyIGdyb3VwLCBQb2xpY3ksIFBsYW4uXHJcbiAgICovXHJcbiAgcHVibGljIGNsYXNzOiBmaGlyLkNvdmVyYWdlQ2xhc3NbXTtcclxuICAvKipcclxuICAgKiBUaGUgb3JkZXIgb2YgYXBwbGljYWJpbGl0eSBvZiB0aGlzIGNvdmVyYWdlIHJlbGF0aXZlIHRvIG90aGVyIGNvdmVyYWdlcyB3aGljaCBhcmUgY3VycmVudGx5IGluIGZvcmNlLiBOb3RlLCB0aGVyZSBtYXkgYmUgZ2FwcyBpbiB0aGUgbnVtYmVyaW5nIGFuZCB0aGlzIGRvZXMgbm90IGltcGx5IHByaW1hcnksIHNlY29uZGFyeSBldGMuIGFzIHRoZSBzcGVjaWZpYyBwb3NpdGlvbmluZyBvZiBjb3ZlcmFnZXMgZGVwZW5kcyB1cG9uIHRoZSBlcGlzb2RlIG9mIGNhcmUuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZGVyPzogZmhpci5GaGlyUG9zaXRpdmVJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnN1cmVyLXNwZWNpZmljIGlkZW50aWZpZXIgZm9yIHRoZSBpbnN1cmVyLWRlZmluZWQgbmV0d29yayBvZiBwcm92aWRlcnMgdG8gd2hpY2ggdGhlIGJlbmVmaWNpYXJ5IG1heSBzZWVrIHRyZWF0bWVudCB3aGljaCB3aWxsIGJlIGNvdmVyZWQgYXQgdGhlICdpbi1uZXR3b3JrJyByYXRlLCBvdGhlcndpc2UgJ291dCBvZiBuZXR3b3JrJyB0ZXJtcyBhbmQgY29uZGl0aW9ucyBhcHBseS5cclxuICAgKi9cclxuICBwdWJsaWMgbmV0d29yaz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgYnkga25vd2luZyB0aGUgcGF0aWVudCB2aXNpdCBjby1wYXksIHRoZSBwcm92aWRlciBjYW4gY29sbGVjdCB0aGUgYW1vdW50IHByaW9yIHRvIHVuZGVydGFraW5nIHRyZWF0bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgY29zdFRvQmVuZWZpY2lhcnk6IGZoaXIuQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeVtdO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgYXV0b21vdGl2ZSBhbmQgd29ya2VyJ3MgY29tcGVuc2F0aW9uIHBvbGljaWVzIHdvdWxkIGJlIGZsYWdnZWQgd2l0aCAnc3Vicm9nYXRpb249dHJ1ZScgdG8gZW5hYmxlIGhlYWx0aGNhcmUgcGF5b3JzIHRvIGNvbGxlY3QgYWdhaW5zdCBhY2NpZGVudCBjbGFpbXMuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YnJvZ2F0aW9uPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBvbGljeShzKSB3aGljaCBjb25zdGl0dXRlIHRoaXMgaW5zdXJhbmNlIGNvdmVyYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250cmFjdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb3ZlcmFnZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0NvdmVyYWdlJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydwb2xpY3lIb2xkZXInXSkgeyB0aGlzLnBvbGljeUhvbGRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucG9saWN5SG9sZGVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3Vic2NyaWJlciddKSB7IHRoaXMuc3Vic2NyaWJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3Vic2NyaWJlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YnNjcmliZXJJZCddKSB7IHRoaXMuc3Vic2NyaWJlcklkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zdWJzY3JpYmVySWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N1YnNjcmliZXJJZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN1YnNjcmliZXJJZCkgeyB0aGlzLnN1YnNjcmliZXJJZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdWJzY3JpYmVySWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdWJzY3JpYmVySWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fc3Vic2NyaWJlcklkIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydiZW5lZmljaWFyeSddKSB7IHRoaXMuYmVuZWZpY2lhcnkgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmJlbmVmaWNpYXJ5KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYmVuZWZpY2lhcnkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXBlbmRlbnQnXSkgeyB0aGlzLmRlcGVuZGVudCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVwZW5kZW50fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXBlbmRlbnQnXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXBlbmRlbnQpIHsgdGhpcy5kZXBlbmRlbnQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVwZW5kZW50ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVwZW5kZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2RlcGVuZGVudCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVsYXRpb25zaGlwJ10pIHsgdGhpcy5yZWxhdGlvbnNoaXAgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJlbGF0aW9uc2hpcCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmlvZCddKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5wZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXlvciddKSB7IHRoaXMucGF5b3IgPSBzb3VyY2UucGF5b3IubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXlvciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjbGFzcyddKSB7IHRoaXMuY2xhc3MgPSBzb3VyY2UuY2xhc3MubWFwKCh4KSA9PiBuZXcgZmhpci5Db3ZlcmFnZUNsYXNzKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2xhc3MgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JkZXInXSkgeyB0aGlzLm9yZGVyID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLm9yZGVyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19vcmRlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLm9yZGVyKSB7IHRoaXMub3JkZXIuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fb3JkZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vcmRlciA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludChzb3VyY2UuX29yZGVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyUG9zaXRpdmVJbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25ldHdvcmsnXSkgeyB0aGlzLm5ldHdvcmsgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5ldHdvcmt9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25ldHdvcmsnXSkge1xyXG4gICAgICBpZiAodGhpcy5uZXR3b3JrKSB7IHRoaXMubmV0d29yay5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uZXR3b3JrISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmV0d29yayA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uZXR3b3JrIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb3N0VG9CZW5lZmljaWFyeSddKSB7IHRoaXMuY29zdFRvQmVuZWZpY2lhcnkgPSBzb3VyY2UuY29zdFRvQmVuZWZpY2lhcnkubWFwKCh4KSA9PiBuZXcgZmhpci5Db3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29zdFRvQmVuZWZpY2lhcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3Vicm9nYXRpb24nXSkgeyB0aGlzLnN1YnJvZ2F0aW9uID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2Uuc3Vicm9nYXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N1YnJvZ2F0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3Vicm9nYXRpb24pIHsgdGhpcy5zdWJyb2dhdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdWJyb2dhdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN1YnJvZ2F0aW9uID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9zdWJyb2dhdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRyYWN0J10pIHsgdGhpcy5jb250cmFjdCA9IHNvdXJjZS5jb250cmFjdC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRyYWN0ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQ292ZXJhZ2UnIH1cclxuICAgIHRoaXMudlJlcVMoJ3Jlc291cmNlVHlwZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdEEoJ2lkZW50aWZpZXInLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZSZXFTVignc3RhdHVzJyxleHByZXNzaW9uLCdGbVN0YXR1cycsRm1TdGF0dXNWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T3B0UygndHlwZScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3BvbGljeUhvbGRlcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3N1YnNjcmliZXInLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdzdWJzY3JpYmVySWQnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZSZXFTKCdiZW5lZmljaWFyeScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ2RlcGVuZGVudCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3JlbGF0aW9uc2hpcCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3BlcmlvZCcsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudlJlcUEoJ3BheW9yJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnY2xhc3MnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRTKCdvcmRlcicsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ25ldHdvcmsnLGV4cHJlc3Npb24pXHJcbiAgICB0aGlzLnZPcHRBKCdjb3N0VG9CZW5lZmljaWFyeScsZXhwcmVzc2lvbilcclxuICAgIHRoaXMudk9wdFMoJ3N1YnJvZ2F0aW9uJyxleHByZXNzaW9uKVxyXG4gICAgdGhpcy52T3B0QSgnY29udHJhY3QnLGV4cHJlc3Npb24pXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=