// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Coverage
import * as fhir from '../fhir.js';
// @ts-ignore
import { CoverageClassCodings, } from '../fhirValueSets/CoverageClassCodings.js';
// @ts-ignore
import { CoverageCopayTypeCodings, } from '../fhirValueSets/CoverageCopayTypeCodings.js';
// @ts-ignore
import { FmStatusCodes } from '../fhirValueSets/FmStatusCodes.js';
// @ts-ignore
import { CoverageTypeCodings, } from '../fhirValueSets/CoverageTypeCodings.js';
// @ts-ignore
import { SubscriberRelationshipCodings, } from '../fhirValueSets/SubscriberRelationshipCodings.js';
/**
 * For example may be used to identify a class of coverage or employer group, Policy, Plan.
 */
export class CoverageClass extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageClass - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = new fhir.FhirString({ value: source.value });
        }
        else {
            this.value = null;
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
    }
    /**
     * Extensible-bound Value Set for type (Coverage.class.type)
     */
    static get typeExtensibleCodings() {
        return CoverageClassCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: Coverage.class.type:CodeableConcept' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value:fhir.FhirString fhir: Coverage.class.value:string' });
        }
        if (this["value"]) {
            issues.push(...this.value.doModelValidation());
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageClass._fts_dataType = 'CoverageClass';
/**
 * A suite of codes indicating exceptions or reductions to patient costs and their effective periods.
 */
export class CoverageCostToBeneficiaryException extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageCostToBeneficiaryException - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.CodeableConcept fhir: Coverage.costToBeneficiary.exception.type:CodeableConcept' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageCostToBeneficiaryException._fts_dataType = 'CoverageCostToBeneficiaryException';
/**
 * For example by knowing the patient visit co-pay, the provider can collect the amount prior to undertaking treatment.
 */
export class CoverageCostToBeneficiary extends fhir.BackboneElement {
    /**
     * Default constructor for CoverageCostToBeneficiary - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueMoney']) {
            this.value = new fhir.Money(source.valueMoney);
        }
        else {
            this.value = null;
        }
        if (source['exception']) {
            this.exception = source.exception.map((x) => new fhir.CoverageCostToBeneficiaryException(x));
        }
        else {
            this.exception = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (Coverage.costToBeneficiary.type)
     */
    static get typeExtensibleCodings() {
        return CoverageCopayTypeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value: fhir: Coverage.costToBeneficiary.value[x]:' });
        }
        if (this["exception"]) {
            this.exception.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CoverageCostToBeneficiary._fts_dataType = 'CoverageCostToBeneficiary';
/**
 * Internal flag to properly serialize choice-type element Coverage.costToBeneficiary.value[x]
 */
CoverageCostToBeneficiary._fts_valueIsChoice = true;
/**
 * Financial instrument which may be used to reimburse or pay for health care products and services. Includes both insurance and self-payment.
 */
export class Coverage extends fhir.DomainResource {
    /**
     * Default constructor for Coverage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Coverage';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['policyHolder']) {
            this.policyHolder = new fhir.Reference(source.policyHolder);
        }
        if (source['subscriber']) {
            this.subscriber = new fhir.Reference(source.subscriber);
        }
        if (source['subscriberId']) {
            this.subscriberId = new fhir.FhirString({ value: source.subscriberId });
        }
        if (source['beneficiary']) {
            this.beneficiary = new fhir.Reference(source.beneficiary);
        }
        else {
            this.beneficiary = null;
        }
        if (source['dependent']) {
            this.dependent = new fhir.FhirString({ value: source.dependent });
        }
        if (source['relationship']) {
            this.relationship = new fhir.CodeableConcept(source.relationship);
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        if (source['payor']) {
            this.payor = source.payor.map((x) => new fhir.Reference(x));
        }
        else {
            this.payor = [];
        }
        if (source['class']) {
            this.class = source.class.map((x) => new fhir.CoverageClass(x));
        }
        else {
            this.class = [];
        }
        if (source['order']) {
            this.order = new fhir.FhirPositiveInt({ value: source.order });
        }
        if (source['network']) {
            this.network = new fhir.FhirString({ value: source.network });
        }
        if (source['costToBeneficiary']) {
            this.costToBeneficiary = source.costToBeneficiary.map((x) => new fhir.CoverageCostToBeneficiary(x));
        }
        else {
            this.costToBeneficiary = [];
        }
        if (source['subrogation']) {
            this.subrogation = new fhir.FhirBoolean({ value: source.subrogation });
        }
        if (source['contract']) {
            this.contract = source.contract.map((x) => new fhir.Reference(x));
        }
        else {
            this.contract = [];
        }
    }
    /**
     * Required-bound Value Set for status (Coverage.status)
     */
    static get statusRequiredCodes() {
        return FmStatusCodes;
    }
    /**
     * Preferred-bound Value Set for type (Coverage.type)
     */
    static get typePreferredCodings() {
        return CoverageTypeCodings;
    }
    /**
     * Extensible-bound Value Set for relationship (Coverage.relationship)
     */
    static get relationshipExtensibleCodings() {
        return SubscriberRelationshipCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"Coverage" fhir: Coverage.resourceType:"Coverage"' });
        }
        if (this["identifier"]) {
            this.identifier.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['status']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property status:fhir.FhirCode<FmStatusCodeType> fhir: Coverage.status:code' });
        }
        if (this['status'] && (!Object.values(FmStatusCodes).includes(this.status))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property status:fhir.FhirCode<FmStatusCodeType> fhir: Coverage.status:code Required binding to: FmStatus' });
        }
        if (this["status"]) {
            issues.push(...this.status.doModelValidation());
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["policyHolder"]) {
            issues.push(...this.policyHolder.doModelValidation());
        }
        if (this["subscriber"]) {
            issues.push(...this.subscriber.doModelValidation());
        }
        if (this["subscriberId"]) {
            issues.push(...this.subscriberId.doModelValidation());
        }
        if (!this['beneficiary']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property beneficiary:fhir.Reference fhir: Coverage.beneficiary:Reference' });
        }
        if (this["beneficiary"]) {
            issues.push(...this.beneficiary.doModelValidation());
        }
        if (this["dependent"]) {
            issues.push(...this.dependent.doModelValidation());
        }
        if (this["relationship"]) {
            issues.push(...this.relationship.doModelValidation());
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        if (!this['payor']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property payor:fhir.Reference[] fhir: Coverage.payor:Reference' });
        }
        else if (!Array.isArray(this.payor)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property payor:fhir.Reference[] fhir: Coverage.payor:Reference' });
        }
        else if (this.payor.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property payor:fhir.Reference[] fhir: Coverage.payor:Reference' });
        }
        if (this["payor"]) {
            this.payor.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["class"]) {
            this.class.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["order"]) {
            issues.push(...this.order.doModelValidation());
        }
        if (this["network"]) {
            issues.push(...this.network.doModelValidation());
        }
        if (this["costToBeneficiary"]) {
            this.costToBeneficiary.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["subrogation"]) {
            issues.push(...this.subrogation.doModelValidation());
        }
        if (this["contract"]) {
            this.contract.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Coverage._fts_dataType = 'Coverage';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ292ZXJhZ2UuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0NvdmVyYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDBCQUEwQjtBQUUxQixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUVuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLG9CQUFvQixHQUEyQixNQUFNLDBDQUEwQyxDQUFDO0FBT3pHLGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEdBQStCLE1BQU0sOENBQThDLENBQUM7QUFLckgsYUFBYTtBQUNiLE9BQU8sRUFBRSxhQUFhLEVBQXFCLE1BQU0sbUNBQW1DLENBQUM7QUFDckYsYUFBYTtBQUNiLE9BQU8sRUFBRSxtQkFBbUIsR0FBMEIsTUFBTSx5Q0FBeUMsQ0FBQztBQUd0RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLDZCQUE2QixHQUFvQyxNQUFNLG1EQUFtRCxDQUFDO0FBcUJwSTs7R0FFRztBQUNILE1BQU0sT0FBTyxhQUFjLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQnJEOztPQUVHO0lBQ0gsWUFBWSxTQUFvQyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMxRixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDckU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFB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QUFFLENBQUMsQ0FBQztTQUFFO1FBQ2xGLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUNsRyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXhLRDs7R0FFRztBQUM2QixzQkFBYSxHQUFVLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQ292ZXJhZ2VcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvdmVyYWdlQ2xhc3NDb2RpbmdzLCBDb3ZlcmFnZUNsYXNzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ292ZXJhZ2VDbGFzc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvdmVyYWdlQ2xhc3NDb2RlcywgIENvdmVyYWdlQ2xhc3NDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ292ZXJhZ2VDbGFzc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZUZpbmFuY2lhbEV4Y2VwdGlvbkNvZGluZ3MsIENvdmVyYWdlRmluYW5jaWFsRXhjZXB0aW9uQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ292ZXJhZ2VGaW5hbmNpYWxFeGNlcHRpb25Db2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZUZpbmFuY2lhbEV4Y2VwdGlvbkNvZGVzLCAgQ292ZXJhZ2VGaW5hbmNpYWxFeGNlcHRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ292ZXJhZ2VGaW5hbmNpYWxFeGNlcHRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ292ZXJhZ2VDb3BheVR5cGVDb2RpbmdzLCBDb3ZlcmFnZUNvcGF5VHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvdmVyYWdlQ29wYXlUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ292ZXJhZ2VDb3BheVR5cGVDb2RlcywgIENvdmVyYWdlQ29wYXlUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvdmVyYWdlQ29wYXlUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZtU3RhdHVzQ29kaW5ncywgRm1TdGF0dXNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9GbVN0YXR1c0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZtU3RhdHVzQ29kZXMsICBGbVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9GbVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZVR5cGVDb2RpbmdzLCBDb3ZlcmFnZVR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db3ZlcmFnZVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb3ZlcmFnZVR5cGVDb2RlcywgIENvdmVyYWdlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db3ZlcmFnZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU3Vic2NyaWJlclJlbGF0aW9uc2hpcENvZGluZ3MsIFN1YnNjcmliZXJSZWxhdGlvbnNoaXBDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TdWJzY3JpYmVyUmVsYXRpb25zaGlwQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU3Vic2NyaWJlclJlbGF0aW9uc2hpcENvZGVzLCAgU3Vic2NyaWJlclJlbGF0aW9uc2hpcENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TdWJzY3JpYmVyUmVsYXRpb25zaGlwQ29kZXMuanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ292ZXJhZ2VDbGFzcyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb3ZlcmFnZUNsYXNzQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgY2xhc3NpZmljYXRpb24gZm9yIHdoaWNoIGFuIGluc3VyZXItc3BlY2lmaWMgY2xhc3MgbGFiZWwgb3IgbnVtYmVyIGFuZCBvcHRpb25hbCBuYW1lIGlzIHByb3ZpZGVkLCBmb3IgZXhhbXBsZSBtYXkgYmUgdXNlZCB0byBpZGVudGlmeSBhIGNsYXNzIG9mIGNvdmVyYWdlIG9yIGVtcGxveWVyIGdyb3VwLCBQb2xpY3ksIFBsYW4uXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIHRoZSBHcm91cCBvciBQbGFuIG51bWJlci5cclxuICAgKi9cclxuICB2YWx1ZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzaG9ydCBkZXNjcmlwdGlvbiBmb3IgdGhlIGNsYXNzLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvciBleGFtcGxlIG1heSBiZSB1c2VkIHRvIGlkZW50aWZ5IGEgY2xhc3Mgb2YgY292ZXJhZ2Ugb3IgZW1wbG95ZXIgZ3JvdXAsIFBvbGljeSwgUGxhbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb3ZlcmFnZUNsYXNzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ292ZXJhZ2VDbGFzcyc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgY2xhc3NpZmljYXRpb24gZm9yIHdoaWNoIGFuIGluc3VyZXItc3BlY2lmaWMgY2xhc3MgbGFiZWwgb3IgbnVtYmVyIGFuZCBvcHRpb25hbCBuYW1lIGlzIHByb3ZpZGVkLCBmb3IgZXhhbXBsZSBtYXkgYmUgdXNlZCB0byBpZGVudGlmeSBhIGNsYXNzIG9mIGNvdmVyYWdlIG9yIGVtcGxveWVyIGdyb3VwLCBQb2xpY3ksIFBsYW4uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUsIHRoZSBHcm91cCBvciBQbGFuIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgc2hvcnQgZGVzY3JpcHRpb24gZm9yIHRoZSBjbGFzcy5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ292ZXJhZ2VDbGFzcyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlQ2xhc3NBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChDb3ZlcmFnZS5jbGFzcy50eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHR5cGVFeHRlbnNpYmxlQ29kaW5ncygpOkNvdmVyYWdlQ2xhc3NDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBDb3ZlcmFnZUNsYXNzQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0eXBlOmZoaXIuQ29kZWFibGVDb25jZXB0IGZoaXI6IENvdmVyYWdlLmNsYXNzLnR5cGU6Q29kZWFibGVDb25jZXB0JyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sndmFsdWUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdmFsdWU6Zmhpci5GaGlyU3RyaW5nIGZoaXI6IENvdmVyYWdlLmNsYXNzLnZhbHVlOnN0cmluZycgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInZhbHVlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudmFsdWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5RXhjZXB0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlFeGNlcHRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgY29kZSBmb3IgdGhlIHNwZWNpZmljIGV4Y2VwdGlvbi5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZWZyYW1lIGR1cmluZyB3aGVuIHRoZSBleGNlcHRpb24gaXMgaW4gZm9yY2UuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc3VpdGUgb2YgY29kZXMgaW5kaWNhdGluZyBleGNlcHRpb25zIG9yIHJlZHVjdGlvbnMgdG8gcGF0aWVudCBjb3N0cyBhbmQgdGhlaXIgZWZmZWN0aXZlIHBlcmlvZHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeUV4Y2VwdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlFeGNlcHRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlIGZvciB0aGUgc3BlY2lmaWMgZXhjZXB0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lZnJhbWUgZHVyaW5nIHdoZW4gdGhlIGV4Y2VwdGlvbiBpcyBpbiBmb3JjZS5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlFeGNlcHRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5RXhjZXB0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnBlcmlvZCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0eXBlOmZoaXIuQ29kZWFibGVDb25jZXB0IGZoaXI6IENvdmVyYWdlLmNvc3RUb0JlbmVmaWNpYXJ5LmV4Y2VwdGlvbi50eXBlOkNvZGVhYmxlQ29uY2VwdCcgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInBlcmlvZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnBlcmlvZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIHZpc2l0LCBzcGVjaWFsaXN0IHZpc2l0cywgZW1lcmdlbmN5LCBpbnBhdGllbnQgY2FyZSwgZXRjLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFtb3VudCBtYXkgYmUgZXhwcmVzc2VkIGFzIGEgcGVyY2VudGFnZSBvZiB0aGUgc2VydmljZS9wcm9kdWN0IGNvc3Qgb3IgYSBmaXhlZCBhbW91bnQgb2YgY3VycmVuY3kuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLlF1YW50aXR5fGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFtb3VudCBtYXkgYmUgZXhwcmVzc2VkIGFzIGEgcGVyY2VudGFnZSBvZiB0aGUgc2VydmljZS9wcm9kdWN0IGNvc3Qgb3IgYSBmaXhlZCBhbW91bnQgb2YgY3VycmVuY3kuXHJcbiAgICovXHJcbiAgdmFsdWVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbW91bnQgbWF5IGJlIGV4cHJlc3NlZCBhcyBhIHBlcmNlbnRhZ2Ugb2YgdGhlIHNlcnZpY2UvcHJvZHVjdCBjb3N0IG9yIGEgZml4ZWQgYW1vdW50IG9mIGN1cnJlbmN5LlxyXG4gICAqL1xyXG4gIHZhbHVlTW9uZXk/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzdWl0ZSBvZiBjb2RlcyBpbmRpY2F0aW5nIGV4Y2VwdGlvbnMgb3IgcmVkdWN0aW9ucyB0byBwYXRpZW50IGNvc3RzIGFuZCB0aGVpciBlZmZlY3RpdmUgcGVyaW9kcy5cclxuICAgKi9cclxuICBleGNlcHRpb24/OiBmaGlyLkNvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlFeGNlcHRpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRm9yIGV4YW1wbGUgYnkga25vd2luZyB0aGUgcGF0aWVudCB2aXNpdCBjby1wYXksIHRoZSBwcm92aWRlciBjYW4gY29sbGVjdCB0aGUgYW1vdW50IHByaW9yIHRvIHVuZGVydGFraW5nIHRyZWF0bWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeSc7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgdmlzaXQsIHNwZWNpYWxpc3QgdmlzaXRzLCBlbWVyZ2VuY3ksIGlucGF0aWVudCBjYXJlLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW1vdW50IG1heSBiZSBleHByZXNzZWQgYXMgYSBwZXJjZW50YWdlIG9mIHRoZSBzZXJ2aWNlL3Byb2R1Y3QgY29zdCBvciBhIGZpeGVkIGFtb3VudCBvZiBjdXJyZW5jeS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU6IChmaGlyLlF1YW50aXR5fGZoaXIuTW9uZXkpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDb3ZlcmFnZS5jb3N0VG9CZW5lZmljaWFyeS52YWx1ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c192YWx1ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEEgc3VpdGUgb2YgY29kZXMgaW5kaWNhdGluZyBleGNlcHRpb25zIG9yIHJlZHVjdGlvbnMgdG8gcGF0aWVudCBjb3N0cyBhbmQgdGhlaXIgZWZmZWN0aXZlIHBlcmlvZHMuXHJcbiAgICovXHJcbiAgcHVibGljIGV4Y2VwdGlvbjogZmhpci5Db3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5RXhjZXB0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlQ29zdFRvQmVuZWZpY2lhcnlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVF1YW50aXR5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS52YWx1ZVF1YW50aXR5KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZU1vbmV5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS52YWx1ZU1vbmV5KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsdWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydleGNlcHRpb24nXSkgeyB0aGlzLmV4Y2VwdGlvbiA9IHNvdXJjZS5leGNlcHRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5RXhjZXB0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXhjZXB0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIHR5cGUgKENvdmVyYWdlLmNvc3RUb0JlbmVmaWNpYXJ5LnR5cGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgdHlwZUV4dGVuc2libGVDb2RpbmdzKCk6Q292ZXJhZ2VDb3BheVR5cGVDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBDb3ZlcmFnZUNvcGF5VHlwZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbigpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKCk7XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3ZhbHVlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHZhbHVlOiBmaGlyOiBDb3ZlcmFnZS5jb3N0VG9CZW5lZmljaWFyeS52YWx1ZVt4XTonIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJleGNlcHRpb25cIl0pIHsgdGhpcy5leGNlcHRpb24uZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ292ZXJhZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ292ZXJhZ2VBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJDb3ZlcmFnZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWFpbiAoYW5kIHBvc3NpYmx5IG9ubHkpIGlkZW50aWZpZXIgZm9yIHRoZSBjb3ZlcmFnZSAtIG9mdGVuIHJlZmVycmVkIHRvIGFzIGEgTWVtYmVyIElkLCBDZXJ0aWZpY2F0ZSBudW1iZXIsIFBlcnNvbmFsIEhlYWx0aCBOdW1iZXIgb3IgQ2FzZSBJRC4gTWF5IGJlIGNvbnN0cnVjdGVkIGFzIHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBDb3ZlcmFnZS5TdWJzY3JpYmVySUQgYW5kIHRoZSBDb3ZlcmFnZS5kZXBlbmRhbnQuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGUgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmtzIHRoZSBjb3ZlcmFnZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxGbVN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGNvdmVyYWdlOiBzb2NpYWwgcHJvZ3JhbSwgbWVkaWNhbCBwbGFuLCBhY2NpZGVudCBjb3ZlcmFnZSAod29ya2VycyBjb21wZW5zYXRpb24sIGF1dG8pLCBncm91cCBoZWFsdGggb3IgcGF5bWVudCBieSBhbiBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbi5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogbWF5IGJlIGFuIGluZGl2aWR1YWwsIGNvcnBvcmF0aW9uIG9yIHRoZSBzdWJzY3JpYmVyJ3MgZW1wbG95ZXIuXHJcbiAgICovXHJcbiAgcG9saWN5SG9sZGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgYmUgc2VsZiBvciBhIHBhcmVudCBpbiB0aGUgY2FzZSBvZiBkZXBlbmRhbnRzLlxyXG4gICAqL1xyXG4gIHN1YnNjcmliZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnN1cmVyIGFzc2lnbmVkIElEIGZvciB0aGUgU3Vic2NyaWJlci5cclxuICAgKi9cclxuICBzdWJzY3JpYmVySWQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGFydHkgd2hvIGJlbmVmaXRzIGZyb20gdGhlIGluc3VyYW5jZSBjb3ZlcmFnZTsgdGhlIHBhdGllbnQgd2hlbiBwcm9kdWN0cyBhbmQvb3Igc2VydmljZXMgYXJlIHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGJlbmVmaWNpYXJ5OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBQZXJpb2RpY2FsbHkgdGhlIG1lbWJlciBudW1iZXIgaXMgY29uc3RydWN0ZWQgZnJvbSB0aGUgc3Vic2NyaWJlcklkIGFuZCB0aGUgZGVwZW5kYW50IG51bWJlci5cclxuICAgKi9cclxuICBkZXBlbmRlbnQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHksIGFuIGluZGl2aWR1YWwgdXNlcyBwb2xpY2llcyB3aGljaCBhcmUgdGhlaXJzIChyZWxhdGlvbnNoaXA9J3NlbGYnKSBiZWZvcmUgcG9saWNpZXMgb3duZWQgYnkgb3RoZXJzLlxyXG4gICAqL1xyXG4gIHJlbGF0aW9uc2hpcD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltZSBwZXJpb2QgZHVyaW5nIHdoaWNoIHRoZSBjb3ZlcmFnZSBpcyBpbiBmb3JjZS4gQSBtaXNzaW5nIHN0YXJ0IGRhdGUgaW5kaWNhdGVzIHRoZSBzdGFydCBkYXRlIGlzbid0IGtub3duLCBhIG1pc3NpbmcgZW5kIGRhdGUgbWVhbnMgdGhlIGNvdmVyYWdlIGlzIGNvbnRpbnVpbmcgdG8gYmUgaW4gZm9yY2UuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgcHJvdmlkZSBtdWx0aXBsZSBpZGVudGlmaWVycyBzdWNoIGFzIGluc3VyYW5jZSBjb21wYW55IGlkZW50aWZpZXIgb3IgYnVzaW5lc3MgaWRlbnRpZmllciAoQklOIG51bWJlcikuXHJcbiAgICogRm9yIHNlbGZwYXkgaXQgbWF5IHByb3ZpZGUgbXVsdGlwbGUgcGF5aW5nIHBlcnNvbnMgYW5kL29yIG9yZ2FuaXphdGlvbnMuXHJcbiAgICovXHJcbiAgcGF5b3I6IGZoaXIuUmVmZXJlbmNlQXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgbWF5IGJlIHVzZWQgdG8gaWRlbnRpZnkgYSBjbGFzcyBvZiBjb3ZlcmFnZSBvciBlbXBsb3llciBncm91cCwgUG9saWN5LCBQbGFuLlxyXG4gICAqL1xyXG4gIGNsYXNzPzogZmhpci5Db3ZlcmFnZUNsYXNzQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JkZXIgb2YgYXBwbGljYWJpbGl0eSBvZiB0aGlzIGNvdmVyYWdlIHJlbGF0aXZlIHRvIG90aGVyIGNvdmVyYWdlcyB3aGljaCBhcmUgY3VycmVudGx5IGluIGZvcmNlLiBOb3RlLCB0aGVyZSBtYXkgYmUgZ2FwcyBpbiB0aGUgbnVtYmVyaW5nIGFuZCB0aGlzIGRvZXMgbm90IGltcGx5IHByaW1hcnksIHNlY29uZGFyeSBldGMuIGFzIHRoZSBzcGVjaWZpYyBwb3NpdGlvbmluZyBvZiBjb3ZlcmFnZXMgZGVwZW5kcyB1cG9uIHRoZSBlcGlzb2RlIG9mIGNhcmUuXHJcbiAgICovXHJcbiAgb3JkZXI/OiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnN1cmVyLXNwZWNpZmljIGlkZW50aWZpZXIgZm9yIHRoZSBpbnN1cmVyLWRlZmluZWQgbmV0d29yayBvZiBwcm92aWRlcnMgdG8gd2hpY2ggdGhlIGJlbmVmaWNpYXJ5IG1heSBzZWVrIHRyZWF0bWVudCB3aGljaCB3aWxsIGJlIGNvdmVyZWQgYXQgdGhlICdpbi1uZXR3b3JrJyByYXRlLCBvdGhlcndpc2UgJ291dCBvZiBuZXR3b3JrJyB0ZXJtcyBhbmQgY29uZGl0aW9ucyBhcHBseS5cclxuICAgKi9cclxuICBuZXR3b3JrPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgYnkga25vd2luZyB0aGUgcGF0aWVudCB2aXNpdCBjby1wYXksIHRoZSBwcm92aWRlciBjYW4gY29sbGVjdCB0aGUgYW1vdW50IHByaW9yIHRvIHVuZGVydGFraW5nIHRyZWF0bWVudC5cclxuICAgKi9cclxuICBjb3N0VG9CZW5lZmljaWFyeT86IGZoaXIuQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCBhdXRvbW90aXZlIGFuZCB3b3JrZXIncyBjb21wZW5zYXRpb24gcG9saWNpZXMgd291bGQgYmUgZmxhZ2dlZCB3aXRoICdzdWJyb2dhdGlvbj10cnVlJyB0byBlbmFibGUgaGVhbHRoY2FyZSBwYXlvcnMgdG8gY29sbGVjdCBhZ2FpbnN0IGFjY2lkZW50IGNsYWltcy5cclxuICAgKi9cclxuICBzdWJyb2dhdGlvbj86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBvbGljeShzKSB3aGljaCBjb25zdGl0dXRlIHRoaXMgaW5zdXJhbmNlIGNvdmVyYWdlLlxyXG4gICAqL1xyXG4gIGNvbnRyYWN0PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRmluYW5jaWFsIGluc3RydW1lbnQgd2hpY2ggbWF5IGJlIHVzZWQgdG8gcmVpbWJ1cnNlIG9yIHBheSBmb3IgaGVhbHRoIGNhcmUgcHJvZHVjdHMgYW5kIHNlcnZpY2VzLiBJbmNsdWRlcyBib3RoIGluc3VyYW5jZSBhbmQgc2VsZi1wYXltZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvdmVyYWdlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb3ZlcmFnZSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJDb3ZlcmFnZVwiO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYWluIChhbmQgcG9zc2libHkgb25seSkgaWRlbnRpZmllciBmb3IgdGhlIGNvdmVyYWdlIC0gb2Z0ZW4gcmVmZXJyZWQgdG8gYXMgYSBNZW1iZXIgSWQsIENlcnRpZmljYXRlIG51bWJlciwgUGVyc29uYWwgSGVhbHRoIE51bWJlciBvciBDYXNlIElELiBNYXkgYmUgY29uc3RydWN0ZWQgYXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIENvdmVyYWdlLlN1YnNjcmliZXJJRCBhbmQgdGhlIENvdmVyYWdlLmRlcGVuZGFudC5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGUgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmtzIHRoZSBjb3ZlcmFnZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBjb3ZlcmFnZTogc29jaWFsIHByb2dyYW0sIG1lZGljYWwgcGxhbiwgYWNjaWRlbnQgY292ZXJhZ2UgKHdvcmtlcnMgY29tcGVuc2F0aW9uLCBhdXRvKSwgZ3JvdXAgaGVhbHRoIG9yIHBheW1lbnQgYnkgYW4gaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IG1heSBiZSBhbiBpbmRpdmlkdWFsLCBjb3Jwb3JhdGlvbiBvciB0aGUgc3Vic2NyaWJlcidzIGVtcGxveWVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb2xpY3lIb2xkZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIHNlbGYgb3IgYSBwYXJlbnQgaW4gdGhlIGNhc2Ugb2YgZGVwZW5kYW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgc3Vic2NyaWJlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5zdXJlciBhc3NpZ25lZCBJRCBmb3IgdGhlIFN1YnNjcmliZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YnNjcmliZXJJZD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhcnR5IHdobyBiZW5lZml0cyBmcm9tIHRoZSBpbnN1cmFuY2UgY292ZXJhZ2U7IHRoZSBwYXRpZW50IHdoZW4gcHJvZHVjdHMgYW5kL29yIHNlcnZpY2VzIGFyZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgYmVuZWZpY2lhcnk6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUGVyaW9kaWNhbGx5IHRoZSBtZW1iZXIgbnVtYmVyIGlzIGNvbnN0cnVjdGVkIGZyb20gdGhlIHN1YnNjcmliZXJJZCBhbmQgdGhlIGRlcGVuZGFudCBudW1iZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGRlcGVuZGVudD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5LCBhbiBpbmRpdmlkdWFsIHVzZXMgcG9saWNpZXMgd2hpY2ggYXJlIHRoZWlycyAocmVsYXRpb25zaGlwPSdzZWxmJykgYmVmb3JlIHBvbGljaWVzIG93bmVkIGJ5IG90aGVycy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRpb25zaGlwPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWUgcGVyaW9kIGR1cmluZyB3aGljaCB0aGUgY292ZXJhZ2UgaXMgaW4gZm9yY2UuIEEgbWlzc2luZyBzdGFydCBkYXRlIGluZGljYXRlcyB0aGUgc3RhcnQgZGF0ZSBpc24ndCBrbm93biwgYSBtaXNzaW5nIGVuZCBkYXRlIG1lYW5zIHRoZSBjb3ZlcmFnZSBpcyBjb250aW51aW5nIHRvIGJlIGluIGZvcmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IHByb3ZpZGUgbXVsdGlwbGUgaWRlbnRpZmllcnMgc3VjaCBhcyBpbnN1cmFuY2UgY29tcGFueSBpZGVudGlmaWVyIG9yIGJ1c2luZXNzIGlkZW50aWZpZXIgKEJJTiBudW1iZXIpLlxyXG4gICAqIEZvciBzZWxmcGF5IGl0IG1heSBwcm92aWRlIG11bHRpcGxlIHBheWluZyBwZXJzb25zIGFuZC9vciBvcmdhbml6YXRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXlvcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSBtYXkgYmUgdXNlZCB0byBpZGVudGlmeSBhIGNsYXNzIG9mIGNvdmVyYWdlIG9yIGVtcGxveWVyIGdyb3VwLCBQb2xpY3ksIFBsYW4uXHJcbiAgICovXHJcbiAgcHVibGljIGNsYXNzOiBmaGlyLkNvdmVyYWdlQ2xhc3NbXTtcclxuICAvKipcclxuICAgKiBUaGUgb3JkZXIgb2YgYXBwbGljYWJpbGl0eSBvZiB0aGlzIGNvdmVyYWdlIHJlbGF0aXZlIHRvIG90aGVyIGNvdmVyYWdlcyB3aGljaCBhcmUgY3VycmVudGx5IGluIGZvcmNlLiBOb3RlLCB0aGVyZSBtYXkgYmUgZ2FwcyBpbiB0aGUgbnVtYmVyaW5nIGFuZCB0aGlzIGRvZXMgbm90IGltcGx5IHByaW1hcnksIHNlY29uZGFyeSBldGMuIGFzIHRoZSBzcGVjaWZpYyBwb3NpdGlvbmluZyBvZiBjb3ZlcmFnZXMgZGVwZW5kcyB1cG9uIHRoZSBlcGlzb2RlIG9mIGNhcmUuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZGVyPzogZmhpci5GaGlyUG9zaXRpdmVJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnN1cmVyLXNwZWNpZmljIGlkZW50aWZpZXIgZm9yIHRoZSBpbnN1cmVyLWRlZmluZWQgbmV0d29yayBvZiBwcm92aWRlcnMgdG8gd2hpY2ggdGhlIGJlbmVmaWNpYXJ5IG1heSBzZWVrIHRyZWF0bWVudCB3aGljaCB3aWxsIGJlIGNvdmVyZWQgYXQgdGhlICdpbi1uZXR3b3JrJyByYXRlLCBvdGhlcndpc2UgJ291dCBvZiBuZXR3b3JrJyB0ZXJtcyBhbmQgY29uZGl0aW9ucyBhcHBseS5cclxuICAgKi9cclxuICBwdWJsaWMgbmV0d29yaz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGUgYnkga25vd2luZyB0aGUgcGF0aWVudCB2aXNpdCBjby1wYXksIHRoZSBwcm92aWRlciBjYW4gY29sbGVjdCB0aGUgYW1vdW50IHByaW9yIHRvIHVuZGVydGFraW5nIHRyZWF0bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgY29zdFRvQmVuZWZpY2lhcnk6IGZoaXIuQ292ZXJhZ2VDb3N0VG9CZW5lZmljaWFyeVtdO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSwgYXV0b21vdGl2ZSBhbmQgd29ya2VyJ3MgY29tcGVuc2F0aW9uIHBvbGljaWVzIHdvdWxkIGJlIGZsYWdnZWQgd2l0aCAnc3Vicm9nYXRpb249dHJ1ZScgdG8gZW5hYmxlIGhlYWx0aGNhcmUgcGF5b3JzIHRvIGNvbGxlY3QgYWdhaW5zdCBhY2NpZGVudCBjbGFpbXMuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YnJvZ2F0aW9uPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBvbGljeShzKSB3aGljaCBjb25zdGl0dXRlIHRoaXMgaW5zdXJhbmNlIGNvdmVyYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250cmFjdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb3ZlcmFnZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvdmVyYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0NvdmVyYWdlJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydwb2xpY3lIb2xkZXInXSkgeyB0aGlzLnBvbGljeUhvbGRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucG9saWN5SG9sZGVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3Vic2NyaWJlciddKSB7IHRoaXMuc3Vic2NyaWJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3Vic2NyaWJlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YnNjcmliZXJJZCddKSB7IHRoaXMuc3Vic2NyaWJlcklkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zdWJzY3JpYmVySWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmVuZWZpY2lhcnknXSkgeyB0aGlzLmJlbmVmaWNpYXJ5ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5iZW5lZmljaWFyeSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmJlbmVmaWNpYXJ5ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVwZW5kZW50J10pIHsgdGhpcy5kZXBlbmRlbnQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlcGVuZGVudH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGlvbnNoaXAnXSkgeyB0aGlzLnJlbGF0aW9uc2hpcCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucmVsYXRpb25zaGlwKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyaW9kJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BheW9yJ10pIHsgdGhpcy5wYXlvciA9IHNvdXJjZS5wYXlvci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBheW9yID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NsYXNzJ10pIHsgdGhpcy5jbGFzcyA9IHNvdXJjZS5jbGFzcy5tYXAoKHgpID0+IG5ldyBmaGlyLkNvdmVyYWdlQ2xhc3MoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jbGFzcyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmRlciddKSB7IHRoaXMub3JkZXIgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uub3JkZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0d29yayddKSB7IHRoaXMubmV0d29yayA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmV0d29ya30pOyB9XHJcbiAgICBpZiAoc291cmNlWydjb3N0VG9CZW5lZmljaWFyeSddKSB7IHRoaXMuY29zdFRvQmVuZWZpY2lhcnkgPSBzb3VyY2UuY29zdFRvQmVuZWZpY2lhcnkubWFwKCh4KSA9PiBuZXcgZmhpci5Db3ZlcmFnZUNvc3RUb0JlbmVmaWNpYXJ5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29zdFRvQmVuZWZpY2lhcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3Vicm9nYXRpb24nXSkgeyB0aGlzLnN1YnJvZ2F0aW9uID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2Uuc3Vicm9nYXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udHJhY3QnXSkgeyB0aGlzLmNvbnRyYWN0ID0gc291cmNlLmNvbnRyYWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29udHJhY3QgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIHN0YXR1cyAoQ292ZXJhZ2Uuc3RhdHVzKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHN0YXR1c1JlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gRm1TdGF0dXNDb2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUHJlZmVycmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoQ292ZXJhZ2UudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlUHJlZmVycmVkQ29kaW5ncygpOkNvdmVyYWdlVHlwZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIENvdmVyYWdlVHlwZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciByZWxhdGlvbnNoaXAgKENvdmVyYWdlLnJlbGF0aW9uc2hpcClcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCByZWxhdGlvbnNoaXBFeHRlbnNpYmxlQ29kaW5ncygpOlN1YnNjcmliZXJSZWxhdGlvbnNoaXBDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBTdWJzY3JpYmVyUmVsYXRpb25zaGlwQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZTpcIkNvdmVyYWdlXCIgZmhpcjogQ292ZXJhZ2UucmVzb3VyY2VUeXBlOlwiQ292ZXJhZ2VcIicgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImlkZW50aWZpZXJcIl0pIHsgdGhpcy5pZGVudGlmaWVyLmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKCF0aGlzWydzdGF0dXMnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgc3RhdHVzOmZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4gZmhpcjogQ292ZXJhZ2Uuc3RhdHVzOmNvZGUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbJ3N0YXR1cyddICYmICghT2JqZWN0LnZhbHVlcyhGbVN0YXR1c0NvZGVzKS5pbmNsdWRlcyh0aGlzLnN0YXR1cyBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgc3RhdHVzOmZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4gZmhpcjogQ292ZXJhZ2Uuc3RhdHVzOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogRm1TdGF0dXMnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJzdGF0dXNcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdGF0dXMuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicG9saWN5SG9sZGVyXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucG9saWN5SG9sZGVyLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInN1YnNjcmliZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zdWJzY3JpYmVyLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInN1YnNjcmliZXJJZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnN1YnNjcmliZXJJZC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWydiZW5lZmljaWFyeSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBiZW5lZmljaWFyeTpmaGlyLlJlZmVyZW5jZSBmaGlyOiBDb3ZlcmFnZS5iZW5lZmljaWFyeTpSZWZlcmVuY2UnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJiZW5lZmljaWFyeVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmJlbmVmaWNpYXJ5LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRlcGVuZGVudFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmRlcGVuZGVudC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJyZWxhdGlvbnNoaXBcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5yZWxhdGlvbnNoaXAuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGVyaW9kXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGVyaW9kLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3BheW9yJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHBheW9yOmZoaXIuUmVmZXJlbmNlW10gZmhpcjogQ292ZXJhZ2UucGF5b3I6UmVmZXJlbmNlJyB9KTtcclxuICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5wYXlvcikpIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3N0cnVjdHVyZScsIGRpYWdub3N0aWNzOiAnRm91bmQgc2NhbGFyIGluIGFycmF5IHByb3BlcnR5IHBheW9yOmZoaXIuUmVmZXJlbmNlW10gZmhpcjogQ292ZXJhZ2UucGF5b3I6UmVmZXJlbmNlJyB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wYXlvci5sZW5ndGggPT09IDApIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHBheW9yOmZoaXIuUmVmZXJlbmNlW10gZmhpcjogQ292ZXJhZ2UucGF5b3I6UmVmZXJlbmNlJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicGF5b3JcIl0pIHsgdGhpcy5wYXlvci5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wiY2xhc3NcIl0pIHsgdGhpcy5jbGFzcy5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wib3JkZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vcmRlci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJuZXR3b3JrXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubmV0d29yay5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJjb3N0VG9CZW5lZmljaWFyeVwiXSkgeyB0aGlzLmNvc3RUb0JlbmVmaWNpYXJ5LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJzdWJyb2dhdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnN1YnJvZ2F0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImNvbnRyYWN0XCJdKSB7IHRoaXMuY29udHJhY3QuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=