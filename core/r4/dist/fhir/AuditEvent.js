// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: AuditEvent
import * as fhir from '../fhir.js';
// @ts-ignore
import { NetworkTypeCodes } from '../fhirValueSets/NetworkTypeCodes.js';
// @ts-ignore
import { ParticipationRoleTypeCodings, } from '../fhirValueSets/ParticipationRoleTypeCodings.js';
// @ts-ignore
import { Dicm405MediatypeCodings, } from '../fhirValueSets/Dicm405MediatypeCodings.js';
// @ts-ignore
import { V3PurposeOfUseCodings, } from '../fhirValueSets/V3PurposeOfUseCodings.js';
// @ts-ignore
import { AuditSourceTypeCodings, } from '../fhirValueSets/AuditSourceTypeCodings.js';
// @ts-ignore
import { AuditEntityTypeCodings, } from '../fhirValueSets/AuditEntityTypeCodings.js';
// @ts-ignore
import { ObjectRoleCodings, } from '../fhirValueSets/ObjectRoleCodings.js';
// @ts-ignore
import { SecurityLabelsCodings, } from '../fhirValueSets/SecurityLabelsCodings.js';
// @ts-ignore
import { AuditEventTypeCodings, } from '../fhirValueSets/AuditEventTypeCodings.js';
// @ts-ignore
import { AuditEventSubTypeCodings, } from '../fhirValueSets/AuditEventSubTypeCodings.js';
// @ts-ignore
import { AuditEventActionCodes } from '../fhirValueSets/AuditEventActionCodes.js';
// @ts-ignore
import { AuditEventOutcomeCodes } from '../fhirValueSets/AuditEventOutcomeCodes.js';
/**
 * Logical network location for application activity, if the activity has a network location.
 */
export class AuditEventAgentNetwork extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventAgentNetwork - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['address']) {
            this.address = new fhir.FhirString({ value: source.address });
        }
        if (source['_address']) {
            if (this.address) {
                this.address.addExtendedProperties(source._address);
            }
            else {
                this.address = new fhir.FhirString(source._address);
            }
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
    }
    /**
     * Required-bound Value Set for type (AuditEvent.agent.network.type)
     */
    static get typeRequiredCodes() {
        return NetworkTypeCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AuditEvent.agent.network';
        }
        if (this["address"]) {
            issues.push(...this.address.doModelValidation(expression + '.address'));
        }
        if (this['type'] && (!Object.values(NetworkTypeCodes).includes(this.type.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'type (AuditEvent.agent.network.type) of type code is missing code for Required binding to: NetworkType', expression: [expression] });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventAgentNetwork._fts_dataType = 'AuditEventAgentNetwork';
/**
 * Several agents may be associated (i.e. have some responsibility for an activity) with an event or activity.
 * For example, an activity may be initiated by one user for other users or involve more than one user. However, only one user may be the initiator/requestor for the activity.
 */
export class AuditEventAgent extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventAgent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['role']) {
            this.role = source.role.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.role = [];
        }
        if (source['who']) {
            this.who = new fhir.Reference(source.who);
        }
        if (source['altId']) {
            this.altId = new fhir.FhirString({ value: source.altId });
        }
        if (source['_altId']) {
            if (this.altId) {
                this.altId.addExtendedProperties(source._altId);
            }
            else {
                this.altId = new fhir.FhirString(source._altId);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['requestor']) {
            this.requestor = new fhir.FhirBoolean({ value: source.requestor });
        }
        else {
            this.requestor = null;
        }
        if (source['_requestor']) {
            if (this.requestor) {
                this.requestor.addExtendedProperties(source._requestor);
            }
            else {
                this.requestor = new fhir.FhirBoolean(source._requestor);
            }
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        if (source['policy']) {
            this.policy = source.policy.map((x) => new fhir.FhirUri({ value: x }));
        }
        else {
            this.policy = [];
        }
        if (source['_policy']) {
            source._policy.forEach((x, i) => {
                if (this.policy.length >= i) {
                    if (x) {
                        this.policy[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.policy.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['media']) {
            this.media = new fhir.Coding(source.media);
        }
        if (source['network']) {
            this.network = new fhir.AuditEventAgentNetwork(source.network);
        }
        if (source['purposeOfUse']) {
            this.purposeOfUse = source.purposeOfUse.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.purposeOfUse = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (AuditEvent.agent.type)
     */
    static get typeExtensibleCodings() {
        return ParticipationRoleTypeCodings;
    }
    /**
     * Extensible-bound Value Set for media (AuditEvent.agent.media)
     */
    static get mediaExtensibleCodings() {
        return Dicm405MediatypeCodings;
    }
    /**
     * Extensible-bound Value Set for purposeOfUse (AuditEvent.agent.purposeOfUse)
     */
    static get purposeOfUseExtensibleCodings() {
        return V3PurposeOfUseCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AuditEvent.agent';
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["role"]) {
            this.role.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.role[${i}]`)); });
        }
        if (this["who"]) {
            issues.push(...this.who.doModelValidation(expression + '.who'));
        }
        if (this["altId"]) {
            issues.push(...this.altId.doModelValidation(expression + '.altId'));
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation(expression + '.name'));
        }
        if (!this['requestor']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property requestor fhir: AuditEvent.agent.requestor:boolean', expression: [expression] });
        }
        if (this["requestor"]) {
            issues.push(...this.requestor.doModelValidation(expression + '.requestor'));
        }
        if (this["location"]) {
            issues.push(...this.location.doModelValidation(expression + '.location'));
        }
        if (this["policy"]) {
            this.policy.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.policy[${i}]`)); });
        }
        if (this["media"]) {
            issues.push(...this.media.doModelValidation(expression + '.media'));
        }
        if (this["network"]) {
            issues.push(...this.network.doModelValidation(expression + '.network'));
        }
        if (this["purposeOfUse"]) {
            this.purposeOfUse.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.purposeOfUse[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventAgent._fts_dataType = 'AuditEventAgent';
/**
 * Since multi-tier, distributed, or composite applications make source identification ambiguous, this collection of fields may repeat for each application or process actively involved in the event. For example, multiple value-sets can identify participating web servers, application processes, and database server threads in an n-tier distributed application. Passive event participants (e.g. low-level network transports) need not be identified.
 */
export class AuditEventSource extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventSource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['site']) {
            this.site = new fhir.FhirString({ value: source.site });
        }
        if (source['_site']) {
            if (this.site) {
                this.site.addExtendedProperties(source._site);
            }
            else {
                this.site = new fhir.FhirString(source._site);
            }
        }
        if (source['observer']) {
            this.observer = new fhir.Reference(source.observer);
        }
        else {
            this.observer = null;
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.Coding(x));
        }
        else {
            this.type = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (AuditEvent.source.type)
     */
    static get typeExtensibleCodings() {
        return AuditSourceTypeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AuditEvent.source';
        }
        if (this["site"]) {
            issues.push(...this.site.doModelValidation(expression + '.site'));
        }
        if (!this['observer']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property observer fhir: AuditEvent.source.observer:Reference', expression: [expression] });
        }
        if (this["observer"]) {
            issues.push(...this.observer.doModelValidation(expression + '.observer'));
        }
        if (this["type"]) {
            this.type.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.type[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventSource._fts_dataType = 'AuditEventSource';
/**
 * Tagged value pairs for conveying additional information about the entity.
 */
export class AuditEventEntityDetail extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventEntityDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirString({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirString(source._type);
            }
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueBase64Binary']) {
            this.value = new fhir.FhirBase64Binary({ value: source.valueBase64Binary });
        }
        else {
            this.value = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AuditEvent.entity.detail';
        }
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type fhir: AuditEvent.entity.detail.type:string', expression: [expression] });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value fhir: AuditEvent.entity.detail.value[x]:', expression: [expression] });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventEntityDetail._fts_dataType = 'AuditEventEntityDetail';
/**
 * Internal flag to properly serialize choice-type element AuditEvent.entity.detail.value[x]
 */
AuditEventEntityDetail._fts_valueIsChoice = true;
/**
 * Required unless the values for event identification, agent identification, and audit source identification are sufficient to document the entire auditable event. Because events may have more than one entity, this group can be a repeating set of values.
 */
export class AuditEventEntity extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventEntity - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['what']) {
            this.what = new fhir.Reference(source.what);
        }
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        if (source['role']) {
            this.role = new fhir.Coding(source.role);
        }
        if (source['lifecycle']) {
            this.lifecycle = new fhir.Coding(source.lifecycle);
        }
        if (source['securityLabel']) {
            this.securityLabel = source.securityLabel.map((x) => new fhir.Coding(x));
        }
        else {
            this.securityLabel = [];
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['query']) {
            this.query = new fhir.FhirBase64Binary({ value: source.query });
        }
        if (source['_query']) {
            if (this.query) {
                this.query.addExtendedProperties(source._query);
            }
            else {
                this.query = new fhir.FhirBase64Binary(source._query);
            }
        }
        if (source['detail']) {
            this.detail = source.detail.map((x) => new fhir.AuditEventEntityDetail(x));
        }
        else {
            this.detail = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (AuditEvent.entity.type)
     */
    static get typeExtensibleCodings() {
        return AuditEntityTypeCodings;
    }
    /**
     * Extensible-bound Value Set for role (AuditEvent.entity.role)
     */
    static get roleExtensibleCodings() {
        return ObjectRoleCodings;
    }
    /**
     * Extensible-bound Value Set for securityLabel (AuditEvent.entity.securityLabel)
     */
    static get securityLabelExtensibleCodings() {
        return SecurityLabelsCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AuditEvent.entity';
        }
        if (this["what"]) {
            issues.push(...this.what.doModelValidation(expression + '.what'));
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["role"]) {
            issues.push(...this.role.doModelValidation(expression + '.role'));
        }
        if (this["lifecycle"]) {
            issues.push(...this.lifecycle.doModelValidation(expression + '.lifecycle'));
        }
        if (this["securityLabel"]) {
            this.securityLabel.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.securityLabel[${i}]`)); });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation(expression + '.name'));
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation(expression + '.description'));
        }
        if (this["query"]) {
            issues.push(...this.query.doModelValidation(expression + '.query'));
        }
        if (this["detail"]) {
            this.detail.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.detail[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventEntity._fts_dataType = 'AuditEventEntity';
/**
 * A record of an event made for purposes of maintaining a security log. Typical uses include detection of intrusion attempts and monitoring for inappropriate usage.
 */
export class AuditEvent extends fhir.DomainResource {
    /**
     * Default constructor for AuditEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AuditEvent';
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        else {
            this.type = null;
        }
        if (source['subtype']) {
            this.subtype = source.subtype.map((x) => new fhir.Coding(x));
        }
        else {
            this.subtype = [];
        }
        if (source['action']) {
            this.action = new fhir.FhirCode({ value: source.action });
        }
        if (source['_action']) {
            if (this.action) {
                this.action.addExtendedProperties(source._action);
            }
            else {
                this.action = new fhir.FhirCode(source._action);
            }
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        if (source['recorded']) {
            this.recorded = new fhir.FhirInstant({ value: source.recorded });
        }
        else {
            this.recorded = null;
        }
        if (source['_recorded']) {
            if (this.recorded) {
                this.recorded.addExtendedProperties(source._recorded);
            }
            else {
                this.recorded = new fhir.FhirInstant(source._recorded);
            }
        }
        if (source['outcome']) {
            this.outcome = new fhir.FhirCode({ value: source.outcome });
        }
        if (source['_outcome']) {
            if (this.outcome) {
                this.outcome.addExtendedProperties(source._outcome);
            }
            else {
                this.outcome = new fhir.FhirCode(source._outcome);
            }
        }
        if (source['outcomeDesc']) {
            this.outcomeDesc = new fhir.FhirString({ value: source.outcomeDesc });
        }
        if (source['_outcomeDesc']) {
            if (this.outcomeDesc) {
                this.outcomeDesc.addExtendedProperties(source._outcomeDesc);
            }
            else {
                this.outcomeDesc = new fhir.FhirString(source._outcomeDesc);
            }
        }
        if (source['purposeOfEvent']) {
            this.purposeOfEvent = source.purposeOfEvent.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.purposeOfEvent = [];
        }
        if (source['agent']) {
            this.agent = source.agent.map((x) => new fhir.AuditEventAgent(x));
        }
        else {
            this.agent = [];
        }
        if (source['source']) {
            this.source = new fhir.AuditEventSource(source.source);
        }
        else {
            this.source = null;
        }
        if (source['entity']) {
            this.entity = source.entity.map((x) => new fhir.AuditEventEntity(x));
        }
        else {
            this.entity = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (AuditEvent.type)
     */
    static get typeExtensibleCodings() {
        return AuditEventTypeCodings;
    }
    /**
     * Extensible-bound Value Set for subtype (AuditEvent.subtype)
     */
    static get subtypeExtensibleCodings() {
        return AuditEventSubTypeCodings;
    }
    /**
     * Required-bound Value Set for action (AuditEvent.action)
     */
    static get actionRequiredCodes() {
        return AuditEventActionCodes;
    }
    /**
     * Required-bound Value Set for outcome (AuditEvent.outcome)
     */
    static get outcomeRequiredCodes() {
        return AuditEventOutcomeCodes;
    }
    /**
     * Extensible-bound Value Set for purposeOfEvent (AuditEvent.purposeOfEvent)
     */
    static get purposeOfEventExtensibleCodings() {
        return V3PurposeOfUseCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(expression = '') {
        let issues = super.doModelValidation(expression);
        if (expression === '') {
            expression = 'AuditEvent';
        }
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType fhir: AuditEvent.resourceType:"AuditEvent"', expression: [expression] });
        }
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type fhir: AuditEvent.type:Coding', expression: [expression] });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation(expression + '.type'));
        }
        if (this["subtype"]) {
            this.subtype.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.subtype[${i}]`)); });
        }
        if (this['action'] && (!Object.values(AuditEventActionCodes).includes(this.action.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'action (AuditEvent.action) of type code is missing code for Required binding to: AuditEventAction', expression: [expression] });
        }
        if (this["action"]) {
            issues.push(...this.action.doModelValidation(expression + '.action'));
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation(expression + '.period'));
        }
        if (!this['recorded']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property recorded fhir: AuditEvent.recorded:instant', expression: [expression] });
        }
        if (this["recorded"]) {
            issues.push(...this.recorded.doModelValidation(expression + '.recorded'));
        }
        if (this['outcome'] && (!Object.values(AuditEventOutcomeCodes).includes(this.outcome.value))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'outcome (AuditEvent.outcome) of type code is missing code for Required binding to: AuditEventOutcome', expression: [expression] });
        }
        if (this["outcome"]) {
            issues.push(...this.outcome.doModelValidation(expression + '.outcome'));
        }
        if (this["outcomeDesc"]) {
            issues.push(...this.outcomeDesc.doModelValidation(expression + '.outcomeDesc'));
        }
        if (this["purposeOfEvent"]) {
            this.purposeOfEvent.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.purposeOfEvent[${i}]`)); });
        }
        if (!this['agent']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property agent fhir: AuditEvent.agent:agent', expression: [expression] });
        }
        else if (!Array.isArray(this.agent)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property agent fhir: AuditEvent.agent:agent', expression: [expression] });
        }
        else if (this.agent.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property agent fhir: AuditEvent.agent:agent', expression: [expression] });
        }
        if (this["agent"]) {
            this.agent.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.agent[${i}]`)); });
        }
        if (!this['source']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property source fhir: AuditEvent.source:source', expression: [expression] });
        }
        if (this["source"]) {
            issues.push(...this.source.doModelValidation(expression + '.source'));
        }
        if (this["entity"]) {
            this.entity.forEach((x, i) => { issues.push(...x.doModelValidation(expression + `.entity[${i}]`)); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEvent._fts_dataType = 'AuditEvent';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXVkaXRFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQXVkaXRFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxnQkFBZ0IsRUFBd0IsTUFBTSxzQ0FBc0MsQ0FBQztBQUM5RixhQUFhO0FBQ2IsT0FBTyxFQUFFLDRCQUE0QixHQUFtQyxNQUFNLGtEQUFrRCxDQUFDO0FBT2pJLGFBQWE7QUFDYixPQUFPLEVBQUUsdUJBQXVCLEdBQThCLE1BQU0sNkNBQTZDLENBQUM7QUFHbEgsYUFBYTtBQUNiLE9BQU8sRUFBRSxxQkFBcUIsR0FBNEIsTUFBTSwyQ0FBMkMsQ0FBQztBQUc1RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixHQUE2QixNQUFNLDRDQUE0QyxDQUFDO0FBRy9HLGFBQWE7QUFDYixPQUFPLEVBQUUsc0JBQXNCLEdBQTZCLE1BQU0sNENBQTRDLENBQUM7QUFHL0csYUFBYTtBQUNiLE9BQU8sRUFBRSxpQkFBaUIsR0FBd0IsTUFBTSx1Q0FBdUMsQ0FBQztBQUdoRyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHFCQUFxQixHQUE0QixNQUFNLDJDQUEyQyxDQUFDO0FBRzVHLGFBQWE7QUFDYixPQUFPLEVBQUUscUJBQXFCLEdBQTRCLE1BQU0sMkNBQTJDLENBQUM7QUFHNUcsYUFBYTtBQUNiLE9BQU8sRUFBRSx3QkFBd0IsR0FBK0IsTUFBTSw4Q0FBOEMsQ0FBQztBQUtySCxhQUFhO0FBQ2IsT0FBTyxFQUFFLHFCQUFxQixFQUE2QixNQUFNLDJDQUEyQyxDQUFDO0FBRzdHLGFBQWE7QUFDYixPQUFPLEVBQUUsc0JBQXNCLEVBQThCLE1BQU0sNENBQTRDLENBQUM7QUF1QmhIOztHQUVHO0FBQ0gsTUFBTSxPQUFP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QUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FBRTtRQUMxSCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXZLRDs7R0FFRztBQUM2Qix3QkFBYSxHQUFVLFlBQVksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNC5jb3JlIHZlcnNpb246IDQuMC4xXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQXVkaXRFdmVudFxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTmV0d29ya1R5cGVDb2RpbmdzLCBOZXR3b3JrVHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL05ldHdvcmtUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTmV0d29ya1R5cGVDb2RlcywgIE5ldHdvcmtUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL05ldHdvcmtUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhcnRpY2lwYXRpb25Sb2xlVHlwZUNvZGluZ3MsIFBhcnRpY2lwYXRpb25Sb2xlVHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhcnRpY2lwYXRpb25Sb2xlVHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhcnRpY2lwYXRpb25Sb2xlVHlwZUNvZGVzLCAgUGFydGljaXBhdGlvblJvbGVUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhcnRpY2lwYXRpb25Sb2xlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZWN1cml0eVJvbGVUeXBlQ29kaW5ncywgU2VjdXJpdHlSb2xlVHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlY3VyaXR5Um9sZVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZWN1cml0eVJvbGVUeXBlQ29kZXMsICBTZWN1cml0eVJvbGVUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlY3VyaXR5Um9sZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGljbTQwNU1lZGlhdHlwZUNvZGluZ3MsIERpY200MDVNZWRpYXR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWNtNDA1TWVkaWF0eXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGljbTQwNU1lZGlhdHlwZUNvZGVzLCAgRGljbTQwNU1lZGlhdHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWNtNDA1TWVkaWF0eXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzUHVycG9zZU9mVXNlQ29kaW5ncywgVjNQdXJwb3NlT2ZVc2VDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WM1B1cnBvc2VPZlVzZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzUHVycG9zZU9mVXNlQ29kZXMsICBWM1B1cnBvc2VPZlVzZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WM1B1cnBvc2VPZlVzZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdFNvdXJjZVR5cGVDb2RpbmdzLCBBdWRpdFNvdXJjZVR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdFNvdXJjZVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdFNvdXJjZVR5cGVDb2RlcywgIEF1ZGl0U291cmNlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdFNvdXJjZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFbnRpdHlUeXBlQ29kaW5ncywgQXVkaXRFbnRpdHlUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFbnRpdHlUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFbnRpdHlUeXBlQ29kZXMsICBBdWRpdEVudGl0eVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFbnRpdHlUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9iamVjdFJvbGVDb2RpbmdzLCBPYmplY3RSb2xlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JqZWN0Um9sZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9iamVjdFJvbGVDb2RlcywgIE9iamVjdFJvbGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JqZWN0Um9sZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZWN1cml0eUxhYmVsc0NvZGluZ3MsIFNlY3VyaXR5TGFiZWxzQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VjdXJpdHlMYWJlbHNDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZWN1cml0eUxhYmVsc0NvZGVzLCAgU2VjdXJpdHlMYWJlbHNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VjdXJpdHlMYWJlbHNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudFR5cGVDb2RpbmdzLCBBdWRpdEV2ZW50VHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudFR5cGVDb2RlcywgIEF1ZGl0RXZlbnRUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRTdWJUeXBlQ29kaW5ncywgQXVkaXRFdmVudFN1YlR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEV2ZW50U3ViVHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRTdWJUeXBlQ29kZXMsICBBdWRpdEV2ZW50U3ViVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEV2ZW50U3ViVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50QWN0aW9uQ29kaW5ncywgQXVkaXRFdmVudEFjdGlvbkNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRBY3Rpb25Db2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50QWN0aW9uQ29kZXMsICBBdWRpdEV2ZW50QWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRBY3Rpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudE91dGNvbWVDb2RpbmdzLCBBdWRpdEV2ZW50T3V0Y29tZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRPdXRjb21lQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudE91dGNvbWVDb2RlcywgIEF1ZGl0RXZlbnRPdXRjb21lQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRPdXRjb21lQ29kZXMuanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudEFnZW50TmV0d29yayB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50QWdlbnROZXR3b3JrQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjb3VsZCBiZSBhIGRldmljZSBpZCwgSVAgYWRkcmVzcyBvciBzb21lIG90aGVyIGlkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIGEgZGV2aWNlLlxyXG4gICAqL1xyXG4gIGFkZHJlc3M/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5hZ2VudC5uZXR3b3JrLmFkZHJlc3NcclxuICAgKi9cclxuICBfYWRkcmVzcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQW4gaWRlbnRpZmllciBmb3IgdGhlIHR5cGUgb2YgbmV0d29yayBhY2Nlc3MgcG9pbnQgdGhhdCBvcmlnaW5hdGVkIHRoZSBhdWRpdCBldmVudC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmFnZW50Lm5ldHdvcmsudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIExvZ2ljYWwgbmV0d29yayBsb2NhdGlvbiBmb3IgYXBwbGljYXRpb24gYWN0aXZpdHksIGlmIHRoZSBhY3Rpdml0eSBoYXMgYSBuZXR3b3JrIGxvY2F0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRBZ2VudE5ldHdvcmsgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50QWdlbnROZXR3b3JrJztcclxuICAvKipcclxuICAgKiBUaGlzIGNvdWxkIGJlIGEgZGV2aWNlIGlkLCBJUCBhZGRyZXNzIG9yIHNvbWUgb3RoZXIgaWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZHJlc3M/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoZSB0eXBlIG9mIG5ldHdvcmsgYWNjZXNzIHBvaW50IHRoYXQgb3JpZ2luYXRlZCB0aGUgYXVkaXQgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50QWdlbnROZXR3b3JrIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudEFnZW50TmV0d29ya0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10pIHsgdGhpcy5hZGRyZXNzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hZGRyZXNzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hZGRyZXNzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWRkcmVzcykgeyB0aGlzLmFkZHJlc3MuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWRkcmVzcyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFkZHJlc3MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYWRkcmVzcyBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLnR5cGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChBdWRpdEV2ZW50LmFnZW50Lm5ldHdvcmsudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBOZXR3b3JrVHlwZUNvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdBdWRpdEV2ZW50LmFnZW50Lm5ldHdvcmsnIH1cclxuICAgIGlmICh0aGlzW1wiYWRkcmVzc1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFkZHJlc3MuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmFkZHJlc3MnKSk7IH1cclxuICAgIGlmICh0aGlzWyd0eXBlJ10gJiYgKCFPYmplY3QudmFsdWVzKE5ldHdvcmtUeXBlQ29kZXMpLmluY2x1ZGVzKHRoaXMudHlwZS52YWx1ZSBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICd0eXBlIChBdWRpdEV2ZW50LmFnZW50Lm5ldHdvcmsudHlwZSkgb2YgdHlwZSBjb2RlIGlzIG1pc3NpbmcgY29kZSBmb3IgUmVxdWlyZWQgYmluZGluZyB0bzogTmV0d29ya1R5cGUnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy50eXBlJykpOyB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudEFnZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRBZ2VudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljYXRpb24gb2YgdGhlIHBhcnRpY2lwYXRpb24gdHlwZSB0aGUgdXNlciBwbGF5cyB3aGVuIHBlcmZvcm1pbmcgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSByb2xlcyByZWxldmFudCB0byB0aGUgZXZlbnQuIFNob3VsZCAgbm90IGJlIGFuIGV4aGF1c3RpdmUgbGlzdCBvZiByb2xlcy5cclxuICAgKi9cclxuICByb2xlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGEgVXNlciBJRCBpcyBhdmFpbGFibGUgaXQgd2lsbCBnbyBpbnRvIHdoby5pZGVudGlmaWVyLlxyXG4gICAqL1xyXG4gIHdobz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWx0ZXJuYXRpdmUgYWdlbnQgSWRlbnRpZmllci4gRm9yIGEgaHVtYW4sIHRoaXMgc2hvdWxkIGJlIGEgdXNlciBpZGVudGlmaWVyIHRleHQgc3RyaW5nIGZyb20gYXV0aGVudGljYXRpb24gc3lzdGVtLiBUaGlzIGlkZW50aWZpZXIgd291bGQgYmUgb25lIGtub3duIHRvIGEgY29tbW9uIGF1dGhlbnRpY2F0aW9uIHN5c3RlbSAoZS5nLiBzaW5nbGUgc2lnbi1vbiksIGlmIGF2YWlsYWJsZS5cclxuICAgKi9cclxuICBhbHRJZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmFnZW50LmFsdElkXHJcbiAgICovXHJcbiAgX2FsdElkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBIdW1hbi1tZWFuaW5nZnVsIG5hbWUgZm9yIHRoZSBhZ2VudC5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuYWdlbnQubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGVyZSBjYW4gb25seSBiZSBvbmUgaW5pdGlhdG9yLiBJZiB0aGUgaW5pdGlhdG9yIGlzIG5vdCBjbGVhciwgdGhlbiBkbyBub3QgY2hvb3NlIGFueSBvbmUgYWdlbnQgYXMgdGhlIGluaXRpYXRvci5cclxuICAgKi9cclxuICByZXF1ZXN0b3I6IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuYWdlbnQucmVxdWVzdG9yXHJcbiAgICovXHJcbiAgX3JlcXVlc3Rvcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIGV2ZW50IG9jY3VycmVkLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogV2hlcmUgYW4gT0F1dGggdG9rZW4gYXV0aG9yaXplcywgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gdGhlIE9BdXRoIHRva2VuIGlzIHBsYWNlZCBpbnRvIHRoZSBwb2xpY3kgZWxlbWVudCBXaGVyZSBhIHBvbGljeSBlbmdpbmUgKGUuZy4gWEFDTUwpIGhvbGRzIHBvbGljeSBsb2dpYywgdGhlIHVuaXF1ZSBwb2xpY3kgaWRlbnRpZmllciBpcyBwbGFjZWQgaW50byB0aGUgcG9saWN5IGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcG9saWN5PzogZmhpci5GaGlyVXJpW118c3RyaW5nW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmFnZW50LnBvbGljeVxyXG4gICAqL1xyXG4gIF9wb2xpY3k/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgbWVkaWEgaW52b2x2ZWQuIFVzZWQgd2hlbiB0aGUgZXZlbnQgaXMgYWJvdXQgZXhwb3J0aW5nL2ltcG9ydGluZyBvbnRvIG1lZGlhLlxyXG4gICAqL1xyXG4gIG1lZGlhPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMb2dpY2FsIG5ldHdvcmsgbG9jYXRpb24gZm9yIGFwcGxpY2F0aW9uIGFjdGl2aXR5LCBpZiB0aGUgYWN0aXZpdHkgaGFzIGEgbmV0d29yayBsb2NhdGlvbi5cclxuICAgKi9cclxuICBuZXR3b3JrPzogZmhpci5BdWRpdEV2ZW50QWdlbnROZXR3b3JrQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlIEF1ZGl0RXZlbnQuYWdlbnQucHVycG9zZU9mVXNlIHdoZW4geW91IGtub3cgdGhhdCBpcyBzcGVjaWZpYyB0byB0aGUgYWdlbnQsIG90aGVyd2lzZSB1c2UgQXVkaXRFdmVudC5wdXJwb3NlT2ZFdmVudC4gRm9yIGV4YW1wbGUsIGR1cmluZyBhIG1hY2hpbmUtdG8tbWFjaGluZSB0cmFuc2ZlciBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB0byB0aGUgYXVkaXQgc3lzdGVtIHdobyBjYXVzZWQgdGhlIGV2ZW50LCBidXQgaXQgZG9lcyBrbm93IHdoeS5cclxuICAgKi9cclxuICBwdXJwb3NlT2ZVc2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXZlcmFsIGFnZW50cyBtYXkgYmUgYXNzb2NpYXRlZCAoaS5lLiBoYXZlIHNvbWUgcmVzcG9uc2liaWxpdHkgZm9yIGFuIGFjdGl2aXR5KSB3aXRoIGFuIGV2ZW50IG9yIGFjdGl2aXR5LlxyXG4gKiBGb3IgZXhhbXBsZSwgYW4gYWN0aXZpdHkgbWF5IGJlIGluaXRpYXRlZCBieSBvbmUgdXNlciBmb3Igb3RoZXIgdXNlcnMgb3IgaW52b2x2ZSBtb3JlIHRoYW4gb25lIHVzZXIuIEhvd2V2ZXIsIG9ubHkgb25lIHVzZXIgbWF5IGJlIHRoZSBpbml0aWF0b3IvcmVxdWVzdG9yIGZvciB0aGUgYWN0aXZpdHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXVkaXRFdmVudEFnZW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudEFnZW50JztcclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uIG9mIHRoZSBwYXJ0aWNpcGF0aW9uIHR5cGUgdGhlIHVzZXIgcGxheXMgd2hlbiBwZXJmb3JtaW5nIHRoZSBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaG91bGQgYmUgcm9sZXMgcmVsZXZhbnQgdG8gdGhlIGV2ZW50LiBTaG91bGQgIG5vdCBiZSBhbiBleGhhdXN0aXZlIGxpc3Qgb2Ygcm9sZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHJvbGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgYSBVc2VyIElEIGlzIGF2YWlsYWJsZSBpdCB3aWxsIGdvIGludG8gd2hvLmlkZW50aWZpZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHdobz86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbHRlcm5hdGl2ZSBhZ2VudCBJZGVudGlmaWVyLiBGb3IgYSBodW1hbiwgdGhpcyBzaG91bGQgYmUgYSB1c2VyIGlkZW50aWZpZXIgdGV4dCBzdHJpbmcgZnJvbSBhdXRoZW50aWNhdGlvbiBzeXN0ZW0uIFRoaXMgaWRlbnRpZmllciB3b3VsZCBiZSBvbmUga25vd24gdG8gYSBjb21tb24gYXV0aGVudGljYXRpb24gc3lzdGVtIChlLmcuIHNpbmdsZSBzaWduLW9uKSwgaWYgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbHRJZD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSHVtYW4tbWVhbmluZ2Z1bCBuYW1lIGZvciB0aGUgYWdlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGNhbiBvbmx5IGJlIG9uZSBpbml0aWF0b3IuIElmIHRoZSBpbml0aWF0b3IgaXMgbm90IGNsZWFyLCB0aGVuIGRvIG5vdCBjaG9vc2UgYW55IG9uZSBhZ2VudCBhcyB0aGUgaW5pdGlhdG9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0b3I6IGZoaXIuRmhpckJvb2xlYW58bnVsbDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGxvY2F0aW9uPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlOiBXaGVyZSBhbiBPQXV0aCB0b2tlbiBhdXRob3JpemVzLCB0aGUgdW5pcXVlIGlkZW50aWZpZXIgZnJvbSB0aGUgT0F1dGggdG9rZW4gaXMgcGxhY2VkIGludG8gdGhlIHBvbGljeSBlbGVtZW50IFdoZXJlIGEgcG9saWN5IGVuZ2luZSAoZS5nLiBYQUNNTCkgaG9sZHMgcG9saWN5IGxvZ2ljLCB0aGUgdW5pcXVlIHBvbGljeSBpZGVudGlmaWVyIGlzIHBsYWNlZCBpbnRvIHRoZSBwb2xpY3kgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcG9saWN5OiBmaGlyLkZoaXJVcmlbXTtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIG1lZGlhIGludm9sdmVkLiBVc2VkIHdoZW4gdGhlIGV2ZW50IGlzIGFib3V0IGV4cG9ydGluZy9pbXBvcnRpbmcgb250byBtZWRpYS5cclxuICAgKi9cclxuICBwdWJsaWMgbWVkaWE/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTG9naWNhbCBuZXR3b3JrIGxvY2F0aW9uIGZvciBhcHBsaWNhdGlvbiBhY3Rpdml0eSwgaWYgdGhlIGFjdGl2aXR5IGhhcyBhIG5ldHdvcmsgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG5ldHdvcms/OiBmaGlyLkF1ZGl0RXZlbnRBZ2VudE5ldHdvcmt8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZSBBdWRpdEV2ZW50LmFnZW50LnB1cnBvc2VPZlVzZSB3aGVuIHlvdSBrbm93IHRoYXQgaXMgc3BlY2lmaWMgdG8gdGhlIGFnZW50LCBvdGhlcndpc2UgdXNlIEF1ZGl0RXZlbnQucHVycG9zZU9mRXZlbnQuIEZvciBleGFtcGxlLCBkdXJpbmcgYSBtYWNoaW5lLXRvLW1hY2hpbmUgdHJhbnNmZXIgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgdG8gdGhlIGF1ZGl0IHN5c3RlbSB3aG8gY2F1c2VkIHRoZSBldmVudCwgYnV0IGl0IGRvZXMga25vdyB3aHkuXHJcbiAgICovXHJcbiAgcHVibGljIHB1cnBvc2VPZlVzZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50QWdlbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBdWRpdEV2ZW50QWdlbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JvbGUnXSkgeyB0aGlzLnJvbGUgPSBzb3VyY2Uucm9sZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJvbGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2hvJ10pIHsgdGhpcy53aG8gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLndobyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FsdElkJ10pIHsgdGhpcy5hbHRJZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYWx0SWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FsdElkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWx0SWQpIHsgdGhpcy5hbHRJZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hbHRJZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFsdElkID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2FsdElkIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19uYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMubmFtZSkgeyB0aGlzLm5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdG9yJ10pIHsgdGhpcy5yZXF1ZXN0b3IgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5yZXF1ZXN0b3J9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVxdWVzdG9yID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlcXVlc3RvciddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlcXVlc3RvcikgeyB0aGlzLnJlcXVlc3Rvci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZXF1ZXN0b3IhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZXF1ZXN0b3IgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX3JlcXVlc3RvciBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2xvY2F0aW9uJ10pIHsgdGhpcy5sb2NhdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubG9jYXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydwb2xpY3knXSkgeyB0aGlzLnBvbGljeSA9IHNvdXJjZS5wb2xpY3kubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucG9saWN5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19wb2xpY3knXSkge1xyXG4gICAgICBzb3VyY2UuX3BvbGljeS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wb2xpY3kubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5wb2xpY3lbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5wb2xpY3kucHVzaChuZXcgZmhpci5GaGlyVXJpKHggYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtZWRpYSddKSB7IHRoaXMubWVkaWEgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLm1lZGlhKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0d29yayddKSB7IHRoaXMubmV0d29yayA9IG5ldyBmaGlyLkF1ZGl0RXZlbnRBZ2VudE5ldHdvcmsoc291cmNlLm5ldHdvcmspOyB9XHJcbiAgICBpZiAoc291cmNlWydwdXJwb3NlT2ZVc2UnXSkgeyB0aGlzLnB1cnBvc2VPZlVzZSA9IHNvdXJjZS5wdXJwb3NlT2ZVc2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wdXJwb3NlT2ZVc2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoQXVkaXRFdmVudC5hZ2VudC50eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHR5cGVFeHRlbnNpYmxlQ29kaW5ncygpOlBhcnRpY2lwYXRpb25Sb2xlVHlwZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFBhcnRpY2lwYXRpb25Sb2xlVHlwZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciBtZWRpYSAoQXVkaXRFdmVudC5hZ2VudC5tZWRpYSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBtZWRpYUV4dGVuc2libGVDb2RpbmdzKCk6RGljbTQwNU1lZGlhdHlwZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIERpY200MDVNZWRpYXR5cGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgcHVycG9zZU9mVXNlIChBdWRpdEV2ZW50LmFnZW50LnB1cnBvc2VPZlVzZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBwdXJwb3NlT2ZVc2VFeHRlbnNpYmxlQ29kaW5ncygpOlYzUHVycG9zZU9mVXNlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gVjNQdXJwb3NlT2ZVc2VDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbjpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHsgZXhwcmVzc2lvbiA9ICdBdWRpdEV2ZW50LmFnZW50JyB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy50eXBlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInJvbGVcIl0pIHsgdGhpcy5yb2xlLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5yb2xlWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIndob1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLndoby5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycud2hvJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImFsdElkXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYWx0SWQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLmFsdElkJykpOyB9XHJcbiAgICBpZiAodGhpc1tcIm5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uYW1lLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5uYW1lJykpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3JlcXVlc3RvciddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZXF1ZXN0b3IgZmhpcjogQXVkaXRFdmVudC5hZ2VudC5yZXF1ZXN0b3I6Ym9vbGVhbicsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicmVxdWVzdG9yXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVxdWVzdG9yLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5yZXF1ZXN0b3InKSk7IH1cclxuICAgIGlmICh0aGlzW1wibG9jYXRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5sb2NhdGlvbi5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycubG9jYXRpb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1wicG9saWN5XCJdKSB7IHRoaXMucG9saWN5LmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5wb2xpY3lbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wibWVkaWFcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5tZWRpYS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycubWVkaWEnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibmV0d29ya1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5ldHdvcmsuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm5ldHdvcmsnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicHVycG9zZU9mVXNlXCJdKSB7IHRoaXMucHVycG9zZU9mVXNlLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5wdXJwb3NlT2ZVc2VbJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50U291cmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRTb3VyY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBMb2dpY2FsIHNvdXJjZSBsb2NhdGlvbiB3aXRoaW4gdGhlIGhlYWx0aGNhcmUgZW50ZXJwcmlzZSBuZXR3b3JrLiAgRm9yIGV4YW1wbGUsIGEgaG9zcGl0YWwgb3Igb3RoZXIgcHJvdmlkZXIgbG9jYXRpb24gd2l0aGluIGEgbXVsdGktZW50aXR5IHByb3ZpZGVyIGdyb3VwLlxyXG4gICAqL1xyXG4gIHNpdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5zb3VyY2Uuc2l0ZVxyXG4gICAqL1xyXG4gIF9zaXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIG9mIHRoZSBzb3VyY2Ugd2hlcmUgdGhlIGV2ZW50IHdhcyBkZXRlY3RlZC5cclxuICAgKi9cclxuICBvYnNlcnZlcjogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQ29kZSBzcGVjaWZ5aW5nIHRoZSB0eXBlIG9mIHNvdXJjZSB3aGVyZSBldmVudCBvcmlnaW5hdGVkLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaW5jZSBtdWx0aS10aWVyLCBkaXN0cmlidXRlZCwgb3IgY29tcG9zaXRlIGFwcGxpY2F0aW9ucyBtYWtlIHNvdXJjZSBpZGVudGlmaWNhdGlvbiBhbWJpZ3VvdXMsIHRoaXMgY29sbGVjdGlvbiBvZiBmaWVsZHMgbWF5IHJlcGVhdCBmb3IgZWFjaCBhcHBsaWNhdGlvbiBvciBwcm9jZXNzIGFjdGl2ZWx5IGludm9sdmVkIGluIHRoZSBldmVudC4gRm9yIGV4YW1wbGUsIG11bHRpcGxlIHZhbHVlLXNldHMgY2FuIGlkZW50aWZ5IHBhcnRpY2lwYXRpbmcgd2ViIHNlcnZlcnMsIGFwcGxpY2F0aW9uIHByb2Nlc3NlcywgYW5kIGRhdGFiYXNlIHNlcnZlciB0aHJlYWRzIGluIGFuIG4tdGllciBkaXN0cmlidXRlZCBhcHBsaWNhdGlvbi4gUGFzc2l2ZSBldmVudCBwYXJ0aWNpcGFudHMgKGUuZy4gbG93LWxldmVsIG5ldHdvcmsgdHJhbnNwb3J0cykgbmVlZCBub3QgYmUgaWRlbnRpZmllZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50U291cmNlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudFNvdXJjZSc7XHJcbiAgLyoqXHJcbiAgICogTG9naWNhbCBzb3VyY2UgbG9jYXRpb24gd2l0aGluIHRoZSBoZWFsdGhjYXJlIGVudGVycHJpc2UgbmV0d29yay4gIEZvciBleGFtcGxlLCBhIGhvc3BpdGFsIG9yIG90aGVyIHByb3ZpZGVyIGxvY2F0aW9uIHdpdGhpbiBhIG11bHRpLWVudGl0eSBwcm92aWRlciBncm91cC5cclxuICAgKi9cclxuICBwdWJsaWMgc2l0ZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBvZiB0aGUgc291cmNlIHdoZXJlIHRoZSBldmVudCB3YXMgZGV0ZWN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG9ic2VydmVyOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgc3BlY2lmeWluZyB0aGUgdHlwZSBvZiBzb3VyY2Ugd2hlcmUgZXZlbnQgb3JpZ2luYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50U291cmNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudFNvdXJjZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzaXRlJ10pIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zaXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zaXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2l0ZSkgeyB0aGlzLnNpdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc2l0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNpdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fc2l0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb2JzZXJ2ZXInXSkgeyB0aGlzLm9ic2VydmVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vYnNlcnZlcik7IH1cclxuICAgIGVsc2UgeyB0aGlzLm9ic2VydmVyID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IHNvdXJjZS50eXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChBdWRpdEV2ZW50LnNvdXJjZS50eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHR5cGVFeHRlbnNpYmxlQ29kaW5ncygpOkF1ZGl0U291cmNlVHlwZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIEF1ZGl0U291cmNlVHlwZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0F1ZGl0RXZlbnQuc291cmNlJyB9XHJcbiAgICBpZiAodGhpc1tcInNpdGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5zaXRlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5zaXRlJykpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ29ic2VydmVyJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IG9ic2VydmVyIGZoaXI6IEF1ZGl0RXZlbnQuc291cmNlLm9ic2VydmVyOlJlZmVyZW5jZScsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wib2JzZXJ2ZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vYnNlcnZlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycub2JzZXJ2ZXInKSk7IH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyB0aGlzLnR5cGUuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnR5cGVbJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50RW50aXR5RGV0YWlsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRFbnRpdHlEZXRhaWxBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBleHRyYSBkZXRhaWwgcHJvdmlkZWQgaW4gdGhlIHZhbHVlLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmVudGl0eS5kZXRhaWwudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgY2FuIGJlIHN0cmluZyB3aGVuIGtub3duIHRvIGJlIGEgc3RyaW5nLCBlbHNlIGJhc2U2NCBlbmNvZGluZyBzaG91bGQgYmUgdXNlZCB0byBwcm90ZWN0IGJpbmFyeSBvciB1bmRlZmluZWQgY29udGVudC4gIFRoZSBtZWFuaW5nIGFuZCBzZWNvbmRhcnktZW5jb2Rpbmcgb2YgdGhlIGNvbnRlbnQgb2YgYmFzZTY0IGVuY29kZWQgYmxvYiBpcyBzcGVjaWZpYyB0byB0aGUgQXVkaXRFdmVudC50eXBlLCBBdWRpdEV2ZW50LnN1YnR5cGUsIEF1ZGl0RXZlbnQuZW50aXR5LnR5cGUsIGFuZCBBdWRpdEV2ZW50LmVudGl0eS5yb2xlLiAgVGhlIGJhc2U2NCBpcyBhIGdlbmVyYWwtdXNlIGFuZCBzYWZlIGNvbnRhaW5lciBmb3IgZXZlbnQgc3BlY2lmaWMgZGF0YSBibG9icyByZWdhcmRsZXNzIG9mIHRoZSBlbmNvZGluZyB1c2VkIGJ5IHRoZSB0cmFuc2FjdGlvbiBiZWluZyByZWNvcmRlZC4gIEFuIEF1ZGl0RXZlbnQgY29uc3VtaW5nIGFwcGxpY2F0aW9uIG11c3QgdW5kZXJzdGFuZCB0aGUgZXZlbnQgaXQgaXMgY29uc3VtaW5nIGFuZCB0aGUgZm9ybWF0cyB1c2VkIGJ5IHRoZSBldmVudC4gRm9yIGV4YW1wbGUgaWYgYXVkaXRpbmcgYW4gT3JhY2xlIG5ldHdvcmsgZGF0YWJhc2UgYWNjZXNzLCB0aGUgT3JhY2xlIGZvcm1hdHMgbXVzdCBiZSB1bmRlcnN0b29kIGFzIHRoZXkgd2lsbCBiZSBzaW1wbHkgZW5jb2RlZCBpbiB0aGUgYmFzZTY0YmluYXJ5IGJsb2IuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkZoaXJTdHJpbmd8Zmhpci5GaGlyQmFzZTY0QmluYXJ5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgY2FuIGJlIHN0cmluZyB3aGVuIGtub3duIHRvIGJlIGEgc3RyaW5nLCBlbHNlIGJhc2U2NCBlbmNvZGluZyBzaG91bGQgYmUgdXNlZCB0byBwcm90ZWN0IGJpbmFyeSBvciB1bmRlZmluZWQgY29udGVudC4gIFRoZSBtZWFuaW5nIGFuZCBzZWNvbmRhcnktZW5jb2Rpbmcgb2YgdGhlIGNvbnRlbnQgb2YgYmFzZTY0IGVuY29kZWQgYmxvYiBpcyBzcGVjaWZpYyB0byB0aGUgQXVkaXRFdmVudC50eXBlLCBBdWRpdEV2ZW50LnN1YnR5cGUsIEF1ZGl0RXZlbnQuZW50aXR5LnR5cGUsIGFuZCBBdWRpdEV2ZW50LmVudGl0eS5yb2xlLiAgVGhlIGJhc2U2NCBpcyBhIGdlbmVyYWwtdXNlIGFuZCBzYWZlIGNvbnRhaW5lciBmb3IgZXZlbnQgc3BlY2lmaWMgZGF0YSBibG9icyByZWdhcmRsZXNzIG9mIHRoZSBlbmNvZGluZyB1c2VkIGJ5IHRoZSB0cmFuc2FjdGlvbiBiZWluZyByZWNvcmRlZC4gIEFuIEF1ZGl0RXZlbnQgY29uc3VtaW5nIGFwcGxpY2F0aW9uIG11c3QgdW5kZXJzdGFuZCB0aGUgZXZlbnQgaXQgaXMgY29uc3VtaW5nIGFuZCB0aGUgZm9ybWF0cyB1c2VkIGJ5IHRoZSBldmVudC4gRm9yIGV4YW1wbGUgaWYgYXVkaXRpbmcgYW4gT3JhY2xlIG5ldHdvcmsgZGF0YWJhc2UgYWNjZXNzLCB0aGUgT3JhY2xlIGZvcm1hdHMgbXVzdCBiZSB1bmRlcnN0b29kIGFzIHRoZXkgd2lsbCBiZSBzaW1wbHkgZW5jb2RlZCBpbiB0aGUgYmFzZTY0YmluYXJ5IGJsb2IuXHJcbiAgICovXHJcbiAgdmFsdWVTdHJpbmc/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgY2FuIGJlIHN0cmluZyB3aGVuIGtub3duIHRvIGJlIGEgc3RyaW5nLCBlbHNlIGJhc2U2NCBlbmNvZGluZyBzaG91bGQgYmUgdXNlZCB0byBwcm90ZWN0IGJpbmFyeSBvciB1bmRlZmluZWQgY29udGVudC4gIFRoZSBtZWFuaW5nIGFuZCBzZWNvbmRhcnktZW5jb2Rpbmcgb2YgdGhlIGNvbnRlbnQgb2YgYmFzZTY0IGVuY29kZWQgYmxvYiBpcyBzcGVjaWZpYyB0byB0aGUgQXVkaXRFdmVudC50eXBlLCBBdWRpdEV2ZW50LnN1YnR5cGUsIEF1ZGl0RXZlbnQuZW50aXR5LnR5cGUsIGFuZCBBdWRpdEV2ZW50LmVudGl0eS5yb2xlLiAgVGhlIGJhc2U2NCBpcyBhIGdlbmVyYWwtdXNlIGFuZCBzYWZlIGNvbnRhaW5lciBmb3IgZXZlbnQgc3BlY2lmaWMgZGF0YSBibG9icyByZWdhcmRsZXNzIG9mIHRoZSBlbmNvZGluZyB1c2VkIGJ5IHRoZSB0cmFuc2FjdGlvbiBiZWluZyByZWNvcmRlZC4gIEFuIEF1ZGl0RXZlbnQgY29uc3VtaW5nIGFwcGxpY2F0aW9uIG11c3QgdW5kZXJzdGFuZCB0aGUgZXZlbnQgaXQgaXMgY29uc3VtaW5nIGFuZCB0aGUgZm9ybWF0cyB1c2VkIGJ5IHRoZSBldmVudC4gRm9yIGV4YW1wbGUgaWYgYXVkaXRpbmcgYW4gT3JhY2xlIG5ldHdvcmsgZGF0YWJhc2UgYWNjZXNzLCB0aGUgT3JhY2xlIGZvcm1hdHMgbXVzdCBiZSB1bmRlcnN0b29kIGFzIHRoZXkgd2lsbCBiZSBzaW1wbHkgZW5jb2RlZCBpbiB0aGUgYmFzZTY0YmluYXJ5IGJsb2IuXHJcbiAgICovXHJcbiAgdmFsdWVCYXNlNjRCaW5hcnk/OiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRhZ2dlZCB2YWx1ZSBwYWlycyBmb3IgY29udmV5aW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVudGl0eS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50RW50aXR5RGV0YWlsIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudEVudGl0eURldGFpbCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZXh0cmEgZGV0YWlsIHByb3ZpZGVkIGluIHRoZSB2YWx1ZS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIGNhbiBiZSBzdHJpbmcgd2hlbiBrbm93biB0byBiZSBhIHN0cmluZywgZWxzZSBiYXNlNjQgZW5jb2Rpbmcgc2hvdWxkIGJlIHVzZWQgdG8gcHJvdGVjdCBiaW5hcnkgb3IgdW5kZWZpbmVkIGNvbnRlbnQuICBUaGUgbWVhbmluZyBhbmQgc2Vjb25kYXJ5LWVuY29kaW5nIG9mIHRoZSBjb250ZW50IG9mIGJhc2U2NCBlbmNvZGVkIGJsb2IgaXMgc3BlY2lmaWMgdG8gdGhlIEF1ZGl0RXZlbnQudHlwZSwgQXVkaXRFdmVudC5zdWJ0eXBlLCBBdWRpdEV2ZW50LmVudGl0eS50eXBlLCBhbmQgQXVkaXRFdmVudC5lbnRpdHkucm9sZS4gIFRoZSBiYXNlNjQgaXMgYSBnZW5lcmFsLXVzZSBhbmQgc2FmZSBjb250YWluZXIgZm9yIGV2ZW50IHNwZWNpZmljIGRhdGEgYmxvYnMgcmVnYXJkbGVzcyBvZiB0aGUgZW5jb2RpbmcgdXNlZCBieSB0aGUgdHJhbnNhY3Rpb24gYmVpbmcgcmVjb3JkZWQuICBBbiBBdWRpdEV2ZW50IGNvbnN1bWluZyBhcHBsaWNhdGlvbiBtdXN0IHVuZGVyc3RhbmQgdGhlIGV2ZW50IGl0IGlzIGNvbnN1bWluZyBhbmQgdGhlIGZvcm1hdHMgdXNlZCBieSB0aGUgZXZlbnQuIEZvciBleGFtcGxlIGlmIGF1ZGl0aW5nIGFuIE9yYWNsZSBuZXR3b3JrIGRhdGFiYXNlIGFjY2VzcywgdGhlIE9yYWNsZSBmb3JtYXRzIG11c3QgYmUgdW5kZXJzdG9vZCBhcyB0aGV5IHdpbGwgYmUgc2ltcGx5IGVuY29kZWQgaW4gdGhlIGJhc2U2NGJpbmFyeSBibG9iLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZTogKGZoaXIuRmhpclN0cmluZ3xmaGlyLkZoaXJCYXNlNjRCaW5hcnkpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBBdWRpdEV2ZW50LmVudGl0eS5kZXRhaWwudmFsdWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdmFsdWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50RW50aXR5RGV0YWlsIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudEVudGl0eURldGFpbEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVN0cmluZyddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlU3RyaW5nfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVCYXNlNjRCaW5hcnknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeSh7dmFsdWU6IHNvdXJjZS52YWx1ZUJhc2U2NEJpbmFyeX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQXVkaXRFdmVudC5lbnRpdHkuZGV0YWlsJyB9XHJcbiAgICBpZiAoIXRoaXNbJ3R5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgdHlwZSBmaGlyOiBBdWRpdEV2ZW50LmVudGl0eS5kZXRhaWwudHlwZTpzdHJpbmcnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy50eXBlJykpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3ZhbHVlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHZhbHVlIGZoaXI6IEF1ZGl0RXZlbnQuZW50aXR5LmRldGFpbC52YWx1ZVt4XTonLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudEVudGl0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50RW50aXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGluc3RhbmNlIG9mIHRoZSBlbnRpdHkuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGJlIHZlcnNpb24gc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgd2hhdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB2YWx1ZSBpcyBkaXN0aW5jdCBmcm9tIHRoZSB1c2VyJ3Mgcm9sZSBvciBhbnkgdXNlciByZWxhdGlvbnNoaXAgdG8gdGhlIGVudGl0eS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2RlIHJlcHJlc2VudGluZyB0aGUgcm9sZSB0aGUgZW50aXR5IHBsYXllZCBpbiB0aGUgZXZlbnQgYmVpbmcgYXVkaXRlZC5cclxuICAgKi9cclxuICByb2xlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYW4gYXVkaXQgdHJhaWwgZm9yIGRhdGEsIG92ZXIgdGltZSwgYXMgaXQgcGFzc2VzIHRocm91Z2ggdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBsaWZlY3ljbGU/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvcGllZCBmcm9tIGVudGl0eSBtZXRhIHNlY3VyaXR5IHRhZ3MuXHJcbiAgICovXHJcbiAgc2VjdXJpdHlMYWJlbD86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIG1heSBiZSB1c2VkIGluIGEgcXVlcnkvcmVwb3J0IHRvIGlkZW50aWZ5IGF1ZGl0IGV2ZW50cyBmb3IgYSBzcGVjaWZpYyBwZXJzb24uICBGb3IgZXhhbXBsZSwgd2hlcmUgbXVsdGlwbGUgc3lub255bW91cyBlbnRpdHkgaWRlbnRpZmllcnMgKHBhdGllbnQgbnVtYmVyLCBtZWRpY2FsIHJlY29yZCBudW1iZXIsIGVuY291bnRlciBudW1iZXIsIGV0Yy4pIGhhdmUgYmVlbiB1c2VkLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5lbnRpdHkubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUZXh0IHRoYXQgZGVzY3JpYmVzIHRoZSBlbnRpdHkgaW4gbW9yZSBkZXRhaWwuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5lbnRpdHkuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZWFuaW5nIGFuZCBzZWNvbmRhcnktZW5jb2Rpbmcgb2YgdGhlIGNvbnRlbnQgb2YgYmFzZTY0IGVuY29kZWQgYmxvYiBpcyBzcGVjaWZpYyB0byB0aGUgQXVkaXRFdmVudC50eXBlLCBBdWRpdEV2ZW50LnN1YnR5cGUsIEF1ZGl0RXZlbnQuZW50aXR5LnR5cGUsIGFuZCBBdWRpdEV2ZW50LmVudGl0eS5yb2xlLiAgVGhlIGJhc2U2NCBpcyBhIGdlbmVyYWwtdXNlIGFuZCBzYWZlIGNvbnRhaW5lciBmb3IgZXZlbnQgc3BlY2lmaWMgZGF0YSBibG9icyByZWdhcmRsZXNzIG9mIHRoZSBlbmNvZGluZyB1c2VkIGJ5IHRoZSB0cmFuc2FjdGlvbiBiZWluZyByZWNvcmRlZC4gIEFuIEF1ZGl0RXZlbnQgY29uc3VtaW5nIGFwcGxpY2F0aW9uIG11c3QgdW5kZXJzdGFuZCB0aGUgZXZlbnQgaXQgaXMgY29uc3VtaW5nIGFuZCB0aGUgZm9ybWF0cyB1c2VkIGJ5IHRoZSBldmVudC4gRm9yIGV4YW1wbGUsIGlmIGF1ZGl0aW5nIGFuIE9yYWNsZSBuZXR3b3JrIGRhdGFiYXNlIGFjY2VzcywgdGhlIE9yYWNsZSBmb3JtYXRzIG11c3QgYmUgdW5kZXJzdG9vZCBhcyB0aGV5IHdpbGwgYmUgc2ltcGx5IGVuY29kZWQgaW4gdGhlIGJhc2U2NGJpbmFyeSBibG9iLlxyXG4gICAqL1xyXG4gIHF1ZXJ5PzogZmhpci5GaGlyQmFzZTY0QmluYXJ5fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuZW50aXR5LnF1ZXJ5XHJcbiAgICovXHJcbiAgX3F1ZXJ5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUYWdnZWQgdmFsdWUgcGFpcnMgZm9yIGNvbnZleWluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkuXHJcbiAgICovXHJcbiAgZGV0YWlsPzogZmhpci5BdWRpdEV2ZW50RW50aXR5RGV0YWlsQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlcXVpcmVkIHVubGVzcyB0aGUgdmFsdWVzIGZvciBldmVudCBpZGVudGlmaWNhdGlvbiwgYWdlbnQgaWRlbnRpZmljYXRpb24sIGFuZCBhdWRpdCBzb3VyY2UgaWRlbnRpZmljYXRpb24gYXJlIHN1ZmZpY2llbnQgdG8gZG9jdW1lbnQgdGhlIGVudGlyZSBhdWRpdGFibGUgZXZlbnQuIEJlY2F1c2UgZXZlbnRzIG1heSBoYXZlIG1vcmUgdGhhbiBvbmUgZW50aXR5LCB0aGlzIGdyb3VwIGNhbiBiZSBhIHJlcGVhdGluZyBzZXQgb2YgdmFsdWVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRFbnRpdHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50RW50aXR5JztcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIGEgc3BlY2lmaWMgaW5zdGFuY2Ugb2YgdGhlIGVudGl0eS4gVGhlIHJlZmVyZW5jZSBzaG91bGQgYmUgdmVyc2lvbiBzcGVjaWZpYy5cclxuICAgKi9cclxuICBwdWJsaWMgd2hhdD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGlzIGRpc3RpbmN0IGZyb20gdGhlIHVzZXIncyByb2xlIG9yIGFueSB1c2VyIHJlbGF0aW9uc2hpcCB0byB0aGUgZW50aXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgcmVwcmVzZW50aW5nIHRoZSByb2xlIHRoZSBlbnRpdHkgcGxheWVkIGluIHRoZSBldmVudCBiZWluZyBhdWRpdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb2xlPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBhbiBhdWRpdCB0cmFpbCBmb3IgZGF0YSwgb3ZlciB0aW1lLCBhcyBpdCBwYXNzZXMgdGhyb3VnaCB0aGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsaWZlY3ljbGU/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29waWVkIGZyb20gZW50aXR5IG1ldGEgc2VjdXJpdHkgdGFncy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VjdXJpdHlMYWJlbDogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIG1heSBiZSB1c2VkIGluIGEgcXVlcnkvcmVwb3J0IHRvIGlkZW50aWZ5IGF1ZGl0IGV2ZW50cyBmb3IgYSBzcGVjaWZpYyBwZXJzb24uICBGb3IgZXhhbXBsZSwgd2hlcmUgbXVsdGlwbGUgc3lub255bW91cyBlbnRpdHkgaWRlbnRpZmllcnMgKHBhdGllbnQgbnVtYmVyLCBtZWRpY2FsIHJlY29yZCBudW1iZXIsIGVuY291bnRlciBudW1iZXIsIGV0Yy4pIGhhdmUgYmVlbiB1c2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0IHRoYXQgZGVzY3JpYmVzIHRoZSBlbnRpdHkgaW4gbW9yZSBkZXRhaWwuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWVhbmluZyBhbmQgc2Vjb25kYXJ5LWVuY29kaW5nIG9mIHRoZSBjb250ZW50IG9mIGJhc2U2NCBlbmNvZGVkIGJsb2IgaXMgc3BlY2lmaWMgdG8gdGhlIEF1ZGl0RXZlbnQudHlwZSwgQXVkaXRFdmVudC5zdWJ0eXBlLCBBdWRpdEV2ZW50LmVudGl0eS50eXBlLCBhbmQgQXVkaXRFdmVudC5lbnRpdHkucm9sZS4gIFRoZSBiYXNlNjQgaXMgYSBnZW5lcmFsLXVzZSBhbmQgc2FmZSBjb250YWluZXIgZm9yIGV2ZW50IHNwZWNpZmljIGRhdGEgYmxvYnMgcmVnYXJkbGVzcyBvZiB0aGUgZW5jb2RpbmcgdXNlZCBieSB0aGUgdHJhbnNhY3Rpb24gYmVpbmcgcmVjb3JkZWQuICBBbiBBdWRpdEV2ZW50IGNvbnN1bWluZyBhcHBsaWNhdGlvbiBtdXN0IHVuZGVyc3RhbmQgdGhlIGV2ZW50IGl0IGlzIGNvbnN1bWluZyBhbmQgdGhlIGZvcm1hdHMgdXNlZCBieSB0aGUgZXZlbnQuIEZvciBleGFtcGxlLCBpZiBhdWRpdGluZyBhbiBPcmFjbGUgbmV0d29yayBkYXRhYmFzZSBhY2Nlc3MsIHRoZSBPcmFjbGUgZm9ybWF0cyBtdXN0IGJlIHVuZGVyc3Rvb2QgYXMgdGhleSB3aWxsIGJlIHNpbXBseSBlbmNvZGVkIGluIHRoZSBiYXNlNjRiaW5hcnkgYmxvYi5cclxuICAgKi9cclxuICBwdWJsaWMgcXVlcnk/OiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRhZ2dlZCB2YWx1ZSBwYWlycyBmb3IgY29udmV5aW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVudGl0eS5cclxuICAgKi9cclxuICBwdWJsaWMgZGV0YWlsOiBmaGlyLkF1ZGl0RXZlbnRFbnRpdHlEZXRhaWxbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50RW50aXR5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudEVudGl0eUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd3aGF0J10pIHsgdGhpcy53aGF0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS53aGF0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JvbGUnXSkgeyB0aGlzLnJvbGUgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnJvbGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydsaWZlY3ljbGUnXSkgeyB0aGlzLmxpZmVjeWNsZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UubGlmZWN5Y2xlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VjdXJpdHlMYWJlbCddKSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IHNvdXJjZS5zZWN1cml0eUxhYmVsLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19uYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMubmFtZSkgeyB0aGlzLm5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3F1ZXJ5J10pIHsgdGhpcy5xdWVyeSA9IG5ldyBmaGlyLkZoaXJCYXNlNjRCaW5hcnkoe3ZhbHVlOiBzb3VyY2UucXVlcnl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3F1ZXJ5J10pIHtcclxuICAgICAgaWYgKHRoaXMucXVlcnkpIHsgdGhpcy5xdWVyeS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9xdWVyeSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnF1ZXJ5ID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeShzb3VyY2UuX3F1ZXJ5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQmFzZTY0QmluYXJ5QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXRhaWwnXSkgeyB0aGlzLmRldGFpbCA9IHNvdXJjZS5kZXRhaWwubWFwKCh4KSA9PiBuZXcgZmhpci5BdWRpdEV2ZW50RW50aXR5RGV0YWlsKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGV0YWlsID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIHR5cGUgKEF1ZGl0RXZlbnQuZW50aXR5LnR5cGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgdHlwZUV4dGVuc2libGVDb2RpbmdzKCk6QXVkaXRFbnRpdHlUeXBlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gQXVkaXRFbnRpdHlUeXBlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIHJvbGUgKEF1ZGl0RXZlbnQuZW50aXR5LnJvbGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgcm9sZUV4dGVuc2libGVDb2RpbmdzKCk6T2JqZWN0Um9sZUNvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIE9iamVjdFJvbGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3Igc2VjdXJpdHlMYWJlbCAoQXVkaXRFdmVudC5lbnRpdHkuc2VjdXJpdHlMYWJlbClcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBzZWN1cml0eUxhYmVsRXh0ZW5zaWJsZUNvZGluZ3MoKTpTZWN1cml0eUxhYmVsc0NvZGluZ1R5cGUge1xyXG4gICAgcmV0dXJuIFNlY3VyaXR5TGFiZWxzQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb246c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7IGV4cHJlc3Npb24gPSAnQXVkaXRFdmVudC5lbnRpdHknIH1cclxuICAgIGlmICh0aGlzW1wid2hhdFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLndoYXQuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLndoYXQnKSk7IH1cclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnR5cGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wicm9sZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJvbGUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLnJvbGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wibGlmZWN5Y2xlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubGlmZWN5Y2xlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5saWZlY3ljbGUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wic2VjdXJpdHlMYWJlbFwiXSkgeyB0aGlzLnNlY3VyaXR5TGFiZWwuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnNlY3VyaXR5TGFiZWxbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICh0aGlzW1wibmFtZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm5hbWUuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm5hbWUnKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGVzY3JpcHRpb25cIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5kZXNjcmlwdGlvbi5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuZGVzY3JpcHRpb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1wicXVlcnlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5xdWVyeS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycucXVlcnknKSk7IH1cclxuICAgIGlmICh0aGlzW1wiZGV0YWlsXCJdKSB7IHRoaXMuZGV0YWlsLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5kZXRhaWxbJHtpfV1gKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJBdWRpdEV2ZW50XCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgZm9yIGEgZmFtaWx5IG9mIHRoZSBldmVudC4gIEZvciBleGFtcGxlLCBhIG1lbnUgaXRlbSwgcHJvZ3JhbSwgcnVsZSwgcG9saWN5LCBmdW5jdGlvbiBjb2RlLCBhcHBsaWNhdGlvbiBuYW1lIG9yIFVSTC4gSXQgaWRlbnRpZmllcyB0aGUgcGVyZm9ybWVkIGZ1bmN0aW9uLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kaW5nQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgZm9yIHRoZSBjYXRlZ29yeSBvZiBldmVudC5cclxuICAgKi9cclxuICBzdWJ0eXBlPzogZmhpci5Db2RpbmdBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRvciBmb3IgdHlwZSBvZiBhY3Rpb24gcGVyZm9ybWVkIGR1cmluZyB0aGUgZXZlbnQgdGhhdCBnZW5lcmF0ZWQgdGhlIGF1ZGl0LlxyXG4gICAqL1xyXG4gIGFjdGlvbj86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5hY3Rpb25cclxuICAgKi9cclxuICBfYWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIGNhbiBiZSBhIGxpdHRsZSBhcmJpdHJhcnk7IHdoZXJlIHBvc3NpYmxlLCB0aGUgdGltZSBzaG91bGQgY29ycmVzcG9uZCB0byBodW1hbiBhc3Nlc3NtZW50IG9mIHRoZSBhY3Rpdml0eSB0aW1lLlxyXG4gICAqL1xyXG4gIHBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gYSBkaXN0cmlidXRlZCBzeXN0ZW0sIHNvbWUgc29ydCBvZiBjb21tb24gdGltZSBiYXNlIChlLmcuIGFuIE5UUCBbUkZDMTMwNV0gc2VydmVyKSBpcyBhIGdvb2QgaW1wbGVtZW50YXRpb24gdGFjdGljLlxyXG4gICAqL1xyXG4gIHJlY29yZGVkOiBmaGlyLkZoaXJJbnN0YW50fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQucmVjb3JkZWRcclxuICAgKi9cclxuICBfcmVjb3JkZWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluIHNvbWUgY2FzZXMgYSBcInN1Y2Nlc3NcIiBtYXkgYmUgcGFydGlhbCwgZm9yIGV4YW1wbGUsIGFuIGluY29tcGxldGUgb3IgaW50ZXJydXB0ZWQgdHJhbnNmZXIgb2YgYSByYWRpb2xvZ2ljYWwgc3R1ZHkuIEZvciB0aGUgcHVycG9zZSBvZiBlc3RhYmxpc2hpbmcgYWNjb3VudGFiaWxpdHksIHRoZXNlIGRpc3RpbmN0aW9ucyBhcmUgbm90IHJlbGV2YW50LlxyXG4gICAqL1xyXG4gIG91dGNvbWU/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQub3V0Y29tZVxyXG4gICAqL1xyXG4gIF9vdXRjb21lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGZyZWUgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgb3V0Y29tZSBvZiB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgb3V0Y29tZURlc2M/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5vdXRjb21lRGVzY1xyXG4gICAqL1xyXG4gIF9vdXRjb21lRGVzYz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVXNlIEF1ZGl0RXZlbnQuYWdlbnQucHVycG9zZU9mVXNlIHdoZW4geW91IGtub3cgdGhhdCBpdCBpcyBzcGVjaWZpYyB0byB0aGUgYWdlbnQsIG90aGVyd2lzZSB1c2UgQXVkaXRFdmVudC5wdXJwb3NlT2ZFdmVudC4gRm9yIGV4YW1wbGUsIGR1cmluZyBhIG1hY2hpbmUtdG8tbWFjaGluZSB0cmFuc2ZlciBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB0byB0aGUgYXVkaXQgc3lzdGVtIHdobyBjYXVzZWQgdGhlIGV2ZW50LCBidXQgaXQgZG9lcyBrbm93IHdoeS5cclxuICAgKi9cclxuICBwdXJwb3NlT2ZFdmVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTZXZlcmFsIGFnZW50cyBtYXkgYmUgYXNzb2NpYXRlZCAoaS5lLiBoYXZlIHNvbWUgcmVzcG9uc2liaWxpdHkgZm9yIGFuIGFjdGl2aXR5KSB3aXRoIGFuIGV2ZW50IG9yIGFjdGl2aXR5LlxyXG4gICAqIEZvciBleGFtcGxlLCBhbiBhY3Rpdml0eSBtYXkgYmUgaW5pdGlhdGVkIGJ5IG9uZSB1c2VyIGZvciBvdGhlciB1c2VycyBvciBpbnZvbHZlIG1vcmUgdGhhbiBvbmUgdXNlci4gSG93ZXZlciwgb25seSBvbmUgdXNlciBtYXkgYmUgdGhlIGluaXRpYXRvci9yZXF1ZXN0b3IgZm9yIHRoZSBhY3Rpdml0eS5cclxuICAgKi9cclxuICBhZ2VudDogZmhpci5BdWRpdEV2ZW50QWdlbnRBcmdzW118bnVsbDtcclxuICAvKipcclxuICAgKiBTaW5jZSBtdWx0aS10aWVyLCBkaXN0cmlidXRlZCwgb3IgY29tcG9zaXRlIGFwcGxpY2F0aW9ucyBtYWtlIHNvdXJjZSBpZGVudGlmaWNhdGlvbiBhbWJpZ3VvdXMsIHRoaXMgY29sbGVjdGlvbiBvZiBmaWVsZHMgbWF5IHJlcGVhdCBmb3IgZWFjaCBhcHBsaWNhdGlvbiBvciBwcm9jZXNzIGFjdGl2ZWx5IGludm9sdmVkIGluIHRoZSBldmVudC4gRm9yIGV4YW1wbGUsIG11bHRpcGxlIHZhbHVlLXNldHMgY2FuIGlkZW50aWZ5IHBhcnRpY2lwYXRpbmcgd2ViIHNlcnZlcnMsIGFwcGxpY2F0aW9uIHByb2Nlc3NlcywgYW5kIGRhdGFiYXNlIHNlcnZlciB0aHJlYWRzIGluIGFuIG4tdGllciBkaXN0cmlidXRlZCBhcHBsaWNhdGlvbi4gUGFzc2l2ZSBldmVudCBwYXJ0aWNpcGFudHMgKGUuZy4gbG93LWxldmVsIG5ldHdvcmsgdHJhbnNwb3J0cykgbmVlZCBub3QgYmUgaWRlbnRpZmllZC5cclxuICAgKi9cclxuICBzb3VyY2U6IGZoaXIuQXVkaXRFdmVudFNvdXJjZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBSZXF1aXJlZCB1bmxlc3MgdGhlIHZhbHVlcyBmb3IgZXZlbnQgaWRlbnRpZmljYXRpb24sIGFnZW50IGlkZW50aWZpY2F0aW9uLCBhbmQgYXVkaXQgc291cmNlIGlkZW50aWZpY2F0aW9uIGFyZSBzdWZmaWNpZW50IHRvIGRvY3VtZW50IHRoZSBlbnRpcmUgYXVkaXRhYmxlIGV2ZW50LiBCZWNhdXNlIGV2ZW50cyBtYXkgaGF2ZSBtb3JlIHRoYW4gb25lIGVudGl0eSwgdGhpcyBncm91cCBjYW4gYmUgYSByZXBlYXRpbmcgc2V0IG9mIHZhbHVlcy5cclxuICAgKi9cclxuICBlbnRpdHk/OiBmaGlyLkF1ZGl0RXZlbnRFbnRpdHlBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSByZWNvcmQgb2YgYW4gZXZlbnQgbWFkZSBmb3IgcHVycG9zZXMgb2YgbWFpbnRhaW5pbmcgYSBzZWN1cml0eSBsb2cuIFR5cGljYWwgdXNlcyBpbmNsdWRlIGRldGVjdGlvbiBvZiBpbnRydXNpb24gYXR0ZW1wdHMgYW5kIG1vbml0b3JpbmcgZm9yIGluYXBwcm9wcmlhdGUgdXNhZ2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXVkaXRFdmVudCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJBdWRpdEV2ZW50XCI7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBmb3IgYSBmYW1pbHkgb2YgdGhlIGV2ZW50LiAgRm9yIGV4YW1wbGUsIGEgbWVudSBpdGVtLCBwcm9ncmFtLCBydWxlLCBwb2xpY3ksIGZ1bmN0aW9uIGNvZGUsIGFwcGxpY2F0aW9uIG5hbWUgb3IgVVJMLiBJdCBpZGVudGlmaWVzIHRoZSBwZXJmb3JtZWQgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBmb3IgdGhlIGNhdGVnb3J5IG9mIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJ0eXBlOiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRvciBmb3IgdHlwZSBvZiBhY3Rpb24gcGVyZm9ybWVkIGR1cmluZyB0aGUgZXZlbnQgdGhhdCBnZW5lcmF0ZWQgdGhlIGF1ZGl0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3Rpb24/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIGNhbiBiZSBhIGxpdHRsZSBhcmJpdHJhcnk7IHdoZXJlIHBvc3NpYmxlLCB0aGUgdGltZSBzaG91bGQgY29ycmVzcG9uZCB0byBodW1hbiBhc3Nlc3NtZW50IG9mIHRoZSBhY3Rpdml0eSB0aW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gYSBkaXN0cmlidXRlZCBzeXN0ZW0sIHNvbWUgc29ydCBvZiBjb21tb24gdGltZSBiYXNlIChlLmcuIGFuIE5UUCBbUkZDMTMwNV0gc2VydmVyKSBpcyBhIGdvb2QgaW1wbGVtZW50YXRpb24gdGFjdGljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNvcmRlZDogZmhpci5GaGlySW5zdGFudHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluIHNvbWUgY2FzZXMgYSBcInN1Y2Nlc3NcIiBtYXkgYmUgcGFydGlhbCwgZm9yIGV4YW1wbGUsIGFuIGluY29tcGxldGUgb3IgaW50ZXJydXB0ZWQgdHJhbnNmZXIgb2YgYSByYWRpb2xvZ2ljYWwgc3R1ZHkuIEZvciB0aGUgcHVycG9zZSBvZiBlc3RhYmxpc2hpbmcgYWNjb3VudGFiaWxpdHksIHRoZXNlIGRpc3RpbmN0aW9ucyBhcmUgbm90IHJlbGV2YW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBmcmVlIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIG91dGNvbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lRGVzYz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlIEF1ZGl0RXZlbnQuYWdlbnQucHVycG9zZU9mVXNlIHdoZW4geW91IGtub3cgdGhhdCBpdCBpcyBzcGVjaWZpYyB0byB0aGUgYWdlbnQsIG90aGVyd2lzZSB1c2UgQXVkaXRFdmVudC5wdXJwb3NlT2ZFdmVudC4gRm9yIGV4YW1wbGUsIGR1cmluZyBhIG1hY2hpbmUtdG8tbWFjaGluZSB0cmFuc2ZlciBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB0byB0aGUgYXVkaXQgc3lzdGVtIHdobyBjYXVzZWQgdGhlIGV2ZW50LCBidXQgaXQgZG9lcyBrbm93IHdoeS5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZU9mRXZlbnQ6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogU2V2ZXJhbCBhZ2VudHMgbWF5IGJlIGFzc29jaWF0ZWQgKGkuZS4gaGF2ZSBzb21lIHJlc3BvbnNpYmlsaXR5IGZvciBhbiBhY3Rpdml0eSkgd2l0aCBhbiBldmVudCBvciBhY3Rpdml0eS5cclxuICAgKiBGb3IgZXhhbXBsZSwgYW4gYWN0aXZpdHkgbWF5IGJlIGluaXRpYXRlZCBieSBvbmUgdXNlciBmb3Igb3RoZXIgdXNlcnMgb3IgaW52b2x2ZSBtb3JlIHRoYW4gb25lIHVzZXIuIEhvd2V2ZXIsIG9ubHkgb25lIHVzZXIgbWF5IGJlIHRoZSBpbml0aWF0b3IvcmVxdWVzdG9yIGZvciB0aGUgYWN0aXZpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGFnZW50OiBmaGlyLkF1ZGl0RXZlbnRBZ2VudFtdO1xyXG4gIC8qKlxyXG4gICAqIFNpbmNlIG11bHRpLXRpZXIsIGRpc3RyaWJ1dGVkLCBvciBjb21wb3NpdGUgYXBwbGljYXRpb25zIG1ha2Ugc291cmNlIGlkZW50aWZpY2F0aW9uIGFtYmlndW91cywgdGhpcyBjb2xsZWN0aW9uIG9mIGZpZWxkcyBtYXkgcmVwZWF0IGZvciBlYWNoIGFwcGxpY2F0aW9uIG9yIHByb2Nlc3MgYWN0aXZlbHkgaW52b2x2ZWQgaW4gdGhlIGV2ZW50LiBGb3IgZXhhbXBsZSwgbXVsdGlwbGUgdmFsdWUtc2V0cyBjYW4gaWRlbnRpZnkgcGFydGljaXBhdGluZyB3ZWIgc2VydmVycywgYXBwbGljYXRpb24gcHJvY2Vzc2VzLCBhbmQgZGF0YWJhc2Ugc2VydmVyIHRocmVhZHMgaW4gYW4gbi10aWVyIGRpc3RyaWJ1dGVkIGFwcGxpY2F0aW9uLiBQYXNzaXZlIGV2ZW50IHBhcnRpY2lwYW50cyAoZS5nLiBsb3ctbGV2ZWwgbmV0d29yayB0cmFuc3BvcnRzKSBuZWVkIG5vdCBiZSBpZGVudGlmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2U6IGZoaXIuQXVkaXRFdmVudFNvdXJjZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkIHVubGVzcyB0aGUgdmFsdWVzIGZvciBldmVudCBpZGVudGlmaWNhdGlvbiwgYWdlbnQgaWRlbnRpZmljYXRpb24sIGFuZCBhdWRpdCBzb3VyY2UgaWRlbnRpZmljYXRpb24gYXJlIHN1ZmZpY2llbnQgdG8gZG9jdW1lbnQgdGhlIGVudGlyZSBhdWRpdGFibGUgZXZlbnQuIEJlY2F1c2UgZXZlbnRzIG1heSBoYXZlIG1vcmUgdGhhbiBvbmUgZW50aXR5LCB0aGlzIGdyb3VwIGNhbiBiZSBhIHJlcGVhdGluZyBzZXQgb2YgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRpdHk6IGZoaXIuQXVkaXRFdmVudEVudGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEF1ZGl0RXZlbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBdWRpdEV2ZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0F1ZGl0RXZlbnQnO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJ0eXBlJ10pIHsgdGhpcy5zdWJ0eXBlID0gc291cmNlLnN1YnR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RpbmcoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJ0eXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdGlvbiddKSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuYWN0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hY3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hY3Rpb24pIHsgdGhpcy5hY3Rpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoc291cmNlLl9hY3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UucGVyaW9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVjb3JkZWQnXSkgeyB0aGlzLnJlY29yZGVkID0gbmV3IGZoaXIuRmhpckluc3RhbnQoe3ZhbHVlOiBzb3VyY2UucmVjb3JkZWR9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVjb3JkZWQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVjb3JkZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZWNvcmRlZCkgeyB0aGlzLnJlY29yZGVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlY29yZGVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVjb3JkZWQgPSBuZXcgZmhpci5GaGlySW5zdGFudChzb3VyY2UuX3JlY29yZGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlySW5zdGFudEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0Y29tZSddKSB7IHRoaXMub3V0Y29tZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLm91dGNvbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX291dGNvbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5vdXRjb21lKSB7IHRoaXMub3V0Y29tZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9vdXRjb21lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3V0Y29tZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fb3V0Y29tZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ291dGNvbWVEZXNjJ10pIHsgdGhpcy5vdXRjb21lRGVzYyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2Uub3V0Y29tZURlc2N9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX291dGNvbWVEZXNjJ10pIHtcclxuICAgICAgaWYgKHRoaXMub3V0Y29tZURlc2MpIHsgdGhpcy5vdXRjb21lRGVzYy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9vdXRjb21lRGVzYyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm91dGNvbWVEZXNjID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX291dGNvbWVEZXNjIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwdXJwb3NlT2ZFdmVudCddKSB7IHRoaXMucHVycG9zZU9mRXZlbnQgPSBzb3VyY2UucHVycG9zZU9mRXZlbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wdXJwb3NlT2ZFdmVudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhZ2VudCddKSB7IHRoaXMuYWdlbnQgPSBzb3VyY2UuYWdlbnQubWFwKCh4KSA9PiBuZXcgZmhpci5BdWRpdEV2ZW50QWdlbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hZ2VudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2UnXSkgeyB0aGlzLnNvdXJjZSA9IG5ldyBmaGlyLkF1ZGl0RXZlbnRTb3VyY2Uoc291cmNlLnNvdXJjZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNvdXJjZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VudGl0eSddKSB7IHRoaXMuZW50aXR5ID0gc291cmNlLmVudGl0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkF1ZGl0RXZlbnRFbnRpdHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lbnRpdHkgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoQXVkaXRFdmVudC50eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHR5cGVFeHRlbnNpYmxlQ29kaW5ncygpOkF1ZGl0RXZlbnRUeXBlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gQXVkaXRFdmVudFR5cGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3Igc3VidHlwZSAoQXVkaXRFdmVudC5zdWJ0eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHN1YnR5cGVFeHRlbnNpYmxlQ29kaW5ncygpOkF1ZGl0RXZlbnRTdWJUeXBlQ29kaW5nVHlwZSB7XHJcbiAgICByZXR1cm4gQXVkaXRFdmVudFN1YlR5cGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZXF1aXJlZC1ib3VuZCBWYWx1ZSBTZXQgZm9yIGFjdGlvbiAoQXVkaXRFdmVudC5hY3Rpb24pXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgYWN0aW9uUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBBdWRpdEV2ZW50QWN0aW9uQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3Igb3V0Y29tZSAoQXVkaXRFdmVudC5vdXRjb21lKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IG91dGNvbWVSZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIEF1ZGl0RXZlbnRPdXRjb21lQ29kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciBwdXJwb3NlT2ZFdmVudCAoQXVkaXRFdmVudC5wdXJwb3NlT2ZFdmVudClcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBwdXJwb3NlT2ZFdmVudEV4dGVuc2libGVDb2RpbmdzKCk6VjNQdXJwb3NlT2ZVc2VDb2RpbmdUeXBlIHtcclxuICAgIHJldHVybiBWM1B1cnBvc2VPZlVzZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKTtcclxuICAgIGlmIChleHByZXNzaW9uID09PSAnJykgeyBleHByZXNzaW9uID0gJ0F1ZGl0RXZlbnQnIH1cclxuICAgIGlmICghdGhpc1sncmVzb3VyY2VUeXBlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHJlc291cmNlVHlwZSBmaGlyOiBBdWRpdEV2ZW50LnJlc291cmNlVHlwZTpcIkF1ZGl0RXZlbnRcIicsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0eXBlIGZoaXI6IEF1ZGl0RXZlbnQudHlwZTpDb2RpbmcnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInR5cGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy50eXBlLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy50eXBlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInN1YnR5cGVcIl0pIHsgdGhpcy5zdWJ0eXBlLmZvckVhY2goKHgsaSkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rYC5zdWJ0eXBlWyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1snYWN0aW9uJ10gJiYgKCFPYmplY3QudmFsdWVzKEF1ZGl0RXZlbnRBY3Rpb25Db2RlcykuaW5jbHVkZXModGhpcy5hY3Rpb24udmFsdWUgYXMgYW55KSkpIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ2NvZGUtaW52YWxpZCcsIGRpYWdub3N0aWNzOiAnYWN0aW9uIChBdWRpdEV2ZW50LmFjdGlvbikgb2YgdHlwZSBjb2RlIGlzIG1pc3NpbmcgY29kZSBmb3IgUmVxdWlyZWQgYmluZGluZyB0bzogQXVkaXRFdmVudEFjdGlvbicsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiYWN0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYWN0aW9uLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5hY3Rpb24nKSk7IH1cclxuICAgIGlmICh0aGlzW1wicGVyaW9kXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucGVyaW9kLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5wZXJpb2QnKSk7IH1cclxuICAgIGlmICghdGhpc1sncmVjb3JkZWQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVjb3JkZWQgZmhpcjogQXVkaXRFdmVudC5yZWNvcmRlZDppbnN0YW50JywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJyZWNvcmRlZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlY29yZGVkLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5yZWNvcmRlZCcpKTsgfVxyXG4gICAgaWYgKHRoaXNbJ291dGNvbWUnXSAmJiAoIU9iamVjdC52YWx1ZXMoQXVkaXRFdmVudE91dGNvbWVDb2RlcykuaW5jbHVkZXModGhpcy5vdXRjb21lLnZhbHVlIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ291dGNvbWUgKEF1ZGl0RXZlbnQub3V0Y29tZSkgb2YgdHlwZSBjb2RlIGlzIG1pc3NpbmcgY29kZSBmb3IgUmVxdWlyZWQgYmluZGluZyB0bzogQXVkaXRFdmVudE91dGNvbWUnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcIm91dGNvbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vdXRjb21lLmRvTW9kZWxWYWxpZGF0aW9uKGV4cHJlc3Npb24rJy5vdXRjb21lJykpOyB9XHJcbiAgICBpZiAodGhpc1tcIm91dGNvbWVEZXNjXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3V0Y29tZURlc2MuZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbisnLm91dGNvbWVEZXNjJykpOyB9XHJcbiAgICBpZiAodGhpc1tcInB1cnBvc2VPZkV2ZW50XCJdKSB7IHRoaXMucHVycG9zZU9mRXZlbnQuZm9yRWFjaCgoeCxpKSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oZXhwcmVzc2lvbitgLnB1cnBvc2VPZkV2ZW50WyR7aX1dYCkpOyB9KSB9XHJcbiAgICBpZiAoIXRoaXNbJ2FnZW50J10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGFnZW50IGZoaXI6IEF1ZGl0RXZlbnQuYWdlbnQ6YWdlbnQnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuYWdlbnQpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdzdHJ1Y3R1cmUnLCBkaWFnbm9zdGljczogJ0ZvdW5kIHNjYWxhciBpbiBhcnJheSBwcm9wZXJ0eSBhZ2VudCBmaGlyOiBBdWRpdEV2ZW50LmFnZW50OmFnZW50JywgZXhwcmVzc2lvbjogW2V4cHJlc3Npb25dIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmFnZW50Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgYWdlbnQgZmhpcjogQXVkaXRFdmVudC5hZ2VudDphZ2VudCcsIGV4cHJlc3Npb246IFtleHByZXNzaW9uXSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiYWdlbnRcIl0pIHsgdGhpcy5hZ2VudC5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuYWdlbnRbJHtpfV1gKSk7IH0pIH1cclxuICAgIGlmICghdGhpc1snc291cmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHNvdXJjZSBmaGlyOiBBdWRpdEV2ZW50LnNvdXJjZTpzb3VyY2UnLCBleHByZXNzaW9uOiBbZXhwcmVzc2lvbl0gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcInNvdXJjZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNvdXJjZS5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uKycuc291cmNlJykpOyB9XHJcbiAgICBpZiAodGhpc1tcImVudGl0eVwiXSkgeyB0aGlzLmVudGl0eS5mb3JFYWNoKCh4LGkpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbihleHByZXNzaW9uK2AuZW50aXR5WyR7aX1dYCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=