// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: AuditEvent
import * as fhir from '../fhir.js';
// @ts-ignore
import { NetworkTypeCodes } from '../fhirValueSets/NetworkTypeCodes.js';
// @ts-ignore
import { ParticipationRoleTypeCodings, } from '../fhirValueSets/ParticipationRoleTypeCodings.js';
// @ts-ignore
import { Dicm405MediatypeCodings, } from '../fhirValueSets/Dicm405MediatypeCodings.js';
// @ts-ignore
import { V3PurposeOfUseCodings, } from '../fhirValueSets/V3PurposeOfUseCodings.js';
// @ts-ignore
import { AuditSourceTypeCodings, } from '../fhirValueSets/AuditSourceTypeCodings.js';
// @ts-ignore
import { AuditEntityTypeCodings, } from '../fhirValueSets/AuditEntityTypeCodings.js';
// @ts-ignore
import { ObjectRoleCodings, } from '../fhirValueSets/ObjectRoleCodings.js';
// @ts-ignore
import { SecurityLabelsCodings, } from '../fhirValueSets/SecurityLabelsCodings.js';
// @ts-ignore
import { AuditEventTypeCodings, } from '../fhirValueSets/AuditEventTypeCodings.js';
// @ts-ignore
import { AuditEventSubTypeCodings, } from '../fhirValueSets/AuditEventSubTypeCodings.js';
// @ts-ignore
import { AuditEventActionCodes } from '../fhirValueSets/AuditEventActionCodes.js';
// @ts-ignore
import { AuditEventOutcomeCodes } from '../fhirValueSets/AuditEventOutcomeCodes.js';
/**
 * Logical network location for application activity, if the activity has a network location.
 */
export class AuditEventAgentNetwork extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventAgentNetwork - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['address']) {
            this.address = new fhir.FhirString({ value: source.address });
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
    }
    /**
     * Required-bound Value Set for type (AuditEvent.agent.network.type)
     */
    static get typeRequiredCodes() {
        return NetworkTypeCodes;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["address"]) {
            issues.push(...this.address.doModelValidation());
        }
        if (this['type'] && (!Object.values(NetworkTypeCodes).includes(this.type))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property type?:fhir.FhirCode fhir: AuditEvent.agent.network.type:code Required binding to: NetworkType' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventAgentNetwork._fts_dataType = 'AuditEventAgentNetwork';
/**
 * Several agents may be associated (i.e. have some responsibility for an activity) with an event or activity.
 * For example, an activity may be initiated by one user for other users or involve more than one user. However, only one user may be the initiator/requestor for the activity.
 */
export class AuditEventAgent extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventAgent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['role']) {
            this.role = source.role.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.role = [];
        }
        if (source['who']) {
            this.who = new fhir.Reference(source.who);
        }
        if (source['altId']) {
            this.altId = new fhir.FhirString({ value: source.altId });
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['requestor']) {
            this.requestor = new fhir.FhirBoolean({ value: source.requestor });
        }
        else {
            this.requestor = null;
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        if (source['policy']) {
            this.policy = source.policy.map((x) => new fhir.FhirUri({ value: x }));
        }
        else {
            this.policy = [];
        }
        if (source['media']) {
            this.media = new fhir.Coding(source.media);
        }
        if (source['network']) {
            this.network = new fhir.AuditEventAgentNetwork(source.network);
        }
        if (source['purposeOfUse']) {
            this.purposeOfUse = source.purposeOfUse.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.purposeOfUse = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (AuditEvent.agent.type)
     */
    static get typeExtensibleCodings() {
        return ParticipationRoleTypeCodings;
    }
    /**
     * Extensible-bound Value Set for media (AuditEvent.agent.media)
     */
    static get mediaExtensibleCodings() {
        return Dicm405MediatypeCodings;
    }
    /**
     * Extensible-bound Value Set for purposeOfUse (AuditEvent.agent.purposeOfUse)
     */
    static get purposeOfUseExtensibleCodings() {
        return V3PurposeOfUseCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["role"]) {
            this.role.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["who"]) {
            issues.push(...this.who.doModelValidation());
        }
        if (this["altId"]) {
            issues.push(...this.altId.doModelValidation());
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (!this['requestor']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property requestor:fhir.FhirBoolean fhir: AuditEvent.agent.requestor:boolean' });
        }
        if (this["requestor"]) {
            issues.push(...this.requestor.doModelValidation());
        }
        if (this["location"]) {
            issues.push(...this.location.doModelValidation());
        }
        if (this["policy"]) {
            this.policy.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["media"]) {
            issues.push(...this.media.doModelValidation());
        }
        if (this["network"]) {
            issues.push(...this.network.doModelValidation());
        }
        if (this["purposeOfUse"]) {
            this.purposeOfUse.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventAgent._fts_dataType = 'AuditEventAgent';
/**
 * Since multi-tier, distributed, or composite applications make source identification ambiguous, this collection of fields may repeat for each application or process actively involved in the event. For example, multiple value-sets can identify participating web servers, application processes, and database server threads in an n-tier distributed application. Passive event participants (e.g. low-level network transports) need not be identified.
 */
export class AuditEventSource extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventSource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['site']) {
            this.site = new fhir.FhirString({ value: source.site });
        }
        if (source['observer']) {
            this.observer = new fhir.Reference(source.observer);
        }
        else {
            this.observer = null;
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.Coding(x));
        }
        else {
            this.type = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (AuditEvent.source.type)
     */
    static get typeExtensibleCodings() {
        return AuditSourceTypeCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["site"]) {
            issues.push(...this.site.doModelValidation());
        }
        if (!this['observer']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property observer:fhir.Reference fhir: AuditEvent.source.observer:Reference' });
        }
        if (this["observer"]) {
            issues.push(...this.observer.doModelValidation());
        }
        if (this["type"]) {
            this.type.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventSource._fts_dataType = 'AuditEventSource';
/**
 * Tagged value pairs for conveying additional information about the entity.
 */
export class AuditEventEntityDetail extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventEntityDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirString({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueBase64Binary']) {
            this.value = new fhir.FhirBase64Binary({ value: source.valueBase64Binary });
        }
        else {
            this.value = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.FhirString fhir: AuditEvent.entity.detail.type:string' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (!this['value']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property value: fhir: AuditEvent.entity.detail.value[x]:' });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventEntityDetail._fts_dataType = 'AuditEventEntityDetail';
/**
 * Internal flag to properly serialize choice-type element AuditEvent.entity.detail.value[x]
 */
AuditEventEntityDetail._fts_valueIsChoice = true;
/**
 * Required unless the values for event identification, agent identification, and audit source identification are sufficient to document the entire auditable event. Because events may have more than one entity, this group can be a repeating set of values.
 */
export class AuditEventEntity extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventEntity - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['what']) {
            this.what = new fhir.Reference(source.what);
        }
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        if (source['role']) {
            this.role = new fhir.Coding(source.role);
        }
        if (source['lifecycle']) {
            this.lifecycle = new fhir.Coding(source.lifecycle);
        }
        if (source['securityLabel']) {
            this.securityLabel = source.securityLabel.map((x) => new fhir.Coding(x));
        }
        else {
            this.securityLabel = [];
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['query']) {
            this.query = new fhir.FhirBase64Binary({ value: source.query });
        }
        if (source['detail']) {
            this.detail = source.detail.map((x) => new fhir.AuditEventEntityDetail(x));
        }
        else {
            this.detail = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (AuditEvent.entity.type)
     */
    static get typeExtensibleCodings() {
        return AuditEntityTypeCodings;
    }
    /**
     * Extensible-bound Value Set for role (AuditEvent.entity.role)
     */
    static get roleExtensibleCodings() {
        return ObjectRoleCodings;
    }
    /**
     * Extensible-bound Value Set for securityLabel (AuditEvent.entity.securityLabel)
     */
    static get securityLabelExtensibleCodings() {
        return SecurityLabelsCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (this["what"]) {
            issues.push(...this.what.doModelValidation());
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["role"]) {
            issues.push(...this.role.doModelValidation());
        }
        if (this["lifecycle"]) {
            issues.push(...this.lifecycle.doModelValidation());
        }
        if (this["securityLabel"]) {
            this.securityLabel.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this["name"]) {
            issues.push(...this.name.doModelValidation());
        }
        if (this["description"]) {
            issues.push(...this.description.doModelValidation());
        }
        if (this["query"]) {
            issues.push(...this.query.doModelValidation());
        }
        if (this["detail"]) {
            this.detail.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventEntity._fts_dataType = 'AuditEventEntity';
/**
 * A record of an event made for purposes of maintaining a security log. Typical uses include detection of intrusion attempts and monitoring for inappropriate usage.
 */
export class AuditEvent extends fhir.DomainResource {
    /**
     * Default constructor for AuditEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AuditEvent';
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        else {
            this.type = null;
        }
        if (source['subtype']) {
            this.subtype = source.subtype.map((x) => new fhir.Coding(x));
        }
        else {
            this.subtype = [];
        }
        if (source['action']) {
            this.action = new fhir.FhirCode({ value: source.action });
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        if (source['recorded']) {
            this.recorded = new fhir.FhirInstant({ value: source.recorded });
        }
        else {
            this.recorded = null;
        }
        if (source['outcome']) {
            this.outcome = new fhir.FhirCode({ value: source.outcome });
        }
        if (source['outcomeDesc']) {
            this.outcomeDesc = new fhir.FhirString({ value: source.outcomeDesc });
        }
        if (source['purposeOfEvent']) {
            this.purposeOfEvent = source.purposeOfEvent.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.purposeOfEvent = [];
        }
        if (source['agent']) {
            this.agent = source.agent.map((x) => new fhir.AuditEventAgent(x));
        }
        else {
            this.agent = [];
        }
        if (source['source']) {
            this.source = new fhir.AuditEventSource(source.source);
        }
        else {
            this.source = null;
        }
        if (source['entity']) {
            this.entity = source.entity.map((x) => new fhir.AuditEventEntity(x));
        }
        else {
            this.entity = [];
        }
    }
    /**
     * Extensible-bound Value Set for type (AuditEvent.type)
     */
    static get typeExtensibleCodings() {
        return AuditEventTypeCodings;
    }
    /**
     * Extensible-bound Value Set for subtype (AuditEvent.subtype)
     */
    static get subtypeExtensibleCodings() {
        return AuditEventSubTypeCodings;
    }
    /**
     * Required-bound Value Set for action (AuditEvent.action)
     */
    static get actionRequiredCodes() {
        return AuditEventActionCodes;
    }
    /**
     * Required-bound Value Set for outcome (AuditEvent.outcome)
     */
    static get outcomeRequiredCodes() {
        return AuditEventOutcomeCodes;
    }
    /**
     * Extensible-bound Value Set for purposeOfEvent (AuditEvent.purposeOfEvent)
     */
    static get purposeOfEventExtensibleCodings() {
        return V3PurposeOfUseCodings;
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation() {
        let issues = super.doModelValidation();
        if (!this['resourceType']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"AuditEvent" fhir: AuditEvent.resourceType:"AuditEvent"' });
        }
        if (!this['type']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property type:fhir.Coding fhir: AuditEvent.type:Coding' });
        }
        if (this["type"]) {
            issues.push(...this.type.doModelValidation());
        }
        if (this["subtype"]) {
            this.subtype.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (this['action'] && (!Object.values(AuditEventActionCodes).includes(this.action))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property action?:fhir.FhirCode fhir: AuditEvent.action:code Required binding to: AuditEventAction' });
        }
        if (this["action"]) {
            issues.push(...this.action.doModelValidation());
        }
        if (this["period"]) {
            issues.push(...this.period.doModelValidation());
        }
        if (!this['recorded']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property recorded:fhir.FhirInstant fhir: AuditEvent.recorded:instant' });
        }
        if (this["recorded"]) {
            issues.push(...this.recorded.doModelValidation());
        }
        if (this['outcome'] && (!Object.values(AuditEventOutcomeCodes).includes(this.outcome))) {
            issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property outcome?:fhir.FhirCode fhir: AuditEvent.outcome:code Required binding to: AuditEventOutcome' });
        }
        if (this["outcome"]) {
            issues.push(...this.outcome.doModelValidation());
        }
        if (this["outcomeDesc"]) {
            issues.push(...this.outcomeDesc.doModelValidation());
        }
        if (this["purposeOfEvent"]) {
            this.purposeOfEvent.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['agent']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property agent:fhir.AuditEventAgent[] fhir: AuditEvent.agent:agent' });
        }
        else if (!Array.isArray(this.agent)) {
            issues.push({ severity: 'error', code: 'structure', diagnostics: 'Found scalar in array property agent:fhir.AuditEventAgent[] fhir: AuditEvent.agent:agent' });
        }
        else if (this.agent.length === 0) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property agent:fhir.AuditEventAgent[] fhir: AuditEvent.agent:agent' });
        }
        if (this["agent"]) {
            this.agent.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        if (!this['source']) {
            issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property source:fhir.AuditEventSource fhir: AuditEvent.source:source' });
        }
        if (this["source"]) {
            issues.push(...this.source.doModelValidation());
        }
        if (this["entity"]) {
            this.entity.forEach((x) => { issues.push(...x.doModelValidation()); });
        }
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEvent._fts_dataType = 'AuditEvent';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXVkaXRFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQXVkaXRFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxnQkFBZ0IsRUFBd0IsTUFBTSxzQ0FBc0MsQ0FBQztBQUM5RixhQUFhO0FBQ2IsT0FBTyxFQUFFLDRCQUE0QixHQUFtQyxNQUFNLGtEQUFrRCxDQUFDO0FBT2pJLGFBQWE7QUFDYixPQUFPLEVBQUUsdUJBQXVCLEdBQThCLE1BQU0sNkNBQTZDLENBQUM7QUFHbEgsYUFBYTtBQUNiLE9BQU8sRUFBRSxxQkFBcUIsR0FBNEIsTUFBTSwyQ0FBMkMsQ0FBQztBQUc1RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixHQUE2QixNQUFNLDRDQUE0QyxDQUFDO0FBRy9HLGFBQWE7QUFDYixPQUFPLEVBQUUsc0JBQXNCLEdBQTZCLE1BQU0sNENBQTRDLENBQUM7QUFHL0csYUFBYTtBQUNiLE9BQU8sRUFBRSxpQkFBaUIsR0FBd0IsTUFBTSx1Q0FBdUMsQ0FBQztBQUdoRyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHFCQUFxQixHQUE0QixNQUFNLDJDQUEyQyxDQUFDO0FBRzVHLGFBQWE7QUFDYixPQUFPLEVBQUUscUJBQXFCLEdBQTRCLE1BQU0sMkNBQTJDLENBQUM7QUFHNUcsYUFBYTtBQUNiLE9BQU8sRUFBRSx3QkFBd0IsR0FBK0IsTUFBTSw4Q0FBOEMsQ0FBQztBQUtySCxhQUFhO0FBQ2IsT0FBTyxFQUFFLHFCQUFxQixFQUE2QixNQUFNLDJDQUEyQyxDQUFDO0FBRzdHLGFBQWE7QUFDYixPQUFPLEVBQUUsc0JBQXNCLEVBQThCLE1BQU0sNENBQTRDLENBQUM7QUFlaEg7O0dBRUc7QUFDSCxNQUFNLE9BQU8s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PGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0LmNvcmUgdmVyc2lvbjogNC4wLjFcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBBdWRpdEV2ZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBOZXR3b3JrVHlwZUNvZGluZ3MsIE5ldHdvcmtUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTmV0d29ya1R5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBOZXR3b3JrVHlwZUNvZGVzLCAgTmV0d29ya1R5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTmV0d29ya1R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFydGljaXBhdGlvblJvbGVUeXBlQ29kaW5ncywgUGFydGljaXBhdGlvblJvbGVUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFydGljaXBhdGlvblJvbGVUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFydGljaXBhdGlvblJvbGVUeXBlQ29kZXMsICBQYXJ0aWNpcGF0aW9uUm9sZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFydGljaXBhdGlvblJvbGVUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlY3VyaXR5Um9sZVR5cGVDb2RpbmdzLCBTZWN1cml0eVJvbGVUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VjdXJpdHlSb2xlVHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlY3VyaXR5Um9sZVR5cGVDb2RlcywgIFNlY3VyaXR5Um9sZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VjdXJpdHlSb2xlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaWNtNDA1TWVkaWF0eXBlQ29kaW5ncywgRGljbTQwNU1lZGlhdHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RpY200MDVNZWRpYXR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaWNtNDA1TWVkaWF0eXBlQ29kZXMsICBEaWNtNDA1TWVkaWF0eXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RpY200MDVNZWRpYXR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNQdXJwb3NlT2ZVc2VDb2RpbmdzLCBWM1B1cnBvc2VPZlVzZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzUHVycG9zZU9mVXNlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNQdXJwb3NlT2ZVc2VDb2RlcywgIFYzUHVycG9zZU9mVXNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzUHVycG9zZU9mVXNlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0U291cmNlVHlwZUNvZGluZ3MsIEF1ZGl0U291cmNlVHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0U291cmNlVHlwZUNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0U291cmNlVHlwZUNvZGVzLCAgQXVkaXRTb3VyY2VUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0U291cmNlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEVudGl0eVR5cGVDb2RpbmdzLCBBdWRpdEVudGl0eVR5cGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEVudGl0eVR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEVudGl0eVR5cGVDb2RlcywgIEF1ZGl0RW50aXR5VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEVudGl0eVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JqZWN0Um9sZUNvZGluZ3MsIE9iamVjdFJvbGVDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYmplY3RSb2xlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JqZWN0Um9sZUNvZGVzLCAgT2JqZWN0Um9sZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYmplY3RSb2xlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlY3VyaXR5TGFiZWxzQ29kaW5ncywgU2VjdXJpdHlMYWJlbHNDb2RpbmdUeXBlLH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZWN1cml0eUxhYmVsc0NvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlY3VyaXR5TGFiZWxzQ29kZXMsICBTZWN1cml0eUxhYmVsc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZWN1cml0eUxhYmVsc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50VHlwZUNvZGluZ3MsIEF1ZGl0RXZlbnRUeXBlQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudFR5cGVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50VHlwZUNvZGVzLCAgQXVkaXRFdmVudFR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudFN1YlR5cGVDb2RpbmdzLCBBdWRpdEV2ZW50U3ViVHlwZUNvZGluZ1R5cGUsfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRTdWJUeXBlQ29kaW5ncy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudFN1YlR5cGVDb2RlcywgIEF1ZGl0RXZlbnRTdWJUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRTdWJUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRBY3Rpb25Db2RpbmdzLCBBdWRpdEV2ZW50QWN0aW9uQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudEFjdGlvbkNvZGluZ3MuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRBY3Rpb25Db2RlcywgIEF1ZGl0RXZlbnRBY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudEFjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50T3V0Y29tZUNvZGluZ3MsIEF1ZGl0RXZlbnRPdXRjb21lQ29kaW5nVHlwZSx9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudE91dGNvbWVDb2RpbmdzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50T3V0Y29tZUNvZGVzLCAgQXVkaXRFdmVudE91dGNvbWVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudE91dGNvbWVDb2Rlcy5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50QWdlbnROZXR3b3JrIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRBZ2VudE5ldHdvcmtBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIGNvdWxkIGJlIGEgZGV2aWNlIGlkLCBJUCBhZGRyZXNzIG9yIHNvbWUgb3RoZXIgaWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgYWRkcmVzcz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoZSB0eXBlIG9mIG5ldHdvcmsgYWNjZXNzIHBvaW50IHRoYXQgb3JpZ2luYXRlZCB0aGUgYXVkaXQgZXZlbnQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvZ2ljYWwgbmV0d29yayBsb2NhdGlvbiBmb3IgYXBwbGljYXRpb24gYWN0aXZpdHksIGlmIHRoZSBhY3Rpdml0eSBoYXMgYSBuZXR3b3JrIGxvY2F0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRBZ2VudE5ldHdvcmsgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50QWdlbnROZXR3b3JrJztcclxuICAvKipcclxuICAgKiBUaGlzIGNvdWxkIGJlIGEgZGV2aWNlIGlkLCBJUCBhZGRyZXNzIG9yIHNvbWUgb3RoZXIgaWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZHJlc3M/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoZSB0eXBlIG9mIG5ldHdvcmsgYWNjZXNzIHBvaW50IHRoYXQgb3JpZ2luYXRlZCB0aGUgYXVkaXQgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50QWdlbnROZXR3b3JrIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudEFnZW50TmV0d29ya0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10pIHsgdGhpcy5hZGRyZXNzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hZGRyZXNzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciB0eXBlIChBdWRpdEV2ZW50LmFnZW50Lm5ldHdvcmsudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlUmVxdWlyZWRDb2RlcygpIHtcclxuICAgIHJldHVybiBOZXR3b3JrVHlwZUNvZGVzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJhZGRyZXNzXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuYWRkcmVzcy5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbJ3R5cGUnXSAmJiAoIU9iamVjdC52YWx1ZXMoTmV0d29ya1R5cGVDb2RlcykuaW5jbHVkZXModGhpcy50eXBlIGFzIGFueSkpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdjb2RlLWludmFsaWQnLCBkaWFnbm9zdGljczogJ0ludmFsaWQgY29kZSBwcm9wZXJ0eSB0eXBlPzpmaGlyLkZoaXJDb2RlIGZoaXI6IEF1ZGl0RXZlbnQuYWdlbnQubmV0d29yay50eXBlOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogTmV0d29ya1R5cGUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEF1ZGl0RXZlbnRBZ2VudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50QWdlbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTcGVjaWZpY2F0aW9uIG9mIHRoZSBwYXJ0aWNpcGF0aW9uIHR5cGUgdGhlIHVzZXIgcGxheXMgd2hlbiBwZXJmb3JtaW5nIHRoZSBldmVudC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaG91bGQgYmUgcm9sZXMgcmVsZXZhbnQgdG8gdGhlIGV2ZW50LiBTaG91bGQgIG5vdCBiZSBhbiBleGhhdXN0aXZlIGxpc3Qgb2Ygcm9sZXMuXHJcbiAgICovXHJcbiAgcm9sZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSBhIFVzZXIgSUQgaXMgYXZhaWxhYmxlIGl0IHdpbGwgZ28gaW50byB3aG8uaWRlbnRpZmllci5cclxuICAgKi9cclxuICB3aG8/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsdGVybmF0aXZlIGFnZW50IElkZW50aWZpZXIuIEZvciBhIGh1bWFuLCB0aGlzIHNob3VsZCBiZSBhIHVzZXIgaWRlbnRpZmllciB0ZXh0IHN0cmluZyBmcm9tIGF1dGhlbnRpY2F0aW9uIHN5c3RlbS4gVGhpcyBpZGVudGlmaWVyIHdvdWxkIGJlIG9uZSBrbm93biB0byBhIGNvbW1vbiBhdXRoZW50aWNhdGlvbiBzeXN0ZW0gKGUuZy4gc2luZ2xlIHNpZ24tb24pLCBpZiBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgYWx0SWQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIdW1hbi1tZWFuaW5nZnVsIG5hbWUgZm9yIHRoZSBhZ2VudC5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgY2FuIG9ubHkgYmUgb25lIGluaXRpYXRvci4gSWYgdGhlIGluaXRpYXRvciBpcyBub3QgY2xlYXIsIHRoZW4gZG8gbm90IGNob29zZSBhbnkgb25lIGFnZW50IGFzIHRoZSBpbml0aWF0b3IuXHJcbiAgICovXHJcbiAgcmVxdWVzdG9yOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IFdoZXJlIGFuIE9BdXRoIHRva2VuIGF1dGhvcml6ZXMsIHRoZSB1bmlxdWUgaWRlbnRpZmllciBmcm9tIHRoZSBPQXV0aCB0b2tlbiBpcyBwbGFjZWQgaW50byB0aGUgcG9saWN5IGVsZW1lbnQgV2hlcmUgYSBwb2xpY3kgZW5naW5lIChlLmcuIFhBQ01MKSBob2xkcyBwb2xpY3kgbG9naWMsIHRoZSB1bmlxdWUgcG9saWN5IGlkZW50aWZpZXIgaXMgcGxhY2VkIGludG8gdGhlIHBvbGljeSBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHBvbGljeT86IGZoaXIuRmhpclVyaVtdfHN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIG1lZGlhIGludm9sdmVkLiBVc2VkIHdoZW4gdGhlIGV2ZW50IGlzIGFib3V0IGV4cG9ydGluZy9pbXBvcnRpbmcgb250byBtZWRpYS5cclxuICAgKi9cclxuICBtZWRpYT86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTG9naWNhbCBuZXR3b3JrIGxvY2F0aW9uIGZvciBhcHBsaWNhdGlvbiBhY3Rpdml0eSwgaWYgdGhlIGFjdGl2aXR5IGhhcyBhIG5ldHdvcmsgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgbmV0d29yaz86IGZoaXIuQXVkaXRFdmVudEFnZW50TmV0d29ya0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFVzZSBBdWRpdEV2ZW50LmFnZW50LnB1cnBvc2VPZlVzZSB3aGVuIHlvdSBrbm93IHRoYXQgaXMgc3BlY2lmaWMgdG8gdGhlIGFnZW50LCBvdGhlcndpc2UgdXNlIEF1ZGl0RXZlbnQucHVycG9zZU9mRXZlbnQuIEZvciBleGFtcGxlLCBkdXJpbmcgYSBtYWNoaW5lLXRvLW1hY2hpbmUgdHJhbnNmZXIgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgdG8gdGhlIGF1ZGl0IHN5c3RlbSB3aG8gY2F1c2VkIHRoZSBldmVudCwgYnV0IGl0IGRvZXMga25vdyB3aHkuXHJcbiAgICovXHJcbiAgcHVycG9zZU9mVXNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU2V2ZXJhbCBhZ2VudHMgbWF5IGJlIGFzc29jaWF0ZWQgKGkuZS4gaGF2ZSBzb21lIHJlc3BvbnNpYmlsaXR5IGZvciBhbiBhY3Rpdml0eSkgd2l0aCBhbiBldmVudCBvciBhY3Rpdml0eS5cclxuICogRm9yIGV4YW1wbGUsIGFuIGFjdGl2aXR5IG1heSBiZSBpbml0aWF0ZWQgYnkgb25lIHVzZXIgZm9yIG90aGVyIHVzZXJzIG9yIGludm9sdmUgbW9yZSB0aGFuIG9uZSB1c2VyLiBIb3dldmVyLCBvbmx5IG9uZSB1c2VyIG1heSBiZSB0aGUgaW5pdGlhdG9yL3JlcXVlc3RvciBmb3IgdGhlIGFjdGl2aXR5LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRBZ2VudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0F1ZGl0RXZlbnRBZ2VudCc7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNhdGlvbiBvZiB0aGUgcGFydGljaXBhdGlvbiB0eXBlIHRoZSB1c2VyIHBsYXlzIHdoZW4gcGVyZm9ybWluZyB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2hvdWxkIGJlIHJvbGVzIHJlbGV2YW50IHRvIHRoZSBldmVudC4gU2hvdWxkICBub3QgYmUgYW4gZXhoYXVzdGl2ZSBsaXN0IG9mIHJvbGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb2xlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIGEgVXNlciBJRCBpcyBhdmFpbGFibGUgaXQgd2lsbCBnbyBpbnRvIHdoby5pZGVudGlmaWVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3aG8/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWx0ZXJuYXRpdmUgYWdlbnQgSWRlbnRpZmllci4gRm9yIGEgaHVtYW4sIHRoaXMgc2hvdWxkIGJlIGEgdXNlciBpZGVudGlmaWVyIHRleHQgc3RyaW5nIGZyb20gYXV0aGVudGljYXRpb24gc3lzdGVtLiBUaGlzIGlkZW50aWZpZXIgd291bGQgYmUgb25lIGtub3duIHRvIGEgY29tbW9uIGF1dGhlbnRpY2F0aW9uIHN5c3RlbSAoZS5nLiBzaW5nbGUgc2lnbi1vbiksIGlmIGF2YWlsYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWx0SWQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEh1bWFuLW1lYW5pbmdmdWwgbmFtZSBmb3IgdGhlIGFnZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBjYW4gb25seSBiZSBvbmUgaW5pdGlhdG9yLiBJZiB0aGUgaW5pdGlhdG9yIGlzIG5vdCBjbGVhciwgdGhlbiBkbyBub3QgY2hvb3NlIGFueSBvbmUgYWdlbnQgYXMgdGhlIGluaXRpYXRvci5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdG9yOiBmaGlyLkZoaXJCb29sZWFufG51bGw7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIGV2ZW50IG9jY3VycmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZTogV2hlcmUgYW4gT0F1dGggdG9rZW4gYXV0aG9yaXplcywgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gdGhlIE9BdXRoIHRva2VuIGlzIHBsYWNlZCBpbnRvIHRoZSBwb2xpY3kgZWxlbWVudCBXaGVyZSBhIHBvbGljeSBlbmdpbmUgKGUuZy4gWEFDTUwpIGhvbGRzIHBvbGljeSBsb2dpYywgdGhlIHVuaXF1ZSBwb2xpY3kgaWRlbnRpZmllciBpcyBwbGFjZWQgaW50byB0aGUgcG9saWN5IGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHBvbGljeTogZmhpci5GaGlyVXJpW107XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBtZWRpYSBpbnZvbHZlZC4gVXNlZCB3aGVuIHRoZSBldmVudCBpcyBhYm91dCBleHBvcnRpbmcvaW1wb3J0aW5nIG9udG8gbWVkaWEuXHJcbiAgICovXHJcbiAgcHVibGljIG1lZGlhPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExvZ2ljYWwgbmV0d29yayBsb2NhdGlvbiBmb3IgYXBwbGljYXRpb24gYWN0aXZpdHksIGlmIHRoZSBhY3Rpdml0eSBoYXMgYSBuZXR3b3JrIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuZXR3b3JrPzogZmhpci5BdWRpdEV2ZW50QWdlbnROZXR3b3JrfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2UgQXVkaXRFdmVudC5hZ2VudC5wdXJwb3NlT2ZVc2Ugd2hlbiB5b3Uga25vdyB0aGF0IGlzIHNwZWNpZmljIHRvIHRoZSBhZ2VudCwgb3RoZXJ3aXNlIHVzZSBBdWRpdEV2ZW50LnB1cnBvc2VPZkV2ZW50LiBGb3IgZXhhbXBsZSwgZHVyaW5nIGEgbWFjaGluZS10by1tYWNoaW5lIHRyYW5zZmVyIGl0IG1pZ2h0IG5vdCBiZSBvYnZpb3VzIHRvIHRoZSBhdWRpdCBzeXN0ZW0gd2hvIGNhdXNlZCB0aGUgZXZlbnQsIGJ1dCBpdCBkb2VzIGtub3cgd2h5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdXJwb3NlT2ZVc2U6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudEFnZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudEFnZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydyb2xlJ10pIHsgdGhpcy5yb2xlID0gc291cmNlLnJvbGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yb2xlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3dobyddKSB7IHRoaXMud2hvID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS53aG8pOyB9XHJcbiAgICBpZiAoc291cmNlWydhbHRJZCddKSB7IHRoaXMuYWx0SWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmFsdElkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdG9yJ10pIHsgdGhpcy5yZXF1ZXN0b3IgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5yZXF1ZXN0b3J9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVxdWVzdG9yID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbG9jYXRpb24nXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5sb2NhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BvbGljeSddKSB7IHRoaXMucG9saWN5ID0gc291cmNlLnBvbGljeS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wb2xpY3kgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWVkaWEnXSkgeyB0aGlzLm1lZGlhID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5tZWRpYSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25ldHdvcmsnXSkgeyB0aGlzLm5ldHdvcmsgPSBuZXcgZmhpci5BdWRpdEV2ZW50QWdlbnROZXR3b3JrKHNvdXJjZS5uZXR3b3JrKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVycG9zZU9mVXNlJ10pIHsgdGhpcy5wdXJwb3NlT2ZVc2UgPSBzb3VyY2UucHVycG9zZU9mVXNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHVycG9zZU9mVXNlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIHR5cGUgKEF1ZGl0RXZlbnQuYWdlbnQudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlRXh0ZW5zaWJsZUNvZGluZ3MoKSB7XHJcbiAgICByZXR1cm4gUGFydGljaXBhdGlvblJvbGVUeXBlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIG1lZGlhIChBdWRpdEV2ZW50LmFnZW50Lm1lZGlhKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IG1lZGlhRXh0ZW5zaWJsZUNvZGluZ3MoKSB7XHJcbiAgICByZXR1cm4gRGljbTQwNU1lZGlhdHlwZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2libGUtYm91bmQgVmFsdWUgU2V0IGZvciBwdXJwb3NlT2ZVc2UgKEF1ZGl0RXZlbnQuYWdlbnQucHVycG9zZU9mVXNlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHB1cnBvc2VPZlVzZUV4dGVuc2libGVDb2RpbmdzKCkge1xyXG4gICAgcmV0dXJuIFYzUHVycG9zZU9mVXNlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1widHlwZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnR5cGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicm9sZVwiXSkgeyB0aGlzLnJvbGUuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIndob1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLndoby5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJhbHRJZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFsdElkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uYW1lLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAoIXRoaXNbJ3JlcXVlc3RvciddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSByZXF1ZXN0b3I6Zmhpci5GaGlyQm9vbGVhbiBmaGlyOiBBdWRpdEV2ZW50LmFnZW50LnJlcXVlc3Rvcjpib29sZWFuJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wicmVxdWVzdG9yXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucmVxdWVzdG9yLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImxvY2F0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMubG9jYXRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicG9saWN5XCJdKSB7IHRoaXMucG9saWN5LmZvckVhY2goKHgpID0+IHsgaXNzdWVzLnB1c2goLi4ueC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfSkgfVxyXG4gICAgaWYgKHRoaXNbXCJtZWRpYVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm1lZGlhLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcIm5ldHdvcmtcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uZXR3b3JrLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInB1cnBvc2VPZlVzZVwiXSkgeyB0aGlzLnB1cnBvc2VPZlVzZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50U291cmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRTb3VyY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBMb2dpY2FsIHNvdXJjZSBsb2NhdGlvbiB3aXRoaW4gdGhlIGhlYWx0aGNhcmUgZW50ZXJwcmlzZSBuZXR3b3JrLiAgRm9yIGV4YW1wbGUsIGEgaG9zcGl0YWwgb3Igb3RoZXIgcHJvdmlkZXIgbG9jYXRpb24gd2l0aGluIGEgbXVsdGktZW50aXR5IHByb3ZpZGVyIGdyb3VwLlxyXG4gICAqL1xyXG4gIHNpdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIG9mIHRoZSBzb3VyY2Ugd2hlcmUgdGhlIGV2ZW50IHdhcyBkZXRlY3RlZC5cclxuICAgKi9cclxuICBvYnNlcnZlcjogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQ29kZSBzcGVjaWZ5aW5nIHRoZSB0eXBlIG9mIHNvdXJjZSB3aGVyZSBldmVudCBvcmlnaW5hdGVkLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaW5jZSBtdWx0aS10aWVyLCBkaXN0cmlidXRlZCwgb3IgY29tcG9zaXRlIGFwcGxpY2F0aW9ucyBtYWtlIHNvdXJjZSBpZGVudGlmaWNhdGlvbiBhbWJpZ3VvdXMsIHRoaXMgY29sbGVjdGlvbiBvZiBmaWVsZHMgbWF5IHJlcGVhdCBmb3IgZWFjaCBhcHBsaWNhdGlvbiBvciBwcm9jZXNzIGFjdGl2ZWx5IGludm9sdmVkIGluIHRoZSBldmVudC4gRm9yIGV4YW1wbGUsIG11bHRpcGxlIHZhbHVlLXNldHMgY2FuIGlkZW50aWZ5IHBhcnRpY2lwYXRpbmcgd2ViIHNlcnZlcnMsIGFwcGxpY2F0aW9uIHByb2Nlc3NlcywgYW5kIGRhdGFiYXNlIHNlcnZlciB0aHJlYWRzIGluIGFuIG4tdGllciBkaXN0cmlidXRlZCBhcHBsaWNhdGlvbi4gUGFzc2l2ZSBldmVudCBwYXJ0aWNpcGFudHMgKGUuZy4gbG93LWxldmVsIG5ldHdvcmsgdHJhbnNwb3J0cykgbmVlZCBub3QgYmUgaWRlbnRpZmllZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50U291cmNlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudFNvdXJjZSc7XHJcbiAgLyoqXHJcbiAgICogTG9naWNhbCBzb3VyY2UgbG9jYXRpb24gd2l0aGluIHRoZSBoZWFsdGhjYXJlIGVudGVycHJpc2UgbmV0d29yay4gIEZvciBleGFtcGxlLCBhIGhvc3BpdGFsIG9yIG90aGVyIHByb3ZpZGVyIGxvY2F0aW9uIHdpdGhpbiBhIG11bHRpLWVudGl0eSBwcm92aWRlciBncm91cC5cclxuICAgKi9cclxuICBwdWJsaWMgc2l0ZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBvZiB0aGUgc291cmNlIHdoZXJlIHRoZSBldmVudCB3YXMgZGV0ZWN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG9ic2VydmVyOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgc3BlY2lmeWluZyB0aGUgdHlwZSBvZiBzb3VyY2Ugd2hlcmUgZXZlbnQgb3JpZ2luYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50U291cmNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudFNvdXJjZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzaXRlJ10pIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zaXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29ic2VydmVyJ10pIHsgdGhpcy5vYnNlcnZlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub2JzZXJ2ZXIpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vYnNlcnZlciA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoQXVkaXRFdmVudC5zb3VyY2UudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlRXh0ZW5zaWJsZUNvZGluZ3MoKSB7XHJcbiAgICByZXR1cm4gQXVkaXRTb3VyY2VUeXBlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICh0aGlzW1wic2l0ZVwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnNpdGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1snb2JzZXJ2ZXInXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgb2JzZXJ2ZXI6Zmhpci5SZWZlcmVuY2UgZmhpcjogQXVkaXRFdmVudC5zb3VyY2Uub2JzZXJ2ZXI6UmVmZXJlbmNlJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wib2JzZXJ2ZXJcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5vYnNlcnZlci5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IHRoaXMudHlwZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50RW50aXR5RGV0YWlsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRFbnRpdHlEZXRhaWxBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBleHRyYSBkZXRhaWwgcHJvdmlkZWQgaW4gdGhlIHZhbHVlLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBjYW4gYmUgc3RyaW5nIHdoZW4ga25vd24gdG8gYmUgYSBzdHJpbmcsIGVsc2UgYmFzZTY0IGVuY29kaW5nIHNob3VsZCBiZSB1c2VkIHRvIHByb3RlY3QgYmluYXJ5IG9yIHVuZGVmaW5lZCBjb250ZW50LiAgVGhlIG1lYW5pbmcgYW5kIHNlY29uZGFyeS1lbmNvZGluZyBvZiB0aGUgY29udGVudCBvZiBiYXNlNjQgZW5jb2RlZCBibG9iIGlzIHNwZWNpZmljIHRvIHRoZSBBdWRpdEV2ZW50LnR5cGUsIEF1ZGl0RXZlbnQuc3VidHlwZSwgQXVkaXRFdmVudC5lbnRpdHkudHlwZSwgYW5kIEF1ZGl0RXZlbnQuZW50aXR5LnJvbGUuICBUaGUgYmFzZTY0IGlzIGEgZ2VuZXJhbC11c2UgYW5kIHNhZmUgY29udGFpbmVyIGZvciBldmVudCBzcGVjaWZpYyBkYXRhIGJsb2JzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVuY29kaW5nIHVzZWQgYnkgdGhlIHRyYW5zYWN0aW9uIGJlaW5nIHJlY29yZGVkLiAgQW4gQXVkaXRFdmVudCBjb25zdW1pbmcgYXBwbGljYXRpb24gbXVzdCB1bmRlcnN0YW5kIHRoZSBldmVudCBpdCBpcyBjb25zdW1pbmcgYW5kIHRoZSBmb3JtYXRzIHVzZWQgYnkgdGhlIGV2ZW50LiBGb3IgZXhhbXBsZSBpZiBhdWRpdGluZyBhbiBPcmFjbGUgbmV0d29yayBkYXRhYmFzZSBhY2Nlc3MsIHRoZSBPcmFjbGUgZm9ybWF0cyBtdXN0IGJlIHVuZGVyc3Rvb2QgYXMgdGhleSB3aWxsIGJlIHNpbXBseSBlbmNvZGVkIGluIHRoZSBiYXNlNjRiaW5hcnkgYmxvYi5cclxuICAgKi9cclxuICB2YWx1ZT86IGZoaXIuRmhpclN0cmluZ3xmaGlyLkZoaXJCYXNlNjRCaW5hcnl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBjYW4gYmUgc3RyaW5nIHdoZW4ga25vd24gdG8gYmUgYSBzdHJpbmcsIGVsc2UgYmFzZTY0IGVuY29kaW5nIHNob3VsZCBiZSB1c2VkIHRvIHByb3RlY3QgYmluYXJ5IG9yIHVuZGVmaW5lZCBjb250ZW50LiAgVGhlIG1lYW5pbmcgYW5kIHNlY29uZGFyeS1lbmNvZGluZyBvZiB0aGUgY29udGVudCBvZiBiYXNlNjQgZW5jb2RlZCBibG9iIGlzIHNwZWNpZmljIHRvIHRoZSBBdWRpdEV2ZW50LnR5cGUsIEF1ZGl0RXZlbnQuc3VidHlwZSwgQXVkaXRFdmVudC5lbnRpdHkudHlwZSwgYW5kIEF1ZGl0RXZlbnQuZW50aXR5LnJvbGUuICBUaGUgYmFzZTY0IGlzIGEgZ2VuZXJhbC11c2UgYW5kIHNhZmUgY29udGFpbmVyIGZvciBldmVudCBzcGVjaWZpYyBkYXRhIGJsb2JzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVuY29kaW5nIHVzZWQgYnkgdGhlIHRyYW5zYWN0aW9uIGJlaW5nIHJlY29yZGVkLiAgQW4gQXVkaXRFdmVudCBjb25zdW1pbmcgYXBwbGljYXRpb24gbXVzdCB1bmRlcnN0YW5kIHRoZSBldmVudCBpdCBpcyBjb25zdW1pbmcgYW5kIHRoZSBmb3JtYXRzIHVzZWQgYnkgdGhlIGV2ZW50LiBGb3IgZXhhbXBsZSBpZiBhdWRpdGluZyBhbiBPcmFjbGUgbmV0d29yayBkYXRhYmFzZSBhY2Nlc3MsIHRoZSBPcmFjbGUgZm9ybWF0cyBtdXN0IGJlIHVuZGVyc3Rvb2QgYXMgdGhleSB3aWxsIGJlIHNpbXBseSBlbmNvZGVkIGluIHRoZSBiYXNlNjRiaW5hcnkgYmxvYi5cclxuICAgKi9cclxuICB2YWx1ZVN0cmluZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBjYW4gYmUgc3RyaW5nIHdoZW4ga25vd24gdG8gYmUgYSBzdHJpbmcsIGVsc2UgYmFzZTY0IGVuY29kaW5nIHNob3VsZCBiZSB1c2VkIHRvIHByb3RlY3QgYmluYXJ5IG9yIHVuZGVmaW5lZCBjb250ZW50LiAgVGhlIG1lYW5pbmcgYW5kIHNlY29uZGFyeS1lbmNvZGluZyBvZiB0aGUgY29udGVudCBvZiBiYXNlNjQgZW5jb2RlZCBibG9iIGlzIHNwZWNpZmljIHRvIHRoZSBBdWRpdEV2ZW50LnR5cGUsIEF1ZGl0RXZlbnQuc3VidHlwZSwgQXVkaXRFdmVudC5lbnRpdHkudHlwZSwgYW5kIEF1ZGl0RXZlbnQuZW50aXR5LnJvbGUuICBUaGUgYmFzZTY0IGlzIGEgZ2VuZXJhbC11c2UgYW5kIHNhZmUgY29udGFpbmVyIGZvciBldmVudCBzcGVjaWZpYyBkYXRhIGJsb2JzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVuY29kaW5nIHVzZWQgYnkgdGhlIHRyYW5zYWN0aW9uIGJlaW5nIHJlY29yZGVkLiAgQW4gQXVkaXRFdmVudCBjb25zdW1pbmcgYXBwbGljYXRpb24gbXVzdCB1bmRlcnN0YW5kIHRoZSBldmVudCBpdCBpcyBjb25zdW1pbmcgYW5kIHRoZSBmb3JtYXRzIHVzZWQgYnkgdGhlIGV2ZW50LiBGb3IgZXhhbXBsZSBpZiBhdWRpdGluZyBhbiBPcmFjbGUgbmV0d29yayBkYXRhYmFzZSBhY2Nlc3MsIHRoZSBPcmFjbGUgZm9ybWF0cyBtdXN0IGJlIHVuZGVyc3Rvb2QgYXMgdGhleSB3aWxsIGJlIHNpbXBseSBlbmNvZGVkIGluIHRoZSBiYXNlNjRiaW5hcnkgYmxvYi5cclxuICAgKi9cclxuICB2YWx1ZUJhc2U2NEJpbmFyeT86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXxzdHJpbmd8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGFnZ2VkIHZhbHVlIHBhaXJzIGZvciBjb252ZXlpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRFbnRpdHlEZXRhaWwgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50RW50aXR5RGV0YWlsJztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBleHRyYSBkZXRhaWwgcHJvdmlkZWQgaW4gdGhlIHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgY2FuIGJlIHN0cmluZyB3aGVuIGtub3duIHRvIGJlIGEgc3RyaW5nLCBlbHNlIGJhc2U2NCBlbmNvZGluZyBzaG91bGQgYmUgdXNlZCB0byBwcm90ZWN0IGJpbmFyeSBvciB1bmRlZmluZWQgY29udGVudC4gIFRoZSBtZWFuaW5nIGFuZCBzZWNvbmRhcnktZW5jb2Rpbmcgb2YgdGhlIGNvbnRlbnQgb2YgYmFzZTY0IGVuY29kZWQgYmxvYiBpcyBzcGVjaWZpYyB0byB0aGUgQXVkaXRFdmVudC50eXBlLCBBdWRpdEV2ZW50LnN1YnR5cGUsIEF1ZGl0RXZlbnQuZW50aXR5LnR5cGUsIGFuZCBBdWRpdEV2ZW50LmVudGl0eS5yb2xlLiAgVGhlIGJhc2U2NCBpcyBhIGdlbmVyYWwtdXNlIGFuZCBzYWZlIGNvbnRhaW5lciBmb3IgZXZlbnQgc3BlY2lmaWMgZGF0YSBibG9icyByZWdhcmRsZXNzIG9mIHRoZSBlbmNvZGluZyB1c2VkIGJ5IHRoZSB0cmFuc2FjdGlvbiBiZWluZyByZWNvcmRlZC4gIEFuIEF1ZGl0RXZlbnQgY29uc3VtaW5nIGFwcGxpY2F0aW9uIG11c3QgdW5kZXJzdGFuZCB0aGUgZXZlbnQgaXQgaXMgY29uc3VtaW5nIGFuZCB0aGUgZm9ybWF0cyB1c2VkIGJ5IHRoZSBldmVudC4gRm9yIGV4YW1wbGUgaWYgYXVkaXRpbmcgYW4gT3JhY2xlIG5ldHdvcmsgZGF0YWJhc2UgYWNjZXNzLCB0aGUgT3JhY2xlIGZvcm1hdHMgbXVzdCBiZSB1bmRlcnN0b29kIGFzIHRoZXkgd2lsbCBiZSBzaW1wbHkgZW5jb2RlZCBpbiB0aGUgYmFzZTY0YmluYXJ5IGJsb2IuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlOiAoZmhpci5GaGlyU3RyaW5nfGZoaXIuRmhpckJhc2U2NEJpbmFyeSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEF1ZGl0RXZlbnQuZW50aXR5LmRldGFpbC52YWx1ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c192YWx1ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEF1ZGl0RXZlbnRFbnRpdHlEZXRhaWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBdWRpdEV2ZW50RW50aXR5RGV0YWlsQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnR5cGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVN0cmluZyddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlU3RyaW5nfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVCYXNlNjRCaW5hcnknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeSh7dmFsdWU6IHNvdXJjZS52YWx1ZUJhc2U2NEJpbmFyeX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKCk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oKTtcclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0eXBlOmZoaXIuRmhpclN0cmluZyBmaGlyOiBBdWRpdEV2ZW50LmVudGl0eS5kZXRhaWwudHlwZTpzdHJpbmcnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKCF0aGlzWyd2YWx1ZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB2YWx1ZTogZmhpcjogQXVkaXRFdmVudC5lbnRpdHkuZGV0YWlsLnZhbHVlW3hdOicgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudEVudGl0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50RW50aXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGluc3RhbmNlIG9mIHRoZSBlbnRpdHkuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGJlIHZlcnNpb24gc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgd2hhdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB2YWx1ZSBpcyBkaXN0aW5jdCBmcm9tIHRoZSB1c2VyJ3Mgcm9sZSBvciBhbnkgdXNlciByZWxhdGlvbnNoaXAgdG8gdGhlIGVudGl0eS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2RlIHJlcHJlc2VudGluZyB0aGUgcm9sZSB0aGUgZW50aXR5IHBsYXllZCBpbiB0aGUgZXZlbnQgYmVpbmcgYXVkaXRlZC5cclxuICAgKi9cclxuICByb2xlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYW4gYXVkaXQgdHJhaWwgZm9yIGRhdGEsIG92ZXIgdGltZSwgYXMgaXQgcGFzc2VzIHRocm91Z2ggdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBsaWZlY3ljbGU/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvcGllZCBmcm9tIGVudGl0eSBtZXRhIHNlY3VyaXR5IHRhZ3MuXHJcbiAgICovXHJcbiAgc2VjdXJpdHlMYWJlbD86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIG1heSBiZSB1c2VkIGluIGEgcXVlcnkvcmVwb3J0IHRvIGlkZW50aWZ5IGF1ZGl0IGV2ZW50cyBmb3IgYSBzcGVjaWZpYyBwZXJzb24uICBGb3IgZXhhbXBsZSwgd2hlcmUgbXVsdGlwbGUgc3lub255bW91cyBlbnRpdHkgaWRlbnRpZmllcnMgKHBhdGllbnQgbnVtYmVyLCBtZWRpY2FsIHJlY29yZCBudW1iZXIsIGVuY291bnRlciBudW1iZXIsIGV0Yy4pIGhhdmUgYmVlbiB1c2VkLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0IHRoYXQgZGVzY3JpYmVzIHRoZSBlbnRpdHkgaW4gbW9yZSBkZXRhaWwuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWVhbmluZyBhbmQgc2Vjb25kYXJ5LWVuY29kaW5nIG9mIHRoZSBjb250ZW50IG9mIGJhc2U2NCBlbmNvZGVkIGJsb2IgaXMgc3BlY2lmaWMgdG8gdGhlIEF1ZGl0RXZlbnQudHlwZSwgQXVkaXRFdmVudC5zdWJ0eXBlLCBBdWRpdEV2ZW50LmVudGl0eS50eXBlLCBhbmQgQXVkaXRFdmVudC5lbnRpdHkucm9sZS4gIFRoZSBiYXNlNjQgaXMgYSBnZW5lcmFsLXVzZSBhbmQgc2FmZSBjb250YWluZXIgZm9yIGV2ZW50IHNwZWNpZmljIGRhdGEgYmxvYnMgcmVnYXJkbGVzcyBvZiB0aGUgZW5jb2RpbmcgdXNlZCBieSB0aGUgdHJhbnNhY3Rpb24gYmVpbmcgcmVjb3JkZWQuICBBbiBBdWRpdEV2ZW50IGNvbnN1bWluZyBhcHBsaWNhdGlvbiBtdXN0IHVuZGVyc3RhbmQgdGhlIGV2ZW50IGl0IGlzIGNvbnN1bWluZyBhbmQgdGhlIGZvcm1hdHMgdXNlZCBieSB0aGUgZXZlbnQuIEZvciBleGFtcGxlLCBpZiBhdWRpdGluZyBhbiBPcmFjbGUgbmV0d29yayBkYXRhYmFzZSBhY2Nlc3MsIHRoZSBPcmFjbGUgZm9ybWF0cyBtdXN0IGJlIHVuZGVyc3Rvb2QgYXMgdGhleSB3aWxsIGJlIHNpbXBseSBlbmNvZGVkIGluIHRoZSBiYXNlNjRiaW5hcnkgYmxvYi5cclxuICAgKi9cclxuICBxdWVyeT86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRhZ2dlZCB2YWx1ZSBwYWlycyBmb3IgY29udmV5aW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVudGl0eS5cclxuICAgKi9cclxuICBkZXRhaWw/OiBmaGlyLkF1ZGl0RXZlbnRFbnRpdHlEZXRhaWxBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogUmVxdWlyZWQgdW5sZXNzIHRoZSB2YWx1ZXMgZm9yIGV2ZW50IGlkZW50aWZpY2F0aW9uLCBhZ2VudCBpZGVudGlmaWNhdGlvbiwgYW5kIGF1ZGl0IHNvdXJjZSBpZGVudGlmaWNhdGlvbiBhcmUgc3VmZmljaWVudCB0byBkb2N1bWVudCB0aGUgZW50aXJlIGF1ZGl0YWJsZSBldmVudC4gQmVjYXVzZSBldmVudHMgbWF5IGhhdmUgbW9yZSB0aGFuIG9uZSBlbnRpdHksIHRoaXMgZ3JvdXAgY2FuIGJlIGEgcmVwZWF0aW5nIHNldCBvZiB2YWx1ZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXVkaXRFdmVudEVudGl0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0F1ZGl0RXZlbnRFbnRpdHknO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgYSBzcGVjaWZpYyBpbnN0YW5jZSBvZiB0aGUgZW50aXR5LiBUaGUgcmVmZXJlbmNlIHNob3VsZCBiZSB2ZXJzaW9uIHNwZWNpZmljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3aGF0PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgdmFsdWUgaXMgZGlzdGluY3QgZnJvbSB0aGUgdXNlcidzIHJvbGUgb3IgYW55IHVzZXIgcmVsYXRpb25zaGlwIHRvIHRoZSBlbnRpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29kZSByZXByZXNlbnRpbmcgdGhlIHJvbGUgdGhlIGVudGl0eSBwbGF5ZWQgaW4gdGhlIGV2ZW50IGJlaW5nIGF1ZGl0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJvbGU/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBwcm92aWRlIGFuIGF1ZGl0IHRyYWlsIGZvciBkYXRhLCBvdmVyIHRpbWUsIGFzIGl0IHBhc3NlcyB0aHJvdWdoIHRoZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIGxpZmVjeWNsZT86IGZoaXIuQ29kaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb3BpZWQgZnJvbSBlbnRpdHkgbWV0YSBzZWN1cml0eSB0YWdzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWN1cml0eUxhYmVsOiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgbWF5IGJlIHVzZWQgaW4gYSBxdWVyeS9yZXBvcnQgdG8gaWRlbnRpZnkgYXVkaXQgZXZlbnRzIGZvciBhIHNwZWNpZmljIHBlcnNvbi4gIEZvciBleGFtcGxlLCB3aGVyZSBtdWx0aXBsZSBzeW5vbnltb3VzIGVudGl0eSBpZGVudGlmaWVycyAocGF0aWVudCBudW1iZXIsIG1lZGljYWwgcmVjb3JkIG51bWJlciwgZW5jb3VudGVyIG51bWJlciwgZXRjLikgaGF2ZSBiZWVuIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgdGhhdCBkZXNjcmliZXMgdGhlIGVudGl0eSBpbiBtb3JlIGRldGFpbC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZWFuaW5nIGFuZCBzZWNvbmRhcnktZW5jb2Rpbmcgb2YgdGhlIGNvbnRlbnQgb2YgYmFzZTY0IGVuY29kZWQgYmxvYiBpcyBzcGVjaWZpYyB0byB0aGUgQXVkaXRFdmVudC50eXBlLCBBdWRpdEV2ZW50LnN1YnR5cGUsIEF1ZGl0RXZlbnQuZW50aXR5LnR5cGUsIGFuZCBBdWRpdEV2ZW50LmVudGl0eS5yb2xlLiAgVGhlIGJhc2U2NCBpcyBhIGdlbmVyYWwtdXNlIGFuZCBzYWZlIGNvbnRhaW5lciBmb3IgZXZlbnQgc3BlY2lmaWMgZGF0YSBibG9icyByZWdhcmRsZXNzIG9mIHRoZSBlbmNvZGluZyB1c2VkIGJ5IHRoZSB0cmFuc2FjdGlvbiBiZWluZyByZWNvcmRlZC4gIEFuIEF1ZGl0RXZlbnQgY29uc3VtaW5nIGFwcGxpY2F0aW9uIG11c3QgdW5kZXJzdGFuZCB0aGUgZXZlbnQgaXQgaXMgY29uc3VtaW5nIGFuZCB0aGUgZm9ybWF0cyB1c2VkIGJ5IHRoZSBldmVudC4gRm9yIGV4YW1wbGUsIGlmIGF1ZGl0aW5nIGFuIE9yYWNsZSBuZXR3b3JrIGRhdGFiYXNlIGFjY2VzcywgdGhlIE9yYWNsZSBmb3JtYXRzIG11c3QgYmUgdW5kZXJzdG9vZCBhcyB0aGV5IHdpbGwgYmUgc2ltcGx5IGVuY29kZWQgaW4gdGhlIGJhc2U2NGJpbmFyeSBibG9iLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWVyeT86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGFnZ2VkIHZhbHVlIHBhaXJzIGZvciBjb252ZXlpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXRhaWw6IGZoaXIuQXVkaXRFdmVudEVudGl0eURldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEF1ZGl0RXZlbnRFbnRpdHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBdWRpdEV2ZW50RW50aXR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3doYXQnXSkgeyB0aGlzLndoYXQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLndoYXQpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm9sZSddKSB7IHRoaXMucm9sZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2Uucm9sZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2xpZmVjeWNsZSddKSB7IHRoaXMubGlmZWN5Y2xlID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5saWZlY3ljbGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzZWN1cml0eUxhYmVsJ10pIHsgdGhpcy5zZWN1cml0eUxhYmVsID0gc291cmNlLnNlY3VyaXR5TGFiZWwubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RpbmcoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZWN1cml0eUxhYmVsID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWVyeSddKSB7IHRoaXMucXVlcnkgPSBuZXcgZmhpci5GaGlyQmFzZTY0QmluYXJ5KHt2YWx1ZTogc291cmNlLnF1ZXJ5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RldGFpbCddKSB7IHRoaXMuZGV0YWlsID0gc291cmNlLmRldGFpbC5tYXAoKHgpID0+IG5ldyBmaGlyLkF1ZGl0RXZlbnRFbnRpdHlEZXRhaWwoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kZXRhaWwgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3IgdHlwZSAoQXVkaXRFdmVudC5lbnRpdHkudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlRXh0ZW5zaWJsZUNvZGluZ3MoKSB7XHJcbiAgICByZXR1cm4gQXVkaXRFbnRpdHlUeXBlQ29kaW5ncztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIHJvbGUgKEF1ZGl0RXZlbnQuZW50aXR5LnJvbGUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgcm9sZUV4dGVuc2libGVDb2RpbmdzKCkge1xyXG4gICAgcmV0dXJuIE9iamVjdFJvbGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3Igc2VjdXJpdHlMYWJlbCAoQXVkaXRFdmVudC5lbnRpdHkuc2VjdXJpdHlMYWJlbClcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBzZWN1cml0eUxhYmVsRXh0ZW5zaWJsZUNvZGluZ3MoKSB7XHJcbiAgICByZXR1cm4gU2VjdXJpdHlMYWJlbHNDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKHRoaXNbXCJ3aGF0XCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMud2hhdC5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJyb2xlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMucm9sZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJsaWZlY3ljbGVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5saWZlY3ljbGUuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wic2VjdXJpdHlMYWJlbFwiXSkgeyB0aGlzLnNlY3VyaXR5TGFiZWwuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAodGhpc1tcIm5hbWVcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5uYW1lLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImRlc2NyaXB0aW9uXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuZGVzY3JpcHRpb24uZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICh0aGlzW1wicXVlcnlcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5xdWVyeS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJkZXRhaWxcIl0pIHsgdGhpcy5kZXRhaWwuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQXVkaXRFdmVudFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIGZvciBhIGZhbWlseSBvZiB0aGUgZXZlbnQuICBGb3IgZXhhbXBsZSwgYSBtZW51IGl0ZW0sIHByb2dyYW0sIHJ1bGUsIHBvbGljeSwgZnVuY3Rpb24gY29kZSwgYXBwbGljYXRpb24gbmFtZSBvciBVUkwuIEl0IGlkZW50aWZpZXMgdGhlIHBlcmZvcm1lZCBmdW5jdGlvbi5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGluZ0FyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIGZvciB0aGUgY2F0ZWdvcnkgb2YgZXZlbnQuXHJcbiAgICovXHJcbiAgc3VidHlwZT86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0b3IgZm9yIHR5cGUgb2YgYWN0aW9uIHBlcmZvcm1lZCBkdXJpbmcgdGhlIGV2ZW50IHRoYXQgZ2VuZXJhdGVkIHRoZSBhdWRpdC5cclxuICAgKi9cclxuICBhY3Rpb24/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcmlvZCBjYW4gYmUgYSBsaXR0bGUgYXJiaXRyYXJ5OyB3aGVyZSBwb3NzaWJsZSwgdGhlIHRpbWUgc2hvdWxkIGNvcnJlc3BvbmQgdG8gaHVtYW4gYXNzZXNzbWVudCBvZiB0aGUgYWN0aXZpdHkgdGltZS5cclxuICAgKi9cclxuICBwZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluIGEgZGlzdHJpYnV0ZWQgc3lzdGVtLCBzb21lIHNvcnQgb2YgY29tbW9uIHRpbWUgYmFzZSAoZS5nLiBhbiBOVFAgW1JGQzEzMDVdIHNlcnZlcikgaXMgYSBnb29kIGltcGxlbWVudGF0aW9uIHRhY3RpYy5cclxuICAgKi9cclxuICByZWNvcmRlZDogZmhpci5GaGlySW5zdGFudHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluIHNvbWUgY2FzZXMgYSBcInN1Y2Nlc3NcIiBtYXkgYmUgcGFydGlhbCwgZm9yIGV4YW1wbGUsIGFuIGluY29tcGxldGUgb3IgaW50ZXJydXB0ZWQgdHJhbnNmZXIgb2YgYSByYWRpb2xvZ2ljYWwgc3R1ZHkuIEZvciB0aGUgcHVycG9zZSBvZiBlc3RhYmxpc2hpbmcgYWNjb3VudGFiaWxpdHksIHRoZXNlIGRpc3RpbmN0aW9ucyBhcmUgbm90IHJlbGV2YW50LlxyXG4gICAqL1xyXG4gIG91dGNvbWU/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBmcmVlIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIG91dGNvbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIG91dGNvbWVEZXNjPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlIEF1ZGl0RXZlbnQuYWdlbnQucHVycG9zZU9mVXNlIHdoZW4geW91IGtub3cgdGhhdCBpdCBpcyBzcGVjaWZpYyB0byB0aGUgYWdlbnQsIG90aGVyd2lzZSB1c2UgQXVkaXRFdmVudC5wdXJwb3NlT2ZFdmVudC4gRm9yIGV4YW1wbGUsIGR1cmluZyBhIG1hY2hpbmUtdG8tbWFjaGluZSB0cmFuc2ZlciBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB0byB0aGUgYXVkaXQgc3lzdGVtIHdobyBjYXVzZWQgdGhlIGV2ZW50LCBidXQgaXQgZG9lcyBrbm93IHdoeS5cclxuICAgKi9cclxuICBwdXJwb3NlT2ZFdmVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTZXZlcmFsIGFnZW50cyBtYXkgYmUgYXNzb2NpYXRlZCAoaS5lLiBoYXZlIHNvbWUgcmVzcG9uc2liaWxpdHkgZm9yIGFuIGFjdGl2aXR5KSB3aXRoIGFuIGV2ZW50IG9yIGFjdGl2aXR5LlxyXG4gICAqIEZvciBleGFtcGxlLCBhbiBhY3Rpdml0eSBtYXkgYmUgaW5pdGlhdGVkIGJ5IG9uZSB1c2VyIGZvciBvdGhlciB1c2VycyBvciBpbnZvbHZlIG1vcmUgdGhhbiBvbmUgdXNlci4gSG93ZXZlciwgb25seSBvbmUgdXNlciBtYXkgYmUgdGhlIGluaXRpYXRvci9yZXF1ZXN0b3IgZm9yIHRoZSBhY3Rpdml0eS5cclxuICAgKi9cclxuICBhZ2VudDogZmhpci5BdWRpdEV2ZW50QWdlbnRBcmdzW118bnVsbDtcclxuICAvKipcclxuICAgKiBTaW5jZSBtdWx0aS10aWVyLCBkaXN0cmlidXRlZCwgb3IgY29tcG9zaXRlIGFwcGxpY2F0aW9ucyBtYWtlIHNvdXJjZSBpZGVudGlmaWNhdGlvbiBhbWJpZ3VvdXMsIHRoaXMgY29sbGVjdGlvbiBvZiBmaWVsZHMgbWF5IHJlcGVhdCBmb3IgZWFjaCBhcHBsaWNhdGlvbiBvciBwcm9jZXNzIGFjdGl2ZWx5IGludm9sdmVkIGluIHRoZSBldmVudC4gRm9yIGV4YW1wbGUsIG11bHRpcGxlIHZhbHVlLXNldHMgY2FuIGlkZW50aWZ5IHBhcnRpY2lwYXRpbmcgd2ViIHNlcnZlcnMsIGFwcGxpY2F0aW9uIHByb2Nlc3NlcywgYW5kIGRhdGFiYXNlIHNlcnZlciB0aHJlYWRzIGluIGFuIG4tdGllciBkaXN0cmlidXRlZCBhcHBsaWNhdGlvbi4gUGFzc2l2ZSBldmVudCBwYXJ0aWNpcGFudHMgKGUuZy4gbG93LWxldmVsIG5ldHdvcmsgdHJhbnNwb3J0cykgbmVlZCBub3QgYmUgaWRlbnRpZmllZC5cclxuICAgKi9cclxuICBzb3VyY2U6IGZoaXIuQXVkaXRFdmVudFNvdXJjZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBSZXF1aXJlZCB1bmxlc3MgdGhlIHZhbHVlcyBmb3IgZXZlbnQgaWRlbnRpZmljYXRpb24sIGFnZW50IGlkZW50aWZpY2F0aW9uLCBhbmQgYXVkaXQgc291cmNlIGlkZW50aWZpY2F0aW9uIGFyZSBzdWZmaWNpZW50IHRvIGRvY3VtZW50IHRoZSBlbnRpcmUgYXVkaXRhYmxlIGV2ZW50LiBCZWNhdXNlIGV2ZW50cyBtYXkgaGF2ZSBtb3JlIHRoYW4gb25lIGVudGl0eSwgdGhpcyBncm91cCBjYW4gYmUgYSByZXBlYXRpbmcgc2V0IG9mIHZhbHVlcy5cclxuICAgKi9cclxuICBlbnRpdHk/OiBmaGlyLkF1ZGl0RXZlbnRFbnRpdHlBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSByZWNvcmQgb2YgYW4gZXZlbnQgbWFkZSBmb3IgcHVycG9zZXMgb2YgbWFpbnRhaW5pbmcgYSBzZWN1cml0eSBsb2cuIFR5cGljYWwgdXNlcyBpbmNsdWRlIGRldGVjdGlvbiBvZiBpbnRydXNpb24gYXR0ZW1wdHMgYW5kIG1vbml0b3JpbmcgZm9yIGluYXBwcm9wcmlhdGUgdXNhZ2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXVkaXRFdmVudCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJBdWRpdEV2ZW50XCI7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBmb3IgYSBmYW1pbHkgb2YgdGhlIGV2ZW50LiAgRm9yIGV4YW1wbGUsIGEgbWVudSBpdGVtLCBwcm9ncmFtLCBydWxlLCBwb2xpY3ksIGZ1bmN0aW9uIGNvZGUsIGFwcGxpY2F0aW9uIG5hbWUgb3IgVVJMLiBJdCBpZGVudGlmaWVzIHRoZSBwZXJmb3JtZWQgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBmb3IgdGhlIGNhdGVnb3J5IG9mIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJ0eXBlOiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRvciBmb3IgdHlwZSBvZiBhY3Rpb24gcGVyZm9ybWVkIGR1cmluZyB0aGUgZXZlbnQgdGhhdCBnZW5lcmF0ZWQgdGhlIGF1ZGl0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3Rpb24/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIGNhbiBiZSBhIGxpdHRsZSBhcmJpdHJhcnk7IHdoZXJlIHBvc3NpYmxlLCB0aGUgdGltZSBzaG91bGQgY29ycmVzcG9uZCB0byBodW1hbiBhc3Nlc3NtZW50IG9mIHRoZSBhY3Rpdml0eSB0aW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gYSBkaXN0cmlidXRlZCBzeXN0ZW0sIHNvbWUgc29ydCBvZiBjb21tb24gdGltZSBiYXNlIChlLmcuIGFuIE5UUCBbUkZDMTMwNV0gc2VydmVyKSBpcyBhIGdvb2QgaW1wbGVtZW50YXRpb24gdGFjdGljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNvcmRlZDogZmhpci5GaGlySW5zdGFudHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluIHNvbWUgY2FzZXMgYSBcInN1Y2Nlc3NcIiBtYXkgYmUgcGFydGlhbCwgZm9yIGV4YW1wbGUsIGFuIGluY29tcGxldGUgb3IgaW50ZXJydXB0ZWQgdHJhbnNmZXIgb2YgYSByYWRpb2xvZ2ljYWwgc3R1ZHkuIEZvciB0aGUgcHVycG9zZSBvZiBlc3RhYmxpc2hpbmcgYWNjb3VudGFiaWxpdHksIHRoZXNlIGRpc3RpbmN0aW9ucyBhcmUgbm90IHJlbGV2YW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBmcmVlIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIG91dGNvbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lRGVzYz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlIEF1ZGl0RXZlbnQuYWdlbnQucHVycG9zZU9mVXNlIHdoZW4geW91IGtub3cgdGhhdCBpdCBpcyBzcGVjaWZpYyB0byB0aGUgYWdlbnQsIG90aGVyd2lzZSB1c2UgQXVkaXRFdmVudC5wdXJwb3NlT2ZFdmVudC4gRm9yIGV4YW1wbGUsIGR1cmluZyBhIG1hY2hpbmUtdG8tbWFjaGluZSB0cmFuc2ZlciBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB0byB0aGUgYXVkaXQgc3lzdGVtIHdobyBjYXVzZWQgdGhlIGV2ZW50LCBidXQgaXQgZG9lcyBrbm93IHdoeS5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZU9mRXZlbnQ6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogU2V2ZXJhbCBhZ2VudHMgbWF5IGJlIGFzc29jaWF0ZWQgKGkuZS4gaGF2ZSBzb21lIHJlc3BvbnNpYmlsaXR5IGZvciBhbiBhY3Rpdml0eSkgd2l0aCBhbiBldmVudCBvciBhY3Rpdml0eS5cclxuICAgKiBGb3IgZXhhbXBsZSwgYW4gYWN0aXZpdHkgbWF5IGJlIGluaXRpYXRlZCBieSBvbmUgdXNlciBmb3Igb3RoZXIgdXNlcnMgb3IgaW52b2x2ZSBtb3JlIHRoYW4gb25lIHVzZXIuIEhvd2V2ZXIsIG9ubHkgb25lIHVzZXIgbWF5IGJlIHRoZSBpbml0aWF0b3IvcmVxdWVzdG9yIGZvciB0aGUgYWN0aXZpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGFnZW50OiBmaGlyLkF1ZGl0RXZlbnRBZ2VudFtdO1xyXG4gIC8qKlxyXG4gICAqIFNpbmNlIG11bHRpLXRpZXIsIGRpc3RyaWJ1dGVkLCBvciBjb21wb3NpdGUgYXBwbGljYXRpb25zIG1ha2Ugc291cmNlIGlkZW50aWZpY2F0aW9uIGFtYmlndW91cywgdGhpcyBjb2xsZWN0aW9uIG9mIGZpZWxkcyBtYXkgcmVwZWF0IGZvciBlYWNoIGFwcGxpY2F0aW9uIG9yIHByb2Nlc3MgYWN0aXZlbHkgaW52b2x2ZWQgaW4gdGhlIGV2ZW50LiBGb3IgZXhhbXBsZSwgbXVsdGlwbGUgdmFsdWUtc2V0cyBjYW4gaWRlbnRpZnkgcGFydGljaXBhdGluZyB3ZWIgc2VydmVycywgYXBwbGljYXRpb24gcHJvY2Vzc2VzLCBhbmQgZGF0YWJhc2Ugc2VydmVyIHRocmVhZHMgaW4gYW4gbi10aWVyIGRpc3RyaWJ1dGVkIGFwcGxpY2F0aW9uLiBQYXNzaXZlIGV2ZW50IHBhcnRpY2lwYW50cyAoZS5nLiBsb3ctbGV2ZWwgbmV0d29yayB0cmFuc3BvcnRzKSBuZWVkIG5vdCBiZSBpZGVudGlmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2U6IGZoaXIuQXVkaXRFdmVudFNvdXJjZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkIHVubGVzcyB0aGUgdmFsdWVzIGZvciBldmVudCBpZGVudGlmaWNhdGlvbiwgYWdlbnQgaWRlbnRpZmljYXRpb24sIGFuZCBhdWRpdCBzb3VyY2UgaWRlbnRpZmljYXRpb24gYXJlIHN1ZmZpY2llbnQgdG8gZG9jdW1lbnQgdGhlIGVudGlyZSBhdWRpdGFibGUgZXZlbnQuIEJlY2F1c2UgZXZlbnRzIG1heSBoYXZlIG1vcmUgdGhhbiBvbmUgZW50aXR5LCB0aGlzIGdyb3VwIGNhbiBiZSBhIHJlcGVhdGluZyBzZXQgb2YgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRpdHk6IGZoaXIuQXVkaXRFdmVudEVudGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEF1ZGl0RXZlbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBdWRpdEV2ZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0F1ZGl0RXZlbnQnO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJ0eXBlJ10pIHsgdGhpcy5zdWJ0eXBlID0gc291cmNlLnN1YnR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RpbmcoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJ0eXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdGlvbiddKSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuYWN0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmlvZCddKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5wZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWNvcmRlZCddKSB7IHRoaXMucmVjb3JkZWQgPSBuZXcgZmhpci5GaGlySW5zdGFudCh7dmFsdWU6IHNvdXJjZS5yZWNvcmRlZH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWNvcmRlZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ291dGNvbWUnXSkgeyB0aGlzLm91dGNvbWUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS5vdXRjb21lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ291dGNvbWVEZXNjJ10pIHsgdGhpcy5vdXRjb21lRGVzYyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2Uub3V0Y29tZURlc2N9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVycG9zZU9mRXZlbnQnXSkgeyB0aGlzLnB1cnBvc2VPZkV2ZW50ID0gc291cmNlLnB1cnBvc2VPZkV2ZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHVycG9zZU9mRXZlbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWdlbnQnXSkgeyB0aGlzLmFnZW50ID0gc291cmNlLmFnZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQXVkaXRFdmVudEFnZW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWdlbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlJ10pIHsgdGhpcy5zb3VyY2UgPSBuZXcgZmhpci5BdWRpdEV2ZW50U291cmNlKHNvdXJjZS5zb3VyY2UpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zb3VyY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydlbnRpdHknXSkgeyB0aGlzLmVudGl0eSA9IHNvdXJjZS5lbnRpdHkubWFwKCh4KSA9PiBuZXcgZmhpci5BdWRpdEV2ZW50RW50aXR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZW50aXR5ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIHR5cGUgKEF1ZGl0RXZlbnQudHlwZSlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0eXBlRXh0ZW5zaWJsZUNvZGluZ3MoKSB7XHJcbiAgICByZXR1cm4gQXVkaXRFdmVudFR5cGVDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHRlbnNpYmxlLWJvdW5kIFZhbHVlIFNldCBmb3Igc3VidHlwZSAoQXVkaXRFdmVudC5zdWJ0eXBlKVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHN1YnR5cGVFeHRlbnNpYmxlQ29kaW5ncygpIHtcclxuICAgIHJldHVybiBBdWRpdEV2ZW50U3ViVHlwZUNvZGluZ3M7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkLWJvdW5kIFZhbHVlIFNldCBmb3IgYWN0aW9uIChBdWRpdEV2ZW50LmFjdGlvbilcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCBhY3Rpb25SZXF1aXJlZENvZGVzKCkge1xyXG4gICAgcmV0dXJuIEF1ZGl0RXZlbnRBY3Rpb25Db2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQtYm91bmQgVmFsdWUgU2V0IGZvciBvdXRjb21lIChBdWRpdEV2ZW50Lm91dGNvbWUpXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXQgb3V0Y29tZVJlcXVpcmVkQ29kZXMoKSB7XHJcbiAgICByZXR1cm4gQXVkaXRFdmVudE91dGNvbWVDb2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaWJsZS1ib3VuZCBWYWx1ZSBTZXQgZm9yIHB1cnBvc2VPZkV2ZW50IChBdWRpdEV2ZW50LnB1cnBvc2VPZkV2ZW50KVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHB1cnBvc2VPZkV2ZW50RXh0ZW5zaWJsZUNvZGluZ3MoKSB7XHJcbiAgICByZXR1cm4gVjNQdXJwb3NlT2ZVc2VDb2RpbmdzO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgaWYgKCF0aGlzWydyZXNvdXJjZVR5cGUnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVzb3VyY2VUeXBlOlwiQXVkaXRFdmVudFwiIGZoaXI6IEF1ZGl0RXZlbnQucmVzb3VyY2VUeXBlOlwiQXVkaXRFdmVudFwiJyB9KTtcclxuICAgIH1cclxuICAgIGlmICghdGhpc1sndHlwZSddKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdyZXF1aXJlZCcsIGRpYWdub3N0aWNzOiAnTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSB0eXBlOmZoaXIuQ29kaW5nIGZoaXI6IEF1ZGl0RXZlbnQudHlwZTpDb2RpbmcnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJ0eXBlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMudHlwZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJzdWJ0eXBlXCJdKSB7IHRoaXMuc3VidHlwZS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICh0aGlzWydhY3Rpb24nXSAmJiAoIU9iamVjdC52YWx1ZXMoQXVkaXRFdmVudEFjdGlvbkNvZGVzKS5pbmNsdWRlcyh0aGlzLmFjdGlvbiBhcyBhbnkpKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAnY29kZS1pbnZhbGlkJywgZGlhZ25vc3RpY3M6ICdJbnZhbGlkIGNvZGUgcHJvcGVydHkgYWN0aW9uPzpmaGlyLkZoaXJDb2RlIGZoaXI6IEF1ZGl0RXZlbnQuYWN0aW9uOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogQXVkaXRFdmVudEFjdGlvbicgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpc1tcImFjdGlvblwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLmFjdGlvbi5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJwZXJpb2RcIl0pIHsgaXNzdWVzLnB1c2goLi4udGhpcy5wZXJpb2QuZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH1cclxuICAgIGlmICghdGhpc1sncmVjb3JkZWQnXSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgcmVjb3JkZWQ6Zmhpci5GaGlySW5zdGFudCBmaGlyOiBBdWRpdEV2ZW50LnJlY29yZGVkOmluc3RhbnQnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJyZWNvcmRlZFwiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLnJlY29yZGVkLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1snb3V0Y29tZSddICYmICghT2JqZWN0LnZhbHVlcyhBdWRpdEV2ZW50T3V0Y29tZUNvZGVzKS5pbmNsdWRlcyh0aGlzLm91dGNvbWUgYXMgYW55KSkpIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ2NvZGUtaW52YWxpZCcsIGRpYWdub3N0aWNzOiAnSW52YWxpZCBjb2RlIHByb3BlcnR5IG91dGNvbWU/OmZoaXIuRmhpckNvZGUgZmhpcjogQXVkaXRFdmVudC5vdXRjb21lOmNvZGUgUmVxdWlyZWQgYmluZGluZyB0bzogQXVkaXRFdmVudE91dGNvbWUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXNbXCJvdXRjb21lXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMub3V0Y29tZS5kb01vZGVsVmFsaWRhdGlvbigpKTsgfVxyXG4gICAgaWYgKHRoaXNbXCJvdXRjb21lRGVzY1wiXSkgeyBpc3N1ZXMucHVzaCguLi50aGlzLm91dGNvbWVEZXNjLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcInB1cnBvc2VPZkV2ZW50XCJdKSB7IHRoaXMucHVycG9zZU9mRXZlbnQuZm9yRWFjaCgoeCkgPT4geyBpc3N1ZXMucHVzaCguLi54LmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9KSB9XHJcbiAgICBpZiAoIXRoaXNbJ2FnZW50J10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IGFnZW50OmZoaXIuQXVkaXRFdmVudEFnZW50W10gZmhpcjogQXVkaXRFdmVudC5hZ2VudDphZ2VudCcgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuYWdlbnQpKSB7XHJcbiAgICAgIGlzc3Vlcy5wdXNoKHsgc2V2ZXJpdHk6ICdlcnJvcicsIGNvZGU6ICdzdHJ1Y3R1cmUnLCBkaWFnbm9zdGljczogJ0ZvdW5kIHNjYWxhciBpbiBhcnJheSBwcm9wZXJ0eSBhZ2VudDpmaGlyLkF1ZGl0RXZlbnRBZ2VudFtdIGZoaXI6IEF1ZGl0RXZlbnQuYWdlbnQ6YWdlbnQnIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmFnZW50Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBpc3N1ZXMucHVzaCh7IHNldmVyaXR5OiAnZXJyb3InLCBjb2RlOiAncmVxdWlyZWQnLCBkaWFnbm9zdGljczogJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgYWdlbnQ6Zmhpci5BdWRpdEV2ZW50QWdlbnRbXSBmaGlyOiBBdWRpdEV2ZW50LmFnZW50OmFnZW50JyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wiYWdlbnRcIl0pIHsgdGhpcy5hZ2VudC5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIGlmICghdGhpc1snc291cmNlJ10pIHtcclxuICAgICAgaXNzdWVzLnB1c2goeyBzZXZlcml0eTogJ2Vycm9yJywgY29kZTogJ3JlcXVpcmVkJywgZGlhZ25vc3RpY3M6ICdNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IHNvdXJjZTpmaGlyLkF1ZGl0RXZlbnRTb3VyY2UgZmhpcjogQXVkaXRFdmVudC5zb3VyY2U6c291cmNlJyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzW1wic291cmNlXCJdKSB7IGlzc3Vlcy5wdXNoKC4uLnRoaXMuc291cmNlLmRvTW9kZWxWYWxpZGF0aW9uKCkpOyB9XHJcbiAgICBpZiAodGhpc1tcImVudGl0eVwiXSkgeyB0aGlzLmVudGl0eS5mb3JFYWNoKCh4KSA9PiB7IGlzc3Vlcy5wdXNoKC4uLnguZG9Nb2RlbFZhbGlkYXRpb24oKSk7IH0pIH1cclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==