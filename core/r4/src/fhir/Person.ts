// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: Person

import * as fhir from '../fhir.js';

// @ts-ignore
import { IdentityAssuranceLevelCodings, IdentityAssuranceLevelCodingType,} from '../fhirValueSets/IdentityAssuranceLevelCodings.js';
// @ts-ignore
import { IdentityAssuranceLevelCodes,  IdentityAssuranceLevelCodeType } from '../fhirValueSets/IdentityAssuranceLevelCodes.js';
// @ts-ignore
import { AdministrativeGenderCodings, AdministrativeGenderCodingType,} from '../fhirValueSets/AdministrativeGenderCodings.js';
// @ts-ignore
import { AdministrativeGenderCodes,  AdministrativeGenderCodeType } from '../fhirValueSets/AdministrativeGenderCodes.js';
/**
 * Valid arguments for the PersonLink type.
 */
export interface PersonLinkArgs extends fhir.BackboneElementArgs {
  /**
   * The resource to which this actual person is associated.
   */
  target: fhir.ReferenceArgs|null;
  /**
   * Level of assurance that this link is associated with the target resource.
   */
  assurance?: fhir.FhirCode<IdentityAssuranceLevelCodeType>|string|undefined;
  /**
   * Extended properties for primitive element: Person.link.assurance
   */
  _assurance?:fhir.FhirElementArgs;
}

/**
 * Link to a resource that concerns the same actual person.
 */
export class PersonLink extends fhir.BackboneElement {
  /**
   * Mapping of this datatype to a FHIR equivalent
   */
  public static override readonly _fts_dataType:string = 'PersonLink';
  /**
   * The resource to which this actual person is associated.
   */
  public target: fhir.Reference|null;
  /**
   * Level of assurance that this link is associated with the target resource.
   */
  public assurance?: fhir.FhirCode<IdentityAssuranceLevelCodeType>|undefined;
  /**
   * Default constructor for PersonLink - initializes any required elements to null if a value is not provided.
   */
  constructor(source:Partial<PersonLinkArgs> = {}, options:fhir.FhirConstructorOptions = {}) {
    super(source, options);
    if (source['target']) { this.target = new fhir.Reference(source.target); }
    else { this.target = null; }
    if (source['assurance']) { this.assurance = new fhir.FhirCode<IdentityAssuranceLevelCodeType>({value: source.assurance}); }
    if (source['_assurance']) {
      if (this.assurance) { this.assurance.addExtendedProperties(source._assurance!); }
      else { this.assurance = new fhir.FhirCode<IdentityAssuranceLevelCodeType>(source._assurance as Partial<fhir.FhirCode>); }
    }
  }
  /**
   * Required-bound Value Set for assurance (Person.link.assurance)
   */
  public static get assuranceRequiredCodes() {
    return IdentityAssuranceLevelCodes;
  }
  /**
   * Function to perform basic model validation (e.g., check if required elements are present).
   */
  public override doModelValidation():fhir.FtsIssue[] {
    let issues:fhir.FtsIssue[] = super.doModelValidation();
    if (!this['target']) {
      issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property target:fhir.Reference fhir: Person.link.target:Reference' });
    }
    if (this["target"]) { issues.push(...this.target.doModelValidation()); }
    if (this['assurance'] && (!Object.values(IdentityAssuranceLevelCodes).includes(this.assurance as any))) {
      issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property assurance?:fhir.FhirCode<IdentityAssuranceLevelCodeType> fhir: Person.link.assurance:code Required binding to: IdentityAssuranceLevel' });
    }
    if (this["assurance"]) { issues.push(...this.assurance.doModelValidation()); }
    return issues;
  }
}
/**
 * Valid arguments for the Person type.
 */
export interface PersonArgs extends fhir.DomainResourceArgs {
  /**
   * Resource Type Name
   */
  resourceType: "Person"|undefined;
  /**
   * Identifier for a person within a particular scope.
   */
  identifier?: fhir.IdentifierArgs[]|undefined;
  /**
   * Person may have multiple names with different uses or applicable periods.
   */
  name?: fhir.HumanNameArgs[]|undefined;
  /**
   * Person may have multiple ways to be contacted with different uses or applicable periods.  May need to have options for contacting the person urgently and also to help with identification.
   */
  telecom?: fhir.ContactPointArgs[]|undefined;
  /**
   * The gender might not match the biological sex as determined by genetics, or the individual's preferred identification. Note that for both humans and particularly animals, there are other legitimate possibilities than M and F, though a clear majority of systems and contexts only support M and F.
   */
  gender?: fhir.FhirCode<AdministrativeGenderCodeType>|string|undefined;
  /**
   * Extended properties for primitive element: Person.gender
   */
  _gender?:fhir.FhirElementArgs;
  /**
   * At least an estimated year should be provided as a guess if the real DOB is unknown.
   */
  birthDate?: fhir.FhirDate|string|undefined;
  /**
   * Extended properties for primitive element: Person.birthDate
   */
  _birthDate?:fhir.FhirElementArgs;
  /**
   * Person may have multiple addresses with different uses or applicable periods.
   */
  address?: fhir.AddressArgs[]|undefined;
  /**
   * An image that can be displayed as a thumbnail of the person to enhance the identification of the individual.
   */
  photo?: fhir.AttachmentArgs|undefined;
  /**
   * The organization that is the custodian of the person record.
   */
  managingOrganization?: fhir.ReferenceArgs|undefined;
  /**
   * Whether this person's record is in active use.
   */
  active?: fhir.FhirBoolean|boolean|undefined;
  /**
   * Extended properties for primitive element: Person.active
   */
  _active?:fhir.FhirElementArgs;
  /**
   * Link to a resource that concerns the same actual person.
   */
  link?: fhir.PersonLinkArgs[]|undefined;
}

/**
 * Demographics and administrative information about a person independent of a specific health-related context.
 */
export class Person extends fhir.DomainResource {
  /**
   * Mapping of this datatype to a FHIR equivalent
   */
  public static override readonly _fts_dataType:string = 'Person';
  /**
   * Resource Type Name
   */
  public override resourceType: "Person";
  /**
   * Identifier for a person within a particular scope.
   */
  public identifier: fhir.Identifier[];
  /**
   * Person may have multiple names with different uses or applicable periods.
   */
  public name: fhir.HumanName[];
  /**
   * Person may have multiple ways to be contacted with different uses or applicable periods.  May need to have options for contacting the person urgently and also to help with identification.
   */
  public telecom: fhir.ContactPoint[];
  /**
   * The gender might not match the biological sex as determined by genetics, or the individual's preferred identification. Note that for both humans and particularly animals, there are other legitimate possibilities than M and F, though a clear majority of systems and contexts only support M and F.
   */
  public gender?: fhir.FhirCode<AdministrativeGenderCodeType>|undefined;
  /**
   * At least an estimated year should be provided as a guess if the real DOB is unknown.
   */
  public birthDate?: fhir.FhirDate|undefined;
  /**
   * Person may have multiple addresses with different uses or applicable periods.
   */
  public address: fhir.Address[];
  /**
   * An image that can be displayed as a thumbnail of the person to enhance the identification of the individual.
   */
  public photo?: fhir.Attachment|undefined;
  /**
   * The organization that is the custodian of the person record.
   */
  public managingOrganization?: fhir.Reference|undefined;
  /**
   * Whether this person's record is in active use.
   */
  public active?: fhir.FhirBoolean|undefined;
  /**
   * Link to a resource that concerns the same actual person.
   */
  public link: fhir.PersonLink[];
  /**
   * Default constructor for Person - initializes any required elements to null if a value is not provided.
   */
  constructor(source:Partial<PersonArgs> = {}, options:fhir.FhirConstructorOptions = {}) {
    super(source, options);
    this.resourceType = 'Person';
    if (source['identifier']) { this.identifier = source.identifier.map((x) => new fhir.Identifier(x)); }
    else { this.identifier = []; }
    if (source['name']) { this.name = source.name.map((x) => new fhir.HumanName(x)); }
    else { this.name = []; }
    if (source['telecom']) { this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x)); }
    else { this.telecom = []; }
    if (source['gender']) { this.gender = new fhir.FhirCode<AdministrativeGenderCodeType>({value: source.gender}); }
    if (source['_gender']) {
      if (this.gender) { this.gender.addExtendedProperties(source._gender!); }
      else { this.gender = new fhir.FhirCode<AdministrativeGenderCodeType>(source._gender as Partial<fhir.FhirCode>); }
    }
    if (source['birthDate']) { this.birthDate = new fhir.FhirDate({value: source.birthDate}); }
    if (source['_birthDate']) {
      if (this.birthDate) { this.birthDate.addExtendedProperties(source._birthDate!); }
      else { this.birthDate = new fhir.FhirDate(source._birthDate as Partial<fhir.FhirDateArgs>); }
    }
    if (source['address']) { this.address = source.address.map((x) => new fhir.Address(x)); }
    else { this.address = []; }
    if (source['photo']) { this.photo = new fhir.Attachment(source.photo); }
    if (source['managingOrganization']) { this.managingOrganization = new fhir.Reference(source.managingOrganization); }
    if (source['active']) { this.active = new fhir.FhirBoolean({value: source.active}); }
    if (source['_active']) {
      if (this.active) { this.active.addExtendedProperties(source._active!); }
      else { this.active = new fhir.FhirBoolean(source._active as Partial<fhir.FhirBooleanArgs>); }
    }
    if (source['link']) { this.link = source.link.map((x) => new fhir.PersonLink(x)); }
    else { this.link = []; }
  }
  /**
   * Required-bound Value Set for gender (Person.gender)
   */
  public static get genderRequiredCodes() {
    return AdministrativeGenderCodes;
  }
  /**
   * Function to perform basic model validation (e.g., check if required elements are present).
   */
  public override doModelValidation():fhir.FtsIssue[] {
    let issues:fhir.FtsIssue[] = super.doModelValidation();
    if (!this['resourceType']) {
      issues.push({ severity: 'error', code: 'required', diagnostics: 'Missing required property resourceType:"Person" fhir: Person.resourceType:"Person"' });
    }
    if (this["identifier"]) { this.identifier.forEach((x) => { issues.push(...x.doModelValidation()); }) }
    if (this["name"]) { this.name.forEach((x) => { issues.push(...x.doModelValidation()); }) }
    if (this["telecom"]) { this.telecom.forEach((x) => { issues.push(...x.doModelValidation()); }) }
    if (this['gender'] && (!Object.values(AdministrativeGenderCodes).includes(this.gender as any))) {
      issues.push({ severity: 'error', code: 'code-invalid', diagnostics: 'Invalid code property gender?:fhir.FhirCode<AdministrativeGenderCodeType> fhir: Person.gender:code Required binding to: AdministrativeGender' });
    }
    if (this["gender"]) { issues.push(...this.gender.doModelValidation()); }
    if (this["birthDate"]) { issues.push(...this.birthDate.doModelValidation()); }
    if (this["address"]) { this.address.forEach((x) => { issues.push(...x.doModelValidation()); }) }
    if (this["photo"]) { issues.push(...this.photo.doModelValidation()); }
    if (this["managingOrganization"]) { issues.push(...this.managingOrganization.doModelValidation()); }
    if (this["active"]) { issues.push(...this.active.doModelValidation()); }
    if (this["link"]) { this.link.forEach((x) => { issues.push(...x.doModelValidation()); }) }
    return issues;
  }
}
