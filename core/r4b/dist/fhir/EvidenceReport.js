// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: EvidenceReport
import * as fhir from '../fhir.js';
// @ts-ignore
import { ReportRelationTypeVsValidation } from '../fhirValueSets/ReportRelationTypeVsValidation.js';
// @ts-ignore
import { ListModeVsValidation } from '../fhirValueSets/ListModeVsValidation.js';
// @ts-ignore
import { PublicationStatusVsValidation } from '../fhirValueSets/PublicationStatusVsValidation.js';
/**
 * Characteristic.
 */
export class EvidenceReportSubjectCharacteristic extends fhir.BackboneElement {
    /**
     * Default constructor for EvidenceReportSubjectCharacteristic - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueReference']) {
            this.value = new fhir.Reference(source.valueReference);
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueRange']) {
            this.value = new fhir.Range(source.valueRange);
        }
        else {
            this.value = null;
        }
        if (source['exclude']) {
            this.exclude = new fhir.FhirBoolean({ value: source.exclude });
        }
        if (source['_exclude']) {
            if (this.exclude) {
                this.exclude.addExtendedProperties(source._exclude);
            }
            else {
                this.exclude = new fhir.FhirBoolean(source._exclude);
            }
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'EvidenceReport.subject.characteristic';
        }
        this.vRS('code', exp);
        this.vRS('value', exp);
        this.vOS('exclude', exp);
        this.vOS('period', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EvidenceReportSubjectCharacteristic._fts_dataType = 'EvidenceReportSubjectCharacteristic';
/**
 * Internal flag to properly serialize choice-type element EvidenceReport.subject.characteristic.value[x]
 */
EvidenceReportSubjectCharacteristic._fts_valueIsChoice = true;
/**
 * May be used as an expression for search queries and search results
 */
export class EvidenceReportSubject extends fhir.BackboneElement {
    /**
     * Default constructor for EvidenceReportSubject - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['characteristic']) {
            this.characteristic = source.characteristic.map((x) => new fhir.EvidenceReportSubjectCharacteristic(x));
        }
        else {
            this.characteristic = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'EvidenceReport.subject';
        }
        this.vOA('characteristic', exp);
        this.vOA('note', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EvidenceReportSubject._fts_dataType = 'EvidenceReportSubject';
/**
 * A document is a version specific composition.
 */
export class EvidenceReportRelatesTo extends fhir.BackboneElement {
    /**
     * Default constructor for EvidenceReportRelatesTo - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        else {
            this.code = null;
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code);
            }
        }
        if (source['target']) {
            this.target = source.target;
        }
        else if (source['targetIdentifier']) {
            this.target = new fhir.Identifier(source.targetIdentifier);
        }
        else if (source['targetReference']) {
            this.target = new fhir.Reference(source.targetReference);
        }
        else {
            this.target = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'EvidenceReport.relatesTo';
        }
        this.vRSV('code', exp, 'ReportRelationType', ReportRelationTypeVsValidation, 'r');
        this.vRS('target', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EvidenceReportRelatesTo._fts_dataType = 'EvidenceReportRelatesTo';
/**
 * Internal flag to properly serialize choice-type element EvidenceReport.relatesTo.target[x]
 */
EvidenceReportRelatesTo._fts_targetIsChoice = true;
/**
 * The root of the sections that make up the composition.
 */
export class EvidenceReportSection extends fhir.BackboneElement {
    /**
     * Default constructor for EvidenceReportSection - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['_title']) {
            if (this.title) {
                this.title.addExtendedProperties(source._title);
            }
            else {
                this.title = new fhir.FhirString(source._title);
            }
        }
        if (source['focus']) {
            this.focus = new fhir.CodeableConcept(source.focus);
        }
        if (source['focusReference']) {
            this.focusReference = new fhir.Reference(source.focusReference);
        }
        if (source['author']) {
            this.author = source.author.map((x) => new fhir.Reference(x));
        }
        else {
            this.author = [];
        }
        if (source['text']) {
            this.text = new fhir.Narrative(source.text);
        }
        if (source['mode']) {
            this.mode = new fhir.FhirCode({ value: source.mode });
        }
        if (source['_mode']) {
            if (this.mode) {
                this.mode.addExtendedProperties(source._mode);
            }
            else {
                this.mode = new fhir.FhirCode(source._mode);
            }
        }
        if (source['orderedBy']) {
            this.orderedBy = new fhir.CodeableConcept(source.orderedBy);
        }
        if (source['entryClassifier']) {
            this.entryClassifier = source.entryClassifier.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.entryClassifier = [];
        }
        if (source['entryReference']) {
            this.entryReference = source.entryReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.entryReference = [];
        }
        if (source['entryQuantity']) {
            this.entryQuantity = source.entryQuantity.map((x) => new fhir.Quantity(x));
        }
        else {
            this.entryQuantity = [];
        }
        if (source['emptyReason']) {
            this.emptyReason = new fhir.CodeableConcept(source.emptyReason);
        }
        if (source['section']) {
            this.section = source.section.map((x) => new fhir.EvidenceReportSection(x));
        }
        else {
            this.section = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'EvidenceReport.section';
        }
        this.vOS('title', exp);
        this.vOS('focus', exp);
        this.vOS('focusReference', exp);
        this.vOA('author', exp);
        this.vOS('text', exp);
        this.vOSV('mode', exp, 'ListMode', ListModeVsValidation, 'r');
        this.vOS('orderedBy', exp);
        this.vOA('entryClassifier', exp);
        this.vOA('entryReference', exp);
        this.vOA('entryQuantity', exp);
        this.vOS('emptyReason', exp);
        this.vOA('section', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EvidenceReportSection._fts_dataType = 'EvidenceReportSection';
/**
 * The EvidenceReport Resource is a specialized container for a collection of resources and codable concepts, adapted to support compositions of Evidence, EvidenceVariable, and Citation resources and related concepts.
 */
export class EvidenceReport extends fhir.DomainResource {
    /**
     * Default constructor for EvidenceReport - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'EvidenceReport';
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url);
            }
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['useContext']) {
            this.useContext = source.useContext.map((x) => new fhir.UsageContext(x));
        }
        else {
            this.useContext = [];
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['relatedIdentifier']) {
            this.relatedIdentifier = source.relatedIdentifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.relatedIdentifier = [];
        }
        if (source['citeAs']) {
            this.citeAs = source.citeAs;
        }
        else if (source['citeAsReference']) {
            this.citeAs = new fhir.Reference(source.citeAsReference);
        }
        else if (source['citeAsMarkdown']) {
            this.citeAs = new fhir.FhirMarkdown({ value: source.citeAsMarkdown });
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['relatedArtifact']) {
            this.relatedArtifact = source.relatedArtifact.map((x) => new fhir.RelatedArtifact(x));
        }
        else {
            this.relatedArtifact = [];
        }
        if (source['subject']) {
            this.subject = new fhir.EvidenceReportSubject(source.subject);
        }
        else {
            this.subject = null;
        }
        if (source['publisher']) {
            this.publisher = new fhir.FhirString({ value: source.publisher });
        }
        if (source['_publisher']) {
            if (this.publisher) {
                this.publisher.addExtendedProperties(source._publisher);
            }
            else {
                this.publisher = new fhir.FhirString(source._publisher);
            }
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.contact = [];
        }
        if (source['author']) {
            this.author = source.author.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.author = [];
        }
        if (source['editor']) {
            this.editor = source.editor.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.editor = [];
        }
        if (source['reviewer']) {
            this.reviewer = source.reviewer.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.reviewer = [];
        }
        if (source['endorser']) {
            this.endorser = source.endorser.map((x) => new fhir.ContactDetail(x));
        }
        else {
            this.endorser = [];
        }
        if (source['relatesTo']) {
            this.relatesTo = source.relatesTo.map((x) => new fhir.EvidenceReportRelatesTo(x));
        }
        else {
            this.relatesTo = [];
        }
        if (source['section']) {
            this.section = source.section.map((x) => new fhir.EvidenceReportSection(x));
        }
        else {
            this.section = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'EvidenceReport';
        }
        this.vRS('resourceType', exp);
        this.vOS('url', exp);
        this.vRSV('status', exp, 'PublicationStatus', PublicationStatusVsValidation, 'r');
        this.vOA('useContext', exp);
        this.vOA('identifier', exp);
        this.vOA('relatedIdentifier', exp);
        this.vOS('citeAs', exp);
        this.vOS('type', exp);
        this.vOA('note', exp);
        this.vOA('relatedArtifact', exp);
        this.vRS('subject', exp);
        this.vOS('publisher', exp);
        this.vOA('contact', exp);
        this.vOA('author', exp);
        this.vOA('editor', exp);
        this.vOA('reviewer', exp);
        this.vOA('endorser', exp);
        this.vOA('relatesTo', exp);
        this.vOA('section', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
EvidenceReport._fts_dataType = 'EvidenceReport';
/**
 * Internal flag to properly serialize choice-type element EvidenceReport.citeAs[x]
 */
EvidenceReport._fts_citeAsIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXZpZGVuY2VSZXBvcnQuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0V2aWRlbmNlUmVwb3J0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQixnREFBZ0Q7QUFDaEQsa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUVoQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQVFuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLDhCQUE4QixFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFPcEcsYUFBYTtBQUNiLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBZWhGLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQW1EbEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sbUNBQW9DLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUF5QjNFOztPQUVHO0lBQ0gsWUFBWSxTQUEwRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNoSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDckU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1NBQUU7YUFDOUMsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUFFO2FBQ3pGLElBQUksTUFB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LENBQUMsQ0FBQTtRQUN0QixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QixJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQW5LRDs7R0FFRztBQUM2Qiw0QkFBYSxHQUFVLGdCQUFnQixDQUFDO0FBNkJ4RTs7R0FFRztBQUN1QixrQ0FBbUIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBFdmlkZW5jZVJlcG9ydFxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm9jdXNDaGFyYWN0ZXJpc3RpY0NvZGVzLCAgRm9jdXNDaGFyYWN0ZXJpc3RpY0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Gb2N1c0NoYXJhY3RlcmlzdGljQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZvY3VzQ2hhcmFjdGVyaXN0aWNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ZvY3VzQ2hhcmFjdGVyaXN0aWNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlcG9ydFJlbGF0aW9uVHlwZUNvZGVzLCAgUmVwb3J0UmVsYXRpb25UeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcG9ydFJlbGF0aW9uVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXBvcnRSZWxhdGlvblR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcG9ydFJlbGF0aW9uVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXZpZGVuY2VSZXBvcnRTZWN0aW9uQ29kZXMsICBFdmlkZW5jZVJlcG9ydFNlY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXZpZGVuY2VSZXBvcnRTZWN0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV2aWRlbmNlUmVwb3J0U2VjdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXZpZGVuY2VSZXBvcnRTZWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMaXN0TW9kZUNvZGVzLCAgTGlzdE1vZGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGlzdE1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGlzdE1vZGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xpc3RNb2RlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMaXN0T3JkZXJDb2RlcywgIExpc3RPcmRlckNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MaXN0T3JkZXJDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGlzdE9yZGVyVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MaXN0T3JkZXJWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV2aWRlbmNlQ2xhc3NpZmllckNvZGVzLCAgRXZpZGVuY2VDbGFzc2lmaWVyQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V2aWRlbmNlQ2xhc3NpZmllckNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFdmlkZW5jZUNsYXNzaWZpZXJWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V2aWRlbmNlQ2xhc3NpZmllclZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGlzdEVtcHR5UmVhc29uQ29kZXMsICBMaXN0RW1wdHlSZWFzb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGlzdEVtcHR5UmVhc29uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExpc3RFbXB0eVJlYXNvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGlzdEVtcHR5UmVhc29uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c0NvZGVzLCAgUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFdmlkZW5jZVJlcG9ydFR5cGVDb2RlcywgIEV2aWRlbmNlUmVwb3J0VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FdmlkZW5jZVJlcG9ydFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXZpZGVuY2VSZXBvcnRUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FdmlkZW5jZVJlcG9ydFR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRXZpZGVuY2VSZXBvcnRTdWJqZWN0Q2hhcmFjdGVyaXN0aWMgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXZpZGVuY2VSZXBvcnRTdWJqZWN0Q2hhcmFjdGVyaXN0aWNBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBFeGFtcGxlIDEgaXMgYSBDaXRhdGlvbi4gRXhhbXBsZSAyIGlzIGEgdHlwZSBvZiBvdXRjb21lLiBFeGFtcGxlIDMgaXMgYSBzcGVjaWZpYyBvdXRjb21lLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEV4YW1wbGUgMSBpcyBDaXRhdGlvbiAjMzcuIEV4YW1wbGUgMiBpcyBzZWxlY3RpbmcgY2xpbmljYWwgb3V0Y29tZXMuIEV4YW1wbGUgMyBpcyAxLXllYXIgbW9ydGFsaXR5LlxyXG4gICAqL1xyXG4gIHZhbHVlPzogZmhpci5SZWZlcmVuY2V8Zmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLlF1YW50aXR5fGZoaXIuUmFuZ2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4YW1wbGUgMSBpcyBDaXRhdGlvbiAjMzcuIEV4YW1wbGUgMiBpcyBzZWxlY3RpbmcgY2xpbmljYWwgb3V0Y29tZXMuIEV4YW1wbGUgMyBpcyAxLXllYXIgbW9ydGFsaXR5LlxyXG4gICAqL1xyXG4gIHZhbHVlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlIDEgaXMgQ2l0YXRpb24gIzM3LiBFeGFtcGxlIDIgaXMgc2VsZWN0aW5nIGNsaW5pY2FsIG91dGNvbWVzLiBFeGFtcGxlIDMgaXMgMS15ZWFyIG1vcnRhbGl0eS5cclxuICAgKi9cclxuICB2YWx1ZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXhhbXBsZSAxIGlzIENpdGF0aW9uICMzNy4gRXhhbXBsZSAyIGlzIHNlbGVjdGluZyBjbGluaWNhbCBvdXRjb21lcy4gRXhhbXBsZSAzIGlzIDEteWVhciBtb3J0YWxpdHkuXHJcbiAgICovXHJcbiAgdmFsdWVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlIDEgaXMgQ2l0YXRpb24gIzM3LiBFeGFtcGxlIDIgaXMgc2VsZWN0aW5nIGNsaW5pY2FsIG91dGNvbWVzLiBFeGFtcGxlIDMgaXMgMS15ZWFyIG1vcnRhbGl0eS5cclxuICAgKi9cclxuICB2YWx1ZVF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4YW1wbGUgMSBpcyBDaXRhdGlvbiAjMzcuIEV4YW1wbGUgMiBpcyBzZWxlY3RpbmcgY2xpbmljYWwgb3V0Y29tZXMuIEV4YW1wbGUgMyBpcyAxLXllYXIgbW9ydGFsaXR5LlxyXG4gICAqL1xyXG4gIHZhbHVlUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXMgdXNlZCB0byBleHByZXNzIG5vdCB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgZXhjbHVkZT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEV2aWRlbmNlUmVwb3J0LnN1YmplY3QuY2hhcmFjdGVyaXN0aWMuZXhjbHVkZVxyXG4gICAqL1xyXG4gIF9leGNsdWRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaW1lZnJhbWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICBwZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hhcmFjdGVyaXN0aWMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRXZpZGVuY2VSZXBvcnRTdWJqZWN0Q2hhcmFjdGVyaXN0aWMgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdFdmlkZW5jZVJlcG9ydFN1YmplY3RDaGFyYWN0ZXJpc3RpYyc7XHJcbiAgLyoqXHJcbiAgICogRXhhbXBsZSAxIGlzIGEgQ2l0YXRpb24uIEV4YW1wbGUgMiBpcyBhIHR5cGUgb2Ygb3V0Y29tZS4gRXhhbXBsZSAzIGlzIGEgc3BlY2lmaWMgb3V0Y29tZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBFeGFtcGxlIDEgaXMgQ2l0YXRpb24gIzM3LiBFeGFtcGxlIDIgaXMgc2VsZWN0aW5nIGNsaW5pY2FsIG91dGNvbWVzLiBFeGFtcGxlIDMgaXMgMS15ZWFyIG1vcnRhbGl0eS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU6IChmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkZoaXJCb29sZWFufGZoaXIuUXVhbnRpdHl8Zmhpci5SYW5nZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEV2aWRlbmNlUmVwb3J0LnN1YmplY3QuY2hhcmFjdGVyaXN0aWMudmFsdWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdmFsdWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBJcyB1c2VkIHRvIGV4cHJlc3Mgbm90IHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICBwdWJsaWMgZXhjbHVkZT86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWVmcmFtZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRXZpZGVuY2VSZXBvcnRTdWJqZWN0Q2hhcmFjdGVyaXN0aWMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxFdmlkZW5jZVJlcG9ydFN1YmplY3RDaGFyYWN0ZXJpc3RpY0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb2RlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVJlZmVyZW5jZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnZhbHVlUmVmZXJlbmNlKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbHVlQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUJvb2xlYW4nXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UudmFsdWVCb29sZWFufSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVRdWFudGl0eSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UudmFsdWVRdWFudGl0eSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVSYW5nZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UudmFsdWVSYW5nZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhjbHVkZSddKSB7IHRoaXMuZXhjbHVkZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmV4Y2x1ZGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2V4Y2x1ZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5leGNsdWRlKSB7IHRoaXMuZXhjbHVkZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9leGNsdWRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZXhjbHVkZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fZXhjbHVkZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmlvZCddKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5wZXJpb2QpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnRXZpZGVuY2VSZXBvcnQuc3ViamVjdC5jaGFyYWN0ZXJpc3RpYycgfVxyXG4gICAgdGhpcy52UlMoJ2NvZGUnLGV4cClcclxuICAgIHRoaXMudlJTKCd2YWx1ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2V4Y2x1ZGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdwZXJpb2QnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBFdmlkZW5jZVJlcG9ydFN1YmplY3QgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXZpZGVuY2VSZXBvcnRTdWJqZWN0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQ2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgY2hhcmFjdGVyaXN0aWM/OiBmaGlyLkV2aWRlbmNlUmVwb3J0U3ViamVjdENoYXJhY3RlcmlzdGljQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2VkIGZvciBnZW5lcmFsIG5vdGVzIGFuZCBhbm5vdGF0aW9ucyBub3QgY29kZWQgZWxzZXdoZXJlLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkFubm90YXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTWF5IGJlIHVzZWQgYXMgYW4gZXhwcmVzc2lvbiBmb3Igc2VhcmNoIHF1ZXJpZXMgYW5kIHNlYXJjaCByZXN1bHRzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRXZpZGVuY2VSZXBvcnRTdWJqZWN0IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRXZpZGVuY2VSZXBvcnRTdWJqZWN0JztcclxuICAvKipcclxuICAgKiBDaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICBwdWJsaWMgY2hhcmFjdGVyaXN0aWM6IGZoaXIuRXZpZGVuY2VSZXBvcnRTdWJqZWN0Q2hhcmFjdGVyaXN0aWNbXTtcclxuICAvKipcclxuICAgKiBVc2VkIGZvciBnZW5lcmFsIG5vdGVzIGFuZCBhbm5vdGF0aW9ucyBub3QgY29kZWQgZWxzZXdoZXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlOiBmaGlyLkFubm90YXRpb25bXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBFdmlkZW5jZVJlcG9ydFN1YmplY3QgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxFdmlkZW5jZVJlcG9ydFN1YmplY3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY2hhcmFjdGVyaXN0aWMnXSkgeyB0aGlzLmNoYXJhY3RlcmlzdGljID0gc291cmNlLmNoYXJhY3RlcmlzdGljLm1hcCgoeCkgPT4gbmV3IGZoaXIuRXZpZGVuY2VSZXBvcnRTdWJqZWN0Q2hhcmFjdGVyaXN0aWMoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jaGFyYWN0ZXJpc3RpYyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RlJ10pIHsgdGhpcy5ub3RlID0gc291cmNlLm5vdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Bbm5vdGF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubm90ZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnRXZpZGVuY2VSZXBvcnQuc3ViamVjdCcgfVxyXG4gICAgdGhpcy52T0EoJ2NoYXJhY3RlcmlzdGljJyxleHApXHJcbiAgICB0aGlzLnZPQSgnbm90ZScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEV2aWRlbmNlUmVwb3J0UmVsYXRlc1RvIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEV2aWRlbmNlUmVwb3J0UmVsYXRlc1RvQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhpcyBkb2N1bWVudCBhcHBlbmRzIGFub3RoZXIgZG9jdW1lbnQsIHRoZW4gdGhlIGRvY3VtZW50IGNhbm5vdCBiZSBmdWxseSB1bmRlcnN0b29kIHdpdGhvdXQgYWxzbyBhY2Nlc3NpbmcgdGhlIHJlZmVyZW5jZWQgZG9jdW1lbnQuXHJcbiAgICovXHJcbiAgY29kZTogZmhpci5GaGlyQ29kZTxSZXBvcnRSZWxhdGlvblR5cGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRXZpZGVuY2VSZXBvcnQucmVsYXRlc1RvLmNvZGVcclxuICAgKi9cclxuICBfY29kZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCBjb21wb3NpdGlvbi9kb2N1bWVudCBvZiB0aGlzIHJlbGF0aW9uc2hpcC5cclxuICAgKi9cclxuICB0YXJnZXQ/OiBmaGlyLklkZW50aWZpZXJ8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0YXJnZXQgY29tcG9zaXRpb24vZG9jdW1lbnQgb2YgdGhpcyByZWxhdGlvbnNoaXAuXHJcbiAgICovXHJcbiAgdGFyZ2V0SWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0YXJnZXQgY29tcG9zaXRpb24vZG9jdW1lbnQgb2YgdGhpcyByZWxhdGlvbnNoaXAuXHJcbiAgICovXHJcbiAgdGFyZ2V0UmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgZG9jdW1lbnQgaXMgYSB2ZXJzaW9uIHNwZWNpZmljIGNvbXBvc2l0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEV2aWRlbmNlUmVwb3J0UmVsYXRlc1RvIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRXZpZGVuY2VSZXBvcnRSZWxhdGVzVG8nO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgZG9jdW1lbnQgYXBwZW5kcyBhbm90aGVyIGRvY3VtZW50LCB0aGVuIHRoZSBkb2N1bWVudCBjYW5ub3QgYmUgZnVsbHkgdW5kZXJzdG9vZCB3aXRob3V0IGFsc28gYWNjZXNzaW5nIHRoZSByZWZlcmVuY2VkIGRvY3VtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLkZoaXJDb2RlPFJlcG9ydFJlbGF0aW9uVHlwZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0YXJnZXQgY29tcG9zaXRpb24vZG9jdW1lbnQgb2YgdGhpcyByZWxhdGlvbnNoaXAuXHJcbiAgICovXHJcbiAgcHVibGljIHRhcmdldDogKGZoaXIuSWRlbnRpZmllcnxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEV2aWRlbmNlUmVwb3J0LnJlbGF0ZXNUby50YXJnZXRbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdGFyZ2V0SXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRXZpZGVuY2VSZXBvcnRSZWxhdGVzVG8gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxFdmlkZW5jZVJlcG9ydFJlbGF0ZXNUb0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8UmVwb3J0UmVsYXRpb25UeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmNvZGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29kZSkgeyB0aGlzLmNvZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxSZXBvcnRSZWxhdGlvblR5cGVDb2RlVHlwZT4oc291cmNlLl9jb2RlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0YXJnZXQnXSkgeyB0aGlzLnRhcmdldCA9IHNvdXJjZS50YXJnZXQ7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndGFyZ2V0SWRlbnRpZmllciddKSB7IHRoaXMudGFyZ2V0ID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UudGFyZ2V0SWRlbnRpZmllcik7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndGFyZ2V0UmVmZXJlbmNlJ10pIHsgdGhpcy50YXJnZXQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnRhcmdldFJlZmVyZW5jZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRhcmdldCA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdFdmlkZW5jZVJlcG9ydC5yZWxhdGVzVG8nIH1cclxuICAgIHRoaXMudlJTVignY29kZScsZXhwLCdSZXBvcnRSZWxhdGlvblR5cGUnLFJlcG9ydFJlbGF0aW9uVHlwZVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZSUygndGFyZ2V0JyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRXZpZGVuY2VSZXBvcnRTZWN0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEV2aWRlbmNlUmVwb3J0U2VjdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aXRsZSBpZGVudGlmaWVzIHRoZSBzZWN0aW9uIGZvciBhIGh1bWFuIHJlYWRlci4gVGhlIHRpdGxlIG11c3QgYmUgY29uc2lzdGVudCB3aXRoIHRoZSBuYXJyYXRpdmUgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgdGhlIHRhcmdldCBvZiB0aGUgc2VjdGlvbi5jb250ZW50IHJlZmVyZW5jZS4gR2VuZXJhbGx5LCBzZWN0aW9ucyBTSE9VTEQgaGF2ZSB0aXRsZXMsIGJ1dCBpbiBzb21lIGRvY3VtZW50cywgaXQgaXMgdW5uZWNlc3Nhcnkgb3IgaW5hcHByb3ByaWF0ZS4gVHlwaWNhbGx5LCB0aGlzIGlzIHdoZXJlIGEgc2VjdGlvbiBoYXMgc3Vic2VjdGlvbnMgdGhhdCBoYXZlIHRoZWlyIG93biBhZGVxdWF0ZWx5IGRpc3Rpbmd1aXNoaW5nIHRpdGxlLCAgb3IgZG9jdW1lbnRzIHRoYXQgb25seSBoYXZlIGEgc2luZ2xlIHNlY3Rpb24uXHJcbiAgICovXHJcbiAgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRXZpZGVuY2VSZXBvcnQuc2VjdGlvbi50aXRsZVxyXG4gICAqL1xyXG4gIF90aXRsZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGUgaWRlbnRpZmllcyB0aGUgc2VjdGlvbiBmb3IgYW4gYXV0b21hdGVkIHByb2Nlc3NvciBvZiB0aGUgZG9jdW1lbnQuIFRoaXMgaXMgcGFydGljdWxhcmx5IHJlbGV2YW50IHdoZW4gdXNpbmcgcHJvZmlsZXMgdG8gY29udHJvbCB0aGUgc3RydWN0dXJlIG9mIHRoZSBkb2N1bWVudC4gICBcclxuICAgKiBJZiB0aGUgc2VjdGlvbiBoYXMgY29udGVudCAoaW5zdGVhZCBvZiBzdWItc2VjdGlvbnMpLCB0aGUgc2VjdGlvbi5jb2RlIGRvZXMgbm90IGNoYW5nZSB0aGUgbWVhbmluZyBvciBpbnRlcnByZXRhdGlvbiBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyB0aGUgY29udGVudCBvZiB0aGUgc2VjdGlvbiBpbiB0aGUgY29tbWVudHMgZm9yIHRoZSBzZWN0aW9uLmNvZGUuXHJcbiAgICovXHJcbiAgZm9jdXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZGVmaW5pdGlvbmFsIFJlc291cmNlIGlkZW50aWZ5aW5nIHRoZSBraW5kIG9mIGNvbnRlbnQgY29udGFpbmVkIHdpdGhpbiB0aGUgc2VjdGlvbi4gVGhpcyBzaG91bGQgYmUgY29uc2lzdGVudCB3aXRoIHRoZSBzZWN0aW9uIHRpdGxlLlxyXG4gICAqL1xyXG4gIGZvY3VzUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHdobyBpcyByZXNwb25zaWJsZSBmb3IgdGhlIGluZm9ybWF0aW9uIGluIHRoaXMgc2VjdGlvbiwgbm90IG5lY2Vzc2FyaWx5IHdobyB0eXBlZCBpdCBpbi5cclxuICAgKi9cclxuICBhdXRob3I/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRG9jdW1lbnQgcHJvZmlsZXMgbWF5IGRlZmluZSB3aGF0IGNvbnRlbnQgc2hvdWxkIGJlIHJlcHJlc2VudGVkIGluIHRoZSBuYXJyYXRpdmUuXHJcbiAgICovXHJcbiAgdGV4dD86IGZoaXIuTmFycmF0aXZlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIGEgY2hhbmdlIGxpc3QgbXVzdCBub3QgYmUgbWlzdW5kZXJzdG9vZCBhcyBhIGNvbXBsZXRlIGxpc3QuXHJcbiAgICovXHJcbiAgbW9kZT86IGZoaXIuRmhpckNvZGU8TGlzdE1vZGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRXZpZGVuY2VSZXBvcnQuc2VjdGlvbi5tb2RlXHJcbiAgICovXHJcbiAgX21vZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFwcGxpY2F0aW9ucyBTSE9VTEQgcmVuZGVyIG9yZGVyZWQgbGlzdHMgaW4gdGhlIG9yZGVyIHByb3ZpZGVkLCBidXQgTUFZIGFsbG93IHVzZXJzIHRvIHJlLW9yZGVyIGJhc2VkIG9uIHRoZWlyIG93biBwcmVmZXJlbmNlcyBhcyB3ZWxsLiBJZiB0aGVyZSBpcyBubyBvcmRlciBzcGVjaWZpZWQsIHRoZSBvcmRlciBpcyB1bmtub3duLCB0aG91Z2ggdGhlcmUgbWF5IHN0aWxsIGJlIHNvbWUgb3JkZXIuXHJcbiAgICovXHJcbiAgb3JkZXJlZEJ5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpZXMgYW55IHR5cGUgb2YgY2xhc3NpZmljYXRpb24gb2YgdGhlIGV2aWRlbmNlIHJlcG9ydC5cclxuICAgKi9cclxuICBlbnRyeUNsYXNzaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgYXJlIG5vIGVudHJpZXMgaW4gdGhlIGxpc3QsIGFuIGVtcHR5UmVhc29uIFNIT1VMRCBiZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBlbnRyeVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBRdWFudGl0eSBhcyBjb250ZW50LlxyXG4gICAqL1xyXG4gIGVudHJ5UXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFyaW91cyByZWFzb25zIGZvciBhbiBlbXB0eSBzZWN0aW9uIG1ha2UgYSBzaWduaWZpY2FudCBpbnRlcnByZXRhdGlvbiB0byBpdHMgaW50ZXJwcmV0YXRpb24uIE5vdGUgdGhhdCB0aGlzIGNvZGUgaXMgZm9yIHVzZSB3aGVuIHRoZSBlbnRpcmUgc2VjdGlvbiBjb250ZW50IGhhcyBiZWVuIHN1cHByZXNzZWQsIGFuZCBub3QgZm9yIHdoZW4gaW5kaXZpZHVhbCBpdGVtcyBhcmUgb21pdHRlZCAtIGltcGxlbWVudGVycyBtYXkgY29uc2lkZXIgdXNpbmcgYSB0ZXh0IG5vdGUgb3IgYSBmbGFnIG9uIGFuIGVudHJ5IGluIHRoZXNlIGNhc2VzLlxyXG4gICAqL1xyXG4gIGVtcHR5UmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOZXN0ZWQgc2VjdGlvbnMgYXJlIHByaW1hcmlseSB1c2VkIHRvIGhlbHAgaHVtYW4gcmVhZGVycyBuYXZpZ2F0ZSB0byBwYXJ0aWN1bGFyIHBvcnRpb25zIG9mIHRoZSBkb2N1bWVudC5cclxuICAgKi9cclxuICBzZWN0aW9uPzogZmhpci5FdmlkZW5jZVJlcG9ydFNlY3Rpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHJvb3Qgb2YgdGhlIHNlY3Rpb25zIHRoYXQgbWFrZSB1cCB0aGUgY29tcG9zaXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRXZpZGVuY2VSZXBvcnRTZWN0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRXZpZGVuY2VSZXBvcnRTZWN0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgdGl0bGUgaWRlbnRpZmllcyB0aGUgc2VjdGlvbiBmb3IgYSBodW1hbiByZWFkZXIuIFRoZSB0aXRsZSBtdXN0IGJlIGNvbnNpc3RlbnQgd2l0aCB0aGUgbmFycmF0aXZlIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIHRoZSB0YXJnZXQgb2YgdGhlIHNlY3Rpb24uY29udGVudCByZWZlcmVuY2UuIEdlbmVyYWxseSwgc2VjdGlvbnMgU0hPVUxEIGhhdmUgdGl0bGVzLCBidXQgaW4gc29tZSBkb2N1bWVudHMsIGl0IGlzIHVubmVjZXNzYXJ5IG9yIGluYXBwcm9wcmlhdGUuIFR5cGljYWxseSwgdGhpcyBpcyB3aGVyZSBhIHNlY3Rpb24gaGFzIHN1YnNlY3Rpb25zIHRoYXQgaGF2ZSB0aGVpciBvd24gYWRlcXVhdGVseSBkaXN0aW5ndWlzaGluZyB0aXRsZSwgIG9yIGRvY3VtZW50cyB0aGF0IG9ubHkgaGF2ZSBhIHNpbmdsZSBzZWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aXRsZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGUgaWRlbnRpZmllcyB0aGUgc2VjdGlvbiBmb3IgYW4gYXV0b21hdGVkIHByb2Nlc3NvciBvZiB0aGUgZG9jdW1lbnQuIFRoaXMgaXMgcGFydGljdWxhcmx5IHJlbGV2YW50IHdoZW4gdXNpbmcgcHJvZmlsZXMgdG8gY29udHJvbCB0aGUgc3RydWN0dXJlIG9mIHRoZSBkb2N1bWVudC4gICBcclxuICAgKiBJZiB0aGUgc2VjdGlvbiBoYXMgY29udGVudCAoaW5zdGVhZCBvZiBzdWItc2VjdGlvbnMpLCB0aGUgc2VjdGlvbi5jb2RlIGRvZXMgbm90IGNoYW5nZSB0aGUgbWVhbmluZyBvciBpbnRlcnByZXRhdGlvbiBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyB0aGUgY29udGVudCBvZiB0aGUgc2VjdGlvbiBpbiB0aGUgY29tbWVudHMgZm9yIHRoZSBzZWN0aW9uLmNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGZvY3VzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZGVmaW5pdGlvbmFsIFJlc291cmNlIGlkZW50aWZ5aW5nIHRoZSBraW5kIG9mIGNvbnRlbnQgY29udGFpbmVkIHdpdGhpbiB0aGUgc2VjdGlvbi4gVGhpcyBzaG91bGQgYmUgY29uc2lzdGVudCB3aXRoIHRoZSBzZWN0aW9uIHRpdGxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb2N1c1JlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHdobyBpcyByZXNwb25zaWJsZSBmb3IgdGhlIGluZm9ybWF0aW9uIGluIHRoaXMgc2VjdGlvbiwgbm90IG5lY2Vzc2FyaWx5IHdobyB0eXBlZCBpdCBpbi5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aG9yOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERvY3VtZW50IHByb2ZpbGVzIG1heSBkZWZpbmUgd2hhdCBjb250ZW50IHNob3VsZCBiZSByZXByZXNlbnRlZCBpbiB0aGUgbmFycmF0aXZlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZXh0PzogZmhpci5OYXJyYXRpdmV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBhIGNoYW5nZSBsaXN0IG11c3Qgbm90IGJlIG1pc3VuZGVyc3Rvb2QgYXMgYSBjb21wbGV0ZSBsaXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RlPzogZmhpci5GaGlyQ29kZTxMaXN0TW9kZUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXBwbGljYXRpb25zIFNIT1VMRCByZW5kZXIgb3JkZXJlZCBsaXN0cyBpbiB0aGUgb3JkZXIgcHJvdmlkZWQsIGJ1dCBNQVkgYWxsb3cgdXNlcnMgdG8gcmUtb3JkZXIgYmFzZWQgb24gdGhlaXIgb3duIHByZWZlcmVuY2VzIGFzIHdlbGwuIElmIHRoZXJlIGlzIG5vIG9yZGVyIHNwZWNpZmllZCwgdGhlIG9yZGVyIGlzIHVua25vd24sIHRob3VnaCB0aGVyZSBtYXkgc3RpbGwgYmUgc29tZSBvcmRlci5cclxuICAgKi9cclxuICBwdWJsaWMgb3JkZXJlZEJ5PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyBhbnkgdHlwZSBvZiBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgZXZpZGVuY2UgcmVwb3J0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRyeUNsYXNzaWZpZXI6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgYXJlIG5vIGVudHJpZXMgaW4gdGhlIGxpc3QsIGFuIGVtcHR5UmVhc29uIFNIT1VMRCBiZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZW50cnlSZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogUXVhbnRpdHkgYXMgY29udGVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZW50cnlRdWFudGl0eTogZmhpci5RdWFudGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YXJpb3VzIHJlYXNvbnMgZm9yIGFuIGVtcHR5IHNlY3Rpb24gbWFrZSBhIHNpZ25pZmljYW50IGludGVycHJldGF0aW9uIHRvIGl0cyBpbnRlcnByZXRhdGlvbi4gTm90ZSB0aGF0IHRoaXMgY29kZSBpcyBmb3IgdXNlIHdoZW4gdGhlIGVudGlyZSBzZWN0aW9uIGNvbnRlbnQgaGFzIGJlZW4gc3VwcHJlc3NlZCwgYW5kIG5vdCBmb3Igd2hlbiBpbmRpdmlkdWFsIGl0ZW1zIGFyZSBvbWl0dGVkIC0gaW1wbGVtZW50ZXJzIG1heSBjb25zaWRlciB1c2luZyBhIHRleHQgbm90ZSBvciBhIGZsYWcgb24gYW4gZW50cnkgaW4gdGhlc2UgY2FzZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGVtcHR5UmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5lc3RlZCBzZWN0aW9ucyBhcmUgcHJpbWFyaWx5IHVzZWQgdG8gaGVscCBodW1hbiByZWFkZXJzIG5hdmlnYXRlIHRvIHBhcnRpY3VsYXIgcG9ydGlvbnMgb2YgdGhlIGRvY3VtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWN0aW9uOiBmaGlyLkV2aWRlbmNlUmVwb3J0U2VjdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEV2aWRlbmNlUmVwb3J0U2VjdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEV2aWRlbmNlUmVwb3J0U2VjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0aXRsZSddKSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRpdGxlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190aXRsZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRpdGxlKSB7IHRoaXMudGl0bGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdGl0bGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50aXRsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl90aXRsZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZm9jdXMnXSkgeyB0aGlzLmZvY3VzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5mb2N1cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZvY3VzUmVmZXJlbmNlJ10pIHsgdGhpcy5mb2N1c1JlZmVyZW5jZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZm9jdXNSZWZlcmVuY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydhdXRob3InXSkgeyB0aGlzLmF1dGhvciA9IHNvdXJjZS5hdXRob3IubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hdXRob3IgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGV4dCddKSB7IHRoaXMudGV4dCA9IG5ldyBmaGlyLk5hcnJhdGl2ZShzb3VyY2UudGV4dCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21vZGUnXSkgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxMaXN0TW9kZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5tb2RlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubW9kZSkgeyB0aGlzLm1vZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbW9kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxMaXN0TW9kZUNvZGVUeXBlPihzb3VyY2UuX21vZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29yZGVyZWRCeSddKSB7IHRoaXMub3JkZXJlZEJ5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5vcmRlcmVkQnkpOyB9XHJcbiAgICBpZiAoc291cmNlWydlbnRyeUNsYXNzaWZpZXInXSkgeyB0aGlzLmVudHJ5Q2xhc3NpZmllciA9IHNvdXJjZS5lbnRyeUNsYXNzaWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lbnRyeUNsYXNzaWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW50cnlSZWZlcmVuY2UnXSkgeyB0aGlzLmVudHJ5UmVmZXJlbmNlID0gc291cmNlLmVudHJ5UmVmZXJlbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZW50cnlSZWZlcmVuY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW50cnlRdWFudGl0eSddKSB7IHRoaXMuZW50cnlRdWFudGl0eSA9IHNvdXJjZS5lbnRyeVF1YW50aXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUXVhbnRpdHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lbnRyeVF1YW50aXR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VtcHR5UmVhc29uJ10pIHsgdGhpcy5lbXB0eVJlYXNvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZW1wdHlSZWFzb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydzZWN0aW9uJ10pIHsgdGhpcy5zZWN0aW9uID0gc291cmNlLnNlY3Rpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5FdmlkZW5jZVJlcG9ydFNlY3Rpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZWN0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdFdmlkZW5jZVJlcG9ydC5zZWN0aW9uJyB9XHJcbiAgICB0aGlzLnZPUygndGl0bGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdmb2N1cycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2ZvY3VzUmVmZXJlbmNlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnYXV0aG9yJyxleHApXHJcbiAgICB0aGlzLnZPUygndGV4dCcsZXhwKVxyXG4gICAgdGhpcy52T1NWKCdtb2RlJyxleHAsJ0xpc3RNb2RlJyxMaXN0TW9kZVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPUygnb3JkZXJlZEJ5JyxleHApXHJcbiAgICB0aGlzLnZPQSgnZW50cnlDbGFzc2lmaWVyJyxleHApXHJcbiAgICB0aGlzLnZPQSgnZW50cnlSZWZlcmVuY2UnLGV4cClcclxuICAgIHRoaXMudk9BKCdlbnRyeVF1YW50aXR5JyxleHApXHJcbiAgICB0aGlzLnZPUygnZW1wdHlSZWFzb24nLGV4cClcclxuICAgIHRoaXMudk9BKCdzZWN0aW9uJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRXZpZGVuY2VSZXBvcnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXZpZGVuY2VSZXBvcnRBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJFdmlkZW5jZVJlcG9ydFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gYmUgYSB1cm46dXVpZDogb3IgYSB1cm46b2lkOiBidXQgcmVhbCBodHRwOiBhZGRyZXNzZXMgYXJlIHByZWZlcnJlZC4gTXVsdGlwbGUgaW5zdGFuY2VzIG1heSBzaGFyZSB0aGUgc2FtZSBVUkwgaWYgdGhleSBoYXZlIGEgZGlzdGluY3QgdmVyc2lvbi5cclxuICAgKi9cclxuICB1cmw/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRXZpZGVuY2VSZXBvcnQudXJsXHJcbiAgICovXHJcbiAgX3VybD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiBzdW1tYXJpZXMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHVzZSB2ZXJzdXMgbm90LlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBFdmlkZW5jZVJlcG9ydC5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBXaGVuIG11bHRpcGxlIHVzZUNvbnRleHRzIGFyZSBzcGVjaWZpZWQsIHRoZXJlIGlzIG5vIGV4cGVjdGF0aW9uIHRoYXQgYWxsIG9yIGFueSBvZiB0aGUgY29udGV4dHMgYXBwbHkuXHJcbiAgICovXHJcbiAgdXNlQ29udGV4dD86IGZoaXIuVXNhZ2VDb250ZXh0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgd2lsbCBjb250YWluIHVuaXF1ZSBpZGVudGlmaWVycyB0aGF0IHN1cHBvcnQgZGUtZHVwbGljYXRpb24gb2YgRXZpZGVuY2VSZXBvcnRzLiBUaGlzIGlkZW50aWZpZXIgY2FuIGJlIHZhbGlkIGZvciBvbmx5IG9uZSBFdmlkZW5jZVJlcG9ydCByZXNvdXJjZS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgaW5jbHVkZSB0cmlhbCByZWdpc3RyeSBpZGVudGlmaWVycywgZS5nLiBOQ1QwNDM3MjYwMiBmcm9tIGNsaW5pY2FsdHJpYWxzLmdvdi4gVGhpcyBpZGVudGlmaWVyIGNhbiBiZSB2YWxpZCBmb3IgbXVsdGlwbGUgRXZpZGVuY2VSZXBvcnQgcmVzb3VyY2VzLlxyXG4gICAqL1xyXG4gIHJlbGF0ZWRJZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiB1c2VkIGZvciByZXBvcnRzIGZvciB3aGljaCBleHRlcm5hbCBjaXRhdGlvbiBpcyBleHBlY3RlZCwgc3VjaCBhcyB1c2UgaW4gc3VwcG9ydCBvZiBzY2hvbGFybHkgcHVibGljYXRpb25zLlxyXG4gICAqL1xyXG4gIGNpdGVBcz86IGZoaXIuUmVmZXJlbmNlfGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiB1c2VkIGZvciByZXBvcnRzIGZvciB3aGljaCBleHRlcm5hbCBjaXRhdGlvbiBpcyBleHBlY3RlZCwgc3VjaCBhcyB1c2UgaW4gc3VwcG9ydCBvZiBzY2hvbGFybHkgcHVibGljYXRpb25zLlxyXG4gICAqL1xyXG4gIGNpdGVBc1JlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogdXNlZCBmb3IgcmVwb3J0cyBmb3Igd2hpY2ggZXh0ZXJuYWwgY2l0YXRpb24gaXMgZXhwZWN0ZWQsIHN1Y2ggYXMgdXNlIGluIHN1cHBvcnQgb2Ygc2Nob2xhcmx5IHB1YmxpY2F0aW9ucy5cclxuICAgKi9cclxuICBjaXRlQXNNYXJrZG93bj86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIHRoZSBraW5kIG9mIHJlcG9ydCwgc3VjaCBhcyBncm91cGluZyBvZiBjbGFzc2lmaWVycywgc2VhcmNoIHJlc3VsdHMsIG9yIGh1bWFuLWNvbXBpbGVkIGV4cHJlc3Npb24uXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlZCBmb3IgZm9vdG5vdGVzIGFuZCBhbm5vdGF0aW9ucy5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMaW5rLCBkZXNjcmlwdGlvbiBvciByZWZlcmVuY2UgdG8gYXJ0aWZhY3QgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXBvcnQuXHJcbiAgICovXHJcbiAgcmVsYXRlZEFydGlmYWN0PzogZmhpci5SZWxhdGVkQXJ0aWZhY3RBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1heSBiZSB1c2VkIGFzIGFuIGV4cHJlc3Npb24gZm9yIHNlYXJjaCBxdWVyaWVzIGFuZCBzZWFyY2ggcmVzdWx0c1xyXG4gICAqL1xyXG4gIHN1YmplY3Q6IGZoaXIuRXZpZGVuY2VSZXBvcnRTdWJqZWN0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHkgYW4gb3JnYW5pemF0aW9uIGJ1dCBtYXkgYmUgYW4gaW5kaXZpZHVhbC4gVGhlIHB1Ymxpc2hlciAob3Igc3Rld2FyZCkgb2YgdGhlIGV2aWRlbmNlIHJlcG9ydCBpcyB0aGUgb3JnYW5pemF0aW9uIG9yIGluZGl2aWR1YWwgcHJpbWFyaWx5IHJlc3BvbnNpYmxlIGZvciB0aGUgbWFpbnRlbmFuY2UgYW5kIHVwa2VlcCBvZiB0aGUgZXZpZGVuY2UgcmVwb3J0LiBUaGlzIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbiB0aGF0IGRldmVsb3BlZCBhbmQgaW5pdGlhbGx5IGF1dGhvcmVkIHRoZSBjb250ZW50LiBUaGUgcHVibGlzaGVyIGlzIHRoZSBwcmltYXJ5IHBvaW50IG9mIGNvbnRhY3QgZm9yIHF1ZXN0aW9ucyBvciBpc3N1ZXMgd2l0aCB0aGUgZXZpZGVuY2UgcmVwb3J0LiBUaGlzIGl0ZW0gU0hPVUxEIGJlIHBvcHVsYXRlZCB1bmxlc3MgdGhlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEV2aWRlbmNlUmVwb3J0LnB1Ymxpc2hlclxyXG4gICAqL1xyXG4gIF9wdWJsaXNoZXI/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2lvbnMgdG8gQ29udGFjdERldGFpbCBpbmNsdWRlOiBjb250YWN0UmVmZXJlbmNlLCBjb250YWN0QWRkcmVzcywgYW5kIGNvbnRyaWJ1dGlvblRpbWUgKERldGFpbHMgYXQ6IGh0dHA6Ly9idWlsZC5maGlyLm9yZy9jbGluaWNhbHJlYXNvbmluZy1tb2R1bGUuaHRtbCkuXHJcbiAgICovXHJcbiAgY29udGFjdD86IGZoaXIuQ29udGFjdERldGFpbEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaW9ucyB0byBDb250YWN0RGV0YWlsIGluY2x1ZGU6IGNvbnRhY3RSZWZlcmVuY2UsIGNvbnRhY3RBZGRyZXNzLCBhbmQgY29udHJpYnV0aW9uVGltZSAoRGV0YWlscyBhdDogaHR0cDovL2J1aWxkLmZoaXIub3JnL2NsaW5pY2FscmVhc29uaW5nLW1vZHVsZS5odG1sKS5cclxuICAgKi9cclxuICBhdXRob3I/OiBmaGlyLkNvbnRhY3REZXRhaWxBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2lvbnMgdG8gQ29udGFjdERldGFpbCBpbmNsdWRlOiBjb250YWN0UmVmZXJlbmNlLCBjb250YWN0QWRkcmVzcywgYW5kIGNvbnRyaWJ1dGlvblRpbWUgKERldGFpbHMgYXQ6IGh0dHA6Ly9idWlsZC5maGlyLm9yZy9jbGluaWNhbHJlYXNvbmluZy1tb2R1bGUuaHRtbCkuXHJcbiAgICovXHJcbiAgZWRpdG9yPzogZmhpci5Db250YWN0RGV0YWlsQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbnNpb25zIHRvIENvbnRhY3REZXRhaWwgaW5jbHVkZTogY29udGFjdFJlZmVyZW5jZSwgY29udGFjdEFkZHJlc3MsIGFuZCBjb250cmlidXRpb25UaW1lIChEZXRhaWxzIGF0OiBodHRwOi8vYnVpbGQuZmhpci5vcmcvY2xpbmljYWxyZWFzb25pbmctbW9kdWxlLmh0bWwpLlxyXG4gICAqL1xyXG4gIHJldmlld2VyPzogZmhpci5Db250YWN0RGV0YWlsQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbnNpb25zIHRvIENvbnRhY3REZXRhaWwgaW5jbHVkZTogY29udGFjdFJlZmVyZW5jZSwgY29udGFjdEFkZHJlc3MsIGFuZCBjb250cmlidXRpb25UaW1lIChEZXRhaWxzIGF0OiBodHRwOi8vYnVpbGQuZmhpci5vcmcvY2xpbmljYWxyZWFzb25pbmctbW9kdWxlLmh0bWwpLlxyXG4gICAqL1xyXG4gIGVuZG9yc2VyPzogZmhpci5Db250YWN0RGV0YWlsQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRvY3VtZW50IGlzIGEgdmVyc2lvbiBzcGVjaWZpYyBjb21wb3NpdGlvbi5cclxuICAgKi9cclxuICByZWxhdGVzVG8/OiBmaGlyLkV2aWRlbmNlUmVwb3J0UmVsYXRlc1RvQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcm9vdCBvZiB0aGUgc2VjdGlvbnMgdGhhdCBtYWtlIHVwIHRoZSBjb21wb3NpdGlvbi5cclxuICAgKi9cclxuICBzZWN0aW9uPzogZmhpci5FdmlkZW5jZVJlcG9ydFNlY3Rpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIEV2aWRlbmNlUmVwb3J0IFJlc291cmNlIGlzIGEgc3BlY2lhbGl6ZWQgY29udGFpbmVyIGZvciBhIGNvbGxlY3Rpb24gb2YgcmVzb3VyY2VzIGFuZCBjb2RhYmxlIGNvbmNlcHRzLCBhZGFwdGVkIHRvIHN1cHBvcnQgY29tcG9zaXRpb25zIG9mIEV2aWRlbmNlLCBFdmlkZW5jZVZhcmlhYmxlLCBhbmQgQ2l0YXRpb24gcmVzb3VyY2VzIGFuZCByZWxhdGVkIGNvbmNlcHRzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEV2aWRlbmNlUmVwb3J0IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdFdmlkZW5jZVJlcG9ydCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJFdmlkZW5jZVJlcG9ydFwiO1xyXG4gIC8qKlxyXG4gICAqIENhbiBiZSBhIHVybjp1dWlkOiBvciBhIHVybjpvaWQ6IGJ1dCByZWFsIGh0dHA6IGFkZHJlc3NlcyBhcmUgcHJlZmVycmVkLiBNdWx0aXBsZSBpbnN0YW5jZXMgbWF5IHNoYXJlIHRoZSBzYW1lIFVSTCBpZiB0aGV5IGhhdmUgYSBkaXN0aW5jdCB2ZXJzaW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cmw/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2Ygc3VtbWFyaWVzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogV2hlbiBtdWx0aXBsZSB1c2VDb250ZXh0cyBhcmUgc3BlY2lmaWVkLCB0aGVyZSBpcyBubyBleHBlY3RhdGlvbiB0aGF0IGFsbCBvciBhbnkgb2YgdGhlIGNvbnRleHRzIGFwcGx5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2VDb250ZXh0OiBmaGlyLlVzYWdlQ29udGV4dFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCB3aWxsIGNvbnRhaW4gdW5pcXVlIGlkZW50aWZpZXJzIHRoYXQgc3VwcG9ydCBkZS1kdXBsaWNhdGlvbiBvZiBFdmlkZW5jZVJlcG9ydHMuIFRoaXMgaWRlbnRpZmllciBjYW4gYmUgdmFsaWQgZm9yIG9ubHkgb25lIEV2aWRlbmNlUmVwb3J0IHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBNYXkgaW5jbHVkZSB0cmlhbCByZWdpc3RyeSBpZGVudGlmaWVycywgZS5nLiBOQ1QwNDM3MjYwMiBmcm9tIGNsaW5pY2FsdHJpYWxzLmdvdi4gVGhpcyBpZGVudGlmaWVyIGNhbiBiZSB2YWxpZCBmb3IgbXVsdGlwbGUgRXZpZGVuY2VSZXBvcnQgcmVzb3VyY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGVkSWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogdXNlZCBmb3IgcmVwb3J0cyBmb3Igd2hpY2ggZXh0ZXJuYWwgY2l0YXRpb24gaXMgZXhwZWN0ZWQsIHN1Y2ggYXMgdXNlIGluIHN1cHBvcnQgb2Ygc2Nob2xhcmx5IHB1YmxpY2F0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgY2l0ZUFzPzogKGZoaXIuUmVmZXJlbmNlfGZoaXIuRmhpck1hcmtkb3duKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBFdmlkZW5jZVJlcG9ydC5jaXRlQXNbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfY2l0ZUFzSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIHRoZSBraW5kIG9mIHJlcG9ydCwgc3VjaCBhcyBncm91cGluZyBvZiBjbGFzc2lmaWVycywgc2VhcmNoIHJlc3VsdHMsIG9yIGh1bWFuLWNvbXBpbGVkIGV4cHJlc3Npb24uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlZCBmb3IgZm9vdG5vdGVzIGFuZCBhbm5vdGF0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZTogZmhpci5Bbm5vdGF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogTGluaywgZGVzY3JpcHRpb24gb3IgcmVmZXJlbmNlIHRvIGFydGlmYWN0IGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVwb3J0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGVkQXJ0aWZhY3Q6IGZoaXIuUmVsYXRlZEFydGlmYWN0W107XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIHVzZWQgYXMgYW4gZXhwcmVzc2lvbiBmb3Igc2VhcmNoIHF1ZXJpZXMgYW5kIHNlYXJjaCByZXN1bHRzXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q6IGZoaXIuRXZpZGVuY2VSZXBvcnRTdWJqZWN0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSBhbiBvcmdhbml6YXRpb24gYnV0IG1heSBiZSBhbiBpbmRpdmlkdWFsLiBUaGUgcHVibGlzaGVyIChvciBzdGV3YXJkKSBvZiB0aGUgZXZpZGVuY2UgcmVwb3J0IGlzIHRoZSBvcmdhbml6YXRpb24gb3IgaW5kaXZpZHVhbCBwcmltYXJpbHkgcmVzcG9uc2libGUgZm9yIHRoZSBtYWludGVuYW5jZSBhbmQgdXBrZWVwIG9mIHRoZSBldmlkZW5jZSByZXBvcnQuIFRoaXMgaXMgbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIGluZGl2aWR1YWwgb3Igb3JnYW5pemF0aW9uIHRoYXQgZGV2ZWxvcGVkIGFuZCBpbml0aWFsbHkgYXV0aG9yZWQgdGhlIGNvbnRlbnQuIFRoZSBwdWJsaXNoZXIgaXMgdGhlIHByaW1hcnkgcG9pbnQgb2YgY29udGFjdCBmb3IgcXVlc3Rpb25zIG9yIGlzc3VlcyB3aXRoIHRoZSBldmlkZW5jZSByZXBvcnQuIFRoaXMgaXRlbSBTSE9VTEQgYmUgcG9wdWxhdGVkIHVubGVzcyB0aGUgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlIGZyb20gY29udGV4dC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVibGlzaGVyPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbnNpb25zIHRvIENvbnRhY3REZXRhaWwgaW5jbHVkZTogY29udGFjdFJlZmVyZW5jZSwgY29udGFjdEFkZHJlc3MsIGFuZCBjb250cmlidXRpb25UaW1lIChEZXRhaWxzIGF0OiBodHRwOi8vYnVpbGQuZmhpci5vcmcvY2xpbmljYWxyZWFzb25pbmctbW9kdWxlLmh0bWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250YWN0OiBmaGlyLkNvbnRhY3REZXRhaWxbXTtcclxuICAvKipcclxuICAgKiBFeHRlbnNpb25zIHRvIENvbnRhY3REZXRhaWwgaW5jbHVkZTogY29udGFjdFJlZmVyZW5jZSwgY29udGFjdEFkZHJlc3MsIGFuZCBjb250cmlidXRpb25UaW1lIChEZXRhaWxzIGF0OiBodHRwOi8vYnVpbGQuZmhpci5vcmcvY2xpbmljYWxyZWFzb25pbmctbW9kdWxlLmh0bWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdXRob3I6IGZoaXIuQ29udGFjdERldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2lvbnMgdG8gQ29udGFjdERldGFpbCBpbmNsdWRlOiBjb250YWN0UmVmZXJlbmNlLCBjb250YWN0QWRkcmVzcywgYW5kIGNvbnRyaWJ1dGlvblRpbWUgKERldGFpbHMgYXQ6IGh0dHA6Ly9idWlsZC5maGlyLm9yZy9jbGluaWNhbHJlYXNvbmluZy1tb2R1bGUuaHRtbCkuXHJcbiAgICovXHJcbiAgcHVibGljIGVkaXRvcjogZmhpci5Db250YWN0RGV0YWlsW107XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaW9ucyB0byBDb250YWN0RGV0YWlsIGluY2x1ZGU6IGNvbnRhY3RSZWZlcmVuY2UsIGNvbnRhY3RBZGRyZXNzLCBhbmQgY29udHJpYnV0aW9uVGltZSAoRGV0YWlscyBhdDogaHR0cDovL2J1aWxkLmZoaXIub3JnL2NsaW5pY2FscmVhc29uaW5nLW1vZHVsZS5odG1sKS5cclxuICAgKi9cclxuICBwdWJsaWMgcmV2aWV3ZXI6IGZoaXIuQ29udGFjdERldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuc2lvbnMgdG8gQ29udGFjdERldGFpbCBpbmNsdWRlOiBjb250YWN0UmVmZXJlbmNlLCBjb250YWN0QWRkcmVzcywgYW5kIGNvbnRyaWJ1dGlvblRpbWUgKERldGFpbHMgYXQ6IGh0dHA6Ly9idWlsZC5maGlyLm9yZy9jbGluaWNhbHJlYXNvbmluZy1tb2R1bGUuaHRtbCkuXHJcbiAgICovXHJcbiAgcHVibGljIGVuZG9yc2VyOiBmaGlyLkNvbnRhY3REZXRhaWxbXTtcclxuICAvKipcclxuICAgKiBBIGRvY3VtZW50IGlzIGEgdmVyc2lvbiBzcGVjaWZpYyBjb21wb3NpdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRlc1RvOiBmaGlyLkV2aWRlbmNlUmVwb3J0UmVsYXRlc1RvW107XHJcbiAgLyoqXHJcbiAgICogVGhlIHJvb3Qgb2YgdGhlIHNlY3Rpb25zIHRoYXQgbWFrZSB1cCB0aGUgY29tcG9zaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHNlY3Rpb246IGZoaXIuRXZpZGVuY2VSZXBvcnRTZWN0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRXZpZGVuY2VSZXBvcnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxFdmlkZW5jZVJlcG9ydEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdFdmlkZW5jZVJlcG9ydCc7XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ191cmwnXSkge1xyXG4gICAgICBpZiAodGhpcy51cmwpIHsgdGhpcy51cmwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXJsISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX3VybCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndXNlQ29udGV4dCddKSB7IHRoaXMudXNlQ29udGV4dCA9IHNvdXJjZS51c2VDb250ZXh0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuVXNhZ2VDb250ZXh0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudXNlQ29udGV4dCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGVkSWRlbnRpZmllciddKSB7IHRoaXMucmVsYXRlZElkZW50aWZpZXIgPSBzb3VyY2UucmVsYXRlZElkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVsYXRlZElkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2l0ZUFzJ10pIHsgdGhpcy5jaXRlQXMgPSBzb3VyY2UuY2l0ZUFzOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2NpdGVBc1JlZmVyZW5jZSddKSB7IHRoaXMuY2l0ZUFzID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5jaXRlQXNSZWZlcmVuY2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2NpdGVBc01hcmtkb3duJ10pIHsgdGhpcy5jaXRlQXMgPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuY2l0ZUFzTWFya2Rvd259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlbGF0ZWRBcnRpZmFjdCddKSB7IHRoaXMucmVsYXRlZEFydGlmYWN0ID0gc291cmNlLnJlbGF0ZWRBcnRpZmFjdC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlbGF0ZWRBcnRpZmFjdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlbGF0ZWRBcnRpZmFjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuRXZpZGVuY2VSZXBvcnRTdWJqZWN0KHNvdXJjZS5zdWJqZWN0KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViamVjdCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3B1Ymxpc2hlciddKSB7IHRoaXMucHVibGlzaGVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wdWJsaXNoZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3B1Ymxpc2hlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLnB1Ymxpc2hlcikgeyB0aGlzLnB1Ymxpc2hlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wdWJsaXNoZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wdWJsaXNoZXIgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcHVibGlzaGVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWN0J10pIHsgdGhpcy5jb250YWN0ID0gc291cmNlLmNvbnRhY3QubWFwKCh4KSA9PiBuZXcgZmhpci5Db250YWN0RGV0YWlsKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29udGFjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhdXRob3InXSkgeyB0aGlzLmF1dGhvciA9IHNvdXJjZS5hdXRob3IubWFwKCh4KSA9PiBuZXcgZmhpci5Db250YWN0RGV0YWlsKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXV0aG9yID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VkaXRvciddKSB7IHRoaXMuZWRpdG9yID0gc291cmNlLmVkaXRvci5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3REZXRhaWwoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lZGl0b3IgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmV2aWV3ZXInXSkgeyB0aGlzLnJldmlld2VyID0gc291cmNlLnJldmlld2VyLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29udGFjdERldGFpbCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJldmlld2VyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuZG9yc2VyJ10pIHsgdGhpcy5lbmRvcnNlciA9IHNvdXJjZS5lbmRvcnNlci5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3REZXRhaWwoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lbmRvcnNlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGVzVG8nXSkgeyB0aGlzLnJlbGF0ZXNUbyA9IHNvdXJjZS5yZWxhdGVzVG8ubWFwKCh4KSA9PiBuZXcgZmhpci5FdmlkZW5jZVJlcG9ydFJlbGF0ZXNUbyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlbGF0ZXNUbyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzZWN0aW9uJ10pIHsgdGhpcy5zZWN0aW9uID0gc291cmNlLnNlY3Rpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5FdmlkZW5jZVJlcG9ydFNlY3Rpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZWN0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdFdmlkZW5jZVJlcG9ydCcgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3VybCcsZXhwKVxyXG4gICAgdGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnUHVibGljYXRpb25TdGF0dXMnLFB1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9BKCd1c2VDb250ZXh0JyxleHApXHJcbiAgICB0aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3JlbGF0ZWRJZGVudGlmaWVyJyxleHApXHJcbiAgICB0aGlzLnZPUygnY2l0ZUFzJyxleHApXHJcbiAgICB0aGlzLnZPUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ25vdGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdyZWxhdGVkQXJ0aWZhY3QnLGV4cClcclxuICAgIHRoaXMudlJTKCdzdWJqZWN0JyxleHApXHJcbiAgICB0aGlzLnZPUygncHVibGlzaGVyJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY29udGFjdCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2F1dGhvcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2VkaXRvcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3Jldmlld2VyJyxleHApXHJcbiAgICB0aGlzLnZPQSgnZW5kb3JzZXInLGV4cClcclxuICAgIHRoaXMudk9BKCdyZWxhdGVzVG8nLGV4cClcclxuICAgIHRoaXMudk9BKCdzZWN0aW9uJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=