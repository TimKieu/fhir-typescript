// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: Bundle
import * as fhir from '../fhir.js';
// @ts-ignore
import { SearchEntryModeVsValidation } from '../fhirValueSets/SearchEntryModeVsValidation.js';
// @ts-ignore
import { HttpVerbVsValidation } from '../fhirValueSets/HttpVerbVsValidation.js';
// @ts-ignore
import { BundleTypeVsValidation } from '../fhirValueSets/BundleTypeVsValidation.js';
/**
 * Both Bundle.link and Bundle.entry.link are defined to support providing additional context when Bundles are used (e.g. [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS)).
 * Bundle.entry.link corresponds to links found in the HTTP header if the resource in the entry was [read](http.html#read) directly.
 * This specification defines some specific uses of Bundle.link for [searching](search.html#conformance) and [paging](http.html#paging), but no specific uses for Bundle.entry.link, and no defined function in a transaction - the meaning is implementation specific.
 */
export class BundleLink extends fhir.BackboneElement {
    /**
     * Default constructor for BundleLink - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['relation']) {
            this.relation = new fhir.FhirString({ value: source.relation });
        }
        else {
            this.relation = null;
        }
        if (source['_relation']) {
            if (this.relation) {
                this.relation.addExtendedProperties(source._relation);
            }
            else {
                this.relation = new fhir.FhirString(source._relation);
            }
        }
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        else {
            this.url = null;
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Bundle.link';
        }
        iss.push(...this.vRS('relation', exp));
        iss.push(...this.vRS('url', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
BundleLink._fts_dataType = 'BundleLink';
/**
 * Information about the search process that lead to the creation of this entry.
 */
export class BundleEntrySearch extends fhir.BackboneElement {
    /**
     * Default constructor for BundleEntrySearch - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['mode']) {
            this.mode = new fhir.FhirCode({ value: source.mode });
        }
        if (source['_mode']) {
            if (this.mode) {
                this.mode.addExtendedProperties(source._mode);
            }
            else {
                this.mode = new fhir.FhirCode(source._mode);
            }
        }
        if (source['score']) {
            this.score = new fhir.FhirDecimal({ value: source.score });
        }
        if (source['_score']) {
            if (this.score) {
                this.score.addExtendedProperties(source._score);
            }
            else {
                this.score = new fhir.FhirDecimal(source._score);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Bundle.entry.search';
        }
        iss.push(...this.vOSV('mode', exp, 'SearchEntryMode', SearchEntryModeVsValidation, 'r'));
        iss.push(...this.vOS('score', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
BundleEntrySearch._fts_dataType = 'BundleEntrySearch';
/**
 * Additional information about how this entry should be processed as part of a transaction or batch.  For history, it shows how the entry was processed to create the version contained in the entry.
 */
export class BundleEntryRequest extends fhir.BackboneElement {
    /**
     * Default constructor for BundleEntryRequest - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['method']) {
            this.method = new fhir.FhirCode({ value: source.method });
        }
        else {
            this.method = null;
        }
        if (source['_method']) {
            if (this.method) {
                this.method.addExtendedProperties(source._method);
            }
            else {
                this.method = new fhir.FhirCode(source._method);
            }
        }
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        else {
            this.url = null;
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url);
            }
        }
        if (source['ifNoneMatch']) {
            this.ifNoneMatch = new fhir.FhirString({ value: source.ifNoneMatch });
        }
        if (source['_ifNoneMatch']) {
            if (this.ifNoneMatch) {
                this.ifNoneMatch.addExtendedProperties(source._ifNoneMatch);
            }
            else {
                this.ifNoneMatch = new fhir.FhirString(source._ifNoneMatch);
            }
        }
        if (source['ifModifiedSince']) {
            this.ifModifiedSince = new fhir.FhirInstant({ value: source.ifModifiedSince });
        }
        if (source['_ifModifiedSince']) {
            if (this.ifModifiedSince) {
                this.ifModifiedSince.addExtendedProperties(source._ifModifiedSince);
            }
            else {
                this.ifModifiedSince = new fhir.FhirInstant(source._ifModifiedSince);
            }
        }
        if (source['ifMatch']) {
            this.ifMatch = new fhir.FhirString({ value: source.ifMatch });
        }
        if (source['_ifMatch']) {
            if (this.ifMatch) {
                this.ifMatch.addExtendedProperties(source._ifMatch);
            }
            else {
                this.ifMatch = new fhir.FhirString(source._ifMatch);
            }
        }
        if (source['ifNoneExist']) {
            this.ifNoneExist = new fhir.FhirString({ value: source.ifNoneExist });
        }
        if (source['_ifNoneExist']) {
            if (this.ifNoneExist) {
                this.ifNoneExist.addExtendedProperties(source._ifNoneExist);
            }
            else {
                this.ifNoneExist = new fhir.FhirString(source._ifNoneExist);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Bundle.entry.request';
        }
        iss.push(...this.vRSV('method', exp, 'HttpVerb', HttpVerbVsValidation, 'r'));
        iss.push(...this.vRS('url', exp));
        iss.push(...this.vOS('ifNoneMatch', exp));
        iss.push(...this.vOS('ifModifiedSince', exp));
        iss.push(...this.vOS('ifMatch', exp));
        iss.push(...this.vOS('ifNoneExist', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
BundleEntryRequest._fts_dataType = 'BundleEntryRequest';
/**
 * Indicates the results of processing the corresponding 'request' entry in the batch or transaction being responded to or what the results of an operation where when returning history.
 */
export class BundleEntryResponse extends fhir.BackboneElement {
    /**
     * Default constructor for BundleEntryResponse - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['status']) {
            this.status = new fhir.FhirString({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirString(source._status);
            }
        }
        if (source['location']) {
            this.location = new fhir.FhirUri({ value: source.location });
        }
        if (source['_location']) {
            if (this.location) {
                this.location.addExtendedProperties(source._location);
            }
            else {
                this.location = new fhir.FhirUri(source._location);
            }
        }
        if (source['etag']) {
            this.etag = new fhir.FhirString({ value: source.etag });
        }
        if (source['_etag']) {
            if (this.etag) {
                this.etag.addExtendedProperties(source._etag);
            }
            else {
                this.etag = new fhir.FhirString(source._etag);
            }
        }
        if (source['lastModified']) {
            this.lastModified = new fhir.FhirInstant({ value: source.lastModified });
        }
        if (source['_lastModified']) {
            if (this.lastModified) {
                this.lastModified.addExtendedProperties(source._lastModified);
            }
            else {
                this.lastModified = new fhir.FhirInstant(source._lastModified);
            }
        }
        if (source['outcome']) {
            this.outcome = (fhir.resourceFactory(source.outcome) ?? undefined);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Bundle.entry.response';
        }
        iss.push(...this.vRS('status', exp));
        iss.push(...this.vOS('location', exp));
        iss.push(...this.vOS('etag', exp));
        iss.push(...this.vOS('lastModified', exp));
        iss.push(...this.vOS('outcome', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
BundleEntryResponse._fts_dataType = 'BundleEntryResponse';
/**
 * An entry in a bundle resource - will either contain a resource or information about a resource (transactions and history only).
 */
export class BundleEntry extends fhir.BackboneElement {
    /**
     * Default constructor for BundleEntry - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['link']) {
            this.link = source.link.map((x) => new fhir.BundleLink(x));
        }
        else {
            this.link = [];
        }
        if (source['fullUrl']) {
            this.fullUrl = new fhir.FhirUri({ value: source.fullUrl });
        }
        if (source['_fullUrl']) {
            if (this.fullUrl) {
                this.fullUrl.addExtendedProperties(source._fullUrl);
            }
            else {
                this.fullUrl = new fhir.FhirUri(source._fullUrl);
            }
        }
        if (source['resource']) {
            this.resource = (fhir.resourceFactory(source.resource) ?? undefined);
        }
        if (source['search']) {
            this.search = new fhir.BundleEntrySearch(source.search);
        }
        if (source['request']) {
            this.request = new fhir.BundleEntryRequest(source.request);
        }
        if (source['response']) {
            this.response = new fhir.BundleEntryResponse(source.response);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Bundle.entry';
        }
        iss.push(...this.vOA('link', exp));
        iss.push(...this.vOS('fullUrl', exp));
        iss.push(...this.vOS('resource', exp));
        iss.push(...this.vOS('search', exp));
        iss.push(...this.vOS('request', exp));
        iss.push(...this.vOS('response', exp));
        return iss;
    }
    /**
     * Access a bundle.entry[].resource as a typed resource
     */
    resourceAs() {
        return this.resource;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
BundleEntry._fts_dataType = 'BundleEntry';
/**
 * A container for a collection of resources.
 */
export class Bundle extends fhir.Resource {
    /**
     * Default constructor for Bundle - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Bundle';
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['timestamp']) {
            this.timestamp = new fhir.FhirInstant({ value: source.timestamp });
        }
        if (source['_timestamp']) {
            if (this.timestamp) {
                this.timestamp.addExtendedProperties(source._timestamp);
            }
            else {
                this.timestamp = new fhir.FhirInstant(source._timestamp);
            }
        }
        if (source['total']) {
            this.total = new fhir.FhirUnsignedInt({ value: source.total });
        }
        if (source['_total']) {
            if (this.total) {
                this.total.addExtendedProperties(source._total);
            }
            else {
                this.total = new fhir.FhirUnsignedInt(source._total);
            }
        }
        if (source['link']) {
            this.link = source.link.map((x) => new fhir.BundleLink(x));
        }
        else {
            this.link = [];
        }
        if (source['entry']) {
            this.entry = source.entry.map((x) => new fhir.BundleEntry(x));
        }
        else {
            this.entry = [];
        }
        if (source['signature']) {
            this.signature = new fhir.Signature(source.signature);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Bundle';
        }
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vRSV('type', exp, 'BundleType', BundleTypeVsValidation, 'r'));
        iss.push(...this.vOS('timestamp', exp));
        iss.push(...this.vOS('total', exp));
        iss.push(...this.vOA('link', exp));
        iss.push(...this.vOA('entry', exp));
        iss.push(...this.vOS('signature', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Bundle._fts_dataType = 'Bundle';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnVuZGxlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9CdW5kbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsd0JBQXdCO0FBRXhCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUc5RixhQUFhO0FBQ2IsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFHaEYsYUFBYTtBQUNiLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBdUJwRjs7OztHQUlHO0FBQ0gsTUFBTSxPQUFPLFVBQVcsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWFsRDs7T0FFRztJQUNILFlBQVksU0FBaUMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDdkYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDckY7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxTQUFVLENBQUMsQ0FBQzthQUFFO2lCQUN6RTtnQkFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsU0FBeUMsQ0FBQyxDQUFDO2FBQUU7U0FDaEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxHQUFHLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbkU7WUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQztTQUFFO1FBQ3pCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2xCLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxJQUFLLENBQUMsQ0FBQzthQUFFO2lCQUMxRDtnQkFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBaUMsQ0FBQyxDQUFDO2FBQUU7U0FDaEY7SUFDSCxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxHQUFHLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFBRSxHQUFHLEdBQUcsYUFBYSxDQUFBO1NBQUU7UUFDdkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXZDRDs7R0FFRztBQUM2Qix3QkFBYSxHQUFVLFlBQVksQ0FBQztBQTZEdEU7O0dBRUc7QUFDSCxNQUFNLE9BQU8saUJBQWtCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFjekQ7O09BRUc7SUFDSCxZQUFZLFNBQXdDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzlGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBMEIsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNyRyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNuQixJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsS0FBTSxDQUFDLENBQUM7YUFBRTtpQkFDN0Q7Z0JBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQTBCLE1BQU0sQ0FBQyxLQUErQixDQUFDLENBQUM7YUFBRTtTQUN6RztRQUNELElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNsRixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsTUFBTyxDQUFDLENBQUM7YUFBRTtpQkFDaEU7Z0JBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE1BQXVDLENBQUMsQ0FBQzthQUFFO1NBQzVGO0lBQ0gsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLHFCQUFxQixDQUFBO1NBQUU7UUFDL0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLEdBQUcsRUFBQyxpQkFBaUIsRUFBQywyQkFBMkIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JGLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUF0Q0Q7O0dBRUc7QUFDNkIsK0JBQWEsR0FBVSxtQkFBbUIsQ0FBQztBQTJGN0U7O0dBRUc7QUFDSCxNQUFNLE9BQU8sa0JBQW1CLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUE2QjFEOztPQUVHO0lBQ0gsWUFBWSxTQUF5QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMvRixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQW1CLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDL0Y7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxPQUFRLENBQUMsQ0FBQzthQUFFO2lCQUNuRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBbUIsTUFBTSxDQUFDLE9BQWlDLENBQUMsQ0FBQzthQUFFO1NBQ3RHO1FBQ0QsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFDLENBQUMsQ0FBQztTQUFFO2FBQ25FO1lBQUUsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUM7U0FBRTtRQUN6QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNsQixJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsSUFBSyxDQUFDLENBQUM7YUFBRTtpQkFDMUQ7Z0JBQUUsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQWlDLENBQUMsQ0FBQzthQUFFO1NBQ2hGO1FBQ0QsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ25HLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQzFCLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxZQUFhLENBQUMsQ0FBQzthQUFFO2lCQUNsRjtnQkFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsWUFBNEMsQ0FBQyxDQUFDO2FBQUU7U0FDdEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLGVBQWUsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNoSCxJQUFJLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQzlCLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtnQkFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxnQkFBaUIsQ0FBQyxDQUFDO2FBQUU7aUJBQzlGO2dCQUFFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxnQkFBaUQsQ0FBQyxDQUFDO2FBQUU7U0FDaEg7UUFDRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdkYsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDdEIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUFFLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQyxDQUFDO2FBQUU7aUJBQ3RFO2dCQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxRQUF3QyxDQUFDLENBQUM7YUFBRTtTQUM5RjtRQUNELElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUNuRyxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUMxQixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsWUFBYSxDQUFDLENBQUM7YUFBRTtpQkFDbEY7Z0JBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFlBQTRDLENBQUMsQ0FBQzthQUFFO1NBQ3RHO0lBQ0gsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLHNCQUFzQixDQUFBO1NBQUU7UUFDaEQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxVQUFVLEVBQUMsb0JBQW9CLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6RSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUEvRUQ7O0dBRUc7QUFDNkIsZ0NBQWEsR0FBVSxvQkFBb0IsQ0FBQztBQXlIOUU7O0dBRUc7QUFDSCxNQUFNLE9BQU8sbUJBQW9CLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUEwQjNEOztPQUVHO0lBQ0gsWUFBWSxTQUEwQyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNoRyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTthQUMvRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUFFLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLE9BQVEsQ0FBQyxDQUFDO2FBQUU7aUJBQ25FO2dCQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxPQUF1QyxDQUFDLENBQUM7YUFBRTtTQUM1RjtRQUNELElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUN2RixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUN2QixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsU0FBVSxDQUFDLENBQUM7YUFBRTtpQkFDekU7Z0JBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQXNDLENBQUMsQ0FBQzthQUFFO1NBQzFGO1FBQ0QsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzlFLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ25CLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQzthQUFFO2lCQUM3RDtnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBcUMsQ0FBQyxDQUFDO2FBQUU7U0FDeEY7UUFDRCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdkcsSUFBSSxNQUFNLENBQUMsZUFBZSxDQUFDLEVBQUU7WUFDM0IsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO2dCQUFFLElBQUksQ0FBQyxZQUFZLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLGFBQWMsQ0FBQyxDQUFDO2FBQUU7aUJBQ3JGO2dCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxhQUE4QyxDQUFDLENBQUM7YUFBRTtTQUMxRztRQUNELElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDO1NBQUU7SUFDaEcsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLHVCQUF1QixDQUFBO1NBQUU7UUFDakQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQWpFRDs7R0FFRztBQUM2QixpQ0FBYSxHQUFVLHFCQUFxQixDQUFDO0FBbUcvRTs7R0FFRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUE4Qm5EOztPQUVHO0lBQ0gsWUFBWSxTQUFrQyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN4RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUM5RTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDeEIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3BGLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQ3RCLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUMsQ0FBQzthQUFFO2lCQUN0RTtnQkFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBcUMsQ0FBQyxDQUFDO2FBQUU7U0FDeEY7UUFDRCxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQztTQUFFO1FBQ2pHLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FBRTtRQUNsRixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDdEYsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUFFO0lBQzVGLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLEdBQUcsR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxjQUFjLENBQUE7U0FBRTtRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFFSDs7T0FFRztJQUNELFVBQVU7UUFDUixPQUFPLElBQUksQ0FBQyxRQUF1QyxDQUFDO0lBQ3RELENBQUM7O0FBbEVEOztHQUVHO0FBQzZCLHlCQUFhLEdBQVUsYUFBYSxDQUFDO0FBNEh2RTs7R0FFRztBQUNILE1BQU0sT0FBTyxNQUFPLFNBQVEsSUFBSSxDQUFDLFFBQVE7SUE4Q3ZDOztPQUVHO0lBQ0gsWUFBWSxTQUE2QixFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNuRixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDO1FBQzdCLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQUU7UUFDdkYsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBcUIsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUMzRjtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQUU7aUJBQzdEO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFxQixNQUFNLENBQUMsS0FBK0IsQ0FBQyxDQUFDO2FBQUU7U0FDcEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDOUYsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFVBQVcsQ0FBQyxDQUFDO2FBQUU7aUJBQzVFO2dCQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxVQUEyQyxDQUFDLENBQUM7YUFBRTtTQUNwRztRQUNELElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsTUFBTyxDQUFDLENBQUM7YUFBRTtpQkFDaEU7Z0JBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQTJDLENBQUMsQ0FBQzthQUFFO1NBQ3BHO1FBQ0QsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzlFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUN4QixJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDbEY7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ3pCLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7SUFDckYsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLFFBQVEsQ0FBQTtTQUFFO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsWUFBWSxFQUFDLHNCQUFzQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0UsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXhGRDs7R0FFRztBQUM2QixvQkFBYSxHQUFVLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNGIuY29yZSB2ZXJzaW9uOiA0LjMuMFxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IEJ1bmRsZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VhcmNoRW50cnlNb2RlQ29kZXMsICBTZWFyY2hFbnRyeU1vZGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VhcmNoRW50cnlNb2RlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlYXJjaEVudHJ5TW9kZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VhcmNoRW50cnlNb2RlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBIdHRwVmVyYkNvZGVzLCAgSHR0cFZlcmJDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSHR0cFZlcmJDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSHR0cFZlcmJWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0h0dHBWZXJiVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCdW5kbGVUeXBlQ29kZXMsICBCdW5kbGVUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0J1bmRsZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQnVuZGxlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQnVuZGxlVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBCdW5kbGVMaW5rIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEJ1bmRsZUxpbmtBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIG5hbWUgd2hpY2ggZGV0YWlscyB0aGUgZnVuY3Rpb25hbCB1c2UgZm9yIHRoaXMgbGluayAtIHNlZSBbaHR0cDovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9saW5rLXJlbGF0aW9ucy9saW5rLXJlbGF0aW9ucy54aHRtbCNsaW5rLXJlbGF0aW9ucy0xXShodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL2xpbmstcmVsYXRpb25zL2xpbmstcmVsYXRpb25zLnhodG1sI2xpbmstcmVsYXRpb25zLTEpLlxyXG4gICAqL1xyXG4gIHJlbGF0aW9uOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmxpbmsucmVsYXRpb25cclxuICAgKi9cclxuICBfcmVsYXRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWZlcmVuY2UgZGV0YWlscyBmb3IgdGhlIGxpbmsuXHJcbiAgICovXHJcbiAgdXJsOiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmxpbmsudXJsXHJcbiAgICovXHJcbiAgX3VybD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCb3RoIEJ1bmRsZS5saW5rIGFuZCBCdW5kbGUuZW50cnkubGluayBhcmUgZGVmaW5lZCB0byBzdXBwb3J0IHByb3ZpZGluZyBhZGRpdGlvbmFsIGNvbnRleHQgd2hlbiBCdW5kbGVzIGFyZSB1c2VkIChlLmcuIFtIQVRFT0FTXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hBVEVPQVMpKS4gXHJcbiAqIEJ1bmRsZS5lbnRyeS5saW5rIGNvcnJlc3BvbmRzIHRvIGxpbmtzIGZvdW5kIGluIHRoZSBIVFRQIGhlYWRlciBpZiB0aGUgcmVzb3VyY2UgaW4gdGhlIGVudHJ5IHdhcyBbcmVhZF0oaHR0cC5odG1sI3JlYWQpIGRpcmVjdGx5LlxyXG4gKiBUaGlzIHNwZWNpZmljYXRpb24gZGVmaW5lcyBzb21lIHNwZWNpZmljIHVzZXMgb2YgQnVuZGxlLmxpbmsgZm9yIFtzZWFyY2hpbmddKHNlYXJjaC5odG1sI2NvbmZvcm1hbmNlKSBhbmQgW3BhZ2luZ10oaHR0cC5odG1sI3BhZ2luZyksIGJ1dCBubyBzcGVjaWZpYyB1c2VzIGZvciBCdW5kbGUuZW50cnkubGluaywgYW5kIG5vIGRlZmluZWQgZnVuY3Rpb24gaW4gYSB0cmFuc2FjdGlvbiAtIHRoZSBtZWFuaW5nIGlzIGltcGxlbWVudGF0aW9uIHNwZWNpZmljLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJ1bmRsZUxpbmsgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdCdW5kbGVMaW5rJztcclxuICAvKipcclxuICAgKiBBIG5hbWUgd2hpY2ggZGV0YWlscyB0aGUgZnVuY3Rpb25hbCB1c2UgZm9yIHRoaXMgbGluayAtIHNlZSBbaHR0cDovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9saW5rLXJlbGF0aW9ucy9saW5rLXJlbGF0aW9ucy54aHRtbCNsaW5rLXJlbGF0aW9ucy0xXShodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL2xpbmstcmVsYXRpb25zL2xpbmstcmVsYXRpb25zLnhodG1sI2xpbmstcmVsYXRpb25zLTEpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGlvbjogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlZmVyZW5jZSBkZXRhaWxzIGZvciB0aGUgbGluay5cclxuICAgKi9cclxuICBwdWJsaWMgdXJsOiBmaGlyLkZoaXJVcml8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBCdW5kbGVMaW5rIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QnVuZGxlTGlua0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGlvbiddKSB7IHRoaXMucmVsYXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnJlbGF0aW9ufSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlbGF0aW9uID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlbGF0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVsYXRpb24pIHsgdGhpcy5yZWxhdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZWxhdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlbGF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3JlbGF0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnVybCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ191cmwnXSkge1xyXG4gICAgICBpZiAodGhpcy51cmwpIHsgdGhpcy51cmwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXJsISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX3VybCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0J1bmRsZS5saW5rJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncmVsYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3VybCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQnVuZGxlRW50cnlTZWFyY2ggdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnVuZGxlRW50cnlTZWFyY2hBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBvbmx5IG9uZSBtb2RlLiBJbiBzb21lIGNvcm5lciBjYXNlcywgYSByZXNvdXJjZSBtYXkgYmUgaW5jbHVkZWQgYmVjYXVzZSBpdCBpcyBib3RoIGEgbWF0Y2ggYW5kIGFuIGluY2x1ZGUuIEluIHRoZXNlIGNpcmN1bXN0YW5jZXMsICdtYXRjaCcgdGFrZXMgcHJlY2VkZW5jZS5cclxuICAgKi9cclxuICBtb2RlPzogZmhpci5GaGlyQ29kZTxTZWFyY2hFbnRyeU1vZGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmVudHJ5LnNlYXJjaC5tb2RlXHJcbiAgICovXHJcbiAgX21vZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFNlcnZlcnMgYXJlIG5vdCByZXF1aXJlZCB0byByZXR1cm4gYSByYW5raW5nIHNjb3JlLiAxIGlzIG1vc3QgcmVsZXZhbnQsIGFuZCAwIGlzIGxlYXN0IHJlbGV2YW50LiBPZnRlbiwgc2VhcmNoIHJlc3VsdHMgYXJlIHNvcnRlZCBieSBzY29yZSwgYnV0IHRoZSBjbGllbnQgbWF5IHNwZWNpZnkgYSBkaWZmZXJlbnQgc29ydCBvcmRlci5cclxuICAgKiBTZWUgW1BhdGllbnQgTWF0Y2hdKHBhdGllbnQtb3BlcmF0aW9uLW1hdGNoLmh0bWwpIGZvciB0aGUgRU1QSSBzZWFyY2ggd2hpY2ggcmVsYXRlcyB0byB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgc2NvcmU/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEJ1bmRsZS5lbnRyeS5zZWFyY2guc2NvcmVcclxuICAgKi9cclxuICBfc2NvcmU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHNlYXJjaCBwcm9jZXNzIHRoYXQgbGVhZCB0byB0aGUgY3JlYXRpb24gb2YgdGhpcyBlbnRyeS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdW5kbGVFbnRyeVNlYXJjaCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0J1bmRsZUVudHJ5U2VhcmNoJztcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBvbmx5IG9uZSBtb2RlLiBJbiBzb21lIGNvcm5lciBjYXNlcywgYSByZXNvdXJjZSBtYXkgYmUgaW5jbHVkZWQgYmVjYXVzZSBpdCBpcyBib3RoIGEgbWF0Y2ggYW5kIGFuIGluY2x1ZGUuIEluIHRoZXNlIGNpcmN1bXN0YW5jZXMsICdtYXRjaCcgdGFrZXMgcHJlY2VkZW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kZT86IGZoaXIuRmhpckNvZGU8U2VhcmNoRW50cnlNb2RlQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTZXJ2ZXJzIGFyZSBub3QgcmVxdWlyZWQgdG8gcmV0dXJuIGEgcmFua2luZyBzY29yZS4gMSBpcyBtb3N0IHJlbGV2YW50LCBhbmQgMCBpcyBsZWFzdCByZWxldmFudC4gT2Z0ZW4sIHNlYXJjaCByZXN1bHRzIGFyZSBzb3J0ZWQgYnkgc2NvcmUsIGJ1dCB0aGUgY2xpZW50IG1heSBzcGVjaWZ5IGEgZGlmZmVyZW50IHNvcnQgb3JkZXIuXHJcbiAgICogU2VlIFtQYXRpZW50IE1hdGNoXShwYXRpZW50LW9wZXJhdGlvbi1tYXRjaC5odG1sKSBmb3IgdGhlIEVNUEkgc2VhcmNoIHdoaWNoIHJlbGF0ZXMgdG8gdGhpcyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzY29yZT86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEJ1bmRsZUVudHJ5U2VhcmNoIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QnVuZGxlRW50cnlTZWFyY2hBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbW9kZSddKSB7IHRoaXMubW9kZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFNlYXJjaEVudHJ5TW9kZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5tb2RlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubW9kZSkgeyB0aGlzLm1vZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbW9kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxTZWFyY2hFbnRyeU1vZGVDb2RlVHlwZT4oc291cmNlLl9tb2RlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzY29yZSddKSB7IHRoaXMuc2NvcmUgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5zY29yZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc2NvcmUnXSkge1xyXG4gICAgICBpZiAodGhpcy5zY29yZSkgeyB0aGlzLnNjb3JlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Njb3JlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc2NvcmUgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX3Njb3JlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0J1bmRsZS5lbnRyeS5zZWFyY2gnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignbW9kZScsZXhwLCdTZWFyY2hFbnRyeU1vZGUnLFNlYXJjaEVudHJ5TW9kZVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzY29yZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQnVuZGxlRW50cnlSZXF1ZXN0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEJ1bmRsZUVudHJ5UmVxdWVzdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEluIGEgdHJhbnNhY3Rpb24gb3IgYmF0Y2gsIHRoaXMgaXMgdGhlIEhUVFAgYWN0aW9uIHRvIGJlIGV4ZWN1dGVkIGZvciB0aGlzIGVudHJ5LiBJbiBhIGhpc3RvcnkgYnVuZGxlLCB0aGlzIGluZGljYXRlcyB0aGUgSFRUUCBhY3Rpb24gdGhhdCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBtZXRob2Q6IGZoaXIuRmhpckNvZGU8SHR0cFZlcmJDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmVudHJ5LnJlcXVlc3QubWV0aG9kXHJcbiAgICovXHJcbiAgX21ldGhvZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRS5nLiBmb3IgYSBQYXRpZW50IENyZWF0ZSwgdGhlIG1ldGhvZCB3b3VsZCBiZSBcIlBPU1RcIiBhbmQgdGhlIFVSTCB3b3VsZCBiZSBcIlBhdGllbnRcIi4gRm9yIGEgUGF0aWVudCBVcGRhdGUsIHRoZSBtZXRob2Qgd291bGQgYmUgUFVUIGFuZCB0aGUgVVJMIHdvdWxkIGJlIFwiUGF0aWVudC9baWRdXCIuXHJcbiAgICovXHJcbiAgdXJsOiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmVudHJ5LnJlcXVlc3QudXJsXHJcbiAgICovXHJcbiAgX3VybD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIEVUYWcgdmFsdWVzIG1hdGNoLCByZXR1cm4gYSAzMDQgTm90IE1vZGlmaWVkIHN0YXR1cy4gU2VlIHRoZSBBUEkgZG9jdW1lbnRhdGlvbiBmb3IgW1wiQ29uZGl0aW9uYWwgUmVhZFwiXShodHRwLmh0bWwjY3JlYWQpLlxyXG4gICAqL1xyXG4gIGlmTm9uZU1hdGNoPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEJ1bmRsZS5lbnRyeS5yZXF1ZXN0LmlmTm9uZU1hdGNoXHJcbiAgICovXHJcbiAgX2lmTm9uZU1hdGNoPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBPbmx5IHBlcmZvcm0gdGhlIG9wZXJhdGlvbiBpZiB0aGUgbGFzdCB1cGRhdGVkIGRhdGUgbWF0Y2hlcy4gU2VlIHRoZSBBUEkgZG9jdW1lbnRhdGlvbiBmb3IgW1wiQ29uZGl0aW9uYWwgUmVhZFwiXShodHRwLmh0bWwjY3JlYWQpLlxyXG4gICAqL1xyXG4gIGlmTW9kaWZpZWRTaW5jZT86IGZoaXIuRmhpckluc3RhbnR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmVudHJ5LnJlcXVlc3QuaWZNb2RpZmllZFNpbmNlXHJcbiAgICovXHJcbiAgX2lmTW9kaWZpZWRTaW5jZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogT25seSBwZXJmb3JtIHRoZSBvcGVyYXRpb24gaWYgdGhlIEV0YWcgdmFsdWUgbWF0Y2hlcy4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgQVBJIHNlY3Rpb24gW1wiTWFuYWdpbmcgUmVzb3VyY2UgQ29udGVudGlvblwiXShodHRwLmh0bWwjY29uY3VycmVuY3kpLlxyXG4gICAqL1xyXG4gIGlmTWF0Y2g/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmVudHJ5LnJlcXVlc3QuaWZNYXRjaFxyXG4gICAqL1xyXG4gIF9pZk1hdGNoPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbnN0cnVjdCB0aGUgc2VydmVyIG5vdCB0byBwZXJmb3JtIHRoZSBjcmVhdGUgaWYgYSBzcGVjaWZpZWQgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uLCBzZWUgdGhlIEFQSSBkb2N1bWVudGF0aW9uIGZvciBbXCJDb25kaXRpb25hbCBDcmVhdGVcIl0oaHR0cC5odG1sI2NjcmVhdGUpLiBUaGlzIGlzIGp1c3QgdGhlIHF1ZXJ5IHBvcnRpb24gb2YgdGhlIFVSTCAtIHdoYXQgZm9sbG93cyB0aGUgXCI/XCIgKG5vdCBpbmNsdWRpbmcgdGhlIFwiP1wiKS5cclxuICAgKi9cclxuICBpZk5vbmVFeGlzdD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBCdW5kbGUuZW50cnkucmVxdWVzdC5pZk5vbmVFeGlzdFxyXG4gICAqL1xyXG4gIF9pZk5vbmVFeGlzdD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IGhvdyB0aGlzIGVudHJ5IHNob3VsZCBiZSBwcm9jZXNzZWQgYXMgcGFydCBvZiBhIHRyYW5zYWN0aW9uIG9yIGJhdGNoLiAgRm9yIGhpc3RvcnksIGl0IHNob3dzIGhvdyB0aGUgZW50cnkgd2FzIHByb2Nlc3NlZCB0byBjcmVhdGUgdGhlIHZlcnNpb24gY29udGFpbmVkIGluIHRoZSBlbnRyeS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdW5kbGVFbnRyeVJlcXVlc3QgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdCdW5kbGVFbnRyeVJlcXVlc3QnO1xyXG4gIC8qKlxyXG4gICAqIEluIGEgdHJhbnNhY3Rpb24gb3IgYmF0Y2gsIHRoaXMgaXMgdGhlIEhUVFAgYWN0aW9uIHRvIGJlIGV4ZWN1dGVkIGZvciB0aGlzIGVudHJ5LiBJbiBhIGhpc3RvcnkgYnVuZGxlLCB0aGlzIGluZGljYXRlcyB0aGUgSFRUUCBhY3Rpb24gdGhhdCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWV0aG9kOiBmaGlyLkZoaXJDb2RlPEh0dHBWZXJiQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRS5nLiBmb3IgYSBQYXRpZW50IENyZWF0ZSwgdGhlIG1ldGhvZCB3b3VsZCBiZSBcIlBPU1RcIiBhbmQgdGhlIFVSTCB3b3VsZCBiZSBcIlBhdGllbnRcIi4gRm9yIGEgUGF0aWVudCBVcGRhdGUsIHRoZSBtZXRob2Qgd291bGQgYmUgUFVUIGFuZCB0aGUgVVJMIHdvdWxkIGJlIFwiUGF0aWVudC9baWRdXCIuXHJcbiAgICovXHJcbiAgcHVibGljIHVybDogZmhpci5GaGlyVXJpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIEVUYWcgdmFsdWVzIG1hdGNoLCByZXR1cm4gYSAzMDQgTm90IE1vZGlmaWVkIHN0YXR1cy4gU2VlIHRoZSBBUEkgZG9jdW1lbnRhdGlvbiBmb3IgW1wiQ29uZGl0aW9uYWwgUmVhZFwiXShodHRwLmh0bWwjY3JlYWQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZk5vbmVNYXRjaD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT25seSBwZXJmb3JtIHRoZSBvcGVyYXRpb24gaWYgdGhlIGxhc3QgdXBkYXRlZCBkYXRlIG1hdGNoZXMuIFNlZSB0aGUgQVBJIGRvY3VtZW50YXRpb24gZm9yIFtcIkNvbmRpdGlvbmFsIFJlYWRcIl0oaHR0cC5odG1sI2NyZWFkKS5cclxuICAgKi9cclxuICBwdWJsaWMgaWZNb2RpZmllZFNpbmNlPzogZmhpci5GaGlySW5zdGFudHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT25seSBwZXJmb3JtIHRoZSBvcGVyYXRpb24gaWYgdGhlIEV0YWcgdmFsdWUgbWF0Y2hlcy4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgQVBJIHNlY3Rpb24gW1wiTWFuYWdpbmcgUmVzb3VyY2UgQ29udGVudGlvblwiXShodHRwLmh0bWwjY29uY3VycmVuY3kpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZk1hdGNoPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnN0cnVjdCB0aGUgc2VydmVyIG5vdCB0byBwZXJmb3JtIHRoZSBjcmVhdGUgaWYgYSBzcGVjaWZpZWQgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uLCBzZWUgdGhlIEFQSSBkb2N1bWVudGF0aW9uIGZvciBbXCJDb25kaXRpb25hbCBDcmVhdGVcIl0oaHR0cC5odG1sI2NjcmVhdGUpLiBUaGlzIGlzIGp1c3QgdGhlIHF1ZXJ5IHBvcnRpb24gb2YgdGhlIFVSTCAtIHdoYXQgZm9sbG93cyB0aGUgXCI/XCIgKG5vdCBpbmNsdWRpbmcgdGhlIFwiP1wiKS5cclxuICAgKi9cclxuICBwdWJsaWMgaWZOb25lRXhpc3Q/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEJ1bmRsZUVudHJ5UmVxdWVzdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEJ1bmRsZUVudHJ5UmVxdWVzdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydtZXRob2QnXSkgeyB0aGlzLm1ldGhvZCA9IG5ldyBmaGlyLkZoaXJDb2RlPEh0dHBWZXJiQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLm1ldGhvZH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tZXRob2QgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfbWV0aG9kJ10pIHtcclxuICAgICAgaWYgKHRoaXMubWV0aG9kKSB7IHRoaXMubWV0aG9kLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX21ldGhvZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1ldGhvZCA9IG5ldyBmaGlyLkZoaXJDb2RlPEh0dHBWZXJiQ29kZVR5cGU+KHNvdXJjZS5fbWV0aG9kIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnVybCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ191cmwnXSkge1xyXG4gICAgICBpZiAodGhpcy51cmwpIHsgdGhpcy51cmwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXJsISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX3VybCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWZOb25lTWF0Y2gnXSkgeyB0aGlzLmlmTm9uZU1hdGNoID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5pZk5vbmVNYXRjaH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfaWZOb25lTWF0Y2gnXSkge1xyXG4gICAgICBpZiAodGhpcy5pZk5vbmVNYXRjaCkgeyB0aGlzLmlmTm9uZU1hdGNoLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2lmTm9uZU1hdGNoISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaWZOb25lTWF0Y2ggPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5faWZOb25lTWF0Y2ggYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2lmTW9kaWZpZWRTaW5jZSddKSB7IHRoaXMuaWZNb2RpZmllZFNpbmNlID0gbmV3IGZoaXIuRmhpckluc3RhbnQoe3ZhbHVlOiBzb3VyY2UuaWZNb2RpZmllZFNpbmNlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pZk1vZGlmaWVkU2luY2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5pZk1vZGlmaWVkU2luY2UpIHsgdGhpcy5pZk1vZGlmaWVkU2luY2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faWZNb2RpZmllZFNpbmNlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaWZNb2RpZmllZFNpbmNlID0gbmV3IGZoaXIuRmhpckluc3RhbnQoc291cmNlLl9pZk1vZGlmaWVkU2luY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnN0YW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpZk1hdGNoJ10pIHsgdGhpcy5pZk1hdGNoID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5pZk1hdGNofSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pZk1hdGNoJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaWZNYXRjaCkgeyB0aGlzLmlmTWF0Y2guYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faWZNYXRjaCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmlmTWF0Y2ggPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5faWZNYXRjaCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWZOb25lRXhpc3QnXSkgeyB0aGlzLmlmTm9uZUV4aXN0ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5pZk5vbmVFeGlzdH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfaWZOb25lRXhpc3QnXSkge1xyXG4gICAgICBpZiAodGhpcy5pZk5vbmVFeGlzdCkgeyB0aGlzLmlmTm9uZUV4aXN0LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2lmTm9uZUV4aXN0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaWZOb25lRXhpc3QgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5faWZOb25lRXhpc3QgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdCdW5kbGUuZW50cnkucmVxdWVzdCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdtZXRob2QnLGV4cCwnSHR0cFZlcmInLEh0dHBWZXJiVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3VybCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaWZOb25lTWF0Y2gnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2lmTW9kaWZpZWRTaW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaWZNYXRjaCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaWZOb25lRXhpc3QnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEJ1bmRsZUVudHJ5UmVzcG9uc2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnVuZGxlRW50cnlSZXNwb25zZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgY29kZSByZXR1cm5lZCBieSBwcm9jZXNzaW5nIHRoaXMgZW50cnkuIFRoZSBzdGF0dXMgU0hBTEwgc3RhcnQgd2l0aCBhIDMgZGlnaXQgSFRUUCBjb2RlIChlLmcuIDQwNCkgYW5kIG1heSBjb250YWluIHRoZSBzdGFuZGFyZCBIVFRQIGRlc2NyaXB0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3RhdHVzIGNvZGUuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmVudHJ5LnJlc3BvbnNlLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb2NhdGlvbiBoZWFkZXIgY3JlYXRlZCBieSBwcm9jZXNzaW5nIHRoaXMgb3BlcmF0aW9uLCBwb3B1bGF0ZWQgaWYgdGhlIG9wZXJhdGlvbiByZXR1cm5zIGEgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgbG9jYXRpb24/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLmVudHJ5LnJlc3BvbnNlLmxvY2F0aW9uXHJcbiAgICovXHJcbiAgX2xvY2F0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBFdGFncyBtYXRjaCB0aGUgUmVzb3VyY2UubWV0YS52ZXJzaW9uSWQuIFRoZSBFVGFnIGhhcyB0byBtYXRjaCB0aGUgdmVyc2lvbiBpZCBpbiB0aGUgaGVhZGVyIGlmIGEgcmVzb3VyY2UgaXMgaW5jbHVkZWQuXHJcbiAgICovXHJcbiAgZXRhZz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBCdW5kbGUuZW50cnkucmVzcG9uc2UuZXRhZ1xyXG4gICAqL1xyXG4gIF9ldGFnPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGhhcyB0byBtYXRjaCB0aGUgc2FtZSB0aW1lIGluIHRoZSBtZXRhIGhlYWRlciAobWV0YS5sYXN0VXBkYXRlZCkgaWYgYSByZXNvdXJjZSBpcyBpbmNsdWRlZC5cclxuICAgKi9cclxuICBsYXN0TW9kaWZpZWQ/OiBmaGlyLkZoaXJJbnN0YW50fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEJ1bmRsZS5lbnRyeS5yZXNwb25zZS5sYXN0TW9kaWZpZWRcclxuICAgKi9cclxuICBfbGFzdE1vZGlmaWVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBGb3IgYSBQT1NUL1BVVCBvcGVyYXRpb24sIHRoaXMgaXMgdGhlIGVxdWl2YWxlbnQgb3V0Y29tZSB0aGF0IHdvdWxkIGJlIHJldHVybmVkIGZvciBwcmVmZXIgPSBvcGVyYXRpb25vdXRjb21lIC0gZXhjZXB0IHRoYXQgdGhlIHJlc291cmNlIGlzIGFsd2F5cyByZXR1cm5lZCB3aGV0aGVyIG9yIG5vdCB0aGUgb3V0Y29tZSBpcyByZXR1cm5lZC5cclxuICAgKiBUaGlzIG91dGNvbWUgaXMgbm90IHVzZWQgZm9yIGVycm9yIHJlc3BvbnNlcyBpbiBiYXRjaC90cmFuc2FjdGlvbiwgb25seSBmb3IgaGludHMgYW5kIHdhcm5pbmdzLiBJbiBhIGJhdGNoIG9wZXJhdGlvbiwgdGhlIGVycm9yIHdpbGwgYmUgaW4gQnVuZGxlLmVudHJ5LnJlc3BvbnNlLCBhbmQgZm9yIHRyYW5zYWN0aW9uLCB0aGVyZSB3aWxsIGJlIGEgc2luZ2xlIE9wZXJhdGlvbk91dGNvbWUgaW5zdGVhZCBvZiBhIGJ1bmRsZSBpbiB0aGUgY2FzZSBvZiBhbiBlcnJvci5cclxuICAgKi9cclxuICBvdXRjb21lPzogZmhpci5SZXNvdXJjZUFyZ3N8YW55fHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZGljYXRlcyB0aGUgcmVzdWx0cyBvZiBwcm9jZXNzaW5nIHRoZSBjb3JyZXNwb25kaW5nICdyZXF1ZXN0JyBlbnRyeSBpbiB0aGUgYmF0Y2ggb3IgdHJhbnNhY3Rpb24gYmVpbmcgcmVzcG9uZGVkIHRvIG9yIHdoYXQgdGhlIHJlc3VsdHMgb2YgYW4gb3BlcmF0aW9uIHdoZXJlIHdoZW4gcmV0dXJuaW5nIGhpc3RvcnkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQnVuZGxlRW50cnlSZXNwb25zZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0J1bmRsZUVudHJ5UmVzcG9uc2UnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgY29kZSByZXR1cm5lZCBieSBwcm9jZXNzaW5nIHRoaXMgZW50cnkuIFRoZSBzdGF0dXMgU0hBTEwgc3RhcnQgd2l0aCBhIDMgZGlnaXQgSFRUUCBjb2RlIChlLmcuIDQwNCkgYW5kIG1heSBjb250YWluIHRoZSBzdGFuZGFyZCBIVFRQIGRlc2NyaXB0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3RhdHVzIGNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxvY2F0aW9uIGhlYWRlciBjcmVhdGVkIGJ5IHByb2Nlc3NpbmcgdGhpcyBvcGVyYXRpb24sIHBvcHVsYXRlZCBpZiB0aGUgb3BlcmF0aW9uIHJldHVybnMgYSBsb2NhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbG9jYXRpb24/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV0YWdzIG1hdGNoIHRoZSBSZXNvdXJjZS5tZXRhLnZlcnNpb25JZC4gVGhlIEVUYWcgaGFzIHRvIG1hdGNoIHRoZSB2ZXJzaW9uIGlkIGluIHRoZSBoZWFkZXIgaWYgYSByZXNvdXJjZSBpcyBpbmNsdWRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZXRhZz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBoYXMgdG8gbWF0Y2ggdGhlIHNhbWUgdGltZSBpbiB0aGUgbWV0YSBoZWFkZXIgKG1ldGEubGFzdFVwZGF0ZWQpIGlmIGEgcmVzb3VyY2UgaXMgaW5jbHVkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGxhc3RNb2RpZmllZD86IGZoaXIuRmhpckluc3RhbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBhIFBPU1QvUFVUIG9wZXJhdGlvbiwgdGhpcyBpcyB0aGUgZXF1aXZhbGVudCBvdXRjb21lIHRoYXQgd291bGQgYmUgcmV0dXJuZWQgZm9yIHByZWZlciA9IG9wZXJhdGlvbm91dGNvbWUgLSBleGNlcHQgdGhhdCB0aGUgcmVzb3VyY2UgaXMgYWx3YXlzIHJldHVybmVkIHdoZXRoZXIgb3Igbm90IHRoZSBvdXRjb21lIGlzIHJldHVybmVkLlxyXG4gICAqIFRoaXMgb3V0Y29tZSBpcyBub3QgdXNlZCBmb3IgZXJyb3IgcmVzcG9uc2VzIGluIGJhdGNoL3RyYW5zYWN0aW9uLCBvbmx5IGZvciBoaW50cyBhbmQgd2FybmluZ3MuIEluIGEgYmF0Y2ggb3BlcmF0aW9uLCB0aGUgZXJyb3Igd2lsbCBiZSBpbiBCdW5kbGUuZW50cnkucmVzcG9uc2UsIGFuZCBmb3IgdHJhbnNhY3Rpb24sIHRoZXJlIHdpbGwgYmUgYSBzaW5nbGUgT3BlcmF0aW9uT3V0Y29tZSBpbnN0ZWFkIG9mIGEgYnVuZGxlIGluIHRoZSBjYXNlIG9mIGFuIGVycm9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lPzogZmhpci5GaGlyUmVzb3VyY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEJ1bmRsZUVudHJ5UmVzcG9uc2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxCdW5kbGVFbnRyeVJlc3BvbnNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydsb2NhdGlvbiddKSB7IHRoaXMubG9jYXRpb24gPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLmxvY2F0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19sb2NhdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmxvY2F0aW9uKSB7IHRoaXMubG9jYXRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbG9jYXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5sb2NhdGlvbiA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl9sb2NhdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXRhZyddKSB7IHRoaXMuZXRhZyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZXRhZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZXRhZyddKSB7XHJcbiAgICAgIGlmICh0aGlzLmV0YWcpIHsgdGhpcy5ldGFnLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2V0YWchKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5ldGFnID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2V0YWcgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2xhc3RNb2RpZmllZCddKSB7IHRoaXMubGFzdE1vZGlmaWVkID0gbmV3IGZoaXIuRmhpckluc3RhbnQoe3ZhbHVlOiBzb3VyY2UubGFzdE1vZGlmaWVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19sYXN0TW9kaWZpZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5sYXN0TW9kaWZpZWQpIHsgdGhpcy5sYXN0TW9kaWZpZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbGFzdE1vZGlmaWVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubGFzdE1vZGlmaWVkID0gbmV3IGZoaXIuRmhpckluc3RhbnQoc291cmNlLl9sYXN0TW9kaWZpZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnN0YW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvdXRjb21lJ10pIHsgdGhpcy5vdXRjb21lID0gKGZoaXIucmVzb3VyY2VGYWN0b3J5KHNvdXJjZS5vdXRjb21lKSA/PyB1bmRlZmluZWQpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQnVuZGxlLmVudHJ5LnJlc3BvbnNlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnc3RhdHVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdsb2NhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZXRhZycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbGFzdE1vZGlmaWVkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdvdXRjb21lJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBCdW5kbGVFbnRyeSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBCdW5kbGVFbnRyeUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgc2VyaWVzIG9mIGxpbmtzIHRoYXQgcHJvdmlkZSBjb250ZXh0IHRvIHRoaXMgZW50cnkuXHJcbiAgICovXHJcbiAgbGluaz86IGZoaXIuQnVuZGxlTGlua0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogZnVsbFVybCBtaWdodCBub3QgYmUgW3VuaXF1ZSBpbiB0aGUgY29udGV4dCBvZiBhIHJlc291cmNlXShidW5kbGUuaHRtbCNidW5kbGUtdW5pcXVlKS4gTm90ZSB0aGF0IHNpbmNlIFtGSElSIHJlc291cmNlcyBkbyBub3QgbmVlZCB0byBiZSBzZXJ2ZWQgdGhyb3VnaCB0aGUgRkhJUiBBUEldKHJlZmVyZW5jZXMuaHRtbCksIHRoZSBmdWxsVVJMIG1pZ2h0IGJlIGEgVVJOIG9yIGFuIGFic29sdXRlIFVSTCB0aGF0IGRvZXMgbm90IGVuZCB3aXRoIHRoZSBsb2dpY2FsIGlkIG9mIHRoZSByZXNvdXJjZSAoUmVzb3VyY2UuaWQpLiBIb3dldmVyLCBidXQgaWYgdGhlIGZ1bGxVcmwgZG9lcyBsb29rIGxpa2UgYSBSRVNUZnVsIHNlcnZlciBVUkwgKGUuZy4gbWVldHMgdGhlIFtyZWdleF0ocmVmZXJlbmNlcy5odG1sI3JlZ2V4KSwgdGhlbiB0aGUgJ2lkJyBwb3J0aW9uIG9mIHRoZSBmdWxsVXJsIFNIQUxMIGVuZCB3aXRoIHRoZSBSZXNvdXJjZS5pZC5cclxuICAgKiBOb3RlIHRoYXQgdGhlIGZ1bGxVcmwgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBjYW5vbmljYWwgVVJMIC0gaXQncyBhbiBhYnNvbHV0ZSB1cmwgZm9yIGFuIGVuZHBvaW50IHNlcnZpbmcgdGhlIHJlc291cmNlICh0aGVzZSB3aWxsIGhhcHBlbiB0byBoYXZlIHRoZSBzYW1lIHZhbHVlIG9uIHRoZSBjYW5vbmljYWwgc2VydmVyIGZvciB0aGUgcmVzb3VyY2Ugd2l0aCB0aGUgY2Fub25pY2FsIFVSTCkuXHJcbiAgICovXHJcbiAgZnVsbFVybD86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBCdW5kbGUuZW50cnkuZnVsbFVybFxyXG4gICAqL1xyXG4gIF9mdWxsVXJsPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgUmVzb3VyY2UgZm9yIHRoZSBlbnRyeS4gVGhlIHB1cnBvc2UvbWVhbmluZyBvZiB0aGUgcmVzb3VyY2UgaXMgZGV0ZXJtaW5lZCBieSB0aGUgQnVuZGxlLnR5cGUuXHJcbiAgICovXHJcbiAgcmVzb3VyY2U/OiBmaGlyLlJlc291cmNlQXJnc3xhbnl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBzZWFyY2ggcHJvY2VzcyB0aGF0IGxlYWQgdG8gdGhlIGNyZWF0aW9uIG9mIHRoaXMgZW50cnkuXHJcbiAgICovXHJcbiAgc2VhcmNoPzogZmhpci5CdW5kbGVFbnRyeVNlYXJjaEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgaG93IHRoaXMgZW50cnkgc2hvdWxkIGJlIHByb2Nlc3NlZCBhcyBwYXJ0IG9mIGEgdHJhbnNhY3Rpb24gb3IgYmF0Y2guICBGb3IgaGlzdG9yeSwgaXQgc2hvd3MgaG93IHRoZSBlbnRyeSB3YXMgcHJvY2Vzc2VkIHRvIGNyZWF0ZSB0aGUgdmVyc2lvbiBjb250YWluZWQgaW4gdGhlIGVudHJ5LlxyXG4gICAqL1xyXG4gIHJlcXVlc3Q/OiBmaGlyLkJ1bmRsZUVudHJ5UmVxdWVzdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgcmVzdWx0cyBvZiBwcm9jZXNzaW5nIHRoZSBjb3JyZXNwb25kaW5nICdyZXF1ZXN0JyBlbnRyeSBpbiB0aGUgYmF0Y2ggb3IgdHJhbnNhY3Rpb24gYmVpbmcgcmVzcG9uZGVkIHRvIG9yIHdoYXQgdGhlIHJlc3VsdHMgb2YgYW4gb3BlcmF0aW9uIHdoZXJlIHdoZW4gcmV0dXJuaW5nIGhpc3RvcnkuXHJcbiAgICovXHJcbiAgcmVzcG9uc2U/OiBmaGlyLkJ1bmRsZUVudHJ5UmVzcG9uc2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFuIGVudHJ5IGluIGEgYnVuZGxlIHJlc291cmNlIC0gd2lsbCBlaXRoZXIgY29udGFpbiBhIHJlc291cmNlIG9yIGluZm9ybWF0aW9uIGFib3V0IGEgcmVzb3VyY2UgKHRyYW5zYWN0aW9ucyBhbmQgaGlzdG9yeSBvbmx5KS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdW5kbGVFbnRyeSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0J1bmRsZUVudHJ5JztcclxuICAvKipcclxuICAgKiBBIHNlcmllcyBvZiBsaW5rcyB0aGF0IHByb3ZpZGUgY29udGV4dCB0byB0aGlzIGVudHJ5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsaW5rOiBmaGlyLkJ1bmRsZUxpbmtbXTtcclxuICAvKipcclxuICAgKiBmdWxsVXJsIG1pZ2h0IG5vdCBiZSBbdW5pcXVlIGluIHRoZSBjb250ZXh0IG9mIGEgcmVzb3VyY2VdKGJ1bmRsZS5odG1sI2J1bmRsZS11bmlxdWUpLiBOb3RlIHRoYXQgc2luY2UgW0ZISVIgcmVzb3VyY2VzIGRvIG5vdCBuZWVkIHRvIGJlIHNlcnZlZCB0aHJvdWdoIHRoZSBGSElSIEFQSV0ocmVmZXJlbmNlcy5odG1sKSwgdGhlIGZ1bGxVUkwgbWlnaHQgYmUgYSBVUk4gb3IgYW4gYWJzb2x1dGUgVVJMIHRoYXQgZG9lcyBub3QgZW5kIHdpdGggdGhlIGxvZ2ljYWwgaWQgb2YgdGhlIHJlc291cmNlIChSZXNvdXJjZS5pZCkuIEhvd2V2ZXIsIGJ1dCBpZiB0aGUgZnVsbFVybCBkb2VzIGxvb2sgbGlrZSBhIFJFU1RmdWwgc2VydmVyIFVSTCAoZS5nLiBtZWV0cyB0aGUgW3JlZ2V4XShyZWZlcmVuY2VzLmh0bWwjcmVnZXgpLCB0aGVuIHRoZSAnaWQnIHBvcnRpb24gb2YgdGhlIGZ1bGxVcmwgU0hBTEwgZW5kIHdpdGggdGhlIFJlc291cmNlLmlkLlxyXG4gICAqIE5vdGUgdGhhdCB0aGUgZnVsbFVybCBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIGNhbm9uaWNhbCBVUkwgLSBpdCdzIGFuIGFic29sdXRlIHVybCBmb3IgYW4gZW5kcG9pbnQgc2VydmluZyB0aGUgcmVzb3VyY2UgKHRoZXNlIHdpbGwgaGFwcGVuIHRvIGhhdmUgdGhlIHNhbWUgdmFsdWUgb24gdGhlIGNhbm9uaWNhbCBzZXJ2ZXIgZm9yIHRoZSByZXNvdXJjZSB3aXRoIHRoZSBjYW5vbmljYWwgVVJMKS5cclxuICAgKi9cclxuICBwdWJsaWMgZnVsbFVybD86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIFJlc291cmNlIGZvciB0aGUgZW50cnkuIFRoZSBwdXJwb3NlL21lYW5pbmcgb2YgdGhlIHJlc291cmNlIGlzIGRldGVybWluZWQgYnkgdGhlIEJ1bmRsZS50eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNvdXJjZT86IGZoaXIuRmhpclJlc291cmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc2VhcmNoIHByb2Nlc3MgdGhhdCBsZWFkIHRvIHRoZSBjcmVhdGlvbiBvZiB0aGlzIGVudHJ5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWFyY2g/OiBmaGlyLkJ1bmRsZUVudHJ5U2VhcmNofHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IGhvdyB0aGlzIGVudHJ5IHNob3VsZCBiZSBwcm9jZXNzZWQgYXMgcGFydCBvZiBhIHRyYW5zYWN0aW9uIG9yIGJhdGNoLiAgRm9yIGhpc3RvcnksIGl0IHNob3dzIGhvdyB0aGUgZW50cnkgd2FzIHByb2Nlc3NlZCB0byBjcmVhdGUgdGhlIHZlcnNpb24gY29udGFpbmVkIGluIHRoZSBlbnRyeS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdD86IGZoaXIuQnVuZGxlRW50cnlSZXF1ZXN0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHJlc3VsdHMgb2YgcHJvY2Vzc2luZyB0aGUgY29ycmVzcG9uZGluZyAncmVxdWVzdCcgZW50cnkgaW4gdGhlIGJhdGNoIG9yIHRyYW5zYWN0aW9uIGJlaW5nIHJlc3BvbmRlZCB0byBvciB3aGF0IHRoZSByZXN1bHRzIG9mIGFuIG9wZXJhdGlvbiB3aGVyZSB3aGVuIHJldHVybmluZyBoaXN0b3J5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNwb25zZT86IGZoaXIuQnVuZGxlRW50cnlSZXNwb25zZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQnVuZGxlRW50cnkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxCdW5kbGVFbnRyeUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydsaW5rJ10pIHsgdGhpcy5saW5rID0gc291cmNlLmxpbmsubWFwKCh4KSA9PiBuZXcgZmhpci5CdW5kbGVMaW5rKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubGluayA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmdWxsVXJsJ10pIHsgdGhpcy5mdWxsVXJsID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5mdWxsVXJsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19mdWxsVXJsJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZnVsbFVybCkgeyB0aGlzLmZ1bGxVcmwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZnVsbFVybCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZ1bGxVcmwgPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fZnVsbFVybCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzb3VyY2UnXSkgeyB0aGlzLnJlc291cmNlID0gKGZoaXIucmVzb3VyY2VGYWN0b3J5KHNvdXJjZS5yZXNvdXJjZSkgPz8gdW5kZWZpbmVkKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VhcmNoJ10pIHsgdGhpcy5zZWFyY2ggPSBuZXcgZmhpci5CdW5kbGVFbnRyeVNlYXJjaChzb3VyY2Uuc2VhcmNoKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdCddKSB7IHRoaXMucmVxdWVzdCA9IG5ldyBmaGlyLkJ1bmRsZUVudHJ5UmVxdWVzdChzb3VyY2UucmVxdWVzdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc3BvbnNlJ10pIHsgdGhpcy5yZXNwb25zZSA9IG5ldyBmaGlyLkJ1bmRsZUVudHJ5UmVzcG9uc2Uoc291cmNlLnJlc3BvbnNlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0J1bmRsZS5lbnRyeScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2xpbmsnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Z1bGxVcmwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Jlc291cmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzZWFyY2gnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlcXVlc3QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Jlc3BvbnNlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG5cclxuLyoqXHJcbiAqIEFjY2VzcyBhIGJ1bmRsZS5lbnRyeVtdLnJlc291cmNlIGFzIGEgdHlwZWQgcmVzb3VyY2VcclxuICovXHJcbiAgcmVzb3VyY2VBczxCdW5kZUNvbnRlbnRUeXBlID0gZmhpci5GaGlyUmVzb3VyY2U+KCk6IEJ1bmRlQ29udGVudFR5cGV8dW5rbm93biB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXNvdXJjZSBhcyB1bmtub3duIGFzIEJ1bmRlQ29udGVudFR5cGU7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBCdW5kbGUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnVuZGxlQXJncyBleHRlbmRzIGZoaXIuUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQnVuZGxlXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBlcnNpc3RlbnQgaWRlbnRpdHkgZ2VuZXJhbGx5IG9ubHkgbWF0dGVycyBmb3IgYmF0Y2hlcyBvZiB0eXBlIERvY3VtZW50LCBNZXNzYWdlLCBhbmQgQ29sbGVjdGlvbi4gSXQgd291bGQgbm90IG5vcm1hbGx5IGJlIHBvcHVsYXRlZCBmb3Igc2VhcmNoIGFuZCBoaXN0b3J5IHJlc3VsdHMgYW5kIHNlcnZlcnMgaWdub3JlIEJ1bmRsZS5pZGVudGlmaWVyIHdoZW4gcHJvY2Vzc2luZyBiYXRjaGVzIGFuZCB0cmFuc2FjdGlvbnMuIEZvciBEb2N1bWVudHMgIHRoZSAuaWRlbnRpZmllciBTSEFMTCBiZSBwb3B1bGF0ZWQgc3VjaCB0aGF0IHRoZSAuaWRlbnRpZmllciBpcyBnbG9iYWxseSB1bmlxdWUuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0J3MgcG9zc2libGUgdG8gdXNlIGEgYnVuZGxlIGZvciBvdGhlciBwdXJwb3NlcyAoZS5nLiBhIGRvY3VtZW50IGNhbiBiZSBhY2NlcHRlZCBhcyBhIHRyYW5zYWN0aW9uKS4gVGhpcyBpcyBwcmltYXJpbHkgZGVmaW5lZCBzbyB0aGF0IHRoZXJlIGNhbiBiZSBzcGVjaWZpYyBydWxlcyBmb3Igc29tZSBvZiB0aGUgYnVuZGxlIHR5cGVzLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuRmhpckNvZGU8QnVuZGxlVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBCdW5kbGUudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBGb3IgbWFueSBidW5kbGVzLCB0aGUgdGltZXN0YW1wIGlzIGVxdWFsIHRvIC5tZXRhLmxhc3RVcGRhdGVkLCBiZWNhdXNlIHRoZXkgYXJlIG5vdCBzdG9yZWQgKGUuZy4gc2VhcmNoIHJlc3VsdHMpLiBXaGVuIGEgYnVuZGxlIGlzIHBsYWNlZCBpbiBhIHBlcnNpc3RlbnQgc3RvcmUsIC5tZXRhLmxhc3RVcGRhdGVkIHdpbGwgYmUgdXN1YWxseSBiZSBjaGFuZ2VkIGJ5IHRoZSBzZXJ2ZXIuIFdoZW4gdGhlIGJ1bmRsZSBpcyBhIG1lc3NhZ2UsIGEgbWlkZGxld2FyZSBhZ2VudCBhbHRlcmluZyB0aGUgbWVzc2FnZSAoZXZlbiBpZiBub3Qgc3RvcmVkKSBTSE9VTEQgdXBkYXRlIC5tZXRhLmxhc3RVcGRhdGVkLiAudGltZXN0YW1wIGlzIHVzZWQgdG8gdHJhY2sgdGhlIG9yaWdpbmFsIHRpbWUgb2YgdGhlIEJ1bmRsZSwgYW5kIFNIT1VMRCBiZSBwb3B1bGF0ZWQuICBcclxuICAgKiBVc2FnZTpcclxuICAgKiAqIGRvY3VtZW50IDogdGhlIGRhdGUgdGhlIGRvY3VtZW50IHdhcyBjcmVhdGVkLiBOb3RlOiB0aGUgY29tcG9zaXRpb24gbWF5IHByZWRhdGUgdGhlIGRvY3VtZW50LCBvciBiZSBhc3NvY2lhdGVkIHdpdGggbXVsdGlwbGUgZG9jdW1lbnRzLiBUaGUgZGF0ZSBvZiB0aGUgY29tcG9zaXRpb24gLSB0aGUgYXV0aG9yaW5nIHRpbWUgLSBtYXkgYmUgZWFybGllciB0aGFuIHRoZSBkb2N1bWVudCBhc3NlbWJseSB0aW1lXHJcbiAgICogKiBtZXNzYWdlIDogdGhlIGRhdGUgdGhhdCB0aGUgY29udGVudCBvZiB0aGUgbWVzc2FnZSB3YXMgYXNzZW1ibGVkLiBUaGlzIGRhdGUgaXMgbm90IGNoYW5nZWQgYnkgbWlkZGxld2FyZSBlbmdpbmVzIHVubGVzcyB0aGV5IGFkZCBhZGRpdGlvbmFsIGRhdGEgdGhhdCBjaGFuZ2VzIHRoZSBtZWFuaW5nIG9mIHRoZSB0aW1lIG9mIHRoZSBtZXNzYWdlXHJcbiAgICogKiBoaXN0b3J5IDogdGhlIGRhdGUgdGhhdCB0aGUgaGlzdG9yeSB3YXMgYXNzZW1ibGVkLiBUaGlzIHRpbWUgd291bGQgYmUgdXNlZCBhcyB0aGUgX3NpbmNlIHRpbWUgdG8gYXNrIGZvciBzdWJzZXF1ZW50IHVwZGF0ZXNcclxuICAgKiAqIHNlYXJjaHNldCA6IHRoZSB0aW1lIHRoYXQgdGhlIHNlYXJjaCBzZXQgd2FzIGFzc2VtYmxlZC4gTm90ZSB0aGF0IGRpZmZlcmVudCBwYWdlcyBNQVkgaGF2ZSBkaWZmZXJlbnQgdGltZXN0YW1wcyBidXQgbmVlZCBub3QuIEhhdmluZyBkaWZmZXJlbnQgdGltZXN0YW1wcyBkb2VzIG5vdCBpbXBseSB0aGF0IHN1YnNlcXVlbnQgcGFnZXMgd2lsbCByZXByZXNlbnQgb3IgaW5jbHVkZSBjaGFuZ2VzIG1hZGUgc2luY2UgdGhlIGluaXRpYWwgcXVlcnlcclxuICAgKiAqIHRyYW5zYWN0aW9uIHwgdHJhbnNhY3Rpb24tcmVzcG9uc2UgfCBiYXRjaCB8IGJhdGNoLXJlc3BvbnNlIHwgY29sbGVjdGlvbiA6IG5vIHBhcnRpY3VsYXIgYXNzaWduZWQgbWVhbmluZ1xyXG4gICAqIFRoZSB0aW1lc3RhbXAgdmFsdWUgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiB0aGUgbGFzdFVwZGF0ZWQgYW5kIG90aGVyIHRpbWVzdGFtcHMgaW4gdGhlIHJlc291cmNlcyBpbiB0aGUgYnVuZGxlLCBhbmQgaXQgc2hvdWxkIGJlIGVxdWFsIG9yIGVhcmxpZXIgdGhhbiB0aGUgLm1ldGEubGFzdFVwZGF0ZWQgb24gdGhlIEJ1bmRsZSBpdHNlbGYuXHJcbiAgICovXHJcbiAgdGltZXN0YW1wPzogZmhpci5GaGlySW5zdGFudHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBCdW5kbGUudGltZXN0YW1wXHJcbiAgICovXHJcbiAgX3RpbWVzdGFtcD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogT25seSB1c2VkIGlmIHRoZSBidW5kbGUgaXMgYSBzZWFyY2ggcmVzdWx0IHNldC4gVGhlIHRvdGFsIGRvZXMgbm90IGluY2x1ZGUgcmVzb3VyY2VzIHN1Y2ggYXMgT3BlcmF0aW9uT3V0Y29tZSBhbmQgaW5jbHVkZWQgcmVzb3VyY2VzLCBvbmx5IHRoZSB0b3RhbCBudW1iZXIgb2YgbWF0Y2hpbmcgcmVzb3VyY2VzLlxyXG4gICAqL1xyXG4gIHRvdGFsPzogZmhpci5GaGlyVW5zaWduZWRJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQnVuZGxlLnRvdGFsXHJcbiAgICovXHJcbiAgX3RvdGFsPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBCb3RoIEJ1bmRsZS5saW5rIGFuZCBCdW5kbGUuZW50cnkubGluayBhcmUgZGVmaW5lZCB0byBzdXBwb3J0IHByb3ZpZGluZyBhZGRpdGlvbmFsIGNvbnRleHQgd2hlbiBCdW5kbGVzIGFyZSB1c2VkIChlLmcuIFtIQVRFT0FTXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hBVEVPQVMpKS4gXHJcbiAgICogQnVuZGxlLmVudHJ5LmxpbmsgY29ycmVzcG9uZHMgdG8gbGlua3MgZm91bmQgaW4gdGhlIEhUVFAgaGVhZGVyIGlmIHRoZSByZXNvdXJjZSBpbiB0aGUgZW50cnkgd2FzIFtyZWFkXShodHRwLmh0bWwjcmVhZCkgZGlyZWN0bHkuXHJcbiAgICogVGhpcyBzcGVjaWZpY2F0aW9uIGRlZmluZXMgc29tZSBzcGVjaWZpYyB1c2VzIG9mIEJ1bmRsZS5saW5rIGZvciBbc2VhcmNoaW5nXShzZWFyY2guaHRtbCNjb25mb3JtYW5jZSkgYW5kIFtwYWdpbmddKGh0dHAuaHRtbCNwYWdpbmcpLCBidXQgbm8gc3BlY2lmaWMgdXNlcyBmb3IgQnVuZGxlLmVudHJ5LmxpbmssIGFuZCBubyBkZWZpbmVkIGZ1bmN0aW9uIGluIGEgdHJhbnNhY3Rpb24gLSB0aGUgbWVhbmluZyBpcyBpbXBsZW1lbnRhdGlvbiBzcGVjaWZpYy5cclxuICAgKi9cclxuICBsaW5rPzogZmhpci5CdW5kbGVMaW5rQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBlbnRyeSBpbiBhIGJ1bmRsZSByZXNvdXJjZSAtIHdpbGwgZWl0aGVyIGNvbnRhaW4gYSByZXNvdXJjZSBvciBpbmZvcm1hdGlvbiBhYm91dCBhIHJlc291cmNlICh0cmFuc2FjdGlvbnMgYW5kIGhpc3Rvcnkgb25seSkuXHJcbiAgICovXHJcbiAgZW50cnk/OiBmaGlyLkJ1bmRsZUVudHJ5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2lnbmF0dXJlIGNvdWxkIGJlIGNyZWF0ZWQgYnkgdGhlIFwiYXV0aG9yXCIgb2YgdGhlIGJ1bmRsZSBvciBieSB0aGUgb3JpZ2luYXRpbmcgZGV2aWNlLiAgIFJlcXVpcmVtZW50cyBhcm91bmQgaW5jbHVzaW9uIG9mIGEgc2lnbmF0dXJlLCB2ZXJpZmljYXRpb24gb2Ygc2lnbmF0dXJlcyBhbmQgdHJlYXRtZW50IG9mIHNpZ25lZC9ub24tc2lnbmVkIGJ1bmRsZXMgaXMgaW1wbGVtZW50YXRpb24tZW52aXJvbm1lbnQgc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgc2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmVBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgY29udGFpbmVyIGZvciBhIGNvbGxlY3Rpb24gb2YgcmVzb3VyY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJ1bmRsZSBleHRlbmRzIGZoaXIuUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQnVuZGxlJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkJ1bmRsZVwiO1xyXG4gIC8qKlxyXG4gICAqIFBlcnNpc3RlbnQgaWRlbnRpdHkgZ2VuZXJhbGx5IG9ubHkgbWF0dGVycyBmb3IgYmF0Y2hlcyBvZiB0eXBlIERvY3VtZW50LCBNZXNzYWdlLCBhbmQgQ29sbGVjdGlvbi4gSXQgd291bGQgbm90IG5vcm1hbGx5IGJlIHBvcHVsYXRlZCBmb3Igc2VhcmNoIGFuZCBoaXN0b3J5IHJlc3VsdHMgYW5kIHNlcnZlcnMgaWdub3JlIEJ1bmRsZS5pZGVudGlmaWVyIHdoZW4gcHJvY2Vzc2luZyBiYXRjaGVzIGFuZCB0cmFuc2FjdGlvbnMuIEZvciBEb2N1bWVudHMgIHRoZSAuaWRlbnRpZmllciBTSEFMTCBiZSBwb3B1bGF0ZWQgc3VjaCB0aGF0IHRoZSAuaWRlbnRpZmllciBpcyBnbG9iYWxseSB1bmlxdWUuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0J3MgcG9zc2libGUgdG8gdXNlIGEgYnVuZGxlIGZvciBvdGhlciBwdXJwb3NlcyAoZS5nLiBhIGRvY3VtZW50IGNhbiBiZSBhY2NlcHRlZCBhcyBhIHRyYW5zYWN0aW9uKS4gVGhpcyBpcyBwcmltYXJpbHkgZGVmaW5lZCBzbyB0aGF0IHRoZXJlIGNhbiBiZSBzcGVjaWZpYyBydWxlcyBmb3Igc29tZSBvZiB0aGUgYnVuZGxlIHR5cGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkZoaXJDb2RlPEJ1bmRsZVR5cGVDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBGb3IgbWFueSBidW5kbGVzLCB0aGUgdGltZXN0YW1wIGlzIGVxdWFsIHRvIC5tZXRhLmxhc3RVcGRhdGVkLCBiZWNhdXNlIHRoZXkgYXJlIG5vdCBzdG9yZWQgKGUuZy4gc2VhcmNoIHJlc3VsdHMpLiBXaGVuIGEgYnVuZGxlIGlzIHBsYWNlZCBpbiBhIHBlcnNpc3RlbnQgc3RvcmUsIC5tZXRhLmxhc3RVcGRhdGVkIHdpbGwgYmUgdXN1YWxseSBiZSBjaGFuZ2VkIGJ5IHRoZSBzZXJ2ZXIuIFdoZW4gdGhlIGJ1bmRsZSBpcyBhIG1lc3NhZ2UsIGEgbWlkZGxld2FyZSBhZ2VudCBhbHRlcmluZyB0aGUgbWVzc2FnZSAoZXZlbiBpZiBub3Qgc3RvcmVkKSBTSE9VTEQgdXBkYXRlIC5tZXRhLmxhc3RVcGRhdGVkLiAudGltZXN0YW1wIGlzIHVzZWQgdG8gdHJhY2sgdGhlIG9yaWdpbmFsIHRpbWUgb2YgdGhlIEJ1bmRsZSwgYW5kIFNIT1VMRCBiZSBwb3B1bGF0ZWQuICBcclxuICAgKiBVc2FnZTpcclxuICAgKiAqIGRvY3VtZW50IDogdGhlIGRhdGUgdGhlIGRvY3VtZW50IHdhcyBjcmVhdGVkLiBOb3RlOiB0aGUgY29tcG9zaXRpb24gbWF5IHByZWRhdGUgdGhlIGRvY3VtZW50LCBvciBiZSBhc3NvY2lhdGVkIHdpdGggbXVsdGlwbGUgZG9jdW1lbnRzLiBUaGUgZGF0ZSBvZiB0aGUgY29tcG9zaXRpb24gLSB0aGUgYXV0aG9yaW5nIHRpbWUgLSBtYXkgYmUgZWFybGllciB0aGFuIHRoZSBkb2N1bWVudCBhc3NlbWJseSB0aW1lXHJcbiAgICogKiBtZXNzYWdlIDogdGhlIGRhdGUgdGhhdCB0aGUgY29udGVudCBvZiB0aGUgbWVzc2FnZSB3YXMgYXNzZW1ibGVkLiBUaGlzIGRhdGUgaXMgbm90IGNoYW5nZWQgYnkgbWlkZGxld2FyZSBlbmdpbmVzIHVubGVzcyB0aGV5IGFkZCBhZGRpdGlvbmFsIGRhdGEgdGhhdCBjaGFuZ2VzIHRoZSBtZWFuaW5nIG9mIHRoZSB0aW1lIG9mIHRoZSBtZXNzYWdlXHJcbiAgICogKiBoaXN0b3J5IDogdGhlIGRhdGUgdGhhdCB0aGUgaGlzdG9yeSB3YXMgYXNzZW1ibGVkLiBUaGlzIHRpbWUgd291bGQgYmUgdXNlZCBhcyB0aGUgX3NpbmNlIHRpbWUgdG8gYXNrIGZvciBzdWJzZXF1ZW50IHVwZGF0ZXNcclxuICAgKiAqIHNlYXJjaHNldCA6IHRoZSB0aW1lIHRoYXQgdGhlIHNlYXJjaCBzZXQgd2FzIGFzc2VtYmxlZC4gTm90ZSB0aGF0IGRpZmZlcmVudCBwYWdlcyBNQVkgaGF2ZSBkaWZmZXJlbnQgdGltZXN0YW1wcyBidXQgbmVlZCBub3QuIEhhdmluZyBkaWZmZXJlbnQgdGltZXN0YW1wcyBkb2VzIG5vdCBpbXBseSB0aGF0IHN1YnNlcXVlbnQgcGFnZXMgd2lsbCByZXByZXNlbnQgb3IgaW5jbHVkZSBjaGFuZ2VzIG1hZGUgc2luY2UgdGhlIGluaXRpYWwgcXVlcnlcclxuICAgKiAqIHRyYW5zYWN0aW9uIHwgdHJhbnNhY3Rpb24tcmVzcG9uc2UgfCBiYXRjaCB8IGJhdGNoLXJlc3BvbnNlIHwgY29sbGVjdGlvbiA6IG5vIHBhcnRpY3VsYXIgYXNzaWduZWQgbWVhbmluZ1xyXG4gICAqIFRoZSB0aW1lc3RhbXAgdmFsdWUgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiB0aGUgbGFzdFVwZGF0ZWQgYW5kIG90aGVyIHRpbWVzdGFtcHMgaW4gdGhlIHJlc291cmNlcyBpbiB0aGUgYnVuZGxlLCBhbmQgaXQgc2hvdWxkIGJlIGVxdWFsIG9yIGVhcmxpZXIgdGhhbiB0aGUgLm1ldGEubGFzdFVwZGF0ZWQgb24gdGhlIEJ1bmRsZSBpdHNlbGYuXHJcbiAgICovXHJcbiAgcHVibGljIHRpbWVzdGFtcD86IGZoaXIuRmhpckluc3RhbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9ubHkgdXNlZCBpZiB0aGUgYnVuZGxlIGlzIGEgc2VhcmNoIHJlc3VsdCBzZXQuIFRoZSB0b3RhbCBkb2VzIG5vdCBpbmNsdWRlIHJlc291cmNlcyBzdWNoIGFzIE9wZXJhdGlvbk91dGNvbWUgYW5kIGluY2x1ZGVkIHJlc291cmNlcywgb25seSB0aGUgdG90YWwgbnVtYmVyIG9mIG1hdGNoaW5nIHJlc291cmNlcy5cclxuICAgKi9cclxuICBwdWJsaWMgdG90YWw/OiBmaGlyLkZoaXJVbnNpZ25lZEludHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQm90aCBCdW5kbGUubGluayBhbmQgQnVuZGxlLmVudHJ5LmxpbmsgYXJlIGRlZmluZWQgdG8gc3VwcG9ydCBwcm92aWRpbmcgYWRkaXRpb25hbCBjb250ZXh0IHdoZW4gQnVuZGxlcyBhcmUgdXNlZCAoZS5nLiBbSEFURU9BU10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IQVRFT0FTKSkuIFxyXG4gICAqIEJ1bmRsZS5lbnRyeS5saW5rIGNvcnJlc3BvbmRzIHRvIGxpbmtzIGZvdW5kIGluIHRoZSBIVFRQIGhlYWRlciBpZiB0aGUgcmVzb3VyY2UgaW4gdGhlIGVudHJ5IHdhcyBbcmVhZF0oaHR0cC5odG1sI3JlYWQpIGRpcmVjdGx5LlxyXG4gICAqIFRoaXMgc3BlY2lmaWNhdGlvbiBkZWZpbmVzIHNvbWUgc3BlY2lmaWMgdXNlcyBvZiBCdW5kbGUubGluayBmb3IgW3NlYXJjaGluZ10oc2VhcmNoLmh0bWwjY29uZm9ybWFuY2UpIGFuZCBbcGFnaW5nXShodHRwLmh0bWwjcGFnaW5nKSwgYnV0IG5vIHNwZWNpZmljIHVzZXMgZm9yIEJ1bmRsZS5lbnRyeS5saW5rLCBhbmQgbm8gZGVmaW5lZCBmdW5jdGlvbiBpbiBhIHRyYW5zYWN0aW9uIC0gdGhlIG1lYW5pbmcgaXMgaW1wbGVtZW50YXRpb24gc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgcHVibGljIGxpbms6IGZoaXIuQnVuZGxlTGlua1tdO1xyXG4gIC8qKlxyXG4gICAqIEFuIGVudHJ5IGluIGEgYnVuZGxlIHJlc291cmNlIC0gd2lsbCBlaXRoZXIgY29udGFpbiBhIHJlc291cmNlIG9yIGluZm9ybWF0aW9uIGFib3V0IGEgcmVzb3VyY2UgKHRyYW5zYWN0aW9ucyBhbmQgaGlzdG9yeSBvbmx5KS5cclxuICAgKi9cclxuICBwdWJsaWMgZW50cnk6IGZoaXIuQnVuZGxlRW50cnlbXTtcclxuICAvKipcclxuICAgKiBUaGUgc2lnbmF0dXJlIGNvdWxkIGJlIGNyZWF0ZWQgYnkgdGhlIFwiYXV0aG9yXCIgb2YgdGhlIGJ1bmRsZSBvciBieSB0aGUgb3JpZ2luYXRpbmcgZGV2aWNlLiAgIFJlcXVpcmVtZW50cyBhcm91bmQgaW5jbHVzaW9uIG9mIGEgc2lnbmF0dXJlLCB2ZXJpZmljYXRpb24gb2Ygc2lnbmF0dXJlcyBhbmQgdHJlYXRtZW50IG9mIHNpZ25lZC9ub24tc2lnbmVkIGJ1bmRsZXMgaXMgaW1wbGVtZW50YXRpb24tZW52aXJvbm1lbnQgc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgcHVibGljIHNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBCdW5kbGUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxCdW5kbGVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQnVuZGxlJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPEJ1bmRsZVR5cGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPEJ1bmRsZVR5cGVDb2RlVHlwZT4oc291cmNlLl90eXBlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0aW1lc3RhbXAnXSkgeyB0aGlzLnRpbWVzdGFtcCA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHt2YWx1ZTogc291cmNlLnRpbWVzdGFtcH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGltZXN0YW1wJ10pIHtcclxuICAgICAgaWYgKHRoaXMudGltZXN0YW1wKSB7IHRoaXMudGltZXN0YW1wLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3RpbWVzdGFtcCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnRpbWVzdGFtcCA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHNvdXJjZS5fdGltZXN0YW1wIGFzIFBhcnRpYWw8Zmhpci5GaGlySW5zdGFudEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndG90YWwnXSkgeyB0aGlzLnRvdGFsID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHt2YWx1ZTogc291cmNlLnRvdGFsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190b3RhbCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRvdGFsKSB7IHRoaXMudG90YWwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdG90YWwhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50b3RhbCA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludChzb3VyY2UuX3RvdGFsIGFzIFBhcnRpYWw8Zmhpci5GaGlyVW5zaWduZWRJbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2xpbmsnXSkgeyB0aGlzLmxpbmsgPSBzb3VyY2UubGluay5tYXAoKHgpID0+IG5ldyBmaGlyLkJ1bmRsZUxpbmsoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5saW5rID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VudHJ5J10pIHsgdGhpcy5lbnRyeSA9IHNvdXJjZS5lbnRyeS5tYXAoKHgpID0+IG5ldyBmaGlyLkJ1bmRsZUVudHJ5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZW50cnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2lnbmF0dXJlJ10pIHsgdGhpcy5zaWduYXR1cmUgPSBuZXcgZmhpci5TaWduYXR1cmUoc291cmNlLnNpZ25hdHVyZSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdCdW5kbGUnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVigndHlwZScsZXhwLCdCdW5kbGVUeXBlJyxCdW5kbGVUeXBlVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3RpbWVzdGFtcCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndG90YWwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2xpbmsnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2VudHJ5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzaWduYXR1cmUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19