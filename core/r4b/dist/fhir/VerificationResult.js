// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: VerificationResult
import * as fhir from '../fhir.js';
// @ts-ignore
import { VerificationresultStatusVsValidation } from '../fhirValueSets/VerificationresultStatusVsValidation.js';
/**
 * Information about the primary source(s) involved in validation.
 */
export class VerificationResultPrimarySource extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultPrimarySource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['who']) {
            this.who = new fhir.Reference(source.who, options);
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.type = [];
        }
        if (source['communicationMethod']) {
            this.communicationMethod = source.communicationMethod.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.communicationMethod = [];
        }
        if (source['validationStatus']) {
            this.validationStatus = new fhir.CodeableConcept(source.validationStatus, options);
        }
        if (source['validationDate'] !== undefined) {
            this.validationDate = new fhir.FhirDateTime({ value: source.validationDate }, options);
        }
        if (source['_validationDate']) {
            if (this.validationDate) {
                this.validationDate.addExtendedProperties(source._validationDate);
            }
            else {
                this.validationDate = new fhir.FhirDateTime(source._validationDate, options);
            }
        }
        if (source['canPushUpdates']) {
            this.canPushUpdates = new fhir.CodeableConcept(source.canPushUpdates, options);
        }
        if (source['pushTypeAvailable']) {
            this.pushTypeAvailable = source.pushTypeAvailable.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.pushTypeAvailable = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VerificationResult.primarySource';
        }
        iss.push(...this.vOS('who', exp));
        iss.push(...this.vOA('type', exp));
        iss.push(...this.vOA('communicationMethod', exp));
        iss.push(...this.vOS('validationStatus', exp));
        iss.push(...this.vOS('validationDate', exp));
        iss.push(...this.vOS('canPushUpdates', exp));
        iss.push(...this.vOA('pushTypeAvailable', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultPrimarySource._fts_dataType = 'VerificationResultPrimarySource';
/**
 * Information about the entity attesting to information.
 */
export class VerificationResultAttestation extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultAttestation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['who']) {
            this.who = new fhir.Reference(source.who, options);
        }
        if (source['onBehalfOf']) {
            this.onBehalfOf = new fhir.Reference(source.onBehalfOf, options);
        }
        if (source['communicationMethod']) {
            this.communicationMethod = new fhir.CodeableConcept(source.communicationMethod, options);
        }
        if (source['date'] !== undefined) {
            this.date = new fhir.FhirDate({ value: source.date }, options);
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDate(source._date, options);
            }
        }
        if (source['sourceIdentityCertificate'] !== undefined) {
            this.sourceIdentityCertificate = new fhir.FhirString({ value: source.sourceIdentityCertificate }, options);
        }
        if (source['_sourceIdentityCertificate']) {
            if (this.sourceIdentityCertificate) {
                this.sourceIdentityCertificate.addExtendedProperties(source._sourceIdentityCertificate);
            }
            else {
                this.sourceIdentityCertificate = new fhir.FhirString(source._sourceIdentityCertificate, options);
            }
        }
        if (source['proxyIdentityCertificate'] !== undefined) {
            this.proxyIdentityCertificate = new fhir.FhirString({ value: source.proxyIdentityCertificate }, options);
        }
        if (source['_proxyIdentityCertificate']) {
            if (this.proxyIdentityCertificate) {
                this.proxyIdentityCertificate.addExtendedProperties(source._proxyIdentityCertificate);
            }
            else {
                this.proxyIdentityCertificate = new fhir.FhirString(source._proxyIdentityCertificate, options);
            }
        }
        if (source['proxySignature']) {
            this.proxySignature = new fhir.Signature(source.proxySignature, options);
        }
        if (source['sourceSignature']) {
            this.sourceSignature = new fhir.Signature(source.sourceSignature, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VerificationResult.attestation';
        }
        iss.push(...this.vOS('who', exp));
        iss.push(...this.vOS('onBehalfOf', exp));
        iss.push(...this.vOS('communicationMethod', exp));
        iss.push(...this.vOS('date', exp));
        iss.push(...this.vOS('sourceIdentityCertificate', exp));
        iss.push(...this.vOS('proxyIdentityCertificate', exp));
        iss.push(...this.vOS('proxySignature', exp));
        iss.push(...this.vOS('sourceSignature', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultAttestation._fts_dataType = 'VerificationResultAttestation';
/**
 * Information about the entity validating information.
 */
export class VerificationResultValidator extends fhir.BackboneElement {
    /**
     * Default constructor for VerificationResultValidator - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['organization']) {
            this.organization = new fhir.Reference(source.organization, options);
        }
        else {
            this.organization = null;
        }
        if (source['identityCertificate'] !== undefined) {
            this.identityCertificate = new fhir.FhirString({ value: source.identityCertificate }, options);
        }
        if (source['_identityCertificate']) {
            if (this.identityCertificate) {
                this.identityCertificate.addExtendedProperties(source._identityCertificate);
            }
            else {
                this.identityCertificate = new fhir.FhirString(source._identityCertificate, options);
            }
        }
        if (source['attestationSignature']) {
            this.attestationSignature = new fhir.Signature(source.attestationSignature, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VerificationResult.validator';
        }
        iss.push(...this.vRS('organization', exp));
        iss.push(...this.vOS('identityCertificate', exp));
        iss.push(...this.vOS('attestationSignature', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResultValidator._fts_dataType = 'VerificationResultValidator';
/**
 * Describes validation requirements, source(s), status and dates for one or more elements.
 */
export class VerificationResult extends fhir.DomainResource {
    /**
     * Default constructor for VerificationResult - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'VerificationResult';
        if (source['target']) {
            this.target = source.target.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.target = [];
        }
        if (source['targetLocation'] !== undefined) {
            this.targetLocation = source.targetLocation.map((x) => new fhir.FhirString({ value: x }, options));
        }
        else {
            this.targetLocation = [];
        }
        if (source['_targetLocation']) {
            source._targetLocation.forEach((x, i) => {
                if (this.targetLocation.length >= i) {
                    if (x) {
                        this.targetLocation[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.targetLocation.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['need']) {
            this.need = new fhir.CodeableConcept(source.need, options);
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['statusDate'] !== undefined) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate }, options);
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDateTime(source._statusDate, options);
            }
        }
        if (source['validationType']) {
            this.validationType = new fhir.CodeableConcept(source.validationType, options);
        }
        if (source['validationProcess']) {
            this.validationProcess = source.validationProcess.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.validationProcess = [];
        }
        if (source['frequency']) {
            this.frequency = new fhir.Timing(source.frequency, options);
        }
        if (source['lastPerformed'] !== undefined) {
            this.lastPerformed = new fhir.FhirDateTime({ value: source.lastPerformed }, options);
        }
        if (source['_lastPerformed']) {
            if (this.lastPerformed) {
                this.lastPerformed.addExtendedProperties(source._lastPerformed);
            }
            else {
                this.lastPerformed = new fhir.FhirDateTime(source._lastPerformed, options);
            }
        }
        if (source['nextScheduled'] !== undefined) {
            this.nextScheduled = new fhir.FhirDate({ value: source.nextScheduled }, options);
        }
        if (source['_nextScheduled']) {
            if (this.nextScheduled) {
                this.nextScheduled.addExtendedProperties(source._nextScheduled);
            }
            else {
                this.nextScheduled = new fhir.FhirDate(source._nextScheduled, options);
            }
        }
        if (source['failureAction']) {
            this.failureAction = new fhir.CodeableConcept(source.failureAction, options);
        }
        if (source['primarySource']) {
            this.primarySource = source.primarySource.map((x) => new fhir.VerificationResultPrimarySource(x, options));
        }
        else {
            this.primarySource = [];
        }
        if (source['attestation']) {
            this.attestation = new fhir.VerificationResultAttestation(source.attestation, options);
        }
        if (source['validator']) {
            this.validator = source.validator.map((x) => new fhir.VerificationResultValidator(x, options));
        }
        else {
            this.validator = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VerificationResult';
        }
        iss.push(...this.vOA('target', exp));
        iss.push(...this.vOA('targetLocation', exp));
        iss.push(...this.vOS('need', exp));
        iss.push(...this.vRSV('status', exp, 'VerificationresultStatus', VerificationresultStatusVsValidation, 'r'));
        iss.push(...this.vOS('statusDate', exp));
        iss.push(...this.vOS('validationType', exp));
        iss.push(...this.vOA('validationProcess', exp));
        iss.push(...this.vOS('frequency', exp));
        iss.push(...this.vOS('lastPerformed', exp));
        iss.push(...this.vOS('nextScheduled', exp));
        iss.push(...this.vOS('failureAction', exp));
        iss.push(...this.vOA('primarySource', exp));
        iss.push(...this.vOS('attestation', exp));
        iss.push(...this.vOA('validator', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VerificationResult._fts_dataType = 'VerificationResult';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmVyaWZpY2F0aW9uUmVzdWx0LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9WZXJpZmljYXRpb25SZXN1bHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBNEJuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLE1BQU0sMERBQTBELENBQUM7QUFtRGhIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLCtCQUFnQyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUN2RTs7T0FFRztJQUNILFlBQVksU0FBc0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDNUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUMxRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzVGO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUN4QixJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxD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RyxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDL0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXRJRDs7R0FFRztBQUM2QixnQ0FBYSxHQUFVLG9CQUFvQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0Yi5jb3JlIHZlcnNpb246IDQuMy4wXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogVmVyaWZpY2F0aW9uUmVzdWx0XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRQcmltYXJ5U291cmNlVHlwZUNvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0UHJpbWFyeVNvdXJjZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0UHJpbWFyeVNvdXJjZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0UHJpbWFyeVNvdXJjZVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFByaW1hcnlTb3VyY2VUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRDb21tdW5pY2F0aW9uTWV0aG9kQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRDb21tdW5pY2F0aW9uTWV0aG9kQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdENvbW11bmljYXRpb25NZXRob2RDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0Q29tbXVuaWNhdGlvbk1ldGhvZFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0Q29tbXVuaWNhdGlvbk1ldGhvZFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblN0YXR1c0NvZGVzLCAgVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdENhblB1c2hVcGRhdGVzQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRDYW5QdXNoVXBkYXRlc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRDYW5QdXNoVXBkYXRlc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRDYW5QdXNoVXBkYXRlc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0Q2FuUHVzaFVwZGF0ZXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFB1c2hUeXBlQXZhaWxhYmxlQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRQdXNoVHlwZUF2YWlsYWJsZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRQdXNoVHlwZUF2YWlsYWJsZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRQdXNoVHlwZUF2YWlsYWJsZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0UHVzaFR5cGVBdmFpbGFibGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdE5lZWRDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdE5lZWRDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0TmVlZENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHROZWVkVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHROZWVkVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdFN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRTdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25UeXBlQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdFZhbGlkYXRpb25Qcm9jZXNzQ29kZXMsICBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uUHJvY2Vzc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uUHJvY2Vzc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRWYWxpZGF0aW9uUHJvY2Vzc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0VmFsaWRhdGlvblByb2Nlc3NWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcmlmaWNhdGlvbnJlc3VsdEZhaWx1cmVBY3Rpb25Db2RlcywgIFZlcmlmaWNhdGlvbnJlc3VsdEZhaWx1cmVBY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmVyaWZpY2F0aW9ucmVzdWx0RmFpbHVyZUFjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWZXJpZmljYXRpb25yZXN1bHRGYWlsdXJlQWN0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJpZmljYXRpb25yZXN1bHRGYWlsdXJlQWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byB0aGUgcHJpbWFyeSBzb3VyY2UuXHJcbiAgICovXHJcbiAgd2hvPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIHByaW1hcnkgc291cmNlIChMaWNlbnNlIEJvYXJkOyBQcmltYXJ5IEVkdWNhdGlvbjsgQ29udGludWluZyBFZHVjYXRpb247IFBvc3RhbCBTZXJ2aWNlOyBSZWxhdGlvbnNoaXAgb3duZXI7IFJlZ2lzdHJhdGlvbiBBdXRob3JpdHk7IGxlZ2FsIHNvdXJjZTsgaXNzdWluZyBzb3VyY2U7IGF1dGhvcml0YXRpdmUgc291cmNlKS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1ldGhvZCBmb3IgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBwcmltYXJ5IHNvdXJjZSAobWFudWFsOyBBUEk7IFB1c2gpLlxyXG4gICAqL1xyXG4gIGNvbW11bmljYXRpb25NZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RhdHVzIG9mIHRoZSB2YWxpZGF0aW9uIG9mIHRoZSB0YXJnZXQgYWdhaW5zdCB0aGUgcHJpbWFyeSBzb3VyY2UgKHN1Y2Nlc3NmdWw7IGZhaWxlZDsgdW5rbm93bikuXHJcbiAgICovXHJcbiAgdmFsaWRhdGlvblN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgdGFyZ2V0IHdhcyB2YWxpZGF0ZWQgYWdhaW5zdCB0aGUgcHJpbWFyeSBzb3VyY2UuXHJcbiAgICovXHJcbiAgdmFsaWRhdGlvbkRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWZXJpZmljYXRpb25SZXN1bHQucHJpbWFyeVNvdXJjZS52YWxpZGF0aW9uRGF0ZVxyXG4gICAqL1xyXG4gIF92YWxpZGF0aW9uRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWJpbGl0eSBvZiB0aGUgcHJpbWFyeSBzb3VyY2UgdG8gcHVzaCB1cGRhdGVzL2FsZXJ0cyAoeWVzOyBubzsgdW5kZXRlcm1pbmVkKS5cclxuICAgKi9cclxuICBjYW5QdXNoVXBkYXRlcz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBhbGVydHMvdXBkYXRlcyB0aGUgcHJpbWFyeSBzb3VyY2UgY2FuIHNlbmQgKHNwZWNpZmljIHJlcXVlc3RlZCBjaGFuZ2VzOyBhbnkgY2hhbmdlczsgYXMgZGVmaW5lZCBieSBzb3VyY2UpLlxyXG4gICAqL1xyXG4gIHB1c2hUeXBlQXZhaWxhYmxlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHByaW1hcnkgc291cmNlKHMpIGludm9sdmVkIGluIHZhbGlkYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZlcmlmaWNhdGlvblJlc3VsdFByaW1hcnlTb3VyY2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byB0aGUgcHJpbWFyeSBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHdobz86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIHByaW1hcnkgc291cmNlIChMaWNlbnNlIEJvYXJkOyBQcmltYXJ5IEVkdWNhdGlvbjsgQ29udGludWluZyBFZHVjYXRpb247IFBvc3RhbCBTZXJ2aWNlOyBSZWxhdGlvbnNoaXAgb3duZXI7IFJlZ2lzdHJhdGlvbiBBdXRob3JpdHk7IGxlZ2FsIHNvdXJjZTsgaXNzdWluZyBzb3VyY2U7IGF1dGhvcml0YXRpdmUgc291cmNlKS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBNZXRob2QgZm9yIGNvbW11bmljYXRpbmcgd2l0aCB0aGUgcHJpbWFyeSBzb3VyY2UgKG1hbnVhbDsgQVBJOyBQdXNoKS5cclxuICAgKi9cclxuICBwdWJsaWMgY29tbXVuaWNhdGlvbk1ldGhvZDogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBTdGF0dXMgb2YgdGhlIHZhbGlkYXRpb24gb2YgdGhlIHRhcmdldCBhZ2FpbnN0IHRoZSBwcmltYXJ5IHNvdXJjZSAoc3VjY2Vzc2Z1bDsgZmFpbGVkOyB1bmtub3duKS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdGlvblN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB0YXJnZXQgd2FzIHZhbGlkYXRlZCBhZ2FpbnN0IHRoZSBwcmltYXJ5IHNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdGlvbkRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWJpbGl0eSBvZiB0aGUgcHJpbWFyeSBzb3VyY2UgdG8gcHVzaCB1cGRhdGVzL2FsZXJ0cyAoeWVzOyBubzsgdW5kZXRlcm1pbmVkKS5cclxuICAgKi9cclxuICBwdWJsaWMgY2FuUHVzaFVwZGF0ZXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBhbGVydHMvdXBkYXRlcyB0aGUgcHJpbWFyeSBzb3VyY2UgY2FuIHNlbmQgKHNwZWNpZmljIHJlcXVlc3RlZCBjaGFuZ2VzOyBhbnkgY2hhbmdlczsgYXMgZGVmaW5lZCBieSBzb3VyY2UpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdXNoVHlwZUF2YWlsYWJsZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd3aG8nXSkgeyB0aGlzLndobyA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uud2hvLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IHNvdXJjZS50eXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21tdW5pY2F0aW9uTWV0aG9kJ10pIHsgdGhpcy5jb21tdW5pY2F0aW9uTWV0aG9kID0gc291cmNlLmNvbW11bmljYXRpb25NZXRob2QubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb21tdW5pY2F0aW9uTWV0aG9kID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbGlkYXRpb25TdGF0dXMnXSkgeyB0aGlzLnZhbGlkYXRpb25TdGF0dXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbGlkYXRpb25TdGF0dXMsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWxpZGF0aW9uRGF0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy52YWxpZGF0aW9uRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS52YWxpZGF0aW9uRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmFsaWRhdGlvbkRhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy52YWxpZGF0aW9uRGF0ZSkgeyB0aGlzLnZhbGlkYXRpb25EYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZhbGlkYXRpb25EYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudmFsaWRhdGlvbkRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl92YWxpZGF0aW9uRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjYW5QdXNoVXBkYXRlcyddKSB7IHRoaXMuY2FuUHVzaFVwZGF0ZXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNhblB1c2hVcGRhdGVzLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVzaFR5cGVBdmFpbGFibGUnXSkgeyB0aGlzLnB1c2hUeXBlQXZhaWxhYmxlID0gc291cmNlLnB1c2hUeXBlQXZhaWxhYmxlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHVzaFR5cGVBdmFpbGFibGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1ZlcmlmaWNhdGlvblJlc3VsdC5wcmltYXJ5U291cmNlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnd2hvJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb21tdW5pY2F0aW9uTWV0aG9kJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd2YWxpZGF0aW9uU3RhdHVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd2YWxpZGF0aW9uRGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY2FuUHVzaFVwZGF0ZXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3B1c2hUeXBlQXZhaWxhYmxlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBWZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIG9yIG9yZ2FuaXphdGlvbiBhdHRlc3RpbmcgdG8gaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgd2hvPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB3aG8gaXMgYXNzZXJ0aW5nIG9uIGJlaGFsZiBvZiBhbm90aGVyIChvcmdhbml6YXRpb24gb3IgaW5kaXZpZHVhbCkuXHJcbiAgICovXHJcbiAgb25CZWhhbGZPZj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1ldGhvZCBieSB3aGljaCBhdHRlc3RlZCBpbmZvcm1hdGlvbiB3YXMgc3VibWl0dGVkL3JldHJpZXZlZCAobWFudWFsOyBBUEk7IFB1c2gpLlxyXG4gICAqL1xyXG4gIGNvbW11bmljYXRpb25NZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHRoZSBpbmZvcm1hdGlvbiB3YXMgYXR0ZXN0ZWQgdG8uXHJcbiAgICovXHJcbiAgZGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LmF0dGVzdGF0aW9uLmRhdGVcclxuICAgKi9cclxuICBfZGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBkaWdpdGFsIGlkZW50aXR5IGNlcnRpZmljYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LmF0dGVzdGF0aW9uLnNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGVcclxuICAgKi9cclxuICBfc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBkaWdpdGFsIGlkZW50aXR5IGNlcnRpZmljYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJveHkgZW50aXR5IHN1Ym1pdHRpbmcgYXR0ZXN0ZWQgaW5mb3JtYXRpb24gb24gYmVoYWxmIG9mIHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHJveHlJZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC5hdHRlc3RhdGlvbi5wcm94eUlkZW50aXR5Q2VydGlmaWNhdGVcclxuICAgKi9cclxuICBfcHJveHlJZGVudGl0eUNlcnRpZmljYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSBwcm94eSBlbnRpdHkgaW5kaWNhdGluZyB0aGF0IHRoZXkgaGF2ZSB0aGUgcmlnaHQgdG8gc3VibWl0IGF0dGVzdGVkIGluZm9ybWF0aW9uIG9uIGJlaGFsZiBvZiB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHByb3h5U2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmVBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UgdGhhdCB0aGV5IGhhdmUgYXR0ZXN0ZWQgdG8gdGhlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHNvdXJjZVNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IGF0dGVzdGluZyB0byBpbmZvcm1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZlcmlmaWNhdGlvblJlc3VsdEF0dGVzdGF0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBvcmdhbml6YXRpb24gYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3aG8/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgd2hvIGlzIGFzc2VydGluZyBvbiBiZWhhbGYgb2YgYW5vdGhlciAob3JnYW5pemF0aW9uIG9yIGluZGl2aWR1YWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvbkJlaGFsZk9mPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgYnkgd2hpY2ggYXR0ZXN0ZWQgaW5mb3JtYXRpb24gd2FzIHN1Ym1pdHRlZC9yZXRyaWV2ZWQgKG1hbnVhbDsgQVBJOyBQdXNoKS5cclxuICAgKi9cclxuICBwdWJsaWMgY29tbXVuaWNhdGlvbk1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB0aGUgaW5mb3JtYXRpb24gd2FzIGF0dGVzdGVkIHRvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlPzogZmhpci5GaGlyRGF0ZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBkaWdpdGFsIGlkZW50aXR5IGNlcnRpZmljYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRpZ2l0YWwgaWRlbnRpdHkgY2VydGlmaWNhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm94eSBlbnRpdHkgc3VibWl0dGluZyBhdHRlc3RlZCBpbmZvcm1hdGlvbiBvbiBiZWhhbGYgb2YgdGhlIGF0dGVzdGF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJveHlJZGVudGl0eUNlcnRpZmljYXRlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSBwcm94eSBlbnRpdHkgaW5kaWNhdGluZyB0aGF0IHRoZXkgaGF2ZSB0aGUgcmlnaHQgdG8gc3VibWl0IGF0dGVzdGVkIGluZm9ybWF0aW9uIG9uIGJlaGFsZiBvZiB0aGUgYXR0ZXN0YXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm94eVNpZ25hdHVyZT86IGZoaXIuU2lnbmF0dXJlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaWduZWQgYXNzZXJ0aW9uIGJ5IHRoZSBhdHRlc3RhdGlvbiBzb3VyY2UgdGhhdCB0aGV5IGhhdmUgYXR0ZXN0ZWQgdG8gdGhlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2VTaWduYXR1cmU/OiBmaGlyLlNpZ25hdHVyZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd3aG8nXSkgeyB0aGlzLndobyA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uud2hvLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb25CZWhhbGZPZiddKSB7IHRoaXMub25CZWhhbGZPZiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub25CZWhhbGZPZiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW11bmljYXRpb25NZXRob2QnXSkgeyB0aGlzLmNvbW11bmljYXRpb25NZXRob2QgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvbW11bmljYXRpb25NZXRob2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZSkgeyB0aGlzLmRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZShzb3VyY2UuX2RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnNvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlKSB7IHRoaXMuc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc291cmNlSWRlbnRpdHlDZXJ0aWZpY2F0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9zb3VyY2VJZGVudGl0eUNlcnRpZmljYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwcm94eUlkZW50aXR5Q2VydGlmaWNhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucHJveHlJZGVudGl0eUNlcnRpZmljYXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wcm94eUlkZW50aXR5Q2VydGlmaWNhdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3Byb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZSkgeyB0aGlzLnByb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcm94eUlkZW50aXR5Q2VydGlmaWNhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcm94eUlkZW50aXR5Q2VydGlmaWNhdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcHJveHlJZGVudGl0eUNlcnRpZmljYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwcm94eVNpZ25hdHVyZSddKSB7IHRoaXMucHJveHlTaWduYXR1cmUgPSBuZXcgZmhpci5TaWduYXR1cmUoc291cmNlLnByb3h5U2lnbmF0dXJlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlU2lnbmF0dXJlJ10pIHsgdGhpcy5zb3VyY2VTaWduYXR1cmUgPSBuZXcgZmhpci5TaWduYXR1cmUoc291cmNlLnNvdXJjZVNpZ25hdHVyZSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdWZXJpZmljYXRpb25SZXN1bHQuYXR0ZXN0YXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd3aG8nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ29uQmVoYWxmT2YnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NvbW11bmljYXRpb25NZXRob2QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NvdXJjZUlkZW50aXR5Q2VydGlmaWNhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Byb3h5SWRlbnRpdHlDZXJ0aWZpY2F0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHJveHlTaWduYXR1cmUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NvdXJjZVNpZ25hdHVyZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmVyaWZpY2F0aW9uUmVzdWx0VmFsaWRhdG9yIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvckFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byB0aGUgb3JnYW5pemF0aW9uIHZhbGlkYXRpbmcgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgb3JnYW5pemF0aW9uOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGRpZ2l0YWwgaWRlbnRpdHkgY2VydGlmaWNhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSB2YWxpZGF0b3IuXHJcbiAgICovXHJcbiAgaWRlbnRpdHlDZXJ0aWZpY2F0ZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWZXJpZmljYXRpb25SZXN1bHQudmFsaWRhdG9yLmlkZW50aXR5Q2VydGlmaWNhdGVcclxuICAgKi9cclxuICBfaWRlbnRpdHlDZXJ0aWZpY2F0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogU2lnbmVkIGFzc2VydGlvbiBieSB0aGUgdmFsaWRhdG9yIHRoYXQgdGhleSBoYXZlIHZhbGlkYXRlZCB0aGUgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgYXR0ZXN0YXRpb25TaWduYXR1cmU/OiBmaGlyLlNpZ25hdHVyZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGVudGl0eSB2YWxpZGF0aW5nIGluZm9ybWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1ZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvcic7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmdhbml6YXRpb24gdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pemF0aW9uOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgZGlnaXRhbCBpZGVudGl0eSBjZXJ0aWZpY2F0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHZhbGlkYXRvci5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpdHlDZXJ0aWZpY2F0ZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2lnbmVkIGFzc2VydGlvbiBieSB0aGUgdmFsaWRhdG9yIHRoYXQgdGhleSBoYXZlIHZhbGlkYXRlZCB0aGUgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGVzdGF0aW9uU2lnbmF0dXJlPzogZmhpci5TaWduYXR1cmV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydvcmdhbml6YXRpb24nXSkgeyB0aGlzLm9yZ2FuaXphdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3JnYW5pemF0aW9uLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3JnYW5pemF0aW9uID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpdHlDZXJ0aWZpY2F0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5pZGVudGl0eUNlcnRpZmljYXRlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pZGVudGl0eUNlcnRpZmljYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZSkgeyB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faWRlbnRpdHlDZXJ0aWZpY2F0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5faWRlbnRpdHlDZXJ0aWZpY2F0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXR0ZXN0YXRpb25TaWduYXR1cmUnXSkgeyB0aGlzLmF0dGVzdGF0aW9uU2lnbmF0dXJlID0gbmV3IGZoaXIuU2lnbmF0dXJlKHNvdXJjZS5hdHRlc3RhdGlvblNpZ25hdHVyZSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdWZXJpZmljYXRpb25SZXN1bHQudmFsaWRhdG9yJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnb3JnYW5pemF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpZGVudGl0eUNlcnRpZmljYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhdHRlc3RhdGlvblNpZ25hdHVyZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmVyaWZpY2F0aW9uUmVzdWx0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmaWNhdGlvblJlc3VsdEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIlZlcmlmaWNhdGlvblJlc3VsdFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHJlc291cmNlIHRoYXQgd2FzIHZhbGlkYXRlZC5cclxuICAgKi9cclxuICB0YXJnZXQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZoaXJwYXRoIGxvY2F0aW9uKHMpIHdpdGhpbiB0aGUgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHRhcmdldExvY2F0aW9uPzogZmhpci5GaGlyU3RyaW5nW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LnRhcmdldExvY2F0aW9uXHJcbiAgICovXHJcbiAgX3RhcmdldExvY2F0aW9uPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBUaGUgZnJlcXVlbmN5IHdpdGggd2hpY2ggdGhlIHRhcmdldCBtdXN0IGJlIHZhbGlkYXRlZCAobm9uZTsgaW5pdGlhbDsgcGVyaW9kaWMpLlxyXG4gICAqL1xyXG4gIG5lZWQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWxpZGF0aW9uIHN0YXR1cyBvZiB0aGUgdGFyZ2V0IChhdHRlc3RlZDsgdmFsaWRhdGVkOyBpbiBwcm9jZXNzOyByZXF1aXJlcyByZXZhbGlkYXRpb247IHZhbGlkYXRpb24gZmFpbGVkOyByZXZhbGlkYXRpb24gZmFpbGVkKS5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8VmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3YXMgdXBkYXRlZC5cclxuICAgKi9cclxuICBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0LnN0YXR1c0RhdGVcclxuICAgKi9cclxuICBfc3RhdHVzRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hhdCB0aGUgdGFyZ2V0IGlzIHZhbGlkYXRlZCBhZ2FpbnN0IChub3RoaW5nOyBwcmltYXJ5IHNvdXJjZTsgbXVsdGlwbGUgc291cmNlcykuXHJcbiAgICovXHJcbiAgdmFsaWRhdGlvblR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmltYXJ5IHByb2Nlc3MgYnkgd2hpY2ggdGhlIHRhcmdldCBpcyB2YWxpZGF0ZWQgKGVkaXQgY2hlY2s7IHZhbHVlIHNldDsgcHJpbWFyeSBzb3VyY2U7IG11bHRpcGxlIHNvdXJjZXM7IHN0YW5kYWxvbmU7IGluIGNvbnRleHQpLlxyXG4gICAqL1xyXG4gIHZhbGlkYXRpb25Qcm9jZXNzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZXF1ZW5jeSBvZiByZXZhbGlkYXRpb24uXHJcbiAgICovXHJcbiAgZnJlcXVlbmN5PzogZmhpci5UaW1pbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZS90aW1lIHZhbGlkYXRpb24gd2FzIGxhc3QgY29tcGxldGVkIChpbmNsdWRpbmcgZmFpbGVkIHZhbGlkYXRpb25zKS5cclxuICAgKi9cclxuICBsYXN0UGVyZm9ybWVkPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmVyaWZpY2F0aW9uUmVzdWx0Lmxhc3RQZXJmb3JtZWRcclxuICAgKi9cclxuICBfbGFzdFBlcmZvcm1lZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgd2hlbiB0YXJnZXQgaXMgbmV4dCB2YWxpZGF0ZWQsIGlmIGFwcHJvcHJpYXRlLlxyXG4gICAqL1xyXG4gIG5leHRTY2hlZHVsZWQ/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZlcmlmaWNhdGlvblJlc3VsdC5uZXh0U2NoZWR1bGVkXHJcbiAgICovXHJcbiAgX25leHRTY2hlZHVsZWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXN1bHQgaWYgdmFsaWRhdGlvbiBmYWlscyAoZmF0YWw7IHdhcm5pbmc7IHJlY29yZCBvbmx5OyBub25lKS5cclxuICAgKi9cclxuICBmYWlsdXJlQWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJpbWFyeSBzb3VyY2UocykgaW52b2x2ZWQgaW4gdmFsaWRhdGlvbi5cclxuICAgKi9cclxuICBwcmltYXJ5U291cmNlPzogZmhpci5WZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IGF0dGVzdGluZyB0byBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBhdHRlc3RhdGlvbj86IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IHZhbGlkYXRpbmcgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgdmFsaWRhdG9yPzogZmhpci5WZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3JBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVzY3JpYmVzIHZhbGlkYXRpb24gcmVxdWlyZW1lbnRzLCBzb3VyY2UocyksIHN0YXR1cyBhbmQgZGF0ZXMgZm9yIG9uZSBvciBtb3JlIGVsZW1lbnRzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvblJlc3VsdCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnVmVyaWZpY2F0aW9uUmVzdWx0JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlZlcmlmaWNhdGlvblJlc3VsdFwiO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGZoaXJwYXRoIGxvY2F0aW9uKHMpIHdpdGhpbiB0aGUgcmVzb3VyY2UgdGhhdCB3YXMgdmFsaWRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXRMb2NhdGlvbjogZmhpci5GaGlyU3RyaW5nW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGZyZXF1ZW5jeSB3aXRoIHdoaWNoIHRoZSB0YXJnZXQgbXVzdCBiZSB2YWxpZGF0ZWQgKG5vbmU7IGluaXRpYWw7IHBlcmlvZGljKS5cclxuICAgKi9cclxuICBwdWJsaWMgbmVlZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsaWRhdGlvbiBzdGF0dXMgb2YgdGhlIHRhcmdldCAoYXR0ZXN0ZWQ7IHZhbGlkYXRlZDsgaW4gcHJvY2VzczsgcmVxdWlyZXMgcmV2YWxpZGF0aW9uOyB2YWxpZGF0aW9uIGZhaWxlZDsgcmV2YWxpZGF0aW9uIGZhaWxlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3YXMgdXBkYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGF0IHRoZSB0YXJnZXQgaXMgdmFsaWRhdGVkIGFnYWluc3QgKG5vdGhpbmc7IHByaW1hcnkgc291cmNlOyBtdWx0aXBsZSBzb3VyY2VzKS5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdGlvblR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaW1hcnkgcHJvY2VzcyBieSB3aGljaCB0aGUgdGFyZ2V0IGlzIHZhbGlkYXRlZCAoZWRpdCBjaGVjazsgdmFsdWUgc2V0OyBwcmltYXJ5IHNvdXJjZTsgbXVsdGlwbGUgc291cmNlczsgc3RhbmRhbG9uZTsgaW4gY29udGV4dCkuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbGlkYXRpb25Qcm9jZXNzOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZyZXF1ZW5jeSBvZiByZXZhbGlkYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGZyZXF1ZW5jeT86IGZoaXIuVGltaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZS90aW1lIHZhbGlkYXRpb24gd2FzIGxhc3QgY29tcGxldGVkIChpbmNsdWRpbmcgZmFpbGVkIHZhbGlkYXRpb25zKS5cclxuICAgKi9cclxuICBwdWJsaWMgbGFzdFBlcmZvcm1lZD86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIHRhcmdldCBpcyBuZXh0IHZhbGlkYXRlZCwgaWYgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIG5leHRTY2hlZHVsZWQ/OiBmaGlyLkZoaXJEYXRlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVzdWx0IGlmIHZhbGlkYXRpb24gZmFpbHMgKGZhdGFsOyB3YXJuaW5nOyByZWNvcmQgb25seTsgbm9uZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGZhaWx1cmVBY3Rpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHByaW1hcnkgc291cmNlKHMpIGludm9sdmVkIGluIHZhbGlkYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHByaW1hcnlTb3VyY2U6IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0UHJpbWFyeVNvdXJjZVtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgYXR0ZXN0aW5nIHRvIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdHRlc3RhdGlvbj86IGZoaXIuVmVyaWZpY2F0aW9uUmVzdWx0QXR0ZXN0YXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkgdmFsaWRhdGluZyBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsaWRhdG9yOiBmaGlyLlZlcmlmaWNhdGlvblJlc3VsdFZhbGlkYXRvcltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZlcmlmaWNhdGlvblJlc3VsdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZlcmlmaWNhdGlvblJlc3VsdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdWZXJpZmljYXRpb25SZXN1bHQnO1xyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0J10pIHsgdGhpcy50YXJnZXQgPSBzb3VyY2UudGFyZ2V0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGFyZ2V0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldExvY2F0aW9uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnRhcmdldExvY2F0aW9uID0gc291cmNlLnRhcmdldExvY2F0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRhcmdldExvY2F0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ190YXJnZXRMb2NhdGlvbiddKSB7XHJcbiAgICAgIHNvdXJjZS5fdGFyZ2V0TG9jYXRpb24uZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0TG9jYXRpb24ubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy50YXJnZXRMb2NhdGlvbltpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnRhcmdldExvY2F0aW9uLnB1c2gobmV3IGZoaXIuRmhpclN0cmluZyh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmVlZCddKSB7IHRoaXMubmVlZCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubmVlZCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8VmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXNEYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1c0RhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1c0RhdGUpIHsgdGhpcy5zdGF0dXNEYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1c0RhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXNEYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fc3RhdHVzRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2YWxpZGF0aW9uVHlwZSddKSB7IHRoaXMudmFsaWRhdGlvblR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbGlkYXRpb25UeXBlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRhdGlvblByb2Nlc3MnXSkgeyB0aGlzLnZhbGlkYXRpb25Qcm9jZXNzID0gc291cmNlLnZhbGlkYXRpb25Qcm9jZXNzLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsaWRhdGlvblByb2Nlc3MgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZnJlcXVlbmN5J10pIHsgdGhpcy5mcmVxdWVuY3kgPSBuZXcgZmhpci5UaW1pbmcoc291cmNlLmZyZXF1ZW5jeSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2xhc3RQZXJmb3JtZWQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubGFzdFBlcmZvcm1lZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5sYXN0UGVyZm9ybWVkfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19sYXN0UGVyZm9ybWVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMubGFzdFBlcmZvcm1lZCkgeyB0aGlzLmxhc3RQZXJmb3JtZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbGFzdFBlcmZvcm1lZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmxhc3RQZXJmb3JtZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9sYXN0UGVyZm9ybWVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25leHRTY2hlZHVsZWQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubmV4dFNjaGVkdWxlZCA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLm5leHRTY2hlZHVsZWR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25leHRTY2hlZHVsZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5uZXh0U2NoZWR1bGVkKSB7IHRoaXMubmV4dFNjaGVkdWxlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uZXh0U2NoZWR1bGVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmV4dFNjaGVkdWxlZCA9IG5ldyBmaGlyLkZoaXJEYXRlKHNvdXJjZS5fbmV4dFNjaGVkdWxlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2ZhaWx1cmVBY3Rpb24nXSkgeyB0aGlzLmZhaWx1cmVBY3Rpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmZhaWx1cmVBY3Rpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwcmltYXJ5U291cmNlJ10pIHsgdGhpcy5wcmltYXJ5U291cmNlID0gc291cmNlLnByaW1hcnlTb3VyY2UubWFwKCh4KSA9PiBuZXcgZmhpci5WZXJpZmljYXRpb25SZXN1bHRQcmltYXJ5U291cmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJpbWFyeVNvdXJjZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhdHRlc3RhdGlvbiddKSB7IHRoaXMuYXR0ZXN0YXRpb24gPSBuZXcgZmhpci5WZXJpZmljYXRpb25SZXN1bHRBdHRlc3RhdGlvbihzb3VyY2UuYXR0ZXN0YXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWxpZGF0b3InXSkgeyB0aGlzLnZhbGlkYXRvciA9IHNvdXJjZS52YWxpZGF0b3IubWFwKCh4KSA9PiBuZXcgZmhpci5WZXJpZmljYXRpb25SZXN1bHRWYWxpZGF0b3IoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWxpZGF0b3IgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1ZlcmlmaWNhdGlvblJlc3VsdCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3RhcmdldCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndGFyZ2V0TG9jYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25lZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnVmVyaWZpY2F0aW9ucmVzdWx0U3RhdHVzJyxWZXJpZmljYXRpb25yZXN1bHRTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3RhdHVzRGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndmFsaWRhdGlvblR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3ZhbGlkYXRpb25Qcm9jZXNzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdmcmVxdWVuY3knLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2xhc3RQZXJmb3JtZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25leHRTY2hlZHVsZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2ZhaWx1cmVBY3Rpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3ByaW1hcnlTb3VyY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2F0dGVzdGF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd2YWxpZGF0b3InLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19