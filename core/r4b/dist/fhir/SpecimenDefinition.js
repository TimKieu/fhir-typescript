// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: SpecimenDefinition
import * as fhir from '../fhir.js';
// @ts-ignore
import { SpecimenContainedPreferenceVsValidation } from '../fhirValueSets/SpecimenContainedPreferenceVsValidation.js';
/**
 * Substance introduced in the kind of container to preserve, maintain or enhance the specimen. Examples: Formalin, Citrate, EDTA.
 */
export class SpecimenDefinitionTypeTestedContainerAdditive extends fhir.BackboneElement {
    /**
     * Default constructor for SpecimenDefinitionTypeTestedContainerAdditive - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['additive']) {
            this.additive = source.additive;
        }
        else if (source['additiveCodeableConcept']) {
            this.additive = new fhir.CodeableConcept(source.additiveCodeableConcept, options);
        }
        else if (source['additiveReference']) {
            this.additive = new fhir.Reference(source.additiveReference, options);
        }
        else {
            this.additive = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SpecimenDefinition.typeTested.container.additive';
        }
        iss.push(...this.vRS('additive', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SpecimenDefinitionTypeTestedContainerAdditive._fts_dataType = 'SpecimenDefinitionTypeTestedContainerAdditive';
/**
 * Internal flag to properly serialize choice-type element SpecimenDefinition.typeTested.container.additive.additive[x]
 */
SpecimenDefinitionTypeTestedContainerAdditive._fts_additiveIsChoice = true;
/**
 * The specimen's container.
 */
export class SpecimenDefinitionTypeTestedContainer extends fhir.BackboneElement {
    /**
     * Default constructor for SpecimenDefinitionTypeTestedContainer - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['material']) {
            this.material = new fhir.CodeableConcept(source.material, options);
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['cap']) {
            this.cap = new fhir.CodeableConcept(source.cap, options);
        }
        if (source['description'] !== undefined) {
            this.description = new fhir.FhirString({ value: source.description }, options);
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description, options);
            }
        }
        if (source['capacity']) {
            this.capacity = new fhir.Quantity(source.capacity, options);
        }
        if (source['minimumVolume']) {
            this.minimumVolume = source.minimumVolume;
        }
        else if (source['minimumVolumeQuantity']) {
            this.minimumVolume = new fhir.Quantity(source.minimumVolumeQuantity, options);
        }
        else if (source['minimumVolumeString'] !== undefined) {
            this.minimumVolume = new fhir.FhirString({ value: source.minimumVolumeString }, options);
        }
        if (source['additive']) {
            this.additive = source.additive.map((x) => new fhir.SpecimenDefinitionTypeTestedContainerAdditive(x, options));
        }
        else {
            this.additive = [];
        }
        if (source['preparation'] !== undefined) {
            this.preparation = new fhir.FhirString({ value: source.preparation }, options);
        }
        if (source['_preparation']) {
            if (this.preparation) {
                this.preparation.addExtendedProperties(source._preparation);
            }
            else {
                this.preparation = new fhir.FhirString(source._preparation, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SpecimenDefinition.typeTested.container';
        }
        iss.push(...this.vOS('material', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('cap', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('capacity', exp));
        iss.push(...this.vOS('minimumVolume', exp));
        iss.push(...this.vOA('additive', exp));
        iss.push(...this.vOS('preparation', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SpecimenDefinitionTypeTestedContainer._fts_dataType = 'SpecimenDefinitionTypeTestedContainer';
/**
 * Internal flag to properly serialize choice-type element SpecimenDefinition.typeTested.container.minimumVolume[x]
 */
SpecimenDefinitionTypeTestedContainer._fts_minimumVolumeIsChoice = true;
/**
 * Set of instructions for preservation/transport of the specimen at a defined temperature interval, prior the testing process.
 */
export class SpecimenDefinitionTypeTestedHandling extends fhir.BackboneElement {
    /**
     * Default constructor for SpecimenDefinitionTypeTestedHandling - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['temperatureQualifier']) {
            this.temperatureQualifier = new fhir.CodeableConcept(source.temperatureQualifier, options);
        }
        if (source['temperatureRange']) {
            this.temperatureRange = new fhir.Range(source.temperatureRange, options);
        }
        if (source['maxDuration']) {
            this.maxDuration = new fhir.Duration(source.maxDuration, options);
        }
        if (source['instruction'] !== undefined) {
            this.instruction = new fhir.FhirString({ value: source.instruction }, options);
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SpecimenDefinition.typeTested.handling';
        }
        iss.push(...this.vOS('temperatureQualifier', exp));
        iss.push(...this.vOS('temperatureRange', exp));
        iss.push(...this.vOS('maxDuration', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SpecimenDefinitionTypeTestedHandling._fts_dataType = 'SpecimenDefinitionTypeTestedHandling';
/**
 * Specimen conditioned in a container as expected by the testing laboratory.
 */
export class SpecimenDefinitionTypeTested extends fhir.BackboneElement {
    /**
     * Default constructor for SpecimenDefinitionTypeTested - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['isDerived'] !== undefined) {
            this.isDerived = new fhir.FhirBoolean({ value: source.isDerived }, options);
        }
        if (source['_isDerived']) {
            if (this.isDerived) {
                this.isDerived.addExtendedProperties(source._isDerived);
            }
            else {
                this.isDerived = new fhir.FhirBoolean(source._isDerived, options);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['preference'] !== undefined) {
            this.preference = new fhir.FhirCode({ value: source.preference }, options);
        }
        else {
            this.preference = null;
        }
        if (source['_preference']) {
            if (this.preference) {
                this.preference.addExtendedProperties(source._preference);
            }
            else {
                this.preference = new fhir.FhirCode(source._preference, options);
            }
        }
        if (source['container']) {
            this.container = new fhir.SpecimenDefinitionTypeTestedContainer(source.container, options);
        }
        if (source['requirement'] !== undefined) {
            this.requirement = new fhir.FhirString({ value: source.requirement }, options);
        }
        if (source['_requirement']) {
            if (this.requirement) {
                this.requirement.addExtendedProperties(source._requirement);
            }
            else {
                this.requirement = new fhir.FhirString(source._requirement, options);
            }
        }
        if (source['retentionTime']) {
            this.retentionTime = new fhir.Duration(source.retentionTime, options);
        }
        if (source['rejectionCriterion']) {
            this.rejectionCriterion = source.rejectionCriterion.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.rejectionCriterion = [];
        }
        if (source['handling']) {
            this.handling = source.handling.map((x) => new fhir.SpecimenDefinitionTypeTestedHandling(x, options));
        }
        else {
            this.handling = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SpecimenDefinition.typeTested';
        }
        iss.push(...this.vOS('isDerived', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vRSV('preference', exp, 'SpecimenContainedPreference', SpecimenContainedPreferenceVsValidation, 'r'));
        iss.push(...this.vOS('container', exp));
        iss.push(...this.vOS('requirement', exp));
        iss.push(...this.vOS('retentionTime', exp));
        iss.push(...this.vOA('rejectionCriterion', exp));
        iss.push(...this.vOA('handling', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SpecimenDefinitionTypeTested._fts_dataType = 'SpecimenDefinitionTypeTested';
/**
 * A kind of specimen with associated set of requirements.
 */
export class SpecimenDefinition extends fhir.DomainResource {
    /**
     * Default constructor for SpecimenDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'SpecimenDefinition';
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier, options);
        }
        if (source['typeCollected']) {
            this.typeCollected = new fhir.CodeableConcept(source.typeCollected, options);
        }
        if (source['patientPreparation']) {
            this.patientPreparation = source.patientPreparation.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.patientPreparation = [];
        }
        if (source['timeAspect'] !== undefined) {
            this.timeAspect = new fhir.FhirString({ value: source.timeAspect }, options);
        }
        if (source['_timeAspect']) {
            if (this.timeAspect) {
                this.timeAspect.addExtendedProperties(source._timeAspect);
            }
            else {
                this.timeAspect = new fhir.FhirString(source._timeAspect, options);
            }
        }
        if (source['collection']) {
            this.collection = source.collection.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.collection = [];
        }
        if (source['typeTested']) {
            this.typeTested = source.typeTested.map((x) => new fhir.SpecimenDefinitionTypeTested(x, options));
        }
        else {
            this.typeTested = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SpecimenDefinition';
        }
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vOS('typeCollected', exp));
        iss.push(...this.vOA('patientPreparation', exp));
        iss.push(...this.vOS('timeAspect', exp));
        iss.push(...this.vOA('collection', exp));
        iss.push(...this.vOA('typeTested', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SpecimenDefinition._fts_dataType = 'SpecimenDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BlY2ltZW5EZWZpbml0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9TcGVjaW1lbkRlZmluaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBd0JuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHVDQUF1QyxFQUFFLE1BQU0sNkRBQTZELENBQUM7QUErQnRIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDZDQUE4QyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXJGOztPQUVHO0lBQ0gsWUFBWSxTQUFvRSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMxSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO1NBQUU7YUFDdkQsSUFBSSxNQUFNLENBQUMseUJBQXlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQzdILElBQUksTUFBTSxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUMzRztZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1NBQUU7SUFDaEMsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENB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QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBakVEOztHQUVHO0FBQzZCLGdDQUFhLEdBQVUsb0JBQW9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBTcGVjaW1lbkRlZmluaXRpb25cclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnRhaW5lck1hdGVyaWFsQ29kZXMsICBDb250YWluZXJNYXRlcmlhbENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db250YWluZXJNYXRlcmlhbENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb250YWluZXJNYXRlcmlhbFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29udGFpbmVyTWF0ZXJpYWxWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNwZWNpbWVuQ29udGFpbmVyVHlwZUNvZGVzLCAgU3BlY2ltZW5Db250YWluZXJUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NwZWNpbWVuQ29udGFpbmVyVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTcGVjaW1lbkNvbnRhaW5lclR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NwZWNpbWVuQ29udGFpbmVyVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29udGFpbmVyQ2FwQ29kZXMsICBDb250YWluZXJDYXBDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29udGFpbmVyQ2FwQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnRhaW5lckNhcFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29udGFpbmVyQ2FwVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBIYW5kbGluZ0NvbmRpdGlvbkNvZGVzLCAgSGFuZGxpbmdDb25kaXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSGFuZGxpbmdDb25kaXRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSGFuZGxpbmdDb25kaXRpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0hhbmRsaW5nQ29uZGl0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWMjA0ODdDb2RlcywgIFYyMDQ4N0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WMjA0ODdDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjIwNDg3VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WMjA0ODdWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNwZWNpbWVuQ29udGFpbmVkUHJlZmVyZW5jZUNvZGVzLCAgU3BlY2ltZW5Db250YWluZWRQcmVmZXJlbmNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NwZWNpbWVuQ29udGFpbmVkUHJlZmVyZW5jZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTcGVjaW1lbkNvbnRhaW5lZFByZWZlcmVuY2VWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NwZWNpbWVuQ29udGFpbmVkUHJlZmVyZW5jZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVqZWN0aW9uQ3JpdGVyaWFDb2RlcywgIFJlamVjdGlvbkNyaXRlcmlhQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlamVjdGlvbkNyaXRlcmlhQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlamVjdGlvbkNyaXRlcmlhVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWplY3Rpb25Dcml0ZXJpYVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJlcGFyZVBhdGllbnRQcmlvclNwZWNpbWVuQ29sbGVjdGlvbkNvZGVzLCAgUHJlcGFyZVBhdGllbnRQcmlvclNwZWNpbWVuQ29sbGVjdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QcmVwYXJlUGF0aWVudFByaW9yU3BlY2ltZW5Db2xsZWN0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByZXBhcmVQYXRpZW50UHJpb3JTcGVjaW1lbkNvbGxlY3Rpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ByZXBhcmVQYXRpZW50UHJpb3JTcGVjaW1lbkNvbGxlY3Rpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNwZWNpbWVuQ29sbGVjdGlvbkNvZGVzLCAgU3BlY2ltZW5Db2xsZWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NwZWNpbWVuQ29sbGVjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTcGVjaW1lbkNvbGxlY3Rpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NwZWNpbWVuQ29sbGVjdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkQ29udGFpbmVyQWRkaXRpdmUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZENvbnRhaW5lckFkZGl0aXZlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU3Vic3RhbmNlIGludHJvZHVjZWQgaW4gdGhlIGtpbmQgb2YgY29udGFpbmVyIHRvIHByZXNlcnZlLCBtYWludGFpbiBvciBlbmhhbmNlIHRoZSBzcGVjaW1lbi4gRXhhbXBsZXM6IEZvcm1hbGluLCBDaXRyYXRlLCBFRFRBLlxyXG4gICAqL1xyXG4gIGFkZGl0aXZlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN1YnN0YW5jZSBpbnRyb2R1Y2VkIGluIHRoZSBraW5kIG9mIGNvbnRhaW5lciB0byBwcmVzZXJ2ZSwgbWFpbnRhaW4gb3IgZW5oYW5jZSB0aGUgc3BlY2ltZW4uIEV4YW1wbGVzOiBGb3JtYWxpbiwgQ2l0cmF0ZSwgRURUQS5cclxuICAgKi9cclxuICBhZGRpdGl2ZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3Vic3RhbmNlIGludHJvZHVjZWQgaW4gdGhlIGtpbmQgb2YgY29udGFpbmVyIHRvIHByZXNlcnZlLCBtYWludGFpbiBvciBlbmhhbmNlIHRoZSBzcGVjaW1lbi4gRXhhbXBsZXM6IEZvcm1hbGluLCBDaXRyYXRlLCBFRFRBLlxyXG4gICAqL1xyXG4gIGFkZGl0aXZlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN1YnN0YW5jZSBpbnRyb2R1Y2VkIGluIHRoZSBraW5kIG9mIGNvbnRhaW5lciB0byBwcmVzZXJ2ZSwgbWFpbnRhaW4gb3IgZW5oYW5jZSB0aGUgc3BlY2ltZW4uIEV4YW1wbGVzOiBGb3JtYWxpbiwgQ2l0cmF0ZSwgRURUQS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkQ29udGFpbmVyQWRkaXRpdmUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkQ29udGFpbmVyQWRkaXRpdmUnO1xyXG4gIC8qKlxyXG4gICAqIFN1YnN0YW5jZSBpbnRyb2R1Y2VkIGluIHRoZSBraW5kIG9mIGNvbnRhaW5lciB0byBwcmVzZXJ2ZSwgbWFpbnRhaW4gb3IgZW5oYW5jZSB0aGUgc3BlY2ltZW4uIEV4YW1wbGVzOiBGb3JtYWxpbiwgQ2l0cmF0ZSwgRURUQS5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkaXRpdmU6IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IFNwZWNpbWVuRGVmaW5pdGlvbi50eXBlVGVzdGVkLmNvbnRhaW5lci5hZGRpdGl2ZS5hZGRpdGl2ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19hZGRpdGl2ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRDb250YWluZXJBZGRpdGl2ZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRDb250YWluZXJBZGRpdGl2ZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhZGRpdGl2ZSddKSB7IHRoaXMuYWRkaXRpdmUgPSBzb3VyY2UuYWRkaXRpdmU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYWRkaXRpdmVDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLmFkZGl0aXZlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hZGRpdGl2ZUNvZGVhYmxlQ29uY2VwdCwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYWRkaXRpdmVSZWZlcmVuY2UnXSkgeyB0aGlzLmFkZGl0aXZlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5hZGRpdGl2ZVJlZmVyZW5jZSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFkZGl0aXZlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1NwZWNpbWVuRGVmaW5pdGlvbi50eXBlVGVzdGVkLmNvbnRhaW5lci5hZGRpdGl2ZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2FkZGl0aXZlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkQ29udGFpbmVyIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRDb250YWluZXJBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBtYXRlcmlhbCBvZiB0aGUgY29udGFpbmVyLlxyXG4gICAqL1xyXG4gIG1hdGVyaWFsPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBjb250YWluZXIgdXNlZCB0byBjb250YWluIHRoaXMga2luZCBvZiBzcGVjaW1lbi5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2xvciBvZiBjb250YWluZXIgY2FwLlxyXG4gICAqL1xyXG4gIGNhcD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRleHR1YWwgZGVzY3JpcHRpb24gb2YgdGhlIGtpbmQgb2YgY29udGFpbmVyLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNwZWNpbWVuRGVmaW5pdGlvbi50eXBlVGVzdGVkLmNvbnRhaW5lci5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhcGFjaXR5ICh2b2x1bWUgb3Igb3RoZXIgbWVhc3VyZSkgb2YgdGhpcyBraW5kIG9mIGNvbnRhaW5lci5cclxuICAgKi9cclxuICBjYXBhY2l0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWluaW11bSB2b2x1bWUgdG8gYmUgY29uZGl0aW9uZWQgaW4gdGhlIGNvbnRhaW5lci5cclxuICAgKi9cclxuICBtaW5pbXVtVm9sdW1lPzogZmhpci5RdWFudGl0eXxmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtaW5pbXVtIHZvbHVtZSB0byBiZSBjb25kaXRpb25lZCBpbiB0aGUgY29udGFpbmVyLlxyXG4gICAqL1xyXG4gIG1pbmltdW1Wb2x1bWVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWluaW11bSB2b2x1bWUgdG8gYmUgY29uZGl0aW9uZWQgaW4gdGhlIGNvbnRhaW5lci5cclxuICAgKi9cclxuICBtaW5pbXVtVm9sdW1lU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3Vic3RhbmNlIGludHJvZHVjZWQgaW4gdGhlIGtpbmQgb2YgY29udGFpbmVyIHRvIHByZXNlcnZlLCBtYWludGFpbiBvciBlbmhhbmNlIHRoZSBzcGVjaW1lbi4gRXhhbXBsZXM6IEZvcm1hbGluLCBDaXRyYXRlLCBFRFRBLlxyXG4gICAqL1xyXG4gIGFkZGl0aXZlPzogZmhpci5TcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkQ29udGFpbmVyQWRkaXRpdmVBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpYWwgcHJvY2Vzc2luZyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIgZm9yIHRoaXMga2luZCBvZiBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwcmVwYXJhdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTcGVjaW1lbkRlZmluaXRpb24udHlwZVRlc3RlZC5jb250YWluZXIucHJlcGFyYXRpb25cclxuICAgKi9cclxuICBfcHJlcGFyYXRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHNwZWNpbWVuJ3MgY29udGFpbmVyLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRDb250YWluZXIgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkQ29udGFpbmVyJztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBtYXRlcmlhbCBvZiB0aGUgY29udGFpbmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXRlcmlhbD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBjb250YWluZXIgdXNlZCB0byBjb250YWluIHRoaXMga2luZCBvZiBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb2xvciBvZiBjb250YWluZXIgY2FwLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXA/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRleHR1YWwgZGVzY3JpcHRpb24gb2YgdGhlIGtpbmQgb2YgY29udGFpbmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhcGFjaXR5ICh2b2x1bWUgb3Igb3RoZXIgbWVhc3VyZSkgb2YgdGhpcyBraW5kIG9mIGNvbnRhaW5lci5cclxuICAgKi9cclxuICBwdWJsaWMgY2FwYWNpdHk/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWluaW11bSB2b2x1bWUgdG8gYmUgY29uZGl0aW9uZWQgaW4gdGhlIGNvbnRhaW5lci5cclxuICAgKi9cclxuICBwdWJsaWMgbWluaW11bVZvbHVtZT86IChmaGlyLlF1YW50aXR5fGZoaXIuRmhpclN0cmluZyl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgU3BlY2ltZW5EZWZpbml0aW9uLnR5cGVUZXN0ZWQuY29udGFpbmVyLm1pbmltdW1Wb2x1bWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfbWluaW11bVZvbHVtZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFN1YnN0YW5jZSBpbnRyb2R1Y2VkIGluIHRoZSBraW5kIG9mIGNvbnRhaW5lciB0byBwcmVzZXJ2ZSwgbWFpbnRhaW4gb3IgZW5oYW5jZSB0aGUgc3BlY2ltZW4uIEV4YW1wbGVzOiBGb3JtYWxpbiwgQ2l0cmF0ZSwgRURUQS5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkaXRpdmU6IGZoaXIuU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZENvbnRhaW5lckFkZGl0aXZlW107XHJcbiAgLyoqXHJcbiAgICogU3BlY2lhbCBwcm9jZXNzaW5nIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lciBmb3IgdGhpcyBraW5kIG9mIHNwZWNpbWVuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmVwYXJhdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZENvbnRhaW5lciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRDb250YWluZXJBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbWF0ZXJpYWwnXSkgeyB0aGlzLm1hdGVyaWFsID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tYXRlcmlhbCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXAnXSkgeyB0aGlzLmNhcCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2FwLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2FwYWNpdHknXSkgeyB0aGlzLmNhcGFjaXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmNhcGFjaXR5LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWluaW11bVZvbHVtZSddKSB7IHRoaXMubWluaW11bVZvbHVtZSA9IHNvdXJjZS5taW5pbXVtVm9sdW1lOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ21pbmltdW1Wb2x1bWVRdWFudGl0eSddKSB7IHRoaXMubWluaW11bVZvbHVtZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5taW5pbXVtVm9sdW1lUXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ21pbmltdW1Wb2x1bWVTdHJpbmcnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubWluaW11bVZvbHVtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubWluaW11bVZvbHVtZVN0cmluZ30sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZGRpdGl2ZSddKSB7IHRoaXMuYWRkaXRpdmUgPSBzb3VyY2UuYWRkaXRpdmUubWFwKCh4KSA9PiBuZXcgZmhpci5TcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkQ29udGFpbmVyQWRkaXRpdmUoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hZGRpdGl2ZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcmVwYXJhdGlvbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5wcmVwYXJhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucHJlcGFyYXRpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ByZXBhcmF0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMucHJlcGFyYXRpb24pIHsgdGhpcy5wcmVwYXJhdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcmVwYXJhdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnByZXBhcmF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ByZXBhcmF0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnU3BlY2ltZW5EZWZpbml0aW9uLnR5cGVUZXN0ZWQuY29udGFpbmVyJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF0ZXJpYWwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NhcCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGVzY3JpcHRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NhcGFjaXR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtaW5pbXVtVm9sdW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdhZGRpdGl2ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHJlcGFyYXRpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRIYW5kbGluZyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkSGFuZGxpbmdBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJdCBxdWFsaWZpZXMgdGhlIGludGVydmFsIG9mIHRlbXBlcmF0dXJlLCB3aGljaCBjaGFyYWN0ZXJpemVzIGFuIG9jY3VycmVuY2Ugb2YgaGFuZGxpbmcuIENvbmRpdGlvbnMgdGhhdCBhcmUgbm90IHJlbGF0ZWQgdG8gdGVtcGVyYXR1cmUgbWF5IGJlIGhhbmRsZWQgaW4gdGhlIGluc3RydWN0aW9uIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgdGVtcGVyYXR1cmVRdWFsaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0ZW1wZXJhdHVyZSBpbnRlcnZhbCBmb3IgdGhpcyBzZXQgb2YgaGFuZGxpbmcgaW5zdHJ1Y3Rpb25zLlxyXG4gICAqL1xyXG4gIHRlbXBlcmF0dXJlUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gdGltZSBpbnRlcnZhbCBvZiBwcmVzZXJ2YXRpb24gb2YgdGhlIHNwZWNpbWVuIHdpdGggdGhlc2UgY29uZGl0aW9ucy5cclxuICAgKi9cclxuICBtYXhEdXJhdGlvbj86IGZoaXIuRHVyYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIHRleHR1YWwgaW5zdHJ1Y3Rpb25zIGZvciB0aGUgcHJlc2VydmF0aW9uIG9yIHRyYW5zcG9ydCBvZiB0aGUgc3BlY2ltZW4uIEZvciBpbnN0YW5jZSwgJ1Byb3RlY3QgZnJvbSBsaWdodCBleHBvc3VyZScuXHJcbiAgICovXHJcbiAgaW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU3BlY2ltZW5EZWZpbml0aW9uLnR5cGVUZXN0ZWQuaGFuZGxpbmcuaW5zdHJ1Y3Rpb25cclxuICAgKi9cclxuICBfaW5zdHJ1Y3Rpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IG9mIGluc3RydWN0aW9ucyBmb3IgcHJlc2VydmF0aW9uL3RyYW5zcG9ydCBvZiB0aGUgc3BlY2ltZW4gYXQgYSBkZWZpbmVkIHRlbXBlcmF0dXJlIGludGVydmFsLCBwcmlvciB0aGUgdGVzdGluZyBwcm9jZXNzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRIYW5kbGluZyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1NwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRIYW5kbGluZyc7XHJcbiAgLyoqXHJcbiAgICogSXQgcXVhbGlmaWVzIHRoZSBpbnRlcnZhbCBvZiB0ZW1wZXJhdHVyZSwgd2hpY2ggY2hhcmFjdGVyaXplcyBhbiBvY2N1cnJlbmNlIG9mIGhhbmRsaW5nLiBDb25kaXRpb25zIHRoYXQgYXJlIG5vdCByZWxhdGVkIHRvIHRlbXBlcmF0dXJlIG1heSBiZSBoYW5kbGVkIGluIHRoZSBpbnN0cnVjdGlvbiBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZW1wZXJhdHVyZVF1YWxpZmllcj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGVtcGVyYXR1cmUgaW50ZXJ2YWwgZm9yIHRoaXMgc2V0IG9mIGhhbmRsaW5nIGluc3RydWN0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgdGVtcGVyYXR1cmVSYW5nZT86IGZoaXIuUmFuZ2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHRpbWUgaW50ZXJ2YWwgb2YgcHJlc2VydmF0aW9uIG9mIHRoZSBzcGVjaW1lbiB3aXRoIHRoZXNlIGNvbmRpdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1heER1cmF0aW9uPzogZmhpci5EdXJhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCB0ZXh0dWFsIGluc3RydWN0aW9ucyBmb3IgdGhlIHByZXNlcnZhdGlvbiBvciB0cmFuc3BvcnQgb2YgdGhlIHNwZWNpbWVuLiBGb3IgaW5zdGFuY2UsICdQcm90ZWN0IGZyb20gbGlnaHQgZXhwb3N1cmUnLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZEhhbmRsaW5nIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8U3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZEhhbmRsaW5nQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3RlbXBlcmF0dXJlUXVhbGlmaWVyJ10pIHsgdGhpcy50ZW1wZXJhdHVyZVF1YWxpZmllciA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudGVtcGVyYXR1cmVRdWFsaWZpZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0ZW1wZXJhdHVyZVJhbmdlJ10pIHsgdGhpcy50ZW1wZXJhdHVyZVJhbmdlID0gbmV3IGZoaXIuUmFuZ2Uoc291cmNlLnRlbXBlcmF0dXJlUmFuZ2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhEdXJhdGlvbiddKSB7IHRoaXMubWF4RHVyYXRpb24gPSBuZXcgZmhpci5EdXJhdGlvbihzb3VyY2UubWF4RHVyYXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnN0cnVjdGlvbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5pbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuaW5zdHJ1Y3Rpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2luc3RydWN0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaW5zdHJ1Y3Rpb24pIHsgdGhpcy5pbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pbnN0cnVjdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2luc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnU3BlY2ltZW5EZWZpbml0aW9uLnR5cGVUZXN0ZWQuaGFuZGxpbmcnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0ZW1wZXJhdHVyZVF1YWxpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndGVtcGVyYXR1cmVSYW5nZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF4RHVyYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2luc3RydWN0aW9uJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBQcmltYXJ5IG9mIHNlY29uZGFyeSBzcGVjaW1lbi5cclxuICAgKi9cclxuICBpc0Rlcml2ZWQ/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTcGVjaW1lbkRlZmluaXRpb24udHlwZVRlc3RlZC5pc0Rlcml2ZWRcclxuICAgKi9cclxuICBfaXNEZXJpdmVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBzcGVjaW1lbiBjb25kaXRpb25lZCBmb3IgdGVzdGluZyBleHBlY3RlZCBieSBsYWIuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByZWZlcmVuY2UgZm9yIHRoaXMgdHlwZSBvZiBjb25kaXRpb25lZCBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwcmVmZXJlbmNlOiBmaGlyLkZoaXJDb2RlPFNwZWNpbWVuQ29udGFpbmVkUHJlZmVyZW5jZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTcGVjaW1lbkRlZmluaXRpb24udHlwZVRlc3RlZC5wcmVmZXJlbmNlXHJcbiAgICovXHJcbiAgX3ByZWZlcmVuY2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaW1lbidzIGNvbnRhaW5lci5cclxuICAgKi9cclxuICBjb250YWluZXI/OiBmaGlyLlNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRDb250YWluZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZXF1aXJlbWVudHMgZm9yIGRlbGl2ZXJ5IGFuZCBzcGVjaWFsIGhhbmRsaW5nIG9mIHRoaXMga2luZCBvZiBjb25kaXRpb25lZCBzcGVjaW1lbi5cclxuICAgKi9cclxuICByZXF1aXJlbWVudD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBTcGVjaW1lbkRlZmluaXRpb24udHlwZVRlc3RlZC5yZXF1aXJlbWVudFxyXG4gICAqL1xyXG4gIF9yZXF1aXJlbWVudD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHVzdWFsIHRpbWUgdGhhdCBhIHNwZWNpbWVuIG9mIHRoaXMga2luZCBpcyByZXRhaW5lZCBhZnRlciB0aGUgb3JkZXJlZCB0ZXN0cyBhcmUgY29tcGxldGVkLCBmb3IgdGhlIHB1cnBvc2Ugb2YgYWRkaXRpb25hbCB0ZXN0aW5nLlxyXG4gICAqL1xyXG4gIHJldGVudGlvblRpbWU/OiBmaGlyLkR1cmF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ3JpdGVyaW9uIGZvciByZWplY3Rpb24gb2YgdGhlIHNwZWNpbWVuIGluIGl0cyBjb250YWluZXIgYnkgdGhlIGxhYm9yYXRvcnkuXHJcbiAgICovXHJcbiAgcmVqZWN0aW9uQ3JpdGVyaW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNldCBvZiBpbnN0cnVjdGlvbnMgZm9yIHByZXNlcnZhdGlvbi90cmFuc3BvcnQgb2YgdGhlIHNwZWNpbWVuIGF0IGEgZGVmaW5lZCB0ZW1wZXJhdHVyZSBpbnRlcnZhbCwgcHJpb3IgdGhlIHRlc3RpbmcgcHJvY2Vzcy5cclxuICAgKi9cclxuICBoYW5kbGluZz86IGZoaXIuU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZEhhbmRsaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNwZWNpbWVuIGNvbmRpdGlvbmVkIGluIGEgY29udGFpbmVyIGFzIGV4cGVjdGVkIGJ5IHRoZSB0ZXN0aW5nIGxhYm9yYXRvcnkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1NwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWQnO1xyXG4gIC8qKlxyXG4gICAqIFByaW1hcnkgb2Ygc2Vjb25kYXJ5IHNwZWNpbWVuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpc0Rlcml2ZWQ/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBzcGVjaW1lbiBjb25kaXRpb25lZCBmb3IgdGVzdGluZyBleHBlY3RlZCBieSBsYWIuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByZWZlcmVuY2UgZm9yIHRoaXMgdHlwZSBvZiBjb25kaXRpb25lZCBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJlZmVyZW5jZTogZmhpci5GaGlyQ29kZTxTcGVjaW1lbkNvbnRhaW5lZFByZWZlcmVuY2VDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2ltZW4ncyBjb250YWluZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhaW5lcj86IGZoaXIuU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZENvbnRhaW5lcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZW1lbnRzIGZvciBkZWxpdmVyeSBhbmQgc3BlY2lhbCBoYW5kbGluZyBvZiB0aGlzIGtpbmQgb2YgY29uZGl0aW9uZWQgc3BlY2ltZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVpcmVtZW50PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdXN1YWwgdGltZSB0aGF0IGEgc3BlY2ltZW4gb2YgdGhpcyBraW5kIGlzIHJldGFpbmVkIGFmdGVyIHRoZSBvcmRlcmVkIHRlc3RzIGFyZSBjb21wbGV0ZWQsIGZvciB0aGUgcHVycG9zZSBvZiBhZGRpdGlvbmFsIHRlc3RpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHJldGVudGlvblRpbWU/OiBmaGlyLkR1cmF0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDcml0ZXJpb24gZm9yIHJlamVjdGlvbiBvZiB0aGUgc3BlY2ltZW4gaW4gaXRzIGNvbnRhaW5lciBieSB0aGUgbGFib3JhdG9yeS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVqZWN0aW9uQ3JpdGVyaW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFNldCBvZiBpbnN0cnVjdGlvbnMgZm9yIHByZXNlcnZhdGlvbi90cmFuc3BvcnQgb2YgdGhlIHNwZWNpbWVuIGF0IGEgZGVmaW5lZCB0ZW1wZXJhdHVyZSBpbnRlcnZhbCwgcHJpb3IgdGhlIHRlc3RpbmcgcHJvY2Vzcy5cclxuICAgKi9cclxuICBwdWJsaWMgaGFuZGxpbmc6IGZoaXIuU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZEhhbmRsaW5nW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFNwZWNpbWVuRGVmaW5pdGlvblR5cGVUZXN0ZWRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaXNEZXJpdmVkJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmlzRGVyaXZlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmlzRGVyaXZlZH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfaXNEZXJpdmVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaXNEZXJpdmVkKSB7IHRoaXMuaXNEZXJpdmVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2lzRGVyaXZlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmlzRGVyaXZlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5faXNEZXJpdmVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZWZlcmVuY2UnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucHJlZmVyZW5jZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFNwZWNpbWVuQ29udGFpbmVkUHJlZmVyZW5jZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5wcmVmZXJlbmNlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByZWZlcmVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJlZmVyZW5jZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByZWZlcmVuY2UpIHsgdGhpcy5wcmVmZXJlbmNlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ByZWZlcmVuY2UhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcmVmZXJlbmNlID0gbmV3IGZoaXIuRmhpckNvZGU8U3BlY2ltZW5Db250YWluZWRQcmVmZXJlbmNlQ29kZVR5cGU+KHNvdXJjZS5fcHJlZmVyZW5jZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFpbmVyJ10pIHsgdGhpcy5jb250YWluZXIgPSBuZXcgZmhpci5TcGVjaW1lbkRlZmluaXRpb25UeXBlVGVzdGVkQ29udGFpbmVyKHNvdXJjZS5jb250YWluZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXF1aXJlbWVudCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5yZXF1aXJlbWVudCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucmVxdWlyZW1lbnR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlcXVpcmVtZW50J10pIHtcclxuICAgICAgaWYgKHRoaXMucmVxdWlyZW1lbnQpIHsgdGhpcy5yZXF1aXJlbWVudC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZXF1aXJlbWVudCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlcXVpcmVtZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3JlcXVpcmVtZW50IGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZXRlbnRpb25UaW1lJ10pIHsgdGhpcy5yZXRlbnRpb25UaW1lID0gbmV3IGZoaXIuRHVyYXRpb24oc291cmNlLnJldGVudGlvblRpbWUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWplY3Rpb25Dcml0ZXJpb24nXSkgeyB0aGlzLnJlamVjdGlvbkNyaXRlcmlvbiA9IHNvdXJjZS5yZWplY3Rpb25Dcml0ZXJpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWplY3Rpb25Dcml0ZXJpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaGFuZGxpbmcnXSkgeyB0aGlzLmhhbmRsaW5nID0gc291cmNlLmhhbmRsaW5nLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZEhhbmRsaW5nKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaGFuZGxpbmcgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1NwZWNpbWVuRGVmaW5pdGlvbi50eXBlVGVzdGVkJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaXNEZXJpdmVkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVigncHJlZmVyZW5jZScsZXhwLCdTcGVjaW1lbkNvbnRhaW5lZFByZWZlcmVuY2UnLFNwZWNpbWVuQ29udGFpbmVkUHJlZmVyZW5jZVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjb250YWluZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlcXVpcmVtZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZXRlbnRpb25UaW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdyZWplY3Rpb25Dcml0ZXJpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2hhbmRsaW5nJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBTcGVjaW1lbkRlZmluaXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BlY2ltZW5EZWZpbml0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiU3BlY2ltZW5EZWZpbml0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgYnVzaW5lc3MgaWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIGtpbmQgb2Ygc3BlY2ltZW4uXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIG1hdGVyaWFsIHRvIGJlIGNvbGxlY3RlZC5cclxuICAgKi9cclxuICB0eXBlQ29sbGVjdGVkPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcmVwYXJhdGlvbiBvZiB0aGUgcGF0aWVudCBmb3Igc3BlY2ltZW4gY29sbGVjdGlvbi5cclxuICAgKi9cclxuICBwYXRpZW50UHJlcGFyYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltZSBhc3BlY3Qgb2Ygc3BlY2ltZW4gY29sbGVjdGlvbiAoZHVyYXRpb24gb3Igb2Zmc2V0KS5cclxuICAgKi9cclxuICB0aW1lQXNwZWN0PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNwZWNpbWVuRGVmaW5pdGlvbi50aW1lQXNwZWN0XHJcbiAgICovXHJcbiAgX3RpbWVBc3BlY3Q/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIGZvciBjb2xsZWN0aW5nIHRoZSBzcGVjaW1lbi5cclxuICAgKi9cclxuICBjb2xsZWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpbWVuIGNvbmRpdGlvbmVkIGluIGEgY29udGFpbmVyIGFzIGV4cGVjdGVkIGJ5IHRoZSB0ZXN0aW5nIGxhYm9yYXRvcnkuXHJcbiAgICovXHJcbiAgdHlwZVRlc3RlZD86IGZoaXIuU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGtpbmQgb2Ygc3BlY2ltZW4gd2l0aCBhc3NvY2lhdGVkIHNldCBvZiByZXF1aXJlbWVudHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3BlY2ltZW5EZWZpbml0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTcGVjaW1lbkRlZmluaXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiU3BlY2ltZW5EZWZpbml0aW9uXCI7XHJcbiAgLyoqXHJcbiAgICogQSBidXNpbmVzcyBpZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUga2luZCBvZiBzcGVjaW1lbi5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGtpbmQgb2YgbWF0ZXJpYWwgdG8gYmUgY29sbGVjdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlQ29sbGVjdGVkPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFByZXBhcmF0aW9uIG9mIHRoZSBwYXRpZW50IGZvciBzcGVjaW1lbiBjb2xsZWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50UHJlcGFyYXRpb246IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGltZSBhc3BlY3Qgb2Ygc3BlY2ltZW4gY29sbGVjdGlvbiAoZHVyYXRpb24gb3Igb2Zmc2V0KS5cclxuICAgKi9cclxuICBwdWJsaWMgdGltZUFzcGVjdD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdGlvbiB0byBiZSBwZXJmb3JtZWQgZm9yIGNvbGxlY3RpbmcgdGhlIHNwZWNpbWVuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2xsZWN0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpbWVuIGNvbmRpdGlvbmVkIGluIGEgY29udGFpbmVyIGFzIGV4cGVjdGVkIGJ5IHRoZSB0ZXN0aW5nIGxhYm9yYXRvcnkuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGVUZXN0ZWQ6IGZoaXIuU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFNwZWNpbWVuRGVmaW5pdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFNwZWNpbWVuRGVmaW5pdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdTcGVjaW1lbkRlZmluaXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmlkZW50aWZpZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlQ29sbGVjdGVkJ10pIHsgdGhpcy50eXBlQ29sbGVjdGVkID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlQ29sbGVjdGVkLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF0aWVudFByZXBhcmF0aW9uJ10pIHsgdGhpcy5wYXRpZW50UHJlcGFyYXRpb24gPSBzb3VyY2UucGF0aWVudFByZXBhcmF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGF0aWVudFByZXBhcmF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RpbWVBc3BlY3QnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudGltZUFzcGVjdCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudGltZUFzcGVjdH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGltZUFzcGVjdCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRpbWVBc3BlY3QpIHsgdGhpcy50aW1lQXNwZWN0LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3RpbWVBc3BlY3QhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50aW1lQXNwZWN0ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3RpbWVBc3BlY3QgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbGxlY3Rpb24nXSkgeyB0aGlzLmNvbGxlY3Rpb24gPSBzb3VyY2UuY29sbGVjdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbGxlY3Rpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZVRlc3RlZCddKSB7IHRoaXMudHlwZVRlc3RlZCA9IHNvdXJjZS50eXBlVGVzdGVkLm1hcCgoeCkgPT4gbmV3IGZoaXIuU3BlY2ltZW5EZWZpbml0aW9uVHlwZVRlc3RlZCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGVUZXN0ZWQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1NwZWNpbWVuRGVmaW5pdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGVDb2xsZWN0ZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BhdGllbnRQcmVwYXJhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndGltZUFzcGVjdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY29sbGVjdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndHlwZVRlc3RlZCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=