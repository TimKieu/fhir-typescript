// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: RegulatedAuthorization
import * as fhir from '../fhir.js';
/**
 * The case or regulatory procedure for granting or amending a regulated authorization. An authorization is granted in response to submissions/applications by those seeking authorization. A case is the administrative process that deals with the application(s) that relate to this and assesses them. Note: This area is subject to ongoing review and the workgroup is seeking implementer feedback on its use (see link at bottom of page).
 */
export class RegulatedAuthorizationCase extends fhir.BackboneElement {
    /**
     * Default constructor for RegulatedAuthorizationCase - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['date']) {
            this.date = source.date;
        }
        else if (source['datePeriod']) {
            this.date = new fhir.Period(source.datePeriod);
        }
        else if (source['dateDateTime']) {
            this.date = new fhir.FhirDateTime({ value: source.dateDateTime });
        }
        if (source['application']) {
            this.application = source.application.map((x) => new fhir.RegulatedAuthorizationCase(x));
        }
        else {
            this.application = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'RegulatedAuthorization.case';
        }
        this.vOS('identifier', exp);
        this.vOS('type', exp);
        this.vOS('status', exp);
        this.vOS('date', exp);
        this.vOA('application', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
RegulatedAuthorizationCase._fts_dataType = 'RegulatedAuthorizationCase';
/**
 * Internal flag to properly serialize choice-type element RegulatedAuthorization.case.date[x]
 */
RegulatedAuthorizationCase._fts_dateIsChoice = true;
/**
 * Regulatory approval, clearance or licencing related to a regulated product, treatment, facility or activity that is cited in a guidance, regulation, rule or legislative act. An example is Market Authorization relating to a Medicinal Product.
 */
export class RegulatedAuthorization extends fhir.DomainResource {
    /**
     * Default constructor for RegulatedAuthorization - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'RegulatedAuthorization';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['subject']) {
            this.subject = source.subject.map((x) => new fhir.Reference(x));
        }
        else {
            this.subject = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description);
            }
        }
        if (source['region']) {
            this.region = source.region.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.region = [];
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['statusDate']) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate });
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDateTime(source._statusDate);
            }
        }
        if (source['validityPeriod']) {
            this.validityPeriod = new fhir.Period(source.validityPeriod);
        }
        if (source['indication']) {
            this.indication = new fhir.CodeableReference(source.indication);
        }
        if (source['intendedUse']) {
            this.intendedUse = new fhir.CodeableConcept(source.intendedUse);
        }
        if (source['basis']) {
            this.basis = source.basis.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.basis = [];
        }
        if (source['holder']) {
            this.holder = new fhir.Reference(source.holder);
        }
        if (source['regulator']) {
            this.regulator = new fhir.Reference(source.regulator);
        }
        if (source['case']) {
            this.case = new fhir.RegulatedAuthorizationCase(source.case);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'RegulatedAuthorization';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOA('subject', exp);
        this.vOS('type', exp);
        this.vOS('description', exp);
        this.vOA('region', exp);
        this.vOS('status', exp);
        this.vOS('statusDate', exp);
        this.vOS('validityPeriod', exp);
        this.vOS('indication', exp);
        this.vOS('intendedUse', exp);
        this.vOA('basis', exp);
        this.vOS('holder', exp);
        this.vOS('regulator', exp);
        this.vOS('case', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
RegulatedAuthorization._fts_dataType = 'RegulatedAuthorization';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVndWxhdGVkQXV0aG9yaXphdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvUmVndWxhdGVkQXV0aG9yaXphdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsZ0RBQWdEO0FBQ2hELGtDQUFrQztBQUNsQyx3Q0FBd0M7QUFFeEMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUE0RG5DOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDBCQUEyQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBNkJsRTs7T0FFRztJQUNILFlBQVksU0FBaUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDdkcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUFFO1FBQ3ZGLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FBRTtRQUNoRixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFFO2FBQzNDLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFD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LElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBdkhEOztHQUVHO0FBQzZCLG9DQUFhLEdBQVUsd0JBQXdCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBSZWd1bGF0ZWRBdXRob3JpemF0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWd1bGF0ZWRBdXRob3JpemF0aW9uQ2FzZVR5cGVDb2RlcywgIFJlZ3VsYXRlZEF1dGhvcml6YXRpb25DYXNlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWd1bGF0ZWRBdXRob3JpemF0aW9uQ2FzZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2VUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWd1bGF0ZWRBdXRob3JpemF0aW9uQ2FzZVR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzQ29kZXMsICBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlZ3VsYXRlZEF1dGhvcml6YXRpb25UeXBlQ29kZXMsICBSZWd1bGF0ZWRBdXRob3JpemF0aW9uVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWd1bGF0ZWRBdXRob3JpemF0aW9uVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWd1bGF0ZWRBdXRob3JpemF0aW9uVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVndWxhdGVkQXV0aG9yaXphdGlvblR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEp1cmlzZGljdGlvbkNvZGVzLCAgSnVyaXNkaWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0p1cmlzZGljdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBKdXJpc2RpY3Rpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0p1cmlzZGljdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvZHVjdEludGVuZGVkVXNlQ29kZXMsICBQcm9kdWN0SW50ZW5kZWRVc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvZHVjdEludGVuZGVkVXNlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2R1Y3RJbnRlbmRlZFVzZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvZHVjdEludGVuZGVkVXNlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWd1bGF0ZWRBdXRob3JpemF0aW9uQmFzaXNDb2RlcywgIFJlZ3VsYXRlZEF1dGhvcml6YXRpb25CYXNpc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWd1bGF0ZWRBdXRob3JpemF0aW9uQmFzaXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVndWxhdGVkQXV0aG9yaXphdGlvbkJhc2lzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWd1bGF0ZWRBdXRob3JpemF0aW9uQmFzaXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIGJ5IHdoaWNoIHRoaXMgY2FzZSBjYW4gYmUgcmVmZXJlbmNlZC5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlZmluaW5nIHR5cGUgb2YgY2FzZS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2FzZS5cclxuICAgKi9cclxuICBzdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlbGV2YW50IGRhdGUgZm9yIHRoaXMgY2FzZS5cclxuICAgKi9cclxuICBkYXRlPzogZmhpci5QZXJpb2R8Zmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlbGV2YW50IGRhdGUgZm9yIHRoaXMgY2FzZS5cclxuICAgKi9cclxuICBkYXRlUGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWxldmFudCBkYXRlIGZvciB0aGlzIGNhc2UuXHJcbiAgICovXHJcbiAgZGF0ZURhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHJlZ3VsYXRvcnkgc3VibWlzc2lvbiBmcm9tIGFuIG9yZ2FuaXphdGlvbiB0byBhIHJlZ3VsYXRvciwgYXMgcGFydCBvZiBhbiBhc3Nlc3NpbmcgY2FzZS4gTXVsdGlwbGUgYXBwbGljYXRpb25zIG1heSBvY2N1ciBvdmVyIHRpbWUsIHdpdGggbW9yZSBvciBkaWZmZXJlbnQgaW5mb3JtYXRpb24gdG8gc3VwcG9ydCBvciBtb2RpZnkgdGhlIHN1Ym1pc3Npb24gb3IgdGhlIGF1dGhvcml6YXRpb24uIFRoZSBhcHBsaWNhdGlvbnMgY2FuIGJlIGNvbnNpZGVyZWQgYXMgc3RlcHMgd2l0aGluIHRoZSBsb25nZXIgcnVubmluZyBjYXNlIG9yIHByb2NlZHVyZSBmb3IgdGhpcyBhdXRob3JpemF0aW9uIHByb2Nlc3MuXHJcbiAgICovXHJcbiAgYXBwbGljYXRpb24/OiBmaGlyLlJlZ3VsYXRlZEF1dGhvcml6YXRpb25DYXNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBjYXNlIG9yIHJlZ3VsYXRvcnkgcHJvY2VkdXJlIGZvciBncmFudGluZyBvciBhbWVuZGluZyBhIHJlZ3VsYXRlZCBhdXRob3JpemF0aW9uLiBBbiBhdXRob3JpemF0aW9uIGlzIGdyYW50ZWQgaW4gcmVzcG9uc2UgdG8gc3VibWlzc2lvbnMvYXBwbGljYXRpb25zIGJ5IHRob3NlIHNlZWtpbmcgYXV0aG9yaXphdGlvbi4gQSBjYXNlIGlzIHRoZSBhZG1pbmlzdHJhdGl2ZSBwcm9jZXNzIHRoYXQgZGVhbHMgd2l0aCB0aGUgYXBwbGljYXRpb24ocykgdGhhdCByZWxhdGUgdG8gdGhpcyBhbmQgYXNzZXNzZXMgdGhlbS4gTm90ZTogVGhpcyBhcmVhIGlzIHN1YmplY3QgdG8gb25nb2luZyByZXZpZXcgYW5kIHRoZSB3b3JrZ3JvdXAgaXMgc2Vla2luZyBpbXBsZW1lbnRlciBmZWVkYmFjayBvbiBpdHMgdXNlIChzZWUgbGluayBhdCBib3R0b20gb2YgcGFnZSkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdSZWd1bGF0ZWRBdXRob3JpemF0aW9uQ2FzZSc7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBieSB3aGljaCB0aGlzIGNhc2UgY2FuIGJlIHJlZmVyZW5jZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZWZpbmluZyB0eXBlIG9mIGNhc2UuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBhc3NvY2lhdGVkIHdpdGggdGhlIGNhc2UuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWxldmFudCBkYXRlIGZvciB0aGlzIGNhc2UuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiAoZmhpci5QZXJpb2R8Zmhpci5GaGlyRGF0ZVRpbWUpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IFJlZ3VsYXRlZEF1dGhvcml6YXRpb24uY2FzZS5kYXRlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2RhdGVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBBIHJlZ3VsYXRvcnkgc3VibWlzc2lvbiBmcm9tIGFuIG9yZ2FuaXphdGlvbiB0byBhIHJlZ3VsYXRvciwgYXMgcGFydCBvZiBhbiBhc3Nlc3NpbmcgY2FzZS4gTXVsdGlwbGUgYXBwbGljYXRpb25zIG1heSBvY2N1ciBvdmVyIHRpbWUsIHdpdGggbW9yZSBvciBkaWZmZXJlbnQgaW5mb3JtYXRpb24gdG8gc3VwcG9ydCBvciBtb2RpZnkgdGhlIHN1Ym1pc3Npb24gb3IgdGhlIGF1dGhvcml6YXRpb24uIFRoZSBhcHBsaWNhdGlvbnMgY2FuIGJlIGNvbnNpZGVyZWQgYXMgc3RlcHMgd2l0aGluIHRoZSBsb25nZXIgcnVubmluZyBjYXNlIG9yIHByb2NlZHVyZSBmb3IgdGhpcyBhdXRob3JpemF0aW9uIHByb2Nlc3MuXHJcbiAgICovXHJcbiAgcHVibGljIGFwcGxpY2F0aW9uOiBmaGlyLlJlZ3VsYXRlZEF1dGhvcml6YXRpb25DYXNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxSZWd1bGF0ZWRBdXRob3JpemF0aW9uQ2FzZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UuaWRlbnRpZmllcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IHNvdXJjZS5kYXRlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RhdGVQZXJpb2QnXSkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLmRhdGVQZXJpb2QpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RhdGVEYXRlVGltZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlRGF0ZVRpbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXBwbGljYXRpb24nXSkgeyB0aGlzLmFwcGxpY2F0aW9uID0gc291cmNlLmFwcGxpY2F0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hcHBsaWNhdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUmVndWxhdGVkQXV0aG9yaXphdGlvbi5jYXNlJyB9XHJcbiAgICB0aGlzLnZPUygnaWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3R5cGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdzdGF0dXMnLGV4cClcclxuICAgIHRoaXMudk9TKCdkYXRlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnYXBwbGljYXRpb24nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBSZWd1bGF0ZWRBdXRob3JpemF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFJlZ3VsYXRlZEF1dGhvcml6YXRpb25BcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJSZWd1bGF0ZWRBdXRob3JpemF0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEJ1c2luZXNzIGlkZW50aWZpZXIgZm9yIHRoZSBhdXRob3JpemF0aW9uLCB0eXBpY2FsbHkgYXNzaWduZWQgYnkgdGhlIGF1dGhvcml6aW5nIGJvZHkuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3QgdHlwZSwgdHJlYXRtZW50LCBmYWNpbGl0eSBvciBhY3Rpdml0eSB0aGF0IGlzIGJlaW5nIGF1dGhvcml6ZWQuXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPdmVyYWxsIHR5cGUgb2YgdGhpcyBhdXRob3JpemF0aW9uLCBmb3IgZXhhbXBsZSBkcnVnIG1hcmtldGluZyBhcHByb3ZhbCwgb3JwaGFuIGRydWcgZGVzaWduYXRpb24uXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogR2VuZXJhbCB0ZXh0dWFsIHN1cHBvcnRpbmcgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBSZWd1bGF0ZWRBdXRob3JpemF0aW9uLmRlc2NyaXB0aW9uXHJcbiAgICovXHJcbiAgX2Rlc2NyaXB0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdGVycml0b3J5IChlLmcuLCBjb3VudHJ5LCBqdXJpc2RpY3Rpb24gZXRjLikgaW4gd2hpY2ggdGhlIGF1dGhvcml6YXRpb24gaGFzIGJlZW4gZ3JhbnRlZC5cclxuICAgKi9cclxuICByZWdpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyB0aGF0IGlzIGF1dGhvcmlzZWQgZS5nLiBhcHByb3ZlZC4gSW50ZXJtZWRpYXRlIHN0YXRlcyBhbmQgYWN0aW9ucyBjYW4gYmUgdHJhY2tlZCB3aXRoIGNhc2VzIGFuZCBhcHBsaWNhdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhdCB3aGljaCB0aGUgY3VycmVudCBzdGF0dXMgd2FzIGFzc2lnbmVkLlxyXG4gICAqL1xyXG4gIHN0YXR1c0RhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBSZWd1bGF0ZWRBdXRob3JpemF0aW9uLnN0YXR1c0RhdGVcclxuICAgKi9cclxuICBfc3RhdHVzRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgcGVyaW9kIGluIHdoaWNoIHRoZSByZWd1bGF0b3J5IGFwcHJvdmFsLCBjbGVhcmFuY2Ugb3IgbGljZW5jaW5nIGlzIGluIGVmZmVjdC4gQXMgYW4gZXhhbXBsZSwgYSBNYXJrZXRpbmcgQXV0aG9yaXphdGlvbiBpbmNsdWRlcyB0aGUgZGF0ZSBvZiBhdXRob3JpemF0aW9uIGFuZC9vciBhbiBleHBpcmF0aW9uIGRhdGUuXHJcbiAgICovXHJcbiAgdmFsaWRpdHlQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbmRpdGlvbiBmb3Igd2hpY2ggdGhlIHVzZSBvZiB0aGUgcmVndWxhdGVkIHByb2R1Y3QgYXBwbGllcy5cclxuICAgKi9cclxuICBpbmRpY2F0aW9uPzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlbmRlZCB1c2Ugb2YgdGhlIHByb2R1Y3QsIGUuZy4gcHJldmVudGlvbiwgdHJlYXRtZW50LCBkaWFnbm9zaXMuXHJcbiAgICovXHJcbiAgaW50ZW5kZWRVc2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsZWdhbCBvciByZWd1bGF0b3J5IGZyYW1ld29yayBhZ2FpbnN0IHdoaWNoIHRoaXMgYXV0aG9yaXphdGlvbiBpcyBncmFudGVkLCBvciBvdGhlciByZWFzb25zIGZvciBpdC5cclxuICAgKi9cclxuICBiYXNpcz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JnYW5pemF0aW9uIHRoYXQgaGFzIGJlZW4gZ3JhbnRlZCB0aGlzIGF1dGhvcml6YXRpb24sIGJ5IHNvbWUgYXV0aG9yaXRhdGl2ZSBib2R5ICh0aGUgJ3JlZ3VsYXRvcicpLlxyXG4gICAqL1xyXG4gIGhvbGRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlZ3VsYXRvcnkgYXV0aG9yaXR5IG9yIGF1dGhvcml6aW5nIGJvZHkgZ3JhbnRpbmcgdGhlIGF1dGhvcml6YXRpb24uIEZvciBleGFtcGxlLCBFdXJvcGVhbiBNZWRpY2luZXMgQWdlbmN5IChFTUEpLCBGb29kIGFuZCBEcnVnIEFkbWluaXN0cmF0aW9uIChGREEpLCBIZWFsdGggQ2FuYWRhIChIQyksIGV0Yy5cclxuICAgKi9cclxuICByZWd1bGF0b3I/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjYXNlIG9yIHJlZ3VsYXRvcnkgcHJvY2VkdXJlIGZvciBncmFudGluZyBvciBhbWVuZGluZyBhIHJlZ3VsYXRlZCBhdXRob3JpemF0aW9uLiBBbiBhdXRob3JpemF0aW9uIGlzIGdyYW50ZWQgaW4gcmVzcG9uc2UgdG8gc3VibWlzc2lvbnMvYXBwbGljYXRpb25zIGJ5IHRob3NlIHNlZWtpbmcgYXV0aG9yaXphdGlvbi4gQSBjYXNlIGlzIHRoZSBhZG1pbmlzdHJhdGl2ZSBwcm9jZXNzIHRoYXQgZGVhbHMgd2l0aCB0aGUgYXBwbGljYXRpb24ocykgdGhhdCByZWxhdGUgdG8gdGhpcyBhbmQgYXNzZXNzZXMgdGhlbS4gTm90ZTogVGhpcyBhcmVhIGlzIHN1YmplY3QgdG8gb25nb2luZyByZXZpZXcgYW5kIHRoZSB3b3JrZ3JvdXAgaXMgc2Vla2luZyBpbXBsZW1lbnRlciBmZWVkYmFjayBvbiBpdHMgdXNlIChzZWUgbGluayBhdCBib3R0b20gb2YgcGFnZSkuXHJcbiAgICovXHJcbiAgY2FzZT86IGZoaXIuUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ3VsYXRvcnkgYXBwcm92YWwsIGNsZWFyYW5jZSBvciBsaWNlbmNpbmcgcmVsYXRlZCB0byBhIHJlZ3VsYXRlZCBwcm9kdWN0LCB0cmVhdG1lbnQsIGZhY2lsaXR5IG9yIGFjdGl2aXR5IHRoYXQgaXMgY2l0ZWQgaW4gYSBndWlkYW5jZSwgcmVndWxhdGlvbiwgcnVsZSBvciBsZWdpc2xhdGl2ZSBhY3QuIEFuIGV4YW1wbGUgaXMgTWFya2V0IEF1dGhvcml6YXRpb24gcmVsYXRpbmcgdG8gYSBNZWRpY2luYWwgUHJvZHVjdC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBSZWd1bGF0ZWRBdXRob3JpemF0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdSZWd1bGF0ZWRBdXRob3JpemF0aW9uJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlJlZ3VsYXRlZEF1dGhvcml6YXRpb25cIjtcclxuICAvKipcclxuICAgKiBCdXNpbmVzcyBpZGVudGlmaWVyIGZvciB0aGUgYXV0aG9yaXphdGlvbiwgdHlwaWNhbGx5IGFzc2lnbmVkIGJ5IHRoZSBhdXRob3JpemluZyBib2R5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCB0eXBlLCB0cmVhdG1lbnQsIGZhY2lsaXR5IG9yIGFjdGl2aXR5IHRoYXQgaXMgYmVpbmcgYXV0aG9yaXplZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBPdmVyYWxsIHR5cGUgb2YgdGhpcyBhdXRob3JpemF0aW9uLCBmb3IgZXhhbXBsZSBkcnVnIG1hcmtldGluZyBhcHByb3ZhbCwgb3JwaGFuIGRydWcgZGVzaWduYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogR2VuZXJhbCB0ZXh0dWFsIHN1cHBvcnRpbmcgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0ZXJyaXRvcnkgKGUuZy4sIGNvdW50cnksIGp1cmlzZGljdGlvbiBldGMuKSBpbiB3aGljaCB0aGUgYXV0aG9yaXphdGlvbiBoYXMgYmVlbiBncmFudGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWdpb246IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyB0aGF0IGlzIGF1dGhvcmlzZWQgZS5nLiBhcHByb3ZlZC4gSW50ZXJtZWRpYXRlIHN0YXRlcyBhbmQgYWN0aW9ucyBjYW4gYmUgdHJhY2tlZCB3aXRoIGNhc2VzIGFuZCBhcHBsaWNhdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhdCB3aGljaCB0aGUgY3VycmVudCBzdGF0dXMgd2FzIGFzc2lnbmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBpbiB3aGljaCB0aGUgcmVndWxhdG9yeSBhcHByb3ZhbCwgY2xlYXJhbmNlIG9yIGxpY2VuY2luZyBpcyBpbiBlZmZlY3QuIEFzIGFuIGV4YW1wbGUsIGEgTWFya2V0aW5nIEF1dGhvcml6YXRpb24gaW5jbHVkZXMgdGhlIGRhdGUgb2YgYXV0aG9yaXphdGlvbiBhbmQvb3IgYW4gZXhwaXJhdGlvbiBkYXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWxpZGl0eVBlcmlvZD86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb25kaXRpb24gZm9yIHdoaWNoIHRoZSB1c2Ugb2YgdGhlIHJlZ3VsYXRlZCBwcm9kdWN0IGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGluZGljYXRpb24/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW50ZW5kZWQgdXNlIG9mIHRoZSBwcm9kdWN0LCBlLmcuIHByZXZlbnRpb24sIHRyZWF0bWVudCwgZGlhZ25vc2lzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnRlbmRlZFVzZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGVnYWwgb3IgcmVndWxhdG9yeSBmcmFtZXdvcmsgYWdhaW5zdCB3aGljaCB0aGlzIGF1dGhvcml6YXRpb24gaXMgZ3JhbnRlZCwgb3Igb3RoZXIgcmVhc29ucyBmb3IgaXQuXHJcbiAgICovXHJcbiAgcHVibGljIGJhc2lzOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbml6YXRpb24gdGhhdCBoYXMgYmVlbiBncmFudGVkIHRoaXMgYXV0aG9yaXphdGlvbiwgYnkgc29tZSBhdXRob3JpdGF0aXZlIGJvZHkgKHRoZSAncmVndWxhdG9yJykuXHJcbiAgICovXHJcbiAgcHVibGljIGhvbGRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVndWxhdG9yeSBhdXRob3JpdHkgb3IgYXV0aG9yaXppbmcgYm9keSBncmFudGluZyB0aGUgYXV0aG9yaXphdGlvbi4gRm9yIGV4YW1wbGUsIEV1cm9wZWFuIE1lZGljaW5lcyBBZ2VuY3kgKEVNQSksIEZvb2QgYW5kIERydWcgQWRtaW5pc3RyYXRpb24gKEZEQSksIEhlYWx0aCBDYW5hZGEgKEhDKSwgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWd1bGF0b3I/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNhc2Ugb3IgcmVndWxhdG9yeSBwcm9jZWR1cmUgZm9yIGdyYW50aW5nIG9yIGFtZW5kaW5nIGEgcmVndWxhdGVkIGF1dGhvcml6YXRpb24uIEFuIGF1dGhvcml6YXRpb24gaXMgZ3JhbnRlZCBpbiByZXNwb25zZSB0byBzdWJtaXNzaW9ucy9hcHBsaWNhdGlvbnMgYnkgdGhvc2Ugc2Vla2luZyBhdXRob3JpemF0aW9uLiBBIGNhc2UgaXMgdGhlIGFkbWluaXN0cmF0aXZlIHByb2Nlc3MgdGhhdCBkZWFscyB3aXRoIHRoZSBhcHBsaWNhdGlvbihzKSB0aGF0IHJlbGF0ZSB0byB0aGlzIGFuZCBhc3Nlc3NlcyB0aGVtLiBOb3RlOiBUaGlzIGFyZWEgaXMgc3ViamVjdCB0byBvbmdvaW5nIHJldmlldyBhbmQgdGhlIHdvcmtncm91cCBpcyBzZWVraW5nIGltcGxlbWVudGVyIGZlZWRiYWNrIG9uIGl0cyB1c2UgKHNlZSBsaW5rIGF0IGJvdHRvbSBvZiBwYWdlKS5cclxuICAgKi9cclxuICBwdWJsaWMgY2FzZT86IGZoaXIuUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFJlZ3VsYXRlZEF1dGhvcml6YXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxSZWd1bGF0ZWRBdXRob3JpemF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ1JlZ3VsYXRlZEF1dGhvcml6YXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IHNvdXJjZS5zdWJqZWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViamVjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bihzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyTWFya2Rvd25BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZ2lvbiddKSB7IHRoaXMucmVnaW9uID0gc291cmNlLnJlZ2lvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZ2lvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzRGF0ZSddKSB7IHRoaXMuc3RhdHVzRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5zdGF0dXNEYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXNEYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzRGF0ZSkgeyB0aGlzLnN0YXR1c0RhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1c0RhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9zdGF0dXNEYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbGlkaXR5UGVyaW9kJ10pIHsgdGhpcy52YWxpZGl0eVBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UudmFsaWRpdHlQZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbmRpY2F0aW9uJ10pIHsgdGhpcy5pbmRpY2F0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLmluZGljYXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlbmRlZFVzZSddKSB7IHRoaXMuaW50ZW5kZWRVc2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmludGVuZGVkVXNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmFzaXMnXSkgeyB0aGlzLmJhc2lzID0gc291cmNlLmJhc2lzLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYmFzaXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaG9sZGVyJ10pIHsgdGhpcy5ob2xkZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmhvbGRlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZ3VsYXRvciddKSB7IHRoaXMucmVndWxhdG9yID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWd1bGF0b3IpOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXNlJ10pIHsgdGhpcy5jYXNlID0gbmV3IGZoaXIuUmVndWxhdGVkQXV0aG9yaXphdGlvbkNhc2Uoc291cmNlLmNhc2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUmVndWxhdGVkQXV0aG9yaXphdGlvbicgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9BKCdzdWJqZWN0JyxleHApXHJcbiAgICB0aGlzLnZPUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPQSgncmVnaW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygnc3RhdHVzJyxleHApXHJcbiAgICB0aGlzLnZPUygnc3RhdHVzRGF0ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3ZhbGlkaXR5UGVyaW9kJyxleHApXHJcbiAgICB0aGlzLnZPUygnaW5kaWNhdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2ludGVuZGVkVXNlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnYmFzaXMnLGV4cClcclxuICAgIHRoaXMudk9TKCdob2xkZXInLGV4cClcclxuICAgIHRoaXMudk9TKCdyZWd1bGF0b3InLGV4cClcclxuICAgIHRoaXMudk9TKCdjYXNlJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=