// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: NutritionOrder
import * as fhir from '../fhir.js';
// @ts-ignore
import { RequestStatusVsValidation } from '../fhirValueSets/RequestStatusVsValidation.js';
// @ts-ignore
import { RequestIntentVsValidation } from '../fhirValueSets/RequestIntentVsValidation.js';
/**
 * Class that defines the quantity and type of nutrient modifications (for example carbohydrate, fiber or sodium) required for the oral diet.
 */
export class NutritionOrderOralDietNutrient extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDietNutrient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['modifier']) {
            this.modifier = new fhir.CodeableConcept(source.modifier, options);
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet.nutrient';
        }
        iss.push(...this.vOS('modifier', exp));
        iss.push(...this.vOS('amount', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDietNutrient._fts_dataType = 'NutritionOrderOralDietNutrient';
/**
 * Class that describes any texture modifications required for the patient to safely consume various types of solid foods.
 */
export class NutritionOrderOralDietTexture extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDietTexture - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['modifier']) {
            this.modifier = new fhir.CodeableConcept(source.modifier, options);
        }
        if (source['foodType']) {
            this.foodType = new fhir.CodeableConcept(source.foodType, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet.texture';
        }
        iss.push(...this.vOS('modifier', exp));
        iss.push(...this.vOS('foodType', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDietTexture._fts_dataType = 'NutritionOrderOralDietTexture';
/**
 * Diet given orally in contrast to enteral (tube) feeding.
 */
export class NutritionOrderOralDiet extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDiet - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.type = [];
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.Timing(x, options));
        }
        else {
            this.schedule = [];
        }
        if (source['nutrient']) {
            this.nutrient = source.nutrient.map((x) => new fhir.NutritionOrderOralDietNutrient(x, options));
        }
        else {
            this.nutrient = [];
        }
        if (source['texture']) {
            this.texture = source.texture.map((x) => new fhir.NutritionOrderOralDietTexture(x, options));
        }
        else {
            this.texture = [];
        }
        if (source['fluidConsistencyType']) {
            this.fluidConsistencyType = source.fluidConsistencyType.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.fluidConsistencyType = [];
        }
        if (source['instruction'] !== undefined) {
            this.instruction = new fhir.FhirString({ value: source.instruction }, options);
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet';
        }
        iss.push(...this.vOA('type', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOA('nutrient', exp));
        iss.push(...this.vOA('texture', exp));
        iss.push(...this.vOA('fluidConsistencyType', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDiet._fts_dataType = 'NutritionOrderOralDiet';
/**
 * Oral nutritional products given in order to add further nutritional value to the patient's diet.
 */
export class NutritionOrderSupplement extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderSupplement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['productName'] !== undefined) {
            this.productName = new fhir.FhirString({ value: source.productName }, options);
        }
        if (source['_productName']) {
            if (this.productName) {
                this.productName.addExtendedProperties(source._productName);
            }
            else {
                this.productName = new fhir.FhirString(source._productName, options);
            }
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.Timing(x, options));
        }
        else {
            this.schedule = [];
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['instruction'] !== undefined) {
            this.instruction = new fhir.FhirString({ value: source.instruction }, options);
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.supplement';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('productName', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderSupplement._fts_dataType = 'NutritionOrderSupplement';
/**
 * See implementation notes below for further discussion on how to order continuous vs bolus enteral feeding using this resource.
 */
export class NutritionOrderEnteralFormulaAdministration extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderEnteralFormulaAdministration - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['schedule']) {
            this.schedule = new fhir.Timing(source.schedule, options);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateQuantity']) {
            this.rate = new fhir.Quantity(source.rateQuantity, options);
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.enteralFormula.administration';
        }
        iss.push(...this.vOS('schedule', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('rate', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderEnteralFormulaAdministration._fts_dataType = 'NutritionOrderEnteralFormulaAdministration';
/**
 * Internal flag to properly serialize choice-type element NutritionOrder.enteralFormula.administration.rate[x]
 */
NutritionOrderEnteralFormulaAdministration._fts_rateIsChoice = true;
/**
 * Feeding provided through the gastrointestinal tract via a tube, catheter, or stoma that delivers nutrition distal to the oral cavity.
 */
export class NutritionOrderEnteralFormula extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderEnteralFormula - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['baseFormulaType']) {
            this.baseFormulaType = new fhir.CodeableConcept(source.baseFormulaType, options);
        }
        if (source['baseFormulaProductName'] !== undefined) {
            this.baseFormulaProductName = new fhir.FhirString({ value: source.baseFormulaProductName }, options);
        }
        if (source['_baseFormulaProductName']) {
            if (this.baseFormulaProductName) {
                this.baseFormulaProductName.addExtendedProperties(source._baseFormulaProductName);
            }
            else {
                this.baseFormulaProductName = new fhir.FhirString(source._baseFormulaProductName, options);
            }
        }
        if (source['additiveType']) {
            this.additiveType = new fhir.CodeableConcept(source.additiveType, options);
        }
        if (source['additiveProductName'] !== undefined) {
            this.additiveProductName = new fhir.FhirString({ value: source.additiveProductName }, options);
        }
        if (source['_additiveProductName']) {
            if (this.additiveProductName) {
                this.additiveProductName.addExtendedProperties(source._additiveProductName);
            }
            else {
                this.additiveProductName = new fhir.FhirString(source._additiveProductName, options);
            }
        }
        if (source['caloricDensity']) {
            this.caloricDensity = new fhir.Quantity(source.caloricDensity, options);
        }
        if (source['routeofAdministration']) {
            this.routeofAdministration = new fhir.CodeableConcept(source.routeofAdministration, options);
        }
        if (source['administration']) {
            this.administration = source.administration.map((x) => new fhir.NutritionOrderEnteralFormulaAdministration(x, options));
        }
        else {
            this.administration = [];
        }
        if (source['maxVolumeToDeliver']) {
            this.maxVolumeToDeliver = new fhir.Quantity(source.maxVolumeToDeliver, options);
        }
        if (source['administrationInstruction'] !== undefined) {
            this.administrationInstruction = new fhir.FhirString({ value: source.administrationInstruction }, options);
        }
        if (source['_administrationInstruction']) {
            if (this.administrationInstruction) {
                this.administrationInstruction.addExtendedProperties(source._administrationInstruction);
            }
            else {
                this.administrationInstruction = new fhir.FhirString(source._administrationInstruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.enteralFormula';
        }
        iss.push(...this.vOS('baseFormulaType', exp));
        iss.push(...this.vOS('baseFormulaProductName', exp));
        iss.push(...this.vOS('additiveType', exp));
        iss.push(...this.vOS('additiveProductName', exp));
        iss.push(...this.vOS('caloricDensity', exp));
        iss.push(...this.vOS('routeofAdministration', exp));
        iss.push(...this.vOA('administration', exp));
        iss.push(...this.vOS('maxVolumeToDeliver', exp));
        iss.push(...this.vOS('administrationInstruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderEnteralFormula._fts_dataType = 'NutritionOrderEnteralFormula';
/**
 * A request to supply a diet, formula feeding (enteral) or oral nutritional supplement to a patient/resident.
 */
export class NutritionOrder extends fhir.DomainResource {
    /**
     * Default constructor for NutritionOrder - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'NutritionOrder';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['instantiatesCanonical'] !== undefined) {
            this.instantiatesCanonical = source.instantiatesCanonical.map((x) => new fhir.FhirCanonical({ value: x }, options));
        }
        else {
            this.instantiatesCanonical = [];
        }
        if (source['_instantiatesCanonical']) {
            source._instantiatesCanonical.forEach((x, i) => {
                if (this.instantiatesCanonical.length >= i) {
                    if (x) {
                        this.instantiatesCanonical[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.instantiatesCanonical.push(new fhir.FhirCanonical(x));
                    }
                }
            });
        }
        if (source['instantiatesUri'] !== undefined) {
            this.instantiatesUri = source.instantiatesUri.map((x) => new fhir.FhirUri({ value: x }, options));
        }
        else {
            this.instantiatesUri = [];
        }
        if (source['_instantiatesUri']) {
            source._instantiatesUri.forEach((x, i) => {
                if (this.instantiatesUri.length >= i) {
                    if (x) {
                        this.instantiatesUri[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.instantiatesUri.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['instantiates'] !== undefined) {
            this.instantiates = source.instantiates.map((x) => new fhir.FhirUri({ value: x }, options));
        }
        else {
            this.instantiates = [];
        }
        if (source['_instantiates']) {
            source._instantiates.forEach((x, i) => {
                if (this.instantiates.length >= i) {
                    if (x) {
                        this.instantiates[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.instantiates.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['intent'] !== undefined) {
            this.intent = new fhir.FhirCode({ value: source.intent }, options);
        }
        else {
            this.intent = null;
        }
        if (source['_intent']) {
            if (this.intent) {
                this.intent.addExtendedProperties(source._intent);
            }
            else {
                this.intent = new fhir.FhirCode(source._intent, options);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        else {
            this.patient = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter, options);
        }
        if (source['dateTime'] !== undefined) {
            this.dateTime = new fhir.FhirDateTime({ value: source.dateTime }, options);
        }
        else {
            this.dateTime = null;
        }
        if (source['_dateTime']) {
            if (this.dateTime) {
                this.dateTime.addExtendedProperties(source._dateTime);
            }
            else {
                this.dateTime = new fhir.FhirDateTime(source._dateTime, options);
            }
        }
        if (source['orderer']) {
            this.orderer = new fhir.Reference(source.orderer, options);
        }
        if (source['allergyIntolerance']) {
            this.allergyIntolerance = source.allergyIntolerance.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.allergyIntolerance = [];
        }
        if (source['foodPreferenceModifier']) {
            this.foodPreferenceModifier = source.foodPreferenceModifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.foodPreferenceModifier = [];
        }
        if (source['excludeFoodModifier']) {
            this.excludeFoodModifier = source.excludeFoodModifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.excludeFoodModifier = [];
        }
        if (source['oralDiet']) {
            this.oralDiet = new fhir.NutritionOrderOralDiet(source.oralDiet, options);
        }
        if (source['supplement']) {
            this.supplement = source.supplement.map((x) => new fhir.NutritionOrderSupplement(x, options));
        }
        else {
            this.supplement = [];
        }
        if (source['enteralFormula']) {
            this.enteralFormula = new fhir.NutritionOrderEnteralFormula(source.enteralFormula, options);
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x, options));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOA('instantiatesCanonical', exp));
        iss.push(...this.vOA('instantiatesUri', exp));
        iss.push(...this.vOA('instantiates', exp));
        iss.push(...this.vRSV('status', exp, 'RequestStatus', RequestStatusVsValidation, 'r'));
        iss.push(...this.vRSV('intent', exp, 'RequestIntent', RequestIntentVsValidation, 'r'));
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vRS('dateTime', exp));
        iss.push(...this.vOS('orderer', exp));
        iss.push(...this.vOA('allergyIntolerance', exp));
        iss.push(...this.vOA('foodPreferenceModifier', exp));
        iss.push(...this.vOA('excludeFoodModifier', exp));
        iss.push(...this.vOS('oralDiet', exp));
        iss.push(...this.vOA('supplement', exp));
        iss.push(...this.vOS('enteralFormula', exp));
        iss.push(...this.vOA('note', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrder._fts_dataType = 'NutritionOrder';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTnV0cml0aW9uT3JkZXIuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL051dHJpdGlvbk9yZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQixnREFBZ0Q7QUFDaEQsa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUVoQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQXdDbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLCtDQUErQyxDQUFDO0FBRzFGLGFBQWE7QUFDYixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQXVCMUY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sOEJBQStCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhdEU7O09BRUc7SUFDSCxZQUFZLFNBQXFELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzNHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDL0YsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7SUFDcEYsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLGtDQUFrQyxDQUFBO1NBQUU7UUFDNUQsR0FBRyxD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Q0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXZLRDs7R0FFRztBQUM2Qiw0QkFBYSxHQUFVLGdCQUFnQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0Yi5jb3JlIHZlcnNpb246IDQuMy4wXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogTnV0cml0aW9uT3JkZXJcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE51dHJpZW50Q29kZXMsICBOdXRyaWVudENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9OdXRyaWVudENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBOdXRyaWVudFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTnV0cmllbnRWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRleHR1cmVDb2RlcywgIFRleHR1cmVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGV4dHVyZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUZXh0dXJlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UZXh0dXJlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNb2RpZmllZEZvb2R0eXBlQ29kZXMsICBNb2RpZmllZEZvb2R0eXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01vZGlmaWVkRm9vZHR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTW9kaWZpZWRGb29kdHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTW9kaWZpZWRGb29kdHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGlldFR5cGVDb2RlcywgIERpZXRUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RpZXRUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpZXRUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWV0VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uc2lzdGVuY3lUeXBlQ29kZXMsICBDb25zaXN0ZW5jeVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2lzdGVuY3lUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNpc3RlbmN5VHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uc2lzdGVuY3lUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTdXBwbGVtZW50VHlwZUNvZGVzLCAgU3VwcGxlbWVudFR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3VwcGxlbWVudFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU3VwcGxlbWVudFR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1N1cHBsZW1lbnRUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbnRmb3JtdWxhVHlwZUNvZGVzLCAgRW50Zm9ybXVsYVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW50Zm9ybXVsYVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW50Zm9ybXVsYVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VudGZvcm11bGFUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbnRmb3JtdWxhQWRkaXRpdmVDb2RlcywgIEVudGZvcm11bGFBZGRpdGl2ZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbnRmb3JtdWxhQWRkaXRpdmVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW50Zm9ybXVsYUFkZGl0aXZlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbnRmb3JtdWxhQWRkaXRpdmVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVudGVyYWxSb3V0ZUNvZGVzLCAgRW50ZXJhbFJvdXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VudGVyYWxSb3V0ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbnRlcmFsUm91dGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VudGVyYWxSb3V0ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVxdWVzdFN0YXR1c0NvZGVzLCAgUmVxdWVzdFN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXF1ZXN0U3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlcXVlc3RTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcXVlc3RTdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlcXVlc3RJbnRlbnRDb2RlcywgIFJlcXVlc3RJbnRlbnRDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVxdWVzdEludGVudENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXF1ZXN0SW50ZW50VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXF1ZXN0SW50ZW50VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJEaWV0Q29kZXMsICBFbmNvdW50ZXJEaWV0Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VuY291bnRlckRpZXRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyRGlldFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW5jb3VudGVyRGlldFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm9vZFR5cGVDb2RlcywgIEZvb2RUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Zvb2RUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZvb2RUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Gb29kVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51dHJpZW50IHRoYXQgaXMgYmVpbmcgbW9kaWZpZWQgc3VjaCBhcyBjYXJib2h5ZHJhdGUgb3Igc29kaXVtLlxyXG4gICAqL1xyXG4gIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhlIHNwZWNpZmllZCBudXRyaWVudCB0byBpbmNsdWRlIGluIGRpZXQuXHJcbiAgICovXHJcbiAgYW1vdW50PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgdGhhdCBkZWZpbmVzIHRoZSBxdWFudGl0eSBhbmQgdHlwZSBvZiBudXRyaWVudCBtb2RpZmljYXRpb25zIChmb3IgZXhhbXBsZSBjYXJib2h5ZHJhdGUsIGZpYmVyIG9yIHNvZGl1bSkgcmVxdWlyZWQgZm9yIHRoZSBvcmFsIGRpZXQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50JztcclxuICAvKipcclxuICAgKiBUaGUgbnV0cmllbnQgdGhhdCBpcyBiZWluZyBtb2RpZmllZCBzdWNoIGFzIGNhcmJvaHlkcmF0ZSBvciBzb2RpdW0uXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG51dHJpZW50IHRvIGluY2x1ZGUgaW4gZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21vZGlmaWVyJ10pIHsgdGhpcy5tb2RpZmllciA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubW9kaWZpZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhbW91bnQnXSkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5hbW91bnQsIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIub3JhbERpZXQubnV0cmllbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtb2RpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYW1vdW50JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENvdXBsZWQgd2l0aCB0aGUgZm9vZFR5cGUgKE1lYXQpLlxyXG4gICAqL1xyXG4gIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb3VwbGVkIHdpdGggdGhlIGB0ZXh0dXJlLm1vZGlmaWVyYDsgY291bGQgYmUgKEFsbCBGb29kcykuXHJcbiAgICovXHJcbiAgZm9vZFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgdGhhdCBkZXNjcmliZXMgYW55IHRleHR1cmUgbW9kaWZpY2F0aW9ucyByZXF1aXJlZCBmb3IgdGhlIHBhdGllbnQgdG8gc2FmZWx5IGNvbnN1bWUgdmFyaW91cyB0eXBlcyBvZiBzb2xpZCBmb29kcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ051dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlJztcclxuICAvKipcclxuICAgKiBDb3VwbGVkIHdpdGggdGhlIGZvb2RUeXBlIChNZWF0KS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ291cGxlZCB3aXRoIHRoZSBgdGV4dHVyZS5tb2RpZmllcmA7IGNvdWxkIGJlIChBbGwgRm9vZHMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb29kVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21vZGlmaWVyJ10pIHsgdGhpcy5tb2RpZmllciA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubW9kaWZpZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydmb29kVHlwZSddKSB7IHRoaXMuZm9vZFR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmZvb2RUeXBlLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ051dHJpdGlvbk9yZGVyLm9yYWxEaWV0LnRleHR1cmUnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtb2RpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZm9vZFR5cGUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyT3JhbERpZXQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJPcmFsRGlldEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIGRpZXQgb3IgZGlldGFyeSByZXN0cmljdGlvbiBzdWNoIGFzIGZpYmVyIHJlc3RyaWN0ZWQgZGlldCBvciBkaWFiZXRpYyBkaWV0LlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgcGVyaW9kIGFuZCBmcmVxdWVuY3kgYXQgd2hpY2ggdGhlIGRpZXQgc2hvdWxkIGJlIGdpdmVuLiAgVGhlIGRpZXQgc2hvdWxkIGJlIGdpdmVuIGZvciB0aGUgY29tYmluYXRpb24gb2YgYWxsIHNjaGVkdWxlcyBpZiBtb3JlIHRoYW4gb25lIHNjaGVkdWxlIGlzIHByZXNlbnQuXHJcbiAgICovXHJcbiAgc2NoZWR1bGU/OiBmaGlyLlRpbWluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZWZpbmVzIHRoZSBxdWFudGl0eSBhbmQgdHlwZSBvZiBudXRyaWVudCBtb2RpZmljYXRpb25zIChmb3IgZXhhbXBsZSBjYXJib2h5ZHJhdGUsIGZpYmVyIG9yIHNvZGl1bSkgcmVxdWlyZWQgZm9yIHRoZSBvcmFsIGRpZXQuXHJcbiAgICovXHJcbiAgbnV0cmllbnQ/OiBmaGlyLk51dHJpdGlvbk9yZGVyT3JhbERpZXROdXRyaWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZXNjcmliZXMgYW55IHRleHR1cmUgbW9kaWZpY2F0aW9ucyByZXF1aXJlZCBmb3IgdGhlIHBhdGllbnQgdG8gc2FmZWx5IGNvbnN1bWUgdmFyaW91cyB0eXBlcyBvZiBzb2xpZCBmb29kcy5cclxuICAgKi9cclxuICB0ZXh0dXJlPzogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlcXVpcmVkIGNvbnNpc3RlbmN5IChlLmcuIGhvbmV5LXRoaWNrLCBuZWN0YXItdGhpY2ssIHRoaW4sIHRoaWNrZW5lZC4pIG9mIGxpcXVpZHMgb3IgZmx1aWRzIHNlcnZlZCB0byB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBmbHVpZENvbnNpc3RlbmN5VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBjYW4gYmUgdXNlZCBmb3IgY2FzZXMgd2hlcmUgdGhlIGluc3RydWN0aW9ucyBhcmUgdG9vIGNvbXBsZXggdG8gY29kZS5cclxuICAgKi9cclxuICBpbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5vcmFsRGlldC5pbnN0cnVjdGlvblxyXG4gICAqL1xyXG4gIF9pbnN0cnVjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaWV0IGdpdmVuIG9yYWxseSBpbiBjb250cmFzdCB0byBlbnRlcmFsICh0dWJlKSBmZWVkaW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51dHJpdGlvbk9yZGVyT3JhbERpZXQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlck9yYWxEaWV0JztcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBkaWV0IG9yIGRpZXRhcnkgcmVzdHJpY3Rpb24gc3VjaCBhcyBmaWJlciByZXN0cmljdGVkIGRpZXQgb3IgZGlhYmV0aWMgZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgZGlldCBzaG91bGQgYmUgZ2l2ZW4uICBUaGUgZGlldCBzaG91bGQgYmUgZ2l2ZW4gZm9yIHRoZSBjb21iaW5hdGlvbiBvZiBhbGwgc2NoZWR1bGVzIGlmIG1vcmUgdGhhbiBvbmUgc2NoZWR1bGUgaXMgcHJlc2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgc2NoZWR1bGU6IGZoaXIuVGltaW5nW107XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZWZpbmVzIHRoZSBxdWFudGl0eSBhbmQgdHlwZSBvZiBudXRyaWVudCBtb2RpZmljYXRpb25zIChmb3IgZXhhbXBsZSBjYXJib2h5ZHJhdGUsIGZpYmVyIG9yIHNvZGl1bSkgcmVxdWlyZWQgZm9yIHRoZSBvcmFsIGRpZXQuXHJcbiAgICovXHJcbiAgcHVibGljIG51dHJpZW50OiBmaGlyLk51dHJpdGlvbk9yZGVyT3JhbERpZXROdXRyaWVudFtdO1xyXG4gIC8qKlxyXG4gICAqIENsYXNzIHRoYXQgZGVzY3JpYmVzIGFueSB0ZXh0dXJlIG1vZGlmaWNhdGlvbnMgcmVxdWlyZWQgZm9yIHRoZSBwYXRpZW50IHRvIHNhZmVseSBjb25zdW1lIHZhcmlvdXMgdHlwZXMgb2Ygc29saWQgZm9vZHMuXHJcbiAgICovXHJcbiAgcHVibGljIHRleHR1cmU6IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmVbXTtcclxuICAvKipcclxuICAgKiBUaGUgcmVxdWlyZWQgY29uc2lzdGVuY3kgKGUuZy4gaG9uZXktdGhpY2ssIG5lY3Rhci10aGljaywgdGhpbiwgdGhpY2tlbmVkLikgb2YgbGlxdWlkcyBvciBmbHVpZHMgc2VydmVkIHRvIHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmbHVpZENvbnNpc3RlbmN5VHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBjYW4gYmUgdXNlZCBmb3IgY2FzZXMgd2hlcmUgdGhlIGluc3RydWN0aW9ucyBhcmUgdG9vIGNvbXBsZXggdG8gY29kZS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyT3JhbERpZXQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxOdXRyaXRpb25PcmRlck9yYWxEaWV0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2NoZWR1bGUnXSkgeyB0aGlzLnNjaGVkdWxlID0gc291cmNlLnNjaGVkdWxlLm1hcCgoeCkgPT4gbmV3IGZoaXIuVGltaW5nKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2NoZWR1bGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbnV0cmllbnQnXSkgeyB0aGlzLm51dHJpZW50ID0gc291cmNlLm51dHJpZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubnV0cmllbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGV4dHVyZSddKSB7IHRoaXMudGV4dHVyZSA9IHNvdXJjZS50ZXh0dXJlLm1hcCgoeCkgPT4gbmV3IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmUoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50ZXh0dXJlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZsdWlkQ29uc2lzdGVuY3lUeXBlJ10pIHsgdGhpcy5mbHVpZENvbnNpc3RlbmN5VHlwZSA9IHNvdXJjZS5mbHVpZENvbnNpc3RlbmN5VHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZsdWlkQ29uc2lzdGVuY3lUeXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3RydWN0aW9uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5pbnN0cnVjdGlvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW5zdHJ1Y3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5pbnN0cnVjdGlvbikgeyB0aGlzLmluc3RydWN0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2luc3RydWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuaW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5faW5zdHJ1Y3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdOdXRyaXRpb25PcmRlci5vcmFsRGlldCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3NjaGVkdWxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdudXRyaWVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndGV4dHVyZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZmx1aWRDb25zaXN0ZW5jeVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2luc3RydWN0aW9uJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlclN1cHBsZW1lbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGtpbmQgb2YgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBwcm9kdWN0IHJlcXVpcmVkIHN1Y2ggYXMgYSBoaWdoIHByb3RlaW4gb3IgcGVkaWF0cmljIGNsZWFyIGxpcXVpZCBzdXBwbGVtZW50LlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgc3VjaCBhcyBcIkFjbWUgUHJvdGVpbiBTaGFrZVwiLlxyXG4gICAqL1xyXG4gIHByb2R1Y3ROYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLnN1cHBsZW1lbnQucHJvZHVjdE5hbWVcclxuICAgKi9cclxuICBfcHJvZHVjdE5hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBhbmQgZnJlcXVlbmN5IGF0IHdoaWNoIHRoZSBzdXBwbGVtZW50KHMpIHNob3VsZCBiZSBnaXZlbi4gIFRoZSBzdXBwbGVtZW50IHNob3VsZCBiZSBnaXZlbiBmb3IgdGhlIGNvbWJpbmF0aW9uIG9mIGFsbCBzY2hlZHVsZXMgaWYgbW9yZSB0aGFuIG9uZSBzY2hlZHVsZSBpcyBwcmVzZW50LlxyXG4gICAqL1xyXG4gIHNjaGVkdWxlPzogZmhpci5UaW1pbmdBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgdGhlIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgdG8gYmUgZ2l2ZW4uXHJcbiAgICovXHJcbiAgcXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IGRvc2FnZSBpbnN0cnVjdGlvbnMgY2FuIGJlIHVzZWQgZm9yIGNhc2VzIHdoZXJlIHRoZSBpbnN0cnVjdGlvbnMgYXJlIHRvbyBjb21wbGV4IHRvIGNvZGUuXHJcbiAgICovXHJcbiAgaW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuc3VwcGxlbWVudC5pbnN0cnVjdGlvblxyXG4gICAqL1xyXG4gIF9pbnN0cnVjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPcmFsIG51dHJpdGlvbmFsIHByb2R1Y3RzIGdpdmVuIGluIG9yZGVyIHRvIGFkZCBmdXJ0aGVyIG51dHJpdGlvbmFsIHZhbHVlIHRvIHRoZSBwYXRpZW50J3MgZGlldC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlclN1cHBsZW1lbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlclN1cHBsZW1lbnQnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgcHJvZHVjdCByZXF1aXJlZCBzdWNoIGFzIGEgaGlnaCBwcm90ZWluIG9yIHBlZGlhdHJpYyBjbGVhciBsaXF1aWQgc3VwcGxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSBudXRyaXRpb25hbCBzdXBwbGVtZW50IHN1Y2ggYXMgXCJBY21lIFByb3RlaW4gU2hha2VcIi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBhbmQgZnJlcXVlbmN5IGF0IHdoaWNoIHRoZSBzdXBwbGVtZW50KHMpIHNob3VsZCBiZSBnaXZlbi4gIFRoZSBzdXBwbGVtZW50IHNob3VsZCBiZSBnaXZlbiBmb3IgdGhlIGNvbWJpbmF0aW9uIG9mIGFsbCBzY2hlZHVsZXMgaWYgbW9yZSB0aGFuIG9uZSBzY2hlZHVsZSBpcyBwcmVzZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzY2hlZHVsZTogZmhpci5UaW1pbmdbXTtcclxuICAvKipcclxuICAgKiBUaGUgYW1vdW50IG9mIHRoZSBudXRyaXRpb25hbCBzdXBwbGVtZW50IHRvIGJlIGdpdmVuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJTdXBwbGVtZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9kdWN0TmFtZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5wcm9kdWN0TmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucHJvZHVjdE5hbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3Byb2R1Y3ROYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMucHJvZHVjdE5hbWUpIHsgdGhpcy5wcm9kdWN0TmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcm9kdWN0TmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3Byb2R1Y3ROYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzY2hlZHVsZSddKSB7IHRoaXMuc2NoZWR1bGUgPSBzb3VyY2Uuc2NoZWR1bGUubWFwKCh4KSA9PiBuZXcgZmhpci5UaW1pbmcoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zY2hlZHVsZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UucXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnN0cnVjdGlvbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5pbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuaW5zdHJ1Y3Rpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2luc3RydWN0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaW5zdHJ1Y3Rpb24pIHsgdGhpcy5pbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pbnN0cnVjdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2luc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIuc3VwcGxlbWVudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Byb2R1Y3ROYW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzY2hlZHVsZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2luc3RydWN0aW9uJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgcGVyaW9kIGFuZCBmcmVxdWVuY3kgYXQgd2hpY2ggdGhlIGVudGVyYWwgZm9ybXVsYSBzaG91bGQgYmUgZGVsaXZlcmVkIHRvIHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHNjaGVkdWxlPzogZmhpci5UaW1pbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdm9sdW1lIG9mIGZvcm11bGEgdG8gcHJvdmlkZSB0byB0aGUgcGF0aWVudCBwZXIgdGhlIHNwZWNpZmllZCBhZG1pbmlzdHJhdGlvbiBzY2hlZHVsZS5cclxuICAgKi9cclxuICBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSYXRpbyBpcyB1c2VkIHdoZW4gdGhlIHF1YW50aXR5IHZhbHVlIGluIHRoZSBkZW5vbWluYXRvciBpcyBub3QgXCIxXCIsIG90aGVyd2lzZSB1c2UgUXVhbnRpdHkuIEZvciBleGFtcGxlLCB0aGUgUmF0aW8gZGF0YXR5cGUgaXMgdXNlZCBmb3IgXCIyMDAgbUwvNCBocnNcIiB2ZXJzdXMgdGhlIFF1YW50aXR5IGRhdGF0eXBlIGZvciBcIjUwIG1ML2hyXCIuXHJcbiAgICovXHJcbiAgcmF0ZT86IGZoaXIuUXVhbnRpdHl8Zmhpci5SYXRpb3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmF0aW8gaXMgdXNlZCB3aGVuIHRoZSBxdWFudGl0eSB2YWx1ZSBpbiB0aGUgZGVub21pbmF0b3IgaXMgbm90IFwiMVwiLCBvdGhlcndpc2UgdXNlIFF1YW50aXR5LiBGb3IgZXhhbXBsZSwgdGhlIFJhdGlvIGRhdGF0eXBlIGlzIHVzZWQgZm9yIFwiMjAwIG1MLzQgaHJzXCIgdmVyc3VzIHRoZSBRdWFudGl0eSBkYXRhdHlwZSBmb3IgXCI1MCBtTC9oclwiLlxyXG4gICAqL1xyXG4gIHJhdGVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSYXRpbyBpcyB1c2VkIHdoZW4gdGhlIHF1YW50aXR5IHZhbHVlIGluIHRoZSBkZW5vbWluYXRvciBpcyBub3QgXCIxXCIsIG90aGVyd2lzZSB1c2UgUXVhbnRpdHkuIEZvciBleGFtcGxlLCB0aGUgUmF0aW8gZGF0YXR5cGUgaXMgdXNlZCBmb3IgXCIyMDAgbUwvNCBocnNcIiB2ZXJzdXMgdGhlIFF1YW50aXR5IGRhdGF0eXBlIGZvciBcIjUwIG1ML2hyXCIuXHJcbiAgICovXHJcbiAgcmF0ZVJhdGlvPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU2VlIGltcGxlbWVudGF0aW9uIG5vdGVzIGJlbG93IGZvciBmdXJ0aGVyIGRpc2N1c3Npb24gb24gaG93IHRvIG9yZGVyIGNvbnRpbnVvdXMgdnMgYm9sdXMgZW50ZXJhbCBmZWVkaW5nIHVzaW5nIHRoaXMgcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgZW50ZXJhbCBmb3JtdWxhIHNob3VsZCBiZSBkZWxpdmVyZWQgdG8gdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHNjaGVkdWxlPzogZmhpci5UaW1pbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2b2x1bWUgb2YgZm9ybXVsYSB0byBwcm92aWRlIHRvIHRoZSBwYXRpZW50IHBlciB0aGUgc3BlY2lmaWVkIGFkbWluaXN0cmF0aW9uIHNjaGVkdWxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJhdGlvIGlzIHVzZWQgd2hlbiB0aGUgcXVhbnRpdHkgdmFsdWUgaW4gdGhlIGRlbm9taW5hdG9yIGlzIG5vdCBcIjFcIiwgb3RoZXJ3aXNlIHVzZSBRdWFudGl0eS4gRm9yIGV4YW1wbGUsIHRoZSBSYXRpbyBkYXRhdHlwZSBpcyB1c2VkIGZvciBcIjIwMCBtTC80IGhyc1wiIHZlcnN1cyB0aGUgUXVhbnRpdHkgZGF0YXR5cGUgZm9yIFwiNTAgbUwvaHJcIi5cclxuICAgKi9cclxuICBwdWJsaWMgcmF0ZT86IChmaGlyLlF1YW50aXR5fGZoaXIuUmF0aW8pfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE51dHJpdGlvbk9yZGVyLmVudGVyYWxGb3JtdWxhLmFkbWluaXN0cmF0aW9uLnJhdGVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfcmF0ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzY2hlZHVsZSddKSB7IHRoaXMuc2NoZWR1bGUgPSBuZXcgZmhpci5UaW1pbmcoc291cmNlLnNjaGVkdWxlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmF0ZSddKSB7IHRoaXMucmF0ZSA9IHNvdXJjZS5yYXRlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JhdGVRdWFudGl0eSddKSB7IHRoaXMucmF0ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5yYXRlUXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JhdGVSYXRpbyddKSB7IHRoaXMucmF0ZSA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS5yYXRlUmF0aW8sIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYWRtaW5pc3RyYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzY2hlZHVsZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JhdGUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGEgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGVudGVyYWwgb3IgaW5mYW50IGZvcm11bGEgc3VjaCBhcyBhbiBhZHVsdCBzdGFuZGFyZCBmb3JtdWxhIHdpdGggZmliZXIgb3IgYSBzb3ktYmFzZWQgaW5mYW50IGZvcm11bGEuXHJcbiAgICovXHJcbiAgYmFzZUZvcm11bGFUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSBlbnRlcmFsIG9yIGluZmFudCBmb3JtdWxhIHByb2R1Y3Qgc3VjaCBhcyBcIkFDTUUgQWR1bHQgU3RhbmRhcmQgRm9ybXVsYVwiLlxyXG4gICAqL1xyXG4gIGJhc2VGb3JtdWxhUHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYmFzZUZvcm11bGFQcm9kdWN0TmFtZVxyXG4gICAqL1xyXG4gIF9iYXNlRm9ybXVsYVByb2R1Y3ROYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgbW9kdWxhciBjb21wb25lbnQgc3VjaCBhcyBwcm90ZWluLCBjYXJib2h5ZHJhdGUsIGZhdCBvciBmaWJlciB0byBiZSBwcm92aWRlZCBpbiBhZGRpdGlvbiB0byBvciBtaXhlZCB3aXRoIHRoZSBiYXNlIGZvcm11bGEuXHJcbiAgICovXHJcbiAgYWRkaXRpdmVUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSB0eXBlIG9mIG1vZHVsYXIgY29tcG9uZW50IHRvIGJlIGFkZGVkIHRvIHRoZSBmb3JtdWxhLlxyXG4gICAqL1xyXG4gIGFkZGl0aXZlUHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYWRkaXRpdmVQcm9kdWN0TmFtZVxyXG4gICAqL1xyXG4gIF9hZGRpdGl2ZVByb2R1Y3ROYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgYW1vdW50IG9mIGVuZXJneSAoY2Fsb3JpZXMpIHRoYXQgdGhlIGZvcm11bGEgc2hvdWxkIHByb3ZpZGUgcGVyIHNwZWNpZmllZCB2b2x1bWUsIHR5cGljYWxseSBwZXIgbUwgb3IgZmx1aWQgb3ouICBGb3IgZXhhbXBsZSwgYW4gaW5mYW50IG1heSByZXF1aXJlIGEgZm9ybXVsYSB0aGF0IHByb3ZpZGVzIDI0IGNhbG9yaWVzIHBlciBmbHVpZCBvdW5jZSBvciBhbiBhZHVsdCBtYXkgcmVxdWlyZSBhbiBlbnRlcmFsIGZvcm11bGEgdGhhdCBwcm92aWRlcyAxLjUgY2Fsb3JpZS9tTC5cclxuICAgKi9cclxuICBjYWxvcmljRGVuc2l0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcm91dGUgb3IgcGh5c2lvbG9naWNhbCBwYXRoIG9mIGFkbWluaXN0cmF0aW9uIGludG8gdGhlIHBhdGllbnQncyBnYXN0cm9pbnRlc3RpbmFsICB0cmFjdCBmb3IgcHVycG9zZXMgb2YgcHJvdmlkaW5nIHRoZSBmb3JtdWxhIGZlZWRpbmcsIGUuZy4gbmFzb2dhc3RyaWMgdHViZS5cclxuICAgKi9cclxuICByb3V0ZW9mQWRtaW5pc3RyYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNlZSBpbXBsZW1lbnRhdGlvbiBub3RlcyBiZWxvdyBmb3IgZnVydGhlciBkaXNjdXNzaW9uIG9uIGhvdyB0byBvcmRlciBjb250aW51b3VzIHZzIGJvbHVzIGVudGVyYWwgZmVlZGluZyB1c2luZyB0aGlzIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGFkbWluaXN0cmF0aW9uPzogZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHRvdGFsIHF1YW50aXR5IG9mIGZvcm11bGEgdGhhdCBtYXkgYmUgYWRtaW5pc3RlcmVkIHRvIGEgc3ViamVjdCBvdmVyIHRoZSBwZXJpb2Qgb2YgdGltZSwgZS5nLiAxNDQwIG1MIG92ZXIgMjQgaG91cnMuXHJcbiAgICovXHJcbiAgbWF4Vm9sdW1lVG9EZWxpdmVyPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLlxyXG4gICAqL1xyXG4gIGFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvblxyXG4gICAqL1xyXG4gIF9hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEZlZWRpbmcgcHJvdmlkZWQgdGhyb3VnaCB0aGUgZ2FzdHJvaW50ZXN0aW5hbCB0cmFjdCB2aWEgYSB0dWJlLCBjYXRoZXRlciwgb3Igc3RvbWEgdGhhdCBkZWxpdmVycyBudXRyaXRpb24gZGlzdGFsIHRvIHRoZSBvcmFsIGNhdml0eS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZW50ZXJhbCBvciBpbmZhbnQgZm9ybXVsYSBzdWNoIGFzIGFuIGFkdWx0IHN0YW5kYXJkIGZvcm11bGEgd2l0aCBmaWJlciBvciBhIHNveS1iYXNlZCBpbmZhbnQgZm9ybXVsYS5cclxuICAgKi9cclxuICBwdWJsaWMgYmFzZUZvcm11bGFUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIGVudGVyYWwgb3IgaW5mYW50IGZvcm11bGEgcHJvZHVjdCBzdWNoIGFzIFwiQUNNRSBBZHVsdCBTdGFuZGFyZCBGb3JtdWxhXCIuXHJcbiAgICovXHJcbiAgcHVibGljIGJhc2VGb3JtdWxhUHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgdHlwZSBvZiBtb2R1bGFyIGNvbXBvbmVudCBzdWNoIGFzIHByb3RlaW4sIGNhcmJvaHlkcmF0ZSwgZmF0IG9yIGZpYmVyIHRvIGJlIHByb3ZpZGVkIGluIGFkZGl0aW9uIHRvIG9yIG1peGVkIHdpdGggdGhlIGJhc2UgZm9ybXVsYS5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkaXRpdmVUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIHR5cGUgb2YgbW9kdWxhciBjb21wb25lbnQgdG8gYmUgYWRkZWQgdG8gdGhlIGZvcm11bGEuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZGl0aXZlUHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgZW5lcmd5IChjYWxvcmllcykgdGhhdCB0aGUgZm9ybXVsYSBzaG91bGQgcHJvdmlkZSBwZXIgc3BlY2lmaWVkIHZvbHVtZSwgdHlwaWNhbGx5IHBlciBtTCBvciBmbHVpZCBvei4gIEZvciBleGFtcGxlLCBhbiBpbmZhbnQgbWF5IHJlcXVpcmUgYSBmb3JtdWxhIHRoYXQgcHJvdmlkZXMgMjQgY2Fsb3JpZXMgcGVyIGZsdWlkIG91bmNlIG9yIGFuIGFkdWx0IG1heSByZXF1aXJlIGFuIGVudGVyYWwgZm9ybXVsYSB0aGF0IHByb3ZpZGVzIDEuNSBjYWxvcmllL21MLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYWxvcmljRGVuc2l0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByb3V0ZSBvciBwaHlzaW9sb2dpY2FsIHBhdGggb2YgYWRtaW5pc3RyYXRpb24gaW50byB0aGUgcGF0aWVudCdzIGdhc3Ryb2ludGVzdGluYWwgIHRyYWN0IGZvciBwdXJwb3NlcyBvZiBwcm92aWRpbmcgdGhlIGZvcm11bGEgZmVlZGluZywgZS5nLiBuYXNvZ2FzdHJpYyB0dWJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb3V0ZW9mQWRtaW5pc3RyYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2VlIGltcGxlbWVudGF0aW9uIG5vdGVzIGJlbG93IGZvciBmdXJ0aGVyIGRpc2N1c3Npb24gb24gaG93IHRvIG9yZGVyIGNvbnRpbnVvdXMgdnMgYm9sdXMgZW50ZXJhbCBmZWVkaW5nIHVzaW5nIHRoaXMgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGFkbWluaXN0cmF0aW9uOiBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHRvdGFsIHF1YW50aXR5IG9mIGZvcm11bGEgdGhhdCBtYXkgYmUgYWRtaW5pc3RlcmVkIHRvIGEgc3ViamVjdCBvdmVyIHRoZSBwZXJpb2Qgb2YgdGltZSwgZS5nLiAxNDQwIG1MIG92ZXIgMjQgaG91cnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1heFZvbHVtZVRvRGVsaXZlcj86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydiYXNlRm9ybXVsYVR5cGUnXSkgeyB0aGlzLmJhc2VGb3JtdWxhVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYmFzZUZvcm11bGFUeXBlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmFzZUZvcm11bGFQcm9kdWN0TmFtZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19iYXNlRm9ybXVsYVByb2R1Y3ROYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYmFzZUZvcm11bGFQcm9kdWN0TmFtZSkgeyB0aGlzLmJhc2VGb3JtdWxhUHJvZHVjdE5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYmFzZUZvcm11bGFQcm9kdWN0TmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmJhc2VGb3JtdWxhUHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYmFzZUZvcm11bGFQcm9kdWN0TmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkaXRpdmVUeXBlJ10pIHsgdGhpcy5hZGRpdGl2ZVR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmFkZGl0aXZlVHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkZGl0aXZlUHJvZHVjdE5hbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuYWRkaXRpdmVQcm9kdWN0TmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYWRkaXRpdmVQcm9kdWN0TmFtZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWRkaXRpdmVQcm9kdWN0TmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFkZGl0aXZlUHJvZHVjdE5hbWUpIHsgdGhpcy5hZGRpdGl2ZVByb2R1Y3ROYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FkZGl0aXZlUHJvZHVjdE5hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hZGRpdGl2ZVByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2FkZGl0aXZlUHJvZHVjdE5hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhbG9yaWNEZW5zaXR5J10pIHsgdGhpcy5jYWxvcmljRGVuc2l0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5jYWxvcmljRGVuc2l0eSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JvdXRlb2ZBZG1pbmlzdHJhdGlvbiddKSB7IHRoaXMucm91dGVvZkFkbWluaXN0cmF0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yb3V0ZW9mQWRtaW5pc3RyYXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZG1pbmlzdHJhdGlvbiddKSB7IHRoaXMuYWRtaW5pc3RyYXRpb24gPSBzb3VyY2UuYWRtaW5pc3RyYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb24oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hZG1pbmlzdHJhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhWb2x1bWVUb0RlbGl2ZXInXSkgeyB0aGlzLm1heFZvbHVtZVRvRGVsaXZlciA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5tYXhWb2x1bWVUb0RlbGl2ZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uKSB7IHRoaXMuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdiYXNlRm9ybXVsYVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Jhc2VGb3JtdWxhUHJvZHVjdE5hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2FkZGl0aXZlVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRkaXRpdmVQcm9kdWN0TmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY2Fsb3JpY0RlbnNpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JvdXRlb2ZBZG1pbmlzdHJhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYWRtaW5pc3RyYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heFZvbHVtZVRvRGVsaXZlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJOdXRyaXRpb25PcmRlclwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgSWRlbnRpZmllci50eXBlIGVsZW1lbnQgY2FuIGJlIHRvIGluZGljYXRlIGZpbGxlciB2cy4gcGxhY2VyIGlmIG5lZWRlZC4gIFRoaXMgaXMgZXhwbGFpbmVkIGluIGZ1cnRoZXIgZGV0YWlsIFtoZXJlXShzZXJ2aWNlcmVxdWVzdC5odG1sI25vdGVzKS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3RlOiBUaGlzIGlzIGEgYnVzaW5lc3MgaWRlbnRpZmllciwgbm90IGEgcmVzb3VyY2UgaWRlbnRpZmllciAoc2VlIFtkaXNjdXNzaW9uXShyZXNvdXJjZS5odG1sI2lkZW50aWZpZXJzKSkuICBJdCBpcyBiZXN0IHByYWN0aWNlIGZvciB0aGUgaWRlbnRpZmllciB0byBvbmx5IGFwcGVhciBvbiBhIHNpbmdsZSByZXNvdXJjZSBpbnN0YW5jZSwgaG93ZXZlciBidXNpbmVzcyBwcmFjdGljZXMgbWF5IG9jY2FzaW9uYWxseSBkaWN0YXRlIHRoYXQgbXVsdGlwbGUgcmVzb3VyY2UgaW5zdGFuY2VzIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBjYW4gZXhpc3QgLSBwb3NzaWJseSBldmVuIHdpdGggZGlmZmVyZW50IHJlc291cmNlIHR5cGVzLiAgRm9yIGV4YW1wbGUsIG11bHRpcGxlIFBhdGllbnQgYW5kIGEgUGVyc29uIHJlc291cmNlIGluc3RhbmNlIG1pZ2h0IHNoYXJlIHRoZSBzYW1lIHNvY2lhbCBpbnN1cmFuY2UgbnVtYmVyLlxyXG4gICAqL1xyXG4gIGluc3RhbnRpYXRlc0Nhbm9uaWNhbD86IGZoaXIuRmhpckNhbm9uaWNhbFtdfChzdHJpbmd8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLmluc3RhbnRpYXRlc0Nhbm9uaWNhbFxyXG4gICAqL1xyXG4gIF9pbnN0YW50aWF0ZXNDYW5vbmljYWw/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWlnaHQgYmUgYW4gSFRNTCBwYWdlLCBQREYsIGV0Yy4gb3IgY291bGQganVzdCBiZSBhIG5vbi1yZXNvbHZhYmxlIFVSSSBpZGVudGlmaWVyLlxyXG4gICAqL1xyXG4gIGluc3RhbnRpYXRlc1VyaT86IGZoaXIuRmhpclVyaVtdfChzdHJpbmd8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLmluc3RhbnRpYXRlc1VyaVxyXG4gICAqL1xyXG4gIF9pbnN0YW50aWF0ZXNVcmk/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBVUkwgcG9pbnRpbmcgdG8gYSBwcm90b2NvbCwgZ3VpZGVsaW5lLCBvcmRlcnNldCBvciBvdGhlciBkZWZpbml0aW9uIHRoYXQgaXMgYWRoZXJlZCB0byBpbiB3aG9sZSBvciBpbiBwYXJ0IGJ5IHRoaXMgTnV0cml0aW9uT3JkZXIuXHJcbiAgICovXHJcbiAgaW5zdGFudGlhdGVzPzogZmhpci5GaGlyVXJpW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuaW5zdGFudGlhdGVzXHJcbiAgICovXHJcbiAgX2luc3RhbnRpYXRlcz86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbGx5IHRoZSBzeXN0ZW0gcGxhY2luZyB0aGUgb3JkZXIgc2V0cyB0aGUgc3RhdHVzIHRvIFwicmVxdWVzdGVkXCIuIFRoZXJlYWZ0ZXIsIHRoZSBvcmRlciBpcyBtYWludGFpbmVkIGJ5IHRoZSByZWNlaXZlciB0aGF0IHVwZGF0ZXMgdGhlIHN0YXR1cyBhcyB0aGUgcmVxdWVzdCBpcyBoYW5kbGVkLiAgVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxSZXF1ZXN0U3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gcmVzb3VyY2VzIG1hcCB0byB0aGlzIGVsZW1lbnQsIHRoZXkgYXJlIGZyZWUgdG8gZGVmaW5lIGFzIG1hbnkgY29kZXMgYXMgbmVjZXNzYXJ5IHRvIGNvdmVyIHRoZWlyIHNwYWNlIGFuZCB3aWxsIG1hcCB0byBcInByb3Bvc2FsLCBwbGFuIG9yIG9yZGVyXCIuICBDYW4gaGF2ZSBtdWx0aXBsZSBjb2RlcyB0aGF0IG1hcCB0byBvbmUgb2YgdGhlc2UuICBFLmcuIFwib3JpZ2luYWwgb3JkZXJcIiwgXCJlbmNvZGVkIG9yZGVyXCIsIFwicmVmbGV4IG9yZGVyXCIgd291bGQgYWxsIG1hcCB0byBcIm9yZGVyXCIuICBFeHBlY3RhdGlvbiBpcyB0aGF0IHRoZSBzZXQgb2YgY29kZXMgaXMgbXV0dWFsbHkgZXhjbHVzaXZlIG9yIGEgc3RyaWN0IGFsbC1lbmNvbXBhc3NpbmcgaGllcmFyY2h5LlxyXG4gICAqL1xyXG4gIGludGVudDogZmhpci5GaGlyQ29kZTxSZXF1ZXN0SW50ZW50Q29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLmludGVudFxyXG4gICAqL1xyXG4gIF9pbnRlbnQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwZXJzb24gKHBhdGllbnQpIHdobyBuZWVkcyB0aGUgbnV0cml0aW9uIG9yZGVyIGZvciBhbiBvcmFsIGRpZXQsIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgYW5kL29yIGVudGVyYWwgb3IgZm9ybXVsYSBmZWVkaW5nLlxyXG4gICAqL1xyXG4gIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFuIGVuY291bnRlciB0aGF0IHByb3ZpZGVzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhlYWx0aGNhcmUgY29udGV4dCBpbiB3aGljaCB0aGlzIHJlcXVlc3QgaXMgbWFkZS5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIHRoYXQgdGhpcyBudXRyaXRpb24gb3JkZXIgd2FzIHJlcXVlc3RlZC5cclxuICAgKi9cclxuICBkYXRlVGltZTogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuZGF0ZVRpbWVcclxuICAgKi9cclxuICBfZGF0ZVRpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmFjdGl0aW9uZXIgdGhhdCBob2xkcyBsZWdhbCByZXNwb25zaWJpbGl0eSBmb3Igb3JkZXJpbmcgdGhlIGRpZXQsIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQsIG9yIGZvcm11bGEgZmVlZGluZ3MuXHJcbiAgICovXHJcbiAgb3JkZXJlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gYSBwYXRpZW50J3MgZm9vZCBhbGxlcmdpZXMgYW5kIGludG9sZXJhbmNlcyB0byBpbmZvcm0gaGVhbHRoY2FyZSBwZXJzb25uZWwgYWJvdXQgdGhlIHR5cGUgb2YgZm9vZHMgdGhhdCB0aGUgcGF0aWVudCBzaG91bGRuJ3QgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIGFsbGVyZ3lJbnRvbGVyYW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBvbiBhIHBhdGllbnQncyBmb29kIHByZWZlcmVuY2VzIHRoYXQgaW5mb3JtIGhlYWx0aGNhcmUgcGVyc29ubmVsIGFib3V0IHRoZSBmb29kIHRoYXQgdGhlIHBhdGllbnQgc2hvdWxkIHJlY2VpdmUgb3IgY29uc3VtZS5cclxuICAgKi9cclxuICBmb29kUHJlZmVyZW5jZU1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgYWxsZXJnaWVzLCBpbnRvbGVyYW5jZXMgYW5kIHByZWZlcmVuY2VzIHRvIGluZm9ybSBoZWFsdGhjYXJlIHBlcnNvbm5lbCBhYm91dCB0aGUgdHlwZSAgb2YgZm9vZHMgdGhhdCB0aGUgcGF0aWVudCBzaG91bGRuJ3QgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIGV4Y2x1ZGVGb29kTW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGlldCBnaXZlbiBvcmFsbHkgaW4gY29udHJhc3QgdG8gZW50ZXJhbCAodHViZSkgZmVlZGluZy5cclxuICAgKi9cclxuICBvcmFsRGlldD86IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9yYWwgbnV0cml0aW9uYWwgcHJvZHVjdHMgZ2l2ZW4gaW4gb3JkZXIgdG8gYWRkIGZ1cnRoZXIgbnV0cml0aW9uYWwgdmFsdWUgdG8gdGhlIHBhdGllbnQncyBkaWV0LlxyXG4gICAqL1xyXG4gIHN1cHBsZW1lbnQ/OiBmaGlyLk51dHJpdGlvbk9yZGVyU3VwcGxlbWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRmVlZGluZyBwcm92aWRlZCB0aHJvdWdoIHRoZSBnYXN0cm9pbnRlc3RpbmFsIHRyYWN0IHZpYSBhIHR1YmUsIGNhdGhldGVyLCBvciBzdG9tYSB0aGF0IGRlbGl2ZXJzIG51dHJpdGlvbiBkaXN0YWwgdG8gdGhlIG9yYWwgY2F2aXR5LlxyXG4gICAqL1xyXG4gIGVudGVyYWxGb3JtdWxhPzogZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IFNIQUxMIE5PVCBiZSB1c2VkIHRvIHN1cHBseSBmcmVlIHRleHQgaW5zdHJ1Y3Rpb25zIGZvciB0aGUgZGlldCB3aGljaCBhcmUgcmVwcmVzZW50ZWQgaW4gdGhlIGAub3JhbERpZXQuaW5zdHJ1Y3Rpb25gLCBgc3VwcGxlbWVudC5pbnN0cnVjdGlvbmAsIG9yIGBlbnRlcmFsRm9ybXVsYS5hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uYCBlbGVtZW50cy5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVxdWVzdCB0byBzdXBwbHkgYSBkaWV0LCBmb3JtdWxhIGZlZWRpbmcgKGVudGVyYWwpIG9yIG9yYWwgbnV0cml0aW9uYWwgc3VwcGxlbWVudCB0byBhIHBhdGllbnQvcmVzaWRlbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXIgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ051dHJpdGlvbk9yZGVyJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIk51dHJpdGlvbk9yZGVyXCI7XHJcbiAgLyoqXHJcbiAgICogVGhlIElkZW50aWZpZXIudHlwZSBlbGVtZW50IGNhbiBiZSB0byBpbmRpY2F0ZSBmaWxsZXIgdnMuIHBsYWNlciBpZiBuZWVkZWQuICBUaGlzIGlzIGV4cGxhaW5lZCBpbiBmdXJ0aGVyIGRldGFpbCBbaGVyZV0oc2VydmljZXJlcXVlc3QuaHRtbCNub3RlcykuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIE5vdGU6IFRoaXMgaXMgYSBidXNpbmVzcyBpZGVudGlmaWVyLCBub3QgYSByZXNvdXJjZSBpZGVudGlmaWVyIChzZWUgW2Rpc2N1c3Npb25dKHJlc291cmNlLmh0bWwjaWRlbnRpZmllcnMpKS4gIEl0IGlzIGJlc3QgcHJhY3RpY2UgZm9yIHRoZSBpZGVudGlmaWVyIHRvIG9ubHkgYXBwZWFyIG9uIGEgc2luZ2xlIHJlc291cmNlIGluc3RhbmNlLCBob3dldmVyIGJ1c2luZXNzIHByYWN0aWNlcyBtYXkgb2NjYXNpb25hbGx5IGRpY3RhdGUgdGhhdCBtdWx0aXBsZSByZXNvdXJjZSBpbnN0YW5jZXMgd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyIGNhbiBleGlzdCAtIHBvc3NpYmx5IGV2ZW4gd2l0aCBkaWZmZXJlbnQgcmVzb3VyY2UgdHlwZXMuICBGb3IgZXhhbXBsZSwgbXVsdGlwbGUgUGF0aWVudCBhbmQgYSBQZXJzb24gcmVzb3VyY2UgaW5zdGFuY2UgbWlnaHQgc2hhcmUgdGhlIHNhbWUgc29jaWFsIGluc3VyYW5jZSBudW1iZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGluc3RhbnRpYXRlc0Nhbm9uaWNhbDogZmhpci5GaGlyQ2Fub25pY2FsW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBtaWdodCBiZSBhbiBIVE1MIHBhZ2UsIFBERiwgZXRjLiBvciBjb3VsZCBqdXN0IGJlIGEgbm9uLXJlc29sdmFibGUgVVJJIGlkZW50aWZpZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGluc3RhbnRpYXRlc1VyaTogZmhpci5GaGlyVXJpW107XHJcbiAgLyoqXHJcbiAgICogVGhlIFVSTCBwb2ludGluZyB0byBhIHByb3RvY29sLCBndWlkZWxpbmUsIG9yZGVyc2V0IG9yIG90aGVyIGRlZmluaXRpb24gdGhhdCBpcyBhZGhlcmVkIHRvIGluIHdob2xlIG9yIGluIHBhcnQgYnkgdGhpcyBOdXRyaXRpb25PcmRlci5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdGFudGlhdGVzOiBmaGlyLkZoaXJVcmlbXTtcclxuICAvKipcclxuICAgKiBUeXBpY2FsbHkgdGhlIHN5c3RlbSBwbGFjaW5nIHRoZSBvcmRlciBzZXRzIHRoZSBzdGF0dXMgdG8gXCJyZXF1ZXN0ZWRcIi4gVGhlcmVhZnRlciwgdGhlIG9yZGVyIGlzIG1haW50YWluZWQgYnkgdGhlIHJlY2VpdmVyIHRoYXQgdXBkYXRlcyB0aGUgc3RhdHVzIGFzIHRoZSByZXF1ZXN0IGlzIGhhbmRsZWQuICBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxSZXF1ZXN0U3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogV2hlbiByZXNvdXJjZXMgbWFwIHRvIHRoaXMgZWxlbWVudCwgdGhleSBhcmUgZnJlZSB0byBkZWZpbmUgYXMgbWFueSBjb2RlcyBhcyBuZWNlc3NhcnkgdG8gY292ZXIgdGhlaXIgc3BhY2UgYW5kIHdpbGwgbWFwIHRvIFwicHJvcG9zYWwsIHBsYW4gb3Igb3JkZXJcIi4gIENhbiBoYXZlIG11bHRpcGxlIGNvZGVzIHRoYXQgbWFwIHRvIG9uZSBvZiB0aGVzZS4gIEUuZy4gXCJvcmlnaW5hbCBvcmRlclwiLCBcImVuY29kZWQgb3JkZXJcIiwgXCJyZWZsZXggb3JkZXJcIiB3b3VsZCBhbGwgbWFwIHRvIFwib3JkZXJcIi4gIEV4cGVjdGF0aW9uIGlzIHRoYXQgdGhlIHNldCBvZiBjb2RlcyBpcyBtdXR1YWxseSBleGNsdXNpdmUgb3IgYSBzdHJpY3QgYWxsLWVuY29tcGFzc2luZyBoaWVyYXJjaHkuXHJcbiAgICovXHJcbiAgcHVibGljIGludGVudDogZmhpci5GaGlyQ29kZTxSZXF1ZXN0SW50ZW50Q29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiAocGF0aWVudCkgd2hvIG5lZWRzIHRoZSBudXRyaXRpb24gb3JkZXIgZm9yIGFuIG9yYWwgZGlldCwgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBhbmQvb3IgZW50ZXJhbCBvciBmb3JtdWxhIGZlZWRpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQW4gZW5jb3VudGVyIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGVhbHRoY2FyZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVxdWVzdCBpcyBtYWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYW5kIHRpbWUgdGhhdCB0aGlzIG51dHJpdGlvbiBvcmRlciB3YXMgcmVxdWVzdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlVGltZTogZmhpci5GaGlyRGF0ZVRpbWV8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcHJhY3RpdGlvbmVyIHRoYXQgaG9sZHMgbGVnYWwgcmVzcG9uc2liaWxpdHkgZm9yIG9yZGVyaW5nIHRoZSBkaWV0LCBudXRyaXRpb25hbCBzdXBwbGVtZW50LCBvciBmb3JtdWxhIGZlZWRpbmdzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmRlcmVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgYWxsZXJnaWVzIGFuZCBpbnRvbGVyYW5jZXMgdG8gaW5mb3JtIGhlYWx0aGNhcmUgcGVyc29ubmVsIGFib3V0IHRoZSB0eXBlIG9mIGZvb2RzIHRoYXQgdGhlIHBhdGllbnQgc2hvdWxkbid0IHJlY2VpdmUgb3IgY29uc3VtZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWxsZXJneUludG9sZXJhbmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgcHJlZmVyZW5jZXMgdGhhdCBpbmZvcm0gaGVhbHRoY2FyZSBwZXJzb25uZWwgYWJvdXQgdGhlIGZvb2QgdGhhdCB0aGUgcGF0aWVudCBzaG91bGQgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb29kUHJlZmVyZW5jZU1vZGlmaWVyOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgYWxsZXJnaWVzLCBpbnRvbGVyYW5jZXMgYW5kIHByZWZlcmVuY2VzIHRvIGluZm9ybSBoZWFsdGhjYXJlIHBlcnNvbm5lbCBhYm91dCB0aGUgdHlwZSAgb2YgZm9vZHMgdGhhdCB0aGUgcGF0aWVudCBzaG91bGRuJ3QgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleGNsdWRlRm9vZE1vZGlmaWVyOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIERpZXQgZ2l2ZW4gb3JhbGx5IGluIGNvbnRyYXN0IHRvIGVudGVyYWwgKHR1YmUpIGZlZWRpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIG9yYWxEaWV0PzogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPcmFsIG51dHJpdGlvbmFsIHByb2R1Y3RzIGdpdmVuIGluIG9yZGVyIHRvIGFkZCBmdXJ0aGVyIG51dHJpdGlvbmFsIHZhbHVlIHRvIHRoZSBwYXRpZW50J3MgZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VwcGxlbWVudDogZmhpci5OdXRyaXRpb25PcmRlclN1cHBsZW1lbnRbXTtcclxuICAvKipcclxuICAgKiBGZWVkaW5nIHByb3ZpZGVkIHRocm91Z2ggdGhlIGdhc3Ryb2ludGVzdGluYWwgdHJhY3QgdmlhIGEgdHViZSwgY2F0aGV0ZXIsIG9yIHN0b21hIHRoYXQgZGVsaXZlcnMgbnV0cml0aW9uIGRpc3RhbCB0byB0aGUgb3JhbCBjYXZpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGVudGVyYWxGb3JtdWxhPzogZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgU0hBTEwgTk9UIGJlIHVzZWQgdG8gc3VwcGx5IGZyZWUgdGV4dCBpbnN0cnVjdGlvbnMgZm9yIHRoZSBkaWV0IHdoaWNoIGFyZSByZXByZXNlbnRlZCBpbiB0aGUgYC5vcmFsRGlldC5pbnN0cnVjdGlvbmAsIGBzdXBwbGVtZW50Lmluc3RydWN0aW9uYCwgb3IgYGVudGVyYWxGb3JtdWxhLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb25gIGVsZW1lbnRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlOiBmaGlyLkFubm90YXRpb25bXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ051dHJpdGlvbk9yZGVyJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3RhbnRpYXRlc0Nhbm9uaWNhbCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5pbnN0YW50aWF0ZXNDYW5vbmljYWwgPSBzb3VyY2UuaW5zdGFudGlhdGVzQ2Fub25pY2FsLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHh9LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluc3RhbnRpYXRlc0Nhbm9uaWNhbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW5zdGFudGlhdGVzQ2Fub25pY2FsJ10pIHtcclxuICAgICAgc291cmNlLl9pbnN0YW50aWF0ZXNDYW5vbmljYWwuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFudGlhdGVzQ2Fub25pY2FsLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuaW5zdGFudGlhdGVzQ2Fub25pY2FsW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuaW5zdGFudGlhdGVzQ2Fub25pY2FsLnB1c2gobmV3IGZoaXIuRmhpckNhbm9uaWNhbCh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ2Fub25pY2FsQXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5zdGFudGlhdGVzVXJpJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmluc3RhbnRpYXRlc1VyaSA9IHNvdXJjZS5pbnN0YW50aWF0ZXNVcmkubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogeH0sIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW5zdGFudGlhdGVzVXJpID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbnN0YW50aWF0ZXNVcmknXSkge1xyXG4gICAgICBzb3VyY2UuX2luc3RhbnRpYXRlc1VyaS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW50aWF0ZXNVcmkubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5pbnN0YW50aWF0ZXNVcmlbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5pbnN0YW50aWF0ZXNVcmkucHVzaChuZXcgZmhpci5GaGlyVXJpKHggYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpbnN0YW50aWF0ZXMnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuaW5zdGFudGlhdGVzID0gc291cmNlLmluc3RhbnRpYXRlcy5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiB4fSwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnN0YW50aWF0ZXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2luc3RhbnRpYXRlcyddKSB7XHJcbiAgICAgIHNvdXJjZS5faW5zdGFudGlhdGVzLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbnRpYXRlcy5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLmluc3RhbnRpYXRlc1tpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLmluc3RhbnRpYXRlcy5wdXNoKG5ldyBmaGlyLkZoaXJVcmkoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxSZXF1ZXN0U3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlcXVlc3RTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVudCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5pbnRlbnQgPSBuZXcgZmhpci5GaGlyQ29kZTxSZXF1ZXN0SW50ZW50Q29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmludGVudH0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnRlbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW50ZW50J10pIHtcclxuICAgICAgaWYgKHRoaXMuaW50ZW50KSB7IHRoaXMuaW50ZW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ludGVudCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmludGVudCA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlcXVlc3RJbnRlbnRDb2RlVHlwZT4oc291cmNlLl9pbnRlbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnQnXSkgeyB0aGlzLnBhdGllbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhdGllbnQsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXRpZW50ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW5jb3VudGVyJ10pIHsgdGhpcy5lbmNvdW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmVuY291bnRlciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGVUaW1lJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRhdGVUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRhdGVUaW1lfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRhdGVUaW1lID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGVUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZVRpbWUpIHsgdGhpcy5kYXRlVGltZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGVUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZGF0ZVRpbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JkZXJlciddKSB7IHRoaXMub3JkZXJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3JkZXJlciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FsbGVyZ3lJbnRvbGVyYW5jZSddKSB7IHRoaXMuYWxsZXJneUludG9sZXJhbmNlID0gc291cmNlLmFsbGVyZ3lJbnRvbGVyYW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFsbGVyZ3lJbnRvbGVyYW5jZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmb29kUHJlZmVyZW5jZU1vZGlmaWVyJ10pIHsgdGhpcy5mb29kUHJlZmVyZW5jZU1vZGlmaWVyID0gc291cmNlLmZvb2RQcmVmZXJlbmNlTW9kaWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5mb29kUHJlZmVyZW5jZU1vZGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2V4Y2x1ZGVGb29kTW9kaWZpZXInXSkgeyB0aGlzLmV4Y2x1ZGVGb29kTW9kaWZpZXIgPSBzb3VyY2UuZXhjbHVkZUZvb2RNb2RpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmV4Y2x1ZGVGb29kTW9kaWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JhbERpZXQnXSkgeyB0aGlzLm9yYWxEaWV0ID0gbmV3IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldChzb3VyY2Uub3JhbERpZXQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdXBwbGVtZW50J10pIHsgdGhpcy5zdXBwbGVtZW50ID0gc291cmNlLnN1cHBsZW1lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5OdXRyaXRpb25PcmRlclN1cHBsZW1lbnQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdXBwbGVtZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VudGVyYWxGb3JtdWxhJ10pIHsgdGhpcy5lbnRlcmFsRm9ybXVsYSA9IG5ldyBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGEoc291cmNlLmVudGVyYWxGb3JtdWxhLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IHNvdXJjZS5ub3RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQW5ub3RhdGlvbih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ051dHJpdGlvbk9yZGVyJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaW5zdGFudGlhdGVzQ2Fub25pY2FsJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpbnN0YW50aWF0ZXNVcmknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2luc3RhbnRpYXRlcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ3N0YXR1cycsZXhwLCdSZXF1ZXN0U3RhdHVzJyxSZXF1ZXN0U3RhdHVzVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdpbnRlbnQnLGV4cCwnUmVxdWVzdEludGVudCcsUmVxdWVzdEludGVudFZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdwYXRpZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdlbmNvdW50ZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2RhdGVUaW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdvcmRlcmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdhbGxlcmd5SW50b2xlcmFuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2Zvb2RQcmVmZXJlbmNlTW9kaWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2V4Y2x1ZGVGb29kTW9kaWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ29yYWxEaWV0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzdXBwbGVtZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdlbnRlcmFsRm9ybXVsYScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbm90ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=