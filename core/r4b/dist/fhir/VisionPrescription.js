// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: VisionPrescription
import * as fhir from '../fhir.js';
// @ts-ignore
import { VisionBaseVsValidation } from '../fhirValueSets/VisionBaseVsValidation.js';
// @ts-ignore
import { VisionEyeVsValidation } from '../fhirValueSets/VisionEyeVsValidation.js';
// @ts-ignore
import { FmStatusVsValidation } from '../fhirValueSets/FmStatusVsValidation.js';
/**
 * Allows for adjustment on two axis.
 */
export class VisionPrescriptionLensSpecificationPrism extends fhir.BackboneElement {
    /**
     * Default constructor for VisionPrescriptionLensSpecificationPrism - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['amount'] !== undefined) {
            this.amount = new fhir.FhirDecimal({ value: source.amount }, options);
        }
        else {
            this.amount = null;
        }
        if (source['_amount']) {
            if (this.amount) {
                this.amount.addExtendedProperties(source._amount);
            }
            else {
                this.amount = new fhir.FhirDecimal(source._amount, options);
            }
        }
        if (source['base'] !== undefined) {
            this.base = new fhir.FhirCode({ value: source.base }, options);
        }
        else {
            this.base = null;
        }
        if (source['_base']) {
            if (this.base) {
                this.base.addExtendedProperties(source._base);
            }
            else {
                this.base = new fhir.FhirCode(source._base, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VisionPrescription.lensSpecification.prism';
        }
        iss.push(...this.vRS('amount', exp));
        iss.push(...this.vRSV('base', exp, 'VisionBase', VisionBaseVsValidation, 'r'));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VisionPrescriptionLensSpecificationPrism._fts_dataType = 'VisionPrescriptionLensSpecificationPrism';
/**
 * Contain the details of  the individual lens specifications and serves as the authorization for the fullfillment by certified professionals.
 */
export class VisionPrescriptionLensSpecification extends fhir.BackboneElement {
    /**
     * Default constructor for VisionPrescriptionLensSpecification - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['product']) {
            this.product = new fhir.CodeableConcept(source.product, options);
        }
        else {
            this.product = null;
        }
        if (source['eye'] !== undefined) {
            this.eye = new fhir.FhirCode({ value: source.eye }, options);
        }
        else {
            this.eye = null;
        }
        if (source['_eye']) {
            if (this.eye) {
                this.eye.addExtendedProperties(source._eye);
            }
            else {
                this.eye = new fhir.FhirCode(source._eye, options);
            }
        }
        if (source['sphere'] !== undefined) {
            this.sphere = new fhir.FhirDecimal({ value: source.sphere }, options);
        }
        if (source['_sphere']) {
            if (this.sphere) {
                this.sphere.addExtendedProperties(source._sphere);
            }
            else {
                this.sphere = new fhir.FhirDecimal(source._sphere, options);
            }
        }
        if (source['cylinder'] !== undefined) {
            this.cylinder = new fhir.FhirDecimal({ value: source.cylinder }, options);
        }
        if (source['_cylinder']) {
            if (this.cylinder) {
                this.cylinder.addExtendedProperties(source._cylinder);
            }
            else {
                this.cylinder = new fhir.FhirDecimal(source._cylinder, options);
            }
        }
        if (source['axis'] !== undefined) {
            this.axis = new fhir.FhirInteger({ value: source.axis }, options);
        }
        if (source['_axis']) {
            if (this.axis) {
                this.axis.addExtendedProperties(source._axis);
            }
            else {
                this.axis = new fhir.FhirInteger(source._axis, options);
            }
        }
        if (source['prism']) {
            this.prism = source.prism.map((x) => new fhir.VisionPrescriptionLensSpecificationPrism(x, options));
        }
        else {
            this.prism = [];
        }
        if (source['add'] !== undefined) {
            this.add = new fhir.FhirDecimal({ value: source.add }, options);
        }
        if (source['_add']) {
            if (this.add) {
                this.add.addExtendedProperties(source._add);
            }
            else {
                this.add = new fhir.FhirDecimal(source._add, options);
            }
        }
        if (source['power'] !== undefined) {
            this.power = new fhir.FhirDecimal({ value: source.power }, options);
        }
        if (source['_power']) {
            if (this.power) {
                this.power.addExtendedProperties(source._power);
            }
            else {
                this.power = new fhir.FhirDecimal(source._power, options);
            }
        }
        if (source['backCurve'] !== undefined) {
            this.backCurve = new fhir.FhirDecimal({ value: source.backCurve }, options);
        }
        if (source['_backCurve']) {
            if (this.backCurve) {
                this.backCurve.addExtendedProperties(source._backCurve);
            }
            else {
                this.backCurve = new fhir.FhirDecimal(source._backCurve, options);
            }
        }
        if (source['diameter'] !== undefined) {
            this.diameter = new fhir.FhirDecimal({ value: source.diameter }, options);
        }
        if (source['_diameter']) {
            if (this.diameter) {
                this.diameter.addExtendedProperties(source._diameter);
            }
            else {
                this.diameter = new fhir.FhirDecimal(source._diameter, options);
            }
        }
        if (source['duration']) {
            this.duration = new fhir.Quantity(source.duration, options);
        }
        if (source['color'] !== undefined) {
            this.color = new fhir.FhirString({ value: source.color }, options);
        }
        if (source['_color']) {
            if (this.color) {
                this.color.addExtendedProperties(source._color);
            }
            else {
                this.color = new fhir.FhirString(source._color, options);
            }
        }
        if (source['brand'] !== undefined) {
            this.brand = new fhir.FhirString({ value: source.brand }, options);
        }
        if (source['_brand']) {
            if (this.brand) {
                this.brand.addExtendedProperties(source._brand);
            }
            else {
                this.brand = new fhir.FhirString(source._brand, options);
            }
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x, options));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VisionPrescription.lensSpecification';
        }
        iss.push(...this.vRS('product', exp));
        iss.push(...this.vRSV('eye', exp, 'VisionEye', VisionEyeVsValidation, 'r'));
        iss.push(...this.vOS('sphere', exp));
        iss.push(...this.vOS('cylinder', exp));
        iss.push(...this.vOS('axis', exp));
        iss.push(...this.vOA('prism', exp));
        iss.push(...this.vOS('add', exp));
        iss.push(...this.vOS('power', exp));
        iss.push(...this.vOS('backCurve', exp));
        iss.push(...this.vOS('diameter', exp));
        iss.push(...this.vOS('duration', exp));
        iss.push(...this.vOS('color', exp));
        iss.push(...this.vOS('brand', exp));
        iss.push(...this.vOA('note', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VisionPrescriptionLensSpecification._fts_dataType = 'VisionPrescriptionLensSpecification';
/**
 * An authorization for the provision of glasses and/or contact lenses to a patient.
 */
export class VisionPrescription extends fhir.DomainResource {
    /**
     * Default constructor for VisionPrescription - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'VisionPrescription';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['created'] !== undefined) {
            this.created = new fhir.FhirDateTime({ value: source.created }, options);
        }
        else {
            this.created = null;
        }
        if (source['_created']) {
            if (this.created) {
                this.created.addExtendedProperties(source._created);
            }
            else {
                this.created = new fhir.FhirDateTime(source._created, options);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        else {
            this.patient = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter, options);
        }
        if (source['dateWritten'] !== undefined) {
            this.dateWritten = new fhir.FhirDateTime({ value: source.dateWritten }, options);
        }
        else {
            this.dateWritten = null;
        }
        if (source['_dateWritten']) {
            if (this.dateWritten) {
                this.dateWritten.addExtendedProperties(source._dateWritten);
            }
            else {
                this.dateWritten = new fhir.FhirDateTime(source._dateWritten, options);
            }
        }
        if (source['prescriber']) {
            this.prescriber = new fhir.Reference(source.prescriber, options);
        }
        else {
            this.prescriber = null;
        }
        if (source['lensSpecification']) {
            this.lensSpecification = source.lensSpecification.map((x) => new fhir.VisionPrescriptionLensSpecification(x, options));
        }
        else {
            this.lensSpecification = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VisionPrescription';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'FmStatus', FmStatusVsValidation, 'r'));
        iss.push(...this.vRS('created', exp));
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vRS('dateWritten', exp));
        iss.push(...this.vRS('prescriber', exp));
        iss.push(...this.vRA('lensSpecification', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VisionPrescription._fts_dataType = 'VisionPrescription';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmlzaW9uUHJlc2NyaXB0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9WaXNpb25QcmVzY3JpcHRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQU9wRixhQUFhO0FBQ2IsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFHbEYsYUFBYTtBQUNiLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBdUJoRjs7R0FFRztBQUNILE1BQU0sT0FBTyx3Q0FBeUMsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWFoRjs7T0FFRztJQUNILFlBQVksU0FBK0QsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDckgsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUN2RztZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUFFLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLE9BQVEsQ0FBQyxDQUFDO2FBQUU7aUJBQ25FO2dCQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFB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QUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLE9BQU8sR0FBRyxDQUFDO0lBQ2Is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QyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLFVBQVUsRUFBQyxvQkFBb0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDL0MsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXpGRDs7R0FFRztBQUM2QixnQ0FBYSxHQUFVLG9CQUFvQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0Yi5jb3JlIHZlcnNpb246IDQuMy4wXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogVmlzaW9uUHJlc2NyaXB0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWaXNpb25CYXNlQ29kZXMsICBWaXNpb25CYXNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Zpc2lvbkJhc2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmlzaW9uQmFzZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmlzaW9uQmFzZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmlzaW9uUHJvZHVjdENvZGVzLCAgVmlzaW9uUHJvZHVjdENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WaXNpb25Qcm9kdWN0Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZpc2lvblByb2R1Y3RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Zpc2lvblByb2R1Y3RWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZpc2lvbkV5ZUNvZGVzLCAgVmlzaW9uRXllQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Zpc2lvbkV5ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWaXNpb25FeWVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Zpc2lvbkV5ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm1TdGF0dXNDb2RlcywgIEZtU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ZtU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZtU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9GbVN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWaXNpb25QcmVzY3JpcHRpb25MZW5zU3BlY2lmaWNhdGlvblByaXNtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZpc2lvblByZXNjcmlwdGlvbkxlbnNTcGVjaWZpY2F0aW9uUHJpc21BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbW91bnQgb2YgcHJpc20gdG8gY29tcGVuc2F0ZSBmb3IgZXllIGFsaWdubWVudCBpbiBmcmFjdGlvbmFsIHVuaXRzLlxyXG4gICAqL1xyXG4gIGFtb3VudDogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWaXNpb25QcmVzY3JpcHRpb24ubGVuc1NwZWNpZmljYXRpb24ucHJpc20uYW1vdW50XHJcbiAgICovXHJcbiAgX2Ftb3VudD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlbGF0aXZlIGJhc2UsIG9yIHJlZmVyZW5jZSBsZW5zIGVkZ2UsIGZvciB0aGUgcHJpc20uXHJcbiAgICovXHJcbiAgYmFzZTogZmhpci5GaGlyQ29kZTxWaXNpb25CYXNlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5sZW5zU3BlY2lmaWNhdGlvbi5wcmlzbS5iYXNlXHJcbiAgICovXHJcbiAgX2Jhc2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogQWxsb3dzIGZvciBhZGp1c3RtZW50IG9uIHR3byBheGlzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZpc2lvblByZXNjcmlwdGlvbkxlbnNTcGVjaWZpY2F0aW9uUHJpc20gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWaXNpb25QcmVzY3JpcHRpb25MZW5zU3BlY2lmaWNhdGlvblByaXNtJztcclxuICAvKipcclxuICAgKiBBbW91bnQgb2YgcHJpc20gdG8gY29tcGVuc2F0ZSBmb3IgZXllIGFsaWdubWVudCBpbiBmcmFjdGlvbmFsIHVuaXRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbW91bnQ6IGZoaXIuRmhpckRlY2ltYWx8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcmVsYXRpdmUgYmFzZSwgb3IgcmVmZXJlbmNlIGxlbnMgZWRnZSwgZm9yIHRoZSBwcmlzbS5cclxuICAgKi9cclxuICBwdWJsaWMgYmFzZTogZmhpci5GaGlyQ29kZTxWaXNpb25CYXNlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmlzaW9uUHJlc2NyaXB0aW9uTGVuc1NwZWNpZmljYXRpb25QcmlzbSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFZpc2lvblByZXNjcmlwdGlvbkxlbnNTcGVjaWZpY2F0aW9uUHJpc21BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnYW1vdW50J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmFtb3VudH0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hbW91bnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfYW1vdW50J10pIHtcclxuICAgICAgaWYgKHRoaXMuYW1vdW50KSB7IHRoaXMuYW1vdW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Ftb3VudCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fYW1vdW50IGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmFzZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5iYXNlID0gbmV3IGZoaXIuRmhpckNvZGU8VmlzaW9uQmFzZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5iYXNlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmJhc2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfYmFzZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmJhc2UpIHsgdGhpcy5iYXNlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Jhc2UhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5iYXNlID0gbmV3IGZoaXIuRmhpckNvZGU8VmlzaW9uQmFzZUNvZGVUeXBlPihzb3VyY2UuX2Jhc2UgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdWaXNpb25QcmVzY3JpcHRpb24ubGVuc1NwZWNpZmljYXRpb24ucHJpc20nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdhbW91bnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdiYXNlJyxleHAsJ1Zpc2lvbkJhc2UnLFZpc2lvbkJhc2VWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgVmlzaW9uUHJlc2NyaXB0aW9uTGVuc1NwZWNpZmljYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmlzaW9uUHJlc2NyaXB0aW9uTGVuc1NwZWNpZmljYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHRoZSB0eXBlIG9mIHZpc2lvbiBjb3JyZWN0aW9uIHByb2R1Y3Qgd2hpY2ggaXMgcmVxdWlyZWQgZm9yIHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHByb2R1Y3Q6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIE1heSBhbHNvIGFwcGVhciBhcyBPRCAob2N1bHVzIGRleHRlcikgZm9yIHRoZSByaWdodCBleWUgYW5kIE9TIChvY3VsdXMgc2luaXRlcikgZm9yIHRoZSBsZWZ0IGV5ZS5cclxuICAgKi9cclxuICBleWU6IGZoaXIuRmhpckNvZGU8VmlzaW9uRXllQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5sZW5zU3BlY2lmaWNhdGlvbi5leWVcclxuICAgKi9cclxuICBfZXllPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgaXMgbmVnYXRpdmUgZm9yIG5lYXItc2lnaHRlZCBhbmQgcG9zaXRpdmUgZm9yIGZhciBzaWdodGVkLlxyXG4gICAqIE9mdGVuIGluc3VyYW5jZSB3aWxsIG5vdCBjb3ZlciBhIGxlbnMgd2l0aCBwb3dlciBiZXR3ZWVuICs3NSBhbmQgLTc1LlxyXG4gICAqL1xyXG4gIHNwaGVyZT86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmxlbnNTcGVjaWZpY2F0aW9uLnNwaGVyZVxyXG4gICAqL1xyXG4gIF9zcGhlcmU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFBvd2VyIGFkanVzdG1lbnQgZm9yIGFzdGlnbWF0aXNtIG1lYXN1cmVkIGluIGRpb3B0cmVzICgwLjI1IHVuaXRzKS5cclxuICAgKi9cclxuICBjeWxpbmRlcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmxlbnNTcGVjaWZpY2F0aW9uLmN5bGluZGVyXHJcbiAgICovXHJcbiAgX2N5bGluZGVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgbGltaXRzIGFyZSArMTgwIGFuZCAtMTgwIGRlZ3JlZXMuXHJcbiAgICovXHJcbiAgYXhpcz86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmxlbnNTcGVjaWZpY2F0aW9uLmF4aXNcclxuICAgKi9cclxuICBfYXhpcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZvciBhZGp1c3RtZW50IG9uIHR3byBheGlzLlxyXG4gICAqL1xyXG4gIHByaXNtPzogZmhpci5WaXNpb25QcmVzY3JpcHRpb25MZW5zU3BlY2lmaWNhdGlvblByaXNtQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQb3dlciBhZGp1c3RtZW50IGZvciBtdWx0aWZvY2FsIGxlbnNlcyBtZWFzdXJlZCBpbiBkaW9wdHJlcyAoMC4yNSB1bml0cykuXHJcbiAgICovXHJcbiAgYWRkPzogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWaXNpb25QcmVzY3JpcHRpb24ubGVuc1NwZWNpZmljYXRpb24uYWRkXHJcbiAgICovXHJcbiAgX2FkZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdCBsZW5zIHBvd2VyIG1lYXN1cmVkIGluIGRpb3B0cmVzICgwLjI1IHVuaXRzKS5cclxuICAgKi9cclxuICBwb3dlcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmxlbnNTcGVjaWZpY2F0aW9uLnBvd2VyXHJcbiAgICovXHJcbiAgX3Bvd2VyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBCYWNrIGN1cnZhdHVyZSBtZWFzdXJlZCBpbiBtaWxsaW1ldHJlcy5cclxuICAgKi9cclxuICBiYWNrQ3VydmU/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5sZW5zU3BlY2lmaWNhdGlvbi5iYWNrQ3VydmVcclxuICAgKi9cclxuICBfYmFja0N1cnZlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBDb250YWN0IGxlbnMgZGlhbWV0ZXIgbWVhc3VyZWQgaW4gbWlsbGltZXRyZXMuXHJcbiAgICovXHJcbiAgZGlhbWV0ZXI/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5sZW5zU3BlY2lmaWNhdGlvbi5kaWFtZXRlclxyXG4gICAqL1xyXG4gIF9kaWFtZXRlcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29tbWVuZGVkIG1heGltdW0gd2VhciBwZXJpb2QgZm9yIHRoZSBsZW5zLlxyXG4gICAqL1xyXG4gIGR1cmF0aW9uPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpYWwgY29sb3Igb3IgcGF0dGVybi5cclxuICAgKi9cclxuICBjb2xvcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWaXNpb25QcmVzY3JpcHRpb24ubGVuc1NwZWNpZmljYXRpb24uY29sb3JcclxuICAgKi9cclxuICBfY29sb3I/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEJyYW5kIHJlY29tbWVuZGF0aW9ucyBvciByZXN0cmljdGlvbnMuXHJcbiAgICovXHJcbiAgYnJhbmQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmxlbnNTcGVjaWZpY2F0aW9uLmJyYW5kXHJcbiAgICovXHJcbiAgX2JyYW5kPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBOb3RlcyBmb3Igc3BlY2lhbCByZXF1aXJlbWVudHMgc3VjaCBhcyBjb2F0aW5ncyBhbmQgbGVucyBtYXRlcmlhbHMuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb250YWluIHRoZSBkZXRhaWxzIG9mICB0aGUgaW5kaXZpZHVhbCBsZW5zIHNwZWNpZmljYXRpb25zIGFuZCBzZXJ2ZXMgYXMgdGhlIGF1dGhvcml6YXRpb24gZm9yIHRoZSBmdWxsZmlsbG1lbnQgYnkgY2VydGlmaWVkIHByb2Zlc3Npb25hbHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmlzaW9uUHJlc2NyaXB0aW9uTGVuc1NwZWNpZmljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWaXNpb25QcmVzY3JpcHRpb25MZW5zU3BlY2lmaWNhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgdHlwZSBvZiB2aXNpb24gY29ycmVjdGlvbiBwcm9kdWN0IHdoaWNoIGlzIHJlcXVpcmVkIGZvciB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZHVjdDogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBNYXkgYWxzbyBhcHBlYXIgYXMgT0QgKG9jdWx1cyBkZXh0ZXIpIGZvciB0aGUgcmlnaHQgZXllIGFuZCBPUyAob2N1bHVzIHNpbml0ZXIpIGZvciB0aGUgbGVmdCBleWUuXHJcbiAgICovXHJcbiAgcHVibGljIGV5ZTogZmhpci5GaGlyQ29kZTxWaXNpb25FeWVDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgaXMgbmVnYXRpdmUgZm9yIG5lYXItc2lnaHRlZCBhbmQgcG9zaXRpdmUgZm9yIGZhciBzaWdodGVkLlxyXG4gICAqIE9mdGVuIGluc3VyYW5jZSB3aWxsIG5vdCBjb3ZlciBhIGxlbnMgd2l0aCBwb3dlciBiZXR3ZWVuICs3NSBhbmQgLTc1LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzcGhlcmU/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQb3dlciBhZGp1c3RtZW50IGZvciBhc3RpZ21hdGlzbSBtZWFzdXJlZCBpbiBkaW9wdHJlcyAoMC4yNSB1bml0cykuXHJcbiAgICovXHJcbiAgcHVibGljIGN5bGluZGVyPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxpbWl0cyBhcmUgKzE4MCBhbmQgLTE4MCBkZWdyZWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBheGlzPzogZmhpci5GaGlySW50ZWdlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZvciBhZGp1c3RtZW50IG9uIHR3byBheGlzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmlzbTogZmhpci5WaXNpb25QcmVzY3JpcHRpb25MZW5zU3BlY2lmaWNhdGlvblByaXNtW107XHJcbiAgLyoqXHJcbiAgICogUG93ZXIgYWRqdXN0bWVudCBmb3IgbXVsdGlmb2NhbCBsZW5zZXMgbWVhc3VyZWQgaW4gZGlvcHRyZXMgKDAuMjUgdW5pdHMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGQ/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb250YWN0IGxlbnMgcG93ZXIgbWVhc3VyZWQgaW4gZGlvcHRyZXMgKDAuMjUgdW5pdHMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb3dlcj86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEJhY2sgY3VydmF0dXJlIG1lYXN1cmVkIGluIG1pbGxpbWV0cmVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBiYWNrQ3VydmU/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb250YWN0IGxlbnMgZGlhbWV0ZXIgbWVhc3VyZWQgaW4gbWlsbGltZXRyZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRpYW1ldGVyPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29tbWVuZGVkIG1heGltdW0gd2VhciBwZXJpb2QgZm9yIHRoZSBsZW5zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkdXJhdGlvbj86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpYWwgY29sb3Igb3IgcGF0dGVybi5cclxuICAgKi9cclxuICBwdWJsaWMgY29sb3I/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEJyYW5kIHJlY29tbWVuZGF0aW9ucyBvciByZXN0cmljdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIGJyYW5kPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOb3RlcyBmb3Igc3BlY2lhbCByZXF1aXJlbWVudHMgc3VjaCBhcyBjb2F0aW5ncyBhbmQgbGVucyBtYXRlcmlhbHMuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU6IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZpc2lvblByZXNjcmlwdGlvbkxlbnNTcGVjaWZpY2F0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmlzaW9uUHJlc2NyaXB0aW9uTGVuc1NwZWNpZmljYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncHJvZHVjdCddKSB7IHRoaXMucHJvZHVjdCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucHJvZHVjdCwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2R1Y3QgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydleWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZXllID0gbmV3IGZoaXIuRmhpckNvZGU8VmlzaW9uRXllQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmV5ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5leWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZXllJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZXllKSB7IHRoaXMuZXllLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2V5ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmV5ZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFZpc2lvbkV5ZUNvZGVUeXBlPihzb3VyY2UuX2V5ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3BoZXJlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnNwaGVyZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLnNwaGVyZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3BoZXJlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3BoZXJlKSB7IHRoaXMuc3BoZXJlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3NwaGVyZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNwaGVyZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fc3BoZXJlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY3lsaW5kZXInXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY3lsaW5kZXIgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5jeWxpbmRlcn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfY3lsaW5kZXInXSkge1xyXG4gICAgICBpZiAodGhpcy5jeWxpbmRlcikgeyB0aGlzLmN5bGluZGVyLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2N5bGluZGVyISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY3lsaW5kZXIgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2N5bGluZGVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXhpcyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5heGlzID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UuYXhpc30sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYXhpcyddKSB7XHJcbiAgICAgIGlmICh0aGlzLmF4aXMpIHsgdGhpcy5heGlzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2F4aXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5heGlzID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9heGlzIGFzIFBhcnRpYWw8Zmhpci5GaGlySW50ZWdlckFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJpc20nXSkgeyB0aGlzLnByaXNtID0gc291cmNlLnByaXNtLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmlzaW9uUHJlc2NyaXB0aW9uTGVuc1NwZWNpZmljYXRpb25QcmlzbSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByaXNtID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5hZGQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5hZGR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FkZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFkZCkgeyB0aGlzLmFkZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hZGQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hZGQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2FkZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Bvd2VyJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnBvd2VyID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UucG93ZXJ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3Bvd2VyJ10pIHtcclxuICAgICAgaWYgKHRoaXMucG93ZXIpIHsgdGhpcy5wb3dlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wb3dlciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnBvd2VyID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9wb3dlciBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2JhY2tDdXJ2ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5iYWNrQ3VydmUgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5iYWNrQ3VydmV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2JhY2tDdXJ2ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmJhY2tDdXJ2ZSkgeyB0aGlzLmJhY2tDdXJ2ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9iYWNrQ3VydmUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5iYWNrQ3VydmUgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2JhY2tDdXJ2ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RpYW1ldGVyJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRpYW1ldGVyID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UuZGlhbWV0ZXJ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RpYW1ldGVyJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGlhbWV0ZXIpIHsgdGhpcy5kaWFtZXRlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kaWFtZXRlciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRpYW1ldGVyID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9kaWFtZXRlciBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2R1cmF0aW9uJ10pIHsgdGhpcy5kdXJhdGlvbiA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5kdXJhdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbG9yJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmNvbG9yID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5jb2xvcn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29sb3InXSkge1xyXG4gICAgICBpZiAodGhpcy5jb2xvcikgeyB0aGlzLmNvbG9yLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvbG9yISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29sb3IgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fY29sb3IgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2JyYW5kJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmJyYW5kID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5icmFuZH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYnJhbmQnXSkge1xyXG4gICAgICBpZiAodGhpcy5icmFuZCkgeyB0aGlzLmJyYW5kLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2JyYW5kISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYnJhbmQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYnJhbmQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdWaXNpb25QcmVzY3JpcHRpb24ubGVuc1NwZWNpZmljYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdwcm9kdWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVignZXllJyxleHAsJ1Zpc2lvbkV5ZScsVmlzaW9uRXllVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NwaGVyZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY3lsaW5kZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2F4aXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3ByaXNtJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhZGQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Bvd2VyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdiYWNrQ3VydmUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RpYW1ldGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkdXJhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29sb3InLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2JyYW5kJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdub3RlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWaXNpb25QcmVzY3JpcHRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmlzaW9uUHJlc2NyaXB0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiVmlzaW9uUHJlc2NyaXB0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgYXNzaWduZWQgdG8gdGhpcyB2aXNpb24gcHJlc2NyaXB0aW9uLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHRoaXMgcmVzb3VyY2Ugd2FzIGNyZWF0ZWQuXHJcbiAgICovXHJcbiAgY3JlYXRlZDogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmNyZWF0ZWRcclxuICAgKi9cclxuICBfY3JlYXRlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSByZXNvdXJjZSByZWZlcmVuY2UgdG8gdGhlIHBlcnNvbiB0byB3aG9tIHRoZSB2aXNpb24gcHJlc2NyaXB0aW9uIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcGF0aWVudDogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSByZWZlcmVuY2UgdG8gYSByZXNvdXJjZSB0aGF0IGlkZW50aWZpZXMgdGhlIHBhcnRpY3VsYXIgb2NjdXJyZW5jZSBvZiBjb250YWN0IGJldHdlZW4gcGF0aWVudCBhbmQgaGVhbHRoIGNhcmUgcHJvdmlkZXIgZHVyaW5nIHdoaWNoIHRoZSBwcmVzY3JpcHRpb24gd2FzIGlzc3VlZC5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEp1cmlzZGljdGlvbnMgZGV0ZXJtaW5lIHRoZSB2YWxpZCBsaWZldGltZSBvZiBhIHByZXNjcmlwdGlvbi4gVHlwaWNhbGx5IHZpc2lvbiBwcmVzY3JpcHRpb25zIGFyZSB2YWxpZCBmb3IgdHdvIHllYXJzIGZyb20gdGhlIGRhdGUgd3JpdHRlbi5cclxuICAgKi9cclxuICBkYXRlV3JpdHRlbjogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmRhdGVXcml0dGVuXHJcbiAgICovXHJcbiAgX2RhdGVXcml0dGVuPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgaGVhbHRoY2FyZSBwcm9mZXNzaW9uYWwgcmVzcG9uc2libGUgZm9yIGF1dGhvcml6aW5nIHRoZSBwcmVzY3JpcHRpb24uXHJcbiAgICovXHJcbiAgcHJlc2NyaWJlcjogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQ29udGFpbiB0aGUgZGV0YWlscyBvZiAgdGhlIGluZGl2aWR1YWwgbGVucyBzcGVjaWZpY2F0aW9ucyBhbmQgc2VydmVzIGFzIHRoZSBhdXRob3JpemF0aW9uIGZvciB0aGUgZnVsbGZpbGxtZW50IGJ5IGNlcnRpZmllZCBwcm9mZXNzaW9uYWxzLlxyXG4gICAqL1xyXG4gIGxlbnNTcGVjaWZpY2F0aW9uOiBmaGlyLlZpc2lvblByZXNjcmlwdGlvbkxlbnNTcGVjaWZpY2F0aW9uQXJnc1tdfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbiBhdXRob3JpemF0aW9uIGZvciB0aGUgcHJvdmlzaW9uIG9mIGdsYXNzZXMgYW5kL29yIGNvbnRhY3QgbGVuc2VzIHRvIGEgcGF0aWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWaXNpb25QcmVzY3JpcHRpb24gZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Zpc2lvblByZXNjcmlwdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJWaXNpb25QcmVzY3JpcHRpb25cIjtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGFzc2lnbmVkIHRvIHRoaXMgdmlzaW9uIHByZXNjcmlwdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB0aGlzIHJlc291cmNlIHdhcyBjcmVhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVkOiBmaGlyLkZoaXJEYXRlVGltZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVzb3VyY2UgcmVmZXJlbmNlIHRvIHRoZSBwZXJzb24gdG8gd2hvbSB0aGUgdmlzaW9uIHByZXNjcmlwdGlvbiBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50OiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIGEgcmVzb3VyY2UgdGhhdCBpZGVudGlmaWVzIHRoZSBwYXJ0aWN1bGFyIG9jY3VycmVuY2Ugb2YgY29udGFjdCBiZXR3ZWVuIHBhdGllbnQgYW5kIGhlYWx0aCBjYXJlIHByb3ZpZGVyIGR1cmluZyB3aGljaCB0aGUgcHJlc2NyaXB0aW9uIHdhcyBpc3N1ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBKdXJpc2RpY3Rpb25zIGRldGVybWluZSB0aGUgdmFsaWQgbGlmZXRpbWUgb2YgYSBwcmVzY3JpcHRpb24uIFR5cGljYWxseSB2aXNpb24gcHJlc2NyaXB0aW9ucyBhcmUgdmFsaWQgZm9yIHR3byB5ZWFycyBmcm9tIHRoZSBkYXRlIHdyaXR0ZW4uXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGVXcml0dGVuOiBmaGlyLkZoaXJEYXRlVGltZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBoZWFsdGhjYXJlIHByb2Zlc3Npb25hbCByZXNwb25zaWJsZSBmb3IgYXV0aG9yaXppbmcgdGhlIHByZXNjcmlwdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJlc2NyaWJlcjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBDb250YWluIHRoZSBkZXRhaWxzIG9mICB0aGUgaW5kaXZpZHVhbCBsZW5zIHNwZWNpZmljYXRpb25zIGFuZCBzZXJ2ZXMgYXMgdGhlIGF1dGhvcml6YXRpb24gZm9yIHRoZSBmdWxsZmlsbG1lbnQgYnkgY2VydGlmaWVkIHByb2Zlc3Npb25hbHMuXHJcbiAgICovXHJcbiAgcHVibGljIGxlbnNTcGVjaWZpY2F0aW9uOiBmaGlyLlZpc2lvblByZXNjcmlwdGlvbkxlbnNTcGVjaWZpY2F0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgVmlzaW9uUHJlc2NyaXB0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmlzaW9uUHJlc2NyaXB0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ1Zpc2lvblByZXNjcmlwdGlvbic7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NyZWF0ZWQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY3JlYXRlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5jcmVhdGVkfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNyZWF0ZWQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfY3JlYXRlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNyZWF0ZWQpIHsgdGhpcy5jcmVhdGVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NyZWF0ZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jcmVhdGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fY3JlYXRlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50J10pIHsgdGhpcy5wYXRpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXRpZW50LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGF0aWVudCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlV3JpdHRlbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kYXRlV3JpdHRlbiA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlV3JpdHRlbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRlV3JpdHRlbiA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlV3JpdHRlbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGVXcml0dGVuKSB7IHRoaXMuZGF0ZVdyaXR0ZW4uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZVdyaXR0ZW4hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kYXRlV3JpdHRlbiA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RhdGVXcml0dGVuIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZXNjcmliZXInXSkgeyB0aGlzLnByZXNjcmliZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnByZXNjcmliZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcmVzY3JpYmVyID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGVuc1NwZWNpZmljYXRpb24nXSkgeyB0aGlzLmxlbnNTcGVjaWZpY2F0aW9uID0gc291cmNlLmxlbnNTcGVjaWZpY2F0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuVmlzaW9uUHJlc2NyaXB0aW9uTGVuc1NwZWNpZmljYXRpb24oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5sZW5zU3BlY2lmaWNhdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnVmlzaW9uUHJlc2NyaXB0aW9uJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ3N0YXR1cycsZXhwLCdGbVN0YXR1cycsRm1TdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnY3JlYXRlZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncGF0aWVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZW5jb3VudGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdkYXRlV3JpdHRlbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncHJlc2NyaWJlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSQSgnbGVuc1NwZWNpZmljYXRpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19