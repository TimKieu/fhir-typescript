// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: ClinicalUseDefinition
import * as fhir from '../fhir.js';
// @ts-ignore
import { ClinicalUseDefinitionTypeVsValidation } from '../fhirValueSets/ClinicalUseDefinitionTypeVsValidation.js';
/**
 * Information about the use of the medicinal product in relation to other therapies described as part of the contraindication.
 */
export class ClinicalUseDefinitionContraindicationOtherTherapy extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionContraindicationOtherTherapy - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['relationshipType']) {
            this.relationshipType = new fhir.CodeableConcept(source.relationshipType);
        }
        else {
            this.relationshipType = null;
        }
        if (source['therapy']) {
            this.therapy = new fhir.CodeableReference(source.therapy);
        }
        else {
            this.therapy = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.contraindication.otherTherapy';
        }
        iss.push(...this.vRS('relationshipType', exp));
        iss.push(...this.vRS('therapy', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionContraindicationOtherTherapy._fts_dataType = 'ClinicalUseDefinitionContraindicationOtherTherapy';
/**
 * Specifics for when this is a contraindication.
 */
export class ClinicalUseDefinitionContraindication extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionContraindication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['diseaseSymptomProcedure']) {
            this.diseaseSymptomProcedure = new fhir.CodeableReference(source.diseaseSymptomProcedure);
        }
        if (source['diseaseStatus']) {
            this.diseaseStatus = new fhir.CodeableReference(source.diseaseStatus);
        }
        if (source['comorbidity']) {
            this.comorbidity = source.comorbidity.map((x) => new fhir.CodeableReference(x));
        }
        else {
            this.comorbidity = [];
        }
        if (source['indication']) {
            this.indication = source.indication.map((x) => new fhir.Reference(x));
        }
        else {
            this.indication = [];
        }
        if (source['otherTherapy']) {
            this.otherTherapy = source.otherTherapy.map((x) => new fhir.ClinicalUseDefinitionContraindicationOtherTherapy(x));
        }
        else {
            this.otherTherapy = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.contraindication';
        }
        iss.push(...this.vOS('diseaseSymptomProcedure', exp));
        iss.push(...this.vOS('diseaseStatus', exp));
        iss.push(...this.vOA('comorbidity', exp));
        iss.push(...this.vOA('indication', exp));
        iss.push(...this.vOA('otherTherapy', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionContraindication._fts_dataType = 'ClinicalUseDefinitionContraindication';
/**
 * Specifics for when this is an indication.
 */
export class ClinicalUseDefinitionIndication extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionIndication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['diseaseSymptomProcedure']) {
            this.diseaseSymptomProcedure = new fhir.CodeableReference(source.diseaseSymptomProcedure);
        }
        if (source['diseaseStatus']) {
            this.diseaseStatus = new fhir.CodeableReference(source.diseaseStatus);
        }
        if (source['comorbidity']) {
            this.comorbidity = source.comorbidity.map((x) => new fhir.CodeableReference(x));
        }
        else {
            this.comorbidity = [];
        }
        if (source['intendedEffect']) {
            this.intendedEffect = new fhir.CodeableReference(source.intendedEffect);
        }
        if (source['duration']) {
            this.duration = source.duration;
        }
        else if (source['durationRange']) {
            this.duration = new fhir.Range(source.durationRange);
        }
        else if (source['durationString']) {
            this.duration = new fhir.FhirString({ value: source.durationString });
        }
        if (source['undesirableEffect']) {
            this.undesirableEffect = source.undesirableEffect.map((x) => new fhir.Reference(x));
        }
        else {
            this.undesirableEffect = [];
        }
        if (source['otherTherapy']) {
            this.otherTherapy = source.otherTherapy.map((x) => new fhir.ClinicalUseDefinitionContraindicationOtherTherapy(x));
        }
        else {
            this.otherTherapy = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.indication';
        }
        iss.push(...this.vOS('diseaseSymptomProcedure', exp));
        iss.push(...this.vOS('diseaseStatus', exp));
        iss.push(...this.vOA('comorbidity', exp));
        iss.push(...this.vOS('intendedEffect', exp));
        iss.push(...this.vOS('duration', exp));
        iss.push(...this.vOA('undesirableEffect', exp));
        iss.push(...this.vOA('otherTherapy', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionIndication._fts_dataType = 'ClinicalUseDefinitionIndication';
/**
 * Internal flag to properly serialize choice-type element ClinicalUseDefinition.indication.duration[x]
 */
ClinicalUseDefinitionIndication._fts_durationIsChoice = true;
/**
 * The specific medication, food, substance or laboratory test that interacts.
 */
export class ClinicalUseDefinitionInteractionInteractant extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionInteractionInteractant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['item']) {
            this.item = source.item;
        }
        else if (source['itemReference']) {
            this.item = new fhir.Reference(source.itemReference);
        }
        else if (source['itemCodeableConcept']) {
            this.item = new fhir.CodeableConcept(source.itemCodeableConcept);
        }
        else {
            this.item = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.interaction.interactant';
        }
        iss.push(...this.vRS('item', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionInteractionInteractant._fts_dataType = 'ClinicalUseDefinitionInteractionInteractant';
/**
 * Internal flag to properly serialize choice-type element ClinicalUseDefinition.interaction.interactant.item[x]
 */
ClinicalUseDefinitionInteractionInteractant._fts_itemIsChoice = true;
/**
 * Specifics for when this is an interaction.
 */
export class ClinicalUseDefinitionInteraction extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionInteraction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['interactant']) {
            this.interactant = source.interactant.map((x) => new fhir.ClinicalUseDefinitionInteractionInteractant(x));
        }
        else {
            this.interactant = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['effect']) {
            this.effect = new fhir.CodeableReference(source.effect);
        }
        if (source['incidence']) {
            this.incidence = new fhir.CodeableConcept(source.incidence);
        }
        if (source['management']) {
            this.management = source.management.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.management = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.interaction';
        }
        iss.push(...this.vOA('interactant', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('effect', exp));
        iss.push(...this.vOS('incidence', exp));
        iss.push(...this.vOA('management', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionInteraction._fts_dataType = 'ClinicalUseDefinitionInteraction';
/**
 * Describe the possible undesirable effects (negative outcomes) from the use of the medicinal product as treatment.
 */
export class ClinicalUseDefinitionUndesirableEffect extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionUndesirableEffect - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['symptomConditionEffect']) {
            this.symptomConditionEffect = new fhir.CodeableReference(source.symptomConditionEffect);
        }
        if (source['classification']) {
            this.classification = new fhir.CodeableConcept(source.classification);
        }
        if (source['frequencyOfOccurrence']) {
            this.frequencyOfOccurrence = new fhir.CodeableConcept(source.frequencyOfOccurrence);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.undesirableEffect';
        }
        iss.push(...this.vOS('symptomConditionEffect', exp));
        iss.push(...this.vOS('classification', exp));
        iss.push(...this.vOS('frequencyOfOccurrence', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionUndesirableEffect._fts_dataType = 'ClinicalUseDefinitionUndesirableEffect';
/**
 * A critical piece of information about environmental, health or physical risks or hazards that serve as caution to the user. For example 'Do not operate heavy machinery', 'May cause drowsiness', or 'Get medical advice/attention if you feel unwell'.
 */
export class ClinicalUseDefinitionWarning extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionWarning - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description);
            }
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.warning';
        }
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('code', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionWarning._fts_dataType = 'ClinicalUseDefinitionWarning';
/**
 * A single issue - either an indication, contraindication, interaction or an undesirable effect for a medicinal product, medication, device or procedure.
 */
export class ClinicalUseDefinition extends fhir.DomainResource {
    /**
     * Default constructor for ClinicalUseDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ClinicalUseDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['subject']) {
            this.subject = source.subject.map((x) => new fhir.Reference(x));
        }
        else {
            this.subject = [];
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['contraindication']) {
            this.contraindication = new fhir.ClinicalUseDefinitionContraindication(source.contraindication);
        }
        if (source['indication']) {
            this.indication = new fhir.ClinicalUseDefinitionIndication(source.indication);
        }
        if (source['interaction']) {
            this.interaction = new fhir.ClinicalUseDefinitionInteraction(source.interaction);
        }
        if (source['population']) {
            this.population = source.population.map((x) => new fhir.Reference(x));
        }
        else {
            this.population = [];
        }
        if (source['undesirableEffect']) {
            this.undesirableEffect = new fhir.ClinicalUseDefinitionUndesirableEffect(source.undesirableEffect);
        }
        if (source['warning']) {
            this.warning = new fhir.ClinicalUseDefinitionWarning(source.warning);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('type', exp, 'ClinicalUseDefinitionType', ClinicalUseDefinitionTypeVsValidation, 'r'));
        iss.push(...this.vOA('category', exp));
        iss.push(...this.vOA('subject', exp));
        iss.push(...this.vOS('status', exp));
        iss.push(...this.vOS('contraindication', exp));
        iss.push(...this.vOS('indication', exp));
        iss.push(...this.vOS('interaction', exp));
        iss.push(...this.vOA('population', exp));
        iss.push(...this.vOS('undesirableEffect', exp));
        iss.push(...this.vOS('warning', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinition._fts_dataType = 'ClinicalUseDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xpbmljYWxVc2VEZWZpbml0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9DbGluaWNhbFVzZURlZmluaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsdUNBQXVDO0FBRXZDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBd0RuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHFDQUFxQyxFQUFFLE1BQU0sMkRBQTJELENBQUM7QUF1QmxIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGlEQUFrRCxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXpGOztPQUVHO0lBQ0gsWUFBWSxTQUF3RSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM5SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1NBQUU7YUFDekc7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDdEMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQ2hGO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FBRTtJQUMvQixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxHQUFHLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFB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R0FBRyxDQUFDLENBQUMsQ0FBQztRQUM5QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUFsR0Q7O0dBRUc7QUFDNkIsbUNBQWEsR0FBVSx1QkFBdUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNGIuY29yZSB2ZXJzaW9uOiA0LjMuMFxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IENsaW5pY2FsVXNlRGVmaW5pdGlvblxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGhlcmFweVJlbGF0aW9uc2hpcFR5cGVDb2RlcywgIFRoZXJhcHlSZWxhdGlvbnNoaXBUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RoZXJhcHlSZWxhdGlvbnNoaXBUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRoZXJhcHlSZWxhdGlvbnNoaXBUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UaGVyYXB5UmVsYXRpb25zaGlwVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGhlcmFweUNvZGVzLCAgVGhlcmFweUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UaGVyYXB5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRoZXJhcHlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RoZXJhcHlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlQ29kZXMsICBEaXNlYXNlU3ltcHRvbVByb2NlZHVyZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaXNlYXNlU3ltcHRvbVByb2NlZHVyZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaXNlYXNlU3ltcHRvbVByb2NlZHVyZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGlzZWFzZVN5bXB0b21Qcm9jZWR1cmVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpc2Vhc2VTdGF0dXNDb2RlcywgIERpc2Vhc2VTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGlzZWFzZVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaXNlYXNlU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaXNlYXNlU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQcm9kdWN0SW50ZW5kZWRVc2VDb2RlcywgIFByb2R1Y3RJbnRlbmRlZFVzZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Qcm9kdWN0SW50ZW5kZWRVc2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvZHVjdEludGVuZGVkVXNlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Qcm9kdWN0SW50ZW5kZWRVc2VWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludGVyYWN0aW9uVHlwZUNvZGVzLCAgSW50ZXJhY3Rpb25UeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludGVyYWN0aW9uVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnRlcmFjdGlvblR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludGVyYWN0aW9uVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW50ZXJhY3Rpb25FZmZlY3RDb2RlcywgIEludGVyYWN0aW9uRWZmZWN0Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludGVyYWN0aW9uRWZmZWN0Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludGVyYWN0aW9uRWZmZWN0VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnRlcmFjdGlvbkVmZmVjdFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW50ZXJhY3Rpb25JbmNpZGVuY2VDb2RlcywgIEludGVyYWN0aW9uSW5jaWRlbmNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludGVyYWN0aW9uSW5jaWRlbmNlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludGVyYWN0aW9uSW5jaWRlbmNlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnRlcmFjdGlvbkluY2lkZW5jZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW50ZXJhY3Rpb25NYW5hZ2VtZW50Q29kZXMsICBJbnRlcmFjdGlvbk1hbmFnZW1lbnRDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW50ZXJhY3Rpb25NYW5hZ2VtZW50Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludGVyYWN0aW9uTWFuYWdlbWVudFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW50ZXJhY3Rpb25NYW5hZ2VtZW50VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbmRlc2lyYWJsZUVmZmVjdFN5bXB0b21Db2RlcywgIFVuZGVzaXJhYmxlRWZmZWN0U3ltcHRvbUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VbmRlc2lyYWJsZUVmZmVjdFN5bXB0b21Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5kZXNpcmFibGVFZmZlY3RTeW1wdG9tVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VbmRlc2lyYWJsZUVmZmVjdFN5bXB0b21Wc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFVuZGVzaXJhYmxlRWZmZWN0Q2xhc3NpZmljYXRpb25Db2RlcywgIFVuZGVzaXJhYmxlRWZmZWN0Q2xhc3NpZmljYXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5kZXNpcmFibGVFZmZlY3RDbGFzc2lmaWNhdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbmRlc2lyYWJsZUVmZmVjdENsYXNzaWZpY2F0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VbmRlc2lyYWJsZUVmZmVjdENsYXNzaWZpY2F0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbmRlc2lyYWJsZUVmZmVjdEZyZXF1ZW5jeUNvZGVzLCAgVW5kZXNpcmFibGVFZmZlY3RGcmVxdWVuY3lDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5kZXNpcmFibGVFZmZlY3RGcmVxdWVuY3lDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5kZXNpcmFibGVFZmZlY3RGcmVxdWVuY3lWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1VuZGVzaXJhYmxlRWZmZWN0RnJlcXVlbmN5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBXYXJuaW5nVHlwZUNvZGVzLCAgV2FybmluZ1R5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvV2FybmluZ1R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgV2FybmluZ1R5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1dhcm5pbmdUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZXMsICBDbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ2F0ZWdvcnlDb2RlcywgIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsaW5pY2FsVXNlRGVmaW5pdGlvbkNhdGVnb3J5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsaW5pY2FsVXNlRGVmaW5pdGlvbkNhdGVnb3J5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGluaWNhbFVzZURlZmluaXRpb25DYXRlZ29yeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNDb2RlcywgIFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW5kaWNhdGlvbiBvciBjb250cmFpbmRpY2F0aW9uIGFuZCBhbm90aGVyIHRoZXJhcHkuXHJcbiAgICovXHJcbiAgcmVsYXRpb25zaGlwVHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIGEgc3BlY2lmaWMgbWVkaWNhdGlvbiAoYWN0aXZlIHN1YnN0YW5jZSwgbWVkaWNpbmFsIHByb2R1Y3Qgb3IgY2xhc3Mgb2YgcHJvZHVjdHMpIGFzIHBhcnQgb2YgYW4gaW5kaWNhdGlvbiBvciBjb250cmFpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHRoZXJhcHk6IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBpbiByZWxhdGlvbiB0byBvdGhlciB0aGVyYXBpZXMgZGVzY3JpYmVkIGFzIHBhcnQgb2YgdGhlIGNvbnRyYWluZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHknO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBpbmRpY2F0aW9uIG9yIGNvbnRyYWluZGljYXRpb24gYW5kIGFub3RoZXIgdGhlcmFweS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRpb25zaGlwVHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gYSBzcGVjaWZpYyBtZWRpY2F0aW9uIChhY3RpdmUgc3Vic3RhbmNlLCBtZWRpY2luYWwgcHJvZHVjdCBvciBjbGFzcyBvZiBwcm9kdWN0cykgYXMgcGFydCBvZiBhbiBpbmRpY2F0aW9uIG9yIGNvbnRyYWluZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHRoZXJhcHk6IGZoaXIuQ29kZWFibGVSZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGlvbnNoaXBUeXBlJ10pIHsgdGhpcy5yZWxhdGlvbnNoaXBUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZWxhdGlvbnNoaXBUeXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVsYXRpb25zaGlwVHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RoZXJhcHknXSkgeyB0aGlzLnRoZXJhcHkgPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UudGhlcmFweSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRoZXJhcHkgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uLmNvbnRyYWluZGljYXRpb24ub3RoZXJUaGVyYXB5JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncmVsYXRpb25zaGlwVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndGhlcmFweScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNpdHVhdGlvbiB0aGF0IGlzIGJlaW5nIGRvY3VtZW50ZWQgYXMgY29udHJhaW5kaWNhdGluZyBhZ2FpbnN0IHRoaXMgaXRlbS5cclxuICAgKi9cclxuICBkaXNlYXNlU3ltcHRvbVByb2NlZHVyZT86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBkaXNlYXNlIG9yIHN5bXB0b20gZm9yIHRoZSBjb250cmFpbmRpY2F0aW9uLCBmb3IgZXhhbXBsZSBcImNocm9uaWNcIiBvciBcIm1ldGFzdGF0aWNcIi5cclxuICAgKi9cclxuICBkaXNlYXNlU3RhdHVzPzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29tb3JiaWRpdHkgKGNvbmN1cnJlbnQgY29uZGl0aW9uKSBvciBjb2luZmVjdGlvbi5cclxuICAgKi9cclxuICBjb21vcmJpZGl0eT86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpY2F0aW9uIHdoaWNoIHRoaXMgaXMgYSBjb250cmFpZGljYXRpb24gZm9yLlxyXG4gICAqL1xyXG4gIGluZGljYXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW4gcmVsYXRpb24gdG8gb3RoZXIgdGhlcmFwaWVzIGRlc2NyaWJlZCBhcyBwYXJ0IG9mIHRoZSBjb250cmFpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIG90aGVyVGhlcmFweT86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhIGNvbnRyYWluZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaXR1YXRpb24gdGhhdCBpcyBiZWluZyBkb2N1bWVudGVkIGFzIGNvbnRyYWluZGljYXRpbmcgYWdhaW5zdCB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIGRpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlPzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgZGlzZWFzZSBvciBzeW1wdG9tIGZvciB0aGUgY29udHJhaW5kaWNhdGlvbiwgZm9yIGV4YW1wbGUgXCJjaHJvbmljXCIgb3IgXCJtZXRhc3RhdGljXCIuXHJcbiAgICovXHJcbiAgcHVibGljIGRpc2Vhc2VTdGF0dXM/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvbW9yYmlkaXR5IChjb25jdXJyZW50IGNvbmRpdGlvbikgb3IgY29pbmZlY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW9yYmlkaXR5OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGluZGljYXRpb24gd2hpY2ggdGhpcyBpcyBhIGNvbnRyYWlkaWNhdGlvbiBmb3IuXHJcbiAgICovXHJcbiAgcHVibGljIGluZGljYXRpb246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW4gcmVsYXRpb24gdG8gb3RoZXIgdGhlcmFwaWVzIGRlc2NyaWJlZCBhcyBwYXJ0IG9mIHRoZSBjb250cmFpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdGhlclRoZXJhcHk6IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2Rpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlJ10pIHsgdGhpcy5kaXNlYXNlU3ltcHRvbVByb2NlZHVyZSA9IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHNvdXJjZS5kaXNlYXNlU3ltcHRvbVByb2NlZHVyZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rpc2Vhc2VTdGF0dXMnXSkgeyB0aGlzLmRpc2Vhc2VTdGF0dXMgPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UuZGlzZWFzZVN0YXR1cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW9yYmlkaXR5J10pIHsgdGhpcy5jb21vcmJpZGl0eSA9IHNvdXJjZS5jb21vcmJpZGl0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tb3JiaWRpdHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5kaWNhdGlvbiddKSB7IHRoaXMuaW5kaWNhdGlvbiA9IHNvdXJjZS5pbmRpY2F0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW5kaWNhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvdGhlclRoZXJhcHknXSkgeyB0aGlzLm90aGVyVGhlcmFweSA9IHNvdXJjZS5vdGhlclRoZXJhcHkubWFwKCh4KSA9PiBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3RoZXJUaGVyYXB5ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uY29udHJhaW5kaWNhdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Rpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkaXNlYXNlU3RhdHVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb21vcmJpZGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaW5kaWNhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnb3RoZXJUaGVyYXB5JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25JbmRpY2F0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgc2l0dWF0aW9uIHRoYXQgaXMgYmVpbmcgZG9jdW1lbnRlZCBhcyBhbiBpbmRpY2F0b24gZm9yIHRoaXMgaXRlbS5cclxuICAgKi9cclxuICBkaXNlYXNlU3ltcHRvbVByb2NlZHVyZT86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBkaXNlYXNlIG9yIHN5bXB0b20gZm9yIHRoZSBpbmRpY2F0aW9uLCBmb3IgZXhhbXBsZSBcImNocm9uaWNcIiBvciBcIm1ldGFzdGF0aWNcIi5cclxuICAgKi9cclxuICBkaXNlYXNlU3RhdHVzPzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29tb3JiaWRpdHkgKGNvbmN1cnJlbnQgY29uZGl0aW9uKSBvciBjb2luZmVjdGlvbiBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGNvbW9yYmlkaXR5PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGludGVuZGVkIGVmZmVjdCwgYWltIG9yIHN0cmF0ZWd5IHRvIGJlIGFjaGlldmVkLlxyXG4gICAqL1xyXG4gIGludGVuZGVkRWZmZWN0PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWluZyBvciBkdXJhdGlvbiBpbmZvcm1hdGlvbiwgdGhhdCBtYXkgYmUgYXNzb2NpYXRlZCB3aXRoIHVzZSB3aXRoIHRoZSBpbmRpY2F0ZWQgY29uZGl0aW9uIGUuZy4gQWR1bHQgcGF0aWVudHMgc3VmZmVyaW5nIGZyb20gbXlvY2FyZGlhbCBpbmZhcmN0aW9uIChmcm9tIGEgZmV3IGRheXMgdW50aWwgbGVzcyB0aGFuIDM1IGRheXMpLCBpc2NoYWVtaWMgc3Ryb2tlIChmcm9tIDcgZGF5cyB1bnRpbCBsZXNzIHRoYW4gNiBtb250aHMpLlxyXG4gICAqL1xyXG4gIGR1cmF0aW9uPzogZmhpci5SYW5nZXxmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWluZyBvciBkdXJhdGlvbiBpbmZvcm1hdGlvbiwgdGhhdCBtYXkgYmUgYXNzb2NpYXRlZCB3aXRoIHVzZSB3aXRoIHRoZSBpbmRpY2F0ZWQgY29uZGl0aW9uIGUuZy4gQWR1bHQgcGF0aWVudHMgc3VmZmVyaW5nIGZyb20gbXlvY2FyZGlhbCBpbmZhcmN0aW9uIChmcm9tIGEgZmV3IGRheXMgdW50aWwgbGVzcyB0aGFuIDM1IGRheXMpLCBpc2NoYWVtaWMgc3Ryb2tlIChmcm9tIDcgZGF5cyB1bnRpbCBsZXNzIHRoYW4gNiBtb250aHMpLlxyXG4gICAqL1xyXG4gIGR1cmF0aW9uUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltaW5nIG9yIGR1cmF0aW9uIGluZm9ybWF0aW9uLCB0aGF0IG1heSBiZSBhc3NvY2lhdGVkIHdpdGggdXNlIHdpdGggdGhlIGluZGljYXRlZCBjb25kaXRpb24gZS5nLiBBZHVsdCBwYXRpZW50cyBzdWZmZXJpbmcgZnJvbSBteW9jYXJkaWFsIGluZmFyY3Rpb24gKGZyb20gYSBmZXcgZGF5cyB1bnRpbCBsZXNzIHRoYW4gMzUgZGF5cyksIGlzY2hhZW1pYyBzdHJva2UgKGZyb20gNyBkYXlzIHVudGlsIGxlc3MgdGhhbiA2IG1vbnRocykuXHJcbiAgICovXHJcbiAgZHVyYXRpb25TdHJpbmc/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiB1bndhbnRlZCBzaWRlIGVmZmVjdCBvciBuZWdhdGl2ZSBvdXRjb21lIHRoYXQgbWF5IGhhcHBlbiBpZiB5b3UgdXNlIHRoZSBkcnVnIChvciBvdGhlciBzdWJqZWN0IG9mIHRoaXMgcmVzb3VyY2UpIGZvciB0aGlzIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgdW5kZXNpcmFibGVFZmZlY3Q/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW4gcmVsYXRpb24gdG8gb3RoZXIgdGhlcmFwaWVzIGRlc2NyaWJlZCBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIG90aGVyVGhlcmFweT86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbmRpY2F0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb25JbmRpY2F0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc2l0dWF0aW9uIHRoYXQgaXMgYmVpbmcgZG9jdW1lbnRlZCBhcyBhbiBpbmRpY2F0b24gZm9yIHRoaXMgaXRlbS5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmU/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBkaXNlYXNlIG9yIHN5bXB0b20gZm9yIHRoZSBpbmRpY2F0aW9uLCBmb3IgZXhhbXBsZSBcImNocm9uaWNcIiBvciBcIm1ldGFzdGF0aWNcIi5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzZWFzZVN0YXR1cz86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29tb3JiaWRpdHkgKGNvbmN1cnJlbnQgY29uZGl0aW9uKSBvciBjb2luZmVjdGlvbiBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21vcmJpZGl0eTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlbmRlZCBlZmZlY3QsIGFpbSBvciBzdHJhdGVneSB0byBiZSBhY2hpZXZlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZW5kZWRFZmZlY3Q/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaW1pbmcgb3IgZHVyYXRpb24gaW5mb3JtYXRpb24sIHRoYXQgbWF5IGJlIGFzc29jaWF0ZWQgd2l0aCB1c2Ugd2l0aCB0aGUgaW5kaWNhdGVkIGNvbmRpdGlvbiBlLmcuIEFkdWx0IHBhdGllbnRzIHN1ZmZlcmluZyBmcm9tIG15b2NhcmRpYWwgaW5mYXJjdGlvbiAoZnJvbSBhIGZldyBkYXlzIHVudGlsIGxlc3MgdGhhbiAzNSBkYXlzKSwgaXNjaGFlbWljIHN0cm9rZSAoZnJvbSA3IGRheXMgdW50aWwgbGVzcyB0aGFuIDYgbW9udGhzKS5cclxuICAgKi9cclxuICBwdWJsaWMgZHVyYXRpb24/OiAoZmhpci5SYW5nZXxmaGlyLkZoaXJTdHJpbmcpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsaW5pY2FsVXNlRGVmaW5pdGlvbi5pbmRpY2F0aW9uLmR1cmF0aW9uW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2R1cmF0aW9uSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogQW4gdW53YW50ZWQgc2lkZSBlZmZlY3Qgb3IgbmVnYXRpdmUgb3V0Y29tZSB0aGF0IG1heSBoYXBwZW4gaWYgeW91IHVzZSB0aGUgZHJ1ZyAob3Igb3RoZXIgc3ViamVjdCBvZiB0aGlzIHJlc291cmNlKSBmb3IgdGhpcyBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1bmRlc2lyYWJsZUVmZmVjdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBpbiByZWxhdGlvbiB0byBvdGhlciB0aGVyYXBpZXMgZGVzY3JpYmVkIGFzIHBhcnQgb2YgdGhlIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG90aGVyVGhlcmFweTogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmUnXSkgeyB0aGlzLmRpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLmRpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGlzZWFzZVN0YXR1cyddKSB7IHRoaXMuZGlzZWFzZVN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHNvdXJjZS5kaXNlYXNlU3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tb3JiaWRpdHknXSkgeyB0aGlzLmNvbW9yYmlkaXR5ID0gc291cmNlLmNvbW9yYmlkaXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb21vcmJpZGl0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlbmRlZEVmZmVjdCddKSB7IHRoaXMuaW50ZW5kZWRFZmZlY3QgPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UuaW50ZW5kZWRFZmZlY3QpOyB9XHJcbiAgICBpZiAoc291cmNlWydkdXJhdGlvbiddKSB7IHRoaXMuZHVyYXRpb24gPSBzb3VyY2UuZHVyYXRpb247IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZHVyYXRpb25SYW5nZSddKSB7IHRoaXMuZHVyYXRpb24gPSBuZXcgZmhpci5SYW5nZShzb3VyY2UuZHVyYXRpb25SYW5nZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZHVyYXRpb25TdHJpbmcnXSkgeyB0aGlzLmR1cmF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kdXJhdGlvblN0cmluZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWyd1bmRlc2lyYWJsZUVmZmVjdCddKSB7IHRoaXMudW5kZXNpcmFibGVFZmZlY3QgPSBzb3VyY2UudW5kZXNpcmFibGVFZmZlY3QubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51bmRlc2lyYWJsZUVmZmVjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvdGhlclRoZXJhcHknXSkgeyB0aGlzLm90aGVyVGhlcmFweSA9IHNvdXJjZS5vdGhlclRoZXJhcHkubWFwKCh4KSA9PiBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3RoZXJUaGVyYXB5ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uaW5kaWNhdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Rpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkaXNlYXNlU3RhdHVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb21vcmJpZGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaW50ZW5kZWRFZmZlY3QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2R1cmF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd1bmRlc2lyYWJsZUVmZmVjdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnb3RoZXJUaGVyYXB5JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgbWVkaWNhdGlvbiwgZm9vZCBvciBsYWJvcmF0b3J5IHRlc3QgdGhhdCBpbnRlcmFjdHMuXHJcbiAgICovXHJcbiAgaXRlbT86IGZoaXIuUmVmZXJlbmNlfGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgbWVkaWNhdGlvbiwgZm9vZCBvciBsYWJvcmF0b3J5IHRlc3QgdGhhdCBpbnRlcmFjdHMuXHJcbiAgICovXHJcbiAgaXRlbVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIG1lZGljYXRpb24sIGZvb2Qgb3IgbGFib3JhdG9yeSB0ZXN0IHRoYXQgaW50ZXJhY3RzLlxyXG4gICAqL1xyXG4gIGl0ZW1Db2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHNwZWNpZmljIG1lZGljYXRpb24sIGZvb2QsIHN1YnN0YW5jZSBvciBsYWJvcmF0b3J5IHRlc3QgdGhhdCBpbnRlcmFjdHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb25JbnRlcmFjdGFudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnQnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpYyBtZWRpY2F0aW9uLCBmb29kIG9yIGxhYm9yYXRvcnkgdGVzdCB0aGF0IGludGVyYWN0cy5cclxuICAgKi9cclxuICBwdWJsaWMgaXRlbTogKGZoaXIuUmVmZXJlbmNlfGZoaXIuQ29kZWFibGVDb25jZXB0KXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ2xpbmljYWxVc2VEZWZpbml0aW9uLmludGVyYWN0aW9uLmludGVyYWN0YW50Lml0ZW1beF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfaXRlbUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2l0ZW0nXSkgeyB0aGlzLml0ZW0gPSBzb3VyY2UuaXRlbTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydpdGVtUmVmZXJlbmNlJ10pIHsgdGhpcy5pdGVtID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5pdGVtUmVmZXJlbmNlKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydpdGVtQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5pdGVtID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5pdGVtQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaXRlbSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uaW50ZXJhY3Rpb24uaW50ZXJhY3RhbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdpdGVtJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpYyBtZWRpY2F0aW9uLCBmb29kLCBzdWJzdGFuY2Ugb3IgbGFib3JhdG9yeSB0ZXN0IHRoYXQgaW50ZXJhY3RzLlxyXG4gICAqL1xyXG4gIGludGVyYWN0YW50PzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiB0aGUgaW50ZXJhY3Rpb24gZS5nLiBkcnVnLWRydWcgaW50ZXJhY3Rpb24sIGRydWctZm9vZCBpbnRlcmFjdGlvbiwgZHJ1Zy1sYWIgdGVzdCBpbnRlcmFjdGlvbi5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZWZmZWN0IG9mIHRoZSBpbnRlcmFjdGlvbiwgZm9yIGV4YW1wbGUgXCJyZWR1Y2VkIGdhc3RyaWMgYWJzb3JwdGlvbiBvZiBwcmltYXJ5IG1lZGljYXRpb25cIi5cclxuICAgKi9cclxuICBlZmZlY3Q/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluY2lkZW5jZSBvZiB0aGUgaW50ZXJhY3Rpb24sIGUuZy4gdGhlb3JldGljYWwsIG9ic2VydmVkLlxyXG4gICAqL1xyXG4gIGluY2lkZW5jZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWN0aW9ucyBmb3IgbWFuYWdpbmcgdGhlIGludGVyYWN0aW9uLlxyXG4gICAqL1xyXG4gIG1hbmFnZW1lbnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbnRlcmFjdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgbWVkaWNhdGlvbiwgZm9vZCwgc3Vic3RhbmNlIG9yIGxhYm9yYXRvcnkgdGVzdCB0aGF0IGludGVyYWN0cy5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZXJhY3RhbnQ6IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb25JbnRlcmFjdGFudFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBpbnRlcmFjdGlvbiBlLmcuIGRydWctZHJ1ZyBpbnRlcmFjdGlvbiwgZHJ1Zy1mb29kIGludGVyYWN0aW9uLCBkcnVnLWxhYiB0ZXN0IGludGVyYWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBlZmZlY3Qgb2YgdGhlIGludGVyYWN0aW9uLCBmb3IgZXhhbXBsZSBcInJlZHVjZWQgZ2FzdHJpYyBhYnNvcnB0aW9uIG9mIHByaW1hcnkgbWVkaWNhdGlvblwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlZmZlY3Q/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5jaWRlbmNlIG9mIHRoZSBpbnRlcmFjdGlvbiwgZS5nLiB0aGVvcmV0aWNhbCwgb2JzZXJ2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGluY2lkZW5jZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBY3Rpb25zIGZvciBtYW5hZ2luZyB0aGUgaW50ZXJhY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG1hbmFnZW1lbnQ6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydpbnRlcmFjdGFudCddKSB7IHRoaXMuaW50ZXJhY3RhbnQgPSBzb3VyY2UuaW50ZXJhY3RhbnQubWFwKCh4KSA9PiBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW50ZXJhY3RhbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VmZmVjdCddKSB7IHRoaXMuZWZmZWN0ID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLmVmZmVjdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2luY2lkZW5jZSddKSB7IHRoaXMuaW5jaWRlbmNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5pbmNpZGVuY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYW5hZ2VtZW50J10pIHsgdGhpcy5tYW5hZ2VtZW50ID0gc291cmNlLm1hbmFnZW1lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYW5hZ2VtZW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uaW50ZXJhY3Rpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpbnRlcmFjdGFudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZWZmZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbmNpZGVuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ21hbmFnZW1lbnQnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNpdHVhdGlvbiBpbiB3aGljaCB0aGUgdW5kZXNpcmFibGUgZWZmZWN0IG1heSBtYW5pZmVzdC5cclxuICAgKi9cclxuICBzeW1wdG9tQ29uZGl0aW9uRWZmZWN0PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhpZ2ggbGV2ZWwgY2xhc3NpZmljYXRpb24gb2YgdGhlIGVmZmVjdC5cclxuICAgKi9cclxuICBjbGFzc2lmaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSG93IG9mdGVuIHRoZSBlZmZlY3QgaXMgc2Vlbi5cclxuICAgKi9cclxuICBmcmVxdWVuY3lPZk9jY3VycmVuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVzY3JpYmUgdGhlIHBvc3NpYmxlIHVuZGVzaXJhYmxlIGVmZmVjdHMgKG5lZ2F0aXZlIG91dGNvbWVzKSBmcm9tIHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGFzIHRyZWF0bWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0JztcclxuICAvKipcclxuICAgKiBUaGUgc2l0dWF0aW9uIGluIHdoaWNoIHRoZSB1bmRlc2lyYWJsZSBlZmZlY3QgbWF5IG1hbmlmZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzeW1wdG9tQ29uZGl0aW9uRWZmZWN0PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSGlnaCBsZXZlbCBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgZWZmZWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFzc2lmaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIb3cgb2Z0ZW4gdGhlIGVmZmVjdCBpcyBzZWVuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmcmVxdWVuY3lPZk9jY3VycmVuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uVW5kZXNpcmFibGVFZmZlY3QgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzeW1wdG9tQ29uZGl0aW9uRWZmZWN0J10pIHsgdGhpcy5zeW1wdG9tQ29uZGl0aW9uRWZmZWN0ID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLnN5bXB0b21Db25kaXRpb25FZmZlY3QpOyB9XHJcbiAgICBpZiAoc291cmNlWydjbGFzc2lmaWNhdGlvbiddKSB7IHRoaXMuY2xhc3NpZmljYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNsYXNzaWZpY2F0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZnJlcXVlbmN5T2ZPY2N1cnJlbmNlJ10pIHsgdGhpcy5mcmVxdWVuY3lPZk9jY3VycmVuY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmZyZXF1ZW5jeU9mT2NjdXJyZW5jZSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24udW5kZXNpcmFibGVFZmZlY3QnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzeW1wdG9tQ29uZGl0aW9uRWZmZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjbGFzc2lmaWNhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZnJlcXVlbmN5T2ZPY2N1cnJlbmNlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmdBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIHRleHR1YWwgZGVmaW5pdGlvbiBvZiB0aGlzIHdhcm5pbmcsIHdpdGggZm9ybWF0dGluZy5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsaW5pY2FsVXNlRGVmaW5pdGlvbi53YXJuaW5nLmRlc2NyaXB0aW9uXHJcbiAgICovXHJcbiAgX2Rlc2NyaXB0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvZGVkIG9yIHVuZm9ybWF0dGVkIHRleHR1YWwgZGVmaW5pdGlvbiBvZiB0aGlzIHdhcm5pbmcuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGNyaXRpY2FsIHBpZWNlIG9mIGluZm9ybWF0aW9uIGFib3V0IGVudmlyb25tZW50YWwsIGhlYWx0aCBvciBwaHlzaWNhbCByaXNrcyBvciBoYXphcmRzIHRoYXQgc2VydmUgYXMgY2F1dGlvbiB0byB0aGUgdXNlci4gRm9yIGV4YW1wbGUgJ0RvIG5vdCBvcGVyYXRlIGhlYXZ5IG1hY2hpbmVyeScsICdNYXkgY2F1c2UgZHJvd3NpbmVzcycsIG9yICdHZXQgbWVkaWNhbCBhZHZpY2UvYXR0ZW50aW9uIGlmIHlvdSBmZWVsIHVud2VsbCcuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uV2FybmluZyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmcnO1xyXG4gIC8qKlxyXG4gICAqIEEgdGV4dHVhbCBkZWZpbml0aW9uIG9mIHRoaXMgd2FybmluZywgd2l0aCBmb3JtYXR0aW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGVkIG9yIHVuZm9ybWF0dGVkIHRleHR1YWwgZGVmaW5pdGlvbiBvZiB0aGlzIHdhcm5pbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uV2FybmluZyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmdBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bihzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyTWFya2Rvd25BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uLndhcm5pbmcnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29kZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xpbmljYWxVc2VEZWZpbml0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkNsaW5pY2FsVXNlRGVmaW5pdGlvblwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBCdXNpbmVzcyBpZGVudGlmaWVyIGZvciB0aGlzIGlzc3VlLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIGluZGljYXRpb24gfCBjb250cmFpbmRpY2F0aW9uIHwgaW50ZXJhY3Rpb24gfCB1bmRlc2lyYWJsZS1lZmZlY3QgfCB3YXJuaW5nLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuRmhpckNvZGU8Q2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDbGluaWNhbFVzZURlZmluaXRpb24udHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNhdGVnb3Jpc2F0aW9uIG9mIHRoZSBpc3N1ZSwgcHJpbWFyaWx5IGZvciBkaXZpZGluZyB3YXJuaW5ncyBpbnRvIHN1YmplY3QgaGVhZGluZyBhcmVhcyBzdWNoIGFzIFwiUHJlZ25hbmN5IGFuZCBMYWN0YXRpb25cIiwgXCJPdmVyZG9zZVwiLCBcIkVmZmVjdHMgb24gQWJpbGl0eSB0byBEcml2ZSBhbmQgVXNlIE1hY2hpbmVzXCIuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lZGljYXRpb24gb3IgcHJvY2VkdXJlIGZvciB3aGljaCB0aGlzIGlzIGFuIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoaXMgaXMgYSBjdXJyZW50IGlzc3VlIG9yIG9uZSB0aGF0IGhhcyBiZWVuIHJldGlyZWQgZXRjLlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYSBjb250cmFpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGNvbnRyYWluZGljYXRpb24/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGluZGljYXRpb24/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbnRlcmFjdGlvbi5cclxuICAgKi9cclxuICBpbnRlcmFjdGlvbj86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcG9wdWxhdGlvbiBncm91cCB0byB3aGljaCB0aGlzIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcG9wdWxhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZSB0aGUgcG9zc2libGUgdW5kZXNpcmFibGUgZWZmZWN0cyAobmVnYXRpdmUgb3V0Y29tZXMpIGZyb20gdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgYXMgdHJlYXRtZW50LlxyXG4gICAqL1xyXG4gIHVuZGVzaXJhYmxlRWZmZWN0PzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY3JpdGljYWwgcGllY2Ugb2YgaW5mb3JtYXRpb24gYWJvdXQgZW52aXJvbm1lbnRhbCwgaGVhbHRoIG9yIHBoeXNpY2FsIHJpc2tzIG9yIGhhemFyZHMgdGhhdCBzZXJ2ZSBhcyBjYXV0aW9uIHRvIHRoZSB1c2VyLiBGb3IgZXhhbXBsZSAnRG8gbm90IG9wZXJhdGUgaGVhdnkgbWFjaGluZXJ5JywgJ01heSBjYXVzZSBkcm93c2luZXNzJywgb3IgJ0dldCBtZWRpY2FsIGFkdmljZS9hdHRlbnRpb24gaWYgeW91IGZlZWwgdW53ZWxsJy5cclxuICAgKi9cclxuICB3YXJuaW5nPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNpbmdsZSBpc3N1ZSAtIGVpdGhlciBhbiBpbmRpY2F0aW9uLCBjb250cmFpbmRpY2F0aW9uLCBpbnRlcmFjdGlvbiBvciBhbiB1bmRlc2lyYWJsZSBlZmZlY3QgZm9yIGEgbWVkaWNpbmFsIHByb2R1Y3QsIG1lZGljYXRpb24sIGRldmljZSBvciBwcm9jZWR1cmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQ2xpbmljYWxVc2VEZWZpbml0aW9uXCI7XHJcbiAgLyoqXHJcbiAgICogQnVzaW5lc3MgaWRlbnRpZmllciBmb3IgdGhpcyBpc3N1ZS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogaW5kaWNhdGlvbiB8IGNvbnRyYWluZGljYXRpb24gfCBpbnRlcmFjdGlvbiB8IHVuZGVzaXJhYmxlLWVmZmVjdCB8IHdhcm5pbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuRmhpckNvZGU8Q2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgY2F0ZWdvcmlzYXRpb24gb2YgdGhlIGlzc3VlLCBwcmltYXJpbHkgZm9yIGRpdmlkaW5nIHdhcm5pbmdzIGludG8gc3ViamVjdCBoZWFkaW5nIGFyZWFzIHN1Y2ggYXMgXCJQcmVnbmFuY3kgYW5kIExhY3RhdGlvblwiLCBcIk92ZXJkb3NlXCIsIFwiRWZmZWN0cyBvbiBBYmlsaXR5IHRvIERyaXZlIGFuZCBVc2UgTWFjaGluZXNcIi5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lZGljYXRpb24gb3IgcHJvY2VkdXJlIGZvciB3aGljaCB0aGlzIGlzIGFuIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciB0aGlzIGlzIGEgY3VycmVudCBpc3N1ZSBvciBvbmUgdGhhdCBoYXMgYmVlbiByZXRpcmVkIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljcyBmb3Igd2hlbiB0aGlzIGlzIGEgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgY29udHJhaW5kaWNhdGlvbj86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYW4gaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgaW5kaWNhdGlvbj86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYW4gaW50ZXJhY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGludGVyYWN0aW9uPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBvcHVsYXRpb24gZ3JvdXAgdG8gd2hpY2ggdGhpcyBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb3B1bGF0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlIHRoZSBwb3NzaWJsZSB1bmRlc2lyYWJsZSBlZmZlY3RzIChuZWdhdGl2ZSBvdXRjb21lcykgZnJvbSB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBhcyB0cmVhdG1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHVuZGVzaXJhYmxlRWZmZWN0PzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjcml0aWNhbCBwaWVjZSBvZiBpbmZvcm1hdGlvbiBhYm91dCBlbnZpcm9ubWVudGFsLCBoZWFsdGggb3IgcGh5c2ljYWwgcmlza3Mgb3IgaGF6YXJkcyB0aGF0IHNlcnZlIGFzIGNhdXRpb24gdG8gdGhlIHVzZXIuIEZvciBleGFtcGxlICdEbyBub3Qgb3BlcmF0ZSBoZWF2eSBtYWNoaW5lcnknLCAnTWF5IGNhdXNlIGRyb3dzaW5lc3MnLCBvciAnR2V0IG1lZGljYWwgYWR2aWNlL2F0dGVudGlvbiBpZiB5b3UgZmVlbCB1bndlbGwnLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3YXJuaW5nPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGluaWNhbFVzZURlZmluaXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxDbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnR5cGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxDbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZVR5cGU+KHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gc291cmNlLmNhdGVnb3J5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2F0ZWdvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IHNvdXJjZS5zdWJqZWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViamVjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udHJhaW5kaWNhdGlvbiddKSB7IHRoaXMuY29udHJhaW5kaWNhdGlvbiA9IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb24oc291cmNlLmNvbnRyYWluZGljYXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydpbmRpY2F0aW9uJ10pIHsgdGhpcy5pbmRpY2F0aW9uID0gbmV3IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbihzb3VyY2UuaW5kaWNhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVyYWN0aW9uJ10pIHsgdGhpcy5pbnRlcmFjdGlvbiA9IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uKHNvdXJjZS5pbnRlcmFjdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BvcHVsYXRpb24nXSkgeyB0aGlzLnBvcHVsYXRpb24gPSBzb3VyY2UucG9wdWxhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBvcHVsYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5kZXNpcmFibGVFZmZlY3QnXSkgeyB0aGlzLnVuZGVzaXJhYmxlRWZmZWN0ID0gbmV3IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uVW5kZXNpcmFibGVFZmZlY3Qoc291cmNlLnVuZGVzaXJhYmxlRWZmZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2FybmluZyddKSB7IHRoaXMud2FybmluZyA9IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmcoc291cmNlLndhcm5pbmcpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUFMoJ3Jlc291cmNlVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ3R5cGUnLGV4cCwnQ2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZScsQ2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjYXRlZ29yeScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3ViamVjdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3RhdHVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjb250cmFpbmRpY2F0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbmRpY2F0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbnRlcmFjdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncG9wdWxhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndW5kZXNpcmFibGVFZmZlY3QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3dhcm5pbmcnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19