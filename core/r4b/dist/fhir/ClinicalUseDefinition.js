// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: ClinicalUseDefinition
import * as fhir from '../fhir.js';
// @ts-ignore
import { ClinicalUseDefinitionTypeVsValidation } from '../fhirValueSets/ClinicalUseDefinitionTypeVsValidation.js';
/**
 * Information about the use of the medicinal product in relation to other therapies described as part of the contraindication.
 */
export class ClinicalUseDefinitionContraindicationOtherTherapy extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionContraindicationOtherTherapy - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['relationshipType']) {
            this.relationshipType = new fhir.CodeableConcept(source.relationshipType, options);
        }
        else {
            this.relationshipType = null;
        }
        if (source['therapy']) {
            this.therapy = new fhir.CodeableReference(source.therapy, options);
        }
        else {
            this.therapy = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.contraindication.otherTherapy';
        }
        iss.push(...this.vRS('relationshipType', exp));
        iss.push(...this.vRS('therapy', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionContraindicationOtherTherapy._fts_dataType = 'ClinicalUseDefinitionContraindicationOtherTherapy';
/**
 * Specifics for when this is a contraindication.
 */
export class ClinicalUseDefinitionContraindication extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionContraindication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['diseaseSymptomProcedure']) {
            this.diseaseSymptomProcedure = new fhir.CodeableReference(source.diseaseSymptomProcedure, options);
        }
        if (source['diseaseStatus']) {
            this.diseaseStatus = new fhir.CodeableReference(source.diseaseStatus, options);
        }
        if (source['comorbidity']) {
            this.comorbidity = source.comorbidity.map((x) => new fhir.CodeableReference(x, options));
        }
        else {
            this.comorbidity = [];
        }
        if (source['indication']) {
            this.indication = source.indication.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.indication = [];
        }
        if (source['otherTherapy']) {
            this.otherTherapy = source.otherTherapy.map((x) => new fhir.ClinicalUseDefinitionContraindicationOtherTherapy(x, options));
        }
        else {
            this.otherTherapy = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.contraindication';
        }
        iss.push(...this.vOS('diseaseSymptomProcedure', exp));
        iss.push(...this.vOS('diseaseStatus', exp));
        iss.push(...this.vOA('comorbidity', exp));
        iss.push(...this.vOA('indication', exp));
        iss.push(...this.vOA('otherTherapy', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionContraindication._fts_dataType = 'ClinicalUseDefinitionContraindication';
/**
 * Specifics for when this is an indication.
 */
export class ClinicalUseDefinitionIndication extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionIndication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['diseaseSymptomProcedure']) {
            this.diseaseSymptomProcedure = new fhir.CodeableReference(source.diseaseSymptomProcedure, options);
        }
        if (source['diseaseStatus']) {
            this.diseaseStatus = new fhir.CodeableReference(source.diseaseStatus, options);
        }
        if (source['comorbidity']) {
            this.comorbidity = source.comorbidity.map((x) => new fhir.CodeableReference(x, options));
        }
        else {
            this.comorbidity = [];
        }
        if (source['intendedEffect']) {
            this.intendedEffect = new fhir.CodeableReference(source.intendedEffect, options);
        }
        if (source['duration']) {
            this.duration = source.duration;
        }
        else if (source['durationRange']) {
            this.duration = new fhir.Range(source.durationRange, options);
        }
        else if (source['durationString'] !== undefined) {
            this.duration = new fhir.FhirString({ value: source.durationString }, options);
        }
        if (source['undesirableEffect']) {
            this.undesirableEffect = source.undesirableEffect.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.undesirableEffect = [];
        }
        if (source['otherTherapy']) {
            this.otherTherapy = source.otherTherapy.map((x) => new fhir.ClinicalUseDefinitionContraindicationOtherTherapy(x, options));
        }
        else {
            this.otherTherapy = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.indication';
        }
        iss.push(...this.vOS('diseaseSymptomProcedure', exp));
        iss.push(...this.vOS('diseaseStatus', exp));
        iss.push(...this.vOA('comorbidity', exp));
        iss.push(...this.vOS('intendedEffect', exp));
        iss.push(...this.vOS('duration', exp));
        iss.push(...this.vOA('undesirableEffect', exp));
        iss.push(...this.vOA('otherTherapy', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionIndication._fts_dataType = 'ClinicalUseDefinitionIndication';
/**
 * Internal flag to properly serialize choice-type element ClinicalUseDefinition.indication.duration[x]
 */
ClinicalUseDefinitionIndication._fts_durationIsChoice = true;
/**
 * The specific medication, food, substance or laboratory test that interacts.
 */
export class ClinicalUseDefinitionInteractionInteractant extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionInteractionInteractant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['item']) {
            this.item = source.item;
        }
        else if (source['itemReference']) {
            this.item = new fhir.Reference(source.itemReference, options);
        }
        else if (source['itemCodeableConcept']) {
            this.item = new fhir.CodeableConcept(source.itemCodeableConcept, options);
        }
        else {
            this.item = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.interaction.interactant';
        }
        iss.push(...this.vRS('item', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionInteractionInteractant._fts_dataType = 'ClinicalUseDefinitionInteractionInteractant';
/**
 * Internal flag to properly serialize choice-type element ClinicalUseDefinition.interaction.interactant.item[x]
 */
ClinicalUseDefinitionInteractionInteractant._fts_itemIsChoice = true;
/**
 * Specifics for when this is an interaction.
 */
export class ClinicalUseDefinitionInteraction extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionInteraction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['interactant']) {
            this.interactant = source.interactant.map((x) => new fhir.ClinicalUseDefinitionInteractionInteractant(x, options));
        }
        else {
            this.interactant = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['effect']) {
            this.effect = new fhir.CodeableReference(source.effect, options);
        }
        if (source['incidence']) {
            this.incidence = new fhir.CodeableConcept(source.incidence, options);
        }
        if (source['management']) {
            this.management = source.management.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.management = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.interaction';
        }
        iss.push(...this.vOA('interactant', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('effect', exp));
        iss.push(...this.vOS('incidence', exp));
        iss.push(...this.vOA('management', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionInteraction._fts_dataType = 'ClinicalUseDefinitionInteraction';
/**
 * Describe the possible undesirable effects (negative outcomes) from the use of the medicinal product as treatment.
 */
export class ClinicalUseDefinitionUndesirableEffect extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionUndesirableEffect - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['symptomConditionEffect']) {
            this.symptomConditionEffect = new fhir.CodeableReference(source.symptomConditionEffect, options);
        }
        if (source['classification']) {
            this.classification = new fhir.CodeableConcept(source.classification, options);
        }
        if (source['frequencyOfOccurrence']) {
            this.frequencyOfOccurrence = new fhir.CodeableConcept(source.frequencyOfOccurrence, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.undesirableEffect';
        }
        iss.push(...this.vOS('symptomConditionEffect', exp));
        iss.push(...this.vOS('classification', exp));
        iss.push(...this.vOS('frequencyOfOccurrence', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionUndesirableEffect._fts_dataType = 'ClinicalUseDefinitionUndesirableEffect';
/**
 * A critical piece of information about environmental, health or physical risks or hazards that serve as caution to the user. For example 'Do not operate heavy machinery', 'May cause drowsiness', or 'Get medical advice/attention if you feel unwell'.
 */
export class ClinicalUseDefinitionWarning extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionWarning - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['description'] !== undefined) {
            this.description = new fhir.FhirMarkdown({ value: source.description }, options);
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description, options);
            }
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.warning';
        }
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('code', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionWarning._fts_dataType = 'ClinicalUseDefinitionWarning';
/**
 * A single issue - either an indication, contraindication, interaction or an undesirable effect for a medicinal product, medication, device or procedure.
 */
export class ClinicalUseDefinition extends fhir.DomainResource {
    /**
     * Default constructor for ClinicalUseDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ClinicalUseDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['type'] !== undefined) {
            this.type = new fhir.FhirCode({ value: source.type }, options);
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type, options);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.category = [];
        }
        if (source['subject']) {
            this.subject = source.subject.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.subject = [];
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status, options);
        }
        if (source['contraindication']) {
            this.contraindication = new fhir.ClinicalUseDefinitionContraindication(source.contraindication, options);
        }
        if (source['indication']) {
            this.indication = new fhir.ClinicalUseDefinitionIndication(source.indication, options);
        }
        if (source['interaction']) {
            this.interaction = new fhir.ClinicalUseDefinitionInteraction(source.interaction, options);
        }
        if (source['population']) {
            this.population = source.population.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.population = [];
        }
        if (source['undesirableEffect']) {
            this.undesirableEffect = new fhir.ClinicalUseDefinitionUndesirableEffect(source.undesirableEffect, options);
        }
        if (source['warning']) {
            this.warning = new fhir.ClinicalUseDefinitionWarning(source.warning, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('type', exp, 'ClinicalUseDefinitionType', ClinicalUseDefinitionTypeVsValidation, 'r'));
        iss.push(...this.vOA('category', exp));
        iss.push(...this.vOA('subject', exp));
        iss.push(...this.vOS('status', exp));
        iss.push(...this.vOS('contraindication', exp));
        iss.push(...this.vOS('indication', exp));
        iss.push(...this.vOS('interaction', exp));
        iss.push(...this.vOA('population', exp));
        iss.push(...this.vOS('undesirableEffect', exp));
        iss.push(...this.vOS('warning', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinition._fts_dataType = 'ClinicalUseDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xpbmljYWxVc2VEZWZpbml0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9DbGluaWNhbFVzZURlZmluaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsdUNBQXVDO0FBRXZDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBd0RuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHFDQUFxQyxFQUFFLE1BQU0sMkRBQTJELENBQUM7QUF1QmxIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGlEQUFrRCxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXpGOztPQUVHO0lBQ0gsWUFBWSxTQUF3RSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM5SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQ2xIO1lBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztTQUFFO1FBQ3RDLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7YUFDekY7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztTQUFFO0lBQy9CLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLEdBQUcsR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELElBQUksR0FB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ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBDbGluaWNhbFVzZURlZmluaXRpb25cclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRoZXJhcHlSZWxhdGlvbnNoaXBUeXBlQ29kZXMsICBUaGVyYXB5UmVsYXRpb25zaGlwVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UaGVyYXB5UmVsYXRpb25zaGlwVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUaGVyYXB5UmVsYXRpb25zaGlwVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGhlcmFweVJlbGF0aW9uc2hpcFR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRoZXJhcHlDb2RlcywgIFRoZXJhcHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGhlcmFweUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUaGVyYXB5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UaGVyYXB5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaXNlYXNlU3ltcHRvbVByb2NlZHVyZUNvZGVzLCAgRGlzZWFzZVN5bXB0b21Qcm9jZWR1cmVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGlzZWFzZVN5bXB0b21Qcm9jZWR1cmVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGlzZWFzZVN5bXB0b21Qcm9jZWR1cmVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Rpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaXNlYXNlU3RhdHVzQ29kZXMsICBEaXNlYXNlU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Rpc2Vhc2VTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGlzZWFzZVN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGlzZWFzZVN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvZHVjdEludGVuZGVkVXNlQ29kZXMsICBQcm9kdWN0SW50ZW5kZWRVc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvZHVjdEludGVuZGVkVXNlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2R1Y3RJbnRlbmRlZFVzZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvZHVjdEludGVuZGVkVXNlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnRlcmFjdGlvblR5cGVDb2RlcywgIEludGVyYWN0aW9uVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnRlcmFjdGlvblR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW50ZXJhY3Rpb25UeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnRlcmFjdGlvblR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludGVyYWN0aW9uRWZmZWN0Q29kZXMsICBJbnRlcmFjdGlvbkVmZmVjdENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnRlcmFjdGlvbkVmZmVjdENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnRlcmFjdGlvbkVmZmVjdFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW50ZXJhY3Rpb25FZmZlY3RWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludGVyYWN0aW9uSW5jaWRlbmNlQ29kZXMsICBJbnRlcmFjdGlvbkluY2lkZW5jZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnRlcmFjdGlvbkluY2lkZW5jZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnRlcmFjdGlvbkluY2lkZW5jZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW50ZXJhY3Rpb25JbmNpZGVuY2VWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludGVyYWN0aW9uTWFuYWdlbWVudENvZGVzLCAgSW50ZXJhY3Rpb25NYW5hZ2VtZW50Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludGVyYWN0aW9uTWFuYWdlbWVudENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hbmFnZW1lbnRWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludGVyYWN0aW9uTWFuYWdlbWVudFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5kZXNpcmFibGVFZmZlY3RTeW1wdG9tQ29kZXMsICBVbmRlc2lyYWJsZUVmZmVjdFN5bXB0b21Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5kZXNpcmFibGVFZmZlY3RTeW1wdG9tQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFVuZGVzaXJhYmxlRWZmZWN0U3ltcHRvbVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5kZXNpcmFibGVFZmZlY3RTeW1wdG9tVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbmRlc2lyYWJsZUVmZmVjdENsYXNzaWZpY2F0aW9uQ29kZXMsICBVbmRlc2lyYWJsZUVmZmVjdENsYXNzaWZpY2F0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1VuZGVzaXJhYmxlRWZmZWN0Q2xhc3NpZmljYXRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5kZXNpcmFibGVFZmZlY3RDbGFzc2lmaWNhdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5kZXNpcmFibGVFZmZlY3RDbGFzc2lmaWNhdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5kZXNpcmFibGVFZmZlY3RGcmVxdWVuY3lDb2RlcywgIFVuZGVzaXJhYmxlRWZmZWN0RnJlcXVlbmN5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1VuZGVzaXJhYmxlRWZmZWN0RnJlcXVlbmN5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFVuZGVzaXJhYmxlRWZmZWN0RnJlcXVlbmN5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VbmRlc2lyYWJsZUVmZmVjdEZyZXF1ZW5jeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgV2FybmluZ1R5cGVDb2RlcywgIFdhcm5pbmdUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1dhcm5pbmdUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFdhcm5pbmdUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9XYXJuaW5nVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVzLCAgQ2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsaW5pY2FsVXNlRGVmaW5pdGlvbkNhdGVnb3J5Q29kZXMsICBDbGluaWNhbFVzZURlZmluaXRpb25DYXRlZ29yeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGluaWNhbFVzZURlZmluaXRpb25DYXRlZ29yeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGluaWNhbFVzZURlZmluaXRpb25DYXRlZ29yeVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xpbmljYWxVc2VEZWZpbml0aW9uQ2F0ZWdvcnlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzQ29kZXMsICBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluZGljYXRpb24gb3IgY29udHJhaW5kaWNhdGlvbiBhbmQgYW5vdGhlciB0aGVyYXB5LlxyXG4gICAqL1xyXG4gIHJlbGF0aW9uc2hpcFR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byBhIHNwZWNpZmljIG1lZGljYXRpb24gKGFjdGl2ZSBzdWJzdGFuY2UsIG1lZGljaW5hbCBwcm9kdWN0IG9yIGNsYXNzIG9mIHByb2R1Y3RzKSBhcyBwYXJ0IG9mIGFuIGluZGljYXRpb24gb3IgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICB0aGVyYXB5OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW4gcmVsYXRpb24gdG8gb3RoZXIgdGhlcmFwaWVzIGRlc2NyaWJlZCBhcyBwYXJ0IG9mIHRoZSBjb250cmFpbmRpY2F0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5JztcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW5kaWNhdGlvbiBvciBjb250cmFpbmRpY2F0aW9uIGFuZCBhbm90aGVyIHRoZXJhcHkuXHJcbiAgICovXHJcbiAgcHVibGljIHJlbGF0aW9uc2hpcFR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNlIHRvIGEgc3BlY2lmaWMgbWVkaWNhdGlvbiAoYWN0aXZlIHN1YnN0YW5jZSwgbWVkaWNpbmFsIHByb2R1Y3Qgb3IgY2xhc3Mgb2YgcHJvZHVjdHMpIGFzIHBhcnQgb2YgYW4gaW5kaWNhdGlvbiBvciBjb250cmFpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aGVyYXB5OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncmVsYXRpb25zaGlwVHlwZSddKSB7IHRoaXMucmVsYXRpb25zaGlwVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucmVsYXRpb25zaGlwVHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlbGF0aW9uc2hpcFR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd0aGVyYXB5J10pIHsgdGhpcy50aGVyYXB5ID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLnRoZXJhcHksIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50aGVyYXB5ID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbi5jb250cmFpbmRpY2F0aW9uLm90aGVyVGhlcmFweScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3JlbGF0aW9uc2hpcFR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3RoZXJhcHknLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaXR1YXRpb24gdGhhdCBpcyBiZWluZyBkb2N1bWVudGVkIGFzIGNvbnRyYWluZGljYXRpbmcgYWdhaW5zdCB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmU/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgZGlzZWFzZSBvciBzeW1wdG9tIGZvciB0aGUgY29udHJhaW5kaWNhdGlvbiwgZm9yIGV4YW1wbGUgXCJjaHJvbmljXCIgb3IgXCJtZXRhc3RhdGljXCIuXHJcbiAgICovXHJcbiAgZGlzZWFzZVN0YXR1cz86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvbW9yYmlkaXR5IChjb25jdXJyZW50IGNvbmRpdGlvbikgb3IgY29pbmZlY3Rpb24uXHJcbiAgICovXHJcbiAgY29tb3JiaWRpdHk/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaWNhdGlvbiB3aGljaCB0aGlzIGlzIGEgY29udHJhaWRpY2F0aW9uIGZvci5cclxuICAgKi9cclxuICBpbmRpY2F0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluIHJlbGF0aW9uIHRvIG90aGVyIHRoZXJhcGllcyBkZXNjcmliZWQgYXMgcGFydCBvZiB0aGUgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBvdGhlclRoZXJhcHk/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYSBjb250cmFpbmRpY2F0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc2l0dWF0aW9uIHRoYXQgaXMgYmVpbmcgZG9jdW1lbnRlZCBhcyBjb250cmFpbmRpY2F0aW5nIGFnYWluc3QgdGhpcyBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaXNlYXNlU3ltcHRvbVByb2NlZHVyZT86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGRpc2Vhc2Ugb3Igc3ltcHRvbSBmb3IgdGhlIGNvbnRyYWluZGljYXRpb24sIGZvciBleGFtcGxlIFwiY2hyb25pY1wiIG9yIFwibWV0YXN0YXRpY1wiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaXNlYXNlU3RhdHVzPzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb21vcmJpZGl0eSAoY29uY3VycmVudCBjb25kaXRpb24pIG9yIGNvaW5mZWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21vcmJpZGl0eTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpY2F0aW9uIHdoaWNoIHRoaXMgaXMgYSBjb250cmFpZGljYXRpb24gZm9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbmRpY2F0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluIHJlbGF0aW9uIHRvIG90aGVyIHRoZXJhcGllcyBkZXNjcmliZWQgYXMgcGFydCBvZiB0aGUgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb3RoZXJUaGVyYXB5OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydkaXNlYXNlU3ltcHRvbVByb2NlZHVyZSddKSB7IHRoaXMuZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmUgPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UuZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXNlYXNlU3RhdHVzJ10pIHsgdGhpcy5kaXNlYXNlU3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLmRpc2Vhc2VTdGF0dXMsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21vcmJpZGl0eSddKSB7IHRoaXMuY29tb3JiaWRpdHkgPSBzb3VyY2UuY29tb3JiaWRpdHkubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbW9yYmlkaXR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2luZGljYXRpb24nXSkgeyB0aGlzLmluZGljYXRpb24gPSBzb3VyY2UuaW5kaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluZGljYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3RoZXJUaGVyYXB5J10pIHsgdGhpcy5vdGhlclRoZXJhcHkgPSBzb3VyY2Uub3RoZXJUaGVyYXB5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm90aGVyVGhlcmFweSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uLmNvbnRyYWluZGljYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkaXNlYXNlU3ltcHRvbVByb2NlZHVyZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGlzZWFzZVN0YXR1cycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY29tb3JiaWRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2luZGljYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ290aGVyVGhlcmFweScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGluaWNhbFVzZURlZmluaXRpb25JbmRpY2F0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNpdHVhdGlvbiB0aGF0IGlzIGJlaW5nIGRvY3VtZW50ZWQgYXMgYW4gaW5kaWNhdG9uIGZvciB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmU/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgZGlzZWFzZSBvciBzeW1wdG9tIGZvciB0aGUgaW5kaWNhdGlvbiwgZm9yIGV4YW1wbGUgXCJjaHJvbmljXCIgb3IgXCJtZXRhc3RhdGljXCIuXHJcbiAgICovXHJcbiAgZGlzZWFzZVN0YXR1cz86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvbW9yYmlkaXR5IChjb25jdXJyZW50IGNvbmRpdGlvbikgb3IgY29pbmZlY3Rpb24gYXMgcGFydCBvZiB0aGUgaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBjb21vcmJpZGl0eT86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlbmRlZCBlZmZlY3QsIGFpbSBvciBzdHJhdGVneSB0byBiZSBhY2hpZXZlZC5cclxuICAgKi9cclxuICBpbnRlbmRlZEVmZmVjdD86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaW1pbmcgb3IgZHVyYXRpb24gaW5mb3JtYXRpb24sIHRoYXQgbWF5IGJlIGFzc29jaWF0ZWQgd2l0aCB1c2Ugd2l0aCB0aGUgaW5kaWNhdGVkIGNvbmRpdGlvbiBlLmcuIEFkdWx0IHBhdGllbnRzIHN1ZmZlcmluZyBmcm9tIG15b2NhcmRpYWwgaW5mYXJjdGlvbiAoZnJvbSBhIGZldyBkYXlzIHVudGlsIGxlc3MgdGhhbiAzNSBkYXlzKSwgaXNjaGFlbWljIHN0cm9rZSAoZnJvbSA3IGRheXMgdW50aWwgbGVzcyB0aGFuIDYgbW9udGhzKS5cclxuICAgKi9cclxuICBkdXJhdGlvbj86IGZoaXIuUmFuZ2V8Zmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaW1pbmcgb3IgZHVyYXRpb24gaW5mb3JtYXRpb24sIHRoYXQgbWF5IGJlIGFzc29jaWF0ZWQgd2l0aCB1c2Ugd2l0aCB0aGUgaW5kaWNhdGVkIGNvbmRpdGlvbiBlLmcuIEFkdWx0IHBhdGllbnRzIHN1ZmZlcmluZyBmcm9tIG15b2NhcmRpYWwgaW5mYXJjdGlvbiAoZnJvbSBhIGZldyBkYXlzIHVudGlsIGxlc3MgdGhhbiAzNSBkYXlzKSwgaXNjaGFlbWljIHN0cm9rZSAoZnJvbSA3IGRheXMgdW50aWwgbGVzcyB0aGFuIDYgbW9udGhzKS5cclxuICAgKi9cclxuICBkdXJhdGlvblJhbmdlPzogZmhpci5SYW5nZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWluZyBvciBkdXJhdGlvbiBpbmZvcm1hdGlvbiwgdGhhdCBtYXkgYmUgYXNzb2NpYXRlZCB3aXRoIHVzZSB3aXRoIHRoZSBpbmRpY2F0ZWQgY29uZGl0aW9uIGUuZy4gQWR1bHQgcGF0aWVudHMgc3VmZmVyaW5nIGZyb20gbXlvY2FyZGlhbCBpbmZhcmN0aW9uIChmcm9tIGEgZmV3IGRheXMgdW50aWwgbGVzcyB0aGFuIDM1IGRheXMpLCBpc2NoYWVtaWMgc3Ryb2tlIChmcm9tIDcgZGF5cyB1bnRpbCBsZXNzIHRoYW4gNiBtb250aHMpLlxyXG4gICAqL1xyXG4gIGR1cmF0aW9uU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gdW53YW50ZWQgc2lkZSBlZmZlY3Qgb3IgbmVnYXRpdmUgb3V0Y29tZSB0aGF0IG1heSBoYXBwZW4gaWYgeW91IHVzZSB0aGUgZHJ1ZyAob3Igb3RoZXIgc3ViamVjdCBvZiB0aGlzIHJlc291cmNlKSBmb3IgdGhpcyBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHVuZGVzaXJhYmxlRWZmZWN0PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluIHJlbGF0aW9uIHRvIG90aGVyIHRoZXJhcGllcyBkZXNjcmliZWQgYXMgcGFydCBvZiB0aGUgaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBvdGhlclRoZXJhcHk/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYW4gaW5kaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGluaWNhbFVzZURlZmluaXRpb25JbmRpY2F0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNpdHVhdGlvbiB0aGF0IGlzIGJlaW5nIGRvY3VtZW50ZWQgYXMgYW4gaW5kaWNhdG9uIGZvciB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIGRpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlPzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgZGlzZWFzZSBvciBzeW1wdG9tIGZvciB0aGUgaW5kaWNhdGlvbiwgZm9yIGV4YW1wbGUgXCJjaHJvbmljXCIgb3IgXCJtZXRhc3RhdGljXCIuXHJcbiAgICovXHJcbiAgcHVibGljIGRpc2Vhc2VTdGF0dXM/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvbW9yYmlkaXR5IChjb25jdXJyZW50IGNvbmRpdGlvbikgb3IgY29pbmZlY3Rpb24gYXMgcGFydCBvZiB0aGUgaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgY29tb3JiaWRpdHk6IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgaW50ZW5kZWQgZWZmZWN0LCBhaW0gb3Igc3RyYXRlZ3kgdG8gYmUgYWNoaWV2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGludGVuZGVkRWZmZWN0PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltaW5nIG9yIGR1cmF0aW9uIGluZm9ybWF0aW9uLCB0aGF0IG1heSBiZSBhc3NvY2lhdGVkIHdpdGggdXNlIHdpdGggdGhlIGluZGljYXRlZCBjb25kaXRpb24gZS5nLiBBZHVsdCBwYXRpZW50cyBzdWZmZXJpbmcgZnJvbSBteW9jYXJkaWFsIGluZmFyY3Rpb24gKGZyb20gYSBmZXcgZGF5cyB1bnRpbCBsZXNzIHRoYW4gMzUgZGF5cyksIGlzY2hhZW1pYyBzdHJva2UgKGZyb20gNyBkYXlzIHVudGlsIGxlc3MgdGhhbiA2IG1vbnRocykuXHJcbiAgICovXHJcbiAgcHVibGljIGR1cmF0aW9uPzogKGZoaXIuUmFuZ2V8Zmhpci5GaGlyU3RyaW5nKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDbGluaWNhbFVzZURlZmluaXRpb24uaW5kaWNhdGlvbi5kdXJhdGlvblt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19kdXJhdGlvbklzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEFuIHVud2FudGVkIHNpZGUgZWZmZWN0IG9yIG5lZ2F0aXZlIG91dGNvbWUgdGhhdCBtYXkgaGFwcGVuIGlmIHlvdSB1c2UgdGhlIGRydWcgKG9yIG90aGVyIHN1YmplY3Qgb2YgdGhpcyByZXNvdXJjZSkgZm9yIHRoaXMgaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdW5kZXNpcmFibGVFZmZlY3Q6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW4gcmVsYXRpb24gdG8gb3RoZXIgdGhlcmFwaWVzIGRlc2NyaWJlZCBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdGhlclRoZXJhcHk6IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25JbmRpY2F0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2Rpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlJ10pIHsgdGhpcy5kaXNlYXNlU3ltcHRvbVByb2NlZHVyZSA9IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHNvdXJjZS5kaXNlYXNlU3ltcHRvbVByb2NlZHVyZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rpc2Vhc2VTdGF0dXMnXSkgeyB0aGlzLmRpc2Vhc2VTdGF0dXMgPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UuZGlzZWFzZVN0YXR1cywgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbW9yYmlkaXR5J10pIHsgdGhpcy5jb21vcmJpZGl0eSA9IHNvdXJjZS5jb21vcmJpZGl0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tb3JiaWRpdHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW50ZW5kZWRFZmZlY3QnXSkgeyB0aGlzLmludGVuZGVkRWZmZWN0ID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLmludGVuZGVkRWZmZWN0LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZHVyYXRpb24nXSkgeyB0aGlzLmR1cmF0aW9uID0gc291cmNlLmR1cmF0aW9uOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2R1cmF0aW9uUmFuZ2UnXSkgeyB0aGlzLmR1cmF0aW9uID0gbmV3IGZoaXIuUmFuZ2Uoc291cmNlLmR1cmF0aW9uUmFuZ2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2R1cmF0aW9uU3RyaW5nJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmR1cmF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kdXJhdGlvblN0cmluZ30sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd1bmRlc2lyYWJsZUVmZmVjdCddKSB7IHRoaXMudW5kZXNpcmFibGVFZmZlY3QgPSBzb3VyY2UudW5kZXNpcmFibGVFZmZlY3QubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51bmRlc2lyYWJsZUVmZmVjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvdGhlclRoZXJhcHknXSkgeyB0aGlzLm90aGVyVGhlcmFweSA9IHNvdXJjZS5vdGhlclRoZXJhcHkubWFwKCh4KSA9PiBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3RoZXJUaGVyYXB5ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uaW5kaWNhdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Rpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkaXNlYXNlU3RhdHVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb21vcmJpZGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaW50ZW5kZWRFZmZlY3QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2R1cmF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd1bmRlc2lyYWJsZUVmZmVjdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnb3RoZXJUaGVyYXB5JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgbWVkaWNhdGlvbiwgZm9vZCBvciBsYWJvcmF0b3J5IHRlc3QgdGhhdCBpbnRlcmFjdHMuXHJcbiAgICovXHJcbiAgaXRlbT86IGZoaXIuUmVmZXJlbmNlfGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgbWVkaWNhdGlvbiwgZm9vZCBvciBsYWJvcmF0b3J5IHRlc3QgdGhhdCBpbnRlcmFjdHMuXHJcbiAgICovXHJcbiAgaXRlbVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIG1lZGljYXRpb24sIGZvb2Qgb3IgbGFib3JhdG9yeSB0ZXN0IHRoYXQgaW50ZXJhY3RzLlxyXG4gICAqL1xyXG4gIGl0ZW1Db2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHNwZWNpZmljIG1lZGljYXRpb24sIGZvb2QsIHN1YnN0YW5jZSBvciBsYWJvcmF0b3J5IHRlc3QgdGhhdCBpbnRlcmFjdHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb25JbnRlcmFjdGFudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnQnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpYyBtZWRpY2F0aW9uLCBmb29kIG9yIGxhYm9yYXRvcnkgdGVzdCB0aGF0IGludGVyYWN0cy5cclxuICAgKi9cclxuICBwdWJsaWMgaXRlbTogKGZoaXIuUmVmZXJlbmNlfGZoaXIuQ29kZWFibGVDb25jZXB0KXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ2xpbmljYWxVc2VEZWZpbml0aW9uLmludGVyYWN0aW9uLmludGVyYWN0YW50Lml0ZW1beF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfaXRlbUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2l0ZW0nXSkgeyB0aGlzLml0ZW0gPSBzb3VyY2UuaXRlbTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydpdGVtUmVmZXJlbmNlJ10pIHsgdGhpcy5pdGVtID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5pdGVtUmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydpdGVtQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5pdGVtID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5pdGVtQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaXRlbSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uaW50ZXJhY3Rpb24uaW50ZXJhY3RhbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdpdGVtJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpYyBtZWRpY2F0aW9uLCBmb29kLCBzdWJzdGFuY2Ugb3IgbGFib3JhdG9yeSB0ZXN0IHRoYXQgaW50ZXJhY3RzLlxyXG4gICAqL1xyXG4gIGludGVyYWN0YW50PzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiB0aGUgaW50ZXJhY3Rpb24gZS5nLiBkcnVnLWRydWcgaW50ZXJhY3Rpb24sIGRydWctZm9vZCBpbnRlcmFjdGlvbiwgZHJ1Zy1sYWIgdGVzdCBpbnRlcmFjdGlvbi5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZWZmZWN0IG9mIHRoZSBpbnRlcmFjdGlvbiwgZm9yIGV4YW1wbGUgXCJyZWR1Y2VkIGdhc3RyaWMgYWJzb3JwdGlvbiBvZiBwcmltYXJ5IG1lZGljYXRpb25cIi5cclxuICAgKi9cclxuICBlZmZlY3Q/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluY2lkZW5jZSBvZiB0aGUgaW50ZXJhY3Rpb24sIGUuZy4gdGhlb3JldGljYWwsIG9ic2VydmVkLlxyXG4gICAqL1xyXG4gIGluY2lkZW5jZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWN0aW9ucyBmb3IgbWFuYWdpbmcgdGhlIGludGVyYWN0aW9uLlxyXG4gICAqL1xyXG4gIG1hbmFnZW1lbnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbnRlcmFjdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgbWVkaWNhdGlvbiwgZm9vZCwgc3Vic3RhbmNlIG9yIGxhYm9yYXRvcnkgdGVzdCB0aGF0IGludGVyYWN0cy5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZXJhY3RhbnQ6IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb25JbnRlcmFjdGFudFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBpbnRlcmFjdGlvbiBlLmcuIGRydWctZHJ1ZyBpbnRlcmFjdGlvbiwgZHJ1Zy1mb29kIGludGVyYWN0aW9uLCBkcnVnLWxhYiB0ZXN0IGludGVyYWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBlZmZlY3Qgb2YgdGhlIGludGVyYWN0aW9uLCBmb3IgZXhhbXBsZSBcInJlZHVjZWQgZ2FzdHJpYyBhYnNvcnB0aW9uIG9mIHByaW1hcnkgbWVkaWNhdGlvblwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlZmZlY3Q/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5jaWRlbmNlIG9mIHRoZSBpbnRlcmFjdGlvbiwgZS5nLiB0aGVvcmV0aWNhbCwgb2JzZXJ2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGluY2lkZW5jZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBY3Rpb25zIGZvciBtYW5hZ2luZyB0aGUgaW50ZXJhY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG1hbmFnZW1lbnQ6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydpbnRlcmFjdGFudCddKSB7IHRoaXMuaW50ZXJhY3RhbnQgPSBzb3VyY2UuaW50ZXJhY3RhbnQubWFwKCh4KSA9PiBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW50ZXJhY3RhbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VmZmVjdCddKSB7IHRoaXMuZWZmZWN0ID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLmVmZmVjdCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2luY2lkZW5jZSddKSB7IHRoaXMuaW5jaWRlbmNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5pbmNpZGVuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYW5hZ2VtZW50J10pIHsgdGhpcy5tYW5hZ2VtZW50ID0gc291cmNlLm1hbmFnZW1lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYW5hZ2VtZW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uaW50ZXJhY3Rpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpbnRlcmFjdGFudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZWZmZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbmNpZGVuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ21hbmFnZW1lbnQnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNpdHVhdGlvbiBpbiB3aGljaCB0aGUgdW5kZXNpcmFibGUgZWZmZWN0IG1heSBtYW5pZmVzdC5cclxuICAgKi9cclxuICBzeW1wdG9tQ29uZGl0aW9uRWZmZWN0PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhpZ2ggbGV2ZWwgY2xhc3NpZmljYXRpb24gb2YgdGhlIGVmZmVjdC5cclxuICAgKi9cclxuICBjbGFzc2lmaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSG93IG9mdGVuIHRoZSBlZmZlY3QgaXMgc2Vlbi5cclxuICAgKi9cclxuICBmcmVxdWVuY3lPZk9jY3VycmVuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVzY3JpYmUgdGhlIHBvc3NpYmxlIHVuZGVzaXJhYmxlIGVmZmVjdHMgKG5lZ2F0aXZlIG91dGNvbWVzKSBmcm9tIHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGFzIHRyZWF0bWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0JztcclxuICAvKipcclxuICAgKiBUaGUgc2l0dWF0aW9uIGluIHdoaWNoIHRoZSB1bmRlc2lyYWJsZSBlZmZlY3QgbWF5IG1hbmlmZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzeW1wdG9tQ29uZGl0aW9uRWZmZWN0PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSGlnaCBsZXZlbCBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgZWZmZWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFzc2lmaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIb3cgb2Z0ZW4gdGhlIGVmZmVjdCBpcyBzZWVuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmcmVxdWVuY3lPZk9jY3VycmVuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uVW5kZXNpcmFibGVFZmZlY3QgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzeW1wdG9tQ29uZGl0aW9uRWZmZWN0J10pIHsgdGhpcy5zeW1wdG9tQ29uZGl0aW9uRWZmZWN0ID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLnN5bXB0b21Db25kaXRpb25FZmZlY3QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydjbGFzc2lmaWNhdGlvbiddKSB7IHRoaXMuY2xhc3NpZmljYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNsYXNzaWZpY2F0aW9uLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZnJlcXVlbmN5T2ZPY2N1cnJlbmNlJ10pIHsgdGhpcy5mcmVxdWVuY3lPZk9jY3VycmVuY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmZyZXF1ZW5jeU9mT2NjdXJyZW5jZSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24udW5kZXNpcmFibGVFZmZlY3QnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzeW1wdG9tQ29uZGl0aW9uRWZmZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjbGFzc2lmaWNhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZnJlcXVlbmN5T2ZPY2N1cnJlbmNlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmdBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIHRleHR1YWwgZGVmaW5pdGlvbiBvZiB0aGlzIHdhcm5pbmcsIHdpdGggZm9ybWF0dGluZy5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsaW5pY2FsVXNlRGVmaW5pdGlvbi53YXJuaW5nLmRlc2NyaXB0aW9uXHJcbiAgICovXHJcbiAgX2Rlc2NyaXB0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvZGVkIG9yIHVuZm9ybWF0dGVkIHRleHR1YWwgZGVmaW5pdGlvbiBvZiB0aGlzIHdhcm5pbmcuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGNyaXRpY2FsIHBpZWNlIG9mIGluZm9ybWF0aW9uIGFib3V0IGVudmlyb25tZW50YWwsIGhlYWx0aCBvciBwaHlzaWNhbCByaXNrcyBvciBoYXphcmRzIHRoYXQgc2VydmUgYXMgY2F1dGlvbiB0byB0aGUgdXNlci4gRm9yIGV4YW1wbGUgJ0RvIG5vdCBvcGVyYXRlIGhlYXZ5IG1hY2hpbmVyeScsICdNYXkgY2F1c2UgZHJvd3NpbmVzcycsIG9yICdHZXQgbWVkaWNhbCBhZHZpY2UvYXR0ZW50aW9uIGlmIHlvdSBmZWVsIHVud2VsbCcuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uV2FybmluZyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmcnO1xyXG4gIC8qKlxyXG4gICAqIEEgdGV4dHVhbCBkZWZpbml0aW9uIG9mIHRoaXMgd2FybmluZywgd2l0aCBmb3JtYXR0aW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGVkIG9yIHVuZm9ybWF0dGVkIHRleHR1YWwgZGVmaW5pdGlvbiBvZiB0aGlzIHdhcm5pbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uV2FybmluZyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmdBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJNYXJrZG93bkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29kZSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24ud2FybmluZycgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjb2RlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpbmljYWxVc2VEZWZpbml0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQ2xpbmljYWxVc2VEZWZpbml0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEJ1c2luZXNzIGlkZW50aWZpZXIgZm9yIHRoaXMgaXNzdWUuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogaW5kaWNhdGlvbiB8IGNvbnRyYWluZGljYXRpb24gfCBpbnRlcmFjdGlvbiB8IHVuZGVzaXJhYmxlLWVmZmVjdCB8IHdhcm5pbmcuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5GaGlyQ29kZTxDbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsaW5pY2FsVXNlRGVmaW5pdGlvbi50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgY2F0ZWdvcmlzYXRpb24gb2YgdGhlIGlzc3VlLCBwcmltYXJpbHkgZm9yIGRpdmlkaW5nIHdhcm5pbmdzIGludG8gc3ViamVjdCBoZWFkaW5nIGFyZWFzIHN1Y2ggYXMgXCJQcmVnbmFuY3kgYW5kIExhY3RhdGlvblwiLCBcIk92ZXJkb3NlXCIsIFwiRWZmZWN0cyBvbiBBYmlsaXR5IHRvIERyaXZlIGFuZCBVc2UgTWFjaGluZXNcIi5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWVkaWNhdGlvbiBvciBwcm9jZWR1cmUgZm9yIHdoaWNoIHRoaXMgaXMgYW4gaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhpcyBpcyBhIGN1cnJlbnQgaXNzdWUgb3Igb25lIHRoYXQgaGFzIGJlZW4gcmV0aXJlZCBldGMuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhIGNvbnRyYWluZGljYXRpb24uXHJcbiAgICovXHJcbiAgY29udHJhaW5kaWNhdGlvbj86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljcyBmb3Igd2hlbiB0aGlzIGlzIGFuIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgaW5kaWNhdGlvbj86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljcyBmb3Igd2hlbiB0aGlzIGlzIGFuIGludGVyYWN0aW9uLlxyXG4gICAqL1xyXG4gIGludGVyYWN0aW9uPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwb3B1bGF0aW9uIGdyb3VwIHRvIHdoaWNoIHRoaXMgYXBwbGllcy5cclxuICAgKi9cclxuICBwb3B1bGF0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlIHRoZSBwb3NzaWJsZSB1bmRlc2lyYWJsZSBlZmZlY3RzIChuZWdhdGl2ZSBvdXRjb21lcykgZnJvbSB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBhcyB0cmVhdG1lbnQuXHJcbiAgICovXHJcbiAgdW5kZXNpcmFibGVFZmZlY3Q/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjcml0aWNhbCBwaWVjZSBvZiBpbmZvcm1hdGlvbiBhYm91dCBlbnZpcm9ubWVudGFsLCBoZWFsdGggb3IgcGh5c2ljYWwgcmlza3Mgb3IgaGF6YXJkcyB0aGF0IHNlcnZlIGFzIGNhdXRpb24gdG8gdGhlIHVzZXIuIEZvciBleGFtcGxlICdEbyBub3Qgb3BlcmF0ZSBoZWF2eSBtYWNoaW5lcnknLCAnTWF5IGNhdXNlIGRyb3dzaW5lc3MnLCBvciAnR2V0IG1lZGljYWwgYWR2aWNlL2F0dGVudGlvbiBpZiB5b3UgZmVlbCB1bndlbGwnLlxyXG4gICAqL1xyXG4gIHdhcm5pbmc/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmdBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc2luZ2xlIGlzc3VlIC0gZWl0aGVyIGFuIGluZGljYXRpb24sIGNvbnRyYWluZGljYXRpb24sIGludGVyYWN0aW9uIG9yIGFuIHVuZGVzaXJhYmxlIGVmZmVjdCBmb3IgYSBtZWRpY2luYWwgcHJvZHVjdCwgbWVkaWNhdGlvbiwgZGV2aWNlIG9yIHByb2NlZHVyZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGluaWNhbFVzZURlZmluaXRpb24gZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJDbGluaWNhbFVzZURlZmluaXRpb25cIjtcclxuICAvKipcclxuICAgKiBCdXNpbmVzcyBpZGVudGlmaWVyIGZvciB0aGlzIGlzc3VlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBpbmRpY2F0aW9uIHwgY29udHJhaW5kaWNhdGlvbiB8IGludGVyYWN0aW9uIHwgdW5kZXNpcmFibGUtZWZmZWN0IHwgd2FybmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyQ29kZTxDbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjYXRlZ29yaXNhdGlvbiBvZiB0aGUgaXNzdWUsIHByaW1hcmlseSBmb3IgZGl2aWRpbmcgd2FybmluZ3MgaW50byBzdWJqZWN0IGhlYWRpbmcgYXJlYXMgc3VjaCBhcyBcIlByZWduYW5jeSBhbmQgTGFjdGF0aW9uXCIsIFwiT3ZlcmRvc2VcIiwgXCJFZmZlY3RzIG9uIEFiaWxpdHkgdG8gRHJpdmUgYW5kIFVzZSBNYWNoaW5lc1wiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgbWVkaWNhdGlvbiBvciBwcm9jZWR1cmUgZm9yIHdoaWNoIHRoaXMgaXMgYW4gaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoaXMgaXMgYSBjdXJyZW50IGlzc3VlIG9yIG9uZSB0aGF0IGhhcyBiZWVuIHJldGlyZWQgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYSBjb250cmFpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250cmFpbmRpY2F0aW9uPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbmRpY2F0aW9uPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbmRpY2F0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbnRlcmFjdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZXJhY3Rpb24/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcG9wdWxhdGlvbiBncm91cCB0byB3aGljaCB0aGlzIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHBvcHVsYXRpb246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmUgdGhlIHBvc3NpYmxlIHVuZGVzaXJhYmxlIGVmZmVjdHMgKG5lZ2F0aXZlIG91dGNvbWVzKSBmcm9tIHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGFzIHRyZWF0bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgdW5kZXNpcmFibGVFZmZlY3Q/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNyaXRpY2FsIHBpZWNlIG9mIGluZm9ybWF0aW9uIGFib3V0IGVudmlyb25tZW50YWwsIGhlYWx0aCBvciBwaHlzaWNhbCByaXNrcyBvciBoYXphcmRzIHRoYXQgc2VydmUgYXMgY2F1dGlvbiB0byB0aGUgdXNlci4gRm9yIGV4YW1wbGUgJ0RvIG5vdCBvcGVyYXRlIGhlYXZ5IG1hY2hpbmVyeScsICdNYXkgY2F1c2UgZHJvd3NpbmVzcycsIG9yICdHZXQgbWVkaWNhbCBhZHZpY2UvYXR0ZW50aW9uIGlmIHlvdSBmZWVsIHVud2VsbCcuXHJcbiAgICovXHJcbiAgcHVibGljIHdhcm5pbmc/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsaW5pY2FsVXNlRGVmaW5pdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsaW5pY2FsVXNlRGVmaW5pdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdDbGluaWNhbFVzZURlZmluaXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8Q2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS50eXBlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8Q2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVUeXBlPihzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YmplY3QnXSkgeyB0aGlzLnN1YmplY3QgPSBzb3VyY2Uuc3ViamVjdC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1YmplY3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN0YXR1cywgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRyYWluZGljYXRpb24nXSkgeyB0aGlzLmNvbnRyYWluZGljYXRpb24gPSBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uKHNvdXJjZS5jb250cmFpbmRpY2F0aW9uLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5kaWNhdGlvbiddKSB7IHRoaXMuaW5kaWNhdGlvbiA9IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb24oc291cmNlLmluZGljYXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlcmFjdGlvbiddKSB7IHRoaXMuaW50ZXJhY3Rpb24gPSBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbihzb3VyY2UuaW50ZXJhY3Rpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwb3B1bGF0aW9uJ10pIHsgdGhpcy5wb3B1bGF0aW9uID0gc291cmNlLnBvcHVsYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wb3B1bGF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3VuZGVzaXJhYmxlRWZmZWN0J10pIHsgdGhpcy51bmRlc2lyYWJsZUVmZmVjdCA9IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0KHNvdXJjZS51bmRlc2lyYWJsZUVmZmVjdCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3dhcm5pbmcnXSkgeyB0aGlzLndhcm5pbmcgPSBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nKHNvdXJjZS53YXJuaW5nLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCd0eXBlJyxleHAsJ0NsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGUnLENsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY2F0ZWdvcnknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3N1YmplY3QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3N0YXR1cycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29udHJhaW5kaWNhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaW5kaWNhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaW50ZXJhY3Rpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BvcHVsYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3VuZGVzaXJhYmxlRWZmZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd3YXJuaW5nJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==