// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: ClinicalUseDefinition
import * as fhir from '../fhir.js';
// @ts-ignore
import { ClinicalUseDefinitionTypeVsValidation } from '../fhirValueSets/ClinicalUseDefinitionTypeVsValidation.js';
/**
 * Information about the use of the medicinal product in relation to other therapies described as part of the contraindication.
 */
export class ClinicalUseDefinitionContraindicationOtherTherapy extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionContraindicationOtherTherapy - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['relationshipType']) {
            this.relationshipType = new fhir.CodeableConcept(source.relationshipType);
        }
        else {
            this.relationshipType = null;
        }
        if (source['therapy']) {
            this.therapy = new fhir.CodeableReference(source.therapy);
        }
        else {
            this.therapy = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.contraindication.otherTherapy';
        }
        this.vRS('relationshipType', exp);
        this.vRS('therapy', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionContraindicationOtherTherapy._fts_dataType = 'ClinicalUseDefinitionContraindicationOtherTherapy';
/**
 * Specifics for when this is a contraindication.
 */
export class ClinicalUseDefinitionContraindication extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionContraindication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['diseaseSymptomProcedure']) {
            this.diseaseSymptomProcedure = new fhir.CodeableReference(source.diseaseSymptomProcedure);
        }
        if (source['diseaseStatus']) {
            this.diseaseStatus = new fhir.CodeableReference(source.diseaseStatus);
        }
        if (source['comorbidity']) {
            this.comorbidity = source.comorbidity.map((x) => new fhir.CodeableReference(x));
        }
        else {
            this.comorbidity = [];
        }
        if (source['indication']) {
            this.indication = source.indication.map((x) => new fhir.Reference(x));
        }
        else {
            this.indication = [];
        }
        if (source['otherTherapy']) {
            this.otherTherapy = source.otherTherapy.map((x) => new fhir.ClinicalUseDefinitionContraindicationOtherTherapy(x));
        }
        else {
            this.otherTherapy = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.contraindication';
        }
        this.vOS('diseaseSymptomProcedure', exp);
        this.vOS('diseaseStatus', exp);
        this.vOA('comorbidity', exp);
        this.vOA('indication', exp);
        this.vOA('otherTherapy', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionContraindication._fts_dataType = 'ClinicalUseDefinitionContraindication';
/**
 * Specifics for when this is an indication.
 */
export class ClinicalUseDefinitionIndication extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionIndication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['diseaseSymptomProcedure']) {
            this.diseaseSymptomProcedure = new fhir.CodeableReference(source.diseaseSymptomProcedure);
        }
        if (source['diseaseStatus']) {
            this.diseaseStatus = new fhir.CodeableReference(source.diseaseStatus);
        }
        if (source['comorbidity']) {
            this.comorbidity = source.comorbidity.map((x) => new fhir.CodeableReference(x));
        }
        else {
            this.comorbidity = [];
        }
        if (source['intendedEffect']) {
            this.intendedEffect = new fhir.CodeableReference(source.intendedEffect);
        }
        if (source['duration']) {
            this.duration = source.duration;
        }
        else if (source['durationRange']) {
            this.duration = new fhir.Range(source.durationRange);
        }
        else if (source['durationString']) {
            this.duration = new fhir.FhirString({ value: source.durationString });
        }
        if (source['undesirableEffect']) {
            this.undesirableEffect = source.undesirableEffect.map((x) => new fhir.Reference(x));
        }
        else {
            this.undesirableEffect = [];
        }
        if (source['otherTherapy']) {
            this.otherTherapy = source.otherTherapy.map((x) => new fhir.ClinicalUseDefinitionContraindicationOtherTherapy(x));
        }
        else {
            this.otherTherapy = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.indication';
        }
        this.vOS('diseaseSymptomProcedure', exp);
        this.vOS('diseaseStatus', exp);
        this.vOA('comorbidity', exp);
        this.vOS('intendedEffect', exp);
        this.vOS('duration', exp);
        this.vOA('undesirableEffect', exp);
        this.vOA('otherTherapy', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionIndication._fts_dataType = 'ClinicalUseDefinitionIndication';
/**
 * Internal flag to properly serialize choice-type element ClinicalUseDefinition.indication.duration[x]
 */
ClinicalUseDefinitionIndication._fts_durationIsChoice = true;
/**
 * The specific medication, food, substance or laboratory test that interacts.
 */
export class ClinicalUseDefinitionInteractionInteractant extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionInteractionInteractant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['item']) {
            this.item = source.item;
        }
        else if (source['itemReference']) {
            this.item = new fhir.Reference(source.itemReference);
        }
        else if (source['itemCodeableConcept']) {
            this.item = new fhir.CodeableConcept(source.itemCodeableConcept);
        }
        else {
            this.item = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.interaction.interactant';
        }
        this.vRS('item', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionInteractionInteractant._fts_dataType = 'ClinicalUseDefinitionInteractionInteractant';
/**
 * Internal flag to properly serialize choice-type element ClinicalUseDefinition.interaction.interactant.item[x]
 */
ClinicalUseDefinitionInteractionInteractant._fts_itemIsChoice = true;
/**
 * Specifics for when this is an interaction.
 */
export class ClinicalUseDefinitionInteraction extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionInteraction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['interactant']) {
            this.interactant = source.interactant.map((x) => new fhir.ClinicalUseDefinitionInteractionInteractant(x));
        }
        else {
            this.interactant = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['effect']) {
            this.effect = new fhir.CodeableReference(source.effect);
        }
        if (source['incidence']) {
            this.incidence = new fhir.CodeableConcept(source.incidence);
        }
        if (source['management']) {
            this.management = source.management.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.management = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.interaction';
        }
        this.vOA('interactant', exp);
        this.vOS('type', exp);
        this.vOS('effect', exp);
        this.vOS('incidence', exp);
        this.vOA('management', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionInteraction._fts_dataType = 'ClinicalUseDefinitionInteraction';
/**
 * Describe the possible undesirable effects (negative outcomes) from the use of the medicinal product as treatment.
 */
export class ClinicalUseDefinitionUndesirableEffect extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionUndesirableEffect - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['symptomConditionEffect']) {
            this.symptomConditionEffect = new fhir.CodeableReference(source.symptomConditionEffect);
        }
        if (source['classification']) {
            this.classification = new fhir.CodeableConcept(source.classification);
        }
        if (source['frequencyOfOccurrence']) {
            this.frequencyOfOccurrence = new fhir.CodeableConcept(source.frequencyOfOccurrence);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.undesirableEffect';
        }
        this.vOS('symptomConditionEffect', exp);
        this.vOS('classification', exp);
        this.vOS('frequencyOfOccurrence', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionUndesirableEffect._fts_dataType = 'ClinicalUseDefinitionUndesirableEffect';
/**
 * A critical piece of information about environmental, health or physical risks or hazards that serve as caution to the user. For example 'Do not operate heavy machinery', 'May cause drowsiness', or 'Get medical advice/attention if you feel unwell'.
 */
export class ClinicalUseDefinitionWarning extends fhir.BackboneElement {
    /**
     * Default constructor for ClinicalUseDefinitionWarning - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description);
            }
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition.warning';
        }
        this.vOS('description', exp);
        this.vOS('code', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinitionWarning._fts_dataType = 'ClinicalUseDefinitionWarning';
/**
 * A single issue - either an indication, contraindication, interaction or an undesirable effect for a medicinal product, medication, device or procedure.
 */
export class ClinicalUseDefinition extends fhir.DomainResource {
    /**
     * Default constructor for ClinicalUseDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ClinicalUseDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['subject']) {
            this.subject = source.subject.map((x) => new fhir.Reference(x));
        }
        else {
            this.subject = [];
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['contraindication']) {
            this.contraindication = new fhir.ClinicalUseDefinitionContraindication(source.contraindication);
        }
        if (source['indication']) {
            this.indication = new fhir.ClinicalUseDefinitionIndication(source.indication);
        }
        if (source['interaction']) {
            this.interaction = new fhir.ClinicalUseDefinitionInteraction(source.interaction);
        }
        if (source['population']) {
            this.population = source.population.map((x) => new fhir.Reference(x));
        }
        else {
            this.population = [];
        }
        if (source['undesirableEffect']) {
            this.undesirableEffect = new fhir.ClinicalUseDefinitionUndesirableEffect(source.undesirableEffect);
        }
        if (source['warning']) {
            this.warning = new fhir.ClinicalUseDefinitionWarning(source.warning);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ClinicalUseDefinition';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vRSV('type', exp, 'ClinicalUseDefinitionType', ClinicalUseDefinitionTypeVsValidation, 'r');
        this.vOA('category', exp);
        this.vOA('subject', exp);
        this.vOS('status', exp);
        this.vOS('contraindication', exp);
        this.vOS('indication', exp);
        this.vOS('interaction', exp);
        this.vOA('population', exp);
        this.vOS('undesirableEffect', exp);
        this.vOS('warning', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClinicalUseDefinition._fts_dataType = 'ClinicalUseDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xpbmljYWxVc2VEZWZpbml0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9DbGluaWNhbFVzZURlZmluaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsdUNBQXVDO0FBRXZDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBd0RuQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHFDQUFxQyxFQUFFLE1BQU0sMkRBQTJELENBQUM7QUF1QmxIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGlEQUFrRCxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXpGOztPQUVHO0lBQ0gsWUFBWSxTQUF3RSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM5SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1NBQUU7YUFDekc7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDdEMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQ2hGO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FBRTtJQUMvQixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxRCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFB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QUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDM0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNqQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQWxHRDs7R0FFRztBQUM2QixtQ0FBYSxHQUFVLHVCQUF1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0Yi5jb3JlIHZlcnNpb246IDQuMy4wXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQ2xpbmljYWxVc2VEZWZpbml0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUaGVyYXB5UmVsYXRpb25zaGlwVHlwZUNvZGVzLCAgVGhlcmFweVJlbGF0aW9uc2hpcFR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGhlcmFweVJlbGF0aW9uc2hpcFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGhlcmFweVJlbGF0aW9uc2hpcFR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RoZXJhcHlSZWxhdGlvbnNoaXBUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUaGVyYXB5Q29kZXMsICBUaGVyYXB5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RoZXJhcHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGhlcmFweVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGhlcmFweVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGlzZWFzZVN5bXB0b21Qcm9jZWR1cmVDb2RlcywgIERpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Rpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaXNlYXNlU3ltcHRvbVByb2NlZHVyZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGlzZWFzZVN0YXR1c0NvZGVzLCAgRGlzZWFzZVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaXNlYXNlU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpc2Vhc2VTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Rpc2Vhc2VTdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2R1Y3RJbnRlbmRlZFVzZUNvZGVzLCAgUHJvZHVjdEludGVuZGVkVXNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2R1Y3RJbnRlbmRlZFVzZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQcm9kdWN0SW50ZW5kZWRVc2VWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2R1Y3RJbnRlbmRlZFVzZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW50ZXJhY3Rpb25UeXBlQ29kZXMsICBJbnRlcmFjdGlvblR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW50ZXJhY3Rpb25UeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludGVyYWN0aW9uVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW50ZXJhY3Rpb25UeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnRlcmFjdGlvbkVmZmVjdENvZGVzLCAgSW50ZXJhY3Rpb25FZmZlY3RDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW50ZXJhY3Rpb25FZmZlY3RDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW50ZXJhY3Rpb25FZmZlY3RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludGVyYWN0aW9uRWZmZWN0VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnRlcmFjdGlvbkluY2lkZW5jZUNvZGVzLCAgSW50ZXJhY3Rpb25JbmNpZGVuY2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW50ZXJhY3Rpb25JbmNpZGVuY2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW50ZXJhY3Rpb25JbmNpZGVuY2VWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludGVyYWN0aW9uSW5jaWRlbmNlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hbmFnZW1lbnRDb2RlcywgIEludGVyYWN0aW9uTWFuYWdlbWVudENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnRlcmFjdGlvbk1hbmFnZW1lbnRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW50ZXJhY3Rpb25NYW5hZ2VtZW50VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnRlcmFjdGlvbk1hbmFnZW1lbnRWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFVuZGVzaXJhYmxlRWZmZWN0U3ltcHRvbUNvZGVzLCAgVW5kZXNpcmFibGVFZmZlY3RTeW1wdG9tQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1VuZGVzaXJhYmxlRWZmZWN0U3ltcHRvbUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbmRlc2lyYWJsZUVmZmVjdFN5bXB0b21Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1VuZGVzaXJhYmxlRWZmZWN0U3ltcHRvbVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5kZXNpcmFibGVFZmZlY3RDbGFzc2lmaWNhdGlvbkNvZGVzLCAgVW5kZXNpcmFibGVFZmZlY3RDbGFzc2lmaWNhdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VbmRlc2lyYWJsZUVmZmVjdENsYXNzaWZpY2F0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFVuZGVzaXJhYmxlRWZmZWN0Q2xhc3NpZmljYXRpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1VuZGVzaXJhYmxlRWZmZWN0Q2xhc3NpZmljYXRpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFVuZGVzaXJhYmxlRWZmZWN0RnJlcXVlbmN5Q29kZXMsICBVbmRlc2lyYWJsZUVmZmVjdEZyZXF1ZW5jeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VbmRlc2lyYWJsZUVmZmVjdEZyZXF1ZW5jeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbmRlc2lyYWJsZUVmZmVjdEZyZXF1ZW5jeVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5kZXNpcmFibGVFZmZlY3RGcmVxdWVuY3lWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFdhcm5pbmdUeXBlQ29kZXMsICBXYXJuaW5nVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9XYXJuaW5nVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBXYXJuaW5nVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvV2FybmluZ1R5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGVDb2RlcywgIENsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGluaWNhbFVzZURlZmluaXRpb25UeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGluaWNhbFVzZURlZmluaXRpb25UeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGluaWNhbFVzZURlZmluaXRpb25DYXRlZ29yeUNvZGVzLCAgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ2F0ZWdvcnlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xpbmljYWxVc2VEZWZpbml0aW9uQ2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ2F0ZWdvcnlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsaW5pY2FsVXNlRGVmaW5pdGlvbkNhdGVnb3J5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c0NvZGVzLCAgUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBpbmRpY2F0aW9uIG9yIGNvbnRyYWluZGljYXRpb24gYW5kIGFub3RoZXIgdGhlcmFweS5cclxuICAgKi9cclxuICByZWxhdGlvbnNoaXBUeXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gYSBzcGVjaWZpYyBtZWRpY2F0aW9uIChhY3RpdmUgc3Vic3RhbmNlLCBtZWRpY2luYWwgcHJvZHVjdCBvciBjbGFzcyBvZiBwcm9kdWN0cykgYXMgcGFydCBvZiBhbiBpbmRpY2F0aW9uIG9yIGNvbnRyYWluZGljYXRpb24uXHJcbiAgICovXHJcbiAgdGhlcmFweTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluIHJlbGF0aW9uIHRvIG90aGVyIHRoZXJhcGllcyBkZXNjcmliZWQgYXMgcGFydCBvZiB0aGUgY29udHJhaW5kaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluZGljYXRpb24gb3IgY29udHJhaW5kaWNhdGlvbiBhbmQgYW5vdGhlciB0aGVyYXB5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGlvbnNoaXBUeXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byBhIHNwZWNpZmljIG1lZGljYXRpb24gKGFjdGl2ZSBzdWJzdGFuY2UsIG1lZGljaW5hbCBwcm9kdWN0IG9yIGNsYXNzIG9mIHByb2R1Y3RzKSBhcyBwYXJ0IG9mIGFuIGluZGljYXRpb24gb3IgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdGhlcmFweTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3JlbGF0aW9uc2hpcFR5cGUnXSkgeyB0aGlzLnJlbGF0aW9uc2hpcFR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJlbGF0aW9uc2hpcFR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWxhdGlvbnNoaXBUeXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGhlcmFweSddKSB7IHRoaXMudGhlcmFweSA9IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHNvdXJjZS50aGVyYXB5KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGhlcmFweSA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uY29udHJhaW5kaWNhdGlvbi5vdGhlclRoZXJhcHknIH1cclxuICAgIHRoaXMudlJTKCdyZWxhdGlvbnNoaXBUeXBlJyxleHApXHJcbiAgICB0aGlzLnZSUygndGhlcmFweScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaXR1YXRpb24gdGhhdCBpcyBiZWluZyBkb2N1bWVudGVkIGFzIGNvbnRyYWluZGljYXRpbmcgYWdhaW5zdCB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmU/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgZGlzZWFzZSBvciBzeW1wdG9tIGZvciB0aGUgY29udHJhaW5kaWNhdGlvbiwgZm9yIGV4YW1wbGUgXCJjaHJvbmljXCIgb3IgXCJtZXRhc3RhdGljXCIuXHJcbiAgICovXHJcbiAgZGlzZWFzZVN0YXR1cz86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvbW9yYmlkaXR5IChjb25jdXJyZW50IGNvbmRpdGlvbikgb3IgY29pbmZlY3Rpb24uXHJcbiAgICovXHJcbiAgY29tb3JiaWRpdHk/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaWNhdGlvbiB3aGljaCB0aGlzIGlzIGEgY29udHJhaWRpY2F0aW9uIGZvci5cclxuICAgKi9cclxuICBpbmRpY2F0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluIHJlbGF0aW9uIHRvIG90aGVyIHRoZXJhcGllcyBkZXNjcmliZWQgYXMgcGFydCBvZiB0aGUgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBvdGhlclRoZXJhcHk/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYSBjb250cmFpbmRpY2F0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc2l0dWF0aW9uIHRoYXQgaXMgYmVpbmcgZG9jdW1lbnRlZCBhcyBjb250cmFpbmRpY2F0aW5nIGFnYWluc3QgdGhpcyBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaXNlYXNlU3ltcHRvbVByb2NlZHVyZT86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGRpc2Vhc2Ugb3Igc3ltcHRvbSBmb3IgdGhlIGNvbnRyYWluZGljYXRpb24sIGZvciBleGFtcGxlIFwiY2hyb25pY1wiIG9yIFwibWV0YXN0YXRpY1wiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaXNlYXNlU3RhdHVzPzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb21vcmJpZGl0eSAoY29uY3VycmVudCBjb25kaXRpb24pIG9yIGNvaW5mZWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21vcmJpZGl0eTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpY2F0aW9uIHdoaWNoIHRoaXMgaXMgYSBjb250cmFpZGljYXRpb24gZm9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbmRpY2F0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2Ugb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0IGluIHJlbGF0aW9uIHRvIG90aGVyIHRoZXJhcGllcyBkZXNjcmliZWQgYXMgcGFydCBvZiB0aGUgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb3RoZXJUaGVyYXB5OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25PdGhlclRoZXJhcHlbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydkaXNlYXNlU3ltcHRvbVByb2NlZHVyZSddKSB7IHRoaXMuZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmUgPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UuZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmUpOyB9XHJcbiAgICBpZiAoc291cmNlWydkaXNlYXNlU3RhdHVzJ10pIHsgdGhpcy5kaXNlYXNlU3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLmRpc2Vhc2VTdGF0dXMpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21vcmJpZGl0eSddKSB7IHRoaXMuY29tb3JiaWRpdHkgPSBzb3VyY2UuY29tb3JiaWRpdHkubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbW9yYmlkaXR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2luZGljYXRpb24nXSkgeyB0aGlzLmluZGljYXRpb24gPSBzb3VyY2UuaW5kaWNhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluZGljYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3RoZXJUaGVyYXB5J10pIHsgdGhpcy5vdGhlclRoZXJhcHkgPSBzb3VyY2Uub3RoZXJUaGVyYXB5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm90aGVyVGhlcmFweSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uLmNvbnRyYWluZGljYXRpb24nIH1cclxuICAgIHRoaXMudk9TKCdkaXNlYXNlU3ltcHRvbVByb2NlZHVyZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2Rpc2Vhc2VTdGF0dXMnLGV4cClcclxuICAgIHRoaXMudk9BKCdjb21vcmJpZGl0eScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2luZGljYXRpb24nLGV4cClcclxuICAgIHRoaXMudk9BKCdvdGhlclRoZXJhcHknLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25JbmRpY2F0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgc2l0dWF0aW9uIHRoYXQgaXMgYmVpbmcgZG9jdW1lbnRlZCBhcyBhbiBpbmRpY2F0b24gZm9yIHRoaXMgaXRlbS5cclxuICAgKi9cclxuICBkaXNlYXNlU3ltcHRvbVByb2NlZHVyZT86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBkaXNlYXNlIG9yIHN5bXB0b20gZm9yIHRoZSBpbmRpY2F0aW9uLCBmb3IgZXhhbXBsZSBcImNocm9uaWNcIiBvciBcIm1ldGFzdGF0aWNcIi5cclxuICAgKi9cclxuICBkaXNlYXNlU3RhdHVzPzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29tb3JiaWRpdHkgKGNvbmN1cnJlbnQgY29uZGl0aW9uKSBvciBjb2luZmVjdGlvbiBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGNvbW9yYmlkaXR5PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGludGVuZGVkIGVmZmVjdCwgYWltIG9yIHN0cmF0ZWd5IHRvIGJlIGFjaGlldmVkLlxyXG4gICAqL1xyXG4gIGludGVuZGVkRWZmZWN0PzogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWluZyBvciBkdXJhdGlvbiBpbmZvcm1hdGlvbiwgdGhhdCBtYXkgYmUgYXNzb2NpYXRlZCB3aXRoIHVzZSB3aXRoIHRoZSBpbmRpY2F0ZWQgY29uZGl0aW9uIGUuZy4gQWR1bHQgcGF0aWVudHMgc3VmZmVyaW5nIGZyb20gbXlvY2FyZGlhbCBpbmZhcmN0aW9uIChmcm9tIGEgZmV3IGRheXMgdW50aWwgbGVzcyB0aGFuIDM1IGRheXMpLCBpc2NoYWVtaWMgc3Ryb2tlIChmcm9tIDcgZGF5cyB1bnRpbCBsZXNzIHRoYW4gNiBtb250aHMpLlxyXG4gICAqL1xyXG4gIGR1cmF0aW9uPzogZmhpci5SYW5nZXxmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRpbWluZyBvciBkdXJhdGlvbiBpbmZvcm1hdGlvbiwgdGhhdCBtYXkgYmUgYXNzb2NpYXRlZCB3aXRoIHVzZSB3aXRoIHRoZSBpbmRpY2F0ZWQgY29uZGl0aW9uIGUuZy4gQWR1bHQgcGF0aWVudHMgc3VmZmVyaW5nIGZyb20gbXlvY2FyZGlhbCBpbmZhcmN0aW9uIChmcm9tIGEgZmV3IGRheXMgdW50aWwgbGVzcyB0aGFuIDM1IGRheXMpLCBpc2NoYWVtaWMgc3Ryb2tlIChmcm9tIDcgZGF5cyB1bnRpbCBsZXNzIHRoYW4gNiBtb250aHMpLlxyXG4gICAqL1xyXG4gIGR1cmF0aW9uUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGltaW5nIG9yIGR1cmF0aW9uIGluZm9ybWF0aW9uLCB0aGF0IG1heSBiZSBhc3NvY2lhdGVkIHdpdGggdXNlIHdpdGggdGhlIGluZGljYXRlZCBjb25kaXRpb24gZS5nLiBBZHVsdCBwYXRpZW50cyBzdWZmZXJpbmcgZnJvbSBteW9jYXJkaWFsIGluZmFyY3Rpb24gKGZyb20gYSBmZXcgZGF5cyB1bnRpbCBsZXNzIHRoYW4gMzUgZGF5cyksIGlzY2hhZW1pYyBzdHJva2UgKGZyb20gNyBkYXlzIHVudGlsIGxlc3MgdGhhbiA2IG1vbnRocykuXHJcbiAgICovXHJcbiAgZHVyYXRpb25TdHJpbmc/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiB1bndhbnRlZCBzaWRlIGVmZmVjdCBvciBuZWdhdGl2ZSBvdXRjb21lIHRoYXQgbWF5IGhhcHBlbiBpZiB5b3UgdXNlIHRoZSBkcnVnIChvciBvdGhlciBzdWJqZWN0IG9mIHRoaXMgcmVzb3VyY2UpIGZvciB0aGlzIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgdW5kZXNpcmFibGVFZmZlY3Q/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgaW4gcmVsYXRpb24gdG8gb3RoZXIgdGhlcmFwaWVzIGRlc2NyaWJlZCBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIG90aGVyVGhlcmFweT86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbk90aGVyVGhlcmFweUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbmRpY2F0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb25JbmRpY2F0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgc2l0dWF0aW9uIHRoYXQgaXMgYmVpbmcgZG9jdW1lbnRlZCBhcyBhbiBpbmRpY2F0b24gZm9yIHRoaXMgaXRlbS5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmU/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBkaXNlYXNlIG9yIHN5bXB0b20gZm9yIHRoZSBpbmRpY2F0aW9uLCBmb3IgZXhhbXBsZSBcImNocm9uaWNcIiBvciBcIm1ldGFzdGF0aWNcIi5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzZWFzZVN0YXR1cz86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29tb3JiaWRpdHkgKGNvbmN1cnJlbnQgY29uZGl0aW9uKSBvciBjb2luZmVjdGlvbiBhcyBwYXJ0IG9mIHRoZSBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21vcmJpZGl0eTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlbmRlZCBlZmZlY3QsIGFpbSBvciBzdHJhdGVneSB0byBiZSBhY2hpZXZlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZW5kZWRFZmZlY3Q/OiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaW1pbmcgb3IgZHVyYXRpb24gaW5mb3JtYXRpb24sIHRoYXQgbWF5IGJlIGFzc29jaWF0ZWQgd2l0aCB1c2Ugd2l0aCB0aGUgaW5kaWNhdGVkIGNvbmRpdGlvbiBlLmcuIEFkdWx0IHBhdGllbnRzIHN1ZmZlcmluZyBmcm9tIG15b2NhcmRpYWwgaW5mYXJjdGlvbiAoZnJvbSBhIGZldyBkYXlzIHVudGlsIGxlc3MgdGhhbiAzNSBkYXlzKSwgaXNjaGFlbWljIHN0cm9rZSAoZnJvbSA3IGRheXMgdW50aWwgbGVzcyB0aGFuIDYgbW9udGhzKS5cclxuICAgKi9cclxuICBwdWJsaWMgZHVyYXRpb24/OiAoZmhpci5SYW5nZXxmaGlyLkZoaXJTdHJpbmcpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsaW5pY2FsVXNlRGVmaW5pdGlvbi5pbmRpY2F0aW9uLmR1cmF0aW9uW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2R1cmF0aW9uSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogQW4gdW53YW50ZWQgc2lkZSBlZmZlY3Qgb3IgbmVnYXRpdmUgb3V0Y29tZSB0aGF0IG1heSBoYXBwZW4gaWYgeW91IHVzZSB0aGUgZHJ1ZyAob3Igb3RoZXIgc3ViamVjdCBvZiB0aGlzIHJlc291cmNlKSBmb3IgdGhpcyBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1bmRlc2lyYWJsZUVmZmVjdDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBpbiByZWxhdGlvbiB0byBvdGhlciB0aGVyYXBpZXMgZGVzY3JpYmVkIGFzIHBhcnQgb2YgdGhlIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG90aGVyVGhlcmFweTogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZGlzZWFzZVN5bXB0b21Qcm9jZWR1cmUnXSkgeyB0aGlzLmRpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlID0gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2Uoc291cmNlLmRpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGlzZWFzZVN0YXR1cyddKSB7IHRoaXMuZGlzZWFzZVN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHNvdXJjZS5kaXNlYXNlU3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tb3JiaWRpdHknXSkgeyB0aGlzLmNvbW9yYmlkaXR5ID0gc291cmNlLmNvbW9yYmlkaXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVSZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb21vcmJpZGl0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlbmRlZEVmZmVjdCddKSB7IHRoaXMuaW50ZW5kZWRFZmZlY3QgPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UuaW50ZW5kZWRFZmZlY3QpOyB9XHJcbiAgICBpZiAoc291cmNlWydkdXJhdGlvbiddKSB7IHRoaXMuZHVyYXRpb24gPSBzb3VyY2UuZHVyYXRpb247IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZHVyYXRpb25SYW5nZSddKSB7IHRoaXMuZHVyYXRpb24gPSBuZXcgZmhpci5SYW5nZShzb3VyY2UuZHVyYXRpb25SYW5nZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZHVyYXRpb25TdHJpbmcnXSkgeyB0aGlzLmR1cmF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kdXJhdGlvblN0cmluZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWyd1bmRlc2lyYWJsZUVmZmVjdCddKSB7IHRoaXMudW5kZXNpcmFibGVFZmZlY3QgPSBzb3VyY2UudW5kZXNpcmFibGVFZmZlY3QubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51bmRlc2lyYWJsZUVmZmVjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvdGhlclRoZXJhcHknXSkgeyB0aGlzLm90aGVyVGhlcmFweSA9IHNvdXJjZS5vdGhlclRoZXJhcHkubWFwKCh4KSA9PiBuZXcgZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25Db250cmFpbmRpY2F0aW9uT3RoZXJUaGVyYXB5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3RoZXJUaGVyYXB5ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGluaWNhbFVzZURlZmluaXRpb24uaW5kaWNhdGlvbicgfVxyXG4gICAgdGhpcy52T1MoJ2Rpc2Vhc2VTeW1wdG9tUHJvY2VkdXJlJyxleHApXHJcbiAgICB0aGlzLnZPUygnZGlzZWFzZVN0YXR1cycsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2NvbW9yYmlkaXR5JyxleHApXHJcbiAgICB0aGlzLnZPUygnaW50ZW5kZWRFZmZlY3QnLGV4cClcclxuICAgIHRoaXMudk9TKCdkdXJhdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3VuZGVzaXJhYmxlRWZmZWN0JyxleHApXHJcbiAgICB0aGlzLnZPQSgnb3RoZXJUaGVyYXB5JyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb25JbnRlcmFjdGFudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIG1lZGljYXRpb24sIGZvb2Qgb3IgbGFib3JhdG9yeSB0ZXN0IHRoYXQgaW50ZXJhY3RzLlxyXG4gICAqL1xyXG4gIGl0ZW0/OiBmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIG1lZGljYXRpb24sIGZvb2Qgb3IgbGFib3JhdG9yeSB0ZXN0IHRoYXQgaW50ZXJhY3RzLlxyXG4gICAqL1xyXG4gIGl0ZW1SZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpYyBtZWRpY2F0aW9uLCBmb29kIG9yIGxhYm9yYXRvcnkgdGVzdCB0aGF0IGludGVyYWN0cy5cclxuICAgKi9cclxuICBpdGVtQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBzcGVjaWZpYyBtZWRpY2F0aW9uLCBmb29kLCBzdWJzdGFuY2Ugb3IgbGFib3JhdG9yeSB0ZXN0IHRoYXQgaW50ZXJhY3RzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50JztcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2lmaWMgbWVkaWNhdGlvbiwgZm9vZCBvciBsYWJvcmF0b3J5IHRlc3QgdGhhdCBpbnRlcmFjdHMuXHJcbiAgICovXHJcbiAgcHVibGljIGl0ZW06IChmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdCl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsaW5pY2FsVXNlRGVmaW5pdGlvbi5pbnRlcmFjdGlvbi5pbnRlcmFjdGFudC5pdGVtW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2l0ZW1Jc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb25JbnRlcmFjdGFudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydpdGVtJ10pIHsgdGhpcy5pdGVtID0gc291cmNlLml0ZW07IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnaXRlbVJlZmVyZW5jZSddKSB7IHRoaXMuaXRlbSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuaXRlbVJlZmVyZW5jZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnaXRlbUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuaXRlbSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuaXRlbUNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLml0ZW0gPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uLmludGVyYWN0aW9uLmludGVyYWN0YW50JyB9XHJcbiAgICB0aGlzLnZSUygnaXRlbScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIG1lZGljYXRpb24sIGZvb2QsIHN1YnN0YW5jZSBvciBsYWJvcmF0b3J5IHRlc3QgdGhhdCBpbnRlcmFjdHMuXHJcbiAgICovXHJcbiAgaW50ZXJhY3RhbnQ/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBpbnRlcmFjdGlvbiBlLmcuIGRydWctZHJ1ZyBpbnRlcmFjdGlvbiwgZHJ1Zy1mb29kIGludGVyYWN0aW9uLCBkcnVnLWxhYiB0ZXN0IGludGVyYWN0aW9uLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBlZmZlY3Qgb2YgdGhlIGludGVyYWN0aW9uLCBmb3IgZXhhbXBsZSBcInJlZHVjZWQgZ2FzdHJpYyBhYnNvcnB0aW9uIG9mIHByaW1hcnkgbWVkaWNhdGlvblwiLlxyXG4gICAqL1xyXG4gIGVmZmVjdD86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5jaWRlbmNlIG9mIHRoZSBpbnRlcmFjdGlvbiwgZS5nLiB0aGVvcmV0aWNhbCwgb2JzZXJ2ZWQuXHJcbiAgICovXHJcbiAgaW5jaWRlbmNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBY3Rpb25zIGZvciBtYW5hZ2luZyB0aGUgaW50ZXJhY3Rpb24uXHJcbiAgICovXHJcbiAgbWFuYWdlbWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNwZWNpZmljcyBmb3Igd2hlbiB0aGlzIGlzIGFuIGludGVyYWN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzcGVjaWZpYyBtZWRpY2F0aW9uLCBmb29kLCBzdWJzdGFuY2Ugb3IgbGFib3JhdG9yeSB0ZXN0IHRoYXQgaW50ZXJhY3RzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnRlcmFjdGFudDogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbkludGVyYWN0YW50W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdGhlIGludGVyYWN0aW9uIGUuZy4gZHJ1Zy1kcnVnIGludGVyYWN0aW9uLCBkcnVnLWZvb2QgaW50ZXJhY3Rpb24sIGRydWctbGFiIHRlc3QgaW50ZXJhY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGVmZmVjdCBvZiB0aGUgaW50ZXJhY3Rpb24sIGZvciBleGFtcGxlIFwicmVkdWNlZCBnYXN0cmljIGFic29ycHRpb24gb2YgcHJpbWFyeSBtZWRpY2F0aW9uXCIuXHJcbiAgICovXHJcbiAgcHVibGljIGVmZmVjdD86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmNpZGVuY2Ugb2YgdGhlIGludGVyYWN0aW9uLCBlLmcuIHRoZW9yZXRpY2FsLCBvYnNlcnZlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaW5jaWRlbmNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFjdGlvbnMgZm9yIG1hbmFnaW5nIHRoZSBpbnRlcmFjdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbWFuYWdlbWVudDogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2ludGVyYWN0YW50J10pIHsgdGhpcy5pbnRlcmFjdGFudCA9IHNvdXJjZS5pbnRlcmFjdGFudC5tYXAoKHgpID0+IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uSW50ZXJhY3RhbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnRlcmFjdGFudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZWZmZWN0J10pIHsgdGhpcy5lZmZlY3QgPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UuZWZmZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5jaWRlbmNlJ10pIHsgdGhpcy5pbmNpZGVuY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmluY2lkZW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbmFnZW1lbnQnXSkgeyB0aGlzLm1hbmFnZW1lbnQgPSBzb3VyY2UubWFuYWdlbWVudC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hbmFnZW1lbnQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbi5pbnRlcmFjdGlvbicgfVxyXG4gICAgdGhpcy52T0EoJ2ludGVyYWN0YW50JyxleHApXHJcbiAgICB0aGlzLnZPUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2VmZmVjdCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2luY2lkZW5jZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ21hbmFnZW1lbnQnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaXR1YXRpb24gaW4gd2hpY2ggdGhlIHVuZGVzaXJhYmxlIGVmZmVjdCBtYXkgbWFuaWZlc3QuXHJcbiAgICovXHJcbiAgc3ltcHRvbUNvbmRpdGlvbkVmZmVjdD86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIaWdoIGxldmVsIGNsYXNzaWZpY2F0aW9uIG9mIHRoZSBlZmZlY3QuXHJcbiAgICovXHJcbiAgY2xhc3NpZmljYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhvdyBvZnRlbiB0aGUgZWZmZWN0IGlzIHNlZW4uXHJcbiAgICovXHJcbiAgZnJlcXVlbmN5T2ZPY2N1cnJlbmNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlc2NyaWJlIHRoZSBwb3NzaWJsZSB1bmRlc2lyYWJsZSBlZmZlY3RzIChuZWdhdGl2ZSBvdXRjb21lcykgZnJvbSB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBhcyB0cmVhdG1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uVW5kZXNpcmFibGVFZmZlY3QgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNpdHVhdGlvbiBpbiB3aGljaCB0aGUgdW5kZXNpcmFibGUgZWZmZWN0IG1heSBtYW5pZmVzdC5cclxuICAgKi9cclxuICBwdWJsaWMgc3ltcHRvbUNvbmRpdGlvbkVmZmVjdD86IGZoaXIuQ29kZWFibGVSZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhpZ2ggbGV2ZWwgY2xhc3NpZmljYXRpb24gb2YgdGhlIGVmZmVjdC5cclxuICAgKi9cclxuICBwdWJsaWMgY2xhc3NpZmljYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSG93IG9mdGVuIHRoZSBlZmZlY3QgaXMgc2Vlbi5cclxuICAgKi9cclxuICBwdWJsaWMgZnJlcXVlbmN5T2ZPY2N1cnJlbmNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsaW5pY2FsVXNlRGVmaW5pdGlvblVuZGVzaXJhYmxlRWZmZWN0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xpbmljYWxVc2VEZWZpbml0aW9uVW5kZXNpcmFibGVFZmZlY3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc3ltcHRvbUNvbmRpdGlvbkVmZmVjdCddKSB7IHRoaXMuc3ltcHRvbUNvbmRpdGlvbkVmZmVjdCA9IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHNvdXJjZS5zeW1wdG9tQ29uZGl0aW9uRWZmZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xhc3NpZmljYXRpb24nXSkgeyB0aGlzLmNsYXNzaWZpY2F0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jbGFzc2lmaWNhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZyZXF1ZW5jeU9mT2NjdXJyZW5jZSddKSB7IHRoaXMuZnJlcXVlbmN5T2ZPY2N1cnJlbmNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5mcmVxdWVuY3lPZk9jY3VycmVuY2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uLnVuZGVzaXJhYmxlRWZmZWN0JyB9XHJcbiAgICB0aGlzLnZPUygnc3ltcHRvbUNvbmRpdGlvbkVmZmVjdCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NsYXNzaWZpY2F0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygnZnJlcXVlbmN5T2ZPY2N1cnJlbmNlJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xpbmljYWxVc2VEZWZpbml0aW9uV2FybmluZyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSB0ZXh0dWFsIGRlZmluaXRpb24gb2YgdGhpcyB3YXJuaW5nLCB3aXRoIGZvcm1hdHRpbmcuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDbGluaWNhbFVzZURlZmluaXRpb24ud2FybmluZy5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCBvciB1bmZvcm1hdHRlZCB0ZXh0dWFsIGRlZmluaXRpb24gb2YgdGhpcyB3YXJuaW5nLlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBjcml0aWNhbCBwaWVjZSBvZiBpbmZvcm1hdGlvbiBhYm91dCBlbnZpcm9ubWVudGFsLCBoZWFsdGggb3IgcGh5c2ljYWwgcmlza3Mgb3IgaGF6YXJkcyB0aGF0IHNlcnZlIGFzIGNhdXRpb24gdG8gdGhlIHVzZXIuIEZvciBleGFtcGxlICdEbyBub3Qgb3BlcmF0ZSBoZWF2eSBtYWNoaW5lcnknLCAnTWF5IGNhdXNlIGRyb3dzaW5lc3MnLCBvciAnR2V0IG1lZGljYWwgYWR2aWNlL2F0dGVudGlvbiBpZiB5b3UgZmVlbCB1bndlbGwnLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmcgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nJztcclxuICAvKipcclxuICAgKiBBIHRleHR1YWwgZGVmaW5pdGlvbiBvZiB0aGlzIHdhcm5pbmcsIHdpdGggZm9ybWF0dGluZy5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCBvciB1bmZvcm1hdHRlZCB0ZXh0dWFsIGRlZmluaXRpb24gb2YgdGhpcyB3YXJuaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmcgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpck1hcmtkb3duQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb2RlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsaW5pY2FsVXNlRGVmaW5pdGlvbi53YXJuaW5nJyB9XHJcbiAgICB0aGlzLnZPUygnZGVzY3JpcHRpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCdjb2RlJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xpbmljYWxVc2VEZWZpbml0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsaW5pY2FsVXNlRGVmaW5pdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkNsaW5pY2FsVXNlRGVmaW5pdGlvblwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBCdXNpbmVzcyBpZGVudGlmaWVyIGZvciB0aGlzIGlzc3VlLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIGluZGljYXRpb24gfCBjb250cmFpbmRpY2F0aW9uIHwgaW50ZXJhY3Rpb24gfCB1bmRlc2lyYWJsZS1lZmZlY3QgfCB3YXJuaW5nLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuRmhpckNvZGU8Q2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDbGluaWNhbFVzZURlZmluaXRpb24udHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNhdGVnb3Jpc2F0aW9uIG9mIHRoZSBpc3N1ZSwgcHJpbWFyaWx5IGZvciBkaXZpZGluZyB3YXJuaW5ncyBpbnRvIHN1YmplY3QgaGVhZGluZyBhcmVhcyBzdWNoIGFzIFwiUHJlZ25hbmN5IGFuZCBMYWN0YXRpb25cIiwgXCJPdmVyZG9zZVwiLCBcIkVmZmVjdHMgb24gQWJpbGl0eSB0byBEcml2ZSBhbmQgVXNlIE1hY2hpbmVzXCIuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lZGljYXRpb24gb3IgcHJvY2VkdXJlIGZvciB3aGljaCB0aGlzIGlzIGFuIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGV0aGVyIHRoaXMgaXMgYSBjdXJyZW50IGlzc3VlIG9yIG9uZSB0aGF0IGhhcyBiZWVuIHJldGlyZWQgZXRjLlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYSBjb250cmFpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGNvbnRyYWluZGljYXRpb24/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbmRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGluZGljYXRpb24/OiBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkluZGljYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWZpY3MgZm9yIHdoZW4gdGhpcyBpcyBhbiBpbnRlcmFjdGlvbi5cclxuICAgKi9cclxuICBpbnRlcmFjdGlvbj86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW50ZXJhY3Rpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcG9wdWxhdGlvbiBncm91cCB0byB3aGljaCB0aGlzIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcG9wdWxhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZSB0aGUgcG9zc2libGUgdW5kZXNpcmFibGUgZWZmZWN0cyAobmVnYXRpdmUgb3V0Y29tZXMpIGZyb20gdGhlIHVzZSBvZiB0aGUgbWVkaWNpbmFsIHByb2R1Y3QgYXMgdHJlYXRtZW50LlxyXG4gICAqL1xyXG4gIHVuZGVzaXJhYmxlRWZmZWN0PzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY3JpdGljYWwgcGllY2Ugb2YgaW5mb3JtYXRpb24gYWJvdXQgZW52aXJvbm1lbnRhbCwgaGVhbHRoIG9yIHBoeXNpY2FsIHJpc2tzIG9yIGhhemFyZHMgdGhhdCBzZXJ2ZSBhcyBjYXV0aW9uIHRvIHRoZSB1c2VyLiBGb3IgZXhhbXBsZSAnRG8gbm90IG9wZXJhdGUgaGVhdnkgbWFjaGluZXJ5JywgJ01heSBjYXVzZSBkcm93c2luZXNzJywgb3IgJ0dldCBtZWRpY2FsIGFkdmljZS9hdHRlbnRpb24gaWYgeW91IGZlZWwgdW53ZWxsJy5cclxuICAgKi9cclxuICB3YXJuaW5nPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNpbmdsZSBpc3N1ZSAtIGVpdGhlciBhbiBpbmRpY2F0aW9uLCBjb250cmFpbmRpY2F0aW9uLCBpbnRlcmFjdGlvbiBvciBhbiB1bmRlc2lyYWJsZSBlZmZlY3QgZm9yIGEgbWVkaWNpbmFsIHByb2R1Y3QsIG1lZGljYXRpb24sIGRldmljZSBvciBwcm9jZWR1cmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xpbmljYWxVc2VEZWZpbml0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGluaWNhbFVzZURlZmluaXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQ2xpbmljYWxVc2VEZWZpbml0aW9uXCI7XHJcbiAgLyoqXHJcbiAgICogQnVzaW5lc3MgaWRlbnRpZmllciBmb3IgdGhpcyBpc3N1ZS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogaW5kaWNhdGlvbiB8IGNvbnRyYWluZGljYXRpb24gfCBpbnRlcmFjdGlvbiB8IHVuZGVzaXJhYmxlLWVmZmVjdCB8IHdhcm5pbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuRmhpckNvZGU8Q2xpbmljYWxVc2VEZWZpbml0aW9uVHlwZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgY2F0ZWdvcmlzYXRpb24gb2YgdGhlIGlzc3VlLCBwcmltYXJpbHkgZm9yIGRpdmlkaW5nIHdhcm5pbmdzIGludG8gc3ViamVjdCBoZWFkaW5nIGFyZWFzIHN1Y2ggYXMgXCJQcmVnbmFuY3kgYW5kIExhY3RhdGlvblwiLCBcIk92ZXJkb3NlXCIsIFwiRWZmZWN0cyBvbiBBYmlsaXR5IHRvIERyaXZlIGFuZCBVc2UgTWFjaGluZXNcIi5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lZGljYXRpb24gb3IgcHJvY2VkdXJlIGZvciB3aGljaCB0aGlzIGlzIGFuIGluZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogV2hldGhlciB0aGlzIGlzIGEgY3VycmVudCBpc3N1ZSBvciBvbmUgdGhhdCBoYXMgYmVlbiByZXRpcmVkIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmljcyBmb3Igd2hlbiB0aGlzIGlzIGEgY29udHJhaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgY29udHJhaW5kaWNhdGlvbj86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uQ29udHJhaW5kaWNhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYW4gaW5kaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgaW5kaWNhdGlvbj86IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWNzIGZvciB3aGVuIHRoaXMgaXMgYW4gaW50ZXJhY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGludGVyYWN0aW9uPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25JbnRlcmFjdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBvcHVsYXRpb24gZ3JvdXAgdG8gd2hpY2ggdGhpcyBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb3B1bGF0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlIHRoZSBwb3NzaWJsZSB1bmRlc2lyYWJsZSBlZmZlY3RzIChuZWdhdGl2ZSBvdXRjb21lcykgZnJvbSB0aGUgdXNlIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdCBhcyB0cmVhdG1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHVuZGVzaXJhYmxlRWZmZWN0PzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25VbmRlc2lyYWJsZUVmZmVjdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjcml0aWNhbCBwaWVjZSBvZiBpbmZvcm1hdGlvbiBhYm91dCBlbnZpcm9ubWVudGFsLCBoZWFsdGggb3IgcGh5c2ljYWwgcmlza3Mgb3IgaGF6YXJkcyB0aGF0IHNlcnZlIGFzIGNhdXRpb24gdG8gdGhlIHVzZXIuIEZvciBleGFtcGxlICdEbyBub3Qgb3BlcmF0ZSBoZWF2eSBtYWNoaW5lcnknLCAnTWF5IGNhdXNlIGRyb3dzaW5lc3MnLCBvciAnR2V0IG1lZGljYWwgYWR2aWNlL2F0dGVudGlvbiBpZiB5b3UgZmVlbCB1bndlbGwnLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3YXJuaW5nPzogZmhpci5DbGluaWNhbFVzZURlZmluaXRpb25XYXJuaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGluaWNhbFVzZURlZmluaXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGluaWNhbFVzZURlZmluaXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxDbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnR5cGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxDbGluaWNhbFVzZURlZmluaXRpb25UeXBlQ29kZVR5cGU+KHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gc291cmNlLmNhdGVnb3J5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2F0ZWdvcnkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IHNvdXJjZS5zdWJqZWN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViamVjdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udHJhaW5kaWNhdGlvbiddKSB7IHRoaXMuY29udHJhaW5kaWNhdGlvbiA9IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkNvbnRyYWluZGljYXRpb24oc291cmNlLmNvbnRyYWluZGljYXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydpbmRpY2F0aW9uJ10pIHsgdGhpcy5pbmRpY2F0aW9uID0gbmV3IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uSW5kaWNhdGlvbihzb3VyY2UuaW5kaWNhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVyYWN0aW9uJ10pIHsgdGhpcy5pbnRlcmFjdGlvbiA9IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbkludGVyYWN0aW9uKHNvdXJjZS5pbnRlcmFjdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BvcHVsYXRpb24nXSkgeyB0aGlzLnBvcHVsYXRpb24gPSBzb3VyY2UucG9wdWxhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBvcHVsYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5kZXNpcmFibGVFZmZlY3QnXSkgeyB0aGlzLnVuZGVzaXJhYmxlRWZmZWN0ID0gbmV3IGZoaXIuQ2xpbmljYWxVc2VEZWZpbml0aW9uVW5kZXNpcmFibGVFZmZlY3Qoc291cmNlLnVuZGVzaXJhYmxlRWZmZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2FybmluZyddKSB7IHRoaXMud2FybmluZyA9IG5ldyBmaGlyLkNsaW5pY2FsVXNlRGVmaW5pdGlvbldhcm5pbmcoc291cmNlLndhcm5pbmcpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xpbmljYWxVc2VEZWZpbml0aW9uJyB9XHJcbiAgICB0aGlzLnZSUygncmVzb3VyY2VUeXBlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52UlNWKCd0eXBlJyxleHAsJ0NsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGUnLENsaW5pY2FsVXNlRGVmaW5pdGlvblR5cGVWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T0EoJ2NhdGVnb3J5JyxleHApXHJcbiAgICB0aGlzLnZPQSgnc3ViamVjdCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3N0YXR1cycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NvbnRyYWluZGljYXRpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCdpbmRpY2F0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygnaW50ZXJhY3Rpb24nLGV4cClcclxuICAgIHRoaXMudk9BKCdwb3B1bGF0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygndW5kZXNpcmFibGVFZmZlY3QnLGV4cClcclxuICAgIHRoaXMudk9TKCd3YXJuaW5nJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=