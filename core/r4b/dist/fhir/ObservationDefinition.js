// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: ObservationDefinition
import * as fhir from '../fhir.js';
// @ts-ignore
import { ObservationRangeCategoryVsValidation } from '../fhirValueSets/ObservationRangeCategoryVsValidation.js';
// @ts-ignore
import { AdministrativeGenderVsValidation } from '../fhirValueSets/AdministrativeGenderVsValidation.js';
// @ts-ignore
import { PermittedDataTypeVsValidation } from '../fhirValueSets/PermittedDataTypeVsValidation.js';
/**
 * Characteristics for quantitative results of this observation.
 */
export class ObservationDefinitionQuantitativeDetails extends fhir.BackboneElement {
    /**
     * Default constructor for ObservationDefinitionQuantitativeDetails - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['customaryUnit']) {
            this.customaryUnit = new fhir.CodeableConcept(source.customaryUnit, options);
        }
        if (source['unit']) {
            this.unit = new fhir.CodeableConcept(source.unit, options);
        }
        if (source['conversionFactor'] !== undefined) {
            this.conversionFactor = new fhir.FhirDecimal({ value: source.conversionFactor }, options);
        }
        if (source['_conversionFactor']) {
            if (this.conversionFactor) {
                this.conversionFactor.addExtendedProperties(source._conversionFactor);
            }
            else {
                this.conversionFactor = new fhir.FhirDecimal(source._conversionFactor, options);
            }
        }
        if (source['decimalPrecision'] !== undefined) {
            this.decimalPrecision = new fhir.FhirInteger({ value: source.decimalPrecision }, options);
        }
        if (source['_decimalPrecision']) {
            if (this.decimalPrecision) {
                this.decimalPrecision.addExtendedProperties(source._decimalPrecision);
            }
            else {
                this.decimalPrecision = new fhir.FhirInteger(source._decimalPrecision, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ObservationDefinition.quantitativeDetails';
        }
        iss.push(...this.vOS('customaryUnit', exp));
        iss.push(...this.vOS('unit', exp));
        iss.push(...this.vOS('conversionFactor', exp));
        iss.push(...this.vOS('decimalPrecision', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ObservationDefinitionQuantitativeDetails._fts_dataType = 'ObservationDefinitionQuantitativeDetails';
/**
 * Multiple  ranges of results qualified by different contexts for ordinal or continuous observations conforming to this ObservationDefinition.
 */
export class ObservationDefinitionQualifiedInterval extends fhir.BackboneElement {
    /**
     * Default constructor for ObservationDefinitionQualifiedInterval - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['category'] !== undefined) {
            this.category = new fhir.FhirCode({ value: source.category }, options);
        }
        if (source['_category']) {
            if (this.category) {
                this.category.addExtendedProperties(source._category);
            }
            else {
                this.category = new fhir.FhirCode(source._category, options);
            }
        }
        if (source['range']) {
            this.range = new fhir.Range(source.range, options);
        }
        if (source['context']) {
            this.context = new fhir.CodeableConcept(source.context, options);
        }
        if (source['appliesTo']) {
            this.appliesTo = source.appliesTo.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.appliesTo = [];
        }
        if (source['gender'] !== undefined) {
            this.gender = new fhir.FhirCode({ value: source.gender }, options);
        }
        if (source['_gender']) {
            if (this.gender) {
                this.gender.addExtendedProperties(source._gender);
            }
            else {
                this.gender = new fhir.FhirCode(source._gender, options);
            }
        }
        if (source['age']) {
            this.age = new fhir.Range(source.age, options);
        }
        if (source['gestationalAge']) {
            this.gestationalAge = new fhir.Range(source.gestationalAge, options);
        }
        if (source['condition'] !== undefined) {
            this.condition = new fhir.FhirString({ value: source.condition }, options);
        }
        if (source['_condition']) {
            if (this.condition) {
                this.condition.addExtendedProperties(source._condition);
            }
            else {
                this.condition = new fhir.FhirString(source._condition, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ObservationDefinition.qualifiedInterval';
        }
        iss.push(...this.vOSV('category', exp, 'ObservationRangeCategory', ObservationRangeCategoryVsValidation, 'r'));
        iss.push(...this.vOS('range', exp));
        iss.push(...this.vOS('context', exp));
        iss.push(...this.vOA('appliesTo', exp));
        iss.push(...this.vOSV('gender', exp, 'AdministrativeGender', AdministrativeGenderVsValidation, 'r'));
        iss.push(...this.vOS('age', exp));
        iss.push(...this.vOS('gestationalAge', exp));
        iss.push(...this.vOS('condition', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ObservationDefinitionQualifiedInterval._fts_dataType = 'ObservationDefinitionQualifiedInterval';
/**
 * Set of definitional characteristics for a kind of observation or measurement produced or consumed by an orderable health care service.
 */
export class ObservationDefinition extends fhir.DomainResource {
    /**
     * Default constructor for ObservationDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ObservationDefinition';
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.category = [];
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code, options);
        }
        else {
            this.code = null;
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['permittedDataType'] !== undefined) {
            this.permittedDataType = source.permittedDataType.map((x) => new fhir.FhirCode({ value: x }, options));
        }
        else {
            this.permittedDataType = [];
        }
        if (source['_permittedDataType']) {
            source._permittedDataType.forEach((x, i) => {
                if (this.permittedDataType.length >= i) {
                    if (x) {
                        this.permittedDataType[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.permittedDataType.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['multipleResultsAllowed'] !== undefined) {
            this.multipleResultsAllowed = new fhir.FhirBoolean({ value: source.multipleResultsAllowed }, options);
        }
        if (source['_multipleResultsAllowed']) {
            if (this.multipleResultsAllowed) {
                this.multipleResultsAllowed.addExtendedProperties(source._multipleResultsAllowed);
            }
            else {
                this.multipleResultsAllowed = new fhir.FhirBoolean(source._multipleResultsAllowed, options);
            }
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method, options);
        }
        if (source['preferredReportName'] !== undefined) {
            this.preferredReportName = new fhir.FhirString({ value: source.preferredReportName }, options);
        }
        if (source['_preferredReportName']) {
            if (this.preferredReportName) {
                this.preferredReportName.addExtendedProperties(source._preferredReportName);
            }
            else {
                this.preferredReportName = new fhir.FhirString(source._preferredReportName, options);
            }
        }
        if (source['quantitativeDetails']) {
            this.quantitativeDetails = new fhir.ObservationDefinitionQuantitativeDetails(source.quantitativeDetails, options);
        }
        if (source['qualifiedInterval']) {
            this.qualifiedInterval = source.qualifiedInterval.map((x) => new fhir.ObservationDefinitionQualifiedInterval(x, options));
        }
        else {
            this.qualifiedInterval = [];
        }
        if (source['validCodedValueSet']) {
            this.validCodedValueSet = new fhir.Reference(source.validCodedValueSet, options);
        }
        if (source['normalCodedValueSet']) {
            this.normalCodedValueSet = new fhir.Reference(source.normalCodedValueSet, options);
        }
        if (source['abnormalCodedValueSet']) {
            this.abnormalCodedValueSet = new fhir.Reference(source.abnormalCodedValueSet, options);
        }
        if (source['criticalCodedValueSet']) {
            this.criticalCodedValueSet = new fhir.Reference(source.criticalCodedValueSet, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ObservationDefinition';
        }
        iss.push(...this.vOA('category', exp));
        iss.push(...this.vRS('code', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOAV('permittedDataType', exp, 'PermittedDataType', PermittedDataTypeVsValidation, 'r'));
        iss.push(...this.vOS('multipleResultsAllowed', exp));
        iss.push(...this.vOS('method', exp));
        iss.push(...this.vOS('preferredReportName', exp));
        iss.push(...this.vOS('quantitativeDetails', exp));
        iss.push(...this.vOA('qualifiedInterval', exp));
        iss.push(...this.vOS('validCodedValueSet', exp));
        iss.push(...this.vOS('normalCodedValueSet', exp));
        iss.push(...this.vOS('abnormalCodedValueSet', exp));
        iss.push(...this.vOS('criticalCodedValueSet', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ObservationDefinition._fts_dataType = 'ObservationDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT2JzZXJ2YXRpb25EZWZpbml0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9PYnNlcnZhdGlvbkRlZmluaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsdUNBQXVDO0FBRXZDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBUW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsb0NBQW9DLEVBQUUsTUFBTSwwREFBMEQsQ0FBQztBQVdoSCxhQUFhO0FBQ2IsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sc0RBQXNELENBQUM7QUFXeEcsYUFBYTtBQUNiLE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLG1EQUFtRCxDQUFDO0FBbUNsRzs7R0FFRztBQUNILE1BQU0sT0FBTyx3Q0FBeUMsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXFCaEY7O09BRUc7SUFDSCxZQUFZLFNBQStELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3JILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsZUFBZSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDOUcsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDbkYsSUFBSSxNQUFNLENBQUMsa0JBQWtCLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDMUksSUFBSSxNQUFNLENBQUMsbUJBQW1CLENBQUMsRUFBRTtZQUMvQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtnQkFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLGlCQUFrQixDQUFDLENBQUM7YUFBRTtpQkFDakc7Z0JBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsaUJBQWtELEVBQUUsT0FBTyxDQUFDLENBQUM7YUFBRTtTQUMzSDtRQUNELElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsZ0JBQWdCLEVBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQzFJLElBQUksTUFBTSxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFDL0IsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxpQkFBa0IsQ0FBQyxDQUFDO2FBQUU7aUJBQ2pHO2dCQUFFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLGlCQUFrRCxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDM0g7SUFDSCxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxHQUFHLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFBRSxHQUFHLEdBQUcsMkNBQTJDLENBQUE7U0FBRTtRQUNyRSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDOUMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQWpERDs7R0FFRztBQUM2QixzREFBYSxHQUFVLDBDQUEwQyxDQUFDO0FBa0dwRzs7R0FFRztBQUNILE1BQU0sT0FBTyxzQ0FBdUMsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXFDOUU7O09BRUc7SUFDSCxZQUFZLFNBQTZELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ25ILEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQW1DLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ2pKLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxTQUFVLENBQUMsQ0FBQzthQUFFO2lCQUN6RTtnQkFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBbUMsTUFBTSxDQUFDLFNBQW1DLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFBRTtTQUNuSTtRQUNELElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQzVFLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQzVGLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDM0c7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzdCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUErQixFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUN2SSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsT0FBUSxDQUFDLENBQUM7YUFBRTtpQkFDbkU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQStCLE1BQU0sQ0FBQyxPQUFpQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDM0g7UUFDRCxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUN0RSxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ3ZHLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ3BILElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ3hCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxVQUFXLENBQUMsQ0FBQzthQUFFO2lCQUM1RTtnQkFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBMEMsRUFBRSxPQUFPLENBQUMsQ0FBQzthQUFFO1NBQzNHO0lBQ0gsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLHlDQUF5QyxDQUFBO1NBQUU7UUFDbkUsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLEdBQUcsRUFBQywwQkFBMEIsRUFBQyxvQ0FBb0MsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzNHLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsc0JBQXNCLEVBQUMsZ0NBQWdDLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUE5RUQ7O0dBRUc7QUFDNkIsb0RBQWEsR0FBVSx3Q0FBd0MsQ0FBQztBQXVKbEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8scUJBQXNCLFNBQVEsSUFBSSxDQUFDLGNBQWM7SUE2RDVEOztPQUVHO0lBQ0gsWUFBWSxTQUE0QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNsRyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsdUJBQXVCLENBQUM7UUFDNUMsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN4RztZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7YUFDOUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDekc7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLG1CQUFtQixDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBNEIsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzlLO1lBQUUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ3JDLElBQUksTUFBTSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7WUFDaEMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRTtnQkFDeEMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtvQkFBRSxJQUFJLENBQUMsRUFBRTt3QkFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQUU7aUJBQUU7cUJBQ3JHO29CQUFFLElBQUksQ0FBQyxFQUFFO3dCQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUE0QixDQUEyQixDQUFDLENBQUMsQ0FBQztxQkFBRTtpQkFBRTtZQUM3SCxDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxNQUFNLENBQUMsd0JBQXdCLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxzQkFBc0IsRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDNUosSUFBSSxNQUFNLENBQUMseUJBQXlCLENBQUMsRUFBRTtZQUNyQyxJQUFJLElBQUksQ0FBQyxzQkFBc0IsRUFBRTtnQkFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLHVCQUF3QixDQUFDLENBQUM7YUFBRTtpQkFDbkg7Z0JBQUUsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsdUJBQXdELEVBQUUsT0FBTyxDQUFDLENBQUM7YUFBRTtTQUN2STtRQUNELElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ3pGLElBQUksTUFBTSxDQUFDLHFCQUFxQixDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsbUJBQW1CLEVBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ2xKLElBQUksTUFBTSxDQUFDLHNCQUFzQixDQUFDLEVBQUU7WUFDbEMsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxvQkFBcUIsQ0FBQyxDQUFDO2FBQUU7aUJBQzFHO2dCQUFFLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLG9CQUFvRCxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDL0g7UUFDRCxJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksSUFBSSxDQUFDLHdDQUF3QyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ3pKLElBQUksTUFBTSxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMxSjtZQUFFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNyQyxJQUFJLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUN2SCxJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUMxSCxJQUFJLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUNoSSxJQUFJLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtJQUNsSSxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxHQUFHLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFBRSxHQUFHLEdBQUcsdUJBQXVCLENBQUE7U0FBRTtRQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBQyxHQUFHLEVBQUMsbUJBQW1CLEVBQUMsNkJBQTZCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0RyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDaEQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25ELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkQsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXZIRDs7R0FFRztBQUM2QixtQ0FBYSxHQUFVLHVCQUF1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0Yi5jb3JlIHZlcnNpb246IDQuMy4wXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogT2JzZXJ2YXRpb25EZWZpbml0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVY3VtVW5pdHNDb2RlcywgIFVjdW1Vbml0c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VY3VtVW5pdHNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVWN1bVVuaXRzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VY3VtVW5pdHNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9ic2VydmF0aW9uUmFuZ2VDYXRlZ29yeUNvZGVzLCAgT2JzZXJ2YXRpb25SYW5nZUNhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09ic2VydmF0aW9uUmFuZ2VDYXRlZ29yeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBPYnNlcnZhdGlvblJhbmdlQ2F0ZWdvcnlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09ic2VydmF0aW9uUmFuZ2VDYXRlZ29yeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVmZXJlbmNlcmFuZ2VNZWFuaW5nQ29kZXMsICBSZWZlcmVuY2VyYW5nZU1lYW5pbmdDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVmZXJlbmNlcmFuZ2VNZWFuaW5nQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlZmVyZW5jZXJhbmdlTWVhbmluZ1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVmZXJlbmNlcmFuZ2VNZWFuaW5nVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWZlcmVuY2VyYW5nZUFwcGxpZXN0b0NvZGVzLCAgUmVmZXJlbmNlcmFuZ2VBcHBsaWVzdG9Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVmZXJlbmNlcmFuZ2VBcHBsaWVzdG9Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVmZXJlbmNlcmFuZ2VBcHBsaWVzdG9Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlZmVyZW5jZXJhbmdlQXBwbGllc3RvVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzLCAgQWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYXRpdmVHZW5kZXJDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWRtaW5pc3RyYXRpdmVHZW5kZXJWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkbWluaXN0cmF0aXZlR2VuZGVyVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBPYnNlcnZhdGlvbkNhdGVnb3J5Q29kZXMsICBPYnNlcnZhdGlvbkNhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09ic2VydmF0aW9uQ2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JzZXJ2YXRpb25DYXRlZ29yeVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JzZXJ2YXRpb25DYXRlZ29yeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JzZXJ2YXRpb25Db2RlcywgIE9ic2VydmF0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09ic2VydmF0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9ic2VydmF0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYnNlcnZhdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGVybWl0dGVkRGF0YVR5cGVDb2RlcywgIFBlcm1pdHRlZERhdGFUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Blcm1pdHRlZERhdGFUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBlcm1pdHRlZERhdGFUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QZXJtaXR0ZWREYXRhVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JzZXJ2YXRpb25NZXRob2RzQ29kZXMsICBPYnNlcnZhdGlvbk1ldGhvZHNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JzZXJ2YXRpb25NZXRob2RzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9ic2VydmF0aW9uTWV0aG9kc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JzZXJ2YXRpb25NZXRob2RzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE9ic2VydmF0aW9uRGVmaW5pdGlvblF1YW50aXRhdGl2ZURldGFpbHMgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbnRpdGF0aXZlRGV0YWlsc0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEN1c3RvbWFyeSB1bml0IHVzZWQgdG8gcmVwb3J0IHF1YW50aXRhdGl2ZSByZXN1bHRzIG9mIG9ic2VydmF0aW9ucyBjb25mb3JtaW5nIHRvIHRoaXMgT2JzZXJ2YXRpb25EZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIGN1c3RvbWFyeVVuaXQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNJIHVuaXQgdXNlZCB0byByZXBvcnQgcXVhbnRpdGF0aXZlIHJlc3VsdHMgb2Ygb2JzZXJ2YXRpb25zIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgdW5pdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRmFjdG9yIGZvciBjb252ZXJ0aW5nIHZhbHVlIGV4cHJlc3NlZCB3aXRoIFNJIHVuaXQgdG8gdmFsdWUgZXhwcmVzc2VkIHdpdGggY3VzdG9tYXJ5IHVuaXQuXHJcbiAgICovXHJcbiAgY29udmVyc2lvbkZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogT2JzZXJ2YXRpb25EZWZpbml0aW9uLnF1YW50aXRhdGl2ZURldGFpbHMuY29udmVyc2lvbkZhY3RvclxyXG4gICAqL1xyXG4gIF9jb252ZXJzaW9uRmFjdG9yPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBOdW1iZXIgb2YgZGlnaXRzIGFmdGVyIGRlY2ltYWwgc2VwYXJhdG9yIHdoZW4gdGhlIHJlc3VsdHMgb2Ygc3VjaCBvYnNlcnZhdGlvbnMgYXJlIG9mIHR5cGUgUXVhbnRpdHkuXHJcbiAgICovXHJcbiAgZGVjaW1hbFByZWNpc2lvbj86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogT2JzZXJ2YXRpb25EZWZpbml0aW9uLnF1YW50aXRhdGl2ZURldGFpbHMuZGVjaW1hbFByZWNpc2lvblxyXG4gICAqL1xyXG4gIF9kZWNpbWFsUHJlY2lzaW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIENoYXJhY3RlcmlzdGljcyBmb3IgcXVhbnRpdGF0aXZlIHJlc3VsdHMgb2YgdGhpcyBvYnNlcnZhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhdGlvbkRlZmluaXRpb25RdWFudGl0YXRpdmVEZXRhaWxzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnT2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbnRpdGF0aXZlRGV0YWlscyc7XHJcbiAgLyoqXHJcbiAgICogQ3VzdG9tYXJ5IHVuaXQgdXNlZCB0byByZXBvcnQgcXVhbnRpdGF0aXZlIHJlc3VsdHMgb2Ygb2JzZXJ2YXRpb25zIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGN1c3RvbWFyeVVuaXQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU0kgdW5pdCB1c2VkIHRvIHJlcG9ydCBxdWFudGl0YXRpdmUgcmVzdWx0cyBvZiBvYnNlcnZhdGlvbnMgY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdW5pdD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGYWN0b3IgZm9yIGNvbnZlcnRpbmcgdmFsdWUgZXhwcmVzc2VkIHdpdGggU0kgdW5pdCB0byB2YWx1ZSBleHByZXNzZWQgd2l0aCBjdXN0b21hcnkgdW5pdC5cclxuICAgKi9cclxuICBwdWJsaWMgY29udmVyc2lvbkZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE51bWJlciBvZiBkaWdpdHMgYWZ0ZXIgZGVjaW1hbCBzZXBhcmF0b3Igd2hlbiB0aGUgcmVzdWx0cyBvZiBzdWNoIG9ic2VydmF0aW9ucyBhcmUgb2YgdHlwZSBRdWFudGl0eS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVjaW1hbFByZWNpc2lvbj86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE9ic2VydmF0aW9uRGVmaW5pdGlvblF1YW50aXRhdGl2ZURldGFpbHMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxPYnNlcnZhdGlvbkRlZmluaXRpb25RdWFudGl0YXRpdmVEZXRhaWxzQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2N1c3RvbWFyeVVuaXQnXSkgeyB0aGlzLmN1c3RvbWFyeVVuaXQgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmN1c3RvbWFyeVVuaXQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd1bml0J10pIHsgdGhpcy51bml0ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS51bml0LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udmVyc2lvbkZhY3RvciddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5jb252ZXJzaW9uRmFjdG9yID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UuY29udmVyc2lvbkZhY3Rvcn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29udmVyc2lvbkZhY3RvciddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvbnZlcnNpb25GYWN0b3IpIHsgdGhpcy5jb252ZXJzaW9uRmFjdG9yLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvbnZlcnNpb25GYWN0b3IhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb252ZXJzaW9uRmFjdG9yID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9jb252ZXJzaW9uRmFjdG9yIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVjaW1hbFByZWNpc2lvbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kZWNpbWFsUHJlY2lzaW9uID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UuZGVjaW1hbFByZWNpc2lvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVjaW1hbFByZWNpc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlY2ltYWxQcmVjaXNpb24pIHsgdGhpcy5kZWNpbWFsUHJlY2lzaW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RlY2ltYWxQcmVjaXNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZWNpbWFsUHJlY2lzaW9uID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9kZWNpbWFsUHJlY2lzaW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlySW50ZWdlckFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ09ic2VydmF0aW9uRGVmaW5pdGlvbi5xdWFudGl0YXRpdmVEZXRhaWxzJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY3VzdG9tYXJ5VW5pdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndW5pdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29udmVyc2lvbkZhY3RvcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGVjaW1hbFByZWNpc2lvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgT2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbGlmaWVkSW50ZXJ2YWwgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbGlmaWVkSW50ZXJ2YWxBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgY2F0ZWdvcnkgb2YgaW50ZXJ2YWwgb2YgdmFsdWVzIGZvciBjb250aW51b3VzIG9yIG9yZGluYWwgb2JzZXJ2YXRpb25zIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkZoaXJDb2RlPE9ic2VydmF0aW9uUmFuZ2VDYXRlZ29yeUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBPYnNlcnZhdGlvbkRlZmluaXRpb24ucXVhbGlmaWVkSW50ZXJ2YWwuY2F0ZWdvcnlcclxuICAgKi9cclxuICBfY2F0ZWdvcnk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb3cgYW5kIGhpZ2ggdmFsdWVzIGRldGVybWluaW5nIHRoZSBpbnRlcnZhbC4gVGhlcmUgbWF5IGJlIG9ubHkgb25lIG9mIHRoZSB0d28uXHJcbiAgICovXHJcbiAgcmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29kZXMgdG8gaW5kaWNhdGUgdGhlIGhlYWx0aCBjb250ZXh0IHRoZSByYW5nZSBhcHBsaWVzIHRvLiBGb3IgZXhhbXBsZSwgdGhlIG5vcm1hbCBvciB0aGVyYXBldXRpYyByYW5nZS5cclxuICAgKi9cclxuICBjb250ZXh0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IHByZXNlbnQgdGhlbiB0aGUgZ2xvYmFsIHBvcHVsYXRpb24gaXMgYXNzdW1lZC5cclxuICAgKi9cclxuICBhcHBsaWVzVG8/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2V4IG9mIHRoZSBwb3B1bGF0aW9uIHRoZSByYW5nZSBhcHBsaWVzIHRvLlxyXG4gICAqL1xyXG4gIGdlbmRlcj86IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogT2JzZXJ2YXRpb25EZWZpbml0aW9uLnF1YWxpZmllZEludGVydmFsLmdlbmRlclxyXG4gICAqL1xyXG4gIF9nZW5kZXI/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFNvbWUgYW5hbHl0ZXMgdmFyeSBncmVhdGx5IG92ZXIgYWdlLlxyXG4gICAqL1xyXG4gIGFnZT86IGZoaXIuUmFuZ2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZ2VzdGF0aW9uYWwgYWdlIHRvIHdoaWNoIHRoaXMgcmVmZXJlbmNlIHJhbmdlIGlzIGFwcGxpY2FibGUsIGluIHRoZSBjb250ZXh0IG9mIHByZWduYW5jeS5cclxuICAgKi9cclxuICBnZXN0YXRpb25hbEFnZT86IGZoaXIuUmFuZ2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0IGJhc2VkIGNvbmRpdGlvbiBmb3Igd2hpY2ggdGhlIHJlZmVyZW5jZSByYW5nZSBpcyB2YWxpZC5cclxuICAgKi9cclxuICBjb25kaXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogT2JzZXJ2YXRpb25EZWZpbml0aW9uLnF1YWxpZmllZEludGVydmFsLmNvbmRpdGlvblxyXG4gICAqL1xyXG4gIF9jb25kaXRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogTXVsdGlwbGUgIHJhbmdlcyBvZiByZXN1bHRzIHF1YWxpZmllZCBieSBkaWZmZXJlbnQgY29udGV4dHMgZm9yIG9yZGluYWwgb3IgY29udGludW91cyBvYnNlcnZhdGlvbnMgY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhdGlvbkRlZmluaXRpb25RdWFsaWZpZWRJbnRlcnZhbCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ09ic2VydmF0aW9uRGVmaW5pdGlvblF1YWxpZmllZEludGVydmFsJztcclxuICAvKipcclxuICAgKiBUaGUgY2F0ZWdvcnkgb2YgaW50ZXJ2YWwgb2YgdmFsdWVzIGZvciBjb250aW51b3VzIG9yIG9yZGluYWwgb2JzZXJ2YXRpb25zIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNhdGVnb3J5PzogZmhpci5GaGlyQ29kZTxPYnNlcnZhdGlvblJhbmdlQ2F0ZWdvcnlDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb3cgYW5kIGhpZ2ggdmFsdWVzIGRldGVybWluaW5nIHRoZSBpbnRlcnZhbC4gVGhlcmUgbWF5IGJlIG9ubHkgb25lIG9mIHRoZSB0d28uXHJcbiAgICovXHJcbiAgcHVibGljIHJhbmdlPzogZmhpci5SYW5nZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29kZXMgdG8gaW5kaWNhdGUgdGhlIGhlYWx0aCBjb250ZXh0IHRoZSByYW5nZSBhcHBsaWVzIHRvLiBGb3IgZXhhbXBsZSwgdGhlIG5vcm1hbCBvciB0aGVyYXBldXRpYyByYW5nZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGV4dD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IHByZXNlbnQgdGhlbiB0aGUgZ2xvYmFsIHBvcHVsYXRpb24gaXMgYXNzdW1lZC5cclxuICAgKi9cclxuICBwdWJsaWMgYXBwbGllc1RvOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFNleCBvZiB0aGUgcG9wdWxhdGlvbiB0aGUgcmFuZ2UgYXBwbGllcyB0by5cclxuICAgKi9cclxuICBwdWJsaWMgZ2VuZGVyPzogZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU29tZSBhbmFseXRlcyB2YXJ5IGdyZWF0bHkgb3ZlciBhZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIGFnZT86IGZoaXIuUmFuZ2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBnZXN0YXRpb25hbCBhZ2UgdG8gd2hpY2ggdGhpcyByZWZlcmVuY2UgcmFuZ2UgaXMgYXBwbGljYWJsZSwgaW4gdGhlIGNvbnRleHQgb2YgcHJlZ25hbmN5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXN0YXRpb25hbEFnZT86IGZoaXIuUmFuZ2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgYmFzZWQgY29uZGl0aW9uIGZvciB3aGljaCB0aGUgcmVmZXJlbmNlIHJhbmdlIGlzIHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25kaXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE9ic2VydmF0aW9uRGVmaW5pdGlvblF1YWxpZmllZEludGVydmFsIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8T2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbGlmaWVkSW50ZXJ2YWxBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY2F0ZWdvcnkgPSBuZXcgZmhpci5GaGlyQ29kZTxPYnNlcnZhdGlvblJhbmdlQ2F0ZWdvcnlDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuY2F0ZWdvcnl9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NhdGVnb3J5J10pIHtcclxuICAgICAgaWYgKHRoaXMuY2F0ZWdvcnkpIHsgdGhpcy5jYXRlZ29yeS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jYXRlZ29yeSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuRmhpckNvZGU8T2JzZXJ2YXRpb25SYW5nZUNhdGVnb3J5Q29kZVR5cGU+KHNvdXJjZS5fY2F0ZWdvcnkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JhbmdlJ10pIHsgdGhpcy5yYW5nZSA9IG5ldyBmaGlyLlJhbmdlKHNvdXJjZS5yYW5nZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRleHQnXSkgeyB0aGlzLmNvbnRleHQgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvbnRleHQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhcHBsaWVzVG8nXSkgeyB0aGlzLmFwcGxpZXNUbyA9IHNvdXJjZS5hcHBsaWVzVG8ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hcHBsaWVzVG8gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZ2VuZGVyJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmdlbmRlciA9IG5ldyBmaGlyLkZoaXJDb2RlPEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmdlbmRlcn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZ2VuZGVyJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZ2VuZGVyKSB7IHRoaXMuZ2VuZGVyLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2dlbmRlciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmdlbmRlciA9IG5ldyBmaGlyLkZoaXJDb2RlPEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZVR5cGU+KHNvdXJjZS5fZ2VuZGVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhZ2UnXSkgeyB0aGlzLmFnZSA9IG5ldyBmaGlyLlJhbmdlKHNvdXJjZS5hZ2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydnZXN0YXRpb25hbEFnZSddKSB7IHRoaXMuZ2VzdGF0aW9uYWxBZ2UgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UuZ2VzdGF0aW9uYWxBZ2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb25kaXRpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY29uZGl0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5jb25kaXRpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvbmRpdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvbmRpdGlvbikgeyB0aGlzLmNvbmRpdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb25kaXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb25kaXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fY29uZGl0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnT2JzZXJ2YXRpb25EZWZpbml0aW9uLnF1YWxpZmllZEludGVydmFsJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ2NhdGVnb3J5JyxleHAsJ09ic2VydmF0aW9uUmFuZ2VDYXRlZ29yeScsT2JzZXJ2YXRpb25SYW5nZUNhdGVnb3J5VnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JhbmdlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjb250ZXh0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdhcHBsaWVzVG8nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdnZW5kZXInLGV4cCwnQWRtaW5pc3RyYXRpdmVHZW5kZXInLEFkbWluaXN0cmF0aXZlR2VuZGVyVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2FnZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZ2VzdGF0aW9uYWxBZ2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NvbmRpdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgT2JzZXJ2YXRpb25EZWZpbml0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmF0aW9uRGVmaW5pdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIk9ic2VydmF0aW9uRGVmaW5pdGlvblwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgYWxsb3dzIHZhcmlvdXMgY2F0ZWdvcml6YXRpb24gc2NoZW1lcyBiYXNlZCBvbiB0aGUgb3duZXLigJlzIGRlZmluaXRpb24gb2YgdGhlIGNhdGVnb3J5IGFuZCBlZmZlY3RpdmVseSBtdWx0aXBsZSBjYXRlZ29yaWVzIGNhbiBiZSB1c2VkIGZvciBvbmUgaW5zdGFuY2Ugb2YgT2JzZXJ2YXRpb25EZWZpbml0aW9uLiBUaGUgbGV2ZWwgb2YgZ3JhbnVsYXJpdHkgaXMgZGVmaW5lZCBieSB0aGUgY2F0ZWdvcnkgY29uY2VwdHMgaW4gdGhlIHZhbHVlIHNldC5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgd2hhdCB3aWxsIGJlIG9ic2VydmVkLiBTb21ldGltZXMgdGhpcyBpcyBjYWxsZWQgdGhlIG9ic2VydmF0aW9uIFwibmFtZVwiLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgYXNzaWduZWQgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24gYXJ0aWZhY3QuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGEgdHlwZXMgYWxsb3dlZCBmb3IgdGhlIHZhbHVlIGVsZW1lbnQgb2YgdGhlIGluc3RhbmNlIG9ic2VydmF0aW9ucyBjb25mb3JtaW5nIHRvIHRoaXMgT2JzZXJ2YXRpb25EZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIHBlcm1pdHRlZERhdGFUeXBlPzogZmhpci5GaGlyQ29kZTxQZXJtaXR0ZWREYXRhVHlwZUNvZGVUeXBlPltdfChzdHJpbmd8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE9ic2VydmF0aW9uRGVmaW5pdGlvbi5wZXJtaXR0ZWREYXRhVHlwZVxyXG4gICAqL1xyXG4gIF9wZXJtaXR0ZWREYXRhVHlwZT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogQW4gZXhhbXBsZSBvZiBvYnNlcnZhdGlvbiBhbGxvd2luZyBtdWx0aXBsZSByZXN1bHRzIGlzIFwiYmFjdGVyaWEgaWRlbnRpZmllZCBieSBjdWx0dXJlXCIuIENvbnZlcnNlbHksIHRoZSBtZWFzdXJlbWVudCBvZiBhIHBvdGFzc2l1bSBsZXZlbCBhbGxvd3MgYSBzaW5nbGUgcmVzdWx0LlxyXG4gICAqL1xyXG4gIG11bHRpcGxlUmVzdWx0c0FsbG93ZWQ/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBPYnNlcnZhdGlvbkRlZmluaXRpb24ubXVsdGlwbGVSZXN1bHRzQWxsb3dlZFxyXG4gICAqL1xyXG4gIF9tdWx0aXBsZVJlc3VsdHNBbGxvd2VkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBPbmx5IHVzZWQgaWYgbm90IGltcGxpY2l0IGluIG9ic2VydmF0aW9uIGNvZGUuXHJcbiAgICovXHJcbiAgbWV0aG9kPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJlZmVycmVkIG5hbWUgdG8gYmUgdXNlZCB3aGVuIHJlcG9ydGluZyB0aGUgcmVzdWx0cyBvZiBvYnNlcnZhdGlvbnMgY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBwcmVmZXJyZWRSZXBvcnROYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE9ic2VydmF0aW9uRGVmaW5pdGlvbi5wcmVmZXJyZWRSZXBvcnROYW1lXHJcbiAgICovXHJcbiAgX3ByZWZlcnJlZFJlcG9ydE5hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENoYXJhY3RlcmlzdGljcyBmb3IgcXVhbnRpdGF0aXZlIHJlc3VsdHMgb2YgdGhpcyBvYnNlcnZhdGlvbi5cclxuICAgKi9cclxuICBxdWFudGl0YXRpdmVEZXRhaWxzPzogZmhpci5PYnNlcnZhdGlvbkRlZmluaXRpb25RdWFudGl0YXRpdmVEZXRhaWxzQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbGUgIHJhbmdlcyBvZiByZXN1bHRzIHF1YWxpZmllZCBieSBkaWZmZXJlbnQgY29udGV4dHMgZm9yIG9yZGluYWwgb3IgY29udGludW91cyBvYnNlcnZhdGlvbnMgY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBxdWFsaWZpZWRJbnRlcnZhbD86IGZoaXIuT2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbGlmaWVkSW50ZXJ2YWxBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzZXQgb2YgdmFsaWQgY29kZWQgcmVzdWx0cyBmb3IgdGhlIG9ic2VydmF0aW9ucyAgY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICB2YWxpZENvZGVkVmFsdWVTZXQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzZXQgb2Ygbm9ybWFsIGNvZGVkIHJlc3VsdHMgZm9yIHRoZSBvYnNlcnZhdGlvbnMgY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBub3JtYWxDb2RlZFZhbHVlU2V0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2V0IG9mIGFibm9ybWFsIGNvZGVkIHJlc3VsdHMgZm9yIHRoZSBvYnNlcnZhdGlvbiBjb25mb3JtaW5nIHRvIHRoaXMgT2JzZXJ2YXRpb25EZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIGFibm9ybWFsQ29kZWRWYWx1ZVNldD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNldCBvZiBjcml0aWNhbCBjb2RlZCByZXN1bHRzIGZvciB0aGUgb2JzZXJ2YXRpb24gY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBjcml0aWNhbENvZGVkVmFsdWVTZXQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IG9mIGRlZmluaXRpb25hbCBjaGFyYWN0ZXJpc3RpY3MgZm9yIGEga2luZCBvZiBvYnNlcnZhdGlvbiBvciBtZWFzdXJlbWVudCBwcm9kdWNlZCBvciBjb25zdW1lZCBieSBhbiBvcmRlcmFibGUgaGVhbHRoIGNhcmUgc2VydmljZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhdGlvbkRlZmluaXRpb24gZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ09ic2VydmF0aW9uRGVmaW5pdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJPYnNlcnZhdGlvbkRlZmluaXRpb25cIjtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgYWxsb3dzIHZhcmlvdXMgY2F0ZWdvcml6YXRpb24gc2NoZW1lcyBiYXNlZCBvbiB0aGUgb3duZXLigJlzIGRlZmluaXRpb24gb2YgdGhlIGNhdGVnb3J5IGFuZCBlZmZlY3RpdmVseSBtdWx0aXBsZSBjYXRlZ29yaWVzIGNhbiBiZSB1c2VkIGZvciBvbmUgaW5zdGFuY2Ugb2YgT2JzZXJ2YXRpb25EZWZpbml0aW9uLiBUaGUgbGV2ZWwgb2YgZ3JhbnVsYXJpdHkgaXMgZGVmaW5lZCBieSB0aGUgY2F0ZWdvcnkgY29uY2VwdHMgaW4gdGhlIHZhbHVlIHNldC5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHdoYXQgd2lsbCBiZSBvYnNlcnZlZC4gU29tZXRpbWVzIHRoaXMgaXMgY2FsbGVkIHRoZSBvYnNlcnZhdGlvbiBcIm5hbWVcIi5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGFzc2lnbmVkIHRvIHRoaXMgT2JzZXJ2YXRpb25EZWZpbml0aW9uIGFydGlmYWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgZGF0YSB0eXBlcyBhbGxvd2VkIGZvciB0aGUgdmFsdWUgZWxlbWVudCBvZiB0aGUgaW5zdGFuY2Ugb2JzZXJ2YXRpb25zIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHBlcm1pdHRlZERhdGFUeXBlOiBmaGlyLkZoaXJDb2RlPFBlcm1pdHRlZERhdGFUeXBlQ29kZVR5cGU+W107XHJcbiAgLyoqXHJcbiAgICogQW4gZXhhbXBsZSBvZiBvYnNlcnZhdGlvbiBhbGxvd2luZyBtdWx0aXBsZSByZXN1bHRzIGlzIFwiYmFjdGVyaWEgaWRlbnRpZmllZCBieSBjdWx0dXJlXCIuIENvbnZlcnNlbHksIHRoZSBtZWFzdXJlbWVudCBvZiBhIHBvdGFzc2l1bSBsZXZlbCBhbGxvd3MgYSBzaW5nbGUgcmVzdWx0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtdWx0aXBsZVJlc3VsdHNBbGxvd2VkPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT25seSB1c2VkIGlmIG5vdCBpbXBsaWNpdCBpbiBvYnNlcnZhdGlvbiBjb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByZWZlcnJlZCBuYW1lIHRvIGJlIHVzZWQgd2hlbiByZXBvcnRpbmcgdGhlIHJlc3VsdHMgb2Ygb2JzZXJ2YXRpb25zIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHByZWZlcnJlZFJlcG9ydE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENoYXJhY3RlcmlzdGljcyBmb3IgcXVhbnRpdGF0aXZlIHJlc3VsdHMgb2YgdGhpcyBvYnNlcnZhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcXVhbnRpdGF0aXZlRGV0YWlscz86IGZoaXIuT2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbnRpdGF0aXZlRGV0YWlsc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbGUgIHJhbmdlcyBvZiByZXN1bHRzIHF1YWxpZmllZCBieSBkaWZmZXJlbnQgY29udGV4dHMgZm9yIG9yZGluYWwgb3IgY29udGludW91cyBvYnNlcnZhdGlvbnMgY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcXVhbGlmaWVkSW50ZXJ2YWw6IGZoaXIuT2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbGlmaWVkSW50ZXJ2YWxbXTtcclxuICAvKipcclxuICAgKiBUaGUgc2V0IG9mIHZhbGlkIGNvZGVkIHJlc3VsdHMgZm9yIHRoZSBvYnNlcnZhdGlvbnMgIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHZhbGlkQ29kZWRWYWx1ZVNldD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2V0IG9mIG5vcm1hbCBjb2RlZCByZXN1bHRzIGZvciB0aGUgb2JzZXJ2YXRpb25zIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG5vcm1hbENvZGVkVmFsdWVTZXQ/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNldCBvZiBhYm5vcm1hbCBjb2RlZCByZXN1bHRzIGZvciB0aGUgb2JzZXJ2YXRpb24gY29uZm9ybWluZyB0byB0aGlzIE9ic2VydmF0aW9uRGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYWJub3JtYWxDb2RlZFZhbHVlU2V0PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzZXQgb2YgY3JpdGljYWwgY29kZWQgcmVzdWx0cyBmb3IgdGhlIG9ic2VydmF0aW9uIGNvbmZvcm1pbmcgdG8gdGhpcyBPYnNlcnZhdGlvbkRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNyaXRpY2FsQ29kZWRWYWx1ZVNldD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBPYnNlcnZhdGlvbkRlZmluaXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxPYnNlcnZhdGlvbkRlZmluaXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnT2JzZXJ2YXRpb25EZWZpbml0aW9uJztcclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVybWl0dGVkRGF0YVR5cGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucGVybWl0dGVkRGF0YVR5cGUgPSBzb3VyY2UucGVybWl0dGVkRGF0YVR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyQ29kZTxQZXJtaXR0ZWREYXRhVHlwZUNvZGVUeXBlPih7dmFsdWU6IHh9LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcm1pdHRlZERhdGFUeXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19wZXJtaXR0ZWREYXRhVHlwZSddKSB7XHJcbiAgICAgIHNvdXJjZS5fcGVybWl0dGVkRGF0YVR5cGUuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucGVybWl0dGVkRGF0YVR5cGUubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5wZXJtaXR0ZWREYXRhVHlwZVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnBlcm1pdHRlZERhdGFUeXBlLnB1c2gobmV3IGZoaXIuRmhpckNvZGU8UGVybWl0dGVkRGF0YVR5cGVDb2RlVHlwZT4oeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ211bHRpcGxlUmVzdWx0c0FsbG93ZWQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubXVsdGlwbGVSZXN1bHRzQWxsb3dlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLm11bHRpcGxlUmVzdWx0c0FsbG93ZWR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX211bHRpcGxlUmVzdWx0c0FsbG93ZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5tdWx0aXBsZVJlc3VsdHNBbGxvd2VkKSB7IHRoaXMubXVsdGlwbGVSZXN1bHRzQWxsb3dlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tdWx0aXBsZVJlc3VsdHNBbGxvd2VkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubXVsdGlwbGVSZXN1bHRzQWxsb3dlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fbXVsdGlwbGVSZXN1bHRzQWxsb3dlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21ldGhvZCddKSB7IHRoaXMubWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZXRob2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwcmVmZXJyZWRSZXBvcnROYW1lJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnByZWZlcnJlZFJlcG9ydE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnByZWZlcnJlZFJlcG9ydE5hbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ByZWZlcnJlZFJlcG9ydE5hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5wcmVmZXJyZWRSZXBvcnROYW1lKSB7IHRoaXMucHJlZmVycmVkUmVwb3J0TmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wcmVmZXJyZWRSZXBvcnROYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHJlZmVycmVkUmVwb3J0TmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wcmVmZXJyZWRSZXBvcnROYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0YXRpdmVEZXRhaWxzJ10pIHsgdGhpcy5xdWFudGl0YXRpdmVEZXRhaWxzID0gbmV3IGZoaXIuT2JzZXJ2YXRpb25EZWZpbml0aW9uUXVhbnRpdGF0aXZlRGV0YWlscyhzb3VyY2UucXVhbnRpdGF0aXZlRGV0YWlscywgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YWxpZmllZEludGVydmFsJ10pIHsgdGhpcy5xdWFsaWZpZWRJbnRlcnZhbCA9IHNvdXJjZS5xdWFsaWZpZWRJbnRlcnZhbC5tYXAoKHgpID0+IG5ldyBmaGlyLk9ic2VydmF0aW9uRGVmaW5pdGlvblF1YWxpZmllZEludGVydmFsKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucXVhbGlmaWVkSW50ZXJ2YWwgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsaWRDb2RlZFZhbHVlU2V0J10pIHsgdGhpcy52YWxpZENvZGVkVmFsdWVTZXQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnZhbGlkQ29kZWRWYWx1ZVNldCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ25vcm1hbENvZGVkVmFsdWVTZXQnXSkgeyB0aGlzLm5vcm1hbENvZGVkVmFsdWVTZXQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm5vcm1hbENvZGVkVmFsdWVTZXQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhYm5vcm1hbENvZGVkVmFsdWVTZXQnXSkgeyB0aGlzLmFibm9ybWFsQ29kZWRWYWx1ZVNldCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuYWJub3JtYWxDb2RlZFZhbHVlU2V0LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY3JpdGljYWxDb2RlZFZhbHVlU2V0J10pIHsgdGhpcy5jcml0aWNhbENvZGVkVmFsdWVTZXQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNyaXRpY2FsQ29kZWRWYWx1ZVNldCwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdPYnNlcnZhdGlvbkRlZmluaXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjYXRlZ29yeScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnY29kZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQVYoJ3Blcm1pdHRlZERhdGFUeXBlJyxleHAsJ1Blcm1pdHRlZERhdGFUeXBlJyxQZXJtaXR0ZWREYXRhVHlwZVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtdWx0aXBsZVJlc3VsdHNBbGxvd2VkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtZXRob2QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ByZWZlcnJlZFJlcG9ydE5hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3F1YW50aXRhdGl2ZURldGFpbHMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3F1YWxpZmllZEludGVydmFsJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd2YWxpZENvZGVkVmFsdWVTZXQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25vcm1hbENvZGVkVmFsdWVTZXQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Fibm9ybWFsQ29kZWRWYWx1ZVNldCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY3JpdGljYWxDb2RlZFZhbHVlU2V0JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==