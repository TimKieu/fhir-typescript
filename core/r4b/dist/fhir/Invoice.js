// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: Invoice
import * as fhir from '../fhir.js';
// @ts-ignore
import { InvoicePriceComponentTypeVsValidation } from '../fhirValueSets/InvoicePriceComponentTypeVsValidation.js';
// @ts-ignore
import { InvoiceStatusVsValidation } from '../fhirValueSets/InvoiceStatusVsValidation.js';
/**
 * Indicates who or what performed or participated in the charged service.
 */
export class InvoiceParticipant extends fhir.BackboneElement {
    /**
     * Default constructor for InvoiceParticipant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['role']) {
            this.role = new fhir.CodeableConcept(source.role, options);
        }
        if (source['actor']) {
            this.actor = new fhir.Reference(source.actor, options);
        }
        else {
            this.actor = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Invoice.participant';
        }
        iss.push(...this.vOS('role', exp));
        iss.push(...this.vRS('actor', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
InvoiceParticipant._fts_dataType = 'InvoiceParticipant';
/**
 * The price for a ChargeItem may be calculated as a base price with surcharges/deductions that apply in certain conditions. A ChargeItemDefinition resource that defines the prices, factors and conditions that apply to a billing code is currently under development. The priceComponent element can be used to offer transparency to the recipient of the Invoice as to how the prices have been calculated.
 */
export class InvoiceLineItemPriceComponent extends fhir.BackboneElement {
    /**
     * Default constructor for InvoiceLineItemPriceComponent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type'] !== undefined) {
            this.type = new fhir.FhirCode({ value: source.type }, options);
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type, options);
            }
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code, options);
        }
        if (source['factor'] !== undefined) {
            this.factor = new fhir.FhirDecimal({ value: source.factor }, options);
        }
        if (source['_factor']) {
            if (this.factor) {
                this.factor.addExtendedProperties(source._factor);
            }
            else {
                this.factor = new fhir.FhirDecimal(source._factor, options);
            }
        }
        if (source['amount']) {
            this.amount = new fhir.Money(source.amount, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Invoice.lineItem.priceComponent';
        }
        iss.push(...this.vRSV('type', exp, 'InvoicePriceComponentType', InvoicePriceComponentTypeVsValidation, 'r'));
        iss.push(...this.vOS('code', exp));
        iss.push(...this.vOS('factor', exp));
        iss.push(...this.vOS('amount', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
InvoiceLineItemPriceComponent._fts_dataType = 'InvoiceLineItemPriceComponent';
/**
 * Each line item represents one charge for goods and services rendered. Details such as date, code and amount are found in the referenced ChargeItem resource.
 */
export class InvoiceLineItem extends fhir.BackboneElement {
    /**
     * Default constructor for InvoiceLineItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['chargeItem']) {
            this.chargeItem = source.chargeItem;
        }
        else if (source['chargeItemReference']) {
            this.chargeItem = new fhir.Reference(source.chargeItemReference, options);
        }
        else if (source['chargeItemCodeableConcept']) {
            this.chargeItem = new fhir.CodeableConcept(source.chargeItemCodeableConcept, options);
        }
        else {
            this.chargeItem = null;
        }
        if (source['priceComponent']) {
            this.priceComponent = source.priceComponent.map((x) => new fhir.InvoiceLineItemPriceComponent(x, options));
        }
        else {
            this.priceComponent = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Invoice.lineItem';
        }
        iss.push(...this.vOS('sequence', exp));
        iss.push(...this.vRS('chargeItem', exp));
        iss.push(...this.vOA('priceComponent', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
InvoiceLineItem._fts_dataType = 'InvoiceLineItem';
/**
 * Internal flag to properly serialize choice-type element Invoice.lineItem.chargeItem[x]
 */
InvoiceLineItem._fts_chargeItemIsChoice = true;
/**
 * Invoice containing collected ChargeItems from an Account with calculated individual and total price for Billing purpose.
 */
export class Invoice extends fhir.DomainResource {
    /**
     * Default constructor for Invoice - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Invoice';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['cancelledReason'] !== undefined) {
            this.cancelledReason = new fhir.FhirString({ value: source.cancelledReason }, options);
        }
        if (source['_cancelledReason']) {
            if (this.cancelledReason) {
                this.cancelledReason.addExtendedProperties(source._cancelledReason);
            }
            else {
                this.cancelledReason = new fhir.FhirString(source._cancelledReason, options);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject, options);
        }
        if (source['recipient']) {
            this.recipient = new fhir.Reference(source.recipient, options);
        }
        if (source['date'] !== undefined) {
            this.date = new fhir.FhirDateTime({ value: source.date }, options);
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date, options);
            }
        }
        if (source['participant']) {
            this.participant = source.participant.map((x) => new fhir.InvoiceParticipant(x, options));
        }
        else {
            this.participant = [];
        }
        if (source['issuer']) {
            this.issuer = new fhir.Reference(source.issuer, options);
        }
        if (source['account']) {
            this.account = new fhir.Reference(source.account, options);
        }
        if (source['lineItem']) {
            this.lineItem = source.lineItem.map((x) => new fhir.InvoiceLineItem(x, options));
        }
        else {
            this.lineItem = [];
        }
        if (source['totalPriceComponent']) {
            this.totalPriceComponent = source.totalPriceComponent.map((x) => new fhir.InvoiceLineItemPriceComponent(x, options));
        }
        else {
            this.totalPriceComponent = [];
        }
        if (source['totalNet']) {
            this.totalNet = new fhir.Money(source.totalNet, options);
        }
        if (source['totalGross']) {
            this.totalGross = new fhir.Money(source.totalGross, options);
        }
        if (source['paymentTerms'] !== undefined) {
            this.paymentTerms = new fhir.FhirMarkdown({ value: source.paymentTerms }, options);
        }
        if (source['_paymentTerms']) {
            if (this.paymentTerms) {
                this.paymentTerms.addExtendedProperties(source._paymentTerms);
            }
            else {
                this.paymentTerms = new fhir.FhirMarkdown(source._paymentTerms, options);
            }
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x, options));
        }
        else {
            this.note = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Invoice';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'InvoiceStatus', InvoiceStatusVsValidation, 'r'));
        iss.push(...this.vOS('cancelledReason', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('subject', exp));
        iss.push(...this.vOS('recipient', exp));
        iss.push(...this.vOS('date', exp));
        iss.push(...this.vOA('participant', exp));
        iss.push(...this.vOS('issuer', exp));
        iss.push(...this.vOS('account', exp));
        iss.push(...this.vOA('lineItem', exp));
        iss.push(...this.vOA('totalPriceComponent', exp));
        iss.push(...this.vOS('totalNet', exp));
        iss.push(...this.vOS('totalGross', exp));
        iss.push(...this.vOS('paymentTerms', exp));
        iss.push(...this.vOA('note', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Invoice._fts_dataType = 'Invoice';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW52b2ljZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvSW52b2ljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsZ0RBQWdEO0FBQ2hELGtDQUFrQztBQUNsQyx5QkFBeUI7QUFFekIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxxQ0FBcUMsRUFBRSxNQUFNLDJEQUEyRCxDQUFDO0FBR2xILGFBQWE7QUFDYixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQWUxRjs7R0FFRztBQUNILE1BQU0sT0FBTyxrQkFBbUIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWExRDs7T0FFRztJQUNILFlBQVksU0FBeUMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDL0YsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUNuRixJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUMzRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQUU7SUFDN0IsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFH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QUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBNUlEOztHQUVHO0FBQzZCLHFCQUFhLEdBQVUsU0FBUyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0Yi5jb3JlIHZlcnNpb246IDQuMy4wXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogSW52b2ljZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW52b2ljZVByaWNlQ29tcG9uZW50VHlwZUNvZGVzLCAgSW52b2ljZVByaWNlQ29tcG9uZW50VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludm9pY2VQcmljZUNvbXBvbmVudFR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ludm9pY2VQcmljZUNvbXBvbmVudFR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEludm9pY2VTdGF0dXNDb2RlcywgIEludm9pY2VTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSW52b2ljZVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBJbnZvaWNlU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnZvaWNlU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEludm9pY2VQYXJ0aWNpcGFudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbnZvaWNlUGFydGljaXBhbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIHR5cGUgb2YgaW52b2x2ZW1lbnQgKGUuZy4gdHJhbnNjcmlwdGlvbmlzdCwgY3JlYXRvciBldGMuKS4gSWYgdGhlIGludm9pY2UgaGFzIGJlZW4gY3JlYXRlZCBhdXRvbWF0aWNhbGx5LCB0aGUgUGFydGljaXBhbnQgbWF5IGJlIGEgYmlsbGluZyBlbmdpbmUgb3IgYW5vdGhlciBraW5kIG9mIGRldmljZS5cclxuICAgKi9cclxuICByb2xlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGV2aWNlLCBwcmFjdGl0aW9uZXIsIGV0Yy4gd2hvIHBlcmZvcm1lZCBvciBwYXJ0aWNpcGF0ZWQgaW4gdGhlIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgYWN0b3I6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogSW5kaWNhdGVzIHdobyBvciB3aGF0IHBlcmZvcm1lZCBvciBwYXJ0aWNpcGF0ZWQgaW4gdGhlIGNoYXJnZWQgc2VydmljZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbnZvaWNlUGFydGljaXBhbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbnZvaWNlUGFydGljaXBhbnQnO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgdHlwZSBvZiBpbnZvbHZlbWVudCAoZS5nLiB0cmFuc2NyaXB0aW9uaXN0LCBjcmVhdG9yIGV0Yy4pLiBJZiB0aGUgaW52b2ljZSBoYXMgYmVlbiBjcmVhdGVkIGF1dG9tYXRpY2FsbHksIHRoZSBQYXJ0aWNpcGFudCBtYXkgYmUgYSBiaWxsaW5nIGVuZ2luZSBvciBhbm90aGVyIGtpbmQgb2YgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb2xlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXZpY2UsIHByYWN0aXRpb25lciwgZXRjLiB3aG8gcGVyZm9ybWVkIG9yIHBhcnRpY2lwYXRlZCBpbiB0aGUgc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWN0b3I6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSW52b2ljZVBhcnRpY2lwYW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SW52b2ljZVBhcnRpY2lwYW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3JvbGUnXSkgeyB0aGlzLnJvbGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJvbGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhY3RvciddKSB7IHRoaXMuYWN0b3IgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmFjdG9yLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWN0b3IgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnSW52b2ljZS5wYXJ0aWNpcGFudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JvbGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2FjdG9yJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY29kZSBpZGVudGlmaWVzIHRoZSB0eXBlIG9mIHRoZSBjb21wb25lbnQuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5GaGlyQ29kZTxJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEludm9pY2UubGluZUl0ZW0ucHJpY2VDb21wb25lbnQudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBpZGVudGlmaWVzIHRoZSBjb21wb25lbnQuIENvZGVzIG1heSBiZSB1c2VkIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBraW5kcyBvZiB0YXhlcywgc3VyY2hhcmdlcywgZGlzY291bnRzIGV0Yy5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBubyByZWFzb24gdG8gY2FycnkgdGhlIHByaWNlIGluIHRoZSBpbnN0YW5jZSBvZiBhIENoYXJnZUl0ZW0gdW5sZXNzIGNpcmN1bXN0YW5jZXMgcmVxdWlyZSBhIG1hbnVhbCBvdmVycmlkZS4gVGhlIGxpc3QgcHJpY2VzIG9yIGFyZSB1c3VhbGx5IGRlZmluZWQgaW4gYSBiYWNrIGNhdGFsb2d1ZSBvZiB0aGUgYmlsbGluZyBjb2RlcyAgKHNlZSBDaGFyZ2VJdGVtLmRlZmluaXRpb24pLiBEZXJpdmVkIHByb2ZpbGVzIG1heSByZXF1aXJlIGEgQ2hhcmdlSXRlbS5vdmVycmlkZVJlYXNvbiB0byBiZSBwcm92aWRlZCBpZiBlaXRoZXIgZmFjdG9yIG9yIHByaWNlIGFyZSBtYW51YWxseSBvdmVycmlkZGVuLlxyXG4gICAqL1xyXG4gIGZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW52b2ljZS5saW5lSXRlbS5wcmljZUNvbXBvbmVudC5mYWN0b3JcclxuICAgKi9cclxuICBfZmFjdG9yPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGVyZSBpcyBubyByZWFzb24gdG8gY2FycnkgdGhlIHByaWNlIGluIHRoZSBpbnN0YW5jZSBvZiBhIENoYXJnZUl0ZW0gdW5sZXNzIGNpcmN1bXN0YW5jZXMgcmVxdWlyZSBhIG1hbnVhbCBvdmVycmlkZS4gVGhlIGxpc3QgcHJpY2VzIG9yIGFyZSB1c3VhbGx5IGRlZmluZWQgaW4gYSBiYWNrIGNhdGFsb2d1ZSBvZiB0aGUgYmlsbGluZyBjb2RlcyAgKHNlZSBDaGFyZ2VJdGVtLmRlZmluaXRpb24pLiBEZXJpdmVkIHByb2ZpbGVzIG1heSByZXF1aXJlIGEgQ2hhcmdlSXRlbS5vdmVycmlkZVJlYXNvbiB0byBiZSBwcm92aWRlZCBpZiBlaXRoZXIgZmFjdG9yIG9yIHByaWNlIGFyZSBtYW51YWxseSBvdmVycmlkZGVuLlxyXG4gICAqL1xyXG4gIGFtb3VudD86IGZoaXIuTW9uZXlBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwcmljZSBmb3IgYSBDaGFyZ2VJdGVtIG1heSBiZSBjYWxjdWxhdGVkIGFzIGEgYmFzZSBwcmljZSB3aXRoIHN1cmNoYXJnZXMvZGVkdWN0aW9ucyB0aGF0IGFwcGx5IGluIGNlcnRhaW4gY29uZGl0aW9ucy4gQSBDaGFyZ2VJdGVtRGVmaW5pdGlvbiByZXNvdXJjZSB0aGF0IGRlZmluZXMgdGhlIHByaWNlcywgZmFjdG9ycyBhbmQgY29uZGl0aW9ucyB0aGF0IGFwcGx5IHRvIGEgYmlsbGluZyBjb2RlIGlzIGN1cnJlbnRseSB1bmRlciBkZXZlbG9wbWVudC4gVGhlIHByaWNlQ29tcG9uZW50IGVsZW1lbnQgY2FuIGJlIHVzZWQgdG8gb2ZmZXIgdHJhbnNwYXJlbmN5IHRvIHRoZSByZWNpcGllbnQgb2YgdGhlIEludm9pY2UgYXMgdG8gaG93IHRoZSBwcmljZXMgaGF2ZSBiZWVuIGNhbGN1bGF0ZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudCc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjb2RlIGlkZW50aWZpZXMgdGhlIHR5cGUgb2YgdGhlIGNvbXBvbmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyQ29kZTxJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgaWRlbnRpZmllcyB0aGUgY29tcG9uZW50LiBDb2RlcyBtYXkgYmUgdXNlZCB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4ga2luZHMgb2YgdGF4ZXMsIHN1cmNoYXJnZXMsIGRpc2NvdW50cyBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjdG9yPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnR5cGV9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxJbnZvaWNlUHJpY2VDb21wb25lbnRUeXBlQ29kZVR5cGU+KHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29kZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZhY3RvciddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5mYWN0b3IgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5mYWN0b3J9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2ZhY3RvciddKSB7XHJcbiAgICAgIGlmICh0aGlzLmZhY3RvcikgeyB0aGlzLmZhY3Rvci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9mYWN0b3IhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5mYWN0b3IgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2ZhY3RvciBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Ftb3VudCddKSB7IHRoaXMuYW1vdW50ID0gbmV3IGZoaXIuTW9uZXkoc291cmNlLmFtb3VudCwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdJbnZvaWNlLmxpbmVJdGVtLnByaWNlQ29tcG9uZW50JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ3R5cGUnLGV4cCwnSW52b2ljZVByaWNlQ29tcG9uZW50VHlwZScsSW52b2ljZVByaWNlQ29tcG9uZW50VHlwZVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdmYWN0b3InLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Ftb3VudCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW52b2ljZUxpbmVJdGVtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEludm9pY2VMaW5lSXRlbUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFNlcXVlbmNlIGluIHdoaWNoIHRoZSBpdGVtcyBhcHBlYXIgb24gdGhlIGludm9pY2UuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U/OiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbnZvaWNlLmxpbmVJdGVtLnNlcXVlbmNlXHJcbiAgICovXHJcbiAgX3NlcXVlbmNlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgQ2hhcmdlSXRlbSBjb250YWlucyBpbmZvcm1hdGlvbiBzdWNoIGFzIHRoZSBiaWxsaW5nIGNvZGUsIGRhdGUsIGFtb3VudCBldGMuIElmIG5vIGZ1cnRoZXIgZGV0YWlscyBhcmUgcmVxdWlyZWQgZm9yIHRoZSBsaW5lSXRlbSwgaW5saW5lIGJpbGxpbmcgY29kZXMgY2FuIGJlIGFkZGVkIHVzaW5nIHRoZSBDb2RlYWJsZUNvbmNlcHQgZGF0YSB0eXBlIGluc3RlYWQgb2YgdGhlIFJlZmVyZW5jZS5cclxuICAgKi9cclxuICBjaGFyZ2VJdGVtPzogZmhpci5SZWZlcmVuY2V8Zmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBDaGFyZ2VJdGVtIGNvbnRhaW5zIGluZm9ybWF0aW9uIHN1Y2ggYXMgdGhlIGJpbGxpbmcgY29kZSwgZGF0ZSwgYW1vdW50IGV0Yy4gSWYgbm8gZnVydGhlciBkZXRhaWxzIGFyZSByZXF1aXJlZCBmb3IgdGhlIGxpbmVJdGVtLCBpbmxpbmUgYmlsbGluZyBjb2RlcyBjYW4gYmUgYWRkZWQgdXNpbmcgdGhlIENvZGVhYmxlQ29uY2VwdCBkYXRhIHR5cGUgaW5zdGVhZCBvZiB0aGUgUmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIGNoYXJnZUl0ZW1SZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBDaGFyZ2VJdGVtIGNvbnRhaW5zIGluZm9ybWF0aW9uIHN1Y2ggYXMgdGhlIGJpbGxpbmcgY29kZSwgZGF0ZSwgYW1vdW50IGV0Yy4gSWYgbm8gZnVydGhlciBkZXRhaWxzIGFyZSByZXF1aXJlZCBmb3IgdGhlIGxpbmVJdGVtLCBpbmxpbmUgYmlsbGluZyBjb2RlcyBjYW4gYmUgYWRkZWQgdXNpbmcgdGhlIENvZGVhYmxlQ29uY2VwdCBkYXRhIHR5cGUgaW5zdGVhZCBvZiB0aGUgUmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIGNoYXJnZUl0ZW1Db2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmljZSBmb3IgYSBDaGFyZ2VJdGVtIG1heSBiZSBjYWxjdWxhdGVkIGFzIGEgYmFzZSBwcmljZSB3aXRoIHN1cmNoYXJnZXMvZGVkdWN0aW9ucyB0aGF0IGFwcGx5IGluIGNlcnRhaW4gY29uZGl0aW9ucy4gQSBDaGFyZ2VJdGVtRGVmaW5pdGlvbiByZXNvdXJjZSB0aGF0IGRlZmluZXMgdGhlIHByaWNlcywgZmFjdG9ycyBhbmQgY29uZGl0aW9ucyB0aGF0IGFwcGx5IHRvIGEgYmlsbGluZyBjb2RlIGlzIGN1cnJlbnRseSB1bmRlciBkZXZlbG9wbWVudC4gVGhlIHByaWNlQ29tcG9uZW50IGVsZW1lbnQgY2FuIGJlIHVzZWQgdG8gb2ZmZXIgdHJhbnNwYXJlbmN5IHRvIHRoZSByZWNpcGllbnQgb2YgdGhlIEludm9pY2UgYXMgdG8gaG93IHRoZSBwcmljZXMgaGF2ZSBiZWVuIGNhbGN1bGF0ZWQuXHJcbiAgICovXHJcbiAgcHJpY2VDb21wb25lbnQ/OiBmaGlyLkludm9pY2VMaW5lSXRlbVByaWNlQ29tcG9uZW50QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVhY2ggbGluZSBpdGVtIHJlcHJlc2VudHMgb25lIGNoYXJnZSBmb3IgZ29vZHMgYW5kIHNlcnZpY2VzIHJlbmRlcmVkLiBEZXRhaWxzIHN1Y2ggYXMgZGF0ZSwgY29kZSBhbmQgYW1vdW50IGFyZSBmb3VuZCBpbiB0aGUgcmVmZXJlbmNlZCBDaGFyZ2VJdGVtIHJlc291cmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEludm9pY2VMaW5lSXRlbSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ludm9pY2VMaW5lSXRlbSc7XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2UgaW4gd2hpY2ggdGhlIGl0ZW1zIGFwcGVhciBvbiB0aGUgaW52b2ljZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2VxdWVuY2U/OiBmaGlyLkZoaXJQb3NpdGl2ZUludHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIENoYXJnZUl0ZW0gY29udGFpbnMgaW5mb3JtYXRpb24gc3VjaCBhcyB0aGUgYmlsbGluZyBjb2RlLCBkYXRlLCBhbW91bnQgZXRjLiBJZiBubyBmdXJ0aGVyIGRldGFpbHMgYXJlIHJlcXVpcmVkIGZvciB0aGUgbGluZUl0ZW0sIGlubGluZSBiaWxsaW5nIGNvZGVzIGNhbiBiZSBhZGRlZCB1c2luZyB0aGUgQ29kZWFibGVDb25jZXB0IGRhdGEgdHlwZSBpbnN0ZWFkIG9mIHRoZSBSZWZlcmVuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNoYXJnZUl0ZW06IChmaGlyLlJlZmVyZW5jZXxmaGlyLkNvZGVhYmxlQ29uY2VwdCl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEludm9pY2UubGluZUl0ZW0uY2hhcmdlSXRlbVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19jaGFyZ2VJdGVtSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByaWNlIGZvciBhIENoYXJnZUl0ZW0gbWF5IGJlIGNhbGN1bGF0ZWQgYXMgYSBiYXNlIHByaWNlIHdpdGggc3VyY2hhcmdlcy9kZWR1Y3Rpb25zIHRoYXQgYXBwbHkgaW4gY2VydGFpbiBjb25kaXRpb25zLiBBIENoYXJnZUl0ZW1EZWZpbml0aW9uIHJlc291cmNlIHRoYXQgZGVmaW5lcyB0aGUgcHJpY2VzLCBmYWN0b3JzIGFuZCBjb25kaXRpb25zIHRoYXQgYXBwbHkgdG8gYSBiaWxsaW5nIGNvZGUgaXMgY3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50LiBUaGUgcHJpY2VDb21wb25lbnQgZWxlbWVudCBjYW4gYmUgdXNlZCB0byBvZmZlciB0cmFuc3BhcmVuY3kgdG8gdGhlIHJlY2lwaWVudCBvZiB0aGUgSW52b2ljZSBhcyB0byBob3cgdGhlIHByaWNlcyBoYXZlIGJlZW4gY2FsY3VsYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcHJpY2VDb21wb25lbnQ6IGZoaXIuSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbnZvaWNlTGluZUl0ZW0gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbnZvaWNlTGluZUl0ZW1BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2VxdWVuY2UnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NlcXVlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2VxdWVuY2UpIHsgdGhpcy5zZXF1ZW5jZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXF1ZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHNvdXJjZS5fc2VxdWVuY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJQb3NpdGl2ZUludEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2hhcmdlSXRlbSddKSB7IHRoaXMuY2hhcmdlSXRlbSA9IHNvdXJjZS5jaGFyZ2VJdGVtOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2NoYXJnZUl0ZW1SZWZlcmVuY2UnXSkgeyB0aGlzLmNoYXJnZUl0ZW0gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNoYXJnZUl0ZW1SZWZlcmVuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2NoYXJnZUl0ZW1Db2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLmNoYXJnZUl0ZW0gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNoYXJnZUl0ZW1Db2RlYWJsZUNvbmNlcHQsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jaGFyZ2VJdGVtID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJpY2VDb21wb25lbnQnXSkgeyB0aGlzLnByaWNlQ29tcG9uZW50ID0gc291cmNlLnByaWNlQ29tcG9uZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcmljZUNvbXBvbmVudCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnSW52b2ljZS5saW5lSXRlbScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NlcXVlbmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdjaGFyZ2VJdGVtJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwcmljZUNvbXBvbmVudCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW52b2ljZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbnZvaWNlQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiSW52b2ljZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIG9mIHRoaXMgSW52b2ljZSwgb2Z0ZW4gdXNlZCBmb3IgcmVmZXJlbmNlIGluIGNvcnJlc3BvbmRlbmNlIGFib3V0IHRoaXMgaW52b2ljZSBvciBmb3IgdHJhY2tpbmcgb2YgcGF5bWVudHMuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIEludm9pY2UuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPEludm9pY2VTdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW52b2ljZS5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBEZXJpdmVkIFByb2ZpbGVzIG1heSBjaG9vc2UgdG8gYWRkIGludmFyaWFudHMgcmVxdWlyaW5nIHRoaXMgZmllbGQgdG8gYmUgcG9wdWxhdGVkIGlmIGVpdGhlciBwcmljZU92ZXJyaWRlIG9yIGZhY3Rvck92ZXJyaWRlIGhhdmUgYmVlbiBmaWxsZWQuXHJcbiAgICovXHJcbiAgY2FuY2VsbGVkUmVhc29uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEludm9pY2UuY2FuY2VsbGVkUmVhc29uXHJcbiAgICovXHJcbiAgX2NhbmNlbGxlZFJlYXNvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBJbnZvaWNlIGRlcGVuZGluZyBvbiBkb21haW4sIHJlYWxtIGFuIHVzYWdlIChlLmcuIGludGVybmFsL2V4dGVybmFsLCBkZW50YWwsIHByZWxpbWluYXJ5KS5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBzZXQgb2YgaW5kaXZpZHVhbHMgcmVjZWl2aW5nIHRoZSBnb29kcyBhbmQgc2VydmljZXMgYmlsbGVkIGluIHRoaXMgaW52b2ljZS5cclxuICAgKi9cclxuICBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5kaXZpZHVhbCBvciBPcmdhbml6YXRpb24gcmVzcG9uc2libGUgZm9yIGJhbGFuY2luZyBvZiB0aGlzIGludm9pY2UuXHJcbiAgICovXHJcbiAgcmVjaXBpZW50PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGlzdCBvZiB0eXBlcyBtYXkgYmUgY29uc3RyYWluZWQgYXMgYXBwcm9wcmlhdGUgZm9yIHRoZSB0eXBlIG9mIGNoYXJnZSBpdGVtLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbnZvaWNlLmRhdGVcclxuICAgKi9cclxuICBfZGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdobyBvciB3aGF0IHBlcmZvcm1lZCBvciBwYXJ0aWNpcGF0ZWQgaW4gdGhlIGNoYXJnZWQgc2VydmljZS5cclxuICAgKi9cclxuICBwYXJ0aWNpcGFudD86IGZoaXIuSW52b2ljZVBhcnRpY2lwYW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcmFjdGl0aW9uZXJzIGFuZCBEZXZpY2VzIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggbXVsdGlwbGUgb3JnYW5pemF0aW9ucy4gSXQgaGFzIHRvIGJlIG1hZGUgY2xlYXIsIG9uIGJlaGFsZiBvZiB3aGljaCBPcmdhbml6YXRpb24gdGhlIHNlcnZpY2VzIGhhdmUgYmVlbiByZW5kZXJlZC5cclxuICAgKi9cclxuICBpc3N1ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN5c3RlbXMgcG9zdGluZyB0aGUgQ2hhcmdlSXRlbXMgbWlnaHQgbm90IGFsd2F5cyBiZSBhYmxlIHRvIGRldGVybWluZSwgd2hpY2ggYWNjb3VudHMgdGhlIEl0ZW1zIG5lZWQgdG8gYmUgcGxhY2VzIGludG8uIEl0IGlzIHVwIHRvIHRoZSBwb3Rwcm9jZXNzaW5nIEZpbmFuY2lhbCBTeXN0ZW0gdG8gYXBwbHkgaW50ZXJuYWwgcnVsZXMgdG8gZGVjaWRlIGJhc2VkIG9uIHRoZSBFbmNvdW50ZXIvRXBpc29kZU9mQ2FyZS9QYXRpZW50L0NvdmVyYWdlIGNvbnRleHQgYW5kIHRoZSB0eXBlIG9mIENoYXJnZUl0ZW0sIHdoaWNoIEFjY291bnQgaXMgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgYWNjb3VudD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRWFjaCBsaW5lIGl0ZW0gcmVwcmVzZW50cyBvbmUgY2hhcmdlIGZvciBnb29kcyBhbmQgc2VydmljZXMgcmVuZGVyZWQuIERldGFpbHMgc3VjaCBhcyBkYXRlLCBjb2RlIGFuZCBhbW91bnQgYXJlIGZvdW5kIGluIHRoZSByZWZlcmVuY2VkIENoYXJnZUl0ZW0gcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgbGluZUl0ZW0/OiBmaGlyLkludm9pY2VMaW5lSXRlbUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRvdGFsIGFtb3VudCBmb3IgdGhlIEludm9pY2UgbWF5IGJlIGNhbGN1bGF0ZWQgYXMgdGhlIHN1bSBvZiB0aGUgbGluZSBpdGVtcyB3aXRoIHN1cmNoYXJnZXMvZGVkdWN0aW9ucyB0aGF0IGFwcGx5IGluIGNlcnRhaW4gY29uZGl0aW9ucy4gIFRoZSBwcmljZUNvbXBvbmVudCBlbGVtZW50IGNhbiBiZSB1c2VkIHRvIG9mZmVyIHRyYW5zcGFyZW5jeSB0byB0aGUgcmVjaXBpZW50IG9mIHRoZSBJbnZvaWNlIG9mIGhvdyB0aGUgdG90YWwgcHJpY2Ugd2FzIGNhbGN1bGF0ZWQuXHJcbiAgICovXHJcbiAgdG90YWxQcmljZUNvbXBvbmVudD86IGZoaXIuSW52b2ljZUxpbmVJdGVtUHJpY2VDb21wb25lbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGlzIG5vIHJlYXNvbiB0byBjYXJyeSB0aGUgcHJpY2UgaW4gdGhlIGluc3RhbmNlIG9mIGEgQ2hhcmdlSXRlbSB1bmxlc3MgY2lyY3Vtc3RhbmNlcyByZXF1aXJlIGEgbWFudWFsIG92ZXJyaWRlLiBUaGUgbGlzdCBwcmljZXMgb3IgYXJlIHVzdWFsbHkgZGVmaW5lZCBpbiBhIGJhY2sgY2F0YWxvZ3VlIG9mIHRoZSBiaWxsaW5nIGNvZGVzICAoc2VlIENoYXJnZUl0ZW0uZGVmaW5pdGlvbikuIERlcml2ZWQgcHJvZmlsZXMgbWF5IHJlcXVpcmUgYSBDaGFyZ2VJdGVtLm92ZXJyaWRlUmVhc29uIHRvIGJlIHByb3ZpZGVkIGlmIGVpdGhlciBmYWN0b3Igb3IgcHJpY2UgYXJlIG1hbnVhbGx5IG92ZXJyaWRkZW4uXHJcbiAgICovXHJcbiAgdG90YWxOZXQ/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICB0b3RhbEdyb3NzPzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlcml2ZWQgUHJvZmlsZXMgbWF5IGNob3NlIHRvIGFkZCBpbnZhcmlhbnRzIHJlcXVpcmluZyB0aGlzIGZpZWxkIHRvIGJlIHBvcHVsYXRlZCBpZiBlaXRoZXIgcHJpY2VPdmVycmlkZSBvciBmYWN0b3JPdmVycmlkZSBoYXZlIGJlZW4gZmlsbGVkLlxyXG4gICAqL1xyXG4gIHBheW1lbnRUZXJtcz86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEludm9pY2UucGF5bWVudFRlcm1zXHJcbiAgICovXHJcbiAgX3BheW1lbnRUZXJtcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ29tbWVudHMgbWFkZSBhYm91dCB0aGUgaW52b2ljZSBieSB0aGUgaXNzdWVyLCBzdWJqZWN0LCBvciBvdGhlciBwYXJ0aWNpcGFudHMuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnZvaWNlIGNvbnRhaW5pbmcgY29sbGVjdGVkIENoYXJnZUl0ZW1zIGZyb20gYW4gQWNjb3VudCB3aXRoIGNhbGN1bGF0ZWQgaW5kaXZpZHVhbCBhbmQgdG90YWwgcHJpY2UgZm9yIEJpbGxpbmcgcHVycG9zZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbnZvaWNlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbnZvaWNlJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkludm9pY2VcIjtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVyIG9mIHRoaXMgSW52b2ljZSwgb2Z0ZW4gdXNlZCBmb3IgcmVmZXJlbmNlIGluIGNvcnJlc3BvbmRlbmNlIGFib3V0IHRoaXMgaW52b2ljZSBvciBmb3IgdHJhY2tpbmcgb2YgcGF5bWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBJbnZvaWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8SW52b2ljZVN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIERlcml2ZWQgUHJvZmlsZXMgbWF5IGNob29zZSB0byBhZGQgaW52YXJpYW50cyByZXF1aXJpbmcgdGhpcyBmaWVsZCB0byBiZSBwb3B1bGF0ZWQgaWYgZWl0aGVyIHByaWNlT3ZlcnJpZGUgb3IgZmFjdG9yT3ZlcnJpZGUgaGF2ZSBiZWVuIGZpbGxlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY2FuY2VsbGVkUmVhc29uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlIG9mIEludm9pY2UgZGVwZW5kaW5nIG9uIGRvbWFpbiwgcmVhbG0gYW4gdXNhZ2UgKGUuZy4gaW50ZXJuYWwvZXh0ZXJuYWwsIGRlbnRhbCwgcHJlbGltaW5hcnkpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIG9yIHNldCBvZiBpbmRpdmlkdWFscyByZWNlaXZpbmcgdGhlIGdvb2RzIGFuZCBzZXJ2aWNlcyBiaWxsZWQgaW4gdGhpcyBpbnZvaWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIG9yIE9yZ2FuaXphdGlvbiByZXNwb25zaWJsZSBmb3IgYmFsYW5jaW5nIG9mIHRoaXMgaW52b2ljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVjaXBpZW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsaXN0IG9mIHR5cGVzIG1heSBiZSBjb25zdHJhaW5lZCBhcyBhcHByb3ByaWF0ZSBmb3IgdGhlIHR5cGUgb2YgY2hhcmdlIGl0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdobyBvciB3aGF0IHBlcmZvcm1lZCBvciBwYXJ0aWNpcGF0ZWQgaW4gdGhlIGNoYXJnZWQgc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydGljaXBhbnQ6IGZoaXIuSW52b2ljZVBhcnRpY2lwYW50W107XHJcbiAgLyoqXHJcbiAgICogUHJhY3RpdGlvbmVycyBhbmQgRGV2aWNlcyBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIG11bHRpcGxlIG9yZ2FuaXphdGlvbnMuIEl0IGhhcyB0byBiZSBtYWRlIGNsZWFyLCBvbiBiZWhhbGYgb2Ygd2hpY2ggT3JnYW5pemF0aW9uIHRoZSBzZXJ2aWNlcyBoYXZlIGJlZW4gcmVuZGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGlzc3Vlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTeXN0ZW1zIHBvc3RpbmcgdGhlIENoYXJnZUl0ZW1zIG1pZ2h0IG5vdCBhbHdheXMgYmUgYWJsZSB0byBkZXRlcm1pbmUsIHdoaWNoIGFjY291bnRzIHRoZSBJdGVtcyBuZWVkIHRvIGJlIHBsYWNlcyBpbnRvLiBJdCBpcyB1cCB0byB0aGUgcG90cHJvY2Vzc2luZyBGaW5hbmNpYWwgU3lzdGVtIHRvIGFwcGx5IGludGVybmFsIHJ1bGVzIHRvIGRlY2lkZSBiYXNlZCBvbiB0aGUgRW5jb3VudGVyL0VwaXNvZGVPZkNhcmUvUGF0aWVudC9Db3ZlcmFnZSBjb250ZXh0IGFuZCB0aGUgdHlwZSBvZiBDaGFyZ2VJdGVtLCB3aGljaCBBY2NvdW50IGlzIGFwcHJvcHJpYXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY2NvdW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVhY2ggbGluZSBpdGVtIHJlcHJlc2VudHMgb25lIGNoYXJnZSBmb3IgZ29vZHMgYW5kIHNlcnZpY2VzIHJlbmRlcmVkLiBEZXRhaWxzIHN1Y2ggYXMgZGF0ZSwgY29kZSBhbmQgYW1vdW50IGFyZSBmb3VuZCBpbiB0aGUgcmVmZXJlbmNlZCBDaGFyZ2VJdGVtIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsaW5lSXRlbTogZmhpci5JbnZvaWNlTGluZUl0ZW1bXTtcclxuICAvKipcclxuICAgKiBUaGUgdG90YWwgYW1vdW50IGZvciB0aGUgSW52b2ljZSBtYXkgYmUgY2FsY3VsYXRlZCBhcyB0aGUgc3VtIG9mIHRoZSBsaW5lIGl0ZW1zIHdpdGggc3VyY2hhcmdlcy9kZWR1Y3Rpb25zIHRoYXQgYXBwbHkgaW4gY2VydGFpbiBjb25kaXRpb25zLiAgVGhlIHByaWNlQ29tcG9uZW50IGVsZW1lbnQgY2FuIGJlIHVzZWQgdG8gb2ZmZXIgdHJhbnNwYXJlbmN5IHRvIHRoZSByZWNpcGllbnQgb2YgdGhlIEludm9pY2Ugb2YgaG93IHRoZSB0b3RhbCBwcmljZSB3YXMgY2FsY3VsYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdG90YWxQcmljZUNvbXBvbmVudDogZmhpci5JbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZXJlIGlzIG5vIHJlYXNvbiB0byBjYXJyeSB0aGUgcHJpY2UgaW4gdGhlIGluc3RhbmNlIG9mIGEgQ2hhcmdlSXRlbSB1bmxlc3MgY2lyY3Vtc3RhbmNlcyByZXF1aXJlIGEgbWFudWFsIG92ZXJyaWRlLiBUaGUgbGlzdCBwcmljZXMgb3IgYXJlIHVzdWFsbHkgZGVmaW5lZCBpbiBhIGJhY2sgY2F0YWxvZ3VlIG9mIHRoZSBiaWxsaW5nIGNvZGVzICAoc2VlIENoYXJnZUl0ZW0uZGVmaW5pdGlvbikuIERlcml2ZWQgcHJvZmlsZXMgbWF5IHJlcXVpcmUgYSBDaGFyZ2VJdGVtLm92ZXJyaWRlUmVhc29uIHRvIGJlIHByb3ZpZGVkIGlmIGVpdGhlciBmYWN0b3Igb3IgcHJpY2UgYXJlIG1hbnVhbGx5IG92ZXJyaWRkZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHRvdGFsTmV0PzogZmhpci5Nb25leXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGNhcnJ5IHRoZSBwcmljZSBpbiB0aGUgaW5zdGFuY2Ugb2YgYSBDaGFyZ2VJdGVtIHVubGVzcyBjaXJjdW1zdGFuY2VzIHJlcXVpcmUgYSBtYW51YWwgb3ZlcnJpZGUuIFRoZSBsaXN0IHByaWNlcyBvciBhcmUgdXN1YWxseSBkZWZpbmVkIGluIGEgYmFjayBjYXRhbG9ndWUgb2YgdGhlIGJpbGxpbmcgY29kZXMgIChzZWUgQ2hhcmdlSXRlbS5kZWZpbml0aW9uKS4gRGVyaXZlZCBwcm9maWxlcyBtYXkgcmVxdWlyZSBhIENoYXJnZUl0ZW0ub3ZlcnJpZGVSZWFzb24gdG8gYmUgcHJvdmlkZWQgaWYgZWl0aGVyIGZhY3RvciBvciBwcmljZSBhcmUgbWFudWFsbHkgb3ZlcnJpZGRlbi5cclxuICAgKi9cclxuICBwdWJsaWMgdG90YWxHcm9zcz86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlcml2ZWQgUHJvZmlsZXMgbWF5IGNob3NlIHRvIGFkZCBpbnZhcmlhbnRzIHJlcXVpcmluZyB0aGlzIGZpZWxkIHRvIGJlIHBvcHVsYXRlZCBpZiBlaXRoZXIgcHJpY2VPdmVycmlkZSBvciBmYWN0b3JPdmVycmlkZSBoYXZlIGJlZW4gZmlsbGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXltZW50VGVybXM/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29tbWVudHMgbWFkZSBhYm91dCB0aGUgaW52b2ljZSBieSB0aGUgaXNzdWVyLCBzdWJqZWN0LCBvciBvdGhlciBwYXJ0aWNpcGFudHMuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU6IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEludm9pY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbnZvaWNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0ludm9pY2UnO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEludm9pY2VTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8SW52b2ljZVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2FuY2VsbGVkUmVhc29uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmNhbmNlbGxlZFJlYXNvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY2FuY2VsbGVkUmVhc29ufSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jYW5jZWxsZWRSZWFzb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5jYW5jZWxsZWRSZWFzb24pIHsgdGhpcy5jYW5jZWxsZWRSZWFzb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY2FuY2VsbGVkUmVhc29uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY2FuY2VsbGVkUmVhc29uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2NhbmNlbGxlZFJlYXNvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YmplY3QnXSkgeyB0aGlzLnN1YmplY3QgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnN1YmplY3QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWNpcGllbnQnXSkgeyB0aGlzLnJlY2lwaWVudCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVjaXBpZW50LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmRhdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFydGljaXBhbnQnXSkgeyB0aGlzLnBhcnRpY2lwYW50ID0gc291cmNlLnBhcnRpY2lwYW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuSW52b2ljZVBhcnRpY2lwYW50KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFydGljaXBhbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaXNzdWVyJ10pIHsgdGhpcy5pc3N1ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmlzc3Vlciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjY291bnQnXSkgeyB0aGlzLmFjY291bnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmFjY291bnQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydsaW5lSXRlbSddKSB7IHRoaXMubGluZUl0ZW0gPSBzb3VyY2UubGluZUl0ZW0ubWFwKCh4KSA9PiBuZXcgZmhpci5JbnZvaWNlTGluZUl0ZW0oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5saW5lSXRlbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0b3RhbFByaWNlQ29tcG9uZW50J10pIHsgdGhpcy50b3RhbFByaWNlQ29tcG9uZW50ID0gc291cmNlLnRvdGFsUHJpY2VDb21wb25lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5JbnZvaWNlTGluZUl0ZW1QcmljZUNvbXBvbmVudCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRvdGFsUHJpY2VDb21wb25lbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndG90YWxOZXQnXSkgeyB0aGlzLnRvdGFsTmV0ID0gbmV3IGZoaXIuTW9uZXkoc291cmNlLnRvdGFsTmV0LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndG90YWxHcm9zcyddKSB7IHRoaXMudG90YWxHcm9zcyA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS50b3RhbEdyb3NzLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGF5bWVudFRlcm1zJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnBheW1lbnRUZXJtcyA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5wYXltZW50VGVybXN9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3BheW1lbnRUZXJtcyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnBheW1lbnRUZXJtcykgeyB0aGlzLnBheW1lbnRUZXJtcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wYXltZW50VGVybXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wYXltZW50VGVybXMgPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oc291cmNlLl9wYXltZW50VGVybXMgYXMgUGFydGlhbDxmaGlyLkZoaXJNYXJrZG93bkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IHNvdXJjZS5ub3RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQW5ub3RhdGlvbih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0ludm9pY2UnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVignc3RhdHVzJyxleHAsJ0ludm9pY2VTdGF0dXMnLEludm9pY2VTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY2FuY2VsbGVkUmVhc29uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdWJqZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZWNpcGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BhcnRpY2lwYW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpc3N1ZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2FjY291bnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2xpbmVJdGVtJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd0b3RhbFByaWNlQ29tcG9uZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0b3RhbE5ldCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndG90YWxHcm9zcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncGF5bWVudFRlcm1zJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdub3RlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==