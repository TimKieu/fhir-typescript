// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: AdministrableProductDefinition
import * as fhir from '../fhir.js';
// @ts-ignore
import { PublicationStatusVsValidation } from '../fhirValueSets/PublicationStatusVsValidation.js';
/**
 * Characteristics e.g. a product's onset of action.
 */
export class AdministrableProductDefinitionProperty extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionProperty - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueDate']) {
            this.value = new fhir.FhirDate({ value: source.valueDate });
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.property';
        }
        this.vRS('type', exp);
        this.vOS('value', exp);
        this.vOSV('status', exp, 'PublicationStatus', PublicationStatusVsValidation, 'r');
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionProperty._fts_dataType = 'AdministrableProductDefinitionProperty';
/**
 * Internal flag to properly serialize choice-type element AdministrableProductDefinition.property.value[x]
 */
AdministrableProductDefinitionProperty._fts_valueIsChoice = true;
/**
 * A species specific time during which consumption of animal product is not appropriate.
 */
export class AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['tissue']) {
            this.tissue = new fhir.CodeableConcept(source.tissue);
        }
        else {
            this.tissue = null;
        }
        if (source['value']) {
            this.value = new fhir.Quantity(source.value);
        }
        else {
            this.value = null;
        }
        if (source['supportingInformation']) {
            this.supportingInformation = new fhir.FhirString({ value: source.supportingInformation });
        }
        if (source['_supportingInformation']) {
            if (this.supportingInformation) {
                this.supportingInformation.addExtendedProperties(source._supportingInformation);
            }
            else {
                this.supportingInformation = new fhir.FhirString(source._supportingInformation);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration.targetSpecies.withdrawalPeriod';
        }
        this.vRS('tissue', exp);
        this.vRS('value', exp);
        this.vOS('supportingInformation', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod';
/**
 * A species for which this route applies.
 */
export class AdministrableProductDefinitionRouteOfAdministrationTargetSpecies extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministrationTargetSpecies - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['withdrawalPeriod']) {
            this.withdrawalPeriod = source.withdrawalPeriod.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod(x));
        }
        else {
            this.withdrawalPeriod = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration.targetSpecies';
        }
        this.vRS('code', exp);
        this.vOA('withdrawalPeriod', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministrationTargetSpecies._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministrationTargetSpecies';
/**
 * The path by which the product is taken into or makes contact with the body. In some regions this is referred to as the licenced or approved route. RouteOfAdministration cannot be used when the 'formOf' product already uses MedicinalProductDefinition.route (and vice versa).
 */
export class AdministrableProductDefinitionRouteOfAdministration extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministration - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['firstDose']) {
            this.firstDose = new fhir.Quantity(source.firstDose);
        }
        if (source['maxSingleDose']) {
            this.maxSingleDose = new fhir.Quantity(source.maxSingleDose);
        }
        if (source['maxDosePerDay']) {
            this.maxDosePerDay = new fhir.Quantity(source.maxDosePerDay);
        }
        if (source['maxDosePerTreatmentPeriod']) {
            this.maxDosePerTreatmentPeriod = new fhir.Ratio(source.maxDosePerTreatmentPeriod);
        }
        if (source['maxTreatmentPeriod']) {
            this.maxTreatmentPeriod = new fhir.Duration(source.maxTreatmentPeriod);
        }
        if (source['targetSpecies']) {
            this.targetSpecies = source.targetSpecies.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministrationTargetSpecies(x));
        }
        else {
            this.targetSpecies = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration';
        }
        this.vRS('code', exp);
        this.vOS('firstDose', exp);
        this.vOS('maxSingleDose', exp);
        this.vOS('maxDosePerDay', exp);
        this.vOS('maxDosePerTreatmentPeriod', exp);
        this.vOS('maxTreatmentPeriod', exp);
        this.vOA('targetSpecies', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministration._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministration';
/**
 * A medicinal product in the final form which is suitable for administering to a patient (after any mixing of multiple components, dissolution etc. has been performed).
 */
export class AdministrableProductDefinition extends fhir.DomainResource {
    /**
     * Default constructor for AdministrableProductDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AdministrableProductDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['formOf']) {
            this.formOf = source.formOf.map((x) => new fhir.Reference(x));
        }
        else {
            this.formOf = [];
        }
        if (source['administrableDoseForm']) {
            this.administrableDoseForm = new fhir.CodeableConcept(source.administrableDoseForm);
        }
        if (source['unitOfPresentation']) {
            this.unitOfPresentation = new fhir.CodeableConcept(source.unitOfPresentation);
        }
        if (source['producedFrom']) {
            this.producedFrom = source.producedFrom.map((x) => new fhir.Reference(x));
        }
        else {
            this.producedFrom = [];
        }
        if (source['ingredient']) {
            this.ingredient = source.ingredient.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.ingredient = [];
        }
        if (source['device']) {
            this.device = new fhir.Reference(source.device);
        }
        if (source['property']) {
            this.property = source.property.map((x) => new fhir.AdministrableProductDefinitionProperty(x));
        }
        else {
            this.property = [];
        }
        if (source['routeOfAdministration']) {
            this.routeOfAdministration = source.routeOfAdministration.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministration(x));
        }
        else {
            this.routeOfAdministration = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vRSV('status', exp, 'PublicationStatus', PublicationStatusVsValidation, 'r');
        this.vOA('formOf', exp);
        this.vOS('administrableDoseForm', exp);
        this.vOS('unitOfPresentation', exp);
        this.vOA('producedFrom', exp);
        this.vOA('ingredient', exp);
        this.vOS('device', exp);
        this.vOA('property', exp);
        this.vRA('routeOfAdministration', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinition._fts_dataType = 'AdministrableProductDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsZ0RBQWdEO0FBRWhELE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQTJEbEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sc0NBQXVDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQjlFOztPQUVHO0lBQ0gsWUFBWSxTQUE2RCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNuSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDckU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1NBQUU7YUFDOUMsSUFBSSxNQUFNLENBQUMsc0JBQXNCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1NBQUU7YUFDM0csSUFBSSxNQUFNLENBQUMsZUFBZSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFN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QUM7UUFDMUQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLGdDQUFnQyxDQUFBO1NBQUU7UUFDMUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLG1CQUFtQixFQUFDLDZCQUE2QixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzdFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QixJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3JDLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBOUZEOztHQUVHO0FBQzZCLDRDQUFhLEdBQVUsZ0NBQWdDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25cclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzQ29kZXMsICBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFuaW1hbFRpc3N1ZVR5cGVDb2RlcywgIEFuaW1hbFRpc3N1ZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQW5pbWFsVGlzc3VlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbmltYWxUaXNzdWVUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbmltYWxUaXNzdWVUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUYXJnZXRTcGVjaWVzQ29kZXMsICBUYXJnZXRTcGVjaWVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RhcmdldFNwZWNpZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGFyZ2V0U3BlY2llc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGFyZ2V0U3BlY2llc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUm91dGVDb2RlcywgIFJvdXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JvdXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJvdXRlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Sb3V0ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWRtaW5pc3RyYWJsZURvc2VGb3JtQ29kZXMsICBBZG1pbmlzdHJhYmxlRG9zZUZvcm1Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYWJsZURvc2VGb3JtQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkbWluaXN0cmFibGVEb3NlRm9ybVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYWJsZURvc2VGb3JtVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbml0T2ZQcmVzZW50YXRpb25Db2RlcywgIFVuaXRPZlByZXNlbnRhdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Vbml0T2ZQcmVzZW50YXRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5pdE9mUHJlc2VudGF0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Vbml0T2ZQcmVzZW50YXRpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGUgZXhwcmVzc2luZyB0aGUgdHlwZSBvZiBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlF1YW50aXR5fGZoaXIuRmhpckRhdGV8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkF0dGFjaG1lbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB2YWx1ZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVBdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiBjaGFyYWN0ZXJpc3RpYyBlLmcuIGFzc2lnbmVkIG9yIHBlbmRpbmcuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoYXJhY3RlcmlzdGljcyBlLmcuIGEgcHJvZHVjdCdzIG9uc2V0IG9mIGFjdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblByb3BlcnR5JztcclxuICAvKipcclxuICAgKiBBIGNvZGUgZXhwcmVzc2luZyB0aGUgdHlwZSBvZiBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlPzogKGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUXVhbnRpdHl8Zmhpci5GaGlyRGF0ZXxmaGlyLkZoaXJCb29sZWFufGZoaXIuQXR0YWNobWVudCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnByb3BlcnR5LnZhbHVlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3ZhbHVlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiBjaGFyYWN0ZXJpc3RpYyBlLmcuIGFzc2lnbmVkIG9yIHBlbmRpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblByb3BlcnR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gc291cmNlLnZhbHVlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmFsdWVDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlUXVhbnRpdHknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnZhbHVlUXVhbnRpdHkpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlRGF0ZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyRGF0ZSh7dmFsdWU6IHNvdXJjZS52YWx1ZURhdGV9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUJvb2xlYW4nXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UudmFsdWVCb29sZWFufSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVBdHRhY2htZW50J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkF0dGFjaG1lbnQoc291cmNlLnZhbHVlQXR0YWNobWVudCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zdGF0dXMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnByb3BlcnR5JyB9XHJcbiAgICB0aGlzLnZSUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3ZhbHVlJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ3N0YXR1cycsZXhwLCdQdWJsaWNhdGlvblN0YXR1cycsUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNXaXRoZHJhd2FsUGVyaW9kIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNXaXRoZHJhd2FsUGVyaW9kQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgZXhwcmVzc2lvbiBmb3IgdGhlIHR5cGUgb2YgdGlzc3VlIGZvciB3aGljaCB0aGUgd2l0aGRyYXdhbCBwZXJpb2QgYXBwbGllcywgZS5nLiBtZWF0LCBtaWxrLlxyXG4gICAqL1xyXG4gIHRpc3N1ZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIHRpbWUuXHJcbiAgICovXHJcbiAgdmFsdWU6IGZoaXIuUXVhbnRpdHlBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRXh0cmEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHdpdGhkcmF3YWwgcGVyaW9kLlxyXG4gICAqL1xyXG4gIHN1cHBvcnRpbmdJbmZvcm1hdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24ucm91dGVPZkFkbWluaXN0cmF0aW9uLnRhcmdldFNwZWNpZXMud2l0aGRyYXdhbFBlcmlvZC5zdXBwb3J0aW5nSW5mb3JtYXRpb25cclxuICAgKi9cclxuICBfc3VwcG9ydGluZ0luZm9ybWF0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc3BlY2llcyBzcGVjaWZpYyB0aW1lIGR1cmluZyB3aGljaCBjb25zdW1wdGlvbiBvZiBhbmltYWwgcHJvZHVjdCBpcyBub3QgYXBwcm9wcmlhdGUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1dpdGhkcmF3YWxQZXJpb2QgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZCc7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgZXhwcmVzc2lvbiBmb3IgdGhlIHR5cGUgb2YgdGlzc3VlIGZvciB3aGljaCB0aGUgd2l0aGRyYXdhbCBwZXJpb2QgYXBwbGllcywgZS5nLiBtZWF0LCBtaWxrLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0aXNzdWU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIHRpbWUuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlOiBmaGlyLlF1YW50aXR5fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRXh0cmEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHdpdGhkcmF3YWwgcGVyaW9kLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdXBwb3J0aW5nSW5mb3JtYXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNXaXRoZHJhd2FsUGVyaW9kIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1dpdGhkcmF3YWxQZXJpb2RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndGlzc3VlJ10pIHsgdGhpcy50aXNzdWUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnRpc3N1ZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRpc3N1ZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS52YWx1ZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3VwcG9ydGluZ0luZm9ybWF0aW9uJ10pIHsgdGhpcy5zdXBwb3J0aW5nSW5mb3JtYXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnN1cHBvcnRpbmdJbmZvcm1hdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3VwcG9ydGluZ0luZm9ybWF0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3VwcG9ydGluZ0luZm9ybWF0aW9uKSB7IHRoaXMuc3VwcG9ydGluZ0luZm9ybWF0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N1cHBvcnRpbmdJbmZvcm1hdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN1cHBvcnRpbmdJbmZvcm1hdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9zdXBwb3J0aW5nSW5mb3JtYXRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24ucm91dGVPZkFkbWluaXN0cmF0aW9uLnRhcmdldFNwZWNpZXMud2l0aGRyYXdhbFBlcmlvZCcgfVxyXG4gICAgdGhpcy52UlMoJ3Rpc3N1ZScsZXhwKVxyXG4gICAgdGhpcy52UlMoJ3ZhbHVlJyxleHApXHJcbiAgICB0aGlzLnZPUygnc3VwcG9ydGluZ0luZm9ybWF0aW9uJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llcyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgZXhwcmVzc2lvbiBmb3IgdGhlIHNwZWNpZXMuXHJcbiAgICovXHJcbiAgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWVzIHNwZWNpZmljIHRpbWUgZHVyaW5nIHdoaWNoIGNvbnN1bXB0aW9uIG9mIGFuaW1hbCBwcm9kdWN0IGlzIG5vdCBhcHByb3ByaWF0ZS5cclxuICAgKi9cclxuICB3aXRoZHJhd2FsUGVyaW9kPzogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNwZWNpZXMgZm9yIHdoaWNoIHRoaXMgcm91dGUgYXBwbGllcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llcyc7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgZXhwcmVzc2lvbiBmb3IgdGhlIHNwZWNpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWVzIHNwZWNpZmljIHRpbWUgZHVyaW5nIHdoaWNoIGNvbnN1bXB0aW9uIG9mIGFuaW1hbCBwcm9kdWN0IGlzIG5vdCBhcHByb3ByaWF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgd2l0aGRyYXdhbFBlcmlvZDogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2l0aGRyYXdhbFBlcmlvZCddKSB7IHRoaXMud2l0aGRyYXdhbFBlcmlvZCA9IHNvdXJjZS53aXRoZHJhd2FsUGVyaW9kLm1hcCgoeCkgPT4gbmV3IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1dpdGhkcmF3YWxQZXJpb2QoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy53aXRoZHJhd2FsUGVyaW9kID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24ucm91dGVPZkFkbWluaXN0cmF0aW9uLnRhcmdldFNwZWNpZXMnIH1cclxuICAgIHRoaXMudlJTKCdjb2RlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnd2l0aGRyYXdhbFBlcmlvZCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBDb2RlZCBleHByZXNzaW9uIGZvciB0aGUgcm91dGUuXHJcbiAgICovXHJcbiAgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZpcnN0IGRvc2UgKGRvc2UgcXVhbnRpdHkpIGFkbWluaXN0ZXJlZCBjYW4gYmUgc3BlY2lmaWVkIGZvciB0aGUgcHJvZHVjdCwgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgYW5kIGl0cyB1bml0IG9mIG1lYXN1cmVtZW50LlxyXG4gICAqL1xyXG4gIGZpcnN0RG9zZT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBzaW5nbGUgZG9zZSB0aGF0IGNhbiBiZSBhZG1pbmlzdGVyZWQsIHNwZWNpZmllZCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBhbmQgaXRzIHVuaXQgb2YgbWVhc3VyZW1lbnQuXHJcbiAgICovXHJcbiAgbWF4U2luZ2xlRG9zZT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBkb3NlIHBlciBkYXkgKG1heGltdW0gZG9zZSBxdWFudGl0eSB0byBiZSBhZG1pbmlzdGVyZWQgaW4gYW55IG9uZSAyNC1oIHBlcmlvZCkgdGhhdCBjYW4gYmUgYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIG1heERvc2VQZXJEYXk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gZG9zZSBwZXIgdHJlYXRtZW50IHBlcmlvZCB0aGF0IGNhbiBiZSBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgbWF4RG9zZVBlclRyZWF0bWVudFBlcmlvZD86IGZoaXIuUmF0aW9BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSB0cmVhdG1lbnQgcGVyaW9kIGR1cmluZyB3aGljaCB0aGUgcHJvZHVjdCBjYW4gYmUgYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIG1heFRyZWF0bWVudFBlcmlvZD86IGZoaXIuRHVyYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNwZWNpZXMgZm9yIHdoaWNoIHRoaXMgcm91dGUgYXBwbGllcy5cclxuICAgKi9cclxuICB0YXJnZXRTcGVjaWVzPzogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwYXRoIGJ5IHdoaWNoIHRoZSBwcm9kdWN0IGlzIHRha2VuIGludG8gb3IgbWFrZXMgY29udGFjdCB3aXRoIHRoZSBib2R5LiBJbiBzb21lIHJlZ2lvbnMgdGhpcyBpcyByZWZlcnJlZCB0byBhcyB0aGUgbGljZW5jZWQgb3IgYXBwcm92ZWQgcm91dGUuIFJvdXRlT2ZBZG1pbmlzdHJhdGlvbiBjYW5ub3QgYmUgdXNlZCB3aGVuIHRoZSAnZm9ybU9mJyBwcm9kdWN0IGFscmVhZHkgdXNlcyBNZWRpY2luYWxQcm9kdWN0RGVmaW5pdGlvbi5yb3V0ZSAoYW5kIHZpY2UgdmVyc2EpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgZXhwcmVzc2lvbiBmb3IgdGhlIHJvdXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmaXJzdCBkb3NlIChkb3NlIHF1YW50aXR5KSBhZG1pbmlzdGVyZWQgY2FuIGJlIHNwZWNpZmllZCBmb3IgdGhlIHByb2R1Y3QsIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGFuZCBpdHMgdW5pdCBvZiBtZWFzdXJlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZmlyc3REb3NlPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gc2luZ2xlIGRvc2UgdGhhdCBjYW4gYmUgYWRtaW5pc3RlcmVkLCBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgYW5kIGl0cyB1bml0IG9mIG1lYXN1cmVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhTaW5nbGVEb3NlPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gZG9zZSBwZXIgZGF5IChtYXhpbXVtIGRvc2UgcXVhbnRpdHkgdG8gYmUgYWRtaW5pc3RlcmVkIGluIGFueSBvbmUgMjQtaCBwZXJpb2QpIHRoYXQgY2FuIGJlIGFkbWluaXN0ZXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4RG9zZVBlckRheT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIGRvc2UgcGVyIHRyZWF0bWVudCBwZXJpb2QgdGhhdCBjYW4gYmUgYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhEb3NlUGVyVHJlYXRtZW50UGVyaW9kPzogZmhpci5SYXRpb3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gdHJlYXRtZW50IHBlcmlvZCBkdXJpbmcgd2hpY2ggdGhlIHByb2R1Y3QgY2FuIGJlIGFkbWluaXN0ZXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4VHJlYXRtZW50UGVyaW9kPzogZmhpci5EdXJhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWVzIGZvciB3aGljaCB0aGlzIHJvdXRlIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHRhcmdldFNwZWNpZXM6IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1tdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb2RlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZpcnN0RG9zZSddKSB7IHRoaXMuZmlyc3REb3NlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmZpcnN0RG9zZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21heFNpbmdsZURvc2UnXSkgeyB0aGlzLm1heFNpbmdsZURvc2UgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UubWF4U2luZ2xlRG9zZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21heERvc2VQZXJEYXknXSkgeyB0aGlzLm1heERvc2VQZXJEYXkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UubWF4RG9zZVBlckRheSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21heERvc2VQZXJUcmVhdG1lbnRQZXJpb2QnXSkgeyB0aGlzLm1heERvc2VQZXJUcmVhdG1lbnRQZXJpb2QgPSBuZXcgZmhpci5SYXRpbyhzb3VyY2UubWF4RG9zZVBlclRyZWF0bWVudFBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21heFRyZWF0bWVudFBlcmlvZCddKSB7IHRoaXMubWF4VHJlYXRtZW50UGVyaW9kID0gbmV3IGZoaXIuRHVyYXRpb24oc291cmNlLm1heFRyZWF0bWVudFBlcmlvZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldFNwZWNpZXMnXSkgeyB0aGlzLnRhcmdldFNwZWNpZXMgPSBzb3VyY2UudGFyZ2V0U3BlY2llcy5tYXAoKHgpID0+IG5ldyBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXMoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50YXJnZXRTcGVjaWVzID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24ucm91dGVPZkFkbWluaXN0cmF0aW9uJyB9XHJcbiAgICB0aGlzLnZSUygnY29kZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2ZpcnN0RG9zZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ21heFNpbmdsZURvc2UnLGV4cClcclxuICAgIHRoaXMudk9TKCdtYXhEb3NlUGVyRGF5JyxleHApXHJcbiAgICB0aGlzLnZPUygnbWF4RG9zZVBlclRyZWF0bWVudFBlcmlvZCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ21heFRyZWF0bWVudFBlcmlvZCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3RhcmdldFNwZWNpZXMnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoZSBhZG1pbmlzdHJhYmxlIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiBhZG1pbmlzdHJhYmxlIHByb2R1Y3RzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZXMgYSBwcm9kdWN0IGZyb20gd2hpY2ggb25lIG9yIG1vcmUgb2YgdGhlIGNvbnN0aXR1ZW50IHBhcnRzIG9mIHRoYXQgcHJvZHVjdCBjYW4gYmUgcHJlcGFyZWQgYW5kIHVzZWQgYXMgZGVzY3JpYmVkIGJ5IHRoaXMgYWRtaW5pc3RyYWJsZSBwcm9kdWN0LiAgSWYgdGhpcyBhZG1pbmlzdHJhYmxlIHByb2R1Y3QgZGVzY3JpYmVzIHRoZSBhZG1pbmlzdHJhdGlvbiBvZiBhIGNydXNoZWQgdGFibGV0LCB0aGUgJ2Zvcm1PZicgd291bGQgYmUgdGhlIHByb2R1Y3QgcmVwcmVzZW50aW5nIGEgZGlzdHJpYnV0aW9uIGNvbnRhaW5pbmcgdGFibGV0cyBhbmQgcG9zc2libHkgYWxzbyBhIGNyZWFtLiAgVGhpcyBpcyBkaXN0aW5jdCBmcm9tIHRoZSAncHJvZHVjZWRGcm9tJyB3aGljaCByZWZlcnMgdG8gdGhlIHNwZWNpZmljIGNvbXBvbmVudHMgb2YgdGhlIHByb2R1Y3QgdGhhdCBhcmUgdXNlZCBpbiB0aGlzIHByZXBhcmF0aW9uLCByYXRoZXIgdGhhbiB0aGUgcHJvZHVjdCBhcyBhIHdob2xlLlxyXG4gICAqL1xyXG4gIGZvcm1PZj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZG9zZSBmb3JtIG9mIHRoZSBmaW5hbCBwcm9kdWN0IGFmdGVyIG5lY2Vzc2FyeSByZWNvbnN0aXR1dGlvbiBvciBwcm9jZXNzaW5nLiBDb250cmFzdHMgdG8gdGhlIG1hbnVmYWN0dXJlZCBkb3NlIGZvcm0gKHNlZSBNYW51ZmFjdHVyZWRJdGVtRGVmaW5pdGlvbikuIElmIHRoZSBtYW51ZmFjdHVyZWQgZm9ybSB3YXMgJ3Bvd2RlciBmb3Igc29sdXRpb24gZm9yIGluamVjdGlvbicsIHRoZSBhZG1pbmlzdHJhYmxlIGRvc2UgZm9ybSBjb3VsZCBiZSAnc29sdXRpb24gZm9yIGluamVjdGlvbicgKG9uY2UgbWl4ZWQgd2l0aCBhbm90aGVyIGl0ZW0gaGF2aW5nIG1hbnVmYWN0dXJlZCBmb3JtICdzb2x2ZW50IGZvciBzb2x1dGlvbiBmb3IgaW5qZWN0aW9uJykuXHJcbiAgICovXHJcbiAgYWRtaW5pc3RyYWJsZURvc2VGb3JtPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJlc2VudGF0aW9uIHR5cGUgaW4gd2hpY2ggdGhpcyBpdGVtIGlzIGdpdmVuIHRvIGEgcGF0aWVudC4gZS5nLiBmb3IgYSBzcHJheSAtICdwdWZmJyAoYXMgaW4gJ2NvbnRhaW5zIDEwMCBtY2cgcGVyIHB1ZmYnKSwgb3IgZm9yIGEgbGlxdWlkIC0gJ3ZpYWwnIChhcyBpbiAnY29udGFpbnMgNSBtbCBwZXIgdmlhbCcpLlxyXG4gICAqL1xyXG4gIHVuaXRPZlByZXNlbnRhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSBzcGVjaWZpYyBtYW51ZmFjdHVyZWQgaXRlbXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgJ2Zvcm1PZicgcHJvZHVjdCB0aGF0IGFyZSB1c2VkIGluIHRoZSBwcmVwYXJhdGlvbiBvZiB0aGlzIHNwZWNpZmljIGFkbWluaXN0cmFibGUgZm9ybS4gIEluIHNvbWUgY2FzZXMsIGFuIGFkbWluaXN0cmFibGUgZm9ybSBtaWdodCB1c2UgYWxsIG9mIHRoZSBpdGVtcyBmcm9tIHRoZSBvdmVyYWxsIHByb2R1Y3QgKG9yIHRoZXJlIG1pZ2h0IG9ubHkgYmUgb25lIGl0ZW0pLCB3aGlsZSBpbiBvdGhlciBjYXNlcywgYW4gYWRtaW5pc3RyYWJsZSBmb3JtIG1pZ2h0IHVzZSBvbmx5IGEgc3Vic2V0IG9mIHRoZSBpdGVtcyBhdmFpbGFibGUgaW4gdGhlIG92ZXJhbGwgcHJvZHVjdC4gIEZvciBleGFtcGxlLCBhbiBhZG1pbmlzdHJhYmxlIGZvcm0gbWlnaHQgaW52b2x2ZSBjb21iaW5pbmcgYSBsaXF1aWQgYW5kIGEgcG93ZGVyIGF2YWlsYWJsZSBhcyBwYXJ0IG9mIGFuIG92ZXJhbGwgcHJvZHVjdCwgYnV0IG5vdCBpbnZvbHZlIGFwcGx5aW5nIHRoZSBhbHNvIHN1cHBsaWVkIGNyZWFtLlxyXG4gICAqL1xyXG4gIHByb2R1Y2VkRnJvbT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5ncmVkaWVudHMgb2YgdGhpcyBhZG1pbmlzdHJhYmxlIG1lZGljaW5hbCBwcm9kdWN0LiBUaGlzIGlzIG9ubHkgbmVlZGVkIGlmIHRoZSBpbmdyZWRpZW50cyBhcmUgbm90IHNwZWNpZmllZCBlaXRoZXIgdXNpbmcgTWFudWZhY3R1cmVkSXRlbURlZmluaXRvbiAodmlhIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbi5wcm9kdWNlZEZyb20pIHRvIHN0YXRlIHdoaWNoIGNvbXBvbmVudCBpdGVtcyBhcmUgdXNlZCB0byBtYWtlIHRoaXMsIG9yIHVzaW5nIGJ5IGluY29taW5nIHJlZmVyZW5jZXMgZnJvbSB0aGUgSW5ncmVkaWVudCByZXNvdXJjZSwgdG8gc3RhdGUgaW4gZGV0YWlsIHdoaWNoIHN1YnN0YW5jZXMgZXhpc3Qgd2l0aGluIHRoaXMuIFRoaXMgZWxlbWVudCBhbGxvd3MgYSBiYXNpYyBjb2RlZCBpbmdyZWRpZW50IHRvIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgaW5ncmVkaWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRldmljZSB0aGF0IGlzIGludGVncmFsIHRvIHRoZSBtZWRpY2luYWwgcHJvZHVjdCwgaW4gZWZmZWN0IGJlaW5nIGNvbnNpZGVyZWQgYXMgYW4gXCJpbmdyZWRpZW50XCIgb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0LiBUaGlzIGlzIG5vdCBpbnRlbmRlZCBmb3IgZGV2aWNlcyB0aGF0IGFyZSBqdXN0IGNvLXBhY2thZ2VkLlxyXG4gICAqL1xyXG4gIGRldmljZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2hhcmFjdGVyaXN0aWNzIGUuZy4gYSBwcm9kdWN0J3Mgb25zZXQgb2YgYWN0aW9uLlxyXG4gICAqL1xyXG4gIHByb3BlcnR5PzogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGggYnkgd2hpY2ggdGhlIHByb2R1Y3QgaXMgdGFrZW4gaW50byBvciBtYWtlcyBjb250YWN0IHdpdGggdGhlIGJvZHkuIEluIHNvbWUgcmVnaW9ucyB0aGlzIGlzIHJlZmVycmVkIHRvIGFzIHRoZSBsaWNlbmNlZCBvciBhcHByb3ZlZCByb3V0ZS4gUm91dGVPZkFkbWluaXN0cmF0aW9uIGNhbm5vdCBiZSB1c2VkIHdoZW4gdGhlICdmb3JtT2YnIHByb2R1Y3QgYWxyZWFkeSB1c2VzIE1lZGljaW5hbFByb2R1Y3REZWZpbml0aW9uLnJvdXRlIChhbmQgdmljZSB2ZXJzYSkuXHJcbiAgICovXHJcbiAgcm91dGVPZkFkbWluaXN0cmF0aW9uOiBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbkFyZ3NbXXxudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQSBtZWRpY2luYWwgcHJvZHVjdCBpbiB0aGUgZmluYWwgZm9ybSB3aGljaCBpcyBzdWl0YWJsZSBmb3IgYWRtaW5pc3RlcmluZyB0byBhIHBhdGllbnQgKGFmdGVyIGFueSBtaXhpbmcgb2YgbXVsdGlwbGUgY29tcG9uZW50cywgZGlzc29sdXRpb24gZXRjLiBoYXMgYmVlbiBwZXJmb3JtZWQpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbiBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblwiO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoZSBhZG1pbmlzdHJhYmxlIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgYWRtaW5pc3RyYWJsZSBwcm9kdWN0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZXMgYSBwcm9kdWN0IGZyb20gd2hpY2ggb25lIG9yIG1vcmUgb2YgdGhlIGNvbnN0aXR1ZW50IHBhcnRzIG9mIHRoYXQgcHJvZHVjdCBjYW4gYmUgcHJlcGFyZWQgYW5kIHVzZWQgYXMgZGVzY3JpYmVkIGJ5IHRoaXMgYWRtaW5pc3RyYWJsZSBwcm9kdWN0LiAgSWYgdGhpcyBhZG1pbmlzdHJhYmxlIHByb2R1Y3QgZGVzY3JpYmVzIHRoZSBhZG1pbmlzdHJhdGlvbiBvZiBhIGNydXNoZWQgdGFibGV0LCB0aGUgJ2Zvcm1PZicgd291bGQgYmUgdGhlIHByb2R1Y3QgcmVwcmVzZW50aW5nIGEgZGlzdHJpYnV0aW9uIGNvbnRhaW5pbmcgdGFibGV0cyBhbmQgcG9zc2libHkgYWxzbyBhIGNyZWFtLiAgVGhpcyBpcyBkaXN0aW5jdCBmcm9tIHRoZSAncHJvZHVjZWRGcm9tJyB3aGljaCByZWZlcnMgdG8gdGhlIHNwZWNpZmljIGNvbXBvbmVudHMgb2YgdGhlIHByb2R1Y3QgdGhhdCBhcmUgdXNlZCBpbiB0aGlzIHByZXBhcmF0aW9uLCByYXRoZXIgdGhhbiB0aGUgcHJvZHVjdCBhcyBhIHdob2xlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb3JtT2Y6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvc2UgZm9ybSBvZiB0aGUgZmluYWwgcHJvZHVjdCBhZnRlciBuZWNlc3NhcnkgcmVjb25zdGl0dXRpb24gb3IgcHJvY2Vzc2luZy4gQ29udHJhc3RzIHRvIHRoZSBtYW51ZmFjdHVyZWQgZG9zZSBmb3JtIChzZWUgTWFudWZhY3R1cmVkSXRlbURlZmluaXRpb24pLiBJZiB0aGUgbWFudWZhY3R1cmVkIGZvcm0gd2FzICdwb3dkZXIgZm9yIHNvbHV0aW9uIGZvciBpbmplY3Rpb24nLCB0aGUgYWRtaW5pc3RyYWJsZSBkb3NlIGZvcm0gY291bGQgYmUgJ3NvbHV0aW9uIGZvciBpbmplY3Rpb24nIChvbmNlIG1peGVkIHdpdGggYW5vdGhlciBpdGVtIGhhdmluZyBtYW51ZmFjdHVyZWQgZm9ybSAnc29sdmVudCBmb3Igc29sdXRpb24gZm9yIGluamVjdGlvbicpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZG1pbmlzdHJhYmxlRG9zZUZvcm0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByZXNlbnRhdGlvbiB0eXBlIGluIHdoaWNoIHRoaXMgaXRlbSBpcyBnaXZlbiB0byBhIHBhdGllbnQuIGUuZy4gZm9yIGEgc3ByYXkgLSAncHVmZicgKGFzIGluICdjb250YWlucyAxMDAgbWNnIHBlciBwdWZmJyksIG9yIGZvciBhIGxpcXVpZCAtICd2aWFsJyAoYXMgaW4gJ2NvbnRhaW5zIDUgbWwgcGVyIHZpYWwnKS5cclxuICAgKi9cclxuICBwdWJsaWMgdW5pdE9mUHJlc2VudGF0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgc3BlY2lmaWMgbWFudWZhY3R1cmVkIGl0ZW1zIHRoYXQgYXJlIHBhcnQgb2YgdGhlICdmb3JtT2YnIHByb2R1Y3QgdGhhdCBhcmUgdXNlZCBpbiB0aGUgcHJlcGFyYXRpb24gb2YgdGhpcyBzcGVjaWZpYyBhZG1pbmlzdHJhYmxlIGZvcm0uICBJbiBzb21lIGNhc2VzLCBhbiBhZG1pbmlzdHJhYmxlIGZvcm0gbWlnaHQgdXNlIGFsbCBvZiB0aGUgaXRlbXMgZnJvbSB0aGUgb3ZlcmFsbCBwcm9kdWN0IChvciB0aGVyZSBtaWdodCBvbmx5IGJlIG9uZSBpdGVtKSwgd2hpbGUgaW4gb3RoZXIgY2FzZXMsIGFuIGFkbWluaXN0cmFibGUgZm9ybSBtaWdodCB1c2Ugb25seSBhIHN1YnNldCBvZiB0aGUgaXRlbXMgYXZhaWxhYmxlIGluIHRoZSBvdmVyYWxsIHByb2R1Y3QuICBGb3IgZXhhbXBsZSwgYW4gYWRtaW5pc3RyYWJsZSBmb3JtIG1pZ2h0IGludm9sdmUgY29tYmluaW5nIGEgbGlxdWlkIGFuZCBhIHBvd2RlciBhdmFpbGFibGUgYXMgcGFydCBvZiBhbiBvdmVyYWxsIHByb2R1Y3QsIGJ1dCBub3QgaW52b2x2ZSBhcHBseWluZyB0aGUgYWxzbyBzdXBwbGllZCBjcmVhbS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZHVjZWRGcm9tOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmdyZWRpZW50cyBvZiB0aGlzIGFkbWluaXN0cmFibGUgbWVkaWNpbmFsIHByb2R1Y3QuIFRoaXMgaXMgb25seSBuZWVkZWQgaWYgdGhlIGluZ3JlZGllbnRzIGFyZSBub3Qgc3BlY2lmaWVkIGVpdGhlciB1c2luZyBNYW51ZmFjdHVyZWRJdGVtRGVmaW5pdG9uICh2aWEgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnByb2R1Y2VkRnJvbSkgdG8gc3RhdGUgd2hpY2ggY29tcG9uZW50IGl0ZW1zIGFyZSB1c2VkIHRvIG1ha2UgdGhpcywgb3IgdXNpbmcgYnkgaW5jb21pbmcgcmVmZXJlbmNlcyBmcm9tIHRoZSBJbmdyZWRpZW50IHJlc291cmNlLCB0byBzdGF0ZSBpbiBkZXRhaWwgd2hpY2ggc3Vic3RhbmNlcyBleGlzdCB3aXRoaW4gdGhpcy4gVGhpcyBlbGVtZW50IGFsbG93cyBhIGJhc2ljIGNvZGVkIGluZ3JlZGllbnQgdG8gYmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaW5ncmVkaWVudDogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBBIGRldmljZSB0aGF0IGlzIGludGVncmFsIHRvIHRoZSBtZWRpY2luYWwgcHJvZHVjdCwgaW4gZWZmZWN0IGJlaW5nIGNvbnNpZGVyZWQgYXMgYW4gXCJpbmdyZWRpZW50XCIgb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0LiBUaGlzIGlzIG5vdCBpbnRlbmRlZCBmb3IgZGV2aWNlcyB0aGF0IGFyZSBqdXN0IGNvLXBhY2thZ2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXZpY2U/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2hhcmFjdGVyaXN0aWNzIGUuZy4gYSBwcm9kdWN0J3Mgb25zZXQgb2YgYWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9wZXJ0eTogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRoIGJ5IHdoaWNoIHRoZSBwcm9kdWN0IGlzIHRha2VuIGludG8gb3IgbWFrZXMgY29udGFjdCB3aXRoIHRoZSBib2R5LiBJbiBzb21lIHJlZ2lvbnMgdGhpcyBpcyByZWZlcnJlZCB0byBhcyB0aGUgbGljZW5jZWQgb3IgYXBwcm92ZWQgcm91dGUuIFJvdXRlT2ZBZG1pbmlzdHJhdGlvbiBjYW5ub3QgYmUgdXNlZCB3aGVuIHRoZSAnZm9ybU9mJyBwcm9kdWN0IGFscmVhZHkgdXNlcyBNZWRpY2luYWxQcm9kdWN0RGVmaW5pdGlvbi5yb3V0ZSAoYW5kIHZpY2UgdmVyc2EpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb3V0ZU9mQWRtaW5pc3RyYXRpb246IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbic7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydmb3JtT2YnXSkgeyB0aGlzLmZvcm1PZiA9IHNvdXJjZS5mb3JtT2YubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5mb3JtT2YgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRtaW5pc3RyYWJsZURvc2VGb3JtJ10pIHsgdGhpcy5hZG1pbmlzdHJhYmxlRG9zZUZvcm0gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmFkbWluaXN0cmFibGVEb3NlRm9ybSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VuaXRPZlByZXNlbnRhdGlvbiddKSB7IHRoaXMudW5pdE9mUHJlc2VudGF0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS51bml0T2ZQcmVzZW50YXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9kdWNlZEZyb20nXSkgeyB0aGlzLnByb2R1Y2VkRnJvbSA9IHNvdXJjZS5wcm9kdWNlZEZyb20ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9kdWNlZEZyb20gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5ncmVkaWVudCddKSB7IHRoaXMuaW5ncmVkaWVudCA9IHNvdXJjZS5pbmdyZWRpZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW5ncmVkaWVudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXZpY2UnXSkgeyB0aGlzLmRldmljZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZGV2aWNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvcGVydHknXSkgeyB0aGlzLnByb3BlcnR5ID0gc291cmNlLnByb3BlcnR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9wZXJ0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyb3V0ZU9mQWRtaW5pc3RyYXRpb24nXSkgeyB0aGlzLnJvdXRlT2ZBZG1pbmlzdHJhdGlvbiA9IHNvdXJjZS5yb3V0ZU9mQWRtaW5pc3RyYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yb3V0ZU9mQWRtaW5pc3RyYXRpb24gPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbicgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudlJTVignc3RhdHVzJyxleHAsJ1B1YmxpY2F0aW9uU3RhdHVzJyxQdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPQSgnZm9ybU9mJyxleHApXHJcbiAgICB0aGlzLnZPUygnYWRtaW5pc3RyYWJsZURvc2VGb3JtJyxleHApXHJcbiAgICB0aGlzLnZPUygndW5pdE9mUHJlc2VudGF0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPQSgncHJvZHVjZWRGcm9tJyxleHApXHJcbiAgICB0aGlzLnZPQSgnaW5ncmVkaWVudCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RldmljZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3Byb3BlcnR5JyxleHApXHJcbiAgICB0aGlzLnZSQSgncm91dGVPZkFkbWluaXN0cmF0aW9uJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=