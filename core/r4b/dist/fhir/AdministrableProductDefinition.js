// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: AdministrableProductDefinition
import * as fhir from '../fhir.js';
// @ts-ignore
import { PublicationStatusVsValidation } from '../fhirValueSets/PublicationStatusVsValidation.js';
/**
 * Characteristics e.g. a product's onset of action.
 */
export class AdministrableProductDefinitionProperty extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionProperty - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept, options);
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity, options);
        }
        else if (source['valueDate'] !== undefined) {
            this.value = new fhir.FhirDate({ value: source.valueDate }, options);
        }
        else if (source['valueBoolean'] !== undefined) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean }, options);
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment, options);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.property';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOS('value', exp));
        iss.push(...this.vOSV('status', exp, 'PublicationStatus', PublicationStatusVsValidation, 'r'));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionProperty._fts_dataType = 'AdministrableProductDefinitionProperty';
/**
 * Internal flag to properly serialize choice-type element AdministrableProductDefinition.property.value[x]
 */
AdministrableProductDefinitionProperty._fts_valueIsChoice = true;
/**
 * A species specific time during which consumption of animal product is not appropriate.
 */
export class AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['tissue']) {
            this.tissue = new fhir.CodeableConcept(source.tissue, options);
        }
        else {
            this.tissue = null;
        }
        if (source['value']) {
            this.value = new fhir.Quantity(source.value, options);
        }
        else {
            this.value = null;
        }
        if (source['supportingInformation'] !== undefined) {
            this.supportingInformation = new fhir.FhirString({ value: source.supportingInformation }, options);
        }
        if (source['_supportingInformation']) {
            if (this.supportingInformation) {
                this.supportingInformation.addExtendedProperties(source._supportingInformation);
            }
            else {
                this.supportingInformation = new fhir.FhirString(source._supportingInformation, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration.targetSpecies.withdrawalPeriod';
        }
        iss.push(...this.vRS('tissue', exp));
        iss.push(...this.vRS('value', exp));
        iss.push(...this.vOS('supportingInformation', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod';
/**
 * A species for which this route applies.
 */
export class AdministrableProductDefinitionRouteOfAdministrationTargetSpecies extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministrationTargetSpecies - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code, options);
        }
        else {
            this.code = null;
        }
        if (source['withdrawalPeriod']) {
            this.withdrawalPeriod = source.withdrawalPeriod.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod(x, options));
        }
        else {
            this.withdrawalPeriod = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration.targetSpecies';
        }
        iss.push(...this.vRS('code', exp));
        iss.push(...this.vOA('withdrawalPeriod', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministrationTargetSpecies._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministrationTargetSpecies';
/**
 * The path by which the product is taken into or makes contact with the body. In some regions this is referred to as the licenced or approved route. RouteOfAdministration cannot be used when the 'formOf' product already uses MedicinalProductDefinition.route (and vice versa).
 */
export class AdministrableProductDefinitionRouteOfAdministration extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministration - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code, options);
        }
        else {
            this.code = null;
        }
        if (source['firstDose']) {
            this.firstDose = new fhir.Quantity(source.firstDose, options);
        }
        if (source['maxSingleDose']) {
            this.maxSingleDose = new fhir.Quantity(source.maxSingleDose, options);
        }
        if (source['maxDosePerDay']) {
            this.maxDosePerDay = new fhir.Quantity(source.maxDosePerDay, options);
        }
        if (source['maxDosePerTreatmentPeriod']) {
            this.maxDosePerTreatmentPeriod = new fhir.Ratio(source.maxDosePerTreatmentPeriod, options);
        }
        if (source['maxTreatmentPeriod']) {
            this.maxTreatmentPeriod = new fhir.Duration(source.maxTreatmentPeriod, options);
        }
        if (source['targetSpecies']) {
            this.targetSpecies = source.targetSpecies.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministrationTargetSpecies(x, options));
        }
        else {
            this.targetSpecies = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration';
        }
        iss.push(...this.vRS('code', exp));
        iss.push(...this.vOS('firstDose', exp));
        iss.push(...this.vOS('maxSingleDose', exp));
        iss.push(...this.vOS('maxDosePerDay', exp));
        iss.push(...this.vOS('maxDosePerTreatmentPeriod', exp));
        iss.push(...this.vOS('maxTreatmentPeriod', exp));
        iss.push(...this.vOA('targetSpecies', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministration._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministration';
/**
 * A medicinal product in the final form which is suitable for administering to a patient (after any mixing of multiple components, dissolution etc. has been performed).
 */
export class AdministrableProductDefinition extends fhir.DomainResource {
    /**
     * Default constructor for AdministrableProductDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AdministrableProductDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['formOf']) {
            this.formOf = source.formOf.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.formOf = [];
        }
        if (source['administrableDoseForm']) {
            this.administrableDoseForm = new fhir.CodeableConcept(source.administrableDoseForm, options);
        }
        if (source['unitOfPresentation']) {
            this.unitOfPresentation = new fhir.CodeableConcept(source.unitOfPresentation, options);
        }
        if (source['producedFrom']) {
            this.producedFrom = source.producedFrom.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.producedFrom = [];
        }
        if (source['ingredient']) {
            this.ingredient = source.ingredient.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.ingredient = [];
        }
        if (source['device']) {
            this.device = new fhir.Reference(source.device, options);
        }
        if (source['property']) {
            this.property = source.property.map((x) => new fhir.AdministrableProductDefinitionProperty(x, options));
        }
        else {
            this.property = [];
        }
        if (source['routeOfAdministration']) {
            this.routeOfAdministration = source.routeOfAdministration.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministration(x, options));
        }
        else {
            this.routeOfAdministration = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'PublicationStatus', PublicationStatusVsValidation, 'r'));
        iss.push(...this.vOA('formOf', exp));
        iss.push(...this.vOS('administrableDoseForm', exp));
        iss.push(...this.vOS('unitOfPresentation', exp));
        iss.push(...this.vOA('producedFrom', exp));
        iss.push(...this.vOA('ingredient', exp));
        iss.push(...this.vOS('device', exp));
        iss.push(...this.vOA('property', exp));
        iss.push(...this.vRA('routeOfAdministration', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinition._fts_dataType = 'AdministrableProductDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsZ0RBQWdEO0FBRWhELE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQTJEbEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sc0NBQXVDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQjlFOztPQUVHO0lBQ0gsWUFBWSxTQUE2RCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNuSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQzlFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7U0FBRTtRQUMxQixJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztTQUFFO2FBQzlDLElBQUksTUFBTSxDQUFDLHNCQUFzQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUNwSCxJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJ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dCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25cclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFB1YmxpY2F0aW9uU3RhdHVzQ29kZXMsICBQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QdWJsaWNhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFuaW1hbFRpc3N1ZVR5cGVDb2RlcywgIEFuaW1hbFRpc3N1ZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQW5pbWFsVGlzc3VlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbmltYWxUaXNzdWVUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbmltYWxUaXNzdWVUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUYXJnZXRTcGVjaWVzQ29kZXMsICBUYXJnZXRTcGVjaWVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RhcmdldFNwZWNpZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGFyZ2V0U3BlY2llc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGFyZ2V0U3BlY2llc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUm91dGVDb2RlcywgIFJvdXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JvdXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJvdXRlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Sb3V0ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWRtaW5pc3RyYWJsZURvc2VGb3JtQ29kZXMsICBBZG1pbmlzdHJhYmxlRG9zZUZvcm1Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYWJsZURvc2VGb3JtQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkbWluaXN0cmFibGVEb3NlRm9ybVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYWJsZURvc2VGb3JtVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbml0T2ZQcmVzZW50YXRpb25Db2RlcywgIFVuaXRPZlByZXNlbnRhdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Vbml0T2ZQcmVzZW50YXRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5pdE9mUHJlc2VudGF0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Vbml0T2ZQcmVzZW50YXRpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGUgZXhwcmVzc2luZyB0aGUgdHlwZSBvZiBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlF1YW50aXR5fGZoaXIuRmhpckRhdGV8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkF0dGFjaG1lbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB2YWx1ZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVBdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiBjaGFyYWN0ZXJpc3RpYyBlLmcuIGFzc2lnbmVkIG9yIHBlbmRpbmcuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoYXJhY3RlcmlzdGljcyBlLmcuIGEgcHJvZHVjdCdzIG9uc2V0IG9mIGFjdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblByb3BlcnR5JztcclxuICAvKipcclxuICAgKiBBIGNvZGUgZXhwcmVzc2luZyB0aGUgdHlwZSBvZiBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlPzogKGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUXVhbnRpdHl8Zmhpci5GaGlyRGF0ZXxmaGlyLkZoaXJCb29sZWFufGZoaXIuQXR0YWNobWVudCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnByb3BlcnR5LnZhbHVlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3ZhbHVlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiBjaGFyYWN0ZXJpc3RpYyBlLmcuIGFzc2lnbmVkIG9yIHBlbmRpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblByb3BlcnR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gc291cmNlLnZhbHVlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmFsdWVDb2RlYWJsZUNvbmNlcHQsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlUXVhbnRpdHknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnZhbHVlUXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlRGF0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLnZhbHVlRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQm9vbGVhbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnZhbHVlQm9vbGVhbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQXR0YWNobWVudCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5BdHRhY2htZW50KHNvdXJjZS52YWx1ZUF0dGFjaG1lbnQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbi5wcm9wZXJ0eScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ZhbHVlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignc3RhdHVzJyxleHAsJ1B1YmxpY2F0aW9uU3RhdHVzJyxQdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENvZGVkIGV4cHJlc3Npb24gZm9yIHRoZSB0eXBlIG9mIHRpc3N1ZSBmb3Igd2hpY2ggdGhlIHdpdGhkcmF3YWwgcGVyaW9kIGFwcGxpZXMsIGUuZy4gbWVhdCwgbWlsay5cclxuICAgKi9cclxuICB0aXNzdWU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSB0aW1lLlxyXG4gICAqL1xyXG4gIHZhbHVlOiBmaGlyLlF1YW50aXR5QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEV4dHJhIGluZm9ybWF0aW9uIGFib3V0IHRoZSB3aXRoZHJhd2FsIHBlcmlvZC5cclxuICAgKi9cclxuICBzdXBwb3J0aW5nSW5mb3JtYXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnJvdXRlT2ZBZG1pbmlzdHJhdGlvbi50YXJnZXRTcGVjaWVzLndpdGhkcmF3YWxQZXJpb2Quc3VwcG9ydGluZ0luZm9ybWF0aW9uXHJcbiAgICovXHJcbiAgX3N1cHBvcnRpbmdJbmZvcm1hdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNwZWNpZXMgc3BlY2lmaWMgdGltZSBkdXJpbmcgd2hpY2ggY29uc3VtcHRpb24gb2YgYW5pbWFsIHByb2R1Y3QgaXMgbm90IGFwcHJvcHJpYXRlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNXaXRoZHJhd2FsUGVyaW9kIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1dpdGhkcmF3YWxQZXJpb2QnO1xyXG4gIC8qKlxyXG4gICAqIENvZGVkIGV4cHJlc3Npb24gZm9yIHRoZSB0eXBlIG9mIHRpc3N1ZSBmb3Igd2hpY2ggdGhlIHdpdGhkcmF3YWwgcGVyaW9kIGFwcGxpZXMsIGUuZy4gbWVhdCwgbWlsay5cclxuICAgKi9cclxuICBwdWJsaWMgdGlzc3VlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSB0aW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZTogZmhpci5RdWFudGl0eXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEV4dHJhIGluZm9ybWF0aW9uIGFib3V0IHRoZSB3aXRoZHJhd2FsIHBlcmlvZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VwcG9ydGluZ0luZm9ybWF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNXaXRoZHJhd2FsUGVyaW9kQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3Rpc3N1ZSddKSB7IHRoaXMudGlzc3VlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50aXNzdWUsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50aXNzdWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UudmFsdWUsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1cHBvcnRpbmdJbmZvcm1hdGlvbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zdXBwb3J0aW5nSW5mb3JtYXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnN1cHBvcnRpbmdJbmZvcm1hdGlvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3VwcG9ydGluZ0luZm9ybWF0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3VwcG9ydGluZ0luZm9ybWF0aW9uKSB7IHRoaXMuc3VwcG9ydGluZ0luZm9ybWF0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N1cHBvcnRpbmdJbmZvcm1hdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN1cHBvcnRpbmdJbmZvcm1hdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9zdXBwb3J0aW5nSW5mb3JtYXRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24ucm91dGVPZkFkbWluaXN0cmF0aW9uLnRhcmdldFNwZWNpZXMud2l0aGRyYXdhbFBlcmlvZCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3Rpc3N1ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndmFsdWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3N1cHBvcnRpbmdJbmZvcm1hdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llcyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgZXhwcmVzc2lvbiBmb3IgdGhlIHNwZWNpZXMuXHJcbiAgICovXHJcbiAgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWVzIHNwZWNpZmljIHRpbWUgZHVyaW5nIHdoaWNoIGNvbnN1bXB0aW9uIG9mIGFuaW1hbCBwcm9kdWN0IGlzIG5vdCBhcHByb3ByaWF0ZS5cclxuICAgKi9cclxuICB3aXRoZHJhd2FsUGVyaW9kPzogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNwZWNpZXMgZm9yIHdoaWNoIHRoaXMgcm91dGUgYXBwbGllcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llcyc7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgZXhwcmVzc2lvbiBmb3IgdGhlIHNwZWNpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWVzIHNwZWNpZmljIHRpbWUgZHVyaW5nIHdoaWNoIGNvbnN1bXB0aW9uIG9mIGFuaW1hbCBwcm9kdWN0IGlzIG5vdCBhcHByb3ByaWF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgd2l0aGRyYXdhbFBlcmlvZDogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2l0aGRyYXdhbFBlcmlvZCddKSB7IHRoaXMud2l0aGRyYXdhbFBlcmlvZCA9IHNvdXJjZS53aXRoZHJhd2FsUGVyaW9kLm1hcCgoeCkgPT4gbmV3IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1dpdGhkcmF3YWxQZXJpb2QoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy53aXRoZHJhd2FsUGVyaW9kID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24ucm91dGVPZkFkbWluaXN0cmF0aW9uLnRhcmdldFNwZWNpZXMnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdjb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd3aXRoZHJhd2FsUGVyaW9kJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQ29kZWQgZXhwcmVzc2lvbiBmb3IgdGhlIHJvdXRlLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmaXJzdCBkb3NlIChkb3NlIHF1YW50aXR5KSBhZG1pbmlzdGVyZWQgY2FuIGJlIHNwZWNpZmllZCBmb3IgdGhlIHByb2R1Y3QsIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGFuZCBpdHMgdW5pdCBvZiBtZWFzdXJlbWVudC5cclxuICAgKi9cclxuICBmaXJzdERvc2U/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gc2luZ2xlIGRvc2UgdGhhdCBjYW4gYmUgYWRtaW5pc3RlcmVkLCBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgYW5kIGl0cyB1bml0IG9mIG1lYXN1cmVtZW50LlxyXG4gICAqL1xyXG4gIG1heFNpbmdsZURvc2U/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gZG9zZSBwZXIgZGF5IChtYXhpbXVtIGRvc2UgcXVhbnRpdHkgdG8gYmUgYWRtaW5pc3RlcmVkIGluIGFueSBvbmUgMjQtaCBwZXJpb2QpIHRoYXQgY2FuIGJlIGFkbWluaXN0ZXJlZC5cclxuICAgKi9cclxuICBtYXhEb3NlUGVyRGF5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIGRvc2UgcGVyIHRyZWF0bWVudCBwZXJpb2QgdGhhdCBjYW4gYmUgYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIG1heERvc2VQZXJUcmVhdG1lbnRQZXJpb2Q/OiBmaGlyLlJhdGlvQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gdHJlYXRtZW50IHBlcmlvZCBkdXJpbmcgd2hpY2ggdGhlIHByb2R1Y3QgY2FuIGJlIGFkbWluaXN0ZXJlZC5cclxuICAgKi9cclxuICBtYXhUcmVhdG1lbnRQZXJpb2Q/OiBmaGlyLkR1cmF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWVzIGZvciB3aGljaCB0aGlzIHJvdXRlIGFwcGxpZXMuXHJcbiAgICovXHJcbiAgdGFyZ2V0U3BlY2llcz86IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcGF0aCBieSB3aGljaCB0aGUgcHJvZHVjdCBpcyB0YWtlbiBpbnRvIG9yIG1ha2VzIGNvbnRhY3Qgd2l0aCB0aGUgYm9keS4gSW4gc29tZSByZWdpb25zIHRoaXMgaXMgcmVmZXJyZWQgdG8gYXMgdGhlIGxpY2VuY2VkIG9yIGFwcHJvdmVkIHJvdXRlLiBSb3V0ZU9mQWRtaW5pc3RyYXRpb24gY2Fubm90IGJlIHVzZWQgd2hlbiB0aGUgJ2Zvcm1PZicgcHJvZHVjdCBhbHJlYWR5IHVzZXMgTWVkaWNpbmFsUHJvZHVjdERlZmluaXRpb24ucm91dGUgKGFuZCB2aWNlIHZlcnNhKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIENvZGVkIGV4cHJlc3Npb24gZm9yIHRoZSByb3V0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZmlyc3QgZG9zZSAoZG9zZSBxdWFudGl0eSkgYWRtaW5pc3RlcmVkIGNhbiBiZSBzcGVjaWZpZWQgZm9yIHRoZSBwcm9kdWN0LCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBhbmQgaXRzIHVuaXQgb2YgbWVhc3VyZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGZpcnN0RG9zZT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHNpbmdsZSBkb3NlIHRoYXQgY2FuIGJlIGFkbWluaXN0ZXJlZCwgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGFuZCBpdHMgdW5pdCBvZiBtZWFzdXJlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4U2luZ2xlRG9zZT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIGRvc2UgcGVyIGRheSAobWF4aW11bSBkb3NlIHF1YW50aXR5IHRvIGJlIGFkbWluaXN0ZXJlZCBpbiBhbnkgb25lIDI0LWggcGVyaW9kKSB0aGF0IGNhbiBiZSBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG1heERvc2VQZXJEYXk/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBkb3NlIHBlciB0cmVhdG1lbnQgcGVyaW9kIHRoYXQgY2FuIGJlIGFkbWluaXN0ZXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4RG9zZVBlclRyZWF0bWVudFBlcmlvZD86IGZoaXIuUmF0aW98dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHRyZWF0bWVudCBwZXJpb2QgZHVyaW5nIHdoaWNoIHRoZSBwcm9kdWN0IGNhbiBiZSBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG1heFRyZWF0bWVudFBlcmlvZD86IGZoaXIuRHVyYXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2llcyBmb3Igd2hpY2ggdGhpcyByb3V0ZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXRTcGVjaWVzOiBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29kZSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydmaXJzdERvc2UnXSkgeyB0aGlzLmZpcnN0RG9zZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5maXJzdERvc2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhTaW5nbGVEb3NlJ10pIHsgdGhpcy5tYXhTaW5nbGVEb3NlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm1heFNpbmdsZURvc2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhEb3NlUGVyRGF5J10pIHsgdGhpcy5tYXhEb3NlUGVyRGF5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm1heERvc2VQZXJEYXksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhEb3NlUGVyVHJlYXRtZW50UGVyaW9kJ10pIHsgdGhpcy5tYXhEb3NlUGVyVHJlYXRtZW50UGVyaW9kID0gbmV3IGZoaXIuUmF0aW8oc291cmNlLm1heERvc2VQZXJUcmVhdG1lbnRQZXJpb2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhUcmVhdG1lbnRQZXJpb2QnXSkgeyB0aGlzLm1heFRyZWF0bWVudFBlcmlvZCA9IG5ldyBmaGlyLkR1cmF0aW9uKHNvdXJjZS5tYXhUcmVhdG1lbnRQZXJpb2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0YXJnZXRTcGVjaWVzJ10pIHsgdGhpcy50YXJnZXRTcGVjaWVzID0gc291cmNlLnRhcmdldFNwZWNpZXMubWFwKCh4KSA9PiBuZXcgZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGFyZ2V0U3BlY2llcyA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnJvdXRlT2ZBZG1pbmlzdHJhdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2NvZGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2ZpcnN0RG9zZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF4U2luZ2xlRG9zZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF4RG9zZVBlckRheScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF4RG9zZVBlclRyZWF0bWVudFBlcmlvZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWF4VHJlYXRtZW50UGVyaW9kJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd0YXJnZXRTcGVjaWVzJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoZSBhZG1pbmlzdHJhYmxlIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGZpbHRlcmluZyBvZiBhZG1pbmlzdHJhYmxlIHByb2R1Y3RzIHRoYXQgYXJlIGFwcHJvcHJpYXRlIGZvciB1c2UgdmVyc3VzIG5vdC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZXMgYSBwcm9kdWN0IGZyb20gd2hpY2ggb25lIG9yIG1vcmUgb2YgdGhlIGNvbnN0aXR1ZW50IHBhcnRzIG9mIHRoYXQgcHJvZHVjdCBjYW4gYmUgcHJlcGFyZWQgYW5kIHVzZWQgYXMgZGVzY3JpYmVkIGJ5IHRoaXMgYWRtaW5pc3RyYWJsZSBwcm9kdWN0LiAgSWYgdGhpcyBhZG1pbmlzdHJhYmxlIHByb2R1Y3QgZGVzY3JpYmVzIHRoZSBhZG1pbmlzdHJhdGlvbiBvZiBhIGNydXNoZWQgdGFibGV0LCB0aGUgJ2Zvcm1PZicgd291bGQgYmUgdGhlIHByb2R1Y3QgcmVwcmVzZW50aW5nIGEgZGlzdHJpYnV0aW9uIGNvbnRhaW5pbmcgdGFibGV0cyBhbmQgcG9zc2libHkgYWxzbyBhIGNyZWFtLiAgVGhpcyBpcyBkaXN0aW5jdCBmcm9tIHRoZSAncHJvZHVjZWRGcm9tJyB3aGljaCByZWZlcnMgdG8gdGhlIHNwZWNpZmljIGNvbXBvbmVudHMgb2YgdGhlIHByb2R1Y3QgdGhhdCBhcmUgdXNlZCBpbiB0aGlzIHByZXBhcmF0aW9uLCByYXRoZXIgdGhhbiB0aGUgcHJvZHVjdCBhcyBhIHdob2xlLlxyXG4gICAqL1xyXG4gIGZvcm1PZj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZG9zZSBmb3JtIG9mIHRoZSBmaW5hbCBwcm9kdWN0IGFmdGVyIG5lY2Vzc2FyeSByZWNvbnN0aXR1dGlvbiBvciBwcm9jZXNzaW5nLiBDb250cmFzdHMgdG8gdGhlIG1hbnVmYWN0dXJlZCBkb3NlIGZvcm0gKHNlZSBNYW51ZmFjdHVyZWRJdGVtRGVmaW5pdGlvbikuIElmIHRoZSBtYW51ZmFjdHVyZWQgZm9ybSB3YXMgJ3Bvd2RlciBmb3Igc29sdXRpb24gZm9yIGluamVjdGlvbicsIHRoZSBhZG1pbmlzdHJhYmxlIGRvc2UgZm9ybSBjb3VsZCBiZSAnc29sdXRpb24gZm9yIGluamVjdGlvbicgKG9uY2UgbWl4ZWQgd2l0aCBhbm90aGVyIGl0ZW0gaGF2aW5nIG1hbnVmYWN0dXJlZCBmb3JtICdzb2x2ZW50IGZvciBzb2x1dGlvbiBmb3IgaW5qZWN0aW9uJykuXHJcbiAgICovXHJcbiAgYWRtaW5pc3RyYWJsZURvc2VGb3JtPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJlc2VudGF0aW9uIHR5cGUgaW4gd2hpY2ggdGhpcyBpdGVtIGlzIGdpdmVuIHRvIGEgcGF0aWVudC4gZS5nLiBmb3IgYSBzcHJheSAtICdwdWZmJyAoYXMgaW4gJ2NvbnRhaW5zIDEwMCBtY2cgcGVyIHB1ZmYnKSwgb3IgZm9yIGEgbGlxdWlkIC0gJ3ZpYWwnIChhcyBpbiAnY29udGFpbnMgNSBtbCBwZXIgdmlhbCcpLlxyXG4gICAqL1xyXG4gIHVuaXRPZlByZXNlbnRhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSBzcGVjaWZpYyBtYW51ZmFjdHVyZWQgaXRlbXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgJ2Zvcm1PZicgcHJvZHVjdCB0aGF0IGFyZSB1c2VkIGluIHRoZSBwcmVwYXJhdGlvbiBvZiB0aGlzIHNwZWNpZmljIGFkbWluaXN0cmFibGUgZm9ybS4gIEluIHNvbWUgY2FzZXMsIGFuIGFkbWluaXN0cmFibGUgZm9ybSBtaWdodCB1c2UgYWxsIG9mIHRoZSBpdGVtcyBmcm9tIHRoZSBvdmVyYWxsIHByb2R1Y3QgKG9yIHRoZXJlIG1pZ2h0IG9ubHkgYmUgb25lIGl0ZW0pLCB3aGlsZSBpbiBvdGhlciBjYXNlcywgYW4gYWRtaW5pc3RyYWJsZSBmb3JtIG1pZ2h0IHVzZSBvbmx5IGEgc3Vic2V0IG9mIHRoZSBpdGVtcyBhdmFpbGFibGUgaW4gdGhlIG92ZXJhbGwgcHJvZHVjdC4gIEZvciBleGFtcGxlLCBhbiBhZG1pbmlzdHJhYmxlIGZvcm0gbWlnaHQgaW52b2x2ZSBjb21iaW5pbmcgYSBsaXF1aWQgYW5kIGEgcG93ZGVyIGF2YWlsYWJsZSBhcyBwYXJ0IG9mIGFuIG92ZXJhbGwgcHJvZHVjdCwgYnV0IG5vdCBpbnZvbHZlIGFwcGx5aW5nIHRoZSBhbHNvIHN1cHBsaWVkIGNyZWFtLlxyXG4gICAqL1xyXG4gIHByb2R1Y2VkRnJvbT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW5ncmVkaWVudHMgb2YgdGhpcyBhZG1pbmlzdHJhYmxlIG1lZGljaW5hbCBwcm9kdWN0LiBUaGlzIGlzIG9ubHkgbmVlZGVkIGlmIHRoZSBpbmdyZWRpZW50cyBhcmUgbm90IHNwZWNpZmllZCBlaXRoZXIgdXNpbmcgTWFudWZhY3R1cmVkSXRlbURlZmluaXRvbiAodmlhIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbi5wcm9kdWNlZEZyb20pIHRvIHN0YXRlIHdoaWNoIGNvbXBvbmVudCBpdGVtcyBhcmUgdXNlZCB0byBtYWtlIHRoaXMsIG9yIHVzaW5nIGJ5IGluY29taW5nIHJlZmVyZW5jZXMgZnJvbSB0aGUgSW5ncmVkaWVudCByZXNvdXJjZSwgdG8gc3RhdGUgaW4gZGV0YWlsIHdoaWNoIHN1YnN0YW5jZXMgZXhpc3Qgd2l0aGluIHRoaXMuIFRoaXMgZWxlbWVudCBhbGxvd3MgYSBiYXNpYyBjb2RlZCBpbmdyZWRpZW50IHRvIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgaW5ncmVkaWVudD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRldmljZSB0aGF0IGlzIGludGVncmFsIHRvIHRoZSBtZWRpY2luYWwgcHJvZHVjdCwgaW4gZWZmZWN0IGJlaW5nIGNvbnNpZGVyZWQgYXMgYW4gXCJpbmdyZWRpZW50XCIgb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0LiBUaGlzIGlzIG5vdCBpbnRlbmRlZCBmb3IgZGV2aWNlcyB0aGF0IGFyZSBqdXN0IGNvLXBhY2thZ2VkLlxyXG4gICAqL1xyXG4gIGRldmljZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2hhcmFjdGVyaXN0aWNzIGUuZy4gYSBwcm9kdWN0J3Mgb25zZXQgb2YgYWN0aW9uLlxyXG4gICAqL1xyXG4gIHByb3BlcnR5PzogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGggYnkgd2hpY2ggdGhlIHByb2R1Y3QgaXMgdGFrZW4gaW50byBvciBtYWtlcyBjb250YWN0IHdpdGggdGhlIGJvZHkuIEluIHNvbWUgcmVnaW9ucyB0aGlzIGlzIHJlZmVycmVkIHRvIGFzIHRoZSBsaWNlbmNlZCBvciBhcHByb3ZlZCByb3V0ZS4gUm91dGVPZkFkbWluaXN0cmF0aW9uIGNhbm5vdCBiZSB1c2VkIHdoZW4gdGhlICdmb3JtT2YnIHByb2R1Y3QgYWxyZWFkeSB1c2VzIE1lZGljaW5hbFByb2R1Y3REZWZpbml0aW9uLnJvdXRlIChhbmQgdmljZSB2ZXJzYSkuXHJcbiAgICovXHJcbiAgcm91dGVPZkFkbWluaXN0cmF0aW9uOiBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbkFyZ3NbXXxudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQSBtZWRpY2luYWwgcHJvZHVjdCBpbiB0aGUgZmluYWwgZm9ybSB3aGljaCBpcyBzdWl0YWJsZSBmb3IgYWRtaW5pc3RlcmluZyB0byBhIHBhdGllbnQgKGFmdGVyIGFueSBtaXhpbmcgb2YgbXVsdGlwbGUgY29tcG9uZW50cywgZGlzc29sdXRpb24gZXRjLiBoYXMgYmVlbiBwZXJmb3JtZWQpLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbiBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblwiO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoZSBhZG1pbmlzdHJhYmxlIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgYWRtaW5pc3RyYWJsZSBwcm9kdWN0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZXMgYSBwcm9kdWN0IGZyb20gd2hpY2ggb25lIG9yIG1vcmUgb2YgdGhlIGNvbnN0aXR1ZW50IHBhcnRzIG9mIHRoYXQgcHJvZHVjdCBjYW4gYmUgcHJlcGFyZWQgYW5kIHVzZWQgYXMgZGVzY3JpYmVkIGJ5IHRoaXMgYWRtaW5pc3RyYWJsZSBwcm9kdWN0LiAgSWYgdGhpcyBhZG1pbmlzdHJhYmxlIHByb2R1Y3QgZGVzY3JpYmVzIHRoZSBhZG1pbmlzdHJhdGlvbiBvZiBhIGNydXNoZWQgdGFibGV0LCB0aGUgJ2Zvcm1PZicgd291bGQgYmUgdGhlIHByb2R1Y3QgcmVwcmVzZW50aW5nIGEgZGlzdHJpYnV0aW9uIGNvbnRhaW5pbmcgdGFibGV0cyBhbmQgcG9zc2libHkgYWxzbyBhIGNyZWFtLiAgVGhpcyBpcyBkaXN0aW5jdCBmcm9tIHRoZSAncHJvZHVjZWRGcm9tJyB3aGljaCByZWZlcnMgdG8gdGhlIHNwZWNpZmljIGNvbXBvbmVudHMgb2YgdGhlIHByb2R1Y3QgdGhhdCBhcmUgdXNlZCBpbiB0aGlzIHByZXBhcmF0aW9uLCByYXRoZXIgdGhhbiB0aGUgcHJvZHVjdCBhcyBhIHdob2xlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb3JtT2Y6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvc2UgZm9ybSBvZiB0aGUgZmluYWwgcHJvZHVjdCBhZnRlciBuZWNlc3NhcnkgcmVjb25zdGl0dXRpb24gb3IgcHJvY2Vzc2luZy4gQ29udHJhc3RzIHRvIHRoZSBtYW51ZmFjdHVyZWQgZG9zZSBmb3JtIChzZWUgTWFudWZhY3R1cmVkSXRlbURlZmluaXRpb24pLiBJZiB0aGUgbWFudWZhY3R1cmVkIGZvcm0gd2FzICdwb3dkZXIgZm9yIHNvbHV0aW9uIGZvciBpbmplY3Rpb24nLCB0aGUgYWRtaW5pc3RyYWJsZSBkb3NlIGZvcm0gY291bGQgYmUgJ3NvbHV0aW9uIGZvciBpbmplY3Rpb24nIChvbmNlIG1peGVkIHdpdGggYW5vdGhlciBpdGVtIGhhdmluZyBtYW51ZmFjdHVyZWQgZm9ybSAnc29sdmVudCBmb3Igc29sdXRpb24gZm9yIGluamVjdGlvbicpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZG1pbmlzdHJhYmxlRG9zZUZvcm0/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByZXNlbnRhdGlvbiB0eXBlIGluIHdoaWNoIHRoaXMgaXRlbSBpcyBnaXZlbiB0byBhIHBhdGllbnQuIGUuZy4gZm9yIGEgc3ByYXkgLSAncHVmZicgKGFzIGluICdjb250YWlucyAxMDAgbWNnIHBlciBwdWZmJyksIG9yIGZvciBhIGxpcXVpZCAtICd2aWFsJyAoYXMgaW4gJ2NvbnRhaW5zIDUgbWwgcGVyIHZpYWwnKS5cclxuICAgKi9cclxuICBwdWJsaWMgdW5pdE9mUHJlc2VudGF0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgc3BlY2lmaWMgbWFudWZhY3R1cmVkIGl0ZW1zIHRoYXQgYXJlIHBhcnQgb2YgdGhlICdmb3JtT2YnIHByb2R1Y3QgdGhhdCBhcmUgdXNlZCBpbiB0aGUgcHJlcGFyYXRpb24gb2YgdGhpcyBzcGVjaWZpYyBhZG1pbmlzdHJhYmxlIGZvcm0uICBJbiBzb21lIGNhc2VzLCBhbiBhZG1pbmlzdHJhYmxlIGZvcm0gbWlnaHQgdXNlIGFsbCBvZiB0aGUgaXRlbXMgZnJvbSB0aGUgb3ZlcmFsbCBwcm9kdWN0IChvciB0aGVyZSBtaWdodCBvbmx5IGJlIG9uZSBpdGVtKSwgd2hpbGUgaW4gb3RoZXIgY2FzZXMsIGFuIGFkbWluaXN0cmFibGUgZm9ybSBtaWdodCB1c2Ugb25seSBhIHN1YnNldCBvZiB0aGUgaXRlbXMgYXZhaWxhYmxlIGluIHRoZSBvdmVyYWxsIHByb2R1Y3QuICBGb3IgZXhhbXBsZSwgYW4gYWRtaW5pc3RyYWJsZSBmb3JtIG1pZ2h0IGludm9sdmUgY29tYmluaW5nIGEgbGlxdWlkIGFuZCBhIHBvd2RlciBhdmFpbGFibGUgYXMgcGFydCBvZiBhbiBvdmVyYWxsIHByb2R1Y3QsIGJ1dCBub3QgaW52b2x2ZSBhcHBseWluZyB0aGUgYWxzbyBzdXBwbGllZCBjcmVhbS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZHVjZWRGcm9tOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmdyZWRpZW50cyBvZiB0aGlzIGFkbWluaXN0cmFibGUgbWVkaWNpbmFsIHByb2R1Y3QuIFRoaXMgaXMgb25seSBuZWVkZWQgaWYgdGhlIGluZ3JlZGllbnRzIGFyZSBub3Qgc3BlY2lmaWVkIGVpdGhlciB1c2luZyBNYW51ZmFjdHVyZWRJdGVtRGVmaW5pdG9uICh2aWEgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnByb2R1Y2VkRnJvbSkgdG8gc3RhdGUgd2hpY2ggY29tcG9uZW50IGl0ZW1zIGFyZSB1c2VkIHRvIG1ha2UgdGhpcywgb3IgdXNpbmcgYnkgaW5jb21pbmcgcmVmZXJlbmNlcyBmcm9tIHRoZSBJbmdyZWRpZW50IHJlc291cmNlLCB0byBzdGF0ZSBpbiBkZXRhaWwgd2hpY2ggc3Vic3RhbmNlcyBleGlzdCB3aXRoaW4gdGhpcy4gVGhpcyBlbGVtZW50IGFsbG93cyBhIGJhc2ljIGNvZGVkIGluZ3JlZGllbnQgdG8gYmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaW5ncmVkaWVudDogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBBIGRldmljZSB0aGF0IGlzIGludGVncmFsIHRvIHRoZSBtZWRpY2luYWwgcHJvZHVjdCwgaW4gZWZmZWN0IGJlaW5nIGNvbnNpZGVyZWQgYXMgYW4gXCJpbmdyZWRpZW50XCIgb2YgdGhlIG1lZGljaW5hbCBwcm9kdWN0LiBUaGlzIGlzIG5vdCBpbnRlbmRlZCBmb3IgZGV2aWNlcyB0aGF0IGFyZSBqdXN0IGNvLXBhY2thZ2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXZpY2U/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2hhcmFjdGVyaXN0aWNzIGUuZy4gYSBwcm9kdWN0J3Mgb25zZXQgb2YgYWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9wZXJ0eTogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRoIGJ5IHdoaWNoIHRoZSBwcm9kdWN0IGlzIHRha2VuIGludG8gb3IgbWFrZXMgY29udGFjdCB3aXRoIHRoZSBib2R5LiBJbiBzb21lIHJlZ2lvbnMgdGhpcyBpcyByZWZlcnJlZCB0byBhcyB0aGUgbGljZW5jZWQgb3IgYXBwcm92ZWQgcm91dGUuIFJvdXRlT2ZBZG1pbmlzdHJhdGlvbiBjYW5ub3QgYmUgdXNlZCB3aGVuIHRoZSAnZm9ybU9mJyBwcm9kdWN0IGFscmVhZHkgdXNlcyBNZWRpY2luYWxQcm9kdWN0RGVmaW5pdGlvbi5yb3V0ZSAoYW5kIHZpY2UgdmVyc2EpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb3V0ZU9mQWRtaW5pc3RyYXRpb246IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbic7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Zvcm1PZiddKSB7IHRoaXMuZm9ybU9mID0gc291cmNlLmZvcm1PZi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZvcm1PZiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhZG1pbmlzdHJhYmxlRG9zZUZvcm0nXSkgeyB0aGlzLmFkbWluaXN0cmFibGVEb3NlRm9ybSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYWRtaW5pc3RyYWJsZURvc2VGb3JtLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5pdE9mUHJlc2VudGF0aW9uJ10pIHsgdGhpcy51bml0T2ZQcmVzZW50YXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnVuaXRPZlByZXNlbnRhdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y2VkRnJvbSddKSB7IHRoaXMucHJvZHVjZWRGcm9tID0gc291cmNlLnByb2R1Y2VkRnJvbS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2R1Y2VkRnJvbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbmdyZWRpZW50J10pIHsgdGhpcy5pbmdyZWRpZW50ID0gc291cmNlLmluZ3JlZGllbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbmdyZWRpZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2RldmljZSddKSB7IHRoaXMuZGV2aWNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5kZXZpY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9wZXJ0eSddKSB7IHRoaXMucHJvcGVydHkgPSBzb3VyY2UucHJvcGVydHkubWFwKCh4KSA9PiBuZXcgZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb3BlcnR5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JvdXRlT2ZBZG1pbmlzdHJhdGlvbiddKSB7IHRoaXMucm91dGVPZkFkbWluaXN0cmF0aW9uID0gc291cmNlLnJvdXRlT2ZBZG1pbmlzdHJhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJvdXRlT2ZBZG1pbmlzdHJhdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ3N0YXR1cycsZXhwLCdQdWJsaWNhdGlvblN0YXR1cycsUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZm9ybU9mJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhZG1pbmlzdHJhYmxlRG9zZUZvcm0nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3VuaXRPZlByZXNlbnRhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHJvZHVjZWRGcm9tJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpbmdyZWRpZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXZpY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3Byb3BlcnR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJBKCdyb3V0ZU9mQWRtaW5pc3RyYXRpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19