// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: AdministrableProductDefinition
import * as fhir from '../fhir.js';
// @ts-ignore
import { PublicationStatusVsValidation } from '../fhirValueSets/PublicationStatusVsValidation.js';
/**
 * Characteristics e.g. a product's onset of action.
 */
export class AdministrableProductDefinitionProperty extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionProperty - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueDate']) {
            this.value = new fhir.FhirDate({ value: source.valueDate });
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment);
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.property';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOS('value', exp));
        iss.push(...this.vOSV('status', exp, 'PublicationStatus', PublicationStatusVsValidation, 'r'));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionProperty._fts_dataType = 'AdministrableProductDefinitionProperty';
/**
 * Internal flag to properly serialize choice-type element AdministrableProductDefinition.property.value[x]
 */
AdministrableProductDefinitionProperty._fts_valueIsChoice = true;
/**
 * A species specific time during which consumption of animal product is not appropriate.
 */
export class AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['tissue']) {
            this.tissue = new fhir.CodeableConcept(source.tissue);
        }
        else {
            this.tissue = null;
        }
        if (source['value']) {
            this.value = new fhir.Quantity(source.value);
        }
        else {
            this.value = null;
        }
        if (source['supportingInformation']) {
            this.supportingInformation = new fhir.FhirString({ value: source.supportingInformation });
        }
        if (source['_supportingInformation']) {
            if (this.supportingInformation) {
                this.supportingInformation.addExtendedProperties(source._supportingInformation);
            }
            else {
                this.supportingInformation = new fhir.FhirString(source._supportingInformation);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration.targetSpecies.withdrawalPeriod';
        }
        iss.push(...this.vRS('tissue', exp));
        iss.push(...this.vRS('value', exp));
        iss.push(...this.vOS('supportingInformation', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod';
/**
 * A species for which this route applies.
 */
export class AdministrableProductDefinitionRouteOfAdministrationTargetSpecies extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministrationTargetSpecies - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['withdrawalPeriod']) {
            this.withdrawalPeriod = source.withdrawalPeriod.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministrationTargetSpeciesWithdrawalPeriod(x));
        }
        else {
            this.withdrawalPeriod = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration.targetSpecies';
        }
        iss.push(...this.vRS('code', exp));
        iss.push(...this.vOA('withdrawalPeriod', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministrationTargetSpecies._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministrationTargetSpecies';
/**
 * The path by which the product is taken into or makes contact with the body. In some regions this is referred to as the licenced or approved route. RouteOfAdministration cannot be used when the 'formOf' product already uses MedicinalProductDefinition.route (and vice versa).
 */
export class AdministrableProductDefinitionRouteOfAdministration extends fhir.BackboneElement {
    /**
     * Default constructor for AdministrableProductDefinitionRouteOfAdministration - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['firstDose']) {
            this.firstDose = new fhir.Quantity(source.firstDose);
        }
        if (source['maxSingleDose']) {
            this.maxSingleDose = new fhir.Quantity(source.maxSingleDose);
        }
        if (source['maxDosePerDay']) {
            this.maxDosePerDay = new fhir.Quantity(source.maxDosePerDay);
        }
        if (source['maxDosePerTreatmentPeriod']) {
            this.maxDosePerTreatmentPeriod = new fhir.Ratio(source.maxDosePerTreatmentPeriod);
        }
        if (source['maxTreatmentPeriod']) {
            this.maxTreatmentPeriod = new fhir.Duration(source.maxTreatmentPeriod);
        }
        if (source['targetSpecies']) {
            this.targetSpecies = source.targetSpecies.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministrationTargetSpecies(x));
        }
        else {
            this.targetSpecies = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition.routeOfAdministration';
        }
        iss.push(...this.vRS('code', exp));
        iss.push(...this.vOS('firstDose', exp));
        iss.push(...this.vOS('maxSingleDose', exp));
        iss.push(...this.vOS('maxDosePerDay', exp));
        iss.push(...this.vOS('maxDosePerTreatmentPeriod', exp));
        iss.push(...this.vOS('maxTreatmentPeriod', exp));
        iss.push(...this.vOA('targetSpecies', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinitionRouteOfAdministration._fts_dataType = 'AdministrableProductDefinitionRouteOfAdministration';
/**
 * A medicinal product in the final form which is suitable for administering to a patient (after any mixing of multiple components, dissolution etc. has been performed).
 */
export class AdministrableProductDefinition extends fhir.DomainResource {
    /**
     * Default constructor for AdministrableProductDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AdministrableProductDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['formOf']) {
            this.formOf = source.formOf.map((x) => new fhir.Reference(x));
        }
        else {
            this.formOf = [];
        }
        if (source['administrableDoseForm']) {
            this.administrableDoseForm = new fhir.CodeableConcept(source.administrableDoseForm);
        }
        if (source['unitOfPresentation']) {
            this.unitOfPresentation = new fhir.CodeableConcept(source.unitOfPresentation);
        }
        if (source['producedFrom']) {
            this.producedFrom = source.producedFrom.map((x) => new fhir.Reference(x));
        }
        else {
            this.producedFrom = [];
        }
        if (source['ingredient']) {
            this.ingredient = source.ingredient.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.ingredient = [];
        }
        if (source['device']) {
            this.device = new fhir.Reference(source.device);
        }
        if (source['property']) {
            this.property = source.property.map((x) => new fhir.AdministrableProductDefinitionProperty(x));
        }
        else {
            this.property = [];
        }
        if (source['routeOfAdministration']) {
            this.routeOfAdministration = source.routeOfAdministration.map((x) => new fhir.AdministrableProductDefinitionRouteOfAdministration(x));
        }
        else {
            this.routeOfAdministration = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AdministrableProductDefinition';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'PublicationStatus', PublicationStatusVsValidation, 'r'));
        iss.push(...this.vOA('formOf', exp));
        iss.push(...this.vOS('administrableDoseForm', exp));
        iss.push(...this.vOS('unitOfPresentation', exp));
        iss.push(...this.vOA('producedFrom', exp));
        iss.push(...this.vOA('ingredient', exp));
        iss.push(...this.vOS('device', exp));
        iss.push(...this.vOA('property', exp));
        iss.push(...this.vRA('routeOfAdministration', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AdministrableProductDefinition._fts_dataType = 'AdministrableProductDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsZ0RBQWdEO0FBRWhELE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQTJEbEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sc0NBQXVDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQjlFOztPQUVHO0lBQ0gsWUFBWSxTQUE2RCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNuSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDckU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1NBQUU7YUFDOUMsSUFBSSxNQUFNLENBQUMsc0JBQXNCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1NBQUU7YUFDM0csSUFBSSxNQUFNLENBQUMsZUFBZSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFN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QUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2hELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkQsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQTdGRDs7R0FFRztBQUM2Qiw0Q0FBYSxHQUFVLGdDQUFnQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnI0Yi5jb3JlIHZlcnNpb246IDQuMy4wXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c0NvZGVzLCAgUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbmltYWxUaXNzdWVUeXBlQ29kZXMsICBBbmltYWxUaXNzdWVUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FuaW1hbFRpc3N1ZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQW5pbWFsVGlzc3VlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQW5pbWFsVGlzc3VlVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGFyZ2V0U3BlY2llc0NvZGVzLCAgVGFyZ2V0U3BlY2llc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9UYXJnZXRTcGVjaWVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRhcmdldFNwZWNpZXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RhcmdldFNwZWNpZXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJvdXRlQ29kZXMsICBSb3V0ZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Sb3V0ZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSb3V0ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUm91dGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkbWluaXN0cmFibGVEb3NlRm9ybUNvZGVzLCAgQWRtaW5pc3RyYWJsZURvc2VGb3JtQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkbWluaXN0cmFibGVEb3NlRm9ybUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZG1pbmlzdHJhYmxlRG9zZUZvcm1Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FkbWluaXN0cmFibGVEb3NlRm9ybVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVW5pdE9mUHJlc2VudGF0aW9uQ29kZXMsICBVbml0T2ZQcmVzZW50YXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5pdE9mUHJlc2VudGF0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFVuaXRPZlByZXNlbnRhdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5pdE9mUHJlc2VudGF0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblByb3BlcnR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblByb3BlcnR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIGV4cHJlc3NpbmcgdGhlIHR5cGUgb2YgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5RdWFudGl0eXxmaGlyLkZoaXJEYXRlfGZoaXIuRmhpckJvb2xlYW58Zmhpci5BdHRhY2htZW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB2YWx1ZVF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB2YWx1ZURhdGU/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlQm9vbGVhbj86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlQXR0YWNobWVudD86IGZoaXIuQXR0YWNobWVudEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgb2YgY2hhcmFjdGVyaXN0aWMgZS5nLiBhc3NpZ25lZCBvciBwZW5kaW5nLlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGFyYWN0ZXJpc3RpY3MgZS5nLiBhIHByb2R1Y3QncyBvbnNldCBvZiBhY3Rpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eSc7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIGV4cHJlc3NpbmcgdGhlIHR5cGUgb2YgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZT86IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlF1YW50aXR5fGZoaXIuRmhpckRhdGV8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkF0dGFjaG1lbnQpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbi5wcm9wZXJ0eS52YWx1ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c192YWx1ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgb2YgY2hhcmFjdGVyaXN0aWMgZS5nLiBhc3NpZ25lZCBvciBwZW5kaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Qcm9wZXJ0eUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbHVlQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVF1YW50aXR5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS52YWx1ZVF1YW50aXR5KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZURhdGUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UudmFsdWVEYXRlfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVCb29sZWFuJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnZhbHVlQm9vbGVhbn0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQXR0YWNobWVudCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5BdHRhY2htZW50KHNvdXJjZS52YWx1ZUF0dGFjaG1lbnQpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3RhdHVzKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbi5wcm9wZXJ0eScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ZhbHVlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignc3RhdHVzJyxleHAsJ1B1YmxpY2F0aW9uU3RhdHVzJyxQdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENvZGVkIGV4cHJlc3Npb24gZm9yIHRoZSB0eXBlIG9mIHRpc3N1ZSBmb3Igd2hpY2ggdGhlIHdpdGhkcmF3YWwgcGVyaW9kIGFwcGxpZXMsIGUuZy4gbWVhdCwgbWlsay5cclxuICAgKi9cclxuICB0aXNzdWU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSB0aW1lLlxyXG4gICAqL1xyXG4gIHZhbHVlOiBmaGlyLlF1YW50aXR5QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEV4dHJhIGluZm9ybWF0aW9uIGFib3V0IHRoZSB3aXRoZHJhd2FsIHBlcmlvZC5cclxuICAgKi9cclxuICBzdXBwb3J0aW5nSW5mb3JtYXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnJvdXRlT2ZBZG1pbmlzdHJhdGlvbi50YXJnZXRTcGVjaWVzLndpdGhkcmF3YWxQZXJpb2Quc3VwcG9ydGluZ0luZm9ybWF0aW9uXHJcbiAgICovXHJcbiAgX3N1cHBvcnRpbmdJbmZvcm1hdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNwZWNpZXMgc3BlY2lmaWMgdGltZSBkdXJpbmcgd2hpY2ggY29uc3VtcHRpb24gb2YgYW5pbWFsIHByb2R1Y3QgaXMgbm90IGFwcHJvcHJpYXRlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNXaXRoZHJhd2FsUGVyaW9kIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1dpdGhkcmF3YWxQZXJpb2QnO1xyXG4gIC8qKlxyXG4gICAqIENvZGVkIGV4cHJlc3Npb24gZm9yIHRoZSB0eXBlIG9mIHRpc3N1ZSBmb3Igd2hpY2ggdGhlIHdpdGhkcmF3YWwgcGVyaW9kIGFwcGxpZXMsIGUuZy4gbWVhdCwgbWlsay5cclxuICAgKi9cclxuICBwdWJsaWMgdGlzc3VlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSB0aW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZTogZmhpci5RdWFudGl0eXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEV4dHJhIGluZm9ybWF0aW9uIGFib3V0IHRoZSB3aXRoZHJhd2FsIHBlcmlvZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VwcG9ydGluZ0luZm9ybWF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzV2l0aGRyYXdhbFBlcmlvZCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNXaXRoZHJhd2FsUGVyaW9kQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3Rpc3N1ZSddKSB7IHRoaXMudGlzc3VlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50aXNzdWUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50aXNzdWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UudmFsdWUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy52YWx1ZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1cHBvcnRpbmdJbmZvcm1hdGlvbiddKSB7IHRoaXMuc3VwcG9ydGluZ0luZm9ybWF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zdXBwb3J0aW5nSW5mb3JtYXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N1cHBvcnRpbmdJbmZvcm1hdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN1cHBvcnRpbmdJbmZvcm1hdGlvbikgeyB0aGlzLnN1cHBvcnRpbmdJbmZvcm1hdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdXBwb3J0aW5nSW5mb3JtYXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdXBwb3J0aW5nSW5mb3JtYXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fc3VwcG9ydGluZ0luZm9ybWF0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnJvdXRlT2ZBZG1pbmlzdHJhdGlvbi50YXJnZXRTcGVjaWVzLndpdGhkcmF3YWxQZXJpb2QnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd0aXNzdWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3ZhbHVlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdXBwb3J0aW5nSW5mb3JtYXRpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXMgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENvZGVkIGV4cHJlc3Npb24gZm9yIHRoZSBzcGVjaWVzLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2llcyBzcGVjaWZpYyB0aW1lIGR1cmluZyB3aGljaCBjb25zdW1wdGlvbiBvZiBhbmltYWwgcHJvZHVjdCBpcyBub3QgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgd2l0aGRyYXdhbFBlcmlvZD86IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1dpdGhkcmF3YWxQZXJpb2RBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzcGVjaWVzIGZvciB3aGljaCB0aGlzIHJvdXRlIGFwcGxpZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llcyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXMnO1xyXG4gIC8qKlxyXG4gICAqIENvZGVkIGV4cHJlc3Npb24gZm9yIHRoZSBzcGVjaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2llcyBzcGVjaWZpYyB0aW1lIGR1cmluZyB3aGljaCBjb25zdW1wdGlvbiBvZiBhbmltYWwgcHJvZHVjdCBpcyBub3QgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIHdpdGhkcmF3YWxQZXJpb2Q6IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc1dpdGhkcmF3YWxQZXJpb2RbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llc0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb2RlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3dpdGhkcmF3YWxQZXJpb2QnXSkgeyB0aGlzLndpdGhkcmF3YWxQZXJpb2QgPSBzb3VyY2Uud2l0aGRyYXdhbFBlcmlvZC5tYXAoKHgpID0+IG5ldyBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNXaXRoZHJhd2FsUGVyaW9kKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMud2l0aGRyYXdhbFBlcmlvZCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uLnJvdXRlT2ZBZG1pbmlzdHJhdGlvbi50YXJnZXRTcGVjaWVzJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnY29kZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnd2l0aGRyYXdhbFBlcmlvZCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENvZGVkIGV4cHJlc3Npb24gZm9yIHRoZSByb3V0ZS5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZmlyc3QgZG9zZSAoZG9zZSBxdWFudGl0eSkgYWRtaW5pc3RlcmVkIGNhbiBiZSBzcGVjaWZpZWQgZm9yIHRoZSBwcm9kdWN0LCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBhbmQgaXRzIHVuaXQgb2YgbWVhc3VyZW1lbnQuXHJcbiAgICovXHJcbiAgZmlyc3REb3NlPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHNpbmdsZSBkb3NlIHRoYXQgY2FuIGJlIGFkbWluaXN0ZXJlZCwgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGFuZCBpdHMgdW5pdCBvZiBtZWFzdXJlbWVudC5cclxuICAgKi9cclxuICBtYXhTaW5nbGVEb3NlPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIGRvc2UgcGVyIGRheSAobWF4aW11bSBkb3NlIHF1YW50aXR5IHRvIGJlIGFkbWluaXN0ZXJlZCBpbiBhbnkgb25lIDI0LWggcGVyaW9kKSB0aGF0IGNhbiBiZSBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgbWF4RG9zZVBlckRheT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBkb3NlIHBlciB0cmVhdG1lbnQgcGVyaW9kIHRoYXQgY2FuIGJlIGFkbWluaXN0ZXJlZC5cclxuICAgKi9cclxuICBtYXhEb3NlUGVyVHJlYXRtZW50UGVyaW9kPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHRyZWF0bWVudCBwZXJpb2QgZHVyaW5nIHdoaWNoIHRoZSBwcm9kdWN0IGNhbiBiZSBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgbWF4VHJlYXRtZW50UGVyaW9kPzogZmhpci5EdXJhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2llcyBmb3Igd2hpY2ggdGhpcyByb3V0ZSBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHRhcmdldFNwZWNpZXM/OiBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvblRhcmdldFNwZWNpZXNBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHBhdGggYnkgd2hpY2ggdGhlIHByb2R1Y3QgaXMgdGFrZW4gaW50byBvciBtYWtlcyBjb250YWN0IHdpdGggdGhlIGJvZHkuIEluIHNvbWUgcmVnaW9ucyB0aGlzIGlzIHJlZmVycmVkIHRvIGFzIHRoZSBsaWNlbmNlZCBvciBhcHByb3ZlZCByb3V0ZS4gUm91dGVPZkFkbWluaXN0cmF0aW9uIGNhbm5vdCBiZSB1c2VkIHdoZW4gdGhlICdmb3JtT2YnIHByb2R1Y3QgYWxyZWFkeSB1c2VzIE1lZGljaW5hbFByb2R1Y3REZWZpbml0aW9uLnJvdXRlIChhbmQgdmljZSB2ZXJzYSkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uJztcclxuICAvKipcclxuICAgKiBDb2RlZCBleHByZXNzaW9uIGZvciB0aGUgcm91dGUuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZpcnN0IGRvc2UgKGRvc2UgcXVhbnRpdHkpIGFkbWluaXN0ZXJlZCBjYW4gYmUgc3BlY2lmaWVkIGZvciB0aGUgcHJvZHVjdCwgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgYW5kIGl0cyB1bml0IG9mIG1lYXN1cmVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaXJzdERvc2U/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBzaW5nbGUgZG9zZSB0aGF0IGNhbiBiZSBhZG1pbmlzdGVyZWQsIHNwZWNpZmllZCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBhbmQgaXRzIHVuaXQgb2YgbWVhc3VyZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIG1heFNpbmdsZURvc2U/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBkb3NlIHBlciBkYXkgKG1heGltdW0gZG9zZSBxdWFudGl0eSB0byBiZSBhZG1pbmlzdGVyZWQgaW4gYW55IG9uZSAyNC1oIHBlcmlvZCkgdGhhdCBjYW4gYmUgYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhEb3NlUGVyRGF5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gZG9zZSBwZXIgdHJlYXRtZW50IHBlcmlvZCB0aGF0IGNhbiBiZSBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG1heERvc2VQZXJUcmVhdG1lbnRQZXJpb2Q/OiBmaGlyLlJhdGlvfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSB0cmVhdG1lbnQgcGVyaW9kIGR1cmluZyB3aGljaCB0aGUgcHJvZHVjdCBjYW4gYmUgYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXhUcmVhdG1lbnRQZXJpb2Q/OiBmaGlyLkR1cmF0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNwZWNpZXMgZm9yIHdoaWNoIHRoaXMgcm91dGUgYXBwbGllcy5cclxuICAgKi9cclxuICBwdWJsaWMgdGFyZ2V0U3BlY2llczogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25UYXJnZXRTcGVjaWVzW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmlyc3REb3NlJ10pIHsgdGhpcy5maXJzdERvc2UgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuZmlyc3REb3NlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWF4U2luZ2xlRG9zZSddKSB7IHRoaXMubWF4U2luZ2xlRG9zZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5tYXhTaW5nbGVEb3NlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWF4RG9zZVBlckRheSddKSB7IHRoaXMubWF4RG9zZVBlckRheSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5tYXhEb3NlUGVyRGF5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWF4RG9zZVBlclRyZWF0bWVudFBlcmlvZCddKSB7IHRoaXMubWF4RG9zZVBlclRyZWF0bWVudFBlcmlvZCA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS5tYXhEb3NlUGVyVHJlYXRtZW50UGVyaW9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWF4VHJlYXRtZW50UGVyaW9kJ10pIHsgdGhpcy5tYXhUcmVhdG1lbnRQZXJpb2QgPSBuZXcgZmhpci5EdXJhdGlvbihzb3VyY2UubWF4VHJlYXRtZW50UGVyaW9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0U3BlY2llcyddKSB7IHRoaXMudGFyZ2V0U3BlY2llcyA9IHNvdXJjZS50YXJnZXRTcGVjaWVzLm1hcCgoeCkgPT4gbmV3IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uVGFyZ2V0U3BlY2llcyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRhcmdldFNwZWNpZXMgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbi5yb3V0ZU9mQWRtaW5pc3RyYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdjb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdmaXJzdERvc2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heFNpbmdsZURvc2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heERvc2VQZXJEYXknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heERvc2VQZXJUcmVhdG1lbnRQZXJpb2QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heFRyZWF0bWVudFBlcmlvZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndGFyZ2V0U3BlY2llcycsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIGZvciB0aGUgYWRtaW5pc3RyYWJsZSBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBmaWx0ZXJpbmcgb2YgYWRtaW5pc3RyYWJsZSBwcm9kdWN0cyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgdXNlIHZlcnN1cyBub3QuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPFB1YmxpY2F0aW9uU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbi5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2VzIGEgcHJvZHVjdCBmcm9tIHdoaWNoIG9uZSBvciBtb3JlIG9mIHRoZSBjb25zdGl0dWVudCBwYXJ0cyBvZiB0aGF0IHByb2R1Y3QgY2FuIGJlIHByZXBhcmVkIGFuZCB1c2VkIGFzIGRlc2NyaWJlZCBieSB0aGlzIGFkbWluaXN0cmFibGUgcHJvZHVjdC4gIElmIHRoaXMgYWRtaW5pc3RyYWJsZSBwcm9kdWN0IGRlc2NyaWJlcyB0aGUgYWRtaW5pc3RyYXRpb24gb2YgYSBjcnVzaGVkIHRhYmxldCwgdGhlICdmb3JtT2YnIHdvdWxkIGJlIHRoZSBwcm9kdWN0IHJlcHJlc2VudGluZyBhIGRpc3RyaWJ1dGlvbiBjb250YWluaW5nIHRhYmxldHMgYW5kIHBvc3NpYmx5IGFsc28gYSBjcmVhbS4gIFRoaXMgaXMgZGlzdGluY3QgZnJvbSB0aGUgJ3Byb2R1Y2VkRnJvbScgd2hpY2ggcmVmZXJzIHRvIHRoZSBzcGVjaWZpYyBjb21wb25lbnRzIG9mIHRoZSBwcm9kdWN0IHRoYXQgYXJlIHVzZWQgaW4gdGhpcyBwcmVwYXJhdGlvbiwgcmF0aGVyIHRoYW4gdGhlIHByb2R1Y3QgYXMgYSB3aG9sZS5cclxuICAgKi9cclxuICBmb3JtT2Y/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvc2UgZm9ybSBvZiB0aGUgZmluYWwgcHJvZHVjdCBhZnRlciBuZWNlc3NhcnkgcmVjb25zdGl0dXRpb24gb3IgcHJvY2Vzc2luZy4gQ29udHJhc3RzIHRvIHRoZSBtYW51ZmFjdHVyZWQgZG9zZSBmb3JtIChzZWUgTWFudWZhY3R1cmVkSXRlbURlZmluaXRpb24pLiBJZiB0aGUgbWFudWZhY3R1cmVkIGZvcm0gd2FzICdwb3dkZXIgZm9yIHNvbHV0aW9uIGZvciBpbmplY3Rpb24nLCB0aGUgYWRtaW5pc3RyYWJsZSBkb3NlIGZvcm0gY291bGQgYmUgJ3NvbHV0aW9uIGZvciBpbmplY3Rpb24nIChvbmNlIG1peGVkIHdpdGggYW5vdGhlciBpdGVtIGhhdmluZyBtYW51ZmFjdHVyZWQgZm9ybSAnc29sdmVudCBmb3Igc29sdXRpb24gZm9yIGluamVjdGlvbicpLlxyXG4gICAqL1xyXG4gIGFkbWluaXN0cmFibGVEb3NlRm9ybT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByZXNlbnRhdGlvbiB0eXBlIGluIHdoaWNoIHRoaXMgaXRlbSBpcyBnaXZlbiB0byBhIHBhdGllbnQuIGUuZy4gZm9yIGEgc3ByYXkgLSAncHVmZicgKGFzIGluICdjb250YWlucyAxMDAgbWNnIHBlciBwdWZmJyksIG9yIGZvciBhIGxpcXVpZCAtICd2aWFsJyAoYXMgaW4gJ2NvbnRhaW5zIDUgbWwgcGVyIHZpYWwnKS5cclxuICAgKi9cclxuICB1bml0T2ZQcmVzZW50YXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgc3BlY2lmaWMgbWFudWZhY3R1cmVkIGl0ZW1zIHRoYXQgYXJlIHBhcnQgb2YgdGhlICdmb3JtT2YnIHByb2R1Y3QgdGhhdCBhcmUgdXNlZCBpbiB0aGUgcHJlcGFyYXRpb24gb2YgdGhpcyBzcGVjaWZpYyBhZG1pbmlzdHJhYmxlIGZvcm0uICBJbiBzb21lIGNhc2VzLCBhbiBhZG1pbmlzdHJhYmxlIGZvcm0gbWlnaHQgdXNlIGFsbCBvZiB0aGUgaXRlbXMgZnJvbSB0aGUgb3ZlcmFsbCBwcm9kdWN0IChvciB0aGVyZSBtaWdodCBvbmx5IGJlIG9uZSBpdGVtKSwgd2hpbGUgaW4gb3RoZXIgY2FzZXMsIGFuIGFkbWluaXN0cmFibGUgZm9ybSBtaWdodCB1c2Ugb25seSBhIHN1YnNldCBvZiB0aGUgaXRlbXMgYXZhaWxhYmxlIGluIHRoZSBvdmVyYWxsIHByb2R1Y3QuICBGb3IgZXhhbXBsZSwgYW4gYWRtaW5pc3RyYWJsZSBmb3JtIG1pZ2h0IGludm9sdmUgY29tYmluaW5nIGEgbGlxdWlkIGFuZCBhIHBvd2RlciBhdmFpbGFibGUgYXMgcGFydCBvZiBhbiBvdmVyYWxsIHByb2R1Y3QsIGJ1dCBub3QgaW52b2x2ZSBhcHBseWluZyB0aGUgYWxzbyBzdXBwbGllZCBjcmVhbS5cclxuICAgKi9cclxuICBwcm9kdWNlZEZyb20/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGluZ3JlZGllbnRzIG9mIHRoaXMgYWRtaW5pc3RyYWJsZSBtZWRpY2luYWwgcHJvZHVjdC4gVGhpcyBpcyBvbmx5IG5lZWRlZCBpZiB0aGUgaW5ncmVkaWVudHMgYXJlIG5vdCBzcGVjaWZpZWQgZWl0aGVyIHVzaW5nIE1hbnVmYWN0dXJlZEl0ZW1EZWZpbml0b24gKHZpYSBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24ucHJvZHVjZWRGcm9tKSB0byBzdGF0ZSB3aGljaCBjb21wb25lbnQgaXRlbXMgYXJlIHVzZWQgdG8gbWFrZSB0aGlzLCBvciB1c2luZyBieSBpbmNvbWluZyByZWZlcmVuY2VzIGZyb20gdGhlIEluZ3JlZGllbnQgcmVzb3VyY2UsIHRvIHN0YXRlIGluIGRldGFpbCB3aGljaCBzdWJzdGFuY2VzIGV4aXN0IHdpdGhpbiB0aGlzLiBUaGlzIGVsZW1lbnQgYWxsb3dzIGEgYmFzaWMgY29kZWQgaW5ncmVkaWVudCB0byBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIGluZ3JlZGllbnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBkZXZpY2UgdGhhdCBpcyBpbnRlZ3JhbCB0byB0aGUgbWVkaWNpbmFsIHByb2R1Y3QsIGluIGVmZmVjdCBiZWluZyBjb25zaWRlcmVkIGFzIGFuIFwiaW5ncmVkaWVudFwiIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdC4gVGhpcyBpcyBub3QgaW50ZW5kZWQgZm9yIGRldmljZXMgdGhhdCBhcmUganVzdCBjby1wYWNrYWdlZC5cclxuICAgKi9cclxuICBkZXZpY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENoYXJhY3RlcmlzdGljcyBlLmcuIGEgcHJvZHVjdCdzIG9uc2V0IG9mIGFjdGlvbi5cclxuICAgKi9cclxuICBwcm9wZXJ0eT86IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRoIGJ5IHdoaWNoIHRoZSBwcm9kdWN0IGlzIHRha2VuIGludG8gb3IgbWFrZXMgY29udGFjdCB3aXRoIHRoZSBib2R5LiBJbiBzb21lIHJlZ2lvbnMgdGhpcyBpcyByZWZlcnJlZCB0byBhcyB0aGUgbGljZW5jZWQgb3IgYXBwcm92ZWQgcm91dGUuIFJvdXRlT2ZBZG1pbmlzdHJhdGlvbiBjYW5ub3QgYmUgdXNlZCB3aGVuIHRoZSAnZm9ybU9mJyBwcm9kdWN0IGFscmVhZHkgdXNlcyBNZWRpY2luYWxQcm9kdWN0RGVmaW5pdGlvbi5yb3V0ZSAoYW5kIHZpY2UgdmVyc2EpLlxyXG4gICAqL1xyXG4gIHJvdXRlT2ZBZG1pbmlzdHJhdGlvbjogZmhpci5BZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25Sb3V0ZU9mQWRtaW5pc3RyYXRpb25BcmdzW118bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgbWVkaWNpbmFsIHByb2R1Y3QgaW4gdGhlIGZpbmFsIGZvcm0gd2hpY2ggaXMgc3VpdGFibGUgZm9yIGFkbWluaXN0ZXJpbmcgdG8gYSBwYXRpZW50IChhZnRlciBhbnkgbWl4aW5nIG9mIG11bHRpcGxlIGNvbXBvbmVudHMsIGRpc3NvbHV0aW9uIGV0Yy4gaGFzIGJlZW4gcGVyZm9ybWVkKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24gZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb25cIjtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIGZvciB0aGUgYWRtaW5pc3RyYWJsZSBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBBbGxvd3MgZmlsdGVyaW5nIG9mIGFkbWluaXN0cmFibGUgcHJvZHVjdHMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHVzZSB2ZXJzdXMgbm90LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UHVibGljYXRpb25TdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2VzIGEgcHJvZHVjdCBmcm9tIHdoaWNoIG9uZSBvciBtb3JlIG9mIHRoZSBjb25zdGl0dWVudCBwYXJ0cyBvZiB0aGF0IHByb2R1Y3QgY2FuIGJlIHByZXBhcmVkIGFuZCB1c2VkIGFzIGRlc2NyaWJlZCBieSB0aGlzIGFkbWluaXN0cmFibGUgcHJvZHVjdC4gIElmIHRoaXMgYWRtaW5pc3RyYWJsZSBwcm9kdWN0IGRlc2NyaWJlcyB0aGUgYWRtaW5pc3RyYXRpb24gb2YgYSBjcnVzaGVkIHRhYmxldCwgdGhlICdmb3JtT2YnIHdvdWxkIGJlIHRoZSBwcm9kdWN0IHJlcHJlc2VudGluZyBhIGRpc3RyaWJ1dGlvbiBjb250YWluaW5nIHRhYmxldHMgYW5kIHBvc3NpYmx5IGFsc28gYSBjcmVhbS4gIFRoaXMgaXMgZGlzdGluY3QgZnJvbSB0aGUgJ3Byb2R1Y2VkRnJvbScgd2hpY2ggcmVmZXJzIHRvIHRoZSBzcGVjaWZpYyBjb21wb25lbnRzIG9mIHRoZSBwcm9kdWN0IHRoYXQgYXJlIHVzZWQgaW4gdGhpcyBwcmVwYXJhdGlvbiwgcmF0aGVyIHRoYW4gdGhlIHByb2R1Y3QgYXMgYSB3aG9sZS5cclxuICAgKi9cclxuICBwdWJsaWMgZm9ybU9mOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkb3NlIGZvcm0gb2YgdGhlIGZpbmFsIHByb2R1Y3QgYWZ0ZXIgbmVjZXNzYXJ5IHJlY29uc3RpdHV0aW9uIG9yIHByb2Nlc3NpbmcuIENvbnRyYXN0cyB0byB0aGUgbWFudWZhY3R1cmVkIGRvc2UgZm9ybSAoc2VlIE1hbnVmYWN0dXJlZEl0ZW1EZWZpbml0aW9uKS4gSWYgdGhlIG1hbnVmYWN0dXJlZCBmb3JtIHdhcyAncG93ZGVyIGZvciBzb2x1dGlvbiBmb3IgaW5qZWN0aW9uJywgdGhlIGFkbWluaXN0cmFibGUgZG9zZSBmb3JtIGNvdWxkIGJlICdzb2x1dGlvbiBmb3IgaW5qZWN0aW9uJyAob25jZSBtaXhlZCB3aXRoIGFub3RoZXIgaXRlbSBoYXZpbmcgbWFudWZhY3R1cmVkIGZvcm0gJ3NvbHZlbnQgZm9yIHNvbHV0aW9uIGZvciBpbmplY3Rpb24nKS5cclxuICAgKi9cclxuICBwdWJsaWMgYWRtaW5pc3RyYWJsZURvc2VGb3JtPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmVzZW50YXRpb24gdHlwZSBpbiB3aGljaCB0aGlzIGl0ZW0gaXMgZ2l2ZW4gdG8gYSBwYXRpZW50LiBlLmcuIGZvciBhIHNwcmF5IC0gJ3B1ZmYnIChhcyBpbiAnY29udGFpbnMgMTAwIG1jZyBwZXIgcHVmZicpLCBvciBmb3IgYSBsaXF1aWQgLSAndmlhbCcgKGFzIGluICdjb250YWlucyA1IG1sIHBlciB2aWFsJykuXHJcbiAgICovXHJcbiAgcHVibGljIHVuaXRPZlByZXNlbnRhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHNwZWNpZmljIG1hbnVmYWN0dXJlZCBpdGVtcyB0aGF0IGFyZSBwYXJ0IG9mIHRoZSAnZm9ybU9mJyBwcm9kdWN0IHRoYXQgYXJlIHVzZWQgaW4gdGhlIHByZXBhcmF0aW9uIG9mIHRoaXMgc3BlY2lmaWMgYWRtaW5pc3RyYWJsZSBmb3JtLiAgSW4gc29tZSBjYXNlcywgYW4gYWRtaW5pc3RyYWJsZSBmb3JtIG1pZ2h0IHVzZSBhbGwgb2YgdGhlIGl0ZW1zIGZyb20gdGhlIG92ZXJhbGwgcHJvZHVjdCAob3IgdGhlcmUgbWlnaHQgb25seSBiZSBvbmUgaXRlbSksIHdoaWxlIGluIG90aGVyIGNhc2VzLCBhbiBhZG1pbmlzdHJhYmxlIGZvcm0gbWlnaHQgdXNlIG9ubHkgYSBzdWJzZXQgb2YgdGhlIGl0ZW1zIGF2YWlsYWJsZSBpbiB0aGUgb3ZlcmFsbCBwcm9kdWN0LiAgRm9yIGV4YW1wbGUsIGFuIGFkbWluaXN0cmFibGUgZm9ybSBtaWdodCBpbnZvbHZlIGNvbWJpbmluZyBhIGxpcXVpZCBhbmQgYSBwb3dkZXIgYXZhaWxhYmxlIGFzIHBhcnQgb2YgYW4gb3ZlcmFsbCBwcm9kdWN0LCBidXQgbm90IGludm9sdmUgYXBwbHlpbmcgdGhlIGFsc28gc3VwcGxpZWQgY3JlYW0uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y2VkRnJvbTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgaW5ncmVkaWVudHMgb2YgdGhpcyBhZG1pbmlzdHJhYmxlIG1lZGljaW5hbCBwcm9kdWN0LiBUaGlzIGlzIG9ubHkgbmVlZGVkIGlmIHRoZSBpbmdyZWRpZW50cyBhcmUgbm90IHNwZWNpZmllZCBlaXRoZXIgdXNpbmcgTWFudWZhY3R1cmVkSXRlbURlZmluaXRvbiAodmlhIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbi5wcm9kdWNlZEZyb20pIHRvIHN0YXRlIHdoaWNoIGNvbXBvbmVudCBpdGVtcyBhcmUgdXNlZCB0byBtYWtlIHRoaXMsIG9yIHVzaW5nIGJ5IGluY29taW5nIHJlZmVyZW5jZXMgZnJvbSB0aGUgSW5ncmVkaWVudCByZXNvdXJjZSwgdG8gc3RhdGUgaW4gZGV0YWlsIHdoaWNoIHN1YnN0YW5jZXMgZXhpc3Qgd2l0aGluIHRoaXMuIFRoaXMgZWxlbWVudCBhbGxvd3MgYSBiYXNpYyBjb2RlZCBpbmdyZWRpZW50IHRvIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGluZ3JlZGllbnQ6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQSBkZXZpY2UgdGhhdCBpcyBpbnRlZ3JhbCB0byB0aGUgbWVkaWNpbmFsIHByb2R1Y3QsIGluIGVmZmVjdCBiZWluZyBjb25zaWRlcmVkIGFzIGFuIFwiaW5ncmVkaWVudFwiIG9mIHRoZSBtZWRpY2luYWwgcHJvZHVjdC4gVGhpcyBpcyBub3QgaW50ZW5kZWQgZm9yIGRldmljZXMgdGhhdCBhcmUganVzdCBjby1wYWNrYWdlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGV2aWNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENoYXJhY3RlcmlzdGljcyBlLmcuIGEgcHJvZHVjdCdzIG9uc2V0IG9mIGFjdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvcGVydHk6IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUHJvcGVydHlbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGF0aCBieSB3aGljaCB0aGUgcHJvZHVjdCBpcyB0YWtlbiBpbnRvIG9yIG1ha2VzIGNvbnRhY3Qgd2l0aCB0aGUgYm9keS4gSW4gc29tZSByZWdpb25zIHRoaXMgaXMgcmVmZXJyZWQgdG8gYXMgdGhlIGxpY2VuY2VkIG9yIGFwcHJvdmVkIHJvdXRlLiBSb3V0ZU9mQWRtaW5pc3RyYXRpb24gY2Fubm90IGJlIHVzZWQgd2hlbiB0aGUgJ2Zvcm1PZicgcHJvZHVjdCBhbHJlYWR5IHVzZXMgTWVkaWNpbmFsUHJvZHVjdERlZmluaXRpb24ucm91dGUgKGFuZCB2aWNlIHZlcnNhKS5cclxuICAgKi9cclxuICBwdWJsaWMgcm91dGVPZkFkbWluaXN0cmF0aW9uOiBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblJvdXRlT2ZBZG1pbmlzdHJhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxQdWJsaWNhdGlvblN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZm9ybU9mJ10pIHsgdGhpcy5mb3JtT2YgPSBzb3VyY2UuZm9ybU9mLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZm9ybU9mID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkbWluaXN0cmFibGVEb3NlRm9ybSddKSB7IHRoaXMuYWRtaW5pc3RyYWJsZURvc2VGb3JtID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hZG1pbmlzdHJhYmxlRG9zZUZvcm0pOyB9XHJcbiAgICBpZiAoc291cmNlWyd1bml0T2ZQcmVzZW50YXRpb24nXSkgeyB0aGlzLnVuaXRPZlByZXNlbnRhdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudW5pdE9mUHJlc2VudGF0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZHVjZWRGcm9tJ10pIHsgdGhpcy5wcm9kdWNlZEZyb20gPSBzb3VyY2UucHJvZHVjZWRGcm9tLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvZHVjZWRGcm9tID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2luZ3JlZGllbnQnXSkgeyB0aGlzLmluZ3JlZGllbnQgPSBzb3VyY2UuaW5ncmVkaWVudC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluZ3JlZGllbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV2aWNlJ10pIHsgdGhpcy5kZXZpY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmRldmljZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb3BlcnR5J10pIHsgdGhpcy5wcm9wZXJ0eSA9IHNvdXJjZS5wcm9wZXJ0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkFkbWluaXN0cmFibGVQcm9kdWN0RGVmaW5pdGlvblByb3BlcnR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm91dGVPZkFkbWluaXN0cmF0aW9uJ10pIHsgdGhpcy5yb3V0ZU9mQWRtaW5pc3RyYXRpb24gPSBzb3VyY2Uucm91dGVPZkFkbWluaXN0cmF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQWRtaW5pc3RyYWJsZVByb2R1Y3REZWZpbml0aW9uUm91dGVPZkFkbWluaXN0cmF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucm91dGVPZkFkbWluaXN0cmF0aW9uID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBZG1pbmlzdHJhYmxlUHJvZHVjdERlZmluaXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVignc3RhdHVzJyxleHAsJ1B1YmxpY2F0aW9uU3RhdHVzJyxQdWJsaWNhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdmb3JtT2YnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2FkbWluaXN0cmFibGVEb3NlRm9ybScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndW5pdE9mUHJlc2VudGF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwcm9kdWNlZEZyb20nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2luZ3JlZGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RldmljZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHJvcGVydHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UkEoJ3JvdXRlT2ZBZG1pbmlzdHJhdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=