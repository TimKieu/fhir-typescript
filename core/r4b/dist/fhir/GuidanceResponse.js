// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: GuidanceResponse
import * as fhir from '../fhir.js';
// @ts-ignore
import { GuidanceResponseStatusVsValidation } from '../fhirValueSets/GuidanceResponseStatusVsValidation.js';
/**
 * A guidance response is the formal response to a guidance request, including any output parameters returned by the evaluation, as well as the description of any proposed actions to be taken.
 */
export class GuidanceResponse extends fhir.DomainResource {
    /**
     * Default constructor for GuidanceResponse - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'GuidanceResponse';
        if (source['requestIdentifier']) {
            this.requestIdentifier = new fhir.Identifier(source.requestIdentifier);
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['module']) {
            this.module = source.module;
        }
        else if (source['moduleUri']) {
            this.module = new fhir.FhirUri({ value: source.moduleUri });
        }
        else if (source['moduleCanonical']) {
            this.module = new fhir.FhirCanonical({ value: source.moduleCanonical });
        }
        else if (source['moduleCodeableConcept']) {
            this.module = new fhir.CodeableConcept(source.moduleCodeableConcept);
        }
        else {
            this.module = null;
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['occurrenceDateTime']) {
            this.occurrenceDateTime = new fhir.FhirDateTime({ value: source.occurrenceDateTime });
        }
        if (source['_occurrenceDateTime']) {
            if (this.occurrenceDateTime) {
                this.occurrenceDateTime.addExtendedProperties(source._occurrenceDateTime);
            }
            else {
                this.occurrenceDateTime = new fhir.FhirDateTime(source._occurrenceDateTime);
            }
        }
        if (source['performer']) {
            this.performer = new fhir.Reference(source.performer);
        }
        if (source['reasonCode']) {
            this.reasonCode = source.reasonCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reasonCode = [];
        }
        if (source['reasonReference']) {
            this.reasonReference = source.reasonReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.reasonReference = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['evaluationMessage']) {
            this.evaluationMessage = source.evaluationMessage.map((x) => new fhir.Reference(x));
        }
        else {
            this.evaluationMessage = [];
        }
        if (source['outputParameters']) {
            this.outputParameters = new fhir.Reference(source.outputParameters);
        }
        if (source['result']) {
            this.result = new fhir.Reference(source.result);
        }
        if (source['dataRequirement']) {
            this.dataRequirement = source.dataRequirement.map((x) => new fhir.DataRequirement(x));
        }
        else {
            this.dataRequirement = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'GuidanceResponse';
        }
        this.vRS('resourceType', exp);
        this.vOS('requestIdentifier', exp);
        this.vOA('identifier', exp);
        this.vRS('module', exp);
        this.vRSV('status', exp, 'GuidanceResponseStatus', GuidanceResponseStatusVsValidation, 'r');
        this.vOS('subject', exp);
        this.vOS('encounter', exp);
        this.vOS('occurrenceDateTime', exp);
        this.vOS('performer', exp);
        this.vOA('reasonCode', exp);
        this.vOA('reasonReference', exp);
        this.vOA('note', exp);
        this.vOA('evaluationMessage', exp);
        this.vOS('outputParameters', exp);
        this.vOS('result', exp);
        this.vOA('dataRequirement', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
GuidanceResponse._fts_dataType = 'GuidanceResponse';
/**
 * Internal flag to properly serialize choice-type element GuidanceResponse.module[x]
 */
GuidanceResponse._fts_moduleIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3VpZGFuY2VSZXNwb25zZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvR3VpZGFuY2VSZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsZ0RBQWdEO0FBQ2hELGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFFbEMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBMkY1Rzs7R0FFRztBQUNILE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxJQUFJLENBQUMsY0FBYztJQXlFdkQ7O09BRUc7SUFDSCxZQUFZLFNBQXVDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzdGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksR0FBRyxrQkFBa0IsQ0FBQztRQUN2QyxJQUFJLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztTQUFFO1FBQzVHLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNoRztZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDOUIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7U0FBRTthQUNqRCxJQUFJLE1BQU0sQ0FBQyxXQUFXLENB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R0FBRyxDQUFDLGlCQUFpQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQy9CLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDakMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QixJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQy9CLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBeElEOztHQUVHO0FBQzZCLDhCQUFhLEdBQVUsa0JBQWtCLENBQUM7QUFpQjFFOztHQUVHO0FBQ3VCLG9DQUFtQixHQUFRLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yNGIuY29yZSB2ZXJzaW9uOiA0LjMuMFxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IEd1aWRhbmNlUmVzcG9uc2VcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlcywgIEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvR3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBHdWlkYW5jZVJlc3BvbnNlU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9HdWlkYW5jZVJlc3BvbnNlU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEd1aWRhbmNlUmVzcG9uc2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgR3VpZGFuY2VSZXNwb25zZUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkd1aWRhbmNlUmVzcG9uc2VcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHJlcXVlc3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVzcG9uc2UuIElmIGFuIGlkZW50aWZpZXIgd2FzIGdpdmVuIGFzIHBhcnQgb2YgdGhlIHJlcXVlc3QsIGl0IHdpbGwgYmUgcmVwcm9kdWNlZCBoZXJlIHRvIGVuYWJsZSB0aGUgcmVxdWVzdGVyIHRvIG1vcmUgZWFzaWx5IGlkZW50aWZ5IHRoZSByZXNwb25zZSBpbiBhIG11bHRpLXJlcXVlc3Qgc2NlbmFyaW8uXHJcbiAgICovXHJcbiAgcmVxdWVzdElkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgYSBzZXJ2aWNlIHRvIHByb3ZpZGUgIHVuaXF1ZSwgYnVzaW5lc3MgaWRlbnRpZmllcnMgZm9yIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyLCBDb2RlYWJsZUNvbmNlcHQgb3IgY2Fub25pY2FsIHJlZmVyZW5jZSB0byB0aGUgZ3VpZGFuY2UgdGhhdCB3YXMgcmVxdWVzdGVkLlxyXG4gICAqL1xyXG4gIG1vZHVsZT86IGZoaXIuRmhpclVyaXxmaGlyLkZoaXJDYW5vbmljYWx8Zmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIsIENvZGVhYmxlQ29uY2VwdCBvciBjYW5vbmljYWwgcmVmZXJlbmNlIHRvIHRoZSBndWlkYW5jZSB0aGF0IHdhcyByZXF1ZXN0ZWQuXHJcbiAgICovXHJcbiAgbW9kdWxlVXJpPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gaWRlbnRpZmllciwgQ29kZWFibGVDb25jZXB0IG9yIGNhbm9uaWNhbCByZWZlcmVuY2UgdG8gdGhlIGd1aWRhbmNlIHRoYXQgd2FzIHJlcXVlc3RlZC5cclxuICAgKi9cclxuICBtb2R1bGVDYW5vbmljYWw/OiBmaGlyLkZoaXJDYW5vbmljYWx8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyLCBDb2RlYWJsZUNvbmNlcHQgb3IgY2Fub25pY2FsIHJlZmVyZW5jZSB0byB0aGUgZ3VpZGFuY2UgdGhhdCB3YXMgcmVxdWVzdGVkLlxyXG4gICAqL1xyXG4gIG1vZHVsZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxHdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEd1aWRhbmNlUmVzcG9uc2Uuc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGllbnQgZm9yIHdoaWNoIHRoZSByZXF1ZXN0IHdhcyBwcm9jZXNzZWQuXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB3aWxsIHR5cGljYWxseSBiZSB0aGUgZW5jb3VudGVyIHRoZSBldmVudCBvY2N1cnJlZCB3aXRoaW4sIGJ1dCBzb21lIGFjdGl2aXRpZXMgbWF5IGJlIGluaXRpYXRlZCBwcmlvciB0byBvciBhZnRlciB0aGUgb2ZmaWNpYWwgY29wbWxldGlvbiBvZiBhbiBlbmNvdW50ZXIgYnV0IHN0aWxsIGJlIHRpZWQgdG8gdGhlIGNvbnRleHQgb2YgdGhlIGVuY291bnRlci5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGVuIHRoZSBndWlkYW5jZSByZXNwb25zZSB3YXMgcHJvY2Vzc2VkLlxyXG4gICAqL1xyXG4gIG9jY3VycmVuY2VEYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEd1aWRhbmNlUmVzcG9uc2Uub2NjdXJyZW5jZURhdGVUaW1lXHJcbiAgICovXHJcbiAgX29jY3VycmVuY2VEYXRlVGltZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYSByZWZlcmVuY2UgdG8gdGhlIGRldmljZSB0aGF0IHBlcmZvcm1lZCB0aGUgZ3VpZGFuY2UuXHJcbiAgICovXHJcbiAgcGVyZm9ybWVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIHJlYXNvbiBmb3IgdGhlIGd1aWRhbmNlIHJlc3BvbnNlIGluIGNvZGVkIG9yIHRleHR1YWwgZm9ybS5cclxuICAgKi9cclxuICByZWFzb25Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgcmVhc29uIHRoZSByZXF1ZXN0IHdhcyBpbml0aWF0ZWQuIFRoaXMgaXMgdHlwaWNhbGx5IHByb3ZpZGVkIGFzIGEgcGFyYW1ldGVyIHRvIHRoZSBldmFsdWF0aW9uIGFuZCBlY2hvZWQgYnkgdGhlIHNlcnZpY2UsIGFsdGhvdWdoIGZvciBzb21lIHVzZSBjYXNlcywgc3VjaCBhcyBzdWJzY3JpcHRpb24tIG9yIGV2ZW50LWJhc2VkIHNjZW5hcmlvcywgaXQgbWF5IHByb3ZpZGUgYW4gaW5kaWNhdGlvbiBvZiB0aGUgY2F1c2UgZm9yIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICByZWFzb25SZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYSBtZWNoYW5pc20gdG8gY29tbXVuaWNhdGUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWVzc2FnZXMgcmVzdWx0aW5nIGZyb20gdGhlIGV2YWx1YXRpb24gb2YgdGhlIGFydGlmYWN0IG9yIGFydGlmYWN0cy4gQXMgcGFydCBvZiBldmFsdWF0aW5nIHRoZSByZXF1ZXN0LCB0aGUgZW5naW5lIG1heSBwcm9kdWNlIGluZm9ybWF0aW9uYWwgb3Igd2FybmluZyBtZXNzYWdlcy4gVGhlc2UgbWVzc2FnZXMgd2lsbCBiZSBwcm92aWRlZCBieSB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgZXZhbHVhdGlvbk1lc3NhZ2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG91dHB1dCBwYXJhbWV0ZXJzIG9mIHRoZSBldmFsdWF0aW9uLCBpZiBhbnkuIE1hbnkgbW9kdWxlcyB3aWxsIHJlc3VsdCBpbiB0aGUgcmV0dXJuIG9mIHNwZWNpZmljIHJlc291cmNlcyBzdWNoIGFzIHByb2NlZHVyZSBvciBjb21tdW5pY2F0aW9uIHJlcXVlc3RzIHRoYXQgYXJlIHJldHVybmVkIGFzIHBhcnQgb2YgdGhlIG9wZXJhdGlvbiByZXN1bHQuIEhvd2V2ZXIsIG1vZHVsZXMgbWF5IGRlZmluZSBzcGVjaWZpYyBvdXRwdXRzIHRoYXQgd291bGQgYmUgcmV0dXJuZWQgYXMgdGhlIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiwgYW5kIHRoZXNlIHdvdWxkIGJlIHJldHVybmVkIGluIHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBvdXRwdXRQYXJhbWV0ZXJzPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYWN0aW9ucywgaWYgYW55LCBwcm9kdWNlZCBieSB0aGUgZXZhbHVhdGlvbiBvZiB0aGUgYXJ0aWZhY3QuXHJcbiAgICovXHJcbiAgcmVzdWx0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgZXZhbHVhdGlvbiBjb3VsZCBub3QgYmUgY29tcGxldGVkIGR1ZSB0byBsYWNrIG9mIGluZm9ybWF0aW9uLCBvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHdvdWxkIHBvdGVudGlhbGx5IHJlc3VsdCBpbiBhIG1vcmUgYWNjdXJhdGUgcmVzcG9uc2UsIHRoaXMgZWxlbWVudCB3aWxsIGEgZGVzY3JpcHRpb24gb2YgdGhlIGRhdGEgcmVxdWlyZWQgaW4gb3JkZXIgdG8gcHJvY2VlZCB3aXRoIHRoZSBldmFsdWF0aW9uLiBBIHN1YnNlcXVlbnQgcmVxdWVzdCB0byB0aGUgc2VydmljZSBzaG91bGQgaW5jbHVkZSB0aGlzIGRhdGEuXHJcbiAgICovXHJcbiAgZGF0YVJlcXVpcmVtZW50PzogZmhpci5EYXRhUmVxdWlyZW1lbnRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBndWlkYW5jZSByZXNwb25zZSBpcyB0aGUgZm9ybWFsIHJlc3BvbnNlIHRvIGEgZ3VpZGFuY2UgcmVxdWVzdCwgaW5jbHVkaW5nIGFueSBvdXRwdXQgcGFyYW1ldGVycyByZXR1cm5lZCBieSB0aGUgZXZhbHVhdGlvbiwgYXMgd2VsbCBhcyB0aGUgZGVzY3JpcHRpb24gb2YgYW55IHByb3Bvc2VkIGFjdGlvbnMgdG8gYmUgdGFrZW4uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR3VpZGFuY2VSZXNwb25zZSBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnR3VpZGFuY2VSZXNwb25zZSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJHdWlkYW5jZVJlc3BvbnNlXCI7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHJlcXVlc3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVzcG9uc2UuIElmIGFuIGlkZW50aWZpZXIgd2FzIGdpdmVuIGFzIHBhcnQgb2YgdGhlIHJlcXVlc3QsIGl0IHdpbGwgYmUgcmVwcm9kdWNlZCBoZXJlIHRvIGVuYWJsZSB0aGUgcmVxdWVzdGVyIHRvIG1vcmUgZWFzaWx5IGlkZW50aWZ5IHRoZSByZXNwb25zZSBpbiBhIG11bHRpLXJlcXVlc3Qgc2NlbmFyaW8uXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3RJZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgYSBzZXJ2aWNlIHRvIHByb3ZpZGUgIHVuaXF1ZSwgYnVzaW5lc3MgaWRlbnRpZmllcnMgZm9yIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogQW4gaWRlbnRpZmllciwgQ29kZWFibGVDb25jZXB0IG9yIGNhbm9uaWNhbCByZWZlcmVuY2UgdG8gdGhlIGd1aWRhbmNlIHRoYXQgd2FzIHJlcXVlc3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kdWxlOiAoZmhpci5GaGlyVXJpfGZoaXIuRmhpckNhbm9uaWNhbHxmaGlyLkNvZGVhYmxlQ29uY2VwdCl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEd1aWRhbmNlUmVzcG9uc2UubW9kdWxlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX21vZHVsZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGF0aWVudCBmb3Igd2hpY2ggdGhlIHJlcXVlc3Qgd2FzIHByb2Nlc3NlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHdpbGwgdHlwaWNhbGx5IGJlIHRoZSBlbmNvdW50ZXIgdGhlIGV2ZW50IG9jY3VycmVkIHdpdGhpbiwgYnV0IHNvbWUgYWN0aXZpdGllcyBtYXkgYmUgaW5pdGlhdGVkIHByaW9yIHRvIG9yIGFmdGVyIHRoZSBvZmZpY2lhbCBjb3BtbGV0aW9uIG9mIGFuIGVuY291bnRlciBidXQgc3RpbGwgYmUgdGllZCB0byB0aGUgY29udGV4dCBvZiB0aGUgZW5jb3VudGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZW4gdGhlIGd1aWRhbmNlIHJlc3BvbnNlIHdhcyBwcm9jZXNzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG9jY3VycmVuY2VEYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcm92aWRlcyBhIHJlZmVyZW5jZSB0byB0aGUgZGV2aWNlIHRoYXQgcGVyZm9ybWVkIHRoZSBndWlkYW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyZm9ybWVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgcmVhc29uIGZvciB0aGUgZ3VpZGFuY2UgcmVzcG9uc2UgaW4gY29kZWQgb3IgdGV4dHVhbCBmb3JtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb25Db2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgcmVhc29uIHRoZSByZXF1ZXN0IHdhcyBpbml0aWF0ZWQuIFRoaXMgaXMgdHlwaWNhbGx5IHByb3ZpZGVkIGFzIGEgcGFyYW1ldGVyIHRvIHRoZSBldmFsdWF0aW9uIGFuZCBlY2hvZWQgYnkgdGhlIHNlcnZpY2UsIGFsdGhvdWdoIGZvciBzb21lIHVzZSBjYXNlcywgc3VjaCBhcyBzdWJzY3JpcHRpb24tIG9yIGV2ZW50LWJhc2VkIHNjZW5hcmlvcywgaXQgbWF5IHByb3ZpZGUgYW4gaW5kaWNhdGlvbiBvZiB0aGUgY2F1c2UgZm9yIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uUmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGEgbWVjaGFuaXNtIHRvIGNvbW11bmljYXRlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlOiBmaGlyLkFubm90YXRpb25bXTtcclxuICAvKipcclxuICAgKiBNZXNzYWdlcyByZXN1bHRpbmcgZnJvbSB0aGUgZXZhbHVhdGlvbiBvZiB0aGUgYXJ0aWZhY3Qgb3IgYXJ0aWZhY3RzLiBBcyBwYXJ0IG9mIGV2YWx1YXRpbmcgdGhlIHJlcXVlc3QsIHRoZSBlbmdpbmUgbWF5IHByb2R1Y2UgaW5mb3JtYXRpb25hbCBvciB3YXJuaW5nIG1lc3NhZ2VzLiBUaGVzZSBtZXNzYWdlcyB3aWxsIGJlIHByb3ZpZGVkIGJ5IHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZXZhbHVhdGlvbk1lc3NhZ2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG91dHB1dCBwYXJhbWV0ZXJzIG9mIHRoZSBldmFsdWF0aW9uLCBpZiBhbnkuIE1hbnkgbW9kdWxlcyB3aWxsIHJlc3VsdCBpbiB0aGUgcmV0dXJuIG9mIHNwZWNpZmljIHJlc291cmNlcyBzdWNoIGFzIHByb2NlZHVyZSBvciBjb21tdW5pY2F0aW9uIHJlcXVlc3RzIHRoYXQgYXJlIHJldHVybmVkIGFzIHBhcnQgb2YgdGhlIG9wZXJhdGlvbiByZXN1bHQuIEhvd2V2ZXIsIG1vZHVsZXMgbWF5IGRlZmluZSBzcGVjaWZpYyBvdXRwdXRzIHRoYXQgd291bGQgYmUgcmV0dXJuZWQgYXMgdGhlIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiwgYW5kIHRoZXNlIHdvdWxkIGJlIHJldHVybmVkIGluIHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgb3V0cHV0UGFyYW1ldGVycz86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYWN0aW9ucywgaWYgYW55LCBwcm9kdWNlZCBieSB0aGUgZXZhbHVhdGlvbiBvZiB0aGUgYXJ0aWZhY3QuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc3VsdD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgZXZhbHVhdGlvbiBjb3VsZCBub3QgYmUgY29tcGxldGVkIGR1ZSB0byBsYWNrIG9mIGluZm9ybWF0aW9uLCBvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHdvdWxkIHBvdGVudGlhbGx5IHJlc3VsdCBpbiBhIG1vcmUgYWNjdXJhdGUgcmVzcG9uc2UsIHRoaXMgZWxlbWVudCB3aWxsIGEgZGVzY3JpcHRpb24gb2YgdGhlIGRhdGEgcmVxdWlyZWQgaW4gb3JkZXIgdG8gcHJvY2VlZCB3aXRoIHRoZSBldmFsdWF0aW9uLiBBIHN1YnNlcXVlbnQgcmVxdWVzdCB0byB0aGUgc2VydmljZSBzaG91bGQgaW5jbHVkZSB0aGlzIGRhdGEuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGFSZXF1aXJlbWVudDogZmhpci5EYXRhUmVxdWlyZW1lbnRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBHdWlkYW5jZVJlc3BvbnNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8R3VpZGFuY2VSZXNwb25zZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdHdWlkYW5jZVJlc3BvbnNlJztcclxuICAgIGlmIChzb3VyY2VbJ3JlcXVlc3RJZGVudGlmaWVyJ10pIHsgdGhpcy5yZXF1ZXN0SWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLnJlcXVlc3RJZGVudGlmaWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kdWxlJ10pIHsgdGhpcy5tb2R1bGUgPSBzb3VyY2UubW9kdWxlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ21vZHVsZVVyaSddKSB7IHRoaXMubW9kdWxlID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5tb2R1bGVVcml9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydtb2R1bGVDYW5vbmljYWwnXSkgeyB0aGlzLm1vZHVsZSA9IG5ldyBmaGlyLkZoaXJDYW5vbmljYWwoe3ZhbHVlOiBzb3VyY2UubW9kdWxlQ2Fub25pY2FsfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnbW9kdWxlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5tb2R1bGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLm1vZHVsZUNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vZHVsZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8R3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxHdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW5jb3VudGVyJ10pIHsgdGhpcy5lbmNvdW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmVuY291bnRlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ29jY3VycmVuY2VEYXRlVGltZSddKSB7IHRoaXMub2NjdXJyZW5jZURhdGVUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLm9jY3VycmVuY2VEYXRlVGltZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb2NjdXJyZW5jZURhdGVUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMub2NjdXJyZW5jZURhdGVUaW1lKSB7IHRoaXMub2NjdXJyZW5jZURhdGVUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29jY3VycmVuY2VEYXRlVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm9jY3VycmVuY2VEYXRlVGltZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX29jY3VycmVuY2VEYXRlVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwZXJmb3JtZXInXSkgeyB0aGlzLnBlcmZvcm1lciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGVyZm9ybWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uQ29kZSddKSB7IHRoaXMucmVhc29uQ29kZSA9IHNvdXJjZS5yZWFzb25Db2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVhc29uQ29kZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWFzb25SZWZlcmVuY2UnXSkgeyB0aGlzLnJlYXNvblJlZmVyZW5jZSA9IHNvdXJjZS5yZWFzb25SZWZlcmVuY2UubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWFzb25SZWZlcmVuY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IHNvdXJjZS5ub3RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQW5ub3RhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXZhbHVhdGlvbk1lc3NhZ2UnXSkgeyB0aGlzLmV2YWx1YXRpb25NZXNzYWdlID0gc291cmNlLmV2YWx1YXRpb25NZXNzYWdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXZhbHVhdGlvbk1lc3NhZ2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0cHV0UGFyYW1ldGVycyddKSB7IHRoaXMub3V0cHV0UGFyYW1ldGVycyA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3V0cHV0UGFyYW1ldGVycyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc3VsdCddKSB7IHRoaXMucmVzdWx0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZXN1bHQpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRhUmVxdWlyZW1lbnQnXSkgeyB0aGlzLmRhdGFSZXF1aXJlbWVudCA9IHNvdXJjZS5kYXRhUmVxdWlyZW1lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5EYXRhUmVxdWlyZW1lbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRhUmVxdWlyZW1lbnQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0d1aWRhbmNlUmVzcG9uc2UnIH1cclxuICAgIHRoaXMudlJTKCdyZXNvdXJjZVR5cGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdyZXF1ZXN0SWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudlJTKCdtb2R1bGUnLGV4cClcclxuICAgIHRoaXMudlJTVignc3RhdHVzJyxleHAsJ0d1aWRhbmNlUmVzcG9uc2VTdGF0dXMnLEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1MoJ3N1YmplY3QnLGV4cClcclxuICAgIHRoaXMudk9TKCdlbmNvdW50ZXInLGV4cClcclxuICAgIHRoaXMudk9TKCdvY2N1cnJlbmNlRGF0ZVRpbWUnLGV4cClcclxuICAgIHRoaXMudk9TKCdwZXJmb3JtZXInLGV4cClcclxuICAgIHRoaXMudk9BKCdyZWFzb25Db2RlJyxleHApXHJcbiAgICB0aGlzLnZPQSgncmVhc29uUmVmZXJlbmNlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnbm90ZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2V2YWx1YXRpb25NZXNzYWdlJyxleHApXHJcbiAgICB0aGlzLnZPUygnb3V0cHV0UGFyYW1ldGVycycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3Jlc3VsdCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2RhdGFSZXF1aXJlbWVudCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19