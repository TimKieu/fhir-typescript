// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: GuidanceResponse
import * as fhir from '../fhir.js';
// @ts-ignore
import { GuidanceResponseStatusVsValidation } from '../fhirValueSets/GuidanceResponseStatusVsValidation.js';
/**
 * A guidance response is the formal response to a guidance request, including any output parameters returned by the evaluation, as well as the description of any proposed actions to be taken.
 */
export class GuidanceResponse extends fhir.DomainResource {
    /**
     * Default constructor for GuidanceResponse - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'GuidanceResponse';
        if (source['requestIdentifier']) {
            this.requestIdentifier = new fhir.Identifier(source.requestIdentifier, options);
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['module']) {
            this.module = source.module;
        }
        else if (source['moduleUri'] !== undefined) {
            this.module = new fhir.FhirUri({ value: source.moduleUri }, options);
        }
        else if (source['moduleCanonical'] !== undefined) {
            this.module = new fhir.FhirCanonical({ value: source.moduleCanonical }, options);
        }
        else if (source['moduleCodeableConcept']) {
            this.module = new fhir.CodeableConcept(source.moduleCodeableConcept, options);
        }
        else {
            this.module = null;
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject, options);
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter, options);
        }
        if (source['occurrenceDateTime'] !== undefined) {
            this.occurrenceDateTime = new fhir.FhirDateTime({ value: source.occurrenceDateTime }, options);
        }
        if (source['_occurrenceDateTime']) {
            if (this.occurrenceDateTime) {
                this.occurrenceDateTime.addExtendedProperties(source._occurrenceDateTime);
            }
            else {
                this.occurrenceDateTime = new fhir.FhirDateTime(source._occurrenceDateTime, options);
            }
        }
        if (source['performer']) {
            this.performer = new fhir.Reference(source.performer, options);
        }
        if (source['reasonCode']) {
            this.reasonCode = source.reasonCode.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.reasonCode = [];
        }
        if (source['reasonReference']) {
            this.reasonReference = source.reasonReference.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.reasonReference = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x, options));
        }
        else {
            this.note = [];
        }
        if (source['evaluationMessage']) {
            this.evaluationMessage = source.evaluationMessage.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.evaluationMessage = [];
        }
        if (source['outputParameters']) {
            this.outputParameters = new fhir.Reference(source.outputParameters, options);
        }
        if (source['result']) {
            this.result = new fhir.Reference(source.result, options);
        }
        if (source['dataRequirement']) {
            this.dataRequirement = source.dataRequirement.map((x) => new fhir.DataRequirement(x, options));
        }
        else {
            this.dataRequirement = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'GuidanceResponse';
        }
        iss.push(...this.vOS('requestIdentifier', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRS('module', exp));
        iss.push(...this.vRSV('status', exp, 'GuidanceResponseStatus', GuidanceResponseStatusVsValidation, 'r'));
        iss.push(...this.vOS('subject', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vOS('occurrenceDateTime', exp));
        iss.push(...this.vOS('performer', exp));
        iss.push(...this.vOA('reasonCode', exp));
        iss.push(...this.vOA('reasonReference', exp));
        iss.push(...this.vOA('note', exp));
        iss.push(...this.vOA('evaluationMessage', exp));
        iss.push(...this.vOS('outputParameters', exp));
        iss.push(...this.vOS('result', exp));
        iss.push(...this.vOA('dataRequirement', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
GuidanceResponse._fts_dataType = 'GuidanceResponse';
/**
 * Internal flag to properly serialize choice-type element GuidanceResponse.module[x]
 */
GuidanceResponse._fts_moduleIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3VpZGFuY2VSZXNwb25zZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvR3VpZGFuY2VSZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsZ0RBQWdEO0FBQ2hELGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFFbEMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBMkY1Rzs7R0FFRztBQUNILE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxJQUFJLENBQUMsY0FBYztJQXlFdkQ7O09BRUc7SUFDSCxZQUFZLFNBQXVDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzdGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksR0FBRyxrQkFBa0IsQ0FBQztRQUN2QyxJQUFJLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUNySCxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3pHO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM5QixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUFFO2FBQ2pELElB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QixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDN0MsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQXZJRDs7R0FFRztBQUM2Qiw4QkFBYSxHQUFVLGtCQUFrQixDQUFDO0FBaUIxRTs7R0FFRztBQUN1QixvQ0FBbUIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBHdWlkYW5jZVJlc3BvbnNlXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBHdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZXMsICBHdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0d1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgR3VpZGFuY2VSZXNwb25zZVN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvR3VpZGFuY2VSZXNwb25zZVN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBHdWlkYW5jZVJlc3BvbnNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEd1aWRhbmNlUmVzcG9uc2VBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJHdWlkYW5jZVJlc3BvbnNlXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSByZXF1ZXN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJlc3BvbnNlLiBJZiBhbiBpZGVudGlmaWVyIHdhcyBnaXZlbiBhcyBwYXJ0IG9mIHRoZSByZXF1ZXN0LCBpdCB3aWxsIGJlIHJlcHJvZHVjZWQgaGVyZSB0byBlbmFibGUgdGhlIHJlcXVlc3RlciB0byBtb3JlIGVhc2lseSBpZGVudGlmeSB0aGUgcmVzcG9uc2UgaW4gYSBtdWx0aS1yZXF1ZXN0IHNjZW5hcmlvLlxyXG4gICAqL1xyXG4gIHJlcXVlc3RJZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGEgc2VydmljZSB0byBwcm92aWRlICB1bmlxdWUsIGJ1c2luZXNzIGlkZW50aWZpZXJzIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gaWRlbnRpZmllciwgQ29kZWFibGVDb25jZXB0IG9yIGNhbm9uaWNhbCByZWZlcmVuY2UgdG8gdGhlIGd1aWRhbmNlIHRoYXQgd2FzIHJlcXVlc3RlZC5cclxuICAgKi9cclxuICBtb2R1bGU/OiBmaGlyLkZoaXJVcml8Zmhpci5GaGlyQ2Fub25pY2FsfGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyLCBDb2RlYWJsZUNvbmNlcHQgb3IgY2Fub25pY2FsIHJlZmVyZW5jZSB0byB0aGUgZ3VpZGFuY2UgdGhhdCB3YXMgcmVxdWVzdGVkLlxyXG4gICAqL1xyXG4gIG1vZHVsZVVyaT86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIsIENvZGVhYmxlQ29uY2VwdCBvciBjYW5vbmljYWwgcmVmZXJlbmNlIHRvIHRoZSBndWlkYW5jZSB0aGF0IHdhcyByZXF1ZXN0ZWQuXHJcbiAgICovXHJcbiAgbW9kdWxlQ2Fub25pY2FsPzogZmhpci5GaGlyQ2Fub25pY2FsfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gaWRlbnRpZmllciwgQ29kZWFibGVDb25jZXB0IG9yIGNhbm9uaWNhbCByZWZlcmVuY2UgdG8gdGhlIGd1aWRhbmNlIHRoYXQgd2FzIHJlcXVlc3RlZC5cclxuICAgKi9cclxuICBtb2R1bGVDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8R3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBHdWlkYW5jZVJlc3BvbnNlLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRpZW50IGZvciB3aGljaCB0aGUgcmVxdWVzdCB3YXMgcHJvY2Vzc2VkLlxyXG4gICAqL1xyXG4gIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgd2lsbCB0eXBpY2FsbHkgYmUgdGhlIGVuY291bnRlciB0aGUgZXZlbnQgb2NjdXJyZWQgd2l0aGluLCBidXQgc29tZSBhY3Rpdml0aWVzIG1heSBiZSBpbml0aWF0ZWQgcHJpb3IgdG8gb3IgYWZ0ZXIgdGhlIG9mZmljaWFsIGNvcG1sZXRpb24gb2YgYW4gZW5jb3VudGVyIGJ1dCBzdGlsbCBiZSB0aWVkIHRvIHRoZSBjb250ZXh0IG9mIHRoZSBlbmNvdW50ZXIuXHJcbiAgICovXHJcbiAgZW5jb3VudGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hlbiB0aGUgZ3VpZGFuY2UgcmVzcG9uc2Ugd2FzIHByb2Nlc3NlZC5cclxuICAgKi9cclxuICBvY2N1cnJlbmNlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBHdWlkYW5jZVJlc3BvbnNlLm9jY3VycmVuY2VEYXRlVGltZVxyXG4gICAqL1xyXG4gIF9vY2N1cnJlbmNlRGF0ZVRpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGEgcmVmZXJlbmNlIHRvIHRoZSBkZXZpY2UgdGhhdCBwZXJmb3JtZWQgdGhlIGd1aWRhbmNlLlxyXG4gICAqL1xyXG4gIHBlcmZvcm1lcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSByZWFzb24gZm9yIHRoZSBndWlkYW5jZSByZXNwb25zZSBpbiBjb2RlZCBvciB0ZXh0dWFsIGZvcm0uXHJcbiAgICovXHJcbiAgcmVhc29uQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHJlYXNvbiB0aGUgcmVxdWVzdCB3YXMgaW5pdGlhdGVkLiBUaGlzIGlzIHR5cGljYWxseSBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciB0byB0aGUgZXZhbHVhdGlvbiBhbmQgZWNob2VkIGJ5IHRoZSBzZXJ2aWNlLCBhbHRob3VnaCBmb3Igc29tZSB1c2UgY2FzZXMsIHN1Y2ggYXMgc3Vic2NyaXB0aW9uLSBvciBldmVudC1iYXNlZCBzY2VuYXJpb3MsIGl0IG1heSBwcm92aWRlIGFuIGluZGljYXRpb24gb2YgdGhlIGNhdXNlIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcmVhc29uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGEgbWVjaGFuaXNtIHRvIGNvbW11bmljYXRlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkFubm90YXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1lc3NhZ2VzIHJlc3VsdGluZyBmcm9tIHRoZSBldmFsdWF0aW9uIG9mIHRoZSBhcnRpZmFjdCBvciBhcnRpZmFjdHMuIEFzIHBhcnQgb2YgZXZhbHVhdGluZyB0aGUgcmVxdWVzdCwgdGhlIGVuZ2luZSBtYXkgcHJvZHVjZSBpbmZvcm1hdGlvbmFsIG9yIHdhcm5pbmcgbWVzc2FnZXMuIFRoZXNlIG1lc3NhZ2VzIHdpbGwgYmUgcHJvdmlkZWQgYnkgdGhpcyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIGV2YWx1YXRpb25NZXNzYWdlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvdXRwdXQgcGFyYW1ldGVycyBvZiB0aGUgZXZhbHVhdGlvbiwgaWYgYW55LiBNYW55IG1vZHVsZXMgd2lsbCByZXN1bHQgaW4gdGhlIHJldHVybiBvZiBzcGVjaWZpYyByZXNvdXJjZXMgc3VjaCBhcyBwcm9jZWR1cmUgb3IgY29tbXVuaWNhdGlvbiByZXF1ZXN0cyB0aGF0IGFyZSByZXR1cm5lZCBhcyBwYXJ0IG9mIHRoZSBvcGVyYXRpb24gcmVzdWx0LiBIb3dldmVyLCBtb2R1bGVzIG1heSBkZWZpbmUgc3BlY2lmaWMgb3V0cHV0cyB0aGF0IHdvdWxkIGJlIHJldHVybmVkIGFzIHRoZSByZXN1bHQgb2YgdGhlIGV2YWx1YXRpb24sIGFuZCB0aGVzZSB3b3VsZCBiZSByZXR1cm5lZCBpbiB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgb3V0cHV0UGFyYW1ldGVycz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdGlvbnMsIGlmIGFueSwgcHJvZHVjZWQgYnkgdGhlIGV2YWx1YXRpb24gb2YgdGhlIGFydGlmYWN0LlxyXG4gICAqL1xyXG4gIHJlc3VsdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGV2YWx1YXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZCBkdWUgdG8gbGFjayBvZiBpbmZvcm1hdGlvbiwgb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiB3b3VsZCBwb3RlbnRpYWxseSByZXN1bHQgaW4gYSBtb3JlIGFjY3VyYXRlIHJlc3BvbnNlLCB0aGlzIGVsZW1lbnQgd2lsbCBhIGRlc2NyaXB0aW9uIG9mIHRoZSBkYXRhIHJlcXVpcmVkIGluIG9yZGVyIHRvIHByb2NlZWQgd2l0aCB0aGUgZXZhbHVhdGlvbi4gQSBzdWJzZXF1ZW50IHJlcXVlc3QgdG8gdGhlIHNlcnZpY2Ugc2hvdWxkIGluY2x1ZGUgdGhpcyBkYXRhLlxyXG4gICAqL1xyXG4gIGRhdGFSZXF1aXJlbWVudD86IGZoaXIuRGF0YVJlcXVpcmVtZW50QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgZ3VpZGFuY2UgcmVzcG9uc2UgaXMgdGhlIGZvcm1hbCByZXNwb25zZSB0byBhIGd1aWRhbmNlIHJlcXVlc3QsIGluY2x1ZGluZyBhbnkgb3V0cHV0IHBhcmFtZXRlcnMgcmV0dXJuZWQgYnkgdGhlIGV2YWx1YXRpb24sIGFzIHdlbGwgYXMgdGhlIGRlc2NyaXB0aW9uIG9mIGFueSBwcm9wb3NlZCBhY3Rpb25zIHRvIGJlIHRha2VuLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEd1aWRhbmNlUmVzcG9uc2UgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0d1aWRhbmNlUmVzcG9uc2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiR3VpZGFuY2VSZXNwb25zZVwiO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSByZXF1ZXN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJlc3BvbnNlLiBJZiBhbiBpZGVudGlmaWVyIHdhcyBnaXZlbiBhcyBwYXJ0IG9mIHRoZSByZXF1ZXN0LCBpdCB3aWxsIGJlIHJlcHJvZHVjZWQgaGVyZSB0byBlbmFibGUgdGhlIHJlcXVlc3RlciB0byBtb3JlIGVhc2lseSBpZGVudGlmeSB0aGUgcmVzcG9uc2UgaW4gYSBtdWx0aS1yZXF1ZXN0IHNjZW5hcmlvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0SWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGEgc2VydmljZSB0byBwcm92aWRlICB1bmlxdWUsIGJ1c2luZXNzIGlkZW50aWZpZXJzIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIsIENvZGVhYmxlQ29uY2VwdCBvciBjYW5vbmljYWwgcmVmZXJlbmNlIHRvIHRoZSBndWlkYW5jZSB0aGF0IHdhcyByZXF1ZXN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZHVsZTogKGZoaXIuRmhpclVyaXxmaGlyLkZoaXJDYW5vbmljYWx8Zmhpci5Db2RlYWJsZUNvbmNlcHQpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBHdWlkYW5jZVJlc3BvbnNlLm1vZHVsZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19tb2R1bGVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxHdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGllbnQgZm9yIHdoaWNoIHRoZSByZXF1ZXN0IHdhcyBwcm9jZXNzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB3aWxsIHR5cGljYWxseSBiZSB0aGUgZW5jb3VudGVyIHRoZSBldmVudCBvY2N1cnJlZCB3aXRoaW4sIGJ1dCBzb21lIGFjdGl2aXRpZXMgbWF5IGJlIGluaXRpYXRlZCBwcmlvciB0byBvciBhZnRlciB0aGUgb2ZmaWNpYWwgY29wbWxldGlvbiBvZiBhbiBlbmNvdW50ZXIgYnV0IHN0aWxsIGJlIHRpZWQgdG8gdGhlIGNvbnRleHQgb2YgdGhlIGVuY291bnRlci5cclxuICAgKi9cclxuICBwdWJsaWMgZW5jb3VudGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGVuIHRoZSBndWlkYW5jZSByZXNwb25zZSB3YXMgcHJvY2Vzc2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvY2N1cnJlbmNlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYSByZWZlcmVuY2UgdG8gdGhlIGRldmljZSB0aGF0IHBlcmZvcm1lZCB0aGUgZ3VpZGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmZvcm1lcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIHJlYXNvbiBmb3IgdGhlIGd1aWRhbmNlIHJlc3BvbnNlIGluIGNvZGVkIG9yIHRleHR1YWwgZm9ybS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uQ29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHJlYXNvbiB0aGUgcmVxdWVzdCB3YXMgaW5pdGlhdGVkLiBUaGlzIGlzIHR5cGljYWxseSBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciB0byB0aGUgZXZhbHVhdGlvbiBhbmQgZWNob2VkIGJ5IHRoZSBzZXJ2aWNlLCBhbHRob3VnaCBmb3Igc29tZSB1c2UgY2FzZXMsIHN1Y2ggYXMgc3Vic2NyaXB0aW9uLSBvciBldmVudC1iYXNlZCBzY2VuYXJpb3MsIGl0IG1heSBwcm92aWRlIGFuIGluZGljYXRpb24gb2YgdGhlIGNhdXNlIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYXNvblJlZmVyZW5jZTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBQcm92aWRlcyBhIG1lY2hhbmlzbSB0byBjb21tdW5pY2F0ZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZTogZmhpci5Bbm5vdGF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogTWVzc2FnZXMgcmVzdWx0aW5nIGZyb20gdGhlIGV2YWx1YXRpb24gb2YgdGhlIGFydGlmYWN0IG9yIGFydGlmYWN0cy4gQXMgcGFydCBvZiBldmFsdWF0aW5nIHRoZSByZXF1ZXN0LCB0aGUgZW5naW5lIG1heSBwcm9kdWNlIGluZm9ybWF0aW9uYWwgb3Igd2FybmluZyBtZXNzYWdlcy4gVGhlc2UgbWVzc2FnZXMgd2lsbCBiZSBwcm92aWRlZCBieSB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGV2YWx1YXRpb25NZXNzYWdlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvdXRwdXQgcGFyYW1ldGVycyBvZiB0aGUgZXZhbHVhdGlvbiwgaWYgYW55LiBNYW55IG1vZHVsZXMgd2lsbCByZXN1bHQgaW4gdGhlIHJldHVybiBvZiBzcGVjaWZpYyByZXNvdXJjZXMgc3VjaCBhcyBwcm9jZWR1cmUgb3IgY29tbXVuaWNhdGlvbiByZXF1ZXN0cyB0aGF0IGFyZSByZXR1cm5lZCBhcyBwYXJ0IG9mIHRoZSBvcGVyYXRpb24gcmVzdWx0LiBIb3dldmVyLCBtb2R1bGVzIG1heSBkZWZpbmUgc3BlY2lmaWMgb3V0cHV0cyB0aGF0IHdvdWxkIGJlIHJldHVybmVkIGFzIHRoZSByZXN1bHQgb2YgdGhlIGV2YWx1YXRpb24sIGFuZCB0aGVzZSB3b3VsZCBiZSByZXR1cm5lZCBpbiB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIG91dHB1dFBhcmFtZXRlcnM/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdGlvbnMsIGlmIGFueSwgcHJvZHVjZWQgYnkgdGhlIGV2YWx1YXRpb24gb2YgdGhlIGFydGlmYWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXN1bHQ/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGV2YWx1YXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZCBkdWUgdG8gbGFjayBvZiBpbmZvcm1hdGlvbiwgb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiB3b3VsZCBwb3RlbnRpYWxseSByZXN1bHQgaW4gYSBtb3JlIGFjY3VyYXRlIHJlc3BvbnNlLCB0aGlzIGVsZW1lbnQgd2lsbCBhIGRlc2NyaXB0aW9uIG9mIHRoZSBkYXRhIHJlcXVpcmVkIGluIG9yZGVyIHRvIHByb2NlZWQgd2l0aCB0aGUgZXZhbHVhdGlvbi4gQSBzdWJzZXF1ZW50IHJlcXVlc3QgdG8gdGhlIHNlcnZpY2Ugc2hvdWxkIGluY2x1ZGUgdGhpcyBkYXRhLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRhUmVxdWlyZW1lbnQ6IGZoaXIuRGF0YVJlcXVpcmVtZW50W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgR3VpZGFuY2VSZXNwb25zZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEd1aWRhbmNlUmVzcG9uc2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnR3VpZGFuY2VSZXNwb25zZSc7XHJcbiAgICBpZiAoc291cmNlWydyZXF1ZXN0SWRlbnRpZmllciddKSB7IHRoaXMucmVxdWVzdElkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5yZXF1ZXN0SWRlbnRpZmllciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21vZHVsZSddKSB7IHRoaXMubW9kdWxlID0gc291cmNlLm1vZHVsZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydtb2R1bGVVcmknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubW9kdWxlID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5tb2R1bGVVcml9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydtb2R1bGVDYW5vbmljYWwnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubW9kdWxlID0gbmV3IGZoaXIuRmhpckNhbm9uaWNhbCh7dmFsdWU6IHNvdXJjZS5tb2R1bGVDYW5vbmljYWx9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydtb2R1bGVDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLm1vZHVsZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubW9kdWxlQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kdWxlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8R3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydvY2N1cnJlbmNlRGF0ZVRpbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMub2NjdXJyZW5jZURhdGVUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLm9jY3VycmVuY2VEYXRlVGltZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfb2NjdXJyZW5jZURhdGVUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMub2NjdXJyZW5jZURhdGVUaW1lKSB7IHRoaXMub2NjdXJyZW5jZURhdGVUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29jY3VycmVuY2VEYXRlVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm9jY3VycmVuY2VEYXRlVGltZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX29jY3VycmVuY2VEYXRlVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwZXJmb3JtZXInXSkgeyB0aGlzLnBlcmZvcm1lciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGVyZm9ybWVyLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uQ29kZSddKSB7IHRoaXMucmVhc29uQ29kZSA9IHNvdXJjZS5yZWFzb25Db2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVhc29uQ29kZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWFzb25SZWZlcmVuY2UnXSkgeyB0aGlzLnJlYXNvblJlZmVyZW5jZSA9IHNvdXJjZS5yZWFzb25SZWZlcmVuY2UubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWFzb25SZWZlcmVuY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IHNvdXJjZS5ub3RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQW5ub3RhdGlvbih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXZhbHVhdGlvbk1lc3NhZ2UnXSkgeyB0aGlzLmV2YWx1YXRpb25NZXNzYWdlID0gc291cmNlLmV2YWx1YXRpb25NZXNzYWdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXZhbHVhdGlvbk1lc3NhZ2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0cHV0UGFyYW1ldGVycyddKSB7IHRoaXMub3V0cHV0UGFyYW1ldGVycyA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3V0cHV0UGFyYW1ldGVycywgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc3VsdCddKSB7IHRoaXMucmVzdWx0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZXN1bHQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRhUmVxdWlyZW1lbnQnXSkgeyB0aGlzLmRhdGFSZXF1aXJlbWVudCA9IHNvdXJjZS5kYXRhUmVxdWlyZW1lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5EYXRhUmVxdWlyZW1lbnQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRhUmVxdWlyZW1lbnQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0d1aWRhbmNlUmVzcG9uc2UnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZXF1ZXN0SWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnbW9kdWxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVignc3RhdHVzJyxleHAsJ0d1aWRhbmNlUmVzcG9uc2VTdGF0dXMnLEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3ViamVjdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZW5jb3VudGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdvY2N1cnJlbmNlRGF0ZVRpbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BlcmZvcm1lcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVhc29uQ29kZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVhc29uUmVmZXJlbmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdub3RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdldmFsdWF0aW9uTWVzc2FnZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3V0cHV0UGFyYW1ldGVycycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVzdWx0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdkYXRhUmVxdWlyZW1lbnQnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19