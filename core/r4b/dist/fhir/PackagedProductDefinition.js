// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: PackagedProductDefinition
import * as fhir from '../fhir.js';
/**
 * The legal status of supply of the packaged item as classified by the regulator.
 */
export class PackagedProductDefinitionLegalStatusOfSupply extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionLegalStatusOfSupply - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code, options);
        }
        if (source['jurisdiction']) {
            this.jurisdiction = new fhir.CodeableConcept(source.jurisdiction, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.legalStatusOfSupply';
        }
        iss.push(...this.vOS('code', exp));
        iss.push(...this.vOS('jurisdiction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionLegalStatusOfSupply._fts_dataType = 'PackagedProductDefinitionLegalStatusOfSupply';
/**
 * Shelf Life and storage information.
 */
export class PackagedProductDefinitionPackageShelfLifeStorage extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageShelfLifeStorage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['period']) {
            this.period = source.period;
        }
        else if (source['periodDuration']) {
            this.period = new fhir.Duration(source.periodDuration, options);
        }
        else if (source['periodString'] !== undefined) {
            this.period = new fhir.FhirString({ value: source.periodString }, options);
        }
        if (source['specialPrecautionsForStorage']) {
            this.specialPrecautionsForStorage = source.specialPrecautionsForStorage.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.specialPrecautionsForStorage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.shelfLifeStorage';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('period', exp));
        iss.push(...this.vOA('specialPrecautionsForStorage', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageShelfLifeStorage._fts_dataType = 'PackagedProductDefinitionPackageShelfLifeStorage';
/**
 * Internal flag to properly serialize choice-type element PackagedProductDefinition.package.shelfLifeStorage.period[x]
 */
PackagedProductDefinitionPackageShelfLifeStorage._fts_periodIsChoice = true;
/**
 * General characteristics of this item.
 */
export class PackagedProductDefinitionPackageProperty extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageProperty - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept, options);
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity, options);
        }
        else if (source['valueDate'] !== undefined) {
            this.value = new fhir.FhirDate({ value: source.valueDate }, options);
        }
        else if (source['valueBoolean'] !== undefined) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean }, options);
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.property';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageProperty._fts_dataType = 'PackagedProductDefinitionPackageProperty';
/**
 * Internal flag to properly serialize choice-type element PackagedProductDefinition.package.property.value[x]
 */
PackagedProductDefinitionPackageProperty._fts_valueIsChoice = true;
/**
 * The item(s) within the packaging.
 */
export class PackagedProductDefinitionPackageContainedItem extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageContainedItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['item']) {
            this.item = new fhir.CodeableReference(source.item, options);
        }
        else {
            this.item = null;
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.containedItem';
        }
        iss.push(...this.vRS('item', exp));
        iss.push(...this.vOS('amount', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageContainedItem._fts_dataType = 'PackagedProductDefinitionPackageContainedItem';
/**
 * A packaging item, as a container for medically related items, possibly with other packaging items within, or a packaging component, such as bottle cap (which is not a device or a medication manufactured item).
 */
export class PackagedProductDefinitionPackage extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['quantity'] !== undefined) {
            this.quantity = new fhir.FhirInteger({ value: source.quantity }, options);
        }
        if (source['_quantity']) {
            if (this.quantity) {
                this.quantity.addExtendedProperties(source._quantity);
            }
            else {
                this.quantity = new fhir.FhirInteger(source._quantity, options);
            }
        }
        if (source['material']) {
            this.material = source.material.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.material = [];
        }
        if (source['alternateMaterial']) {
            this.alternateMaterial = source.alternateMaterial.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.alternateMaterial = [];
        }
        if (source['shelfLifeStorage']) {
            this.shelfLifeStorage = source.shelfLifeStorage.map((x) => new fhir.PackagedProductDefinitionPackageShelfLifeStorage(x, options));
        }
        else {
            this.shelfLifeStorage = [];
        }
        if (source['manufacturer']) {
            this.manufacturer = source.manufacturer.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.manufacturer = [];
        }
        if (source['property']) {
            this.property = source.property.map((x) => new fhir.PackagedProductDefinitionPackageProperty(x, options));
        }
        else {
            this.property = [];
        }
        if (source['containedItem']) {
            this.containedItem = source.containedItem.map((x) => new fhir.PackagedProductDefinitionPackageContainedItem(x, options));
        }
        else {
            this.containedItem = [];
        }
        if (source['package']) {
            this.package = source.package.map((x) => new fhir.PackagedProductDefinitionPackage(x, options));
        }
        else {
            this.package = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOA('material', exp));
        iss.push(...this.vOA('alternateMaterial', exp));
        iss.push(...this.vOA('shelfLifeStorage', exp));
        iss.push(...this.vOA('manufacturer', exp));
        iss.push(...this.vOA('property', exp));
        iss.push(...this.vOA('containedItem', exp));
        iss.push(...this.vOA('package', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackage._fts_dataType = 'PackagedProductDefinitionPackage';
/**
 * A medically related item or items, in a container or package.
 */
export class PackagedProductDefinition extends fhir.DomainResource {
    /**
     * Default constructor for PackagedProductDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'PackagedProductDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['name'] !== undefined) {
            this.name = new fhir.FhirString({ value: source.name }, options);
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name, options);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['packageFor']) {
            this.packageFor = source.packageFor.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.packageFor = [];
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status, options);
        }
        if (source['statusDate'] !== undefined) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate }, options);
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDateTime(source._statusDate, options);
            }
        }
        if (source['containedItemQuantity']) {
            this.containedItemQuantity = source.containedItemQuantity.map((x) => new fhir.Quantity(x, options));
        }
        else {
            this.containedItemQuantity = [];
        }
        if (source['description'] !== undefined) {
            this.description = new fhir.FhirMarkdown({ value: source.description }, options);
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description, options);
            }
        }
        if (source['legalStatusOfSupply']) {
            this.legalStatusOfSupply = source.legalStatusOfSupply.map((x) => new fhir.PackagedProductDefinitionLegalStatusOfSupply(x, options));
        }
        else {
            this.legalStatusOfSupply = [];
        }
        if (source['marketingStatus']) {
            this.marketingStatus = source.marketingStatus.map((x) => new fhir.MarketingStatus(x, options));
        }
        else {
            this.marketingStatus = [];
        }
        if (source['characteristic']) {
            this.characteristic = source.characteristic.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.characteristic = [];
        }
        if (source['copackagedIndicator'] !== undefined) {
            this.copackagedIndicator = new fhir.FhirBoolean({ value: source.copackagedIndicator }, options);
        }
        if (source['_copackagedIndicator']) {
            if (this.copackagedIndicator) {
                this.copackagedIndicator.addExtendedProperties(source._copackagedIndicator);
            }
            else {
                this.copackagedIndicator = new fhir.FhirBoolean(source._copackagedIndicator, options);
            }
        }
        if (source['manufacturer']) {
            this.manufacturer = source.manufacturer.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.manufacturer = [];
        }
        if (source['package']) {
            this.package = new fhir.PackagedProductDefinitionPackage(source.package, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOA('packageFor', exp));
        iss.push(...this.vOS('status', exp));
        iss.push(...this.vOS('statusDate', exp));
        iss.push(...this.vOA('containedItemQuantity', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOA('legalStatusOfSupply', exp));
        iss.push(...this.vOA('marketingStatus', exp));
        iss.push(...this.vOA('characteristic', exp));
        iss.push(...this.vOS('copackagedIndicator', exp));
        iss.push(...this.vOA('manufacturer', exp));
        iss.push(...this.vOS('package', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinition._fts_dataType = 'PackagedProductDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsZ0RBQWdEO0FBQ2hELGtDQUFrQztBQUNsQywyQ0FBMkM7QUFFM0MsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUE0Q25DOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRDQUE2QyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXBGOztPQUVHO0lBQ0gsWUFBWSxTQUFtRSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN6SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ25GLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO0lBQzdHLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLEdBQUcsR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRywrQ0FBK0MsQ0FBQTtTQUFFO1FBQ3pFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUE3QkQ7O0dBRUc7QUFDNkIsMERBQWEsR0FBVSw4Q0FBOEMsQ0FBQztBQXNEeEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sZ0RBQWlELFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQnhGOztPQUVHO0lBQ0gsWUFBWSxTQUF1RSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM3SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ25GLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1NBQUU7YUFDakQsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUNsRyxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUM1SCxJQUFJLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLDRCQUE0QixHQUFHLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3BLO1lBQUUsSUFBSSxDQUFDLDRCQUE0QixHQUFHLEVBQUUsQ0FBQztTQUFFO0lBQ2xELENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLEdBQUcsR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxvREFBb0QsQ0FBQTtTQUFFO1FBQzlFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLDhCQUE4QixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUQsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQTFDRDs7R0FFRztBQUM2Qiw4REFBYSxHQUFVLGtEQUFrRCxDQUFDO0FBUzFHOztHQUVHO0FBQ3VCLG9FQUFtQixHQUFRLElBQUksQ0FBQztBQStENUQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8sd0NBQXlDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQmhGOztPQUVHO0lBQ0gsWUFBWSxTQUErRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUNySCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQzlFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7U0FBRTtRQUMxQixJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztTQUFFO2FBQzlDLElBQUksTUFBTSxDQUFDLHNCQUFzQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUNwSCxJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUMvRixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUM5RyxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTthQUN2SCxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO0lBQzVHLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLEdBQUcsR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyw0Q0FBNEMsQ0FBQTtTQUFFO1FBQ3RFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUF2Q0Q7O0dBRUc7QUFDNkIsc0RBQWEsR0FBVSwwQ0FBMEMsQ0FBQztBQVNsRzs7R0FFRztBQUN1QiwyREFBa0IsR0FBUSxJQUFJLENBQUM7QUF3QzNEOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDZDQUE4QyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXJGOztPQUVHO0lBQ0gsWUFBWSxTQUFvRSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMxSCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7YUFDaEY7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO0lBQ3BGLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLEdBQUcsR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxpREFBaUQsQ0FBQTtTQUFFO1FBQzNFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUE5QkQ7O0dBRUc7QUFDNkIsMkRBQWEsR0FBVSwrQ0FBK0MsQ0FBQztBQStFekc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sZ0NBQWlDLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUE2Q3hFOztPQUVHO0lBQ0gsWUFBWSxTQUF1RCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM3RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDekc7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ25GLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ2xILElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxTQUFVLENBQUMsQ0FBQzthQUFFO2lCQUN6RTtnQkFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsU0FBMEMsRUFBRSxPQUFPLENBQUMsQ0FBQzthQUFFO1NBQzNHO1FBQ0QsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN4RztZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsbUJBQW1CLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuSTtZQUFFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNyQyxJQUFJLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGdEQUFnRCxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDaks7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDcEMsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTthQUM5RztZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDaEMsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2pJO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM1QixJQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLDZDQUE2QyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDcko7WUFBRSxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ2pDLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZ0NBQWdDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN0SDtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1NBQUU7SUFDN0IsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLG1DQUFtQyxDQUFBO1NBQUU7UUFDN0QsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMvQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzNDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUF6RkQ7O0dBRUc7QUFDNkIsOENBQWEsR0FBVSxrQ0FBa0MsQ0FBQztBQTBLNUY7O0dBRUc7QUFDSCxNQUFNLE9BQU8seUJBQTBCLFNBQVEsSUFBSSxDQUFDLGNBQWM7SUFpRWhFOztPQUVHO0lBQ0gsWUFBWSxTQUFnRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN0RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsMkJBQTJCLENBQUM7UUFDaEQsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN6RztZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDOUIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDckcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQUU7aUJBQzdEO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFxQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDakc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUNuRixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3hHO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM5QixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUN6RixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVSxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUN6SCxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUN6QixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsV0FBWSxDQUFDLENBQUM7YUFBRTtpQkFDL0U7Z0JBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLFdBQTZDLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFBRTtTQUNqSDtRQUNELElBQUksTUFBTSxDQUFDLHVCQUF1QixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMscUJBQXFCLEdBQUcsTUFBTSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDeEk7WUFBRSxJQUFJLENBQUMscUJBQXFCLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDekMsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFdBQVcsRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDNUgsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFDMUIsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUFFLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFlBQWEsQ0FBQyxDQUFDO2FBQUU7aUJBQ2xGO2dCQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxZQUE4QyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDbkg7UUFDRCxJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLDRDQUE0QyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDdEs7WUFBRSxJQUFJLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDdkMsSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxlQUFlLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzdIO1lBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNuQyxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDMUg7WUFBRSxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ2xDLElBQUksTUFBTSxDQUFDLHFCQUFxQixDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsbUJBQW1CLEVBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ25KLElBQUksTUFBTSxDQUFDLHNCQUFzQixDQUFDLEVBQUU7WUFDbEMsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxvQkFBcUIsQ0FBQyxDQUFDO2FBQUU7aUJBQzFHO2dCQUFFLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLG9CQUFxRCxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDakk7UUFDRCxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzlHO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNoQyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsZ0NBQWdDLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO0lBQy9HLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLEdBQUcsR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRywyQkFBMkIsQ0FBQTtTQUFFO1FBQ3JELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBaklEOztHQUVHO0FBQzZCLHVDQUFhLEdBQVUsMkJBQTJCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMZWdhbFN0YXR1c09mU3VwcGx5Q29kZXMsICBMZWdhbFN0YXR1c09mU3VwcGx5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xlZ2FsU3RhdHVzT2ZTdXBwbHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGVnYWxTdGF0dXNPZlN1cHBseVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGVnYWxTdGF0dXNPZlN1cHBseVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSnVyaXNkaWN0aW9uQ29kZXMsICBKdXJpc2RpY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSnVyaXNkaWN0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEp1cmlzZGljdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSnVyaXNkaWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdpbmdUeXBlQ29kZXMsICBQYWNrYWdpbmdUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhY2thZ2luZ1R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnaW5nVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnaW5nVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZU1hdGVyaWFsQ29kZXMsICBQYWNrYWdlTWF0ZXJpYWxDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZU1hdGVyaWFsQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhY2thZ2VNYXRlcmlhbFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZU1hdGVyaWFsVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdlVHlwZUNvZGVzLCAgUGFja2FnZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhY2thZ2VUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c0NvZGVzLCAgUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdlQ2hhcmFjdGVyaXN0aWNDb2RlcywgIFBhY2thZ2VDaGFyYWN0ZXJpc3RpY0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYWNrYWdlQ2hhcmFjdGVyaXN0aWNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZUNoYXJhY3RlcmlzdGljVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYWNrYWdlQ2hhcmFjdGVyaXN0aWNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIHN0YXR1cyBvZiBzdXBwbHkuIENvbnZleXMgaW4gd2hhdCBzaXR1YXRpb24gdGhpcyBwYWNrYWdlIHR5cGUgbWF5IGJlIHN1cHBsaWVkIGZvciB1c2UuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBsYWNlIHdoZXJlIHRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IGFwcGxpZXMuIFdoZW4gbm90IHNwZWNpZmllZCwgdGhpcyBpbmRpY2F0ZXMgaXQgaXMgdW5rbm93biBpbiB0aGlzIGNvbnRleHQuXHJcbiAgICovXHJcbiAganVyaXNkaWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IG9mIHRoZSBwYWNrYWdlZCBpdGVtIGFzIGNsYXNzaWZpZWQgYnkgdGhlIHJlZ3VsYXRvci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5JztcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIHN0YXR1cyBvZiBzdXBwbHkuIENvbnZleXMgaW4gd2hhdCBzaXR1YXRpb24gdGhpcyBwYWNrYWdlIHR5cGUgbWF5IGJlIHN1cHBsaWVkIGZvciB1c2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBsYWNlIHdoZXJlIHRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IGFwcGxpZXMuIFdoZW4gbm90IHNwZWNpZmllZCwgdGhpcyBpbmRpY2F0ZXMgaXQgaXMgdW5rbm93biBpbiB0aGlzIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGljIGp1cmlzZGljdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydqdXJpc2RpY3Rpb24nXSkgeyB0aGlzLmp1cmlzZGljdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuanVyaXNkaWN0aW9uLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ubGVnYWxTdGF0dXNPZlN1cHBseScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NvZGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2p1cmlzZGljdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlU2hlbGZMaWZlU3RvcmFnZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpYmVzIHRoZSBzaGVsZiBsaWZlLCB0YWtpbmcgaW50byBhY2NvdW50IHZhcmlvdXMgc2NlbmFyaW9zIHN1Y2ggYXMgc2hlbGYgbGlmZSBvZiB0aGUgcGFja2FnZWQgTWVkaWNpbmFsIFByb2R1Y3QgaXRzZWxmLCBzaGVsZiBsaWZlIGFmdGVyIHRyYW5zZm9ybWF0aW9uIHdoZXJlIG5lY2Vzc2FyeSBhbmQgc2hlbGYgbGlmZSBhZnRlciB0aGUgZmlyc3Qgb3BlbmluZyBvZiBhIGJvdHRsZSwgZXRjLiBUaGUgc2hlbGYgbGlmZSB0eXBlIHNoYWxsIGJlIHNwZWNpZmllZCB1c2luZyBhbiBhcHByb3ByaWF0ZSBjb250cm9sbGVkIHZvY2FidWxhcnkgVGhlIGNvbnRyb2xsZWQgdGVybSBhbmQgdGhlIGNvbnRyb2xsZWQgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2hlbGYgbGlmZSB0aW1lIHBlcmlvZCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGZvciB0aGUgcGVyaW9kIG9mIHRpbWUgYW5kIGl0cyB1bml0IG9mIHRpbWUgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5EdXJhdGlvbnxmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaGVsZiBsaWZlIHRpbWUgcGVyaW9kIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgZm9yIHRoZSBwZXJpb2Qgb2YgdGltZSBhbmQgaXRzIHVuaXQgb2YgdGltZSBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBwZXJpb2REdXJhdGlvbj86IGZoaXIuRHVyYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2hlbGYgbGlmZSB0aW1lIHBlcmlvZCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGZvciB0aGUgcGVyaW9kIG9mIHRpbWUgYW5kIGl0cyB1bml0IG9mIHRpbWUgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcGVyaW9kU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lhbCBwcmVjYXV0aW9ucyBmb3Igc3RvcmFnZSwgaWYgYW55LCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gVGhlIGNvbnRyb2xsZWQgdGVybSBhbmQgdGhlIGNvbnRyb2xsZWQgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBzcGVjaWFsUHJlY2F1dGlvbnNGb3JTdG9yYWdlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU2hlbGYgTGlmZSBhbmQgc3RvcmFnZSBpbmZvcm1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2UnO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpYmVzIHRoZSBzaGVsZiBsaWZlLCB0YWtpbmcgaW50byBhY2NvdW50IHZhcmlvdXMgc2NlbmFyaW9zIHN1Y2ggYXMgc2hlbGYgbGlmZSBvZiB0aGUgcGFja2FnZWQgTWVkaWNpbmFsIFByb2R1Y3QgaXRzZWxmLCBzaGVsZiBsaWZlIGFmdGVyIHRyYW5zZm9ybWF0aW9uIHdoZXJlIG5lY2Vzc2FyeSBhbmQgc2hlbGYgbGlmZSBhZnRlciB0aGUgZmlyc3Qgb3BlbmluZyBvZiBhIGJvdHRsZSwgZXRjLiBUaGUgc2hlbGYgbGlmZSB0eXBlIHNoYWxsIGJlIHNwZWNpZmllZCB1c2luZyBhbiBhcHByb3ByaWF0ZSBjb250cm9sbGVkIHZvY2FidWxhcnkgVGhlIGNvbnRyb2xsZWQgdGVybSBhbmQgdGhlIGNvbnRyb2xsZWQgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2hlbGYgbGlmZSB0aW1lIHBlcmlvZCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGZvciB0aGUgcGVyaW9kIG9mIHRpbWUgYW5kIGl0cyB1bml0IG9mIHRpbWUgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IChmaGlyLkR1cmF0aW9ufGZoaXIuRmhpclN0cmluZyl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLnNoZWxmTGlmZVN0b3JhZ2UucGVyaW9kW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3BlcmlvZElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpYWwgcHJlY2F1dGlvbnMgZm9yIHN0b3JhZ2UsIGlmIGFueSwgY2FuIGJlIHNwZWNpZmllZCB1c2luZyBhbiBhcHByb3ByaWF0ZSBjb250cm9sbGVkIHZvY2FidWxhcnkuIFRoZSBjb250cm9sbGVkIHRlcm0gYW5kIHRoZSBjb250cm9sbGVkIHRlcm0gaWRlbnRpZmllciBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2U6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IHNvdXJjZS5wZXJpb2Q7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncGVyaW9kRHVyYXRpb24nXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLkR1cmF0aW9uKHNvdXJjZS5wZXJpb2REdXJhdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncGVyaW9kU3RyaW5nJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucGVyaW9kU3RyaW5nfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2UnXSkgeyB0aGlzLnNwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2UgPSBzb3VyY2Uuc3BlY2lhbFByZWNhdXRpb25zRm9yU3RvcmFnZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZS5zaGVsZkxpZmVTdG9yYWdlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncGVyaW9kJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzcGVjaWFsUHJlY2F1dGlvbnNGb3JTdG9yYWdlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVByb3BlcnR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGUgZXhwcmVzc2luZyB0aGUgdHlwZSBvZiBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlF1YW50aXR5fGZoaXIuRmhpckRhdGV8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkF0dGFjaG1lbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB2YWx1ZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVBdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmFsIGNoYXJhY3RlcmlzdGljcyBvZiB0aGlzIGl0ZW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHknO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBleHByZXNzaW5nIHRoZSB0eXBlIG9mIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5RdWFudGl0eXxmaGlyLkZoaXJEYXRlfGZoaXIuRmhpckJvb2xlYW58Zmhpci5BdHRhY2htZW50KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UucHJvcGVydHkudmFsdWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdmFsdWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVByb3BlcnR5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbHVlQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVF1YW50aXR5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS52YWx1ZVF1YW50aXR5LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZURhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyRGF0ZSh7dmFsdWU6IHNvdXJjZS52YWx1ZURhdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUJvb2xlYW4nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS52YWx1ZUJvb2xlYW59LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUF0dGFjaG1lbnQnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuQXR0YWNobWVudChzb3VyY2UudmFsdWVBdHRhY2htZW50LCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZS5wcm9wZXJ0eScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ZhbHVlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW0gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdHVhbCBpdGVtKHMpIG9mIG1lZGljYXRpb24sIGFzIG1hbnVmYWN0dXJlZCwgb3IgYSBkZXZpY2UgKHR5cGljYWxseSwgYnV0IG5vdCBuZWNlc3NhcmlseSwgYSBjby1wYWNrYWdlZCBvbmUpLCBvciBvdGhlciBtZWRpY2FsbHkgcmVsYXRlZCBpdGVtIChzdWNoIGFzIGZvb2QsIGJpb2xvZ2ljYWxzLCByYXcgbWF0ZXJpYWxzLCBtZWRpY2FsIGZsdWlkcywgZ2FzZXMgZXRjLiksIGFzIGNvbnRhaW5lZCBpbiB0aGUgcGFja2FnZS4gVGhpcyBhbHNvIGFsbG93cyBhbm90aGVyIHdob2xlIHBhY2thZ2VkIHByb2R1Y3QgdG8gYmUgaW5jbHVkZWQsIHdoaWNoIGlzIHNvbGVseSBmb3IgdGhlIGNhc2Ugd2hlcmUgYSBwYWNrYWdlIG9mIG90aGVyIGVudGlyZSBwYWNrYWdlcyBpcyB3YW50ZWQgLSBzdWNoIGFzIGEgd2hvbGVzYWxlIG9yIGRpc3RyaWJ1dGlvbiBwYWNrIChmb3IgbGF5ZXJzIHdpdGhpbiBvbmUgcGFja2FnZSwgdXNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZS5wYWNrYWdlKS5cclxuICAgKi9cclxuICBpdGVtOiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgdGhpcyB0eXBlIG9mIGl0ZW0gd2l0aGluIHRoaXMgcGFja2FnaW5nLlxyXG4gICAqL1xyXG4gIGFtb3VudD86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBpdGVtKHMpIHdpdGhpbiB0aGUgcGFja2FnaW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlQ29udGFpbmVkSXRlbSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlQ29udGFpbmVkSXRlbSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdHVhbCBpdGVtKHMpIG9mIG1lZGljYXRpb24sIGFzIG1hbnVmYWN0dXJlZCwgb3IgYSBkZXZpY2UgKHR5cGljYWxseSwgYnV0IG5vdCBuZWNlc3NhcmlseSwgYSBjby1wYWNrYWdlZCBvbmUpLCBvciBvdGhlciBtZWRpY2FsbHkgcmVsYXRlZCBpdGVtIChzdWNoIGFzIGZvb2QsIGJpb2xvZ2ljYWxzLCByYXcgbWF0ZXJpYWxzLCBtZWRpY2FsIGZsdWlkcywgZ2FzZXMgZXRjLiksIGFzIGNvbnRhaW5lZCBpbiB0aGUgcGFja2FnZS4gVGhpcyBhbHNvIGFsbG93cyBhbm90aGVyIHdob2xlIHBhY2thZ2VkIHByb2R1Y3QgdG8gYmUgaW5jbHVkZWQsIHdoaWNoIGlzIHNvbGVseSBmb3IgdGhlIGNhc2Ugd2hlcmUgYSBwYWNrYWdlIG9mIG90aGVyIGVudGlyZSBwYWNrYWdlcyBpcyB3YW50ZWQgLSBzdWNoIGFzIGEgd2hvbGVzYWxlIG9yIGRpc3RyaWJ1dGlvbiBwYWNrIChmb3IgbGF5ZXJzIHdpdGhpbiBvbmUgcGFja2FnZSwgdXNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZS5wYWNrYWdlKS5cclxuICAgKi9cclxuICBwdWJsaWMgaXRlbTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgdGhpcyB0eXBlIG9mIGl0ZW0gd2l0aGluIHRoaXMgcGFja2FnaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbW91bnQ/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW0gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW1BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaXRlbSddKSB7IHRoaXMuaXRlbSA9IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHNvdXJjZS5pdGVtLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaXRlbSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Ftb3VudCddKSB7IHRoaXMuYW1vdW50ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmFtb3VudCwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UuY29udGFpbmVkSXRlbScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2l0ZW0nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Ftb3VudCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIHRoYXQgaXMgc3BlY2lmaWMgdG8gdGhpcyBwYXJ0aWN1bGFyIHBhcnQgb2YgdGhlIHBhY2thZ2luZy4gSW5jbHVkaW5nIHBvc3NpYmx5IERhdGEgQ2FycmllciBJZGVudGlmaWVyIChhIEdTMSBiYXJjb2RlKS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgdHlwZSBvZiB0aGUgY29udGFpbmVyIG9mIHRoZSBpdGVtcy5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhpcyBsZXZlbCBvZiBwYWNrYWdpbmcgaW4gdGhlIHBhY2thZ2UgdGhhdCBjb250YWlucyBpdC4gSWYgc3BlY2lmaWVkLCB0aGUgb3V0ZXJtb3N0IGxldmVsIGlzIGFsd2F5cyAxLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UucXVhbnRpdHlcclxuICAgKi9cclxuICBfcXVhbnRpdHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIHR5cGUgb2YgdGhlIHBhY2thZ2UgaXRlbS5cclxuICAgKi9cclxuICBtYXRlcmlhbD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHBvc3NpYmxlIGFsdGVybmF0ZSBtYXRlcmlhbCBmb3IgdGhpcyBwYXJ0IG9mIHRoZSBwYWNrYWdpbmcsIHRoYXQgaXMgYWxsb3dlZCB0byBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIHVzdWFsIG1hdGVyaWFsIChlLmcuIGRpZmZlcmVudCB0eXBlcyBvZiBwbGFzdGljIGZvciBhIGJsaXN0ZXIgc2xlZXZlKS5cclxuICAgKi9cclxuICBhbHRlcm5hdGVNYXRlcmlhbD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaGVsZiBMaWZlIGFuZCBzdG9yYWdlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHNoZWxmTGlmZVN0b3JhZ2U/OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlU2hlbGZMaWZlU3RvcmFnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFudWZhY3R1cmVyIG9mIHRoaXMgcGFja2FnZSBJdGVtLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBpdCBtZWFucyB0aGVzZSBhcmUgYWxsIHBvc3NpYmxlIG1hbnVmYWN0dXJlcnMuXHJcbiAgICovXHJcbiAgbWFudWZhY3R1cmVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEdlbmVyYWwgY2hhcmFjdGVyaXN0aWNzIG9mIHRoaXMgaXRlbS5cclxuICAgKi9cclxuICBwcm9wZXJ0eT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGl0ZW0ocykgd2l0aGluIHRoZSBwYWNrYWdpbmcuXHJcbiAgICovXHJcbiAgY29udGFpbmVkSXRlbT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgY29udGFpbmVycyAoYW5kIHBhcnRzIG9mIGNvbnRhaW5lcnMpIHBhcndpdGhpbiBjb250YWluZXJzLCBzdGlsbCBhIHNpbmdsZSBwYWNrYWdlZCBwcm9kdWN0LiAgU2VlIGFsc28gUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLmNvbnRhaW5lZEl0ZW0uaXRlbShQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uKS5cclxuICAgKi9cclxuICBwYWNrYWdlPzogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHBhY2thZ2luZyBpdGVtLCBhcyBhIGNvbnRhaW5lciBmb3IgbWVkaWNhbGx5IHJlbGF0ZWQgaXRlbXMsIHBvc3NpYmx5IHdpdGggb3RoZXIgcGFja2FnaW5nIGl0ZW1zIHdpdGhpbiwgb3IgYSBwYWNrYWdpbmcgY29tcG9uZW50LCBzdWNoIGFzIGJvdHRsZSBjYXAgKHdoaWNoIGlzIG5vdCBhIGRldmljZSBvciBhIG1lZGljYXRpb24gbWFudWZhY3R1cmVkIGl0ZW0pLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2UnO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgdGhhdCBpcyBzcGVjaWZpYyB0byB0aGlzIHBhcnRpY3VsYXIgcGFydCBvZiB0aGUgcGFja2FnaW5nLiBJbmNsdWRpbmcgcG9zc2libHkgRGF0YSBDYXJyaWVyIElkZW50aWZpZXIgKGEgR1MxIGJhcmNvZGUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgdHlwZSBvZiB0aGUgY29udGFpbmVyIG9mIHRoZSBpdGVtcy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhpcyBsZXZlbCBvZiBwYWNrYWdpbmcgaW4gdGhlIHBhY2thZ2UgdGhhdCBjb250YWlucyBpdC4gSWYgc3BlY2lmaWVkLCB0aGUgb3V0ZXJtb3N0IGxldmVsIGlzIGFsd2F5cyAxLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIHR5cGUgb2YgdGhlIHBhY2thZ2UgaXRlbS5cclxuICAgKi9cclxuICBwdWJsaWMgbWF0ZXJpYWw6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQSBwb3NzaWJsZSBhbHRlcm5hdGUgbWF0ZXJpYWwgZm9yIHRoaXMgcGFydCBvZiB0aGUgcGFja2FnaW5nLCB0aGF0IGlzIGFsbG93ZWQgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSB1c3VhbCBtYXRlcmlhbCAoZS5nLiBkaWZmZXJlbnQgdHlwZXMgb2YgcGxhc3RpYyBmb3IgYSBibGlzdGVyIHNsZWV2ZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGFsdGVybmF0ZU1hdGVyaWFsOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFNoZWxmIExpZmUgYW5kIHN0b3JhZ2UgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHNoZWxmTGlmZVN0b3JhZ2U6IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlW107XHJcbiAgLyoqXHJcbiAgICogTWFudWZhY3R1cmVyIG9mIHRoaXMgcGFja2FnZSBJdGVtLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBpdCBtZWFucyB0aGVzZSBhcmUgYWxsIHBvc3NpYmxlIG1hbnVmYWN0dXJlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1hbnVmYWN0dXJlcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGNoYXJhY3RlcmlzdGljcyBvZiB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIHByb3BlcnR5OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHlbXTtcclxuICAvKipcclxuICAgKiBUaGUgaXRlbShzKSB3aXRoaW4gdGhlIHBhY2thZ2luZy5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFpbmVkSXRlbTogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW1bXTtcclxuICAvKipcclxuICAgKiBBbGxvd3MgY29udGFpbmVycyAoYW5kIHBhcnRzIG9mIGNvbnRhaW5lcnMpIHBhcndpdGhpbiBjb250YWluZXJzLCBzdGlsbCBhIHNpbmdsZSBwYWNrYWdlZCBwcm9kdWN0LiAgU2VlIGFsc28gUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLmNvbnRhaW5lZEl0ZW0uaXRlbShQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uKS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZTogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuRmhpckludGVnZXIoe3ZhbHVlOiBzb3VyY2UucXVhbnRpdHl9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3F1YW50aXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMucXVhbnRpdHkpIHsgdGhpcy5xdWFudGl0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9xdWFudGl0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuRmhpckludGVnZXIoc291cmNlLl9xdWFudGl0eSBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21hdGVyaWFsJ10pIHsgdGhpcy5tYXRlcmlhbCA9IHNvdXJjZS5tYXRlcmlhbC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hdGVyaWFsID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FsdGVybmF0ZU1hdGVyaWFsJ10pIHsgdGhpcy5hbHRlcm5hdGVNYXRlcmlhbCA9IHNvdXJjZS5hbHRlcm5hdGVNYXRlcmlhbC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFsdGVybmF0ZU1hdGVyaWFsID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NoZWxmTGlmZVN0b3JhZ2UnXSkgeyB0aGlzLnNoZWxmTGlmZVN0b3JhZ2UgPSBzb3VyY2Uuc2hlbGZMaWZlU3RvcmFnZS5tYXAoKHgpID0+IG5ldyBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlU2hlbGZMaWZlU3RvcmFnZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNoZWxmTGlmZVN0b3JhZ2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWFudWZhY3R1cmVyJ10pIHsgdGhpcy5tYW51ZmFjdHVyZXIgPSBzb3VyY2UubWFudWZhY3R1cmVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubWFudWZhY3R1cmVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb3BlcnR5J10pIHsgdGhpcy5wcm9wZXJ0eSA9IHNvdXJjZS5wcm9wZXJ0eS5tYXAoKHgpID0+IG5ldyBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHkoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9wZXJ0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWluZWRJdGVtJ10pIHsgdGhpcy5jb250YWluZWRJdGVtID0gc291cmNlLmNvbnRhaW5lZEl0ZW0ubWFwKCh4KSA9PiBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW0oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWluZWRJdGVtID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhY2thZ2UnXSkgeyB0aGlzLnBhY2thZ2UgPSBzb3VyY2UucGFja2FnZS5tYXAoKHgpID0+IG5ldyBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGFja2FnZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ21hdGVyaWFsJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdhbHRlcm5hdGVNYXRlcmlhbCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc2hlbGZMaWZlU3RvcmFnZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbWFudWZhY3R1cmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwcm9wZXJ0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY29udGFpbmVkSXRlbScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncGFja2FnZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHBhY2thZ2UgYXMgd2hvbGUuIFVuaXF1ZSBpbnN0YW5jZSBpZGVudGlmaWVycyBhc3NpZ25lZCB0byBhIHBhY2thZ2UgYnkgbWFudWZhY3R1cmVycywgcmVndWxhdG9ycywgZHJ1ZyBjYXRhbG9ndWUgY3VzdG9kaWFucyBvciBvdGhlciBvcmdhbml6YXRpb25zLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbmFtZSBmb3IgdGhpcyBwYWNrYWdlLiBUeXBpY2FsbHkgd2hhdCBpdCB3b3VsZCBiZSBsaXN0ZWQgYXMgaW4gYSBkcnVnIGZvcm11bGFyeSBvciBjYXRhbG9ndWUsIGludmVudG9yeSBldGMuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBoaWdoIGxldmVsIGNhdGVnb3J5IGUuZy4gbWVkaWNpbmFsIHByb2R1Y3QsIHJhdyBtYXRlcmlhbCwgc2hpcHBpbmcvdHJhbnNwb3J0IGNvbnRhaW5lciwgZXRjLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IHRoYXQgdGhpcyBpcyBhIHBhY2sgZm9yLlxyXG4gICAqL1xyXG4gIHBhY2thZ2VGb3I/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyB3aXRoaW4gdGhlIGxpZmVjeWNsZSBvZiB0aGlzIGl0ZW0uIEEgaGlnaCBsZXZlbCBzdGF0dXMsIHRoaXMgaXMgbm90IGludGVuZGVkIHRvIGR1cGxpY2F0ZSBkZXRhaWxzIGNhcnJpZWQgZWxzZXdoZXJlIHN1Y2ggYXMgbGVnYWwgc3RhdHVzLCBvciBhdXRob3JpemF0aW9uIG9yIG1hcmtldGluZyBzdGF0dXMuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhdCB3aGljaCB0aGUgZ2l2ZW4gc3RhdHVzIGJlY2FtZSBhcHBsaWNhYmxlLlxyXG4gICAqL1xyXG4gIHN0YXR1c0RhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnN0YXR1c0RhdGVcclxuICAgKi9cclxuICBfc3RhdHVzRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSB0b3RhbCBvZiB0aGUgY29tcGxldGUgY291bnQgb2YgY29udGFpbmVkIGl0ZW1zIG9mIGEgcGFydGljdWxhciB0eXBlL2Zvcm0sIGluZGVwZW5kZW50IG9mIHN1Yi1wYWNrYWdpbmcgb3Igb3JnYW5pemF0aW9uLiBUaGlzIGNhbiBiZSBjb25zaWRlcmVkIGFzIHRoZSBwYWNrIHNpemUuIFRoaXMgYXR0cmlidXRlIGRpZmZlcnMgZnJvbSBjb250YWluZWRJdGVtLmFtb3VudCBpbiB0aGF0IGl0IGNhbiBnaXZlIGEgc2luZ2xlIGFnZ3JlZ2F0ZWQgY291bnQgb2YgYWxsIHRhYmxldCB0eXBlcyBpbiBhIHBhY2ssIGV2ZW4gd2hlbiB0aGVzZSBhcmUgZGlmZmVyZW50IG1hbnVmYWN0dXJlZCBpdGVtcy4gRm9yIGV4YW1wbGUgYSBwaWxsIHBhY2sgb2YgMjEgdGFibGV0cyBwbHVzIDcgc3VnYXIgdGFibGV0cywgY2FuIGJlIGRlbm90ZWQgaGVyZSBhcyAnMjggdGFibGV0cycuIFRoaXMgYXR0cmlidXRlIGlzIHJlcGVhdGFibGUgc28gdGhhdCB0aGUgZGlmZmVyZW50IGl0ZW0gdHlwZXMgaW4gb25lIHBhY2sgdHlwZSBjYW4gYmUgY291bnRlZCAoZS5nLiBhIGNvdW50IG9mIHZpYWxzIGFuZCBjb3VudCBvZiBzeXJpbmdlcykuIEVhY2ggcmVwZWF0IG11c3QgaGF2ZSBkaWZmZXJlbnQgdW5pdHMsIHNvIHRoYXQgaXQgaXMgY2xlYXIgd2hhdCB0aGUgZGlmZmVyZW50IHNldHMgb2YgY291bnRlZCBpdGVtcyBhcmUsIGFuZCBpdCBpcyBub3QgaW50ZW5kZWQgdG8gYWxsb3cgZGlmZmVyZW50IGNvdW50cyBvZiBzaW1pbGFyIGl0ZW1zIChlLmcuIG5vdCAnMiB0dWJlcyBhbmQgMyB0dWJlcycpLiBSZXBlYXRzIGFyZSBub3QgdG8gYmUgdXNlZCB0byByZXByZXNlbnQgZGlmZmVyZW50IHBhY2sgc2l6ZXMgKGUuZy4gMjAgcGFjayB2cy4gNTAgcGFjaykgLSB3aGljaCB3b3VsZCBiZSBkaWZmZXJlbnQgaW5zdGFuY2VzIG9mIHRoaXMgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgY29udGFpbmVkSXRlbVF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGV4dHVhbCBkZXNjcmlwdGlvbi4gTm90ZSB0aGF0IHRoaXMgaXMgbm90IHRoZSBuYW1lIG9mIHRoZSBwYWNrYWdlIG9yIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLmRlc2NyaXB0aW9uXHJcbiAgICovXHJcbiAgX2Rlc2NyaXB0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgbGVnYWwgc3RhdHVzIG9mIHN1cHBseSBvZiB0aGUgcGFja2FnZWQgaXRlbSBhcyBjbGFzc2lmaWVkIGJ5IHRoZSByZWd1bGF0b3IuXHJcbiAgICovXHJcbiAgbGVnYWxTdGF0dXNPZlN1cHBseT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBzcGVjaWZ5aW5nIHRoYXQgYW4gaXRlbSBpcyBvbiB0aGUgbWFya2V0IGZvciBzYWxlLCBvciB0aGF0IGl0IGlzIG5vdCBhdmFpbGFibGUsIGFuZCB0aGUgZGF0ZXMgYW5kIGxvY2F0aW9ucyBhc3NvY2lhdGVkLlxyXG4gICAqL1xyXG4gIG1hcmtldGluZ1N0YXR1cz86IGZoaXIuTWFya2V0aW5nU3RhdHVzQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgdGhlIGtleSBmZWF0dXJlcyB0byBiZSByZWNvcmRlZCwgc3VjaCBhcyBcImhvc3BpdGFsIHBhY2tcIiwgXCJudXJzZSBwcmVzY3JpYmFibGVcIiwgXCJjYWxlbmRhciBwYWNrXCIuXHJcbiAgICovXHJcbiAgY2hhcmFjdGVyaXN0aWM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RhdGVzIHdoZXRoZXIgYSBkcnVnIHByb2R1Y3QgaXMgc3VwcGxpZWQgd2l0aCBhbm90aGVyIGl0ZW0gc3VjaCBhcyBhIGRpbHVlbnQgb3IgYWRqdXZhbnQuXHJcbiAgICovXHJcbiAgY29wYWNrYWdlZEluZGljYXRvcj86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24uY29wYWNrYWdlZEluZGljYXRvclxyXG4gICAqL1xyXG4gIF9jb3BhY2thZ2VkSW5kaWNhdG9yPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBNYW51ZmFjdHVyZXIgb2YgdGhpcyBwYWNrYWdlIHR5cGUuIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGl0IG1lYW5zIHRoZXNlIGFyZSBhbGwgcG9zc2libGUgbWFudWZhY3R1cmVycy5cclxuICAgKi9cclxuICBtYW51ZmFjdHVyZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBwYWNrYWdpbmcgaXRlbSwgYXMgYSBjb250YWluZXIgZm9yIG1lZGljYWxseSByZWxhdGVkIGl0ZW1zLCBwb3NzaWJseSB3aXRoIG90aGVyIHBhY2thZ2luZyBpdGVtcyB3aXRoaW4sIG9yIGEgcGFja2FnaW5nIGNvbXBvbmVudCwgc3VjaCBhcyBib3R0bGUgY2FwICh3aGljaCBpcyBub3QgYSBkZXZpY2Ugb3IgYSBtZWRpY2F0aW9uIG1hbnVmYWN0dXJlZCBpdGVtKS5cclxuICAgKi9cclxuICBwYWNrYWdlPzogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBtZWRpY2FsbHkgcmVsYXRlZCBpdGVtIG9yIGl0ZW1zLCBpbiBhIGNvbnRhaW5lciBvciBwYWNrYWdlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24gZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblwiO1xyXG4gIC8qKlxyXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgcGFja2FnZSBhcyB3aG9sZS4gVW5pcXVlIGluc3RhbmNlIGlkZW50aWZpZXJzIGFzc2lnbmVkIHRvIGEgcGFja2FnZSBieSBtYW51ZmFjdHVyZXJzLCByZWd1bGF0b3JzLCBkcnVnIGNhdGFsb2d1ZSBjdXN0b2RpYW5zIG9yIG90aGVyIG9yZ2FuaXphdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIEEgbmFtZSBmb3IgdGhpcyBwYWNrYWdlLiBUeXBpY2FsbHkgd2hhdCBpdCB3b3VsZCBiZSBsaXN0ZWQgYXMgaW4gYSBkcnVnIGZvcm11bGFyeSBvciBjYXRhbG9ndWUsIGludmVudG9yeSBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgaGlnaCBsZXZlbCBjYXRlZ29yeSBlLmcuIG1lZGljaW5hbCBwcm9kdWN0LCByYXcgbWF0ZXJpYWwsIHNoaXBwaW5nL3RyYW5zcG9ydCBjb250YWluZXIsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCB0aGF0IHRoaXMgaXMgYSBwYWNrIGZvci5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZUZvcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIHdpdGhpbiB0aGUgbGlmZWN5Y2xlIG9mIHRoaXMgaXRlbS4gQSBoaWdoIGxldmVsIHN0YXR1cywgdGhpcyBpcyBub3QgaW50ZW5kZWQgdG8gZHVwbGljYXRlIGRldGFpbHMgY2FycmllZCBlbHNld2hlcmUgc3VjaCBhcyBsZWdhbCBzdGF0dXMsIG9yIGF1dGhvcml6YXRpb24gb3IgbWFya2V0aW5nIHN0YXR1cy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGF0IHdoaWNoIHRoZSBnaXZlbiBzdGF0dXMgYmVjYW1lIGFwcGxpY2FibGUuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1c0RhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB0b3RhbCBvZiB0aGUgY29tcGxldGUgY291bnQgb2YgY29udGFpbmVkIGl0ZW1zIG9mIGEgcGFydGljdWxhciB0eXBlL2Zvcm0sIGluZGVwZW5kZW50IG9mIHN1Yi1wYWNrYWdpbmcgb3Igb3JnYW5pemF0aW9uLiBUaGlzIGNhbiBiZSBjb25zaWRlcmVkIGFzIHRoZSBwYWNrIHNpemUuIFRoaXMgYXR0cmlidXRlIGRpZmZlcnMgZnJvbSBjb250YWluZWRJdGVtLmFtb3VudCBpbiB0aGF0IGl0IGNhbiBnaXZlIGEgc2luZ2xlIGFnZ3JlZ2F0ZWQgY291bnQgb2YgYWxsIHRhYmxldCB0eXBlcyBpbiBhIHBhY2ssIGV2ZW4gd2hlbiB0aGVzZSBhcmUgZGlmZmVyZW50IG1hbnVmYWN0dXJlZCBpdGVtcy4gRm9yIGV4YW1wbGUgYSBwaWxsIHBhY2sgb2YgMjEgdGFibGV0cyBwbHVzIDcgc3VnYXIgdGFibGV0cywgY2FuIGJlIGRlbm90ZWQgaGVyZSBhcyAnMjggdGFibGV0cycuIFRoaXMgYXR0cmlidXRlIGlzIHJlcGVhdGFibGUgc28gdGhhdCB0aGUgZGlmZmVyZW50IGl0ZW0gdHlwZXMgaW4gb25lIHBhY2sgdHlwZSBjYW4gYmUgY291bnRlZCAoZS5nLiBhIGNvdW50IG9mIHZpYWxzIGFuZCBjb3VudCBvZiBzeXJpbmdlcykuIEVhY2ggcmVwZWF0IG11c3QgaGF2ZSBkaWZmZXJlbnQgdW5pdHMsIHNvIHRoYXQgaXQgaXMgY2xlYXIgd2hhdCB0aGUgZGlmZmVyZW50IHNldHMgb2YgY291bnRlZCBpdGVtcyBhcmUsIGFuZCBpdCBpcyBub3QgaW50ZW5kZWQgdG8gYWxsb3cgZGlmZmVyZW50IGNvdW50cyBvZiBzaW1pbGFyIGl0ZW1zIChlLmcuIG5vdCAnMiB0dWJlcyBhbmQgMyB0dWJlcycpLiBSZXBlYXRzIGFyZSBub3QgdG8gYmUgdXNlZCB0byByZXByZXNlbnQgZGlmZmVyZW50IHBhY2sgc2l6ZXMgKGUuZy4gMjAgcGFjayB2cy4gNTAgcGFjaykgLSB3aGljaCB3b3VsZCBiZSBkaWZmZXJlbnQgaW5zdGFuY2VzIG9mIHRoaXMgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhaW5lZEl0ZW1RdWFudGl0eTogZmhpci5RdWFudGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIFRleHR1YWwgZGVzY3JpcHRpb24uIE5vdGUgdGhhdCB0aGlzIGlzIG5vdCB0aGUgbmFtZSBvZiB0aGUgcGFja2FnZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGVnYWwgc3RhdHVzIG9mIHN1cHBseSBvZiB0aGUgcGFja2FnZWQgaXRlbSBhcyBjbGFzc2lmaWVkIGJ5IHRoZSByZWd1bGF0b3IuXHJcbiAgICovXHJcbiAgcHVibGljIGxlZ2FsU3RhdHVzT2ZTdXBwbHk6IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHlbXTtcclxuICAvKipcclxuICAgKiBBbGxvd3Mgc3BlY2lmeWluZyB0aGF0IGFuIGl0ZW0gaXMgb24gdGhlIG1hcmtldCBmb3Igc2FsZSwgb3IgdGhhdCBpdCBpcyBub3QgYXZhaWxhYmxlLCBhbmQgdGhlIGRhdGVzIGFuZCBsb2NhdGlvbnMgYXNzb2NpYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbWFya2V0aW5nU3RhdHVzOiBmaGlyLk1hcmtldGluZ1N0YXR1c1tdO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyB0aGUga2V5IGZlYXR1cmVzIHRvIGJlIHJlY29yZGVkLCBzdWNoIGFzIFwiaG9zcGl0YWwgcGFja1wiLCBcIm51cnNlIHByZXNjcmliYWJsZVwiLCBcImNhbGVuZGFyIHBhY2tcIi5cclxuICAgKi9cclxuICBwdWJsaWMgY2hhcmFjdGVyaXN0aWM6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogU3RhdGVzIHdoZXRoZXIgYSBkcnVnIHByb2R1Y3QgaXMgc3VwcGxpZWQgd2l0aCBhbm90aGVyIGl0ZW0gc3VjaCBhcyBhIGRpbHVlbnQgb3IgYWRqdXZhbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNvcGFja2FnZWRJbmRpY2F0b3I/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYW51ZmFjdHVyZXIgb2YgdGhpcyBwYWNrYWdlIHR5cGUuIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGl0IG1lYW5zIHRoZXNlIGFyZSBhbGwgcG9zc2libGUgbWFudWZhY3R1cmVycy5cclxuICAgKi9cclxuICBwdWJsaWMgbWFudWZhY3R1cmVyOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEEgcGFja2FnaW5nIGl0ZW0sIGFzIGEgY29udGFpbmVyIGZvciBtZWRpY2FsbHkgcmVsYXRlZCBpdGVtcywgcG9zc2libHkgd2l0aCBvdGhlciBwYWNrYWdpbmcgaXRlbXMgd2l0aGluLCBvciBhIHBhY2thZ2luZyBjb21wb25lbnQsIHN1Y2ggYXMgYm90dGxlIGNhcCAod2hpY2ggaXMgbm90IGEgZGV2aWNlIG9yIGEgbWVkaWNhdGlvbiBtYW51ZmFjdHVyZWQgaXRlbSkuXHJcbiAgICovXHJcbiAgcHVibGljIHBhY2thZ2U/OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlRm9yJ10pIHsgdGhpcy5wYWNrYWdlRm9yID0gc291cmNlLnBhY2thZ2VGb3IubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYWNrYWdlRm9yID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zdGF0dXMsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXNEYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1c0RhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1c0RhdGUpIHsgdGhpcy5zdGF0dXNEYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1c0RhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXNEYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fc3RhdHVzRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWluZWRJdGVtUXVhbnRpdHknXSkgeyB0aGlzLmNvbnRhaW5lZEl0ZW1RdWFudGl0eSA9IHNvdXJjZS5jb250YWluZWRJdGVtUXVhbnRpdHkubWFwKCh4KSA9PiBuZXcgZmhpci5RdWFudGl0eSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhaW5lZEl0ZW1RdWFudGl0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bih7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpck1hcmtkb3duQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydsZWdhbFN0YXR1c09mU3VwcGx5J10pIHsgdGhpcy5sZWdhbFN0YXR1c09mU3VwcGx5ID0gc291cmNlLmxlZ2FsU3RhdHVzT2ZTdXBwbHkubWFwKCh4KSA9PiBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmxlZ2FsU3RhdHVzT2ZTdXBwbHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWFya2V0aW5nU3RhdHVzJ10pIHsgdGhpcy5tYXJrZXRpbmdTdGF0dXMgPSBzb3VyY2UubWFya2V0aW5nU3RhdHVzLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWFya2V0aW5nU3RhdHVzKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubWFya2V0aW5nU3RhdHVzID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NoYXJhY3RlcmlzdGljJ10pIHsgdGhpcy5jaGFyYWN0ZXJpc3RpYyA9IHNvdXJjZS5jaGFyYWN0ZXJpc3RpYy5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNoYXJhY3RlcmlzdGljID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvcGFja2FnZWRJbmRpY2F0b3InXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY29wYWNrYWdlZEluZGljYXRvciA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmNvcGFja2FnZWRJbmRpY2F0b3J9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvcGFja2FnZWRJbmRpY2F0b3InXSkge1xyXG4gICAgICBpZiAodGhpcy5jb3BhY2thZ2VkSW5kaWNhdG9yKSB7IHRoaXMuY29wYWNrYWdlZEluZGljYXRvci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb3BhY2thZ2VkSW5kaWNhdG9yISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29wYWNrYWdlZEluZGljYXRvciA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fY29wYWNrYWdlZEluZGljYXRvciBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21hbnVmYWN0dXJlciddKSB7IHRoaXMubWFudWZhY3R1cmVyID0gc291cmNlLm1hbnVmYWN0dXJlci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hbnVmYWN0dXJlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlJ10pIHsgdGhpcy5wYWNrYWdlID0gbmV3IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2Uoc291cmNlLnBhY2thZ2UsIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BhY2thZ2VGb3InLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3N0YXR1cycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3RhdHVzRGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY29udGFpbmVkSXRlbVF1YW50aXR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbGVnYWxTdGF0dXNPZlN1cHBseScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbWFya2V0aW5nU3RhdHVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjaGFyYWN0ZXJpc3RpYycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29wYWNrYWdlZEluZGljYXRvcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbWFudWZhY3R1cmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwYWNrYWdlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==