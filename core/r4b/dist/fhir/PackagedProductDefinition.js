// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: PackagedProductDefinition
import * as fhir from '../fhir.js';
/**
 * The legal status of supply of the packaged item as classified by the regulator.
 */
export class PackagedProductDefinitionLegalStatusOfSupply extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionLegalStatusOfSupply - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['jurisdiction']) {
            this.jurisdiction = new fhir.CodeableConcept(source.jurisdiction);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.legalStatusOfSupply';
        }
        iss.push(...this.vOS('code', exp));
        iss.push(...this.vOS('jurisdiction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionLegalStatusOfSupply._fts_dataType = 'PackagedProductDefinitionLegalStatusOfSupply';
/**
 * Shelf Life and storage information.
 */
export class PackagedProductDefinitionPackageShelfLifeStorage extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageShelfLifeStorage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['period']) {
            this.period = source.period;
        }
        else if (source['periodDuration']) {
            this.period = new fhir.Duration(source.periodDuration);
        }
        else if (source['periodString']) {
            this.period = new fhir.FhirString({ value: source.periodString });
        }
        if (source['specialPrecautionsForStorage']) {
            this.specialPrecautionsForStorage = source.specialPrecautionsForStorage.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.specialPrecautionsForStorage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.shelfLifeStorage';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('period', exp));
        iss.push(...this.vOA('specialPrecautionsForStorage', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageShelfLifeStorage._fts_dataType = 'PackagedProductDefinitionPackageShelfLifeStorage';
/**
 * Internal flag to properly serialize choice-type element PackagedProductDefinition.package.shelfLifeStorage.period[x]
 */
PackagedProductDefinitionPackageShelfLifeStorage._fts_periodIsChoice = true;
/**
 * General characteristics of this item.
 */
export class PackagedProductDefinitionPackageProperty extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageProperty - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueDate']) {
            this.value = new fhir.FhirDate({ value: source.valueDate });
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.property';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageProperty._fts_dataType = 'PackagedProductDefinitionPackageProperty';
/**
 * Internal flag to properly serialize choice-type element PackagedProductDefinition.package.property.value[x]
 */
PackagedProductDefinitionPackageProperty._fts_valueIsChoice = true;
/**
 * The item(s) within the packaging.
 */
export class PackagedProductDefinitionPackageContainedItem extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageContainedItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['item']) {
            this.item = new fhir.CodeableReference(source.item);
        }
        else {
            this.item = null;
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.containedItem';
        }
        iss.push(...this.vRS('item', exp));
        iss.push(...this.vOS('amount', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageContainedItem._fts_dataType = 'PackagedProductDefinitionPackageContainedItem';
/**
 * A packaging item, as a container for medically related items, possibly with other packaging items within, or a packaging component, such as bottle cap (which is not a device or a medication manufactured item).
 */
export class PackagedProductDefinitionPackage extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['quantity']) {
            this.quantity = new fhir.FhirInteger({ value: source.quantity });
        }
        if (source['_quantity']) {
            if (this.quantity) {
                this.quantity.addExtendedProperties(source._quantity);
            }
            else {
                this.quantity = new fhir.FhirInteger(source._quantity);
            }
        }
        if (source['material']) {
            this.material = source.material.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.material = [];
        }
        if (source['alternateMaterial']) {
            this.alternateMaterial = source.alternateMaterial.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.alternateMaterial = [];
        }
        if (source['shelfLifeStorage']) {
            this.shelfLifeStorage = source.shelfLifeStorage.map((x) => new fhir.PackagedProductDefinitionPackageShelfLifeStorage(x));
        }
        else {
            this.shelfLifeStorage = [];
        }
        if (source['manufacturer']) {
            this.manufacturer = source.manufacturer.map((x) => new fhir.Reference(x));
        }
        else {
            this.manufacturer = [];
        }
        if (source['property']) {
            this.property = source.property.map((x) => new fhir.PackagedProductDefinitionPackageProperty(x));
        }
        else {
            this.property = [];
        }
        if (source['containedItem']) {
            this.containedItem = source.containedItem.map((x) => new fhir.PackagedProductDefinitionPackageContainedItem(x));
        }
        else {
            this.containedItem = [];
        }
        if (source['package']) {
            this.package = source.package.map((x) => new fhir.PackagedProductDefinitionPackage(x));
        }
        else {
            this.package = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOA('material', exp));
        iss.push(...this.vOA('alternateMaterial', exp));
        iss.push(...this.vOA('shelfLifeStorage', exp));
        iss.push(...this.vOA('manufacturer', exp));
        iss.push(...this.vOA('property', exp));
        iss.push(...this.vOA('containedItem', exp));
        iss.push(...this.vOA('package', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackage._fts_dataType = 'PackagedProductDefinitionPackage';
/**
 * A medically related item or items, in a container or package.
 */
export class PackagedProductDefinition extends fhir.DomainResource {
    /**
     * Default constructor for PackagedProductDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'PackagedProductDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['packageFor']) {
            this.packageFor = source.packageFor.map((x) => new fhir.Reference(x));
        }
        else {
            this.packageFor = [];
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['statusDate']) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate });
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDateTime(source._statusDate);
            }
        }
        if (source['containedItemQuantity']) {
            this.containedItemQuantity = source.containedItemQuantity.map((x) => new fhir.Quantity(x));
        }
        else {
            this.containedItemQuantity = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description);
            }
        }
        if (source['legalStatusOfSupply']) {
            this.legalStatusOfSupply = source.legalStatusOfSupply.map((x) => new fhir.PackagedProductDefinitionLegalStatusOfSupply(x));
        }
        else {
            this.legalStatusOfSupply = [];
        }
        if (source['marketingStatus']) {
            this.marketingStatus = source.marketingStatus.map((x) => new fhir.MarketingStatus(x));
        }
        else {
            this.marketingStatus = [];
        }
        if (source['characteristic']) {
            this.characteristic = source.characteristic.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.characteristic = [];
        }
        if (source['copackagedIndicator']) {
            this.copackagedIndicator = new fhir.FhirBoolean({ value: source.copackagedIndicator });
        }
        if (source['_copackagedIndicator']) {
            if (this.copackagedIndicator) {
                this.copackagedIndicator.addExtendedProperties(source._copackagedIndicator);
            }
            else {
                this.copackagedIndicator = new fhir.FhirBoolean(source._copackagedIndicator);
            }
        }
        if (source['manufacturer']) {
            this.manufacturer = source.manufacturer.map((x) => new fhir.Reference(x));
        }
        else {
            this.manufacturer = [];
        }
        if (source['package']) {
            this.package = new fhir.PackagedProductDefinitionPackage(source.package);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOA('packageFor', exp));
        iss.push(...this.vOS('status', exp));
        iss.push(...this.vOS('statusDate', exp));
        iss.push(...this.vOA('containedItemQuantity', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOA('legalStatusOfSupply', exp));
        iss.push(...this.vOA('marketingStatus', exp));
        iss.push(...this.vOA('characteristic', exp));
        iss.push(...this.vOS('copackagedIndicator', exp));
        iss.push(...this.vOA('manufacturer', exp));
        iss.push(...this.vOS('package', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinition._fts_dataType = 'PackagedProductDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsZ0RBQWdEO0FBQ2hELGtDQUFrQztBQUNsQywyQ0FBMkM7QUFFM0MsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUE0Q25DOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRDQUE2QyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXBGOztPQUVHO0lBQ0gsWUFBWSxTQUFtRSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN6SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7U0FBRTtJQUNwRyxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxHQUFHLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFBRSxHQUFHLEdBQUcsK0NBQStDLENBQUE7U0FBRTtRQUN6RSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFD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SUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBbElEOztHQUVHO0FBQzZCLHVDQUFhLEdBQVUsMkJBQTJCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMZWdhbFN0YXR1c09mU3VwcGx5Q29kZXMsICBMZWdhbFN0YXR1c09mU3VwcGx5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xlZ2FsU3RhdHVzT2ZTdXBwbHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGVnYWxTdGF0dXNPZlN1cHBseVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGVnYWxTdGF0dXNPZlN1cHBseVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSnVyaXNkaWN0aW9uQ29kZXMsICBKdXJpc2RpY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSnVyaXNkaWN0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEp1cmlzZGljdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSnVyaXNkaWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdpbmdUeXBlQ29kZXMsICBQYWNrYWdpbmdUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhY2thZ2luZ1R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnaW5nVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnaW5nVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZU1hdGVyaWFsQ29kZXMsICBQYWNrYWdlTWF0ZXJpYWxDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZU1hdGVyaWFsQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhY2thZ2VNYXRlcmlhbFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZU1hdGVyaWFsVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdlVHlwZUNvZGVzLCAgUGFja2FnZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhY2thZ2VUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c0NvZGVzLCAgUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdlQ2hhcmFjdGVyaXN0aWNDb2RlcywgIFBhY2thZ2VDaGFyYWN0ZXJpc3RpY0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYWNrYWdlQ2hhcmFjdGVyaXN0aWNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZUNoYXJhY3RlcmlzdGljVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYWNrYWdlQ2hhcmFjdGVyaXN0aWNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIHN0YXR1cyBvZiBzdXBwbHkuIENvbnZleXMgaW4gd2hhdCBzaXR1YXRpb24gdGhpcyBwYWNrYWdlIHR5cGUgbWF5IGJlIHN1cHBsaWVkIGZvciB1c2UuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBsYWNlIHdoZXJlIHRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IGFwcGxpZXMuIFdoZW4gbm90IHNwZWNpZmllZCwgdGhpcyBpbmRpY2F0ZXMgaXQgaXMgdW5rbm93biBpbiB0aGlzIGNvbnRleHQuXHJcbiAgICovXHJcbiAganVyaXNkaWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IG9mIHRoZSBwYWNrYWdlZCBpdGVtIGFzIGNsYXNzaWZpZWQgYnkgdGhlIHJlZ3VsYXRvci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5JztcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIHN0YXR1cyBvZiBzdXBwbHkuIENvbnZleXMgaW4gd2hhdCBzaXR1YXRpb24gdGhpcyBwYWNrYWdlIHR5cGUgbWF5IGJlIHN1cHBsaWVkIGZvciB1c2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBsYWNlIHdoZXJlIHRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IGFwcGxpZXMuIFdoZW4gbm90IHNwZWNpZmllZCwgdGhpcyBpbmRpY2F0ZXMgaXQgaXMgdW5rbm93biBpbiB0aGlzIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGljIGp1cmlzZGljdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydqdXJpc2RpY3Rpb24nXSkgeyB0aGlzLmp1cmlzZGljdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuanVyaXNkaWN0aW9uKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ubGVnYWxTdGF0dXNPZlN1cHBseScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NvZGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2p1cmlzZGljdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlU2hlbGZMaWZlU3RvcmFnZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpYmVzIHRoZSBzaGVsZiBsaWZlLCB0YWtpbmcgaW50byBhY2NvdW50IHZhcmlvdXMgc2NlbmFyaW9zIHN1Y2ggYXMgc2hlbGYgbGlmZSBvZiB0aGUgcGFja2FnZWQgTWVkaWNpbmFsIFByb2R1Y3QgaXRzZWxmLCBzaGVsZiBsaWZlIGFmdGVyIHRyYW5zZm9ybWF0aW9uIHdoZXJlIG5lY2Vzc2FyeSBhbmQgc2hlbGYgbGlmZSBhZnRlciB0aGUgZmlyc3Qgb3BlbmluZyBvZiBhIGJvdHRsZSwgZXRjLiBUaGUgc2hlbGYgbGlmZSB0eXBlIHNoYWxsIGJlIHNwZWNpZmllZCB1c2luZyBhbiBhcHByb3ByaWF0ZSBjb250cm9sbGVkIHZvY2FidWxhcnkgVGhlIGNvbnRyb2xsZWQgdGVybSBhbmQgdGhlIGNvbnRyb2xsZWQgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2hlbGYgbGlmZSB0aW1lIHBlcmlvZCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGZvciB0aGUgcGVyaW9kIG9mIHRpbWUgYW5kIGl0cyB1bml0IG9mIHRpbWUgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5EdXJhdGlvbnxmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaGVsZiBsaWZlIHRpbWUgcGVyaW9kIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgZm9yIHRoZSBwZXJpb2Qgb2YgdGltZSBhbmQgaXRzIHVuaXQgb2YgdGltZSBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBwZXJpb2REdXJhdGlvbj86IGZoaXIuRHVyYXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2hlbGYgbGlmZSB0aW1lIHBlcmlvZCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGZvciB0aGUgcGVyaW9kIG9mIHRpbWUgYW5kIGl0cyB1bml0IG9mIHRpbWUgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcGVyaW9kU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lhbCBwcmVjYXV0aW9ucyBmb3Igc3RvcmFnZSwgaWYgYW55LCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gVGhlIGNvbnRyb2xsZWQgdGVybSBhbmQgdGhlIGNvbnRyb2xsZWQgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBzcGVjaWFsUHJlY2F1dGlvbnNGb3JTdG9yYWdlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU2hlbGYgTGlmZSBhbmQgc3RvcmFnZSBpbmZvcm1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2UnO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZGVzY3JpYmVzIHRoZSBzaGVsZiBsaWZlLCB0YWtpbmcgaW50byBhY2NvdW50IHZhcmlvdXMgc2NlbmFyaW9zIHN1Y2ggYXMgc2hlbGYgbGlmZSBvZiB0aGUgcGFja2FnZWQgTWVkaWNpbmFsIFByb2R1Y3QgaXRzZWxmLCBzaGVsZiBsaWZlIGFmdGVyIHRyYW5zZm9ybWF0aW9uIHdoZXJlIG5lY2Vzc2FyeSBhbmQgc2hlbGYgbGlmZSBhZnRlciB0aGUgZmlyc3Qgb3BlbmluZyBvZiBhIGJvdHRsZSwgZXRjLiBUaGUgc2hlbGYgbGlmZSB0eXBlIHNoYWxsIGJlIHNwZWNpZmllZCB1c2luZyBhbiBhcHByb3ByaWF0ZSBjb250cm9sbGVkIHZvY2FidWxhcnkgVGhlIGNvbnRyb2xsZWQgdGVybSBhbmQgdGhlIGNvbnRyb2xsZWQgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc2hlbGYgbGlmZSB0aW1lIHBlcmlvZCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGEgbnVtZXJpY2FsIHZhbHVlIGZvciB0aGUgcGVyaW9kIG9mIHRpbWUgYW5kIGl0cyB1bml0IG9mIHRpbWUgbWVhc3VyZW1lbnQgVGhlIHVuaXQgb2YgbWVhc3VyZW1lbnQgc2hhbGwgYmUgc3BlY2lmaWVkIGluIGFjY29yZGFuY2Ugd2l0aCBJU08gMTEyNDAgYW5kIHRoZSByZXN1bHRpbmcgdGVybWlub2xvZ3kgVGhlIHN5bWJvbCBhbmQgdGhlIHN5bWJvbCBpZGVudGlmaWVyIHNoYWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IChmaGlyLkR1cmF0aW9ufGZoaXIuRmhpclN0cmluZyl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLnNoZWxmTGlmZVN0b3JhZ2UucGVyaW9kW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3BlcmlvZElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpYWwgcHJlY2F1dGlvbnMgZm9yIHN0b3JhZ2UsIGlmIGFueSwgY2FuIGJlIHNwZWNpZmllZCB1c2luZyBhbiBhcHByb3ByaWF0ZSBjb250cm9sbGVkIHZvY2FidWxhcnkuIFRoZSBjb250cm9sbGVkIHRlcm0gYW5kIHRoZSBjb250cm9sbGVkIHRlcm0gaWRlbnRpZmllciBzaGFsbCBiZSBzcGVjaWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2U6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IHNvdXJjZS5wZXJpb2Q7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncGVyaW9kRHVyYXRpb24nXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLkR1cmF0aW9uKHNvdXJjZS5wZXJpb2REdXJhdGlvbik7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncGVyaW9kU3RyaW5nJ10pIHsgdGhpcy5wZXJpb2QgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnBlcmlvZFN0cmluZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWydzcGVjaWFsUHJlY2F1dGlvbnNGb3JTdG9yYWdlJ10pIHsgdGhpcy5zcGVjaWFsUHJlY2F1dGlvbnNGb3JTdG9yYWdlID0gc291cmNlLnNwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zcGVjaWFsUHJlY2F1dGlvbnNGb3JTdG9yYWdlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2Uuc2hlbGZMaWZlU3RvcmFnZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BlcmlvZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3BlY2lhbFByZWNhdXRpb25zRm9yU3RvcmFnZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVByb3BlcnR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIGV4cHJlc3NpbmcgdGhlIHR5cGUgb2YgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5RdWFudGl0eXxmaGlyLkZoaXJEYXRlfGZoaXIuRmhpckJvb2xlYW58Zmhpci5BdHRhY2htZW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB2YWx1ZVF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB2YWx1ZURhdGU/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlQm9vbGVhbj86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlQXR0YWNobWVudD86IGZoaXIuQXR0YWNobWVudEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhbCBjaGFyYWN0ZXJpc3RpY3Mgb2YgdGhpcyBpdGVtLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVByb3BlcnR5JztcclxuICAvKipcclxuICAgKiBBIGNvZGUgZXhwcmVzc2luZyB0aGUgdHlwZSBvZiBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlPzogKGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUXVhbnRpdHl8Zmhpci5GaGlyRGF0ZXxmaGlyLkZoaXJCb29sZWFufGZoaXIuQXR0YWNobWVudCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLnByb3BlcnR5LnZhbHVlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3ZhbHVlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHlBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBzb3VyY2UudmFsdWU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS52YWx1ZUNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVRdWFudGl0eSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UudmFsdWVRdWFudGl0eSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVEYXRlJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHt2YWx1ZTogc291cmNlLnZhbHVlRGF0ZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQm9vbGVhbiddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS52YWx1ZUJvb2xlYW59KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUF0dGFjaG1lbnQnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuQXR0YWNobWVudChzb3VyY2UudmFsdWVBdHRhY2htZW50KTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZS5wcm9wZXJ0eScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ZhbHVlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW0gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdHVhbCBpdGVtKHMpIG9mIG1lZGljYXRpb24sIGFzIG1hbnVmYWN0dXJlZCwgb3IgYSBkZXZpY2UgKHR5cGljYWxseSwgYnV0IG5vdCBuZWNlc3NhcmlseSwgYSBjby1wYWNrYWdlZCBvbmUpLCBvciBvdGhlciBtZWRpY2FsbHkgcmVsYXRlZCBpdGVtIChzdWNoIGFzIGZvb2QsIGJpb2xvZ2ljYWxzLCByYXcgbWF0ZXJpYWxzLCBtZWRpY2FsIGZsdWlkcywgZ2FzZXMgZXRjLiksIGFzIGNvbnRhaW5lZCBpbiB0aGUgcGFja2FnZS4gVGhpcyBhbHNvIGFsbG93cyBhbm90aGVyIHdob2xlIHBhY2thZ2VkIHByb2R1Y3QgdG8gYmUgaW5jbHVkZWQsIHdoaWNoIGlzIHNvbGVseSBmb3IgdGhlIGNhc2Ugd2hlcmUgYSBwYWNrYWdlIG9mIG90aGVyIGVudGlyZSBwYWNrYWdlcyBpcyB3YW50ZWQgLSBzdWNoIGFzIGEgd2hvbGVzYWxlIG9yIGRpc3RyaWJ1dGlvbiBwYWNrIChmb3IgbGF5ZXJzIHdpdGhpbiBvbmUgcGFja2FnZSwgdXNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZS5wYWNrYWdlKS5cclxuICAgKi9cclxuICBpdGVtOiBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgdGhpcyB0eXBlIG9mIGl0ZW0gd2l0aGluIHRoaXMgcGFja2FnaW5nLlxyXG4gICAqL1xyXG4gIGFtb3VudD86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBpdGVtKHMpIHdpdGhpbiB0aGUgcGFja2FnaW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlQ29udGFpbmVkSXRlbSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlQ29udGFpbmVkSXRlbSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdHVhbCBpdGVtKHMpIG9mIG1lZGljYXRpb24sIGFzIG1hbnVmYWN0dXJlZCwgb3IgYSBkZXZpY2UgKHR5cGljYWxseSwgYnV0IG5vdCBuZWNlc3NhcmlseSwgYSBjby1wYWNrYWdlZCBvbmUpLCBvciBvdGhlciBtZWRpY2FsbHkgcmVsYXRlZCBpdGVtIChzdWNoIGFzIGZvb2QsIGJpb2xvZ2ljYWxzLCByYXcgbWF0ZXJpYWxzLCBtZWRpY2FsIGZsdWlkcywgZ2FzZXMgZXRjLiksIGFzIGNvbnRhaW5lZCBpbiB0aGUgcGFja2FnZS4gVGhpcyBhbHNvIGFsbG93cyBhbm90aGVyIHdob2xlIHBhY2thZ2VkIHByb2R1Y3QgdG8gYmUgaW5jbHVkZWQsIHdoaWNoIGlzIHNvbGVseSBmb3IgdGhlIGNhc2Ugd2hlcmUgYSBwYWNrYWdlIG9mIG90aGVyIGVudGlyZSBwYWNrYWdlcyBpcyB3YW50ZWQgLSBzdWNoIGFzIGEgd2hvbGVzYWxlIG9yIGRpc3RyaWJ1dGlvbiBwYWNrIChmb3IgbGF5ZXJzIHdpdGhpbiBvbmUgcGFja2FnZSwgdXNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZS5wYWNrYWdlKS5cclxuICAgKi9cclxuICBwdWJsaWMgaXRlbTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgdGhpcyB0eXBlIG9mIGl0ZW0gd2l0aGluIHRoaXMgcGFja2FnaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbW91bnQ/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW0gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW1BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaXRlbSddKSB7IHRoaXMuaXRlbSA9IG5ldyBmaGlyLkNvZGVhYmxlUmVmZXJlbmNlKHNvdXJjZS5pdGVtKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaXRlbSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Ftb3VudCddKSB7IHRoaXMuYW1vdW50ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmFtb3VudCk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UuY29udGFpbmVkSXRlbScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2l0ZW0nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Ftb3VudCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIHRoYXQgaXMgc3BlY2lmaWMgdG8gdGhpcyBwYXJ0aWN1bGFyIHBhcnQgb2YgdGhlIHBhY2thZ2luZy4gSW5jbHVkaW5nIHBvc3NpYmx5IERhdGEgQ2FycmllciBJZGVudGlmaWVyIChhIEdTMSBiYXJjb2RlKS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgdHlwZSBvZiB0aGUgY29udGFpbmVyIG9mIHRoZSBpdGVtcy5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhpcyBsZXZlbCBvZiBwYWNrYWdpbmcgaW4gdGhlIHBhY2thZ2UgdGhhdCBjb250YWlucyBpdC4gSWYgc3BlY2lmaWVkLCB0aGUgb3V0ZXJtb3N0IGxldmVsIGlzIGFsd2F5cyAxLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UucXVhbnRpdHlcclxuICAgKi9cclxuICBfcXVhbnRpdHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIHR5cGUgb2YgdGhlIHBhY2thZ2UgaXRlbS5cclxuICAgKi9cclxuICBtYXRlcmlhbD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHBvc3NpYmxlIGFsdGVybmF0ZSBtYXRlcmlhbCBmb3IgdGhpcyBwYXJ0IG9mIHRoZSBwYWNrYWdpbmcsIHRoYXQgaXMgYWxsb3dlZCB0byBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIHVzdWFsIG1hdGVyaWFsIChlLmcuIGRpZmZlcmVudCB0eXBlcyBvZiBwbGFzdGljIGZvciBhIGJsaXN0ZXIgc2xlZXZlKS5cclxuICAgKi9cclxuICBhbHRlcm5hdGVNYXRlcmlhbD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaGVsZiBMaWZlIGFuZCBzdG9yYWdlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHNoZWxmTGlmZVN0b3JhZ2U/OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlU2hlbGZMaWZlU3RvcmFnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFudWZhY3R1cmVyIG9mIHRoaXMgcGFja2FnZSBJdGVtLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBpdCBtZWFucyB0aGVzZSBhcmUgYWxsIHBvc3NpYmxlIG1hbnVmYWN0dXJlcnMuXHJcbiAgICovXHJcbiAgbWFudWZhY3R1cmVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEdlbmVyYWwgY2hhcmFjdGVyaXN0aWNzIG9mIHRoaXMgaXRlbS5cclxuICAgKi9cclxuICBwcm9wZXJ0eT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGl0ZW0ocykgd2l0aGluIHRoZSBwYWNrYWdpbmcuXHJcbiAgICovXHJcbiAgY29udGFpbmVkSXRlbT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgY29udGFpbmVycyAoYW5kIHBhcnRzIG9mIGNvbnRhaW5lcnMpIHBhcndpdGhpbiBjb250YWluZXJzLCBzdGlsbCBhIHNpbmdsZSBwYWNrYWdlZCBwcm9kdWN0LiAgU2VlIGFsc28gUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLmNvbnRhaW5lZEl0ZW0uaXRlbShQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uKS5cclxuICAgKi9cclxuICBwYWNrYWdlPzogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHBhY2thZ2luZyBpdGVtLCBhcyBhIGNvbnRhaW5lciBmb3IgbWVkaWNhbGx5IHJlbGF0ZWQgaXRlbXMsIHBvc3NpYmx5IHdpdGggb3RoZXIgcGFja2FnaW5nIGl0ZW1zIHdpdGhpbiwgb3IgYSBwYWNrYWdpbmcgY29tcG9uZW50LCBzdWNoIGFzIGJvdHRsZSBjYXAgKHdoaWNoIGlzIG5vdCBhIGRldmljZSBvciBhIG1lZGljYXRpb24gbWFudWZhY3R1cmVkIGl0ZW0pLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2UnO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgdGhhdCBpcyBzcGVjaWZpYyB0byB0aGlzIHBhcnRpY3VsYXIgcGFydCBvZiB0aGUgcGFja2FnaW5nLiBJbmNsdWRpbmcgcG9zc2libHkgRGF0YSBDYXJyaWVyIElkZW50aWZpZXIgKGEgR1MxIGJhcmNvZGUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgdHlwZSBvZiB0aGUgY29udGFpbmVyIG9mIHRoZSBpdGVtcy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhpcyBsZXZlbCBvZiBwYWNrYWdpbmcgaW4gdGhlIHBhY2thZ2UgdGhhdCBjb250YWlucyBpdC4gSWYgc3BlY2lmaWVkLCB0aGUgb3V0ZXJtb3N0IGxldmVsIGlzIGFsd2F5cyAxLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIHR5cGUgb2YgdGhlIHBhY2thZ2UgaXRlbS5cclxuICAgKi9cclxuICBwdWJsaWMgbWF0ZXJpYWw6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQSBwb3NzaWJsZSBhbHRlcm5hdGUgbWF0ZXJpYWwgZm9yIHRoaXMgcGFydCBvZiB0aGUgcGFja2FnaW5nLCB0aGF0IGlzIGFsbG93ZWQgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSB1c3VhbCBtYXRlcmlhbCAoZS5nLiBkaWZmZXJlbnQgdHlwZXMgb2YgcGxhc3RpYyBmb3IgYSBibGlzdGVyIHNsZWV2ZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGFsdGVybmF0ZU1hdGVyaWFsOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFNoZWxmIExpZmUgYW5kIHN0b3JhZ2UgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHNoZWxmTGlmZVN0b3JhZ2U6IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlW107XHJcbiAgLyoqXHJcbiAgICogTWFudWZhY3R1cmVyIG9mIHRoaXMgcGFja2FnZSBJdGVtLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBpdCBtZWFucyB0aGVzZSBhcmUgYWxsIHBvc3NpYmxlIG1hbnVmYWN0dXJlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1hbnVmYWN0dXJlcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGNoYXJhY3RlcmlzdGljcyBvZiB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIHByb3BlcnR5OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHlbXTtcclxuICAvKipcclxuICAgKiBUaGUgaXRlbShzKSB3aXRoaW4gdGhlIHBhY2thZ2luZy5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFpbmVkSXRlbTogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW1bXTtcclxuICAvKipcclxuICAgKiBBbGxvd3MgY29udGFpbmVycyAoYW5kIHBhcnRzIG9mIGNvbnRhaW5lcnMpIHBhcndpdGhpbiBjb250YWluZXJzLCBzdGlsbCBhIHNpbmdsZSBwYWNrYWdlZCBwcm9kdWN0LiAgU2VlIGFsc28gUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLmNvbnRhaW5lZEl0ZW0uaXRlbShQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uKS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZTogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10pIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLnF1YW50aXR5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19xdWFudGl0eSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnF1YW50aXR5KSB7IHRoaXMucXVhbnRpdHkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcXVhbnRpdHkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fcXVhbnRpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYXRlcmlhbCddKSB7IHRoaXMubWF0ZXJpYWwgPSBzb3VyY2UubWF0ZXJpYWwubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYXRlcmlhbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhbHRlcm5hdGVNYXRlcmlhbCddKSB7IHRoaXMuYWx0ZXJuYXRlTWF0ZXJpYWwgPSBzb3VyY2UuYWx0ZXJuYXRlTWF0ZXJpYWwubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hbHRlcm5hdGVNYXRlcmlhbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzaGVsZkxpZmVTdG9yYWdlJ10pIHsgdGhpcy5zaGVsZkxpZmVTdG9yYWdlID0gc291cmNlLnNoZWxmTGlmZVN0b3JhZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zaGVsZkxpZmVTdG9yYWdlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbnVmYWN0dXJlciddKSB7IHRoaXMubWFudWZhY3R1cmVyID0gc291cmNlLm1hbnVmYWN0dXJlci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hbnVmYWN0dXJlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9wZXJ0eSddKSB7IHRoaXMucHJvcGVydHkgPSBzb3VyY2UucHJvcGVydHkubWFwKCh4KSA9PiBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVByb3BlcnR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFpbmVkSXRlbSddKSB7IHRoaXMuY29udGFpbmVkSXRlbSA9IHNvdXJjZS5jb250YWluZWRJdGVtLm1hcCgoeCkgPT4gbmV3IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29udGFpbmVkSXRlbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlJ10pIHsgdGhpcy5wYWNrYWdlID0gc291cmNlLnBhY2thZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhY2thZ2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3F1YW50aXR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdtYXRlcmlhbCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYWx0ZXJuYXRlTWF0ZXJpYWwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3NoZWxmTGlmZVN0b3JhZ2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ21hbnVmYWN0dXJlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHJvcGVydHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2NvbnRhaW5lZEl0ZW0nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BhY2thZ2UnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25cInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBwYWNrYWdlIGFzIHdob2xlLiBVbmlxdWUgaW5zdGFuY2UgaWRlbnRpZmllcnMgYXNzaWduZWQgdG8gYSBwYWNrYWdlIGJ5IG1hbnVmYWN0dXJlcnMsIHJlZ3VsYXRvcnMsIGRydWcgY2F0YWxvZ3VlIGN1c3RvZGlhbnMgb3Igb3RoZXIgb3JnYW5pemF0aW9ucy5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIG5hbWUgZm9yIHRoaXMgcGFja2FnZS4gVHlwaWNhbGx5IHdoYXQgaXQgd291bGQgYmUgbGlzdGVkIGFzIGluIGEgZHJ1ZyBmb3JtdWxhcnkgb3IgY2F0YWxvZ3VlLCBpbnZlbnRvcnkgZXRjLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgaGlnaCBsZXZlbCBjYXRlZ29yeSBlLmcuIG1lZGljaW5hbCBwcm9kdWN0LCByYXcgbWF0ZXJpYWwsIHNoaXBwaW5nL3RyYW5zcG9ydCBjb250YWluZXIsIGV0Yy5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCB0aGF0IHRoaXMgaXMgYSBwYWNrIGZvci5cclxuICAgKi9cclxuICBwYWNrYWdlRm9yPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgd2l0aGluIHRoZSBsaWZlY3ljbGUgb2YgdGhpcyBpdGVtLiBBIGhpZ2ggbGV2ZWwgc3RhdHVzLCB0aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBkdXBsaWNhdGUgZGV0YWlscyBjYXJyaWVkIGVsc2V3aGVyZSBzdWNoIGFzIGxlZ2FsIHN0YXR1cywgb3IgYXV0aG9yaXphdGlvbiBvciBtYXJrZXRpbmcgc3RhdHVzLlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYXQgd2hpY2ggdGhlIGdpdmVuIHN0YXR1cyBiZWNhbWUgYXBwbGljYWJsZS5cclxuICAgKi9cclxuICBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5zdGF0dXNEYXRlXHJcbiAgICovXHJcbiAgX3N0YXR1c0RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgdG90YWwgb2YgdGhlIGNvbXBsZXRlIGNvdW50IG9mIGNvbnRhaW5lZCBpdGVtcyBvZiBhIHBhcnRpY3VsYXIgdHlwZS9mb3JtLCBpbmRlcGVuZGVudCBvZiBzdWItcGFja2FnaW5nIG9yIG9yZ2FuaXphdGlvbi4gVGhpcyBjYW4gYmUgY29uc2lkZXJlZCBhcyB0aGUgcGFjayBzaXplLiBUaGlzIGF0dHJpYnV0ZSBkaWZmZXJzIGZyb20gY29udGFpbmVkSXRlbS5hbW91bnQgaW4gdGhhdCBpdCBjYW4gZ2l2ZSBhIHNpbmdsZSBhZ2dyZWdhdGVkIGNvdW50IG9mIGFsbCB0YWJsZXQgdHlwZXMgaW4gYSBwYWNrLCBldmVuIHdoZW4gdGhlc2UgYXJlIGRpZmZlcmVudCBtYW51ZmFjdHVyZWQgaXRlbXMuIEZvciBleGFtcGxlIGEgcGlsbCBwYWNrIG9mIDIxIHRhYmxldHMgcGx1cyA3IHN1Z2FyIHRhYmxldHMsIGNhbiBiZSBkZW5vdGVkIGhlcmUgYXMgJzI4IHRhYmxldHMnLiBUaGlzIGF0dHJpYnV0ZSBpcyByZXBlYXRhYmxlIHNvIHRoYXQgdGhlIGRpZmZlcmVudCBpdGVtIHR5cGVzIGluIG9uZSBwYWNrIHR5cGUgY2FuIGJlIGNvdW50ZWQgKGUuZy4gYSBjb3VudCBvZiB2aWFscyBhbmQgY291bnQgb2Ygc3lyaW5nZXMpLiBFYWNoIHJlcGVhdCBtdXN0IGhhdmUgZGlmZmVyZW50IHVuaXRzLCBzbyB0aGF0IGl0IGlzIGNsZWFyIHdoYXQgdGhlIGRpZmZlcmVudCBzZXRzIG9mIGNvdW50ZWQgaXRlbXMgYXJlLCBhbmQgaXQgaXMgbm90IGludGVuZGVkIHRvIGFsbG93IGRpZmZlcmVudCBjb3VudHMgb2Ygc2ltaWxhciBpdGVtcyAoZS5nLiBub3QgJzIgdHViZXMgYW5kIDMgdHViZXMnKS4gUmVwZWF0cyBhcmUgbm90IHRvIGJlIHVzZWQgdG8gcmVwcmVzZW50IGRpZmZlcmVudCBwYWNrIHNpemVzIChlLmcuIDIwIHBhY2sgdnMuIDUwIHBhY2spIC0gd2hpY2ggd291bGQgYmUgZGlmZmVyZW50IGluc3RhbmNlcyBvZiB0aGlzIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGNvbnRhaW5lZEl0ZW1RdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRleHR1YWwgZGVzY3JpcHRpb24uIE5vdGUgdGhhdCB0aGlzIGlzIG5vdCB0aGUgbmFtZSBvZiB0aGUgcGFja2FnZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxlZ2FsIHN0YXR1cyBvZiBzdXBwbHkgb2YgdGhlIHBhY2thZ2VkIGl0ZW0gYXMgY2xhc3NpZmllZCBieSB0aGUgcmVndWxhdG9yLlxyXG4gICAqL1xyXG4gIGxlZ2FsU3RhdHVzT2ZTdXBwbHk/OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3Mgc3BlY2lmeWluZyB0aGF0IGFuIGl0ZW0gaXMgb24gdGhlIG1hcmtldCBmb3Igc2FsZSwgb3IgdGhhdCBpdCBpcyBub3QgYXZhaWxhYmxlLCBhbmQgdGhlIGRhdGVzIGFuZCBsb2NhdGlvbnMgYXNzb2NpYXRlZC5cclxuICAgKi9cclxuICBtYXJrZXRpbmdTdGF0dXM/OiBmaGlyLk1hcmtldGluZ1N0YXR1c0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIHRoZSBrZXkgZmVhdHVyZXMgdG8gYmUgcmVjb3JkZWQsIHN1Y2ggYXMgXCJob3NwaXRhbCBwYWNrXCIsIFwibnVyc2UgcHJlc2NyaWJhYmxlXCIsIFwiY2FsZW5kYXIgcGFja1wiLlxyXG4gICAqL1xyXG4gIGNoYXJhY3RlcmlzdGljPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN0YXRlcyB3aGV0aGVyIGEgZHJ1ZyBwcm9kdWN0IGlzIHN1cHBsaWVkIHdpdGggYW5vdGhlciBpdGVtIHN1Y2ggYXMgYSBkaWx1ZW50IG9yIGFkanV2YW50LlxyXG4gICAqL1xyXG4gIGNvcGFja2FnZWRJbmRpY2F0b3I/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLmNvcGFja2FnZWRJbmRpY2F0b3JcclxuICAgKi9cclxuICBfY29wYWNrYWdlZEluZGljYXRvcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogTWFudWZhY3R1cmVyIG9mIHRoaXMgcGFja2FnZSB0eXBlLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBpdCBtZWFucyB0aGVzZSBhcmUgYWxsIHBvc3NpYmxlIG1hbnVmYWN0dXJlcnMuXHJcbiAgICovXHJcbiAgbWFudWZhY3R1cmVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcGFja2FnaW5nIGl0ZW0sIGFzIGEgY29udGFpbmVyIGZvciBtZWRpY2FsbHkgcmVsYXRlZCBpdGVtcywgcG9zc2libHkgd2l0aCBvdGhlciBwYWNrYWdpbmcgaXRlbXMgd2l0aGluLCBvciBhIHBhY2thZ2luZyBjb21wb25lbnQsIHN1Y2ggYXMgYm90dGxlIGNhcCAod2hpY2ggaXMgbm90IGEgZGV2aWNlIG9yIGEgbWVkaWNhdGlvbiBtYW51ZmFjdHVyZWQgaXRlbSkuXHJcbiAgICovXHJcbiAgcGFja2FnZT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgbWVkaWNhbGx5IHJlbGF0ZWQgaXRlbSBvciBpdGVtcywgaW4gYSBjb250YWluZXIgb3IgcGFja2FnZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25cIjtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHBhY2thZ2UgYXMgd2hvbGUuIFVuaXF1ZSBpbnN0YW5jZSBpZGVudGlmaWVycyBhc3NpZ25lZCB0byBhIHBhY2thZ2UgYnkgbWFudWZhY3R1cmVycywgcmVndWxhdG9ycywgZHJ1ZyBjYXRhbG9ndWUgY3VzdG9kaWFucyBvciBvdGhlciBvcmdhbml6YXRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBBIG5hbWUgZm9yIHRoaXMgcGFja2FnZS4gVHlwaWNhbGx5IHdoYXQgaXQgd291bGQgYmUgbGlzdGVkIGFzIGluIGEgZHJ1ZyBmb3JtdWxhcnkgb3IgY2F0YWxvZ3VlLCBpbnZlbnRvcnkgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGhpZ2ggbGV2ZWwgY2F0ZWdvcnkgZS5nLiBtZWRpY2luYWwgcHJvZHVjdCwgcmF3IG1hdGVyaWFsLCBzaGlwcGluZy90cmFuc3BvcnQgY29udGFpbmVyLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3QgdGhhdCB0aGlzIGlzIGEgcGFjayBmb3IuXHJcbiAgICovXHJcbiAgcHVibGljIHBhY2thZ2VGb3I6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyB3aXRoaW4gdGhlIGxpZmVjeWNsZSBvZiB0aGlzIGl0ZW0uIEEgaGlnaCBsZXZlbCBzdGF0dXMsIHRoaXMgaXMgbm90IGludGVuZGVkIHRvIGR1cGxpY2F0ZSBkZXRhaWxzIGNhcnJpZWQgZWxzZXdoZXJlIHN1Y2ggYXMgbGVnYWwgc3RhdHVzLCBvciBhdXRob3JpemF0aW9uIG9yIG1hcmtldGluZyBzdGF0dXMuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhdCB3aGljaCB0aGUgZ2l2ZW4gc3RhdHVzIGJlY2FtZSBhcHBsaWNhYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdG90YWwgb2YgdGhlIGNvbXBsZXRlIGNvdW50IG9mIGNvbnRhaW5lZCBpdGVtcyBvZiBhIHBhcnRpY3VsYXIgdHlwZS9mb3JtLCBpbmRlcGVuZGVudCBvZiBzdWItcGFja2FnaW5nIG9yIG9yZ2FuaXphdGlvbi4gVGhpcyBjYW4gYmUgY29uc2lkZXJlZCBhcyB0aGUgcGFjayBzaXplLiBUaGlzIGF0dHJpYnV0ZSBkaWZmZXJzIGZyb20gY29udGFpbmVkSXRlbS5hbW91bnQgaW4gdGhhdCBpdCBjYW4gZ2l2ZSBhIHNpbmdsZSBhZ2dyZWdhdGVkIGNvdW50IG9mIGFsbCB0YWJsZXQgdHlwZXMgaW4gYSBwYWNrLCBldmVuIHdoZW4gdGhlc2UgYXJlIGRpZmZlcmVudCBtYW51ZmFjdHVyZWQgaXRlbXMuIEZvciBleGFtcGxlIGEgcGlsbCBwYWNrIG9mIDIxIHRhYmxldHMgcGx1cyA3IHN1Z2FyIHRhYmxldHMsIGNhbiBiZSBkZW5vdGVkIGhlcmUgYXMgJzI4IHRhYmxldHMnLiBUaGlzIGF0dHJpYnV0ZSBpcyByZXBlYXRhYmxlIHNvIHRoYXQgdGhlIGRpZmZlcmVudCBpdGVtIHR5cGVzIGluIG9uZSBwYWNrIHR5cGUgY2FuIGJlIGNvdW50ZWQgKGUuZy4gYSBjb3VudCBvZiB2aWFscyBhbmQgY291bnQgb2Ygc3lyaW5nZXMpLiBFYWNoIHJlcGVhdCBtdXN0IGhhdmUgZGlmZmVyZW50IHVuaXRzLCBzbyB0aGF0IGl0IGlzIGNsZWFyIHdoYXQgdGhlIGRpZmZlcmVudCBzZXRzIG9mIGNvdW50ZWQgaXRlbXMgYXJlLCBhbmQgaXQgaXMgbm90IGludGVuZGVkIHRvIGFsbG93IGRpZmZlcmVudCBjb3VudHMgb2Ygc2ltaWxhciBpdGVtcyAoZS5nLiBub3QgJzIgdHViZXMgYW5kIDMgdHViZXMnKS4gUmVwZWF0cyBhcmUgbm90IHRvIGJlIHVzZWQgdG8gcmVwcmVzZW50IGRpZmZlcmVudCBwYWNrIHNpemVzIChlLmcuIDIwIHBhY2sgdnMuIDUwIHBhY2spIC0gd2hpY2ggd291bGQgYmUgZGlmZmVyZW50IGluc3RhbmNlcyBvZiB0aGlzIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250YWluZWRJdGVtUXVhbnRpdHk6IGZoaXIuUXVhbnRpdHlbXTtcclxuICAvKipcclxuICAgKiBUZXh0dWFsIGRlc2NyaXB0aW9uLiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgdGhlIG5hbWUgb2YgdGhlIHBhY2thZ2Ugb3IgcHJvZHVjdC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJNYXJrZG93bnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxlZ2FsIHN0YXR1cyBvZiBzdXBwbHkgb2YgdGhlIHBhY2thZ2VkIGl0ZW0gYXMgY2xhc3NpZmllZCBieSB0aGUgcmVndWxhdG9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsZWdhbFN0YXR1c09mU3VwcGx5OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5W107XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIHNwZWNpZnlpbmcgdGhhdCBhbiBpdGVtIGlzIG9uIHRoZSBtYXJrZXQgZm9yIHNhbGUsIG9yIHRoYXQgaXQgaXMgbm90IGF2YWlsYWJsZSwgYW5kIHRoZSBkYXRlcyBhbmQgbG9jYXRpb25zIGFzc29jaWF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG1hcmtldGluZ1N0YXR1czogZmhpci5NYXJrZXRpbmdTdGF0dXNbXTtcclxuICAvKipcclxuICAgKiBBbGxvd3MgdGhlIGtleSBmZWF0dXJlcyB0byBiZSByZWNvcmRlZCwgc3VjaCBhcyBcImhvc3BpdGFsIHBhY2tcIiwgXCJudXJzZSBwcmVzY3JpYmFibGVcIiwgXCJjYWxlbmRhciBwYWNrXCIuXHJcbiAgICovXHJcbiAgcHVibGljIGNoYXJhY3RlcmlzdGljOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFN0YXRlcyB3aGV0aGVyIGEgZHJ1ZyBwcm9kdWN0IGlzIHN1cHBsaWVkIHdpdGggYW5vdGhlciBpdGVtIHN1Y2ggYXMgYSBkaWx1ZW50IG9yIGFkanV2YW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3BhY2thZ2VkSW5kaWNhdG9yPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFudWZhY3R1cmVyIG9mIHRoaXMgcGFja2FnZSB0eXBlLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBpdCBtZWFucyB0aGVzZSBhcmUgYWxsIHBvc3NpYmxlIG1hbnVmYWN0dXJlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1hbnVmYWN0dXJlcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBBIHBhY2thZ2luZyBpdGVtLCBhcyBhIGNvbnRhaW5lciBmb3IgbWVkaWNhbGx5IHJlbGF0ZWQgaXRlbXMsIHBvc3NpYmx5IHdpdGggb3RoZXIgcGFja2FnaW5nIGl0ZW1zIHdpdGhpbiwgb3IgYSBwYWNrYWdpbmcgY29tcG9uZW50LCBzdWNoIGFzIGJvdHRsZSBjYXAgKHdoaWNoIGlzIG5vdCBhIGRldmljZSBvciBhIG1lZGljYXRpb24gbWFudWZhY3R1cmVkIGl0ZW0pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYWNrYWdlPzogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbic7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19uYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMubmFtZSkgeyB0aGlzLm5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhY2thZ2VGb3InXSkgeyB0aGlzLnBhY2thZ2VGb3IgPSBzb3VyY2UucGFja2FnZUZvci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhY2thZ2VGb3IgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN0YXR1cyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1c0RhdGUnXSkgeyB0aGlzLnN0YXR1c0RhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzRGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1c0RhdGUpIHsgdGhpcy5zdGF0dXNEYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1c0RhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXNEYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fc3RhdHVzRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWluZWRJdGVtUXVhbnRpdHknXSkgeyB0aGlzLmNvbnRhaW5lZEl0ZW1RdWFudGl0eSA9IHNvdXJjZS5jb250YWluZWRJdGVtUXVhbnRpdHkubWFwKCh4KSA9PiBuZXcgZmhpci5RdWFudGl0eSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhaW5lZEl0ZW1RdWFudGl0eSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyTWFya2Rvd24oe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJNYXJrZG93bkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGVnYWxTdGF0dXNPZlN1cHBseSddKSB7IHRoaXMubGVnYWxTdGF0dXNPZlN1cHBseSA9IHNvdXJjZS5sZWdhbFN0YXR1c09mU3VwcGx5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5sZWdhbFN0YXR1c09mU3VwcGx5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21hcmtldGluZ1N0YXR1cyddKSB7IHRoaXMubWFya2V0aW5nU3RhdHVzID0gc291cmNlLm1hcmtldGluZ1N0YXR1cy5tYXAoKHgpID0+IG5ldyBmaGlyLk1hcmtldGluZ1N0YXR1cyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hcmtldGluZ1N0YXR1cyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjaGFyYWN0ZXJpc3RpYyddKSB7IHRoaXMuY2hhcmFjdGVyaXN0aWMgPSBzb3VyY2UuY2hhcmFjdGVyaXN0aWMubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jaGFyYWN0ZXJpc3RpYyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb3BhY2thZ2VkSW5kaWNhdG9yJ10pIHsgdGhpcy5jb3BhY2thZ2VkSW5kaWNhdG9yID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuY29wYWNrYWdlZEluZGljYXRvcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29wYWNrYWdlZEluZGljYXRvciddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvcGFja2FnZWRJbmRpY2F0b3IpIHsgdGhpcy5jb3BhY2thZ2VkSW5kaWNhdG9yLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvcGFja2FnZWRJbmRpY2F0b3IhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb3BhY2thZ2VkSW5kaWNhdG9yID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9jb3BhY2thZ2VkSW5kaWNhdG9yIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWFudWZhY3R1cmVyJ10pIHsgdGhpcy5tYW51ZmFjdHVyZXIgPSBzb3VyY2UubWFudWZhY3R1cmVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubWFudWZhY3R1cmVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhY2thZ2UnXSkgeyB0aGlzLnBhY2thZ2UgPSBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZShzb3VyY2UucGFja2FnZSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUFMoJ3Jlc291cmNlVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncGFja2FnZUZvcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3RhdHVzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdGF0dXNEYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb250YWluZWRJdGVtUXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdsZWdhbFN0YXR1c09mU3VwcGx5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdtYXJrZXRpbmdTdGF0dXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2NoYXJhY3RlcmlzdGljJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjb3BhY2thZ2VkSW5kaWNhdG9yJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdtYW51ZmFjdHVyZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BhY2thZ2UnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19