// <auto-generated/>
// Contents of: hl7.fhir.r4b.core version: 4.3.0
// Minimum TypeScript Version: 3.7
// FHIR Resource: PackagedProductDefinition
import * as fhir from '../fhir.js';
/**
 * The legal status of supply of the packaged item as classified by the regulator.
 */
export class PackagedProductDefinitionLegalStatusOfSupply extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionLegalStatusOfSupply - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        if (source['jurisdiction']) {
            this.jurisdiction = new fhir.CodeableConcept(source.jurisdiction);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.legalStatusOfSupply';
        }
        this.vOS('code', exp);
        this.vOS('jurisdiction', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionLegalStatusOfSupply._fts_dataType = 'PackagedProductDefinitionLegalStatusOfSupply';
/**
 * Shelf Life and storage information.
 */
export class PackagedProductDefinitionPackageShelfLifeStorage extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageShelfLifeStorage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['period']) {
            this.period = source.period;
        }
        else if (source['periodDuration']) {
            this.period = new fhir.Duration(source.periodDuration);
        }
        else if (source['periodString']) {
            this.period = new fhir.FhirString({ value: source.periodString });
        }
        if (source['specialPrecautionsForStorage']) {
            this.specialPrecautionsForStorage = source.specialPrecautionsForStorage.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.specialPrecautionsForStorage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.shelfLifeStorage';
        }
        this.vOS('type', exp);
        this.vOS('period', exp);
        this.vOA('specialPrecautionsForStorage', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageShelfLifeStorage._fts_dataType = 'PackagedProductDefinitionPackageShelfLifeStorage';
/**
 * Internal flag to properly serialize choice-type element PackagedProductDefinition.package.shelfLifeStorage.period[x]
 */
PackagedProductDefinitionPackageShelfLifeStorage._fts_periodIsChoice = true;
/**
 * General characteristics of this item.
 */
export class PackagedProductDefinitionPackageProperty extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageProperty - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueDate']) {
            this.value = new fhir.FhirDate({ value: source.valueDate });
        }
        else if (source['valueBoolean']) {
            this.value = new fhir.FhirBoolean({ value: source.valueBoolean });
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.property';
        }
        this.vRS('type', exp);
        this.vOS('value', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageProperty._fts_dataType = 'PackagedProductDefinitionPackageProperty';
/**
 * Internal flag to properly serialize choice-type element PackagedProductDefinition.package.property.value[x]
 */
PackagedProductDefinitionPackageProperty._fts_valueIsChoice = true;
/**
 * The item(s) within the packaging.
 */
export class PackagedProductDefinitionPackageContainedItem extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackageContainedItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['item']) {
            this.item = new fhir.CodeableReference(source.item);
        }
        else {
            this.item = null;
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package.containedItem';
        }
        this.vRS('item', exp);
        this.vOS('amount', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackageContainedItem._fts_dataType = 'PackagedProductDefinitionPackageContainedItem';
/**
 * A packaging item, as a container for medically related items, possibly with other packaging items within, or a packaging component, such as bottle cap (which is not a device or a medication manufactured item).
 */
export class PackagedProductDefinitionPackage extends fhir.BackboneElement {
    /**
     * Default constructor for PackagedProductDefinitionPackage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['quantity']) {
            this.quantity = new fhir.FhirInteger({ value: source.quantity });
        }
        if (source['_quantity']) {
            if (this.quantity) {
                this.quantity.addExtendedProperties(source._quantity);
            }
            else {
                this.quantity = new fhir.FhirInteger(source._quantity);
            }
        }
        if (source['material']) {
            this.material = source.material.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.material = [];
        }
        if (source['alternateMaterial']) {
            this.alternateMaterial = source.alternateMaterial.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.alternateMaterial = [];
        }
        if (source['shelfLifeStorage']) {
            this.shelfLifeStorage = source.shelfLifeStorage.map((x) => new fhir.PackagedProductDefinitionPackageShelfLifeStorage(x));
        }
        else {
            this.shelfLifeStorage = [];
        }
        if (source['manufacturer']) {
            this.manufacturer = source.manufacturer.map((x) => new fhir.Reference(x));
        }
        else {
            this.manufacturer = [];
        }
        if (source['property']) {
            this.property = source.property.map((x) => new fhir.PackagedProductDefinitionPackageProperty(x));
        }
        else {
            this.property = [];
        }
        if (source['containedItem']) {
            this.containedItem = source.containedItem.map((x) => new fhir.PackagedProductDefinitionPackageContainedItem(x));
        }
        else {
            this.containedItem = [];
        }
        if (source['package']) {
            this.package = source.package.map((x) => new fhir.PackagedProductDefinitionPackage(x));
        }
        else {
            this.package = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition.package';
        }
        this.vOA('identifier', exp);
        this.vOS('type', exp);
        this.vOS('quantity', exp);
        this.vOA('material', exp);
        this.vOA('alternateMaterial', exp);
        this.vOA('shelfLifeStorage', exp);
        this.vOA('manufacturer', exp);
        this.vOA('property', exp);
        this.vOA('containedItem', exp);
        this.vOA('package', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinitionPackage._fts_dataType = 'PackagedProductDefinitionPackage';
/**
 * A medically related item or items, in a container or package.
 */
export class PackagedProductDefinition extends fhir.DomainResource {
    /**
     * Default constructor for PackagedProductDefinition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'PackagedProductDefinition';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['packageFor']) {
            this.packageFor = source.packageFor.map((x) => new fhir.Reference(x));
        }
        else {
            this.packageFor = [];
        }
        if (source['status']) {
            this.status = new fhir.CodeableConcept(source.status);
        }
        if (source['statusDate']) {
            this.statusDate = new fhir.FhirDateTime({ value: source.statusDate });
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDateTime(source._statusDate);
            }
        }
        if (source['containedItemQuantity']) {
            this.containedItemQuantity = source.containedItemQuantity.map((x) => new fhir.Quantity(x));
        }
        else {
            this.containedItemQuantity = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirMarkdown({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirMarkdown(source._description);
            }
        }
        if (source['legalStatusOfSupply']) {
            this.legalStatusOfSupply = source.legalStatusOfSupply.map((x) => new fhir.PackagedProductDefinitionLegalStatusOfSupply(x));
        }
        else {
            this.legalStatusOfSupply = [];
        }
        if (source['marketingStatus']) {
            this.marketingStatus = source.marketingStatus.map((x) => new fhir.MarketingStatus(x));
        }
        else {
            this.marketingStatus = [];
        }
        if (source['characteristic']) {
            this.characteristic = source.characteristic.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.characteristic = [];
        }
        if (source['copackagedIndicator']) {
            this.copackagedIndicator = new fhir.FhirBoolean({ value: source.copackagedIndicator });
        }
        if (source['_copackagedIndicator']) {
            if (this.copackagedIndicator) {
                this.copackagedIndicator.addExtendedProperties(source._copackagedIndicator);
            }
            else {
                this.copackagedIndicator = new fhir.FhirBoolean(source._copackagedIndicator);
            }
        }
        if (source['manufacturer']) {
            this.manufacturer = source.manufacturer.map((x) => new fhir.Reference(x));
        }
        else {
            this.manufacturer = [];
        }
        if (source['package']) {
            this.package = new fhir.PackagedProductDefinitionPackage(source.package);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'PackagedProductDefinition';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOS('name', exp);
        this.vOS('type', exp);
        this.vOA('packageFor', exp);
        this.vOS('status', exp);
        this.vOS('statusDate', exp);
        this.vOA('containedItemQuantity', exp);
        this.vOS('description', exp);
        this.vOA('legalStatusOfSupply', exp);
        this.vOA('marketingStatus', exp);
        this.vOA('characteristic', exp);
        this.vOS('copackagedIndicator', exp);
        this.vOA('manufacturer', exp);
        this.vOS('package', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PackagedProductDefinition._fts_dataType = 'PackagedProductDefinition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsZ0RBQWdEO0FBQ2hELGtDQUFrQztBQUNsQywyQ0FBMkM7QUFFM0MsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUE0Q25DOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRDQUE2QyxTQUFRLElBQUksQ0FBQyxlQUFlO0lBYXBGOztPQUVHO0lBQ0gsWUFBWSxTQUFtRSxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN6SCxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7UUFDMUUsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7U0FBRTtJQUNwRyxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxRCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFBRSxHQUFHLEdBQUcsK0NBQStDLENBQUE7U0FBRTtRQUN6RSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM1QixPQUFPLE1BQU0sQ0FB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O1FBQzdHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2hHO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM5QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUM7U0FBRTtRQUMzRixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUN2QixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsU0FBVSxDQUFDLENBQUM7YUFBRTtpQkFDekU7Z0JBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLFNBQTBDLENBQUMsQ0FBQzthQUFFO1NBQ2xHO1FBQ0QsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFF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QUFBO1FBQ25DLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM5QixJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ25DLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBbElEOztHQUVHO0FBQzZCLHVDQUFhLEdBQVUsMkJBQTJCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjRiLmNvcmUgdmVyc2lvbjogNC4zLjBcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMZWdhbFN0YXR1c09mU3VwcGx5Q29kZXMsICBMZWdhbFN0YXR1c09mU3VwcGx5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xlZ2FsU3RhdHVzT2ZTdXBwbHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGVnYWxTdGF0dXNPZlN1cHBseVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGVnYWxTdGF0dXNPZlN1cHBseVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSnVyaXNkaWN0aW9uQ29kZXMsICBKdXJpc2RpY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSnVyaXNkaWN0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEp1cmlzZGljdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvSnVyaXNkaWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdpbmdUeXBlQ29kZXMsICBQYWNrYWdpbmdUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhY2thZ2luZ1R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnaW5nVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnaW5nVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZU1hdGVyaWFsQ29kZXMsICBQYWNrYWdlTWF0ZXJpYWxDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZU1hdGVyaWFsQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBhY2thZ2VNYXRlcmlhbFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZU1hdGVyaWFsVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdlVHlwZUNvZGVzLCAgUGFja2FnZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGFja2FnZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1BhY2thZ2VUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQdWJsaWNhdGlvblN0YXR1c0NvZGVzLCAgUHVibGljYXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHVibGljYXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHVibGljYXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1B1YmxpY2F0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYWNrYWdlQ2hhcmFjdGVyaXN0aWNDb2RlcywgIFBhY2thZ2VDaGFyYWN0ZXJpc3RpY0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYWNrYWdlQ2hhcmFjdGVyaXN0aWNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFja2FnZUNoYXJhY3RlcmlzdGljVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYWNrYWdlQ2hhcmFjdGVyaXN0aWNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbkxlZ2FsU3RhdHVzT2ZTdXBwbHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIHN0YXR1cyBvZiBzdXBwbHkuIENvbnZleXMgaW4gd2hhdCBzaXR1YXRpb24gdGhpcyBwYWNrYWdlIHR5cGUgbWF5IGJlIHN1cHBsaWVkIGZvciB1c2UuXHJcbiAgICovXHJcbiAgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBsYWNlIHdoZXJlIHRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IGFwcGxpZXMuIFdoZW4gbm90IHNwZWNpZmllZCwgdGhpcyBpbmRpY2F0ZXMgaXQgaXMgdW5rbm93biBpbiB0aGlzIGNvbnRleHQuXHJcbiAgICovXHJcbiAganVyaXNkaWN0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IG9mIHRoZSBwYWNrYWdlZCBpdGVtIGFzIGNsYXNzaWZpZWQgYnkgdGhlIHJlZ3VsYXRvci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5JztcclxuICAvKipcclxuICAgKiBUaGUgYWN0dWFsIHN0YXR1cyBvZiBzdXBwbHkuIENvbnZleXMgaW4gd2hhdCBzaXR1YXRpb24gdGhpcyBwYWNrYWdlIHR5cGUgbWF5IGJlIHN1cHBsaWVkIGZvciB1c2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBsYWNlIHdoZXJlIHRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IGFwcGxpZXMuIFdoZW4gbm90IHNwZWNpZmllZCwgdGhpcyBpbmRpY2F0ZXMgaXQgaXMgdW5rbm93biBpbiB0aGlzIGNvbnRleHQuXHJcbiAgICovXHJcbiAgcHVibGljIGp1cmlzZGljdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydqdXJpc2RpY3Rpb24nXSkgeyB0aGlzLmp1cmlzZGljdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuanVyaXNkaWN0aW9uKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ubGVnYWxTdGF0dXNPZlN1cHBseScgfVxyXG4gICAgdGhpcy52T1MoJ2NvZGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdqdXJpc2RpY3Rpb24nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkZXNjcmliZXMgdGhlIHNoZWxmIGxpZmUsIHRha2luZyBpbnRvIGFjY291bnQgdmFyaW91cyBzY2VuYXJpb3Mgc3VjaCBhcyBzaGVsZiBsaWZlIG9mIHRoZSBwYWNrYWdlZCBNZWRpY2luYWwgUHJvZHVjdCBpdHNlbGYsIHNoZWxmIGxpZmUgYWZ0ZXIgdHJhbnNmb3JtYXRpb24gd2hlcmUgbmVjZXNzYXJ5IGFuZCBzaGVsZiBsaWZlIGFmdGVyIHRoZSBmaXJzdCBvcGVuaW5nIG9mIGEgYm90dGxlLCBldGMuIFRoZSBzaGVsZiBsaWZlIHR5cGUgc2hhbGwgYmUgc3BlY2lmaWVkIHVzaW5nIGFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeSBUaGUgY29udHJvbGxlZCB0ZXJtIGFuZCB0aGUgY29udHJvbGxlZCB0ZXJtIGlkZW50aWZpZXIgc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaGVsZiBsaWZlIHRpbWUgcGVyaW9kIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgZm9yIHRoZSBwZXJpb2Qgb2YgdGltZSBhbmQgaXRzIHVuaXQgb2YgdGltZSBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBwZXJpb2Q/OiBmaGlyLkR1cmF0aW9ufGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNoZWxmIGxpZmUgdGltZSBwZXJpb2QgY2FuIGJlIHNwZWNpZmllZCB1c2luZyBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgdGhlIHBlcmlvZCBvZiB0aW1lIGFuZCBpdHMgdW5pdCBvZiB0aW1lIG1lYXN1cmVtZW50IFRoZSB1bml0IG9mIG1lYXN1cmVtZW50IHNoYWxsIGJlIHNwZWNpZmllZCBpbiBhY2NvcmRhbmNlIHdpdGggSVNPIDExMjQwIGFuZCB0aGUgcmVzdWx0aW5nIHRlcm1pbm9sb2d5IFRoZSBzeW1ib2wgYW5kIHRoZSBzeW1ib2wgaWRlbnRpZmllciBzaGFsbCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIHBlcmlvZER1cmF0aW9uPzogZmhpci5EdXJhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaGVsZiBsaWZlIHRpbWUgcGVyaW9kIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgZm9yIHRoZSBwZXJpb2Qgb2YgdGltZSBhbmQgaXRzIHVuaXQgb2YgdGltZSBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBwZXJpb2RTdHJpbmc/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTcGVjaWFsIHByZWNhdXRpb25zIGZvciBzdG9yYWdlLCBpZiBhbnksIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYW4gYXBwcm9wcmlhdGUgY29udHJvbGxlZCB2b2NhYnVsYXJ5LiBUaGUgY29udHJvbGxlZCB0ZXJtIGFuZCB0aGUgY29udHJvbGxlZCB0ZXJtIGlkZW50aWZpZXIgc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHNwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaGVsZiBMaWZlIGFuZCBzdG9yYWdlIGluZm9ybWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlU2hlbGZMaWZlU3RvcmFnZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlU2hlbGZMaWZlU3RvcmFnZSc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkZXNjcmliZXMgdGhlIHNoZWxmIGxpZmUsIHRha2luZyBpbnRvIGFjY291bnQgdmFyaW91cyBzY2VuYXJpb3Mgc3VjaCBhcyBzaGVsZiBsaWZlIG9mIHRoZSBwYWNrYWdlZCBNZWRpY2luYWwgUHJvZHVjdCBpdHNlbGYsIHNoZWxmIGxpZmUgYWZ0ZXIgdHJhbnNmb3JtYXRpb24gd2hlcmUgbmVjZXNzYXJ5IGFuZCBzaGVsZiBsaWZlIGFmdGVyIHRoZSBmaXJzdCBvcGVuaW5nIG9mIGEgYm90dGxlLCBldGMuIFRoZSBzaGVsZiBsaWZlIHR5cGUgc2hhbGwgYmUgc3BlY2lmaWVkIHVzaW5nIGFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeSBUaGUgY29udHJvbGxlZCB0ZXJtIGFuZCB0aGUgY29udHJvbGxlZCB0ZXJtIGlkZW50aWZpZXIgc2hhbGwgYmUgc3BlY2lmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzaGVsZiBsaWZlIHRpbWUgcGVyaW9kIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgYSBudW1lcmljYWwgdmFsdWUgZm9yIHRoZSBwZXJpb2Qgb2YgdGltZSBhbmQgaXRzIHVuaXQgb2YgdGltZSBtZWFzdXJlbWVudCBUaGUgdW5pdCBvZiBtZWFzdXJlbWVudCBzaGFsbCBiZSBzcGVjaWZpZWQgaW4gYWNjb3JkYW5jZSB3aXRoIElTTyAxMTI0MCBhbmQgdGhlIHJlc3VsdGluZyB0ZXJtaW5vbG9neSBUaGUgc3ltYm9sIGFuZCB0aGUgc3ltYm9sIGlkZW50aWZpZXIgc2hhbGwgYmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kPzogKGZoaXIuRHVyYXRpb258Zmhpci5GaGlyU3RyaW5nKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2Uuc2hlbGZMaWZlU3RvcmFnZS5wZXJpb2RbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfcGVyaW9kSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lhbCBwcmVjYXV0aW9ucyBmb3Igc3RvcmFnZSwgaWYgYW55LCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGFuIGFwcHJvcHJpYXRlIGNvbnRyb2xsZWQgdm9jYWJ1bGFyeS4gVGhlIGNvbnRyb2xsZWQgdGVybSBhbmQgdGhlIGNvbnRyb2xsZWQgdGVybSBpZGVudGlmaWVyIHNoYWxsIGJlIHNwZWNpZmllZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3BlY2lhbFByZWNhdXRpb25zRm9yU3RvcmFnZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmlvZCddKSB7IHRoaXMucGVyaW9kID0gc291cmNlLnBlcmlvZDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydwZXJpb2REdXJhdGlvbiddKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuRHVyYXRpb24oc291cmNlLnBlcmlvZER1cmF0aW9uKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydwZXJpb2RTdHJpbmcnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UucGVyaW9kU3RyaW5nfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2UnXSkgeyB0aGlzLnNwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2UgPSBzb3VyY2Uuc3BlY2lhbFByZWNhdXRpb25zRm9yU3RvcmFnZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZS5zaGVsZkxpZmVTdG9yYWdlJyB9XHJcbiAgICB0aGlzLnZPUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3BlcmlvZCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3NwZWNpYWxQcmVjYXV0aW9uc0ZvclN0b3JhZ2UnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVByb3BlcnR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHlBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGUgZXhwcmVzc2luZyB0aGUgdHlwZSBvZiBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlF1YW50aXR5fGZoaXIuRmhpckRhdGV8Zmhpci5GaGlyQm9vbGVhbnxmaGlyLkF0dGFjaG1lbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICB2YWx1ZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSB2YWx1ZSBmb3IgdGhlIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHZhbHVlRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHZhbHVlIGZvciB0aGUgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICovXHJcbiAgdmFsdWVBdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmFsIGNoYXJhY3RlcmlzdGljcyBvZiB0aGlzIGl0ZW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHknO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBleHByZXNzaW5nIHRoZSB0eXBlIG9mIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgdmFsdWUgZm9yIHRoZSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5RdWFudGl0eXxmaGlyLkZoaXJEYXRlfGZoaXIuRmhpckJvb2xlYW58Zmhpci5BdHRhY2htZW50KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UucHJvcGVydHkudmFsdWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdmFsdWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVByb3BlcnR5IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbHVlQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVF1YW50aXR5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS52YWx1ZVF1YW50aXR5KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZURhdGUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UudmFsdWVEYXRlfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVCb29sZWFuJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnZhbHVlQm9vbGVhbn0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQXR0YWNobWVudCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5BdHRhY2htZW50KHNvdXJjZS52YWx1ZUF0dGFjaG1lbnQpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLnByb3BlcnR5JyB9XHJcbiAgICB0aGlzLnZSUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3ZhbHVlJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlQ29udGFpbmVkSXRlbUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3R1YWwgaXRlbShzKSBvZiBtZWRpY2F0aW9uLCBhcyBtYW51ZmFjdHVyZWQsIG9yIGEgZGV2aWNlICh0eXBpY2FsbHksIGJ1dCBub3QgbmVjZXNzYXJpbHksIGEgY28tcGFja2FnZWQgb25lKSwgb3Igb3RoZXIgbWVkaWNhbGx5IHJlbGF0ZWQgaXRlbSAoc3VjaCBhcyBmb29kLCBiaW9sb2dpY2FscywgcmF3IG1hdGVyaWFscywgbWVkaWNhbCBmbHVpZHMsIGdhc2VzIGV0Yy4pLCBhcyBjb250YWluZWQgaW4gdGhlIHBhY2thZ2UuIFRoaXMgYWxzbyBhbGxvd3MgYW5vdGhlciB3aG9sZSBwYWNrYWdlZCBwcm9kdWN0IHRvIGJlIGluY2x1ZGVkLCB3aGljaCBpcyBzb2xlbHkgZm9yIHRoZSBjYXNlIHdoZXJlIGEgcGFja2FnZSBvZiBvdGhlciBlbnRpcmUgcGFja2FnZXMgaXMgd2FudGVkIC0gc3VjaCBhcyBhIHdob2xlc2FsZSBvciBkaXN0cmlidXRpb24gcGFjayAoZm9yIGxheWVycyB3aXRoaW4gb25lIHBhY2thZ2UsIHVzZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UucGFja2FnZSkuXHJcbiAgICovXHJcbiAgaXRlbTogZmhpci5Db2RlYWJsZVJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHRoaXMgdHlwZSBvZiBpdGVtIHdpdGhpbiB0aGlzIHBhY2thZ2luZy5cclxuICAgKi9cclxuICBhbW91bnQ/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgaXRlbShzKSB3aXRoaW4gdGhlIHBhY2thZ2luZy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW0gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW0nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3R1YWwgaXRlbShzKSBvZiBtZWRpY2F0aW9uLCBhcyBtYW51ZmFjdHVyZWQsIG9yIGEgZGV2aWNlICh0eXBpY2FsbHksIGJ1dCBub3QgbmVjZXNzYXJpbHksIGEgY28tcGFja2FnZWQgb25lKSwgb3Igb3RoZXIgbWVkaWNhbGx5IHJlbGF0ZWQgaXRlbSAoc3VjaCBhcyBmb29kLCBiaW9sb2dpY2FscywgcmF3IG1hdGVyaWFscywgbWVkaWNhbCBmbHVpZHMsIGdhc2VzIGV0Yy4pLCBhcyBjb250YWluZWQgaW4gdGhlIHBhY2thZ2UuIFRoaXMgYWxzbyBhbGxvd3MgYW5vdGhlciB3aG9sZSBwYWNrYWdlZCBwcm9kdWN0IHRvIGJlIGluY2x1ZGVkLCB3aGljaCBpcyBzb2xlbHkgZm9yIHRoZSBjYXNlIHdoZXJlIGEgcGFja2FnZSBvZiBvdGhlciBlbnRpcmUgcGFja2FnZXMgaXMgd2FudGVkIC0gc3VjaCBhcyBhIHdob2xlc2FsZSBvciBkaXN0cmlidXRpb24gcGFjayAoZm9yIGxheWVycyB3aXRoaW4gb25lIHBhY2thZ2UsIHVzZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UucGFja2FnZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGl0ZW06IGZoaXIuQ29kZWFibGVSZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHRoaXMgdHlwZSBvZiBpdGVtIHdpdGhpbiB0aGlzIHBhY2thZ2luZy5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2l0ZW0nXSkgeyB0aGlzLml0ZW0gPSBuZXcgZmhpci5Db2RlYWJsZVJlZmVyZW5jZShzb3VyY2UuaXRlbSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLml0ZW0gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydhbW91bnQnXSkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5hbW91bnQpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLmNvbnRhaW5lZEl0ZW0nIH1cclxuICAgIHRoaXMudlJTKCdpdGVtJyxleHApXHJcbiAgICB0aGlzLnZPUygnYW1vdW50JyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIHRoYXQgaXMgc3BlY2lmaWMgdG8gdGhpcyBwYXJ0aWN1bGFyIHBhcnQgb2YgdGhlIHBhY2thZ2luZy4gSW5jbHVkaW5nIHBvc3NpYmx5IERhdGEgQ2FycmllciBJZGVudGlmaWVyIChhIEdTMSBiYXJjb2RlKS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgdHlwZSBvZiB0aGUgY29udGFpbmVyIG9mIHRoZSBpdGVtcy5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhpcyBsZXZlbCBvZiBwYWNrYWdpbmcgaW4gdGhlIHBhY2thZ2UgdGhhdCBjb250YWlucyBpdC4gSWYgc3BlY2lmaWVkLCB0aGUgb3V0ZXJtb3N0IGxldmVsIGlzIGFsd2F5cyAxLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5GaGlySW50ZWdlcnxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uLnBhY2thZ2UucXVhbnRpdHlcclxuICAgKi9cclxuICBfcXVhbnRpdHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIHR5cGUgb2YgdGhlIHBhY2thZ2UgaXRlbS5cclxuICAgKi9cclxuICBtYXRlcmlhbD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHBvc3NpYmxlIGFsdGVybmF0ZSBtYXRlcmlhbCBmb3IgdGhpcyBwYXJ0IG9mIHRoZSBwYWNrYWdpbmcsIHRoYXQgaXMgYWxsb3dlZCB0byBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIHVzdWFsIG1hdGVyaWFsIChlLmcuIGRpZmZlcmVudCB0eXBlcyBvZiBwbGFzdGljIGZvciBhIGJsaXN0ZXIgc2xlZXZlKS5cclxuICAgKi9cclxuICBhbHRlcm5hdGVNYXRlcmlhbD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTaGVsZiBMaWZlIGFuZCBzdG9yYWdlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHNoZWxmTGlmZVN0b3JhZ2U/OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlU2hlbGZMaWZlU3RvcmFnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFudWZhY3R1cmVyIG9mIHRoaXMgcGFja2FnZSBJdGVtLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBpdCBtZWFucyB0aGVzZSBhcmUgYWxsIHBvc3NpYmxlIG1hbnVmYWN0dXJlcnMuXHJcbiAgICovXHJcbiAgbWFudWZhY3R1cmVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEdlbmVyYWwgY2hhcmFjdGVyaXN0aWNzIG9mIHRoaXMgaXRlbS5cclxuICAgKi9cclxuICBwcm9wZXJ0eT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VQcm9wZXJ0eUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGl0ZW0ocykgd2l0aGluIHRoZSBwYWNrYWdpbmcuXHJcbiAgICovXHJcbiAgY29udGFpbmVkSXRlbT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgY29udGFpbmVycyAoYW5kIHBhcnRzIG9mIGNvbnRhaW5lcnMpIHBhcndpdGhpbiBjb250YWluZXJzLCBzdGlsbCBhIHNpbmdsZSBwYWNrYWdlZCBwcm9kdWN0LiAgU2VlIGFsc28gUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLmNvbnRhaW5lZEl0ZW0uaXRlbShQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uKS5cclxuICAgKi9cclxuICBwYWNrYWdlPzogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHBhY2thZ2luZyBpdGVtLCBhcyBhIGNvbnRhaW5lciBmb3IgbWVkaWNhbGx5IHJlbGF0ZWQgaXRlbXMsIHBvc3NpYmx5IHdpdGggb3RoZXIgcGFja2FnaW5nIGl0ZW1zIHdpdGhpbiwgb3IgYSBwYWNrYWdpbmcgY29tcG9uZW50LCBzdWNoIGFzIGJvdHRsZSBjYXAgKHdoaWNoIGlzIG5vdCBhIGRldmljZSBvciBhIG1lZGljYXRpb24gbWFudWZhY3R1cmVkIGl0ZW0pLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2UnO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgdGhhdCBpcyBzcGVjaWZpYyB0byB0aGlzIHBhcnRpY3VsYXIgcGFydCBvZiB0aGUgcGFja2FnaW5nLiBJbmNsdWRpbmcgcG9zc2libHkgRGF0YSBDYXJyaWVyIElkZW50aWZpZXIgKGEgR1MxIGJhcmNvZGUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgdHlwZSBvZiB0aGUgY29udGFpbmVyIG9mIHRoZSBpdGVtcy5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhpcyBsZXZlbCBvZiBwYWNrYWdpbmcgaW4gdGhlIHBhY2thZ2UgdGhhdCBjb250YWlucyBpdC4gSWYgc3BlY2lmaWVkLCB0aGUgb3V0ZXJtb3N0IGxldmVsIGlzIGFsd2F5cyAxLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hdGVyaWFsIHR5cGUgb2YgdGhlIHBhY2thZ2UgaXRlbS5cclxuICAgKi9cclxuICBwdWJsaWMgbWF0ZXJpYWw6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQSBwb3NzaWJsZSBhbHRlcm5hdGUgbWF0ZXJpYWwgZm9yIHRoaXMgcGFydCBvZiB0aGUgcGFja2FnaW5nLCB0aGF0IGlzIGFsbG93ZWQgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSB1c3VhbCBtYXRlcmlhbCAoZS5nLiBkaWZmZXJlbnQgdHlwZXMgb2YgcGxhc3RpYyBmb3IgYSBibGlzdGVyIHNsZWV2ZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGFsdGVybmF0ZU1hdGVyaWFsOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFNoZWxmIExpZmUgYW5kIHN0b3JhZ2UgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHNoZWxmTGlmZVN0b3JhZ2U6IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VTaGVsZkxpZmVTdG9yYWdlW107XHJcbiAgLyoqXHJcbiAgICogTWFudWZhY3R1cmVyIG9mIHRoaXMgcGFja2FnZSBJdGVtLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBpdCBtZWFucyB0aGVzZSBhcmUgYWxsIHBvc3NpYmxlIG1hbnVmYWN0dXJlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1hbnVmYWN0dXJlcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGNoYXJhY3RlcmlzdGljcyBvZiB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIHByb3BlcnR5OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlUHJvcGVydHlbXTtcclxuICAvKipcclxuICAgKiBUaGUgaXRlbShzKSB3aXRoaW4gdGhlIHBhY2thZ2luZy5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFpbmVkSXRlbTogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZUNvbnRhaW5lZEl0ZW1bXTtcclxuICAvKipcclxuICAgKiBBbGxvd3MgY29udGFpbmVycyAoYW5kIHBhcnRzIG9mIGNvbnRhaW5lcnMpIHBhcndpdGhpbiBjb250YWluZXJzLCBzdGlsbCBhIHNpbmdsZSBwYWNrYWdlZCBwcm9kdWN0LiAgU2VlIGFsc28gUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5wYWNrYWdlLmNvbnRhaW5lZEl0ZW0uaXRlbShQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uKS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZTogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10pIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLnF1YW50aXR5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19xdWFudGl0eSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnF1YW50aXR5KSB7IHRoaXMucXVhbnRpdHkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcXVhbnRpdHkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fcXVhbnRpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnRlZ2VyQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYXRlcmlhbCddKSB7IHRoaXMubWF0ZXJpYWwgPSBzb3VyY2UubWF0ZXJpYWwubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYXRlcmlhbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhbHRlcm5hdGVNYXRlcmlhbCddKSB7IHRoaXMuYWx0ZXJuYXRlTWF0ZXJpYWwgPSBzb3VyY2UuYWx0ZXJuYXRlTWF0ZXJpYWwubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hbHRlcm5hdGVNYXRlcmlhbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzaGVsZkxpZmVTdG9yYWdlJ10pIHsgdGhpcy5zaGVsZkxpZmVTdG9yYWdlID0gc291cmNlLnNoZWxmTGlmZVN0b3JhZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVNoZWxmTGlmZVN0b3JhZ2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zaGVsZkxpZmVTdG9yYWdlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21hbnVmYWN0dXJlciddKSB7IHRoaXMubWFudWZhY3R1cmVyID0gc291cmNlLm1hbnVmYWN0dXJlci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hbnVmYWN0dXJlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9wZXJ0eSddKSB7IHRoaXMucHJvcGVydHkgPSBzb3VyY2UucHJvcGVydHkubWFwKCh4KSA9PiBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZVByb3BlcnR5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvcGVydHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFpbmVkSXRlbSddKSB7IHRoaXMuY29udGFpbmVkSXRlbSA9IHNvdXJjZS5jb250YWluZWRJdGVtLm1hcCgoeCkgPT4gbmV3IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2VDb250YWluZWRJdGVtKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29udGFpbmVkSXRlbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlJ10pIHsgdGhpcy5wYWNrYWdlID0gc291cmNlLnBhY2thZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uUGFja2FnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhY2thZ2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ucGFja2FnZScgfVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9TKCd0eXBlJyxleHApXHJcbiAgICB0aGlzLnZPUygncXVhbnRpdHknLGV4cClcclxuICAgIHRoaXMudk9BKCdtYXRlcmlhbCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2FsdGVybmF0ZU1hdGVyaWFsJyxleHApXHJcbiAgICB0aGlzLnZPQSgnc2hlbGZMaWZlU3RvcmFnZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ21hbnVmYWN0dXJlcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3Byb3BlcnR5JyxleHApXHJcbiAgICB0aGlzLnZPQSgnY29udGFpbmVkSXRlbScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3BhY2thZ2UnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25BcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgcGFja2FnZSBhcyB3aG9sZS4gVW5pcXVlIGluc3RhbmNlIGlkZW50aWZpZXJzIGFzc2lnbmVkIHRvIGEgcGFja2FnZSBieSBtYW51ZmFjdHVyZXJzLCByZWd1bGF0b3JzLCBkcnVnIGNhdGFsb2d1ZSBjdXN0b2RpYW5zIG9yIG90aGVyIG9yZ2FuaXphdGlvbnMuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBuYW1lIGZvciB0aGlzIHBhY2thZ2UuIFR5cGljYWxseSB3aGF0IGl0IHdvdWxkIGJlIGxpc3RlZCBhcyBpbiBhIGRydWcgZm9ybXVsYXJ5IG9yIGNhdGFsb2d1ZSwgaW52ZW50b3J5IGV0Yy5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24ubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGhpZ2ggbGV2ZWwgY2F0ZWdvcnkgZS5nLiBtZWRpY2luYWwgcHJvZHVjdCwgcmF3IG1hdGVyaWFsLCBzaGlwcGluZy90cmFuc3BvcnQgY29udGFpbmVyLCBldGMuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3QgdGhhdCB0aGlzIGlzIGEgcGFjayBmb3IuXHJcbiAgICovXHJcbiAgcGFja2FnZUZvcj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIHdpdGhpbiB0aGUgbGlmZWN5Y2xlIG9mIHRoaXMgaXRlbS4gQSBoaWdoIGxldmVsIHN0YXR1cywgdGhpcyBpcyBub3QgaW50ZW5kZWQgdG8gZHVwbGljYXRlIGRldGFpbHMgY2FycmllZCBlbHNld2hlcmUgc3VjaCBhcyBsZWdhbCBzdGF0dXMsIG9yIGF1dGhvcml6YXRpb24gb3IgbWFya2V0aW5nIHN0YXR1cy5cclxuICAgKi9cclxuICBzdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGF0IHdoaWNoIHRoZSBnaXZlbiBzdGF0dXMgYmVjYW1lIGFwcGxpY2FibGUuXHJcbiAgICovXHJcbiAgc3RhdHVzRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24uc3RhdHVzRGF0ZVxyXG4gICAqL1xyXG4gIF9zdGF0dXNEYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIHRvdGFsIG9mIHRoZSBjb21wbGV0ZSBjb3VudCBvZiBjb250YWluZWQgaXRlbXMgb2YgYSBwYXJ0aWN1bGFyIHR5cGUvZm9ybSwgaW5kZXBlbmRlbnQgb2Ygc3ViLXBhY2thZ2luZyBvciBvcmdhbml6YXRpb24uIFRoaXMgY2FuIGJlIGNvbnNpZGVyZWQgYXMgdGhlIHBhY2sgc2l6ZS4gVGhpcyBhdHRyaWJ1dGUgZGlmZmVycyBmcm9tIGNvbnRhaW5lZEl0ZW0uYW1vdW50IGluIHRoYXQgaXQgY2FuIGdpdmUgYSBzaW5nbGUgYWdncmVnYXRlZCBjb3VudCBvZiBhbGwgdGFibGV0IHR5cGVzIGluIGEgcGFjaywgZXZlbiB3aGVuIHRoZXNlIGFyZSBkaWZmZXJlbnQgbWFudWZhY3R1cmVkIGl0ZW1zLiBGb3IgZXhhbXBsZSBhIHBpbGwgcGFjayBvZiAyMSB0YWJsZXRzIHBsdXMgNyBzdWdhciB0YWJsZXRzLCBjYW4gYmUgZGVub3RlZCBoZXJlIGFzICcyOCB0YWJsZXRzJy4gVGhpcyBhdHRyaWJ1dGUgaXMgcmVwZWF0YWJsZSBzbyB0aGF0IHRoZSBkaWZmZXJlbnQgaXRlbSB0eXBlcyBpbiBvbmUgcGFjayB0eXBlIGNhbiBiZSBjb3VudGVkIChlLmcuIGEgY291bnQgb2YgdmlhbHMgYW5kIGNvdW50IG9mIHN5cmluZ2VzKS4gRWFjaCByZXBlYXQgbXVzdCBoYXZlIGRpZmZlcmVudCB1bml0cywgc28gdGhhdCBpdCBpcyBjbGVhciB3aGF0IHRoZSBkaWZmZXJlbnQgc2V0cyBvZiBjb3VudGVkIGl0ZW1zIGFyZSwgYW5kIGl0IGlzIG5vdCBpbnRlbmRlZCB0byBhbGxvdyBkaWZmZXJlbnQgY291bnRzIG9mIHNpbWlsYXIgaXRlbXMgKGUuZy4gbm90ICcyIHR1YmVzIGFuZCAzIHR1YmVzJykuIFJlcGVhdHMgYXJlIG5vdCB0byBiZSB1c2VkIHRvIHJlcHJlc2VudCBkaWZmZXJlbnQgcGFjayBzaXplcyAoZS5nLiAyMCBwYWNrIHZzLiA1MCBwYWNrKSAtIHdoaWNoIHdvdWxkIGJlIGRpZmZlcmVudCBpbnN0YW5jZXMgb2YgdGhpcyByZXNvdXJjZS5cclxuICAgKi9cclxuICBjb250YWluZWRJdGVtUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0dWFsIGRlc2NyaXB0aW9uLiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgdGhlIG5hbWUgb2YgdGhlIHBhY2thZ2Ugb3IgcHJvZHVjdC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpck1hcmtkb3dufHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24uZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IG9mIHRoZSBwYWNrYWdlZCBpdGVtIGFzIGNsYXNzaWZpZWQgYnkgdGhlIHJlZ3VsYXRvci5cclxuICAgKi9cclxuICBsZWdhbFN0YXR1c09mU3VwcGx5PzogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIHNwZWNpZnlpbmcgdGhhdCBhbiBpdGVtIGlzIG9uIHRoZSBtYXJrZXQgZm9yIHNhbGUsIG9yIHRoYXQgaXQgaXMgbm90IGF2YWlsYWJsZSwgYW5kIHRoZSBkYXRlcyBhbmQgbG9jYXRpb25zIGFzc29jaWF0ZWQuXHJcbiAgICovXHJcbiAgbWFya2V0aW5nU3RhdHVzPzogZmhpci5NYXJrZXRpbmdTdGF0dXNBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyB0aGUga2V5IGZlYXR1cmVzIHRvIGJlIHJlY29yZGVkLCBzdWNoIGFzIFwiaG9zcGl0YWwgcGFja1wiLCBcIm51cnNlIHByZXNjcmliYWJsZVwiLCBcImNhbGVuZGFyIHBhY2tcIi5cclxuICAgKi9cclxuICBjaGFyYWN0ZXJpc3RpYz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdGF0ZXMgd2hldGhlciBhIGRydWcgcHJvZHVjdCBpcyBzdXBwbGllZCB3aXRoIGFub3RoZXIgaXRlbSBzdWNoIGFzIGEgZGlsdWVudCBvciBhZGp1dmFudC5cclxuICAgKi9cclxuICBjb3BhY2thZ2VkSW5kaWNhdG9yPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbi5jb3BhY2thZ2VkSW5kaWNhdG9yXHJcbiAgICovXHJcbiAgX2NvcGFja2FnZWRJbmRpY2F0b3I/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE1hbnVmYWN0dXJlciBvZiB0aGlzIHBhY2thZ2UgdHlwZS4gV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgaXQgbWVhbnMgdGhlc2UgYXJlIGFsbCBwb3NzaWJsZSBtYW51ZmFjdHVyZXJzLlxyXG4gICAqL1xyXG4gIG1hbnVmYWN0dXJlcj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHBhY2thZ2luZyBpdGVtLCBhcyBhIGNvbnRhaW5lciBmb3IgbWVkaWNhbGx5IHJlbGF0ZWQgaXRlbXMsIHBvc3NpYmx5IHdpdGggb3RoZXIgcGFja2FnaW5nIGl0ZW1zIHdpdGhpbiwgb3IgYSBwYWNrYWdpbmcgY29tcG9uZW50LCBzdWNoIGFzIGJvdHRsZSBjYXAgKHdoaWNoIGlzIG5vdCBhIGRldmljZSBvciBhIG1lZGljYXRpb24gbWFudWZhY3R1cmVkIGl0ZW0pLlxyXG4gICAqL1xyXG4gIHBhY2thZ2U/OiBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25QYWNrYWdlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIG1lZGljYWxseSByZWxhdGVkIGl0ZW0gb3IgaXRlbXMsIGluIGEgY29udGFpbmVyIG9yIHBhY2thZ2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbiBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uXCI7XHJcbiAgLyoqXHJcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBwYWNrYWdlIGFzIHdob2xlLiBVbmlxdWUgaW5zdGFuY2UgaWRlbnRpZmllcnMgYXNzaWduZWQgdG8gYSBwYWNrYWdlIGJ5IG1hbnVmYWN0dXJlcnMsIHJlZ3VsYXRvcnMsIGRydWcgY2F0YWxvZ3VlIGN1c3RvZGlhbnMgb3Igb3RoZXIgb3JnYW5pemF0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogQSBuYW1lIGZvciB0aGlzIHBhY2thZ2UuIFR5cGljYWxseSB3aGF0IGl0IHdvdWxkIGJlIGxpc3RlZCBhcyBpbiBhIGRydWcgZm9ybXVsYXJ5IG9yIGNhdGFsb2d1ZSwgaW52ZW50b3J5IGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBoaWdoIGxldmVsIGNhdGVnb3J5IGUuZy4gbWVkaWNpbmFsIHByb2R1Y3QsIHJhdyBtYXRlcmlhbCwgc2hpcHBpbmcvdHJhbnNwb3J0IGNvbnRhaW5lciwgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IHRoYXQgdGhpcyBpcyBhIHBhY2sgZm9yLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYWNrYWdlRm9yOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgd2l0aGluIHRoZSBsaWZlY3ljbGUgb2YgdGhpcyBpdGVtLiBBIGhpZ2ggbGV2ZWwgc3RhdHVzLCB0aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBkdXBsaWNhdGUgZGV0YWlscyBjYXJyaWVkIGVsc2V3aGVyZSBzdWNoIGFzIGxlZ2FsIHN0YXR1cywgb3IgYXV0aG9yaXphdGlvbiBvciBtYXJrZXRpbmcgc3RhdHVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYXQgd2hpY2ggdGhlIGdpdmVuIHN0YXR1cyBiZWNhbWUgYXBwbGljYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHRvdGFsIG9mIHRoZSBjb21wbGV0ZSBjb3VudCBvZiBjb250YWluZWQgaXRlbXMgb2YgYSBwYXJ0aWN1bGFyIHR5cGUvZm9ybSwgaW5kZXBlbmRlbnQgb2Ygc3ViLXBhY2thZ2luZyBvciBvcmdhbml6YXRpb24uIFRoaXMgY2FuIGJlIGNvbnNpZGVyZWQgYXMgdGhlIHBhY2sgc2l6ZS4gVGhpcyBhdHRyaWJ1dGUgZGlmZmVycyBmcm9tIGNvbnRhaW5lZEl0ZW0uYW1vdW50IGluIHRoYXQgaXQgY2FuIGdpdmUgYSBzaW5nbGUgYWdncmVnYXRlZCBjb3VudCBvZiBhbGwgdGFibGV0IHR5cGVzIGluIGEgcGFjaywgZXZlbiB3aGVuIHRoZXNlIGFyZSBkaWZmZXJlbnQgbWFudWZhY3R1cmVkIGl0ZW1zLiBGb3IgZXhhbXBsZSBhIHBpbGwgcGFjayBvZiAyMSB0YWJsZXRzIHBsdXMgNyBzdWdhciB0YWJsZXRzLCBjYW4gYmUgZGVub3RlZCBoZXJlIGFzICcyOCB0YWJsZXRzJy4gVGhpcyBhdHRyaWJ1dGUgaXMgcmVwZWF0YWJsZSBzbyB0aGF0IHRoZSBkaWZmZXJlbnQgaXRlbSB0eXBlcyBpbiBvbmUgcGFjayB0eXBlIGNhbiBiZSBjb3VudGVkIChlLmcuIGEgY291bnQgb2YgdmlhbHMgYW5kIGNvdW50IG9mIHN5cmluZ2VzKS4gRWFjaCByZXBlYXQgbXVzdCBoYXZlIGRpZmZlcmVudCB1bml0cywgc28gdGhhdCBpdCBpcyBjbGVhciB3aGF0IHRoZSBkaWZmZXJlbnQgc2V0cyBvZiBjb3VudGVkIGl0ZW1zIGFyZSwgYW5kIGl0IGlzIG5vdCBpbnRlbmRlZCB0byBhbGxvdyBkaWZmZXJlbnQgY291bnRzIG9mIHNpbWlsYXIgaXRlbXMgKGUuZy4gbm90ICcyIHR1YmVzIGFuZCAzIHR1YmVzJykuIFJlcGVhdHMgYXJlIG5vdCB0byBiZSB1c2VkIHRvIHJlcHJlc2VudCBkaWZmZXJlbnQgcGFjayBzaXplcyAoZS5nLiAyMCBwYWNrIHZzLiA1MCBwYWNrKSAtIHdoaWNoIHdvdWxkIGJlIGRpZmZlcmVudCBpbnN0YW5jZXMgb2YgdGhpcyByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFpbmVkSXRlbVF1YW50aXR5OiBmaGlyLlF1YW50aXR5W107XHJcbiAgLyoqXHJcbiAgICogVGV4dHVhbCBkZXNjcmlwdGlvbi4gTm90ZSB0aGF0IHRoaXMgaXMgbm90IHRoZSBuYW1lIG9mIHRoZSBwYWNrYWdlIG9yIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyTWFya2Rvd258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsZWdhbCBzdGF0dXMgb2Ygc3VwcGx5IG9mIHRoZSBwYWNrYWdlZCBpdGVtIGFzIGNsYXNzaWZpZWQgYnkgdGhlIHJlZ3VsYXRvci5cclxuICAgKi9cclxuICBwdWJsaWMgbGVnYWxTdGF0dXNPZlN1cHBseTogZmhpci5QYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uTGVnYWxTdGF0dXNPZlN1cHBseVtdO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBzcGVjaWZ5aW5nIHRoYXQgYW4gaXRlbSBpcyBvbiB0aGUgbWFya2V0IGZvciBzYWxlLCBvciB0aGF0IGl0IGlzIG5vdCBhdmFpbGFibGUsIGFuZCB0aGUgZGF0ZXMgYW5kIGxvY2F0aW9ucyBhc3NvY2lhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYXJrZXRpbmdTdGF0dXM6IGZoaXIuTWFya2V0aW5nU3RhdHVzW107XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIHRoZSBrZXkgZmVhdHVyZXMgdG8gYmUgcmVjb3JkZWQsIHN1Y2ggYXMgXCJob3NwaXRhbCBwYWNrXCIsIFwibnVyc2UgcHJlc2NyaWJhYmxlXCIsIFwiY2FsZW5kYXIgcGFja1wiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjaGFyYWN0ZXJpc3RpYzogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBTdGF0ZXMgd2hldGhlciBhIGRydWcgcHJvZHVjdCBpcyBzdXBwbGllZCB3aXRoIGFub3RoZXIgaXRlbSBzdWNoIGFzIGEgZGlsdWVudCBvciBhZGp1dmFudC5cclxuICAgKi9cclxuICBwdWJsaWMgY29wYWNrYWdlZEluZGljYXRvcj86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hbnVmYWN0dXJlciBvZiB0aGlzIHBhY2thZ2UgdHlwZS4gV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgaXQgbWVhbnMgdGhlc2UgYXJlIGFsbCBwb3NzaWJsZSBtYW51ZmFjdHVyZXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW51ZmFjdHVyZXI6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQSBwYWNrYWdpbmcgaXRlbSwgYXMgYSBjb250YWluZXIgZm9yIG1lZGljYWxseSByZWxhdGVkIGl0ZW1zLCBwb3NzaWJseSB3aXRoIG90aGVyIHBhY2thZ2luZyBpdGVtcyB3aXRoaW4sIG9yIGEgcGFja2FnaW5nIGNvbXBvbmVudCwgc3VjaCBhcyBib3R0bGUgY2FwICh3aGljaCBpcyBub3QgYSBkZXZpY2Ugb3IgYSBtZWRpY2F0aW9uIG1hbnVmYWN0dXJlZCBpdGVtKS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZT86IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFBhY2thZ2VkUHJvZHVjdERlZmluaXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYWNrYWdlZFByb2R1Y3REZWZpbml0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ1BhY2thZ2VkUHJvZHVjdERlZmluaXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlRm9yJ10pIHsgdGhpcy5wYWNrYWdlRm9yID0gc291cmNlLnBhY2thZ2VGb3IubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYWNrYWdlRm9yID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zdGF0dXMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXNEYXRlJ10pIHsgdGhpcy5zdGF0dXNEYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnN0YXR1c0RhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1c0RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXNEYXRlKSB7IHRoaXMuc3RhdHVzRGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXNEYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3N0YXR1c0RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGFpbmVkSXRlbVF1YW50aXR5J10pIHsgdGhpcy5jb250YWluZWRJdGVtUXVhbnRpdHkgPSBzb3VyY2UuY29udGFpbmVkSXRlbVF1YW50aXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUXVhbnRpdHkoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWluZWRJdGVtUXVhbnRpdHkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpck1hcmtkb3duKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJNYXJrZG93bihzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyTWFya2Rvd25BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2xlZ2FsU3RhdHVzT2ZTdXBwbHknXSkgeyB0aGlzLmxlZ2FsU3RhdHVzT2ZTdXBwbHkgPSBzb3VyY2UubGVnYWxTdGF0dXNPZlN1cHBseS5tYXAoKHgpID0+IG5ldyBmaGlyLlBhY2thZ2VkUHJvZHVjdERlZmluaXRpb25MZWdhbFN0YXR1c09mU3VwcGx5KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubGVnYWxTdGF0dXNPZlN1cHBseSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXJrZXRpbmdTdGF0dXMnXSkgeyB0aGlzLm1hcmtldGluZ1N0YXR1cyA9IHNvdXJjZS5tYXJrZXRpbmdTdGF0dXMubWFwKCh4KSA9PiBuZXcgZmhpci5NYXJrZXRpbmdTdGF0dXMoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYXJrZXRpbmdTdGF0dXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2hhcmFjdGVyaXN0aWMnXSkgeyB0aGlzLmNoYXJhY3RlcmlzdGljID0gc291cmNlLmNoYXJhY3RlcmlzdGljLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2hhcmFjdGVyaXN0aWMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29wYWNrYWdlZEluZGljYXRvciddKSB7IHRoaXMuY29wYWNrYWdlZEluZGljYXRvciA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmNvcGFja2FnZWRJbmRpY2F0b3J9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvcGFja2FnZWRJbmRpY2F0b3InXSkge1xyXG4gICAgICBpZiAodGhpcy5jb3BhY2thZ2VkSW5kaWNhdG9yKSB7IHRoaXMuY29wYWNrYWdlZEluZGljYXRvci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb3BhY2thZ2VkSW5kaWNhdG9yISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29wYWNrYWdlZEluZGljYXRvciA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fY29wYWNrYWdlZEluZGljYXRvciBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21hbnVmYWN0dXJlciddKSB7IHRoaXMubWFudWZhY3R1cmVyID0gc291cmNlLm1hbnVmYWN0dXJlci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hbnVmYWN0dXJlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlJ10pIHsgdGhpcy5wYWNrYWdlID0gbmV3IGZoaXIuUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvblBhY2thZ2Uoc291cmNlLnBhY2thZ2UpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUGFja2FnZWRQcm9kdWN0RGVmaW5pdGlvbicgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9TKCduYW1lJyxleHApXHJcbiAgICB0aGlzLnZPUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3BhY2thZ2VGb3InLGV4cClcclxuICAgIHRoaXMudk9TKCdzdGF0dXMnLGV4cClcclxuICAgIHRoaXMudk9TKCdzdGF0dXNEYXRlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY29udGFpbmVkSXRlbVF1YW50aXR5JyxleHApXHJcbiAgICB0aGlzLnZPUygnZGVzY3JpcHRpb24nLGV4cClcclxuICAgIHRoaXMudk9BKCdsZWdhbFN0YXR1c09mU3VwcGx5JyxleHApXHJcbiAgICB0aGlzLnZPQSgnbWFya2V0aW5nU3RhdHVzJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY2hhcmFjdGVyaXN0aWMnLGV4cClcclxuICAgIHRoaXMudk9TKCdjb3BhY2thZ2VkSW5kaWNhdG9yJyxleHApXHJcbiAgICB0aGlzLnZPQSgnbWFudWZhY3R1cmVyJyxleHApXHJcbiAgICB0aGlzLnZPUygncGFja2FnZScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19