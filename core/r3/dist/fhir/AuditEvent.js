// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: AuditEvent
import * as fhir from '../fhir.js';
// @ts-ignore
import { NetworkTypeVsValidation } from '../fhirValueSets/NetworkTypeVsValidation.js';
// @ts-ignore
import { AuditEventActionVsValidation } from '../fhirValueSets/AuditEventActionVsValidation.js';
// @ts-ignore
import { AuditEventOutcomeVsValidation } from '../fhirValueSets/AuditEventOutcomeVsValidation.js';
/**
 * Logical network location for application activity, if the activity has a network location.
 */
export class AuditEventAgentNetwork extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventAgentNetwork - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['address']) {
            this.address = new fhir.FhirString({ value: source.address });
        }
        if (source['_address']) {
            if (this.address) {
                this.address.addExtendedProperties(source._address);
            }
            else {
                this.address = new fhir.FhirString(source._address);
            }
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.agent.network';
        }
        iss.push(...this.vOS('address', exp));
        iss.push(...this.vOSV('type', exp, 'NetworkType', NetworkTypeVsValidation, 'r'));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventAgentNetwork._fts_dataType = 'AuditEventAgentNetwork';
/**
 * Several agents may be associated (i.e. have some responsibility for an activity) with an event or activity.
 * For example, an activity may be initiated by one user for other users or involve more than one user. However, only one user may be the initiator/requestor for the activity.
 */
export class AuditEventAgent extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventAgent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['role']) {
            this.role = source.role.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.role = [];
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference);
        }
        if (source['userId']) {
            this.userId = new fhir.Identifier(source.userId);
        }
        if (source['altId']) {
            this.altId = new fhir.FhirString({ value: source.altId });
        }
        if (source['_altId']) {
            if (this.altId) {
                this.altId.addExtendedProperties(source._altId);
            }
            else {
                this.altId = new fhir.FhirString(source._altId);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['requestor']) {
            this.requestor = new fhir.FhirBoolean({ value: source.requestor });
        }
        else {
            this.requestor = null;
        }
        if (source['_requestor']) {
            if (this.requestor) {
                this.requestor.addExtendedProperties(source._requestor);
            }
            else {
                this.requestor = new fhir.FhirBoolean(source._requestor);
            }
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        if (source['policy']) {
            this.policy = source.policy.map((x) => new fhir.FhirUri({ value: x }));
        }
        else {
            this.policy = [];
        }
        if (source['_policy']) {
            source._policy.forEach((x, i) => {
                if (this.policy.length >= i) {
                    if (x) {
                        this.policy[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.policy.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['media']) {
            this.media = new fhir.Coding(source.media);
        }
        if (source['network']) {
            this.network = new fhir.AuditEventAgentNetwork(source.network);
        }
        if (source['purposeOfUse']) {
            this.purposeOfUse = source.purposeOfUse.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.purposeOfUse = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.agent';
        }
        iss.push(...this.vOA('role', exp));
        iss.push(...this.vOS('reference', exp));
        iss.push(...this.vOS('userId', exp));
        iss.push(...this.vOS('altId', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vRS('requestor', exp));
        iss.push(...this.vOS('location', exp));
        iss.push(...this.vOA('policy', exp));
        iss.push(...this.vOS('media', exp));
        iss.push(...this.vOS('network', exp));
        iss.push(...this.vOA('purposeOfUse', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventAgent._fts_dataType = 'AuditEventAgent';
/**
 * Since multi-tier, distributed, or composite applications make source identification ambiguous, this collection of fields may repeat for each application or process actively involved in the event. For example, multiple value-sets can identify participating web servers, application processes, and database server threads in an n-tier distributed application. Passive event participants (e.g. low-level network transports) need not be identified.
 */
export class AuditEventSource extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventSource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['site']) {
            this.site = new fhir.FhirString({ value: source.site });
        }
        if (source['_site']) {
            if (this.site) {
                this.site.addExtendedProperties(source._site);
            }
            else {
                this.site = new fhir.FhirString(source._site);
            }
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        else {
            this.identifier = null;
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.Coding(x));
        }
        else {
            this.type = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.source';
        }
        iss.push(...this.vOS('site', exp));
        iss.push(...this.vRS('identifier', exp));
        iss.push(...this.vOA('type', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventSource._fts_dataType = 'AuditEventSource';
/**
 * Tagged value pairs for conveying additional information about the entity.
 */
export class AuditEventEntityDetail extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventEntityDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirString({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirString(source._type);
            }
        }
        if (source['value']) {
            this.value = new fhir.FhirBase64Binary({ value: source.value });
        }
        else {
            this.value = null;
        }
        if (source['_value']) {
            if (this.value) {
                this.value.addExtendedProperties(source._value);
            }
            else {
                this.value = new fhir.FhirBase64Binary(source._value);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.entity.detail';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vRS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventEntityDetail._fts_dataType = 'AuditEventEntityDetail';
/**
 * Required unless the values for event identification, agent identification, and audit source identification are sufficient to document the entire auditable event. Because events may have more than one entity, this group can be a repeating set of values.
 */
export class AuditEventEntity extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventEntity - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference);
        }
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        if (source['role']) {
            this.role = new fhir.Coding(source.role);
        }
        if (source['lifecycle']) {
            this.lifecycle = new fhir.Coding(source.lifecycle);
        }
        if (source['securityLabel']) {
            this.securityLabel = source.securityLabel.map((x) => new fhir.Coding(x));
        }
        else {
            this.securityLabel = [];
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['query']) {
            this.query = new fhir.FhirBase64Binary({ value: source.query });
        }
        if (source['_query']) {
            if (this.query) {
                this.query.addExtendedProperties(source._query);
            }
            else {
                this.query = new fhir.FhirBase64Binary(source._query);
            }
        }
        if (source['detail']) {
            this.detail = source.detail.map((x) => new fhir.AuditEventEntityDetail(x));
        }
        else {
            this.detail = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.entity';
        }
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vOS('reference', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('role', exp));
        iss.push(...this.vOS('lifecycle', exp));
        iss.push(...this.vOA('securityLabel', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('query', exp));
        iss.push(...this.vOA('detail', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventEntity._fts_dataType = 'AuditEventEntity';
/**
 * A record of an event made for purposes of maintaining a security log. Typical uses include detection of intrusion attempts and monitoring for inappropriate usage.
 */
export class AuditEvent extends fhir.DomainResource {
    /**
     * Default constructor for AuditEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AuditEvent';
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        else {
            this.type = null;
        }
        if (source['subtype']) {
            this.subtype = source.subtype.map((x) => new fhir.Coding(x));
        }
        else {
            this.subtype = [];
        }
        if (source['action']) {
            this.action = new fhir.FhirCode({ value: source.action });
        }
        if (source['_action']) {
            if (this.action) {
                this.action.addExtendedProperties(source._action);
            }
            else {
                this.action = new fhir.FhirCode(source._action);
            }
        }
        if (source['recorded']) {
            this.recorded = new fhir.FhirInstant({ value: source.recorded });
        }
        else {
            this.recorded = null;
        }
        if (source['_recorded']) {
            if (this.recorded) {
                this.recorded.addExtendedProperties(source._recorded);
            }
            else {
                this.recorded = new fhir.FhirInstant(source._recorded);
            }
        }
        if (source['outcome']) {
            this.outcome = new fhir.FhirCode({ value: source.outcome });
        }
        if (source['_outcome']) {
            if (this.outcome) {
                this.outcome.addExtendedProperties(source._outcome);
            }
            else {
                this.outcome = new fhir.FhirCode(source._outcome);
            }
        }
        if (source['outcomeDesc']) {
            this.outcomeDesc = new fhir.FhirString({ value: source.outcomeDesc });
        }
        if (source['_outcomeDesc']) {
            if (this.outcomeDesc) {
                this.outcomeDesc.addExtendedProperties(source._outcomeDesc);
            }
            else {
                this.outcomeDesc = new fhir.FhirString(source._outcomeDesc);
            }
        }
        if (source['purposeOfEvent']) {
            this.purposeOfEvent = source.purposeOfEvent.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.purposeOfEvent = [];
        }
        if (source['agent']) {
            this.agent = source.agent.map((x) => new fhir.AuditEventAgent(x));
        }
        else {
            this.agent = [];
        }
        if (source['source']) {
            this.source = new fhir.AuditEventSource(source.source);
        }
        else {
            this.source = null;
        }
        if (source['entity']) {
            this.entity = source.entity.map((x) => new fhir.AuditEventEntity(x));
        }
        else {
            this.entity = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOA('subtype', exp));
        iss.push(...this.vOSV('action', exp, 'AuditEventAction', AuditEventActionVsValidation, 'r'));
        iss.push(...this.vRS('recorded', exp));
        iss.push(...this.vOSV('outcome', exp, 'AuditEventOutcome', AuditEventOutcomeVsValidation, 'r'));
        iss.push(...this.vOS('outcomeDesc', exp));
        iss.push(...this.vOA('purposeOfEvent', exp));
        iss.push(...this.vRA('agent', exp));
        iss.push(...this.vRS('source', exp));
        iss.push(...this.vOA('entity', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEvent._fts_dataType = 'AuditEvent';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXVkaXRFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQXVkaXRFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDZDQUE2QyxDQUFDO0FBbUN0RixhQUFhO0FBQ2IsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFHaEcsYUFBYTtBQUNiLE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLG1EQUFtRCxDQUFDO0FBdUJsRzs7R0FFRztBQUNILE1BQU0sT0FBTyxzQkFBdUIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWE5RDs7T0FFRztJQUNILFlBQVksU0FBNkMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDbkcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDdkYsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDdEIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUFFLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQyxDQUFDO2FBQUU7aUJBQ3RFO2dCQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxRQUF3QyxDQUFDLENBQUM7YUFBRTtTQUM5RjtRQUNELElBQUksTUFBTSxDQUFDLE1B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QztRQUM1RixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUExR0Q7O0dBRUc7QUFDNkIsd0JBQWEsR0FBVSxZQUFZLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjMuY29yZSB2ZXJzaW9uOiAzLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IEF1ZGl0RXZlbnRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE5ldHdvcmtUeXBlQ29kZXMsICBOZXR3b3JrVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9OZXR3b3JrVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBOZXR3b3JrVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTmV0d29ya1R5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpY200MDVNZWRpYXR5cGVDb2RlcywgIERpY200MDVNZWRpYXR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGljbTQwNU1lZGlhdHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaWNtNDA1TWVkaWF0eXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWNtNDA1TWVkaWF0eXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM1B1cnBvc2VPZlVzZUNvZGVzLCAgVjNQdXJwb3NlT2ZVc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjNQdXJwb3NlT2ZVc2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNQdXJwb3NlT2ZVc2VWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzUHVycG9zZU9mVXNlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdFNvdXJjZVR5cGVDb2RlcywgIEF1ZGl0U291cmNlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdFNvdXJjZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRTb3VyY2VUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdFNvdXJjZVR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RW50aXR5VHlwZUNvZGVzLCAgQXVkaXRFbnRpdHlUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RW50aXR5VHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEVudGl0eVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RW50aXR5VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JqZWN0Um9sZUNvZGVzLCAgT2JqZWN0Um9sZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYmplY3RSb2xlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9iamVjdFJvbGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09iamVjdFJvbGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlY3VyaXR5TGFiZWxzQ29kZXMsICBTZWN1cml0eUxhYmVsc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZWN1cml0eUxhYmVsc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZWN1cml0eUxhYmVsc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VjdXJpdHlMYWJlbHNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRUeXBlQ29kZXMsICBBdWRpdEV2ZW50VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEV2ZW50VHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50VHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudFR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRTdWJUeXBlQ29kZXMsICBBdWRpdEV2ZW50U3ViVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEV2ZW50U3ViVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50U3ViVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudFN1YlR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRBY3Rpb25Db2RlcywgIEF1ZGl0RXZlbnRBY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudEFjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50QWN0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEV2ZW50QWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50T3V0Y29tZUNvZGVzLCAgQXVkaXRFdmVudE91dGNvbWVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudE91dGNvbWVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRPdXRjb21lVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEF1ZGl0RXZlbnRBZ2VudE5ldHdvcmsgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRFdmVudEFnZW50TmV0d29ya0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY291bGQgYmUgYSBkZXZpY2UgaWQsIElQIGFkZHJlc3Mgb3Igc29tZSBvdGhlciBpZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCBhIGRldmljZS5cclxuICAgKi9cclxuICBhZGRyZXNzPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuYWdlbnQubmV0d29yay5hZGRyZXNzXHJcbiAgICovXHJcbiAgX2FkZHJlc3M/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFuIGlkZW50aWZpZXIgZm9yIHRoZSB0eXBlIG9mIG5ldHdvcmsgYWNjZXNzIHBvaW50IHRoYXQgb3JpZ2luYXRlZCB0aGUgYXVkaXQgZXZlbnQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5hZ2VudC5uZXR3b3JrLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2dpY2FsIG5ldHdvcmsgbG9jYXRpb24gZm9yIGFwcGxpY2F0aW9uIGFjdGl2aXR5LCBpZiB0aGUgYWN0aXZpdHkgaGFzIGEgbmV0d29yayBsb2NhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50QWdlbnROZXR3b3JrIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudEFnZW50TmV0d29yayc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjb3VsZCBiZSBhIGRldmljZSBpZCwgSVAgYWRkcmVzcyBvciBzb21lIG90aGVyIGlkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIGEgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRyZXNzPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIGZvciB0aGUgdHlwZSBvZiBuZXR3b3JrIGFjY2VzcyBwb2ludCB0aGF0IG9yaWdpbmF0ZWQgdGhlIGF1ZGl0IGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudEFnZW50TmV0d29yayAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRBZ2VudE5ldHdvcmtBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnYWRkcmVzcyddKSB7IHRoaXMuYWRkcmVzcyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYWRkcmVzc30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWRkcmVzcyddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFkZHJlc3MpIHsgdGhpcy5hZGRyZXNzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FkZHJlc3MhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hZGRyZXNzID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2FkZHJlc3MgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudC5hZ2VudC5uZXR3b3JrJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRkcmVzcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ3R5cGUnLGV4cCwnTmV0d29ya1R5cGUnLE5ldHdvcmtUeXBlVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEF1ZGl0RXZlbnRBZ2VudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50QWdlbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTaG91bGQgYmUgcm9sZXMgcmVsZXZhbnQgdG8gdGhlIGV2ZW50LiBTaG91bGQgIG5vdCBiZSBhbiBleGhhdXN0aXZlIGxpc3Qgb2Ygcm9sZXMuXHJcbiAgICovXHJcbiAgcm9sZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEaXJlY3QgcmVmZXJlbmNlIHRvIGEgcmVzb3VyY2UgdGhhdCBpZGVudGlmaWVzIHRoZSBhZ2VudC5cclxuICAgKi9cclxuICByZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdW5pcXVlIHZhbHVlIHdpdGhpbiB0aGUgQXVkaXQgU291cmNlIElELiBGb3Igbm9kZS1iYXNlZCBhdXRoZW50aWNhdGlvbiAtLSB3aGVyZSBvbmx5IHRoZSBzeXN0ZW0gaGFyZHdhcmUgb3IgcHJvY2VzcywgYnV0IG5vdCBhIGh1bWFuIHVzZXIsIGlzIGlkZW50aWZpZWQgLS0gVXNlciBJRCB3b3VsZCBiZSB0aGUgbm9kZSBuYW1lLlxyXG4gICAqL1xyXG4gIHVzZXJJZD86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsdGVybmF0aXZlIGFnZW50IElkZW50aWZpZXIuIEZvciBhIGh1bWFuLCB0aGlzIHNob3VsZCBiZSBhIHVzZXIgaWRlbnRpZmllciB0ZXh0IHN0cmluZyBmcm9tIGF1dGhlbnRpY2F0aW9uIHN5c3RlbS4gVGhpcyBpZGVudGlmaWVyIHdvdWxkIGJlIG9uZSBrbm93biB0byBhIGNvbW1vbiBhdXRoZW50aWNhdGlvbiBzeXN0ZW0gKGUuZy4gc2luZ2xlIHNpZ24tb24pLCBpZiBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgYWx0SWQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5hZ2VudC5hbHRJZFxyXG4gICAqL1xyXG4gIF9hbHRJZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSHVtYW4tbWVhbmluZ2Z1bCBuYW1lIGZvciB0aGUgYWdlbnQuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmFnZW50Lm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgY2FuIG9ubHkgYmUgb25lIGluaXRpYXRvci4gSWYgdGhlIGluaXRpYXRvciBpcyBub3QgY2xlYXIsIHRoZW4gZG8gbm90IGNob29zZSBhbnkgb25lIGFnZW50IGFzIHRoZSBpbml0aWF0b3IuXHJcbiAgICovXHJcbiAgcmVxdWVzdG9yOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmFnZW50LnJlcXVlc3RvclxyXG4gICAqL1xyXG4gIF9yZXF1ZXN0b3I/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IFdoZXJlIGFuIE9BdXRoIHRva2VuIGF1dGhvcml6ZXMsIHRoZSB1bmlxdWUgaWRlbnRpZmllciBmcm9tIHRoZSBPQXV0aCB0b2tlbiBpcyBwbGFjZWQgaW50byB0aGUgcG9saWN5IGVsZW1lbnQgV2hlcmUgYSBwb2xpY3kgZW5naW5lIChlLmcuIFhBQ01MKSBob2xkcyBwb2xpY3kgbG9naWMsIHRoZSB1bmlxdWUgcG9saWN5IGlkZW50aWZpZXIgaXMgcGxhY2VkIGludG8gdGhlIHBvbGljeSBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHBvbGljeT86IGZoaXIuRmhpclVyaVtdfChzdHJpbmd8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuYWdlbnQucG9saWN5XHJcbiAgICovXHJcbiAgX3BvbGljeT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBtZWRpYSBpbnZvbHZlZC4gVXNlZCB3aGVuIHRoZSBldmVudCBpcyBhYm91dCBleHBvcnRpbmcvaW1wb3J0aW5nIG9udG8gbWVkaWEuXHJcbiAgICovXHJcbiAgbWVkaWE/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExvZ2ljYWwgbmV0d29yayBsb2NhdGlvbiBmb3IgYXBwbGljYXRpb24gYWN0aXZpdHksIGlmIHRoZSBhY3Rpdml0eSBoYXMgYSBuZXR3b3JrIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIG5ldHdvcms/OiBmaGlyLkF1ZGl0RXZlbnRBZ2VudE5ldHdvcmtBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2UgQXVkaXRFdmVudC5hZ2VudC5wdXJwb3NlT2ZVc2Ugd2hlbiB5b3Uga25vdyB0aGF0IGlzIHNwZWNpZmljIHRvIHRoZSBhZ2VudCwgb3RoZXJ3aXNlIHVzZSBBdWRpdEV2ZW50LnB1cnBvc2VPZkV2ZW50LiBGb3IgZXhhbXBsZSwgZHVyaW5nIGEgbWFjaGluZS10by1tYWNoaW5lIHRyYW5zZmVyIGl0IG1pZ2h0IG5vdCBiZSBvYnZpb3VzIHRvIHRoZSBhdWRpdCBzeXN0ZW0gd2hvIGNhdXNlZCB0aGUgZXZlbnQsIGJ1dCBpdCBkb2VzIGtub3cgd2h5LlxyXG4gICAqL1xyXG4gIHB1cnBvc2VPZlVzZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldmVyYWwgYWdlbnRzIG1heSBiZSBhc3NvY2lhdGVkIChpLmUuIGhhdmUgc29tZSByZXNwb25zaWJpbGl0eSBmb3IgYW4gYWN0aXZpdHkpIHdpdGggYW4gZXZlbnQgb3IgYWN0aXZpdHkuXHJcbiAqIEZvciBleGFtcGxlLCBhbiBhY3Rpdml0eSBtYXkgYmUgaW5pdGlhdGVkIGJ5IG9uZSB1c2VyIGZvciBvdGhlciB1c2VycyBvciBpbnZvbHZlIG1vcmUgdGhhbiBvbmUgdXNlci4gSG93ZXZlciwgb25seSBvbmUgdXNlciBtYXkgYmUgdGhlIGluaXRpYXRvci9yZXF1ZXN0b3IgZm9yIHRoZSBhY3Rpdml0eS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50QWdlbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50QWdlbnQnO1xyXG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSByb2xlcyByZWxldmFudCB0byB0aGUgZXZlbnQuIFNob3VsZCAgbm90IGJlIGFuIGV4aGF1c3RpdmUgbGlzdCBvZiByb2xlcy5cclxuICAgKi9cclxuICBwdWJsaWMgcm9sZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEaXJlY3QgcmVmZXJlbmNlIHRvIGEgcmVzb3VyY2UgdGhhdCBpZGVudGlmaWVzIHRoZSBhZ2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgdW5pcXVlIHZhbHVlIHdpdGhpbiB0aGUgQXVkaXQgU291cmNlIElELiBGb3Igbm9kZS1iYXNlZCBhdXRoZW50aWNhdGlvbiAtLSB3aGVyZSBvbmx5IHRoZSBzeXN0ZW0gaGFyZHdhcmUgb3IgcHJvY2VzcywgYnV0IG5vdCBhIGh1bWFuIHVzZXIsIGlzIGlkZW50aWZpZWQgLS0gVXNlciBJRCB3b3VsZCBiZSB0aGUgbm9kZSBuYW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2VySWQ/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsdGVybmF0aXZlIGFnZW50IElkZW50aWZpZXIuIEZvciBhIGh1bWFuLCB0aGlzIHNob3VsZCBiZSBhIHVzZXIgaWRlbnRpZmllciB0ZXh0IHN0cmluZyBmcm9tIGF1dGhlbnRpY2F0aW9uIHN5c3RlbS4gVGhpcyBpZGVudGlmaWVyIHdvdWxkIGJlIG9uZSBrbm93biB0byBhIGNvbW1vbiBhdXRoZW50aWNhdGlvbiBzeXN0ZW0gKGUuZy4gc2luZ2xlIHNpZ24tb24pLCBpZiBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgcHVibGljIGFsdElkPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIdW1hbi1tZWFuaW5nZnVsIG5hbWUgZm9yIHRoZSBhZ2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgY2FuIG9ubHkgYmUgb25lIGluaXRpYXRvci4gSWYgdGhlIGluaXRpYXRvciBpcyBub3QgY2xlYXIsIHRoZW4gZG8gbm90IGNob29zZSBhbnkgb25lIGFnZW50IGFzIHRoZSBpbml0aWF0b3IuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3RvcjogZmhpci5GaGlyQm9vbGVhbnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbG9jYXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIGV4YW1wbGU6IFdoZXJlIGFuIE9BdXRoIHRva2VuIGF1dGhvcml6ZXMsIHRoZSB1bmlxdWUgaWRlbnRpZmllciBmcm9tIHRoZSBPQXV0aCB0b2tlbiBpcyBwbGFjZWQgaW50byB0aGUgcG9saWN5IGVsZW1lbnQgV2hlcmUgYSBwb2xpY3kgZW5naW5lIChlLmcuIFhBQ01MKSBob2xkcyBwb2xpY3kgbG9naWMsIHRoZSB1bmlxdWUgcG9saWN5IGlkZW50aWZpZXIgaXMgcGxhY2VkIGludG8gdGhlIHBvbGljeSBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb2xpY3k6IGZoaXIuRmhpclVyaVtdO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgbWVkaWEgaW52b2x2ZWQuIFVzZWQgd2hlbiB0aGUgZXZlbnQgaXMgYWJvdXQgZXhwb3J0aW5nL2ltcG9ydGluZyBvbnRvIG1lZGlhLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZWRpYT86IGZoaXIuQ29kaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMb2dpY2FsIG5ldHdvcmsgbG9jYXRpb24gZm9yIGFwcGxpY2F0aW9uIGFjdGl2aXR5LCBpZiB0aGUgYWN0aXZpdHkgaGFzIGEgbmV0d29yayBsb2NhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbmV0d29yaz86IGZoaXIuQXVkaXRFdmVudEFnZW50TmV0d29ya3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlIEF1ZGl0RXZlbnQuYWdlbnQucHVycG9zZU9mVXNlIHdoZW4geW91IGtub3cgdGhhdCBpcyBzcGVjaWZpYyB0byB0aGUgYWdlbnQsIG90aGVyd2lzZSB1c2UgQXVkaXRFdmVudC5wdXJwb3NlT2ZFdmVudC4gRm9yIGV4YW1wbGUsIGR1cmluZyBhIG1hY2hpbmUtdG8tbWFjaGluZSB0cmFuc2ZlciBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB0byB0aGUgYXVkaXQgc3lzdGVtIHdobyBjYXVzZWQgdGhlIGV2ZW50LCBidXQgaXQgZG9lcyBrbm93IHdoeS5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZU9mVXNlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEF1ZGl0RXZlbnRBZ2VudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRBZ2VudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydyb2xlJ10pIHsgdGhpcy5yb2xlID0gc291cmNlLnJvbGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yb2xlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZSddKSB7IHRoaXMucmVmZXJlbmNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWZlcmVuY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWyd1c2VySWQnXSkgeyB0aGlzLnVzZXJJZCA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLnVzZXJJZCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FsdElkJ10pIHsgdGhpcy5hbHRJZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYWx0SWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FsdElkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWx0SWQpIHsgdGhpcy5hbHRJZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hbHRJZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFsdElkID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2FsdElkIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19uYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMubmFtZSkgeyB0aGlzLm5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdG9yJ10pIHsgdGhpcy5yZXF1ZXN0b3IgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5yZXF1ZXN0b3J9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVxdWVzdG9yID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlcXVlc3RvciddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlcXVlc3RvcikgeyB0aGlzLnJlcXVlc3Rvci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZXF1ZXN0b3IhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZXF1ZXN0b3IgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX3JlcXVlc3RvciBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2xvY2F0aW9uJ10pIHsgdGhpcy5sb2NhdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubG9jYXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydwb2xpY3knXSkgeyB0aGlzLnBvbGljeSA9IHNvdXJjZS5wb2xpY3kubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucG9saWN5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19wb2xpY3knXSkge1xyXG4gICAgICBzb3VyY2UuX3BvbGljeS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wb2xpY3kubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5wb2xpY3lbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5wb2xpY3kucHVzaChuZXcgZmhpci5GaGlyVXJpKHggYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtZWRpYSddKSB7IHRoaXMubWVkaWEgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLm1lZGlhKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0d29yayddKSB7IHRoaXMubmV0d29yayA9IG5ldyBmaGlyLkF1ZGl0RXZlbnRBZ2VudE5ldHdvcmsoc291cmNlLm5ldHdvcmspOyB9XHJcbiAgICBpZiAoc291cmNlWydwdXJwb3NlT2ZVc2UnXSkgeyB0aGlzLnB1cnBvc2VPZlVzZSA9IHNvdXJjZS5wdXJwb3NlT2ZVc2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wdXJwb3NlT2ZVc2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0F1ZGl0RXZlbnQuYWdlbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdyb2xlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZWZlcmVuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3VzZXJJZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWx0SWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3JlcXVlc3RvcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbG9jYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3BvbGljeScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWVkaWEnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25ldHdvcmsnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3B1cnBvc2VPZlVzZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudFNvdXJjZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50U291cmNlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogTG9naWNhbCBzb3VyY2UgbG9jYXRpb24gd2l0aGluIHRoZSBoZWFsdGhjYXJlIGVudGVycHJpc2UgbmV0d29yay4gIEZvciBleGFtcGxlLCBhIGhvc3BpdGFsIG9yIG90aGVyIHByb3ZpZGVyIGxvY2F0aW9uIHdpdGhpbiBhIG11bHRpLWVudGl0eSBwcm92aWRlciBncm91cC5cclxuICAgKi9cclxuICBzaXRlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuc291cmNlLnNpdGVcclxuICAgKi9cclxuICBfc2l0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBvZiB0aGUgc291cmNlIHdoZXJlIHRoZSBldmVudCB3YXMgZGV0ZWN0ZWQuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgc3BlY2lmeWluZyB0aGUgdHlwZSBvZiBzb3VyY2Ugd2hlcmUgZXZlbnQgb3JpZ2luYXRlZC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RpbmdBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU2luY2UgbXVsdGktdGllciwgZGlzdHJpYnV0ZWQsIG9yIGNvbXBvc2l0ZSBhcHBsaWNhdGlvbnMgbWFrZSBzb3VyY2UgaWRlbnRpZmljYXRpb24gYW1iaWd1b3VzLCB0aGlzIGNvbGxlY3Rpb24gb2YgZmllbGRzIG1heSByZXBlYXQgZm9yIGVhY2ggYXBwbGljYXRpb24gb3IgcHJvY2VzcyBhY3RpdmVseSBpbnZvbHZlZCBpbiB0aGUgZXZlbnQuIEZvciBleGFtcGxlLCBtdWx0aXBsZSB2YWx1ZS1zZXRzIGNhbiBpZGVudGlmeSBwYXJ0aWNpcGF0aW5nIHdlYiBzZXJ2ZXJzLCBhcHBsaWNhdGlvbiBwcm9jZXNzZXMsIGFuZCBkYXRhYmFzZSBzZXJ2ZXIgdGhyZWFkcyBpbiBhbiBuLXRpZXIgZGlzdHJpYnV0ZWQgYXBwbGljYXRpb24uIFBhc3NpdmUgZXZlbnQgcGFydGljaXBhbnRzIChlLmcuIGxvdy1sZXZlbCBuZXR3b3JrIHRyYW5zcG9ydHMpIG5lZWQgbm90IGJlIGlkZW50aWZpZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXVkaXRFdmVudFNvdXJjZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0F1ZGl0RXZlbnRTb3VyY2UnO1xyXG4gIC8qKlxyXG4gICAqIExvZ2ljYWwgc291cmNlIGxvY2F0aW9uIHdpdGhpbiB0aGUgaGVhbHRoY2FyZSBlbnRlcnByaXNlIG5ldHdvcmsuICBGb3IgZXhhbXBsZSwgYSBob3NwaXRhbCBvciBvdGhlciBwcm92aWRlciBsb2NhdGlvbiB3aXRoaW4gYSBtdWx0aS1lbnRpdHkgcHJvdmlkZXIgZ3JvdXAuXHJcbiAgICovXHJcbiAgcHVibGljIHNpdGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgb2YgdGhlIHNvdXJjZSB3aGVyZSB0aGUgZXZlbnQgd2FzIGRldGVjdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJ8bnVsbDtcclxuICAvKipcclxuICAgKiBDb2RlIHNwZWNpZnlpbmcgdGhlIHR5cGUgb2Ygc291cmNlIHdoZXJlIGV2ZW50IG9yaWdpbmF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kaW5nW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudFNvdXJjZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRTb3VyY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2l0ZSddKSB7IHRoaXMuc2l0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2Uuc2l0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc2l0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNpdGUpIHsgdGhpcy5zaXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3NpdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3NpdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0F1ZGl0RXZlbnQuc291cmNlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc2l0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndHlwZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudEVudGl0eURldGFpbCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50RW50aXR5RGV0YWlsQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZXh0cmEgZGV0YWlsIHByb3ZpZGVkIGluIHRoZSB2YWx1ZS5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5lbnRpdHkuZGV0YWlsLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIGlzIGJhc2U2NCBlbmNvZGVkIHRvIGVuYWJsZSB2YXJpb3VzIGVuY29kaW5ncyBvciBiaW5hcnkgY29udGVudC5cclxuICAgKi9cclxuICB2YWx1ZTogZmhpci5GaGlyQmFzZTY0QmluYXJ5fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuZW50aXR5LmRldGFpbC52YWx1ZVxyXG4gICAqL1xyXG4gIF92YWx1ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUYWdnZWQgdmFsdWUgcGFpcnMgZm9yIGNvbnZleWluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlbnRpdHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXVkaXRFdmVudEVudGl0eURldGFpbCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0F1ZGl0RXZlbnRFbnRpdHlEZXRhaWwnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGV4dHJhIGRldGFpbCBwcm92aWRlZCBpbiB0aGUgdmFsdWUuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBpcyBiYXNlNjQgZW5jb2RlZCB0byBlbmFibGUgdmFyaW91cyBlbmNvZGluZ3Mgb3IgYmluYXJ5IGNvbnRlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlOiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50RW50aXR5RGV0YWlsIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudEVudGl0eURldGFpbEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJCYXNlNjRCaW5hcnkoe3ZhbHVlOiBzb3VyY2UudmFsdWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudmFsdWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmFsdWUnXSkge1xyXG4gICAgICBpZiAodGhpcy52YWx1ZSkgeyB0aGlzLnZhbHVlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZhbHVlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyQmFzZTY0QmluYXJ5KHNvdXJjZS5fdmFsdWUgYXMgUGFydGlhbDxmaGlyLkZoaXJCYXNlNjRCaW5hcnlBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBdWRpdEV2ZW50LmVudGl0eS5kZXRhaWwnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd2YWx1ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudEVudGl0eSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50RW50aXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBkZXRhaWwgZGVwZW5kcyBvbiBlbnRpdHkgdHlwZS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGluc3RhbmNlIG9mIHRoZSBlbnRpdHkuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGJlIHZlcnNpb24gc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGlzIGRpc3RpbmN0IGZyb20gdGhlIHVzZXIncyByb2xlIG9yIGFueSB1c2VyIHJlbGF0aW9uc2hpcCB0byB0aGUgZW50aXR5LlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgcmVwcmVzZW50aW5nIHRoZSByb2xlIHRoZSBlbnRpdHkgcGxheWVkIGluIHRoZSBldmVudCBiZWluZyBhdWRpdGVkLlxyXG4gICAqL1xyXG4gIHJvbGU/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBhbiBhdWRpdCB0cmFpbCBmb3IgZGF0YSwgb3ZlciB0aW1lLCBhcyBpdCBwYXNzZXMgdGhyb3VnaCB0aGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIGxpZmVjeWNsZT86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29waWVkIGZyb20gZW50aXR5IG1ldGEgc2VjdXJpdHkgdGFncy5cclxuICAgKi9cclxuICBzZWN1cml0eUxhYmVsPzogZmhpci5Db2RpbmdBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgbWF5IGJlIHVzZWQgaW4gYSBxdWVyeS9yZXBvcnQgdG8gaWRlbnRpZnkgYXVkaXQgZXZlbnRzIGZvciBhIHNwZWNpZmljIHBlcnNvbi4gIEZvciBleGFtcGxlLCB3aGVyZSBtdWx0aXBsZSBzeW5vbnltb3VzIGVudGl0eSBpZGVudGlmaWVycyAocGF0aWVudCBudW1iZXIsIG1lZGljYWwgcmVjb3JkIG51bWJlciwgZW5jb3VudGVyIG51bWJlciwgZXRjLikgaGF2ZSBiZWVuIHVzZWQuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmVudGl0eS5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgdGhhdCBkZXNjcmliZXMgdGhlIGVudGl0eSBpbiBtb3JlIGRldGFpbC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmVudGl0eS5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1ZXJ5IHBhcmFtZXRlcnMgZm9yIGEgcXVlcnktdHlwZSBlbnRpdGllcy5cclxuICAgKi9cclxuICBxdWVyeT86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmVudGl0eS5xdWVyeVxyXG4gICAqL1xyXG4gIF9xdWVyeT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGFnZ2VkIHZhbHVlIHBhaXJzIGZvciBjb252ZXlpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5LlxyXG4gICAqL1xyXG4gIGRldGFpbD86IGZoaXIuQXVkaXRFdmVudEVudGl0eURldGFpbEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXF1aXJlZCB1bmxlc3MgdGhlIHZhbHVlcyBmb3IgZXZlbnQgaWRlbnRpZmljYXRpb24sIGFnZW50IGlkZW50aWZpY2F0aW9uLCBhbmQgYXVkaXQgc291cmNlIGlkZW50aWZpY2F0aW9uIGFyZSBzdWZmaWNpZW50IHRvIGRvY3VtZW50IHRoZSBlbnRpcmUgYXVkaXRhYmxlIGV2ZW50LiBCZWNhdXNlIGV2ZW50cyBtYXkgaGF2ZSBtb3JlIHRoYW4gb25lIGVudGl0eSwgdGhpcyBncm91cCBjYW4gYmUgYSByZXBlYXRpbmcgc2V0IG9mIHZhbHVlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50RW50aXR5IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudEVudGl0eSc7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBkZXRhaWwgZGVwZW5kcyBvbiBlbnRpdHkgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGluc3RhbmNlIG9mIHRoZSBlbnRpdHkuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGJlIHZlcnNpb24gc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGlzIGRpc3RpbmN0IGZyb20gdGhlIHVzZXIncyByb2xlIG9yIGFueSB1c2VyIHJlbGF0aW9uc2hpcCB0byB0aGUgZW50aXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgcmVwcmVzZW50aW5nIHRoZSByb2xlIHRoZSBlbnRpdHkgcGxheWVkIGluIHRoZSBldmVudCBiZWluZyBhdWRpdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb2xlPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBhbiBhdWRpdCB0cmFpbCBmb3IgZGF0YSwgb3ZlciB0aW1lLCBhcyBpdCBwYXNzZXMgdGhyb3VnaCB0aGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsaWZlY3ljbGU/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29waWVkIGZyb20gZW50aXR5IG1ldGEgc2VjdXJpdHkgdGFncy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VjdXJpdHlMYWJlbDogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIG1heSBiZSB1c2VkIGluIGEgcXVlcnkvcmVwb3J0IHRvIGlkZW50aWZ5IGF1ZGl0IGV2ZW50cyBmb3IgYSBzcGVjaWZpYyBwZXJzb24uICBGb3IgZXhhbXBsZSwgd2hlcmUgbXVsdGlwbGUgc3lub255bW91cyBlbnRpdHkgaWRlbnRpZmllcnMgKHBhdGllbnQgbnVtYmVyLCBtZWRpY2FsIHJlY29yZCBudW1iZXIsIGVuY291bnRlciBudW1iZXIsIGV0Yy4pIGhhdmUgYmVlbiB1c2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUZXh0IHRoYXQgZGVzY3JpYmVzIHRoZSBlbnRpdHkgaW4gbW9yZSBkZXRhaWwuXHJcbiAgICovXHJcbiAgcHVibGljIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVlcnkgcGFyYW1ldGVycyBmb3IgYSBxdWVyeS10eXBlIGVudGl0aWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWVyeT86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGFnZ2VkIHZhbHVlIHBhaXJzIGZvciBjb252ZXlpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXRhaWw6IGZoaXIuQXVkaXRFdmVudEVudGl0eURldGFpbFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEF1ZGl0RXZlbnRFbnRpdHkgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBdWRpdEV2ZW50RW50aXR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlJ10pIHsgdGhpcy5yZWZlcmVuY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZmVyZW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydyb2xlJ10pIHsgdGhpcy5yb2xlID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5yb2xlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGlmZWN5Y2xlJ10pIHsgdGhpcy5saWZlY3ljbGUgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLmxpZmVjeWNsZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlY3VyaXR5TGFiZWwnXSkgeyB0aGlzLnNlY3VyaXR5TGFiZWwgPSBzb3VyY2Uuc2VjdXJpdHlMYWJlbC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlY3VyaXR5TGFiZWwgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydxdWVyeSddKSB7IHRoaXMucXVlcnkgPSBuZXcgZmhpci5GaGlyQmFzZTY0QmluYXJ5KHt2YWx1ZTogc291cmNlLnF1ZXJ5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19xdWVyeSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7IHRoaXMucXVlcnkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcXVlcnkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5xdWVyeSA9IG5ldyBmaGlyLkZoaXJCYXNlNjRCaW5hcnkoc291cmNlLl9xdWVyeSBhcyBQYXJ0aWFsPGZoaXIuRmhpckJhc2U2NEJpbmFyeUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV0YWlsJ10pIHsgdGhpcy5kZXRhaWwgPSBzb3VyY2UuZGV0YWlsLm1hcCgoeCkgPT4gbmV3IGZoaXIuQXVkaXRFdmVudEVudGl0eURldGFpbCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRldGFpbCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudC5lbnRpdHknIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZWZlcmVuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JvbGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2xpZmVjeWNsZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc2VjdXJpdHlMYWJlbCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGVzY3JpcHRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3F1ZXJ5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdkZXRhaWwnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEF1ZGl0RXZlbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRFdmVudEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkF1ZGl0RXZlbnRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBmb3IgYSBmYW1pbHkgb2YgdGhlIGV2ZW50LiAgRm9yIGV4YW1wbGUsIGEgbWVudSBpdGVtLCBwcm9ncmFtLCBydWxlLCBwb2xpY3ksIGZ1bmN0aW9uIGNvZGUsIGFwcGxpY2F0aW9uIG5hbWUgb3IgVVJMLiBJdCBpZGVudGlmaWVzIHRoZSBwZXJmb3JtZWQgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5Db2RpbmdBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllciBmb3IgdGhlIGNhdGVnb3J5IG9mIGV2ZW50LlxyXG4gICAqL1xyXG4gIHN1YnR5cGU/OiBmaGlyLkNvZGluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdG9yIGZvciB0eXBlIG9mIGFjdGlvbiBwZXJmb3JtZWQgZHVyaW5nIHRoZSBldmVudCB0aGF0IGdlbmVyYXRlZCB0aGUgYXVkaXQuXHJcbiAgICovXHJcbiAgYWN0aW9uPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmFjdGlvblxyXG4gICAqL1xyXG4gIF9hY3Rpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluIGEgZGlzdHJpYnV0ZWQgc3lzdGVtLCBzb21lIHNvcnQgb2YgY29tbW9uIHRpbWUgYmFzZSAoZS5nLiBhbiBOVFAgW1JGQzEzMDVdIHNlcnZlcikgaXMgYSBnb29kIGltcGxlbWVudGF0aW9uIHRhY3RpYy5cclxuICAgKi9cclxuICByZWNvcmRlZDogZmhpci5GaGlySW5zdGFudHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LnJlY29yZGVkXHJcbiAgICovXHJcbiAgX3JlY29yZGVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbiBzb21lIGNhc2VzIGEgXCJzdWNjZXNzXCIgbWF5IGJlIHBhcnRpYWwsIGZvciBleGFtcGxlLCBhbiBpbmNvbXBsZXRlIG9yIGludGVycnVwdGVkIHRyYW5zZmVyIG9mIGEgcmFkaW9sb2dpY2FsIHN0dWR5LiBGb3IgdGhlIHB1cnBvc2Ugb2YgZXN0YWJsaXNoaW5nIGFjY291bnRhYmlsaXR5LCB0aGVzZSBkaXN0aW5jdGlvbnMgYXJlIG5vdCByZWxldmFudC5cclxuICAgKi9cclxuICBvdXRjb21lPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50Lm91dGNvbWVcclxuICAgKi9cclxuICBfb3V0Y29tZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBmcmVlIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIG91dGNvbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIG91dGNvbWVEZXNjPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQub3V0Y29tZURlc2NcclxuICAgKi9cclxuICBfb3V0Y29tZURlc2M/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFVzZSBBdWRpdEV2ZW50LmFnZW50LnB1cnBvc2VPZlVzZSB3aGVuIHlvdSBrbm93IHRoYXQgaXQgaXMgc3BlY2lmaWMgdG8gdGhlIGFnZW50LCBvdGhlcndpc2UgdXNlIEF1ZGl0RXZlbnQucHVycG9zZU9mRXZlbnQuIEZvciBleGFtcGxlLCBkdXJpbmcgYSBtYWNoaW5lLXRvLW1hY2hpbmUgdHJhbnNmZXIgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgdG8gdGhlIGF1ZGl0IHN5c3RlbSB3aG8gY2F1c2VkIHRoZSBldmVudCwgYnV0IGl0IGRvZXMga25vdyB3aHkuXHJcbiAgICovXHJcbiAgcHVycG9zZU9mRXZlbnQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2V2ZXJhbCBhZ2VudHMgbWF5IGJlIGFzc29jaWF0ZWQgKGkuZS4gaGF2ZSBzb21lIHJlc3BvbnNpYmlsaXR5IGZvciBhbiBhY3Rpdml0eSkgd2l0aCBhbiBldmVudCBvciBhY3Rpdml0eS5cclxuICAgKiBGb3IgZXhhbXBsZSwgYW4gYWN0aXZpdHkgbWF5IGJlIGluaXRpYXRlZCBieSBvbmUgdXNlciBmb3Igb3RoZXIgdXNlcnMgb3IgaW52b2x2ZSBtb3JlIHRoYW4gb25lIHVzZXIuIEhvd2V2ZXIsIG9ubHkgb25lIHVzZXIgbWF5IGJlIHRoZSBpbml0aWF0b3IvcmVxdWVzdG9yIGZvciB0aGUgYWN0aXZpdHkuXHJcbiAgICovXHJcbiAgYWdlbnQ6IGZoaXIuQXVkaXRFdmVudEFnZW50QXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogU2luY2UgbXVsdGktdGllciwgZGlzdHJpYnV0ZWQsIG9yIGNvbXBvc2l0ZSBhcHBsaWNhdGlvbnMgbWFrZSBzb3VyY2UgaWRlbnRpZmljYXRpb24gYW1iaWd1b3VzLCB0aGlzIGNvbGxlY3Rpb24gb2YgZmllbGRzIG1heSByZXBlYXQgZm9yIGVhY2ggYXBwbGljYXRpb24gb3IgcHJvY2VzcyBhY3RpdmVseSBpbnZvbHZlZCBpbiB0aGUgZXZlbnQuIEZvciBleGFtcGxlLCBtdWx0aXBsZSB2YWx1ZS1zZXRzIGNhbiBpZGVudGlmeSBwYXJ0aWNpcGF0aW5nIHdlYiBzZXJ2ZXJzLCBhcHBsaWNhdGlvbiBwcm9jZXNzZXMsIGFuZCBkYXRhYmFzZSBzZXJ2ZXIgdGhyZWFkcyBpbiBhbiBuLXRpZXIgZGlzdHJpYnV0ZWQgYXBwbGljYXRpb24uIFBhc3NpdmUgZXZlbnQgcGFydGljaXBhbnRzIChlLmcuIGxvdy1sZXZlbCBuZXR3b3JrIHRyYW5zcG9ydHMpIG5lZWQgbm90IGJlIGlkZW50aWZpZWQuXHJcbiAgICovXHJcbiAgc291cmNlOiBmaGlyLkF1ZGl0RXZlbnRTb3VyY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUmVxdWlyZWQgdW5sZXNzIHRoZSB2YWx1ZXMgZm9yIGV2ZW50IGlkZW50aWZpY2F0aW9uLCBhZ2VudCBpZGVudGlmaWNhdGlvbiwgYW5kIGF1ZGl0IHNvdXJjZSBpZGVudGlmaWNhdGlvbiBhcmUgc3VmZmljaWVudCB0byBkb2N1bWVudCB0aGUgZW50aXJlIGF1ZGl0YWJsZSBldmVudC4gQmVjYXVzZSBldmVudHMgbWF5IGhhdmUgbW9yZSB0aGFuIG9uZSBlbnRpdHksIHRoaXMgZ3JvdXAgY2FuIGJlIGEgcmVwZWF0aW5nIHNldCBvZiB2YWx1ZXMuXHJcbiAgICovXHJcbiAgZW50aXR5PzogZmhpci5BdWRpdEV2ZW50RW50aXR5QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVjb3JkIG9mIGFuIGV2ZW50IG1hZGUgZm9yIHB1cnBvc2VzIG9mIG1haW50YWluaW5nIGEgc2VjdXJpdHkgbG9nLiBUeXBpY2FsIHVzZXMgaW5jbHVkZSBkZXRlY3Rpb24gb2YgaW50cnVzaW9uIGF0dGVtcHRzIGFuZCBtb25pdG9yaW5nIGZvciBpbmFwcHJvcHJpYXRlIHVzYWdlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0F1ZGl0RXZlbnQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQXVkaXRFdmVudFwiO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgZm9yIGEgZmFtaWx5IG9mIHRoZSBldmVudC4gIEZvciBleGFtcGxlLCBhIG1lbnUgaXRlbSwgcHJvZ3JhbSwgcnVsZSwgcG9saWN5LCBmdW5jdGlvbiBjb2RlLCBhcHBsaWNhdGlvbiBuYW1lIG9yIFVSTC4gSXQgaWRlbnRpZmllcyB0aGUgcGVyZm9ybWVkIGZ1bmN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXIgZm9yIHRoZSBjYXRlZ29yeSBvZiBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VidHlwZTogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBJbmRpY2F0b3IgZm9yIHR5cGUgb2YgYWN0aW9uIHBlcmZvcm1lZCBkdXJpbmcgdGhlIGV2ZW50IHRoYXQgZ2VuZXJhdGVkIHRoZSBhdWRpdC5cclxuICAgKi9cclxuICBwdWJsaWMgYWN0aW9uPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gYSBkaXN0cmlidXRlZCBzeXN0ZW0sIHNvbWUgc29ydCBvZiBjb21tb24gdGltZSBiYXNlIChlLmcuIGFuIE5UUCBbUkZDMTMwNV0gc2VydmVyKSBpcyBhIGdvb2QgaW1wbGVtZW50YXRpb24gdGFjdGljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNvcmRlZDogZmhpci5GaGlySW5zdGFudHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluIHNvbWUgY2FzZXMgYSBcInN1Y2Nlc3NcIiBtYXkgYmUgcGFydGlhbCwgZm9yIGV4YW1wbGUsIGFuIGluY29tcGxldGUgb3IgaW50ZXJydXB0ZWQgdHJhbnNmZXIgb2YgYSByYWRpb2xvZ2ljYWwgc3R1ZHkuIEZvciB0aGUgcHVycG9zZSBvZiBlc3RhYmxpc2hpbmcgYWNjb3VudGFiaWxpdHksIHRoZXNlIGRpc3RpbmN0aW9ucyBhcmUgbm90IHJlbGV2YW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBmcmVlIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIG91dGNvbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lRGVzYz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVXNlIEF1ZGl0RXZlbnQuYWdlbnQucHVycG9zZU9mVXNlIHdoZW4geW91IGtub3cgdGhhdCBpdCBpcyBzcGVjaWZpYyB0byB0aGUgYWdlbnQsIG90aGVyd2lzZSB1c2UgQXVkaXRFdmVudC5wdXJwb3NlT2ZFdmVudC4gRm9yIGV4YW1wbGUsIGR1cmluZyBhIG1hY2hpbmUtdG8tbWFjaGluZSB0cmFuc2ZlciBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB0byB0aGUgYXVkaXQgc3lzdGVtIHdobyBjYXVzZWQgdGhlIGV2ZW50LCBidXQgaXQgZG9lcyBrbm93IHdoeS5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZU9mRXZlbnQ6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogU2V2ZXJhbCBhZ2VudHMgbWF5IGJlIGFzc29jaWF0ZWQgKGkuZS4gaGF2ZSBzb21lIHJlc3BvbnNpYmlsaXR5IGZvciBhbiBhY3Rpdml0eSkgd2l0aCBhbiBldmVudCBvciBhY3Rpdml0eS5cclxuICAgKiBGb3IgZXhhbXBsZSwgYW4gYWN0aXZpdHkgbWF5IGJlIGluaXRpYXRlZCBieSBvbmUgdXNlciBmb3Igb3RoZXIgdXNlcnMgb3IgaW52b2x2ZSBtb3JlIHRoYW4gb25lIHVzZXIuIEhvd2V2ZXIsIG9ubHkgb25lIHVzZXIgbWF5IGJlIHRoZSBpbml0aWF0b3IvcmVxdWVzdG9yIGZvciB0aGUgYWN0aXZpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGFnZW50OiBmaGlyLkF1ZGl0RXZlbnRBZ2VudFtdO1xyXG4gIC8qKlxyXG4gICAqIFNpbmNlIG11bHRpLXRpZXIsIGRpc3RyaWJ1dGVkLCBvciBjb21wb3NpdGUgYXBwbGljYXRpb25zIG1ha2Ugc291cmNlIGlkZW50aWZpY2F0aW9uIGFtYmlndW91cywgdGhpcyBjb2xsZWN0aW9uIG9mIGZpZWxkcyBtYXkgcmVwZWF0IGZvciBlYWNoIGFwcGxpY2F0aW9uIG9yIHByb2Nlc3MgYWN0aXZlbHkgaW52b2x2ZWQgaW4gdGhlIGV2ZW50LiBGb3IgZXhhbXBsZSwgbXVsdGlwbGUgdmFsdWUtc2V0cyBjYW4gaWRlbnRpZnkgcGFydGljaXBhdGluZyB3ZWIgc2VydmVycywgYXBwbGljYXRpb24gcHJvY2Vzc2VzLCBhbmQgZGF0YWJhc2Ugc2VydmVyIHRocmVhZHMgaW4gYW4gbi10aWVyIGRpc3RyaWJ1dGVkIGFwcGxpY2F0aW9uLiBQYXNzaXZlIGV2ZW50IHBhcnRpY2lwYW50cyAoZS5nLiBsb3ctbGV2ZWwgbmV0d29yayB0cmFuc3BvcnRzKSBuZWVkIG5vdCBiZSBpZGVudGlmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3VyY2U6IGZoaXIuQXVkaXRFdmVudFNvdXJjZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFJlcXVpcmVkIHVubGVzcyB0aGUgdmFsdWVzIGZvciBldmVudCBpZGVudGlmaWNhdGlvbiwgYWdlbnQgaWRlbnRpZmljYXRpb24sIGFuZCBhdWRpdCBzb3VyY2UgaWRlbnRpZmljYXRpb24gYXJlIHN1ZmZpY2llbnQgdG8gZG9jdW1lbnQgdGhlIGVudGlyZSBhdWRpdGFibGUgZXZlbnQuIEJlY2F1c2UgZXZlbnRzIG1heSBoYXZlIG1vcmUgdGhhbiBvbmUgZW50aXR5LCB0aGlzIGdyb3VwIGNhbiBiZSBhIHJlcGVhdGluZyBzZXQgb2YgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRpdHk6IGZoaXIuQXVkaXRFdmVudEVudGl0eVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEF1ZGl0RXZlbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBdWRpdEV2ZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0F1ZGl0RXZlbnQnO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJ0eXBlJ10pIHsgdGhpcy5zdWJ0eXBlID0gc291cmNlLnN1YnR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RpbmcoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJ0eXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdGlvbiddKSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuYWN0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hY3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hY3Rpb24pIHsgdGhpcy5hY3Rpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoc291cmNlLl9hY3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZWNvcmRlZCddKSB7IHRoaXMucmVjb3JkZWQgPSBuZXcgZmhpci5GaGlySW5zdGFudCh7dmFsdWU6IHNvdXJjZS5yZWNvcmRlZH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWNvcmRlZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19yZWNvcmRlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlY29yZGVkKSB7IHRoaXMucmVjb3JkZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcmVjb3JkZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZWNvcmRlZCA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHNvdXJjZS5fcmVjb3JkZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnN0YW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvdXRjb21lJ10pIHsgdGhpcy5vdXRjb21lID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2Uub3V0Y29tZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3V0Y29tZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm91dGNvbWUpIHsgdGhpcy5vdXRjb21lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX291dGNvbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vdXRjb21lID0gbmV3IGZoaXIuRmhpckNvZGUoc291cmNlLl9vdXRjb21lIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0Y29tZURlc2MnXSkgeyB0aGlzLm91dGNvbWVEZXNjID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5vdXRjb21lRGVzY30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3V0Y29tZURlc2MnXSkge1xyXG4gICAgICBpZiAodGhpcy5vdXRjb21lRGVzYykgeyB0aGlzLm91dGNvbWVEZXNjLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX291dGNvbWVEZXNjISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3V0Y29tZURlc2MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fb3V0Y29tZURlc2MgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3B1cnBvc2VPZkV2ZW50J10pIHsgdGhpcy5wdXJwb3NlT2ZFdmVudCA9IHNvdXJjZS5wdXJwb3NlT2ZFdmVudC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnB1cnBvc2VPZkV2ZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FnZW50J10pIHsgdGhpcy5hZ2VudCA9IHNvdXJjZS5hZ2VudC5tYXAoKHgpID0+IG5ldyBmaGlyLkF1ZGl0RXZlbnRBZ2VudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFnZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZSddKSB7IHRoaXMuc291cmNlID0gbmV3IGZoaXIuQXVkaXRFdmVudFNvdXJjZShzb3VyY2Uuc291cmNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc291cmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW50aXR5J10pIHsgdGhpcy5lbnRpdHkgPSBzb3VyY2UuZW50aXR5Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQXVkaXRFdmVudEVudGl0eSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVudGl0eSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3N1YnR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdhY3Rpb24nLGV4cCwnQXVkaXRFdmVudEFjdGlvbicsQXVkaXRFdmVudEFjdGlvblZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdyZWNvcmRlZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ291dGNvbWUnLGV4cCwnQXVkaXRFdmVudE91dGNvbWUnLEF1ZGl0RXZlbnRPdXRjb21lVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ291dGNvbWVEZXNjJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwdXJwb3NlT2ZFdmVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSQSgnYWdlbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3NvdXJjZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZW50aXR5JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==