// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: Composition
import * as fhir from '../fhir.js';
// @ts-ignore
import { CompositionAttestationModeVsValidation } from '../fhirValueSets/CompositionAttestationModeVsValidation.js';
// @ts-ignore
import { DocumentRelationshipTypeVsValidation } from '../fhirValueSets/DocumentRelationshipTypeVsValidation.js';
// @ts-ignore
import { ListModeVsValidation } from '../fhirValueSets/ListModeVsValidation.js';
// @ts-ignore
import { CompositionStatusVsValidation } from '../fhirValueSets/CompositionStatusVsValidation.js';
// @ts-ignore
import { V3ConfidentialityClassificationVsValidation } from '../fhirValueSets/V3ConfidentialityClassificationVsValidation.js';
/**
 * Only list each attester once.
 */
export class CompositionAttester extends fhir.BackboneElement {
    /**
     * Default constructor for CompositionAttester - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['mode'] !== undefined) {
            this.mode = source.mode.map((x) => new fhir.FhirCode({ value: x }, options));
        }
        else {
            this.mode = [];
        }
        if (source['_mode']) {
            source._mode.forEach((x, i) => {
                if (this.mode.length >= i) {
                    if (x) {
                        this.mode[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.mode.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['time'] !== undefined) {
            this.time = new fhir.FhirDateTime({ value: source.time }, options);
        }
        if (source['_time']) {
            if (this.time) {
                this.time.addExtendedProperties(source._time);
            }
            else {
                this.time = new fhir.FhirDateTime(source._time, options);
            }
        }
        if (source['party']) {
            this.party = new fhir.Reference(source.party, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Composition.attester';
        }
        iss.push(...this.vRAV('mode', exp, 'CompositionAttestationMode', CompositionAttestationModeVsValidation, 'r'));
        iss.push(...this.vOS('time', exp));
        iss.push(...this.vOS('party', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CompositionAttester._fts_dataType = 'CompositionAttester';
/**
 * A document is a version specific composition.
 */
export class CompositionRelatesTo extends fhir.BackboneElement {
    /**
     * Default constructor for CompositionRelatesTo - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code'] !== undefined) {
            this.code = new fhir.FhirCode({ value: source.code }, options);
        }
        else {
            this.code = null;
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code, options);
            }
        }
        if (source['target']) {
            this.target = source.target;
        }
        else if (source['targetIdentifier']) {
            this.target = new fhir.Identifier(source.targetIdentifier, options);
        }
        else if (source['targetReference']) {
            this.target = new fhir.Reference(source.targetReference, options);
        }
        else {
            this.target = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Composition.relatesTo';
        }
        iss.push(...this.vRSV('code', exp, 'DocumentRelationshipType', DocumentRelationshipTypeVsValidation, 'r'));
        iss.push(...this.vRS('target', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CompositionRelatesTo._fts_dataType = 'CompositionRelatesTo';
/**
 * Internal flag to properly serialize choice-type element Composition.relatesTo.target[x]
 */
CompositionRelatesTo._fts_targetIsChoice = true;
/**
 * The event needs to be consistent with the type element, though can provide further information if desired.
 */
export class CompositionEvent extends fhir.BackboneElement {
    /**
     * Default constructor for CompositionEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = source.code.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.code = [];
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period, options);
        }
        if (source['detail']) {
            this.detail = source.detail.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.detail = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Composition.event';
        }
        iss.push(...this.vOA('code', exp));
        iss.push(...this.vOS('period', exp));
        iss.push(...this.vOA('detail', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CompositionEvent._fts_dataType = 'CompositionEvent';
/**
 * The root of the sections that make up the composition.
 */
export class CompositionSection extends fhir.BackboneElement {
    /**
     * Default constructor for CompositionSection - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['title'] !== undefined) {
            this.title = new fhir.FhirString({ value: source.title }, options);
        }
        if (source['_title']) {
            if (this.title) {
                this.title.addExtendedProperties(source._title);
            }
            else {
                this.title = new fhir.FhirString(source._title, options);
            }
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code, options);
        }
        if (source['text']) {
            this.text = new fhir.Narrative(source.text, options);
        }
        if (source['mode'] !== undefined) {
            this.mode = new fhir.FhirCode({ value: source.mode }, options);
        }
        if (source['_mode']) {
            if (this.mode) {
                this.mode.addExtendedProperties(source._mode);
            }
            else {
                this.mode = new fhir.FhirCode(source._mode, options);
            }
        }
        if (source['orderedBy']) {
            this.orderedBy = new fhir.CodeableConcept(source.orderedBy, options);
        }
        if (source['entry']) {
            this.entry = source.entry.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.entry = [];
        }
        if (source['emptyReason']) {
            this.emptyReason = new fhir.CodeableConcept(source.emptyReason, options);
        }
        if (source['section']) {
            this.section = source.section.map((x) => new fhir.CompositionSection(x, options));
        }
        else {
            this.section = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Composition.section';
        }
        iss.push(...this.vOS('title', exp));
        iss.push(...this.vOS('code', exp));
        iss.push(...this.vOS('text', exp));
        iss.push(...this.vOSV('mode', exp, 'ListMode', ListModeVsValidation, 'r'));
        iss.push(...this.vOS('orderedBy', exp));
        iss.push(...this.vOA('entry', exp));
        iss.push(...this.vOS('emptyReason', exp));
        iss.push(...this.vOA('section', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
CompositionSection._fts_dataType = 'CompositionSection';
/**
 * A set of healthcare-related information that is assembled together into a single logical document that provides a single coherent statement of meaning, establishes its own context and that has clinical attestation with regard to who is making the statement. While a Composition defines the structure, it does not actually contain the content: rather the full content of a document is contained in a Bundle, of which the Composition is the first resource contained.
 */
export class Composition extends fhir.DomainResource {
    /**
     * Default constructor for Composition - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Composition';
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier, options);
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        else {
            this.type = null;
        }
        if (source['class']) {
            this.class = new fhir.CodeableConcept(source.class, options);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject, options);
        }
        else {
            this.subject = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter, options);
        }
        if (source['date'] !== undefined) {
            this.date = new fhir.FhirDateTime({ value: source.date }, options);
        }
        else {
            this.date = null;
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date, options);
            }
        }
        if (source['author']) {
            this.author = source.author.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.author = [];
        }
        if (source['title'] !== undefined) {
            this.title = new fhir.FhirString({ value: source.title }, options);
        }
        else {
            this.title = null;
        }
        if (source['_title']) {
            if (this.title) {
                this.title.addExtendedProperties(source._title);
            }
            else {
                this.title = new fhir.FhirString(source._title, options);
            }
        }
        if (source['confidentiality'] !== undefined) {
            this.confidentiality = new fhir.FhirCode({ value: source.confidentiality }, options);
        }
        if (source['_confidentiality']) {
            if (this.confidentiality) {
                this.confidentiality.addExtendedProperties(source._confidentiality);
            }
            else {
                this.confidentiality = new fhir.FhirCode(source._confidentiality, options);
            }
        }
        if (source['attester']) {
            this.attester = source.attester.map((x) => new fhir.CompositionAttester(x, options));
        }
        else {
            this.attester = [];
        }
        if (source['custodian']) {
            this.custodian = new fhir.Reference(source.custodian, options);
        }
        if (source['relatesTo']) {
            this.relatesTo = source.relatesTo.map((x) => new fhir.CompositionRelatesTo(x, options));
        }
        else {
            this.relatesTo = [];
        }
        if (source['event']) {
            this.event = source.event.map((x) => new fhir.CompositionEvent(x, options));
        }
        else {
            this.event = [];
        }
        if (source['section']) {
            this.section = source.section.map((x) => new fhir.CompositionSection(x, options));
        }
        else {
            this.section = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Composition';
        }
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'CompositionStatus', CompositionStatusVsValidation, 'r'));
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOS('class', exp));
        iss.push(...this.vRS('subject', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vRS('date', exp));
        iss.push(...this.vRA('author', exp));
        iss.push(...this.vRS('title', exp));
        iss.push(...this.vOSV('confidentiality', exp, 'V3ConfidentialityClassification', V3ConfidentialityClassificationVsValidation, 'r'));
        iss.push(...this.vOA('attester', exp));
        iss.push(...this.vOS('custodian', exp));
        iss.push(...this.vOA('relatesTo', exp));
        iss.push(...this.vOA('event', exp));
        iss.push(...this.vOA('section', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Composition._fts_dataType = 'Composition';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcG9zaXRpb24uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0NvbXBvc2l0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDZCQUE2QjtBQUU3QixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNDQUFzQyxFQUFFLE1BQU0sNERBQTRELENBQUM7QUFHcEgsYUFBYTtBQUNiLE9BQU8sRUFBRSxvQ0FBb0MsRUFBRSxNQUFNLDBEQUEwRCxDQUFDO0FBV2hILGFBQWE7QUFDYixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQVdoRixhQUFhO0FBQ2IsT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sbURBQW1ELENBQUM7QUFXbEcsYUFBYTtBQUNiLE9BQU8sRUFBRSwyQ0FBMkMsRUFBRSxNQUFNLGlFQUFpRSxDQUFDO0FBMkI5SDs7R0FFRztBQUNILE1BQU0sT0FBTyxtQkFBb0IsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlCM0Q7O09BRUc7SUFDSCxZQUFZLFNBQTBDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ2hHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFxQyxFQUFDLEtBQUssRUFBRSxDQUFDLEVBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDaEo7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ3hCLElBQUksTUFBTSxDQUFDLE9B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O1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFDLEdBQUcsRUFBQyxpQ0FBaUMsRUFBQywyQ0FBMkMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2hJLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUE1SUQ7O0dBRUc7QUFDNkIseUJBQWEsR0FBVSxhQUFhLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjMuY29yZSB2ZXJzaW9uOiAzLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IENvbXBvc2l0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb21wb3NpdGlvbkF0dGVzdGF0aW9uTW9kZUNvZGVzLCAgQ29tcG9zaXRpb25BdHRlc3RhdGlvbk1vZGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29tcG9zaXRpb25BdHRlc3RhdGlvbk1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29tcG9zaXRpb25BdHRlc3RhdGlvbk1vZGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbXBvc2l0aW9uQXR0ZXN0YXRpb25Nb2RlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEb2N1bWVudFJlbGF0aW9uc2hpcFR5cGVDb2RlcywgIERvY3VtZW50UmVsYXRpb25zaGlwVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2N1bWVudFJlbGF0aW9uc2hpcFR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2N1bWVudFJlbGF0aW9uc2hpcFR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzQWN0Q29kZXMsICBWM0FjdENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WM0FjdENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM0FjdFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjNBY3RWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERvY1NlY3Rpb25Db2RlcywgIERvY1NlY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9jU2VjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEb2NTZWN0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2NTZWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMaXN0TW9kZUNvZGVzLCAgTGlzdE1vZGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGlzdE1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGlzdE1vZGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xpc3RNb2RlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMaXN0T3JkZXJDb2RlcywgIExpc3RPcmRlckNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MaXN0T3JkZXJDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGlzdE9yZGVyVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9MaXN0T3JkZXJWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExpc3RFbXB0eVJlYXNvbkNvZGVzLCAgTGlzdEVtcHR5UmVhc29uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xpc3RFbXB0eVJlYXNvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMaXN0RW1wdHlSZWFzb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xpc3RFbXB0eVJlYXNvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29tcG9zaXRpb25TdGF0dXNDb2RlcywgIENvbXBvc2l0aW9uU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbXBvc2l0aW9uU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbXBvc2l0aW9uU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db21wb3NpdGlvblN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRG9jVHlwZUNvZGVzLCAgRG9jVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2NUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERvY1R5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RvY1R5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERvY0NsYXNzQ29kZXMsICBEb2NDbGFzc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2NDbGFzc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEb2NDbGFzc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9jQ2xhc3NWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFYzQ29uZmlkZW50aWFsaXR5Q2xhc3NpZmljYXRpb25Db2RlcywgIFYzQ29uZmlkZW50aWFsaXR5Q2xhc3NpZmljYXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjNDb25maWRlbnRpYWxpdHlDbGFzc2lmaWNhdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM0NvbmZpZGVudGlhbGl0eUNsYXNzaWZpY2F0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WM0NvbmZpZGVudGlhbGl0eUNsYXNzaWZpY2F0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbXBvc2l0aW9uQXR0ZXN0ZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9zaXRpb25BdHRlc3RlckFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFVzZSBtb3JlIHRoYW4gb25lIGNvZGUgd2hlcmUgYSBzaW5nbGUgYXR0ZXN0ZXIgaGFzIG1vcmUgdGhhbiBvbmUgbW9kZSAocHJvZmVzc2lvbmFsIGFuZCBsZWdhbCBhcmUgb2Z0ZW4gcGFpcmVkKS5cclxuICAgKi9cclxuICBtb2RlOiBmaGlyLkZoaXJDb2RlPENvbXBvc2l0aW9uQXR0ZXN0YXRpb25Nb2RlQ29kZVR5cGU+W118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29tcG9zaXRpb24uYXR0ZXN0ZXIubW9kZVxyXG4gICAqL1xyXG4gIF9tb2RlPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSBjb21wb3NpdGlvbiB3YXMgYXR0ZXN0ZWQgYnkgdGhlIHBhcnR5LlxyXG4gICAqL1xyXG4gIHRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb21wb3NpdGlvbi5hdHRlc3Rlci50aW1lXHJcbiAgICovXHJcbiAgX3RpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFdobyBhdHRlc3RlZCB0aGUgY29tcG9zaXRpb24gaW4gdGhlIHNwZWNpZmllZCB3YXkuXHJcbiAgICovXHJcbiAgcGFydHk/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogT25seSBsaXN0IGVhY2ggYXR0ZXN0ZXIgb25jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb21wb3NpdGlvbkF0dGVzdGVyIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29tcG9zaXRpb25BdHRlc3Rlcic7XHJcbiAgLyoqXHJcbiAgICogVXNlIG1vcmUgdGhhbiBvbmUgY29kZSB3aGVyZSBhIHNpbmdsZSBhdHRlc3RlciBoYXMgbW9yZSB0aGFuIG9uZSBtb2RlIChwcm9mZXNzaW9uYWwgYW5kIGxlZ2FsIGFyZSBvZnRlbiBwYWlyZWQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RlOiBmaGlyLkZoaXJDb2RlPENvbXBvc2l0aW9uQXR0ZXN0YXRpb25Nb2RlQ29kZVR5cGU+W107XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgY29tcG9zaXRpb24gd2FzIGF0dGVzdGVkIGJ5IHRoZSBwYXJ0eS5cclxuICAgKi9cclxuICBwdWJsaWMgdGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaG8gYXR0ZXN0ZWQgdGhlIGNvbXBvc2l0aW9uIGluIHRoZSBzcGVjaWZpZWQgd2F5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJ0eT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb21wb3NpdGlvbkF0dGVzdGVyIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29tcG9zaXRpb25BdHRlc3RlckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydtb2RlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm1vZGUgPSBzb3VyY2UubW9kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJDb2RlPENvbXBvc2l0aW9uQXR0ZXN0YXRpb25Nb2RlQ29kZVR5cGU+KHt2YWx1ZTogeH0sIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfbW9kZSddKSB7XHJcbiAgICAgIHNvdXJjZS5fbW9kZS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5tb2RlLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMubW9kZVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLm1vZGUucHVzaChuZXcgZmhpci5GaGlyQ29kZTxDb21wb3NpdGlvbkF0dGVzdGF0aW9uTW9kZUNvZGVUeXBlPih4IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndGltZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy50aW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnRpbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3RpbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy50aW1lKSB7IHRoaXMudGltZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90aW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudGltZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX3RpbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGFydHknXSkgeyB0aGlzLnBhcnR5ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXJ0eSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb21wb3NpdGlvbi5hdHRlc3RlcicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UkFWKCdtb2RlJyxleHAsJ0NvbXBvc2l0aW9uQXR0ZXN0YXRpb25Nb2RlJyxDb21wb3NpdGlvbkF0dGVzdGF0aW9uTW9kZVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0aW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwYXJ0eScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29tcG9zaXRpb25SZWxhdGVzVG8gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9zaXRpb25SZWxhdGVzVG9BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGRvY3VtZW50IGFwcGVuZHMgYW5vdGhlciBkb2N1bWVudCwgdGhlbiB0aGUgZG9jdW1lbnQgY2Fubm90IGJlIGZ1bGx5IHVuZGVyc3Rvb2Qgd2l0aG91dCBhbHNvIGFjY2Vzc2luZyB0aGUgcmVmZXJlbmNlZCBkb2N1bWVudC5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkZoaXJDb2RlPERvY3VtZW50UmVsYXRpb25zaGlwVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb21wb3NpdGlvbi5yZWxhdGVzVG8uY29kZVxyXG4gICAqL1xyXG4gIF9jb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdGFyZ2V0IGNvbXBvc2l0aW9uL2RvY3VtZW50IG9mIHRoaXMgcmVsYXRpb25zaGlwLlxyXG4gICAqL1xyXG4gIHRhcmdldD86IGZoaXIuSWRlbnRpZmllcnxmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCBjb21wb3NpdGlvbi9kb2N1bWVudCBvZiB0aGlzIHJlbGF0aW9uc2hpcC5cclxuICAgKi9cclxuICB0YXJnZXRJZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCBjb21wb3NpdGlvbi9kb2N1bWVudCBvZiB0aGlzIHJlbGF0aW9uc2hpcC5cclxuICAgKi9cclxuICB0YXJnZXRSZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBkb2N1bWVudCBpcyBhIHZlcnNpb24gc3BlY2lmaWMgY29tcG9zaXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29tcG9zaXRpb25SZWxhdGVzVG8gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb21wb3NpdGlvblJlbGF0ZXNUbyc7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhpcyBkb2N1bWVudCBhcHBlbmRzIGFub3RoZXIgZG9jdW1lbnQsIHRoZW4gdGhlIGRvY3VtZW50IGNhbm5vdCBiZSBmdWxseSB1bmRlcnN0b29kIHdpdGhvdXQgYWxzbyBhY2Nlc3NpbmcgdGhlIHJlZmVyZW5jZWQgZG9jdW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuRmhpckNvZGU8RG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCBjb21wb3NpdGlvbi9kb2N1bWVudCBvZiB0aGlzIHJlbGF0aW9uc2hpcC5cclxuICAgKi9cclxuICBwdWJsaWMgdGFyZ2V0OiAoZmhpci5JZGVudGlmaWVyfGZoaXIuUmVmZXJlbmNlKXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ29tcG9zaXRpb24ucmVsYXRlc1RvLnRhcmdldFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c190YXJnZXRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb21wb3NpdGlvblJlbGF0ZXNUbyAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbXBvc2l0aW9uUmVsYXRlc1RvQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJDb2RlPERvY3VtZW50UmVsYXRpb25zaGlwVHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5jb2RlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29kZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvZGUpIHsgdGhpcy5jb2RlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvZGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8RG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlQ29kZVR5cGU+KHNvdXJjZS5fY29kZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0J10pIHsgdGhpcy50YXJnZXQgPSBzb3VyY2UudGFyZ2V0OyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3RhcmdldElkZW50aWZpZXInXSkgeyB0aGlzLnRhcmdldCA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLnRhcmdldElkZW50aWZpZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3RhcmdldFJlZmVyZW5jZSddKSB7IHRoaXMudGFyZ2V0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS50YXJnZXRSZWZlcmVuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50YXJnZXQgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29tcG9zaXRpb24ucmVsYXRlc1RvJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ2NvZGUnLGV4cCwnRG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlJyxEb2N1bWVudFJlbGF0aW9uc2hpcFR5cGVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndGFyZ2V0JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb21wb3NpdGlvbkV2ZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvc2l0aW9uRXZlbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBbiBldmVudCBjYW4gZnVydGhlciBzcGVjaWFsaXplIHRoZSBhY3QgaW5oZXJlbnQgaW4gdGhlIHR5cGVDb2RlLCBzdWNoIGFzIHdoZXJlIGl0IGlzIHNpbXBseSBcIlByb2NlZHVyZSBSZXBvcnRcIiBhbmQgdGhlIHByb2NlZHVyZSB3YXMgYSBcImNvbG9ub3Njb3B5XCIuIElmIG9uZSBvciBtb3JlIGV2ZW50Q29kZXMgYXJlIGluY2x1ZGVkLCB0aGV5IFNIQUxMIE5PVCBjb25mbGljdCB3aXRoIHRoZSB2YWx1ZXMgaW5oZXJlbnQgaW4gdGhlIGNsYXNzQ29kZSwgcHJhY3RpY2VTZXR0aW5nQ29kZSBvciB0eXBlQ29kZSwgYXMgc3VjaCBhIGNvbmZsaWN0IHdvdWxkIGNyZWF0ZSBhbiBhbWJpZ3VvdXMgc2l0dWF0aW9uLiBUaGlzIHNob3J0IGxpc3Qgb2YgY29kZXMgaXMgcHJvdmlkZWQgdG8gYmUgdXNlZCBhcyBrZXkgd29yZHMgZm9yIGNlcnRhaW4gdHlwZXMgb2YgcXVlcmllcy5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwZXJpb2Qgb2YgdGltZSBjb3ZlcmVkIGJ5IHRoZSBkb2N1bWVudGF0aW9uLiBUaGVyZSBpcyBubyBhc3NlcnRpb24gdGhhdCB0aGUgZG9jdW1lbnRhdGlvbiBpcyBhIGNvbXBsZXRlIHJlcHJlc2VudGF0aW9uIGZvciB0aGlzIHBlcmlvZCwgb25seSB0aGF0IGl0IGRvY3VtZW50cyBldmVudHMgZHVyaW5nIHRoaXMgdGltZS5cclxuICAgKi9cclxuICBwZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBhbmQvb3IgcmVmZXJlbmNlIG9mIHRoZSBldmVudChzKSBiZWluZyBkb2N1bWVudGVkLiBGb3IgZXhhbXBsZSwgdGhpcyBjb3VsZCBiZSB1c2VkIHRvIGRvY3VtZW50IHN1Y2ggYSBjb2xvbm9zY29weSBvciBhbiBhcHBlbmRlY3RvbXkuXHJcbiAgICovXHJcbiAgZGV0YWlsPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGV2ZW50IG5lZWRzIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCB0aGUgdHlwZSBlbGVtZW50LCB0aG91Z2ggY2FuIHByb3ZpZGUgZnVydGhlciBpbmZvcm1hdGlvbiBpZiBkZXNpcmVkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbXBvc2l0aW9uRXZlbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb21wb3NpdGlvbkV2ZW50JztcclxuICAvKipcclxuICAgKiBBbiBldmVudCBjYW4gZnVydGhlciBzcGVjaWFsaXplIHRoZSBhY3QgaW5oZXJlbnQgaW4gdGhlIHR5cGVDb2RlLCBzdWNoIGFzIHdoZXJlIGl0IGlzIHNpbXBseSBcIlByb2NlZHVyZSBSZXBvcnRcIiBhbmQgdGhlIHByb2NlZHVyZSB3YXMgYSBcImNvbG9ub3Njb3B5XCIuIElmIG9uZSBvciBtb3JlIGV2ZW50Q29kZXMgYXJlIGluY2x1ZGVkLCB0aGV5IFNIQUxMIE5PVCBjb25mbGljdCB3aXRoIHRoZSB2YWx1ZXMgaW5oZXJlbnQgaW4gdGhlIGNsYXNzQ29kZSwgcHJhY3RpY2VTZXR0aW5nQ29kZSBvciB0eXBlQ29kZSwgYXMgc3VjaCBhIGNvbmZsaWN0IHdvdWxkIGNyZWF0ZSBhbiBhbWJpZ3VvdXMgc2l0dWF0aW9uLiBUaGlzIHNob3J0IGxpc3Qgb2YgY29kZXMgaXMgcHJvdmlkZWQgdG8gYmUgdXNlZCBhcyBrZXkgd29yZHMgZm9yIGNlcnRhaW4gdHlwZXMgb2YgcXVlcmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGVyaW9kIG9mIHRpbWUgY292ZXJlZCBieSB0aGUgZG9jdW1lbnRhdGlvbi4gVGhlcmUgaXMgbm8gYXNzZXJ0aW9uIHRoYXQgdGhlIGRvY3VtZW50YXRpb24gaXMgYSBjb21wbGV0ZSByZXByZXNlbnRhdGlvbiBmb3IgdGhpcyBwZXJpb2QsIG9ubHkgdGhhdCBpdCBkb2N1bWVudHMgZXZlbnRzIGR1cmluZyB0aGlzIHRpbWUuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGVzY3JpcHRpb24gYW5kL29yIHJlZmVyZW5jZSBvZiB0aGUgZXZlbnQocykgYmVpbmcgZG9jdW1lbnRlZC4gRm9yIGV4YW1wbGUsIHRoaXMgY291bGQgYmUgdXNlZCB0byBkb2N1bWVudCBzdWNoIGEgY29sb25vc2NvcHkgb3IgYW4gYXBwZW5kZWN0b215LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXRhaWw6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29tcG9zaXRpb25FdmVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbXBvc2l0aW9uRXZlbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IHNvdXJjZS5jb2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwZXJpb2QnXSkgeyB0aGlzLnBlcmlvZCA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UucGVyaW9kLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV0YWlsJ10pIHsgdGhpcy5kZXRhaWwgPSBzb3VyY2UuZGV0YWlsLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGV0YWlsID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb21wb3NpdGlvbi5ldmVudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2NvZGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BlcmlvZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZGV0YWlsJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb21wb3NpdGlvblNlY3Rpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9zaXRpb25TZWN0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpdGxlIGlkZW50aWZpZXMgdGhlIHNlY3Rpb24gZm9yIGEgaHVtYW4gcmVhZGVyLiBUaGUgdGl0bGUgbXVzdCBiZSBjb25zaXN0ZW50IHdpdGggdGhlIG5hcnJhdGl2ZSBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyB0aGUgdGFyZ2V0IG9mIHRoZSBzZWN0aW9uLmNvbnRlbnQgcmVmZXJlbmNlLiBHZW5lcmFsbHksIHNlY3Rpb25zIFNIT1VMRCBoYXZlIHRpdGxlcywgYnV0IGluIHNvbWUgZG9jdW1lbnRzLCBpdCBpcyB1bm5lY2Vzc2FyeSBvciBpbmFwcHJvcHJpYXRlLiBUeXBpY2FsbHksIHRoaXMgaXMgd2hlcmUgYSBzZWN0aW9uIGhhcyBzdWJzZWN0aW9ucyB0aGF0IGhhdmUgdGhlaXIgb3duIGFkZXF1YXRlbHkgZGlzdGluZ3Vpc2hpbmcgdGl0bGUsICBvciBkb2N1bWVudHMgdGhhdCBvbmx5IGhhdmUgYSBzaW5nbGUgc2VjdGlvbi4gTW9zdCBJbXBsZW1lbnRhdGlvbiBHdWlkZXMgd2lsbCBtYWtlIHNlY3Rpb24gdGl0bGUgdG8gYmUgYSByZXF1aXJlZCBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHRpdGxlPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbXBvc2l0aW9uLnNlY3Rpb24udGl0bGVcclxuICAgKi9cclxuICBfdGl0bGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlIGlkZW50aWZpZXMgdGhlIHNlY3Rpb24gZm9yIGFuIGF1dG9tYXRlZCBwcm9jZXNzb3Igb2YgdGhlIGRvY3VtZW50LiBUaGlzIGlzIHBhcnRpY3VsYXJseSByZWxldmFudCB3aGVuIHVzaW5nIHByb2ZpbGVzIHRvIGNvbnRyb2wgdGhlIHN0cnVjdHVyZSBvZiB0aGUgZG9jdW1lbnQuICAgSWYgdGhlIHNlY3Rpb24gaGFzIGNvbnRlbnQgKGluc3RlYWQgb2Ygc3ViLXNlY3Rpb25zKSwgdGhlIHNlY3Rpb24uY29kZSBkb2VzIG5vdCBjaGFuZ2UgdGhlIG1lYW5pbmcgb3IgaW50ZXJwcmV0YXRpb24gb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgdGhlIGNvbnRlbnQgb2YgdGhlIHNlY3Rpb24gaW4gdGhlIGNvbW1lbnRzIGZvciB0aGUgc2VjdGlvbi5jb2RlLlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERvY3VtZW50IHByb2ZpbGVzIG1heSBkZWZpbmUgd2hhdCBjb250ZW50IHNob3VsZCBiZSByZXByZXNlbnRlZCBpbiB0aGUgbmFycmF0aXZlIHRvIGVuc3VyZSBjbGluaWNhbCBzYWZldHkuXHJcbiAgICovXHJcbiAgdGV4dD86IGZoaXIuTmFycmF0aXZlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIGEgY2hhbmdlIGxpc3QgbXVzdCBub3QgYmUgbWlzLXVuZGVyc3Rvb2QgYXMgYSBjb21wbGV0ZSBsaXN0LlxyXG4gICAqL1xyXG4gIG1vZGU/OiBmaGlyLkZoaXJDb2RlPExpc3RNb2RlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbXBvc2l0aW9uLnNlY3Rpb24ubW9kZVxyXG4gICAqL1xyXG4gIF9tb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBcHBsaWNhdGlvbnMgU0hPVUxEIHJlbmRlciBvcmRlcmVkIGxpc3RzIGluIHRoZSBvcmRlciBwcm92aWRlZCwgYnV0IE1BWSBhbGxvdyB1c2VycyB0byByZS1vcmRlciBiYXNlZCBvbiB0aGVpciBvd24gcHJlZmVyZW5jZXMgYXMgd2VsbC4gSWYgdGhlcmUgaXMgbm8gb3JkZXIgc3BlY2lmaWVkLCB0aGUgb3JkZXIgaXMgdW5rbm93biwgdGhvdWdoIHRoZXJlIG1heSBzdGlsbCBiZSBzb21lIG9yZGVyLlxyXG4gICAqL1xyXG4gIG9yZGVyZWRCeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgYXJlIG5vIGVudHJpZXMgaW4gdGhlIGxpc3QsIGFuIGVtcHR5UmVhc29uIFNIT1VMRCBiZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBlbnRyeT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFyaW91cyByZWFzb25zIGZvciBhbiBlbXB0eSBzZWN0aW9uIG1ha2UgYSBzaWduaWZpY2FudCBpbnRlcnByZXRhdGlvbiB0byBpdHMgaW50ZXJwcmV0YXRpb24uIE5vdGUgdGhhdCB0aGlzIGNvZGUgaXMgZm9yIHVzZSB3aGVuIHRoZSBlbnRpcmUgc2VjdGlvbiBjb250ZW50IGhhcyBiZWVuIHN1cHByZXNzZWQsIGFuZCBub3QgZm9yIHdoZW4gaW5kaXZpZHVhbCBpdGVtcyBhcmUgb21pdHRlZCAtIGltcGxlbWVudGVycyBtYXkgY29uc2lkZXIgdXNpbmcgYSB0ZXh0IG5vdGUgb3IgYSBmbGFnIG9uIGFuIGVudHJ5IGluIHRoZXNlIGNhc2VzLlxyXG4gICAqL1xyXG4gIGVtcHR5UmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOZXN0ZWQgc2VjdGlvbnMgYXJlIHByaW1hcmlseSB1c2VkIHRvIGhlbHAgaHVtYW4gcmVhZGVycyBuYXZpZ2F0ZSB0byBwYXJ0aWN1bGFyIHBvcnRpb25zIG9mIHRoZSBkb2N1bWVudC5cclxuICAgKi9cclxuICBzZWN0aW9uPzogZmhpci5Db21wb3NpdGlvblNlY3Rpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHJvb3Qgb2YgdGhlIHNlY3Rpb25zIHRoYXQgbWFrZSB1cCB0aGUgY29tcG9zaXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29tcG9zaXRpb25TZWN0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29tcG9zaXRpb25TZWN0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgdGl0bGUgaWRlbnRpZmllcyB0aGUgc2VjdGlvbiBmb3IgYSBodW1hbiByZWFkZXIuIFRoZSB0aXRsZSBtdXN0IGJlIGNvbnNpc3RlbnQgd2l0aCB0aGUgbmFycmF0aXZlIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIHRoZSB0YXJnZXQgb2YgdGhlIHNlY3Rpb24uY29udGVudCByZWZlcmVuY2UuIEdlbmVyYWxseSwgc2VjdGlvbnMgU0hPVUxEIGhhdmUgdGl0bGVzLCBidXQgaW4gc29tZSBkb2N1bWVudHMsIGl0IGlzIHVubmVjZXNzYXJ5IG9yIGluYXBwcm9wcmlhdGUuIFR5cGljYWxseSwgdGhpcyBpcyB3aGVyZSBhIHNlY3Rpb24gaGFzIHN1YnNlY3Rpb25zIHRoYXQgaGF2ZSB0aGVpciBvd24gYWRlcXVhdGVseSBkaXN0aW5ndWlzaGluZyB0aXRsZSwgIG9yIGRvY3VtZW50cyB0aGF0IG9ubHkgaGF2ZSBhIHNpbmdsZSBzZWN0aW9uLiBNb3N0IEltcGxlbWVudGF0aW9uIEd1aWRlcyB3aWxsIG1ha2Ugc2VjdGlvbiB0aXRsZSB0byBiZSBhIHJlcXVpcmVkIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHRpdGxlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY29kZSBpZGVudGlmaWVzIHRoZSBzZWN0aW9uIGZvciBhbiBhdXRvbWF0ZWQgcHJvY2Vzc29yIG9mIHRoZSBkb2N1bWVudC4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgcmVsZXZhbnQgd2hlbiB1c2luZyBwcm9maWxlcyB0byBjb250cm9sIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGRvY3VtZW50LiAgIElmIHRoZSBzZWN0aW9uIGhhcyBjb250ZW50IChpbnN0ZWFkIG9mIHN1Yi1zZWN0aW9ucyksIHRoZSBzZWN0aW9uLmNvZGUgZG9lcyBub3QgY2hhbmdlIHRoZSBtZWFuaW5nIG9yIGludGVycHJldGF0aW9uIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIHRoZSBjb250ZW50IG9mIHRoZSBzZWN0aW9uIGluIHRoZSBjb21tZW50cyBmb3IgdGhlIHNlY3Rpb24uY29kZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEb2N1bWVudCBwcm9maWxlcyBtYXkgZGVmaW5lIHdoYXQgY29udGVudCBzaG91bGQgYmUgcmVwcmVzZW50ZWQgaW4gdGhlIG5hcnJhdGl2ZSB0byBlbnN1cmUgY2xpbmljYWwgc2FmZXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZXh0PzogZmhpci5OYXJyYXRpdmV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBhIGNoYW5nZSBsaXN0IG11c3Qgbm90IGJlIG1pcy11bmRlcnN0b29kIGFzIGEgY29tcGxldGUgbGlzdC5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kZT86IGZoaXIuRmhpckNvZGU8TGlzdE1vZGVDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFwcGxpY2F0aW9ucyBTSE9VTEQgcmVuZGVyIG9yZGVyZWQgbGlzdHMgaW4gdGhlIG9yZGVyIHByb3ZpZGVkLCBidXQgTUFZIGFsbG93IHVzZXJzIHRvIHJlLW9yZGVyIGJhc2VkIG9uIHRoZWlyIG93biBwcmVmZXJlbmNlcyBhcyB3ZWxsLiBJZiB0aGVyZSBpcyBubyBvcmRlciBzcGVjaWZpZWQsIHRoZSBvcmRlciBpcyB1bmtub3duLCB0aG91Z2ggdGhlcmUgbWF5IHN0aWxsIGJlIHNvbWUgb3JkZXIuXHJcbiAgICovXHJcbiAgcHVibGljIG9yZGVyZWRCeT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGVyZSBhcmUgbm8gZW50cmllcyBpbiB0aGUgbGlzdCwgYW4gZW1wdHlSZWFzb24gU0hPVUxEIGJlIHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRyeTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgdmFyaW91cyByZWFzb25zIGZvciBhbiBlbXB0eSBzZWN0aW9uIG1ha2UgYSBzaWduaWZpY2FudCBpbnRlcnByZXRhdGlvbiB0byBpdHMgaW50ZXJwcmV0YXRpb24uIE5vdGUgdGhhdCB0aGlzIGNvZGUgaXMgZm9yIHVzZSB3aGVuIHRoZSBlbnRpcmUgc2VjdGlvbiBjb250ZW50IGhhcyBiZWVuIHN1cHByZXNzZWQsIGFuZCBub3QgZm9yIHdoZW4gaW5kaXZpZHVhbCBpdGVtcyBhcmUgb21pdHRlZCAtIGltcGxlbWVudGVycyBtYXkgY29uc2lkZXIgdXNpbmcgYSB0ZXh0IG5vdGUgb3IgYSBmbGFnIG9uIGFuIGVudHJ5IGluIHRoZXNlIGNhc2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbXB0eVJlYXNvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOZXN0ZWQgc2VjdGlvbnMgYXJlIHByaW1hcmlseSB1c2VkIHRvIGhlbHAgaHVtYW4gcmVhZGVycyBuYXZpZ2F0ZSB0byBwYXJ0aWN1bGFyIHBvcnRpb25zIG9mIHRoZSBkb2N1bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc2VjdGlvbjogZmhpci5Db21wb3NpdGlvblNlY3Rpb25bXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb21wb3NpdGlvblNlY3Rpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb21wb3NpdGlvblNlY3Rpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndGl0bGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRpdGxlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190aXRsZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRpdGxlKSB7IHRoaXMudGl0bGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdGl0bGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50aXRsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl90aXRsZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY29kZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RleHQnXSkgeyB0aGlzLnRleHQgPSBuZXcgZmhpci5OYXJyYXRpdmUoc291cmNlLnRleHQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtb2RlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxMaXN0TW9kZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5tb2RlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubW9kZSkgeyB0aGlzLm1vZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbW9kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxMaXN0TW9kZUNvZGVUeXBlPihzb3VyY2UuX21vZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29yZGVyZWRCeSddKSB7IHRoaXMub3JkZXJlZEJ5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5vcmRlcmVkQnksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydlbnRyeSddKSB7IHRoaXMuZW50cnkgPSBzb3VyY2UuZW50cnkubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lbnRyeSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydlbXB0eVJlYXNvbiddKSB7IHRoaXMuZW1wdHlSZWFzb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmVtcHR5UmVhc29uLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VjdGlvbiddKSB7IHRoaXMuc2VjdGlvbiA9IHNvdXJjZS5zZWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29tcG9zaXRpb25TZWN0aW9uKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VjdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29tcG9zaXRpb24uc2VjdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3RpdGxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0ZXh0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignbW9kZScsZXhwLCdMaXN0TW9kZScsTGlzdE1vZGVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JkZXJlZEJ5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdlbnRyeScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZW1wdHlSZWFzb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3NlY3Rpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbXBvc2l0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvc2l0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQ29tcG9zaXRpb25cInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2VlIGRpc2N1c3Npb24gaW4gcmVzb3VyY2UgZGVmaW5pdGlvbiBmb3IgaG93IHRoZXNlIHJlbGF0ZS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgYSBjb21wb3NpdGlvbiBpcyBtYXJrZWQgYXMgd2l0aGRyYXduLCB0aGUgY29tcG9zaXRpb25zL2RvY3VtZW50cyBpbiB0aGUgc2VyaWVzLCBvciBkYXRhIGZyb20gdGhlIGNvbXBvc2l0aW9uIG9yIGRvY3VtZW50IHNlcmllcywgc2hvdWxkIG5ldmVyIGJlIGRpc3BsYXllZCB0byBhIHVzZXIgd2l0aG91dCBiZWluZyBjbGVhcmx5IG1hcmtlZCBhcyB1bnRydXN0d29ydGh5LiBUaGUgZmxhZyBcImVudGVyZWQtaW4tZXJyb3JcIiBpcyB3aHkgdGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBvZiBvdGhlciBlbGVtZW50cy4gXHJcbiAgICogU29tZSByZXBvcnRpbmcgd29yayBmbG93cyByZXF1aXJlIHRoYXQgdGhlIG9yaWdpbmFsIG5hcnJhdGl2ZSBvZiBhIGZpbmFsIGRvY3VtZW50IG5ldmVyIGJlIGFsdGVyZWQ7IGluc3RlYWQsIG9ubHkgbmV3IG5hcnJhdGl2ZSBjYW4gYmUgYWRkZWQuIFRoZSBjb21wb3NpdGlvbiByZXNvdXJjZSBoYXMgbm8gZXhwbGljaXQgc3RhdHVzIGZvciBleHBsaWNpdGx5IG5vdGluZyB3aGV0aGVyIHRoaXMgYnVzaW5lc3MgcnVsZSBpcyBpbiBlZmZlY3QuIFRoaXMgd291bGQgYmUgaGFuZGxlZCBieSBhbiBleHRlbnNpb24gaWYgcmVxdWlyZWQuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPENvbXBvc2l0aW9uU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbXBvc2l0aW9uLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEZvciBDb21wb3NpdGlvbiB0eXBlLCBMT0lOQyBpcyB1YmlxdWl0b3VzIGFuZCBzdHJvbmdseSBlbmRvcnNlZCBieSBITDcuIE1vc3QgaW1wbGVtZW50YXRpb24gZ3VpZGVzIHdpbGwgcmVxdWlyZSBhIHNwZWNpZmljIExPSU5DIGNvZGUsIG9yIHVzZSBMT0lOQyBhcyBhbiBleHRlbnNpYmxlIGJpbmRpbmcuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBhIG1ldGFkYXRhIGZpZWxkIGZyb20gW1hEUy9NSERdKGh0dHA6Ly93aWtpLmloZS5uZXQvaW5kZXgucGhwP3RpdGxlPU1vYmlsZV9hY2Nlc3NfdG9fSGVhbHRoX0RvY3VtZW50c18oTUhEKSkuXHJcbiAgICovXHJcbiAgY2xhc3M/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBjbGluaWNhbCBkb2N1bWVudHMsIHRoaXMgaXMgdXN1YWxseSB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBzdWJqZWN0OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIGNsaW5pY2FsIGVuY291bnRlciBvciB0eXBlIG9mIGNhcmUgdGhpcyBkb2N1bWVudGF0aW9uIGlzIGFzc29jaWF0ZWQgd2l0aC5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBMYXN0IE1vZGlmaWVkIERhdGUgb24gdGhlIGNvbXBvc2l0aW9uIG1heSBiZSBhZnRlciB0aGUgZGF0ZSBvZiB0aGUgZG9jdW1lbnQgd2FzIGF0dGVzdGVkIHdpdGhvdXQgYmVpbmcgY2hhbmdlZC5cclxuICAgKi9cclxuICBkYXRlOiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb21wb3NpdGlvbi5kYXRlXHJcbiAgICovXHJcbiAgX2RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgd2hvIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgaW5mb3JtYXRpb24gaW4gdGhlIGNvbXBvc2l0aW9uLCBub3QgbmVjZXNzYXJpbHkgd2hvIHR5cGVkIGl0IGluLlxyXG4gICAqL1xyXG4gIGF1dGhvcjogZmhpci5SZWZlcmVuY2VBcmdzW118bnVsbDtcclxuICAvKipcclxuICAgKiBGb3IgbWFueSBjb21wb3NpdGlvbnMsIHRoZSB0aXRsZSBpcyB0aGUgc2FtZSBhcyB0aGUgdGV4dCBvciBhIGRpc3BsYXkgbmFtZSBvZiBDb21wb3NpdGlvbi50eXBlIChlLmcuIGEgXCJjb25zdWx0YXRpb25cIiBvciBcInByb2dyZXNzIG5vdGVcIikuIE5vdGUgdGhhdCBDREEgZG9lcyBub3QgbWFrZSB0aXRsZSBtYW5kYXRvcnksIGJ1dCB0aGVyZSBhcmUgbm8ga25vd24gY2FzZXMgd2hlcmUgaXQgaXMgdXNlZnVsIGZvciB0aXRsZSB0byBiZSBvbWl0dGVkLCBzbyBpdCBpcyBtYW5kYXRvcnkgaGVyZS4gRmVlZGJhY2sgb24gdGhpcyByZXF1aXJlbWVudCBpcyB3ZWxjb21lIGR1cmluZyB0aGUgdHJpYWwgdXNlIHBlcmlvZC5cclxuICAgKi9cclxuICB0aXRsZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbXBvc2l0aW9uLnRpdGxlXHJcbiAgICovXHJcbiAgX3RpdGxlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgZXhhY3QgdXNlIG9mIHRoaXMgZWxlbWVudCwgYW5kIGVuZm9yY2VtZW50IGFuZCBpc3N1ZXMgcmVsYXRlZCB0byBoaWdobHkgc2Vuc2l0aXZlIGRvY3VtZW50cyBhcmUgb3V0IG9mIHNjb3BlIGZvciB0aGUgYmFzZSBzcGVjaWZpY2F0aW9uLCBhbmQgZGVsZWdhdGVkIHRvIGltcGxlbWVudGF0aW9uIHByb2ZpbGVzIChzZWUgc2VjdXJpdHkgc2VjdGlvbikuXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIGhpZ2hseSBjb25maWRlbnRpYWwgZG9jdW1lbnRzIG11c3Qgbm90IGJlIHRyZWF0ZWQgYXMgaWYgdGhleSBhcmUgbm90LlxyXG4gICAqL1xyXG4gIGNvbmZpZGVudGlhbGl0eT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29tcG9zaXRpb24uY29uZmlkZW50aWFsaXR5XHJcbiAgICovXHJcbiAgX2NvbmZpZGVudGlhbGl0eT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogT25seSBsaXN0IGVhY2ggYXR0ZXN0ZXIgb25jZS5cclxuICAgKi9cclxuICBhdHRlc3Rlcj86IGZoaXIuQ29tcG9zaXRpb25BdHRlc3RlckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBkb2N1bWVudHMgYXJlIGRlcml2ZWQgZnJvbSBhIGNvbXBvc2l0aW9uIC0gcHJvdmlkZXMgZ3VpZGFuY2UgZm9yIGhvdyB0byBnZXQgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudC4gVGhpcyBpcyBvcHRpb25hbCBiZWNhdXNlIHRoaXMgaXMgc29tZXRpbWVzIG5vdCBrbm93biBieSB0aGUgYXV0aG9yaW5nIHN5c3RlbSwgYW5kIGNhbiBiZSBpbmZlcnJlZCBieSBjb250ZXh0LiBIb3dldmVyLCBpdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGlzIGluZm9ybWF0aW9uIGJlIGtub3duIHdoZW4gd29ya2luZyB3aXRoIGEgZGVyaXZlZCBkb2N1bWVudCwgc28gcHJvdmlkaW5nIGEgY3VzdG9kaWFuIGlzIGVuY291cmFnZWQuXHJcbiAgICovXHJcbiAgY3VzdG9kaWFuPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRvY3VtZW50IGlzIGEgdmVyc2lvbiBzcGVjaWZpYyBjb21wb3NpdGlvbi5cclxuICAgKi9cclxuICByZWxhdGVzVG8/OiBmaGlyLkNvbXBvc2l0aW9uUmVsYXRlc1RvQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZXZlbnQgbmVlZHMgdG8gYmUgY29uc2lzdGVudCB3aXRoIHRoZSB0eXBlIGVsZW1lbnQsIHRob3VnaCBjYW4gcHJvdmlkZSBmdXJ0aGVyIGluZm9ybWF0aW9uIGlmIGRlc2lyZWQuXHJcbiAgICovXHJcbiAgZXZlbnQ/OiBmaGlyLkNvbXBvc2l0aW9uRXZlbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByb290IG9mIHRoZSBzZWN0aW9ucyB0aGF0IG1ha2UgdXAgdGhlIGNvbXBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIHNlY3Rpb24/OiBmaGlyLkNvbXBvc2l0aW9uU2VjdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNldCBvZiBoZWFsdGhjYXJlLXJlbGF0ZWQgaW5mb3JtYXRpb24gdGhhdCBpcyBhc3NlbWJsZWQgdG9nZXRoZXIgaW50byBhIHNpbmdsZSBsb2dpY2FsIGRvY3VtZW50IHRoYXQgcHJvdmlkZXMgYSBzaW5nbGUgY29oZXJlbnQgc3RhdGVtZW50IG9mIG1lYW5pbmcsIGVzdGFibGlzaGVzIGl0cyBvd24gY29udGV4dCBhbmQgdGhhdCBoYXMgY2xpbmljYWwgYXR0ZXN0YXRpb24gd2l0aCByZWdhcmQgdG8gd2hvIGlzIG1ha2luZyB0aGUgc3RhdGVtZW50LiBXaGlsZSBhIENvbXBvc2l0aW9uIGRlZmluZXMgdGhlIHN0cnVjdHVyZSwgaXQgZG9lcyBub3QgYWN0dWFsbHkgY29udGFpbiB0aGUgY29udGVudDogcmF0aGVyIHRoZSBmdWxsIGNvbnRlbnQgb2YgYSBkb2N1bWVudCBpcyBjb250YWluZWQgaW4gYSBCdW5kbGUsIG9mIHdoaWNoIHRoZSBDb21wb3NpdGlvbiBpcyB0aGUgZmlyc3QgcmVzb3VyY2UgY29udGFpbmVkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbXBvc2l0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb21wb3NpdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJDb21wb3NpdGlvblwiO1xyXG4gIC8qKlxyXG4gICAqIFNlZSBkaXNjdXNzaW9uIGluIHJlc291cmNlIGRlZmluaXRpb24gZm9yIGhvdyB0aGVzZSByZWxhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGEgY29tcG9zaXRpb24gaXMgbWFya2VkIGFzIHdpdGhkcmF3biwgdGhlIGNvbXBvc2l0aW9ucy9kb2N1bWVudHMgaW4gdGhlIHNlcmllcywgb3IgZGF0YSBmcm9tIHRoZSBjb21wb3NpdGlvbiBvciBkb2N1bWVudCBzZXJpZXMsIHNob3VsZCBuZXZlciBiZSBkaXNwbGF5ZWQgdG8gYSB1c2VyIHdpdGhvdXQgYmVpbmcgY2xlYXJseSBtYXJrZWQgYXMgdW50cnVzdHdvcnRoeS4gVGhlIGZsYWcgXCJlbnRlcmVkLWluLWVycm9yXCIgaXMgd2h5IHRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgb2Ygb3RoZXIgZWxlbWVudHMuIFxyXG4gICAqIFNvbWUgcmVwb3J0aW5nIHdvcmsgZmxvd3MgcmVxdWlyZSB0aGF0IHRoZSBvcmlnaW5hbCBuYXJyYXRpdmUgb2YgYSBmaW5hbCBkb2N1bWVudCBuZXZlciBiZSBhbHRlcmVkOyBpbnN0ZWFkLCBvbmx5IG5ldyBuYXJyYXRpdmUgY2FuIGJlIGFkZGVkLiBUaGUgY29tcG9zaXRpb24gcmVzb3VyY2UgaGFzIG5vIGV4cGxpY2l0IHN0YXR1cyBmb3IgZXhwbGljaXRseSBub3Rpbmcgd2hldGhlciB0aGlzIGJ1c2luZXNzIHJ1bGUgaXMgaW4gZWZmZWN0LiBUaGlzIHdvdWxkIGJlIGhhbmRsZWQgYnkgYW4gZXh0ZW5zaW9uIGlmIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8Q29tcG9zaXRpb25TdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBGb3IgQ29tcG9zaXRpb24gdHlwZSwgTE9JTkMgaXMgdWJpcXVpdG91cyBhbmQgc3Ryb25nbHkgZW5kb3JzZWQgYnkgSEw3LiBNb3N0IGltcGxlbWVudGF0aW9uIGd1aWRlcyB3aWxsIHJlcXVpcmUgYSBzcGVjaWZpYyBMT0lOQyBjb2RlLCBvciB1c2UgTE9JTkMgYXMgYW4gZXh0ZW5zaWJsZSBiaW5kaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgYSBtZXRhZGF0YSBmaWVsZCBmcm9tIFtYRFMvTUhEXShodHRwOi8vd2lraS5paGUubmV0L2luZGV4LnBocD90aXRsZT1Nb2JpbGVfYWNjZXNzX3RvX0hlYWx0aF9Eb2N1bWVudHNfKE1IRCkpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgY2xpbmljYWwgZG9jdW1lbnRzLCB0aGlzIGlzIHVzdWFsbHkgdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBjbGluaWNhbCBlbmNvdW50ZXIgb3IgdHlwZSBvZiBjYXJlIHRoaXMgZG9jdW1lbnRhdGlvbiBpcyBhc3NvY2lhdGVkIHdpdGguXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgTGFzdCBNb2RpZmllZCBEYXRlIG9uIHRoZSBjb21wb3NpdGlvbiBtYXkgYmUgYWZ0ZXIgdGhlIGRhdGUgb2YgdGhlIGRvY3VtZW50IHdhcyBhdHRlc3RlZCB3aXRob3V0IGJlaW5nIGNoYW5nZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU6IGZoaXIuRmhpckRhdGVUaW1lfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB3aG8gaXMgcmVzcG9uc2libGUgZm9yIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGUgY29tcG9zaXRpb24sIG5vdCBuZWNlc3NhcmlseSB3aG8gdHlwZWQgaXQgaW4uXHJcbiAgICovXHJcbiAgcHVibGljIGF1dGhvcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBGb3IgbWFueSBjb21wb3NpdGlvbnMsIHRoZSB0aXRsZSBpcyB0aGUgc2FtZSBhcyB0aGUgdGV4dCBvciBhIGRpc3BsYXkgbmFtZSBvZiBDb21wb3NpdGlvbi50eXBlIChlLmcuIGEgXCJjb25zdWx0YXRpb25cIiBvciBcInByb2dyZXNzIG5vdGVcIikuIE5vdGUgdGhhdCBDREEgZG9lcyBub3QgbWFrZSB0aXRsZSBtYW5kYXRvcnksIGJ1dCB0aGVyZSBhcmUgbm8ga25vd24gY2FzZXMgd2hlcmUgaXQgaXMgdXNlZnVsIGZvciB0aXRsZSB0byBiZSBvbWl0dGVkLCBzbyBpdCBpcyBtYW5kYXRvcnkgaGVyZS4gRmVlZGJhY2sgb24gdGhpcyByZXF1aXJlbWVudCBpcyB3ZWxjb21lIGR1cmluZyB0aGUgdHJpYWwgdXNlIHBlcmlvZC5cclxuICAgKi9cclxuICBwdWJsaWMgdGl0bGU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBleGFjdCB1c2Ugb2YgdGhpcyBlbGVtZW50LCBhbmQgZW5mb3JjZW1lbnQgYW5kIGlzc3VlcyByZWxhdGVkIHRvIGhpZ2hseSBzZW5zaXRpdmUgZG9jdW1lbnRzIGFyZSBvdXQgb2Ygc2NvcGUgZm9yIHRoZSBiYXNlIHNwZWNpZmljYXRpb24sIGFuZCBkZWxlZ2F0ZWQgdG8gaW1wbGVtZW50YXRpb24gcHJvZmlsZXMgKHNlZSBzZWN1cml0eSBzZWN0aW9uKS5cclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgaGlnaGx5IGNvbmZpZGVudGlhbCBkb2N1bWVudHMgbXVzdCBub3QgYmUgdHJlYXRlZCBhcyBpZiB0aGV5IGFyZSBub3QuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbmZpZGVudGlhbGl0eT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9ubHkgbGlzdCBlYWNoIGF0dGVzdGVyIG9uY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGVzdGVyOiBmaGlyLkNvbXBvc2l0aW9uQXR0ZXN0ZXJbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGRvY3VtZW50cyBhcmUgZGVyaXZlZCBmcm9tIGEgY29tcG9zaXRpb24gLSBwcm92aWRlcyBndWlkYW5jZSBmb3IgaG93IHRvIGdldCB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgdGhlIGRvY3VtZW50LiBUaGlzIGlzIG9wdGlvbmFsIGJlY2F1c2UgdGhpcyBpcyBzb21ldGltZXMgbm90IGtub3duIGJ5IHRoZSBhdXRob3Jpbmcgc3lzdGVtLCBhbmQgY2FuIGJlIGluZmVycmVkIGJ5IGNvbnRleHQuIEhvd2V2ZXIsIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoaXMgaW5mb3JtYXRpb24gYmUga25vd24gd2hlbiB3b3JraW5nIHdpdGggYSBkZXJpdmVkIGRvY3VtZW50LCBzbyBwcm92aWRpbmcgYSBjdXN0b2RpYW4gaXMgZW5jb3VyYWdlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY3VzdG9kaWFuPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZG9jdW1lbnQgaXMgYSB2ZXJzaW9uIHNwZWNpZmljIGNvbXBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGVzVG86IGZoaXIuQ29tcG9zaXRpb25SZWxhdGVzVG9bXTtcclxuICAvKipcclxuICAgKiBUaGUgZXZlbnQgbmVlZHMgdG8gYmUgY29uc2lzdGVudCB3aXRoIHRoZSB0eXBlIGVsZW1lbnQsIHRob3VnaCBjYW4gcHJvdmlkZSBmdXJ0aGVyIGluZm9ybWF0aW9uIGlmIGRlc2lyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGV2ZW50OiBmaGlyLkNvbXBvc2l0aW9uRXZlbnRbXTtcclxuICAvKipcclxuICAgKiBUaGUgcm9vdCBvZiB0aGUgc2VjdGlvbnMgdGhhdCBtYWtlIHVwIHRoZSBjb21wb3NpdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc2VjdGlvbjogZmhpci5Db21wb3NpdGlvblNlY3Rpb25bXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb21wb3NpdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbXBvc2l0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0NvbXBvc2l0aW9uJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPENvbXBvc2l0aW9uU3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPENvbXBvc2l0aW9uU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NsYXNzJ10pIHsgdGhpcy5jbGFzcyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2xhc3MsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViamVjdCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXV0aG9yJ10pIHsgdGhpcy5hdXRob3IgPSBzb3VyY2UuYXV0aG9yLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXV0aG9yID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RpdGxlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnRpdGxlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS50aXRsZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50aXRsZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ190aXRsZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRpdGxlKSB7IHRoaXMudGl0bGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdGl0bGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50aXRsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl90aXRsZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29uZmlkZW50aWFsaXR5J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmNvbmZpZGVudGlhbGl0eSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLmNvbmZpZGVudGlhbGl0eX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29uZmlkZW50aWFsaXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMuY29uZmlkZW50aWFsaXR5KSB7IHRoaXMuY29uZmlkZW50aWFsaXR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvbmZpZGVudGlhbGl0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvbmZpZGVudGlhbGl0eSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fY29uZmlkZW50aWFsaXR5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXR0ZXN0ZXInXSkgeyB0aGlzLmF0dGVzdGVyID0gc291cmNlLmF0dGVzdGVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29tcG9zaXRpb25BdHRlc3Rlcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmF0dGVzdGVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2N1c3RvZGlhbiddKSB7IHRoaXMuY3VzdG9kaWFuID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5jdXN0b2RpYW4sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGVzVG8nXSkgeyB0aGlzLnJlbGF0ZXNUbyA9IHNvdXJjZS5yZWxhdGVzVG8ubWFwKCh4KSA9PiBuZXcgZmhpci5Db21wb3NpdGlvblJlbGF0ZXNUbyh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlbGF0ZXNUbyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydldmVudCddKSB7IHRoaXMuZXZlbnQgPSBzb3VyY2UuZXZlbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Db21wb3NpdGlvbkV2ZW50KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXZlbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VjdGlvbiddKSB7IHRoaXMuc2VjdGlvbiA9IHNvdXJjZS5zZWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29tcG9zaXRpb25TZWN0aW9uKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VjdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29tcG9zaXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVignc3RhdHVzJyxleHAsJ0NvbXBvc2l0aW9uU3RhdHVzJyxDb21wb3NpdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjbGFzcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnc3ViamVjdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZW5jb3VudGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdkYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJBKCdhdXRob3InLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3RpdGxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignY29uZmlkZW50aWFsaXR5JyxleHAsJ1YzQ29uZmlkZW50aWFsaXR5Q2xhc3NpZmljYXRpb24nLFYzQ29uZmlkZW50aWFsaXR5Q2xhc3NpZmljYXRpb25Wc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYXR0ZXN0ZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2N1c3RvZGlhbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVsYXRlc1RvJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdldmVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc2VjdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=