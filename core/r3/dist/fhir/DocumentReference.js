// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: DocumentReference
import * as fhir from '../fhir.js';
// @ts-ignore
import { DocumentRelationshipTypeVsValidation } from '../fhirValueSets/DocumentRelationshipTypeVsValidation.js';
// @ts-ignore
import { DocumentReferenceStatusVsValidation } from '../fhirValueSets/DocumentReferenceStatusVsValidation.js';
// @ts-ignore
import { CompositionStatusVsValidation } from '../fhirValueSets/CompositionStatusVsValidation.js';
/**
 * This element is labeled as a modifier because documents that append to other documents are incomplete on their own.
 */
export class DocumentReferenceRelatesTo extends fhir.BackboneElement {
    /**
     * Default constructor for DocumentReferenceRelatesTo - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        else {
            this.code = null;
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code);
            }
        }
        if (source['target']) {
            this.target = new fhir.Reference(source.target);
        }
        else {
            this.target = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'DocumentReference.relatesTo';
        }
        this.vRSV('code', exp, 'DocumentRelationshipType', DocumentRelationshipTypeVsValidation, 'r');
        this.vRS('target', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DocumentReferenceRelatesTo._fts_dataType = 'DocumentReferenceRelatesTo';
/**
 * The document and format referenced. There may be multiple content element repetitions, each with a different format.
 */
export class DocumentReferenceContent extends fhir.BackboneElement {
    /**
     * Default constructor for DocumentReferenceContent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['attachment']) {
            this.attachment = new fhir.Attachment(source.attachment);
        }
        else {
            this.attachment = null;
        }
        if (source['format']) {
            this.format = new fhir.Coding(source.format);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'DocumentReference.content';
        }
        this.vRS('attachment', exp);
        this.vOS('format', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DocumentReferenceContent._fts_dataType = 'DocumentReferenceContent';
/**
 * May be identifiers or resources that caused the DocumentReference or referenced Document to be created.
 */
export class DocumentReferenceContextRelated extends fhir.BackboneElement {
    /**
     * Default constructor for DocumentReferenceContextRelated - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['ref']) {
            this.ref = new fhir.Reference(source.ref);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'DocumentReference.context.related';
        }
        this.vOS('identifier', exp);
        this.vOS('ref', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DocumentReferenceContextRelated._fts_dataType = 'DocumentReferenceContextRelated';
/**
 * These values are primarily added to help with searching for interesting/relevant documents.
 */
export class DocumentReferenceContext extends fhir.BackboneElement {
    /**
     * Default constructor for DocumentReferenceContext - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['event']) {
            this.event = source.event.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.event = [];
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
        if (source['facilityType']) {
            this.facilityType = new fhir.CodeableConcept(source.facilityType);
        }
        if (source['practiceSetting']) {
            this.practiceSetting = new fhir.CodeableConcept(source.practiceSetting);
        }
        if (source['sourcePatientInfo']) {
            this.sourcePatientInfo = new fhir.Reference(source.sourcePatientInfo);
        }
        if (source['related']) {
            this.related = source.related.map((x) => new fhir.DocumentReferenceContextRelated(x));
        }
        else {
            this.related = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'DocumentReference.context';
        }
        this.vOS('encounter', exp);
        this.vOA('event', exp);
        this.vOS('period', exp);
        this.vOS('facilityType', exp);
        this.vOS('practiceSetting', exp);
        this.vOS('sourcePatientInfo', exp);
        this.vOA('related', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DocumentReferenceContext._fts_dataType = 'DocumentReferenceContext';
/**
 * A reference to a document.
 */
export class DocumentReference extends fhir.DomainResource {
    /**
     * Default constructor for DocumentReference - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'DocumentReference';
        if (source['masterIdentifier']) {
            this.masterIdentifier = new fhir.Identifier(source.masterIdentifier);
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['docStatus']) {
            this.docStatus = new fhir.FhirCode({ value: source.docStatus });
        }
        if (source['_docStatus']) {
            if (this.docStatus) {
                this.docStatus.addExtendedProperties(source._docStatus);
            }
            else {
                this.docStatus = new fhir.FhirCode(source._docStatus);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['class']) {
            this.class = new fhir.CodeableConcept(source.class);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['created']) {
            this.created = new fhir.FhirDateTime({ value: source.created });
        }
        if (source['_created']) {
            if (this.created) {
                this.created.addExtendedProperties(source._created);
            }
            else {
                this.created = new fhir.FhirDateTime(source._created);
            }
        }
        if (source['indexed']) {
            this.indexed = new fhir.FhirInstant({ value: source.indexed });
        }
        else {
            this.indexed = null;
        }
        if (source['_indexed']) {
            if (this.indexed) {
                this.indexed.addExtendedProperties(source._indexed);
            }
            else {
                this.indexed = new fhir.FhirInstant(source._indexed);
            }
        }
        if (source['author']) {
            this.author = source.author.map((x) => new fhir.Reference(x));
        }
        else {
            this.author = [];
        }
        if (source['authenticator']) {
            this.authenticator = new fhir.Reference(source.authenticator);
        }
        if (source['custodian']) {
            this.custodian = new fhir.Reference(source.custodian);
        }
        if (source['relatesTo']) {
            this.relatesTo = source.relatesTo.map((x) => new fhir.DocumentReferenceRelatesTo(x));
        }
        else {
            this.relatesTo = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['securityLabel']) {
            this.securityLabel = source.securityLabel.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.securityLabel = [];
        }
        if (source['content']) {
            this.content = source.content.map((x) => new fhir.DocumentReferenceContent(x));
        }
        else {
            this.content = [];
        }
        if (source['context']) {
            this.context = new fhir.DocumentReferenceContext(source.context);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'DocumentReference';
        }
        this.vRS('resourceType', exp);
        this.vOS('masterIdentifier', exp);
        this.vOA('identifier', exp);
        this.vRSV('status', exp, 'DocumentReferenceStatus', DocumentReferenceStatusVsValidation, 'r');
        this.vOSV('docStatus', exp, 'CompositionStatus', CompositionStatusVsValidation, 'r');
        this.vRS('type', exp);
        this.vOS('class', exp);
        this.vOS('subject', exp);
        this.vOS('created', exp);
        this.vRS('indexed', exp);
        this.vOA('author', exp);
        this.vOS('authenticator', exp);
        this.vOS('custodian', exp);
        this.vOA('relatesTo', exp);
        this.vOS('description', exp);
        this.vOA('securityLabel', exp);
        this.vRA('content', exp);
        this.vOS('context', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DocumentReference._fts_dataType = 'DocumentReference';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9jdW1lbnRSZWZlcmVuY2UuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0RvY3VtZW50UmVmZXJlbmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLG1DQUFtQztBQUVuQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLE1BQU0sMERBQTBELENBQUM7QUFlaEgsYUFBYTtBQUNiLE9BQU8sRUFBRSxtQ0FBbUMsRUFBRSxNQUFNLHlEQUF5RCxDQUFDO0FBRzlHLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQStCbEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sMEJBQTJCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhbEU7O09BRUc7SUFDSCxZQUFZLFNBQWlELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3ZHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBbUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7U0FBRTthQUN6RztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQUU7aUJBQzdEO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFt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R0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTFKRDs7R0FFRztBQUM2QiwrQkFBYSxHQUFVLG1CQUFtQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIzLmNvcmUgdmVyc2lvbjogMy4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBEb2N1bWVudFJlZmVyZW5jZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlQ29kZXMsICBEb2N1bWVudFJlbGF0aW9uc2hpcFR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERvY3VtZW50UmVsYXRpb25zaGlwVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM0FjdENvZGVzLCAgVjNBY3RDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjNBY3RDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNBY3RWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzQWN0VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDODBGYWNpbGl0eUNvZGVzLCAgQzgwRmFjaWxpdHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQzgwRmFjaWxpdHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQzgwRmFjaWxpdHlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0M4MEZhY2lsaXR5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDODBQcmFjdGljZUNvZGVzLCAgQzgwUHJhY3RpY2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQzgwUHJhY3RpY2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQzgwUHJhY3RpY2VWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0M4MFByYWN0aWNlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEb2N1bWVudFJlZmVyZW5jZVN0YXR1c0NvZGVzLCAgRG9jdW1lbnRSZWZlcmVuY2VTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRG9jdW1lbnRSZWZlcmVuY2VTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRG9jdW1lbnRSZWZlcmVuY2VTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RvY3VtZW50UmVmZXJlbmNlU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb21wb3NpdGlvblN0YXR1c0NvZGVzLCAgQ29tcG9zaXRpb25TdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29tcG9zaXRpb25TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29tcG9zaXRpb25TdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbXBvc2l0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDODBEb2NUeXBlQ29kZXMsICBDODBEb2NUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0M4MERvY1R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQzgwRG9jVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQzgwRG9jVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQzgwRG9jQ2xhc3NDb2RlcywgIEM4MERvY0NsYXNzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0M4MERvY0NsYXNzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEM4MERvY0NsYXNzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DODBEb2NDbGFzc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VjdXJpdHlMYWJlbHNDb2RlcywgIFNlY3VyaXR5TGFiZWxzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlY3VyaXR5TGFiZWxzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlY3VyaXR5TGFiZWxzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZWN1cml0eUxhYmVsc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBEb2N1bWVudFJlZmVyZW5jZVJlbGF0ZXNUbyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBEb2N1bWVudFJlZmVyZW5jZVJlbGF0ZXNUb0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgZG9jdW1lbnQgYXBwZW5kcyBhbm90aGVyIGRvY3VtZW50LCB0aGVuIHRoZSBkb2N1bWVudCBjYW5ub3QgYmUgZnVsbHkgdW5kZXJzdG9vZCB3aXRob3V0IGFsc28gYWNjZXNzaW5nIHRoZSByZWZlcmVuY2VkIGRvY3VtZW50LlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuRmhpckNvZGU8RG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERvY3VtZW50UmVmZXJlbmNlLnJlbGF0ZXNUby5jb2RlXHJcbiAgICovXHJcbiAgX2NvZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0YXJnZXQgZG9jdW1lbnQgb2YgdGhpcyByZWxhdGlvbnNoaXAuXHJcbiAgICovXHJcbiAgdGFyZ2V0OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBkb2N1bWVudHMgdGhhdCBhcHBlbmQgdG8gb3RoZXIgZG9jdW1lbnRzIGFyZSBpbmNvbXBsZXRlIG9uIHRoZWlyIG93bi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEb2N1bWVudFJlZmVyZW5jZVJlbGF0ZXNUbyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0RvY3VtZW50UmVmZXJlbmNlUmVsYXRlc1RvJztcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGRvY3VtZW50IGFwcGVuZHMgYW5vdGhlciBkb2N1bWVudCwgdGhlbiB0aGUgZG9jdW1lbnQgY2Fubm90IGJlIGZ1bGx5IHVuZGVyc3Rvb2Qgd2l0aG91dCBhbHNvIGFjY2Vzc2luZyB0aGUgcmVmZXJlbmNlZCBkb2N1bWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5GaGlyQ29kZTxEb2N1bWVudFJlbGF0aW9uc2hpcFR5cGVDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdGFyZ2V0IGRvY3VtZW50IG9mIHRoaXMgcmVsYXRpb25zaGlwLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRG9jdW1lbnRSZWZlcmVuY2VSZWxhdGVzVG8gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxEb2N1bWVudFJlZmVyZW5jZVJlbGF0ZXNUb0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8RG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmNvZGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29kZSkgeyB0aGlzLmNvZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxEb2N1bWVudFJlbGF0aW9uc2hpcFR5cGVDb2RlVHlwZT4oc291cmNlLl9jb2RlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0YXJnZXQnXSkgeyB0aGlzLnRhcmdldCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UudGFyZ2V0KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGFyZ2V0ID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0RvY3VtZW50UmVmZXJlbmNlLnJlbGF0ZXNUbycgfVxyXG4gICAgdGhpcy52UlNWKCdjb2RlJyxleHAsJ0RvY3VtZW50UmVsYXRpb25zaGlwVHlwZScsRG9jdW1lbnRSZWxhdGlvbnNoaXBUeXBlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudlJTKCd0YXJnZXQnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBEb2N1bWVudFJlZmVyZW5jZUNvbnRlbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRSZWZlcmVuY2VDb250ZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvY3VtZW50IG9yIFVSTCBvZiB0aGUgZG9jdW1lbnQgYWxvbmcgd2l0aCBjcml0aWNhbCBtZXRhZGF0YSB0byBwcm92ZSBjb250ZW50IGhhcyBpbnRlZ3JpdHkuXHJcbiAgICovXHJcbiAgYXR0YWNobWVudDogZmhpci5BdHRhY2htZW50QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB3aGlsZSBJSEUgbW9zdGx5IGlzc3VlcyBVUk5zIGZvciBmb3JtYXQgdHlwZXMsIG5vdCBhbGwgZG9jdW1lbnRzIGNhbiBiZSBpZGVudGlmaWVkIGJ5IGEgVVJJLlxyXG4gICAqL1xyXG4gIGZvcm1hdD86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgZG9jdW1lbnQgYW5kIGZvcm1hdCByZWZlcmVuY2VkLiBUaGVyZSBtYXkgYmUgbXVsdGlwbGUgY29udGVudCBlbGVtZW50IHJlcGV0aXRpb25zLCBlYWNoIHdpdGggYSBkaWZmZXJlbnQgZm9ybWF0LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERvY3VtZW50UmVmZXJlbmNlQ29udGVudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0RvY3VtZW50UmVmZXJlbmNlQ29udGVudCc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvY3VtZW50IG9yIFVSTCBvZiB0aGUgZG9jdW1lbnQgYWxvbmcgd2l0aCBjcml0aWNhbCBtZXRhZGF0YSB0byBwcm92ZSBjb250ZW50IGhhcyBpbnRlZ3JpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGFjaG1lbnQ6IGZoaXIuQXR0YWNobWVudHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIE5vdGUgdGhhdCB3aGlsZSBJSEUgbW9zdGx5IGlzc3VlcyBVUk5zIGZvciBmb3JtYXQgdHlwZXMsIG5vdCBhbGwgZG9jdW1lbnRzIGNhbiBiZSBpZGVudGlmaWVkIGJ5IGEgVVJJLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb3JtYXQ/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRG9jdW1lbnRSZWZlcmVuY2VDb250ZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RG9jdW1lbnRSZWZlcmVuY2VDb250ZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2F0dGFjaG1lbnQnXSkgeyB0aGlzLmF0dGFjaG1lbnQgPSBuZXcgZmhpci5BdHRhY2htZW50KHNvdXJjZS5hdHRhY2htZW50KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYXR0YWNobWVudCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Zvcm1hdCddKSB7IHRoaXMuZm9ybWF0ID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5mb3JtYXQpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnRG9jdW1lbnRSZWZlcmVuY2UuY29udGVudCcgfVxyXG4gICAgdGhpcy52UlMoJ2F0dGFjaG1lbnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdmb3JtYXQnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBEb2N1bWVudFJlZmVyZW5jZUNvbnRleHRSZWxhdGVkIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIERvY3VtZW50UmVmZXJlbmNlQ29udGV4dFJlbGF0ZWRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBPcmRlciBudW1iZXJzLCBhY2Nlc3Npb24gbnVtYmVycywgWERXIHdvcmtmbG93IG51bWJlcnMuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9yZGVyLCBQcm9jZWR1cmVSZXF1ZXN0LCAgUHJvY2VkdXJlLCBFbGlnaWJpbGl0eVJlcXVlc3QsIGV0Yy5cclxuICAgKi9cclxuICByZWY/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTWF5IGJlIGlkZW50aWZpZXJzIG9yIHJlc291cmNlcyB0aGF0IGNhdXNlZCB0aGUgRG9jdW1lbnRSZWZlcmVuY2Ugb3IgcmVmZXJlbmNlZCBEb2N1bWVudCB0byBiZSBjcmVhdGVkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERvY3VtZW50UmVmZXJlbmNlQ29udGV4dFJlbGF0ZWQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdEb2N1bWVudFJlZmVyZW5jZUNvbnRleHRSZWxhdGVkJztcclxuICAvKipcclxuICAgKiBPcmRlciBudW1iZXJzLCBhY2Nlc3Npb24gbnVtYmVycywgWERXIHdvcmtmbG93IG51bWJlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9yZGVyLCBQcm9jZWR1cmVSZXF1ZXN0LCAgUHJvY2VkdXJlLCBFbGlnaWJpbGl0eVJlcXVlc3QsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIERvY3VtZW50UmVmZXJlbmNlQ29udGV4dFJlbGF0ZWQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxEb2N1bWVudFJlZmVyZW5jZUNvbnRleHRSZWxhdGVkQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmJ10pIHsgdGhpcy5yZWYgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZik7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdEb2N1bWVudFJlZmVyZW5jZS5jb250ZXh0LnJlbGF0ZWQnIH1cclxuICAgIHRoaXMudk9TKCdpZGVudGlmaWVyJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVmJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRG9jdW1lbnRSZWZlcmVuY2VDb250ZXh0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIERvY3VtZW50UmVmZXJlbmNlQ29udGV4dEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaWJlcyB0aGUgY2xpbmljYWwgZW5jb3VudGVyIG9yIHR5cGUgb2YgY2FyZSB0aGF0IHRoZSBkb2N1bWVudCBjb250ZW50IGlzIGFzc29jaWF0ZWQgd2l0aC5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGV2ZW50IGNhbiBmdXJ0aGVyIHNwZWNpYWxpemUgdGhlIGFjdCBpbmhlcmVudCBpbiB0aGUgdHlwZSwgc3VjaCBhcyAgd2hlcmUgaXQgaXMgc2ltcGx5IFwiUHJvY2VkdXJlIFJlcG9ydFwiIGFuZCB0aGUgcHJvY2VkdXJlIHdhcyBhIFwiY29sb25vc2NvcHlcIi4gSWYgb25lIG9yIG1vcmUgZXZlbnQgY29kZXMgYXJlIGluY2x1ZGVkLCB0aGV5IHNoYWxsIG5vdCBjb25mbGljdCB3aXRoIHRoZSB2YWx1ZXMgaW5oZXJlbnQgaW4gdGhlIGNsYXNzIG9yIHR5cGUgZWxlbWVudHMgYXMgc3VjaCBhIGNvbmZsaWN0IHdvdWxkIGNyZWF0ZSBhbiBhbWJpZ3VvdXMgc2l0dWF0aW9uLlxyXG4gICAqL1xyXG4gIGV2ZW50PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBvdmVyIHdoaWNoIHRoZSBzZXJ2aWNlIHRoYXQgaXMgZGVzY3JpYmVkIGJ5IHRoZSBkb2N1bWVudCB3YXMgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgcGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBmYWNpbGl0eSB3aGVyZSB0aGUgcGF0aWVudCB3YXMgc2Vlbi5cclxuICAgKi9cclxuICBmYWNpbGl0eVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBzZXQgZm9yIHRoaXMgY29udGVudCBoYXMgYW4gZXhhbXBsZSBiaW5kaW5nIGJlY2F1c2UgaXQgaXMgYSB2YWx1ZSBzZXQgZGVjaWRlZCBieSBjb21tdW5pdHkgcG9saWN5LiBPdGhlciBleGFtcGxlcyBleGlzdCBmb3IgY29uc2lkZXJhdGlvbjogKiBISVRTUCBjcmVhdGVkIHRoZSB0YWJsZSBISVRTUC9DODAgVGFibGUgMi0xNDggQ2xpbmljYWwgU3BlY2lhbHR5IFZhbHVlIFNldCAoYSB2YWx1ZSBzZXQgYmFzZWQgdXBvbiBTTk9NRUQgQ1Qgd2hpY2ggaXMgcmVmZXJlbmNlZCBieSBEaXJlY3QgKFhEUiBhbmQgWERNIGZvciBEaXJlY3QgTWVzc2FnaW5nIFNwZWNpZmljYXRpb24sIFZlcnNpb24gMSksIGFzIHdlbGwgYXMgTmF0aW9ud2lkZSBIZWFsdGggSW5mb3JtYXRpb24gTmV0d29yayAoTkhJTikuICBRdWVyeSBmb3IgRG9jdW1lbnRzLCBXZWIgU2VydmljZSBJbnRlcmZhY2UgU3BlY2lmaWNhdGlvbiwgViAzLjAsIDA3LzI3LzIwMTEgKiBFTEdBIChBdXN0cmlhKSAoRUxHQSBDREEgSW1wbGVtZW50aWUtcnVuZ3NsZWl0ZsOkZGVuIFJlZ2lzdHJpZXJ1bmcgdm9uIENEQSBEb2t1bWVudGVuIGbDvHIgRUxHQSBtaXQgSUhFIENyb3NzLUVudGVycHJpc2UgRG9jdW1lbnQgU2hhcmluZzogWERTIE1ldGFkYXRlbiAoWERTRG9jdW1lbnRFbnRyeSksIFsxLjIuNDAuMC4zNC43LjYuM10gKiBYRFMgQ29ubmVjdC1hLXRob24gcHJhY3RpY2VTZXR0aW5nQ29kZS5cclxuICAgKi9cclxuICBwcmFjdGljZVNldHRpbmc/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBQYXRpZW50IEluZm9ybWF0aW9uIGFzIGtub3duIHdoZW4gdGhlIGRvY3VtZW50IHdhcyBwdWJsaXNoZWQuIE1heSBiZSBhIHJlZmVyZW5jZSB0byBhIHZlcnNpb24gc3BlY2lmaWMsIG9yIGNvbnRhaW5lZC5cclxuICAgKi9cclxuICBzb3VyY2VQYXRpZW50SW5mbz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIGlkZW50aWZpZXJzIG9yIHJlc291cmNlcyB0aGF0IGNhdXNlZCB0aGUgRG9jdW1lbnRSZWZlcmVuY2Ugb3IgcmVmZXJlbmNlZCBEb2N1bWVudCB0byBiZSBjcmVhdGVkLlxyXG4gICAqL1xyXG4gIHJlbGF0ZWQ/OiBmaGlyLkRvY3VtZW50UmVmZXJlbmNlQ29udGV4dFJlbGF0ZWRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlc2UgdmFsdWVzIGFyZSBwcmltYXJpbHkgYWRkZWQgdG8gaGVscCB3aXRoIHNlYXJjaGluZyBmb3IgaW50ZXJlc3RpbmcvcmVsZXZhbnQgZG9jdW1lbnRzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERvY3VtZW50UmVmZXJlbmNlQ29udGV4dCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0RvY3VtZW50UmVmZXJlbmNlQ29udGV4dCc7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBjbGluaWNhbCBlbmNvdW50ZXIgb3IgdHlwZSBvZiBjYXJlIHRoYXQgdGhlIGRvY3VtZW50IGNvbnRlbnQgaXMgYXNzb2NpYXRlZCB3aXRoLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gZXZlbnQgY2FuIGZ1cnRoZXIgc3BlY2lhbGl6ZSB0aGUgYWN0IGluaGVyZW50IGluIHRoZSB0eXBlLCBzdWNoIGFzICB3aGVyZSBpdCBpcyBzaW1wbHkgXCJQcm9jZWR1cmUgUmVwb3J0XCIgYW5kIHRoZSBwcm9jZWR1cmUgd2FzIGEgXCJjb2xvbm9zY29weVwiLiBJZiBvbmUgb3IgbW9yZSBldmVudCBjb2RlcyBhcmUgaW5jbHVkZWQsIHRoZXkgc2hhbGwgbm90IGNvbmZsaWN0IHdpdGggdGhlIHZhbHVlcyBpbmhlcmVudCBpbiB0aGUgY2xhc3Mgb3IgdHlwZSBlbGVtZW50cyBhcyBzdWNoIGEgY29uZmxpY3Qgd291bGQgY3JlYXRlIGFuIGFtYmlndW91cyBzaXR1YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGV2ZW50OiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBvdmVyIHdoaWNoIHRoZSBzZXJ2aWNlIHRoYXQgaXMgZGVzY3JpYmVkIGJ5IHRoZSBkb2N1bWVudCB3YXMgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmlvZD86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBmYWNpbGl0eSB3aGVyZSB0aGUgcGF0aWVudCB3YXMgc2Vlbi5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjaWxpdHlUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBzZXQgZm9yIHRoaXMgY29udGVudCBoYXMgYW4gZXhhbXBsZSBiaW5kaW5nIGJlY2F1c2UgaXQgaXMgYSB2YWx1ZSBzZXQgZGVjaWRlZCBieSBjb21tdW5pdHkgcG9saWN5LiBPdGhlciBleGFtcGxlcyBleGlzdCBmb3IgY29uc2lkZXJhdGlvbjogKiBISVRTUCBjcmVhdGVkIHRoZSB0YWJsZSBISVRTUC9DODAgVGFibGUgMi0xNDggQ2xpbmljYWwgU3BlY2lhbHR5IFZhbHVlIFNldCAoYSB2YWx1ZSBzZXQgYmFzZWQgdXBvbiBTTk9NRUQgQ1Qgd2hpY2ggaXMgcmVmZXJlbmNlZCBieSBEaXJlY3QgKFhEUiBhbmQgWERNIGZvciBEaXJlY3QgTWVzc2FnaW5nIFNwZWNpZmljYXRpb24sIFZlcnNpb24gMSksIGFzIHdlbGwgYXMgTmF0aW9ud2lkZSBIZWFsdGggSW5mb3JtYXRpb24gTmV0d29yayAoTkhJTikuICBRdWVyeSBmb3IgRG9jdW1lbnRzLCBXZWIgU2VydmljZSBJbnRlcmZhY2UgU3BlY2lmaWNhdGlvbiwgViAzLjAsIDA3LzI3LzIwMTEgKiBFTEdBIChBdXN0cmlhKSAoRUxHQSBDREEgSW1wbGVtZW50aWUtcnVuZ3NsZWl0ZsOkZGVuIFJlZ2lzdHJpZXJ1bmcgdm9uIENEQSBEb2t1bWVudGVuIGbDvHIgRUxHQSBtaXQgSUhFIENyb3NzLUVudGVycHJpc2UgRG9jdW1lbnQgU2hhcmluZzogWERTIE1ldGFkYXRlbiAoWERTRG9jdW1lbnRFbnRyeSksIFsxLjIuNDAuMC4zNC43LjYuM10gKiBYRFMgQ29ubmVjdC1hLXRob24gcHJhY3RpY2VTZXR0aW5nQ29kZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJhY3RpY2VTZXR0aW5nPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBQYXRpZW50IEluZm9ybWF0aW9uIGFzIGtub3duIHdoZW4gdGhlIGRvY3VtZW50IHdhcyBwdWJsaXNoZWQuIE1heSBiZSBhIHJlZmVyZW5jZSB0byBhIHZlcnNpb24gc3BlY2lmaWMsIG9yIGNvbnRhaW5lZC5cclxuICAgKi9cclxuICBwdWJsaWMgc291cmNlUGF0aWVudEluZm8/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIGlkZW50aWZpZXJzIG9yIHJlc291cmNlcyB0aGF0IGNhdXNlZCB0aGUgRG9jdW1lbnRSZWZlcmVuY2Ugb3IgcmVmZXJlbmNlZCBEb2N1bWVudCB0byBiZSBjcmVhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGVkOiBmaGlyLkRvY3VtZW50UmVmZXJlbmNlQ29udGV4dFJlbGF0ZWRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBEb2N1bWVudFJlZmVyZW5jZUNvbnRleHQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxEb2N1bWVudFJlZmVyZW5jZUNvbnRleHRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZW5jb3VudGVyJ10pIHsgdGhpcy5lbmNvdW50ZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmVuY291bnRlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2V2ZW50J10pIHsgdGhpcy5ldmVudCA9IHNvdXJjZS5ldmVudC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmV2ZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmlvZCddKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5wZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydmYWNpbGl0eVR5cGUnXSkgeyB0aGlzLmZhY2lsaXR5VHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZmFjaWxpdHlUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJhY3RpY2VTZXR0aW5nJ10pIHsgdGhpcy5wcmFjdGljZVNldHRpbmcgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnByYWN0aWNlU2V0dGluZyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NvdXJjZVBhdGllbnRJbmZvJ10pIHsgdGhpcy5zb3VyY2VQYXRpZW50SW5mbyA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc291cmNlUGF0aWVudEluZm8pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGVkJ10pIHsgdGhpcy5yZWxhdGVkID0gc291cmNlLnJlbGF0ZWQubWFwKCh4KSA9PiBuZXcgZmhpci5Eb2N1bWVudFJlZmVyZW5jZUNvbnRleHRSZWxhdGVkKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVsYXRlZCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnRG9jdW1lbnRSZWZlcmVuY2UuY29udGV4dCcgfVxyXG4gICAgdGhpcy52T1MoJ2VuY291bnRlcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2V2ZW50JyxleHApXHJcbiAgICB0aGlzLnZPUygncGVyaW9kJyxleHApXHJcbiAgICB0aGlzLnZPUygnZmFjaWxpdHlUeXBlJyxleHApXHJcbiAgICB0aGlzLnZPUygncHJhY3RpY2VTZXR0aW5nJyxleHApXHJcbiAgICB0aGlzLnZPUygnc291cmNlUGF0aWVudEluZm8nLGV4cClcclxuICAgIHRoaXMudk9BKCdyZWxhdGVkJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRG9jdW1lbnRSZWZlcmVuY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRSZWZlcmVuY2VBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJEb2N1bWVudFJlZmVyZW5jZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDREEgRG9jdW1lbnQgSWQgZXh0ZW5zaW9uIGFuZCByb290LlxyXG4gICAqL1xyXG4gIG1hc3RlcklkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPdGhlciBpZGVudGlmaWVycyBhc3NvY2lhdGVkIHdpdGggdGhlIGRvY3VtZW50LCBpbmNsdWRpbmcgdmVyc2lvbiBpbmRlcGVuZGVudCBpZGVudGlmaWVycy5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIHRoZSBzdGF0dXMgb2YgdGhlIERvY3VtZW50UmVmZXJlbmNlIG9iamVjdCwgd2hpY2ggbWlnaHQgYmUgaW5kZXBlbmRlbnQgZnJvbSB0aGUgZG9jU3RhdHVzIGVsZW1lbnQuXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGVzIHRoYXQgbWFyayB0aGUgZG9jdW1lbnQgb3IgcmVmZXJlbmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPERvY3VtZW50UmVmZXJlbmNlU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERvY3VtZW50UmVmZXJlbmNlLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkb2N1bWVudCB0aGF0IGlzIHBvaW50ZWQgdG8gbWlnaHQgYmUgaW4gdmFyaW91cyBsaWZlY3ljbGUgc3RhdGVzLlxyXG4gICAqL1xyXG4gIGRvY1N0YXR1cz86IGZoaXIuRmhpckNvZGU8Q29tcG9zaXRpb25TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRG9jdW1lbnRSZWZlcmVuY2UuZG9jU3RhdHVzXHJcbiAgICovXHJcbiAgX2RvY1N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogS2V5IG1ldGFkYXRhIGVsZW1lbnQgZGVzY3JpYmluZyB0aGUgZG9jdW1lbnQsIHVzZWQgaW4gc2VhcmNoaW5nL2ZpbHRlcmluZy5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIGlzIGEgbWV0YWRhdGEgZmllbGQgZnJvbSBbWERTL01IRF0oaHR0cDovL3dpa2kuaWhlLm5ldC9pbmRleC5waHA/dGl0bGU9TW9iaWxlX2FjY2Vzc190b19IZWFsdGhfRG9jdW1lbnRzXyhNSEQpKS5cclxuICAgKi9cclxuICBjbGFzcz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hvIG9yIHdoYXQgdGhlIGRvY3VtZW50IGlzIGFib3V0LiBUaGUgZG9jdW1lbnQgY2FuIGJlIGFib3V0IGEgcGVyc29uLCAocGF0aWVudCBvciBoZWFsdGhjYXJlIHByYWN0aXRpb25lciksIGEgZGV2aWNlIChlLmcuIGEgbWFjaGluZSkgb3IgZXZlbiBhIGdyb3VwIG9mIHN1YmplY3RzIChzdWNoIGFzIGEgZG9jdW1lbnQgYWJvdXQgYSBoZXJkIG9mIGZhcm0gYW5pbWFscywgb3IgYSBzZXQgb2YgcGF0aWVudHMgdGhhdCBzaGFyZSBhIGNvbW1vbiBleHBvc3VyZSkuXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRpb24gdGltZSBpcyB1c2VkIGZvciB0cmFja2luZywgb3JnYW5pemluZyB2ZXJzaW9ucyBhbmQgc2VhcmNoaW5nLiBUaGlzIGlzIHRoZSBjcmVhdGlvbiB0aW1lIG9mIHRoZSBkb2N1bWVudCwgbm90IHRoZSBzb3VyY2UgbWF0ZXJpYWwgb24gd2hpY2ggaXQgaXMgYmFzZWQuXHJcbiAgICovXHJcbiAgY3JlYXRlZD86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERvY3VtZW50UmVmZXJlbmNlLmNyZWF0ZWRcclxuICAgKi9cclxuICBfY3JlYXRlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUmVmZXJlbmNpbmcvaW5kZXhpbmcgdGltZSBpcyB1c2VkIGZvciB0cmFja2luZywgb3JnYW5pemluZyB2ZXJzaW9ucyBhbmQgc2VhcmNoaW5nLlxyXG4gICAqL1xyXG4gIGluZGV4ZWQ6IGZoaXIuRmhpckluc3RhbnR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRG9jdW1lbnRSZWZlcmVuY2UuaW5kZXhlZFxyXG4gICAqL1xyXG4gIF9pbmRleGVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBOb3QgbmVjZXNzYXJpbHkgd2hvIGRpZCB0aGUgYWN0dWFsIGRhdGEgZW50cnkgKGkuZS4gdHlwaXN0KSBpdCBpbiBvciB3aG8gd2FzIHRoZSBzb3VyY2UgKGluZm9ybWFudCkuXHJcbiAgICovXHJcbiAgYXV0aG9yPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlcHJlc2VudHMgYSBwYXJ0aWNpcGFudCB3aXRoaW4gdGhlIGF1dGhvciBpbnN0aXR1dGlvbiB3aG8gaGFzIGxlZ2FsbHkgYXV0aGVudGljYXRlZCBvciBhdHRlc3RlZCB0aGUgZG9jdW1lbnQuIExlZ2FsIGF1dGhlbnRpY2F0aW9uIGltcGxpZXMgdGhhdCBhIGRvY3VtZW50IGhhcyBiZWVuIHNpZ25lZCBtYW51YWxseSBvciBlbGVjdHJvbmljYWxseSBieSB0aGUgbGVnYWwgQXV0aGVudGljYXRvci5cclxuICAgKi9cclxuICBhdXRoZW50aWNhdG9yPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHRoZSBsb2dpY2FsIG9yZ2FuaXphdGlvbiB0byBnbyB0byBmaW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdoZXJlIHRvIHJlcG9ydCBpc3N1ZXMsIGV0Yy4gVGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgcGh5c2ljYWwgbG9jYXRpb24gb2YgdGhlIGRvY3VtZW50LCB3aGljaCBpcyB0aGUgdGVjaG5pY2FsIGxvY2F0aW9uIG9mIHRoZSBkb2N1bWVudCwgd2hpY2ggaG9zdCBtYXkgYmUgZGVsZWdhdGVkIHRvIHRoZSBtYW5hZ2VtZW50IG9mIHNvbWUgb3RoZXIgb3JnYW5pemF0aW9uLlxyXG4gICAqL1xyXG4gIGN1c3RvZGlhbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIGRvY3VtZW50cyB0aGF0IGFwcGVuZCB0byBvdGhlciBkb2N1bWVudHMgYXJlIGluY29tcGxldGUgb24gdGhlaXIgb3duLlxyXG4gICAqL1xyXG4gIHJlbGF0ZXNUbz86IGZoaXIuRG9jdW1lbnRSZWZlcmVuY2VSZWxhdGVzVG9BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoYXQgdGhlIGRvY3VtZW50IGlzIGFib3V0LCByYXRoZXIgdGhhbiBhIHRlcnNlIHN1bW1hcnkgb2YgdGhlIGRvY3VtZW50LiBJdCBpcyBjb21tb25seSB0aGUgY2FzZSB0aGF0IHJlY29yZHMgZG8gbm90IGhhdmUgYSB0aXRsZSBhbmQgYXJlIGNvbGxlY3RpdmVseSByZWZlcnJlZCB0byBieSB0aGUgZGlzcGxheSBuYW1lIG9mIFJlY29yZCBjb2RlIChlLmcuIGEgXCJjb25zdWx0YXRpb25cIiBvciBcInByb2dyZXNzIG5vdGVcIikuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRG9jdW1lbnRSZWZlcmVuY2UuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb25maWRlbnRpYWxpdHkgY29kZXMgY2FuIGNhcnJ5IG11bHRpcGxlIHZvY2FidWxhcnkgaXRlbXMuIEhMNyBoYXMgZGV2ZWxvcGVkIGFuIHVuZGVyc3RhbmRpbmcgb2Ygc2VjdXJpdHkgYW5kIHByaXZhY3kgdGFncyB0aGF0IG1pZ2h0IGJlIGRlc2lyYWJsZSBpbiBhIERvY3VtZW50IFNoYXJpbmcgZW52aXJvbm1lbnQsIGNhbGxlZCBITDcgSGVhbHRoY2FyZSBQcml2YWN5IGFuZCBTZWN1cml0eSBDbGFzc2lmaWNhdGlvbiBTeXN0ZW0gKEhDUykuIFRoZSBmb2xsb3dpbmcgc3BlY2lmaWNhdGlvbiBpcyByZWNvbW1lbmRlZCBidXQgbm90IG1hbmRhdGVkLCBhcyB0aGUgdm9jYWJ1bGFyeSBiaW5kaW5ncyBhcmUgYW4gYWRtaW5pc3RyYXRpdmUgZG9tYWluIHJlc3BvbnNpYmlsaXR5LiBUaGUgdXNlIG9mIHRoaXMgbWV0aG9kIGlzIHVwIHRvIHRoZSBwb2xpY3kgZG9tYWluIHN1Y2ggYXMgdGhlIFhEUyBBZmZpbml0eSBEb21haW4gb3Igb3RoZXIgVHJ1c3QgRG9tYWluIHdoZXJlIGFsbCBwYXJ0aWVzIGluY2x1ZGluZyBzZW5kZXIgYW5kIHJlY2lwaWVudHMgYXJlIHRydXN0ZWQgdG8gYXBwcm9wcmlhdGVseSB0YWcgYW5kIGVuZm9yY2UuICAgSW4gdGhlIEhMNyBIZWFsdGhjYXJlIFByaXZhY3kgYW5kIFNlY3VyaXR5IENsYXNzaWZpY2F0aW9uIChIQ1MpIHRoZXJlIGFyZSBjb2RlIHN5c3RlbXMgc3BlY2lmaWMgdG8gQ29uZmlkZW50aWFsaXR5LCBTZW5zaXRpdml0eSwgSW50ZWdyaXR5LCBhbmQgSGFuZGxpbmcgQ2F2ZWF0cy4gU29tZSB2YWx1ZXMgd291bGQgY29tZSBmcm9tIGEgbG9jYWwgdm9jYWJ1bGFyeSBhcyB0aGV5IGFyZSByZWxhdGVkIHRvIHdvcmtmbG93IHJvbGVzIGFuZCBzcGVjaWFsIHByb2plY3RzLlxyXG4gICAqL1xyXG4gIHNlY3VyaXR5TGFiZWw/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvY3VtZW50IGFuZCBmb3JtYXQgcmVmZXJlbmNlZC4gVGhlcmUgbWF5IGJlIG11bHRpcGxlIGNvbnRlbnQgZWxlbWVudCByZXBldGl0aW9ucywgZWFjaCB3aXRoIGEgZGlmZmVyZW50IGZvcm1hdC5cclxuICAgKi9cclxuICBjb250ZW50OiBmaGlyLkRvY3VtZW50UmVmZXJlbmNlQ29udGVudEFyZ3NbXXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZXNlIHZhbHVlcyBhcmUgcHJpbWFyaWx5IGFkZGVkIHRvIGhlbHAgd2l0aCBzZWFyY2hpbmcgZm9yIGludGVyZXN0aW5nL3JlbGV2YW50IGRvY3VtZW50cy5cclxuICAgKi9cclxuICBjb250ZXh0PzogZmhpci5Eb2N1bWVudFJlZmVyZW5jZUNvbnRleHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVmZXJlbmNlIHRvIGEgZG9jdW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRSZWZlcmVuY2UgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0RvY3VtZW50UmVmZXJlbmNlJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkRvY3VtZW50UmVmZXJlbmNlXCI7XHJcbiAgLyoqXHJcbiAgICogQ0RBIERvY3VtZW50IElkIGV4dGVuc2lvbiBhbmQgcm9vdC5cclxuICAgKi9cclxuICBwdWJsaWMgbWFzdGVySWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3RoZXIgaWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBkb2N1bWVudCwgaW5jbHVkaW5nIHZlcnNpb24gaW5kZXBlbmRlbnQgaWRlbnRpZmllcnMuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgdGhlIHN0YXR1cyBvZiB0aGUgRG9jdW1lbnRSZWZlcmVuY2Ugb2JqZWN0LCB3aGljaCBtaWdodCBiZSBpbmRlcGVuZGVudCBmcm9tIHRoZSBkb2NTdGF0dXMgZWxlbWVudC5cclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyB0aGUgY29kZXMgdGhhdCBtYXJrIHRoZSBkb2N1bWVudCBvciByZWZlcmVuY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPERvY3VtZW50UmVmZXJlbmNlU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvY3VtZW50IHRoYXQgaXMgcG9pbnRlZCB0byBtaWdodCBiZSBpbiB2YXJpb3VzIGxpZmVjeWNsZSBzdGF0ZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRvY1N0YXR1cz86IGZoaXIuRmhpckNvZGU8Q29tcG9zaXRpb25TdGF0dXNDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEtleSBtZXRhZGF0YSBlbGVtZW50IGRlc2NyaWJpbmcgdGhlIGRvY3VtZW50LCB1c2VkIGluIHNlYXJjaGluZy9maWx0ZXJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBhIG1ldGFkYXRhIGZpZWxkIGZyb20gW1hEUy9NSERdKGh0dHA6Ly93aWtpLmloZS5uZXQvaW5kZXgucGhwP3RpdGxlPU1vYmlsZV9hY2Nlc3NfdG9fSGVhbHRoX0RvY3VtZW50c18oTUhEKSkuXHJcbiAgICovXHJcbiAgcHVibGljIGNsYXNzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdobyBvciB3aGF0IHRoZSBkb2N1bWVudCBpcyBhYm91dC4gVGhlIGRvY3VtZW50IGNhbiBiZSBhYm91dCBhIHBlcnNvbiwgKHBhdGllbnQgb3IgaGVhbHRoY2FyZSBwcmFjdGl0aW9uZXIpLCBhIGRldmljZSAoZS5nLiBhIG1hY2hpbmUpIG9yIGV2ZW4gYSBncm91cCBvZiBzdWJqZWN0cyAoc3VjaCBhcyBhIGRvY3VtZW50IGFib3V0IGEgaGVyZCBvZiBmYXJtIGFuaW1hbHMsIG9yIGEgc2V0IG9mIHBhdGllbnRzIHRoYXQgc2hhcmUgYSBjb21tb24gZXhwb3N1cmUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENyZWF0aW9uIHRpbWUgaXMgdXNlZCBmb3IgdHJhY2tpbmcsIG9yZ2FuaXppbmcgdmVyc2lvbnMgYW5kIHNlYXJjaGluZy4gVGhpcyBpcyB0aGUgY3JlYXRpb24gdGltZSBvZiB0aGUgZG9jdW1lbnQsIG5vdCB0aGUgc291cmNlIG1hdGVyaWFsIG9uIHdoaWNoIGl0IGlzIGJhc2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jaW5nL2luZGV4aW5nIHRpbWUgaXMgdXNlZCBmb3IgdHJhY2tpbmcsIG9yZ2FuaXppbmcgdmVyc2lvbnMgYW5kIHNlYXJjaGluZy5cclxuICAgKi9cclxuICBwdWJsaWMgaW5kZXhlZDogZmhpci5GaGlySW5zdGFudHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIE5vdCBuZWNlc3NhcmlseSB3aG8gZGlkIHRoZSBhY3R1YWwgZGF0YSBlbnRyeSAoaS5lLiB0eXBpc3QpIGl0IGluIG9yIHdobyB3YXMgdGhlIHNvdXJjZSAoaW5mb3JtYW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aG9yOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFJlcHJlc2VudHMgYSBwYXJ0aWNpcGFudCB3aXRoaW4gdGhlIGF1dGhvciBpbnN0aXR1dGlvbiB3aG8gaGFzIGxlZ2FsbHkgYXV0aGVudGljYXRlZCBvciBhdHRlc3RlZCB0aGUgZG9jdW1lbnQuIExlZ2FsIGF1dGhlbnRpY2F0aW9uIGltcGxpZXMgdGhhdCBhIGRvY3VtZW50IGhhcyBiZWVuIHNpZ25lZCBtYW51YWxseSBvciBlbGVjdHJvbmljYWxseSBieSB0aGUgbGVnYWwgQXV0aGVudGljYXRvci5cclxuICAgKi9cclxuICBwdWJsaWMgYXV0aGVudGljYXRvcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHRoZSBsb2dpY2FsIG9yZ2FuaXphdGlvbiB0byBnbyB0byBmaW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdoZXJlIHRvIHJlcG9ydCBpc3N1ZXMsIGV0Yy4gVGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgcGh5c2ljYWwgbG9jYXRpb24gb2YgdGhlIGRvY3VtZW50LCB3aGljaCBpcyB0aGUgdGVjaG5pY2FsIGxvY2F0aW9uIG9mIHRoZSBkb2N1bWVudCwgd2hpY2ggaG9zdCBtYXkgYmUgZGVsZWdhdGVkIHRvIHRoZSBtYW5hZ2VtZW50IG9mIHNvbWUgb3RoZXIgb3JnYW5pemF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjdXN0b2RpYW4/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIGRvY3VtZW50cyB0aGF0IGFwcGVuZCB0byBvdGhlciBkb2N1bWVudHMgYXJlIGluY29tcGxldGUgb24gdGhlaXIgb3duLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxhdGVzVG86IGZoaXIuRG9jdW1lbnRSZWZlcmVuY2VSZWxhdGVzVG9bXTtcclxuICAvKipcclxuICAgKiBXaGF0IHRoZSBkb2N1bWVudCBpcyBhYm91dCwgcmF0aGVyIHRoYW4gYSB0ZXJzZSBzdW1tYXJ5IG9mIHRoZSBkb2N1bWVudC4gSXQgaXMgY29tbW9ubHkgdGhlIGNhc2UgdGhhdCByZWNvcmRzIGRvIG5vdCBoYXZlIGEgdGl0bGUgYW5kIGFyZSBjb2xsZWN0aXZlbHkgcmVmZXJyZWQgdG8gYnkgdGhlIGRpc3BsYXkgbmFtZSBvZiBSZWNvcmQgY29kZSAoZS5nLiBhIFwiY29uc3VsdGF0aW9uXCIgb3IgXCJwcm9ncmVzcyBub3RlXCIpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvbmZpZGVudGlhbGl0eSBjb2RlcyBjYW4gY2FycnkgbXVsdGlwbGUgdm9jYWJ1bGFyeSBpdGVtcy4gSEw3IGhhcyBkZXZlbG9wZWQgYW4gdW5kZXJzdGFuZGluZyBvZiBzZWN1cml0eSBhbmQgcHJpdmFjeSB0YWdzIHRoYXQgbWlnaHQgYmUgZGVzaXJhYmxlIGluIGEgRG9jdW1lbnQgU2hhcmluZyBlbnZpcm9ubWVudCwgY2FsbGVkIEhMNyBIZWFsdGhjYXJlIFByaXZhY3kgYW5kIFNlY3VyaXR5IENsYXNzaWZpY2F0aW9uIFN5c3RlbSAoSENTKS4gVGhlIGZvbGxvd2luZyBzcGVjaWZpY2F0aW9uIGlzIHJlY29tbWVuZGVkIGJ1dCBub3QgbWFuZGF0ZWQsIGFzIHRoZSB2b2NhYnVsYXJ5IGJpbmRpbmdzIGFyZSBhbiBhZG1pbmlzdHJhdGl2ZSBkb21haW4gcmVzcG9uc2liaWxpdHkuIFRoZSB1c2Ugb2YgdGhpcyBtZXRob2QgaXMgdXAgdG8gdGhlIHBvbGljeSBkb21haW4gc3VjaCBhcyB0aGUgWERTIEFmZmluaXR5IERvbWFpbiBvciBvdGhlciBUcnVzdCBEb21haW4gd2hlcmUgYWxsIHBhcnRpZXMgaW5jbHVkaW5nIHNlbmRlciBhbmQgcmVjaXBpZW50cyBhcmUgdHJ1c3RlZCB0byBhcHByb3ByaWF0ZWx5IHRhZyBhbmQgZW5mb3JjZS4gICBJbiB0aGUgSEw3IEhlYWx0aGNhcmUgUHJpdmFjeSBhbmQgU2VjdXJpdHkgQ2xhc3NpZmljYXRpb24gKEhDUykgdGhlcmUgYXJlIGNvZGUgc3lzdGVtcyBzcGVjaWZpYyB0byBDb25maWRlbnRpYWxpdHksIFNlbnNpdGl2aXR5LCBJbnRlZ3JpdHksIGFuZCBIYW5kbGluZyBDYXZlYXRzLiBTb21lIHZhbHVlcyB3b3VsZCBjb21lIGZyb20gYSBsb2NhbCB2b2NhYnVsYXJ5IGFzIHRoZXkgYXJlIHJlbGF0ZWQgdG8gd29ya2Zsb3cgcm9sZXMgYW5kIHNwZWNpYWwgcHJvamVjdHMuXHJcbiAgICovXHJcbiAgcHVibGljIHNlY3VyaXR5TGFiZWw6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIGRvY3VtZW50IGFuZCBmb3JtYXQgcmVmZXJlbmNlZC4gVGhlcmUgbWF5IGJlIG11bHRpcGxlIGNvbnRlbnQgZWxlbWVudCByZXBldGl0aW9ucywgZWFjaCB3aXRoIGEgZGlmZmVyZW50IGZvcm1hdC5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGVudDogZmhpci5Eb2N1bWVudFJlZmVyZW5jZUNvbnRlbnRbXTtcclxuICAvKipcclxuICAgKiBUaGVzZSB2YWx1ZXMgYXJlIHByaW1hcmlseSBhZGRlZCB0byBoZWxwIHdpdGggc2VhcmNoaW5nIGZvciBpbnRlcmVzdGluZy9yZWxldmFudCBkb2N1bWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRleHQ/OiBmaGlyLkRvY3VtZW50UmVmZXJlbmNlQ29udGV4dHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRG9jdW1lbnRSZWZlcmVuY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxEb2N1bWVudFJlZmVyZW5jZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdEb2N1bWVudFJlZmVyZW5jZSc7XHJcbiAgICBpZiAoc291cmNlWydtYXN0ZXJJZGVudGlmaWVyJ10pIHsgdGhpcy5tYXN0ZXJJZGVudGlmaWVyID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UubWFzdGVySWRlbnRpZmllcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8RG9jdW1lbnRSZWZlcmVuY2VTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8RG9jdW1lbnRSZWZlcmVuY2VTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RvY1N0YXR1cyddKSB7IHRoaXMuZG9jU3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Q29tcG9zaXRpb25TdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuZG9jU3RhdHVzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kb2NTdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5kb2NTdGF0dXMpIHsgdGhpcy5kb2NTdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZG9jU3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZG9jU3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Q29tcG9zaXRpb25TdGF0dXNDb2RlVHlwZT4oc291cmNlLl9kb2NTdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xhc3MnXSkgeyB0aGlzLmNsYXNzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jbGFzcyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YmplY3QnXSkgeyB0aGlzLnN1YmplY3QgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnN1YmplY3QpOyB9XHJcbiAgICBpZiAoc291cmNlWydjcmVhdGVkJ10pIHsgdGhpcy5jcmVhdGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmNyZWF0ZWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NyZWF0ZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5jcmVhdGVkKSB7IHRoaXMuY3JlYXRlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jcmVhdGVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY3JlYXRlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2NyZWF0ZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5kZXhlZCddKSB7IHRoaXMuaW5kZXhlZCA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHt2YWx1ZTogc291cmNlLmluZGV4ZWR9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW5kZXhlZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbmRleGVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaW5kZXhlZCkgeyB0aGlzLmluZGV4ZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faW5kZXhlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmluZGV4ZWQgPSBuZXcgZmhpci5GaGlySW5zdGFudChzb3VyY2UuX2luZGV4ZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnN0YW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdXRob3InXSkgeyB0aGlzLmF1dGhvciA9IHNvdXJjZS5hdXRob3IubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hdXRob3IgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXV0aGVudGljYXRvciddKSB7IHRoaXMuYXV0aGVudGljYXRvciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuYXV0aGVudGljYXRvcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2N1c3RvZGlhbiddKSB7IHRoaXMuY3VzdG9kaWFuID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5jdXN0b2RpYW4pOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGVzVG8nXSkgeyB0aGlzLnJlbGF0ZXNUbyA9IHNvdXJjZS5yZWxhdGVzVG8ubWFwKCh4KSA9PiBuZXcgZmhpci5Eb2N1bWVudFJlZmVyZW5jZVJlbGF0ZXNUbyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlbGF0ZXNUbyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VjdXJpdHlMYWJlbCddKSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IHNvdXJjZS5zZWN1cml0eUxhYmVsLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250ZW50J10pIHsgdGhpcy5jb250ZW50ID0gc291cmNlLmNvbnRlbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Eb2N1bWVudFJlZmVyZW5jZUNvbnRlbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250ZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRleHQnXSkgeyB0aGlzLmNvbnRleHQgPSBuZXcgZmhpci5Eb2N1bWVudFJlZmVyZW5jZUNvbnRleHQoc291cmNlLmNvbnRleHQpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnRG9jdW1lbnRSZWZlcmVuY2UnIH1cclxuICAgIHRoaXMudlJTKCdyZXNvdXJjZVR5cGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdtYXN0ZXJJZGVudGlmaWVyJyxleHApXHJcbiAgICB0aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnRG9jdW1lbnRSZWZlcmVuY2VTdGF0dXMnLERvY3VtZW50UmVmZXJlbmNlU3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TVignZG9jU3RhdHVzJyxleHAsJ0NvbXBvc2l0aW9uU3RhdHVzJyxDb21wb3NpdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZSUygndHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NsYXNzJyxleHApXHJcbiAgICB0aGlzLnZPUygnc3ViamVjdCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NyZWF0ZWQnLGV4cClcclxuICAgIHRoaXMudlJTKCdpbmRleGVkJyxleHApXHJcbiAgICB0aGlzLnZPQSgnYXV0aG9yJyxleHApXHJcbiAgICB0aGlzLnZPUygnYXV0aGVudGljYXRvcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2N1c3RvZGlhbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3JlbGF0ZXNUbycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPQSgnc2VjdXJpdHlMYWJlbCcsZXhwKVxyXG4gICAgdGhpcy52UkEoJ2NvbnRlbnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdjb250ZXh0JyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=