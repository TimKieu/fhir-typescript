// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: GuidanceResponse
import * as fhir from '../fhir.js';
// @ts-ignore
import { GuidanceResponseStatusVsValidation } from '../fhirValueSets/GuidanceResponseStatusVsValidation.js';
/**
 * A guidance response is the formal response to a guidance request, including any output parameters returned by the evaluation, as well as the description of any proposed actions to be taken.
 */
export class GuidanceResponse extends fhir.DomainResource {
    /**
     * Default constructor for GuidanceResponse - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'GuidanceResponse';
        if (source['requestId']) {
            this.requestId = new fhir.FhirId({ value: source.requestId });
        }
        if (source['_requestId']) {
            if (this.requestId) {
                this.requestId.addExtendedProperties(source._requestId);
            }
            else {
                this.requestId = new fhir.FhirId(source._requestId);
            }
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['module']) {
            this.module = new fhir.Reference(source.module);
        }
        else {
            this.module = null;
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['context']) {
            this.context = new fhir.Reference(source.context);
        }
        if (source['occurrenceDateTime']) {
            this.occurrenceDateTime = new fhir.FhirDateTime({ value: source.occurrenceDateTime });
        }
        if (source['_occurrenceDateTime']) {
            if (this.occurrenceDateTime) {
                this.occurrenceDateTime.addExtendedProperties(source._occurrenceDateTime);
            }
            else {
                this.occurrenceDateTime = new fhir.FhirDateTime(source._occurrenceDateTime);
            }
        }
        if (source['performer']) {
            this.performer = new fhir.Reference(source.performer);
        }
        if (source['reason']) {
            this.reason = source.reason;
        }
        else if (source['reasonCodeableConcept']) {
            this.reason = new fhir.CodeableConcept(source.reasonCodeableConcept);
        }
        else if (source['reasonReference']) {
            this.reason = new fhir.Reference(source.reasonReference);
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['evaluationMessage']) {
            this.evaluationMessage = source.evaluationMessage.map((x) => new fhir.Reference(x));
        }
        else {
            this.evaluationMessage = [];
        }
        if (source['outputParameters']) {
            this.outputParameters = new fhir.Reference(source.outputParameters);
        }
        if (source['result']) {
            this.result = new fhir.Reference(source.result);
        }
        if (source['dataRequirement']) {
            this.dataRequirement = source.dataRequirement.map((x) => new fhir.DataRequirement(x));
        }
        else {
            this.dataRequirement = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'GuidanceResponse';
        }
        this.vRS('resourceType', exp);
        this.vOS('requestId', exp);
        this.vOS('identifier', exp);
        this.vRS('module', exp);
        this.vRSV('status', exp, 'GuidanceResponseStatus', GuidanceResponseStatusVsValidation, 'r');
        this.vOS('subject', exp);
        this.vOS('context', exp);
        this.vOS('occurrenceDateTime', exp);
        this.vOS('performer', exp);
        this.vOS('reason', exp);
        this.vOA('note', exp);
        this.vOA('evaluationMessage', exp);
        this.vOS('outputParameters', exp);
        this.vOS('result', exp);
        this.vOA('dataRequirement', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
GuidanceResponse._fts_dataType = 'GuidanceResponse';
/**
 * Internal flag to properly serialize choice-type element GuidanceResponse.reason[x]
 */
GuidanceResponse._fts_reasonIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3VpZGFuY2VSZXNwb25zZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvR3VpZGFuY2VSZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFFbEMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBdUY1Rzs7R0FFRztBQUNILE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxJQUFJLENBQUMsY0FBYztJQXFFdkQ7O09BRUc7SUFDSCxZQUFZLFNBQXVDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzdGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksR0FBRyxrQkFBa0IsQ0FBQztRQUN2QyxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDekYsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFVBQVcsQ0FBQyxDQUFDO2FBQUU7aUJBQzVFO2dCQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFzQyxDQUFDLENBQUM7YUFBRTtTQUMxRjtRQUNELElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQUU7UUFDdkYsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7U0FBRTthQUNyRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBaUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTthQUM3RztZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUFFLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLE9BQVEsQ0FBQyxDQUFDO2FBQUU7aUJBQ25FO2dCQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFpQyxNQUFNLENBQUMsT0FBaUMsQ0FBQyxDQUFDO2FBQUU7U0FDcEg7UUFDRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQzdFLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDN0UsSUFBSSxNQUFNLENBQUMsb0JBQW9CLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLGtCQUFrQixFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzFILElBQUksTUFBTSxDQUFDLHFCQUFxQixDQUFDLEVBQUU7WUFDakMsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxtQkFBb0IsQ0FBQyxDQUFDO2FBQUU7aUJBQ3ZHO2dCQUFFLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLG1CQUFxRCxDQUFDLENBQUM7YUFBRTtTQUN4SDtRQUNELElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7UUFDbkYsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7U0FBRTthQUNqRCxJQUFJLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUM7U0FBRTthQUM5RyxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1NBQUU7UUFDakcsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzlFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUN4QixJQUFJLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDcEg7WUFBRSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDckMsSUFBSSxNQUFNLENBQUMsa0JBQWtCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FBRTtRQUN4RyxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUFFO1FBQzFFLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3BIO1lBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7U0FBRTtJQUNyQyxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxRCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFBRSxHQUFHLEdBQUcsa0JBQWtCLENBQUE7U0FBRTtRQUM1QyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsd0JBQXdCLEVBQUMsa0NBQWtDLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2pDLElBQUksQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDaEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQWxJRDs7R0FFRztBQUM2Qiw4QkFBYSxHQUFVLGtCQUFrQixDQUFDO0FBeUMxRTs7R0FFRztBQUN1QixvQ0FBbUIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjMuY29yZSB2ZXJzaW9uOiAzLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IEd1aWRhbmNlUmVzcG9uc2VcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlcywgIEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvR3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBHdWlkYW5jZVJlc3BvbnNlU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9HdWlkYW5jZVJlc3BvbnNlU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEd1aWRhbmNlUmVzcG9uc2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgR3VpZGFuY2VSZXNwb25zZUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkd1aWRhbmNlUmVzcG9uc2VcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkIG9mIHRoZSByZXF1ZXN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJlc3BvbnNlLiBJZiBhbiBpZCB3YXMgZ2l2ZW4gYXMgcGFydCBvZiB0aGUgcmVxdWVzdCwgaXQgd2lsbCBiZSByZXByb2R1Y2VkIGhlcmUgdG8gZW5hYmxlIHRoZSByZXF1ZXN0ZXIgdG8gbW9yZSBlYXNpbHkgaWRlbnRpZnkgdGhlIHJlc3BvbnNlIGluIGEgbXVsdGktcmVxdWVzdCBzY2VuYXJpby5cclxuICAgKi9cclxuICByZXF1ZXN0SWQ/OiBmaGlyLkZoaXJJZHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBHdWlkYW5jZVJlc3BvbnNlLnJlcXVlc3RJZFxyXG4gICAqL1xyXG4gIF9yZXF1ZXN0SWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBhIHNlcnZpY2UgdG8gcHJvdmlkZSBhIHVuaXF1ZSwgYnVzaW5lc3MgaWRlbnRpZmllciBmb3IgdGhlIHJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSB0byB0aGUga25vd2xlZGdlIG1vZHVsZSB0aGF0IHdhcyBpbnZva2VkLlxyXG4gICAqL1xyXG4gIG1vZHVsZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxHdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEd1aWRhbmNlUmVzcG9uc2Uuc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGllbnQgZm9yIHdoaWNoIHRoZSByZXF1ZXN0IHdhcyBwcm9jZXNzZWQuXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIHRoZSBjb250ZXh0IG9mIHRoZSBndWlkYW5jZSByZXNwb25zZSB0byBiZSBwcm92aWRlZCBpZiBhdmFpbGFibGUuIEluIGEgc2VydmljZSBjb250ZXh0LCB0aGlzIHdvdWxkIGxpa2VseSBiZSB1bmF2YWlsYWJsZS5cclxuICAgKi9cclxuICBjb250ZXh0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hlbiB0aGUgZ3VpZGFuY2UgcmVzcG9uc2Ugd2FzIHByb2Nlc3NlZC5cclxuICAgKi9cclxuICBvY2N1cnJlbmNlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBHdWlkYW5jZVJlc3BvbnNlLm9jY3VycmVuY2VEYXRlVGltZVxyXG4gICAqL1xyXG4gIF9vY2N1cnJlbmNlRGF0ZVRpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGEgcmVmZXJlbmNlIHRvIHRoZSBkZXZpY2UgdGhhdCBwZXJmb3JtZWQgdGhlIGd1aWRhbmNlLlxyXG4gICAqL1xyXG4gIHBlcmZvcm1lcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSByZWFzb24gdGhlIHJlcXVlc3Qgd2FzIGluaXRpYXRlZC4gVGhpcyBpcyB0eXBpY2FsbHkgcHJvdmlkZWQgYXMgYSBwYXJhbWV0ZXIgdG8gdGhlIGV2YWx1YXRpb24gYW5kIGVjaG9lZCBieSB0aGUgc2VydmljZSwgYWx0aG91Z2ggZm9yIHNvbWUgdXNlIGNhc2VzLCBzdWNoIGFzIHN1YnNjcmlwdGlvbi0gb3IgZXZlbnQtYmFzZWQgc2NlbmFyaW9zLCBpdCBtYXkgcHJvdmlkZSBhbiBpbmRpY2F0aW9uIG9mIHRoZSBjYXVzZSBmb3IgdGhlIHJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIHJlYXNvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHJlYXNvbiB0aGUgcmVxdWVzdCB3YXMgaW5pdGlhdGVkLiBUaGlzIGlzIHR5cGljYWxseSBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciB0byB0aGUgZXZhbHVhdGlvbiBhbmQgZWNob2VkIGJ5IHRoZSBzZXJ2aWNlLCBhbHRob3VnaCBmb3Igc29tZSB1c2UgY2FzZXMsIHN1Y2ggYXMgc3Vic2NyaXB0aW9uLSBvciBldmVudC1iYXNlZCBzY2VuYXJpb3MsIGl0IG1heSBwcm92aWRlIGFuIGluZGljYXRpb24gb2YgdGhlIGNhdXNlIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcmVhc29uQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHJlYXNvbiB0aGUgcmVxdWVzdCB3YXMgaW5pdGlhdGVkLiBUaGlzIGlzIHR5cGljYWxseSBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciB0byB0aGUgZXZhbHVhdGlvbiBhbmQgZWNob2VkIGJ5IHRoZSBzZXJ2aWNlLCBhbHRob3VnaCBmb3Igc29tZSB1c2UgY2FzZXMsIHN1Y2ggYXMgc3Vic2NyaXB0aW9uLSBvciBldmVudC1iYXNlZCBzY2VuYXJpb3MsIGl0IG1heSBwcm92aWRlIGFuIGluZGljYXRpb24gb2YgdGhlIGNhdXNlIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcmVhc29uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcm92aWRlcyBhIG1lY2hhbmlzbSB0byBjb21tdW5pY2F0ZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNZXNzYWdlcyByZXN1bHRpbmcgZnJvbSB0aGUgZXZhbHVhdGlvbiBvZiB0aGUgYXJ0aWZhY3Qgb3IgYXJ0aWZhY3RzLiBBcyBwYXJ0IG9mIGV2YWx1YXRpbmcgdGhlIHJlcXVlc3QsIHRoZSBlbmdpbmUgbWF5IHByb2R1Y2UgaW5mb3JtYXRpb25hbCBvciB3YXJuaW5nIG1lc3NhZ2VzLiBUaGVzZSBtZXNzYWdlcyB3aWxsIGJlIHByb3ZpZGVkIGJ5IHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBldmFsdWF0aW9uTWVzc2FnZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3V0cHV0IHBhcmFtZXRlcnMgb2YgdGhlIGV2YWx1YXRpb24sIGlmIGFueS4gTWFueSBtb2R1bGVzIHdpbGwgcmVzdWx0IGluIHRoZSByZXR1cm4gb2Ygc3BlY2lmaWMgcmVzb3VyY2VzIHN1Y2ggYXMgcHJvY2VkdXJlIG9yIGNvbW11bmljYXRpb24gcmVxdWVzdHMgdGhhdCBhcmUgcmV0dXJuZWQgYXMgcGFydCBvZiB0aGUgb3BlcmF0aW9uIHJlc3VsdC4gSG93ZXZlciwgbW9kdWxlcyBtYXkgZGVmaW5lIHNwZWNpZmljIG91dHB1dHMgdGhhdCB3b3VsZCBiZSByZXR1cm5lZCBhcyB0aGUgcmVzdWx0IG9mIHRoZSBldmFsdWF0aW9uLCBhbmQgdGhlc2Ugd291bGQgYmUgcmV0dXJuZWQgaW4gdGhpcyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIG91dHB1dFBhcmFtZXRlcnM/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3Rpb25zLCBpZiBhbnksIHByb2R1Y2VkIGJ5IHRoZSBldmFsdWF0aW9uIG9mIHRoZSBhcnRpZmFjdC5cclxuICAgKi9cclxuICByZXN1bHQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBldmFsdWF0aW9uIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQgZHVlIHRvIGxhY2sgb2YgaW5mb3JtYXRpb24sIG9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gd291bGQgcG90ZW50aWFsbHkgcmVzdWx0IGluIGEgbW9yZSBhY2N1cmF0ZSByZXNwb25zZSwgdGhpcyBlbGVtZW50IHdpbGwgYSBkZXNjcmlwdGlvbiBvZiB0aGUgZGF0YSByZXF1aXJlZCBpbiBvcmRlciB0byBwcm9jZWVkIHdpdGggdGhlIGV2YWx1YXRpb24uIEEgc3Vic2VxdWVudCByZXF1ZXN0IHRvIHRoZSBzZXJ2aWNlIHNob3VsZCBpbmNsdWRlIHRoaXMgZGF0YS5cclxuICAgKi9cclxuICBkYXRhUmVxdWlyZW1lbnQ/OiBmaGlyLkRhdGFSZXF1aXJlbWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGd1aWRhbmNlIHJlc3BvbnNlIGlzIHRoZSBmb3JtYWwgcmVzcG9uc2UgdG8gYSBndWlkYW5jZSByZXF1ZXN0LCBpbmNsdWRpbmcgYW55IG91dHB1dCBwYXJhbWV0ZXJzIHJldHVybmVkIGJ5IHRoZSBldmFsdWF0aW9uLCBhcyB3ZWxsIGFzIHRoZSBkZXNjcmlwdGlvbiBvZiBhbnkgcHJvcG9zZWQgYWN0aW9ucyB0byBiZSB0YWtlbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBHdWlkYW5jZVJlc3BvbnNlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdHdWlkYW5jZVJlc3BvbnNlJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIkd1aWRhbmNlUmVzcG9uc2VcIjtcclxuICAvKipcclxuICAgKiBUaGUgaWQgb2YgdGhlIHJlcXVlc3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVzcG9uc2UuIElmIGFuIGlkIHdhcyBnaXZlbiBhcyBwYXJ0IG9mIHRoZSByZXF1ZXN0LCBpdCB3aWxsIGJlIHJlcHJvZHVjZWQgaGVyZSB0byBlbmFibGUgdGhlIHJlcXVlc3RlciB0byBtb3JlIGVhc2lseSBpZGVudGlmeSB0aGUgcmVzcG9uc2UgaW4gYSBtdWx0aS1yZXF1ZXN0IHNjZW5hcmlvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0SWQ/OiBmaGlyLkZoaXJJZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGEgc2VydmljZSB0byBwcm92aWRlIGEgdW5pcXVlLCBidXNpbmVzcyBpZGVudGlmaWVyIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBrbm93bGVkZ2UgbW9kdWxlIHRoYXQgd2FzIGludm9rZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZHVsZTogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxHdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGllbnQgZm9yIHdoaWNoIHRoZSByZXF1ZXN0IHdhcyBwcm9jZXNzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIHRoZSBjb250ZXh0IG9mIHRoZSBndWlkYW5jZSByZXNwb25zZSB0byBiZSBwcm92aWRlZCBpZiBhdmFpbGFibGUuIEluIGEgc2VydmljZSBjb250ZXh0LCB0aGlzIHdvdWxkIGxpa2VseSBiZSB1bmF2YWlsYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGV4dD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hlbiB0aGUgZ3VpZGFuY2UgcmVzcG9uc2Ugd2FzIHByb2Nlc3NlZC5cclxuICAgKi9cclxuICBwdWJsaWMgb2NjdXJyZW5jZURhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGEgcmVmZXJlbmNlIHRvIHRoZSBkZXZpY2UgdGhhdCBwZXJmb3JtZWQgdGhlIGd1aWRhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJmb3JtZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSByZWFzb24gdGhlIHJlcXVlc3Qgd2FzIGluaXRpYXRlZC4gVGhpcyBpcyB0eXBpY2FsbHkgcHJvdmlkZWQgYXMgYSBwYXJhbWV0ZXIgdG8gdGhlIGV2YWx1YXRpb24gYW5kIGVjaG9lZCBieSB0aGUgc2VydmljZSwgYWx0aG91Z2ggZm9yIHNvbWUgdXNlIGNhc2VzLCBzdWNoIGFzIHN1YnNjcmlwdGlvbi0gb3IgZXZlbnQtYmFzZWQgc2NlbmFyaW9zLCBpdCBtYXkgcHJvdmlkZSBhbiBpbmRpY2F0aW9uIG9mIHRoZSBjYXVzZSBmb3IgdGhlIHJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb24/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEd1aWRhbmNlUmVzcG9uc2UucmVhc29uW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3JlYXNvbklzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGEgbWVjaGFuaXNtIHRvIGNvbW11bmljYXRlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlOiBmaGlyLkFubm90YXRpb25bXTtcclxuICAvKipcclxuICAgKiBNZXNzYWdlcyByZXN1bHRpbmcgZnJvbSB0aGUgZXZhbHVhdGlvbiBvZiB0aGUgYXJ0aWZhY3Qgb3IgYXJ0aWZhY3RzLiBBcyBwYXJ0IG9mIGV2YWx1YXRpbmcgdGhlIHJlcXVlc3QsIHRoZSBlbmdpbmUgbWF5IHByb2R1Y2UgaW5mb3JtYXRpb25hbCBvciB3YXJuaW5nIG1lc3NhZ2VzLiBUaGVzZSBtZXNzYWdlcyB3aWxsIGJlIHByb3ZpZGVkIGJ5IHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZXZhbHVhdGlvbk1lc3NhZ2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG91dHB1dCBwYXJhbWV0ZXJzIG9mIHRoZSBldmFsdWF0aW9uLCBpZiBhbnkuIE1hbnkgbW9kdWxlcyB3aWxsIHJlc3VsdCBpbiB0aGUgcmV0dXJuIG9mIHNwZWNpZmljIHJlc291cmNlcyBzdWNoIGFzIHByb2NlZHVyZSBvciBjb21tdW5pY2F0aW9uIHJlcXVlc3RzIHRoYXQgYXJlIHJldHVybmVkIGFzIHBhcnQgb2YgdGhlIG9wZXJhdGlvbiByZXN1bHQuIEhvd2V2ZXIsIG1vZHVsZXMgbWF5IGRlZmluZSBzcGVjaWZpYyBvdXRwdXRzIHRoYXQgd291bGQgYmUgcmV0dXJuZWQgYXMgdGhlIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiwgYW5kIHRoZXNlIHdvdWxkIGJlIHJldHVybmVkIGluIHRoaXMgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgb3V0cHV0UGFyYW1ldGVycz86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYWN0aW9ucywgaWYgYW55LCBwcm9kdWNlZCBieSB0aGUgZXZhbHVhdGlvbiBvZiB0aGUgYXJ0aWZhY3QuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc3VsdD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgZXZhbHVhdGlvbiBjb3VsZCBub3QgYmUgY29tcGxldGVkIGR1ZSB0byBsYWNrIG9mIGluZm9ybWF0aW9uLCBvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHdvdWxkIHBvdGVudGlhbGx5IHJlc3VsdCBpbiBhIG1vcmUgYWNjdXJhdGUgcmVzcG9uc2UsIHRoaXMgZWxlbWVudCB3aWxsIGEgZGVzY3JpcHRpb24gb2YgdGhlIGRhdGEgcmVxdWlyZWQgaW4gb3JkZXIgdG8gcHJvY2VlZCB3aXRoIHRoZSBldmFsdWF0aW9uLiBBIHN1YnNlcXVlbnQgcmVxdWVzdCB0byB0aGUgc2VydmljZSBzaG91bGQgaW5jbHVkZSB0aGlzIGRhdGEuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGFSZXF1aXJlbWVudDogZmhpci5EYXRhUmVxdWlyZW1lbnRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBHdWlkYW5jZVJlc3BvbnNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8R3VpZGFuY2VSZXNwb25zZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdHdWlkYW5jZVJlc3BvbnNlJztcclxuICAgIGlmIChzb3VyY2VbJ3JlcXVlc3RJZCddKSB7IHRoaXMucmVxdWVzdElkID0gbmV3IGZoaXIuRmhpcklkKHt2YWx1ZTogc291cmNlLnJlcXVlc3RJZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVxdWVzdElkJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVxdWVzdElkKSB7IHRoaXMucmVxdWVzdElkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlcXVlc3RJZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlcXVlc3RJZCA9IG5ldyBmaGlyLkZoaXJJZChzb3VyY2UuX3JlcXVlc3RJZCBhcyBQYXJ0aWFsPGZoaXIuRmhpcklkQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UuaWRlbnRpZmllcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ21vZHVsZSddKSB7IHRoaXMubW9kdWxlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5tb2R1bGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb2R1bGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8R3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRleHQnXSkgeyB0aGlzLmNvbnRleHQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNvbnRleHQpOyB9XHJcbiAgICBpZiAoc291cmNlWydvY2N1cnJlbmNlRGF0ZVRpbWUnXSkgeyB0aGlzLm9jY3VycmVuY2VEYXRlVGltZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5vY2N1cnJlbmNlRGF0ZVRpbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX29jY3VycmVuY2VEYXRlVGltZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm9jY3VycmVuY2VEYXRlVGltZSkgeyB0aGlzLm9jY3VycmVuY2VEYXRlVGltZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9vY2N1cnJlbmNlRGF0ZVRpbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vY2N1cnJlbmNlRGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9vY2N1cnJlbmNlRGF0ZVRpbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyZm9ybWVyJ10pIHsgdGhpcy5wZXJmb3JtZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBlcmZvcm1lcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbiddKSB7IHRoaXMucmVhc29uID0gc291cmNlLnJlYXNvbjsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydyZWFzb25Db2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLnJlYXNvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucmVhc29uQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydyZWFzb25SZWZlcmVuY2UnXSkgeyB0aGlzLnJlYXNvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVhc29uUmVmZXJlbmNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IHNvdXJjZS5ub3RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQW5ub3RhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXZhbHVhdGlvbk1lc3NhZ2UnXSkgeyB0aGlzLmV2YWx1YXRpb25NZXNzYWdlID0gc291cmNlLmV2YWx1YXRpb25NZXNzYWdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXZhbHVhdGlvbk1lc3NhZ2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0cHV0UGFyYW1ldGVycyddKSB7IHRoaXMub3V0cHV0UGFyYW1ldGVycyA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3V0cHV0UGFyYW1ldGVycyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc3VsdCddKSB7IHRoaXMucmVzdWx0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZXN1bHQpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRhUmVxdWlyZW1lbnQnXSkgeyB0aGlzLmRhdGFSZXF1aXJlbWVudCA9IHNvdXJjZS5kYXRhUmVxdWlyZW1lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5EYXRhUmVxdWlyZW1lbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRhUmVxdWlyZW1lbnQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0d1aWRhbmNlUmVzcG9uc2UnIH1cclxuICAgIHRoaXMudlJTKCdyZXNvdXJjZVR5cGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdyZXF1ZXN0SWQnLGV4cClcclxuICAgIHRoaXMudk9TKCdpZGVudGlmaWVyJyxleHApXHJcbiAgICB0aGlzLnZSUygnbW9kdWxlJyxleHApXHJcbiAgICB0aGlzLnZSU1YoJ3N0YXR1cycsZXhwLCdHdWlkYW5jZVJlc3BvbnNlU3RhdHVzJyxHdWlkYW5jZVJlc3BvbnNlU3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdzdWJqZWN0JyxleHApXHJcbiAgICB0aGlzLnZPUygnY29udGV4dCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ29jY3VycmVuY2VEYXRlVGltZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3BlcmZvcm1lcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3JlYXNvbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ25vdGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdldmFsdWF0aW9uTWVzc2FnZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ291dHB1dFBhcmFtZXRlcnMnLGV4cClcclxuICAgIHRoaXMudk9TKCdyZXN1bHQnLGV4cClcclxuICAgIHRoaXMudk9BKCdkYXRhUmVxdWlyZW1lbnQnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==