// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: GuidanceResponse
import * as fhir from '../fhir.js';
// @ts-ignore
import { GuidanceResponseStatusVsValidation } from '../fhirValueSets/GuidanceResponseStatusVsValidation.js';
/**
 * A guidance response is the formal response to a guidance request, including any output parameters returned by the evaluation, as well as the description of any proposed actions to be taken.
 */
export class GuidanceResponse extends fhir.DomainResource {
    /**
     * Default constructor for GuidanceResponse - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'GuidanceResponse';
        if (source['requestId']) {
            this.requestId = new fhir.FhirId({ value: source.requestId });
        }
        if (source['_requestId']) {
            if (this.requestId) {
                this.requestId.addExtendedProperties(source._requestId);
            }
            else {
                this.requestId = new fhir.FhirId(source._requestId);
            }
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['module']) {
            this.module = new fhir.Reference(source.module);
        }
        else {
            this.module = null;
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['context']) {
            this.context = new fhir.Reference(source.context);
        }
        if (source['occurrenceDateTime']) {
            this.occurrenceDateTime = new fhir.FhirDateTime({ value: source.occurrenceDateTime });
        }
        if (source['_occurrenceDateTime']) {
            if (this.occurrenceDateTime) {
                this.occurrenceDateTime.addExtendedProperties(source._occurrenceDateTime);
            }
            else {
                this.occurrenceDateTime = new fhir.FhirDateTime(source._occurrenceDateTime);
            }
        }
        if (source['performer']) {
            this.performer = new fhir.Reference(source.performer);
        }
        if (source['reason']) {
            this.reason = source.reason;
        }
        else if (source['reasonCodeableConcept']) {
            this.reason = new fhir.CodeableConcept(source.reasonCodeableConcept);
        }
        else if (source['reasonReference']) {
            this.reason = new fhir.Reference(source.reasonReference);
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['evaluationMessage']) {
            this.evaluationMessage = source.evaluationMessage.map((x) => new fhir.Reference(x));
        }
        else {
            this.evaluationMessage = [];
        }
        if (source['outputParameters']) {
            this.outputParameters = new fhir.Reference(source.outputParameters);
        }
        if (source['result']) {
            this.result = new fhir.Reference(source.result);
        }
        if (source['dataRequirement']) {
            this.dataRequirement = source.dataRequirement.map((x) => new fhir.DataRequirement(x));
        }
        else {
            this.dataRequirement = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'GuidanceResponse';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOS('requestId', exp));
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vRS('module', exp));
        iss.push(...this.vRSV('status', exp, 'GuidanceResponseStatus', GuidanceResponseStatusVsValidation, 'r'));
        iss.push(...this.vOS('subject', exp));
        iss.push(...this.vOS('context', exp));
        iss.push(...this.vOS('occurrenceDateTime', exp));
        iss.push(...this.vOS('performer', exp));
        iss.push(...this.vOS('reason', exp));
        iss.push(...this.vOA('note', exp));
        iss.push(...this.vOA('evaluationMessage', exp));
        iss.push(...this.vOS('outputParameters', exp));
        iss.push(...this.vOS('result', exp));
        iss.push(...this.vOA('dataRequirement', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
GuidanceResponse._fts_dataType = 'GuidanceResponse';
/**
 * Internal flag to properly serialize choice-type element GuidanceResponse.reason[x]
 */
GuidanceResponse._fts_reasonIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3VpZGFuY2VSZXNwb25zZS5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvR3VpZGFuY2VSZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFFbEMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBdUY1Rzs7R0FFRztBQUNILE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxJQUFJLENBQUMsY0FBYztJQXFFdkQ7O09BRUc7SUFDSCxZQUFZLFNBQXVDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzdGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksR0FBRyxrQkFBa0IsQ0FBQztRQUN2QyxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUMsQ0FBQyxDQUFDO1NBQUU7UUFDekYsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLFVBQVcsQ0FBQyxDQUFDO2FBQUU7aUJBQzVFO2dCQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFzQyxDQUFDLENBQUM7YUFBRTtTQUMxRjtRQUNELElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENB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QUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9DLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDOUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3QyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBbElEOztHQUVHO0FBQzZCLDhCQUFhLEdBQVUsa0JBQWtCLENBQUM7QUF5QzFFOztHQUVHO0FBQ3VCLG9DQUFtQixHQUFRLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yMy5jb3JlIHZlcnNpb246IDMuMC4yXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogR3VpZGFuY2VSZXNwb25zZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgR3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVzLCAgR3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9HdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0d1aWRhbmNlUmVzcG9uc2VTdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgR3VpZGFuY2VSZXNwb25zZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBHdWlkYW5jZVJlc3BvbnNlQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiR3VpZGFuY2VSZXNwb25zZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaWQgb2YgdGhlIHJlcXVlc3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVzcG9uc2UuIElmIGFuIGlkIHdhcyBnaXZlbiBhcyBwYXJ0IG9mIHRoZSByZXF1ZXN0LCBpdCB3aWxsIGJlIHJlcHJvZHVjZWQgaGVyZSB0byBlbmFibGUgdGhlIHJlcXVlc3RlciB0byBtb3JlIGVhc2lseSBpZGVudGlmeSB0aGUgcmVzcG9uc2UgaW4gYSBtdWx0aS1yZXF1ZXN0IHNjZW5hcmlvLlxyXG4gICAqL1xyXG4gIHJlcXVlc3RJZD86IGZoaXIuRmhpcklkfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEd1aWRhbmNlUmVzcG9uc2UucmVxdWVzdElkXHJcbiAgICovXHJcbiAgX3JlcXVlc3RJZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIGEgc2VydmljZSB0byBwcm92aWRlIGEgdW5pcXVlLCBidXNpbmVzcyBpZGVudGlmaWVyIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBrbm93bGVkZ2UgbW9kdWxlIHRoYXQgd2FzIGludm9rZWQuXHJcbiAgICovXHJcbiAgbW9kdWxlOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogR3VpZGFuY2VSZXNwb25zZS5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcGF0aWVudCBmb3Igd2hpY2ggdGhlIHJlcXVlc3Qgd2FzIHByb2Nlc3NlZC5cclxuICAgKi9cclxuICBzdWJqZWN0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgdGhlIGNvbnRleHQgb2YgdGhlIGd1aWRhbmNlIHJlc3BvbnNlIHRvIGJlIHByb3ZpZGVkIGlmIGF2YWlsYWJsZS4gSW4gYSBzZXJ2aWNlIGNvbnRleHQsIHRoaXMgd291bGQgbGlrZWx5IGJlIHVuYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIGNvbnRleHQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGVuIHRoZSBndWlkYW5jZSByZXNwb25zZSB3YXMgcHJvY2Vzc2VkLlxyXG4gICAqL1xyXG4gIG9jY3VycmVuY2VEYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEd1aWRhbmNlUmVzcG9uc2Uub2NjdXJyZW5jZURhdGVUaW1lXHJcbiAgICovXHJcbiAgX29jY3VycmVuY2VEYXRlVGltZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYSByZWZlcmVuY2UgdG8gdGhlIGRldmljZSB0aGF0IHBlcmZvcm1lZCB0aGUgZ3VpZGFuY2UuXHJcbiAgICovXHJcbiAgcGVyZm9ybWVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHJlYXNvbiB0aGUgcmVxdWVzdCB3YXMgaW5pdGlhdGVkLiBUaGlzIGlzIHR5cGljYWxseSBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciB0byB0aGUgZXZhbHVhdGlvbiBhbmQgZWNob2VkIGJ5IHRoZSBzZXJ2aWNlLCBhbHRob3VnaCBmb3Igc29tZSB1c2UgY2FzZXMsIHN1Y2ggYXMgc3Vic2NyaXB0aW9uLSBvciBldmVudC1iYXNlZCBzY2VuYXJpb3MsIGl0IG1heSBwcm92aWRlIGFuIGluZGljYXRpb24gb2YgdGhlIGNhdXNlIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgcmVhc29uIHRoZSByZXF1ZXN0IHdhcyBpbml0aWF0ZWQuIFRoaXMgaXMgdHlwaWNhbGx5IHByb3ZpZGVkIGFzIGEgcGFyYW1ldGVyIHRvIHRoZSBldmFsdWF0aW9uIGFuZCBlY2hvZWQgYnkgdGhlIHNlcnZpY2UsIGFsdGhvdWdoIGZvciBzb21lIHVzZSBjYXNlcywgc3VjaCBhcyBzdWJzY3JpcHRpb24tIG9yIGV2ZW50LWJhc2VkIHNjZW5hcmlvcywgaXQgbWF5IHByb3ZpZGUgYW4gaW5kaWNhdGlvbiBvZiB0aGUgY2F1c2UgZm9yIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICByZWFzb25Db2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgcmVhc29uIHRoZSByZXF1ZXN0IHdhcyBpbml0aWF0ZWQuIFRoaXMgaXMgdHlwaWNhbGx5IHByb3ZpZGVkIGFzIGEgcGFyYW1ldGVyIHRvIHRoZSBldmFsdWF0aW9uIGFuZCBlY2hvZWQgYnkgdGhlIHNlcnZpY2UsIGFsdGhvdWdoIGZvciBzb21lIHVzZSBjYXNlcywgc3VjaCBhcyBzdWJzY3JpcHRpb24tIG9yIGV2ZW50LWJhc2VkIHNjZW5hcmlvcywgaXQgbWF5IHByb3ZpZGUgYW4gaW5kaWNhdGlvbiBvZiB0aGUgY2F1c2UgZm9yIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICByZWFzb25SZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGEgbWVjaGFuaXNtIHRvIGNvbW11bmljYXRlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlc3BvbnNlLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkFubm90YXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1lc3NhZ2VzIHJlc3VsdGluZyBmcm9tIHRoZSBldmFsdWF0aW9uIG9mIHRoZSBhcnRpZmFjdCBvciBhcnRpZmFjdHMuIEFzIHBhcnQgb2YgZXZhbHVhdGluZyB0aGUgcmVxdWVzdCwgdGhlIGVuZ2luZSBtYXkgcHJvZHVjZSBpbmZvcm1hdGlvbmFsIG9yIHdhcm5pbmcgbWVzc2FnZXMuIFRoZXNlIG1lc3NhZ2VzIHdpbGwgYmUgcHJvdmlkZWQgYnkgdGhpcyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIGV2YWx1YXRpb25NZXNzYWdlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvdXRwdXQgcGFyYW1ldGVycyBvZiB0aGUgZXZhbHVhdGlvbiwgaWYgYW55LiBNYW55IG1vZHVsZXMgd2lsbCByZXN1bHQgaW4gdGhlIHJldHVybiBvZiBzcGVjaWZpYyByZXNvdXJjZXMgc3VjaCBhcyBwcm9jZWR1cmUgb3IgY29tbXVuaWNhdGlvbiByZXF1ZXN0cyB0aGF0IGFyZSByZXR1cm5lZCBhcyBwYXJ0IG9mIHRoZSBvcGVyYXRpb24gcmVzdWx0LiBIb3dldmVyLCBtb2R1bGVzIG1heSBkZWZpbmUgc3BlY2lmaWMgb3V0cHV0cyB0aGF0IHdvdWxkIGJlIHJldHVybmVkIGFzIHRoZSByZXN1bHQgb2YgdGhlIGV2YWx1YXRpb24sIGFuZCB0aGVzZSB3b3VsZCBiZSByZXR1cm5lZCBpbiB0aGlzIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgb3V0cHV0UGFyYW1ldGVycz86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFjdGlvbnMsIGlmIGFueSwgcHJvZHVjZWQgYnkgdGhlIGV2YWx1YXRpb24gb2YgdGhlIGFydGlmYWN0LlxyXG4gICAqL1xyXG4gIHJlc3VsdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGV2YWx1YXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZCBkdWUgdG8gbGFjayBvZiBpbmZvcm1hdGlvbiwgb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiB3b3VsZCBwb3RlbnRpYWxseSByZXN1bHQgaW4gYSBtb3JlIGFjY3VyYXRlIHJlc3BvbnNlLCB0aGlzIGVsZW1lbnQgd2lsbCBhIGRlc2NyaXB0aW9uIG9mIHRoZSBkYXRhIHJlcXVpcmVkIGluIG9yZGVyIHRvIHByb2NlZWQgd2l0aCB0aGUgZXZhbHVhdGlvbi4gQSBzdWJzZXF1ZW50IHJlcXVlc3QgdG8gdGhlIHNlcnZpY2Ugc2hvdWxkIGluY2x1ZGUgdGhpcyBkYXRhLlxyXG4gICAqL1xyXG4gIGRhdGFSZXF1aXJlbWVudD86IGZoaXIuRGF0YVJlcXVpcmVtZW50QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgZ3VpZGFuY2UgcmVzcG9uc2UgaXMgdGhlIGZvcm1hbCByZXNwb25zZSB0byBhIGd1aWRhbmNlIHJlcXVlc3QsIGluY2x1ZGluZyBhbnkgb3V0cHV0IHBhcmFtZXRlcnMgcmV0dXJuZWQgYnkgdGhlIGV2YWx1YXRpb24sIGFzIHdlbGwgYXMgdGhlIGRlc2NyaXB0aW9uIG9mIGFueSBwcm9wb3NlZCBhY3Rpb25zIHRvIGJlIHRha2VuLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEd1aWRhbmNlUmVzcG9uc2UgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0d1aWRhbmNlUmVzcG9uc2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiR3VpZGFuY2VSZXNwb25zZVwiO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZCBvZiB0aGUgcmVxdWVzdCBhc3NvY2lhdGVkIHdpdGggdGhpcyByZXNwb25zZS4gSWYgYW4gaWQgd2FzIGdpdmVuIGFzIHBhcnQgb2YgdGhlIHJlcXVlc3QsIGl0IHdpbGwgYmUgcmVwcm9kdWNlZCBoZXJlIHRvIGVuYWJsZSB0aGUgcmVxdWVzdGVyIHRvIG1vcmUgZWFzaWx5IGlkZW50aWZ5IHRoZSByZXNwb25zZSBpbiBhIG11bHRpLXJlcXVlc3Qgc2NlbmFyaW8uXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3RJZD86IGZoaXIuRmhpcklkfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgYSBzZXJ2aWNlIHRvIHByb3ZpZGUgYSB1bmlxdWUsIGJ1c2luZXNzIGlkZW50aWZpZXIgZm9yIHRoZSByZXNwb25zZS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWZlcmVuY2UgdG8gdGhlIGtub3dsZWRnZSBtb2R1bGUgdGhhdCB3YXMgaW52b2tlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kdWxlOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGF0aWVudCBmb3Igd2hpY2ggdGhlIHJlcXVlc3Qgd2FzIHByb2Nlc3NlZC5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbGxvd3MgdGhlIGNvbnRleHQgb2YgdGhlIGd1aWRhbmNlIHJlc3BvbnNlIHRvIGJlIHByb3ZpZGVkIGlmIGF2YWlsYWJsZS4gSW4gYSBzZXJ2aWNlIGNvbnRleHQsIHRoaXMgd291bGQgbGlrZWx5IGJlIHVuYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250ZXh0PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGVuIHRoZSBndWlkYW5jZSByZXNwb25zZSB3YXMgcHJvY2Vzc2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvY2N1cnJlbmNlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYSByZWZlcmVuY2UgdG8gdGhlIGRldmljZSB0aGF0IHBlcmZvcm1lZCB0aGUgZ3VpZGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmZvcm1lcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHJlYXNvbiB0aGUgcmVxdWVzdCB3YXMgaW5pdGlhdGVkLiBUaGlzIGlzIHR5cGljYWxseSBwcm92aWRlZCBhcyBhIHBhcmFtZXRlciB0byB0aGUgZXZhbHVhdGlvbiBhbmQgZWNob2VkIGJ5IHRoZSBzZXJ2aWNlLCBhbHRob3VnaCBmb3Igc29tZSB1c2UgY2FzZXMsIHN1Y2ggYXMgc3Vic2NyaXB0aW9uLSBvciBldmVudC1iYXNlZCBzY2VuYXJpb3MsIGl0IG1heSBwcm92aWRlIGFuIGluZGljYXRpb24gb2YgdGhlIGNhdXNlIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYXNvbj86IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgR3VpZGFuY2VSZXNwb25zZS5yZWFzb25beF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfcmVhc29uSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYSBtZWNoYW5pc20gdG8gY29tbXVuaWNhdGUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVzcG9uc2UuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU6IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIE1lc3NhZ2VzIHJlc3VsdGluZyBmcm9tIHRoZSBldmFsdWF0aW9uIG9mIHRoZSBhcnRpZmFjdCBvciBhcnRpZmFjdHMuIEFzIHBhcnQgb2YgZXZhbHVhdGluZyB0aGUgcmVxdWVzdCwgdGhlIGVuZ2luZSBtYXkgcHJvZHVjZSBpbmZvcm1hdGlvbmFsIG9yIHdhcm5pbmcgbWVzc2FnZXMuIFRoZXNlIG1lc3NhZ2VzIHdpbGwgYmUgcHJvdmlkZWQgYnkgdGhpcyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBldmFsdWF0aW9uTWVzc2FnZTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgb3V0cHV0IHBhcmFtZXRlcnMgb2YgdGhlIGV2YWx1YXRpb24sIGlmIGFueS4gTWFueSBtb2R1bGVzIHdpbGwgcmVzdWx0IGluIHRoZSByZXR1cm4gb2Ygc3BlY2lmaWMgcmVzb3VyY2VzIHN1Y2ggYXMgcHJvY2VkdXJlIG9yIGNvbW11bmljYXRpb24gcmVxdWVzdHMgdGhhdCBhcmUgcmV0dXJuZWQgYXMgcGFydCBvZiB0aGUgb3BlcmF0aW9uIHJlc3VsdC4gSG93ZXZlciwgbW9kdWxlcyBtYXkgZGVmaW5lIHNwZWNpZmljIG91dHB1dHMgdGhhdCB3b3VsZCBiZSByZXR1cm5lZCBhcyB0aGUgcmVzdWx0IG9mIHRoZSBldmFsdWF0aW9uLCBhbmQgdGhlc2Ugd291bGQgYmUgcmV0dXJuZWQgaW4gdGhpcyBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRwdXRQYXJhbWV0ZXJzPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhY3Rpb25zLCBpZiBhbnksIHByb2R1Y2VkIGJ5IHRoZSBldmFsdWF0aW9uIG9mIHRoZSBhcnRpZmFjdC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVzdWx0PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBldmFsdWF0aW9uIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQgZHVlIHRvIGxhY2sgb2YgaW5mb3JtYXRpb24sIG9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gd291bGQgcG90ZW50aWFsbHkgcmVzdWx0IGluIGEgbW9yZSBhY2N1cmF0ZSByZXNwb25zZSwgdGhpcyBlbGVtZW50IHdpbGwgYSBkZXNjcmlwdGlvbiBvZiB0aGUgZGF0YSByZXF1aXJlZCBpbiBvcmRlciB0byBwcm9jZWVkIHdpdGggdGhlIGV2YWx1YXRpb24uIEEgc3Vic2VxdWVudCByZXF1ZXN0IHRvIHRoZSBzZXJ2aWNlIHNob3VsZCBpbmNsdWRlIHRoaXMgZGF0YS5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0YVJlcXVpcmVtZW50OiBmaGlyLkRhdGFSZXF1aXJlbWVudFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEd1aWRhbmNlUmVzcG9uc2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxHdWlkYW5jZVJlc3BvbnNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0d1aWRhbmNlUmVzcG9uc2UnO1xyXG4gICAgaWYgKHNvdXJjZVsncmVxdWVzdElkJ10pIHsgdGhpcy5yZXF1ZXN0SWQgPSBuZXcgZmhpci5GaGlySWQoe3ZhbHVlOiBzb3VyY2UucmVxdWVzdElkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19yZXF1ZXN0SWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZXF1ZXN0SWQpIHsgdGhpcy5yZXF1ZXN0SWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcmVxdWVzdElkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVxdWVzdElkID0gbmV3IGZoaXIuRmhpcklkKHNvdXJjZS5fcmVxdWVzdElkIGFzIFBhcnRpYWw8Zmhpci5GaGlySWRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kdWxlJ10pIHsgdGhpcy5tb2R1bGUgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm1vZHVsZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vZHVsZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8R3VpZGFuY2VSZXNwb25zZVN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxHdWlkYW5jZVJlc3BvbnNlU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGV4dCddKSB7IHRoaXMuY29udGV4dCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuY29udGV4dCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ29jY3VycmVuY2VEYXRlVGltZSddKSB7IHRoaXMub2NjdXJyZW5jZURhdGVUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLm9jY3VycmVuY2VEYXRlVGltZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb2NjdXJyZW5jZURhdGVUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMub2NjdXJyZW5jZURhdGVUaW1lKSB7IHRoaXMub2NjdXJyZW5jZURhdGVUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29jY3VycmVuY2VEYXRlVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm9jY3VycmVuY2VEYXRlVGltZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX29jY3VycmVuY2VEYXRlVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwZXJmb3JtZXInXSkgeyB0aGlzLnBlcmZvcm1lciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucGVyZm9ybWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uJ10pIHsgdGhpcy5yZWFzb24gPSBzb3VyY2UucmVhc29uOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JlYXNvbkNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMucmVhc29uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZWFzb25Db2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JlYXNvblJlZmVyZW5jZSddKSB7IHRoaXMucmVhc29uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWFzb25SZWZlcmVuY2UpOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RlJ10pIHsgdGhpcy5ub3RlID0gc291cmNlLm5vdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Bbm5vdGF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubm90ZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydldmFsdWF0aW9uTWVzc2FnZSddKSB7IHRoaXMuZXZhbHVhdGlvbk1lc3NhZ2UgPSBzb3VyY2UuZXZhbHVhdGlvbk1lc3NhZ2UubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ldmFsdWF0aW9uTWVzc2FnZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvdXRwdXRQYXJhbWV0ZXJzJ10pIHsgdGhpcy5vdXRwdXRQYXJhbWV0ZXJzID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vdXRwdXRQYXJhbWV0ZXJzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzdWx0J10pIHsgdGhpcy5yZXN1bHQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlc3VsdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGFSZXF1aXJlbWVudCddKSB7IHRoaXMuZGF0YVJlcXVpcmVtZW50ID0gc291cmNlLmRhdGFSZXF1aXJlbWVudC5tYXAoKHgpID0+IG5ldyBmaGlyLkRhdGFSZXF1aXJlbWVudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRhdGFSZXF1aXJlbWVudCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnR3VpZGFuY2VSZXNwb25zZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlBTKCdyZXNvdXJjZVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlcXVlc3RJZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnbW9kdWxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTVignc3RhdHVzJyxleHAsJ0d1aWRhbmNlUmVzcG9uc2VTdGF0dXMnLEd1aWRhbmNlUmVzcG9uc2VTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3ViamVjdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29udGV4dCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb2NjdXJyZW5jZURhdGVUaW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwZXJmb3JtZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlYXNvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbm90ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZXZhbHVhdGlvbk1lc3NhZ2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ291dHB1dFBhcmFtZXRlcnMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Jlc3VsdCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZGF0YVJlcXVpcmVtZW50JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==