// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: ProcedureRequest
import * as fhir from '../fhir.js';
// @ts-ignore
import { RequestStatusVsValidation } from '../fhirValueSets/RequestStatusVsValidation.js';
// @ts-ignore
import { RequestIntentVsValidation } from '../fhirValueSets/RequestIntentVsValidation.js';
// @ts-ignore
import { RequestPriorityVsValidation } from '../fhirValueSets/RequestPriorityVsValidation.js';
/**
 * This not the dispatcher, but rather who is the authorizer.
 */
export class ProcedureRequestRequester extends fhir.BackboneElement {
    /**
     * Default constructor for ProcedureRequestRequester - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['agent']) {
            this.agent = new fhir.Reference(source.agent);
        }
        else {
            this.agent = null;
        }
        if (source['onBehalfOf']) {
            this.onBehalfOf = new fhir.Reference(source.onBehalfOf);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ProcedureRequest.requester';
        }
        this.vRS('agent', exp);
        this.vOS('onBehalfOf', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ProcedureRequestRequester._fts_dataType = 'ProcedureRequestRequester';
/**
 * A record of a request for diagnostic investigations, treatments, or operations to be performed.
 */
export class ProcedureRequest extends fhir.DomainResource {
    /**
     * Default constructor for ProcedureRequest - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ProcedureRequest';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['definition']) {
            this.definition = source.definition.map((x) => new fhir.Reference(x));
        }
        else {
            this.definition = [];
        }
        if (source['basedOn']) {
            this.basedOn = source.basedOn.map((x) => new fhir.Reference(x));
        }
        else {
            this.basedOn = [];
        }
        if (source['replaces']) {
            this.replaces = source.replaces.map((x) => new fhir.Reference(x));
        }
        else {
            this.replaces = [];
        }
        if (source['requisition']) {
            this.requisition = new fhir.Identifier(source.requisition);
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['intent']) {
            this.intent = new fhir.FhirCode({ value: source.intent });
        }
        else {
            this.intent = null;
        }
        if (source['_intent']) {
            if (this.intent) {
                this.intent.addExtendedProperties(source._intent);
            }
            else {
                this.intent = new fhir.FhirCode(source._intent);
            }
        }
        if (source['priority']) {
            this.priority = new fhir.FhirCode({ value: source.priority });
        }
        if (source['_priority']) {
            if (this.priority) {
                this.priority.addExtendedProperties(source._priority);
            }
            else {
                this.priority = new fhir.FhirCode(source._priority);
            }
        }
        if (source['doNotPerform']) {
            this.doNotPerform = new fhir.FhirBoolean({ value: source.doNotPerform });
        }
        if (source['_doNotPerform']) {
            if (this.doNotPerform) {
                this.doNotPerform.addExtendedProperties(source._doNotPerform);
            }
            else {
                this.doNotPerform = new fhir.FhirBoolean(source._doNotPerform);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        else {
            this.subject = null;
        }
        if (source['context']) {
            this.context = new fhir.Reference(source.context);
        }
        if (source['occurrence']) {
            this.occurrence = source.occurrence;
        }
        else if (source['occurrenceDateTime']) {
            this.occurrence = new fhir.FhirDateTime({ value: source.occurrenceDateTime });
        }
        else if (source['occurrencePeriod']) {
            this.occurrence = new fhir.Period(source.occurrencePeriod);
        }
        else if (source['occurrenceTiming']) {
            this.occurrence = new fhir.Timing(source.occurrenceTiming);
        }
        if (source['asNeeded']) {
            this.asNeeded = source.asNeeded;
        }
        else if (source['asNeededBoolean']) {
            this.asNeeded = new fhir.FhirBoolean({ value: source.asNeededBoolean });
        }
        else if (source['asNeededCodeableConcept']) {
            this.asNeeded = new fhir.CodeableConcept(source.asNeededCodeableConcept);
        }
        if (source['authoredOn']) {
            this.authoredOn = new fhir.FhirDateTime({ value: source.authoredOn });
        }
        if (source['_authoredOn']) {
            if (this.authoredOn) {
                this.authoredOn.addExtendedProperties(source._authoredOn);
            }
            else {
                this.authoredOn = new fhir.FhirDateTime(source._authoredOn);
            }
        }
        if (source['requester']) {
            this.requester = new fhir.ProcedureRequestRequester(source.requester);
        }
        if (source['performerType']) {
            this.performerType = new fhir.CodeableConcept(source.performerType);
        }
        if (source['performer']) {
            this.performer = new fhir.Reference(source.performer);
        }
        if (source['reasonCode']) {
            this.reasonCode = source.reasonCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reasonCode = [];
        }
        if (source['reasonReference']) {
            this.reasonReference = source.reasonReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.reasonReference = [];
        }
        if (source['supportingInfo']) {
            this.supportingInfo = source.supportingInfo.map((x) => new fhir.Reference(x));
        }
        else {
            this.supportingInfo = [];
        }
        if (source['specimen']) {
            this.specimen = source.specimen.map((x) => new fhir.Reference(x));
        }
        else {
            this.specimen = [];
        }
        if (source['bodySite']) {
            this.bodySite = source.bodySite.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.bodySite = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['relevantHistory']) {
            this.relevantHistory = source.relevantHistory.map((x) => new fhir.Reference(x));
        }
        else {
            this.relevantHistory = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ProcedureRequest';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOA('definition', exp);
        this.vOA('basedOn', exp);
        this.vOA('replaces', exp);
        this.vOS('requisition', exp);
        this.vRSV('status', exp, 'RequestStatus', RequestStatusVsValidation, 'r');
        this.vRSV('intent', exp, 'RequestIntent', RequestIntentVsValidation, 'r');
        this.vOSV('priority', exp, 'RequestPriority', RequestPriorityVsValidation, 'r');
        this.vOS('doNotPerform', exp);
        this.vOA('category', exp);
        this.vRS('code', exp);
        this.vRS('subject', exp);
        this.vOS('context', exp);
        this.vOS('occurrence', exp);
        this.vOS('asNeeded', exp);
        this.vOS('authoredOn', exp);
        this.vOS('requester', exp);
        this.vOS('performerType', exp);
        this.vOS('performer', exp);
        this.vOA('reasonCode', exp);
        this.vOA('reasonReference', exp);
        this.vOA('supportingInfo', exp);
        this.vOA('specimen', exp);
        this.vOA('bodySite', exp);
        this.vOA('note', exp);
        this.vOA('relevantHistory', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ProcedureRequest._fts_dataType = 'ProcedureRequest';
/**
 * Internal flag to properly serialize choice-type element ProcedureRequest.occurrence[x]
 */
ProcedureRequest._fts_occurrenceIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element ProcedureRequest.asNeeded[x]
 */
ProcedureRequest._fts_asNeededIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvY2VkdXJlUmVxdWVzdC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvUHJvY2VkdXJlUmVxdWVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFFbEMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLCtDQUErQyxDQUFDO0FBRzFGLGFBQWE7QUFDYixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQUcxRixhQUFhO0FBQ2IsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0saURBQWlELENBQUM7QUFtQzlGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHlCQUEwQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBYWpFOztPQUVHO0lBQ0gsWUFBWSxTQUFnRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN0RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQUU7YUFDbEU7WUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzNCLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQUU7SUFDeEYsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLDRCQUE0QixDQUFBO1NBQUU7UUFDdEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDckIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUE5QkQ7O0dBRUc7QUFDNkIsdUNBQWEsR0FBVSwyQkFBMkIsQ0FBQztBQTBMckY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsSUFBSSxDQUFDLGNBQWM7SUE0SHZEOztPQUVHO0lBQ0gsWUFBWSxTQUF1QyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM3RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsa0JBQWtCLENBQUM7UUFDdkMsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2hHO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM5QixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDL0Y7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUN0RjtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDM0IsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3pGO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUM1QixJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUFFO1FBQzFGLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQXdCLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDcEc7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxPQUFRLENBQUMsQ0FBQzthQUFFO2lCQUNuRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBd0IsTUFBTSxDQUFDLE9BQWlDLENBQUMsQ0FBQzthQUFFO1NBQzNHO1FBQ0QsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBd0IsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7U0FBRTthQUNwRztZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUFFLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLE9BQVEsQ0FBQyxDQUFDO2FBQUU7aUJBQ25FO2dCQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUF3QixNQUFNLENBQUMsT0FBaUMsQ0FBQyxDQUFDO2FBQUU7U0FDM0c7UUFDRCxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUEwQixFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2pILElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxTQUFVLENBQUMsQ0FBQzthQUFFO2lCQUN6RTtnQkFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBMEIsTUFBTSxDQUFDLFNBQW1DLENBQUMsQ0FBQzthQUFFO1NBQ2pIO1FBQ0QsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ3ZHLElBQUksTUFBTSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQzNCLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtnQkFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxhQUFjLENBQUMsQ0FBQzthQUFFO2lCQUNyRjtnQkFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsYUFBOEMsQ0FBQyxDQUFDO2FBQUU7U0FDMUc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDL0Y7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDckU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7YUFDeEU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzdCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDN0UsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7U0FBRTthQUM3RCxJQUFJLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLGtCQUFrQixFQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2xILElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUFFO2FBQy9GLElBQUksTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUFFO1FBQ3BHLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO1NBQUU7YUFDdkQsSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxlQUFlLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDekcsSUFBSSxNQUFNLENBQUMseUJBQXlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQUU7UUFDekgsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQ2xHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQ3pCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxXQUFZLENBQUMsQ0FBQzthQUFFO2lCQUMvRTtnQkFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsV0FBNkMsQ0FBQyxDQUFDO2FBQUU7U0FDeEc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMseUJBQXlCLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQUU7UUFDbkcsSUFBSSxNQUFNLENBQUMsZUFBZSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7U0FBRTtRQUNyRyxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUFFO1FBQ25GLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNyRztZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDOUIsSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxlQUFlLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDOUc7WUFBRSxJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQ25DLElBQUksTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzNHO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNsQyxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDekY7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUMvRjtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDNUIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzlFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUN4QixJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUM5RztZQUFFLElBQUksQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO1NBQUU7SUFDckMsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksTUFBTSxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLGtCQUFrQixDQUFBO1NBQUU7UUFDNUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLGVBQWUsRUFBQyx5QkFBeUIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNyRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsZUFBZSxFQUFDLHlCQUF5QixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3JFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLEdBQUcsRUFBQyxpQkFBaUIsRUFBQywyQkFBMkIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMzRSxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQy9CLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDOUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXZPRDs7R0FFRztBQUM2Qiw4QkFBYSxHQUFVLGtCQUFrQixDQUFDO0FBOEQxRTs7R0FFRztBQUN1Qix3Q0FBdUIsR0FBUSxJQUFJLENBQUM7QUFLOUQ7O0dBRUc7QUFDdUIsc0NBQXFCLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIzLmNvcmUgdmVyc2lvbjogMy4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBQcm9jZWR1cmVSZXF1ZXN0XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXF1ZXN0U3RhdHVzQ29kZXMsICBSZXF1ZXN0U3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcXVlc3RTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVxdWVzdFN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVxdWVzdFN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVxdWVzdEludGVudENvZGVzLCAgUmVxdWVzdEludGVudENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXF1ZXN0SW50ZW50Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlcXVlc3RJbnRlbnRWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcXVlc3RJbnRlbnRWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlcXVlc3RQcmlvcml0eUNvZGVzLCAgUmVxdWVzdFByaW9yaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcXVlc3RQcmlvcml0eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXF1ZXN0UHJpb3JpdHlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlcXVlc3RQcmlvcml0eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvY2VkdXJlQ2F0ZWdvcnlDb2RlcywgIFByb2NlZHVyZUNhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2NlZHVyZUNhdGVnb3J5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2NlZHVyZUNhdGVnb3J5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Qcm9jZWR1cmVDYXRlZ29yeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvY2VkdXJlQ29kZXMsICBQcm9jZWR1cmVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvY2VkdXJlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2NlZHVyZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvY2VkdXJlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQYXJ0aWNpcGFudFJvbGVDb2RlcywgIFBhcnRpY2lwYW50Um9sZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYXJ0aWNpcGFudFJvbGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGFydGljaXBhbnRSb2xlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9QYXJ0aWNpcGFudFJvbGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2NlZHVyZVJlYXNvbkNvZGVzLCAgUHJvY2VkdXJlUmVhc29uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2NlZHVyZVJlYXNvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQcm9jZWR1cmVSZWFzb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2NlZHVyZVJlYXNvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQm9keVNpdGVDb2RlcywgIEJvZHlTaXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JvZHlTaXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEJvZHlTaXRlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Cb2R5U2l0ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQcm9jZWR1cmVSZXF1ZXN0UmVxdWVzdGVyIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFByb2NlZHVyZVJlcXVlc3RSZXF1ZXN0ZXJBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgZGV2aWNlLCBwcmFjdGl0aW9uZXIgb3Igb3JnYW5pemF0aW9uIHdobyBpbml0aWF0ZWQgdGhlIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgYWdlbnQ6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbml6YXRpb24gdGhlIGRldmljZSBvciBwcmFjdGl0aW9uZXIgd2FzIGFjdGluZyBvbiBiZWhhbGYgb2YuXHJcbiAgICovXHJcbiAgb25CZWhhbGZPZj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGlzIG5vdCB0aGUgZGlzcGF0Y2hlciwgYnV0IHJhdGhlciB3aG8gaXMgdGhlIGF1dGhvcml6ZXIuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUHJvY2VkdXJlUmVxdWVzdFJlcXVlc3RlciBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Byb2NlZHVyZVJlcXVlc3RSZXF1ZXN0ZXInO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXZpY2UsIHByYWN0aXRpb25lciBvciBvcmdhbml6YXRpb24gd2hvIGluaXRpYXRlZCB0aGUgcmVxdWVzdC5cclxuICAgKi9cclxuICBwdWJsaWMgYWdlbnQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXphdGlvbiB0aGUgZGV2aWNlIG9yIHByYWN0aXRpb25lciB3YXMgYWN0aW5nIG9uIGJlaGFsZiBvZi5cclxuICAgKi9cclxuICBwdWJsaWMgb25CZWhhbGZPZj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQcm9jZWR1cmVSZXF1ZXN0UmVxdWVzdGVyIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UHJvY2VkdXJlUmVxdWVzdFJlcXVlc3RlckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhZ2VudCddKSB7IHRoaXMuYWdlbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmFnZW50KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWdlbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydvbkJlaGFsZk9mJ10pIHsgdGhpcy5vbkJlaGFsZk9mID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vbkJlaGFsZk9mKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1Byb2NlZHVyZVJlcXVlc3QucmVxdWVzdGVyJyB9XHJcbiAgICB0aGlzLnZSUygnYWdlbnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdvbkJlaGFsZk9mJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUHJvY2VkdXJlUmVxdWVzdCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQcm9jZWR1cmVSZXF1ZXN0QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiUHJvY2VkdXJlUmVxdWVzdFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaWRlbnRpZmllci50eXBlIGVsZW1lbnQgaXMgdXNlZCB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIHRoZSBpZGVudGlmaWVycyBhc3NpZ25lZCBieSB0aGUgb3JkZXJlciAoa25vd24gYXMgdGhlICdQbGFjZXInIGluIEhMNyB2MikgYW5kIHRoZSBwcm9kdWNlciBvZiB0aGUgb2JzZXJ2YXRpb25zIGluIHJlc3BvbnNlIHRvIHRoZSBvcmRlciAoa25vd24gYXMgdGhlICdGaWxsZXInIGluIEhMNyB2MikuICBGb3IgZnVydGhlciBkaXNjdXNzaW9uIGFuZCBleGFtcGxlcyBzZWUgdGhlIHJlc291cmNlIG5vdGVzIHNlY3Rpb24gYmVsb3cuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvdG9jb2wgb3IgZGVmaW5pdGlvbiBmb2xsb3dlZCBieSB0aGlzIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgZGVmaW5pdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQbGFuL3Byb3Bvc2FsL29yZGVyIGZ1bGZpbGxlZCBieSB0aGlzIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgYmFzZWRPbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVxdWVzdCB0YWtlcyB0aGUgcGxhY2Ugb2YgdGhlIHJlZmVyZW5jZWQgY29tcGxldGVkIG9yIHRlcm1pbmF0ZWQgcmVxdWVzdChzKS5cclxuICAgKi9cclxuICByZXBsYWNlcz86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZXF1ZXN0cyBhcmUgbGlua2VkIGVpdGhlciBieSBhIFwiYmFzZWRPblwiIHJlbGF0aW9uc2hpcCAoaS5lLiBvbmUgcmVxdWVzdCBpcyBmdWxmaWxsaW5nIGFub3RoZXIpIG9yIGJ5IGhhdmluZyBhIGNvbW1vbiByZXF1aXNpdGlvbi4gUmVxdWVzdHMgdGhhdCBhcmUgcGFydCBvZiB0aGUgc2FtZSByZXF1aXNpdGlvbiBhcmUgZ2VuZXJhbGx5IHRyZWF0ZWQgaW5kZXBlbmRlbnRseSBmcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiBjaGFuZ2luZyB0aGVpciBzdGF0ZSBvciBtYWludGFpbmluZyB0aGVtIGFmdGVyIGluaXRpYWwgY3JlYXRpb24uXHJcbiAgICovXHJcbiAgcmVxdWlzaXRpb24/OiBmaGlyLklkZW50aWZpZXJBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIGlzIGdlbmVyYWxseSBmdWxseSBpbiB0aGUgY29udHJvbCBvZiB0aGUgcmVxdWVzdGVyIC0gdGhleSBkZXRlcm1pbmUgd2hldGhlciB0aGUgb3JkZXIgaXMgZHJhZnQgb3IgYWN0aXZlIGFuZCwgYWZ0ZXIgaXQgaGFzIGJlZW4gYWN0aXZhdGVkLCBjb21wZXRlZCwgY2FuY2VsbGVkIG9yIHN1c3BlbmRlZC4gU3RhdGVzIHJlbGF0aW5nIHRvIHRoZSBhY3Rpdml0aWVzIG9mIHRoZSBwZXJmb3JtZXIgYXJlIHJlZmxlY3RlZCBvbiBlaXRoZXIgdGhlIGNvcnJlc3BvbmRpbmcgZXZlbnQgKHNlZSBbRXZlbnQgUGF0dGVybl0oZXZlbnQuaHRtbCkgZm9yIGdlbmVyYWwgZGlzY3Vzc2lvbikgb3IgdXNpbmcgdGhlIFtUYXNrXSh0YXNrLmh0bWwpIHJlc291cmNlLlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIGNvZGVzIHRoYXQgbWFyayB0aGUgcmVzb3VyY2UgYXMgbm90IGN1cnJlbnRseSB2YWxpZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UmVxdWVzdFN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQcm9jZWR1cmVSZXF1ZXN0LnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgaW50ZW50IGFsdGVycyB3aGVuIGFuZCBob3cgdGhlIHJlc291cmNlIGlzIGFjdHVhbGx5IGFwcGxpY2FibGUuXHJcbiAgICovXHJcbiAgaW50ZW50OiBmaGlyLkZoaXJDb2RlPFJlcXVlc3RJbnRlbnRDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUHJvY2VkdXJlUmVxdWVzdC5pbnRlbnRcclxuICAgKi9cclxuICBfaW50ZW50PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgaG93IHF1aWNrbHkgdGhlIFByb2NlZHVyZVJlcXVlc3Qgc2hvdWxkIGJlIGFkZHJlc3NlZCB3aXRoIHJlc3BlY3QgdG8gb3RoZXIgcmVxdWVzdHMuXHJcbiAgICovXHJcbiAgcHJpb3JpdHk/OiBmaGlyLkZoaXJDb2RlPFJlcXVlc3RQcmlvcml0eUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQcm9jZWR1cmVSZXF1ZXN0LnByaW9yaXR5XHJcbiAgICovXHJcbiAgX3ByaW9yaXR5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIFttb2RpZmllcl0oY29uZm9ybWFuY2UtcnVsZXMuaHRtbCNpc01vZGlmaWVyLmh0bWwpIGJlY2F1c2UgaXQgaW5kaWNhdGVzIHRoYXQgYSBwcm9jZWR1cmUgc2hvdWxkbid0IGhhcHBlbiwgaW5zdGVhZCBvZiBhIHJlcXVlc3QgZm9yIGl0IHRvIGhhcHBlbi4gIEluIGdlbmVyYWwsIG9ubHkgdGhlIGNvZGUgYW5kIHRpbWVmcmFtZSB3aWxsIGJlIHByZXNlbnQsIHRob3VnaCBvY2Nhc2lvbmFsIGFkZGl0aW9uYWwgcXVhbGlmaWVycyBzdWNoIGFzIGJvZHkgc2l0ZSBvciBldmVuIHBlcmZvcm1lciBjb3VsZCBiZSBpbmNsdWRlZCB0byBuYXJyb3cgdGhlIHNjb3BlIG9mIHRoZSBwcm9oaWJpdGlvbi4gIElmIHRoZSBQcm9jZWR1cmVSZXF1ZXN0LmNvZGUgYW5kIFByb2NlZHVyZVJlcXVlc3QuZG9Ob3RQZXJmb3JtIGJvdGggY29udGFpbiBuZWdhdGlvbiwgdGhhdCB3aWxsIHJlaW5mb3JjZSBwcm9oaWJpdGlvbiBhbmQgc2hvdWxkIG5vdCBoYXZlIGEgZG91YmxlIG5lZ2F0aXZlIGludGVycHJldGF0aW9uLlxyXG4gICAqL1xyXG4gIGRvTm90UGVyZm9ybT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFByb2NlZHVyZVJlcXVlc3QuZG9Ob3RQZXJmb3JtXHJcbiAgICovXHJcbiAgX2RvTm90UGVyZm9ybT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgbWF5IGJlIG11bHRpcGxlIGF4aXMgb2YgY2F0ZWdvcml6YXRpb24gZGVwZW5kaW5nIG9uIHRoZSBjb250ZXh0IG9yIHVzZSBjYXNlIGZvciByZXRyaWV2aW5nIG9yIGRpc3BsYXlpbmcgdGhlIHJlc291cmNlLiAgVGhlIGxldmVsIG9mIGdyYW51bGFyaXR5IGlzIGRlZmluZWQgYnkgdGhlIGNhdGVnb3J5IGNvbmNlcHRzIGluIHRoZSB2YWx1ZSBzZXQuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWFueSBsYWJvcmF0b3J5IGFuZCByYWRpb2xvZ3kgcHJvY2VkdXJlIGNvZGVzIGVtYmVkIHRoZSBzcGVjaW1lbi9vcmdhbiBzeXN0ZW0gaW4gdGhlIHRlc3Qgb3JkZWVyIG5hbWUsIGZvciBleGFtcGxlLCAgc2VydW0gb3Igc2VydW0vcGxhc21hIGdsdWNvc2UsIG9yIGEgY2hlc3QgeHJheS4gVGhlIHNwZWNpbWVuIG1heSBub3QgYmUgcmVjb3JkZWQgc2VwYXJhdGVseSBmcm9tIHRoZSB0ZXN0IGNvZGUuXHJcbiAgICovXHJcbiAgY29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogT24gd2hvbSBvciB3aGF0IHRoZSBwcm9jZWR1cmUgb3IgZGlhZ25vc3RpYyBpcyB0byBiZSBwZXJmb3JtZWQuIFRoaXMgaXMgdXN1YWxseSBhIGh1bWFuIHBhdGllbnQsIGJ1dCBjYW4gYWxzbyBiZSByZXF1ZXN0ZWQgb24gYW5pbWFscywgZ3JvdXBzIG9mIGh1bWFucyBvciBhbmltYWxzLCBkZXZpY2VzIHN1Y2ggYXMgZGlhbHlzaXMgbWFjaGluZXMsIG9yIGV2ZW4gbG9jYXRpb25zICh0eXBpY2FsbHkgZm9yIGVudmlyb25tZW50YWwgc2NhbnMpLlxyXG4gICAqL1xyXG4gIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFuIGVuY291bnRlciBvciBlcGlzb2RlIG9mIGNhcmUgdGhhdCBwcm92aWRlcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoZWFsdGhjYXJlIGNvbnRleHQgaW4gd2hpY2ggdGhpcyByZXF1ZXN0IGlzIG1hZGUuXHJcbiAgICovXHJcbiAgY29udGV4dD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUvdGltZSBhdCB3aGljaCB0aGUgZGlhZ25vc3RpYyB0ZXN0aW5nIHNob3VsZCBvY2N1ci5cclxuICAgKi9cclxuICBvY2N1cnJlbmNlPzogZmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2R8Zmhpci5UaW1pbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlL3RpbWUgYXQgd2hpY2ggdGhlIGRpYWdub3N0aWMgdGVzdGluZyBzaG91bGQgb2NjdXIuXHJcbiAgICovXHJcbiAgb2NjdXJyZW5jZURhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZS90aW1lIGF0IHdoaWNoIHRoZSBkaWFnbm9zdGljIHRlc3Rpbmcgc2hvdWxkIG9jY3VyLlxyXG4gICAqL1xyXG4gIG9jY3VycmVuY2VQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlL3RpbWUgYXQgd2hpY2ggdGhlIGRpYWdub3N0aWMgdGVzdGluZyBzaG91bGQgb2NjdXIuXHJcbiAgICovXHJcbiAgb2NjdXJyZW5jZVRpbWluZz86IGZoaXIuVGltaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgYSBDb2RlYWJsZUNvbmNlcHQgaXMgcHJlc2VudCwgaXQgaW5kaWNhdGVzIHRoZSBwcmUtY29uZGl0aW9uIGZvciBwZXJmb3JtaW5nIHRoZSBwcm9jZWR1cmUuICBGb3IgZXhhbXBsZSBcInBhaW5cIiwgXCJvbiBmbGFyZS11cFwiLCBldGMuXHJcbiAgICovXHJcbiAgYXNOZWVkZWQ/OiBmaGlyLkZoaXJCb29sZWFufGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBhIENvZGVhYmxlQ29uY2VwdCBpcyBwcmVzZW50LCBpdCBpbmRpY2F0ZXMgdGhlIHByZS1jb25kaXRpb24gZm9yIHBlcmZvcm1pbmcgdGhlIHByb2NlZHVyZS4gIEZvciBleGFtcGxlIFwicGFpblwiLCBcIm9uIGZsYXJlLXVwXCIsIGV0Yy5cclxuICAgKi9cclxuICBhc05lZWRlZEJvb2xlYW4/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIGEgQ29kZWFibGVDb25jZXB0IGlzIHByZXNlbnQsIGl0IGluZGljYXRlcyB0aGUgcHJlLWNvbmRpdGlvbiBmb3IgcGVyZm9ybWluZyB0aGUgcHJvY2VkdXJlLiAgRm9yIGV4YW1wbGUgXCJwYWluXCIsIFwib24gZmxhcmUtdXBcIiwgZXRjLlxyXG4gICAqL1xyXG4gIGFzTmVlZGVkQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVuIHRoZSByZXF1ZXN0IHRyYW5zaXRpb25lZCB0byBiZWluZyBhY3Rpb25hYmxlLlxyXG4gICAqL1xyXG4gIGF1dGhvcmVkT24/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQcm9jZWR1cmVSZXF1ZXN0LmF1dGhvcmVkT25cclxuICAgKi9cclxuICBfYXV0aG9yZWRPbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBub3QgdGhlIGRpc3BhdGNoZXIsIGJ1dCByYXRoZXIgd2hvIGlzIHRoZSBhdXRob3JpemVyLlxyXG4gICAqL1xyXG4gIHJlcXVlc3Rlcj86IGZoaXIuUHJvY2VkdXJlUmVxdWVzdFJlcXVlc3RlckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIHRoaXMgaXMgYSAgcm9sZSwgbm90ICBhIHBhcnRpY2lwYXRpb24gdHlwZS4gIEkuZS4gZG9lcyBub3QgZGVzY3JpYmUgdGhlIHRhc2ssIGJ1dCBkZXNjcmliZXMgdGhlIGNhcGFjaXR5LiAgRm9yIGV4YW1wbGUsIOKAnGNvbXBvdW5kaW5nIHBoYXJtYWN54oCdIG9yIOKAnHBzeWNoaWF0cmlzdOKAnSBvciDigJxpbnRlcm5hbCByZWZlcnJhbOKAnS5cclxuICAgKi9cclxuICBwZXJmb3JtZXJUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBuZWVkZWQsIHVzZSBhbiBbZXh0ZW5zaW9uXShleHRlbnNpYmlsaXR5Lmh0bWwpIGZvciBsaXN0aW5nIGFsdGVybmF0aXZlIHBlcmZvcm1lcnMgYW5kL29yIHJvbGVzIGFuZC9vciBwcmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIHBlcmZvcm1lcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBtYXkgYmUgdXNlZCB0byBkZWNpZGUgaG93IHRoZSBkaWFnbm9zdGljIGludmVzdGlnYXRpb24gd2lsbCBiZSBwZXJmb3JtZWQsIG9yIGV2ZW4gaWYgaXQgd2lsbCBiZSBwZXJmb3JtZWQgYXQgYWxsLiAgIFVzZSBDb2RlYWJsZUNvbmNlcHQgdGV4dCBlbGVtZW50IGlmIHRoZSBkYXRhIGlzIGZyZWUgKHVuY29kZWQpIHRleHQgYXMgc2hvd24gaW4gdGhlIFtDVCBTY2FuIGV4YW1wbGVdKHByb2NlZHVyZXJlcXVlc3QtZXhhbXBsZS1kaS5odG1sKS5cclxuICAgKi9cclxuICByZWFzb25Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWF5IGJlIHVzZWQgdG8gZGVjaWRlIGhvdyB0aGUgZGlhZ25vc3RpYyBpbnZlc3RpZ2F0aW9uIHdpbGwgYmUgcGVyZm9ybWVkLCBvciBldmVuIGlmIGl0IHdpbGwgYmUgcGVyZm9ybWVkIGF0IGFsbC4gICBVc2UgQ29kZWFibGVDb25jZXB0IHRleHQgZWxlbWVudCBpZiB0aGUgZGF0YSBpcyBmcmVlICh1bmNvZGVkKSB0ZXh0IGFzIHNob3duIGluIHRoZSBbQ1QgU2NhbiBleGFtcGxlXShwcm9jZWR1cmVyZXF1ZXN0LWV4YW1wbGUtZGkuaHRtbCkuXHJcbiAgICovXHJcbiAgcmVhc29uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgY2xpbmljYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHBhdGllbnQgb3Igc3BlY2ltZW4gdGhhdCBtYXkgaW5mbHVlbmNlIHRoZSBwcm9jZWR1cmUgb3IgZGlhZ25vc3RpY3Mgb3IgdGhlaXIgaW50ZXJwcmV0YXRpb25zLiAgICAgVGhpcyBpbmZvcm1hdGlvbiBpbmNsdWRlcyBkaWFnbm9zaXMsIGNsaW5pY2FsIGZpbmRpbmdzIGFuZCBvdGhlciBvYnNlcnZhdGlvbnMuICBJbiBsYWJvcmF0b3J5IG9yZGVyaW5nIHRoZXNlIGFyZSB0eXBpY2FsbHkgcmVmZXJyZWQgdG8gYXMgXCJhc2sgYXQgb3JkZXIgZW50cnkgcXVlc3Rpb25zIChBT0VzKVwiLiAgVGhpcyBpbmNsdWRlcyBvYnNlcnZhdGlvbnMgZXhwbGljaXRseSByZXF1ZXN0ZWQgYnkgdGhlIHByb2R1Y2VyIChmaWxsZXIpIHRvIHByb3ZpZGUgY29udGV4dCBvciBzdXBwb3J0aW5nIGluZm9ybWF0aW9uIG5lZWRlZCB0byBjb21wbGV0ZSB0aGUgb3JkZXIuIEZvciBleGFtcGxlLCAgcmVwb3J0aW5nIHRoZSBhbW91bnQgb2YgaW5zcGlyZWQgb3h5Z2VuIGZvciBibG9vZCBnYXMgbWVhc3VyZW1lbnRzLlxyXG4gICAqL1xyXG4gIHN1cHBvcnRpbmdJbmZvPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE1hbnkgZGlhZ25vc3RpYyBwcm9jZWR1cmVzIG5lZWQgYSBzcGVjaW1lbiwgYnV0IHRoZSByZXF1ZXN0IGl0c2VsZiBpcyBub3QgYWN0dWFsbHkgYWJvdXQgdGhlIHNwZWNpbWVuLiBUaGlzIGVsZW1lbnQgaXMgZm9yIHdoZW4gdGhlIGRpYWdub3N0aWMgaXMgcmVxdWVzdGVkIG9uIGFscmVhZHkgZXhpc3Rpbmcgc3BlY2ltZW5zIGFuZCB0aGUgcmVxdWVzdCBwb2ludHMgdG8gdGhlIHNwZWNpbWVuIGl0IGFwcGxpZXMgdG8uICAgIENvbnZlcnNlbHksIElmIHRoZSByZXF1ZXN0IGlzIGVudGVyZWQgZmlyc3Qgd2l0aCBhbiB1bmtub3duIHNwZWNpbWVuLCBUaGUgW1NwZWNpbWVuXShzcGVjaW1lbi5odG1sKSByZXNvdXJjZSByZWZlcmVuY2VzIHRvIHRoZSBQcm9jZWR1cmVSZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHNwZWNpbWVuPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9ubHkgdXNlZCBpZiBub3QgaW1wbGljaXQgaW4gdGhlIGNvZGUgZm91bmQgaW4gUHJvY2VkdXJlUmVxdWVzdC50eXBlLiAgSWYgdGhlIHVzZSBjYXNlIHJlcXVpcmVzIEJvZHlTaXRlIHRvIGJlIGhhbmRsZWQgYXMgYSBzZXBhcmF0ZSByZXNvdXJjZSBpbnN0ZWFkIG9mIGFuIGlubGluZSBjb2RlZCBlbGVtZW50IChlLmcuIHRvIGlkZW50aWZ5IGFuZCB0cmFjayBzZXBhcmF0ZWx5KSAgdGhlbiB1c2UgdGhlIHN0YW5kYXJkIGV4dGVuc2lvbiBbcHJvY2VkdXJlcmVxdWVzdC10YXJnZXRCb2R5U2l0ZV0oZXh0ZW5zaW9uLXByb2NlZHVyZXJlcXVlc3QtdGFyZ2V0Ym9keXNpdGUuaHRtbCkuXHJcbiAgICovXHJcbiAgYm9keVNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW55IG90aGVyIG5vdGVzIGFuZCBjb21tZW50cyBtYWRlIGFib3V0IHRoZSBzZXJ2aWNlIHJlcXVlc3QuIEZvciBleGFtcGxlLCBsZXR0aW5nIHByb3ZpZGVyIGtub3cgdGhhdCBcInBhdGllbnQgaGF0ZXMgbmVlZGxlc1wiIG9yIG90aGVyIHByb3ZpZGVyIGluc3RydWN0aW9ucy5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBub3QgaW5jbHVkZSBwcm92ZW5hbmNlcyBmb3IgYWxsIHZlcnNpb25zIG9mIHRoZSByZXF1ZXN0IOKAkyBvbmx5IHRob3NlIGRlZW1lZCDigJxyZWxldmFudOKAnSBvciBpbXBvcnRhbnQuXHJcbiAgICogVGhpcyBTSEFMTCBOT1QgaW5jbHVkZSB0aGUgUHJvdmVuYW5jZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBjdXJyZW50IHZlcnNpb24gb2YgdGhlIHJlc291cmNlLiAgKElmIHRoYXQgcHJvdmVuYW5jZSBpcyBkZWVtZWQgdG8gYmUgYSDigJxyZWxldmFudOKAnSBjaGFuZ2UsIGl0IHdpbGwgbmVlZCB0byBiZSBhZGRlZCBhcyBwYXJ0IG9mIGEgbGF0ZXIgdXBkYXRlLiAgVW50aWwgdGhlbiwgaXQgY2FuIGJlIHF1ZXJpZWQgZGlyZWN0bHkgYXMgdGhlIFByb3ZlbmFuY2UgdGhhdCBwb2ludHMgdG8gdGhpcyB2ZXJzaW9uIHVzaW5nIF9yZXZpbmNsdWRlXHJcbiAgICogQWxsIFByb3ZlbmFuY2VzIHNob3VsZCBoYXZlIHNvbWUgaGlzdG9yaWNhbCB2ZXJzaW9uIG9mIHRoaXMgUmVxdWVzdCBhcyB0aGVpciBzdWJqZWN0LlxyXG4gICAqL1xyXG4gIHJlbGV2YW50SGlzdG9yeT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVjb3JkIG9mIGEgcmVxdWVzdCBmb3IgZGlhZ25vc3RpYyBpbnZlc3RpZ2F0aW9ucywgdHJlYXRtZW50cywgb3Igb3BlcmF0aW9ucyB0byBiZSBwZXJmb3JtZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUHJvY2VkdXJlUmVxdWVzdCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnUHJvY2VkdXJlUmVxdWVzdCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJQcm9jZWR1cmVSZXF1ZXN0XCI7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIudHlwZSBlbGVtZW50IGlzIHVzZWQgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0aGUgaWRlbnRpZmllcnMgYXNzaWduZWQgYnkgdGhlIG9yZGVyZXIgKGtub3duIGFzIHRoZSAnUGxhY2VyJyBpbiBITDcgdjIpIGFuZCB0aGUgcHJvZHVjZXIgb2YgdGhlIG9ic2VydmF0aW9ucyBpbiByZXNwb25zZSB0byB0aGUgb3JkZXIgKGtub3duIGFzIHRoZSAnRmlsbGVyJyBpbiBITDcgdjIpLiAgRm9yIGZ1cnRoZXIgZGlzY3Vzc2lvbiBhbmQgZXhhbXBsZXMgc2VlIHRoZSByZXNvdXJjZSBub3RlcyBzZWN0aW9uIGJlbG93LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBQcm90b2NvbCBvciBkZWZpbml0aW9uIGZvbGxvd2VkIGJ5IHRoaXMgcmVxdWVzdC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVmaW5pdGlvbjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBQbGFuL3Byb3Bvc2FsL29yZGVyIGZ1bGZpbGxlZCBieSB0aGlzIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgcHVibGljIGJhc2VkT246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlcXVlc3QgdGFrZXMgdGhlIHBsYWNlIG9mIHRoZSByZWZlcmVuY2VkIGNvbXBsZXRlZCBvciB0ZXJtaW5hdGVkIHJlcXVlc3QocykuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcGxhY2VzOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFJlcXVlc3RzIGFyZSBsaW5rZWQgZWl0aGVyIGJ5IGEgXCJiYXNlZE9uXCIgcmVsYXRpb25zaGlwIChpLmUuIG9uZSByZXF1ZXN0IGlzIGZ1bGZpbGxpbmcgYW5vdGhlcikgb3IgYnkgaGF2aW5nIGEgY29tbW9uIHJlcXVpc2l0aW9uLiBSZXF1ZXN0cyB0aGF0IGFyZSBwYXJ0IG9mIHRoZSBzYW1lIHJlcXVpc2l0aW9uIGFyZSBnZW5lcmFsbHkgdHJlYXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIGNoYW5naW5nIHRoZWlyIHN0YXRlIG9yIG1haW50YWluaW5nIHRoZW0gYWZ0ZXIgaW5pdGlhbCBjcmVhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWlzaXRpb24/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgaXMgZ2VuZXJhbGx5IGZ1bGx5IGluIHRoZSBjb250cm9sIG9mIHRoZSByZXF1ZXN0ZXIgLSB0aGV5IGRldGVybWluZSB3aGV0aGVyIHRoZSBvcmRlciBpcyBkcmFmdCBvciBhY3RpdmUgYW5kLCBhZnRlciBpdCBoYXMgYmVlbiBhY3RpdmF0ZWQsIGNvbXBldGVkLCBjYW5jZWxsZWQgb3Igc3VzcGVuZGVkLiBTdGF0ZXMgcmVsYXRpbmcgdG8gdGhlIGFjdGl2aXRpZXMgb2YgdGhlIHBlcmZvcm1lciBhcmUgcmVmbGVjdGVkIG9uIGVpdGhlciB0aGUgY29ycmVzcG9uZGluZyBldmVudCAoc2VlIFtFdmVudCBQYXR0ZXJuXShldmVudC5odG1sKSBmb3IgZ2VuZXJhbCBkaXNjdXNzaW9uKSBvciB1c2luZyB0aGUgW1Rhc2tdKHRhc2suaHRtbCkgcmVzb3VyY2UuXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UmVxdWVzdFN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgaW50ZW50IGFsdGVycyB3aGVuIGFuZCBob3cgdGhlIHJlc291cmNlIGlzIGFjdHVhbGx5IGFwcGxpY2FibGUuXHJcbiAgICovXHJcbiAgcHVibGljIGludGVudDogZmhpci5GaGlyQ29kZTxSZXF1ZXN0SW50ZW50Q29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIGhvdyBxdWlja2x5IHRoZSBQcm9jZWR1cmVSZXF1ZXN0IHNob3VsZCBiZSBhZGRyZXNzZWQgd2l0aCByZXNwZWN0IHRvIG90aGVyIHJlcXVlc3RzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmlvcml0eT86IGZoaXIuRmhpckNvZGU8UmVxdWVzdFByaW9yaXR5Q29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIFttb2RpZmllcl0oY29uZm9ybWFuY2UtcnVsZXMuaHRtbCNpc01vZGlmaWVyLmh0bWwpIGJlY2F1c2UgaXQgaW5kaWNhdGVzIHRoYXQgYSBwcm9jZWR1cmUgc2hvdWxkbid0IGhhcHBlbiwgaW5zdGVhZCBvZiBhIHJlcXVlc3QgZm9yIGl0IHRvIGhhcHBlbi4gIEluIGdlbmVyYWwsIG9ubHkgdGhlIGNvZGUgYW5kIHRpbWVmcmFtZSB3aWxsIGJlIHByZXNlbnQsIHRob3VnaCBvY2Nhc2lvbmFsIGFkZGl0aW9uYWwgcXVhbGlmaWVycyBzdWNoIGFzIGJvZHkgc2l0ZSBvciBldmVuIHBlcmZvcm1lciBjb3VsZCBiZSBpbmNsdWRlZCB0byBuYXJyb3cgdGhlIHNjb3BlIG9mIHRoZSBwcm9oaWJpdGlvbi4gIElmIHRoZSBQcm9jZWR1cmVSZXF1ZXN0LmNvZGUgYW5kIFByb2NlZHVyZVJlcXVlc3QuZG9Ob3RQZXJmb3JtIGJvdGggY29udGFpbiBuZWdhdGlvbiwgdGhhdCB3aWxsIHJlaW5mb3JjZSBwcm9oaWJpdGlvbiBhbmQgc2hvdWxkIG5vdCBoYXZlIGEgZG91YmxlIG5lZ2F0aXZlIGludGVycHJldGF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb05vdFBlcmZvcm0/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGVyZSBtYXkgYmUgbXVsdGlwbGUgYXhpcyBvZiBjYXRlZ29yaXphdGlvbiBkZXBlbmRpbmcgb24gdGhlIGNvbnRleHQgb3IgdXNlIGNhc2UgZm9yIHJldHJpZXZpbmcgb3IgZGlzcGxheWluZyB0aGUgcmVzb3VyY2UuICBUaGUgbGV2ZWwgb2YgZ3JhbnVsYXJpdHkgaXMgZGVmaW5lZCBieSB0aGUgY2F0ZWdvcnkgY29uY2VwdHMgaW4gdGhlIHZhbHVlIHNldC5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogTWFueSBsYWJvcmF0b3J5IGFuZCByYWRpb2xvZ3kgcHJvY2VkdXJlIGNvZGVzIGVtYmVkIHRoZSBzcGVjaW1lbi9vcmdhbiBzeXN0ZW0gaW4gdGhlIHRlc3Qgb3JkZWVyIG5hbWUsIGZvciBleGFtcGxlLCAgc2VydW0gb3Igc2VydW0vcGxhc21hIGdsdWNvc2UsIG9yIGEgY2hlc3QgeHJheS4gVGhlIHNwZWNpbWVuIG1heSBub3QgYmUgcmVjb3JkZWQgc2VwYXJhdGVseSBmcm9tIHRoZSB0ZXN0IGNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogT24gd2hvbSBvciB3aGF0IHRoZSBwcm9jZWR1cmUgb3IgZGlhZ25vc3RpYyBpcyB0byBiZSBwZXJmb3JtZWQuIFRoaXMgaXMgdXN1YWxseSBhIGh1bWFuIHBhdGllbnQsIGJ1dCBjYW4gYWxzbyBiZSByZXF1ZXN0ZWQgb24gYW5pbWFscywgZ3JvdXBzIG9mIGh1bWFucyBvciBhbmltYWxzLCBkZXZpY2VzIHN1Y2ggYXMgZGlhbHlzaXMgbWFjaGluZXMsIG9yIGV2ZW4gbG9jYXRpb25zICh0eXBpY2FsbHkgZm9yIGVudmlyb25tZW50YWwgc2NhbnMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJqZWN0OiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFuIGVuY291bnRlciBvciBlcGlzb2RlIG9mIGNhcmUgdGhhdCBwcm92aWRlcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoZWFsdGhjYXJlIGNvbnRleHQgaW4gd2hpY2ggdGhpcyByZXF1ZXN0IGlzIG1hZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRleHQ/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUvdGltZSBhdCB3aGljaCB0aGUgZGlhZ25vc3RpYyB0ZXN0aW5nIHNob3VsZCBvY2N1ci5cclxuICAgKi9cclxuICBwdWJsaWMgb2NjdXJyZW5jZT86IChmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZHxmaGlyLlRpbWluZyl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgUHJvY2VkdXJlUmVxdWVzdC5vY2N1cnJlbmNlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX29jY3VycmVuY2VJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBJZiBhIENvZGVhYmxlQ29uY2VwdCBpcyBwcmVzZW50LCBpdCBpbmRpY2F0ZXMgdGhlIHByZS1jb25kaXRpb24gZm9yIHBlcmZvcm1pbmcgdGhlIHByb2NlZHVyZS4gIEZvciBleGFtcGxlIFwicGFpblwiLCBcIm9uIGZsYXJlLXVwXCIsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgYXNOZWVkZWQ/OiAoZmhpci5GaGlyQm9vbGVhbnxmaGlyLkNvZGVhYmxlQ29uY2VwdCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgUHJvY2VkdXJlUmVxdWVzdC5hc05lZWRlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19hc05lZWRlZElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHJlcXVlc3QgdHJhbnNpdGlvbmVkIHRvIGJlaW5nIGFjdGlvbmFibGUuXHJcbiAgICovXHJcbiAgcHVibGljIGF1dGhvcmVkT24/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBub3QgdGhlIGRpc3BhdGNoZXIsIGJ1dCByYXRoZXIgd2hvIGlzIHRoZSBhdXRob3JpemVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0ZXI/OiBmaGlyLlByb2NlZHVyZVJlcXVlc3RSZXF1ZXN0ZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIHRoaXMgaXMgYSAgcm9sZSwgbm90ICBhIHBhcnRpY2lwYXRpb24gdHlwZS4gIEkuZS4gZG9lcyBub3QgZGVzY3JpYmUgdGhlIHRhc2ssIGJ1dCBkZXNjcmliZXMgdGhlIGNhcGFjaXR5LiAgRm9yIGV4YW1wbGUsIOKAnGNvbXBvdW5kaW5nIHBoYXJtYWN54oCdIG9yIOKAnHBzeWNoaWF0cmlzdOKAnSBvciDigJxpbnRlcm5hbCByZWZlcnJhbOKAnS5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyZm9ybWVyVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBuZWVkZWQsIHVzZSBhbiBbZXh0ZW5zaW9uXShleHRlbnNpYmlsaXR5Lmh0bWwpIGZvciBsaXN0aW5nIGFsdGVybmF0aXZlIHBlcmZvcm1lcnMgYW5kL29yIHJvbGVzIGFuZC9vciBwcmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJmb3JtZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBtYXkgYmUgdXNlZCB0byBkZWNpZGUgaG93IHRoZSBkaWFnbm9zdGljIGludmVzdGlnYXRpb24gd2lsbCBiZSBwZXJmb3JtZWQsIG9yIGV2ZW4gaWYgaXQgd2lsbCBiZSBwZXJmb3JtZWQgYXQgYWxsLiAgIFVzZSBDb2RlYWJsZUNvbmNlcHQgdGV4dCBlbGVtZW50IGlmIHRoZSBkYXRhIGlzIGZyZWUgKHVuY29kZWQpIHRleHQgYXMgc2hvd24gaW4gdGhlIFtDVCBTY2FuIGV4YW1wbGVdKHByb2NlZHVyZXJlcXVlc3QtZXhhbXBsZS1kaS5odG1sKS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uQ29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBiZSB1c2VkIHRvIGRlY2lkZSBob3cgdGhlIGRpYWdub3N0aWMgaW52ZXN0aWdhdGlvbiB3aWxsIGJlIHBlcmZvcm1lZCwgb3IgZXZlbiBpZiBpdCB3aWxsIGJlIHBlcmZvcm1lZCBhdCBhbGwuICAgVXNlIENvZGVhYmxlQ29uY2VwdCB0ZXh0IGVsZW1lbnQgaWYgdGhlIGRhdGEgaXMgZnJlZSAodW5jb2RlZCkgdGV4dCBhcyBzaG93biBpbiB0aGUgW0NUIFNjYW4gZXhhbXBsZV0ocHJvY2VkdXJlcmVxdWVzdC1leGFtcGxlLWRpLmh0bWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb25SZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBjbGluaWNhbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcGF0aWVudCBvciBzcGVjaW1lbiB0aGF0IG1heSBpbmZsdWVuY2UgdGhlIHByb2NlZHVyZSBvciBkaWFnbm9zdGljcyBvciB0aGVpciBpbnRlcnByZXRhdGlvbnMuICAgICBUaGlzIGluZm9ybWF0aW9uIGluY2x1ZGVzIGRpYWdub3NpcywgY2xpbmljYWwgZmluZGluZ3MgYW5kIG90aGVyIG9ic2VydmF0aW9ucy4gIEluIGxhYm9yYXRvcnkgb3JkZXJpbmcgdGhlc2UgYXJlIHR5cGljYWxseSByZWZlcnJlZCB0byBhcyBcImFzayBhdCBvcmRlciBlbnRyeSBxdWVzdGlvbnMgKEFPRXMpXCIuICBUaGlzIGluY2x1ZGVzIG9ic2VydmF0aW9ucyBleHBsaWNpdGx5IHJlcXVlc3RlZCBieSB0aGUgcHJvZHVjZXIgKGZpbGxlcikgdG8gcHJvdmlkZSBjb250ZXh0IG9yIHN1cHBvcnRpbmcgaW5mb3JtYXRpb24gbmVlZGVkIHRvIGNvbXBsZXRlIHRoZSBvcmRlci4gRm9yIGV4YW1wbGUsICByZXBvcnRpbmcgdGhlIGFtb3VudCBvZiBpbnNwaXJlZCBveHlnZW4gZm9yIGJsb29kIGdhcyBtZWFzdXJlbWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIHN1cHBvcnRpbmdJbmZvOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIE1hbnkgZGlhZ25vc3RpYyBwcm9jZWR1cmVzIG5lZWQgYSBzcGVjaW1lbiwgYnV0IHRoZSByZXF1ZXN0IGl0c2VsZiBpcyBub3QgYWN0dWFsbHkgYWJvdXQgdGhlIHNwZWNpbWVuLiBUaGlzIGVsZW1lbnQgaXMgZm9yIHdoZW4gdGhlIGRpYWdub3N0aWMgaXMgcmVxdWVzdGVkIG9uIGFscmVhZHkgZXhpc3Rpbmcgc3BlY2ltZW5zIGFuZCB0aGUgcmVxdWVzdCBwb2ludHMgdG8gdGhlIHNwZWNpbWVuIGl0IGFwcGxpZXMgdG8uICAgIENvbnZlcnNlbHksIElmIHRoZSByZXF1ZXN0IGlzIGVudGVyZWQgZmlyc3Qgd2l0aCBhbiB1bmtub3duIHNwZWNpbWVuLCBUaGUgW1NwZWNpbWVuXShzcGVjaW1lbi5odG1sKSByZXNvdXJjZSByZWZlcmVuY2VzIHRvIHRoZSBQcm9jZWR1cmVSZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzcGVjaW1lbjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBPbmx5IHVzZWQgaWYgbm90IGltcGxpY2l0IGluIHRoZSBjb2RlIGZvdW5kIGluIFByb2NlZHVyZVJlcXVlc3QudHlwZS4gIElmIHRoZSB1c2UgY2FzZSByZXF1aXJlcyBCb2R5U2l0ZSB0byBiZSBoYW5kbGVkIGFzIGEgc2VwYXJhdGUgcmVzb3VyY2UgaW5zdGVhZCBvZiBhbiBpbmxpbmUgY29kZWQgZWxlbWVudCAoZS5nLiB0byBpZGVudGlmeSBhbmQgdHJhY2sgc2VwYXJhdGVseSkgIHRoZW4gdXNlIHRoZSBzdGFuZGFyZCBleHRlbnNpb24gW3Byb2NlZHVyZXJlcXVlc3QtdGFyZ2V0Qm9keVNpdGVdKGV4dGVuc2lvbi1wcm9jZWR1cmVyZXF1ZXN0LXRhcmdldGJvZHlzaXRlLmh0bWwpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBib2R5U2l0ZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBBbnkgb3RoZXIgbm90ZXMgYW5kIGNvbW1lbnRzIG1hZGUgYWJvdXQgdGhlIHNlcnZpY2UgcmVxdWVzdC4gRm9yIGV4YW1wbGUsIGxldHRpbmcgcHJvdmlkZXIga25vdyB0aGF0IFwicGF0aWVudCBoYXRlcyBuZWVkbGVzXCIgb3Igb3RoZXIgcHJvdmlkZXIgaW5zdHJ1Y3Rpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlOiBmaGlyLkFubm90YXRpb25bXTtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBub3QgaW5jbHVkZSBwcm92ZW5hbmNlcyBmb3IgYWxsIHZlcnNpb25zIG9mIHRoZSByZXF1ZXN0IOKAkyBvbmx5IHRob3NlIGRlZW1lZCDigJxyZWxldmFudOKAnSBvciBpbXBvcnRhbnQuXHJcbiAgICogVGhpcyBTSEFMTCBOT1QgaW5jbHVkZSB0aGUgUHJvdmVuYW5jZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBjdXJyZW50IHZlcnNpb24gb2YgdGhlIHJlc291cmNlLiAgKElmIHRoYXQgcHJvdmVuYW5jZSBpcyBkZWVtZWQgdG8gYmUgYSDigJxyZWxldmFudOKAnSBjaGFuZ2UsIGl0IHdpbGwgbmVlZCB0byBiZSBhZGRlZCBhcyBwYXJ0IG9mIGEgbGF0ZXIgdXBkYXRlLiAgVW50aWwgdGhlbiwgaXQgY2FuIGJlIHF1ZXJpZWQgZGlyZWN0bHkgYXMgdGhlIFByb3ZlbmFuY2UgdGhhdCBwb2ludHMgdG8gdGhpcyB2ZXJzaW9uIHVzaW5nIF9yZXZpbmNsdWRlXHJcbiAgICogQWxsIFByb3ZlbmFuY2VzIHNob3VsZCBoYXZlIHNvbWUgaGlzdG9yaWNhbCB2ZXJzaW9uIG9mIHRoaXMgUmVxdWVzdCBhcyB0aGVpciBzdWJqZWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxldmFudEhpc3Rvcnk6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUHJvY2VkdXJlUmVxdWVzdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFByb2NlZHVyZVJlcXVlc3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnUHJvY2VkdXJlUmVxdWVzdCc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZWZpbml0aW9uJ10pIHsgdGhpcy5kZWZpbml0aW9uID0gc291cmNlLmRlZmluaXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kZWZpbml0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Jhc2VkT24nXSkgeyB0aGlzLmJhc2VkT24gPSBzb3VyY2UuYmFzZWRPbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmJhc2VkT24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVwbGFjZXMnXSkgeyB0aGlzLnJlcGxhY2VzID0gc291cmNlLnJlcGxhY2VzLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVwbGFjZXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVxdWlzaXRpb24nXSkgeyB0aGlzLnJlcXVpc2l0aW9uID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UucmVxdWlzaXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlcXVlc3RTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8UmVxdWVzdFN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW50ZW50J10pIHsgdGhpcy5pbnRlbnQgPSBuZXcgZmhpci5GaGlyQ29kZTxSZXF1ZXN0SW50ZW50Q29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmludGVudH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnRlbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW50ZW50J10pIHtcclxuICAgICAgaWYgKHRoaXMuaW50ZW50KSB7IHRoaXMuaW50ZW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ludGVudCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmludGVudCA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlcXVlc3RJbnRlbnRDb2RlVHlwZT4oc291cmNlLl9pbnRlbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ByaW9yaXR5J10pIHsgdGhpcy5wcmlvcml0eSA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlcXVlc3RQcmlvcml0eUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5wcmlvcml0eX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJpb3JpdHknXSkge1xyXG4gICAgICBpZiAodGhpcy5wcmlvcml0eSkgeyB0aGlzLnByaW9yaXR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ByaW9yaXR5ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHJpb3JpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxSZXF1ZXN0UHJpb3JpdHlDb2RlVHlwZT4oc291cmNlLl9wcmlvcml0eSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9Ob3RQZXJmb3JtJ10pIHsgdGhpcy5kb05vdFBlcmZvcm0gPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5kb05vdFBlcmZvcm19KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RvTm90UGVyZm9ybSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRvTm90UGVyZm9ybSkgeyB0aGlzLmRvTm90UGVyZm9ybS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kb05vdFBlcmZvcm0hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kb05vdFBlcmZvcm0gPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2RvTm90UGVyZm9ybSBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1YmplY3QgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250ZXh0J10pIHsgdGhpcy5jb250ZXh0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5jb250ZXh0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb2NjdXJyZW5jZSddKSB7IHRoaXMub2NjdXJyZW5jZSA9IHNvdXJjZS5vY2N1cnJlbmNlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ29jY3VycmVuY2VEYXRlVGltZSddKSB7IHRoaXMub2NjdXJyZW5jZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5vY2N1cnJlbmNlRGF0ZVRpbWV9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydvY2N1cnJlbmNlUGVyaW9kJ10pIHsgdGhpcy5vY2N1cnJlbmNlID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5vY2N1cnJlbmNlUGVyaW9kKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydvY2N1cnJlbmNlVGltaW5nJ10pIHsgdGhpcy5vY2N1cnJlbmNlID0gbmV3IGZoaXIuVGltaW5nKHNvdXJjZS5vY2N1cnJlbmNlVGltaW5nKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXNOZWVkZWQnXSkgeyB0aGlzLmFzTmVlZGVkID0gc291cmNlLmFzTmVlZGVkOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2FzTmVlZGVkQm9vbGVhbiddKSB7IHRoaXMuYXNOZWVkZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5hc05lZWRlZEJvb2xlYW59KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydhc05lZWRlZENvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuYXNOZWVkZWQgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmFzTmVlZGVkQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXV0aG9yZWRPbiddKSB7IHRoaXMuYXV0aG9yZWRPbiA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5hdXRob3JlZE9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hdXRob3JlZE9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYXV0aG9yZWRPbikgeyB0aGlzLmF1dGhvcmVkT24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXV0aG9yZWRPbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmF1dGhvcmVkT24gPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9hdXRob3JlZE9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcXVlc3RlciddKSB7IHRoaXMucmVxdWVzdGVyID0gbmV3IGZoaXIuUHJvY2VkdXJlUmVxdWVzdFJlcXVlc3Rlcihzb3VyY2UucmVxdWVzdGVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyZm9ybWVyVHlwZSddKSB7IHRoaXMucGVyZm9ybWVyVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucGVyZm9ybWVyVHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmZvcm1lciddKSB7IHRoaXMucGVyZm9ybWVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wZXJmb3JtZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWFzb25Db2RlJ10pIHsgdGhpcy5yZWFzb25Db2RlID0gc291cmNlLnJlYXNvbkNvZGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWFzb25Db2RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvblJlZmVyZW5jZSddKSB7IHRoaXMucmVhc29uUmVmZXJlbmNlID0gc291cmNlLnJlYXNvblJlZmVyZW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlYXNvblJlZmVyZW5jZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzdXBwb3J0aW5nSW5mbyddKSB7IHRoaXMuc3VwcG9ydGluZ0luZm8gPSBzb3VyY2Uuc3VwcG9ydGluZ0luZm8ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdXBwb3J0aW5nSW5mbyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzcGVjaW1lbiddKSB7IHRoaXMuc3BlY2ltZW4gPSBzb3VyY2Uuc3BlY2ltZW4ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zcGVjaW1lbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydib2R5U2l0ZSddKSB7IHRoaXMuYm9keVNpdGUgPSBzb3VyY2UuYm9keVNpdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ib2R5U2l0ZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RlJ10pIHsgdGhpcy5ub3RlID0gc291cmNlLm5vdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Bbm5vdGF0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubm90ZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxldmFudEhpc3RvcnknXSkgeyB0aGlzLnJlbGV2YW50SGlzdG9yeSA9IHNvdXJjZS5yZWxldmFudEhpc3RvcnkubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWxldmFudEhpc3RvcnkgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1Byb2NlZHVyZVJlcXVlc3QnIH1cclxuICAgIHRoaXMudlJTKCdyZXNvdXJjZVR5cGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApXHJcbiAgICB0aGlzLnZPQSgnZGVmaW5pdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2Jhc2VkT24nLGV4cClcclxuICAgIHRoaXMudk9BKCdyZXBsYWNlcycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3JlcXVpc2l0aW9uJyxleHApXHJcbiAgICB0aGlzLnZSU1YoJ3N0YXR1cycsZXhwLCdSZXF1ZXN0U3RhdHVzJyxSZXF1ZXN0U3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudlJTVignaW50ZW50JyxleHAsJ1JlcXVlc3RJbnRlbnQnLFJlcXVlc3RJbnRlbnRWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1NWKCdwcmlvcml0eScsZXhwLCdSZXF1ZXN0UHJpb3JpdHknLFJlcXVlc3RQcmlvcml0eVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPUygnZG9Ob3RQZXJmb3JtJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY2F0ZWdvcnknLGV4cClcclxuICAgIHRoaXMudlJTKCdjb2RlJyxleHApXHJcbiAgICB0aGlzLnZSUygnc3ViamVjdCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NvbnRleHQnLGV4cClcclxuICAgIHRoaXMudk9TKCdvY2N1cnJlbmNlJyxleHApXHJcbiAgICB0aGlzLnZPUygnYXNOZWVkZWQnLGV4cClcclxuICAgIHRoaXMudk9TKCdhdXRob3JlZE9uJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVxdWVzdGVyJyxleHApXHJcbiAgICB0aGlzLnZPUygncGVyZm9ybWVyVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3BlcmZvcm1lcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3JlYXNvbkNvZGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdyZWFzb25SZWZlcmVuY2UnLGV4cClcclxuICAgIHRoaXMudk9BKCdzdXBwb3J0aW5nSW5mbycsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3NwZWNpbWVuJyxleHApXHJcbiAgICB0aGlzLnZPQSgnYm9keVNpdGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdub3RlJyxleHApXHJcbiAgICB0aGlzLnZPQSgncmVsZXZhbnRIaXN0b3J5JyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=