// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: Goal
import * as fhir from '../fhir.js';
// @ts-ignore
import { GoalStatusVsValidation } from '../fhirValueSets/GoalStatusVsValidation.js';
/**
 * Indicates what should be done by when.
 */
export class GoalTarget extends fhir.BackboneElement {
    /**
     * Default constructor for GoalTarget - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['measure']) {
            this.measure = new fhir.CodeableConcept(source.measure);
        }
        if (source['detail']) {
            this.detail = source.detail;
        }
        else if (source['detailQuantity']) {
            this.detail = new fhir.Quantity(source.detailQuantity);
        }
        else if (source['detailRange']) {
            this.detail = new fhir.Range(source.detailRange);
        }
        else if (source['detailCodeableConcept']) {
            this.detail = new fhir.CodeableConcept(source.detailCodeableConcept);
        }
        if (source['due']) {
            this.due = source.due;
        }
        else if (source['dueDate']) {
            this.due = new fhir.FhirDate({ value: source.dueDate });
        }
        else if (source['dueDuration']) {
            this.due = new fhir.Duration(source.dueDuration);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Goal.target';
        }
        iss.push(...this.vOS('measure', exp));
        iss.push(...this.vOS('detail', exp));
        iss.push(...this.vOS('due', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
GoalTarget._fts_dataType = 'GoalTarget';
/**
 * Internal flag to properly serialize choice-type element Goal.target.detail[x]
 */
GoalTarget._fts_detailIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Goal.target.due[x]
 */
GoalTarget._fts_dueIsChoice = true;
/**
 * Describes the intended objective(s) for a patient, group or organization care, for example, weight loss, restoring an activity of daily living, obtaining herd immunity via immunization, meeting a process improvement objective, etc.
 */
export class Goal extends fhir.DomainResource {
    /**
     * Default constructor for Goal - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Goal';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['category']) {
            this.category = source.category.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.category = [];
        }
        if (source['priority']) {
            this.priority = new fhir.CodeableConcept(source.priority);
        }
        if (source['description']) {
            this.description = new fhir.CodeableConcept(source.description);
        }
        else {
            this.description = null;
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['start']) {
            this.start = source.start;
        }
        else if (source['startDate']) {
            this.start = new fhir.FhirDate({ value: source.startDate });
        }
        else if (source['startCodeableConcept']) {
            this.start = new fhir.CodeableConcept(source.startCodeableConcept);
        }
        if (source['target']) {
            this.target = new fhir.GoalTarget(source.target);
        }
        if (source['statusDate']) {
            this.statusDate = new fhir.FhirDate({ value: source.statusDate });
        }
        if (source['_statusDate']) {
            if (this.statusDate) {
                this.statusDate.addExtendedProperties(source._statusDate);
            }
            else {
                this.statusDate = new fhir.FhirDate(source._statusDate);
            }
        }
        if (source['statusReason']) {
            this.statusReason = new fhir.FhirString({ value: source.statusReason });
        }
        if (source['_statusReason']) {
            if (this.statusReason) {
                this.statusReason.addExtendedProperties(source._statusReason);
            }
            else {
                this.statusReason = new fhir.FhirString(source._statusReason);
            }
        }
        if (source['expressedBy']) {
            this.expressedBy = new fhir.Reference(source.expressedBy);
        }
        if (source['addresses']) {
            this.addresses = source.addresses.map((x) => new fhir.Reference(x));
        }
        else {
            this.addresses = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['outcomeCode']) {
            this.outcomeCode = source.outcomeCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.outcomeCode = [];
        }
        if (source['outcomeReference']) {
            this.outcomeReference = source.outcomeReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.outcomeReference = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Goal';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'GoalStatus', GoalStatusVsValidation, 'r'));
        iss.push(...this.vOA('category', exp));
        iss.push(...this.vOS('priority', exp));
        iss.push(...this.vRS('description', exp));
        iss.push(...this.vOS('subject', exp));
        iss.push(...this.vOS('start', exp));
        iss.push(...this.vOS('target', exp));
        iss.push(...this.vOS('statusDate', exp));
        iss.push(...this.vOS('statusReason', exp));
        iss.push(...this.vOS('expressedBy', exp));
        iss.push(...this.vOA('addresses', exp));
        iss.push(...this.vOA('note', exp));
        iss.push(...this.vOA('outcomeCode', exp));
        iss.push(...this.vOA('outcomeReference', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Goal._fts_dataType = 'Goal';
/**
 * Internal flag to properly serialize choice-type element Goal.start[x]
 */
Goal._fts_startIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR29hbC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvR29hbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxzQkFBc0I7QUFFdEIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFRbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBbURwRjs7R0FFRztBQUNILE1BQU0sT0FBTyxVQUFXLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUF5QmxEOztPQUVHO0lBQ0gsWUFBWSxTQUFpQyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN2RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDbkYsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7U0FBRTthQUNqRCxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQUU7YUFDekYsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7U0FBRTthQUNoRixJQUFJLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FB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LENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDOUMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQTVJRDs7R0FFRztBQUM2QixrQkFBYSxHQUFVLE1BQU0sQ0FBQztBQWtDOUQ7O0dBRUc7QUFDdUIsdUJBQWtCLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIzLmNvcmUgdmVyc2lvbjogMy4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBHb2FsXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBPYnNlcnZhdGlvbkNvZGVzLCAgT2JzZXJ2YXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JzZXJ2YXRpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JzZXJ2YXRpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09ic2VydmF0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBHb2FsU3RhdHVzQ29kZXMsICBHb2FsU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0dvYWxTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgR29hbFN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvR29hbFN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgR29hbENhdGVnb3J5Q29kZXMsICBHb2FsQ2F0ZWdvcnlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvR29hbENhdGVnb3J5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEdvYWxDYXRlZ29yeVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvR29hbENhdGVnb3J5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBHb2FsUHJpb3JpdHlDb2RlcywgIEdvYWxQcmlvcml0eUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Hb2FsUHJpb3JpdHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgR29hbFByaW9yaXR5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Hb2FsUHJpb3JpdHlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsaW5pY2FsRmluZGluZ3NDb2RlcywgIENsaW5pY2FsRmluZGluZ3NDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xpbmljYWxGaW5kaW5nc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGluaWNhbEZpbmRpbmdzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGluaWNhbEZpbmRpbmdzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEdvYWxUYXJnZXQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgR29hbFRhcmdldEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJhbWV0ZXIgd2hvc2UgdmFsdWUgaXMgYmVpbmcgdHJhY2tlZCwgZS5nLiBib2R5IHdlaWdodCwgYmxvb2QgcHJlc3N1cmUsIG9yIGhlbW9nbG9iaW4gQTFjIGxldmVsLlxyXG4gICAqL1xyXG4gIG1lYXN1cmU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0YXJnZXQgdmFsdWUgb2YgdGhlIGZvY3VzIHRvIGJlIGFjaGlldmVkIHRvIHNpZ25pZnkgdGhlIGZ1bGZpbGxtZW50IG9mIHRoZSBnb2FsLCBlLmcuIDE1MCBwb3VuZHMsIDcuMCUuIEVpdGhlciB0aGUgaGlnaCBvciBsb3cgb3IgYm90aCB2YWx1ZXMgb2YgdGhlIHJhbmdlIGNhbiBiZSBzcGVjaWZpZWQuIFdoZW4gYSBsb3cgdmFsdWUgaXMgbWlzc2luZywgaXQgaW5kaWNhdGVzIHRoYXQgdGhlIGdvYWwgaXMgYWNoaWV2ZWQgYXQgYW55IGZvY3VzIHZhbHVlIGF0IG9yIGJlbG93IHRoZSBoaWdoIHZhbHVlLiBTaW1pbGFybHksIGlmIHRoZSBoaWdoIHZhbHVlIGlzIG1pc3NpbmcsIGl0IGluZGljYXRlcyB0aGF0IHRoZSBnb2FsIGlzIGFjaGlldmVkIGF0IGFueSBmb2N1cyB2YWx1ZSBhdCBvciBhYm92ZSB0aGUgbG93IHZhbHVlLlxyXG4gICAqL1xyXG4gIGRldGFpbD86IGZoaXIuUXVhbnRpdHl8Zmhpci5SYW5nZXxmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCB2YWx1ZSBvZiB0aGUgZm9jdXMgdG8gYmUgYWNoaWV2ZWQgdG8gc2lnbmlmeSB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIGdvYWwsIGUuZy4gMTUwIHBvdW5kcywgNy4wJS4gRWl0aGVyIHRoZSBoaWdoIG9yIGxvdyBvciBib3RoIHZhbHVlcyBvZiB0aGUgcmFuZ2UgY2FuIGJlIHNwZWNpZmllZC4gV2hlbiBhIGxvdyB2YWx1ZSBpcyBtaXNzaW5nLCBpdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZ29hbCBpcyBhY2hpZXZlZCBhdCBhbnkgZm9jdXMgdmFsdWUgYXQgb3IgYmVsb3cgdGhlIGhpZ2ggdmFsdWUuIFNpbWlsYXJseSwgaWYgdGhlIGhpZ2ggdmFsdWUgaXMgbWlzc2luZywgaXQgaW5kaWNhdGVzIHRoYXQgdGhlIGdvYWwgaXMgYWNoaWV2ZWQgYXQgYW55IGZvY3VzIHZhbHVlIGF0IG9yIGFib3ZlIHRoZSBsb3cgdmFsdWUuXHJcbiAgICovXHJcbiAgZGV0YWlsUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCB2YWx1ZSBvZiB0aGUgZm9jdXMgdG8gYmUgYWNoaWV2ZWQgdG8gc2lnbmlmeSB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIGdvYWwsIGUuZy4gMTUwIHBvdW5kcywgNy4wJS4gRWl0aGVyIHRoZSBoaWdoIG9yIGxvdyBvciBib3RoIHZhbHVlcyBvZiB0aGUgcmFuZ2UgY2FuIGJlIHNwZWNpZmllZC4gV2hlbiBhIGxvdyB2YWx1ZSBpcyBtaXNzaW5nLCBpdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZ29hbCBpcyBhY2hpZXZlZCBhdCBhbnkgZm9jdXMgdmFsdWUgYXQgb3IgYmVsb3cgdGhlIGhpZ2ggdmFsdWUuIFNpbWlsYXJseSwgaWYgdGhlIGhpZ2ggdmFsdWUgaXMgbWlzc2luZywgaXQgaW5kaWNhdGVzIHRoYXQgdGhlIGdvYWwgaXMgYWNoaWV2ZWQgYXQgYW55IGZvY3VzIHZhbHVlIGF0IG9yIGFib3ZlIHRoZSBsb3cgdmFsdWUuXHJcbiAgICovXHJcbiAgZGV0YWlsUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCB2YWx1ZSBvZiB0aGUgZm9jdXMgdG8gYmUgYWNoaWV2ZWQgdG8gc2lnbmlmeSB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIGdvYWwsIGUuZy4gMTUwIHBvdW5kcywgNy4wJS4gRWl0aGVyIHRoZSBoaWdoIG9yIGxvdyBvciBib3RoIHZhbHVlcyBvZiB0aGUgcmFuZ2UgY2FuIGJlIHNwZWNpZmllZC4gV2hlbiBhIGxvdyB2YWx1ZSBpcyBtaXNzaW5nLCBpdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZ29hbCBpcyBhY2hpZXZlZCBhdCBhbnkgZm9jdXMgdmFsdWUgYXQgb3IgYmVsb3cgdGhlIGhpZ2ggdmFsdWUuIFNpbWlsYXJseSwgaWYgdGhlIGhpZ2ggdmFsdWUgaXMgbWlzc2luZywgaXQgaW5kaWNhdGVzIHRoYXQgdGhlIGdvYWwgaXMgYWNoaWV2ZWQgYXQgYW55IGZvY3VzIHZhbHVlIGF0IG9yIGFib3ZlIHRoZSBsb3cgdmFsdWUuXHJcbiAgICovXHJcbiAgZGV0YWlsQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgZWl0aGVyIHRoZSBkYXRlIG9yIHRoZSBkdXJhdGlvbiBhZnRlciBzdGFydCBieSB3aGljaCB0aGUgZ29hbCBzaG91bGQgYmUgbWV0LlxyXG4gICAqL1xyXG4gIGR1ZT86IGZoaXIuRmhpckRhdGV8Zmhpci5EdXJhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIGVpdGhlciB0aGUgZGF0ZSBvciB0aGUgZHVyYXRpb24gYWZ0ZXIgc3RhcnQgYnkgd2hpY2ggdGhlIGdvYWwgc2hvdWxkIGJlIG1ldC5cclxuICAgKi9cclxuICBkdWVEYXRlPzogZmhpci5GaGlyRGF0ZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyBlaXRoZXIgdGhlIGRhdGUgb3IgdGhlIGR1cmF0aW9uIGFmdGVyIHN0YXJ0IGJ5IHdoaWNoIHRoZSBnb2FsIHNob3VsZCBiZSBtZXQuXHJcbiAgICovXHJcbiAgZHVlRHVyYXRpb24/OiBmaGlyLkR1cmF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmRpY2F0ZXMgd2hhdCBzaG91bGQgYmUgZG9uZSBieSB3aGVuLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdvYWxUYXJnZXQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdHb2FsVGFyZ2V0JztcclxuICAvKipcclxuICAgKiBUaGUgcGFyYW1ldGVyIHdob3NlIHZhbHVlIGlzIGJlaW5nIHRyYWNrZWQsIGUuZy4gYm9keSB3ZWlnaHQsIGJsb29kIHByZXNzdXJlLCBvciBoZW1vZ2xvYmluIEExYyBsZXZlbC5cclxuICAgKi9cclxuICBwdWJsaWMgbWVhc3VyZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGFyZ2V0IHZhbHVlIG9mIHRoZSBmb2N1cyB0byBiZSBhY2hpZXZlZCB0byBzaWduaWZ5IHRoZSBmdWxmaWxsbWVudCBvZiB0aGUgZ29hbCwgZS5nLiAxNTAgcG91bmRzLCA3LjAlLiBFaXRoZXIgdGhlIGhpZ2ggb3IgbG93IG9yIGJvdGggdmFsdWVzIG9mIHRoZSByYW5nZSBjYW4gYmUgc3BlY2lmaWVkLiBXaGVuIGEgbG93IHZhbHVlIGlzIG1pc3NpbmcsIGl0IGluZGljYXRlcyB0aGF0IHRoZSBnb2FsIGlzIGFjaGlldmVkIGF0IGFueSBmb2N1cyB2YWx1ZSBhdCBvciBiZWxvdyB0aGUgaGlnaCB2YWx1ZS4gU2ltaWxhcmx5LCBpZiB0aGUgaGlnaCB2YWx1ZSBpcyBtaXNzaW5nLCBpdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZ29hbCBpcyBhY2hpZXZlZCBhdCBhbnkgZm9jdXMgdmFsdWUgYXQgb3IgYWJvdmUgdGhlIGxvdyB2YWx1ZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGV0YWlsPzogKGZoaXIuUXVhbnRpdHl8Zmhpci5SYW5nZXxmaGlyLkNvZGVhYmxlQ29uY2VwdCl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgR29hbC50YXJnZXQuZGV0YWlsW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2RldGFpbElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyBlaXRoZXIgdGhlIGRhdGUgb3IgdGhlIGR1cmF0aW9uIGFmdGVyIHN0YXJ0IGJ5IHdoaWNoIHRoZSBnb2FsIHNob3VsZCBiZSBtZXQuXHJcbiAgICovXHJcbiAgcHVibGljIGR1ZT86IChmaGlyLkZoaXJEYXRlfGZoaXIuRHVyYXRpb24pfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEdvYWwudGFyZ2V0LmR1ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19kdWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBHb2FsVGFyZ2V0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8R29hbFRhcmdldEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydtZWFzdXJlJ10pIHsgdGhpcy5tZWFzdXJlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZWFzdXJlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV0YWlsJ10pIHsgdGhpcy5kZXRhaWwgPSBzb3VyY2UuZGV0YWlsOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RldGFpbFF1YW50aXR5J10pIHsgdGhpcy5kZXRhaWwgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuZGV0YWlsUXVhbnRpdHkpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RldGFpbFJhbmdlJ10pIHsgdGhpcy5kZXRhaWwgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UuZGV0YWlsUmFuZ2UpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2RldGFpbENvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuZGV0YWlsID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5kZXRhaWxDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBpZiAoc291cmNlWydkdWUnXSkgeyB0aGlzLmR1ZSA9IHNvdXJjZS5kdWU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZHVlRGF0ZSddKSB7IHRoaXMuZHVlID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UuZHVlRGF0ZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2R1ZUR1cmF0aW9uJ10pIHsgdGhpcy5kdWUgPSBuZXcgZmhpci5EdXJhdGlvbihzb3VyY2UuZHVlRHVyYXRpb24pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnR29hbC50YXJnZXQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtZWFzdXJlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXRhaWwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2R1ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgR29hbCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBHb2FsQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiR29hbFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHJlY29yZHMgaWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY2FyZSBwbGFuIHRoYXQgYXJlIGRlZmluZWQgYnkgYnVzaW5lc3MgcHJvY2Vzc2VzIGFuZC9vciB1c2VkIHRvIHJlZmVyIHRvIGl0IHdoZW4gYSBkaXJlY3QgVVJMIHJlZmVyZW5jZSB0byB0aGUgcmVzb3VyY2UgaXRzZWxmIGlzIG5vdCBhcHByb3ByaWF0ZSAoZS5nLiBpbiBDREEgZG9jdW1lbnRzLCBvciBpbiB3cml0dGVuIC8gcHJpbnRlZCBkb2N1bWVudGF0aW9uKS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPEdvYWxTdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogR29hbC5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgYSBjYXRlZ29yeSB0aGUgZ29hbCBmYWxscyB3aXRoaW4uXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5zaW9ucyBhcmUgYXZhaWxhYmxlIHRvIHRyYWNrIHByaW9yaXRpZXMgYXMgZXN0YWJsaXNoZWQgYnkgZWFjaCBwYXJ0aWNpcGFudCAoaS5lLiBQcmlvcml0eSBmcm9tIHRoZSBwYXRpZW50J3MgcGVyc3BlY3RpdmUsIGRpZmZlcmVudCBwcmFjdGl0aW9uZXJzJyBwZXJzcGVjdGl2ZXMsIGZhbWlseSBtZW1iZXIncyBwZXJzcGVjdGl2ZXMpXHJcbiAgICogVGhlIG9yZGluYWwgZXh0ZW5zaW9uIG9uIENvZGluZyBjYW4gYmUgdXNlZCB0byBjb252ZXkgYSBudW1lcmljYWxseSBjb21wYXJhYmxlIHJhbmtpbmcgdG8gcHJpb3JpdHkuICAoS2VlcCBpbiBtaW5kIHRoYXQgZGlmZmVyZW50IGNvZGluZyBzeXN0ZW1zIG1heSB1c2UgYSBcImxvdyB2YWx1ZT1pbXBvcnRhbnRcIi5cclxuICAgKi9cclxuICBwcmlvcml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgbm8gY29kZSBpcyBhdmFpbGFibGUsIHVzZSBDb2RlYWJsZUNvbmNlcHQudGV4dC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgcGF0aWVudCwgZ3JvdXAgb3Igb3JnYW5pemF0aW9uIGZvciB3aG9tIHRoZSBnb2FsIGlzIGJlaW5nIGVzdGFibGlzaGVkLlxyXG4gICAqL1xyXG4gIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIG9yIGV2ZW50IGFmdGVyIHdoaWNoIHRoZSBnb2FsIHNob3VsZCBiZWdpbiBiZWluZyBwdXJzdWVkLlxyXG4gICAqL1xyXG4gIHN0YXJ0PzogZmhpci5GaGlyRGF0ZXxmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgb3IgZXZlbnQgYWZ0ZXIgd2hpY2ggdGhlIGdvYWwgc2hvdWxkIGJlZ2luIGJlaW5nIHB1cnN1ZWQuXHJcbiAgICovXHJcbiAgc3RhcnREYXRlPzogZmhpci5GaGlyRGF0ZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIG9yIGV2ZW50IGFmdGVyIHdoaWNoIHRoZSBnb2FsIHNob3VsZCBiZWdpbiBiZWluZyBwdXJzdWVkLlxyXG4gICAqL1xyXG4gIHN0YXJ0Q29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hhdCBzaG91bGQgYmUgZG9uZSBieSB3aGVuLlxyXG4gICAqL1xyXG4gIHRhcmdldD86IGZoaXIuR29hbFRhcmdldEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRvIHNlZSB0aGUgZGF0ZSBmb3IgcGFzdCBzdGF0dXNlcywgcXVlcnkgaGlzdG9yeS5cclxuICAgKi9cclxuICBzdGF0dXNEYXRlPzogZmhpci5GaGlyRGF0ZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBHb2FsLnN0YXR1c0RhdGVcclxuICAgKi9cclxuICBfc3RhdHVzRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB3aWxsIHR5cGljYWxseSBiZSBjYXB0dXJlZCBmb3Igc3RhdHVzZXMgc3VjaCBhcyByZWplY3RlZCwgb24taG9sZCBvciBjYW5jZWxsZWQsIGJ1dCBjb3VsZCBiZSBwcmVzZW50IGZvciBvdGhlcnMuXHJcbiAgICovXHJcbiAgc3RhdHVzUmVhc29uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEdvYWwuc3RhdHVzUmVhc29uXHJcbiAgICovXHJcbiAgX3N0YXR1c1JlYXNvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyB0aGUgaW5kaXZpZHVhbCByZXBvbnNpYmxlIGZvciBlc3RhYmxpc2hpbmcgdGhlIGdvYWwsIG5vdCBuZWNlc3NhcmlseSB3aG8gcmVjb3JkZWQgaXQuICAoRm9yIHRoYXQsIHVzZSB0aGUgUHJvdmVuYW5jZSByZXNvdXJjZS4pLlxyXG4gICAqL1xyXG4gIGV4cHJlc3NlZEJ5PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaWRlbnRpZmllZCBjb25kaXRpb25zIGFuZCBvdGhlciBoZWFsdGggcmVjb3JkIGVsZW1lbnRzIHRoYXQgYXJlIGludGVuZGVkIHRvIGJlIGFkZHJlc3NlZCBieSB0aGUgZ29hbC5cclxuICAgKi9cclxuICBhZGRyZXNzZXM/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIHVzZWQgZm9yIHByb2dyZXNzIG5vdGVzLCBjb25jZXJucyBvciBvdGhlciByZWxhdGVkIGluZm9ybWF0aW9uIHRoYXQgZG9lc24ndCBhY3R1YWxseSBkZXNjcmliZSB0aGUgZ29hbCBpdHNlbGYuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgc2hvdWxkIG5vdCBkdXBsaWNhdGUgdGhlIGdvYWwgc3RhdHVzLlxyXG4gICAqL1xyXG4gIG91dGNvbWVDb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBnb2FsIG91dGNvbWUgaXMgaW5kZXBlbmRlbnQgb2YgdGhlIG91dGNvbWUgb2YgdGhlIHJlbGF0ZWQgYWN0aXZpdGllcy4gIEZvciBleGFtcGxlLCBpZiB0aGUgR29hbCBpcyB0byBhY2hpZXZlIGEgdGFyZ2V0IGJvZHkgd2VpZ2h0IG9mIDE1MCBsYiBhbmQgYSBjYXJlIHBsYW4gYWN0aXZpdHkgaXMgZGVmaW5lZCB0byBkaWV0LCB0aGVuIHRoZSBjYXJlIHBsYW7igJlzIGFjdGl2aXR5IG91dGNvbWUgY291bGQgYmUgY2Fsb3JpZXMgY29uc3VtZWQgd2hlcmVhcyBnb2FsIG91dGNvbWUgaXMgYW4gb2JzZXJ2YXRpb24gZm9yIHRoZSBhY3R1YWwgYm9keSB3ZWlnaHQgbWVhc3VyZWQuXHJcbiAgICovXHJcbiAgb3V0Y29tZVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlc2NyaWJlcyB0aGUgaW50ZW5kZWQgb2JqZWN0aXZlKHMpIGZvciBhIHBhdGllbnQsIGdyb3VwIG9yIG9yZ2FuaXphdGlvbiBjYXJlLCBmb3IgZXhhbXBsZSwgd2VpZ2h0IGxvc3MsIHJlc3RvcmluZyBhbiBhY3Rpdml0eSBvZiBkYWlseSBsaXZpbmcsIG9idGFpbmluZyBoZXJkIGltbXVuaXR5IHZpYSBpbW11bml6YXRpb24sIG1lZXRpbmcgYSBwcm9jZXNzIGltcHJvdmVtZW50IG9iamVjdGl2ZSwgZXRjLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdvYWwgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0dvYWwnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiR29hbFwiO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgcmVjb3JkcyBpZGVudGlmaWVycyBhc3NvY2lhdGVkIHdpdGggdGhpcyBjYXJlIHBsYW4gdGhhdCBhcmUgZGVmaW5lZCBieSBidXNpbmVzcyBwcm9jZXNzZXMgYW5kL29yIHVzZWQgdG8gcmVmZXIgdG8gaXQgd2hlbiBhIGRpcmVjdCBVUkwgcmVmZXJlbmNlIHRvIHRoZSByZXNvdXJjZSBpdHNlbGYgaXMgbm90IGFwcHJvcHJpYXRlIChlLmcuIGluIENEQSBkb2N1bWVudHMsIG9yIGluIHdyaXR0ZW4gLyBwcmludGVkIGRvY3VtZW50YXRpb24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxHb2FsU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIGEgY2F0ZWdvcnkgdGhlIGdvYWwgZmFsbHMgd2l0aGluLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBFeHRlbnNpb25zIGFyZSBhdmFpbGFibGUgdG8gdHJhY2sgcHJpb3JpdGllcyBhcyBlc3RhYmxpc2hlZCBieSBlYWNoIHBhcnRpY2lwYW50IChpLmUuIFByaW9yaXR5IGZyb20gdGhlIHBhdGllbnQncyBwZXJzcGVjdGl2ZSwgZGlmZmVyZW50IHByYWN0aXRpb25lcnMnIHBlcnNwZWN0aXZlcywgZmFtaWx5IG1lbWJlcidzIHBlcnNwZWN0aXZlcylcclxuICAgKiBUaGUgb3JkaW5hbCBleHRlbnNpb24gb24gQ29kaW5nIGNhbiBiZSB1c2VkIHRvIGNvbnZleSBhIG51bWVyaWNhbGx5IGNvbXBhcmFibGUgcmFua2luZyB0byBwcmlvcml0eS4gIChLZWVwIGluIG1pbmQgdGhhdCBkaWZmZXJlbnQgY29kaW5nIHN5c3RlbXMgbWF5IHVzZSBhIFwibG93IHZhbHVlPWltcG9ydGFudFwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmlvcml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBubyBjb2RlIGlzIGF2YWlsYWJsZSwgdXNlIENvZGVhYmxlQ29uY2VwdC50ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbjogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHRoZSBwYXRpZW50LCBncm91cCBvciBvcmdhbml6YXRpb24gZm9yIHdob20gdGhlIGdvYWwgaXMgYmVpbmcgZXN0YWJsaXNoZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YmplY3Q/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgb3IgZXZlbnQgYWZ0ZXIgd2hpY2ggdGhlIGdvYWwgc2hvdWxkIGJlZ2luIGJlaW5nIHB1cnN1ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXJ0PzogKGZoaXIuRmhpckRhdGV8Zmhpci5Db2RlYWJsZUNvbmNlcHQpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IEdvYWwuc3RhcnRbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfc3RhcnRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hhdCBzaG91bGQgYmUgZG9uZSBieSB3aGVuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ/OiBmaGlyLkdvYWxUYXJnZXR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRvIHNlZSB0aGUgZGF0ZSBmb3IgcGFzdCBzdGF0dXNlcywgcXVlcnkgaGlzdG9yeS5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzRGF0ZT86IGZoaXIuRmhpckRhdGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgd2lsbCB0eXBpY2FsbHkgYmUgY2FwdHVyZWQgZm9yIHN0YXR1c2VzIHN1Y2ggYXMgcmVqZWN0ZWQsIG9uLWhvbGQgb3IgY2FuY2VsbGVkLCBidXQgY291bGQgYmUgcHJlc2VudCBmb3Igb3RoZXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXNSZWFzb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgdGhlIGluZGl2aWR1YWwgcmVwb25zaWJsZSBmb3IgZXN0YWJsaXNoaW5nIHRoZSBnb2FsLCBub3QgbmVjZXNzYXJpbHkgd2hvIHJlY29yZGVkIGl0LiAgKEZvciB0aGF0LCB1c2UgdGhlIFByb3ZlbmFuY2UgcmVzb3VyY2UuKS5cclxuICAgKi9cclxuICBwdWJsaWMgZXhwcmVzc2VkQnk/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZWQgY29uZGl0aW9ucyBhbmQgb3RoZXIgaGVhbHRoIHJlY29yZCBlbGVtZW50cyB0aGF0IGFyZSBpbnRlbmRlZCB0byBiZSBhZGRyZXNzZWQgYnkgdGhlIGdvYWwuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZHJlc3NlczogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBNYXkgYmUgdXNlZCBmb3IgcHJvZ3Jlc3Mgbm90ZXMsIGNvbmNlcm5zIG9yIG90aGVyIHJlbGF0ZWQgaW5mb3JtYXRpb24gdGhhdCBkb2Vzbid0IGFjdHVhbGx5IGRlc2NyaWJlIHRoZSBnb2FsIGl0c2VsZi5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZTogZmhpci5Bbm5vdGF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgc2hvdWxkIG5vdCBkdXBsaWNhdGUgdGhlIGdvYWwgc3RhdHVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lQ29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgZ29hbCBvdXRjb21lIGlzIGluZGVwZW5kZW50IG9mIHRoZSBvdXRjb21lIG9mIHRoZSByZWxhdGVkIGFjdGl2aXRpZXMuICBGb3IgZXhhbXBsZSwgaWYgdGhlIEdvYWwgaXMgdG8gYWNoaWV2ZSBhIHRhcmdldCBib2R5IHdlaWdodCBvZiAxNTAgbGIgYW5kIGEgY2FyZSBwbGFuIGFjdGl2aXR5IGlzIGRlZmluZWQgdG8gZGlldCwgdGhlbiB0aGUgY2FyZSBwbGFu4oCZcyBhY3Rpdml0eSBvdXRjb21lIGNvdWxkIGJlIGNhbG9yaWVzIGNvbnN1bWVkIHdoZXJlYXMgZ29hbCBvdXRjb21lIGlzIGFuIG9ic2VydmF0aW9uIGZvciB0aGUgYWN0dWFsIGJvZHkgd2VpZ2h0IG1lYXN1cmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdXRjb21lUmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEdvYWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxHb2FsQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0dvYWwnO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxHb2FsU3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEdvYWxTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IHNvdXJjZS5jYXRlZ29yeS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByaW9yaXR5J10pIHsgdGhpcy5wcmlvcml0eSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucHJpb3JpdHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmRlc2NyaXB0aW9uKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJqZWN0J10pIHsgdGhpcy5zdWJqZWN0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zdWJqZWN0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhcnQnXSkgeyB0aGlzLnN0YXJ0ID0gc291cmNlLnN0YXJ0OyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3N0YXJ0RGF0ZSddKSB7IHRoaXMuc3RhcnQgPSBuZXcgZmhpci5GaGlyRGF0ZSh7dmFsdWU6IHNvdXJjZS5zdGFydERhdGV9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydzdGFydENvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMuc3RhcnQgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnN0YXJ0Q29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0J10pIHsgdGhpcy50YXJnZXQgPSBuZXcgZmhpci5Hb2FsVGFyZ2V0KHNvdXJjZS50YXJnZXQpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXNEYXRlJ10pIHsgdGhpcy5zdGF0dXNEYXRlID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzRGF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1c0RhdGUpIHsgdGhpcy5zdGF0dXNEYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1c0RhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXNEYXRlID0gbmV3IGZoaXIuRmhpckRhdGUoc291cmNlLl9zdGF0dXNEYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzUmVhc29uJ10pIHsgdGhpcy5zdGF0dXNSZWFzb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnN0YXR1c1JlYXNvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzUmVhc29uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzUmVhc29uKSB7IHRoaXMuc3RhdHVzUmVhc29uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1c1JlYXNvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1c1JlYXNvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9zdGF0dXNSZWFzb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2V4cHJlc3NlZEJ5J10pIHsgdGhpcy5leHByZXNzZWRCeSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZXhwcmVzc2VkQnkpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzZXMnXSkgeyB0aGlzLmFkZHJlc3NlcyA9IHNvdXJjZS5hZGRyZXNzZXMubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hZGRyZXNzZXMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IHNvdXJjZS5ub3RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQW5ub3RhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5vdGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0Y29tZUNvZGUnXSkgeyB0aGlzLm91dGNvbWVDb2RlID0gc291cmNlLm91dGNvbWVDb2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3V0Y29tZUNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0Y29tZVJlZmVyZW5jZSddKSB7IHRoaXMub3V0Y29tZVJlZmVyZW5jZSA9IHNvdXJjZS5vdXRjb21lUmVmZXJlbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMub3V0Y29tZVJlZmVyZW5jZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnR29hbCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlBTKCdyZXNvdXJjZVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnR29hbFN0YXR1cycsR29hbFN0YXR1c1ZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjYXRlZ29yeScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHJpb3JpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2Rlc2NyaXB0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdWJqZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdGFydCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndGFyZ2V0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdGF0dXNEYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdGF0dXNSZWFzb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2V4cHJlc3NlZEJ5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdhZGRyZXNzZXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ25vdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ291dGNvbWVDb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdvdXRjb21lUmVmZXJlbmNlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==