// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: ImagingStudy
import * as fhir from '../fhir.js';
// @ts-ignore
import { InstanceAvailabilityVsValidation } from '../fhirValueSets/InstanceAvailabilityVsValidation.js';
/**
 * A single SOP instance within the series, e.g. an image, or presentation state.
 */
export class ImagingStudySeriesInstance extends fhir.BackboneElement {
    /**
     * Default constructor for ImagingStudySeriesInstance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['uid']) {
            this.uid = new fhir.FhirOid({ value: source.uid });
        }
        else {
            this.uid = null;
        }
        if (source['_uid']) {
            if (this.uid) {
                this.uid.addExtendedProperties(source._uid);
            }
            else {
                this.uid = new fhir.FhirOid(source._uid);
            }
        }
        if (source['number']) {
            this.number = new fhir.FhirUnsignedInt({ value: source.number });
        }
        if (source['_number']) {
            if (this.number) {
                this.number.addExtendedProperties(source._number);
            }
            else {
                this.number = new fhir.FhirUnsignedInt(source._number);
            }
        }
        if (source['sopClass']) {
            this.sopClass = new fhir.FhirOid({ value: source.sopClass });
        }
        else {
            this.sopClass = null;
        }
        if (source['_sopClass']) {
            if (this.sopClass) {
                this.sopClass.addExtendedProperties(source._sopClass);
            }
            else {
                this.sopClass = new fhir.FhirOid(source._sopClass);
            }
        }
        if (source['title']) {
            this.title = new fhir.FhirString({ value: source.title });
        }
        if (source['_title']) {
            if (this.title) {
                this.title.addExtendedProperties(source._title);
            }
            else {
                this.title = new fhir.FhirString(source._title);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ImagingStudy.series.instance';
        }
        this.vRS('uid', exp);
        this.vOS('number', exp);
        this.vRS('sopClass', exp);
        this.vOS('title', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImagingStudySeriesInstance._fts_dataType = 'ImagingStudySeriesInstance';
/**
 * Each study has one or more series of images or other content.
 */
export class ImagingStudySeries extends fhir.BackboneElement {
    /**
     * Default constructor for ImagingStudySeries - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['uid']) {
            this.uid = new fhir.FhirOid({ value: source.uid });
        }
        else {
            this.uid = null;
        }
        if (source['_uid']) {
            if (this.uid) {
                this.uid.addExtendedProperties(source._uid);
            }
            else {
                this.uid = new fhir.FhirOid(source._uid);
            }
        }
        if (source['number']) {
            this.number = new fhir.FhirUnsignedInt({ value: source.number });
        }
        if (source['_number']) {
            if (this.number) {
                this.number.addExtendedProperties(source._number);
            }
            else {
                this.number = new fhir.FhirUnsignedInt(source._number);
            }
        }
        if (source['modality']) {
            this.modality = new fhir.Coding(source.modality);
        }
        else {
            this.modality = null;
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['numberOfInstances']) {
            this.numberOfInstances = new fhir.FhirUnsignedInt({ value: source.numberOfInstances });
        }
        if (source['_numberOfInstances']) {
            if (this.numberOfInstances) {
                this.numberOfInstances.addExtendedProperties(source._numberOfInstances);
            }
            else {
                this.numberOfInstances = new fhir.FhirUnsignedInt(source._numberOfInstances);
            }
        }
        if (source['availability']) {
            this.availability = new fhir.FhirCode({ value: source.availability });
        }
        if (source['_availability']) {
            if (this.availability) {
                this.availability.addExtendedProperties(source._availability);
            }
            else {
                this.availability = new fhir.FhirCode(source._availability);
            }
        }
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.Reference(x));
        }
        else {
            this.endpoint = [];
        }
        if (source['bodySite']) {
            this.bodySite = new fhir.Coding(source.bodySite);
        }
        if (source['laterality']) {
            this.laterality = new fhir.Coding(source.laterality);
        }
        if (source['started']) {
            this.started = new fhir.FhirDateTime({ value: source.started });
        }
        if (source['_started']) {
            if (this.started) {
                this.started.addExtendedProperties(source._started);
            }
            else {
                this.started = new fhir.FhirDateTime(source._started);
            }
        }
        if (source['performer']) {
            this.performer = source.performer.map((x) => new fhir.Reference(x));
        }
        else {
            this.performer = [];
        }
        if (source['instance']) {
            this.instance = source.instance.map((x) => new fhir.ImagingStudySeriesInstance(x));
        }
        else {
            this.instance = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ImagingStudy.series';
        }
        this.vRS('uid', exp);
        this.vOS('number', exp);
        this.vRS('modality', exp);
        this.vOS('description', exp);
        this.vOS('numberOfInstances', exp);
        this.vOSV('availability', exp, 'InstanceAvailability', InstanceAvailabilityVsValidation, 'r');
        this.vOA('endpoint', exp);
        this.vOS('bodySite', exp);
        this.vOS('laterality', exp);
        this.vOS('started', exp);
        this.vOA('performer', exp);
        this.vOA('instance', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImagingStudySeries._fts_dataType = 'ImagingStudySeries';
/**
 * Representation of the content produced in a DICOM imaging study. A study comprises a set of series, each of which includes a set of Service-Object Pair Instances (SOP Instances - images or other data) acquired or produced in a common context.  A series is of only one modality (e.g. X-ray, CT, MR, ultrasound), but a study may have multiple series of different modalities.
 */
export class ImagingStudy extends fhir.DomainResource {
    /**
     * Default constructor for ImagingStudy - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ImagingStudy';
        if (source['uid']) {
            this.uid = new fhir.FhirOid({ value: source.uid });
        }
        else {
            this.uid = null;
        }
        if (source['_uid']) {
            if (this.uid) {
                this.uid.addExtendedProperties(source._uid);
            }
            else {
                this.uid = new fhir.FhirOid(source._uid);
            }
        }
        if (source['accession']) {
            this.accession = new fhir.Identifier(source.accession);
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['availability']) {
            this.availability = new fhir.FhirCode({ value: source.availability });
        }
        if (source['_availability']) {
            if (this.availability) {
                this.availability.addExtendedProperties(source._availability);
            }
            else {
                this.availability = new fhir.FhirCode(source._availability);
            }
        }
        if (source['modalityList']) {
            this.modalityList = source.modalityList.map((x) => new fhir.Coding(x));
        }
        else {
            this.modalityList = [];
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        else {
            this.patient = null;
        }
        if (source['context']) {
            this.context = new fhir.Reference(source.context);
        }
        if (source['started']) {
            this.started = new fhir.FhirDateTime({ value: source.started });
        }
        if (source['_started']) {
            if (this.started) {
                this.started.addExtendedProperties(source._started);
            }
            else {
                this.started = new fhir.FhirDateTime(source._started);
            }
        }
        if (source['basedOn']) {
            this.basedOn = source.basedOn.map((x) => new fhir.Reference(x));
        }
        else {
            this.basedOn = [];
        }
        if (source['referrer']) {
            this.referrer = new fhir.Reference(source.referrer);
        }
        if (source['interpreter']) {
            this.interpreter = source.interpreter.map((x) => new fhir.Reference(x));
        }
        else {
            this.interpreter = [];
        }
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.Reference(x));
        }
        else {
            this.endpoint = [];
        }
        if (source['numberOfSeries']) {
            this.numberOfSeries = new fhir.FhirUnsignedInt({ value: source.numberOfSeries });
        }
        if (source['_numberOfSeries']) {
            if (this.numberOfSeries) {
                this.numberOfSeries.addExtendedProperties(source._numberOfSeries);
            }
            else {
                this.numberOfSeries = new fhir.FhirUnsignedInt(source._numberOfSeries);
            }
        }
        if (source['numberOfInstances']) {
            this.numberOfInstances = new fhir.FhirUnsignedInt({ value: source.numberOfInstances });
        }
        if (source['_numberOfInstances']) {
            if (this.numberOfInstances) {
                this.numberOfInstances.addExtendedProperties(source._numberOfInstances);
            }
            else {
                this.numberOfInstances = new fhir.FhirUnsignedInt(source._numberOfInstances);
            }
        }
        if (source['procedureReference']) {
            this.procedureReference = source.procedureReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.procedureReference = [];
        }
        if (source['procedureCode']) {
            this.procedureCode = source.procedureCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.procedureCode = [];
        }
        if (source['reason']) {
            this.reason = new fhir.CodeableConcept(source.reason);
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['series']) {
            this.series = source.series.map((x) => new fhir.ImagingStudySeries(x));
        }
        else {
            this.series = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ImagingStudy';
        }
        this.vRS('resourceType', exp);
        this.vRS('uid', exp);
        this.vOS('accession', exp);
        this.vOA('identifier', exp);
        this.vOSV('availability', exp, 'InstanceAvailability', InstanceAvailabilityVsValidation, 'r');
        this.vOA('modalityList', exp);
        this.vRS('patient', exp);
        this.vOS('context', exp);
        this.vOS('started', exp);
        this.vOA('basedOn', exp);
        this.vOS('referrer', exp);
        this.vOA('interpreter', exp);
        this.vOA('endpoint', exp);
        this.vOS('numberOfSeries', exp);
        this.vOS('numberOfInstances', exp);
        this.vOA('procedureReference', exp);
        this.vOA('procedureCode', exp);
        this.vOS('reason', exp);
        this.vOS('description', exp);
        this.vOA('series', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ImagingStudy._fts_dataType = 'ImagingStudy';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW1hZ2luZ1N0dWR5LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9JbWFnaW5nU3R1ZHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsOEJBQThCO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBUW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsZ0NBQWdDLEVBQUUsTUFBTSxzREFBc0QsQ0FBQztBQXVEeEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sMEJBQTJCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQmxFOztPQUVHO0lBQ0gsWUFBWSxTQUFpRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUN2RyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUM7U0FBRTthQUNuRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDekIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDbEIsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUFFLElBQUksQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLElBQUssQ0FBQyxDQUFDO2FBQUU7aUJBQzFEO2dCQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFpQyxDQUFDLENBQUM7YUFBRTtTQUNoRjtRQUNELElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENB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RyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QixJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMzQixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQTNLRDs7R0FFRztBQUM2QiwwQkFBYSxHQUFVLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yMy5jb3JlIHZlcnNpb246IDMuMC4yXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogSW1hZ2luZ1N0dWR5XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaWNvbUNpZDI5Q29kZXMsICBEaWNvbUNpZDI5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RpY29tQ2lkMjlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGljb21DaWQyOVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGljb21DaWQyOVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgSW5zdGFuY2VBdmFpbGFiaWxpdHlDb2RlcywgIEluc3RhbmNlQXZhaWxhYmlsaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0luc3RhbmNlQXZhaWxhYmlsaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEluc3RhbmNlQXZhaWxhYmlsaXR5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9JbnN0YW5jZUF2YWlsYWJpbGl0eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQm9keVNpdGVDb2RlcywgIEJvZHlTaXRlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0JvZHlTaXRlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEJvZHlTaXRlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Cb2R5U2l0ZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQm9keXNpdGVMYXRlcmFsaXR5Q29kZXMsICBCb2R5c2l0ZUxhdGVyYWxpdHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQm9keXNpdGVMYXRlcmFsaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEJvZHlzaXRlTGF0ZXJhbGl0eVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQm9keXNpdGVMYXRlcmFsaXR5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQcm9jZWR1cmVDb2RlcywgIFByb2NlZHVyZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Qcm9jZWR1cmVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvY2VkdXJlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Qcm9jZWR1cmVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2NlZHVyZVJlYXNvbkNvZGVzLCAgUHJvY2VkdXJlUmVhc29uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2NlZHVyZVJlYXNvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQcm9jZWR1cmVSZWFzb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2NlZHVyZVJlYXNvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBJbWFnaW5nU3R1ZHlTZXJpZXNJbnN0YW5jZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbWFnaW5nU3R1ZHlTZXJpZXNJbnN0YW5jZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEZvcm1hbCBpZGVudGlmaWVyIGZvciB0aGlzIGltYWdlIG9yIG90aGVyIGNvbnRlbnQuXHJcbiAgICovXHJcbiAgdWlkOiBmaGlyLkZoaXJPaWR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5LnNlcmllcy5pbnN0YW5jZS51aWRcclxuICAgKi9cclxuICBfdWlkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIGluc3RhbmNlIGluIHRoZSBzZXJpZXMuXHJcbiAgICovXHJcbiAgbnVtYmVyPzogZmhpci5GaGlyVW5zaWduZWRJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5LnNlcmllcy5pbnN0YW5jZS5udW1iZXJcclxuICAgKi9cclxuICBfbnVtYmVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBESUNPTSBpbnN0YW5jZSAgdHlwZS5cclxuICAgKi9cclxuICBzb3BDbGFzczogZmhpci5GaGlyT2lkfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5zZXJpZXMuaW5zdGFuY2Uuc29wQ2xhc3NcclxuICAgKi9cclxuICBfc29wQ2xhc3M/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFBhcnRpY3VsYXJseSBmb3IgcG9zdC1hY3F1aXNpdGlvbiBhbmFseXRpYyBvYmplY3RzLCBzdWNoIGFzIFNSLCBwcmVzZW50YXRpb24gc3RhdGVzLCB2YWx1ZSBtYXBwaW5nLCBldGMuXHJcbiAgICovXHJcbiAgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5LnNlcmllcy5pbnN0YW5jZS50aXRsZVxyXG4gICAqL1xyXG4gIF90aXRsZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNpbmdsZSBTT1AgaW5zdGFuY2Ugd2l0aGluIHRoZSBzZXJpZXMsIGUuZy4gYW4gaW1hZ2UsIG9yIHByZXNlbnRhdGlvbiBzdGF0ZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbWFnaW5nU3R1ZHlTZXJpZXNJbnN0YW5jZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ltYWdpbmdTdHVkeVNlcmllc0luc3RhbmNlJztcclxuICAvKipcclxuICAgKiBGb3JtYWwgaWRlbnRpZmllciBmb3IgdGhpcyBpbWFnZSBvciBvdGhlciBjb250ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1aWQ6IGZoaXIuRmhpck9pZHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgaW5zdGFuY2UgaW4gdGhlIHNlcmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgbnVtYmVyPzogZmhpci5GaGlyVW5zaWduZWRJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERJQ09NIGluc3RhbmNlICB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb3BDbGFzczogZmhpci5GaGlyT2lkfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUGFydGljdWxhcmx5IGZvciBwb3N0LWFjcXVpc2l0aW9uIGFuYWx5dGljIG9iamVjdHMsIHN1Y2ggYXMgU1IsIHByZXNlbnRhdGlvbiBzdGF0ZXMsIHZhbHVlIG1hcHBpbmcsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgdGl0bGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEltYWdpbmdTdHVkeVNlcmllc0luc3RhbmNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SW1hZ2luZ1N0dWR5U2VyaWVzSW5zdGFuY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndWlkJ10pIHsgdGhpcy51aWQgPSBuZXcgZmhpci5GaGlyT2lkKHt2YWx1ZTogc291cmNlLnVpZH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51aWQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdWlkJ10pIHtcclxuICAgICAgaWYgKHRoaXMudWlkKSB7IHRoaXMudWlkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3VpZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVpZCA9IG5ldyBmaGlyLkZoaXJPaWQoc291cmNlLl91aWQgYXMgUGFydGlhbDxmaGlyLkZoaXJPaWRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ251bWJlciddKSB7IHRoaXMubnVtYmVyID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHt2YWx1ZTogc291cmNlLm51bWJlcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbnVtYmVyJ10pIHtcclxuICAgICAgaWYgKHRoaXMubnVtYmVyKSB7IHRoaXMubnVtYmVyLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX251bWJlciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm51bWJlciA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludChzb3VyY2UuX251bWJlciBhcyBQYXJ0aWFsPGZoaXIuRmhpclVuc2lnbmVkSW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzb3BDbGFzcyddKSB7IHRoaXMuc29wQ2xhc3MgPSBuZXcgZmhpci5GaGlyT2lkKHt2YWx1ZTogc291cmNlLnNvcENsYXNzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNvcENsYXNzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NvcENsYXNzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc29wQ2xhc3MpIHsgdGhpcy5zb3BDbGFzcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zb3BDbGFzcyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNvcENsYXNzID0gbmV3IGZoaXIuRmhpck9pZChzb3VyY2UuX3NvcENsYXNzIGFzIFBhcnRpYWw8Zmhpci5GaGlyT2lkQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0aXRsZSddKSB7IHRoaXMudGl0bGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnRpdGxlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190aXRsZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRpdGxlKSB7IHRoaXMudGl0bGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdGl0bGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50aXRsZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl90aXRsZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0ltYWdpbmdTdHVkeS5zZXJpZXMuaW5zdGFuY2UnIH1cclxuICAgIHRoaXMudlJTKCd1aWQnLGV4cClcclxuICAgIHRoaXMudk9TKCdudW1iZXInLGV4cClcclxuICAgIHRoaXMudlJTKCdzb3BDbGFzcycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3RpdGxlJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1hZ2luZ1N0dWR5U2VyaWVzIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEltYWdpbmdTdHVkeVNlcmllc0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEZvcm1hbCBpZGVudGlmaWVyIGZvciB0aGlzIHNlcmllcy5cclxuICAgKi9cclxuICB1aWQ6IGZoaXIuRmhpck9pZHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkuc2VyaWVzLnVpZFxyXG4gICAqL1xyXG4gIF91aWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1lcmljIGlkZW50aWZpZXIgb2YgdGhpcyBzZXJpZXMgaW4gdGhlIHN0dWR5LlxyXG4gICAqL1xyXG4gIG51bWJlcj86IGZoaXIuRmhpclVuc2lnbmVkSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5zZXJpZXMubnVtYmVyXHJcbiAgICovXHJcbiAgX251bWJlcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vZGFsaXR5IG9mIHRoaXMgc2VyaWVzIHNlcXVlbmNlLlxyXG4gICAqL1xyXG4gIG1vZGFsaXR5OiBmaGlyLkNvZGluZ0FyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHRoZSBzZXJpZXMuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5LnNlcmllcy5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogTnVtYmVyIG9mIFNPUCBJbnN0YW5jZXMgaW4gdGhlIFN0dWR5LiBUaGUgdmFsdWUgZ2l2ZW4gbWF5IGJlIGxhcmdlciB0aGFuIHRoZSBudW1iZXIgb2YgaW5zdGFuY2UgZWxlbWVudHMgdGhpcyByZXNvdXJjZSBjb250YWlucyBkdWUgdG8gcmVzb3VyY2UgYXZhaWxhYmlsaXR5LCBzZWN1cml0eSwgb3Igb3RoZXIgZmFjdG9ycy4gVGhpcyBlbGVtZW50IHNob3VsZCBiZSBwcmVzZW50IGlmIGFueSBpbnN0YW5jZSBlbGVtZW50cyBhcmUgcHJlc2VudC5cclxuICAgKi9cclxuICBudW1iZXJPZkluc3RhbmNlcz86IGZoaXIuRmhpclVuc2lnbmVkSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5zZXJpZXMubnVtYmVyT2ZJbnN0YW5jZXNcclxuICAgKi9cclxuICBfbnVtYmVyT2ZJbnN0YW5jZXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEF2YWlsYWJpbGl0eSBvZiBzZXJpZXMgKG9ubGluZSwgb2ZmbGluZSBvciBuZWFybGluZSkuXHJcbiAgICovXHJcbiAgYXZhaWxhYmlsaXR5PzogZmhpci5GaGlyQ29kZTxJbnN0YW5jZUF2YWlsYWJpbGl0eUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkuc2VyaWVzLmF2YWlsYWJpbGl0eVxyXG4gICAqL1xyXG4gIF9hdmFpbGFiaWxpdHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWwgZW5kcG9pbnQgdHlwZXMgaW5jbHVkZSBESUNPTSBXQURPLVJTLCB3aGljaCBpcyB1c2VkIHRvIHJldHJpZXZlIERJQ09NIGluc3RhbmNlcyBpbiBuYXRpdmUgb3IgcmVuZGVyZWQgKGUuZy4sIEpQRywgUE5HKSBmb3JtYXRzIHVzaW5nIGEgUkVTVGZ1bCBBUEk7IERJQ09NIFdBRE8tVVJJLCB3aGljaCBjYW4gc2ltaWxhcmx5IHJldHJpZXZlIG5hdGl2ZSBvciByZW5kZXJlZCBpbnN0YW5jZXMsIGV4Y2VwdCB1c2luZyBhbiBIVFRQIHF1ZXJ5LWJhc2VkIGFwcHJvYWNoOyBhbmQgRElDT00gUUlETy1SUywgd2hpY2ggYWxsb3dzIFJFU1RmdWwgcXVlcnkgZm9yIERJQ09NIGluZm9ybWF0aW9uIHdpdGhvdXQgcmV0cmlldmluZyB0aGUgYWN0dWFsIGluc3RhbmNlcy5cclxuICAgKi9cclxuICBlbmRwb2ludD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYW5hdG9taWMgc3RydWN0dXJlcyBleGFtaW5lZC4gU2VlIERJQ09NIFBhcnQgMTYgQW5uZXggTCAoaHR0cDovL2RpY29tLm5lbWEub3JnL21lZGljYWwvZGljb20vY3VycmVudC9vdXRwdXQvY2h0bWwvcGFydDE2L2NoYXB0ZXJfTC5odG1sKSBmb3IgRElDT00gdG8gU05PTUVELUNUIG1hcHBpbmdzLiBUaGUgYm9keVNpdGUgbWF5IGluZGljYXRlIHRoZSBsYXRlcmFsaXR5IG9mIGJvZHkgcGFydCBpbWFnZWQ7IGlmIHNvLCBpdCBzaGFsbCBiZSBjb25zaXN0ZW50IHdpdGggYW55IGNvbnRlbnQgb2YgSW1hZ2luZ1N0dWR5LnNlcmllcy5sYXRlcmFsaXR5LlxyXG4gICAqL1xyXG4gIGJvZHlTaXRlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGF0ZXJhbGl0eSBvZiB0aGUgKHBvc3NpYmx5IHBhaXJlZCkgYW5hdG9taWMgc3RydWN0dXJlcyBleGFtaW5lZC4gRS5nLiwgdGhlIGxlZnQga25lZSwgYm90aCBsdW5ncywgb3IgdW5wYWlyZWQgYWJkb21lbi4gSWYgcHJlc2VudCwgc2hhbGwgYmUgY29uc2lzdGVudCB3aXRoIGFueSBsYXRlcmFsaXR5IGluZm9ybWF0aW9uIGluZGljYXRlZCBpbiBJbWFnaW5nU3R1ZHkuc2VyaWVzLmJvZHlTaXRlLlxyXG4gICAqL1xyXG4gIGxhdGVyYWxpdHk/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIHRoZSBzZXJpZXMgd2FzIHN0YXJ0ZWQuXHJcbiAgICovXHJcbiAgc3RhcnRlZD86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5zZXJpZXMuc3RhcnRlZFxyXG4gICAqL1xyXG4gIF9zdGFydGVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljaWFuIG9yIG9wZXJhdG9yIChvZnRlbiB0aGUgcmFkaW9sb2d5IHRlY2huaWNpYW4pICB3aG8gcGVyZm9ybWVkIHRoZSBzZXJpZXMuIFRoZSBwZXJmb3JtZXIgaXMgcmVjb3JkZWQgYXQgdGhlIHNlcmllcyBsZXZlbCwgc2luY2UgZWFjaCBzZXJpZXMgaW4gYSBzdHVkeSBtYXkgYmUgcGVyZm9ybWVkIGJ5IGEgZGlmZmVyZW50IHByYWN0aXRpb25lciwgYXQgZGlmZmVyZW50IHRpbWVzLCBhbmQgdXNpbmcgZGlmZmVyZW50IGRldmljZXMuIEEgc2VyaWVzIG1heSBiZSBwZXJmb3JtZWQgYnkgbXVsdGlwbGUgcHJhY3RpdGlvbmVycy5cclxuICAgKi9cclxuICBwZXJmb3JtZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzaW5nbGUgU09QIGluc3RhbmNlIHdpdGhpbiB0aGUgc2VyaWVzLCBlLmcuIGFuIGltYWdlLCBvciBwcmVzZW50YXRpb24gc3RhdGUuXHJcbiAgICovXHJcbiAgaW5zdGFuY2U/OiBmaGlyLkltYWdpbmdTdHVkeVNlcmllc0luc3RhbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVhY2ggc3R1ZHkgaGFzIG9uZSBvciBtb3JlIHNlcmllcyBvZiBpbWFnZXMgb3Igb3RoZXIgY29udGVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbWFnaW5nU3R1ZHlTZXJpZXMgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdJbWFnaW5nU3R1ZHlTZXJpZXMnO1xyXG4gIC8qKlxyXG4gICAqIEZvcm1hbCBpZGVudGlmaWVyIGZvciB0aGlzIHNlcmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgdWlkOiBmaGlyLkZoaXJPaWR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgbnVtZXJpYyBpZGVudGlmaWVyIG9mIHRoaXMgc2VyaWVzIGluIHRoZSBzdHVkeS5cclxuICAgKi9cclxuICBwdWJsaWMgbnVtYmVyPzogZmhpci5GaGlyVW5zaWduZWRJbnR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtb2RhbGl0eSBvZiB0aGlzIHNlcmllcyBzZXF1ZW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kYWxpdHk6IGZoaXIuQ29kaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgc2VyaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTnVtYmVyIG9mIFNPUCBJbnN0YW5jZXMgaW4gdGhlIFN0dWR5LiBUaGUgdmFsdWUgZ2l2ZW4gbWF5IGJlIGxhcmdlciB0aGFuIHRoZSBudW1iZXIgb2YgaW5zdGFuY2UgZWxlbWVudHMgdGhpcyByZXNvdXJjZSBjb250YWlucyBkdWUgdG8gcmVzb3VyY2UgYXZhaWxhYmlsaXR5LCBzZWN1cml0eSwgb3Igb3RoZXIgZmFjdG9ycy4gVGhpcyBlbGVtZW50IHNob3VsZCBiZSBwcmVzZW50IGlmIGFueSBpbnN0YW5jZSBlbGVtZW50cyBhcmUgcHJlc2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgbnVtYmVyT2ZJbnN0YW5jZXM/OiBmaGlyLkZoaXJVbnNpZ25lZEludHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXZhaWxhYmlsaXR5IG9mIHNlcmllcyAob25saW5lLCBvZmZsaW5lIG9yIG5lYXJsaW5lKS5cclxuICAgKi9cclxuICBwdWJsaWMgYXZhaWxhYmlsaXR5PzogZmhpci5GaGlyQ29kZTxJbnN0YW5jZUF2YWlsYWJpbGl0eUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVHlwaWNhbCBlbmRwb2ludCB0eXBlcyBpbmNsdWRlIERJQ09NIFdBRE8tUlMsIHdoaWNoIGlzIHVzZWQgdG8gcmV0cmlldmUgRElDT00gaW5zdGFuY2VzIGluIG5hdGl2ZSBvciByZW5kZXJlZCAoZS5nLiwgSlBHLCBQTkcpIGZvcm1hdHMgdXNpbmcgYSBSRVNUZnVsIEFQSTsgRElDT00gV0FETy1VUkksIHdoaWNoIGNhbiBzaW1pbGFybHkgcmV0cmlldmUgbmF0aXZlIG9yIHJlbmRlcmVkIGluc3RhbmNlcywgZXhjZXB0IHVzaW5nIGFuIEhUVFAgcXVlcnktYmFzZWQgYXBwcm9hY2g7IGFuZCBESUNPTSBRSURPLVJTLCB3aGljaCBhbGxvd3MgUkVTVGZ1bCBxdWVyeSBmb3IgRElDT00gaW5mb3JtYXRpb24gd2l0aG91dCByZXRyaWV2aW5nIHRoZSBhY3R1YWwgaW5zdGFuY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmRwb2ludDogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgYW5hdG9taWMgc3RydWN0dXJlcyBleGFtaW5lZC4gU2VlIERJQ09NIFBhcnQgMTYgQW5uZXggTCAoaHR0cDovL2RpY29tLm5lbWEub3JnL21lZGljYWwvZGljb20vY3VycmVudC9vdXRwdXQvY2h0bWwvcGFydDE2L2NoYXB0ZXJfTC5odG1sKSBmb3IgRElDT00gdG8gU05PTUVELUNUIG1hcHBpbmdzLiBUaGUgYm9keVNpdGUgbWF5IGluZGljYXRlIHRoZSBsYXRlcmFsaXR5IG9mIGJvZHkgcGFydCBpbWFnZWQ7IGlmIHNvLCBpdCBzaGFsbCBiZSBjb25zaXN0ZW50IHdpdGggYW55IGNvbnRlbnQgb2YgSW1hZ2luZ1N0dWR5LnNlcmllcy5sYXRlcmFsaXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBib2R5U2l0ZT86IGZoaXIuQ29kaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbGF0ZXJhbGl0eSBvZiB0aGUgKHBvc3NpYmx5IHBhaXJlZCkgYW5hdG9taWMgc3RydWN0dXJlcyBleGFtaW5lZC4gRS5nLiwgdGhlIGxlZnQga25lZSwgYm90aCBsdW5ncywgb3IgdW5wYWlyZWQgYWJkb21lbi4gSWYgcHJlc2VudCwgc2hhbGwgYmUgY29uc2lzdGVudCB3aXRoIGFueSBsYXRlcmFsaXR5IGluZm9ybWF0aW9uIGluZGljYXRlZCBpbiBJbWFnaW5nU3R1ZHkuc2VyaWVzLmJvZHlTaXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsYXRlcmFsaXR5PzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIHRoZSBzZXJpZXMgd2FzIHN0YXJ0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXJ0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBoeXNpY2lhbiBvciBvcGVyYXRvciAob2Z0ZW4gdGhlIHJhZGlvbG9neSB0ZWNobmljaWFuKSAgd2hvIHBlcmZvcm1lZCB0aGUgc2VyaWVzLiBUaGUgcGVyZm9ybWVyIGlzIHJlY29yZGVkIGF0IHRoZSBzZXJpZXMgbGV2ZWwsIHNpbmNlIGVhY2ggc2VyaWVzIGluIGEgc3R1ZHkgbWF5IGJlIHBlcmZvcm1lZCBieSBhIGRpZmZlcmVudCBwcmFjdGl0aW9uZXIsIGF0IGRpZmZlcmVudCB0aW1lcywgYW5kIHVzaW5nIGRpZmZlcmVudCBkZXZpY2VzLiBBIHNlcmllcyBtYXkgYmUgcGVyZm9ybWVkIGJ5IG11bHRpcGxlIHByYWN0aXRpb25lcnMuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmZvcm1lcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBBIHNpbmdsZSBTT1AgaW5zdGFuY2Ugd2l0aGluIHRoZSBzZXJpZXMsIGUuZy4gYW4gaW1hZ2UsIG9yIHByZXNlbnRhdGlvbiBzdGF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdGFuY2U6IGZoaXIuSW1hZ2luZ1N0dWR5U2VyaWVzSW5zdGFuY2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBJbWFnaW5nU3R1ZHlTZXJpZXMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxJbWFnaW5nU3R1ZHlTZXJpZXNBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndWlkJ10pIHsgdGhpcy51aWQgPSBuZXcgZmhpci5GaGlyT2lkKHt2YWx1ZTogc291cmNlLnVpZH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51aWQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdWlkJ10pIHtcclxuICAgICAgaWYgKHRoaXMudWlkKSB7IHRoaXMudWlkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3VpZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVpZCA9IG5ldyBmaGlyLkZoaXJPaWQoc291cmNlLl91aWQgYXMgUGFydGlhbDxmaGlyLkZoaXJPaWRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ251bWJlciddKSB7IHRoaXMubnVtYmVyID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHt2YWx1ZTogc291cmNlLm51bWJlcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbnVtYmVyJ10pIHtcclxuICAgICAgaWYgKHRoaXMubnVtYmVyKSB7IHRoaXMubnVtYmVyLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX251bWJlciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm51bWJlciA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludChzb3VyY2UuX251bWJlciBhcyBQYXJ0aWFsPGZoaXIuRmhpclVuc2lnbmVkSW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtb2RhbGl0eSddKSB7IHRoaXMubW9kYWxpdHkgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLm1vZGFsaXR5KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kYWxpdHkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbnVtYmVyT2ZJbnN0YW5jZXMnXSkgeyB0aGlzLm51bWJlck9mSW5zdGFuY2VzID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHt2YWx1ZTogc291cmNlLm51bWJlck9mSW5zdGFuY2VzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19udW1iZXJPZkluc3RhbmNlcyddKSB7XHJcbiAgICAgIGlmICh0aGlzLm51bWJlck9mSW5zdGFuY2VzKSB7IHRoaXMubnVtYmVyT2ZJbnN0YW5jZXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbnVtYmVyT2ZJbnN0YW5jZXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5udW1iZXJPZkluc3RhbmNlcyA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludChzb3VyY2UuX251bWJlck9mSW5zdGFuY2VzIGFzIFBhcnRpYWw8Zmhpci5GaGlyVW5zaWduZWRJbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2F2YWlsYWJpbGl0eSddKSB7IHRoaXMuYXZhaWxhYmlsaXR5ID0gbmV3IGZoaXIuRmhpckNvZGU8SW5zdGFuY2VBdmFpbGFiaWxpdHlDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuYXZhaWxhYmlsaXR5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hdmFpbGFiaWxpdHknXSkge1xyXG4gICAgICBpZiAodGhpcy5hdmFpbGFiaWxpdHkpIHsgdGhpcy5hdmFpbGFiaWxpdHkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXZhaWxhYmlsaXR5ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYXZhaWxhYmlsaXR5ID0gbmV3IGZoaXIuRmhpckNvZGU8SW5zdGFuY2VBdmFpbGFiaWxpdHlDb2RlVHlwZT4oc291cmNlLl9hdmFpbGFiaWxpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2VuZHBvaW50J10pIHsgdGhpcy5lbmRwb2ludCA9IHNvdXJjZS5lbmRwb2ludC5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVuZHBvaW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2JvZHlTaXRlJ10pIHsgdGhpcy5ib2R5U2l0ZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UuYm9keVNpdGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydsYXRlcmFsaXR5J10pIHsgdGhpcy5sYXRlcmFsaXR5ID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5sYXRlcmFsaXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhcnRlZCddKSB7IHRoaXMuc3RhcnRlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5zdGFydGVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGFydGVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhcnRlZCkgeyB0aGlzLnN0YXJ0ZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhcnRlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXJ0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9zdGFydGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmZvcm1lciddKSB7IHRoaXMucGVyZm9ybWVyID0gc291cmNlLnBlcmZvcm1lci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcmZvcm1lciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnN0YW5jZSddKSB7IHRoaXMuaW5zdGFuY2UgPSBzb3VyY2UuaW5zdGFuY2UubWFwKCh4KSA9PiBuZXcgZmhpci5JbWFnaW5nU3R1ZHlTZXJpZXNJbnN0YW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluc3RhbmNlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdJbWFnaW5nU3R1ZHkuc2VyaWVzJyB9XHJcbiAgICB0aGlzLnZSUygndWlkJyxleHApXHJcbiAgICB0aGlzLnZPUygnbnVtYmVyJyxleHApXHJcbiAgICB0aGlzLnZSUygnbW9kYWxpdHknLGV4cClcclxuICAgIHRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ251bWJlck9mSW5zdGFuY2VzJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ2F2YWlsYWJpbGl0eScsZXhwLCdJbnN0YW5jZUF2YWlsYWJpbGl0eScsSW5zdGFuY2VBdmFpbGFiaWxpdHlWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T0EoJ2VuZHBvaW50JyxleHApXHJcbiAgICB0aGlzLnZPUygnYm9keVNpdGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdsYXRlcmFsaXR5JyxleHApXHJcbiAgICB0aGlzLnZPUygnc3RhcnRlZCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3BlcmZvcm1lcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2luc3RhbmNlJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSW1hZ2luZ1N0dWR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEltYWdpbmdTdHVkeUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkltYWdpbmdTdHVkeVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3JtYWwgaWRlbnRpZmllciBmb3IgdGhlIHN0dWR5LlxyXG4gICAqL1xyXG4gIHVpZDogZmhpci5GaGlyT2lkfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS51aWRcclxuICAgKi9cclxuICBfdWlkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBY2Nlc3Npb24gTnVtYmVyIGlzIGFuIGlkZW50aWZpZXIgcmVsYXRlZCB0byBzb21lIGFzcGVjdCBvZiBpbWFnaW5nIHdvcmtmbG93IGFuZCBkYXRhIG1hbmFnZW1lbnQuIFVzYWdlIG1heSB2YXJ5IGFjcm9zcyBkaWZmZXJlbnQgaW5zdGl0dXRpb25zLiAgU2VlIGZvciBpbnN0YW5jZSBbSUhFIFJhZGlvbG9neSBUZWNobmljYWwgRnJhbWV3b3JrIFZvbHVtZSAxIEFwcGVuZGl4IEFdKGh0dHA6Ly93d3cuaWhlLm5ldC91cGxvYWRlZEZpbGVzL0RvY3VtZW50cy9SYWRpb2xvZ3kvSUhFX1JBRF9URl9SZXYxMy4wX1ZvbDFfRlRfMjAxNC0wNy0zMC5wZGYpLlxyXG4gICAqL1xyXG4gIGFjY2Vzc2lvbj86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE90aGVyIGlkZW50aWZpZXJzIGZvciB0aGUgc3R1ZHkuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXZhaWxhYmlsaXR5IG9mIHN0dWR5IChvbmxpbmUsIG9mZmxpbmUsIG9yIG5lYXJsaW5lKS5cclxuICAgKi9cclxuICBhdmFpbGFiaWxpdHk/OiBmaGlyLkZoaXJDb2RlPEluc3RhbmNlQXZhaWxhYmlsaXR5Q29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEltYWdpbmdTdHVkeS5hdmFpbGFiaWxpdHlcclxuICAgKi9cclxuICBfYXZhaWxhYmlsaXR5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgYWxsIHRoZSBTZXJpZXMuSW1hZ2VNb2RhbGl0eSB2YWx1ZXMgdGhhdCBhcmUgYWN0dWFsIGFjcXVpc2l0aW9uIG1vZGFsaXRpZXMsIGkuZS4gdGhvc2UgaW4gdGhlIERJQ09NIENvbnRleHQgR3JvdXAgMjkgKHZhbHVlIHNldCBPSUQgMS4yLjg0MC4xMDAwOC42LjEuMTkpLlxyXG4gICAqL1xyXG4gIG1vZGFsaXR5TGlzdD86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGF0aWVudCBpbWFnZWQgaW4gdGhlIHN0dWR5LlxyXG4gICAqL1xyXG4gIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBlbmNvdW50ZXIgb3IgZXBpc29kZSBhdCB3aGljaCB0aGUgcmVxdWVzdCBpcyBpbml0aWF0ZWQuXHJcbiAgICovXHJcbiAgY29udGV4dD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSBhbmQgdGltZSB0aGUgc3R1ZHkgc3RhcnRlZC5cclxuICAgKi9cclxuICBzdGFydGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSW1hZ2luZ1N0dWR5LnN0YXJ0ZWRcclxuICAgKi9cclxuICBfc3RhcnRlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIHRoZSBkaWFnbm9zdGljIHJlcXVlc3RzIHRoYXQgcmVzdWx0ZWQgaW4gdGhpcyBpbWFnaW5nIHN0dWR5IGJlaW5nIHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBiYXNlZE9uPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXF1ZXN0aW5nL3JlZmVycmluZyBwaHlzaWNpYW4uXHJcbiAgICovXHJcbiAgcmVmZXJyZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdobyByZWFkIHRoZSBzdHVkeSBhbmQgaW50ZXJwcmV0ZWQgdGhlIGltYWdlcyBvciBvdGhlciBjb250ZW50LlxyXG4gICAqL1xyXG4gIGludGVycHJldGVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWwgZW5kcG9pbnQgdHlwZXMgaW5jbHVkZSBESUNPTSBXQURPLVJTLCB3aGljaCBpcyB1c2VkIHRvIHJldHJpZXZlIERJQ09NIGluc3RhbmNlcyBpbiBuYXRpdmUgb3IgcmVuZGVyZWQgKGUuZy4sIEpQRywgUE5HKSwgZm9ybWF0cyB1c2luZyBhIFJFU1RmdWwgQVBJOyBESUNPTSBXQURPLVVSSSwgd2hpY2ggY2FuIHNpbWlsYXJseSByZXRyaWV2ZSBuYXRpdmUgb3IgcmVuZGVyZWQgaW5zdGFuY2VzLCBleGNlcHQgdXNpbmcgYW4gSFRUUCBxdWVyeS1iYXNlZCBhcHByb2FjaDsgRElDT00gUUlETy1SUywgd2hpY2ggYWxsb3dzIFJFU1RmdWwgcXVlcnkgZm9yIERJQ09NIGluZm9ybWF0aW9uIHdpdGhvdXQgcmV0cmlldmluZyB0aGUgYWN0dWFsIGluc3RhbmNlczsgb3IgSUhFIEludm9rZSBJbWFnZSBEaXNwbGF5IChJSUQpLCB3aGljaCBwcm92aWRlcyBzdGFuZGFyZCBpbnZvY2F0aW9uIG9mIGFuIGltYWdpbmcgd2ViIHZpZXdlci5cclxuICAgKi9cclxuICBlbmRwb2ludD86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOdW1iZXIgb2YgU2VyaWVzIGluIHRoZSBTdHVkeS4gVGhpcyB2YWx1ZSBnaXZlbiBtYXkgYmUgbGFyZ2VyIHRoYW4gdGhlIG51bWJlciBvZiBzZXJpZXMgZWxlbWVudHMgdGhpcyBSZXNvdXJjZSBjb250YWlucyBkdWUgdG8gcmVzb3VyY2UgYXZhaWxhYmlsaXR5LCBzZWN1cml0eSwgb3Igb3RoZXIgZmFjdG9ycy4gVGhpcyBlbGVtZW50IHNob3VsZCBiZSBwcmVzZW50IGlmIGFueSBzZXJpZXMgZWxlbWVudHMgYXJlIHByZXNlbnQuXHJcbiAgICovXHJcbiAgbnVtYmVyT2ZTZXJpZXM/OiBmaGlyLkZoaXJVbnNpZ25lZEludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkubnVtYmVyT2ZTZXJpZXNcclxuICAgKi9cclxuICBfbnVtYmVyT2ZTZXJpZXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE51bWJlciBvZiBTT1AgSW5zdGFuY2VzIGluIFN0dWR5LiBUaGlzIHZhbHVlIGdpdmVuIG1heSBiZSBsYXJnZXIgdGhhbiB0aGUgbnVtYmVyIG9mIGluc3RhbmNlIGVsZW1lbnRzIHRoaXMgcmVzb3VyY2UgY29udGFpbnMgZHVlIHRvIHJlc291cmNlIGF2YWlsYWJpbGl0eSwgc2VjdXJpdHksIG9yIG90aGVyIGZhY3RvcnMuIFRoaXMgZWxlbWVudCBzaG91bGQgYmUgcHJlc2VudCBpZiBhbnkgaW5zdGFuY2UgZWxlbWVudHMgYXJlIHByZXNlbnQuXHJcbiAgICovXHJcbiAgbnVtYmVyT2ZJbnN0YW5jZXM/OiBmaGlyLkZoaXJVbnNpZ25lZEludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkubnVtYmVyT2ZJbnN0YW5jZXNcclxuICAgKi9cclxuICBfbnVtYmVyT2ZJbnN0YW5jZXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBwZXJmb3JtZWQgUHJvY2VkdXJlLlxyXG4gICAqL1xyXG4gIHByb2NlZHVyZVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgY29kZSBmb3IgdGhlIHBlcmZvcm1lZCBwcm9jZWR1cmUgdHlwZS5cclxuICAgKi9cclxuICBwcm9jZWR1cmVDb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaXB0aW9uIG9mIGNsaW5pY2FsIGNvbmRpdGlvbiBpbmRpY2F0aW5nIHdoeSB0aGUgSW1hZ2luZ1N0dWR5IHdhcyByZXF1ZXN0ZWQuXHJcbiAgICovXHJcbiAgcmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnN0aXR1dGlvbi1nZW5lcmF0ZWQgZGVzY3JpcHRpb24gb3IgY2xhc3NpZmljYXRpb24gb2YgdGhlIFN0dWR5IHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBJbWFnaW5nU3R1ZHkuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEVhY2ggc3R1ZHkgaGFzIG9uZSBvciBtb3JlIHNlcmllcyBvZiBpbWFnZXMgb3Igb3RoZXIgY29udGVudC5cclxuICAgKi9cclxuICBzZXJpZXM/OiBmaGlyLkltYWdpbmdTdHVkeVNlcmllc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRhdGlvbiBvZiB0aGUgY29udGVudCBwcm9kdWNlZCBpbiBhIERJQ09NIGltYWdpbmcgc3R1ZHkuIEEgc3R1ZHkgY29tcHJpc2VzIGEgc2V0IG9mIHNlcmllcywgZWFjaCBvZiB3aGljaCBpbmNsdWRlcyBhIHNldCBvZiBTZXJ2aWNlLU9iamVjdCBQYWlyIEluc3RhbmNlcyAoU09QIEluc3RhbmNlcyAtIGltYWdlcyBvciBvdGhlciBkYXRhKSBhY3F1aXJlZCBvciBwcm9kdWNlZCBpbiBhIGNvbW1vbiBjb250ZXh0LiAgQSBzZXJpZXMgaXMgb2Ygb25seSBvbmUgbW9kYWxpdHkgKGUuZy4gWC1yYXksIENULCBNUiwgdWx0cmFzb3VuZCksIGJ1dCBhIHN0dWR5IG1heSBoYXZlIG11bHRpcGxlIHNlcmllcyBvZiBkaWZmZXJlbnQgbW9kYWxpdGllcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbWFnaW5nU3R1ZHkgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0ltYWdpbmdTdHVkeSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJJbWFnaW5nU3R1ZHlcIjtcclxuICAvKipcclxuICAgKiBGb3JtYWwgaWRlbnRpZmllciBmb3IgdGhlIHN0dWR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1aWQ6IGZoaXIuRmhpck9pZHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFjY2Vzc2lvbiBOdW1iZXIgaXMgYW4gaWRlbnRpZmllciByZWxhdGVkIHRvIHNvbWUgYXNwZWN0IG9mIGltYWdpbmcgd29ya2Zsb3cgYW5kIGRhdGEgbWFuYWdlbWVudC4gVXNhZ2UgbWF5IHZhcnkgYWNyb3NzIGRpZmZlcmVudCBpbnN0aXR1dGlvbnMuICBTZWUgZm9yIGluc3RhbmNlIFtJSEUgUmFkaW9sb2d5IFRlY2huaWNhbCBGcmFtZXdvcmsgVm9sdW1lIDEgQXBwZW5kaXggQV0oaHR0cDovL3d3dy5paGUubmV0L3VwbG9hZGVkRmlsZXMvRG9jdW1lbnRzL1JhZGlvbG9neS9JSEVfUkFEX1RGX1JldjEzLjBfVm9sMV9GVF8yMDE0LTA3LTMwLnBkZikuXHJcbiAgICovXHJcbiAgcHVibGljIGFjY2Vzc2lvbj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3RoZXIgaWRlbnRpZmllcnMgZm9yIHRoZSBzdHVkeS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogQXZhaWxhYmlsaXR5IG9mIHN0dWR5IChvbmxpbmUsIG9mZmxpbmUsIG9yIG5lYXJsaW5lKS5cclxuICAgKi9cclxuICBwdWJsaWMgYXZhaWxhYmlsaXR5PzogZmhpci5GaGlyQ29kZTxJbnN0YW5jZUF2YWlsYWJpbGl0eUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIGFsbCB0aGUgU2VyaWVzLkltYWdlTW9kYWxpdHkgdmFsdWVzIHRoYXQgYXJlIGFjdHVhbCBhY3F1aXNpdGlvbiBtb2RhbGl0aWVzLCBpLmUuIHRob3NlIGluIHRoZSBESUNPTSBDb250ZXh0IEdyb3VwIDI5ICh2YWx1ZSBzZXQgT0lEIDEuMi44NDAuMTAwMDguNi4xLjE5KS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kYWxpdHlMaXN0OiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRpZW50IGltYWdlZCBpbiB0aGUgc3R1ZHkuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGVuY291bnRlciBvciBlcGlzb2RlIGF0IHdoaWNoIHRoZSByZXF1ZXN0IGlzIGluaXRpYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGV4dD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEYXRlIGFuZCB0aW1lIHRoZSBzdHVkeSBzdGFydGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGFydGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbGlzdCBvZiB0aGUgZGlhZ25vc3RpYyByZXF1ZXN0cyB0aGF0IHJlc3VsdGVkIGluIHRoaXMgaW1hZ2luZyBzdHVkeSBiZWluZyBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGJhc2VkT246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlcXVlc3RpbmcvcmVmZXJyaW5nIHBoeXNpY2lhbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJyZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hvIHJlYWQgdGhlIHN0dWR5IGFuZCBpbnRlcnByZXRlZCB0aGUgaW1hZ2VzIG9yIG90aGVyIGNvbnRlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGludGVycHJldGVyOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWwgZW5kcG9pbnQgdHlwZXMgaW5jbHVkZSBESUNPTSBXQURPLVJTLCB3aGljaCBpcyB1c2VkIHRvIHJldHJpZXZlIERJQ09NIGluc3RhbmNlcyBpbiBuYXRpdmUgb3IgcmVuZGVyZWQgKGUuZy4sIEpQRywgUE5HKSwgZm9ybWF0cyB1c2luZyBhIFJFU1RmdWwgQVBJOyBESUNPTSBXQURPLVVSSSwgd2hpY2ggY2FuIHNpbWlsYXJseSByZXRyaWV2ZSBuYXRpdmUgb3IgcmVuZGVyZWQgaW5zdGFuY2VzLCBleGNlcHQgdXNpbmcgYW4gSFRUUCBxdWVyeS1iYXNlZCBhcHByb2FjaDsgRElDT00gUUlETy1SUywgd2hpY2ggYWxsb3dzIFJFU1RmdWwgcXVlcnkgZm9yIERJQ09NIGluZm9ybWF0aW9uIHdpdGhvdXQgcmV0cmlldmluZyB0aGUgYWN0dWFsIGluc3RhbmNlczsgb3IgSUhFIEludm9rZSBJbWFnZSBEaXNwbGF5IChJSUQpLCB3aGljaCBwcm92aWRlcyBzdGFuZGFyZCBpbnZvY2F0aW9uIG9mIGFuIGltYWdpbmcgd2ViIHZpZXdlci5cclxuICAgKi9cclxuICBwdWJsaWMgZW5kcG9pbnQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogTnVtYmVyIG9mIFNlcmllcyBpbiB0aGUgU3R1ZHkuIFRoaXMgdmFsdWUgZ2l2ZW4gbWF5IGJlIGxhcmdlciB0aGFuIHRoZSBudW1iZXIgb2Ygc2VyaWVzIGVsZW1lbnRzIHRoaXMgUmVzb3VyY2UgY29udGFpbnMgZHVlIHRvIHJlc291cmNlIGF2YWlsYWJpbGl0eSwgc2VjdXJpdHksIG9yIG90aGVyIGZhY3RvcnMuIFRoaXMgZWxlbWVudCBzaG91bGQgYmUgcHJlc2VudCBpZiBhbnkgc2VyaWVzIGVsZW1lbnRzIGFyZSBwcmVzZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBudW1iZXJPZlNlcmllcz86IGZoaXIuRmhpclVuc2lnbmVkSW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOdW1iZXIgb2YgU09QIEluc3RhbmNlcyBpbiBTdHVkeS4gVGhpcyB2YWx1ZSBnaXZlbiBtYXkgYmUgbGFyZ2VyIHRoYW4gdGhlIG51bWJlciBvZiBpbnN0YW5jZSBlbGVtZW50cyB0aGlzIHJlc291cmNlIGNvbnRhaW5zIGR1ZSB0byByZXNvdXJjZSBhdmFpbGFiaWxpdHksIHNlY3VyaXR5LCBvciBvdGhlciBmYWN0b3JzLiBUaGlzIGVsZW1lbnQgc2hvdWxkIGJlIHByZXNlbnQgaWYgYW55IGluc3RhbmNlIGVsZW1lbnRzIGFyZSBwcmVzZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBudW1iZXJPZkluc3RhbmNlcz86IGZoaXIuRmhpclVuc2lnbmVkSW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgcGVyZm9ybWVkIFByb2NlZHVyZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvY2VkdXJlUmVmZXJlbmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb2RlIGZvciB0aGUgcGVyZm9ybWVkIHByb2NlZHVyZSB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9jZWR1cmVDb2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaXB0aW9uIG9mIGNsaW5pY2FsIGNvbmRpdGlvbiBpbmRpY2F0aW5nIHdoeSB0aGUgSW1hZ2luZ1N0dWR5IHdhcyByZXF1ZXN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYXNvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnN0aXR1dGlvbi1nZW5lcmF0ZWQgZGVzY3JpcHRpb24gb3IgY2xhc3NpZmljYXRpb24gb2YgdGhlIFN0dWR5IHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVhY2ggc3R1ZHkgaGFzIG9uZSBvciBtb3JlIHNlcmllcyBvZiBpbWFnZXMgb3Igb3RoZXIgY29udGVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc2VyaWVzOiBmaGlyLkltYWdpbmdTdHVkeVNlcmllc1tdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEltYWdpbmdTdHVkeSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEltYWdpbmdTdHVkeUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdJbWFnaW5nU3R1ZHknO1xyXG4gICAgaWYgKHNvdXJjZVsndWlkJ10pIHsgdGhpcy51aWQgPSBuZXcgZmhpci5GaGlyT2lkKHt2YWx1ZTogc291cmNlLnVpZH0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51aWQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdWlkJ10pIHtcclxuICAgICAgaWYgKHRoaXMudWlkKSB7IHRoaXMudWlkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3VpZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVpZCA9IG5ldyBmaGlyLkZoaXJPaWQoc291cmNlLl91aWQgYXMgUGFydGlhbDxmaGlyLkZoaXJPaWRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2FjY2Vzc2lvbiddKSB7IHRoaXMuYWNjZXNzaW9uID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UuYWNjZXNzaW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXZhaWxhYmlsaXR5J10pIHsgdGhpcy5hdmFpbGFiaWxpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxJbnN0YW5jZUF2YWlsYWJpbGl0eUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5hdmFpbGFiaWxpdHl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2F2YWlsYWJpbGl0eSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmF2YWlsYWJpbGl0eSkgeyB0aGlzLmF2YWlsYWJpbGl0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hdmFpbGFiaWxpdHkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hdmFpbGFiaWxpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxJbnN0YW5jZUF2YWlsYWJpbGl0eUNvZGVUeXBlPihzb3VyY2UuX2F2YWlsYWJpbGl0eSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kYWxpdHlMaXN0J10pIHsgdGhpcy5tb2RhbGl0eUxpc3QgPSBzb3VyY2UubW9kYWxpdHlMaXN0Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kYWxpdHlMaXN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnQnXSkgeyB0aGlzLnBhdGllbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhdGllbnQpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXRpZW50ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29udGV4dCddKSB7IHRoaXMuY29udGV4dCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuY29udGV4dCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXJ0ZWQnXSkgeyB0aGlzLnN0YXJ0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2Uuc3RhcnRlZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhcnRlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHsgdGhpcy5zdGFydGVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXJ0ZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGFydGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fc3RhcnRlZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydiYXNlZE9uJ10pIHsgdGhpcy5iYXNlZE9uID0gc291cmNlLmJhc2VkT24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5iYXNlZE9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVycmVyJ10pIHsgdGhpcy5yZWZlcnJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVmZXJyZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlcnByZXRlciddKSB7IHRoaXMuaW50ZXJwcmV0ZXIgPSBzb3VyY2UuaW50ZXJwcmV0ZXIubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnRlcnByZXRlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydlbmRwb2ludCddKSB7IHRoaXMuZW5kcG9pbnQgPSBzb3VyY2UuZW5kcG9pbnQubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lbmRwb2ludCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydudW1iZXJPZlNlcmllcyddKSB7IHRoaXMubnVtYmVyT2ZTZXJpZXMgPSBuZXcgZmhpci5GaGlyVW5zaWduZWRJbnQoe3ZhbHVlOiBzb3VyY2UubnVtYmVyT2ZTZXJpZXN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX251bWJlck9mU2VyaWVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMubnVtYmVyT2ZTZXJpZXMpIHsgdGhpcy5udW1iZXJPZlNlcmllcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9udW1iZXJPZlNlcmllcyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm51bWJlck9mU2VyaWVzID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHNvdXJjZS5fbnVtYmVyT2ZTZXJpZXMgYXMgUGFydGlhbDxmaGlyLkZoaXJVbnNpZ25lZEludEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbnVtYmVyT2ZJbnN0YW5jZXMnXSkgeyB0aGlzLm51bWJlck9mSW5zdGFuY2VzID0gbmV3IGZoaXIuRmhpclVuc2lnbmVkSW50KHt2YWx1ZTogc291cmNlLm51bWJlck9mSW5zdGFuY2VzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19udW1iZXJPZkluc3RhbmNlcyddKSB7XHJcbiAgICAgIGlmICh0aGlzLm51bWJlck9mSW5zdGFuY2VzKSB7IHRoaXMubnVtYmVyT2ZJbnN0YW5jZXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbnVtYmVyT2ZJbnN0YW5jZXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5udW1iZXJPZkluc3RhbmNlcyA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludChzb3VyY2UuX251bWJlck9mSW5zdGFuY2VzIGFzIFBhcnRpYWw8Zmhpci5GaGlyVW5zaWduZWRJbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2NlZHVyZVJlZmVyZW5jZSddKSB7IHRoaXMucHJvY2VkdXJlUmVmZXJlbmNlID0gc291cmNlLnByb2NlZHVyZVJlZmVyZW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2NlZHVyZVJlZmVyZW5jZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9jZWR1cmVDb2RlJ10pIHsgdGhpcy5wcm9jZWR1cmVDb2RlID0gc291cmNlLnByb2NlZHVyZUNvZGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9jZWR1cmVDb2RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbiddKSB7IHRoaXMucmVhc29uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZWFzb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddKSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRlc2NyaXB0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kZXNjcmlwdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7IHRoaXMuZGVzY3JpcHRpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGVzY3JpcHRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXNjcmlwdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VyaWVzJ10pIHsgdGhpcy5zZXJpZXMgPSBzb3VyY2Uuc2VyaWVzLm1hcCgoeCkgPT4gbmV3IGZoaXIuSW1hZ2luZ1N0dWR5U2VyaWVzKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VyaWVzID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdJbWFnaW5nU3R1ZHknIH1cclxuICAgIHRoaXMudlJTKCdyZXNvdXJjZVR5cGUnLGV4cClcclxuICAgIHRoaXMudlJTKCd1aWQnLGV4cClcclxuICAgIHRoaXMudk9TKCdhY2Nlc3Npb24nLGV4cClcclxuICAgIHRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ2F2YWlsYWJpbGl0eScsZXhwLCdJbnN0YW5jZUF2YWlsYWJpbGl0eScsSW5zdGFuY2VBdmFpbGFiaWxpdHlWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T0EoJ21vZGFsaXR5TGlzdCcsZXhwKVxyXG4gICAgdGhpcy52UlMoJ3BhdGllbnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdjb250ZXh0JyxleHApXHJcbiAgICB0aGlzLnZPUygnc3RhcnRlZCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2Jhc2VkT24nLGV4cClcclxuICAgIHRoaXMudk9TKCdyZWZlcnJlcicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2ludGVycHJldGVyJyxleHApXHJcbiAgICB0aGlzLnZPQSgnZW5kcG9pbnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdudW1iZXJPZlNlcmllcycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ251bWJlck9mSW5zdGFuY2VzJyxleHApXHJcbiAgICB0aGlzLnZPQSgncHJvY2VkdXJlUmVmZXJlbmNlJyxleHApXHJcbiAgICB0aGlzLnZPQSgncHJvY2VkdXJlQ29kZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3JlYXNvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPQSgnc2VyaWVzJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=