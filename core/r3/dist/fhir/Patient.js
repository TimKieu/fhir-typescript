// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: Patient
import * as fhir from '../fhir.js';
// @ts-ignore
import { AdministrativeGenderVsValidation } from '../fhirValueSets/AdministrativeGenderVsValidation.js';
// @ts-ignore
import { LinkTypeVsValidation } from '../fhirValueSets/LinkTypeVsValidation.js';
/**
 * Contact covers all kinds of contact parties: family members, business contacts, guardians, caregivers. Not applicable to register pedigree and family ties beyond use of having contact.
 */
export class PatientContact extends fhir.BackboneElement {
    /**
     * Default constructor for PatientContact - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['relationship']) {
            this.relationship = source.relationship.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.relationship = [];
        }
        if (source['name']) {
            this.name = new fhir.HumanName(source.name);
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
        if (source['address']) {
            this.address = new fhir.Address(source.address);
        }
        if (source['gender']) {
            this.gender = new fhir.FhirCode({ value: source.gender });
        }
        if (source['_gender']) {
            if (this.gender) {
                this.gender.addExtendedProperties(source._gender);
            }
            else {
                this.gender = new fhir.FhirCode(source._gender);
            }
        }
        if (source['organization']) {
            this.organization = new fhir.Reference(source.organization);
        }
        if (source['period']) {
            this.period = new fhir.Period(source.period);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient.contact';
        }
        this.vOA('relationship', exp);
        this.vOS('name', exp);
        this.vOA('telecom', exp);
        this.vOS('address', exp);
        this.vOSV('gender', exp, 'AdministrativeGender', AdministrativeGenderVsValidation, 'r');
        this.vOS('organization', exp);
        this.vOS('period', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientContact._fts_dataType = 'PatientContact';
/**
 * The animal element is labeled "Is Modifier" since patients may be non-human. Systems SHALL either handle patient details appropriately (e.g. inform users patient is not human) or reject declared animal records.   The absense of the animal element does not imply that the patient is a human. If a system requires such a positive assertion that the patient is human, an extension will be required.  (Do not use a species of homo-sapiens in animal species, as this would incorrectly infer that the patient is an animal).
 */
export class PatientAnimal extends fhir.BackboneElement {
    /**
     * Default constructor for PatientAnimal - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['species']) {
            this.species = new fhir.CodeableConcept(source.species);
        }
        else {
            this.species = null;
        }
        if (source['breed']) {
            this.breed = new fhir.CodeableConcept(source.breed);
        }
        if (source['genderStatus']) {
            this.genderStatus = new fhir.CodeableConcept(source.genderStatus);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient.animal';
        }
        this.vRS('species', exp);
        this.vOS('breed', exp);
        this.vOS('genderStatus', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientAnimal._fts_dataType = 'PatientAnimal';
/**
 * If no language is specified, this *implies* that the default local language is spoken.  If you need to convey proficiency for multiple modes then you need multiple Patient.Communication associations.   For animals, language is not a relevant field, and should be absent from the instance. If the Patient does not speak the default local language, then the Interpreter Required Standard can be used to explicitly declare that an interpreter is required.
 */
export class PatientCommunication extends fhir.BackboneElement {
    /**
     * Default constructor for PatientCommunication - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['language']) {
            this.language = new fhir.CodeableConcept(source.language);
        }
        else {
            this.language = null;
        }
        if (source['preferred']) {
            this.preferred = new fhir.FhirBoolean({ value: source.preferred });
        }
        if (source['_preferred']) {
            if (this.preferred) {
                this.preferred.addExtendedProperties(source._preferred);
            }
            else {
                this.preferred = new fhir.FhirBoolean(source._preferred);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient.communication';
        }
        this.vRS('language', exp);
        this.vOS('preferred', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientCommunication._fts_dataType = 'PatientCommunication';
/**
 * There is no assumption that linked patient records have mutual links.
 * This element is labelled as a modifier because it may not be the main Patient resource, and the referenced patient should be used instead of this Patient record. This is when the link.type value is 'replaced-by'.
 */
export class PatientLink extends fhir.BackboneElement {
    /**
     * Default constructor for PatientLink - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['other']) {
            this.other = new fhir.Reference(source.other);
        }
        else {
            this.other = null;
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient.link';
        }
        this.vRS('other', exp);
        this.vRSV('type', exp, 'LinkType', LinkTypeVsValidation, 'r');
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
PatientLink._fts_dataType = 'PatientLink';
/**
 * Demographics and other administrative information about an individual or animal receiving care or other health-related services.
 */
export class Patient extends fhir.DomainResource {
    /**
     * Default constructor for Patient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Patient';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['active']) {
            this.active = new fhir.FhirBoolean({ value: source.active });
        }
        if (source['_active']) {
            if (this.active) {
                this.active.addExtendedProperties(source._active);
            }
            else {
                this.active = new fhir.FhirBoolean(source._active);
            }
        }
        if (source['name']) {
            this.name = source.name.map((x) => new fhir.HumanName(x));
        }
        else {
            this.name = [];
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
        if (source['gender']) {
            this.gender = new fhir.FhirCode({ value: source.gender });
        }
        if (source['_gender']) {
            if (this.gender) {
                this.gender.addExtendedProperties(source._gender);
            }
            else {
                this.gender = new fhir.FhirCode(source._gender);
            }
        }
        if (source['birthDate']) {
            this.birthDate = new fhir.FhirDate({ value: source.birthDate });
        }
        if (source['_birthDate']) {
            if (this.birthDate) {
                this.birthDate.addExtendedProperties(source._birthDate);
            }
            else {
                this.birthDate = new fhir.FhirDate(source._birthDate);
            }
        }
        if (source['deceased']) {
            this.deceased = source.deceased;
        }
        else if (source['deceasedBoolean']) {
            this.deceased = new fhir.FhirBoolean({ value: source.deceasedBoolean });
        }
        else if (source['deceasedDateTime']) {
            this.deceased = new fhir.FhirDateTime({ value: source.deceasedDateTime });
        }
        if (source['address']) {
            this.address = source.address.map((x) => new fhir.Address(x));
        }
        else {
            this.address = [];
        }
        if (source['maritalStatus']) {
            this.maritalStatus = new fhir.CodeableConcept(source.maritalStatus);
        }
        if (source['multipleBirth']) {
            this.multipleBirth = source.multipleBirth;
        }
        else if (source['multipleBirthBoolean']) {
            this.multipleBirth = new fhir.FhirBoolean({ value: source.multipleBirthBoolean });
        }
        else if (source['multipleBirthInteger']) {
            this.multipleBirth = new fhir.FhirInteger({ value: source.multipleBirthInteger });
        }
        if (source['photo']) {
            this.photo = source.photo.map((x) => new fhir.Attachment(x));
        }
        else {
            this.photo = [];
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.PatientContact(x));
        }
        else {
            this.contact = [];
        }
        if (source['animal']) {
            this.animal = new fhir.PatientAnimal(source.animal);
        }
        if (source['communication']) {
            this.communication = source.communication.map((x) => new fhir.PatientCommunication(x));
        }
        else {
            this.communication = [];
        }
        if (source['generalPractitioner']) {
            this.generalPractitioner = source.generalPractitioner.map((x) => new fhir.Reference(x));
        }
        else {
            this.generalPractitioner = [];
        }
        if (source['managingOrganization']) {
            this.managingOrganization = new fhir.Reference(source.managingOrganization);
        }
        if (source['link']) {
            this.link = source.link.map((x) => new fhir.PatientLink(x));
        }
        else {
            this.link = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Patient';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOS('active', exp);
        this.vOA('name', exp);
        this.vOA('telecom', exp);
        this.vOSV('gender', exp, 'AdministrativeGender', AdministrativeGenderVsValidation, 'r');
        this.vOS('birthDate', exp);
        this.vOS('deceased', exp);
        this.vOA('address', exp);
        this.vOS('maritalStatus', exp);
        this.vOS('multipleBirth', exp);
        this.vOA('photo', exp);
        this.vOA('contact', exp);
        this.vOS('animal', exp);
        this.vOA('communication', exp);
        this.vOA('generalPractitioner', exp);
        this.vOS('managingOrganization', exp);
        this.vOA('link', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Patient._fts_dataType = 'Patient';
/**
 * Internal flag to properly serialize choice-type element Patient.deceased[x]
 */
Patient._fts_deceasedIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Patient.multipleBirth[x]
 */
Patient._fts_multipleBirthIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGF0aWVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvUGF0aWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyx5QkFBeUI7QUFFekIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFRbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxNQUFNLHNEQUFzRCxDQUFDO0FBbUJ4RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUEyQ2hGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGNBQWUsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWlDdEQ7O09BRUc7SUFDSCxZQUFZLFNBQXFDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzNGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzNHO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7U0FBRTtRQUNoQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQ3BFLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJ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QU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBcEtEOztHQUVHO0FBQzZCLHFCQUFhLEdBQVUsU0FBUyxDQUFDO0FBbUNqRTs7R0FFRztBQUN1Qiw2QkFBcUIsR0FBUSxJQUFJLENBQUM7QUFlNUQ7O0dBRUc7QUFDdUIsa0NBQTBCLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIzLmNvcmUgdmVyc2lvbjogMy4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBQYXRpZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWMjAxMzFDb2RlcywgIFYyMDEzMUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WMjAxMzFDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjIwMTMxVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WMjAxMzFWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZXMsICBBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBZG1pbmlzdHJhdGl2ZUdlbmRlclZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWRtaW5pc3RyYXRpdmVHZW5kZXJWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFuaW1hbFNwZWNpZXNDb2RlcywgIEFuaW1hbFNwZWNpZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQW5pbWFsU3BlY2llc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbmltYWxTcGVjaWVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbmltYWxTcGVjaWVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbmltYWxCcmVlZHNDb2RlcywgIEFuaW1hbEJyZWVkc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbmltYWxCcmVlZHNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQW5pbWFsQnJlZWRzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbmltYWxCcmVlZHNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFuaW1hbEdlbmRlcnN0YXR1c0NvZGVzLCAgQW5pbWFsR2VuZGVyc3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FuaW1hbEdlbmRlcnN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbmltYWxHZW5kZXJzdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FuaW1hbEdlbmRlcnN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGFuZ3VhZ2VzQ29kZXMsICBMYW5ndWFnZXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGFuZ3VhZ2VzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IExhbmd1YWdlc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGFuZ3VhZ2VzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBMaW5rVHlwZUNvZGVzLCAgTGlua1R5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTGlua1R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTGlua1R5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0xpbmtUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNYXJpdGFsU3RhdHVzQ29kZXMsICBNYXJpdGFsU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01hcml0YWxTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWFyaXRhbFN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWFyaXRhbFN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBQYXRpZW50Q29udGFjdCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQYXRpZW50Q29udGFjdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYXR1cmUgb2YgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBwYXRpZW50IGFuZCB0aGUgY29udGFjdCBwZXJzb24uXHJcbiAgICovXHJcbiAgcmVsYXRpb25zaGlwPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbnRhY3QgcGVyc29uLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkh1bWFuTmFtZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgbWF5IGhhdmUgbXVsdGlwbGUgd2F5cyB0byBiZSBjb250YWN0ZWQgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuICBNYXkgbmVlZCB0byBoYXZlIG9wdGlvbnMgZm9yIGNvbnRhY3RpbmcgdGhlIHBlcnNvbiB1cmdlbnRseSwgYW5kIGFsc28gdG8gaGVscCB3aXRoIGlkZW50aWZpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHRlbGVjb20/OiBmaGlyLkNvbnRhY3RQb2ludEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkcmVzcyBmb3IgdGhlIGNvbnRhY3QgcGVyc29uLlxyXG4gICAqL1xyXG4gIGFkZHJlc3M/OiBmaGlyLkFkZHJlc3NBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZG1pbmlzdHJhdGl2ZSBHZW5kZXIgLSB0aGUgZ2VuZGVyIHRoYXQgdGhlIGNvbnRhY3QgcGVyc29uIGlzIGNvbnNpZGVyZWQgdG8gaGF2ZSBmb3IgYWRtaW5pc3RyYXRpb24gYW5kIHJlY29yZCBrZWVwaW5nIHB1cnBvc2VzLlxyXG4gICAqL1xyXG4gIGdlbmRlcj86IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGF0aWVudC5jb250YWN0LmdlbmRlclxyXG4gICAqL1xyXG4gIF9nZW5kZXI/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIE9yZ2FuaXphdGlvbiBvbiBiZWhhbGYgb2Ygd2hpY2ggdGhlIGNvbnRhY3QgaXMgYWN0aW5nIG9yIGZvciB3aGljaCB0aGUgY29udGFjdCBpcyB3b3JraW5nLlxyXG4gICAqL1xyXG4gIG9yZ2FuaXphdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcmlvZCBkdXJpbmcgd2hpY2ggdGhpcyBjb250YWN0IHBlcnNvbiBvciBvcmdhbml6YXRpb24gaXMgdmFsaWQgdG8gYmUgY29udGFjdGVkIHJlbGF0aW5nIHRvIHRoaXMgcGF0aWVudC5cclxuICAgKi9cclxuICBwZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udGFjdCBjb3ZlcnMgYWxsIGtpbmRzIG9mIGNvbnRhY3QgcGFydGllczogZmFtaWx5IG1lbWJlcnMsIGJ1c2luZXNzIGNvbnRhY3RzLCBndWFyZGlhbnMsIGNhcmVnaXZlcnMuIE5vdCBhcHBsaWNhYmxlIHRvIHJlZ2lzdGVyIHBlZGlncmVlIGFuZCBmYW1pbHkgdGllcyBiZXlvbmQgdXNlIG9mIGhhdmluZyBjb250YWN0LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhdGllbnRDb250YWN0IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnUGF0aWVudENvbnRhY3QnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYXR1cmUgb2YgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBwYXRpZW50IGFuZCB0aGUgY29udGFjdCBwZXJzb24uXHJcbiAgICovXHJcbiAgcHVibGljIHJlbGF0aW9uc2hpcDogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBBIG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb250YWN0IHBlcnNvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuSHVtYW5OYW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb250YWN0IG1heSBoYXZlIG11bHRpcGxlIHdheXMgdG8gYmUgY29udGFjdGVkIHdpdGggZGlmZmVyZW50IHVzZXMgb3IgYXBwbGljYWJsZSBwZXJpb2RzLiAgTWF5IG5lZWQgdG8gaGF2ZSBvcHRpb25zIGZvciBjb250YWN0aW5nIHRoZSBwZXJzb24gdXJnZW50bHksIGFuZCBhbHNvIHRvIGhlbHAgd2l0aCBpZGVudGlmaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgdGVsZWNvbTogZmhpci5Db250YWN0UG9pbnRbXTtcclxuICAvKipcclxuICAgKiBBZGRyZXNzIGZvciB0aGUgY29udGFjdCBwZXJzb24uXHJcbiAgICovXHJcbiAgcHVibGljIGFkZHJlc3M/OiBmaGlyLkFkZHJlc3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkbWluaXN0cmF0aXZlIEdlbmRlciAtIHRoZSBnZW5kZXIgdGhhdCB0aGUgY29udGFjdCBwZXJzb24gaXMgY29uc2lkZXJlZCB0byBoYXZlIGZvciBhZG1pbmlzdHJhdGlvbiBhbmQgcmVjb3JkIGtlZXBpbmcgcHVycG9zZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGdlbmRlcj86IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9yZ2FuaXphdGlvbiBvbiBiZWhhbGYgb2Ygd2hpY2ggdGhlIGNvbnRhY3QgaXMgYWN0aW5nIG9yIGZvciB3aGljaCB0aGUgY29udGFjdCBpcyB3b3JraW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcmlvZCBkdXJpbmcgd2hpY2ggdGhpcyBjb250YWN0IHBlcnNvbiBvciBvcmdhbml6YXRpb24gaXMgdmFsaWQgdG8gYmUgY29udGFjdGVkIHJlbGF0aW5nIHRvIHRoaXMgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcGVyaW9kPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFBhdGllbnRDb250YWN0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGF0aWVudENvbnRhY3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncmVsYXRpb25zaGlwJ10pIHsgdGhpcy5yZWxhdGlvbnNoaXAgPSBzb3VyY2UucmVsYXRpb25zaGlwLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVsYXRpb25zaGlwID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5IdW1hbk5hbWUoc291cmNlLm5hbWUpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0ZWxlY29tJ10pIHsgdGhpcy50ZWxlY29tID0gc291cmNlLnRlbGVjb20ubWFwKCh4KSA9PiBuZXcgZmhpci5Db250YWN0UG9pbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50ZWxlY29tID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkZHJlc3MnXSkgeyB0aGlzLmFkZHJlc3MgPSBuZXcgZmhpci5BZGRyZXNzKHNvdXJjZS5hZGRyZXNzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZ2VuZGVyJ10pIHsgdGhpcy5nZW5kZXIgPSBuZXcgZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5nZW5kZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2dlbmRlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLmdlbmRlcikgeyB0aGlzLmdlbmRlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9nZW5kZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5nZW5kZXIgPSBuZXcgZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPihzb3VyY2UuX2dlbmRlciBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JnYW5pemF0aW9uJ10pIHsgdGhpcy5vcmdhbml6YXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm9yZ2FuaXphdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmlvZCddKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5wZXJpb2QpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUGF0aWVudC5jb250YWN0JyB9XHJcbiAgICB0aGlzLnZPQSgncmVsYXRpb25zaGlwJyxleHApXHJcbiAgICB0aGlzLnZPUygnbmFtZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3RlbGVjb20nLGV4cClcclxuICAgIHRoaXMudk9TKCdhZGRyZXNzJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ2dlbmRlcicsZXhwLCdBZG1pbmlzdHJhdGl2ZUdlbmRlcicsQWRtaW5pc3RyYXRpdmVHZW5kZXJWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1MoJ29yZ2FuaXphdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3BlcmlvZCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFBhdGllbnRBbmltYWwgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGF0aWVudEFuaW1hbEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBwYXRpZW50IGlzIG5vbi1odW1hbiwgYXQgbGVhc3QgYSBzcGVjaWVzIFNIQUxMIGJlIHNwZWNpZmllZC4gU3BlY2llcyBTSEFMTCBiZSBhIHdpZGVseSByZWNvZ25pc2VkIHRheG9ub21pYyBjbGFzc2lmaWNhdGlvbi4gIEl0IG1heSBvciBtYXkgbm90IGJlIExpbm5hZWFuIHRheG9ub215IGFuZCBtYXkgb3IgbWF5IG5vdCBiZSBhdCB0aGUgbGV2ZWwgb2Ygc3BlY2llcy4gSWYgdGhlIGxldmVsIGlzIGZpbmVyIHRoYW4gc3BlY2llcy0tc3VjaCBhcyBhIGJyZWVkIGNvZGUtLXRoZSBjb2RlIHN5c3RlbSB1c2VkIFNIQUxMIGFsbG93IGluZmVyZW5jZSBvZiB0aGUgc3BlY2llcy4gIChUaGUgY29tbW9uIGV4YW1wbGUgaXMgdGhhdCB0aGUgd29yZCBcIkhlcmVmb3JkXCIgZG9lcyBub3QgYWxsb3cgaW5mZXJlbmNlIG9mIHRoZSBzcGVjaWVzIEJvcyB0YXVydXMsIGJlY2F1c2UgdGhlcmUgaXMgYSBIZXJlZm9yZCBwaWcgYnJlZWQsIGJ1dCB0aGUgU05PTUVEIENUIGNvZGUgZm9yIFwiSGVyZWZvcmQgQ2F0dGxlIEJyZWVkXCIgZG9lcy4pLlxyXG4gICAqL1xyXG4gIHNwZWNpZXM6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEJyZWVkIE1BWSBiZSB1c2VkIHRvIHByb3ZpZGUgZnVydGhlciB0YXhvbm9taWMgb3Igbm9uLXRheG9ub21pYyBjbGFzc2lmaWNhdGlvbi4gIEl0IG1heSBpbnZvbHZlIGxvY2FsIG9yIHByb3ByaWV0YXJ5IGRlc2lnbmF0aW9uLS1zdWNoIGFzIGNvbW1lcmNpYWwgc3RyYWluLS1hbmQvb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBzdWNoIGFzIHByb2R1Y3Rpb24gdHlwZS5cclxuICAgKi9cclxuICBicmVlZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhbmltYWwncyByZXByb2R1Y3RpdmUgb3JnYW5zLlxyXG4gICAqL1xyXG4gIGdlbmRlclN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgYW5pbWFsIGVsZW1lbnQgaXMgbGFiZWxlZCBcIklzIE1vZGlmaWVyXCIgc2luY2UgcGF0aWVudHMgbWF5IGJlIG5vbi1odW1hbi4gU3lzdGVtcyBTSEFMTCBlaXRoZXIgaGFuZGxlIHBhdGllbnQgZGV0YWlscyBhcHByb3ByaWF0ZWx5IChlLmcuIGluZm9ybSB1c2VycyBwYXRpZW50IGlzIG5vdCBodW1hbikgb3IgcmVqZWN0IGRlY2xhcmVkIGFuaW1hbCByZWNvcmRzLiAgIFRoZSBhYnNlbnNlIG9mIHRoZSBhbmltYWwgZWxlbWVudCBkb2VzIG5vdCBpbXBseSB0aGF0IHRoZSBwYXRpZW50IGlzIGEgaHVtYW4uIElmIGEgc3lzdGVtIHJlcXVpcmVzIHN1Y2ggYSBwb3NpdGl2ZSBhc3NlcnRpb24gdGhhdCB0aGUgcGF0aWVudCBpcyBodW1hbiwgYW4gZXh0ZW5zaW9uIHdpbGwgYmUgcmVxdWlyZWQuICAoRG8gbm90IHVzZSBhIHNwZWNpZXMgb2YgaG9tby1zYXBpZW5zIGluIGFuaW1hbCBzcGVjaWVzLCBhcyB0aGlzIHdvdWxkIGluY29ycmVjdGx5IGluZmVyIHRoYXQgdGhlIHBhdGllbnQgaXMgYW4gYW5pbWFsKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXRpZW50QW5pbWFsIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnUGF0aWVudEFuaW1hbCc7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHBhdGllbnQgaXMgbm9uLWh1bWFuLCBhdCBsZWFzdCBhIHNwZWNpZXMgU0hBTEwgYmUgc3BlY2lmaWVkLiBTcGVjaWVzIFNIQUxMIGJlIGEgd2lkZWx5IHJlY29nbmlzZWQgdGF4b25vbWljIGNsYXNzaWZpY2F0aW9uLiAgSXQgbWF5IG9yIG1heSBub3QgYmUgTGlubmFlYW4gdGF4b25vbXkgYW5kIG1heSBvciBtYXkgbm90IGJlIGF0IHRoZSBsZXZlbCBvZiBzcGVjaWVzLiBJZiB0aGUgbGV2ZWwgaXMgZmluZXIgdGhhbiBzcGVjaWVzLS1zdWNoIGFzIGEgYnJlZWQgY29kZS0tdGhlIGNvZGUgc3lzdGVtIHVzZWQgU0hBTEwgYWxsb3cgaW5mZXJlbmNlIG9mIHRoZSBzcGVjaWVzLiAgKFRoZSBjb21tb24gZXhhbXBsZSBpcyB0aGF0IHRoZSB3b3JkIFwiSGVyZWZvcmRcIiBkb2VzIG5vdCBhbGxvdyBpbmZlcmVuY2Ugb2YgdGhlIHNwZWNpZXMgQm9zIHRhdXJ1cywgYmVjYXVzZSB0aGVyZSBpcyBhIEhlcmVmb3JkIHBpZyBicmVlZCwgYnV0IHRoZSBTTk9NRUQgQ1QgY29kZSBmb3IgXCJIZXJlZm9yZCBDYXR0bGUgQnJlZWRcIiBkb2VzLikuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpZXM6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQnJlZWQgTUFZIGJlIHVzZWQgdG8gcHJvdmlkZSBmdXJ0aGVyIHRheG9ub21pYyBvciBub24tdGF4b25vbWljIGNsYXNzaWZpY2F0aW9uLiAgSXQgbWF5IGludm9sdmUgbG9jYWwgb3IgcHJvcHJpZXRhcnkgZGVzaWduYXRpb24tLXN1Y2ggYXMgY29tbWVyY2lhbCBzdHJhaW4tLWFuZC9vciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHN1Y2ggYXMgcHJvZHVjdGlvbiB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBicmVlZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFuaW1hbCdzIHJlcHJvZHVjdGl2ZSBvcmdhbnMuXHJcbiAgICovXHJcbiAgcHVibGljIGdlbmRlclN0YXR1cz86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYXRpZW50QW5pbWFsIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGF0aWVudEFuaW1hbEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzcGVjaWVzJ10pIHsgdGhpcy5zcGVjaWVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zcGVjaWVzKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3BlY2llcyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2JyZWVkJ10pIHsgdGhpcy5icmVlZCA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYnJlZWQpOyB9XHJcbiAgICBpZiAoc291cmNlWydnZW5kZXJTdGF0dXMnXSkgeyB0aGlzLmdlbmRlclN0YXR1cyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZ2VuZGVyU3RhdHVzKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhdGllbnQuYW5pbWFsJyB9XHJcbiAgICB0aGlzLnZSUygnc3BlY2llcycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2JyZWVkJyxleHApXHJcbiAgICB0aGlzLnZPUygnZ2VuZGVyU3RhdHVzJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGF0aWVudENvbW11bmljYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGF0aWVudENvbW11bmljYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgc3RydWN0dXJlIGFhLUJCIHdpdGggdGhpcyBleGFjdCBjYXNpbmcgaXMgb25lIHRoZSBtb3N0IHdpZGVseSB1c2VkIG5vdGF0aW9ucyBmb3IgbG9jYWxlLiBIb3dldmVyIG5vdCBhbGwgc3lzdGVtcyBhY3R1YWxseSBjb2RlIHRoaXMgYnV0IGluc3RlYWQgaGF2ZSBpdCBhcyBmcmVlIHRleHQuIEhlbmNlIENvZGVhYmxlQ29uY2VwdCBpbnN0ZWFkIG9mIGNvZGUgYXMgdGhlIGRhdGEgdHlwZS5cclxuICAgKi9cclxuICBsYW5ndWFnZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBsYW5ndWFnZSBpcyBzcGVjaWZpY2FsbHkgaWRlbnRpZmllZCBmb3IgY29tbXVuaWNhdGluZyBoZWFsdGhjYXJlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHByZWZlcnJlZD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFBhdGllbnQuY29tbXVuaWNhdGlvbi5wcmVmZXJyZWRcclxuICAgKi9cclxuICBfcHJlZmVycmVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIElmIG5vIGxhbmd1YWdlIGlzIHNwZWNpZmllZCwgdGhpcyAqaW1wbGllcyogdGhhdCB0aGUgZGVmYXVsdCBsb2NhbCBsYW5ndWFnZSBpcyBzcG9rZW4uICBJZiB5b3UgbmVlZCB0byBjb252ZXkgcHJvZmljaWVuY3kgZm9yIG11bHRpcGxlIG1vZGVzIHRoZW4geW91IG5lZWQgbXVsdGlwbGUgUGF0aWVudC5Db21tdW5pY2F0aW9uIGFzc29jaWF0aW9ucy4gICBGb3IgYW5pbWFscywgbGFuZ3VhZ2UgaXMgbm90IGEgcmVsZXZhbnQgZmllbGQsIGFuZCBzaG91bGQgYmUgYWJzZW50IGZyb20gdGhlIGluc3RhbmNlLiBJZiB0aGUgUGF0aWVudCBkb2VzIG5vdCBzcGVhayB0aGUgZGVmYXVsdCBsb2NhbCBsYW5ndWFnZSwgdGhlbiB0aGUgSW50ZXJwcmV0ZXIgUmVxdWlyZWQgU3RhbmRhcmQgY2FuIGJlIHVzZWQgdG8gZXhwbGljaXRseSBkZWNsYXJlIHRoYXQgYW4gaW50ZXJwcmV0ZXIgaXMgcmVxdWlyZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGF0aWVudENvbW11bmljYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYXRpZW50Q29tbXVuaWNhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0cnVjdHVyZSBhYS1CQiB3aXRoIHRoaXMgZXhhY3QgY2FzaW5nIGlzIG9uZSB0aGUgbW9zdCB3aWRlbHkgdXNlZCBub3RhdGlvbnMgZm9yIGxvY2FsZS4gSG93ZXZlciBub3QgYWxsIHN5c3RlbXMgYWN0dWFsbHkgY29kZSB0aGlzIGJ1dCBpbnN0ZWFkIGhhdmUgaXQgYXMgZnJlZSB0ZXh0LiBIZW5jZSBDb2RlYWJsZUNvbmNlcHQgaW5zdGVhZCBvZiBjb2RlIGFzIHRoZSBkYXRhIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIGxhbmd1YWdlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbGFuZ3VhZ2UgaXMgc3BlY2lmaWNhbGx5IGlkZW50aWZpZWQgZm9yIGNvbW11bmljYXRpbmcgaGVhbHRoY2FyZSBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJlZmVycmVkPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgUGF0aWVudENvbW11bmljYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxQYXRpZW50Q29tbXVuaWNhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydsYW5ndWFnZSddKSB7IHRoaXMubGFuZ3VhZ2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmxhbmd1YWdlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubGFuZ3VhZ2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwcmVmZXJyZWQnXSkgeyB0aGlzLnByZWZlcnJlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnByZWZlcnJlZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJlZmVycmVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMucHJlZmVycmVkKSB7IHRoaXMucHJlZmVycmVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ByZWZlcnJlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnByZWZlcnJlZCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fcHJlZmVycmVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1BhdGllbnQuY29tbXVuaWNhdGlvbicgfVxyXG4gICAgdGhpcy52UlMoJ2xhbmd1YWdlJyxleHApXHJcbiAgICB0aGlzLnZPUygncHJlZmVycmVkJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgUGF0aWVudExpbmsgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGF0aWVudExpbmtBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2luZyBhIFJlbGF0ZWRQZXJzb24gaGVyZSByZW1vdmVzIHRoZSBuZWVkIHRvIHVzZSBhIFBlcnNvbiByZWNvcmQgdG8gYXNzb2NpYXRlIGEgUGF0aWVudCBhbmQgUmVsYXRlZFBlcnNvbiBhcyB0aGUgc2FtZSBpbmRpdmlkdWFsLlxyXG4gICAqL1xyXG4gIG90aGVyOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBsaW5rIGJldHdlZW4gdGhpcyBwYXRpZW50IHJlc291cmNlIGFuZCBhbm90aGVyIHBhdGllbnQgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5GaGlyQ29kZTxMaW5rVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBQYXRpZW50LmxpbmsudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZXJlIGlzIG5vIGFzc3VtcHRpb24gdGhhdCBsaW5rZWQgcGF0aWVudCByZWNvcmRzIGhhdmUgbXV0dWFsIGxpbmtzLiBcclxuICogVGhpcyBlbGVtZW50IGlzIGxhYmVsbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBpdCBtYXkgbm90IGJlIHRoZSBtYWluIFBhdGllbnQgcmVzb3VyY2UsIGFuZCB0aGUgcmVmZXJlbmNlZCBwYXRpZW50IHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgdGhpcyBQYXRpZW50IHJlY29yZC4gVGhpcyBpcyB3aGVuIHRoZSBsaW5rLnR5cGUgdmFsdWUgaXMgJ3JlcGxhY2VkLWJ5Jy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXRpZW50TGluayBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1BhdGllbnRMaW5rJztcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2luZyBhIFJlbGF0ZWRQZXJzb24gaGVyZSByZW1vdmVzIHRoZSBuZWVkIHRvIHVzZSBhIFBlcnNvbiByZWNvcmQgdG8gYXNzb2NpYXRlIGEgUGF0aWVudCBhbmQgUmVsYXRlZFBlcnNvbiBhcyB0aGUgc2FtZSBpbmRpdmlkdWFsLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdGhlcjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiBsaW5rIGJldHdlZW4gdGhpcyBwYXRpZW50IHJlc291cmNlIGFuZCBhbm90aGVyIHBhdGllbnQgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuRmhpckNvZGU8TGlua1R5cGVDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYXRpZW50TGluayAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFBhdGllbnRMaW5rQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ290aGVyJ10pIHsgdGhpcy5vdGhlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uub3RoZXIpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vdGhlciA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxMaW5rVHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8TGlua1R5cGVDb2RlVHlwZT4oc291cmNlLl90eXBlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnUGF0aWVudC5saW5rJyB9XHJcbiAgICB0aGlzLnZSUygnb3RoZXInLGV4cClcclxuICAgIHRoaXMudlJTVigndHlwZScsZXhwLCdMaW5rVHlwZScsTGlua1R5cGVWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFBhdGllbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGF0aWVudEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIlBhdGllbnRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gaWRlbnRpZmllciBmb3IgdGhpcyBwYXRpZW50LlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgaXMgdHJ1ZS4gSWYgYSByZWNvcmQgaXMgaW5hY3RpdmUsIGFuZCBsaW5rZWQgdG8gYW4gYWN0aXZlIHJlY29yZCwgdGhlbiBmdXR1cmUgcGF0aWVudC9yZWNvcmQgdXBkYXRlcyBzaG91bGQgb2NjdXIgb24gdGhlIG90aGVyIHBhdGllbnRcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2Ugd2hlbiB0aGUgcGF0aWVudCByZWNvcmQgaXMgbWFya2VkIGFzIG5vdCBhY3RpdmUgaXQgaXMgbm90IGV4cGVjdGVkIHRvIGJlIHVzZWQvcmVmZXJlbmNlZCB3aXRob3V0IGJlaW5nIGNoYW5nZWQgYmFjayB0byBhY3RpdmUuXHJcbiAgICovXHJcbiAgYWN0aXZlPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGF0aWVudC5hY3RpdmVcclxuICAgKi9cclxuICBfYWN0aXZlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIHBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgbmFtZXMgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuIEZvciBhbmltYWxzLCB0aGUgbmFtZSBpcyBhIFwiSHVtYW5OYW1lXCIgaW4gdGhlIHNlbnNlIHRoYXQgaXMgYXNzaWduZWQgYW5kIHVzZWQgYnkgaHVtYW5zIGFuZCBoYXMgdGhlIHNhbWUgcGF0dGVybnMuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuSHVtYW5OYW1lQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIFBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgd2F5cyB0byBiZSBjb250YWN0ZWQgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuICBNYXkgbmVlZCB0byBoYXZlIG9wdGlvbnMgZm9yIGNvbnRhY3RpbmcgdGhlIHBlcnNvbiB1cmdlbnRseSBhbmQgYWxzbyB0byBoZWxwIHdpdGggaWRlbnRpZmljYXRpb24uIFRoZSBhZGRyZXNzIG1heSBub3QgZ28gZGlyZWN0bHkgdG8gdGhlIGluZGl2aWR1YWwsIGJ1dCBtYXkgcmVhY2ggYW5vdGhlciBwYXJ0eSB0aGF0IGlzIGFibGUgdG8gcHJveHkgZm9yIHRoZSBwYXRpZW50IChpLmUuIGhvbWUgcGhvbmUsIG9yIHBldCBvd25lcidzIHBob25lKS5cclxuICAgKi9cclxuICB0ZWxlY29tPzogZmhpci5Db250YWN0UG9pbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBnZW5kZXIgbWF5IG5vdCBtYXRjaCB0aGUgYmlvbG9naWNhbCBzZXggYXMgZGV0ZXJtaW5lZCBieSBnZW5ldGljcywgb3IgdGhlIGluZGl2aWR1YWwncyBwcmVmZXJyZWQgaWRlbnRpZmljYXRpb24uIE5vdGUgdGhhdCBmb3IgYm90aCBodW1hbnMgYW5kIHBhcnRpY3VsYXJseSBhbmltYWxzLCB0aGVyZSBhcmUgb3RoZXIgbGVnaXRpbWF0ZSBwb3NzaWJpbGl0aWVzIHRoYW4gTSBhbmQgRiwgdGhvdWdoIHRoZSB2YXN0IG1ham9yaXR5IG9mIHN5c3RlbXMgYW5kIGNvbnRleHRzIG9ubHkgc3VwcG9ydCBNIGFuZCBGLiAgU3lzdGVtcyBwcm92aWRpbmcgZGVjaXNpb24gc3VwcG9ydCBvciBlbmZvcmNpbmcgYnVzaW5lc3MgcnVsZXMgc2hvdWxkIGlkZWFsbHkgZG8gdGhpcyBvbiB0aGUgYmFzaXMgb2YgT2JzZXJ2YXRpb25zIGRlYWxpbmcgd2l0aCB0aGUgc3BlY2lmaWMgZ2VuZGVyIGFzcGVjdCBvZiBpbnRlcmVzdCAoYW5hdG9taWNhbCwgY2hyb21vc29uYWwsIHNvY2lhbCwgZXRjLikgIEhvd2V2ZXIsIGJlY2F1c2UgdGhlc2Ugb2JzZXJ2YXRpb25zIGFyZSBpbmZyZXF1ZW50bHkgcmVjb3JkZWQsIGRlZmF1bHRpbmcgdG8gdGhlIGFkbWluaXN0cmF0aXZlIGdlbmRlciBpcyBjb21tb24gcHJhY3RpY2UuICBXaGVyZSBzdWNoIGRlZmF1bHRpbmcgb2NjdXJzLCBydWxlIGVuZm9yY2VtZW50IHNob3VsZCBhbGxvdyBmb3IgdGhlIHZhcmlhdGlvbiBiZXR3ZWVuIGFkbWluaXN0cmF0aXZlIGFuZCBiaW9sb2dpY2FsLCBjaHJvbW9zb25hbCBhbmQgb3RoZXIgZ2VuZGVyIGFzcGVjdHMuICBGb3IgZXhhbXBsZSwgYW4gYWxlcnQgYWJvdXQgYSBoeXN0ZXJlY3RvbXkgb24gYSBtYWxlIHNob3VsZCBiZSBoYW5kbGVkIGFzIGEgd2FybmluZyBvciBvdmVycmlkZWFibGUgZXJyb3IsIG5vdCBhIFwiaGFyZFwiIGVycm9yLlxyXG4gICAqL1xyXG4gIGdlbmRlcj86IGZoaXIuRmhpckNvZGU8QWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGF0aWVudC5nZW5kZXJcclxuICAgKi9cclxuICBfZ2VuZGVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBdCBsZWFzdCBhbiBlc3RpbWF0ZWQgeWVhciBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBndWVzcyBpZiB0aGUgcmVhbCBET0IgaXMgdW5rbm93biAgVGhlcmUgaXMgYSBzdGFuZGFyZCBleHRlbnNpb24gXCJwYXRpZW50LWJpcnRoVGltZVwiIGF2YWlsYWJsZSB0aGF0IHNob3VsZCBiZSB1c2VkIHdoZXJlIFRpbWUgaXMgcmVxdWlyZWQgKHN1Y2ggYXMgaW4gbWF0ZXJuYXR5L2luZmFudCBjYXJlIHN5c3RlbXMpLlxyXG4gICAqL1xyXG4gIGJpcnRoRGF0ZT86IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUGF0aWVudC5iaXJ0aERhdGVcclxuICAgKi9cclxuICBfYmlydGhEYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJZiB0aGVyZSdzIG5vIHZhbHVlIGluIHRoZSBpbnN0YW5jZSBpdCBtZWFucyB0aGVyZSBpcyBubyBzdGF0ZW1lbnQgb24gd2hldGhlciBvciBub3QgdGhlIGluZGl2aWR1YWwgaXMgZGVjZWFzZWQuIE1vc3Qgc3lzdGVtcyB3aWxsIGludGVycHJldCB0aGUgYWJzZW5jZSBvZiBhIHZhbHVlIGFzIGEgc2lnbiBvZiB0aGUgcGVyc29uIGJlaW5nIGFsaXZlLlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBvbmNlIGEgcGF0aWVudCBpcyBtYXJrZWQgYXMgZGVjZWFzZWQsIHRoZSBhY3Rpb25zIHRoYXQgYXJlIGFwcHJvcHJpYXRlIHRvIHBlcmZvcm0gb24gdGhlIHBhdGllbnQgbWF5IGJlIHNpZ25pZmljYW50bHkgZGlmZmVyZW50LlxyXG4gICAqL1xyXG4gIGRlY2Vhc2VkPzogZmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUncyBubyB2YWx1ZSBpbiB0aGUgaW5zdGFuY2UgaXQgbWVhbnMgdGhlcmUgaXMgbm8gc3RhdGVtZW50IG9uIHdoZXRoZXIgb3Igbm90IHRoZSBpbmRpdmlkdWFsIGlzIGRlY2Vhc2VkLiBNb3N0IHN5c3RlbXMgd2lsbCBpbnRlcnByZXQgdGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBhcyBhIHNpZ24gb2YgdGhlIHBlcnNvbiBiZWluZyBhbGl2ZS5cclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2Ugb25jZSBhIHBhdGllbnQgaXMgbWFya2VkIGFzIGRlY2Vhc2VkLCB0aGUgYWN0aW9ucyB0aGF0IGFyZSBhcHByb3ByaWF0ZSB0byBwZXJmb3JtIG9uIHRoZSBwYXRpZW50IG1heSBiZSBzaWduaWZpY2FudGx5IGRpZmZlcmVudC5cclxuICAgKi9cclxuICBkZWNlYXNlZEJvb2xlYW4/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZXJlJ3Mgbm8gdmFsdWUgaW4gdGhlIGluc3RhbmNlIGl0IG1lYW5zIHRoZXJlIGlzIG5vIHN0YXRlbWVudCBvbiB3aGV0aGVyIG9yIG5vdCB0aGUgaW5kaXZpZHVhbCBpcyBkZWNlYXNlZC4gTW9zdCBzeXN0ZW1zIHdpbGwgaW50ZXJwcmV0IHRoZSBhYnNlbmNlIG9mIGEgdmFsdWUgYXMgYSBzaWduIG9mIHRoZSBwZXJzb24gYmVpbmcgYWxpdmUuXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIG9uY2UgYSBwYXRpZW50IGlzIG1hcmtlZCBhcyBkZWNlYXNlZCwgdGhlIGFjdGlvbnMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgdG8gcGVyZm9ybSBvbiB0aGUgcGF0aWVudCBtYXkgYmUgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQuXHJcbiAgICovXHJcbiAgZGVjZWFzZWREYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGF0aWVudCBtYXkgaGF2ZSBtdWx0aXBsZSBhZGRyZXNzZXMgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuXHJcbiAgICovXHJcbiAgYWRkcmVzcz86IGZoaXIuQWRkcmVzc0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBjb250YWlucyBhIHBhdGllbnQncyBtb3N0IHJlY2VudCBtYXJpdGFsIChjaXZpbCkgc3RhdHVzLlxyXG4gICAqL1xyXG4gIG1hcml0YWxTdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSB2YWx1ZUludGVnZXIgaXMgcHJvdmlkZWQsIHRoZSBudW1iZXIgaXMgdGhlIGJpcnRoIG51bWJlciBpbiB0aGUgc2VxdWVuY2UuXHJcbiAgICogRS5nLiBUaGUgbWlkZGxlIGJpcnRoIGluIHRyaXBwbGV0cyB3b3VsZCBiZSB2YWx1ZUludGVnZXI9MiBhbmQgdGhlIHRoaXJkIGJvcm4gd291bGQgaGF2ZSB2YWx1ZUludGVnZXI9M1xyXG4gICAqIElmIGEgYm9vbCB2YWx1ZSB3YXMgcHJvdmlkZWQgZm9yIHRoaXMgdHJpcHBsZXRzIGV4YW1sZSwgdGhlbiBhbGwgMyBwYXRpZW50IHJlY29yZHMgd291bGQgaGF2ZSB2YWx1ZUJvb2w9dHJ1ZSAodGhlIG9yZGVyaW5nIGlzIG5vdCBpbmRpY2F0ZWQpLlxyXG4gICAqL1xyXG4gIG11bHRpcGxlQmlydGg/OiBmaGlyLkZoaXJCb29sZWFufGZoaXIuRmhpckludGVnZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSB2YWx1ZUludGVnZXIgaXMgcHJvdmlkZWQsIHRoZSBudW1iZXIgaXMgdGhlIGJpcnRoIG51bWJlciBpbiB0aGUgc2VxdWVuY2UuXHJcbiAgICogRS5nLiBUaGUgbWlkZGxlIGJpcnRoIGluIHRyaXBwbGV0cyB3b3VsZCBiZSB2YWx1ZUludGVnZXI9MiBhbmQgdGhlIHRoaXJkIGJvcm4gd291bGQgaGF2ZSB2YWx1ZUludGVnZXI9M1xyXG4gICAqIElmIGEgYm9vbCB2YWx1ZSB3YXMgcHJvdmlkZWQgZm9yIHRoaXMgdHJpcHBsZXRzIGV4YW1sZSwgdGhlbiBhbGwgMyBwYXRpZW50IHJlY29yZHMgd291bGQgaGF2ZSB2YWx1ZUJvb2w9dHJ1ZSAodGhlIG9yZGVyaW5nIGlzIG5vdCBpbmRpY2F0ZWQpLlxyXG4gICAqL1xyXG4gIG11bHRpcGxlQmlydGhCb29sZWFuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgdmFsdWVJbnRlZ2VyIGlzIHByb3ZpZGVkLCB0aGUgbnVtYmVyIGlzIHRoZSBiaXJ0aCBudW1iZXIgaW4gdGhlIHNlcXVlbmNlLlxyXG4gICAqIEUuZy4gVGhlIG1pZGRsZSBiaXJ0aCBpbiB0cmlwcGxldHMgd291bGQgYmUgdmFsdWVJbnRlZ2VyPTIgYW5kIHRoZSB0aGlyZCBib3JuIHdvdWxkIGhhdmUgdmFsdWVJbnRlZ2VyPTNcclxuICAgKiBJZiBhIGJvb2wgdmFsdWUgd2FzIHByb3ZpZGVkIGZvciB0aGlzIHRyaXBwbGV0cyBleGFtbGUsIHRoZW4gYWxsIDMgcGF0aWVudCByZWNvcmRzIHdvdWxkIGhhdmUgdmFsdWVCb29sPXRydWUgKHRoZSBvcmRlcmluZyBpcyBub3QgaW5kaWNhdGVkKS5cclxuICAgKi9cclxuICBtdWx0aXBsZUJpcnRoSW50ZWdlcj86IGZoaXIuRmhpckludGVnZXJ8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbWFnZSBvZiB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwaG90bz86IGZoaXIuQXR0YWNobWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdCBjb3ZlcnMgYWxsIGtpbmRzIG9mIGNvbnRhY3QgcGFydGllczogZmFtaWx5IG1lbWJlcnMsIGJ1c2luZXNzIGNvbnRhY3RzLCBndWFyZGlhbnMsIGNhcmVnaXZlcnMuIE5vdCBhcHBsaWNhYmxlIHRvIHJlZ2lzdGVyIHBlZGlncmVlIGFuZCBmYW1pbHkgdGllcyBiZXlvbmQgdXNlIG9mIGhhdmluZyBjb250YWN0LlxyXG4gICAqL1xyXG4gIGNvbnRhY3Q/OiBmaGlyLlBhdGllbnRDb250YWN0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYW5pbWFsIGVsZW1lbnQgaXMgbGFiZWxlZCBcIklzIE1vZGlmaWVyXCIgc2luY2UgcGF0aWVudHMgbWF5IGJlIG5vbi1odW1hbi4gU3lzdGVtcyBTSEFMTCBlaXRoZXIgaGFuZGxlIHBhdGllbnQgZGV0YWlscyBhcHByb3ByaWF0ZWx5IChlLmcuIGluZm9ybSB1c2VycyBwYXRpZW50IGlzIG5vdCBodW1hbikgb3IgcmVqZWN0IGRlY2xhcmVkIGFuaW1hbCByZWNvcmRzLiAgIFRoZSBhYnNlbnNlIG9mIHRoZSBhbmltYWwgZWxlbWVudCBkb2VzIG5vdCBpbXBseSB0aGF0IHRoZSBwYXRpZW50IGlzIGEgaHVtYW4uIElmIGEgc3lzdGVtIHJlcXVpcmVzIHN1Y2ggYSBwb3NpdGl2ZSBhc3NlcnRpb24gdGhhdCB0aGUgcGF0aWVudCBpcyBodW1hbiwgYW4gZXh0ZW5zaW9uIHdpbGwgYmUgcmVxdWlyZWQuICAoRG8gbm90IHVzZSBhIHNwZWNpZXMgb2YgaG9tby1zYXBpZW5zIGluIGFuaW1hbCBzcGVjaWVzLCBhcyB0aGlzIHdvdWxkIGluY29ycmVjdGx5IGluZmVyIHRoYXQgdGhlIHBhdGllbnQgaXMgYW4gYW5pbWFsKS5cclxuICAgKi9cclxuICBhbmltYWw/OiBmaGlyLlBhdGllbnRBbmltYWxBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBubyBsYW5ndWFnZSBpcyBzcGVjaWZpZWQsIHRoaXMgKmltcGxpZXMqIHRoYXQgdGhlIGRlZmF1bHQgbG9jYWwgbGFuZ3VhZ2UgaXMgc3Bva2VuLiAgSWYgeW91IG5lZWQgdG8gY29udmV5IHByb2ZpY2llbmN5IGZvciBtdWx0aXBsZSBtb2RlcyB0aGVuIHlvdSBuZWVkIG11bHRpcGxlIFBhdGllbnQuQ29tbXVuaWNhdGlvbiBhc3NvY2lhdGlvbnMuICAgRm9yIGFuaW1hbHMsIGxhbmd1YWdlIGlzIG5vdCBhIHJlbGV2YW50IGZpZWxkLCBhbmQgc2hvdWxkIGJlIGFic2VudCBmcm9tIHRoZSBpbnN0YW5jZS4gSWYgdGhlIFBhdGllbnQgZG9lcyBub3Qgc3BlYWsgdGhlIGRlZmF1bHQgbG9jYWwgbGFuZ3VhZ2UsIHRoZW4gdGhlIEludGVycHJldGVyIFJlcXVpcmVkIFN0YW5kYXJkIGNhbiBiZSB1c2VkIHRvIGV4cGxpY2l0bHkgZGVjbGFyZSB0aGF0IGFuIGludGVycHJldGVyIGlzIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIGNvbW11bmljYXRpb24/OiBmaGlyLlBhdGllbnRDb21tdW5pY2F0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBiZSB0aGUgcHJpbWFyeSBjYXJlIHByb3ZpZGVyIChpbiBhIEdQIGNvbnRleHQpLCBvciBpdCBtYXkgYmUgYSBwYXRpZW50IG5vbWluYXRlZCBjYXJlIG1hbmFnZXIgaW4gYSBjb21tdW5pdHkvZGlzYWJsaXR5IHNldHRpbmcsIG9yIGV2ZW4gb3JnYW5pemF0aW9uIHRoYXQgd2lsbCBwcm92aWRlIHBlb3BsZSB0byBwZXJmb3JtIHRoZSBjYXJlIHByb3ZpZGVyIHJvbGVzLlxyXG4gICAqIEl0IGlzIG5vdCB0byBiZSB1c2VkIHRvIHJlY29yZCBDYXJlIFRlYW1zLCB0aGVzZSBzaG91bGQgYmUgaW4gYSBDYXJlVGVhbSByZXNvdXJjZSB0aGF0IG1heSBiZSBsaW5rZWQgdG8gdGhlIENhcmVQbGFuIG9yIEVwaXNvZGVPZkNhcmUgcmVzb3VyY2VzLlxyXG4gICAqL1xyXG4gIGdlbmVyYWxQcmFjdGl0aW9uZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgb25seSBvbmUgbWFuYWdpbmcgb3JnYW5pemF0aW9uIGZvciBhIHNwZWNpZmljIHBhdGllbnQgcmVjb3JkLiBPdGhlciBvcmdhbml6YXRpb25zIHdpbGwgaGF2ZSB0aGVpciBvd24gUGF0aWVudCByZWNvcmQsIGFuZCBtYXkgdXNlIHRoZSBMaW5rIHByb3BlcnR5IHRvIGpvaW4gdGhlIHJlY29yZHMgdG9nZXRoZXIgKG9yIGEgUGVyc29uIHJlc291cmNlIHdoaWNoIGNhbiBpbmNsdWRlIGNvbmZpZGVuY2UgcmF0aW5ncyBmb3IgdGhlIGFzc29jaWF0aW9uKS5cclxuICAgKi9cclxuICBtYW5hZ2luZ09yZ2FuaXphdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gYXNzdW1wdGlvbiB0aGF0IGxpbmtlZCBwYXRpZW50IHJlY29yZHMgaGF2ZSBtdXR1YWwgbGlua3MuIFxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgaXQgbWF5IG5vdCBiZSB0aGUgbWFpbiBQYXRpZW50IHJlc291cmNlLCBhbmQgdGhlIHJlZmVyZW5jZWQgcGF0aWVudCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoaXMgUGF0aWVudCByZWNvcmQuIFRoaXMgaXMgd2hlbiB0aGUgbGluay50eXBlIHZhbHVlIGlzICdyZXBsYWNlZC1ieScuXHJcbiAgICovXHJcbiAgbGluaz86IGZoaXIuUGF0aWVudExpbmtBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVtb2dyYXBoaWNzIGFuZCBvdGhlciBhZG1pbmlzdHJhdGl2ZSBpbmZvcm1hdGlvbiBhYm91dCBhbiBpbmRpdmlkdWFsIG9yIGFuaW1hbCByZWNlaXZpbmcgY2FyZSBvciBvdGhlciBoZWFsdGgtcmVsYXRlZCBzZXJ2aWNlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQYXRpZW50IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdQYXRpZW50JztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIlBhdGllbnRcIjtcclxuICAvKipcclxuICAgKiBBbiBpZGVudGlmaWVyIGZvciB0aGlzIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgaXMgdHJ1ZS4gSWYgYSByZWNvcmQgaXMgaW5hY3RpdmUsIGFuZCBsaW5rZWQgdG8gYW4gYWN0aXZlIHJlY29yZCwgdGhlbiBmdXR1cmUgcGF0aWVudC9yZWNvcmQgdXBkYXRlcyBzaG91bGQgb2NjdXIgb24gdGhlIG90aGVyIHBhdGllbnRcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2Ugd2hlbiB0aGUgcGF0aWVudCByZWNvcmQgaXMgbWFya2VkIGFzIG5vdCBhY3RpdmUgaXQgaXMgbm90IGV4cGVjdGVkIHRvIGJlIHVzZWQvcmVmZXJlbmNlZCB3aXRob3V0IGJlaW5nIGNoYW5nZWQgYmFjayB0byBhY3RpdmUuXHJcbiAgICovXHJcbiAgcHVibGljIGFjdGl2ZT86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcGF0aWVudCBtYXkgaGF2ZSBtdWx0aXBsZSBuYW1lcyB3aXRoIGRpZmZlcmVudCB1c2VzIG9yIGFwcGxpY2FibGUgcGVyaW9kcy4gRm9yIGFuaW1hbHMsIHRoZSBuYW1lIGlzIGEgXCJIdW1hbk5hbWVcIiBpbiB0aGUgc2Vuc2UgdGhhdCBpcyBhc3NpZ25lZCBhbmQgdXNlZCBieSBodW1hbnMgYW5kIGhhcyB0aGUgc2FtZSBwYXR0ZXJucy5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZTogZmhpci5IdW1hbk5hbWVbXTtcclxuICAvKipcclxuICAgKiBBIFBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgd2F5cyB0byBiZSBjb250YWN0ZWQgd2l0aCBkaWZmZXJlbnQgdXNlcyBvciBhcHBsaWNhYmxlIHBlcmlvZHMuICBNYXkgbmVlZCB0byBoYXZlIG9wdGlvbnMgZm9yIGNvbnRhY3RpbmcgdGhlIHBlcnNvbiB1cmdlbnRseSBhbmQgYWxzbyB0byBoZWxwIHdpdGggaWRlbnRpZmljYXRpb24uIFRoZSBhZGRyZXNzIG1heSBub3QgZ28gZGlyZWN0bHkgdG8gdGhlIGluZGl2aWR1YWwsIGJ1dCBtYXkgcmVhY2ggYW5vdGhlciBwYXJ0eSB0aGF0IGlzIGFibGUgdG8gcHJveHkgZm9yIHRoZSBwYXRpZW50IChpLmUuIGhvbWUgcGhvbmUsIG9yIHBldCBvd25lcidzIHBob25lKS5cclxuICAgKi9cclxuICBwdWJsaWMgdGVsZWNvbTogZmhpci5Db250YWN0UG9pbnRbXTtcclxuICAvKipcclxuICAgKiBUaGUgZ2VuZGVyIG1heSBub3QgbWF0Y2ggdGhlIGJpb2xvZ2ljYWwgc2V4IGFzIGRldGVybWluZWQgYnkgZ2VuZXRpY3MsIG9yIHRoZSBpbmRpdmlkdWFsJ3MgcHJlZmVycmVkIGlkZW50aWZpY2F0aW9uLiBOb3RlIHRoYXQgZm9yIGJvdGggaHVtYW5zIGFuZCBwYXJ0aWN1bGFybHkgYW5pbWFscywgdGhlcmUgYXJlIG90aGVyIGxlZ2l0aW1hdGUgcG9zc2liaWxpdGllcyB0aGFuIE0gYW5kIEYsIHRob3VnaCB0aGUgdmFzdCBtYWpvcml0eSBvZiBzeXN0ZW1zIGFuZCBjb250ZXh0cyBvbmx5IHN1cHBvcnQgTSBhbmQgRi4gIFN5c3RlbXMgcHJvdmlkaW5nIGRlY2lzaW9uIHN1cHBvcnQgb3IgZW5mb3JjaW5nIGJ1c2luZXNzIHJ1bGVzIHNob3VsZCBpZGVhbGx5IGRvIHRoaXMgb24gdGhlIGJhc2lzIG9mIE9ic2VydmF0aW9ucyBkZWFsaW5nIHdpdGggdGhlIHNwZWNpZmljIGdlbmRlciBhc3BlY3Qgb2YgaW50ZXJlc3QgKGFuYXRvbWljYWwsIGNocm9tb3NvbmFsLCBzb2NpYWwsIGV0Yy4pICBIb3dldmVyLCBiZWNhdXNlIHRoZXNlIG9ic2VydmF0aW9ucyBhcmUgaW5mcmVxdWVudGx5IHJlY29yZGVkLCBkZWZhdWx0aW5nIHRvIHRoZSBhZG1pbmlzdHJhdGl2ZSBnZW5kZXIgaXMgY29tbW9uIHByYWN0aWNlLiAgV2hlcmUgc3VjaCBkZWZhdWx0aW5nIG9jY3VycywgcnVsZSBlbmZvcmNlbWVudCBzaG91bGQgYWxsb3cgZm9yIHRoZSB2YXJpYXRpb24gYmV0d2VlbiBhZG1pbmlzdHJhdGl2ZSBhbmQgYmlvbG9naWNhbCwgY2hyb21vc29uYWwgYW5kIG90aGVyIGdlbmRlciBhc3BlY3RzLiAgRm9yIGV4YW1wbGUsIGFuIGFsZXJ0IGFib3V0IGEgaHlzdGVyZWN0b215IG9uIGEgbWFsZSBzaG91bGQgYmUgaGFuZGxlZCBhcyBhIHdhcm5pbmcgb3Igb3ZlcnJpZGVhYmxlIGVycm9yLCBub3QgYSBcImhhcmRcIiBlcnJvci5cclxuICAgKi9cclxuICBwdWJsaWMgZ2VuZGVyPzogZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQXQgbGVhc3QgYW4gZXN0aW1hdGVkIHllYXIgc2hvdWxkIGJlIHByb3ZpZGVkIGFzIGEgZ3Vlc3MgaWYgdGhlIHJlYWwgRE9CIGlzIHVua25vd24gIFRoZXJlIGlzIGEgc3RhbmRhcmQgZXh0ZW5zaW9uIFwicGF0aWVudC1iaXJ0aFRpbWVcIiBhdmFpbGFibGUgdGhhdCBzaG91bGQgYmUgdXNlZCB3aGVyZSBUaW1lIGlzIHJlcXVpcmVkIChzdWNoIGFzIGluIG1hdGVybmF0eS9pbmZhbnQgY2FyZSBzeXN0ZW1zKS5cclxuICAgKi9cclxuICBwdWJsaWMgYmlydGhEYXRlPzogZmhpci5GaGlyRGF0ZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUncyBubyB2YWx1ZSBpbiB0aGUgaW5zdGFuY2UgaXQgbWVhbnMgdGhlcmUgaXMgbm8gc3RhdGVtZW50IG9uIHdoZXRoZXIgb3Igbm90IHRoZSBpbmRpdmlkdWFsIGlzIGRlY2Vhc2VkLiBNb3N0IHN5c3RlbXMgd2lsbCBpbnRlcnByZXQgdGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBhcyBhIHNpZ24gb2YgdGhlIHBlcnNvbiBiZWluZyBhbGl2ZS5cclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2Ugb25jZSBhIHBhdGllbnQgaXMgbWFya2VkIGFzIGRlY2Vhc2VkLCB0aGUgYWN0aW9ucyB0aGF0IGFyZSBhcHByb3ByaWF0ZSB0byBwZXJmb3JtIG9uIHRoZSBwYXRpZW50IG1heSBiZSBzaWduaWZpY2FudGx5IGRpZmZlcmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVjZWFzZWQ/OiAoZmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJEYXRlVGltZSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgUGF0aWVudC5kZWNlYXNlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19kZWNlYXNlZElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFBhdGllbnQgbWF5IGhhdmUgbXVsdGlwbGUgYWRkcmVzc2VzIHdpdGggZGlmZmVyZW50IHVzZXMgb3IgYXBwbGljYWJsZSBwZXJpb2RzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRyZXNzOiBmaGlyLkFkZHJlc3NbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIGNvbnRhaW5zIGEgcGF0aWVudCdzIG1vc3QgcmVjZW50IG1hcml0YWwgKGNpdmlsKSBzdGF0dXMuXHJcbiAgICovXHJcbiAgcHVibGljIG1hcml0YWxTdGF0dXM/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIHZhbHVlSW50ZWdlciBpcyBwcm92aWRlZCwgdGhlIG51bWJlciBpcyB0aGUgYmlydGggbnVtYmVyIGluIHRoZSBzZXF1ZW5jZS5cclxuICAgKiBFLmcuIFRoZSBtaWRkbGUgYmlydGggaW4gdHJpcHBsZXRzIHdvdWxkIGJlIHZhbHVlSW50ZWdlcj0yIGFuZCB0aGUgdGhpcmQgYm9ybiB3b3VsZCBoYXZlIHZhbHVlSW50ZWdlcj0zXHJcbiAgICogSWYgYSBib29sIHZhbHVlIHdhcyBwcm92aWRlZCBmb3IgdGhpcyB0cmlwcGxldHMgZXhhbWxlLCB0aGVuIGFsbCAzIHBhdGllbnQgcmVjb3JkcyB3b3VsZCBoYXZlIHZhbHVlQm9vbD10cnVlICh0aGUgb3JkZXJpbmcgaXMgbm90IGluZGljYXRlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIG11bHRpcGxlQmlydGg/OiAoZmhpci5GaGlyQm9vbGVhbnxmaGlyLkZoaXJJbnRlZ2VyKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBQYXRpZW50Lm11bHRpcGxlQmlydGhbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfbXVsdGlwbGVCaXJ0aElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEltYWdlIG9mIHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwaG90bzogZmhpci5BdHRhY2htZW50W107XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdCBjb3ZlcnMgYWxsIGtpbmRzIG9mIGNvbnRhY3QgcGFydGllczogZmFtaWx5IG1lbWJlcnMsIGJ1c2luZXNzIGNvbnRhY3RzLCBndWFyZGlhbnMsIGNhcmVnaXZlcnMuIE5vdCBhcHBsaWNhYmxlIHRvIHJlZ2lzdGVyIHBlZGlncmVlIGFuZCBmYW1pbHkgdGllcyBiZXlvbmQgdXNlIG9mIGhhdmluZyBjb250YWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250YWN0OiBmaGlyLlBhdGllbnRDb250YWN0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIGFuaW1hbCBlbGVtZW50IGlzIGxhYmVsZWQgXCJJcyBNb2RpZmllclwiIHNpbmNlIHBhdGllbnRzIG1heSBiZSBub24taHVtYW4uIFN5c3RlbXMgU0hBTEwgZWl0aGVyIGhhbmRsZSBwYXRpZW50IGRldGFpbHMgYXBwcm9wcmlhdGVseSAoZS5nLiBpbmZvcm0gdXNlcnMgcGF0aWVudCBpcyBub3QgaHVtYW4pIG9yIHJlamVjdCBkZWNsYXJlZCBhbmltYWwgcmVjb3Jkcy4gICBUaGUgYWJzZW5zZSBvZiB0aGUgYW5pbWFsIGVsZW1lbnQgZG9lcyBub3QgaW1wbHkgdGhhdCB0aGUgcGF0aWVudCBpcyBhIGh1bWFuLiBJZiBhIHN5c3RlbSByZXF1aXJlcyBzdWNoIGEgcG9zaXRpdmUgYXNzZXJ0aW9uIHRoYXQgdGhlIHBhdGllbnQgaXMgaHVtYW4sIGFuIGV4dGVuc2lvbiB3aWxsIGJlIHJlcXVpcmVkLiAgKERvIG5vdCB1c2UgYSBzcGVjaWVzIG9mIGhvbW8tc2FwaWVucyBpbiBhbmltYWwgc3BlY2llcywgYXMgdGhpcyB3b3VsZCBpbmNvcnJlY3RseSBpbmZlciB0aGF0IHRoZSBwYXRpZW50IGlzIGFuIGFuaW1hbCkuXHJcbiAgICovXHJcbiAgcHVibGljIGFuaW1hbD86IGZoaXIuUGF0aWVudEFuaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgbm8gbGFuZ3VhZ2UgaXMgc3BlY2lmaWVkLCB0aGlzICppbXBsaWVzKiB0aGF0IHRoZSBkZWZhdWx0IGxvY2FsIGxhbmd1YWdlIGlzIHNwb2tlbi4gIElmIHlvdSBuZWVkIHRvIGNvbnZleSBwcm9maWNpZW5jeSBmb3IgbXVsdGlwbGUgbW9kZXMgdGhlbiB5b3UgbmVlZCBtdWx0aXBsZSBQYXRpZW50LkNvbW11bmljYXRpb24gYXNzb2NpYXRpb25zLiAgIEZvciBhbmltYWxzLCBsYW5ndWFnZSBpcyBub3QgYSByZWxldmFudCBmaWVsZCwgYW5kIHNob3VsZCBiZSBhYnNlbnQgZnJvbSB0aGUgaW5zdGFuY2UuIElmIHRoZSBQYXRpZW50IGRvZXMgbm90IHNwZWFrIHRoZSBkZWZhdWx0IGxvY2FsIGxhbmd1YWdlLCB0aGVuIHRoZSBJbnRlcnByZXRlciBSZXF1aXJlZCBTdGFuZGFyZCBjYW4gYmUgdXNlZCB0byBleHBsaWNpdGx5IGRlY2xhcmUgdGhhdCBhbiBpbnRlcnByZXRlciBpcyByZXF1aXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgY29tbXVuaWNhdGlvbjogZmhpci5QYXRpZW50Q29tbXVuaWNhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWF5IGJlIHRoZSBwcmltYXJ5IGNhcmUgcHJvdmlkZXIgKGluIGEgR1AgY29udGV4dCksIG9yIGl0IG1heSBiZSBhIHBhdGllbnQgbm9taW5hdGVkIGNhcmUgbWFuYWdlciBpbiBhIGNvbW11bml0eS9kaXNhYmxpdHkgc2V0dGluZywgb3IgZXZlbiBvcmdhbml6YXRpb24gdGhhdCB3aWxsIHByb3ZpZGUgcGVvcGxlIHRvIHBlcmZvcm0gdGhlIGNhcmUgcHJvdmlkZXIgcm9sZXMuXHJcbiAgICogSXQgaXMgbm90IHRvIGJlIHVzZWQgdG8gcmVjb3JkIENhcmUgVGVhbXMsIHRoZXNlIHNob3VsZCBiZSBpbiBhIENhcmVUZWFtIHJlc291cmNlIHRoYXQgbWF5IGJlIGxpbmtlZCB0byB0aGUgQ2FyZVBsYW4gb3IgRXBpc29kZU9mQ2FyZSByZXNvdXJjZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGdlbmVyYWxQcmFjdGl0aW9uZXI6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgb25seSBvbmUgbWFuYWdpbmcgb3JnYW5pemF0aW9uIGZvciBhIHNwZWNpZmljIHBhdGllbnQgcmVjb3JkLiBPdGhlciBvcmdhbml6YXRpb25zIHdpbGwgaGF2ZSB0aGVpciBvd24gUGF0aWVudCByZWNvcmQsIGFuZCBtYXkgdXNlIHRoZSBMaW5rIHByb3BlcnR5IHRvIGpvaW4gdGhlIHJlY29yZHMgdG9nZXRoZXIgKG9yIGEgUGVyc29uIHJlc291cmNlIHdoaWNoIGNhbiBpbmNsdWRlIGNvbmZpZGVuY2UgcmF0aW5ncyBmb3IgdGhlIGFzc29jaWF0aW9uKS5cclxuICAgKi9cclxuICBwdWJsaWMgbWFuYWdpbmdPcmdhbml6YXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlcmUgaXMgbm8gYXNzdW1wdGlvbiB0aGF0IGxpbmtlZCBwYXRpZW50IHJlY29yZHMgaGF2ZSBtdXR1YWwgbGlua3MuIFxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgaXQgbWF5IG5vdCBiZSB0aGUgbWFpbiBQYXRpZW50IHJlc291cmNlLCBhbmQgdGhlIHJlZmVyZW5jZWQgcGF0aWVudCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoaXMgUGF0aWVudCByZWNvcmQuIFRoaXMgaXMgd2hlbiB0aGUgbGluay50eXBlIHZhbHVlIGlzICdyZXBsYWNlZC1ieScuXHJcbiAgICovXHJcbiAgcHVibGljIGxpbms6IGZoaXIuUGF0aWVudExpbmtbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBQYXRpZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8UGF0aWVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdQYXRpZW50JztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdGl2ZSddKSB7IHRoaXMuYWN0aXZlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuYWN0aXZlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hY3RpdmUnXSkge1xyXG4gICAgICBpZiAodGhpcy5hY3RpdmUpIHsgdGhpcy5hY3RpdmUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWN0aXZlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWN0aXZlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9hY3RpdmUgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gc291cmNlLm5hbWUubWFwKCh4KSA9PiBuZXcgZmhpci5IdW1hbk5hbWUoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5uYW1lID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RlbGVjb20nXSkgeyB0aGlzLnRlbGVjb20gPSBzb3VyY2UudGVsZWNvbS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3RQb2ludCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRlbGVjb20gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZ2VuZGVyJ10pIHsgdGhpcy5nZW5kZXIgPSBuZXcgZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5nZW5kZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2dlbmRlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLmdlbmRlcikgeyB0aGlzLmdlbmRlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9nZW5kZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5nZW5kZXIgPSBuZXcgZmhpci5GaGlyQ29kZTxBZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGVUeXBlPihzb3VyY2UuX2dlbmRlciBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmlydGhEYXRlJ10pIHsgdGhpcy5iaXJ0aERhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZSh7dmFsdWU6IHNvdXJjZS5iaXJ0aERhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2JpcnRoRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmJpcnRoRGF0ZSkgeyB0aGlzLmJpcnRoRGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9iaXJ0aERhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5iaXJ0aERhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZShzb3VyY2UuX2JpcnRoRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RlY2Vhc2VkJ10pIHsgdGhpcy5kZWNlYXNlZCA9IHNvdXJjZS5kZWNlYXNlZDsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydkZWNlYXNlZEJvb2xlYW4nXSkgeyB0aGlzLmRlY2Vhc2VkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuZGVjZWFzZWRCb29sZWFufSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZGVjZWFzZWREYXRlVGltZSddKSB7IHRoaXMuZGVjZWFzZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGVjZWFzZWREYXRlVGltZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10pIHsgdGhpcy5hZGRyZXNzID0gc291cmNlLmFkZHJlc3MubWFwKCh4KSA9PiBuZXcgZmhpci5BZGRyZXNzKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWRkcmVzcyA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXJpdGFsU3RhdHVzJ10pIHsgdGhpcy5tYXJpdGFsU3RhdHVzID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tYXJpdGFsU3RhdHVzKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbXVsdGlwbGVCaXJ0aCddKSB7IHRoaXMubXVsdGlwbGVCaXJ0aCA9IHNvdXJjZS5tdWx0aXBsZUJpcnRoOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ211bHRpcGxlQmlydGhCb29sZWFuJ10pIHsgdGhpcy5tdWx0aXBsZUJpcnRoID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UubXVsdGlwbGVCaXJ0aEJvb2xlYW59KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydtdWx0aXBsZUJpcnRoSW50ZWdlciddKSB7IHRoaXMubXVsdGlwbGVCaXJ0aCA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLm11bHRpcGxlQmlydGhJbnRlZ2VyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Bob3RvJ10pIHsgdGhpcy5waG90byA9IHNvdXJjZS5waG90by5tYXAoKHgpID0+IG5ldyBmaGlyLkF0dGFjaG1lbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5waG90byA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWN0J10pIHsgdGhpcy5jb250YWN0ID0gc291cmNlLmNvbnRhY3QubWFwKCh4KSA9PiBuZXcgZmhpci5QYXRpZW50Q29udGFjdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhY3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYW5pbWFsJ10pIHsgdGhpcy5hbmltYWwgPSBuZXcgZmhpci5QYXRpZW50QW5pbWFsKHNvdXJjZS5hbmltYWwpOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21tdW5pY2F0aW9uJ10pIHsgdGhpcy5jb21tdW5pY2F0aW9uID0gc291cmNlLmNvbW11bmljYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5QYXRpZW50Q29tbXVuaWNhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbW11bmljYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZ2VuZXJhbFByYWN0aXRpb25lciddKSB7IHRoaXMuZ2VuZXJhbFByYWN0aXRpb25lciA9IHNvdXJjZS5nZW5lcmFsUHJhY3RpdGlvbmVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZ2VuZXJhbFByYWN0aXRpb25lciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtYW5hZ2luZ09yZ2FuaXphdGlvbiddKSB7IHRoaXMubWFuYWdpbmdPcmdhbml6YXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm1hbmFnaW5nT3JnYW5pemF0aW9uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGluayddKSB7IHRoaXMubGluayA9IHNvdXJjZS5saW5rLm1hcCgoeCkgPT4gbmV3IGZoaXIuUGF0aWVudExpbmsoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5saW5rID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdQYXRpZW50JyB9XHJcbiAgICB0aGlzLnZSUygncmVzb3VyY2VUeXBlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2FjdGl2ZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ25hbWUnLGV4cClcclxuICAgIHRoaXMudk9BKCd0ZWxlY29tJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ2dlbmRlcicsZXhwLCdBZG1pbmlzdHJhdGl2ZUdlbmRlcicsQWRtaW5pc3RyYXRpdmVHZW5kZXJWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1MoJ2JpcnRoRGF0ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RlY2Vhc2VkJyxleHApXHJcbiAgICB0aGlzLnZPQSgnYWRkcmVzcycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ21hcml0YWxTdGF0dXMnLGV4cClcclxuICAgIHRoaXMudk9TKCdtdWx0aXBsZUJpcnRoJyxleHApXHJcbiAgICB0aGlzLnZPQSgncGhvdG8nLGV4cClcclxuICAgIHRoaXMudk9BKCdjb250YWN0JyxleHApXHJcbiAgICB0aGlzLnZPUygnYW5pbWFsJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY29tbXVuaWNhdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2dlbmVyYWxQcmFjdGl0aW9uZXInLGV4cClcclxuICAgIHRoaXMudk9TKCdtYW5hZ2luZ09yZ2FuaXphdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2xpbmsnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==