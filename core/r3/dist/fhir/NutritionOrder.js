// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: NutritionOrder
import * as fhir from '../fhir.js';
// @ts-ignore
import { NutritionRequestStatusVsValidation } from '../fhirValueSets/NutritionRequestStatusVsValidation.js';
/**
 * Class that defines the quantity and type of nutrient modifications (for example carbohydrate, fiber or sodium) required for the oral diet.
 */
export class NutritionOrderOralDietNutrient extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDietNutrient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['modifier']) {
            this.modifier = new fhir.CodeableConcept(source.modifier);
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet.nutrient';
        }
        iss.push(...this.vOS('modifier', exp));
        iss.push(...this.vOS('amount', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDietNutrient._fts_dataType = 'NutritionOrderOralDietNutrient';
/**
 * Class that describes any texture modifications required for the patient to safely consume various types of solid foods.
 */
export class NutritionOrderOralDietTexture extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDietTexture - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['modifier']) {
            this.modifier = new fhir.CodeableConcept(source.modifier);
        }
        if (source['foodType']) {
            this.foodType = new fhir.CodeableConcept(source.foodType);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet.texture';
        }
        iss.push(...this.vOS('modifier', exp));
        iss.push(...this.vOS('foodType', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDietTexture._fts_dataType = 'NutritionOrderOralDietTexture';
/**
 * Diet given orally in contrast to enteral (tube) feeding.
 */
export class NutritionOrderOralDiet extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDiet - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.type = [];
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.Timing(x));
        }
        else {
            this.schedule = [];
        }
        if (source['nutrient']) {
            this.nutrient = source.nutrient.map((x) => new fhir.NutritionOrderOralDietNutrient(x));
        }
        else {
            this.nutrient = [];
        }
        if (source['texture']) {
            this.texture = source.texture.map((x) => new fhir.NutritionOrderOralDietTexture(x));
        }
        else {
            this.texture = [];
        }
        if (source['fluidConsistencyType']) {
            this.fluidConsistencyType = source.fluidConsistencyType.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.fluidConsistencyType = [];
        }
        if (source['instruction']) {
            this.instruction = new fhir.FhirString({ value: source.instruction });
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet';
        }
        iss.push(...this.vOA('type', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOA('nutrient', exp));
        iss.push(...this.vOA('texture', exp));
        iss.push(...this.vOA('fluidConsistencyType', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDiet._fts_dataType = 'NutritionOrderOralDiet';
/**
 * Oral nutritional products given in order to add further nutritional value to the patient's diet.
 */
export class NutritionOrderSupplement extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderSupplement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['productName']) {
            this.productName = new fhir.FhirString({ value: source.productName });
        }
        if (source['_productName']) {
            if (this.productName) {
                this.productName.addExtendedProperties(source._productName);
            }
            else {
                this.productName = new fhir.FhirString(source._productName);
            }
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.Timing(x));
        }
        else {
            this.schedule = [];
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        if (source['instruction']) {
            this.instruction = new fhir.FhirString({ value: source.instruction });
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.supplement';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('productName', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderSupplement._fts_dataType = 'NutritionOrderSupplement';
/**
 * See implementation notes below for further discussion on how to order continuous vs bolus enteral feeding using this resource.
 */
export class NutritionOrderEnteralFormulaAdministration extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderEnteralFormulaAdministration - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['schedule']) {
            this.schedule = new fhir.Timing(source.schedule);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateQuantity']) {
            this.rate = new fhir.Quantity(source.rateQuantity);
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.enteralFormula.administration';
        }
        iss.push(...this.vOS('schedule', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('rate', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderEnteralFormulaAdministration._fts_dataType = 'NutritionOrderEnteralFormulaAdministration';
/**
 * Internal flag to properly serialize choice-type element NutritionOrder.enteralFormula.administration.rate[x]
 */
NutritionOrderEnteralFormulaAdministration._fts_rateIsChoice = true;
/**
 * Feeding provided through the gastrointestinal tract via a tube, catheter, or stoma that delivers nutrition distal to the oral cavity.
 */
export class NutritionOrderEnteralFormula extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderEnteralFormula - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['baseFormulaType']) {
            this.baseFormulaType = new fhir.CodeableConcept(source.baseFormulaType);
        }
        if (source['baseFormulaProductName']) {
            this.baseFormulaProductName = new fhir.FhirString({ value: source.baseFormulaProductName });
        }
        if (source['_baseFormulaProductName']) {
            if (this.baseFormulaProductName) {
                this.baseFormulaProductName.addExtendedProperties(source._baseFormulaProductName);
            }
            else {
                this.baseFormulaProductName = new fhir.FhirString(source._baseFormulaProductName);
            }
        }
        if (source['additiveType']) {
            this.additiveType = new fhir.CodeableConcept(source.additiveType);
        }
        if (source['additiveProductName']) {
            this.additiveProductName = new fhir.FhirString({ value: source.additiveProductName });
        }
        if (source['_additiveProductName']) {
            if (this.additiveProductName) {
                this.additiveProductName.addExtendedProperties(source._additiveProductName);
            }
            else {
                this.additiveProductName = new fhir.FhirString(source._additiveProductName);
            }
        }
        if (source['caloricDensity']) {
            this.caloricDensity = new fhir.Quantity(source.caloricDensity);
        }
        if (source['routeofAdministration']) {
            this.routeofAdministration = new fhir.CodeableConcept(source.routeofAdministration);
        }
        if (source['administration']) {
            this.administration = source.administration.map((x) => new fhir.NutritionOrderEnteralFormulaAdministration(x));
        }
        else {
            this.administration = [];
        }
        if (source['maxVolumeToDeliver']) {
            this.maxVolumeToDeliver = new fhir.Quantity(source.maxVolumeToDeliver);
        }
        if (source['administrationInstruction']) {
            this.administrationInstruction = new fhir.FhirString({ value: source.administrationInstruction });
        }
        if (source['_administrationInstruction']) {
            if (this.administrationInstruction) {
                this.administrationInstruction.addExtendedProperties(source._administrationInstruction);
            }
            else {
                this.administrationInstruction = new fhir.FhirString(source._administrationInstruction);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.enteralFormula';
        }
        iss.push(...this.vOS('baseFormulaType', exp));
        iss.push(...this.vOS('baseFormulaProductName', exp));
        iss.push(...this.vOS('additiveType', exp));
        iss.push(...this.vOS('additiveProductName', exp));
        iss.push(...this.vOS('caloricDensity', exp));
        iss.push(...this.vOS('routeofAdministration', exp));
        iss.push(...this.vOA('administration', exp));
        iss.push(...this.vOS('maxVolumeToDeliver', exp));
        iss.push(...this.vOS('administrationInstruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderEnteralFormula._fts_dataType = 'NutritionOrderEnteralFormula';
/**
 * A request to supply a diet, formula feeding (enteral) or oral nutritional supplement to a patient/resident.
 */
export class NutritionOrder extends fhir.DomainResource {
    /**
     * Default constructor for NutritionOrder - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'NutritionOrder';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        else {
            this.patient = null;
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['dateTime']) {
            this.dateTime = new fhir.FhirDateTime({ value: source.dateTime });
        }
        else {
            this.dateTime = null;
        }
        if (source['_dateTime']) {
            if (this.dateTime) {
                this.dateTime.addExtendedProperties(source._dateTime);
            }
            else {
                this.dateTime = new fhir.FhirDateTime(source._dateTime);
            }
        }
        if (source['orderer']) {
            this.orderer = new fhir.Reference(source.orderer);
        }
        if (source['allergyIntolerance']) {
            this.allergyIntolerance = source.allergyIntolerance.map((x) => new fhir.Reference(x));
        }
        else {
            this.allergyIntolerance = [];
        }
        if (source['foodPreferenceModifier']) {
            this.foodPreferenceModifier = source.foodPreferenceModifier.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.foodPreferenceModifier = [];
        }
        if (source['excludeFoodModifier']) {
            this.excludeFoodModifier = source.excludeFoodModifier.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.excludeFoodModifier = [];
        }
        if (source['oralDiet']) {
            this.oralDiet = new fhir.NutritionOrderOralDiet(source.oralDiet);
        }
        if (source['supplement']) {
            this.supplement = source.supplement.map((x) => new fhir.NutritionOrderSupplement(x));
        }
        else {
            this.supplement = [];
        }
        if (source['enteralFormula']) {
            this.enteralFormula = new fhir.NutritionOrderEnteralFormula(source.enteralFormula);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOSV('status', exp, 'NutritionRequestStatus', NutritionRequestStatusVsValidation, 'r'));
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vRS('dateTime', exp));
        iss.push(...this.vOS('orderer', exp));
        iss.push(...this.vOA('allergyIntolerance', exp));
        iss.push(...this.vOA('foodPreferenceModifier', exp));
        iss.push(...this.vOA('excludeFoodModifier', exp));
        iss.push(...this.vOS('oralDiet', exp));
        iss.push(...this.vOA('supplement', exp));
        iss.push(...this.vOS('enteralFormula', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrder._fts_dataType = 'NutritionOrder';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTnV0cml0aW9uT3JkZXIuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL051dHJpdGlvbk9yZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUVoQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQXdDbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBdUI1Rzs7R0FFRztBQUNILE1BQU0sT0FBTyw4QkFBK0IsU0FBUSxJQUFJLENBQUMsZUFBZTtJQWF0RTs7T0FFRztJQUNILFlBQVksU0FBcUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDM0csS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUFFO1FBQ3RGLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQUU7SUFDM0UsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLGtDQUFrQyxDQUFBO1NBQUU7UUFDNUQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMs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LENBQUM7O0FBL0dEOztHQUVHO0FBQzZCLDRCQUFhLEdBQVUsZ0JBQWdCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjMuY29yZSB2ZXJzaW9uOiAzLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IE51dHJpdGlvbk9yZGVyXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBOdXRyaWVudENvZGVzLCAgTnV0cmllbnRDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTnV0cmllbnRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTnV0cmllbnRWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL051dHJpZW50VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUZXh0dXJlQ29kZXMsICBUZXh0dXJlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RleHR1cmVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVGV4dHVyZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVGV4dHVyZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTW9kaWZpZWRGb29kdHlwZUNvZGVzLCAgTW9kaWZpZWRGb29kdHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Nb2RpZmllZEZvb2R0eXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1vZGlmaWVkRm9vZHR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01vZGlmaWVkRm9vZHR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpZXRUeXBlQ29kZXMsICBEaWV0VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWV0VHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEaWV0VHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRGlldFR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbnNpc3RlbmN5VHlwZUNvZGVzLCAgQ29uc2lzdGVuY3lUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNpc3RlbmN5VHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25zaXN0ZW5jeVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbnNpc3RlbmN5VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU3VwcGxlbWVudFR5cGVDb2RlcywgIFN1cHBsZW1lbnRUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1N1cHBsZW1lbnRUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFN1cHBsZW1lbnRUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TdXBwbGVtZW50VHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW50Zm9ybXVsYVR5cGVDb2RlcywgIEVudGZvcm11bGFUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VudGZvcm11bGFUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVudGZvcm11bGFUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbnRmb3JtdWxhVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW50Zm9ybXVsYUFkZGl0aXZlQ29kZXMsICBFbnRmb3JtdWxhQWRkaXRpdmVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW50Zm9ybXVsYUFkZGl0aXZlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEVudGZvcm11bGFBZGRpdGl2ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW50Zm9ybXVsYUFkZGl0aXZlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbnRlcmFsUm91dGVDb2RlcywgIEVudGVyYWxSb3V0ZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbnRlcmFsUm91dGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW50ZXJhbFJvdXRlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9FbnRlcmFsUm91dGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE51dHJpdGlvblJlcXVlc3RTdGF0dXNDb2RlcywgIE51dHJpdGlvblJlcXVlc3RTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTnV0cml0aW9uUmVxdWVzdFN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBOdXRyaXRpb25SZXF1ZXN0U3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9OdXRyaXRpb25SZXF1ZXN0U3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFbmNvdW50ZXJEaWV0Q29kZXMsICBFbmNvdW50ZXJEaWV0Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0VuY291bnRlckRpZXRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRW5jb3VudGVyRGlldFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRW5jb3VudGVyRGlldFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm9vZFR5cGVDb2RlcywgIEZvb2RUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0Zvb2RUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZvb2RUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Gb29kVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51dHJpZW50IHRoYXQgaXMgYmVpbmcgbW9kaWZpZWQgc3VjaCBhcyBjYXJib2h5ZHJhdGUgb3Igc29kaXVtLlxyXG4gICAqL1xyXG4gIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgb2YgdGhlIHNwZWNpZmllZCBudXRyaWVudCB0byBpbmNsdWRlIGluIGRpZXQuXHJcbiAgICovXHJcbiAgYW1vdW50PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgdGhhdCBkZWZpbmVzIHRoZSBxdWFudGl0eSBhbmQgdHlwZSBvZiBudXRyaWVudCBtb2RpZmljYXRpb25zIChmb3IgZXhhbXBsZSBjYXJib2h5ZHJhdGUsIGZpYmVyIG9yIHNvZGl1bSkgcmVxdWlyZWQgZm9yIHRoZSBvcmFsIGRpZXQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50JztcclxuICAvKipcclxuICAgKiBUaGUgbnV0cmllbnQgdGhhdCBpcyBiZWluZyBtb2RpZmllZCBzdWNoIGFzIGNhcmJvaHlkcmF0ZSBvciBzb2RpdW0uXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG51dHJpZW50IHRvIGluY2x1ZGUgaW4gZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21vZGlmaWVyJ10pIHsgdGhpcy5tb2RpZmllciA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubW9kaWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydhbW91bnQnXSkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5hbW91bnQpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIub3JhbERpZXQubnV0cmllbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtb2RpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYW1vdW50JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIENvdXBsZWQgd2l0aCB0aGUgZm9vZFR5cGUgKE1lYXQpLlxyXG4gICAqL1xyXG4gIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb3VwbGVkIHdpdGggdGhlIHRleHR1cmVNb2RpZmllcjsgY291bGQgYmUgKEFsbCBGb29kcykuXHJcbiAgICovXHJcbiAgZm9vZFR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgdGhhdCBkZXNjcmliZXMgYW55IHRleHR1cmUgbW9kaWZpY2F0aW9ucyByZXF1aXJlZCBmb3IgdGhlIHBhdGllbnQgdG8gc2FmZWx5IGNvbnN1bWUgdmFyaW91cyB0eXBlcyBvZiBzb2xpZCBmb29kcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ051dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlJztcclxuICAvKipcclxuICAgKiBDb3VwbGVkIHdpdGggdGhlIGZvb2RUeXBlIChNZWF0KS5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ291cGxlZCB3aXRoIHRoZSB0ZXh0dXJlTW9kaWZpZXI7IGNvdWxkIGJlIChBbGwgRm9vZHMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb29kVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21vZGlmaWVyJ10pIHsgdGhpcy5tb2RpZmllciA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubW9kaWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydmb29kVHlwZSddKSB7IHRoaXMuZm9vZFR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmZvb2RUeXBlKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ051dHJpdGlvbk9yZGVyLm9yYWxEaWV0LnRleHR1cmUnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtb2RpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZm9vZFR5cGUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyT3JhbERpZXQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJPcmFsRGlldEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIGRpZXQgb3IgZGlldGFyeSByZXN0cmljdGlvbiBzdWNoIGFzIGZpYmVyIHJlc3RyaWN0ZWQgZGlldCBvciBkaWFiZXRpYyBkaWV0LlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgcGVyaW9kIGFuZCBmcmVxdWVuY3kgYXQgd2hpY2ggdGhlIGRpZXQgc2hvdWxkIGJlIGdpdmVuLiAgVGhlIGRpZXQgc2hvdWxkIGJlIGdpdmVuIGZvciB0aGUgY29tYmluYXRpb24gb2YgYWxsIHNjaGVkdWxlcyBpZiBtb3JlIHRoYW4gb25lIHNjaGVkdWxlIGlzIHByZXNlbnQuXHJcbiAgICovXHJcbiAgc2NoZWR1bGU/OiBmaGlyLlRpbWluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZWZpbmVzIHRoZSBxdWFudGl0eSBhbmQgdHlwZSBvZiBudXRyaWVudCBtb2RpZmljYXRpb25zIChmb3IgZXhhbXBsZSBjYXJib2h5ZHJhdGUsIGZpYmVyIG9yIHNvZGl1bSkgcmVxdWlyZWQgZm9yIHRoZSBvcmFsIGRpZXQuXHJcbiAgICovXHJcbiAgbnV0cmllbnQ/OiBmaGlyLk51dHJpdGlvbk9yZGVyT3JhbERpZXROdXRyaWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZXNjcmliZXMgYW55IHRleHR1cmUgbW9kaWZpY2F0aW9ucyByZXF1aXJlZCBmb3IgdGhlIHBhdGllbnQgdG8gc2FmZWx5IGNvbnN1bWUgdmFyaW91cyB0eXBlcyBvZiBzb2xpZCBmb29kcy5cclxuICAgKi9cclxuICB0ZXh0dXJlPzogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlcXVpcmVkIGNvbnNpc3RlbmN5IChlLmcuIGhvbmV5LXRoaWNrLCBuZWN0YXItdGhpY2ssIHRoaW4sIHRoaWNrZW5lZC4pIG9mIGxpcXVpZHMgb3IgZmx1aWRzIHNlcnZlZCB0byB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBmbHVpZENvbnNpc3RlbmN5VHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBjYW4gYmUgdXNlZCBmb3IgY2FzZXMgd2hlcmUgdGhlIGluc3RydWN0aW9ucyBhcmUgdG9vIGNvbXBsZXggdG8gY29kZS5cclxuICAgKi9cclxuICBpbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5vcmFsRGlldC5pbnN0cnVjdGlvblxyXG4gICAqL1xyXG4gIF9pbnN0cnVjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaWV0IGdpdmVuIG9yYWxseSBpbiBjb250cmFzdCB0byBlbnRlcmFsICh0dWJlKSBmZWVkaW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51dHJpdGlvbk9yZGVyT3JhbERpZXQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlck9yYWxEaWV0JztcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBkaWV0IG9yIGRpZXRhcnkgcmVzdHJpY3Rpb24gc3VjaCBhcyBmaWJlciByZXN0cmljdGVkIGRpZXQgb3IgZGlhYmV0aWMgZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgZGlldCBzaG91bGQgYmUgZ2l2ZW4uICBUaGUgZGlldCBzaG91bGQgYmUgZ2l2ZW4gZm9yIHRoZSBjb21iaW5hdGlvbiBvZiBhbGwgc2NoZWR1bGVzIGlmIG1vcmUgdGhhbiBvbmUgc2NoZWR1bGUgaXMgcHJlc2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgc2NoZWR1bGU6IGZoaXIuVGltaW5nW107XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZWZpbmVzIHRoZSBxdWFudGl0eSBhbmQgdHlwZSBvZiBudXRyaWVudCBtb2RpZmljYXRpb25zIChmb3IgZXhhbXBsZSBjYXJib2h5ZHJhdGUsIGZpYmVyIG9yIHNvZGl1bSkgcmVxdWlyZWQgZm9yIHRoZSBvcmFsIGRpZXQuXHJcbiAgICovXHJcbiAgcHVibGljIG51dHJpZW50OiBmaGlyLk51dHJpdGlvbk9yZGVyT3JhbERpZXROdXRyaWVudFtdO1xyXG4gIC8qKlxyXG4gICAqIENsYXNzIHRoYXQgZGVzY3JpYmVzIGFueSB0ZXh0dXJlIG1vZGlmaWNhdGlvbnMgcmVxdWlyZWQgZm9yIHRoZSBwYXRpZW50IHRvIHNhZmVseSBjb25zdW1lIHZhcmlvdXMgdHlwZXMgb2Ygc29saWQgZm9vZHMuXHJcbiAgICovXHJcbiAgcHVibGljIHRleHR1cmU6IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmVbXTtcclxuICAvKipcclxuICAgKiBUaGUgcmVxdWlyZWQgY29uc2lzdGVuY3kgKGUuZy4gaG9uZXktdGhpY2ssIG5lY3Rhci10aGljaywgdGhpbiwgdGhpY2tlbmVkLikgb2YgbGlxdWlkcyBvciBmbHVpZHMgc2VydmVkIHRvIHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmbHVpZENvbnNpc3RlbmN5VHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBjYW4gYmUgdXNlZCBmb3IgY2FzZXMgd2hlcmUgdGhlIGluc3RydWN0aW9ucyBhcmUgdG9vIGNvbXBsZXggdG8gY29kZS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyT3JhbERpZXQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxOdXRyaXRpb25PcmRlck9yYWxEaWV0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2NoZWR1bGUnXSkgeyB0aGlzLnNjaGVkdWxlID0gc291cmNlLnNjaGVkdWxlLm1hcCgoeCkgPT4gbmV3IGZoaXIuVGltaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2NoZWR1bGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbnV0cmllbnQnXSkgeyB0aGlzLm51dHJpZW50ID0gc291cmNlLm51dHJpZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubnV0cmllbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGV4dHVyZSddKSB7IHRoaXMudGV4dHVyZSA9IHNvdXJjZS50ZXh0dXJlLm1hcCgoeCkgPT4gbmV3IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmUoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50ZXh0dXJlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZsdWlkQ29uc2lzdGVuY3lUeXBlJ10pIHsgdGhpcy5mbHVpZENvbnNpc3RlbmN5VHlwZSA9IHNvdXJjZS5mbHVpZENvbnNpc3RlbmN5VHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZsdWlkQ29uc2lzdGVuY3lUeXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3RydWN0aW9uJ10pIHsgdGhpcy5pbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuaW5zdHJ1Y3Rpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2luc3RydWN0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaW5zdHJ1Y3Rpb24pIHsgdGhpcy5pbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pbnN0cnVjdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2luc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIub3JhbERpZXQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzY2hlZHVsZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbnV0cmllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3RleHR1cmUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2ZsdWlkQ29uc2lzdGVuY3lUeXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbnN0cnVjdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE51dHJpdGlvbk9yZGVyU3VwcGxlbWVudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgcHJvZHVjdCByZXF1aXJlZCBzdWNoIGFzIGEgaGlnaCBwcm90ZWluIG9yIHBlZGlhdHJpYyBjbGVhciBsaXF1aWQgc3VwcGxlbWVudC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSBudXRyaXRpb25hbCBzdXBwbGVtZW50IHN1Y2ggYXMgXCJBY21lIFByb3RlaW4gU2hha2VcIi5cclxuICAgKi9cclxuICBwcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5zdXBwbGVtZW50LnByb2R1Y3ROYW1lXHJcbiAgICovXHJcbiAgX3Byb2R1Y3ROYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgc3VwcGxlbWVudChzKSBzaG91bGQgYmUgZ2l2ZW4uICBUaGUgc3VwcGxlbWVudCBzaG91bGQgYmUgZ2l2ZW4gZm9yIHRoZSBjb21iaW5hdGlvbiBvZiBhbGwgc2NoZWR1bGVzIGlmIG1vcmUgdGhhbiBvbmUgc2NoZWR1bGUgaXMgcHJlc2VudC5cclxuICAgKi9cclxuICBzY2hlZHVsZT86IGZoaXIuVGltaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYW1vdW50IG9mIHRoZSBudXRyaXRpb25hbCBzdXBwbGVtZW50IHRvIGJlIGdpdmVuLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLlxyXG4gICAqL1xyXG4gIGluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLnN1cHBsZW1lbnQuaW5zdHJ1Y3Rpb25cclxuICAgKi9cclxuICBfaW5zdHJ1Y3Rpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogT3JhbCBudXRyaXRpb25hbCBwcm9kdWN0cyBnaXZlbiBpbiBvcmRlciB0byBhZGQgZnVydGhlciBudXRyaXRpb25hbCB2YWx1ZSB0byB0aGUgcGF0aWVudCdzIGRpZXQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50JztcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBudXRyaXRpb25hbCBzdXBwbGVtZW50IHByb2R1Y3QgcmVxdWlyZWQgc3VjaCBhcyBhIGhpZ2ggcHJvdGVpbiBvciBwZWRpYXRyaWMgY2xlYXIgbGlxdWlkIHN1cHBsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3Qgb3IgYnJhbmQgbmFtZSBvZiB0aGUgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBzdWNoIGFzIFwiQWNtZSBQcm90ZWluIFNoYWtlXCIuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3ROYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgc3VwcGxlbWVudChzKSBzaG91bGQgYmUgZ2l2ZW4uICBUaGUgc3VwcGxlbWVudCBzaG91bGQgYmUgZ2l2ZW4gZm9yIHRoZSBjb21iaW5hdGlvbiBvZiBhbGwgc2NoZWR1bGVzIGlmIG1vcmUgdGhhbiBvbmUgc2NoZWR1bGUgaXMgcHJlc2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgc2NoZWR1bGU6IGZoaXIuVGltaW5nW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiB0aGUgbnV0cml0aW9uYWwgc3VwcGxlbWVudCB0byBiZSBnaXZlbi5cclxuICAgKi9cclxuICBwdWJsaWMgcXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluc3RydWN0aW9ucyBjYW4gYmUgdXNlZCBmb3IgY2FzZXMgd2hlcmUgdGhlIGluc3RydWN0aW9ucyBhcmUgdG9vIGNvbXBsZXggdG8gY29kZS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyU3VwcGxlbWVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyU3VwcGxlbWVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZHVjdE5hbWUnXSkgeyB0aGlzLnByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wcm9kdWN0TmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHJvZHVjdE5hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5wcm9kdWN0TmFtZSkgeyB0aGlzLnByb2R1Y3ROYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Byb2R1Y3ROYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcHJvZHVjdE5hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NjaGVkdWxlJ10pIHsgdGhpcy5zY2hlZHVsZSA9IHNvdXJjZS5zY2hlZHVsZS5tYXAoKHgpID0+IG5ldyBmaGlyLlRpbWluZyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNjaGVkdWxlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YW50aXR5J10pIHsgdGhpcy5xdWFudGl0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5xdWFudGl0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3RydWN0aW9uJ10pIHsgdGhpcy5pbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuaW5zdHJ1Y3Rpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2luc3RydWN0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaW5zdHJ1Y3Rpb24pIHsgdGhpcy5pbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pbnN0cnVjdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2luc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIuc3VwcGxlbWVudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Byb2R1Y3ROYW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzY2hlZHVsZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2luc3RydWN0aW9uJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWUgcGVyaW9kIGFuZCBmcmVxdWVuY3kgYXQgd2hpY2ggdGhlIGVudGVyYWwgZm9ybXVsYSBzaG91bGQgYmUgZGVsaXZlcmVkIHRvIHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIHNjaGVkdWxlPzogZmhpci5UaW1pbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdm9sdW1lIG9mIGZvcm11bGEgdG8gcHJvdmlkZSB0byB0aGUgcGF0aWVudCBwZXIgdGhlIHNwZWNpZmllZCBhZG1pbmlzdHJhdGlvbiBzY2hlZHVsZS5cclxuICAgKi9cclxuICBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSYXRpbyBpcyB1c2VkIHdoZW4gdGhlIHF1YW50aXR5IHZhbHVlIGluIHRoZSBkZW5vbWluYXRvciBpcyBub3QgXCIxXCIsIG90aGVyd2lzZSB1c2UgUXVhbnRpdHkuIEZvciBleGFtcGxlLCB0aGUgUmF0aW8gZGF0YXR5cGUgaXMgdXNlZCBmb3IgXCIyMDAgbUwvNCBocnNcIiB2ZXJzdXMgdGhlIFF1YW50aXR5IGRhdGF0eXBlIGZvciBcIjUwIG1ML2hyXCIuXHJcbiAgICovXHJcbiAgcmF0ZT86IGZoaXIuUXVhbnRpdHl8Zmhpci5SYXRpb3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmF0aW8gaXMgdXNlZCB3aGVuIHRoZSBxdWFudGl0eSB2YWx1ZSBpbiB0aGUgZGVub21pbmF0b3IgaXMgbm90IFwiMVwiLCBvdGhlcndpc2UgdXNlIFF1YW50aXR5LiBGb3IgZXhhbXBsZSwgdGhlIFJhdGlvIGRhdGF0eXBlIGlzIHVzZWQgZm9yIFwiMjAwIG1MLzQgaHJzXCIgdmVyc3VzIHRoZSBRdWFudGl0eSBkYXRhdHlwZSBmb3IgXCI1MCBtTC9oclwiLlxyXG4gICAqL1xyXG4gIHJhdGVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSYXRpbyBpcyB1c2VkIHdoZW4gdGhlIHF1YW50aXR5IHZhbHVlIGluIHRoZSBkZW5vbWluYXRvciBpcyBub3QgXCIxXCIsIG90aGVyd2lzZSB1c2UgUXVhbnRpdHkuIEZvciBleGFtcGxlLCB0aGUgUmF0aW8gZGF0YXR5cGUgaXMgdXNlZCBmb3IgXCIyMDAgbUwvNCBocnNcIiB2ZXJzdXMgdGhlIFF1YW50aXR5IGRhdGF0eXBlIGZvciBcIjUwIG1ML2hyXCIuXHJcbiAgICovXHJcbiAgcmF0ZVJhdGlvPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU2VlIGltcGxlbWVudGF0aW9uIG5vdGVzIGJlbG93IGZvciBmdXJ0aGVyIGRpc2N1c3Npb24gb24gaG93IHRvIG9yZGVyIGNvbnRpbnVvdXMgdnMgYm9sdXMgZW50ZXJhbCBmZWVkaW5nIHVzaW5nIHRoaXMgcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgZW50ZXJhbCBmb3JtdWxhIHNob3VsZCBiZSBkZWxpdmVyZWQgdG8gdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHNjaGVkdWxlPzogZmhpci5UaW1pbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2b2x1bWUgb2YgZm9ybXVsYSB0byBwcm92aWRlIHRvIHRoZSBwYXRpZW50IHBlciB0aGUgc3BlY2lmaWVkIGFkbWluaXN0cmF0aW9uIHNjaGVkdWxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJhdGlvIGlzIHVzZWQgd2hlbiB0aGUgcXVhbnRpdHkgdmFsdWUgaW4gdGhlIGRlbm9taW5hdG9yIGlzIG5vdCBcIjFcIiwgb3RoZXJ3aXNlIHVzZSBRdWFudGl0eS4gRm9yIGV4YW1wbGUsIHRoZSBSYXRpbyBkYXRhdHlwZSBpcyB1c2VkIGZvciBcIjIwMCBtTC80IGhyc1wiIHZlcnN1cyB0aGUgUXVhbnRpdHkgZGF0YXR5cGUgZm9yIFwiNTAgbUwvaHJcIi5cclxuICAgKi9cclxuICBwdWJsaWMgcmF0ZT86IChmaGlyLlF1YW50aXR5fGZoaXIuUmF0aW8pfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE51dHJpdGlvbk9yZGVyLmVudGVyYWxGb3JtdWxhLmFkbWluaXN0cmF0aW9uLnJhdGVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfcmF0ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzY2hlZHVsZSddKSB7IHRoaXMuc2NoZWR1bGUgPSBuZXcgZmhpci5UaW1pbmcoc291cmNlLnNjaGVkdWxlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmF0ZSddKSB7IHRoaXMucmF0ZSA9IHNvdXJjZS5yYXRlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JhdGVRdWFudGl0eSddKSB7IHRoaXMucmF0ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5yYXRlUXVhbnRpdHkpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3JhdGVSYXRpbyddKSB7IHRoaXMucmF0ZSA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS5yYXRlUmF0aW8pOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYWRtaW5pc3RyYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzY2hlZHVsZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JhdGUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGEgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGVudGVyYWwgb3IgaW5mYW50IGZvcm11bGEgc3VjaCBhcyBhbiBhZHVsdCBzdGFuZGFyZCBmb3JtdWxhIHdpdGggZmliZXIgb3IgYSBzb3ktYmFzZWQgaW5mYW50IGZvcm11bGEuXHJcbiAgICovXHJcbiAgYmFzZUZvcm11bGFUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSBlbnRlcmFsIG9yIGluZmFudCBmb3JtdWxhIHByb2R1Y3Qgc3VjaCBhcyBcIkFDTUUgQWR1bHQgU3RhbmRhcmQgRm9ybXVsYVwiLlxyXG4gICAqL1xyXG4gIGJhc2VGb3JtdWxhUHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYmFzZUZvcm11bGFQcm9kdWN0TmFtZVxyXG4gICAqL1xyXG4gIF9iYXNlRm9ybXVsYVByb2R1Y3ROYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgbW9kdWxhciBjb21wb25lbnQgc3VjaCBhcyBwcm90ZWluLCBjYXJib2h5ZHJhdGUsIGZhdCBvciBmaWJlciB0byBiZSBwcm92aWRlZCBpbiBhZGRpdGlvbiB0byBvciBtaXhlZCB3aXRoIHRoZSBiYXNlIGZvcm11bGEuXHJcbiAgICovXHJcbiAgYWRkaXRpdmVUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSB0eXBlIG9mIG1vZHVsYXIgY29tcG9uZW50IHRvIGJlIGFkZGVkIHRvIHRoZSBmb3JtdWxhLlxyXG4gICAqL1xyXG4gIGFkZGl0aXZlUHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYWRkaXRpdmVQcm9kdWN0TmFtZVxyXG4gICAqL1xyXG4gIF9hZGRpdGl2ZVByb2R1Y3ROYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgYW1vdW50IG9mIGVuZXJneSAoY2Fsb3JpZXMpIHRoYXQgdGhlIGZvcm11bGEgc2hvdWxkIHByb3ZpZGUgcGVyIHNwZWNpZmllZCB2b2x1bWUsIHR5cGljYWxseSBwZXIgbUwgb3IgZmx1aWQgb3ouICBGb3IgZXhhbXBsZSwgYW4gaW5mYW50IG1heSByZXF1aXJlIGEgZm9ybXVsYSB0aGF0IHByb3ZpZGVzIDI0IGNhbG9yaWVzIHBlciBmbHVpZCBvdW5jZSBvciBhbiBhZHVsdCBtYXkgcmVxdWlyZSBhbiBlbnRlcmFsIGZvcm11bGEgdGhhdCBwcm92aWRlcyAxLjUgY2Fsb3JpZS9tTC5cclxuICAgKi9cclxuICBjYWxvcmljRGVuc2l0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcm91dGUgb3IgcGh5c2lvbG9naWNhbCBwYXRoIG9mIGFkbWluaXN0cmF0aW9uIGludG8gdGhlIHBhdGllbnQncyBnYXN0cm9pbnRlc3RpbmFsICB0cmFjdCBmb3IgcHVycG9zZXMgb2YgcHJvdmlkaW5nIHRoZSBmb3JtdWxhIGZlZWRpbmcsIGUuZy4gbmFzb2dhc3RyaWMgdHViZS5cclxuICAgKi9cclxuICByb3V0ZW9mQWRtaW5pc3RyYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNlZSBpbXBsZW1lbnRhdGlvbiBub3RlcyBiZWxvdyBmb3IgZnVydGhlciBkaXNjdXNzaW9uIG9uIGhvdyB0byBvcmRlciBjb250aW51b3VzIHZzIGJvbHVzIGVudGVyYWwgZmVlZGluZyB1c2luZyB0aGlzIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGFkbWluaXN0cmF0aW9uPzogZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHRvdGFsIHF1YW50aXR5IG9mIGZvcm11bGEgdGhhdCBtYXkgYmUgYWRtaW5pc3RlcmVkIHRvIGEgc3ViamVjdCBvdmVyIHRoZSBwZXJpb2Qgb2YgdGltZSwgZS5nLiAxNDQwIG1MIG92ZXIgMjQgaG91cnMuXHJcbiAgICovXHJcbiAgbWF4Vm9sdW1lVG9EZWxpdmVyPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLlxyXG4gICAqL1xyXG4gIGFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvblxyXG4gICAqL1xyXG4gIF9hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEZlZWRpbmcgcHJvdmlkZWQgdGhyb3VnaCB0aGUgZ2FzdHJvaW50ZXN0aW5hbCB0cmFjdCB2aWEgYSB0dWJlLCBjYXRoZXRlciwgb3Igc3RvbWEgdGhhdCBkZWxpdmVycyBudXRyaXRpb24gZGlzdGFsIHRvIHRoZSBvcmFsIGNhdml0eS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZW50ZXJhbCBvciBpbmZhbnQgZm9ybXVsYSBzdWNoIGFzIGFuIGFkdWx0IHN0YW5kYXJkIGZvcm11bGEgd2l0aCBmaWJlciBvciBhIHNveS1iYXNlZCBpbmZhbnQgZm9ybXVsYS5cclxuICAgKi9cclxuICBwdWJsaWMgYmFzZUZvcm11bGFUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIGVudGVyYWwgb3IgaW5mYW50IGZvcm11bGEgcHJvZHVjdCBzdWNoIGFzIFwiQUNNRSBBZHVsdCBTdGFuZGFyZCBGb3JtdWxhXCIuXHJcbiAgICovXHJcbiAgcHVibGljIGJhc2VGb3JtdWxhUHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgdHlwZSBvZiBtb2R1bGFyIGNvbXBvbmVudCBzdWNoIGFzIHByb3RlaW4sIGNhcmJvaHlkcmF0ZSwgZmF0IG9yIGZpYmVyIHRvIGJlIHByb3ZpZGVkIGluIGFkZGl0aW9uIHRvIG9yIG1peGVkIHdpdGggdGhlIGJhc2UgZm9ybXVsYS5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkaXRpdmVUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIHR5cGUgb2YgbW9kdWxhciBjb21wb25lbnQgdG8gYmUgYWRkZWQgdG8gdGhlIGZvcm11bGEuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZGl0aXZlUHJvZHVjdE5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgZW5lcmd5IChjYWxvcmllcykgdGhhdCB0aGUgZm9ybXVsYSBzaG91bGQgcHJvdmlkZSBwZXIgc3BlY2lmaWVkIHZvbHVtZSwgdHlwaWNhbGx5IHBlciBtTCBvciBmbHVpZCBvei4gIEZvciBleGFtcGxlLCBhbiBpbmZhbnQgbWF5IHJlcXVpcmUgYSBmb3JtdWxhIHRoYXQgcHJvdmlkZXMgMjQgY2Fsb3JpZXMgcGVyIGZsdWlkIG91bmNlIG9yIGFuIGFkdWx0IG1heSByZXF1aXJlIGFuIGVudGVyYWwgZm9ybXVsYSB0aGF0IHByb3ZpZGVzIDEuNSBjYWxvcmllL21MLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYWxvcmljRGVuc2l0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByb3V0ZSBvciBwaHlzaW9sb2dpY2FsIHBhdGggb2YgYWRtaW5pc3RyYXRpb24gaW50byB0aGUgcGF0aWVudCdzIGdhc3Ryb2ludGVzdGluYWwgIHRyYWN0IGZvciBwdXJwb3NlcyBvZiBwcm92aWRpbmcgdGhlIGZvcm11bGEgZmVlZGluZywgZS5nLiBuYXNvZ2FzdHJpYyB0dWJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb3V0ZW9mQWRtaW5pc3RyYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2VlIGltcGxlbWVudGF0aW9uIG5vdGVzIGJlbG93IGZvciBmdXJ0aGVyIGRpc2N1c3Npb24gb24gaG93IHRvIG9yZGVyIGNvbnRpbnVvdXMgdnMgYm9sdXMgZW50ZXJhbCBmZWVkaW5nIHVzaW5nIHRoaXMgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGFkbWluaXN0cmF0aW9uOiBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHRvdGFsIHF1YW50aXR5IG9mIGZvcm11bGEgdGhhdCBtYXkgYmUgYWRtaW5pc3RlcmVkIHRvIGEgc3ViamVjdCBvdmVyIHRoZSBwZXJpb2Qgb2YgdGltZSwgZS5nLiAxNDQwIG1MIG92ZXIgMjQgaG91cnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1heFZvbHVtZVRvRGVsaXZlcj86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydiYXNlRm9ybXVsYVR5cGUnXSkgeyB0aGlzLmJhc2VGb3JtdWxhVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYmFzZUZvcm11bGFUeXBlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmFzZUZvcm11bGFQcm9kdWN0TmFtZSddKSB7IHRoaXMuYmFzZUZvcm11bGFQcm9kdWN0TmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYmFzZUZvcm11bGFQcm9kdWN0TmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYmFzZUZvcm11bGFQcm9kdWN0TmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmJhc2VGb3JtdWxhUHJvZHVjdE5hbWUpIHsgdGhpcy5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Jhc2VGb3JtdWxhUHJvZHVjdE5hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Jhc2VGb3JtdWxhUHJvZHVjdE5hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2FkZGl0aXZlVHlwZSddKSB7IHRoaXMuYWRkaXRpdmVUeXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hZGRpdGl2ZVR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZGRpdGl2ZVByb2R1Y3ROYW1lJ10pIHsgdGhpcy5hZGRpdGl2ZVByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hZGRpdGl2ZVByb2R1Y3ROYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hZGRpdGl2ZVByb2R1Y3ROYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWRkaXRpdmVQcm9kdWN0TmFtZSkgeyB0aGlzLmFkZGl0aXZlUHJvZHVjdE5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWRkaXRpdmVQcm9kdWN0TmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFkZGl0aXZlUHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYWRkaXRpdmVQcm9kdWN0TmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2Fsb3JpY0RlbnNpdHknXSkgeyB0aGlzLmNhbG9yaWNEZW5zaXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmNhbG9yaWNEZW5zaXR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm91dGVvZkFkbWluaXN0cmF0aW9uJ10pIHsgdGhpcy5yb3V0ZW9mQWRtaW5pc3RyYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJvdXRlb2ZBZG1pbmlzdHJhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkbWluaXN0cmF0aW9uJ10pIHsgdGhpcy5hZG1pbmlzdHJhdGlvbiA9IHNvdXJjZS5hZG1pbmlzdHJhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFkbWluaXN0cmF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ21heFZvbHVtZVRvRGVsaXZlciddKSB7IHRoaXMubWF4Vm9sdW1lVG9EZWxpdmVyID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm1heFZvbHVtZVRvRGVsaXZlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24nXSkgeyB0aGlzLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uKSB7IHRoaXMuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdiYXNlRm9ybXVsYVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Jhc2VGb3JtdWxhUHJvZHVjdE5hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2FkZGl0aXZlVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRkaXRpdmVQcm9kdWN0TmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY2Fsb3JpY0RlbnNpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JvdXRlb2ZBZG1pbmlzdHJhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYWRtaW5pc3RyYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heFZvbHVtZVRvRGVsaXZlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJOdXRyaXRpb25PcmRlclwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgSWRlbnRpZmllci50eXBlIGVsZW1lbnQgY2FuIGJlIHRvIGluZGljYXRlIGZpbGxlciB2cy4gcGxhY2VyIGlmIG5lZWRlZC4gIFRoaXMgaXMgZXhwbGFpbmVkIGluIGZ1cnRoZXIgZGV0YWlsIFtoZXJlXShwcm9jZWR1cmVyZXF1ZXN0Lmh0bWwjbm90ZXMpLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSB0aGUgc3lzdGVtIHBsYWNpbmcgdGhlIG9yZGVyIHNldHMgdGhlIHN0YXR1cyB0byBcInJlcXVlc3RlZFwiLiBUaGVyZWFmdGVyLCB0aGUgb3JkZXIgaXMgbWFpbnRhaW5lZCBieSB0aGUgcmVjZWl2ZXIgdGhhdCB1cGRhdGVzIHRoZSBzdGF0dXMgYXMgdGhlIHJlcXVlc3QgaXMgaGFuZGxlZC5cclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5GaGlyQ29kZTxOdXRyaXRpb25SZXF1ZXN0U3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwZXJzb24gKHBhdGllbnQpIHdobyBuZWVkcyB0aGUgbnV0cml0aW9uIG9yZGVyIGZvciBhbiBvcmFsIGRpZXQsIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgYW5kL29yIGVudGVyYWwgb3IgZm9ybXVsYSBmZWVkaW5nLlxyXG4gICAqL1xyXG4gIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFuIGVuY291bnRlciB0aGF0IHByb3ZpZGVzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhlYWx0aGNhcmUgY29udGV4dCBpbiB3aGljaCB0aGlzIHJlcXVlc3QgaXMgbWFkZS5cclxuICAgKi9cclxuICBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIHRoYXQgdGhpcyBudXRyaXRpb24gb3JkZXIgd2FzIHJlcXVlc3RlZC5cclxuICAgKi9cclxuICBkYXRlVGltZTogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTnV0cml0aW9uT3JkZXIuZGF0ZVRpbWVcclxuICAgKi9cclxuICBfZGF0ZVRpbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcmFjdGl0aW9uZXIgdGhhdCBob2xkcyBsZWdhbCByZXNwb25zaWJpbGl0eSBmb3Igb3JkZXJpbmcgdGhlIGRpZXQsIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQsIG9yIGZvcm11bGEgZmVlZGluZ3MuXHJcbiAgICovXHJcbiAgb3JkZXJlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gb24gYSBwYXRpZW50J3MgZm9vZCBhbGxlcmdpZXMgYW5kIGludG9sZXJhbmNlcyB0byBpbmZvcm0gaGVhbHRoY2FyZSBwZXJzb25uZWwgYWJvdXQgdGhlIHR5cGUgb2YgZm9vZHMgdGhhdCB0aGUgcGF0aWVudCBzaG91bGRuJ3QgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIGFsbGVyZ3lJbnRvbGVyYW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBvbiBhIHBhdGllbnQncyBmb29kIHByZWZlcmVuY2VzIHRoYXQgaW5mb3JtIGhlYWx0aGNhcmUgcGVyc29ubmVsIGFib3V0IHRoZSBmb29kIHRoYXQgdGhlIHBhdGllbnQgc2hvdWxkIHJlY2VpdmUgb3IgY29uc3VtZS5cclxuICAgKi9cclxuICBmb29kUHJlZmVyZW5jZU1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgYWxsZXJnaWVzLCBpbnRvbGVyYW5jZXMgYW5kIHByZWZlcmVuY2VzIHRvIGluZm9ybSBoZWFsdGhjYXJlIHBlcnNvbm5lbCBhYm91dCB0aGUgdHlwZSAgb2YgZm9vZHMgdGhhdCB0aGUgcGF0aWVudCBzaG91bGRuJ3QgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIGV4Y2x1ZGVGb29kTW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGlldCBnaXZlbiBvcmFsbHkgaW4gY29udHJhc3QgdG8gZW50ZXJhbCAodHViZSkgZmVlZGluZy5cclxuICAgKi9cclxuICBvcmFsRGlldD86IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9yYWwgbnV0cml0aW9uYWwgcHJvZHVjdHMgZ2l2ZW4gaW4gb3JkZXIgdG8gYWRkIGZ1cnRoZXIgbnV0cml0aW9uYWwgdmFsdWUgdG8gdGhlIHBhdGllbnQncyBkaWV0LlxyXG4gICAqL1xyXG4gIHN1cHBsZW1lbnQ/OiBmaGlyLk51dHJpdGlvbk9yZGVyU3VwcGxlbWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRmVlZGluZyBwcm92aWRlZCB0aHJvdWdoIHRoZSBnYXN0cm9pbnRlc3RpbmFsIHRyYWN0IHZpYSBhIHR1YmUsIGNhdGhldGVyLCBvciBzdG9tYSB0aGF0IGRlbGl2ZXJzIG51dHJpdGlvbiBkaXN0YWwgdG8gdGhlIG9yYWwgY2F2aXR5LlxyXG4gICAqL1xyXG4gIGVudGVyYWxGb3JtdWxhPzogZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHJlcXVlc3QgdG8gc3VwcGx5IGEgZGlldCwgZm9ybXVsYSBmZWVkaW5nIChlbnRlcmFsKSBvciBvcmFsIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgdG8gYSBwYXRpZW50L3Jlc2lkZW50LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51dHJpdGlvbk9yZGVyIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlcic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJOdXRyaXRpb25PcmRlclwiO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBJZGVudGlmaWVyLnR5cGUgZWxlbWVudCBjYW4gYmUgdG8gaW5kaWNhdGUgZmlsbGVyIHZzLiBwbGFjZXIgaWYgbmVlZGVkLiAgVGhpcyBpcyBleHBsYWluZWQgaW4gZnVydGhlciBkZXRhaWwgW2hlcmVdKHByb2NlZHVyZXJlcXVlc3QuaHRtbCNub3RlcykuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFR5cGljYWxseSB0aGUgc3lzdGVtIHBsYWNpbmcgdGhlIG9yZGVyIHNldHMgdGhlIHN0YXR1cyB0byBcInJlcXVlc3RlZFwiLiBUaGVyZWFmdGVyLCB0aGUgb3JkZXIgaXMgbWFpbnRhaW5lZCBieSB0aGUgcmVjZWl2ZXIgdGhhdCB1cGRhdGVzIHRoZSBzdGF0dXMgYXMgdGhlIHJlcXVlc3QgaXMgaGFuZGxlZC5cclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IG1hcmsgdGhlIHJlc291cmNlIGFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1cz86IGZoaXIuRmhpckNvZGU8TnV0cml0aW9uUmVxdWVzdFN0YXR1c0NvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiAocGF0aWVudCkgd2hvIG5lZWRzIHRoZSBudXRyaXRpb24gb3JkZXIgZm9yIGFuIG9yYWwgZGlldCwgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBhbmQvb3IgZW50ZXJhbCBvciBmb3JtdWxhIGZlZWRpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQW4gZW5jb3VudGVyIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGVhbHRoY2FyZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVxdWVzdCBpcyBtYWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYW5kIHRpbWUgdGhhdCB0aGlzIG51dHJpdGlvbiBvcmRlciB3YXMgcmVxdWVzdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlVGltZTogZmhpci5GaGlyRGF0ZVRpbWV8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcHJhY3RpdGlvbmVyIHRoYXQgaG9sZHMgbGVnYWwgcmVzcG9uc2liaWxpdHkgZm9yIG9yZGVyaW5nIHRoZSBkaWV0LCBudXRyaXRpb25hbCBzdXBwbGVtZW50LCBvciBmb3JtdWxhIGZlZWRpbmdzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmRlcmVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgYWxsZXJnaWVzIGFuZCBpbnRvbGVyYW5jZXMgdG8gaW5mb3JtIGhlYWx0aGNhcmUgcGVyc29ubmVsIGFib3V0IHRoZSB0eXBlIG9mIGZvb2RzIHRoYXQgdGhlIHBhdGllbnQgc2hvdWxkbid0IHJlY2VpdmUgb3IgY29uc3VtZS5cclxuICAgKi9cclxuICBwdWJsaWMgYWxsZXJneUludG9sZXJhbmNlOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgcHJlZmVyZW5jZXMgdGhhdCBpbmZvcm0gaGVhbHRoY2FyZSBwZXJzb25uZWwgYWJvdXQgdGhlIGZvb2QgdGhhdCB0aGUgcGF0aWVudCBzaG91bGQgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb29kUHJlZmVyZW5jZU1vZGlmaWVyOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIG9uIGEgcGF0aWVudCdzIGZvb2QgYWxsZXJnaWVzLCBpbnRvbGVyYW5jZXMgYW5kIHByZWZlcmVuY2VzIHRvIGluZm9ybSBoZWFsdGhjYXJlIHBlcnNvbm5lbCBhYm91dCB0aGUgdHlwZSAgb2YgZm9vZHMgdGhhdCB0aGUgcGF0aWVudCBzaG91bGRuJ3QgcmVjZWl2ZSBvciBjb25zdW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleGNsdWRlRm9vZE1vZGlmaWVyOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIERpZXQgZ2l2ZW4gb3JhbGx5IGluIGNvbnRyYXN0IHRvIGVudGVyYWwgKHR1YmUpIGZlZWRpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIG9yYWxEaWV0PzogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPcmFsIG51dHJpdGlvbmFsIHByb2R1Y3RzIGdpdmVuIGluIG9yZGVyIHRvIGFkZCBmdXJ0aGVyIG51dHJpdGlvbmFsIHZhbHVlIHRvIHRoZSBwYXRpZW50J3MgZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VwcGxlbWVudDogZmhpci5OdXRyaXRpb25PcmRlclN1cHBsZW1lbnRbXTtcclxuICAvKipcclxuICAgKiBGZWVkaW5nIHByb3ZpZGVkIHRocm91Z2ggdGhlIGdhc3Ryb2ludGVzdGluYWwgdHJhY3QgdmlhIGEgdHViZSwgY2F0aGV0ZXIsIG9yIHN0b21hIHRoYXQgZGVsaXZlcnMgbnV0cml0aW9uIGRpc3RhbCB0byB0aGUgb3JhbCBjYXZpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGVudGVyYWxGb3JtdWxhPzogZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlciAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ051dHJpdGlvbk9yZGVyJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8TnV0cml0aW9uUmVxdWVzdFN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxOdXRyaXRpb25SZXF1ZXN0U3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50J10pIHsgdGhpcy5wYXRpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXRpZW50KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGF0aWVudCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlVGltZSddKSB7IHRoaXMuZGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZVRpbWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGF0ZVRpbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGF0ZVRpbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlVGltZSkgeyB0aGlzLmRhdGVUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RhdGVUaW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvcmRlcmVyJ10pIHsgdGhpcy5vcmRlcmVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vcmRlcmVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWxsZXJneUludG9sZXJhbmNlJ10pIHsgdGhpcy5hbGxlcmd5SW50b2xlcmFuY2UgPSBzb3VyY2UuYWxsZXJneUludG9sZXJhbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuYWxsZXJneUludG9sZXJhbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Zvb2RQcmVmZXJlbmNlTW9kaWZpZXInXSkgeyB0aGlzLmZvb2RQcmVmZXJlbmNlTW9kaWZpZXIgPSBzb3VyY2UuZm9vZFByZWZlcmVuY2VNb2RpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZvb2RQcmVmZXJlbmNlTW9kaWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhjbHVkZUZvb2RNb2RpZmllciddKSB7IHRoaXMuZXhjbHVkZUZvb2RNb2RpZmllciA9IHNvdXJjZS5leGNsdWRlRm9vZE1vZGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXhjbHVkZUZvb2RNb2RpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvcmFsRGlldCddKSB7IHRoaXMub3JhbERpZXQgPSBuZXcgZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0KHNvdXJjZS5vcmFsRGlldCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1cHBsZW1lbnQnXSkgeyB0aGlzLnN1cHBsZW1lbnQgPSBzb3VyY2Uuc3VwcGxlbWVudC5tYXAoKHgpID0+IG5ldyBmaGlyLk51dHJpdGlvbk9yZGVyU3VwcGxlbWVudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1cHBsZW1lbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW50ZXJhbEZvcm11bGEnXSkgeyB0aGlzLmVudGVyYWxGb3JtdWxhID0gbmV3IGZoaXIuTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYShzb3VyY2UuZW50ZXJhbEZvcm11bGEpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXInIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJQUygncmVzb3VyY2VUeXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignc3RhdHVzJyxleHAsJ051dHJpdGlvblJlcXVlc3RTdGF0dXMnLE51dHJpdGlvblJlcXVlc3RTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncGF0aWVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZW5jb3VudGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdkYXRlVGltZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JkZXJlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYWxsZXJneUludG9sZXJhbmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdmb29kUHJlZmVyZW5jZU1vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdleGNsdWRlRm9vZE1vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdvcmFsRGlldCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3VwcGxlbWVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZW50ZXJhbEZvcm11bGEnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19