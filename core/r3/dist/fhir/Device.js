// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: Device
import * as fhir from '../fhir.js';
// @ts-ignore
import { UdiEntryTypeVsValidation } from '../fhirValueSets/UdiEntryTypeVsValidation.js';
// @ts-ignore
import { DeviceStatusVsValidation } from '../fhirValueSets/DeviceStatusVsValidation.js';
/**
 * UDI may identify an unique instance of a device, or it may only identify the type of the device.  See [UDI mappings](device-mappings.html#udi) for a complete mapping of UDI parts to Device.
 */
export class DeviceUdi extends fhir.BackboneElement {
    /**
     * Default constructor for DeviceUdi - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['deviceIdentifier'] !== undefined) {
            this.deviceIdentifier = new fhir.FhirString({ value: source.deviceIdentifier }, options);
        }
        if (source['_deviceIdentifier']) {
            if (this.deviceIdentifier) {
                this.deviceIdentifier.addExtendedProperties(source._deviceIdentifier);
            }
            else {
                this.deviceIdentifier = new fhir.FhirString(source._deviceIdentifier, options);
            }
        }
        if (source['name'] !== undefined) {
            this.name = new fhir.FhirString({ value: source.name }, options);
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name, options);
            }
        }
        if (source['jurisdiction'] !== undefined) {
            this.jurisdiction = new fhir.FhirUri({ value: source.jurisdiction }, options);
        }
        if (source['_jurisdiction']) {
            if (this.jurisdiction) {
                this.jurisdiction.addExtendedProperties(source._jurisdiction);
            }
            else {
                this.jurisdiction = new fhir.FhirUri(source._jurisdiction, options);
            }
        }
        if (source['carrierHRF'] !== undefined) {
            this.carrierHRF = new fhir.FhirString({ value: source.carrierHRF }, options);
        }
        if (source['_carrierHRF']) {
            if (this.carrierHRF) {
                this.carrierHRF.addExtendedProperties(source._carrierHRF);
            }
            else {
                this.carrierHRF = new fhir.FhirString(source._carrierHRF, options);
            }
        }
        if (source['carrierAIDC'] !== undefined) {
            this.carrierAIDC = new fhir.FhirBase64Binary({ value: source.carrierAIDC }, options);
        }
        if (source['_carrierAIDC']) {
            if (this.carrierAIDC) {
                this.carrierAIDC.addExtendedProperties(source._carrierAIDC);
            }
            else {
                this.carrierAIDC = new fhir.FhirBase64Binary(source._carrierAIDC, options);
            }
        }
        if (source['issuer'] !== undefined) {
            this.issuer = new fhir.FhirUri({ value: source.issuer }, options);
        }
        if (source['_issuer']) {
            if (this.issuer) {
                this.issuer.addExtendedProperties(source._issuer);
            }
            else {
                this.issuer = new fhir.FhirUri(source._issuer, options);
            }
        }
        if (source['entryType'] !== undefined) {
            this.entryType = new fhir.FhirCode({ value: source.entryType }, options);
        }
        if (source['_entryType']) {
            if (this.entryType) {
                this.entryType.addExtendedProperties(source._entryType);
            }
            else {
                this.entryType = new fhir.FhirCode(source._entryType, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Device.udi';
        }
        iss.push(...this.vOS('deviceIdentifier', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vOS('jurisdiction', exp));
        iss.push(...this.vOS('carrierHRF', exp));
        iss.push(...this.vOS('carrierAIDC', exp));
        iss.push(...this.vOS('issuer', exp));
        iss.push(...this.vOSV('entryType', exp, 'UdiEntryType', UdiEntryTypeVsValidation, 'r'));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
DeviceUdi._fts_dataType = 'DeviceUdi';
/**
 * This resource identifies an instance or a type of a manufactured item that is used in the provision of healthcare without being substantially changed through that activity. The device may be a medical or non-medical device.  Medical devices include durable (reusable) medical equipment, implantable devices, as well as disposable equipment used for diagnostic, treatment, and research for healthcare and public health.  Non-medical devices may include items such as a machine, cellphone, computer, application, etc.
 */
export class Device extends fhir.DomainResource {
    /**
     * Default constructor for Device - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Device';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['udi']) {
            this.udi = new fhir.DeviceUdi(source.udi, options);
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['lotNumber'] !== undefined) {
            this.lotNumber = new fhir.FhirString({ value: source.lotNumber }, options);
        }
        if (source['_lotNumber']) {
            if (this.lotNumber) {
                this.lotNumber.addExtendedProperties(source._lotNumber);
            }
            else {
                this.lotNumber = new fhir.FhirString(source._lotNumber, options);
            }
        }
        if (source['manufacturer'] !== undefined) {
            this.manufacturer = new fhir.FhirString({ value: source.manufacturer }, options);
        }
        if (source['_manufacturer']) {
            if (this.manufacturer) {
                this.manufacturer.addExtendedProperties(source._manufacturer);
            }
            else {
                this.manufacturer = new fhir.FhirString(source._manufacturer, options);
            }
        }
        if (source['manufactureDate'] !== undefined) {
            this.manufactureDate = new fhir.FhirDateTime({ value: source.manufactureDate }, options);
        }
        if (source['_manufactureDate']) {
            if (this.manufactureDate) {
                this.manufactureDate.addExtendedProperties(source._manufactureDate);
            }
            else {
                this.manufactureDate = new fhir.FhirDateTime(source._manufactureDate, options);
            }
        }
        if (source['expirationDate'] !== undefined) {
            this.expirationDate = new fhir.FhirDateTime({ value: source.expirationDate }, options);
        }
        if (source['_expirationDate']) {
            if (this.expirationDate) {
                this.expirationDate.addExtendedProperties(source._expirationDate);
            }
            else {
                this.expirationDate = new fhir.FhirDateTime(source._expirationDate, options);
            }
        }
        if (source['model'] !== undefined) {
            this.model = new fhir.FhirString({ value: source.model }, options);
        }
        if (source['_model']) {
            if (this.model) {
                this.model.addExtendedProperties(source._model);
            }
            else {
                this.model = new fhir.FhirString(source._model, options);
            }
        }
        if (source['version'] !== undefined) {
            this.version = new fhir.FhirString({ value: source.version }, options);
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version, options);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        if (source['owner']) {
            this.owner = new fhir.Reference(source.owner, options);
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ContactPoint(x, options));
        }
        else {
            this.contact = [];
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location, options);
        }
        if (source['url'] !== undefined) {
            this.url = new fhir.FhirUri({ value: source.url }, options);
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url, options);
            }
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x, options));
        }
        else {
            this.note = [];
        }
        if (source['safety']) {
            this.safety = source.safety.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.safety = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Device';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('udi', exp));
        iss.push(...this.vOSV('status', exp, 'DeviceStatus', DeviceStatusVsValidation, 'r'));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('lotNumber', exp));
        iss.push(...this.vOS('manufacturer', exp));
        iss.push(...this.vOS('manufactureDate', exp));
        iss.push(...this.vOS('expirationDate', exp));
        iss.push(...this.vOS('model', exp));
        iss.push(...this.vOS('version', exp));
        iss.push(...this.vOS('patient', exp));
        iss.push(...this.vOS('owner', exp));
        iss.push(...this.vOA('contact', exp));
        iss.push(...this.vOS('location', exp));
        iss.push(...this.vOS('url', exp));
        iss.push(...this.vOA('note', exp));
        iss.push(...this.vOA('safety', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Device._fts_dataType = 'Device';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGV2aWNlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9EZXZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsd0JBQXdCO0FBRXhCLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQztBQUd4RixhQUFhO0FBQ2IsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sOENBQThDLENBQUM7QUEyRXhGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXlDakQ7O09BRUc7SUFDSCxZQUFZLFNBQWdDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3RGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsa0JBQWtCLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDekksSUFBSSxNQUFNLENBQUMsbUJBQW1CLENBQUMsRUFBRTtZQUMvQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtnQkFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLGlCQUFrQixDQUFDLENBQUM7YUFBRTtpQkFDakc7Z0JBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsaUJBQWlELEVBQUUsT0FBTyxDQUFDLENBQUM7YUFBRTtTQUN6SDtRQUNELElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFNBQVMs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QUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQWhLRDs7R0FFRztBQUM2QixvQkFBYSxHQUFVLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yMy5jb3JlIHZlcnNpb246IDMuMC4yXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogRGV2aWNlXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVZGlFbnRyeVR5cGVDb2RlcywgIFVkaUVudHJ5VHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VZGlFbnRyeVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVWRpRW50cnlUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9VZGlFbnRyeVR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERldmljZVN0YXR1c0NvZGVzLCAgRGV2aWNlU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RldmljZVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEZXZpY2VTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RldmljZVN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGV2aWNlS2luZENvZGVzLCAgRGV2aWNlS2luZENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EZXZpY2VLaW5kQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERldmljZUtpbmRWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RldmljZUtpbmRWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRGV2aWNlVWRpIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIERldmljZVVkaUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXZpY2UgaWRlbnRpZmllciAoREkpIGlzIGEgbWFuZGF0b3J5LCBmaXhlZCBwb3J0aW9uIG9mIGEgVURJIHRoYXQgaWRlbnRpZmllcyB0aGUgbGFiZWxlciBhbmQgdGhlIHNwZWNpZmljIHZlcnNpb24gb3IgbW9kZWwgb2YgYSBkZXZpY2UuXHJcbiAgICovXHJcbiAgZGV2aWNlSWRlbnRpZmllcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBEZXZpY2UudWRpLmRldmljZUlkZW50aWZpZXJcclxuICAgKi9cclxuICBfZGV2aWNlSWRlbnRpZmllcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVXNlIHRoZSBgRGV2aWNlLnR5cGVgICBmb3IgYSBnZW5lcmljIHR5cGUgb3Iga2luZCBvZiBkZXZpY2UgbmFtZS4gIE5vdGUgdGhlIFtHVURJRF0oaHR0cDovL3d3dy5mZGEuZ292L21lZGljYWxkZXZpY2VzL2RldmljZXJlZ3VsYXRpb25hbmRndWlkYW5jZS91bmlxdWVkZXZpY2VpZGVudGlmaWNhdGlvbi9nbG9iYWx1ZGlkYXRhYmFzZWd1ZGlkL2RlZmF1bHQuaHRtKSBsaXN0cyB0aGUgbmFtZSBhcyB0aGUgJ0JyYW5kIE5hbWUnLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRGV2aWNlLnVkaS5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGl0eSBvZiB0aGUgYXV0aG9yaXRhdGl2ZSBzb3VyY2UgZm9yIFVESSBnZW5lcmF0aW9uIHdpdGhpbiBhICBqdXJpc2RpY3Rpb24uICBBbGwgVURJcyBhcmUgZ2xvYmFsbHkgdW5pcXVlIHdpdGhpbiBhIHNpbmdsZSBuYW1lc3BhY2UuIHdpdGggdGhlIGFwcHJvcHJpYXRlIHJlcG9zaXRvcnkgdXJpIGFzIHRoZSBzeXN0ZW0uICBGb3IgZXhhbXBsZSwgIFVESXMgb2YgZGV2aWNlcyBtYW5hZ2VkIGluIHRoZSBVLlMuIGJ5IHRoZSBGREEsIHRoZSB2YWx1ZSBpcyAgaHR0cDovL2hsNy5vcmcvZmhpci9OYW1pbmdTeXN0ZW0vZmRhLXVkaS5cclxuICAgKi9cclxuICBqdXJpc2RpY3Rpb24/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRGV2aWNlLnVkaS5qdXJpc2RpY3Rpb25cclxuICAgKi9cclxuICBfanVyaXNkaWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJZiBzZXBhcmF0ZSBiYXJjb2RlcyBmb3IgREkgYW5kIFBJIGFyZSBwcmVzZW50LCBjb25jYXRlbmF0ZSB0aGUgc3RyaW5nIHdpdGggREkgZmlyc3QgYW5kIGluIG9yZGVyIG9mIGh1bWFuIHJlYWRhYmxlIGV4cHJlc3Npb24gb24gbGFiZWwuXHJcbiAgICovXHJcbiAgY2FycmllckhSRj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBEZXZpY2UudWRpLmNhcnJpZXJIUkZcclxuICAgKi9cclxuICBfY2FycmllckhSRj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIEFJREMgZm9ybSBvZiBVRElzIHNob3VsZCBiZSBzY2FubmVkIG9yIG90aGVyd2lzZSB1c2VkIGZvciB0aGUgaWRlbnRpZmljYXRpb24gb2YgdGhlIGRldmljZSB3aGVuZXZlciBwb3NzaWJsZSB0byBtaW5pbWl6ZSBlcnJvcnMgaW4gcmVjb3JkcyByZXN1bHRpbmcgZnJvbSBtYW51YWwgdHJhbnNjcmlwdGlvbnMuIElmIHNlcGFyYXRlIGJhcmNvZGVzIGZvciBESSBhbmQgUEkgYXJlIHByZXNlbnQsIGNvbmNhdGVuYXRlIHRoZSBzdHJpbmcgd2l0aCBESSBmaXJzdCBhbmQgaW4gb3JkZXIgb2YgaHVtYW4gcmVhZGFibGUgZXhwcmVzc2lvbiBvbiBsYWJlbC5cclxuICAgKi9cclxuICBjYXJyaWVyQUlEQz86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBEZXZpY2UudWRpLmNhcnJpZXJBSURDXHJcbiAgICovXHJcbiAgX2NhcnJpZXJBSURDPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBPcmdhbml6YXRpb24gdGhhdCBpcyBjaGFyZ2VkIHdpdGggaXNzdWluZyBVRElzIGZvciBkZXZpY2VzLiAgRm9yIGV4YW1wbGUsIHRoZSBVUyBGREEgaXNzdWVycyBpbmNsdWRlIDpcclxuICAgKiAxKSBHUzE6IFxyXG4gICAqIGh0dHA6Ly9obDcub3JnL2ZoaXIvTmFtaW5nU3lzdGVtL2dzMS1kaSwgXHJcbiAgICogMikgSElCQ0M6XHJcbiAgICogaHR0cDovL2hsNy5vcmcvZmhpci9OYW1pbmdTeXN0ZW0vaGliY2MtZEksIFxyXG4gICAqIDMpIElDQ0JCQSBmb3IgYmxvb2QgY29udGFpbmVyczpcclxuICAgKiBodHRwOi8vaGw3Lm9yZy9maGlyL05hbWluZ1N5c3RlbS9pY2NiYmEtYmxvb2QtZGksIFxyXG4gICAqIDQpIElDQ0JBIGZvciBvdGhlciBkZXZpY2VzOlxyXG4gICAqIGh0dHA6Ly9obDcub3JnL2ZoaXIvTmFtaW5nU3lzdGVtL2ljY2JiYS1vdGhlci1kaS5cclxuICAgKi9cclxuICBpc3N1ZXI/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRGV2aWNlLnVkaS5pc3N1ZXJcclxuICAgKi9cclxuICBfaXNzdWVyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvZGVkIGVudHJ5IHRvIGluZGljYXRlIGhvdyB0aGUgZGF0YSB3YXMgZW50ZXJlZC5cclxuICAgKi9cclxuICBlbnRyeVR5cGU/OiBmaGlyLkZoaXJDb2RlPFVkaUVudHJ5VHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBEZXZpY2UudWRpLmVudHJ5VHlwZVxyXG4gICAqL1xyXG4gIF9lbnRyeVR5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogVURJIG1heSBpZGVudGlmeSBhbiB1bmlxdWUgaW5zdGFuY2Ugb2YgYSBkZXZpY2UsIG9yIGl0IG1heSBvbmx5IGlkZW50aWZ5IHRoZSB0eXBlIG9mIHRoZSBkZXZpY2UuICBTZWUgW1VESSBtYXBwaW5nc10oZGV2aWNlLW1hcHBpbmdzLmh0bWwjdWRpKSBmb3IgYSBjb21wbGV0ZSBtYXBwaW5nIG9mIFVESSBwYXJ0cyB0byBEZXZpY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRGV2aWNlVWRpIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnRGV2aWNlVWRpJztcclxuICAvKipcclxuICAgKiBUaGUgZGV2aWNlIGlkZW50aWZpZXIgKERJKSBpcyBhIG1hbmRhdG9yeSwgZml4ZWQgcG9ydGlvbiBvZiBhIFVESSB0aGF0IGlkZW50aWZpZXMgdGhlIGxhYmVsZXIgYW5kIHRoZSBzcGVjaWZpYyB2ZXJzaW9uIG9yIG1vZGVsIG9mIGEgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXZpY2VJZGVudGlmaWVyPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2UgdGhlIGBEZXZpY2UudHlwZWAgIGZvciBhIGdlbmVyaWMgdHlwZSBvciBraW5kIG9mIGRldmljZSBuYW1lLiAgTm90ZSB0aGUgW0dVRElEXShodHRwOi8vd3d3LmZkYS5nb3YvbWVkaWNhbGRldmljZXMvZGV2aWNlcmVndWxhdGlvbmFuZGd1aWRhbmNlL3VuaXF1ZWRldmljZWlkZW50aWZpY2F0aW9uL2dsb2JhbHVkaWRhdGFiYXNlZ3VkaWQvZGVmYXVsdC5odG0pIGxpc3RzIHRoZSBuYW1lIGFzIHRoZSAnQnJhbmQgTmFtZScuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpZGVudGl0eSBvZiB0aGUgYXV0aG9yaXRhdGl2ZSBzb3VyY2UgZm9yIFVESSBnZW5lcmF0aW9uIHdpdGhpbiBhICBqdXJpc2RpY3Rpb24uICBBbGwgVURJcyBhcmUgZ2xvYmFsbHkgdW5pcXVlIHdpdGhpbiBhIHNpbmdsZSBuYW1lc3BhY2UuIHdpdGggdGhlIGFwcHJvcHJpYXRlIHJlcG9zaXRvcnkgdXJpIGFzIHRoZSBzeXN0ZW0uICBGb3IgZXhhbXBsZSwgIFVESXMgb2YgZGV2aWNlcyBtYW5hZ2VkIGluIHRoZSBVLlMuIGJ5IHRoZSBGREEsIHRoZSB2YWx1ZSBpcyAgaHR0cDovL2hsNy5vcmcvZmhpci9OYW1pbmdTeXN0ZW0vZmRhLXVkaS5cclxuICAgKi9cclxuICBwdWJsaWMganVyaXNkaWN0aW9uPzogZmhpci5GaGlyVXJpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBzZXBhcmF0ZSBiYXJjb2RlcyBmb3IgREkgYW5kIFBJIGFyZSBwcmVzZW50LCBjb25jYXRlbmF0ZSB0aGUgc3RyaW5nIHdpdGggREkgZmlyc3QgYW5kIGluIG9yZGVyIG9mIGh1bWFuIHJlYWRhYmxlIGV4cHJlc3Npb24gb24gbGFiZWwuXHJcbiAgICovXHJcbiAgcHVibGljIGNhcnJpZXJIUkY/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBBSURDIGZvcm0gb2YgVURJcyBzaG91bGQgYmUgc2Nhbm5lZCBvciBvdGhlcndpc2UgdXNlZCBmb3IgdGhlIGlkZW50aWZpY2F0aW9uIG9mIHRoZSBkZXZpY2Ugd2hlbmV2ZXIgcG9zc2libGUgdG8gbWluaW1pemUgZXJyb3JzIGluIHJlY29yZHMgcmVzdWx0aW5nIGZyb20gbWFudWFsIHRyYW5zY3JpcHRpb25zLiBJZiBzZXBhcmF0ZSBiYXJjb2RlcyBmb3IgREkgYW5kIFBJIGFyZSBwcmVzZW50LCBjb25jYXRlbmF0ZSB0aGUgc3RyaW5nIHdpdGggREkgZmlyc3QgYW5kIGluIG9yZGVyIG9mIGh1bWFuIHJlYWRhYmxlIGV4cHJlc3Npb24gb24gbGFiZWwuXHJcbiAgICovXHJcbiAgcHVibGljIGNhcnJpZXJBSURDPzogZmhpci5GaGlyQmFzZTY0QmluYXJ5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPcmdhbml6YXRpb24gdGhhdCBpcyBjaGFyZ2VkIHdpdGggaXNzdWluZyBVRElzIGZvciBkZXZpY2VzLiAgRm9yIGV4YW1wbGUsIHRoZSBVUyBGREEgaXNzdWVycyBpbmNsdWRlIDpcclxuICAgKiAxKSBHUzE6IFxyXG4gICAqIGh0dHA6Ly9obDcub3JnL2ZoaXIvTmFtaW5nU3lzdGVtL2dzMS1kaSwgXHJcbiAgICogMikgSElCQ0M6XHJcbiAgICogaHR0cDovL2hsNy5vcmcvZmhpci9OYW1pbmdTeXN0ZW0vaGliY2MtZEksIFxyXG4gICAqIDMpIElDQ0JCQSBmb3IgYmxvb2QgY29udGFpbmVyczpcclxuICAgKiBodHRwOi8vaGw3Lm9yZy9maGlyL05hbWluZ1N5c3RlbS9pY2NiYmEtYmxvb2QtZGksIFxyXG4gICAqIDQpIElDQ0JBIGZvciBvdGhlciBkZXZpY2VzOlxyXG4gICAqIGh0dHA6Ly9obDcub3JnL2ZoaXIvTmFtaW5nU3lzdGVtL2ljY2JiYS1vdGhlci1kaS5cclxuICAgKi9cclxuICBwdWJsaWMgaXNzdWVyPzogZmhpci5GaGlyVXJpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGVkIGVudHJ5IHRvIGluZGljYXRlIGhvdyB0aGUgZGF0YSB3YXMgZW50ZXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZW50cnlUeXBlPzogZmhpci5GaGlyQ29kZTxVZGlFbnRyeVR5cGVDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIERldmljZVVkaSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPERldmljZVVkaUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydkZXZpY2VJZGVudGlmaWVyJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRldmljZUlkZW50aWZpZXIgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRldmljZUlkZW50aWZpZXJ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RldmljZUlkZW50aWZpZXInXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXZpY2VJZGVudGlmaWVyKSB7IHRoaXMuZGV2aWNlSWRlbnRpZmllci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXZpY2VJZGVudGlmaWVyISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGV2aWNlSWRlbnRpZmllciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kZXZpY2VJZGVudGlmaWVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydqdXJpc2RpY3Rpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuanVyaXNkaWN0aW9uID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5qdXJpc2RpY3Rpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2p1cmlzZGljdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmp1cmlzZGljdGlvbikgeyB0aGlzLmp1cmlzZGljdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9qdXJpc2RpY3Rpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5qdXJpc2RpY3Rpb24gPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fanVyaXNkaWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjYXJyaWVySFJGJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmNhcnJpZXJIUkYgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmNhcnJpZXJIUkZ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NhcnJpZXJIUkYnXSkge1xyXG4gICAgICBpZiAodGhpcy5jYXJyaWVySFJGKSB7IHRoaXMuY2FycmllckhSRi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jYXJyaWVySFJGISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY2FycmllckhSRiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9jYXJyaWVySFJGIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjYXJyaWVyQUlEQyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5jYXJyaWVyQUlEQyA9IG5ldyBmaGlyLkZoaXJCYXNlNjRCaW5hcnkoe3ZhbHVlOiBzb3VyY2UuY2FycmllckFJREN9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NhcnJpZXJBSURDJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY2FycmllckFJREMpIHsgdGhpcy5jYXJyaWVyQUlEQy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jYXJyaWVyQUlEQyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNhcnJpZXJBSURDID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeShzb3VyY2UuX2NhcnJpZXJBSURDIGFzIFBhcnRpYWw8Zmhpci5GaGlyQmFzZTY0QmluYXJ5QXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydpc3N1ZXInXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuaXNzdWVyID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5pc3N1ZXJ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2lzc3VlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLmlzc3VlcikgeyB0aGlzLmlzc3Vlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pc3N1ZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5pc3N1ZXIgPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5faXNzdWVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydlbnRyeVR5cGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZW50cnlUeXBlID0gbmV3IGZoaXIuRmhpckNvZGU8VWRpRW50cnlUeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmVudHJ5VHlwZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZW50cnlUeXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZW50cnlUeXBlKSB7IHRoaXMuZW50cnlUeXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2VudHJ5VHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmVudHJ5VHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFVkaUVudHJ5VHlwZUNvZGVUeXBlPihzb3VyY2UuX2VudHJ5VHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0RldmljZS51ZGknIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXZpY2VJZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCduYW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdqdXJpc2RpY3Rpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NhcnJpZXJIUkYnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NhcnJpZXJBSURDJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpc3N1ZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdlbnRyeVR5cGUnLGV4cCwnVWRpRW50cnlUeXBlJyxVZGlFbnRyeVR5cGVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgRGV2aWNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIERldmljZUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkRldmljZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYmFyY29kZSBzdHJpbmcgZnJvbSBhIGJhcmNvZGUgcHJlc2VudCBvbiBhIGRldmljZSBsYWJlbCBvciBwYWNrYWdlIG1heSBpZGVudGlmeSB0aGUgaW5zdGFuY2UsIGluY2x1ZGUgbmFtZXMgZ2l2ZW4gdG8gdGhlIGRldmljZSBpbiBsb2NhbCB1c2FnZSwgb3IgbWF5IGlkZW50aWZ5IHRoZSB0eXBlIG9mIGRldmljZS4gSWYgdGhlIGlkZW50aWZpZXIgaWRlbnRpZmllcyB0aGUgdHlwZSBvZiBkZXZpY2UsIERldmljZS50eXBlIGVsZW1lbnQgc2hvdWxkIGJlIHVzZWQuICBGb3IgW1VESV0oZGV2aWNlLmh0bWwjNS4xMS4zLjIuMiksICB0aGlzIGVsZW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIHZhcmlhYmxlIHBvcnRpb24gb2YgdGhlIFVESSB0aGF0IGlkZW50aWZpZXMgdGhlIHNlcmlhbCBudW1iZXIgb2YgYSBzcGVjaWZpYyBkZXZpY2UuIFNlZSBbVURJIG1hcHBpbmdzXShkZXZpY2UtbWFwcGluZ3MuaHRtbCN1ZGkpIGZvciBhIGNvbXBsZXRlIG1hcHBpbmcgb2YgVURJIHBhcnRzIHRvIERldmljZS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVREkgbWF5IGlkZW50aWZ5IGFuIHVuaXF1ZSBpbnN0YW5jZSBvZiBhIGRldmljZSwgb3IgaXQgbWF5IG9ubHkgaWRlbnRpZnkgdGhlIHR5cGUgb2YgdGhlIGRldmljZS4gIFNlZSBbVURJIG1hcHBpbmdzXShkZXZpY2UtbWFwcGluZ3MuaHRtbCN1ZGkpIGZvciBhIGNvbXBsZXRlIG1hcHBpbmcgb2YgVURJIHBhcnRzIHRvIERldmljZS5cclxuICAgKi9cclxuICB1ZGk/OiBmaGlyLkRldmljZVVkaUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSB0aGUgc3RhdHVzIGNvbnRhaW5zIHRoZSBjb2RlcyBpbmFjdGl2ZSBhbmQgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmsgdGhlIGRldmljZSAocmVjb3JkKWFzIG5vdCBjdXJyZW50bHkgdmFsaWQuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5GaGlyQ29kZTxEZXZpY2VTdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRGV2aWNlLnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvZGUgb3IgaWRlbnRpZmllciB0byBpZGVudGlmeSBhIGtpbmQgb2YgZGV2aWNlLlxyXG4gICAqL1xyXG4gIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExvdCBudW1iZXIgYXNzaWduZWQgYnkgdGhlIG1hbnVmYWN0dXJlci5cclxuICAgKi9cclxuICBsb3ROdW1iZXI/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRGV2aWNlLmxvdE51bWJlclxyXG4gICAqL1xyXG4gIF9sb3ROdW1iZXI/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgbmFtZSBvZiB0aGUgbWFudWZhY3R1cmVyLlxyXG4gICAqL1xyXG4gIG1hbnVmYWN0dXJlcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBEZXZpY2UubWFudWZhY3R1cmVyXHJcbiAgICovXHJcbiAgX21hbnVmYWN0dXJlcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYW5kIHRpbWUgd2hlbiB0aGUgZGV2aWNlIHdhcyBtYW51ZmFjdHVyZWQuXHJcbiAgICovXHJcbiAgbWFudWZhY3R1cmVEYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogRGV2aWNlLm1hbnVmYWN0dXJlRGF0ZVxyXG4gICAqL1xyXG4gIF9tYW51ZmFjdHVyZURhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIGJleW9uZCB3aGljaCB0aGlzIGRldmljZSBpcyBubyBsb25nZXIgdmFsaWQgb3Igc2hvdWxkIG5vdCBiZSB1c2VkIChpZiBhcHBsaWNhYmxlKS5cclxuICAgKi9cclxuICBleHBpcmF0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERldmljZS5leHBpcmF0aW9uRGF0ZVxyXG4gICAqL1xyXG4gIF9leHBpcmF0aW9uRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIFwibW9kZWxcIiBpcyBhbiBpZGVudGlmaWVyIGFzc2lnbmVkIGJ5IHRoZSBtYW51ZmFjdHVyZXIgdG8gaWRlbnRpZnkgdGhlIHByb2R1Y3QgYnkgaXRzIHR5cGUuIFRoaXMgbnVtYmVyIGlzIHNoYXJlZCBieSB0aGUgYWxsIGRldmljZXMgc29sZCBhcyB0aGUgc2FtZSB0eXBlLlxyXG4gICAqL1xyXG4gIG1vZGVsPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERldmljZS5tb2RlbFxyXG4gICAqL1xyXG4gIF9tb2RlbD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZlcnNpb24gb2YgdGhlIGRldmljZSwgaWYgdGhlIGRldmljZSBoYXMgbXVsdGlwbGUgcmVsZWFzZXMgdW5kZXIgdGhlIHNhbWUgbW9kZWwsIG9yIGlmIHRoZSBkZXZpY2UgaXMgc29mdHdhcmUgb3IgY2FycmllcyBmaXJtd2FyZS5cclxuICAgKi9cclxuICB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERldmljZS52ZXJzaW9uXHJcbiAgICovXHJcbiAgX3ZlcnNpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFBhdGllbnQgaW5mb3JtYXRpb24sIElmIHRoZSBkZXZpY2UgaXMgYWZmaXhlZCB0byBhIHBlcnNvbi5cclxuICAgKi9cclxuICBwYXRpZW50PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvcmdhbml6YXRpb24gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgdGhlIHByb3Zpc2lvbiBhbmQgb25nb2luZyBtYWludGVuYW5jZSBvZiB0aGUgZGV2aWNlLlxyXG4gICAqL1xyXG4gIG93bmVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiB1c2VkIGZvciB0cm91Ymxlc2hvb3RpbmcgZXRjLlxyXG4gICAqL1xyXG4gIGNvbnRhY3Q/OiBmaGlyLkNvbnRhY3RQb2ludEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBsYWNlIHdoZXJlIHRoZSBkZXZpY2UgY2FuIGJlIGZvdW5kLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgZGV2aWNlIGlzIHJ1bm5pbmcgYSBGSElSIHNlcnZlciwgdGhlIG5ldHdvcmsgYWRkcmVzcyBzaG91bGQgIGJlIHRoZSBCYXNlIFVSTCBmcm9tIHdoaWNoIGEgY29uZm9ybWFuY2Ugc3RhdGVtZW50IG1heSBiZSByZXRyaWV2ZWQuXHJcbiAgICovXHJcbiAgdXJsPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IERldmljZS51cmxcclxuICAgKi9cclxuICBfdXJsPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBEZXNjcmlwdGl2ZSBpbmZvcm1hdGlvbiwgdXNhZ2UgaW5mb3JtYXRpb24gb3IgaW1wbGFudGF0aW9uIGluZm9ybWF0aW9uIHRoYXQgaXMgbm90IGNhcHR1cmVkIGluIGFuIGV4aXN0aW5nIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgbm90ZT86IGZoaXIuQW5ub3RhdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgYWRkaXRpb25hbCBzYWZldHkgY2hhcmFjdGVyaXN0aWNzIGFib3V0IGEgbWVkaWNhbCBkZXZpY2UuICBGb3IgZXhhbXBsZSBkZXZpY2VzIGNvbnRhaW5pbmcgbGF0ZXguXHJcbiAgICovXHJcbiAgc2FmZXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyByZXNvdXJjZSBpZGVudGlmaWVzIGFuIGluc3RhbmNlIG9yIGEgdHlwZSBvZiBhIG1hbnVmYWN0dXJlZCBpdGVtIHRoYXQgaXMgdXNlZCBpbiB0aGUgcHJvdmlzaW9uIG9mIGhlYWx0aGNhcmUgd2l0aG91dCBiZWluZyBzdWJzdGFudGlhbGx5IGNoYW5nZWQgdGhyb3VnaCB0aGF0IGFjdGl2aXR5LiBUaGUgZGV2aWNlIG1heSBiZSBhIG1lZGljYWwgb3Igbm9uLW1lZGljYWwgZGV2aWNlLiAgTWVkaWNhbCBkZXZpY2VzIGluY2x1ZGUgZHVyYWJsZSAocmV1c2FibGUpIG1lZGljYWwgZXF1aXBtZW50LCBpbXBsYW50YWJsZSBkZXZpY2VzLCBhcyB3ZWxsIGFzIGRpc3Bvc2FibGUgZXF1aXBtZW50IHVzZWQgZm9yIGRpYWdub3N0aWMsIHRyZWF0bWVudCwgYW5kIHJlc2VhcmNoIGZvciBoZWFsdGhjYXJlIGFuZCBwdWJsaWMgaGVhbHRoLiAgTm9uLW1lZGljYWwgZGV2aWNlcyBtYXkgaW5jbHVkZSBpdGVtcyBzdWNoIGFzIGEgbWFjaGluZSwgY2VsbHBob25lLCBjb21wdXRlciwgYXBwbGljYXRpb24sIGV0Yy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2UgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0RldmljZSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJEZXZpY2VcIjtcclxuICAvKipcclxuICAgKiBUaGUgYmFyY29kZSBzdHJpbmcgZnJvbSBhIGJhcmNvZGUgcHJlc2VudCBvbiBhIGRldmljZSBsYWJlbCBvciBwYWNrYWdlIG1heSBpZGVudGlmeSB0aGUgaW5zdGFuY2UsIGluY2x1ZGUgbmFtZXMgZ2l2ZW4gdG8gdGhlIGRldmljZSBpbiBsb2NhbCB1c2FnZSwgb3IgbWF5IGlkZW50aWZ5IHRoZSB0eXBlIG9mIGRldmljZS4gSWYgdGhlIGlkZW50aWZpZXIgaWRlbnRpZmllcyB0aGUgdHlwZSBvZiBkZXZpY2UsIERldmljZS50eXBlIGVsZW1lbnQgc2hvdWxkIGJlIHVzZWQuICBGb3IgW1VESV0oZGV2aWNlLmh0bWwjNS4xMS4zLjIuMiksICB0aGlzIGVsZW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIHZhcmlhYmxlIHBvcnRpb24gb2YgdGhlIFVESSB0aGF0IGlkZW50aWZpZXMgdGhlIHNlcmlhbCBudW1iZXIgb2YgYSBzcGVjaWZpYyBkZXZpY2UuIFNlZSBbVURJIG1hcHBpbmdzXShkZXZpY2UtbWFwcGluZ3MuaHRtbCN1ZGkpIGZvciBhIGNvbXBsZXRlIG1hcHBpbmcgb2YgVURJIHBhcnRzIHRvIERldmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVURJIG1heSBpZGVudGlmeSBhbiB1bmlxdWUgaW5zdGFuY2Ugb2YgYSBkZXZpY2UsIG9yIGl0IG1heSBvbmx5IGlkZW50aWZ5IHRoZSB0eXBlIG9mIHRoZSBkZXZpY2UuICBTZWUgW1VESSBtYXBwaW5nc10oZGV2aWNlLW1hcHBpbmdzLmh0bWwjdWRpKSBmb3IgYSBjb21wbGV0ZSBtYXBwaW5nIG9mIFVESSBwYXJ0cyB0byBEZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHVkaT86IGZoaXIuRGV2aWNlVWRpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgdGhlIHN0YXR1cyBjb250YWlucyB0aGUgY29kZXMgaW5hY3RpdmUgYW5kIGVudGVyZWQtaW4tZXJyb3IgdGhhdCBtYXJrIHRoZSBkZXZpY2UgKHJlY29yZClhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPERldmljZVN0YXR1c0NvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29kZSBvciBpZGVudGlmaWVyIHRvIGlkZW50aWZ5IGEga2luZCBvZiBkZXZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTG90IG51bWJlciBhc3NpZ25lZCBieSB0aGUgbWFudWZhY3R1cmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb3ROdW1iZXI/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbmFtZSBvZiB0aGUgbWFudWZhY3R1cmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW51ZmFjdHVyZXI/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIHdoZW4gdGhlIGRldmljZSB3YXMgbWFudWZhY3R1cmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW51ZmFjdHVyZURhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYW5kIHRpbWUgYmV5b25kIHdoaWNoIHRoaXMgZGV2aWNlIGlzIG5vIGxvbmdlciB2YWxpZCBvciBzaG91bGQgbm90IGJlIHVzZWQgKGlmIGFwcGxpY2FibGUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHBpcmF0aW9uRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgXCJtb2RlbFwiIGlzIGFuIGlkZW50aWZpZXIgYXNzaWduZWQgYnkgdGhlIG1hbnVmYWN0dXJlciB0byBpZGVudGlmeSB0aGUgcHJvZHVjdCBieSBpdHMgdHlwZS4gVGhpcyBudW1iZXIgaXMgc2hhcmVkIGJ5IHRoZSBhbGwgZGV2aWNlcyBzb2xkIGFzIHRoZSBzYW1lIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGVsPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmVyc2lvbiBvZiB0aGUgZGV2aWNlLCBpZiB0aGUgZGV2aWNlIGhhcyBtdWx0aXBsZSByZWxlYXNlcyB1bmRlciB0aGUgc2FtZSBtb2RlbCwgb3IgaWYgdGhlIGRldmljZSBpcyBzb2Z0d2FyZSBvciBjYXJyaWVzIGZpcm13YXJlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQYXRpZW50IGluZm9ybWF0aW9uLCBJZiB0aGUgZGV2aWNlIGlzIGFmZml4ZWQgdG8gYSBwZXJzb24uXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb3JnYW5pemF0aW9uIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBwcm92aXNpb24gYW5kIG9uZ29pbmcgbWFpbnRlbmFuY2Ugb2YgdGhlIGRldmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgb3duZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogdXNlZCBmb3IgdHJvdWJsZXNob290aW5nIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFjdDogZmhpci5Db250YWN0UG9pbnRbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGxhY2Ugd2hlcmUgdGhlIGRldmljZSBjYW4gYmUgZm91bmQuXHJcbiAgICovXHJcbiAgcHVibGljIGxvY2F0aW9uPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBkZXZpY2UgaXMgcnVubmluZyBhIEZISVIgc2VydmVyLCB0aGUgbmV0d29yayBhZGRyZXNzIHNob3VsZCAgYmUgdGhlIEJhc2UgVVJMIGZyb20gd2hpY2ggYSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgbWF5IGJlIHJldHJpZXZlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdXJsPzogZmhpci5GaGlyVXJpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXNjcmlwdGl2ZSBpbmZvcm1hdGlvbiwgdXNhZ2UgaW5mb3JtYXRpb24gb3IgaW1wbGFudGF0aW9uIGluZm9ybWF0aW9uIHRoYXQgaXMgbm90IGNhcHR1cmVkIGluIGFuIGV4aXN0aW5nIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU6IGZoaXIuQW5ub3RhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGFkZGl0aW9uYWwgc2FmZXR5IGNoYXJhY3RlcmlzdGljcyBhYm91dCBhIG1lZGljYWwgZGV2aWNlLiAgRm9yIGV4YW1wbGUgZGV2aWNlcyBjb250YWluaW5nIGxhdGV4LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzYWZldHk6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgRGV2aWNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8RGV2aWNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0RldmljZSc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd1ZGknXSkgeyB0aGlzLnVkaSA9IG5ldyBmaGlyLkRldmljZVVkaShzb3VyY2UudWRpLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPERldmljZVN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxEZXZpY2VTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydsb3ROdW1iZXInXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubG90TnVtYmVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5sb3ROdW1iZXJ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2xvdE51bWJlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLmxvdE51bWJlcikgeyB0aGlzLmxvdE51bWJlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9sb3ROdW1iZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5sb3ROdW1iZXIgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbG90TnVtYmVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYW51ZmFjdHVyZXInXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubWFudWZhY3R1cmVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5tYW51ZmFjdHVyZXJ9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX21hbnVmYWN0dXJlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLm1hbnVmYWN0dXJlcikgeyB0aGlzLm1hbnVmYWN0dXJlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tYW51ZmFjdHVyZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5tYW51ZmFjdHVyZXIgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbWFudWZhY3R1cmVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYW51ZmFjdHVyZURhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubWFudWZhY3R1cmVEYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLm1hbnVmYWN0dXJlRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfbWFudWZhY3R1cmVEYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubWFudWZhY3R1cmVEYXRlKSB7IHRoaXMubWFudWZhY3R1cmVEYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX21hbnVmYWN0dXJlRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1hbnVmYWN0dXJlRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX21hbnVmYWN0dXJlRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydleHBpcmF0aW9uRGF0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5leHBpcmF0aW9uRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5leHBpcmF0aW9uRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZXhwaXJhdGlvbkRhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5leHBpcmF0aW9uRGF0ZSkgeyB0aGlzLmV4cGlyYXRpb25EYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2V4cGlyYXRpb25EYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZXhwaXJhdGlvbkRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9leHBpcmF0aW9uRGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtb2RlbCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5tb2RlbCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubW9kZWx9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX21vZGVsJ10pIHtcclxuICAgICAgaWYgKHRoaXMubW9kZWwpIHsgdGhpcy5tb2RlbC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tb2RlbCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1vZGVsID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX21vZGVsIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2ZXJzaW9uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZlcnNpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZlcnNpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZlcnNpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy52ZXJzaW9uKSB7IHRoaXMudmVyc2lvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92ZXJzaW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl92ZXJzaW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50J10pIHsgdGhpcy5wYXRpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXRpZW50LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3duZXInXSkgeyB0aGlzLm93bmVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vd25lciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbnRhY3QnXSkgeyB0aGlzLmNvbnRhY3QgPSBzb3VyY2UuY29udGFjdC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3RQb2ludCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhY3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbG9jYXRpb24nXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5sb2NhdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VybCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy51cmwgPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLnVybH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdXJsJ10pIHtcclxuICAgICAgaWYgKHRoaXMudXJsKSB7IHRoaXMudXJsLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3VybCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl91cmwgYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NhZmV0eSddKSB7IHRoaXMuc2FmZXR5ID0gc291cmNlLnNhZmV0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNhZmV0eSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnRGV2aWNlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndWRpJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignc3RhdHVzJyxleHAsJ0RldmljZVN0YXR1cycsRGV2aWNlU3RhdHVzVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2xvdE51bWJlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbWFudWZhY3R1cmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtYW51ZmFjdHVyZURhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2V4cGlyYXRpb25EYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtb2RlbCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndmVyc2lvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncGF0aWVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3duZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2NvbnRhY3QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2xvY2F0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd1cmwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ25vdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3NhZmV0eScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=