// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: Claim
import * as fhir from '../fhir.js';
// @ts-ignore
import { V3ActIncidentVsValidation } from '../fhirValueSets/V3ActIncidentVsValidation.js';
// @ts-ignore
import { FmStatusVsValidation } from '../fhirValueSets/FmStatusVsValidation.js';
// @ts-ignore
import { ClaimTypeVsValidation } from '../fhirValueSets/ClaimTypeVsValidation.js';
// @ts-ignore
import { ClaimUseVsValidation } from '../fhirValueSets/ClaimUseVsValidation.js';
/**
 * Other claims which are related to this claim such as prior claim versions or for related services.
 */
export class ClaimRelated extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimRelated - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['claim']) {
            this.claim = new fhir.Reference(source.claim, options);
        }
        if (source['relationship']) {
            this.relationship = new fhir.CodeableConcept(source.relationship, options);
        }
        if (source['reference']) {
            this.reference = new fhir.Identifier(source.reference, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.related';
        }
        iss.push(...this.vOS('claim', exp));
        iss.push(...this.vOS('relationship', exp));
        iss.push(...this.vOS('reference', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimRelated._fts_dataType = 'ClaimRelated';
/**
 * The party to be reimbursed for the services.
 */
export class ClaimPayee extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimPayee - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        else {
            this.type = null;
        }
        if (source['resourceType']) {
            this.resourceType = new fhir.Coding(source.resourceType, options);
        }
        if (source['party']) {
            this.party = new fhir.Reference(source.party, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.payee';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOS('resourceType', exp));
        iss.push(...this.vOS('party', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimPayee._fts_dataType = 'ClaimPayee';
/**
 * The members of the team who provided the overall service as well as their role and whether responsible and qualifications.
 */
export class ClaimCareTeam extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimCareTeam - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        else {
            this.sequence = null;
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['provider']) {
            this.provider = new fhir.Reference(source.provider, options);
        }
        else {
            this.provider = null;
        }
        if (source['responsible'] !== undefined) {
            this.responsible = new fhir.FhirBoolean({ value: source.responsible }, options);
        }
        if (source['_responsible']) {
            if (this.responsible) {
                this.responsible.addExtendedProperties(source._responsible);
            }
            else {
                this.responsible = new fhir.FhirBoolean(source._responsible, options);
            }
        }
        if (source['role']) {
            this.role = new fhir.CodeableConcept(source.role, options);
        }
        if (source['qualification']) {
            this.qualification = new fhir.CodeableConcept(source.qualification, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.careTeam';
        }
        iss.push(...this.vRS('sequence', exp));
        iss.push(...this.vRS('provider', exp));
        iss.push(...this.vOS('responsible', exp));
        iss.push(...this.vOS('role', exp));
        iss.push(...this.vOS('qualification', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimCareTeam._fts_dataType = 'ClaimCareTeam';
/**
 * Additional information codes regarding exceptions, special considerations, the condition, situation, prior or concurrent issues. Often there are mutiple jurisdiction specific valuesets which are required.
 */
export class ClaimInformation extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimInformation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        else {
            this.sequence = null;
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category, options);
        }
        else {
            this.category = null;
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code, options);
        }
        if (source['timing']) {
            this.timing = source.timing;
        }
        else if (source['timingDate'] !== undefined) {
            this.timing = new fhir.FhirDate({ value: source.timingDate }, options);
        }
        else if (source['timingPeriod']) {
            this.timing = new fhir.Period(source.timingPeriod, options);
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueString'] !== undefined) {
            this.value = new fhir.FhirString({ value: source.valueString }, options);
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity, options);
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment, options);
        }
        else if (source['valueReference']) {
            this.value = new fhir.Reference(source.valueReference, options);
        }
        if (source['reason']) {
            this.reason = new fhir.CodeableConcept(source.reason, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.information';
        }
        iss.push(...this.vRS('sequence', exp));
        iss.push(...this.vRS('category', exp));
        iss.push(...this.vOS('code', exp));
        iss.push(...this.vOS('timing', exp));
        iss.push(...this.vOS('value', exp));
        iss.push(...this.vOS('reason', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimInformation._fts_dataType = 'ClaimInformation';
/**
 * Internal flag to properly serialize choice-type element Claim.information.timing[x]
 */
ClaimInformation._fts_timingIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Claim.information.value[x]
 */
ClaimInformation._fts_valueIsChoice = true;
/**
 * List of patient diagnosis for which care is sought.
 */
export class ClaimDiagnosis extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimDiagnosis - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        else {
            this.sequence = null;
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['diagnosis']) {
            this.diagnosis = source.diagnosis;
        }
        else if (source['diagnosisCodeableConcept']) {
            this.diagnosis = new fhir.CodeableConcept(source.diagnosisCodeableConcept, options);
        }
        else if (source['diagnosisReference']) {
            this.diagnosis = new fhir.Reference(source.diagnosisReference, options);
        }
        else {
            this.diagnosis = null;
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.type = [];
        }
        if (source['packageCode']) {
            this.packageCode = new fhir.CodeableConcept(source.packageCode, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.diagnosis';
        }
        iss.push(...this.vRS('sequence', exp));
        iss.push(...this.vRS('diagnosis', exp));
        iss.push(...this.vOA('type', exp));
        iss.push(...this.vOS('packageCode', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimDiagnosis._fts_dataType = 'ClaimDiagnosis';
/**
 * Internal flag to properly serialize choice-type element Claim.diagnosis.diagnosis[x]
 */
ClaimDiagnosis._fts_diagnosisIsChoice = true;
/**
 * Ordered list of patient procedures performed to support the adjudication.
 */
export class ClaimProcedure extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimProcedure - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        else {
            this.sequence = null;
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['date'] !== undefined) {
            this.date = new fhir.FhirDateTime({ value: source.date }, options);
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date, options);
            }
        }
        if (source['procedure']) {
            this.procedure = source.procedure;
        }
        else if (source['procedureCodeableConcept']) {
            this.procedure = new fhir.CodeableConcept(source.procedureCodeableConcept, options);
        }
        else if (source['procedureReference']) {
            this.procedure = new fhir.Reference(source.procedureReference, options);
        }
        else {
            this.procedure = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.procedure';
        }
        iss.push(...this.vRS('sequence', exp));
        iss.push(...this.vOS('date', exp));
        iss.push(...this.vRS('procedure', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimProcedure._fts_dataType = 'ClaimProcedure';
/**
 * Internal flag to properly serialize choice-type element Claim.procedure.procedure[x]
 */
ClaimProcedure._fts_procedureIsChoice = true;
/**
 * Financial instrument by which payment information for health care.
 */
export class ClaimInsurance extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimInsurance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        else {
            this.sequence = null;
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['focal'] !== undefined) {
            this.focal = new fhir.FhirBoolean({ value: source.focal }, options);
        }
        else {
            this.focal = null;
        }
        if (source['_focal']) {
            if (this.focal) {
                this.focal.addExtendedProperties(source._focal);
            }
            else {
                this.focal = new fhir.FhirBoolean(source._focal, options);
            }
        }
        if (source['coverage']) {
            this.coverage = new fhir.Reference(source.coverage, options);
        }
        else {
            this.coverage = null;
        }
        if (source['businessArrangement'] !== undefined) {
            this.businessArrangement = new fhir.FhirString({ value: source.businessArrangement }, options);
        }
        if (source['_businessArrangement']) {
            if (this.businessArrangement) {
                this.businessArrangement.addExtendedProperties(source._businessArrangement);
            }
            else {
                this.businessArrangement = new fhir.FhirString(source._businessArrangement, options);
            }
        }
        if (source['preAuthRef'] !== undefined) {
            this.preAuthRef = source.preAuthRef.map((x) => new fhir.FhirString({ value: x }, options));
        }
        else {
            this.preAuthRef = [];
        }
        if (source['_preAuthRef']) {
            source._preAuthRef.forEach((x, i) => {
                if (this.preAuthRef.length >= i) {
                    if (x) {
                        this.preAuthRef[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.preAuthRef.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['claimResponse']) {
            this.claimResponse = new fhir.Reference(source.claimResponse, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.insurance';
        }
        iss.push(...this.vRS('sequence', exp));
        iss.push(...this.vRS('focal', exp));
        iss.push(...this.vRS('coverage', exp));
        iss.push(...this.vOS('businessArrangement', exp));
        iss.push(...this.vOA('preAuthRef', exp));
        iss.push(...this.vOS('claimResponse', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimInsurance._fts_dataType = 'ClaimInsurance';
/**
 * An accident which resulted in the need for healthcare services.
 */
export class ClaimAccident extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimAccident - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['date'] !== undefined) {
            this.date = new fhir.FhirDate({ value: source.date }, options);
        }
        else {
            this.date = null;
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDate(source._date, options);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['location']) {
            this.location = source.location;
        }
        else if (source['locationAddress']) {
            this.location = new fhir.Address(source.locationAddress, options);
        }
        else if (source['locationReference']) {
            this.location = new fhir.Reference(source.locationReference, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.accident';
        }
        iss.push(...this.vRS('date', exp));
        iss.push(...this.vOSV('type', exp, 'V3ActIncident', V3ActIncidentVsValidation, 'r'));
        iss.push(...this.vOS('location', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimAccident._fts_dataType = 'ClaimAccident';
/**
 * Internal flag to properly serialize choice-type element Claim.accident.location[x]
 */
ClaimAccident._fts_locationIsChoice = true;
/**
 * Third tier of goods and services.
 */
export class ClaimItemDetailSubDetail extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimItemDetailSubDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        else {
            this.sequence = null;
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['revenue']) {
            this.revenue = new fhir.CodeableConcept(source.revenue, options);
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category, options);
        }
        if (source['service']) {
            this.service = new fhir.CodeableConcept(source.service, options);
        }
        if (source['modifier']) {
            this.modifier = source.modifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.modifier = [];
        }
        if (source['programCode']) {
            this.programCode = source.programCode.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.programCode = [];
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['unitPrice']) {
            this.unitPrice = new fhir.Money(source.unitPrice, options);
        }
        if (source['factor'] !== undefined) {
            this.factor = new fhir.FhirDecimal({ value: source.factor }, options);
        }
        if (source['_factor']) {
            if (this.factor) {
                this.factor.addExtendedProperties(source._factor);
            }
            else {
                this.factor = new fhir.FhirDecimal(source._factor, options);
            }
        }
        if (source['net']) {
            this.net = new fhir.Money(source.net, options);
        }
        if (source['udi']) {
            this.udi = source.udi.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.udi = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.item.detail.subDetail';
        }
        iss.push(...this.vRS('sequence', exp));
        iss.push(...this.vOS('revenue', exp));
        iss.push(...this.vOS('category', exp));
        iss.push(...this.vOS('service', exp));
        iss.push(...this.vOA('modifier', exp));
        iss.push(...this.vOA('programCode', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('unitPrice', exp));
        iss.push(...this.vOS('factor', exp));
        iss.push(...this.vOS('net', exp));
        iss.push(...this.vOA('udi', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimItemDetailSubDetail._fts_dataType = 'ClaimItemDetailSubDetail';
/**
 * Second tier of goods and services.
 */
export class ClaimItemDetail extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimItemDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        else {
            this.sequence = null;
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['revenue']) {
            this.revenue = new fhir.CodeableConcept(source.revenue, options);
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category, options);
        }
        if (source['service']) {
            this.service = new fhir.CodeableConcept(source.service, options);
        }
        if (source['modifier']) {
            this.modifier = source.modifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.modifier = [];
        }
        if (source['programCode']) {
            this.programCode = source.programCode.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.programCode = [];
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['unitPrice']) {
            this.unitPrice = new fhir.Money(source.unitPrice, options);
        }
        if (source['factor'] !== undefined) {
            this.factor = new fhir.FhirDecimal({ value: source.factor }, options);
        }
        if (source['_factor']) {
            if (this.factor) {
                this.factor.addExtendedProperties(source._factor);
            }
            else {
                this.factor = new fhir.FhirDecimal(source._factor, options);
            }
        }
        if (source['net']) {
            this.net = new fhir.Money(source.net, options);
        }
        if (source['udi']) {
            this.udi = source.udi.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.udi = [];
        }
        if (source['subDetail']) {
            this.subDetail = source.subDetail.map((x) => new fhir.ClaimItemDetailSubDetail(x, options));
        }
        else {
            this.subDetail = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.item.detail';
        }
        iss.push(...this.vRS('sequence', exp));
        iss.push(...this.vOS('revenue', exp));
        iss.push(...this.vOS('category', exp));
        iss.push(...this.vOS('service', exp));
        iss.push(...this.vOA('modifier', exp));
        iss.push(...this.vOA('programCode', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('unitPrice', exp));
        iss.push(...this.vOS('factor', exp));
        iss.push(...this.vOS('net', exp));
        iss.push(...this.vOA('udi', exp));
        iss.push(...this.vOA('subDetail', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimItemDetail._fts_dataType = 'ClaimItemDetail';
/**
 * First tier of goods and services.
 */
export class ClaimItem extends fhir.BackboneElement {
    /**
     * Default constructor for ClaimItem - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['sequence'] !== undefined) {
            this.sequence = new fhir.FhirPositiveInt({ value: source.sequence }, options);
        }
        else {
            this.sequence = null;
        }
        if (source['_sequence']) {
            if (this.sequence) {
                this.sequence.addExtendedProperties(source._sequence);
            }
            else {
                this.sequence = new fhir.FhirPositiveInt(source._sequence, options);
            }
        }
        if (source['careTeamLinkId'] !== undefined) {
            this.careTeamLinkId = source.careTeamLinkId.map((x) => new fhir.FhirPositiveInt({ value: x }, options));
        }
        else {
            this.careTeamLinkId = [];
        }
        if (source['_careTeamLinkId']) {
            source._careTeamLinkId.forEach((x, i) => {
                if (this.careTeamLinkId.length >= i) {
                    if (x) {
                        this.careTeamLinkId[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.careTeamLinkId.push(new fhir.FhirPositiveInt(x));
                    }
                }
            });
        }
        if (source['diagnosisLinkId'] !== undefined) {
            this.diagnosisLinkId = source.diagnosisLinkId.map((x) => new fhir.FhirPositiveInt({ value: x }, options));
        }
        else {
            this.diagnosisLinkId = [];
        }
        if (source['_diagnosisLinkId']) {
            source._diagnosisLinkId.forEach((x, i) => {
                if (this.diagnosisLinkId.length >= i) {
                    if (x) {
                        this.diagnosisLinkId[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.diagnosisLinkId.push(new fhir.FhirPositiveInt(x));
                    }
                }
            });
        }
        if (source['procedureLinkId'] !== undefined) {
            this.procedureLinkId = source.procedureLinkId.map((x) => new fhir.FhirPositiveInt({ value: x }, options));
        }
        else {
            this.procedureLinkId = [];
        }
        if (source['_procedureLinkId']) {
            source._procedureLinkId.forEach((x, i) => {
                if (this.procedureLinkId.length >= i) {
                    if (x) {
                        this.procedureLinkId[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.procedureLinkId.push(new fhir.FhirPositiveInt(x));
                    }
                }
            });
        }
        if (source['informationLinkId'] !== undefined) {
            this.informationLinkId = source.informationLinkId.map((x) => new fhir.FhirPositiveInt({ value: x }, options));
        }
        else {
            this.informationLinkId = [];
        }
        if (source['_informationLinkId']) {
            source._informationLinkId.forEach((x, i) => {
                if (this.informationLinkId.length >= i) {
                    if (x) {
                        this.informationLinkId[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.informationLinkId.push(new fhir.FhirPositiveInt(x));
                    }
                }
            });
        }
        if (source['revenue']) {
            this.revenue = new fhir.CodeableConcept(source.revenue, options);
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category, options);
        }
        if (source['service']) {
            this.service = new fhir.CodeableConcept(source.service, options);
        }
        if (source['modifier']) {
            this.modifier = source.modifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.modifier = [];
        }
        if (source['programCode']) {
            this.programCode = source.programCode.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.programCode = [];
        }
        if (source['serviced']) {
            this.serviced = source.serviced;
        }
        else if (source['servicedDate'] !== undefined) {
            this.serviced = new fhir.FhirDate({ value: source.servicedDate }, options);
        }
        else if (source['servicedPeriod']) {
            this.serviced = new fhir.Period(source.servicedPeriod, options);
        }
        if (source['location']) {
            this.location = source.location;
        }
        else if (source['locationCodeableConcept']) {
            this.location = new fhir.CodeableConcept(source.locationCodeableConcept, options);
        }
        else if (source['locationAddress']) {
            this.location = new fhir.Address(source.locationAddress, options);
        }
        else if (source['locationReference']) {
            this.location = new fhir.Reference(source.locationReference, options);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['unitPrice']) {
            this.unitPrice = new fhir.Money(source.unitPrice, options);
        }
        if (source['factor'] !== undefined) {
            this.factor = new fhir.FhirDecimal({ value: source.factor }, options);
        }
        if (source['_factor']) {
            if (this.factor) {
                this.factor.addExtendedProperties(source._factor);
            }
            else {
                this.factor = new fhir.FhirDecimal(source._factor, options);
            }
        }
        if (source['net']) {
            this.net = new fhir.Money(source.net, options);
        }
        if (source['udi']) {
            this.udi = source.udi.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.udi = [];
        }
        if (source['bodySite']) {
            this.bodySite = new fhir.CodeableConcept(source.bodySite, options);
        }
        if (source['subSite']) {
            this.subSite = source.subSite.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.subSite = [];
        }
        if (source['encounter']) {
            this.encounter = source.encounter.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.encounter = [];
        }
        if (source['detail']) {
            this.detail = source.detail.map((x) => new fhir.ClaimItemDetail(x, options));
        }
        else {
            this.detail = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim.item';
        }
        iss.push(...this.vRS('sequence', exp));
        iss.push(...this.vOA('careTeamLinkId', exp));
        iss.push(...this.vOA('diagnosisLinkId', exp));
        iss.push(...this.vOA('procedureLinkId', exp));
        iss.push(...this.vOA('informationLinkId', exp));
        iss.push(...this.vOS('revenue', exp));
        iss.push(...this.vOS('category', exp));
        iss.push(...this.vOS('service', exp));
        iss.push(...this.vOA('modifier', exp));
        iss.push(...this.vOA('programCode', exp));
        iss.push(...this.vOS('serviced', exp));
        iss.push(...this.vOS('location', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('unitPrice', exp));
        iss.push(...this.vOS('factor', exp));
        iss.push(...this.vOS('net', exp));
        iss.push(...this.vOA('udi', exp));
        iss.push(...this.vOS('bodySite', exp));
        iss.push(...this.vOA('subSite', exp));
        iss.push(...this.vOA('encounter', exp));
        iss.push(...this.vOA('detail', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ClaimItem._fts_dataType = 'ClaimItem';
/**
 * Internal flag to properly serialize choice-type element Claim.item.serviced[x]
 */
ClaimItem._fts_servicedIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Claim.item.location[x]
 */
ClaimItem._fts_locationIsChoice = true;
/**
 * A provider issued list of services and products provided, or to be provided, to a patient which is provided to an insurer for payment recovery.
 */
export class Claim extends fhir.DomainResource {
    /**
     * Default constructor for Claim - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Claim';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['subType']) {
            this.subType = source.subType.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.subType = [];
        }
        if (source['use'] !== undefined) {
            this.use = new fhir.FhirCode({ value: source.use }, options);
        }
        if (source['_use']) {
            if (this.use) {
                this.use.addExtendedProperties(source._use);
            }
            else {
                this.use = new fhir.FhirCode(source._use, options);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        if (source['billablePeriod']) {
            this.billablePeriod = new fhir.Period(source.billablePeriod, options);
        }
        if (source['created'] !== undefined) {
            this.created = new fhir.FhirDateTime({ value: source.created }, options);
        }
        if (source['_created']) {
            if (this.created) {
                this.created.addExtendedProperties(source._created);
            }
            else {
                this.created = new fhir.FhirDateTime(source._created, options);
            }
        }
        if (source['enterer']) {
            this.enterer = new fhir.Reference(source.enterer, options);
        }
        if (source['insurer']) {
            this.insurer = new fhir.Reference(source.insurer, options);
        }
        if (source['provider']) {
            this.provider = new fhir.Reference(source.provider, options);
        }
        if (source['organization']) {
            this.organization = new fhir.Reference(source.organization, options);
        }
        if (source['priority']) {
            this.priority = new fhir.CodeableConcept(source.priority, options);
        }
        if (source['fundsReserve']) {
            this.fundsReserve = new fhir.CodeableConcept(source.fundsReserve, options);
        }
        if (source['related']) {
            this.related = source.related.map((x) => new fhir.ClaimRelated(x, options));
        }
        else {
            this.related = [];
        }
        if (source['prescription']) {
            this.prescription = new fhir.Reference(source.prescription, options);
        }
        if (source['originalPrescription']) {
            this.originalPrescription = new fhir.Reference(source.originalPrescription, options);
        }
        if (source['payee']) {
            this.payee = new fhir.ClaimPayee(source.payee, options);
        }
        if (source['referral']) {
            this.referral = new fhir.Reference(source.referral, options);
        }
        if (source['facility']) {
            this.facility = new fhir.Reference(source.facility, options);
        }
        if (source['careTeam']) {
            this.careTeam = source.careTeam.map((x) => new fhir.ClaimCareTeam(x, options));
        }
        else {
            this.careTeam = [];
        }
        if (source['information']) {
            this.information = source.information.map((x) => new fhir.ClaimInformation(x, options));
        }
        else {
            this.information = [];
        }
        if (source['diagnosis']) {
            this.diagnosis = source.diagnosis.map((x) => new fhir.ClaimDiagnosis(x, options));
        }
        else {
            this.diagnosis = [];
        }
        if (source['procedure']) {
            this.procedure = source.procedure.map((x) => new fhir.ClaimProcedure(x, options));
        }
        else {
            this.procedure = [];
        }
        if (source['insurance']) {
            this.insurance = source.insurance.map((x) => new fhir.ClaimInsurance(x, options));
        }
        else {
            this.insurance = [];
        }
        if (source['accident']) {
            this.accident = new fhir.ClaimAccident(source.accident, options);
        }
        if (source['employmentImpacted']) {
            this.employmentImpacted = new fhir.Period(source.employmentImpacted, options);
        }
        if (source['hospitalization']) {
            this.hospitalization = new fhir.Period(source.hospitalization, options);
        }
        if (source['item']) {
            this.item = source.item.map((x) => new fhir.ClaimItem(x, options));
        }
        else {
            this.item = [];
        }
        if (source['total']) {
            this.total = new fhir.Money(source.total, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Claim';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOSV('status', exp, 'FmStatus', FmStatusVsValidation, 'r'));
        iss.push(...this.vOSV('type', exp, 'ClaimType', ClaimTypeVsValidation, 'r'));
        iss.push(...this.vOA('subType', exp));
        iss.push(...this.vOSV('use', exp, 'ClaimUse', ClaimUseVsValidation, 'r'));
        iss.push(...this.vOS('patient', exp));
        iss.push(...this.vOS('billablePeriod', exp));
        iss.push(...this.vOS('created', exp));
        iss.push(...this.vOS('enterer', exp));
        iss.push(...this.vOS('insurer', exp));
        iss.push(...this.vOS('provider', exp));
        iss.push(...this.vOS('organization', exp));
        iss.push(...this.vOS('priority', exp));
        iss.push(...this.vOS('fundsReserve', exp));
        iss.push(...this.vOA('related', exp));
        iss.push(...this.vOS('prescription', exp));
        iss.push(...this.vOS('originalPrescription', exp));
        iss.push(...this.vOS('payee', exp));
        iss.push(...this.vOS('referral', exp));
        iss.push(...this.vOS('facility', exp));
        iss.push(...this.vOA('careTeam', exp));
        iss.push(...this.vOA('information', exp));
        iss.push(...this.vOA('diagnosis', exp));
        iss.push(...this.vOA('procedure', exp));
        iss.push(...this.vOA('insurance', exp));
        iss.push(...this.vOS('accident', exp));
        iss.push(...this.vOS('employmentImpacted', exp));
        iss.push(...this.vOS('hospitalization', exp));
        iss.push(...this.vOA('item', exp));
        iss.push(...this.vOS('total', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Claim._fts_dataType = 'Claim';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xhaW0uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0NsYWltLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLHVCQUF1QjtBQUV2QixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQTRDbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLCtDQUErQyxDQUFDO0FBK0IxRixhQUFhO0FBQ2IsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFHaEYsYUFBYTtBQUNiLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBT2xGLGFBQWE7QUFDYixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQTJCaEY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sWUFBYSxTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUJwRDs7T0FFRztJQUNILFlBQVksU0FBbUMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDekYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUNoRixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUMzRyxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0s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QUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxF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QUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUN0RixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUN6RixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUNyRyxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUMvRixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FBRTtRQUMzRyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUs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U0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2hELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDN0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQS9ORDs7R0FFRztBQUM2QixtQkFBYSxHQUFVLE9BQU8sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yMy5jb3JlIHZlcnNpb246IDMuMC4yXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQ2xhaW1cclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlbGF0ZWRDbGFpbVJlbGF0aW9uc2hpcENvZGVzLCAgUmVsYXRlZENsYWltUmVsYXRpb25zaGlwQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlbGF0ZWRDbGFpbVJlbGF0aW9uc2hpcENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWxhdGVkQ2xhaW1SZWxhdGlvbnNoaXBWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlbGF0ZWRDbGFpbVJlbGF0aW9uc2hpcFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUGF5ZWV0eXBlQ29kZXMsICBQYXllZXR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGF5ZWV0eXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFBheWVldHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUGF5ZWV0eXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeFBheWVlUmVzb3VyY2VUeXBlQ29kZXMsICBFeFBheWVlUmVzb3VyY2VUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V4UGF5ZWVSZXNvdXJjZVR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXhQYXllZVJlc291cmNlVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhQYXllZVJlc291cmNlVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1DYXJldGVhbXJvbGVDb2RlcywgIENsYWltQ2FyZXRlYW1yb2xlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltQ2FyZXRlYW1yb2xlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltQ2FyZXRlYW1yb2xlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbUNhcmV0ZWFtcm9sZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUHJvdmlkZXJRdWFsaWZpY2F0aW9uQ29kZXMsICBQcm92aWRlclF1YWxpZmljYXRpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvdmlkZXJRdWFsaWZpY2F0aW9uQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb3ZpZGVyUXVhbGlmaWNhdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUHJvdmlkZXJRdWFsaWZpY2F0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbUluZm9ybWF0aW9uY2F0ZWdvcnlDb2RlcywgIENsYWltSW5mb3JtYXRpb25jYXRlZ29yeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbUluZm9ybWF0aW9uY2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1JbmZvcm1hdGlvbmNhdGVnb3J5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbUluZm9ybWF0aW9uY2F0ZWdvcnlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltRXhjZXB0aW9uQ29kZXMsICBDbGFpbUV4Y2VwdGlvbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbUV4Y2VwdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbUV4Y2VwdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1FeGNlcHRpb25Wc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1pc3NpbmdUb290aFJlYXNvbkNvZGVzLCAgTWlzc2luZ1Rvb3RoUmVhc29uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01pc3NpbmdUb290aFJlYXNvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNaXNzaW5nVG9vdGhSZWFzb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01pc3NpbmdUb290aFJlYXNvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXhEaWFnbm9zaXN0eXBlQ29kZXMsICBFeERpYWdub3Npc3R5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhEaWFnbm9zaXN0eXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV4RGlhZ25vc2lzdHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhEaWFnbm9zaXN0eXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBFeERpYWdub3Npc3JlbGF0ZWRncm91cENvZGVzLCAgRXhEaWFnbm9zaXNyZWxhdGVkZ3JvdXBDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhEaWFnbm9zaXNyZWxhdGVkZ3JvdXBDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXhEaWFnbm9zaXNyZWxhdGVkZ3JvdXBWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0V4RGlhZ25vc2lzcmVsYXRlZGdyb3VwVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWM0FjdEluY2lkZW50Q29kZXMsICBWM0FjdEluY2lkZW50Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1YzQWN0SW5jaWRlbnRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVjNBY3RJbmNpZGVudFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVjNBY3RJbmNpZGVudFZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXhSZXZlbnVlQ2VudGVyQ29kZXMsICBFeFJldmVudWVDZW50ZXJDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhSZXZlbnVlQ2VudGVyQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV4UmV2ZW51ZUNlbnRlclZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhSZXZlbnVlQ2VudGVyVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBCZW5lZml0U3ViY2F0ZWdvcnlDb2RlcywgIEJlbmVmaXRTdWJjYXRlZ29yeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9CZW5lZml0U3ViY2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQmVuZWZpdFN1YmNhdGVnb3J5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9CZW5lZml0U3ViY2F0ZWdvcnlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlcnZpY2VVc2Nsc0NvZGVzLCAgU2VydmljZVVzY2xzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlcnZpY2VVc2Nsc0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTZXJ2aWNlVXNjbHNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlcnZpY2VVc2Nsc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1Nb2RpZmllcnNDb2RlcywgIENsYWltTW9kaWZpZXJzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NsYWltTW9kaWZpZXJzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltTW9kaWZpZXJzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbU1vZGlmaWVyc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRXhQcm9ncmFtQ29kZXMsICBFeFByb2dyYW1Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhQcm9ncmFtQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEV4UHJvZ3JhbVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRXhQcm9ncmFtVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUb290aENvZGVzLCAgVG9vdGhDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVG9vdGhDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVG9vdGhWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Rvb3RoVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTdXJmYWNlQ29kZXMsICBTdXJmYWNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1N1cmZhY2VDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU3VyZmFjZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU3VyZmFjZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRm1TdGF0dXNDb2RlcywgIEZtU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0ZtU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZtU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9GbVN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1UeXBlQ29kZXMsICBDbGFpbVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1UeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1UeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbVN1YnR5cGVDb2RlcywgIENsYWltU3VidHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbVN1YnR5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ2xhaW1TdWJ0eXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbVN1YnR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENsYWltVXNlQ29kZXMsICBDbGFpbVVzZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9DbGFpbVVzZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDbGFpbVVzZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ2xhaW1Vc2VWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFByb2Nlc3NQcmlvcml0eUNvZGVzLCAgUHJvY2Vzc1ByaW9yaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2Nlc3NQcmlvcml0eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBQcm9jZXNzUHJpb3JpdHlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Byb2Nlc3NQcmlvcml0eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRnVuZHNyZXNlcnZlQ29kZXMsICBGdW5kc3Jlc2VydmVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRnVuZHNyZXNlcnZlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEZ1bmRzcmVzZXJ2ZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvRnVuZHNyZXNlcnZlVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltUmVsYXRlZCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbVJlbGF0ZWRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBEbyB3ZSBuZWVkIGEgcmVsYXRpb25zaGlwIGNvZGU/XHJcbiAgICovXHJcbiAgY2xhaW0/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBleGFtcGxlIHByaW9yIG9yIHVtYnJlbGxhLlxyXG4gICAqL1xyXG4gIHJlbGF0aW9uc2hpcD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gYWx0ZXJuYXRlIG9yZ2FuaXphdGlvbmFsIHJlZmVyZW5jZSB0byB0aGUgY2FzZSBvciBmaWxlIHRvIHdoaWNoIHRoaXMgcGFydGljdWxhciBjbGFpbSBwZXJ0YWlucyAtIGVnIFByb3BlcnR5L0Nhc3VhbHkgaW5zdXJlciBjbGFpbSAjIG9yIFdvcmtlcnMgQ29tcGVuc2F0aW9uIGNhc2UgIyAuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPdGhlciBjbGFpbXMgd2hpY2ggYXJlIHJlbGF0ZWQgdG8gdGhpcyBjbGFpbSBzdWNoIGFzIHByaW9yIGNsYWltIHZlcnNpb25zIG9yIGZvciByZWxhdGVkIHNlcnZpY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsYWltUmVsYXRlZCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsYWltUmVsYXRlZCc7XHJcbiAgLyoqXHJcbiAgICogRG8gd2UgbmVlZCBhIHJlbGF0aW9uc2hpcCBjb2RlP1xyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFpbT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSBwcmlvciBvciB1bWJyZWxsYS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVsYXRpb25zaGlwPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFsdGVybmF0ZSBvcmdhbml6YXRpb25hbCByZWZlcmVuY2UgdG8gdGhlIGNhc2Ugb3IgZmlsZSB0byB3aGljaCB0aGlzIHBhcnRpY3VsYXIgY2xhaW0gcGVydGFpbnMgLSBlZyBQcm9wZXJ0eS9DYXN1YWx5IGluc3VyZXIgY2xhaW0gIyBvciBXb3JrZXJzIENvbXBlbnNhdGlvbiBjYXNlICMgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcmVuY2U/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltUmVsYXRlZCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltUmVsYXRlZEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjbGFpbSddKSB7IHRoaXMuY2xhaW0gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmNsYWltLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVsYXRpb25zaGlwJ10pIHsgdGhpcy5yZWxhdGlvbnNoaXAgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJlbGF0aW9uc2hpcCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZSddKSB7IHRoaXMucmVmZXJlbmNlID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UucmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsYWltLnJlbGF0ZWQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjbGFpbScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVsYXRpb25zaGlwJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZWZlcmVuY2UnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltUGF5ZWUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xhaW1QYXllZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgUGFydHkgdG8gYmUgcmVpbWJ1cnNlZDogU3Vic2NyaWJlciwgcHJvdmlkZXIsIG90aGVyLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIG9yZ2FuaXphdGlvbiB8IHBhdGllbnQgfCBwcmFjdGl0aW9uZXIgfCByZWxhdGVkcGVyc29uLlxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZT86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGFydHkgdG8gYmUgcmVpbWJ1cnNlZDogU3Vic2NyaWJlciwgcHJvdmlkZXIsIG90aGVyLlxyXG4gICAqL1xyXG4gIHBhcnR5PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwYXJ0eSB0byBiZSByZWltYnVyc2VkIGZvciB0aGUgc2VydmljZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1QYXllZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsYWltUGF5ZWUnO1xyXG4gIC8qKlxyXG4gICAqIFR5cGUgb2YgUGFydHkgdG8gYmUgcmVpbWJ1cnNlZDogU3Vic2NyaWJlciwgcHJvdmlkZXIsIG90aGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIG9yZ2FuaXphdGlvbiB8IHBhdGllbnQgfCBwcmFjdGl0aW9uZXIgfCByZWxhdGVkcGVyc29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNvdXJjZVR5cGU/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUGFydHkgdG8gYmUgcmVpbWJ1cnNlZDogU3Vic2NyaWJlciwgcHJvdmlkZXIsIG90aGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXJ0eT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGFpbVBheWVlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xhaW1QYXllZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc291cmNlVHlwZSddKSB7IHRoaXMucmVzb3VyY2VUeXBlID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5yZXNvdXJjZVR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0eSddKSB7IHRoaXMucGFydHkgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhcnR5LCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsYWltLnBheWVlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVzb3VyY2VUeXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwYXJ0eScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xhaW1DYXJlVGVhbSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbUNhcmVUZWFtQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2Ugb2YgdGhlIGNhcmVUZWFtIHdoaWNoIHNlcnZlcyB0byBvcmRlciBhbmQgcHJvdmlkZSBhIGxpbmsuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLmNhcmVUZWFtLnNlcXVlbmNlXHJcbiAgICovXHJcbiAgX3NlcXVlbmNlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBNZW1iZXIgb2YgdGhlIHRlYW0gd2hvIHByb3ZpZGVkIHRoZSBvdmVyYWxsIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHJvdmlkZXI6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJ0eSB3aG8gaXMgYmlsbGluZyBhbmQgcmVzcG9uc2libGUgZm9yIHRoZSBjbGFpbWVkIGdvb2Qgb3Igc2VydmljZSByZW5kZXJlZCB0byB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICByZXNwb25zaWJsZT86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLmNhcmVUZWFtLnJlc3BvbnNpYmxlXHJcbiAgICovXHJcbiAgX3Jlc3BvbnNpYmxlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgbGVhZCwgYXNzaXN0aW5nIG9yIHN1cGVydmlzaW5nIHByYWN0aXRpb25lciBhbmQgdGhlaXIgZGlzY2lwbGluZSBpZiBhIG11bHRpZGlzaXBsaW5hcnkgdGVhbS5cclxuICAgKi9cclxuICByb2xlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbGlmaWNhdGlvbiB3aGljaCBpcyBhcHBsaWNhYmxlIGZvciB0aGlzIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcXVhbGlmaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgbWVtYmVycyBvZiB0aGUgdGVhbSB3aG8gcHJvdmlkZWQgdGhlIG92ZXJhbGwgc2VydmljZSBhcyB3ZWxsIGFzIHRoZWlyIHJvbGUgYW5kIHdoZXRoZXIgcmVzcG9uc2libGUgYW5kIHF1YWxpZmljYXRpb25zLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsYWltQ2FyZVRlYW0gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbUNhcmVUZWFtJztcclxuICAvKipcclxuICAgKiBTZXF1ZW5jZSBvZiB0aGUgY2FyZVRlYW0gd2hpY2ggc2VydmVzIHRvIG9yZGVyIGFuZCBwcm92aWRlIGEgbGluay5cclxuICAgKi9cclxuICBwdWJsaWMgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bGw7XHJcbiAgLyoqXHJcbiAgICogTWVtYmVyIG9mIHRoZSB0ZWFtIHdobyBwcm92aWRlZCB0aGUgb3ZlcmFsbCBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm92aWRlcjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGFydHkgd2hvIGlzIGJpbGxpbmcgYW5kIHJlc3BvbnNpYmxlIGZvciB0aGUgY2xhaW1lZCBnb29kIG9yIHNlcnZpY2UgcmVuZGVyZWQgdG8gdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc3BvbnNpYmxlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxlYWQsIGFzc2lzdGluZyBvciBzdXBlcnZpc2luZyBwcmFjdGl0aW9uZXIgYW5kIHRoZWlyIGRpc2NpcGxpbmUgaWYgYSBtdWx0aWRpc2lwbGluYXJ5IHRlYW0uXHJcbiAgICovXHJcbiAgcHVibGljIHJvbGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YWxpZmljYXRpb24gd2hpY2ggaXMgYXBwbGljYWJsZSBmb3IgdGhpcyBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFsaWZpY2F0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltQ2FyZVRlYW0gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGFpbUNhcmVUZWFtQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NlcXVlbmNlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLnNlcXVlbmNlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NlcXVlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2VxdWVuY2UpIHsgdGhpcy5zZXF1ZW5jZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXF1ZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHNvdXJjZS5fc2VxdWVuY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJQb3NpdGl2ZUludEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvdmlkZXInXSkgeyB0aGlzLnByb3ZpZGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wcm92aWRlciwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb3ZpZGVyID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzcG9uc2libGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucmVzcG9uc2libGUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5yZXNwb25zaWJsZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVzcG9uc2libGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZXNwb25zaWJsZSkgeyB0aGlzLnJlc3BvbnNpYmxlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3Jlc3BvbnNpYmxlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVzcG9uc2libGUgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX3Jlc3BvbnNpYmxlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncm9sZSddKSB7IHRoaXMucm9sZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uucm9sZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3F1YWxpZmljYXRpb24nXSkgeyB0aGlzLnF1YWxpZmljYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnF1YWxpZmljYXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xhaW0uY2FyZVRlYW0nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzZXF1ZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncHJvdmlkZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3Jlc3BvbnNpYmxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyb2xlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdxdWFsaWZpY2F0aW9uJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGFpbUluZm9ybWF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltSW5mb3JtYXRpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTZXF1ZW5jZSBvZiB0aGUgaW5mb3JtYXRpb24gZWxlbWVudCB3aGljaCBzZXJ2ZXMgdG8gcHJvdmlkZSBhIGxpbmsuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLmluZm9ybWF0aW9uLnNlcXVlbmNlXHJcbiAgICovXHJcbiAgX3NlcXVlbmNlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBjb250YWluIHRoZSBsb2NhbCBiaWxsIHR5cGUgY29kZXMgc3VjaCBhcyB0aGUgVVMgVUItMDQgYmlsbCB0eXBlIGNvZGUuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWF5IGNvbnRhaW4gdGhlIGxvY2FsIGJpbGwgdHlwZSBjb2RlcyBzdWNoIGFzIHRoZSBVUyBVQi0wNCBiaWxsIHR5cGUgY29kZS5cclxuICAgKi9cclxuICBjb2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIG9yIHBlcmlvZCB0byB3aGljaCB0aGlzIGluZm9ybWF0aW9uIHJlZmVycy5cclxuICAgKi9cclxuICB0aW1pbmc/OiBmaGlyLkZoaXJEYXRlfGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIG9yIHBlcmlvZCB0byB3aGljaCB0aGlzIGluZm9ybWF0aW9uIHJlZmVycy5cclxuICAgKi9cclxuICB0aW1pbmdEYXRlPzogZmhpci5GaGlyRGF0ZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gb3IgcGVyaW9kIHRvIHdoaWNoIHRoaXMgaW5mb3JtYXRpb24gcmVmZXJzLlxyXG4gICAqL1xyXG4gIHRpbWluZ1BlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBkYXRhIG9yIGluZm9ybWF0aW9uIHN1Y2ggYXMgcmVzb3VyY2VzLCBkb2N1bWVudHMsIGltYWdlcyBldGMuIGluY2x1ZGluZyByZWZlcmVuY2VzIHRvIHRoZSBkYXRhIG9yIHRoZSBhY3R1YWwgaW5jbHVzaW9uIG9mIHRoZSBkYXRhLlxyXG4gICAqL1xyXG4gIHZhbHVlPzogZmhpci5GaGlyU3RyaW5nfGZoaXIuUXVhbnRpdHl8Zmhpci5BdHRhY2htZW50fGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIGRhdGEgb3IgaW5mb3JtYXRpb24gc3VjaCBhcyByZXNvdXJjZXMsIGRvY3VtZW50cywgaW1hZ2VzIGV0Yy4gaW5jbHVkaW5nIHJlZmVyZW5jZXMgdG8gdGhlIGRhdGEgb3IgdGhlIGFjdHVhbCBpbmNsdXNpb24gb2YgdGhlIGRhdGEuXHJcbiAgICovXHJcbiAgdmFsdWVTdHJpbmc/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIGRhdGEgb3IgaW5mb3JtYXRpb24gc3VjaCBhcyByZXNvdXJjZXMsIGRvY3VtZW50cywgaW1hZ2VzIGV0Yy4gaW5jbHVkaW5nIHJlZmVyZW5jZXMgdG8gdGhlIGRhdGEgb3IgdGhlIGFjdHVhbCBpbmNsdXNpb24gb2YgdGhlIGRhdGEuXHJcbiAgICovXHJcbiAgdmFsdWVRdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIGRhdGEgb3IgaW5mb3JtYXRpb24gc3VjaCBhcyByZXNvdXJjZXMsIGRvY3VtZW50cywgaW1hZ2VzIGV0Yy4gaW5jbHVkaW5nIHJlZmVyZW5jZXMgdG8gdGhlIGRhdGEgb3IgdGhlIGFjdHVhbCBpbmNsdXNpb24gb2YgdGhlIGRhdGEuXHJcbiAgICovXHJcbiAgdmFsdWVBdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBkYXRhIG9yIGluZm9ybWF0aW9uIHN1Y2ggYXMgcmVzb3VyY2VzLCBkb2N1bWVudHMsIGltYWdlcyBldGMuIGluY2x1ZGluZyByZWZlcmVuY2VzIHRvIHRoZSBkYXRhIG9yIHRoZSBhY3R1YWwgaW5jbHVzaW9uIG9mIHRoZSBkYXRhLlxyXG4gICAqL1xyXG4gIHZhbHVlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgcHJvdmlkZXMgdGhlIHJlYXNvbiBmb3I6IHRoZSBhZGRpdGlvbmFsIHN0YXksIG9yIG1pc3NpbmcgdG9vdGggb3IgYW55IG90aGVyIHNpdHVhdGlvbiB3aGVyZSBhIHJlYXNvbiBjb2RlIGlzIHJlcXVpcmVkIGluIGFkZGl0aW9uIHRvIHRoZSBjb250ZW50LlxyXG4gICAqL1xyXG4gIHJlYXNvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIGNvZGVzIHJlZ2FyZGluZyBleGNlcHRpb25zLCBzcGVjaWFsIGNvbnNpZGVyYXRpb25zLCB0aGUgY29uZGl0aW9uLCBzaXR1YXRpb24sIHByaW9yIG9yIGNvbmN1cnJlbnQgaXNzdWVzLiBPZnRlbiB0aGVyZSBhcmUgbXV0aXBsZSBqdXJpc2RpY3Rpb24gc3BlY2lmaWMgdmFsdWVzZXRzIHdoaWNoIGFyZSByZXF1aXJlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGFpbUluZm9ybWF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xhaW1JbmZvcm1hdGlvbic7XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2Ugb2YgdGhlIGluZm9ybWF0aW9uIGVsZW1lbnQgd2hpY2ggc2VydmVzIHRvIHByb3ZpZGUgYSBsaW5rLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBjb250YWluIHRoZSBsb2NhbCBiaWxsIHR5cGUgY29kZXMgc3VjaCBhcyB0aGUgVVMgVUItMDQgYmlsbCB0eXBlIGNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdGVnb3J5OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWF5IGNvbnRhaW4gdGhlIGxvY2FsIGJpbGwgdHlwZSBjb2RlcyBzdWNoIGFzIHRoZSBVUyBVQi0wNCBiaWxsIHR5cGUgY29kZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIG9yIHBlcmlvZCB0byB3aGljaCB0aGlzIGluZm9ybWF0aW9uIHJlZmVycy5cclxuICAgKi9cclxuICBwdWJsaWMgdGltaW5nPzogKGZoaXIuRmhpckRhdGV8Zmhpci5QZXJpb2QpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsYWltLmluZm9ybWF0aW9uLnRpbWluZ1t4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c190aW1pbmdJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIGRhdGEgb3IgaW5mb3JtYXRpb24gc3VjaCBhcyByZXNvdXJjZXMsIGRvY3VtZW50cywgaW1hZ2VzIGV0Yy4gaW5jbHVkaW5nIHJlZmVyZW5jZXMgdG8gdGhlIGRhdGEgb3IgdGhlIGFjdHVhbCBpbmNsdXNpb24gb2YgdGhlIGRhdGEuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlPzogKGZoaXIuRmhpclN0cmluZ3xmaGlyLlF1YW50aXR5fGZoaXIuQXR0YWNobWVudHxmaGlyLlJlZmVyZW5jZSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ2xhaW0uaW5mb3JtYXRpb24udmFsdWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdmFsdWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBGb3IgZXhhbXBsZSwgcHJvdmlkZXMgdGhlIHJlYXNvbiBmb3I6IHRoZSBhZGRpdGlvbmFsIHN0YXksIG9yIG1pc3NpbmcgdG9vdGggb3IgYW55IG90aGVyIHNpdHVhdGlvbiB3aGVyZSBhIHJlYXNvbiBjb2RlIGlzIHJlcXVpcmVkIGluIGFkZGl0aW9uIHRvIHRoZSBjb250ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1JbmZvcm1hdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltSW5mb3JtYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2VxdWVuY2UnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc2VxdWVuY2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5zZXF1ZW5jZSkgeyB0aGlzLnNlcXVlbmNlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3NlcXVlbmNlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoc291cmNlLl9zZXF1ZW5jZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclBvc2l0aXZlSW50QXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjYXRlZ29yeSddKSB7IHRoaXMuY2F0ZWdvcnkgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNhdGVnb3J5LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2F0ZWdvcnkgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jb2RlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGltaW5nJ10pIHsgdGhpcy50aW1pbmcgPSBzb3VyY2UudGltaW5nOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3RpbWluZ0RhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudGltaW5nID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UudGltaW5nRGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3RpbWluZ1BlcmlvZCddKSB7IHRoaXMudGltaW5nID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS50aW1pbmdQZXJpb2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBzb3VyY2UudmFsdWU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVTdHJpbmcnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlU3RyaW5nfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVRdWFudGl0eSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UudmFsdWVRdWFudGl0eSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVBdHRhY2htZW50J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkF0dGFjaG1lbnQoc291cmNlLnZhbHVlQXR0YWNobWVudCwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVSZWZlcmVuY2UnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS52YWx1ZVJlZmVyZW5jZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbiddKSB7IHRoaXMucmVhc29uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZWFzb24sIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ2xhaW0uaW5mb3JtYXRpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzZXF1ZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnY2F0ZWdvcnknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NvZGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3RpbWluZycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndmFsdWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlYXNvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xhaW1EaWFnbm9zaXMgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xhaW1EaWFnbm9zaXNBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBTZXF1ZW5jZSBvZiBkaWFnbm9zaXMgd2hpY2ggc2VydmVzIHRvIHByb3ZpZGUgYSBsaW5rLlxyXG4gICAqL1xyXG4gIHNlcXVlbmNlOiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDbGFpbS5kaWFnbm9zaXMuc2VxdWVuY2VcclxuICAgKi9cclxuICBfc2VxdWVuY2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkaWFnbm9zaXMuXHJcbiAgICovXHJcbiAgZGlhZ25vc2lzPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkaWFnbm9zaXMuXHJcbiAgICovXHJcbiAgZGlhZ25vc2lzQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGlhZ25vc2lzLlxyXG4gICAqL1xyXG4gIGRpYWdub3Npc1JlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGlhZ25vc2lzIGFyZSBwcmVzZW50ZWQgaW4gbGlzdCBvcmRlciB0byB0aGVpciBleHBlY3RlZCBpbXBvcnRhbmNlOiBwcmltYXJ5LCBzZWNvbmRhcnksIGV0Yy5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYWNrYWdlIGJpbGxpbmcgY29kZSwgZm9yIGV4YW1wbGUgRFJHLCBiYXNlZCBvbiB0aGUgYXNzaWduZWQgZ3JvdXBpbmcgY29kZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgcGFja2FnZUNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdCBvZiBwYXRpZW50IGRpYWdub3NpcyBmb3Igd2hpY2ggY2FyZSBpcyBzb3VnaHQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1EaWFnbm9zaXMgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbURpYWdub3Npcyc7XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2Ugb2YgZGlhZ25vc2lzIHdoaWNoIHNlcnZlcyB0byBwcm92aWRlIGEgbGluay5cclxuICAgKi9cclxuICBwdWJsaWMgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRpYWdub3Npcy5cclxuICAgKi9cclxuICBwdWJsaWMgZGlhZ25vc2lzOiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDbGFpbS5kaWFnbm9zaXMuZGlhZ25vc2lzW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2RpYWdub3Npc0lzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIERpYWdub3NpcyBhcmUgcHJlc2VudGVkIGluIGxpc3Qgb3JkZXIgdG8gdGhlaXIgZXhwZWN0ZWQgaW1wb3J0YW5jZTogcHJpbWFyeSwgc2Vjb25kYXJ5LCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhY2thZ2UgYmlsbGluZyBjb2RlLCBmb3IgZXhhbXBsZSBEUkcsIGJhc2VkIG9uIHRoZSBhc3NpZ25lZCBncm91cGluZyBjb2RlIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgcGFja2FnZUNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1EaWFnbm9zaXMgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGFpbURpYWdub3Npc0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzZXF1ZW5jZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zZXF1ZW5jZSA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHNvdXJjZS5zZXF1ZW5jZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXF1ZW5jZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zZXF1ZW5jZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNlcXVlbmNlKSB7IHRoaXMuc2VxdWVuY2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc2VxdWVuY2UhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zZXF1ZW5jZSA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludChzb3VyY2UuX3NlcXVlbmNlIGFzIFBhcnRpYWw8Zmhpci5GaGlyUG9zaXRpdmVJbnRBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RpYWdub3NpcyddKSB7IHRoaXMuZGlhZ25vc2lzID0gc291cmNlLmRpYWdub3NpczsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydkaWFnbm9zaXNDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLmRpYWdub3NpcyA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZGlhZ25vc2lzQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydkaWFnbm9zaXNSZWZlcmVuY2UnXSkgeyB0aGlzLmRpYWdub3NpcyA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZGlhZ25vc2lzUmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGlhZ25vc2lzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IHNvdXJjZS50eXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwYWNrYWdlQ29kZSddKSB7IHRoaXMucGFja2FnZUNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnBhY2thZ2VDb2RlLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsYWltLmRpYWdub3NpcycgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3NlcXVlbmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdkaWFnbm9zaXMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BhY2thZ2VDb2RlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGFpbVByb2NlZHVyZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbVByb2NlZHVyZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFNlcXVlbmNlIG9mIHByb2NlZHVyZXMgd2hpY2ggc2VydmVzIHRvIG9yZGVyIGFuZCBwcm92aWRlIGEgbGluay5cclxuICAgKi9cclxuICBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0ucHJvY2VkdXJlLnNlcXVlbmNlXHJcbiAgICovXHJcbiAgX3NlcXVlbmNlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBTQiBEYXRlVGltZT8/XHJcbiAgICovXHJcbiAgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLnByb2NlZHVyZS5kYXRlXHJcbiAgICovXHJcbiAgX2RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9jZWR1cmUgY29kZS5cclxuICAgKi9cclxuICBwcm9jZWR1cmU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2NlZHVyZSBjb2RlLlxyXG4gICAqL1xyXG4gIHByb2NlZHVyZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2NlZHVyZSBjb2RlLlxyXG4gICAqL1xyXG4gIHByb2NlZHVyZVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPcmRlcmVkIGxpc3Qgb2YgcGF0aWVudCBwcm9jZWR1cmVzIHBlcmZvcm1lZCB0byBzdXBwb3J0IHRoZSBhZGp1ZGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1Qcm9jZWR1cmUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbVByb2NlZHVyZSc7XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2Ugb2YgcHJvY2VkdXJlcyB3aGljaCBzZXJ2ZXMgdG8gb3JkZXIgYW5kIHByb3ZpZGUgYSBsaW5rLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBTQiBEYXRlVGltZT8/XHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2NlZHVyZSBjb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9jZWR1cmU6IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsYWltLnByb2NlZHVyZS5wcm9jZWR1cmVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfcHJvY2VkdXJlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1Qcm9jZWR1cmUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGFpbVByb2NlZHVyZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzZXF1ZW5jZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zZXF1ZW5jZSA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHNvdXJjZS5zZXF1ZW5jZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXF1ZW5jZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zZXF1ZW5jZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNlcXVlbmNlKSB7IHRoaXMuc2VxdWVuY2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc2VxdWVuY2UhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zZXF1ZW5jZSA9IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludChzb3VyY2UuX3NlcXVlbmNlIGFzIFBhcnRpYWw8Zmhpci5GaGlyUG9zaXRpdmVJbnRBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZSkgeyB0aGlzLmRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2NlZHVyZSddKSB7IHRoaXMucHJvY2VkdXJlID0gc291cmNlLnByb2NlZHVyZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydwcm9jZWR1cmVDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLnByb2NlZHVyZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucHJvY2VkdXJlQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydwcm9jZWR1cmVSZWZlcmVuY2UnXSkgeyB0aGlzLnByb2NlZHVyZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucHJvY2VkdXJlUmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvY2VkdXJlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsYWltLnByb2NlZHVyZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3NlcXVlbmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkYXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdwcm9jZWR1cmUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltSW5zdXJhbmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltSW5zdXJhbmNlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2Ugb2YgY292ZXJhZ2Ugd2hpY2ggc2VydmVzIHRvIHByb3ZpZGUgYSBsaW5rIGFuZCBjb252ZXkgY29vcmRpbmF0aW9uIG9mIGJlbmVmaXQgb3JkZXIuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLmluc3VyYW5jZS5zZXF1ZW5jZVxyXG4gICAqL1xyXG4gIF9zZXF1ZW5jZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgdGhpcyBDb3ZlcmFnZSBpcyB0aGUgZm9jdXMgZm9yIGFkanVkaWNhdGlvbi4gVGhlIENvdmVyYWdlIGFnYWluc3Qgd2hpY2ggdGhlIGNsYWltIGlzIHRvIGJlIGFkanVkaWNhdGVkLlxyXG4gICAqL1xyXG4gIGZvY2FsOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDbGFpbS5pbnN1cmFuY2UuZm9jYWxcclxuICAgKi9cclxuICBfZm9jYWw/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFJlZmVyZW5jZSB0byB0aGUgcHJvZ3JhbSBvciBwbGFuIGlkZW50aWZpY2F0aW9uLCB1bmRlcndyaXRlciBvciBwYXlvci5cclxuICAgKi9cclxuICBjb3ZlcmFnZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvbnRyYWN0IG51bWJlciBvZiBhIGJ1c2luZXNzIGFncmVlbWVudCB3aGljaCBkZXNjcmliZXMgdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zLlxyXG4gICAqL1xyXG4gIGJ1c2luZXNzQXJyYW5nZW1lbnQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0uaW5zdXJhbmNlLmJ1c2luZXNzQXJyYW5nZW1lbnRcclxuICAgKi9cclxuICBfYnVzaW5lc3NBcnJhbmdlbWVudD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIHJlZmVyZW5jZXMgZnJvbSB0aGUgSW5zdXJlciB0byB3aGljaCB0aGVzZSBzZXJ2aWNlcyBwZXJ0YWluLlxyXG4gICAqL1xyXG4gIHByZUF1dGhSZWY/OiBmaGlyLkZoaXJTdHJpbmdbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDbGFpbS5pbnN1cmFuY2UucHJlQXV0aFJlZlxyXG4gICAqL1xyXG4gIF9wcmVBdXRoUmVmPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBUaGUgQ292ZXJhZ2VzIGFkanVkaWNhdGlvbiBkZXRhaWxzLlxyXG4gICAqL1xyXG4gIGNsYWltUmVzcG9uc2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRmluYW5jaWFsIGluc3RydW1lbnQgYnkgd2hpY2ggcGF5bWVudCBpbmZvcm1hdGlvbiBmb3IgaGVhbHRoIGNhcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1JbnN1cmFuY2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbUluc3VyYW5jZSc7XHJcbiAgLyoqXHJcbiAgICogU2VxdWVuY2Ugb2YgY292ZXJhZ2Ugd2hpY2ggc2VydmVzIHRvIHByb3ZpZGUgYSBsaW5rIGFuZCBjb252ZXkgY29vcmRpbmF0aW9uIG9mIGJlbmVmaXQgb3JkZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcXVlbmNlOiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB0aGF0IHRoaXMgQ292ZXJhZ2UgaXMgdGhlIGZvY3VzIGZvciBhZGp1ZGljYXRpb24uIFRoZSBDb3ZlcmFnZSBhZ2FpbnN0IHdoaWNoIHRoZSBjbGFpbSBpcyB0byBiZSBhZGp1ZGljYXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZm9jYWw6IGZoaXIuRmhpckJvb2xlYW58bnVsbDtcclxuICAvKipcclxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIHByb2dyYW0gb3IgcGxhbiBpZGVudGlmaWNhdGlvbiwgdW5kZXJ3cml0ZXIgb3IgcGF5b3IuXHJcbiAgICovXHJcbiAgcHVibGljIGNvdmVyYWdlOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb250cmFjdCBudW1iZXIgb2YgYSBidXNpbmVzcyBhZ3JlZW1lbnQgd2hpY2ggZGVzY3JpYmVzIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgYnVzaW5lc3NBcnJhbmdlbWVudD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIHJlZmVyZW5jZXMgZnJvbSB0aGUgSW5zdXJlciB0byB3aGljaCB0aGVzZSBzZXJ2aWNlcyBwZXJ0YWluLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmVBdXRoUmVmOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBUaGUgQ292ZXJhZ2VzIGFkanVkaWNhdGlvbiBkZXRhaWxzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGFpbVJlc3BvbnNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltSW5zdXJhbmNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xhaW1JbnN1cmFuY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2VxdWVuY2UnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc2VxdWVuY2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5zZXF1ZW5jZSkgeyB0aGlzLnNlcXVlbmNlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3NlcXVlbmNlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoc291cmNlLl9zZXF1ZW5jZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclBvc2l0aXZlSW50QXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydmb2NhbCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5mb2NhbCA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmZvY2FsfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZvY2FsID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2ZvY2FsJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZm9jYWwpIHsgdGhpcy5mb2NhbC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9mb2NhbCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZvY2FsID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9mb2NhbCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvdmVyYWdlJ10pIHsgdGhpcy5jb3ZlcmFnZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuY292ZXJhZ2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb3ZlcmFnZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ2J1c2luZXNzQXJyYW5nZW1lbnQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuYnVzaW5lc3NBcnJhbmdlbWVudCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYnVzaW5lc3NBcnJhbmdlbWVudH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYnVzaW5lc3NBcnJhbmdlbWVudCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmJ1c2luZXNzQXJyYW5nZW1lbnQpIHsgdGhpcy5idXNpbmVzc0FycmFuZ2VtZW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2J1c2luZXNzQXJyYW5nZW1lbnQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5idXNpbmVzc0FycmFuZ2VtZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2J1c2luZXNzQXJyYW5nZW1lbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ByZUF1dGhSZWYnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucHJlQXV0aFJlZiA9IHNvdXJjZS5wcmVBdXRoUmVmLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByZUF1dGhSZWYgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ByZUF1dGhSZWYnXSkge1xyXG4gICAgICBzb3VyY2UuX3ByZUF1dGhSZWYuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJlQXV0aFJlZi5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLnByZUF1dGhSZWZbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5wcmVBdXRoUmVmLnB1c2gobmV3IGZoaXIuRmhpclN0cmluZyh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2xhaW1SZXNwb25zZSddKSB7IHRoaXMuY2xhaW1SZXNwb25zZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuY2xhaW1SZXNwb25zZSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGFpbS5pbnN1cmFuY2UnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzZXF1ZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnZm9jYWwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2NvdmVyYWdlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdidXNpbmVzc0FycmFuZ2VtZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwcmVBdXRoUmVmJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjbGFpbVJlc3BvbnNlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDbGFpbUFjY2lkZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltQWNjaWRlbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBEYXRlIG9mIGFuIGFjY2lkZW50IHdoaWNoIHRoZXNlIHNlcnZpY2VzIGFyZSBhZGRyZXNzaW5nLlxyXG4gICAqL1xyXG4gIGRhdGU6IGZoaXIuRmhpckRhdGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0uYWNjaWRlbnQuZGF0ZVxyXG4gICAqL1xyXG4gIF9kYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUeXBlIG9mIGFjY2lkZW50OiB3b3JrLCBhdXRvLCBldGMuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWNjaWRlbnQgUGxhY2UuXHJcbiAgICovXHJcbiAgbG9jYXRpb24/OiBmaGlyLkFkZHJlc3N8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFjY2lkZW50IFBsYWNlLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uQWRkcmVzcz86IGZoaXIuQWRkcmVzc0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFjY2lkZW50IFBsYWNlLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFuIGFjY2lkZW50IHdoaWNoIHJlc3VsdGVkIGluIHRoZSBuZWVkIGZvciBoZWFsdGhjYXJlIHNlcnZpY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsYWltQWNjaWRlbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDbGFpbUFjY2lkZW50JztcclxuICAvKipcclxuICAgKiBEYXRlIG9mIGFuIGFjY2lkZW50IHdoaWNoIHRoZXNlIHNlcnZpY2VzIGFyZSBhZGRyZXNzaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlOiBmaGlyLkZoaXJEYXRlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVHlwZSBvZiBhY2NpZGVudDogd29yaywgYXV0bywgZXRjLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFjY2lkZW50IFBsYWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb2NhdGlvbj86IChmaGlyLkFkZHJlc3N8Zmhpci5SZWZlcmVuY2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsYWltLmFjY2lkZW50LmxvY2F0aW9uW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2xvY2F0aW9uSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1BY2NpZGVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENsYWltQWNjaWRlbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kYXRlID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2UuZGF0ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlKHNvdXJjZS5fZGF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydsb2NhdGlvbiddKSB7IHRoaXMubG9jYXRpb24gPSBzb3VyY2UubG9jYXRpb247IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnbG9jYXRpb25BZGRyZXNzJ10pIHsgdGhpcy5sb2NhdGlvbiA9IG5ldyBmaGlyLkFkZHJlc3Moc291cmNlLmxvY2F0aW9uQWRkcmVzcywgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnbG9jYXRpb25SZWZlcmVuY2UnXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5sb2NhdGlvblJlZmVyZW5jZSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGFpbS5hY2NpZGVudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2RhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCd0eXBlJyxleHAsJ1YzQWN0SW5jaWRlbnQnLFYzQWN0SW5jaWRlbnRWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbG9jYXRpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltSXRlbURldGFpbFN1YkRldGFpbCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbUl0ZW1EZXRhaWxTdWJEZXRhaWxBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIHNlcnZpY2UgbGluZSBudW1iZXIuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLml0ZW0uZGV0YWlsLnN1YkRldGFpbC5zZXF1ZW5jZVxyXG4gICAqL1xyXG4gIF9zZXF1ZW5jZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgcmV2ZW5ldSBvciBjb3N0IGNlbnRlciBwcm92aWRpbmcgdGhlIHByb2R1Y3QgYW5kL29yIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcmV2ZW51ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSGVhbHRoIENhcmUgU2VydmljZSBUeXBlIENvZGVzICB0byBpZGVudGlmeSB0aGUgY2xhc3NpZmljYXRpb24gb2Ygc2VydmljZSBvciBiZW5lZml0cy5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRvIGluZGljYXRlIHRoZSBQcm9mZXNzaW9uYWwgU2VydmljZSBvciBQcm9kdWN0IHN1cHBsaWVkIChlZy4gQ1RQLCBIQ1BDUyxVU0NMUyxJQ0QxMCwgTkNQRFAsRElOLEFDSEksQ0NJKS5cclxuICAgKi9cclxuICBzZXJ2aWNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdGVtIHR5cGlmaWNhdGlvbiBvciBtb2RpZmllcnMgY29kZXMsIGVnIGZvciBPcmFsIHdoZXRoZXIgdGhlIHRyZWF0bWVudCBpcyBjb3NtZXRpYyBvciBhc3NvY2lhdGVkIHdpdGggVE1KLCBvciBmb3IgbWVkaWNhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgd2FzIG91dHNpZGUgdGhlIGNsaW5pYyBvciBvdXQgb2Ygb2ZmaWNlIGhvdXJzLlxyXG4gICAqL1xyXG4gIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBwcm9ncmFtcyB3aGljaCByZXF1aXJlIHJlc29uIGNvZGVzIGZvciB0aGUgaW5jbHVzaW9uLCBjb3ZlcmluZywgb2YgdGhpcyBiaWxsZWQgaXRlbSB1bmRlciB0aGUgcHJvZ3JhbSBvciBzdWItcHJvZ3JhbS5cclxuICAgKi9cclxuICBwcm9ncmFtQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHJlcGV0aXRpb25zIG9mIGEgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmZWUgZm9yIGFuIGFkZGl0dGlvbmFsIHNlcnZpY2Ugb3IgcHJvZHVjdCBvciBjaGFyZ2UuXHJcbiAgICovXHJcbiAgdW5pdFByaWNlPzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVhbCBudW1iZXIgdGhhdCByZXByZXNlbnRzIGEgbXVsdGlwbGllciB1c2VkIGluIGRldGVybWluaW5nIHRoZSBvdmVyYWxsIHZhbHVlIG9mIHNlcnZpY2VzIGRlbGl2ZXJlZCBhbmQvb3IgZ29vZHMgcmVjZWl2ZWQuIFRoZSBjb25jZXB0IG9mIGEgRmFjdG9yIGFsbG93cyBmb3IgYSBkaXNjb3VudCBvciBzdXJjaGFyZ2UgbXVsdGlwbGllciB0byBiZSBhcHBsaWVkIHRvIGEgbW9uZXRhcnkgYW1vdW50LlxyXG4gICAqL1xyXG4gIGZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0uaXRlbS5kZXRhaWwuc3ViRGV0YWlsLmZhY3RvclxyXG4gICAqL1xyXG4gIF9mYWN0b3I/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSB0aW1lcyB0aGUgdW5pdCBwcmljZSBmb3IgYW4gYWRkaXR0aW9uYWwgc2VydmljZSBvciBwcm9kdWN0IG9yIGNoYXJnZS4gRm9yIGV4YW1wbGUsIHRoZSBmb3JtdWxhOiB1bml0IFF1YW50aXR5ICogdW5pdCBQcmljZSAoQ29zdCBwZXIgUG9pbnQpICogZmFjdG9yIE51bWJlciAgKiBwb2ludHMgPSBuZXQgQW1vdW50LiBRdWFudGl0eSwgZmFjdG9yIGFuZCBwb2ludHMgYXJlIGFzc3VtZWQgdG8gYmUgMSBpZiBub3Qgc3VwcGxpZWQuXHJcbiAgICovXHJcbiAgbmV0PzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExpc3Qgb2YgVW5pcXVlIERldmljZSBJZGVudGlmaWVycyBhc3NvY2lhdGVkIHdpdGggdGhpcyBsaW5lIGl0ZW0uXHJcbiAgICovXHJcbiAgdWRpPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcmQgdGllciBvZiBnb29kcyBhbmQgc2VydmljZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1JdGVtRGV0YWlsU3ViRGV0YWlsIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xhaW1JdGVtRGV0YWlsU3ViRGV0YWlsJztcclxuICAvKipcclxuICAgKiBBIHNlcnZpY2UgbGluZSBudW1iZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcXVlbmNlOiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHJldmVuZXUgb3IgY29zdCBjZW50ZXIgcHJvdmlkaW5nIHRoZSBwcm9kdWN0IGFuZC9vciBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXZlbnVlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhlYWx0aCBDYXJlIFNlcnZpY2UgVHlwZSBDb2RlcyAgdG8gaWRlbnRpZnkgdGhlIGNsYXNzaWZpY2F0aW9uIG9mIHNlcnZpY2Ugb3IgYmVuZWZpdHMuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdGVnb3J5PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSB0byBpbmRpY2F0ZSB0aGUgUHJvZmVzc2lvbmFsIFNlcnZpY2Ugb3IgUHJvZHVjdCBzdXBwbGllZCAoZWcuIENUUCwgSENQQ1MsVVNDTFMsSUNEMTAsIE5DUERQLERJTixBQ0hJLENDSSkuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcnZpY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSXRlbSB0eXBpZmljYXRpb24gb3IgbW9kaWZpZXJzIGNvZGVzLCBlZyBmb3IgT3JhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgaXMgY29zbWV0aWMgb3IgYXNzb2NpYXRlZCB3aXRoIFRNSiwgb3IgZm9yIG1lZGljYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IHdhcyBvdXRzaWRlIHRoZSBjbGluaWMgb3Igb3V0IG9mIG9mZmljZSBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kaWZpZXI6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogRm9yIHByb2dyYW1zIHdoaWNoIHJlcXVpcmUgcmVzb24gY29kZXMgZm9yIHRoZSBpbmNsdXNpb24sIGNvdmVyaW5nLCBvZiB0aGlzIGJpbGxlZCBpdGVtIHVuZGVyIHRoZSBwcm9ncmFtIG9yIHN1Yi1wcm9ncmFtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9ncmFtQ29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHJlcGV0aXRpb25zIG9mIGEgc2VydmljZSBvciBwcm9kdWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmZWUgZm9yIGFuIGFkZGl0dGlvbmFsIHNlcnZpY2Ugb3IgcHJvZHVjdCBvciBjaGFyZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIHVuaXRQcmljZT86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVhbCBudW1iZXIgdGhhdCByZXByZXNlbnRzIGEgbXVsdGlwbGllciB1c2VkIGluIGRldGVybWluaW5nIHRoZSBvdmVyYWxsIHZhbHVlIG9mIHNlcnZpY2VzIGRlbGl2ZXJlZCBhbmQvb3IgZ29vZHMgcmVjZWl2ZWQuIFRoZSBjb25jZXB0IG9mIGEgRmFjdG9yIGFsbG93cyBmb3IgYSBkaXNjb3VudCBvciBzdXJjaGFyZ2UgbXVsdGlwbGllciB0byBiZSBhcHBsaWVkIHRvIGEgbW9uZXRhcnkgYW1vdW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmYWN0b3I/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgdGltZXMgdGhlIHVuaXQgcHJpY2UgZm9yIGFuIGFkZGl0dGlvbmFsIHNlcnZpY2Ugb3IgcHJvZHVjdCBvciBjaGFyZ2UuIEZvciBleGFtcGxlLCB0aGUgZm9ybXVsYTogdW5pdCBRdWFudGl0eSAqIHVuaXQgUHJpY2UgKENvc3QgcGVyIFBvaW50KSAqIGZhY3RvciBOdW1iZXIgICogcG9pbnRzID0gbmV0IEFtb3VudC4gUXVhbnRpdHksIGZhY3RvciBhbmQgcG9pbnRzIGFyZSBhc3N1bWVkIHRvIGJlIDEgaWYgbm90IHN1cHBsaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuZXQ/OiBmaGlyLk1vbmV5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMaXN0IG9mIFVuaXF1ZSBEZXZpY2UgSWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGluZSBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1ZGk6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1JdGVtRGV0YWlsU3ViRGV0YWlsIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xhaW1JdGVtRGV0YWlsU3ViRGV0YWlsQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NlcXVlbmNlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLnNlcXVlbmNlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NlcXVlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2VxdWVuY2UpIHsgdGhpcy5zZXF1ZW5jZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXF1ZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHNvdXJjZS5fc2VxdWVuY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJQb3NpdGl2ZUludEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmV2ZW51ZSddKSB7IHRoaXMucmV2ZW51ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucmV2ZW51ZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2F0ZWdvcnksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXJ2aWNlJ10pIHsgdGhpcy5zZXJ2aWNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zZXJ2aWNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbW9kaWZpZXInXSkgeyB0aGlzLm1vZGlmaWVyID0gc291cmNlLm1vZGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kaWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZ3JhbUNvZGUnXSkgeyB0aGlzLnByb2dyYW1Db2RlID0gc291cmNlLnByb2dyYW1Db2RlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvZ3JhbUNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5pdFByaWNlJ10pIHsgdGhpcy51bml0UHJpY2UgPSBuZXcgZmhpci5Nb25leShzb3VyY2UudW5pdFByaWNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFjdG9yJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmZhY3RvciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmZhY3Rvcn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZmFjdG9yJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZmFjdG9yKSB7IHRoaXMuZmFjdG9yLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ZhY3RvciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZhY3RvciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fZmFjdG9yIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0J10pIHsgdGhpcy5uZXQgPSBuZXcgZmhpci5Nb25leShzb3VyY2UubmV0LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndWRpJ10pIHsgdGhpcy51ZGkgPSBzb3VyY2UudWRpLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudWRpID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGFpbS5pdGVtLmRldGFpbC5zdWJEZXRhaWwnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzZXF1ZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmV2ZW51ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY2F0ZWdvcnknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NlcnZpY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ21vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwcm9ncmFtQ29kZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3VuaXRQcmljZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZmFjdG9yJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCduZXQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3VkaScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ2xhaW1JdGVtRGV0YWlsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltSXRlbURldGFpbEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgc2VydmljZSBsaW5lIG51bWJlci5cclxuICAgKi9cclxuICBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0uaXRlbS5kZXRhaWwuc2VxdWVuY2VcclxuICAgKi9cclxuICBfc2VxdWVuY2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHJldmVuZXUgb3IgY29zdCBjZW50ZXIgcHJvdmlkaW5nIHRoZSBwcm9kdWN0IGFuZC9vciBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHJldmVudWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhlYWx0aCBDYXJlIFNlcnZpY2UgVHlwZSBDb2RlcyAgdG8gaWRlbnRpZnkgdGhlIGNsYXNzaWZpY2F0aW9uIG9mIHNlcnZpY2Ugb3IgYmVuZWZpdHMuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgaXMgYW4gYWN0dWFsIHNlcnZpY2Ugb3IgcHJvZHVjdCBsaW5lLCBpZS4gbm90IGEgR3JvdXAsIHRoZW4gdXNlIGNvZGUgdG8gaW5kaWNhdGUgdGhlIFByb2Zlc3Npb25hbCBTZXJ2aWNlIG9yIFByb2R1Y3Qgc3VwcGxpZWQgKGVnLiBDVFAsIEhDUENTLFVTQ0xTLElDRDEwLCBOQ1BEUCxESU4sQUNISSxDQ0kpLiBJZiBhIGdyb3VwaW5nIGl0ZW0gdGhlbiB1c2UgYSBncm91cCBjb2RlIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIHRoaW5nIGJlaW5nIGdyb3VwZWQgZWcuICdnbGFzc2VzJyBvciAnY29tcG91bmQnLlxyXG4gICAqL1xyXG4gIHNlcnZpY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0ZW0gdHlwaWZpY2F0aW9uIG9yIG1vZGlmaWVycyBjb2RlcywgZWcgZm9yIE9yYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IGlzIGNvc21ldGljIG9yIGFzc29jaWF0ZWQgd2l0aCBUTUosIG9yIGZvciBtZWRpY2FsIHdoZXRoZXIgdGhlIHRyZWF0bWVudCB3YXMgb3V0c2lkZSB0aGUgY2xpbmljIG9yIG91dCBvZiBvZmZpY2UgaG91cnMuXHJcbiAgICovXHJcbiAgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIHByb2dyYW1zIHdoaWNoIHJlcXVpcmUgcmVzb24gY29kZXMgZm9yIHRoZSBpbmNsdXNpb24sIGNvdmVyaW5nLCBvZiB0aGlzIGJpbGxlZCBpdGVtIHVuZGVyIHRoZSBwcm9ncmFtIG9yIHN1Yi1wcm9ncmFtLlxyXG4gICAqL1xyXG4gIHByb2dyYW1Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgcmVwZXRpdGlvbnMgb2YgYSBzZXJ2aWNlIG9yIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGl0ZW0gaXMgYSBub2RlIHRoZW4gdGhpcyBpcyB0aGUgZmVlIGZvciB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlLCBvdGhlcndpc2UgdGhpcyBpcyB0aGUgdG90YWwgb2YgdGhlIGZlZXMgZm9yIHRoZSBjaGlsZHJlbiBvZiB0aGUgZ3JvdXAuXHJcbiAgICovXHJcbiAgdW5pdFByaWNlPzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVhbCBudW1iZXIgdGhhdCByZXByZXNlbnRzIGEgbXVsdGlwbGllciB1c2VkIGluIGRldGVybWluaW5nIHRoZSBvdmVyYWxsIHZhbHVlIG9mIHNlcnZpY2VzIGRlbGl2ZXJlZCBhbmQvb3IgZ29vZHMgcmVjZWl2ZWQuIFRoZSBjb25jZXB0IG9mIGEgRmFjdG9yIGFsbG93cyBmb3IgYSBkaXNjb3VudCBvciBzdXJjaGFyZ2UgbXVsdGlwbGllciB0byBiZSBhcHBsaWVkIHRvIGEgbW9uZXRhcnkgYW1vdW50LlxyXG4gICAqL1xyXG4gIGZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0uaXRlbS5kZXRhaWwuZmFjdG9yXHJcbiAgICovXHJcbiAgX2ZhY3Rvcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHF1YW50aXR5IHRpbWVzIHRoZSB1bml0IHByaWNlIGZvciBhbiBhZGRpdHRpb25hbCBzZXJ2aWNlIG9yIHByb2R1Y3Qgb3IgY2hhcmdlLiBGb3IgZXhhbXBsZSwgdGhlIGZvcm11bGE6IHVuaXQgUXVhbnRpdHkgKiB1bml0IFByaWNlIChDb3N0IHBlciBQb2ludCkgKiBmYWN0b3IgTnVtYmVyICAqIHBvaW50cyA9IG5ldCBBbW91bnQuIFF1YW50aXR5LCBmYWN0b3IgYW5kIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSAxIGlmIG5vdCBzdXBwbGllZC5cclxuICAgKi9cclxuICBuZXQ/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTGlzdCBvZiBVbmlxdWUgRGV2aWNlIElkZW50aWZpZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxpbmUgaXRlbS5cclxuICAgKi9cclxuICB1ZGk/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcmQgdGllciBvZiBnb29kcyBhbmQgc2VydmljZXMuXHJcbiAgICovXHJcbiAgc3ViRGV0YWlsPzogZmhpci5DbGFpbUl0ZW1EZXRhaWxTdWJEZXRhaWxBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogU2Vjb25kIHRpZXIgb2YgZ29vZHMgYW5kIHNlcnZpY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENsYWltSXRlbURldGFpbCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NsYWltSXRlbURldGFpbCc7XHJcbiAgLyoqXHJcbiAgICogQSBzZXJ2aWNlIGxpbmUgbnVtYmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXF1ZW5jZTogZmhpci5GaGlyUG9zaXRpdmVJbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdHlwZSBvZiByZXZlbmV1IG9yIGNvc3QgY2VudGVyIHByb3ZpZGluZyB0aGUgcHJvZHVjdCBhbmQvb3Igc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmV2ZW51ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIZWFsdGggQ2FyZSBTZXJ2aWNlIFR5cGUgQ29kZXMgIHRvIGlkZW50aWZ5IHRoZSBjbGFzc2lmaWNhdGlvbiBvZiBzZXJ2aWNlIG9yIGJlbmVmaXRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGlzIGlzIGFuIGFjdHVhbCBzZXJ2aWNlIG9yIHByb2R1Y3QgbGluZSwgaWUuIG5vdCBhIEdyb3VwLCB0aGVuIHVzZSBjb2RlIHRvIGluZGljYXRlIHRoZSBQcm9mZXNzaW9uYWwgU2VydmljZSBvciBQcm9kdWN0IHN1cHBsaWVkIChlZy4gQ1RQLCBIQ1BDUyxVU0NMUyxJQ0QxMCwgTkNQRFAsRElOLEFDSEksQ0NJKS4gSWYgYSBncm91cGluZyBpdGVtIHRoZW4gdXNlIGEgZ3JvdXAgY29kZSB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiB0aGluZyBiZWluZyBncm91cGVkIGVnLiAnZ2xhc3Nlcycgb3IgJ2NvbXBvdW5kJy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VydmljZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdGVtIHR5cGlmaWNhdGlvbiBvciBtb2RpZmllcnMgY29kZXMsIGVnIGZvciBPcmFsIHdoZXRoZXIgdGhlIHRyZWF0bWVudCBpcyBjb3NtZXRpYyBvciBhc3NvY2lhdGVkIHdpdGggVE1KLCBvciBmb3IgbWVkaWNhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgd2FzIG91dHNpZGUgdGhlIGNsaW5pYyBvciBvdXQgb2Ygb2ZmaWNlIGhvdXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RpZmllcjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBGb3IgcHJvZ3JhbXMgd2hpY2ggcmVxdWlyZSByZXNvbiBjb2RlcyBmb3IgdGhlIGluY2x1c2lvbiwgY292ZXJpbmcsIG9mIHRoaXMgYmlsbGVkIGl0ZW0gdW5kZXIgdGhlIHByb2dyYW0gb3Igc3ViLXByb2dyYW0uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2dyYW1Db2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgcmVwZXRpdGlvbnMgb2YgYSBzZXJ2aWNlIG9yIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGl0ZW0gaXMgYSBub2RlIHRoZW4gdGhpcyBpcyB0aGUgZmVlIGZvciB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlLCBvdGhlcndpc2UgdGhpcyBpcyB0aGUgdG90YWwgb2YgdGhlIGZlZXMgZm9yIHRoZSBjaGlsZHJlbiBvZiB0aGUgZ3JvdXAuXHJcbiAgICovXHJcbiAgcHVibGljIHVuaXRQcmljZT86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVhbCBudW1iZXIgdGhhdCByZXByZXNlbnRzIGEgbXVsdGlwbGllciB1c2VkIGluIGRldGVybWluaW5nIHRoZSBvdmVyYWxsIHZhbHVlIG9mIHNlcnZpY2VzIGRlbGl2ZXJlZCBhbmQvb3IgZ29vZHMgcmVjZWl2ZWQuIFRoZSBjb25jZXB0IG9mIGEgRmFjdG9yIGFsbG93cyBmb3IgYSBkaXNjb3VudCBvciBzdXJjaGFyZ2UgbXVsdGlwbGllciB0byBiZSBhcHBsaWVkIHRvIGEgbW9uZXRhcnkgYW1vdW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmYWN0b3I/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgdGltZXMgdGhlIHVuaXQgcHJpY2UgZm9yIGFuIGFkZGl0dGlvbmFsIHNlcnZpY2Ugb3IgcHJvZHVjdCBvciBjaGFyZ2UuIEZvciBleGFtcGxlLCB0aGUgZm9ybXVsYTogdW5pdCBRdWFudGl0eSAqIHVuaXQgUHJpY2UgKENvc3QgcGVyIFBvaW50KSAqIGZhY3RvciBOdW1iZXIgICogcG9pbnRzID0gbmV0IEFtb3VudC4gUXVhbnRpdHksIGZhY3RvciBhbmQgcG9pbnRzIGFyZSBhc3N1bWVkIHRvIGJlIDEgaWYgbm90IHN1cHBsaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuZXQ/OiBmaGlyLk1vbmV5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMaXN0IG9mIFVuaXF1ZSBEZXZpY2UgSWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGluZSBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1ZGk6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhpcmQgdGllciBvZiBnb29kcyBhbmQgc2VydmljZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YkRldGFpbDogZmhpci5DbGFpbUl0ZW1EZXRhaWxTdWJEZXRhaWxbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDbGFpbUl0ZW1EZXRhaWwgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDbGFpbUl0ZW1EZXRhaWxBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2VxdWVuY2UnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiBzb3VyY2Uuc2VxdWVuY2V9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc2VxdWVuY2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5zZXF1ZW5jZSkgeyB0aGlzLnNlcXVlbmNlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3NlcXVlbmNlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc2VxdWVuY2UgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoc291cmNlLl9zZXF1ZW5jZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclBvc2l0aXZlSW50QXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZXZlbnVlJ10pIHsgdGhpcy5yZXZlbnVlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZXZlbnVlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jYXRlZ29yeSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcnZpY2UnXSkgeyB0aGlzLnNlcnZpY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNlcnZpY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtb2RpZmllciddKSB7IHRoaXMubW9kaWZpZXIgPSBzb3VyY2UubW9kaWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb2RpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9ncmFtQ29kZSddKSB7IHRoaXMucHJvZ3JhbUNvZGUgPSBzb3VyY2UucHJvZ3JhbUNvZGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9ncmFtQ29kZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UucXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd1bml0UHJpY2UnXSkgeyB0aGlzLnVuaXRQcmljZSA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS51bml0UHJpY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydmYWN0b3InXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZmFjdG9yID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UuZmFjdG9yfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19mYWN0b3InXSkge1xyXG4gICAgICBpZiAodGhpcy5mYWN0b3IpIHsgdGhpcy5mYWN0b3IuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZmFjdG9yISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZmFjdG9yID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9mYWN0b3IgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyduZXQnXSkgeyB0aGlzLm5ldCA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS5uZXQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd1ZGknXSkgeyB0aGlzLnVkaSA9IHNvdXJjZS51ZGkubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51ZGkgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViRGV0YWlsJ10pIHsgdGhpcy5zdWJEZXRhaWwgPSBzb3VyY2Uuc3ViRGV0YWlsLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2xhaW1JdGVtRGV0YWlsU3ViRGV0YWlsKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViRGV0YWlsID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGFpbS5pdGVtLmRldGFpbCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3NlcXVlbmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZXZlbnVlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjYXRlZ29yeScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc2VydmljZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbW9kaWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3Byb2dyYW1Db2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdxdWFudGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndW5pdFByaWNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdmYWN0b3InLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25ldCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndWRpJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzdWJEZXRhaWwnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltSXRlbSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDbGFpbUl0ZW1BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIHNlcnZpY2UgbGluZSBudW1iZXIuXHJcbiAgICovXHJcbiAgc2VxdWVuY2U6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLml0ZW0uc2VxdWVuY2VcclxuICAgKi9cclxuICBfc2VxdWVuY2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENhcmVUZWFtIGFwcGxpY2FibGUgZm9yIHRoaXMgc2VydmljZSBvciBwcm9kdWN0IGxpbmUuXHJcbiAgICovXHJcbiAgY2FyZVRlYW1MaW5rSWQ/OiBmaGlyLkZoaXJQb3NpdGl2ZUludFtdfChudW1iZXJ8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLml0ZW0uY2FyZVRlYW1MaW5rSWRcclxuICAgKi9cclxuICBfY2FyZVRlYW1MaW5rSWQ/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIERpYWdub3NpcyBhcHBsaWNhYmxlIGZvciB0aGlzIHNlcnZpY2Ugb3IgcHJvZHVjdCBsaW5lLlxyXG4gICAqL1xyXG4gIGRpYWdub3Npc0xpbmtJZD86IGZoaXIuRmhpclBvc2l0aXZlSW50W118KG51bWJlcnxudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0uaXRlbS5kaWFnbm9zaXNMaW5rSWRcclxuICAgKi9cclxuICBfZGlhZ25vc2lzTGlua0lkPzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBQcm9jZWR1cmVzIGFwcGxpY2FibGUgZm9yIHRoaXMgc2VydmljZSBvciBwcm9kdWN0IGxpbmUuXHJcbiAgICovXHJcbiAgcHJvY2VkdXJlTGlua0lkPzogZmhpci5GaGlyUG9zaXRpdmVJbnRbXXwobnVtYmVyfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDbGFpbS5pdGVtLnByb2NlZHVyZUxpbmtJZFxyXG4gICAqL1xyXG4gIF9wcm9jZWR1cmVMaW5rSWQ/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIEV4Y2VwdGlvbnMsIHNwZWNpYWwgY29uZGl0aW9ucyBhbmQgc3VwcG9ydGluZyBpbmZvcm1hdGlvbiBwcGxpY2FibGUgZm9yIHRoaXMgc2VydmljZSBvciBwcm9kdWN0IGxpbmUuXHJcbiAgICovXHJcbiAgaW5mb3JtYXRpb25MaW5rSWQ/OiBmaGlyLkZoaXJQb3NpdGl2ZUludFtdfChudW1iZXJ8bnVsbClbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENsYWltLml0ZW0uaW5mb3JtYXRpb25MaW5rSWRcclxuICAgKi9cclxuICBfaW5mb3JtYXRpb25MaW5rSWQ/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIHJldmVuZXUgb3IgY29zdCBjZW50ZXIgcHJvdmlkaW5nIHRoZSBwcm9kdWN0IGFuZC9vciBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHJldmVudWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEhlYWx0aCBDYXJlIFNlcnZpY2UgVHlwZSBDb2RlcyAgdG8gaWRlbnRpZnkgdGhlIGNsYXNzaWZpY2F0aW9uIG9mIHNlcnZpY2Ugb3IgYmVuZWZpdHMuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIHRoaXMgaXMgYW4gYWN0dWFsIHNlcnZpY2Ugb3IgcHJvZHVjdCBsaW5lLCBpZS4gbm90IGEgR3JvdXAsIHRoZW4gdXNlIGNvZGUgdG8gaW5kaWNhdGUgdGhlIFByb2Zlc3Npb25hbCBTZXJ2aWNlIG9yIFByb2R1Y3Qgc3VwcGxpZWQgKGVnLiBDVFAsIEhDUENTLFVTQ0xTLElDRDEwLCBOQ1BEUCxESU4sUlhOb3JtLEFDSEksQ0NJKS4gSWYgYSBncm91cGluZyBpdGVtIHRoZW4gdXNlIGEgZ3JvdXAgY29kZSB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiB0aGluZyBiZWluZyBncm91cGVkIGVnLiAnZ2xhc3Nlcycgb3IgJ2NvbXBvdW5kJy5cclxuICAgKi9cclxuICBzZXJ2aWNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJdGVtIHR5cGlmaWNhdGlvbiBvciBtb2RpZmllcnMgY29kZXMsIGVnIGZvciBPcmFsIHdoZXRoZXIgdGhlIHRyZWF0bWVudCBpcyBjb3NtZXRpYyBvciBhc3NvY2lhdGVkIHdpdGggVE1KLCBvciBmb3IgbWVkaWNhbCB3aGV0aGVyIHRoZSB0cmVhdG1lbnQgd2FzIG91dHNpZGUgdGhlIGNsaW5pYyBvciBvdXQgb2Ygb2ZmaWNlIGhvdXJzLlxyXG4gICAqL1xyXG4gIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBwcm9ncmFtcyB3aGljaCByZXF1aXJlIHJlYXNvbiBjb2RlcyBmb3IgdGhlIGluY2x1c2lvbiBvciBjb3ZlcmluZyBvZiB0aGlzIGJpbGxlZCBpdGVtIHVuZGVyIHRoZSBwcm9ncmFtIG9yIHN1Yi1wcm9ncmFtLlxyXG4gICAqL1xyXG4gIHByb2dyYW1Db2RlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIG9yIGRhdGVzIHdoZW4gdGhlIGVuY2xvc2VkIHN1aXRlIG9mIHNlcnZpY2VzIHdlcmUgcGVyZm9ybWVkIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBzZXJ2aWNlZD86IGZoaXIuRmhpckRhdGV8Zmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIG9yIGRhdGVzIHdoZW4gdGhlIGVuY2xvc2VkIHN1aXRlIG9mIHNlcnZpY2VzIHdlcmUgcGVyZm9ybWVkIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBzZXJ2aWNlZERhdGU/OiBmaGlyLkZoaXJEYXRlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgb3IgZGF0ZXMgd2hlbiB0aGUgZW5jbG9zZWQgc3VpdGUgb2Ygc2VydmljZXMgd2VyZSBwZXJmb3JtZWQgb3IgY29tcGxldGVkLlxyXG4gICAqL1xyXG4gIHNlcnZpY2VkUGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgc2VydmljZSB3YXMgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgbG9jYXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkFkZHJlc3N8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBzZXJ2aWNlIHdhcyBwcm92aWRlZC5cclxuICAgKi9cclxuICBsb2NhdGlvbkNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIHNlcnZpY2Ugd2FzIHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uQWRkcmVzcz86IGZoaXIuQWRkcmVzc0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBzZXJ2aWNlIHdhcyBwcm92aWRlZC5cclxuICAgKi9cclxuICBsb2NhdGlvblJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG51bWJlciBvZiByZXBldGl0aW9ucyBvZiBhIHNlcnZpY2Ugb3IgcHJvZHVjdC5cclxuICAgKi9cclxuICBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiB0aGUgaXRlbSBpcyBhIG5vZGUgdGhlbiB0aGlzIGlzIHRoZSBmZWUgZm9yIHRoZSBwcm9kdWN0IG9yIHNlcnZpY2UsIG90aGVyd2lzZSB0aGlzIGlzIHRoZSB0b3RhbCBvZiB0aGUgZmVlcyBmb3IgdGhlIGNoaWxkcmVuIG9mIHRoZSBncm91cC5cclxuICAgKi9cclxuICB1bml0UHJpY2U/OiBmaGlyLk1vbmV5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWFsIG51bWJlciB0aGF0IHJlcHJlc2VudHMgYSBtdWx0aXBsaWVyIHVzZWQgaW4gZGV0ZXJtaW5pbmcgdGhlIG92ZXJhbGwgdmFsdWUgb2Ygc2VydmljZXMgZGVsaXZlcmVkIGFuZC9vciBnb29kcyByZWNlaXZlZC4gVGhlIGNvbmNlcHQgb2YgYSBGYWN0b3IgYWxsb3dzIGZvciBhIGRpc2NvdW50IG9yIHN1cmNoYXJnZSBtdWx0aXBsaWVyIHRvIGJlIGFwcGxpZWQgdG8gYSBtb25ldGFyeSBhbW91bnQuXHJcbiAgICovXHJcbiAgZmFjdG9yPzogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDbGFpbS5pdGVtLmZhY3RvclxyXG4gICAqL1xyXG4gIF9mYWN0b3I/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSB0aW1lcyB0aGUgdW5pdCBwcmljZSBmb3IgYW4gYWRkaXR0aW9uYWwgc2VydmljZSBvciBwcm9kdWN0IG9yIGNoYXJnZS4gRm9yIGV4YW1wbGUsIHRoZSBmb3JtdWxhOiB1bml0IFF1YW50aXR5ICogdW5pdCBQcmljZSAoQ29zdCBwZXIgUG9pbnQpICogZmFjdG9yIE51bWJlciAgKiBwb2ludHMgPSBuZXQgQW1vdW50LiBRdWFudGl0eSwgZmFjdG9yIGFuZCBwb2ludHMgYXJlIGFzc3VtZWQgdG8gYmUgMSBpZiBub3Qgc3VwcGxpZWQuXHJcbiAgICovXHJcbiAgbmV0PzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExpc3Qgb2YgVW5pcXVlIERldmljZSBJZGVudGlmaWVycyBhc3NvY2lhdGVkIHdpdGggdGhpcyBsaW5lIGl0ZW0uXHJcbiAgICovXHJcbiAgdWRpPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBoeXNpY2FsIHNlcnZpY2Ugc2l0ZSBvbiB0aGUgcGF0aWVudCAobGltYiwgdG9vdGgsIGV0YykuXHJcbiAgICovXHJcbiAgYm9keVNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVnaW9uIG9yIHN1cmZhY2Ugb2YgdGhlIHNpdGUsIGVnLiBsaW1iIHJlZ2lvbiBvciB0b290aCBzdXJmYWNlKHMpLlxyXG4gICAqL1xyXG4gIHN1YlNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBiaWxsZWQgaXRlbSBtYXkgaW5jbHVkZSBnb29kcyBvciBzZXJ2aWNlcyBwcm92aWRlZCBpbiBtdWx0aXBsZSBlbmNvdW50ZXJzLlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTZWNvbmQgdGllciBvZiBnb29kcyBhbmQgc2VydmljZXMuXHJcbiAgICovXHJcbiAgZGV0YWlsPzogZmhpci5DbGFpbUl0ZW1EZXRhaWxBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRmlyc3QgdGllciBvZiBnb29kcyBhbmQgc2VydmljZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhaW1JdGVtIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xhaW1JdGVtJztcclxuICAvKipcclxuICAgKiBBIHNlcnZpY2UgbGluZSBudW1iZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcXVlbmNlOiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIENhcmVUZWFtIGFwcGxpY2FibGUgZm9yIHRoaXMgc2VydmljZSBvciBwcm9kdWN0IGxpbmUuXHJcbiAgICovXHJcbiAgcHVibGljIGNhcmVUZWFtTGlua0lkOiBmaGlyLkZoaXJQb3NpdGl2ZUludFtdO1xyXG4gIC8qKlxyXG4gICAqIERpYWdub3NpcyBhcHBsaWNhYmxlIGZvciB0aGlzIHNlcnZpY2Ugb3IgcHJvZHVjdCBsaW5lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaWFnbm9zaXNMaW5rSWQ6IGZoaXIuRmhpclBvc2l0aXZlSW50W107XHJcbiAgLyoqXHJcbiAgICogUHJvY2VkdXJlcyBhcHBsaWNhYmxlIGZvciB0aGlzIHNlcnZpY2Ugb3IgcHJvZHVjdCBsaW5lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9jZWR1cmVMaW5rSWQ6IGZoaXIuRmhpclBvc2l0aXZlSW50W107XHJcbiAgLyoqXHJcbiAgICogRXhjZXB0aW9ucywgc3BlY2lhbCBjb25kaXRpb25zIGFuZCBzdXBwb3J0aW5nIGluZm9ybWF0aW9uIHBwbGljYWJsZSBmb3IgdGhpcyBzZXJ2aWNlIG9yIHByb2R1Y3QgbGluZS5cclxuICAgKi9cclxuICBwdWJsaWMgaW5mb3JtYXRpb25MaW5rSWQ6IGZoaXIuRmhpclBvc2l0aXZlSW50W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgcmV2ZW5ldSBvciBjb3N0IGNlbnRlciBwcm92aWRpbmcgdGhlIHByb2R1Y3QgYW5kL29yIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHJldmVudWU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSGVhbHRoIENhcmUgU2VydmljZSBUeXBlIENvZGVzICB0byBpZGVudGlmeSB0aGUgY2xhc3NpZmljYXRpb24gb2Ygc2VydmljZSBvciBiZW5lZml0cy5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhpcyBpcyBhbiBhY3R1YWwgc2VydmljZSBvciBwcm9kdWN0IGxpbmUsIGllLiBub3QgYSBHcm91cCwgdGhlbiB1c2UgY29kZSB0byBpbmRpY2F0ZSB0aGUgUHJvZmVzc2lvbmFsIFNlcnZpY2Ugb3IgUHJvZHVjdCBzdXBwbGllZCAoZWcuIENUUCwgSENQQ1MsVVNDTFMsSUNEMTAsIE5DUERQLERJTixSWE5vcm0sQUNISSxDQ0kpLiBJZiBhIGdyb3VwaW5nIGl0ZW0gdGhlbiB1c2UgYSBncm91cCBjb2RlIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIHRoaW5nIGJlaW5nIGdyb3VwZWQgZWcuICdnbGFzc2VzJyBvciAnY29tcG91bmQnLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJ2aWNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEl0ZW0gdHlwaWZpY2F0aW9uIG9yIG1vZGlmaWVycyBjb2RlcywgZWcgZm9yIE9yYWwgd2hldGhlciB0aGUgdHJlYXRtZW50IGlzIGNvc21ldGljIG9yIGFzc29jaWF0ZWQgd2l0aCBUTUosIG9yIGZvciBtZWRpY2FsIHdoZXRoZXIgdGhlIHRyZWF0bWVudCB3YXMgb3V0c2lkZSB0aGUgY2xpbmljIG9yIG91dCBvZiBvZmZpY2UgaG91cnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGlmaWVyOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZvciBwcm9ncmFtcyB3aGljaCByZXF1aXJlIHJlYXNvbiBjb2RlcyBmb3IgdGhlIGluY2x1c2lvbiBvciBjb3ZlcmluZyBvZiB0aGlzIGJpbGxlZCBpdGVtIHVuZGVyIHRoZSBwcm9ncmFtIG9yIHN1Yi1wcm9ncmFtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcm9ncmFtQ29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBvciBkYXRlcyB3aGVuIHRoZSBlbmNsb3NlZCBzdWl0ZSBvZiBzZXJ2aWNlcyB3ZXJlIHBlcmZvcm1lZCBvciBjb21wbGV0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHNlcnZpY2VkPzogKGZoaXIuRmhpckRhdGV8Zmhpci5QZXJpb2QpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENsYWltLml0ZW0uc2VydmljZWRbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfc2VydmljZWRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBXaGVyZSB0aGUgc2VydmljZSB3YXMgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGxvY2F0aW9uPzogKGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuQWRkcmVzc3xmaGlyLlJlZmVyZW5jZSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgQ2xhaW0uaXRlbS5sb2NhdGlvblt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19sb2NhdGlvbklzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBudW1iZXIgb2YgcmVwZXRpdGlvbnMgb2YgYSBzZXJ2aWNlIG9yIHByb2R1Y3QuXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIGl0ZW0gaXMgYSBub2RlIHRoZW4gdGhpcyBpcyB0aGUgZmVlIGZvciB0aGUgcHJvZHVjdCBvciBzZXJ2aWNlLCBvdGhlcndpc2UgdGhpcyBpcyB0aGUgdG90YWwgb2YgdGhlIGZlZXMgZm9yIHRoZSBjaGlsZHJlbiBvZiB0aGUgZ3JvdXAuXHJcbiAgICovXHJcbiAgcHVibGljIHVuaXRQcmljZT86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVhbCBudW1iZXIgdGhhdCByZXByZXNlbnRzIGEgbXVsdGlwbGllciB1c2VkIGluIGRldGVybWluaW5nIHRoZSBvdmVyYWxsIHZhbHVlIG9mIHNlcnZpY2VzIGRlbGl2ZXJlZCBhbmQvb3IgZ29vZHMgcmVjZWl2ZWQuIFRoZSBjb25jZXB0IG9mIGEgRmFjdG9yIGFsbG93cyBmb3IgYSBkaXNjb3VudCBvciBzdXJjaGFyZ2UgbXVsdGlwbGllciB0byBiZSBhcHBsaWVkIHRvIGEgbW9uZXRhcnkgYW1vdW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmYWN0b3I/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcXVhbnRpdHkgdGltZXMgdGhlIHVuaXQgcHJpY2UgZm9yIGFuIGFkZGl0dGlvbmFsIHNlcnZpY2Ugb3IgcHJvZHVjdCBvciBjaGFyZ2UuIEZvciBleGFtcGxlLCB0aGUgZm9ybXVsYTogdW5pdCBRdWFudGl0eSAqIHVuaXQgUHJpY2UgKENvc3QgcGVyIFBvaW50KSAqIGZhY3RvciBOdW1iZXIgICogcG9pbnRzID0gbmV0IEFtb3VudC4gUXVhbnRpdHksIGZhY3RvciBhbmQgcG9pbnRzIGFyZSBhc3N1bWVkIHRvIGJlIDEgaWYgbm90IHN1cHBsaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuZXQ/OiBmaGlyLk1vbmV5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMaXN0IG9mIFVuaXF1ZSBEZXZpY2UgSWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGluZSBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1ZGk6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogUGh5c2ljYWwgc2VydmljZSBzaXRlIG9uIHRoZSBwYXRpZW50IChsaW1iLCB0b290aCwgZXRjKS5cclxuICAgKi9cclxuICBwdWJsaWMgYm9keVNpdGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWdpb24gb3Igc3VyZmFjZSBvZiB0aGUgc2l0ZSwgZWcuIGxpbWIgcmVnaW9uIG9yIHRvb3RoIHN1cmZhY2UocykuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YlNpdGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQSBiaWxsZWQgaXRlbSBtYXkgaW5jbHVkZSBnb29kcyBvciBzZXJ2aWNlcyBwcm92aWRlZCBpbiBtdWx0aXBsZSBlbmNvdW50ZXJzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbmNvdW50ZXI6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogU2Vjb25kIHRpZXIgb2YgZ29vZHMgYW5kIHNlcnZpY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXRhaWw6IGZoaXIuQ2xhaW1JdGVtRGV0YWlsW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ2xhaW1JdGVtIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xhaW1JdGVtQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NlcXVlbmNlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLnNlcXVlbmNlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NlcXVlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2VxdWVuY2UpIHsgdGhpcy5zZXF1ZW5jZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXF1ZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNlcXVlbmNlID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHNvdXJjZS5fc2VxdWVuY2UgYXMgUGFydGlhbDxmaGlyLkZoaXJQb3NpdGl2ZUludEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2FyZVRlYW1MaW5rSWQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY2FyZVRlYW1MaW5rSWQgPSBzb3VyY2UuY2FyZVRlYW1MaW5rSWQubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiB4fSwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jYXJlVGVhbUxpbmtJZCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfY2FyZVRlYW1MaW5rSWQnXSkge1xyXG4gICAgICBzb3VyY2UuX2NhcmVUZWFtTGlua0lkLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmNhcmVUZWFtTGlua0lkLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuY2FyZVRlYW1MaW5rSWRbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5jYXJlVGVhbUxpbmtJZC5wdXNoKG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyUG9zaXRpdmVJbnRBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkaWFnbm9zaXNMaW5rSWQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGlhZ25vc2lzTGlua0lkID0gc291cmNlLmRpYWdub3Npc0xpbmtJZC5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh7dmFsdWU6IHh9LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRpYWdub3Npc0xpbmtJZCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGlhZ25vc2lzTGlua0lkJ10pIHtcclxuICAgICAgc291cmNlLl9kaWFnbm9zaXNMaW5rSWQuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlhZ25vc2lzTGlua0lkLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuZGlhZ25vc2lzTGlua0lkW2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuZGlhZ25vc2lzTGlua0lkLnB1c2gobmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHggYXMgUGFydGlhbDxmaGlyLkZoaXJQb3NpdGl2ZUludEFyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2NlZHVyZUxpbmtJZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5wcm9jZWR1cmVMaW5rSWQgPSBzb3VyY2UucHJvY2VkdXJlTGlua0lkLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogeH0sIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvY2VkdXJlTGlua0lkID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19wcm9jZWR1cmVMaW5rSWQnXSkge1xyXG4gICAgICBzb3VyY2UuX3Byb2NlZHVyZUxpbmtJZC5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9jZWR1cmVMaW5rSWQubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5wcm9jZWR1cmVMaW5rSWRbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5wcm9jZWR1cmVMaW5rSWQucHVzaChuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclBvc2l0aXZlSW50QXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5mb3JtYXRpb25MaW5rSWQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuaW5mb3JtYXRpb25MaW5rSWQgPSBzb3VyY2UuaW5mb3JtYXRpb25MaW5rSWQubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoe3ZhbHVlOiB4fSwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbmZvcm1hdGlvbkxpbmtJZCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfaW5mb3JtYXRpb25MaW5rSWQnXSkge1xyXG4gICAgICBzb3VyY2UuX2luZm9ybWF0aW9uTGlua0lkLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmluZm9ybWF0aW9uTGlua0lkLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuaW5mb3JtYXRpb25MaW5rSWRbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5pbmZvcm1hdGlvbkxpbmtJZC5wdXNoKG5ldyBmaGlyLkZoaXJQb3NpdGl2ZUludCh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyUG9zaXRpdmVJbnRBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZXZlbnVlJ10pIHsgdGhpcy5yZXZlbnVlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yZXZlbnVlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jYXRlZ29yeSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcnZpY2UnXSkgeyB0aGlzLnNlcnZpY2UgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNlcnZpY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydtb2RpZmllciddKSB7IHRoaXMubW9kaWZpZXIgPSBzb3VyY2UubW9kaWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb2RpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm9ncmFtQ29kZSddKSB7IHRoaXMucHJvZ3JhbUNvZGUgPSBzb3VyY2UucHJvZ3JhbUNvZGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9ncmFtQ29kZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXJ2aWNlZCddKSB7IHRoaXMuc2VydmljZWQgPSBzb3VyY2Uuc2VydmljZWQ7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnc2VydmljZWREYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnNlcnZpY2VkID0gbmV3IGZoaXIuRmhpckRhdGUoe3ZhbHVlOiBzb3VyY2Uuc2VydmljZWREYXRlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnc2VydmljZWRQZXJpb2QnXSkgeyB0aGlzLnNlcnZpY2VkID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5zZXJ2aWNlZFBlcmlvZCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2xvY2F0aW9uJ10pIHsgdGhpcy5sb2NhdGlvbiA9IHNvdXJjZS5sb2NhdGlvbjsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydsb2NhdGlvbkNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMubG9jYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmxvY2F0aW9uQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydsb2NhdGlvbkFkZHJlc3MnXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuQWRkcmVzcyhzb3VyY2UubG9jYXRpb25BZGRyZXNzLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydsb2NhdGlvblJlZmVyZW5jZSddKSB7IHRoaXMubG9jYXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmxvY2F0aW9uUmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndW5pdFByaWNlJ10pIHsgdGhpcy51bml0UHJpY2UgPSBuZXcgZmhpci5Nb25leShzb3VyY2UudW5pdFByaWNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZmFjdG9yJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmZhY3RvciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmZhY3Rvcn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZmFjdG9yJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZmFjdG9yKSB7IHRoaXMuZmFjdG9yLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ZhY3RvciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZhY3RvciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fZmFjdG9yIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbmV0J10pIHsgdGhpcy5uZXQgPSBuZXcgZmhpci5Nb25leShzb3VyY2UubmV0LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndWRpJ10pIHsgdGhpcy51ZGkgPSBzb3VyY2UudWRpLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudWRpID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2JvZHlTaXRlJ10pIHsgdGhpcy5ib2R5U2l0ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYm9keVNpdGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJTaXRlJ10pIHsgdGhpcy5zdWJTaXRlID0gc291cmNlLnN1YlNpdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJTaXRlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gc291cmNlLmVuY291bnRlci5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVuY291bnRlciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydkZXRhaWwnXSkgeyB0aGlzLmRldGFpbCA9IHNvdXJjZS5kZXRhaWwubWFwKCh4KSA9PiBuZXcgZmhpci5DbGFpbUl0ZW1EZXRhaWwoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kZXRhaWwgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NsYWltLml0ZW0nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzZXF1ZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnY2FyZVRlYW1MaW5rSWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2RpYWdub3Npc0xpbmtJZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHJvY2VkdXJlTGlua0lkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpbmZvcm1hdGlvbkxpbmtJZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmV2ZW51ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY2F0ZWdvcnknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NlcnZpY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ21vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwcm9ncmFtQ29kZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc2VydmljZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2xvY2F0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdxdWFudGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndW5pdFByaWNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdmYWN0b3InLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25ldCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndWRpJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdib2R5U2l0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3ViU2l0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnZW5jb3VudGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdkZXRhaWwnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENsYWltIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENsYWltQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQ2xhaW1cInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGJ1c2luZXNzIGlkZW50aWZpZXIgZm9yIHRoZSBpbnN0YW5jZTogY2xhaW0gbnVtYmVyLCBwcmUtZGV0ZXJtaW5hdGlvbiBvciBwcmUtYXV0aG9yaXphdGlvbiBudW1iZXIuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGUgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmtzIHRoZSBjbGFpbSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuRmhpckNvZGU8Rm1TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0uc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWZmZWN0cyB3aGljaCBmaWVsZHMgYW5kIHZhbHVlIHNldHMgYXJlIHVzZWQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBtYXkgY29udGFpbiB0aGUgbG9jYWwgYmlsbCB0eXBlIGNvZGVzIHN1Y2ggYXMgdGhlIFVTIFVCLTA0IGJpbGwgdHlwZSBjb2RlLlxyXG4gICAqL1xyXG4gIHN1YlR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29tcGxldGUgKEJpbGwgb3IgQ2xhaW0pLCBQcm9wb3NlZCAoUHJlLUF1dGhvcml6YXRpb24pLCBFeHBsb3JhdG9yeSAoUHJlLWRldGVybWluYXRpb24pLlxyXG4gICAqL1xyXG4gIHVzZT86IGZoaXIuRmhpckNvZGU8Q2xhaW1Vc2VDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0udXNlXHJcbiAgICovXHJcbiAgX3VzZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUGF0aWVudCBSZXNvdXJjZS5cclxuICAgKi9cclxuICBwYXRpZW50PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYmlsbGFibGUgcGVyaW9kIGZvciB3aGljaCBjaGFyZ2VzIGFyZSBiZWluZyBzdWJtaXR0ZWQuXHJcbiAgICovXHJcbiAgYmlsbGFibGVQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gdGhlIGVuY2xvc2VkIHN1aXRlIG9mIHNlcnZpY2VzIHdlcmUgcGVyZm9ybWVkIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBjcmVhdGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ2xhaW0uY3JlYXRlZFxyXG4gICAqL1xyXG4gIF9jcmVhdGVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBQZXJzb24gd2hvIGNyZWF0ZWQgdGhlIGludm9pY2UvY2xhaW0vcHJlLWRldGVybWluYXRpb24gb3IgcHJlLWF1dGhvcml6YXRpb24uXHJcbiAgICovXHJcbiAgZW50ZXJlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIEluc3VyZXIgd2hvIGlzIHRhcmdldCBvZiB0aGUgcmVxdWVzdC5cclxuICAgKi9cclxuICBpbnN1cmVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvdmlkZXIgd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHRoZSBiaWxsLCBjbGFpbSBwcmUtZGV0ZXJtaW5hdGlvbiwgcHJlLWF1dGhvcml6YXRpb24uXHJcbiAgICovXHJcbiAgcHJvdmlkZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcmdhbml6YXRpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHRoZSBiaWxsLCBjbGFpbSBwcmUtZGV0ZXJtaW5hdGlvbiwgcHJlLWF1dGhvcml6YXRpb24uXHJcbiAgICovXHJcbiAgb3JnYW5pemF0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbW1lZGlhdGUgKFNUQVQpLCBiZXN0IGVmZm9ydCAoTk9STUFMKSwgZGVmZXJyZWQgKERFRkVSKS5cclxuICAgKi9cclxuICBwcmlvcml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gdGhlIGNhc2Ugb2YgYSBQcmUtRGV0ZXJtaW5hdGlvbi9QcmUtQXV0aG9yaXphdGlvbiB0aGUgcHJvdmlkZXIgbWF5IHJlcXVlc3QgdGhhdCBmdW5kcyBpbiB0aGUgYW1vdW50IG9mIHRoZSBleHBlY3RlZCBCZW5lZml0IGJlIHJlc2VydmVkICgnUGF0aWVudCcgb3IgJ1Byb3ZpZGVyJykgdG8gcGF5IGZvciB0aGUgQmVuZWZpdHMgZGV0ZXJtaW5lZCBvbiB0aGUgc3Vic2VxdWVudCBjbGFpbShzKS4gJ05vbmUnIGV4cGxpY2l0bHkgaW5kaWNhdGVzIG5vIGZ1bmRzIHJlc2VydmluZyBpcyByZXF1ZXN0ZWQuXHJcbiAgICovXHJcbiAgZnVuZHNSZXNlcnZlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBPdGhlciBjbGFpbXMgd2hpY2ggYXJlIHJlbGF0ZWQgdG8gdGhpcyBjbGFpbSBzdWNoIGFzIHByaW9yIGNsYWltIHZlcnNpb25zIG9yIGZvciByZWxhdGVkIHNlcnZpY2VzLlxyXG4gICAqL1xyXG4gIHJlbGF0ZWQ/OiBmaGlyLkNsYWltUmVsYXRlZEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2hvdWxkIHdlIGNyZWF0ZSBhIGdyb3VwIHRvIGhvbGQgbXVsdGlwbGUgcHJlc2NyaXB0aW9ucyBhbmQgYWRkIGEgc2VxdWVuY2UgbnVtYmVyIGFuZCBvbiB0aGUgbGluZSBpdGVtcyBhIGxpbmsgdG8gdGhlIHNlcXVlbmNlLlxyXG4gICAqL1xyXG4gIHByZXNjcmlwdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogYXMgYWJvdmUuXHJcbiAgICovXHJcbiAgb3JpZ2luYWxQcmVzY3JpcHRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJ0eSB0byBiZSByZWltYnVyc2VkIGZvciB0aGUgc2VydmljZXMuXHJcbiAgICovXHJcbiAgcGF5ZWU/OiBmaGlyLkNsYWltUGF5ZWVBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVmZXJyYWwgcmVzb3VyY2Ugd2hpY2ggbGlzdHMgdGhlIGRhdGUsIHByYWN0aXRpb25lciwgcmVhc29uIGFuZCBvdGhlciBzdXBwb3J0aW5nIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHJlZmVycmFsPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGYWNpbGl0eSB3aGVyZSB0aGUgc2VydmljZXMgd2VyZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBmYWNpbGl0eT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lbWJlcnMgb2YgdGhlIHRlYW0gd2hvIHByb3ZpZGVkIHRoZSBvdmVyYWxsIHNlcnZpY2UgYXMgd2VsbCBhcyB0aGVpciByb2xlIGFuZCB3aGV0aGVyIHJlc3BvbnNpYmxlIGFuZCBxdWFsaWZpY2F0aW9ucy5cclxuICAgKi9cclxuICBjYXJlVGVhbT86IGZoaXIuQ2xhaW1DYXJlVGVhbUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBjb2RlcyByZWdhcmRpbmcgZXhjZXB0aW9ucywgc3BlY2lhbCBjb25zaWRlcmF0aW9ucywgdGhlIGNvbmRpdGlvbiwgc2l0dWF0aW9uLCBwcmlvciBvciBjb25jdXJyZW50IGlzc3Vlcy4gT2Z0ZW4gdGhlcmUgYXJlIG11dGlwbGUganVyaXNkaWN0aW9uIHNwZWNpZmljIHZhbHVlc2V0cyB3aGljaCBhcmUgcmVxdWlyZWQuXHJcbiAgICovXHJcbiAgaW5mb3JtYXRpb24/OiBmaGlyLkNsYWltSW5mb3JtYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExpc3Qgb2YgcGF0aWVudCBkaWFnbm9zaXMgZm9yIHdoaWNoIGNhcmUgaXMgc291Z2h0LlxyXG4gICAqL1xyXG4gIGRpYWdub3Npcz86IGZoaXIuQ2xhaW1EaWFnbm9zaXNBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE9yZGVyZWQgbGlzdCBvZiBwYXRpZW50IHByb2NlZHVyZXMgcGVyZm9ybWVkIHRvIHN1cHBvcnQgdGhlIGFkanVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwcm9jZWR1cmU/OiBmaGlyLkNsYWltUHJvY2VkdXJlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGaW5hbmNpYWwgaW5zdHJ1bWVudCBieSB3aGljaCBwYXltZW50IGluZm9ybWF0aW9uIGZvciBoZWFsdGggY2FyZS5cclxuICAgKi9cclxuICBpbnN1cmFuY2U/OiBmaGlyLkNsYWltSW5zdXJhbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBhY2NpZGVudCB3aGljaCByZXN1bHRlZCBpbiB0aGUgbmVlZCBmb3IgaGVhbHRoY2FyZSBzZXJ2aWNlcy5cclxuICAgKi9cclxuICBhY2NpZGVudD86IGZoaXIuQ2xhaW1BY2NpZGVudEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGFydCBhbmQgb3B0aW9uYWwgZW5kIGRhdGVzIG9mIHdoZW4gdGhlIHBhdGllbnQgd2FzIHByZWNsdWRlZCBmcm9tIHdvcmtpbmcgZHVlIHRvIHRoZSB0cmVhdGFibGUgY29uZGl0aW9uKHMpLlxyXG4gICAqL1xyXG4gIGVtcGxveW1lbnRJbXBhY3RlZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXJ0IGFuZCBvcHRpb25hbCBlbmQgZGF0ZXMgb2Ygd2hlbiB0aGUgcGF0aWVudCB3YXMgY29uZmluZWQgdG8gYSB0cmVhdG1lbnQgY2VudGVyLlxyXG4gICAqL1xyXG4gIGhvc3BpdGFsaXphdGlvbj86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRmlyc3QgdGllciBvZiBnb29kcyBhbmQgc2VydmljZXMuXHJcbiAgICovXHJcbiAgaXRlbT86IGZoaXIuQ2xhaW1JdGVtQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdG90YWwgdmFsdWUgb2YgdGhlIGNsYWltLlxyXG4gICAqL1xyXG4gIHRvdGFsPzogZmhpci5Nb25leUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBwcm92aWRlciBpc3N1ZWQgbGlzdCBvZiBzZXJ2aWNlcyBhbmQgcHJvZHVjdHMgcHJvdmlkZWQsIG9yIHRvIGJlIHByb3ZpZGVkLCB0byBhIHBhdGllbnQgd2hpY2ggaXMgcHJvdmlkZWQgdG8gYW4gaW5zdXJlciBmb3IgcGF5bWVudCByZWNvdmVyeS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGFpbSBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ2xhaW0nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQ2xhaW1cIjtcclxuICAvKipcclxuICAgKiBUaGUgYnVzaW5lc3MgaWRlbnRpZmllciBmb3IgdGhlIGluc3RhbmNlOiBjbGFpbSBudW1iZXIsIHByZS1kZXRlcm1pbmF0aW9uIG9yIHByZS1hdXRob3JpemF0aW9uIG51bWJlci5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgdGhlIGNvZGUgZW50ZXJlZC1pbi1lcnJvciB0aGF0IG1hcmtzIHRoZSBjbGFpbSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPEZtU3RhdHVzQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZmZlY3RzIHdoaWNoIGZpZWxkcyBhbmQgdmFsdWUgc2V0cyBhcmUgdXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIG1heSBjb250YWluIHRoZSBsb2NhbCBiaWxsIHR5cGUgY29kZXMgc3VjaCBhcyB0aGUgVVMgVUItMDQgYmlsbCB0eXBlIGNvZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YlR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogQ29tcGxldGUgKEJpbGwgb3IgQ2xhaW0pLCBQcm9wb3NlZCAoUHJlLUF1dGhvcml6YXRpb24pLCBFeHBsb3JhdG9yeSAoUHJlLWRldGVybWluYXRpb24pLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2U/OiBmaGlyLkZoaXJDb2RlPENsYWltVXNlQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQYXRpZW50IFJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBiaWxsYWJsZSBwZXJpb2QgZm9yIHdoaWNoIGNoYXJnZXMgYXJlIGJlaW5nIHN1Ym1pdHRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgYmlsbGFibGVQZXJpb2Q/OiBmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgd2hlbiB0aGUgZW5jbG9zZWQgc3VpdGUgb2Ygc2VydmljZXMgd2VyZSBwZXJmb3JtZWQgb3IgY29tcGxldGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBlcnNvbiB3aG8gY3JlYXRlZCB0aGUgaW52b2ljZS9jbGFpbS9wcmUtZGV0ZXJtaW5hdGlvbiBvciBwcmUtYXV0aG9yaXphdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZW50ZXJlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgSW5zdXJlciB3aG8gaXMgdGFyZ2V0IG9mIHRoZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnN1cmVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm92aWRlciB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgdGhlIGJpbGwsIGNsYWltIHByZS1kZXRlcm1pbmF0aW9uLCBwcmUtYXV0aG9yaXphdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvdmlkZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXphdGlvbiB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgdGhlIGJpbGwsIGNsYWltIHByZS1kZXRlcm1pbmF0aW9uLCBwcmUtYXV0aG9yaXphdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgb3JnYW5pemF0aW9uPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEltbWVkaWF0ZSAoU1RBVCksIGJlc3QgZWZmb3J0IChOT1JNQUwpLCBkZWZlcnJlZCAoREVGRVIpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmlvcml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbiB0aGUgY2FzZSBvZiBhIFByZS1EZXRlcm1pbmF0aW9uL1ByZS1BdXRob3JpemF0aW9uIHRoZSBwcm92aWRlciBtYXkgcmVxdWVzdCB0aGF0IGZ1bmRzIGluIHRoZSBhbW91bnQgb2YgdGhlIGV4cGVjdGVkIEJlbmVmaXQgYmUgcmVzZXJ2ZWQgKCdQYXRpZW50JyBvciAnUHJvdmlkZXInKSB0byBwYXkgZm9yIHRoZSBCZW5lZml0cyBkZXRlcm1pbmVkIG9uIHRoZSBzdWJzZXF1ZW50IGNsYWltKHMpLiAnTm9uZScgZXhwbGljaXRseSBpbmRpY2F0ZXMgbm8gZnVuZHMgcmVzZXJ2aW5nIGlzIHJlcXVlc3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZnVuZHNSZXNlcnZlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE90aGVyIGNsYWltcyB3aGljaCBhcmUgcmVsYXRlZCB0byB0aGlzIGNsYWltIHN1Y2ggYXMgcHJpb3IgY2xhaW0gdmVyc2lvbnMgb3IgZm9yIHJlbGF0ZWQgc2VydmljZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlbGF0ZWQ6IGZoaXIuQ2xhaW1SZWxhdGVkW107XHJcbiAgLyoqXHJcbiAgICogU2hvdWxkIHdlIGNyZWF0ZSBhIGdyb3VwIHRvIGhvbGQgbXVsdGlwbGUgcHJlc2NyaXB0aW9ucyBhbmQgYWRkIGEgc2VxdWVuY2UgbnVtYmVyIGFuZCBvbiB0aGUgbGluZSBpdGVtcyBhIGxpbmsgdG8gdGhlIHNlcXVlbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmVzY3JpcHRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogYXMgYWJvdmUuXHJcbiAgICovXHJcbiAgcHVibGljIG9yaWdpbmFsUHJlc2NyaXB0aW9uPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXJ0eSB0byBiZSByZWltYnVyc2VkIGZvciB0aGUgc2VydmljZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHBheWVlPzogZmhpci5DbGFpbVBheWVlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVmZXJyYWwgcmVzb3VyY2Ugd2hpY2ggbGlzdHMgdGhlIGRhdGUsIHByYWN0aXRpb25lciwgcmVhc29uIGFuZCBvdGhlciBzdXBwb3J0aW5nIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWZlcnJhbD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGYWNpbGl0eSB3aGVyZSB0aGUgc2VydmljZXMgd2VyZSBwcm92aWRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjaWxpdHk/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1lbWJlcnMgb2YgdGhlIHRlYW0gd2hvIHByb3ZpZGVkIHRoZSBvdmVyYWxsIHNlcnZpY2UgYXMgd2VsbCBhcyB0aGVpciByb2xlIGFuZCB3aGV0aGVyIHJlc3BvbnNpYmxlIGFuZCBxdWFsaWZpY2F0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgY2FyZVRlYW06IGZoaXIuQ2xhaW1DYXJlVGVhbVtdO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gY29kZXMgcmVnYXJkaW5nIGV4Y2VwdGlvbnMsIHNwZWNpYWwgY29uc2lkZXJhdGlvbnMsIHRoZSBjb25kaXRpb24sIHNpdHVhdGlvbiwgcHJpb3Igb3IgY29uY3VycmVudCBpc3N1ZXMuIE9mdGVuIHRoZXJlIGFyZSBtdXRpcGxlIGp1cmlzZGljdGlvbiBzcGVjaWZpYyB2YWx1ZXNldHMgd2hpY2ggYXJlIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbmZvcm1hdGlvbjogZmhpci5DbGFpbUluZm9ybWF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogTGlzdCBvZiBwYXRpZW50IGRpYWdub3NpcyBmb3Igd2hpY2ggY2FyZSBpcyBzb3VnaHQuXHJcbiAgICovXHJcbiAgcHVibGljIGRpYWdub3NpczogZmhpci5DbGFpbURpYWdub3Npc1tdO1xyXG4gIC8qKlxyXG4gICAqIE9yZGVyZWQgbGlzdCBvZiBwYXRpZW50IHByb2NlZHVyZXMgcGVyZm9ybWVkIHRvIHN1cHBvcnQgdGhlIGFkanVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvY2VkdXJlOiBmaGlyLkNsYWltUHJvY2VkdXJlW107XHJcbiAgLyoqXHJcbiAgICogRmluYW5jaWFsIGluc3RydW1lbnQgYnkgd2hpY2ggcGF5bWVudCBpbmZvcm1hdGlvbiBmb3IgaGVhbHRoIGNhcmUuXHJcbiAgICovXHJcbiAgcHVibGljIGluc3VyYW5jZTogZmhpci5DbGFpbUluc3VyYW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFjY2lkZW50IHdoaWNoIHJlc3VsdGVkIGluIHRoZSBuZWVkIGZvciBoZWFsdGhjYXJlIHNlcnZpY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY2NpZGVudD86IGZoaXIuQ2xhaW1BY2NpZGVudHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXJ0IGFuZCBvcHRpb25hbCBlbmQgZGF0ZXMgb2Ygd2hlbiB0aGUgcGF0aWVudCB3YXMgcHJlY2x1ZGVkIGZyb20gd29ya2luZyBkdWUgdG8gdGhlIHRyZWF0YWJsZSBjb25kaXRpb24ocykuXHJcbiAgICovXHJcbiAgcHVibGljIGVtcGxveW1lbnRJbXBhY3RlZD86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3RhcnQgYW5kIG9wdGlvbmFsIGVuZCBkYXRlcyBvZiB3aGVuIHRoZSBwYXRpZW50IHdhcyBjb25maW5lZCB0byBhIHRyZWF0bWVudCBjZW50ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGhvc3BpdGFsaXphdGlvbj86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGaXJzdCB0aWVyIG9mIGdvb2RzIGFuZCBzZXJ2aWNlcy5cclxuICAgKi9cclxuICBwdWJsaWMgaXRlbTogZmhpci5DbGFpbUl0ZW1bXTtcclxuICAvKipcclxuICAgKiBUaGUgdG90YWwgdmFsdWUgb2YgdGhlIGNsYWltLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0b3RhbD86IGZoaXIuTW9uZXl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENsYWltIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q2xhaW1BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQ2xhaW0nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEZtU3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEZtU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViVHlwZSddKSB7IHRoaXMuc3ViVHlwZSA9IHNvdXJjZS5zdWJUeXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3ViVHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd1c2UnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudXNlID0gbmV3IGZoaXIuRmhpckNvZGU8Q2xhaW1Vc2VDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudXNlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ191c2UnXSkge1xyXG4gICAgICBpZiAodGhpcy51c2UpIHsgdGhpcy51c2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXNlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudXNlID0gbmV3IGZoaXIuRmhpckNvZGU8Q2xhaW1Vc2VDb2RlVHlwZT4oc291cmNlLl91c2UgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnQnXSkgeyB0aGlzLnBhdGllbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhdGllbnQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydiaWxsYWJsZVBlcmlvZCddKSB7IHRoaXMuYmlsbGFibGVQZXJpb2QgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLmJpbGxhYmxlUGVyaW9kLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY3JlYXRlZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5jcmVhdGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmNyZWF0ZWR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NyZWF0ZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5jcmVhdGVkKSB7IHRoaXMuY3JlYXRlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jcmVhdGVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY3JlYXRlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2NyZWF0ZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW50ZXJlciddKSB7IHRoaXMuZW50ZXJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZW50ZXJlciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3VyZXInXSkgeyB0aGlzLmluc3VyZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmluc3VyZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm92aWRlciddKSB7IHRoaXMucHJvdmlkZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnByb3ZpZGVyLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JnYW5pemF0aW9uJ10pIHsgdGhpcy5vcmdhbml6YXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm9yZ2FuaXphdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3ByaW9yaXR5J10pIHsgdGhpcy5wcmlvcml0eSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucHJpb3JpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydmdW5kc1Jlc2VydmUnXSkgeyB0aGlzLmZ1bmRzUmVzZXJ2ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZnVuZHNSZXNlcnZlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVsYXRlZCddKSB7IHRoaXMucmVsYXRlZCA9IHNvdXJjZS5yZWxhdGVkLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2xhaW1SZWxhdGVkKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVsYXRlZCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcmVzY3JpcHRpb24nXSkgeyB0aGlzLnByZXNjcmlwdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucHJlc2NyaXB0aW9uLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JpZ2luYWxQcmVzY3JpcHRpb24nXSkgeyB0aGlzLm9yaWdpbmFsUHJlc2NyaXB0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5vcmlnaW5hbFByZXNjcmlwdGlvbiwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BheWVlJ10pIHsgdGhpcy5wYXllZSA9IG5ldyBmaGlyLkNsYWltUGF5ZWUoc291cmNlLnBheWVlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJyYWwnXSkgeyB0aGlzLnJlZmVycmFsID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWZlcnJhbCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZhY2lsaXR5J10pIHsgdGhpcy5mYWNpbGl0eSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZmFjaWxpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXJlVGVhbSddKSB7IHRoaXMuY2FyZVRlYW0gPSBzb3VyY2UuY2FyZVRlYW0ubWFwKCh4KSA9PiBuZXcgZmhpci5DbGFpbUNhcmVUZWFtKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2FyZVRlYW0gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5mb3JtYXRpb24nXSkgeyB0aGlzLmluZm9ybWF0aW9uID0gc291cmNlLmluZm9ybWF0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ2xhaW1JbmZvcm1hdGlvbih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmluZm9ybWF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2RpYWdub3NpcyddKSB7IHRoaXMuZGlhZ25vc2lzID0gc291cmNlLmRpYWdub3Npcy5tYXAoKHgpID0+IG5ldyBmaGlyLkNsYWltRGlhZ25vc2lzKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGlhZ25vc2lzID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2NlZHVyZSddKSB7IHRoaXMucHJvY2VkdXJlID0gc291cmNlLnByb2NlZHVyZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNsYWltUHJvY2VkdXJlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvY2VkdXJlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2luc3VyYW5jZSddKSB7IHRoaXMuaW5zdXJhbmNlID0gc291cmNlLmluc3VyYW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNsYWltSW5zdXJhbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW5zdXJhbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjY2lkZW50J10pIHsgdGhpcy5hY2NpZGVudCA9IG5ldyBmaGlyLkNsYWltQWNjaWRlbnQoc291cmNlLmFjY2lkZW50LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZW1wbG95bWVudEltcGFjdGVkJ10pIHsgdGhpcy5lbXBsb3ltZW50SW1wYWN0ZWQgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLmVtcGxveW1lbnRJbXBhY3RlZCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2hvc3BpdGFsaXphdGlvbiddKSB7IHRoaXMuaG9zcGl0YWxpemF0aW9uID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5ob3NwaXRhbGl6YXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydpdGVtJ10pIHsgdGhpcy5pdGVtID0gc291cmNlLml0ZW0ubWFwKCh4KSA9PiBuZXcgZmhpci5DbGFpbUl0ZW0oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pdGVtID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RvdGFsJ10pIHsgdGhpcy50b3RhbCA9IG5ldyBmaGlyLk1vbmV5KHNvdXJjZS50b3RhbCwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDbGFpbScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdzdGF0dXMnLGV4cCwnRm1TdGF0dXMnLEZtU3RhdHVzVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCd0eXBlJyxleHAsJ0NsYWltVHlwZScsQ2xhaW1UeXBlVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3N1YlR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCd1c2UnLGV4cCwnQ2xhaW1Vc2UnLENsYWltVXNlVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BhdGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2JpbGxhYmxlUGVyaW9kJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdjcmVhdGVkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdlbnRlcmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbnN1cmVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwcm92aWRlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JnYW5pemF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwcmlvcml0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZnVuZHNSZXNlcnZlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdyZWxhdGVkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwcmVzY3JpcHRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ29yaWdpbmFsUHJlc2NyaXB0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwYXllZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVmZXJyYWwnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2ZhY2lsaXR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjYXJlVGVhbScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaW5mb3JtYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2RpYWdub3NpcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHJvY2VkdXJlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdpbnN1cmFuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2FjY2lkZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdlbXBsb3ltZW50SW1wYWN0ZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2hvc3BpdGFsaXphdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaXRlbScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndG90YWwnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19