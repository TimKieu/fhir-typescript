// <auto-generated/>
// Contents of: hl7.fhir.r3.core version: 3.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: MedicationStatement
import * as fhir from '../fhir.js';
// @ts-ignore
import { MedicationStatementStatusVsValidation } from '../fhirValueSets/MedicationStatementStatusVsValidation.js';
// @ts-ignore
import { MedicationStatementTakenVsValidation } from '../fhirValueSets/MedicationStatementTakenVsValidation.js';
/**
 * A record of a medication that is being consumed by a patient.   A MedicationStatement may indicate that the patient may be taking the medication now, or has taken the medication in the past or will be taking the medication in the future.  The source of this information can be the patient, significant other (such as a family member or spouse), or a clinician.  A common scenario where this information is captured is during the history taking process during a patient visit or stay.   The medication information may come from sources such as the patient's memory, from a prescription bottle,  or from a list of medications the patient, clinician or other party maintains
 * The primary difference between a medication statement and a medication administration is that the medication administration has complete administration information and is based on actual administration information from the person who administered the medication.  A medication statement is often, if not always, less specific.  There is no required date/time when the medication was administered, in fact we only know that a source has reported the patient is taking this medication, where details such as time, quantity, or rate or even medication product may be incomplete or missing or less precise.  As stated earlier, the medication statement information may come from the patient's memory, from a prescription bottle or from a list of medications the patient, clinician or other party maintains.  Medication administration is more formal and is not missing detailed information.
 */
export class MedicationStatement extends fhir.DomainResource {
    /**
     * Default constructor for MedicationStatement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MedicationStatement';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['basedOn']) {
            this.basedOn = source.basedOn.map((x) => new fhir.Reference(x));
        }
        else {
            this.basedOn = [];
        }
        if (source['partOf']) {
            this.partOf = source.partOf.map((x) => new fhir.Reference(x));
        }
        else {
            this.partOf = [];
        }
        if (source['context']) {
            this.context = new fhir.Reference(source.context);
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category);
        }
        if (source['medication']) {
            this.medication = source.medication;
        }
        else if (source['medicationCodeableConcept']) {
            this.medication = new fhir.CodeableConcept(source.medicationCodeableConcept);
        }
        else if (source['medicationReference']) {
            this.medication = new fhir.Reference(source.medicationReference);
        }
        else {
            this.medication = null;
        }
        if (source['effective']) {
            this.effective = source.effective;
        }
        else if (source['effectiveDateTime']) {
            this.effective = new fhir.FhirDateTime({ value: source.effectiveDateTime });
        }
        else if (source['effectivePeriod']) {
            this.effective = new fhir.Period(source.effectivePeriod);
        }
        if (source['dateAsserted']) {
            this.dateAsserted = new fhir.FhirDateTime({ value: source.dateAsserted });
        }
        if (source['_dateAsserted']) {
            if (this.dateAsserted) {
                this.dateAsserted.addExtendedProperties(source._dateAsserted);
            }
            else {
                this.dateAsserted = new fhir.FhirDateTime(source._dateAsserted);
            }
        }
        if (source['informationSource']) {
            this.informationSource = new fhir.Reference(source.informationSource);
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        else {
            this.subject = null;
        }
        if (source['derivedFrom']) {
            this.derivedFrom = source.derivedFrom.map((x) => new fhir.Reference(x));
        }
        else {
            this.derivedFrom = [];
        }
        if (source['taken']) {
            this.taken = new fhir.FhirCode({ value: source.taken });
        }
        else {
            this.taken = null;
        }
        if (source['_taken']) {
            if (this.taken) {
                this.taken.addExtendedProperties(source._taken);
            }
            else {
                this.taken = new fhir.FhirCode(source._taken);
            }
        }
        if (source['reasonNotTaken']) {
            this.reasonNotTaken = source.reasonNotTaken.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reasonNotTaken = [];
        }
        if (source['reasonCode']) {
            this.reasonCode = source.reasonCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.reasonCode = [];
        }
        if (source['reasonReference']) {
            this.reasonReference = source.reasonReference.map((x) => new fhir.Reference(x));
        }
        else {
            this.reasonReference = [];
        }
        if (source['note']) {
            this.note = source.note.map((x) => new fhir.Annotation(x));
        }
        else {
            this.note = [];
        }
        if (source['dosage']) {
            this.dosage = source.dosage.map((x) => new fhir.Dosage(x));
        }
        else {
            this.dosage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationStatement';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOA('basedOn', exp);
        this.vOA('partOf', exp);
        this.vOS('context', exp);
        this.vRSV('status', exp, 'MedicationStatementStatus', MedicationStatementStatusVsValidation, 'r');
        this.vOS('category', exp);
        this.vRS('medication', exp);
        this.vOS('effective', exp);
        this.vOS('dateAsserted', exp);
        this.vOS('informationSource', exp);
        this.vRS('subject', exp);
        this.vOA('derivedFrom', exp);
        this.vRSV('taken', exp, 'MedicationStatementTaken', MedicationStatementTakenVsValidation, 'r');
        this.vOA('reasonNotTaken', exp);
        this.vOA('reasonCode', exp);
        this.vOA('reasonReference', exp);
        this.vOA('note', exp);
        this.vOA('dosage', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationStatement._fts_dataType = 'MedicationStatement';
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.medication[x]
 */
MedicationStatement._fts_medicationIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.effective[x]
 */
MedicationStatement._fts_effectiveIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWNhdGlvblN0YXRlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvTWVkaWNhdGlvblN0YXRlbWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxxQ0FBcUM7QUFFckMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxxQ0FBcUMsRUFBRSxNQUFNLDJEQUEyRCxDQUFDO0FBT2xILGFBQWE7QUFDYixPQUFPLEVBQUUsb0NBQW9DLEVBQUUsTUFBTSwwREFBMEQsQ0FBQztBQXdIaEg7OztHQUdHO0FBQ0gsTUFBTSxPQUFPLG1CQUFvQixTQUFRLElBQUksQ0FBQyxjQUFjO0lBMEYxRDs7T0FFRztJQUNILFlBQVksU0FBMEMsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDaEcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsWUFBWSxHQUFHLHFCQUFxQixDQUFDO1FBQzFDLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNoRztZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDOUIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3RGO1lB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LENBQUMsQ0FBQTtRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2pDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQywwQkFBMEIsRUFBQyxvQ0FBb0MsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMxRixJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzlCLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF6S0Q7O0dBRUc7QUFDNkIsaUNBQWEsR0FBVSxxQkFBcUIsQ0FBQztBQWtDN0U7O0dBRUc7QUFDdUIsMkNBQXVCLEdBQVEsSUFBSSxDQUFDO0FBSzlEOztHQUVHO0FBQ3VCLDBDQUFzQixHQUFRLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yMy5jb3JlIHZlcnNpb246IDMuMC4yXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogTWVkaWNhdGlvblN0YXRlbWVudFxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c0NvZGVzLCAgTWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9uU3RhdGVtZW50U3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lZGljYXRpb25TdGF0ZW1lbnRTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25TdGF0ZW1lbnRTdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lZGljYXRpb25TdGF0ZW1lbnRDYXRlZ29yeUNvZGVzLCAgTWVkaWNhdGlvblN0YXRlbWVudENhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25TdGF0ZW1lbnRDYXRlZ29yeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9uU3RhdGVtZW50Q2F0ZWdvcnlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25TdGF0ZW1lbnRDYXRlZ29yeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvblN0YXRlbWVudFRha2VuQ29kZXMsICBNZWRpY2F0aW9uU3RhdGVtZW50VGFrZW5Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvblN0YXRlbWVudFRha2VuQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lZGljYXRpb25TdGF0ZW1lbnRUYWtlblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvblN0YXRlbWVudFRha2VuVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWFzb25NZWRpY2F0aW9uTm90VGFrZW5Db2RlcywgIFJlYXNvbk1lZGljYXRpb25Ob3RUYWtlbkNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWFzb25NZWRpY2F0aW9uTm90VGFrZW5Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVhc29uTWVkaWNhdGlvbk5vdFRha2VuVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWFzb25NZWRpY2F0aW9uTm90VGFrZW5Wc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmRpdGlvbkNvZGVzLCAgQ29uZGl0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmRpdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25kaXRpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmRpdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uU3RhdGVtZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25TdGF0ZW1lbnRBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJNZWRpY2F0aW9uU3RhdGVtZW50XCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVybmFsIGlkZW50aWZpZXIgLSBGSElSIHdpbGwgZ2VuZXJhdGUgaXRzIG93biBpbnRlcm5hbCBpZGVudGlmaWVycyAocHJvYmFibHkgVVJMcykgd2hpY2ggZG8gbm90IG5lZWQgdG8gYmUgZXhwbGljaXRseSBtYW5hZ2VkIGJ5IHRoZSByZXNvdXJjZS4gIFRoZSBpZGVudGlmaWVyIGhlcmUgaXMgb25lIHRoYXQgd291bGQgYmUgdXNlZCBieSBhbm90aGVyIG5vbi1GSElSIHN5c3RlbSAtIGZvciBleGFtcGxlIGFuIGF1dG9tYXRlZCBtZWRpY2F0aW9uIHB1bXAgd291bGQgcHJvdmlkZSBhIHJlY29yZCBlYWNoIHRpbWUgaXQgb3BlcmF0ZWQ7IGFuIGFkbWluaXN0cmF0aW9uIHdoaWxlIHRoZSBwYXRpZW50IHdhcyBvZmYgdGhlIHdhcmQgbWlnaHQgYmUgbWFkZSB3aXRoIGEgZGlmZmVyZW50IHN5c3RlbSBhbmQgZW50ZXJlZCBhZnRlciB0aGUgZXZlbnQuICBQYXJ0aWN1bGFybHkgaW1wb3J0YW50IGlmIHRoZXNlIHJlY29yZHMgaGF2ZSB0byBiZSB1cGRhdGVkLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcGxhbiwgcHJvcG9zYWwgb3Igb3JkZXIgdGhhdCBpcyBmdWxmaWxsZWQgaW4gd2hvbGUgb3IgaW4gcGFydCBieSB0aGlzIGV2ZW50LlxyXG4gICAqL1xyXG4gIGJhc2VkT24/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBsYXJnZXIgZXZlbnQgb2Ygd2hpY2ggdGhpcyBwYXJ0aWN1bGFyIGV2ZW50IGlzIGEgY29tcG9uZW50IG9yIHN0ZXAuXHJcbiAgICovXHJcbiAgcGFydE9mPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBlbmNvdW50ZXIgb3IgZXBpc29kZSBvZiBjYXJlIHRoYXQgZXN0YWJsaXNoZXMgdGhlIGNvbnRleHQgZm9yIHRoaXMgTWVkaWNhdGlvblN0YXRlbWVudC5cclxuICAgKi9cclxuICBjb250ZXh0PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNZWRpY2F0aW9uU3RhdGVtZW50IGlzIGEgc3RhdGVtZW50IGF0IGEgcG9pbnQgaW4gdGltZS4gIFRoZSBzdGF0dXMgaXMgb25seSByZXByZXNlbnRhdGl2ZSBhdCB0aGUgcG9pbnQgd2hlbiBpdCB3YXMgYXNzZXJ0ZWQuICBUaGUgdmFsdWUgc2V0IGZvciBNZWRpY2F0aW9uU3RhdGVtZW50LnN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IGFzc2VydCB0aGUgc3RhdHVzIG9mIHRoZSB1c2Ugb2YgdGhlIG1lZGljYXRpb24gYnkgdGhlIHBhdGllbnQgKGZvciBleGFtcGxlLCBzdG9wcGVkIG9yIG9uIGhvbGQpIGFzIHdlbGwgYXMgY29kZXMgdGhhdCBhc3NlcnQgdGhlIHN0YXR1cyBvZiB0aGUgbWVkaWNhdGlvbiBzdGF0ZW1lbnQgaXRzZWxmIChmb3IgZXhhbXBsZSwgZW50ZXJlZCBpbiBlcnJvcikuXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxNZWRpY2F0aW9uU3RhdGVtZW50U3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1lZGljYXRpb25TdGF0ZW1lbnQuc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXJlIHR5cGUgb2YgbWVkaWNhdGlvbiBzdGF0ZW1lbnQgYW5kIHdoZXJlIHRoZSBtZWRpY2F0aW9uIGlzIGV4cGVjdGVkIHRvIGJlIGNvbnN1bWVkIG9yIGFkbWluaXN0ZXJlZC5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgb25seSBhIGNvZGUgaXMgc3BlY2lmaWVkLCB0aGVuIGl0IG5lZWRzIHRvIGJlIGEgY29kZSBmb3IgYSBzcGVjaWZpYyBwcm9kdWN0LiBJZiBtb3JlIGluZm9ybWF0aW9uIGlzIHJlcXVpcmVkLCB0aGVuIHRoZSB1c2Ugb2YgdGhlIG1lZGljYXRpb24gcmVzb3VyY2UgaXMgcmVjb21tZW5kZWQuwqAgRm9yIGV4YW1wbGUgaWbCoHlvdSByZXF1aXJlwqBmb3JtIG9ywqBsb3QgbnVtYmVyLCB0aGVuIHlvdSBtdXN0wqByZWZlcmVuY2UgdGhlIE1lZGljYXRpb24gcmVzb3VyY2UuwqAuXHJcbiAgICovXHJcbiAgbWVkaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBvbmx5IGEgY29kZSBpcyBzcGVjaWZpZWQsIHRoZW4gaXQgbmVlZHMgdG8gYmUgYSBjb2RlIGZvciBhIHNwZWNpZmljIHByb2R1Y3QuIElmIG1vcmUgaW5mb3JtYXRpb24gaXMgcmVxdWlyZWQsIHRoZW4gdGhlIHVzZSBvZiB0aGUgbWVkaWNhdGlvbiByZXNvdXJjZSBpcyByZWNvbW1lbmRlZC7CoCBGb3IgZXhhbXBsZSBpZsKgeW91IHJlcXVpcmXCoGZvcm0gb3LCoGxvdCBudW1iZXIsIHRoZW4geW91IG11c3TCoHJlZmVyZW5jZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS7CoC5cclxuICAgKi9cclxuICBtZWRpY2F0aW9uQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZiBvbmx5IGEgY29kZSBpcyBzcGVjaWZpZWQsIHRoZW4gaXQgbmVlZHMgdG8gYmUgYSBjb2RlIGZvciBhIHNwZWNpZmljIHByb2R1Y3QuIElmIG1vcmUgaW5mb3JtYXRpb24gaXMgcmVxdWlyZWQsIHRoZW4gdGhlIHVzZSBvZiB0aGUgbWVkaWNhdGlvbiByZXNvdXJjZSBpcyByZWNvbW1lbmRlZC7CoCBGb3IgZXhhbXBsZSBpZsKgeW91IHJlcXVpcmXCoGZvcm0gb3LCoGxvdCBudW1iZXIsIHRoZW4geW91IG11c3TCoHJlZmVyZW5jZSB0aGUgTWVkaWNhdGlvbiByZXNvdXJjZS7CoC5cclxuICAgKi9cclxuICBtZWRpY2F0aW9uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGF0dHJpYnV0ZSByZWZsZWN0cyB0aGUgcGVyaW9kIG92ZXIgd2hpY2ggdGhlIHBhdGllbnQgY29uc3VtZWQgdGhlIG1lZGljYXRpb24gYW5kIGlzIGV4cGVjdGVkIHRvIGJlIHBvcHVsYXRlZCBvbiB0aGUgbWFqb3JpdHkgb2YgTWVkaWNhdGlvbiBTdGF0ZW1lbnRzLiBJZiB0aGUgbWVkaWNhdGlvbiBpcyBzdGlsbCBiZWluZyB0YWtlbiBhdCB0aGUgdGltZSB0aGUgc3RhdGVtZW50IGlzIHJlY29yZGVkLCB0aGUgXCJlbmRcIiBkYXRlIHdpbGwgYmUgb21pdHRlZC5cclxuICAgKi9cclxuICBlZmZlY3RpdmU/OiBmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBhdHRyaWJ1dGUgcmVmbGVjdHMgdGhlIHBlcmlvZCBvdmVyIHdoaWNoIHRoZSBwYXRpZW50IGNvbnN1bWVkIHRoZSBtZWRpY2F0aW9uIGFuZCBpcyBleHBlY3RlZCB0byBiZSBwb3B1bGF0ZWQgb24gdGhlIG1ham9yaXR5IG9mIE1lZGljYXRpb24gU3RhdGVtZW50cy4gSWYgdGhlIG1lZGljYXRpb24gaXMgc3RpbGwgYmVpbmcgdGFrZW4gYXQgdGhlIHRpbWUgdGhlIHN0YXRlbWVudCBpcyByZWNvcmRlZCwgdGhlIFwiZW5kXCIgZGF0ZSB3aWxsIGJlIG9taXR0ZWQuXHJcbiAgICovXHJcbiAgZWZmZWN0aXZlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYXR0cmlidXRlIHJlZmxlY3RzIHRoZSBwZXJpb2Qgb3ZlciB3aGljaCB0aGUgcGF0aWVudCBjb25zdW1lZCB0aGUgbWVkaWNhdGlvbiBhbmQgaXMgZXhwZWN0ZWQgdG8gYmUgcG9wdWxhdGVkIG9uIHRoZSBtYWpvcml0eSBvZiBNZWRpY2F0aW9uIFN0YXRlbWVudHMuIElmIHRoZSBtZWRpY2F0aW9uIGlzIHN0aWxsIGJlaW5nIHRha2VuIGF0IHRoZSB0aW1lIHRoZSBzdGF0ZW1lbnQgaXMgcmVjb3JkZWQsIHRoZSBcImVuZFwiIGRhdGUgd2lsbCBiZSBvbWl0dGVkLlxyXG4gICAqL1xyXG4gIGVmZmVjdGl2ZVBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgd2hlbiB0aGUgbWVkaWNhdGlvbiBzdGF0ZW1lbnQgd2FzIGFzc2VydGVkIGJ5IHRoZSBpbmZvcm1hdGlvbiBzb3VyY2UuXHJcbiAgICovXHJcbiAgZGF0ZUFzc2VydGVkPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNhdGlvblN0YXRlbWVudC5kYXRlQXNzZXJ0ZWRcclxuICAgKi9cclxuICBfZGF0ZUFzc2VydGVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcGVyc29uIG9yIG9yZ2FuaXphdGlvbiB0aGF0IHByb3ZpZGVkIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdGFraW5nIG9mIHRoaXMgbWVkaWNhdGlvbi4gTm90ZTogVXNlIGRlcml2ZWRGcm9tIHdoZW4gYSBNZWRpY2F0aW9uU3RhdGVtZW50IGlzIGRlcml2ZWQgZnJvbSBvdGhlciByZXNvdXJjZXMsIGUuZyBDbGFpbSBvciBNZWRpY2F0aW9uUmVxdWVzdC5cclxuICAgKi9cclxuICBpbmZvcm1hdGlvblNvdXJjZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiwgYW5pbWFsIG9yIGdyb3VwIHdobyBpcy93YXMgdGFraW5nIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHN1YmplY3Q6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIExpa2VseSByZWZlcmVuY2VzIHdvdWxkIGJlIHRvIE1lZGljYXRpb25SZXF1ZXN0LCBNZWRpY2F0aW9uRGlzcGVuc2UsIENsYWltLCBPYnNlcnZhdGlvbiBvciBRdWVzdGlvbm5haXJlQW5zd2Vycy4gIFRoZSBtb3N0IGNvbW1vbiB1c2UgY2FzZXMgZm9yIGRlcml2aW5nIGEgTWVkaWNhdGlvblN0YXRlbWVudCBjb21lcyBmcm9tIGNyZWF0aW5nIGEgTWVkaWNhdGlvblN0YXRlbWVudCBmcm9tIGEgTWVkaWNhdGlvblJlcXVlc3Qgb3IgZnJvbSBhIGxhYiBvYnNlcnZhdGlvbiBvciBhIGNsYWltLiAgaXQgc2hvdWxkIGJlIG5vdGVkIHRoYXQgdGhlIGFtb3VudCBvZiBpbmZvcm1hdGlvbiB0aGF0IGlzIGF2YWlsYWJsZSB2YXJpZXMgZnJvbSB0aGUgdHlwZSByZXNvdXJjZSB0aGF0IHlvdSBkZXJpdmUgdGhlIE1lZGljYXRpb25TdGF0ZW1lbnQgZnJvbS5cclxuICAgKi9cclxuICBkZXJpdmVkRnJvbT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGVsZW1lbnQgaXMgbGFiZWxlZCBhcyBhIG1vZGlmaWVyIGJlY2F1c2UgaXQgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGljYXRpb24gd2FzIG5vdCB0YWtlbi5cclxuICAgKi9cclxuICB0YWtlbjogZmhpci5GaGlyQ29kZTxNZWRpY2F0aW9uU3RhdGVtZW50VGFrZW5Db2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNhdGlvblN0YXRlbWVudC50YWtlblxyXG4gICAqL1xyXG4gIF90YWtlbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIGluZGljYXRpbmcgd2h5IHRoZSBtZWRpY2F0aW9uIHdhcyBub3QgdGFrZW4uXHJcbiAgICovXHJcbiAgcmVhc29uTm90VGFrZW4/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjb3VsZCBiZSBhIGRpYWdub3NpcyBjb2RlLiBJZiBhIGZ1bGwgY29uZGl0aW9uIHJlY29yZCBleGlzdHMgb3IgYWRkaXRpb25hbCBkZXRhaWwgaXMgbmVlZGVkLCB1c2UgcmVhc29uRm9yVXNlUmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIHJlYXNvbkNvZGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpcyBhIHJlZmVyZW5jZSB0byBhIGNvbmRpdGlvbiB0aGF0IGlzIHRoZSByZWFzb24gd2h5IHRoZSBtZWRpY2F0aW9uIGlzIGJlaW5nL3dhcyB0YWtlbi4gIElmIG9ubHkgYSBjb2RlIGV4aXN0cywgdXNlIHJlYXNvbkZvclVzZUNvZGUuXHJcbiAgICovXHJcbiAgcmVhc29uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIGV4dHJhIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtZWRpY2F0aW9uIHN0YXRlbWVudCB0aGF0IGlzIG5vdCBjb252ZXllZCBieSB0aGUgb3RoZXIgYXR0cmlidXRlcy5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZXMgaW5jbHVkZWQgaW4gdGhlIGRvc2FnZSBvbiBhIE1lZGljYXRpb24gU3RhdGVtZW50IHJlZmxlY3QgdGhlIGRhdGVzIGZvciBhIGdpdmVuIGRvc2UuICBGb3IgZXhhbXBsZSwgXCJmcm9tIE5vdmVtYmVyIDEsIDIwMTYgdG8gTm92ZW1iZXIgMywgMjAxNiwgdGFrZSBvbmUgdGFibGV0IGRhaWx5IGFuZCBmcm9tIE5vdmVtYmVyIDQsIDIwMTYgdG8gTm92ZW1iZXIgNywgMjAxNiwgdGFrZSB0d28gdGFibGV0cyBkYWlseS5cIiAgSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGlzIHNwZWNpZmljaXR5IG1heSBvbmx5IGJlIHBvcHVsYXRlZCB3aGVyZSB0aGUgcGF0aWVudCBicmluZ3MgaW4gdGhlaXIgbGFiZWxlZCBjb250YWluZXIgb3Igd2hlcmUgdGhlIE1lZGljYXRpb24gU3RhdGVtZW50IGlzIGRlcml2ZWQgZnJvbSBhIE1lZGljYXRpb25SZXF1ZXN0LlxyXG4gICAqL1xyXG4gIGRvc2FnZT86IGZoaXIuRG9zYWdlQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVjb3JkIG9mIGEgbWVkaWNhdGlvbiB0aGF0IGlzIGJlaW5nIGNvbnN1bWVkIGJ5IGEgcGF0aWVudC4gICBBIE1lZGljYXRpb25TdGF0ZW1lbnQgbWF5IGluZGljYXRlIHRoYXQgdGhlIHBhdGllbnQgbWF5IGJlIHRha2luZyB0aGUgbWVkaWNhdGlvbiBub3csIG9yIGhhcyB0YWtlbiB0aGUgbWVkaWNhdGlvbiBpbiB0aGUgcGFzdCBvciB3aWxsIGJlIHRha2luZyB0aGUgbWVkaWNhdGlvbiBpbiB0aGUgZnV0dXJlLiAgVGhlIHNvdXJjZSBvZiB0aGlzIGluZm9ybWF0aW9uIGNhbiBiZSB0aGUgcGF0aWVudCwgc2lnbmlmaWNhbnQgb3RoZXIgKHN1Y2ggYXMgYSBmYW1pbHkgbWVtYmVyIG9yIHNwb3VzZSksIG9yIGEgY2xpbmljaWFuLiAgQSBjb21tb24gc2NlbmFyaW8gd2hlcmUgdGhpcyBpbmZvcm1hdGlvbiBpcyBjYXB0dXJlZCBpcyBkdXJpbmcgdGhlIGhpc3RvcnkgdGFraW5nIHByb2Nlc3MgZHVyaW5nIGEgcGF0aWVudCB2aXNpdCBvciBzdGF5LiAgIFRoZSBtZWRpY2F0aW9uIGluZm9ybWF0aW9uIG1heSBjb21lIGZyb20gc291cmNlcyBzdWNoIGFzIHRoZSBwYXRpZW50J3MgbWVtb3J5LCBmcm9tIGEgcHJlc2NyaXB0aW9uIGJvdHRsZSwgIG9yIGZyb20gYSBsaXN0IG9mIG1lZGljYXRpb25zIHRoZSBwYXRpZW50LCBjbGluaWNpYW4gb3Igb3RoZXIgcGFydHkgbWFpbnRhaW5zIFxyXG4gKiBUaGUgcHJpbWFyeSBkaWZmZXJlbmNlIGJldHdlZW4gYSBtZWRpY2F0aW9uIHN0YXRlbWVudCBhbmQgYSBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uIGlzIHRoYXQgdGhlIG1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24gaGFzIGNvbXBsZXRlIGFkbWluaXN0cmF0aW9uIGluZm9ybWF0aW9uIGFuZCBpcyBiYXNlZCBvbiBhY3R1YWwgYWRtaW5pc3RyYXRpb24gaW5mb3JtYXRpb24gZnJvbSB0aGUgcGVyc29uIHdobyBhZG1pbmlzdGVyZWQgdGhlIG1lZGljYXRpb24uICBBIG1lZGljYXRpb24gc3RhdGVtZW50IGlzIG9mdGVuLCBpZiBub3QgYWx3YXlzLCBsZXNzIHNwZWNpZmljLiAgVGhlcmUgaXMgbm8gcmVxdWlyZWQgZGF0ZS90aW1lIHdoZW4gdGhlIG1lZGljYXRpb24gd2FzIGFkbWluaXN0ZXJlZCwgaW4gZmFjdCB3ZSBvbmx5IGtub3cgdGhhdCBhIHNvdXJjZSBoYXMgcmVwb3J0ZWQgdGhlIHBhdGllbnQgaXMgdGFraW5nIHRoaXMgbWVkaWNhdGlvbiwgd2hlcmUgZGV0YWlscyBzdWNoIGFzIHRpbWUsIHF1YW50aXR5LCBvciByYXRlIG9yIGV2ZW4gbWVkaWNhdGlvbiBwcm9kdWN0IG1heSBiZSBpbmNvbXBsZXRlIG9yIG1pc3Npbmcgb3IgbGVzcyBwcmVjaXNlLiAgQXMgc3RhdGVkIGVhcmxpZXIsIHRoZSBtZWRpY2F0aW9uIHN0YXRlbWVudCBpbmZvcm1hdGlvbiBtYXkgY29tZSBmcm9tIHRoZSBwYXRpZW50J3MgbWVtb3J5LCBmcm9tIGEgcHJlc2NyaXB0aW9uIGJvdHRsZSBvciBmcm9tIGEgbGlzdCBvZiBtZWRpY2F0aW9ucyB0aGUgcGF0aWVudCwgY2xpbmljaWFuIG9yIG90aGVyIHBhcnR5IG1haW50YWlucy4gIE1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24gaXMgbW9yZSBmb3JtYWwgYW5kIGlzIG5vdCBtaXNzaW5nIGRldGFpbGVkIGluZm9ybWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25TdGF0ZW1lbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25TdGF0ZW1lbnQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiTWVkaWNhdGlvblN0YXRlbWVudFwiO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVybmFsIGlkZW50aWZpZXIgLSBGSElSIHdpbGwgZ2VuZXJhdGUgaXRzIG93biBpbnRlcm5hbCBpZGVudGlmaWVycyAocHJvYmFibHkgVVJMcykgd2hpY2ggZG8gbm90IG5lZWQgdG8gYmUgZXhwbGljaXRseSBtYW5hZ2VkIGJ5IHRoZSByZXNvdXJjZS4gIFRoZSBpZGVudGlmaWVyIGhlcmUgaXMgb25lIHRoYXQgd291bGQgYmUgdXNlZCBieSBhbm90aGVyIG5vbi1GSElSIHN5c3RlbSAtIGZvciBleGFtcGxlIGFuIGF1dG9tYXRlZCBtZWRpY2F0aW9uIHB1bXAgd291bGQgcHJvdmlkZSBhIHJlY29yZCBlYWNoIHRpbWUgaXQgb3BlcmF0ZWQ7IGFuIGFkbWluaXN0cmF0aW9uIHdoaWxlIHRoZSBwYXRpZW50IHdhcyBvZmYgdGhlIHdhcmQgbWlnaHQgYmUgbWFkZSB3aXRoIGEgZGlmZmVyZW50IHN5c3RlbSBhbmQgZW50ZXJlZCBhZnRlciB0aGUgZXZlbnQuICBQYXJ0aWN1bGFybHkgaW1wb3J0YW50IGlmIHRoZXNlIHJlY29yZHMgaGF2ZSB0byBiZSB1cGRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBBIHBsYW4sIHByb3Bvc2FsIG9yIG9yZGVyIHRoYXQgaXMgZnVsZmlsbGVkIGluIHdob2xlIG9yIGluIHBhcnQgYnkgdGhpcyBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgYmFzZWRPbjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBBIGxhcmdlciBldmVudCBvZiB3aGljaCB0aGlzIHBhcnRpY3VsYXIgZXZlbnQgaXMgYSBjb21wb25lbnQgb3Igc3RlcC5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydE9mOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBlbmNvdW50ZXIgb3IgZXBpc29kZSBvZiBjYXJlIHRoYXQgZXN0YWJsaXNoZXMgdGhlIGNvbnRleHQgZm9yIHRoaXMgTWVkaWNhdGlvblN0YXRlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGV4dD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNZWRpY2F0aW9uU3RhdGVtZW50IGlzIGEgc3RhdGVtZW50IGF0IGEgcG9pbnQgaW4gdGltZS4gIFRoZSBzdGF0dXMgaXMgb25seSByZXByZXNlbnRhdGl2ZSBhdCB0aGUgcG9pbnQgd2hlbiBpdCB3YXMgYXNzZXJ0ZWQuICBUaGUgdmFsdWUgc2V0IGZvciBNZWRpY2F0aW9uU3RhdGVtZW50LnN0YXR1cyBjb250YWlucyBjb2RlcyB0aGF0IGFzc2VydCB0aGUgc3RhdHVzIG9mIHRoZSB1c2Ugb2YgdGhlIG1lZGljYXRpb24gYnkgdGhlIHBhdGllbnQgKGZvciBleGFtcGxlLCBzdG9wcGVkIG9yIG9uIGhvbGQpIGFzIHdlbGwgYXMgY29kZXMgdGhhdCBhc3NlcnQgdGhlIHN0YXR1cyBvZiB0aGUgbWVkaWNhdGlvbiBzdGF0ZW1lbnQgaXRzZWxmIChmb3IgZXhhbXBsZSwgZW50ZXJlZCBpbiBlcnJvcikuXHJcbiAgICogVGhpcyBlbGVtZW50IGlzIGxhYmVsZWQgYXMgYSBtb2RpZmllciBiZWNhdXNlIHRoZSBzdGF0dXMgY29udGFpbnMgY29kZXMgdGhhdCBtYXJrIHRoZSByZXNvdXJjZSBhcyBub3QgY3VycmVudGx5IHZhbGlkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8TWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGVyZSB0eXBlIG9mIG1lZGljYXRpb24gc3RhdGVtZW50IGFuZCB3aGVyZSB0aGUgbWVkaWNhdGlvbiBpcyBleHBlY3RlZCB0byBiZSBjb25zdW1lZCBvciBhZG1pbmlzdGVyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdGVnb3J5PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElmIG9ubHkgYSBjb2RlIGlzIHNwZWNpZmllZCwgdGhlbiBpdCBuZWVkcyB0byBiZSBhIGNvZGUgZm9yIGEgc3BlY2lmaWMgcHJvZHVjdC4gSWYgbW9yZSBpbmZvcm1hdGlvbiBpcyByZXF1aXJlZCwgdGhlbiB0aGUgdXNlIG9mIHRoZSBtZWRpY2F0aW9uIHJlc291cmNlIGlzIHJlY29tbWVuZGVkLsKgIEZvciBleGFtcGxlIGlmwqB5b3UgcmVxdWlyZcKgZm9ybSBvcsKgbG90IG51bWJlciwgdGhlbiB5b3UgbXVzdMKgcmVmZXJlbmNlIHRoZSBNZWRpY2F0aW9uIHJlc291cmNlLsKgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZWRpY2F0aW9uOiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBNZWRpY2F0aW9uU3RhdGVtZW50Lm1lZGljYXRpb25beF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfbWVkaWNhdGlvbklzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYXR0cmlidXRlIHJlZmxlY3RzIHRoZSBwZXJpb2Qgb3ZlciB3aGljaCB0aGUgcGF0aWVudCBjb25zdW1lZCB0aGUgbWVkaWNhdGlvbiBhbmQgaXMgZXhwZWN0ZWQgdG8gYmUgcG9wdWxhdGVkIG9uIHRoZSBtYWpvcml0eSBvZiBNZWRpY2F0aW9uIFN0YXRlbWVudHMuIElmIHRoZSBtZWRpY2F0aW9uIGlzIHN0aWxsIGJlaW5nIHRha2VuIGF0IHRoZSB0aW1lIHRoZSBzdGF0ZW1lbnQgaXMgcmVjb3JkZWQsIHRoZSBcImVuZFwiIGRhdGUgd2lsbCBiZSBvbWl0dGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlZmZlY3RpdmU/OiAoZmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2QpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25TdGF0ZW1lbnQuZWZmZWN0aXZlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2VmZmVjdGl2ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gdGhlIG1lZGljYXRpb24gc3RhdGVtZW50IHdhcyBhc3NlcnRlZCBieSB0aGUgaW5mb3JtYXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlQXNzZXJ0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiBvciBvcmdhbml6YXRpb24gdGhhdCBwcm92aWRlZCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRha2luZyBvZiB0aGlzIG1lZGljYXRpb24uIE5vdGU6IFVzZSBkZXJpdmVkRnJvbSB3aGVuIGEgTWVkaWNhdGlvblN0YXRlbWVudCBpcyBkZXJpdmVkIGZyb20gb3RoZXIgcmVzb3VyY2VzLCBlLmcgQ2xhaW0gb3IgTWVkaWNhdGlvblJlcXVlc3QuXHJcbiAgICovXHJcbiAgcHVibGljIGluZm9ybWF0aW9uU291cmNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwZXJzb24sIGFuaW1hbCBvciBncm91cCB3aG8gaXMvd2FzIHRha2luZyB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdDogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBMaWtlbHkgcmVmZXJlbmNlcyB3b3VsZCBiZSB0byBNZWRpY2F0aW9uUmVxdWVzdCwgTWVkaWNhdGlvbkRpc3BlbnNlLCBDbGFpbSwgT2JzZXJ2YXRpb24gb3IgUXVlc3Rpb25uYWlyZUFuc3dlcnMuICBUaGUgbW9zdCBjb21tb24gdXNlIGNhc2VzIGZvciBkZXJpdmluZyBhIE1lZGljYXRpb25TdGF0ZW1lbnQgY29tZXMgZnJvbSBjcmVhdGluZyBhIE1lZGljYXRpb25TdGF0ZW1lbnQgZnJvbSBhIE1lZGljYXRpb25SZXF1ZXN0IG9yIGZyb20gYSBsYWIgb2JzZXJ2YXRpb24gb3IgYSBjbGFpbS4gIGl0IHNob3VsZCBiZSBub3RlZCB0aGF0IHRoZSBhbW91bnQgb2YgaW5mb3JtYXRpb24gdGhhdCBpcyBhdmFpbGFibGUgdmFyaWVzIGZyb20gdGhlIHR5cGUgcmVzb3VyY2UgdGhhdCB5b3UgZGVyaXZlIHRoZSBNZWRpY2F0aW9uU3RhdGVtZW50IGZyb20uXHJcbiAgICovXHJcbiAgcHVibGljIGRlcml2ZWRGcm9tOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZWxlbWVudCBpcyBsYWJlbGVkIGFzIGEgbW9kaWZpZXIgYmVjYXVzZSBpdCBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWNhdGlvbiB3YXMgbm90IHRha2VuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YWtlbjogZmhpci5GaGlyQ29kZTxNZWRpY2F0aW9uU3RhdGVtZW50VGFrZW5Db2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBBIGNvZGUgaW5kaWNhdGluZyB3aHkgdGhlIG1lZGljYXRpb24gd2FzIG5vdCB0YWtlbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uTm90VGFrZW46IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBjb3VsZCBiZSBhIGRpYWdub3NpcyBjb2RlLiBJZiBhIGZ1bGwgY29uZGl0aW9uIHJlY29yZCBleGlzdHMgb3IgYWRkaXRpb25hbCBkZXRhaWwgaXMgbmVlZGVkLCB1c2UgcmVhc29uRm9yVXNlUmVmZXJlbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb25Db2RlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgYSByZWZlcmVuY2UgdG8gYSBjb25kaXRpb24gdGhhdCBpcyB0aGUgcmVhc29uIHdoeSB0aGUgbWVkaWNhdGlvbiBpcyBiZWluZy93YXMgdGFrZW4uICBJZiBvbmx5IGEgY29kZSBleGlzdHMsIHVzZSByZWFzb25Gb3JVc2VDb2RlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb25SZWZlcmVuY2U6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgZXh0cmEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1lZGljYXRpb24gc3RhdGVtZW50IHRoYXQgaXMgbm90IGNvbnZleWVkIGJ5IHRoZSBvdGhlciBhdHRyaWJ1dGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlOiBmaGlyLkFubm90YXRpb25bXTtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZXMgaW5jbHVkZWQgaW4gdGhlIGRvc2FnZSBvbiBhIE1lZGljYXRpb24gU3RhdGVtZW50IHJlZmxlY3QgdGhlIGRhdGVzIGZvciBhIGdpdmVuIGRvc2UuICBGb3IgZXhhbXBsZSwgXCJmcm9tIE5vdmVtYmVyIDEsIDIwMTYgdG8gTm92ZW1iZXIgMywgMjAxNiwgdGFrZSBvbmUgdGFibGV0IGRhaWx5IGFuZCBmcm9tIE5vdmVtYmVyIDQsIDIwMTYgdG8gTm92ZW1iZXIgNywgMjAxNiwgdGFrZSB0d28gdGFibGV0cyBkYWlseS5cIiAgSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGlzIHNwZWNpZmljaXR5IG1heSBvbmx5IGJlIHBvcHVsYXRlZCB3aGVyZSB0aGUgcGF0aWVudCBicmluZ3MgaW4gdGhlaXIgbGFiZWxlZCBjb250YWluZXIgb3Igd2hlcmUgdGhlIE1lZGljYXRpb24gU3RhdGVtZW50IGlzIGRlcml2ZWQgZnJvbSBhIE1lZGljYXRpb25SZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb3NhZ2U6IGZoaXIuRG9zYWdlW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvblN0YXRlbWVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25TdGF0ZW1lbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnTWVkaWNhdGlvblN0YXRlbWVudCc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydiYXNlZE9uJ10pIHsgdGhpcy5iYXNlZE9uID0gc291cmNlLmJhc2VkT24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5iYXNlZE9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhcnRPZiddKSB7IHRoaXMucGFydE9mID0gc291cmNlLnBhcnRPZi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBhcnRPZiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydjb250ZXh0J10pIHsgdGhpcy5jb250ZXh0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5jb250ZXh0KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxNZWRpY2F0aW9uU3RhdGVtZW50U3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPE1lZGljYXRpb25TdGF0ZW1lbnRTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhdGVnb3J5J10pIHsgdGhpcy5jYXRlZ29yeSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuY2F0ZWdvcnkpOyB9XHJcbiAgICBpZiAoc291cmNlWydtZWRpY2F0aW9uJ10pIHsgdGhpcy5tZWRpY2F0aW9uID0gc291cmNlLm1lZGljYXRpb247IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnbWVkaWNhdGlvbkNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMubWVkaWNhdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubWVkaWNhdGlvbkNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnbWVkaWNhdGlvblJlZmVyZW5jZSddKSB7IHRoaXMubWVkaWNhdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubWVkaWNhdGlvblJlZmVyZW5jZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1lZGljYXRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydlZmZlY3RpdmUnXSkgeyB0aGlzLmVmZmVjdGl2ZSA9IHNvdXJjZS5lZmZlY3RpdmU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZWZmZWN0aXZlRGF0ZVRpbWUnXSkgeyB0aGlzLmVmZmVjdGl2ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5lZmZlY3RpdmVEYXRlVGltZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZVBlcmlvZCddKSB7IHRoaXMuZWZmZWN0aXZlID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5lZmZlY3RpdmVQZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlQXNzZXJ0ZWQnXSkgeyB0aGlzLmRhdGVBc3NlcnRlZCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlQXNzZXJ0ZWR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGVBc3NlcnRlZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGVBc3NlcnRlZCkgeyB0aGlzLmRhdGVBc3NlcnRlZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlQXNzZXJ0ZWQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kYXRlQXNzZXJ0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlQXNzZXJ0ZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5mb3JtYXRpb25Tb3VyY2UnXSkgeyB0aGlzLmluZm9ybWF0aW9uU291cmNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5pbmZvcm1hdGlvblNvdXJjZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YmplY3QnXSkgeyB0aGlzLnN1YmplY3QgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnN1YmplY3QpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJqZWN0ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVyaXZlZEZyb20nXSkgeyB0aGlzLmRlcml2ZWRGcm9tID0gc291cmNlLmRlcml2ZWRGcm9tLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVyaXZlZEZyb20gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGFrZW4nXSkgeyB0aGlzLnRha2VuID0gbmV3IGZoaXIuRmhpckNvZGU8TWVkaWNhdGlvblN0YXRlbWVudFRha2VuQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnRha2VufSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRha2VuID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3Rha2VuJ10pIHtcclxuICAgICAgaWYgKHRoaXMudGFrZW4pIHsgdGhpcy50YWtlbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90YWtlbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnRha2VuID0gbmV3IGZoaXIuRmhpckNvZGU8TWVkaWNhdGlvblN0YXRlbWVudFRha2VuQ29kZVR5cGU+KHNvdXJjZS5fdGFrZW4gYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbk5vdFRha2VuJ10pIHsgdGhpcy5yZWFzb25Ob3RUYWtlbiA9IHNvdXJjZS5yZWFzb25Ob3RUYWtlbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlYXNvbk5vdFRha2VuID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbkNvZGUnXSkgeyB0aGlzLnJlYXNvbkNvZGUgPSBzb3VyY2UucmVhc29uQ29kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlYXNvbkNvZGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uUmVmZXJlbmNlJ10pIHsgdGhpcy5yZWFzb25SZWZlcmVuY2UgPSBzb3VyY2UucmVhc29uUmVmZXJlbmNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVhc29uUmVmZXJlbmNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBzb3VyY2Uubm90ZS5tYXAoKHgpID0+IG5ldyBmaGlyLkFubm90YXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5ub3RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rvc2FnZSddKSB7IHRoaXMuZG9zYWdlID0gc291cmNlLmRvc2FnZS5tYXAoKHgpID0+IG5ldyBmaGlyLkRvc2FnZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvc2FnZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvblN0YXRlbWVudCcgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9BKCdiYXNlZE9uJyxleHApXHJcbiAgICB0aGlzLnZPQSgncGFydE9mJyxleHApXHJcbiAgICB0aGlzLnZPUygnY29udGV4dCcsZXhwKVxyXG4gICAgdGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnTWVkaWNhdGlvblN0YXRlbWVudFN0YXR1cycsTWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c1ZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPUygnY2F0ZWdvcnknLGV4cClcclxuICAgIHRoaXMudlJTKCdtZWRpY2F0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygnZWZmZWN0aXZlJyxleHApXHJcbiAgICB0aGlzLnZPUygnZGF0ZUFzc2VydGVkJyxleHApXHJcbiAgICB0aGlzLnZPUygnaW5mb3JtYXRpb25Tb3VyY2UnLGV4cClcclxuICAgIHRoaXMudlJTKCdzdWJqZWN0JyxleHApXHJcbiAgICB0aGlzLnZPQSgnZGVyaXZlZEZyb20nLGV4cClcclxuICAgIHRoaXMudlJTVigndGFrZW4nLGV4cCwnTWVkaWNhdGlvblN0YXRlbWVudFRha2VuJyxNZWRpY2F0aW9uU3RhdGVtZW50VGFrZW5Wc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T0EoJ3JlYXNvbk5vdFRha2VuJyxleHApXHJcbiAgICB0aGlzLnZPQSgncmVhc29uQ29kZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3JlYXNvblJlZmVyZW5jZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ25vdGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdkb3NhZ2UnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==