// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: Substance

import * as fhir from '../fhir.js';

/**
 * Valid arguments for the SubstanceInstance type.
 */
export interface SubstanceInstanceArgs extends fhir.BackboneElementArgs {
  /**
   * Identifier associated with the package/container (usually a label affixed directly).
   */
  identifier?: fhir.IdentifierArgs|undefined;
  /**
   * When the substance is no longer valid to use. For some substances, a single arbitrary date is used for expiry.
   */
  expiry?: fhir.FhirDateTime|string|undefined;
  /**
   * Extended properties for primitive element: Substance.instance.expiry
   */
  _expiry?:fhir.FhirElementArgs;
  /**
   * The amount of the substance.
   */
  quantity?: fhir.QuantityArgs|undefined;
}

/**
 * Substance may be used to describe a kind of substance, or a specific package/container of the substance: an instance.
 */
export class SubstanceInstance extends fhir.BackboneElement {
  /**
   * Mapping of this datatype to a FHIR equivalent
   */
  public static override readonly _fts_dataType:string = 'SubstanceInstance';
  /**
   * Identifier associated with the package/container (usually a label affixed directly).
   */
  public identifier?: fhir.Identifier|undefined;
  /**
   * When the substance is no longer valid to use. For some substances, a single arbitrary date is used for expiry.
   */
  public expiry?: fhir.FhirDateTime|undefined;
  /**
   * The amount of the substance.
   */
  public quantity?: fhir.Quantity|undefined;
  /**
   * Default constructor for SubstanceInstance - initializes any required elements to null if a value is not provided.
   */
  constructor(source:Partial<SubstanceInstanceArgs> = {}, options:fhir.FhirConstructorOptions = {}) {
    super(source, options);
    if (source['identifier']) { this.identifier = new fhir.Identifier(source.identifier); }
    if (source['expiry']) { this.expiry = new fhir.FhirDateTime({value: source.expiry}); }
    if (source['_expiry']) {
      if (this.expiry) { this.expiry.addExtendedProperties(source._expiry!); }
      else { this.expiry = new fhir.FhirDateTime(source._expiry as Partial<fhir.FhirDateTimeArgs>); }
    }
    if (source['quantity']) { this.quantity = new fhir.Quantity(source.quantity); }
  }
  /**
   * Function to perform basic model validation (e.g., check if required elements are present).
   */
  public override doModelValidation(exp:string = ''):fhir.FtsIssue[] {
    let iss:fhir.FtsIssue[] = super.doModelValidation(exp);
    if (exp === '') { exp = 'Substance.instance' }
    iss.push(...this.vOS('identifier',exp));
    iss.push(...this.vOS('expiry',exp));
    iss.push(...this.vOS('quantity',exp));
    return iss;
  }
}
/**
 * Valid arguments for the SubstanceIngredient type.
 */
export interface SubstanceIngredientArgs extends fhir.BackboneElementArgs {
  /**
   * The amount of the ingredient in the substance - a concentration ratio.
   */
  quantity?: fhir.RatioArgs|undefined;
  /**
   * Another substance that is a component of this substance.
   */
  substance: fhir.ReferenceArgs|null;
}

/**
 * A substance can be composed of other substances.
 */
export class SubstanceIngredient extends fhir.BackboneElement {
  /**
   * Mapping of this datatype to a FHIR equivalent
   */
  public static override readonly _fts_dataType:string = 'SubstanceIngredient';
  /**
   * The amount of the ingredient in the substance - a concentration ratio.
   */
  public quantity?: fhir.Ratio|undefined;
  /**
   * Another substance that is a component of this substance.
   */
  public substance: fhir.Reference|null;
  /**
   * Default constructor for SubstanceIngredient - initializes any required elements to null if a value is not provided.
   */
  constructor(source:Partial<SubstanceIngredientArgs> = {}, options:fhir.FhirConstructorOptions = {}) {
    super(source, options);
    if (source['quantity']) { this.quantity = new fhir.Ratio(source.quantity); }
    if (source['substance']) { this.substance = new fhir.Reference(source.substance); }
    else { this.substance = null; }
  }
  /**
   * Function to perform basic model validation (e.g., check if required elements are present).
   */
  public override doModelValidation(exp:string = ''):fhir.FtsIssue[] {
    let iss:fhir.FtsIssue[] = super.doModelValidation(exp);
    if (exp === '') { exp = 'Substance.ingredient' }
    iss.push(...this.vOS('quantity',exp));
    iss.push(...this.vRS('substance',exp));
    return iss;
  }
}
/**
 * Valid arguments for the Substance type.
 */
export interface SubstanceArgs extends fhir.DomainResourceArgs {
  /**
   * Resource Type Name
   */
  resourceType: "Substance"|undefined;
  /**
   * Unique identifier for the substance.
   */
  identifier?: fhir.IdentifierArgs[]|undefined;
  /**
   * A code that classifies the general type of substance.  This is used  for searching, sorting and display purposes.
   */
  category?: fhir.CodeableConceptArgs[]|undefined;
  /**
   * A code (or set of codes) that identify this substance.
   */
  code: fhir.CodeableConceptArgs|null;
  /**
   * A description of the substance - its appearance, handling requirements, and other usage notes.
   */
  description?: fhir.FhirString|string|undefined;
  /**
   * Extended properties for primitive element: Substance.description
   */
  _description?:fhir.FhirElementArgs;
  /**
   * Substance may be used to describe a kind of substance, or a specific package/container of the substance: an instance.
   */
  instance?: fhir.SubstanceInstanceArgs[]|undefined;
  /**
   * A substance can be composed of other substances.
   */
  ingredient?: fhir.SubstanceIngredientArgs[]|undefined;
}

/**
 * A homogeneous material with a definite composition.
 */
export class Substance extends fhir.DomainResource {
  /**
   * Mapping of this datatype to a FHIR equivalent
   */
  public static override readonly _fts_dataType:string = 'Substance';
  /**
   * Resource Type Name
   */
  public override resourceType: "Substance";
  /**
   * Unique identifier for the substance.
   */
  public identifier: fhir.Identifier[];
  /**
   * A code that classifies the general type of substance.  This is used  for searching, sorting and display purposes.
   */
  public category: fhir.CodeableConcept[];
  /**
   * A code (or set of codes) that identify this substance.
   */
  public code: fhir.CodeableConcept|null;
  /**
   * A description of the substance - its appearance, handling requirements, and other usage notes.
   */
  public description?: fhir.FhirString|undefined;
  /**
   * Substance may be used to describe a kind of substance, or a specific package/container of the substance: an instance.
   */
  public instance: fhir.SubstanceInstance[];
  /**
   * A substance can be composed of other substances.
   */
  public ingredient: fhir.SubstanceIngredient[];
  /**
   * Default constructor for Substance - initializes any required elements to null if a value is not provided.
   */
  constructor(source:Partial<SubstanceArgs> = {}, options:fhir.FhirConstructorOptions = {}) {
    super(source, options);
    this.resourceType = 'Substance';
    if (source['identifier']) { this.identifier = source.identifier.map((x) => new fhir.Identifier(x)); }
    else { this.identifier = []; }
    if (source['category']) { this.category = source.category.map((x) => new fhir.CodeableConcept(x)); }
    else { this.category = []; }
    if (source['code']) { this.code = new fhir.CodeableConcept(source.code); }
    else { this.code = null; }
    if (source['description']) { this.description = new fhir.FhirString({value: source.description}); }
    if (source['_description']) {
      if (this.description) { this.description.addExtendedProperties(source._description!); }
      else { this.description = new fhir.FhirString(source._description as Partial<fhir.FhirStringArgs>); }
    }
    if (source['instance']) { this.instance = source.instance.map((x) => new fhir.SubstanceInstance(x)); }
    else { this.instance = []; }
    if (source['ingredient']) { this.ingredient = source.ingredient.map((x) => new fhir.SubstanceIngredient(x)); }
    else { this.ingredient = []; }
  }
  /**
   * Function to perform basic model validation (e.g., check if required elements are present).
   */
  public override doModelValidation(exp:string = ''):fhir.FtsIssue[] {
    let iss:fhir.FtsIssue[] = super.doModelValidation(exp);
    if (exp === '') { exp = 'Substance' }
    iss.push(...this.vOA('identifier',exp));
    iss.push(...this.vOA('category',exp));
    iss.push(...this.vRS('code',exp));
    iss.push(...this.vOS('description',exp));
    iss.push(...this.vOA('instance',exp));
    iss.push(...this.vOA('ingredient',exp));
    return iss;
  }
}
