// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: AllergyIntolerance
import * as fhir from '../fhir.js';
// @ts-ignore
import { ReactionEventCertaintyVsValidation } from '../fhirValueSets/ReactionEventCertaintyVsValidation.js';
// @ts-ignore
import { ReactionEventSeverityVsValidation } from '../fhirValueSets/ReactionEventSeverityVsValidation.js';
// @ts-ignore
import { AllergyIntoleranceStatusVsValidation } from '../fhirValueSets/AllergyIntoleranceStatusVsValidation.js';
// @ts-ignore
import { AllergyIntoleranceCriticalityVsValidation } from '../fhirValueSets/AllergyIntoleranceCriticalityVsValidation.js';
// @ts-ignore
import { AllergyIntoleranceTypeVsValidation } from '../fhirValueSets/AllergyIntoleranceTypeVsValidation.js';
// @ts-ignore
import { AllergyIntoleranceCategoryVsValidation } from '../fhirValueSets/AllergyIntoleranceCategoryVsValidation.js';
/**
 * Details about each adverse reaction event linked to exposure to the identified Substance.
 */
export class AllergyIntoleranceReaction extends fhir.BackboneElement {
    /**
     * Default constructor for AllergyIntoleranceReaction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['substance']) {
            this.substance = new fhir.CodeableConcept(source.substance);
        }
        if (source['certainty']) {
            this.certainty = new fhir.FhirCode({ value: source.certainty });
        }
        if (source['_certainty']) {
            if (this.certainty) {
                this.certainty.addExtendedProperties(source._certainty);
            }
            else {
                this.certainty = new fhir.FhirCode(source._certainty);
            }
        }
        if (source['manifestation']) {
            this.manifestation = source.manifestation.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.manifestation = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['onset']) {
            this.onset = new fhir.FhirDateTime({ value: source.onset });
        }
        if (source['_onset']) {
            if (this.onset) {
                this.onset.addExtendedProperties(source._onset);
            }
            else {
                this.onset = new fhir.FhirDateTime(source._onset);
            }
        }
        if (source['severity']) {
            this.severity = new fhir.FhirCode({ value: source.severity });
        }
        if (source['_severity']) {
            if (this.severity) {
                this.severity.addExtendedProperties(source._severity);
            }
            else {
                this.severity = new fhir.FhirCode(source._severity);
            }
        }
        if (source['exposureRoute']) {
            this.exposureRoute = new fhir.CodeableConcept(source.exposureRoute);
        }
        if (source['note']) {
            this.note = new fhir.Annotation(source.note);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AllergyIntolerance.reaction';
        }
        iss.push(...this.vOS('substance', exp));
        iss.push(...this.vOSV('certainty', exp, 'ReactionEventCertainty', ReactionEventCertaintyVsValidation, 'r'));
        iss.push(...this.vRA('manifestation', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('onset', exp));
        iss.push(...this.vOSV('severity', exp, 'ReactionEventSeverity', ReactionEventSeverityVsValidation, 'r'));
        iss.push(...this.vOS('exposureRoute', exp));
        iss.push(...this.vOS('note', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AllergyIntoleranceReaction._fts_dataType = 'AllergyIntoleranceReaction';
/**
 * Risk of harmful or undesirable, physiological response which is unique to an individual and associated with exposure to a substance.
 */
export class AllergyIntolerance extends fhir.DomainResource {
    /**
     * Default constructor for AllergyIntolerance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AllergyIntolerance';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['onset']) {
            this.onset = new fhir.FhirDateTime({ value: source.onset });
        }
        if (source['_onset']) {
            if (this.onset) {
                this.onset.addExtendedProperties(source._onset);
            }
            else {
                this.onset = new fhir.FhirDateTime(source._onset);
            }
        }
        if (source['recordedDate']) {
            this.recordedDate = new fhir.FhirDateTime({ value: source.recordedDate });
        }
        if (source['_recordedDate']) {
            if (this.recordedDate) {
                this.recordedDate.addExtendedProperties(source._recordedDate);
            }
            else {
                this.recordedDate = new fhir.FhirDateTime(source._recordedDate);
            }
        }
        if (source['recorder']) {
            this.recorder = new fhir.Reference(source.recorder);
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        else {
            this.patient = null;
        }
        if (source['reporter']) {
            this.reporter = new fhir.Reference(source.reporter);
        }
        if (source['substance']) {
            this.substance = new fhir.CodeableConcept(source.substance);
        }
        else {
            this.substance = null;
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['criticality']) {
            this.criticality = new fhir.FhirCode({ value: source.criticality });
        }
        if (source['_criticality']) {
            if (this.criticality) {
                this.criticality.addExtendedProperties(source._criticality);
            }
            else {
                this.criticality = new fhir.FhirCode(source._criticality);
            }
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['category']) {
            this.category = new fhir.FhirCode({ value: source.category });
        }
        if (source['_category']) {
            if (this.category) {
                this.category.addExtendedProperties(source._category);
            }
            else {
                this.category = new fhir.FhirCode(source._category);
            }
        }
        if (source['lastOccurence']) {
            this.lastOccurence = new fhir.FhirDateTime({ value: source.lastOccurence });
        }
        if (source['_lastOccurence']) {
            if (this.lastOccurence) {
                this.lastOccurence.addExtendedProperties(source._lastOccurence);
            }
            else {
                this.lastOccurence = new fhir.FhirDateTime(source._lastOccurence);
            }
        }
        if (source['note']) {
            this.note = new fhir.Annotation(source.note);
        }
        if (source['reaction']) {
            this.reaction = source.reaction.map((x) => new fhir.AllergyIntoleranceReaction(x));
        }
        else {
            this.reaction = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AllergyIntolerance';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('onset', exp));
        iss.push(...this.vOS('recordedDate', exp));
        iss.push(...this.vOS('recorder', exp));
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('reporter', exp));
        iss.push(...this.vRS('substance', exp));
        iss.push(...this.vOSV('status', exp, 'AllergyIntoleranceStatus', AllergyIntoleranceStatusVsValidation, 'r'));
        iss.push(...this.vOSV('criticality', exp, 'AllergyIntoleranceCriticality', AllergyIntoleranceCriticalityVsValidation, 'r'));
        iss.push(...this.vOSV('type', exp, 'AllergyIntoleranceType', AllergyIntoleranceTypeVsValidation, 'r'));
        iss.push(...this.vOSV('category', exp, 'AllergyIntoleranceCategory', AllergyIntoleranceCategoryVsValidation, 'r'));
        iss.push(...this.vOS('lastOccurence', exp));
        iss.push(...this.vOS('note', exp));
        iss.push(...this.vOA('reaction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AllergyIntolerance._fts_dataType = 'AllergyIntolerance';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWxsZXJneUludG9sZXJhbmNlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BbGxlcmd5SW50b2xlcmFuY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsa0NBQWtDLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUc1RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGlDQUFpQyxFQUFFLE1BQU0sdURBQXVELENBQUM7QUFHMUcsYUFBYTtBQUNiLE9BQU8sRUFBRSxvQ0FBb0MsRUFBRSxNQUFNLDBEQUEwRCxDQUFDO0FBR2hILGFBQWE7QUFDYixPQUFPLEVBQUUseUNBQXlDLEVBQUUsTUFBTSwrREFBK0QsQ0FBQztBQUcxSCxhQUFhO0FBQ2IsT0FBTyxFQUFFLGtDQUFrQyxFQUFFLE1BQU0sd0RBQXdELENBQUM7QUFHNUcsYUFBYTtBQUNiLE9BQU8sRUFBRSxzQ0FBc0MsRUFBRSxNQUFNLDREQUE0RCxDQUFDO0FBdURwSDs7R0FFRztBQUNILE1BQU0sT0FBTywwQkFBMkIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXFDbEU7O09BRUc7SUFDSCxZQUFZLFNBQWlELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3ZHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7U0FBRTtRQUN6RixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFpQyxFQUFD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LENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUEzSUQ7O0dBRUc7QUFDNkIsZ0NBQWEsR0FBVSxvQkFBb0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yMi5jb3JlIHZlcnNpb246IDEuMC4yXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogQWxsZXJneUludG9sZXJhbmNlXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWFjdGlvbkV2ZW50Q2VydGFpbnR5Q29kZXMsICBSZWFjdGlvbkV2ZW50Q2VydGFpbnR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlYWN0aW9uRXZlbnRDZXJ0YWludHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVhY3Rpb25FdmVudENlcnRhaW50eVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVhY3Rpb25FdmVudENlcnRhaW50eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZXMsICBSZWFjdGlvbkV2ZW50U2V2ZXJpdHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlYWN0aW9uRXZlbnRTZXZlcml0eVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVhY3Rpb25FdmVudFNldmVyaXR5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5SW50b2xlcmFuY2VTdGF0dXNDb2RlcywgIEFsbGVyZ3lJbnRvbGVyYW5jZVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWxsZXJneUludG9sZXJhbmNlU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VTdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5Q29kZXMsICBBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWxsZXJneUludG9sZXJhbmNlQ3JpdGljYWxpdHlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lJbnRvbGVyYW5jZVR5cGVDb2RlcywgIEFsbGVyZ3lJbnRvbGVyYW5jZVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWxsZXJneUludG9sZXJhbmNlVHlwZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5SW50b2xlcmFuY2VUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeUNvZGVzLCAgQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5VnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEFsbGVyZ3lJbnRvbGVyYW5jZVJlYWN0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFsbGVyZ3lJbnRvbGVyYW5jZVJlYWN0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmljYXRpb24gb2YgdGhlIHNwZWNpZmljIHN1YnN0YW5jZSBjb25zaWRlcmVkIHRvIGJlIHJlc3BvbnNpYmxlIGZvciB0aGUgQWR2ZXJzZSBSZWFjdGlvbiBldmVudC4gTm90ZTogdGhlIHN1YnN0YW5jZSBmb3IgYSBzcGVjaWZpYyByZWFjdGlvbiBtYXkgYmUgZGlmZmVyZW50IHRvIHRoZSBzdWJzdGFuY2UgaWRlbnRpZmllZCBhcyB0aGUgY2F1c2Ugb2YgdGhlIHJpc2ssIGJ1dCBtdXN0IGJlIGNvbnNpc3RlbnQgd2l0aCBpdC4gRm9yIGluc3RhbmNlLCBpdCBtYXkgYmUgYSBtb3JlIHNwZWNpZmljIHN1YnN0YW5jZSAoZS5nLiBhIGJyYW5kIG1lZGljYXRpb24pIG9yIGEgY29tcG9zaXRlIHN1YnN0YW5jZSB0aGF0IGluY2x1ZGVzIHRoZSBpZGVudGlmaWVkIHN1YnN0YW5jZS4gSXQgbXVzdCBiZSBjbGluaWNhbGx5IHNhZmUgdG8gb25seSBwcm9jZXNzIHRoZSBBbGxlcmd5SW50b2xlcmFuY2Uuc3Vic3RhbmNlIGFuZCBpZ25vcmUgdGhlIEFsbGVyZ3lJbnRvbGVyYW5jZS5ldmVudC5zdWJzdGFuY2UuXHJcbiAgICovXHJcbiAgc3Vic3RhbmNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdGF0ZW1lbnQgYWJvdXQgdGhlIGRlZ3JlZSBvZiBjbGluaWNhbCBjZXJ0YWludHkgdGhhdCB0aGUgc3BlY2lmaWMgc3Vic3RhbmNlIHdhcyB0aGUgY2F1c2Ugb2YgdGhlIG1hbmlmZXN0YXRpb24gaW4gdGhpcyByZWFjdGlvbiBldmVudC5cclxuICAgKi9cclxuICBjZXJ0YWludHk/OiBmaGlyLkZoaXJDb2RlPFJlYWN0aW9uRXZlbnRDZXJ0YWludHlDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLnJlYWN0aW9uLmNlcnRhaW50eVxyXG4gICAqL1xyXG4gIF9jZXJ0YWludHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENsaW5pY2FsIHN5bXB0b21zIGFuZC9vciBzaWducyB0aGF0IGFyZSBvYnNlcnZlZCBvciBhc3NvY2lhdGVkIHdpdGggdGhlIGFkdmVyc2UgcmVhY3Rpb24gZXZlbnQuXHJcbiAgICovXHJcbiAgbWFuaWZlc3RhdGlvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118bnVsbDtcclxuICAvKipcclxuICAgKiBUZXh0IGRlc2NyaXB0aW9uIGFib3V0IHRoZSByZWFjdGlvbiBhcyBhIHdob2xlLCBpbmNsdWRpbmcgZGV0YWlscyBvZiB0aGUgbWFuaWZlc3RhdGlvbiBpZiByZXF1aXJlZC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UucmVhY3Rpb24uZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFJlY29yZCBvZiB0aGUgZGF0ZSBhbmQvb3IgdGltZSBvZiB0aGUgb25zZXQgb2YgdGhlIFJlYWN0aW9uLlxyXG4gICAqL1xyXG4gIG9uc2V0PzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLnJlYWN0aW9uLm9uc2V0XHJcbiAgICovXHJcbiAgX29uc2V0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBDbGluaWNhbCBhc3Nlc3NtZW50IG9mIHRoZSBzZXZlcml0eSBvZiB0aGUgcmVhY3Rpb24gZXZlbnQgYXMgYSB3aG9sZSwgcG90ZW50aWFsbHkgY29uc2lkZXJpbmcgbXVsdGlwbGUgZGlmZmVyZW50IG1hbmlmZXN0YXRpb25zLlxyXG4gICAqL1xyXG4gIHNldmVyaXR5PzogZmhpci5GaGlyQ29kZTxSZWFjdGlvbkV2ZW50U2V2ZXJpdHlDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLnJlYWN0aW9uLnNldmVyaXR5XHJcbiAgICovXHJcbiAgX3NldmVyaXR5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJZGVudGlmaWNhdGlvbiBvZiB0aGUgcm91dGUgYnkgd2hpY2ggdGhlIHN1YmplY3Qgd2FzIGV4cG9zZWQgdG8gdGhlIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBleHBvc3VyZVJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIHRleHQgYWJvdXQgdGhlIGFkdmVyc2UgcmVhY3Rpb24gZXZlbnQgbm90IGNhcHR1cmVkIGluIG90aGVyIGZpZWxkcy5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXRhaWxzIGFib3V0IGVhY2ggYWR2ZXJzZSByZWFjdGlvbiBldmVudCBsaW5rZWQgdG8gZXhwb3N1cmUgdG8gdGhlIGlkZW50aWZpZWQgU3Vic3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFsbGVyZ3lJbnRvbGVyYW5jZVJlYWN0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb24nO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpY2F0aW9uIG9mIHRoZSBzcGVjaWZpYyBzdWJzdGFuY2UgY29uc2lkZXJlZCB0byBiZSByZXNwb25zaWJsZSBmb3IgdGhlIEFkdmVyc2UgUmVhY3Rpb24gZXZlbnQuIE5vdGU6IHRoZSBzdWJzdGFuY2UgZm9yIGEgc3BlY2lmaWMgcmVhY3Rpb24gbWF5IGJlIGRpZmZlcmVudCB0byB0aGUgc3Vic3RhbmNlIGlkZW50aWZpZWQgYXMgdGhlIGNhdXNlIG9mIHRoZSByaXNrLCBidXQgbXVzdCBiZSBjb25zaXN0ZW50IHdpdGggaXQuIEZvciBpbnN0YW5jZSwgaXQgbWF5IGJlIGEgbW9yZSBzcGVjaWZpYyBzdWJzdGFuY2UgKGUuZy4gYSBicmFuZCBtZWRpY2F0aW9uKSBvciBhIGNvbXBvc2l0ZSBzdWJzdGFuY2UgdGhhdCBpbmNsdWRlcyB0aGUgaWRlbnRpZmllZCBzdWJzdGFuY2UuIEl0IG11c3QgYmUgY2xpbmljYWxseSBzYWZlIHRvIG9ubHkgcHJvY2VzcyB0aGUgQWxsZXJneUludG9sZXJhbmNlLnN1YnN0YW5jZSBhbmQgaWdub3JlIHRoZSBBbGxlcmd5SW50b2xlcmFuY2UuZXZlbnQuc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJzdGFuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3RhdGVtZW50IGFib3V0IHRoZSBkZWdyZWUgb2YgY2xpbmljYWwgY2VydGFpbnR5IHRoYXQgdGhlIHNwZWNpZmljIHN1YnN0YW5jZSB3YXMgdGhlIGNhdXNlIG9mIHRoZSBtYW5pZmVzdGF0aW9uIGluIHRoaXMgcmVhY3Rpb24gZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNlcnRhaW50eT86IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudENlcnRhaW50eUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2xpbmljYWwgc3ltcHRvbXMgYW5kL29yIHNpZ25zIHRoYXQgYXJlIG9ic2VydmVkIG9yIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWR2ZXJzZSByZWFjdGlvbiBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgbWFuaWZlc3RhdGlvbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUZXh0IGRlc2NyaXB0aW9uIGFib3V0IHRoZSByZWFjdGlvbiBhcyBhIHdob2xlLCBpbmNsdWRpbmcgZGV0YWlscyBvZiB0aGUgbWFuaWZlc3RhdGlvbiBpZiByZXF1aXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlY29yZCBvZiB0aGUgZGF0ZSBhbmQvb3IgdGltZSBvZiB0aGUgb25zZXQgb2YgdGhlIFJlYWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvbnNldD86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDbGluaWNhbCBhc3Nlc3NtZW50IG9mIHRoZSBzZXZlcml0eSBvZiB0aGUgcmVhY3Rpb24gZXZlbnQgYXMgYSB3aG9sZSwgcG90ZW50aWFsbHkgY29uc2lkZXJpbmcgbXVsdGlwbGUgZGlmZmVyZW50IG1hbmlmZXN0YXRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXZlcml0eT86IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWNhdGlvbiBvZiB0aGUgcm91dGUgYnkgd2hpY2ggdGhlIHN1YmplY3Qgd2FzIGV4cG9zZWQgdG8gdGhlIHN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgZXhwb3N1cmVSb3V0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIHRleHQgYWJvdXQgdGhlIGFkdmVyc2UgcmVhY3Rpb24gZXZlbnQgbm90IGNhcHR1cmVkIGluIG90aGVyIGZpZWxkcy5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZT86IGZoaXIuQW5ub3RhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBbGxlcmd5SW50b2xlcmFuY2VSZWFjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydzdWJzdGFuY2UnXSkgeyB0aGlzLnN1YnN0YW5jZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3Vic3RhbmNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2VydGFpbnR5J10pIHsgdGhpcy5jZXJ0YWludHkgPSBuZXcgZmhpci5GaGlyQ29kZTxSZWFjdGlvbkV2ZW50Q2VydGFpbnR5Q29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmNlcnRhaW50eX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY2VydGFpbnR5J10pIHtcclxuICAgICAgaWYgKHRoaXMuY2VydGFpbnR5KSB7IHRoaXMuY2VydGFpbnR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NlcnRhaW50eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNlcnRhaW50eSA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlYWN0aW9uRXZlbnRDZXJ0YWludHlDb2RlVHlwZT4oc291cmNlLl9jZXJ0YWludHkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21hbmlmZXN0YXRpb24nXSkgeyB0aGlzLm1hbmlmZXN0YXRpb24gPSBzb3VyY2UubWFuaWZlc3RhdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1hbmlmZXN0YXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29uc2V0J10pIHsgdGhpcy5vbnNldCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5vbnNldH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb25zZXQnXSkge1xyXG4gICAgICBpZiAodGhpcy5vbnNldCkgeyB0aGlzLm9uc2V0LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX29uc2V0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub25zZXQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9vbnNldCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZXZlcml0eSddKSB7IHRoaXMuc2V2ZXJpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxSZWFjdGlvbkV2ZW50U2V2ZXJpdHlDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc2V2ZXJpdHl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3NldmVyaXR5J10pIHtcclxuICAgICAgaWYgKHRoaXMuc2V2ZXJpdHkpIHsgdGhpcy5zZXZlcml0eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zZXZlcml0eSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNldmVyaXR5ID0gbmV3IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZVR5cGU+KHNvdXJjZS5fc2V2ZXJpdHkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2V4cG9zdXJlUm91dGUnXSkgeyB0aGlzLmV4cG9zdXJlUm91dGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmV4cG9zdXJlUm91dGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RlJ10pIHsgdGhpcy5ub3RlID0gbmV3IGZoaXIuQW5ub3RhdGlvbihzb3VyY2Uubm90ZSk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBbGxlcmd5SW50b2xlcmFuY2UucmVhY3Rpb24nIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdWJzdGFuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdjZXJ0YWludHknLGV4cCwnUmVhY3Rpb25FdmVudENlcnRhaW50eScsUmVhY3Rpb25FdmVudENlcnRhaW50eVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJBKCdtYW5pZmVzdGF0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb25zZXQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdzZXZlcml0eScsZXhwLCdSZWFjdGlvbkV2ZW50U2V2ZXJpdHknLFJlYWN0aW9uRXZlbnRTZXZlcml0eVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdleHBvc3VyZVJvdXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdub3RlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBbGxlcmd5SW50b2xlcmFuY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWxsZXJneUludG9sZXJhbmNlQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQWxsZXJneUludG9sZXJhbmNlXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgcmVjb3JkcyBpZGVudGlmaWVycyBhc3NvY2lhdGVkIHdpdGggdGhpcyBhbGxlcmd5L2ludG9sZXJhbmNlIGNvbmNlcm4gdGhhdCBhcmUgZGVmaW5lZCBieSBidXNpbmVzcyBwcm9jZXNzZXMgYW5kL29yIHVzZWQgdG8gcmVmZXIgdG8gaXQgd2hlbiBhIGRpcmVjdCBVUkwgcmVmZXJlbmNlIHRvIHRoZSByZXNvdXJjZSBpdHNlbGYgaXMgbm90IGFwcHJvcHJpYXRlIChlLmcuIGluIENEQSBkb2N1bWVudHMsIG9yIGluIHdyaXR0ZW4gLyBwcmludGVkIGRvY3VtZW50YXRpb24pLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFJlY29yZCBvZiB0aGUgZGF0ZSBhbmQvb3IgdGltZSBvZiB0aGUgb25zZXQgb2YgdGhlIEFsbGVyZ3kgb3IgSW50b2xlcmFuY2UuXHJcbiAgICovXHJcbiAgb25zZXQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2Uub25zZXRcclxuICAgKi9cclxuICBfb25zZXQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIERhdGUgd2hlbiB0aGUgc2Vuc2l0aXZpdHkgd2FzIHJlY29yZGVkLlxyXG4gICAqL1xyXG4gIHJlY29yZGVkRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFsbGVyZ3lJbnRvbGVyYW5jZS5yZWNvcmRlZERhdGVcclxuICAgKi9cclxuICBfcmVjb3JkZWREYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmRpdmlkdWFsIHdobyByZWNvcmRlZCB0aGUgcmVjb3JkIGFuZCB0YWtlcyByZXNwb25zaWJpbGl0eSBmb3IgaXRzIGNvbnRlbi5cclxuICAgKi9cclxuICByZWNvcmRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGllbnQgd2hvIGhhcyB0aGUgYWxsZXJneSBvciBpbnRvbGVyYW5jZS5cclxuICAgKi9cclxuICBwYXRpZW50OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIG9mIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYWxsZXJneSB0aGF0IGlzIHJlY29yZGVkLlxyXG4gICAqL1xyXG4gIHJlcG9ydGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWNhdGlvbiBvZiBhIHN1YnN0YW5jZSwgb3IgYSBjbGFzcyBvZiBzdWJzdGFuY2VzLCB0aGF0IGlzIGNvbnNpZGVyZWQgdG8gYmUgcmVzcG9uc2libGUgZm9yIHRoZSBhZHZlcnNlIHJlYWN0aW9uIHJpc2suXHJcbiAgICovXHJcbiAgc3Vic3RhbmNlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBBc3NlcnRpb24gYWJvdXQgY2VydGFpbnR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvcGVuc2l0eSwgb3IgcG90ZW50aWFsIHJpc2ssIG9mIGEgcmVhY3Rpb24gdG8gdGhlIGlkZW50aWZpZWQgU3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFsbGVyZ3lJbnRvbGVyYW5jZS5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBFc3RpbWF0ZSBvZiB0aGUgcG90ZW50aWFsIGNsaW5pY2FsIGhhcm0sIG9yIHNlcmlvdXNuZXNzLCBvZiB0aGUgcmVhY3Rpb24gdG8gdGhlIGlkZW50aWZpZWQgU3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIGNyaXRpY2FsaXR5PzogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UuY3JpdGljYWxpdHlcclxuICAgKi9cclxuICBfY3JpdGljYWxpdHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpY2F0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIHBoeXNpb2xvZ2ljYWwgbWVjaGFuaXNtIGZvciB0aGUgcmVhY3Rpb24gcmlzay5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFsbGVyZ3lJbnRvbGVyYW5jZS50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENhdGVnb3J5IG9mIHRoZSBpZGVudGlmaWVkIFN1YnN0YW5jZS5cclxuICAgKi9cclxuICBjYXRlZ29yeT86IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLmNhdGVnb3J5XHJcbiAgICovXHJcbiAgX2NhdGVnb3J5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBSZXByZXNlbnRzIHRoZSBkYXRlIGFuZC9vciB0aW1lIG9mIHRoZSBsYXN0IGtub3duIG9jY3VycmVuY2Ugb2YgYSByZWFjdGlvbiBldmVudC5cclxuICAgKi9cclxuICBsYXN0T2NjdXJlbmNlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLmxhc3RPY2N1cmVuY2VcclxuICAgKi9cclxuICBfbGFzdE9jY3VyZW5jZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBuYXJyYXRpdmUgYWJvdXQgdGhlIHByb3BlbnNpdHkgZm9yIHRoZSBBZHZlcnNlIFJlYWN0aW9uLCBub3QgY2FwdHVyZWQgaW4gb3RoZXIgZmllbGRzLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkFubm90YXRpb25BcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXRhaWxzIGFib3V0IGVhY2ggYWR2ZXJzZSByZWFjdGlvbiBldmVudCBsaW5rZWQgdG8gZXhwb3N1cmUgdG8gdGhlIGlkZW50aWZpZWQgU3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHJlYWN0aW9uPzogZmhpci5BbGxlcmd5SW50b2xlcmFuY2VSZWFjdGlvbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSaXNrIG9mIGhhcm1mdWwgb3IgdW5kZXNpcmFibGUsIHBoeXNpb2xvZ2ljYWwgcmVzcG9uc2Ugd2hpY2ggaXMgdW5pcXVlIHRvIGFuIGluZGl2aWR1YWwgYW5kIGFzc29jaWF0ZWQgd2l0aCBleHBvc3VyZSB0byBhIHN1YnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbGxlcmd5SW50b2xlcmFuY2UgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0FsbGVyZ3lJbnRvbGVyYW5jZSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJBbGxlcmd5SW50b2xlcmFuY2VcIjtcclxuICAvKipcclxuICAgKiBUaGlzIHJlY29yZHMgaWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgYWxsZXJneS9pbnRvbGVyYW5jZSBjb25jZXJuIHRoYXQgYXJlIGRlZmluZWQgYnkgYnVzaW5lc3MgcHJvY2Vzc2VzIGFuZC9vciB1c2VkIHRvIHJlZmVyIHRvIGl0IHdoZW4gYSBkaXJlY3QgVVJMIHJlZmVyZW5jZSB0byB0aGUgcmVzb3VyY2UgaXRzZWxmIGlzIG5vdCBhcHByb3ByaWF0ZSAoZS5nLiBpbiBDREEgZG9jdW1lbnRzLCBvciBpbiB3cml0dGVuIC8gcHJpbnRlZCBkb2N1bWVudGF0aW9uKS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogUmVjb3JkIG9mIHRoZSBkYXRlIGFuZC9vciB0aW1lIG9mIHRoZSBvbnNldCBvZiB0aGUgQWxsZXJneSBvciBJbnRvbGVyYW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgb25zZXQ/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSB3aGVuIHRoZSBzZW5zaXRpdml0eSB3YXMgcmVjb3JkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlY29yZGVkRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpdmlkdWFsIHdobyByZWNvcmRlZCB0aGUgcmVjb3JkIGFuZCB0YWtlcyByZXNwb25zaWJpbGl0eSBmb3IgaXRzIGNvbnRlbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVjb3JkZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGllbnQgd2hvIGhhcyB0aGUgYWxsZXJneSBvciBpbnRvbGVyYW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0aWVudDogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgc291cmNlIG9mIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYWxsZXJneSB0aGF0IGlzIHJlY29yZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXBvcnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWNhdGlvbiBvZiBhIHN1YnN0YW5jZSwgb3IgYSBjbGFzcyBvZiBzdWJzdGFuY2VzLCB0aGF0IGlzIGNvbnNpZGVyZWQgdG8gYmUgcmVzcG9uc2libGUgZm9yIHRoZSBhZHZlcnNlIHJlYWN0aW9uIHJpc2suXHJcbiAgICovXHJcbiAgcHVibGljIHN1YnN0YW5jZTogZmhpci5Db2RlYWJsZUNvbmNlcHR8bnVsbDtcclxuICAvKipcclxuICAgKiBBc3NlcnRpb24gYWJvdXQgY2VydGFpbnR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvcGVuc2l0eSwgb3IgcG90ZW50aWFsIHJpc2ssIG9mIGEgcmVhY3Rpb24gdG8gdGhlIGlkZW50aWZpZWQgU3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZVN0YXR1c0NvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXN0aW1hdGUgb2YgdGhlIHBvdGVudGlhbCBjbGluaWNhbCBoYXJtLCBvciBzZXJpb3VzbmVzcywgb2YgdGhlIHJlYWN0aW9uIHRvIHRoZSBpZGVudGlmaWVkIFN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgY3JpdGljYWxpdHk/OiBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5Q29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWNhdGlvbiBvZiB0aGUgdW5kZXJseWluZyBwaHlzaW9sb2dpY2FsIG1lY2hhbmlzbSBmb3IgdGhlIHJlYWN0aW9uIHJpc2suXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZVR5cGVDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENhdGVnb3J5IG9mIHRoZSBpZGVudGlmaWVkIFN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk/OiBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZXByZXNlbnRzIHRoZSBkYXRlIGFuZC9vciB0aW1lIG9mIHRoZSBsYXN0IGtub3duIG9jY3VycmVuY2Ugb2YgYSByZWFjdGlvbiBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgbGFzdE9jY3VyZW5jZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIG5hcnJhdGl2ZSBhYm91dCB0aGUgcHJvcGVuc2l0eSBmb3IgdGhlIEFkdmVyc2UgUmVhY3Rpb24sIG5vdCBjYXB0dXJlZCBpbiBvdGhlciBmaWVsZHMuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU/OiBmaGlyLkFubm90YXRpb258dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERldGFpbHMgYWJvdXQgZWFjaCBhZHZlcnNlIHJlYWN0aW9uIGV2ZW50IGxpbmtlZCB0byBleHBvc3VyZSB0byB0aGUgaWRlbnRpZmllZCBTdWJzdGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYWN0aW9uOiBmaGlyLkFsbGVyZ3lJbnRvbGVyYW5jZVJlYWN0aW9uW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQWxsZXJneUludG9sZXJhbmNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QWxsZXJneUludG9sZXJhbmNlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0FsbGVyZ3lJbnRvbGVyYW5jZSc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvbnNldCddKSB7IHRoaXMub25zZXQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2Uub25zZXR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX29uc2V0J10pIHtcclxuICAgICAgaWYgKHRoaXMub25zZXQpIHsgdGhpcy5vbnNldC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9vbnNldCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm9uc2V0ID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fb25zZXQgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVjb3JkZWREYXRlJ10pIHsgdGhpcy5yZWNvcmRlZERhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UucmVjb3JkZWREYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19yZWNvcmRlZERhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5yZWNvcmRlZERhdGUpIHsgdGhpcy5yZWNvcmRlZERhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcmVjb3JkZWREYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucmVjb3JkZWREYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fcmVjb3JkZWREYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlY29yZGVyJ10pIHsgdGhpcy5yZWNvcmRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVjb3JkZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50J10pIHsgdGhpcy5wYXRpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXRpZW50KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGF0aWVudCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcG9ydGVyJ10pIHsgdGhpcy5yZXBvcnRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVwb3J0ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJzdGFuY2UnXSkgeyB0aGlzLnN1YnN0YW5jZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3Vic3RhbmNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3Vic3RhbmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlU3RhdHVzQ29kZVR5cGU+KHNvdXJjZS5fc3RhdHVzIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjcml0aWNhbGl0eSddKSB7IHRoaXMuY3JpdGljYWxpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5jcml0aWNhbGl0eX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY3JpdGljYWxpdHknXSkge1xyXG4gICAgICBpZiAodGhpcy5jcml0aWNhbGl0eSkgeyB0aGlzLmNyaXRpY2FsaXR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NyaXRpY2FsaXR5ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY3JpdGljYWxpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlPihzb3VyY2UuX2NyaXRpY2FsaXR5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlVHlwZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZVR5cGU+KHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuY2F0ZWdvcnl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NhdGVnb3J5J10pIHtcclxuICAgICAgaWYgKHRoaXMuY2F0ZWdvcnkpIHsgdGhpcy5jYXRlZ29yeS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jYXRlZ29yeSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlDb2RlVHlwZT4oc291cmNlLl9jYXRlZ29yeSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbGFzdE9jY3VyZW5jZSddKSB7IHRoaXMubGFzdE9jY3VyZW5jZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5sYXN0T2NjdXJlbmNlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19sYXN0T2NjdXJlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubGFzdE9jY3VyZW5jZSkgeyB0aGlzLmxhc3RPY2N1cmVuY2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbGFzdE9jY3VyZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmxhc3RPY2N1cmVuY2UgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9sYXN0T2NjdXJlbmNlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBuZXcgZmhpci5Bbm5vdGF0aW9uKHNvdXJjZS5ub3RlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhY3Rpb24nXSkgeyB0aGlzLnJlYWN0aW9uID0gc291cmNlLnJlYWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWFjdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWxsZXJneUludG9sZXJhbmNlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUFMoJ3Jlc291cmNlVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb25zZXQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlY29yZGVkRGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVjb3JkZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3BhdGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlcG9ydGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzdWJzdGFuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdzdGF0dXMnLGV4cCwnQWxsZXJneUludG9sZXJhbmNlU3RhdHVzJyxBbGxlcmd5SW50b2xlcmFuY2VTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ2NyaXRpY2FsaXR5JyxleHAsJ0FsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5JyxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVigndHlwZScsZXhwLCdBbGxlcmd5SW50b2xlcmFuY2VUeXBlJyxBbGxlcmd5SW50b2xlcmFuY2VUeXBlVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdjYXRlZ29yeScsZXhwLCdBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeScsQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbGFzdE9jY3VyZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbm90ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVhY3Rpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19