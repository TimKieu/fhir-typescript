// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: AllergyIntolerance
import * as fhir from '../fhir.js';
// @ts-ignore
import { ReactionEventCertaintyVsValidation } from '../fhirValueSets/ReactionEventCertaintyVsValidation.js';
// @ts-ignore
import { ReactionEventSeverityVsValidation } from '../fhirValueSets/ReactionEventSeverityVsValidation.js';
// @ts-ignore
import { AllergyIntoleranceStatusVsValidation } from '../fhirValueSets/AllergyIntoleranceStatusVsValidation.js';
// @ts-ignore
import { AllergyIntoleranceCriticalityVsValidation } from '../fhirValueSets/AllergyIntoleranceCriticalityVsValidation.js';
// @ts-ignore
import { AllergyIntoleranceTypeVsValidation } from '../fhirValueSets/AllergyIntoleranceTypeVsValidation.js';
// @ts-ignore
import { AllergyIntoleranceCategoryVsValidation } from '../fhirValueSets/AllergyIntoleranceCategoryVsValidation.js';
/**
 * Details about each adverse reaction event linked to exposure to the identified Substance.
 */
export class AllergyIntoleranceReaction extends fhir.BackboneElement {
    /**
     * Default constructor for AllergyIntoleranceReaction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['substance']) {
            this.substance = new fhir.CodeableConcept(source.substance, options);
        }
        if (source['certainty'] !== undefined) {
            this.certainty = new fhir.FhirCode({ value: source.certainty }, options);
        }
        if (source['_certainty']) {
            if (this.certainty) {
                this.certainty.addExtendedProperties(source._certainty);
            }
            else {
                this.certainty = new fhir.FhirCode(source._certainty, options);
            }
        }
        if (source['manifestation']) {
            this.manifestation = source.manifestation.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.manifestation = [];
        }
        if (source['description'] !== undefined) {
            this.description = new fhir.FhirString({ value: source.description }, options);
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description, options);
            }
        }
        if (source['onset'] !== undefined) {
            this.onset = new fhir.FhirDateTime({ value: source.onset }, options);
        }
        if (source['_onset']) {
            if (this.onset) {
                this.onset.addExtendedProperties(source._onset);
            }
            else {
                this.onset = new fhir.FhirDateTime(source._onset, options);
            }
        }
        if (source['severity'] !== undefined) {
            this.severity = new fhir.FhirCode({ value: source.severity }, options);
        }
        if (source['_severity']) {
            if (this.severity) {
                this.severity.addExtendedProperties(source._severity);
            }
            else {
                this.severity = new fhir.FhirCode(source._severity, options);
            }
        }
        if (source['exposureRoute']) {
            this.exposureRoute = new fhir.CodeableConcept(source.exposureRoute, options);
        }
        if (source['note']) {
            this.note = new fhir.Annotation(source.note, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AllergyIntolerance.reaction';
        }
        iss.push(...this.vOS('substance', exp));
        iss.push(...this.vOSV('certainty', exp, 'ReactionEventCertainty', ReactionEventCertaintyVsValidation, 'r'));
        iss.push(...this.vRA('manifestation', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('onset', exp));
        iss.push(...this.vOSV('severity', exp, 'ReactionEventSeverity', ReactionEventSeverityVsValidation, 'r'));
        iss.push(...this.vOS('exposureRoute', exp));
        iss.push(...this.vOS('note', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AllergyIntoleranceReaction._fts_dataType = 'AllergyIntoleranceReaction';
/**
 * Risk of harmful or undesirable, physiological response which is unique to an individual and associated with exposure to a substance.
 */
export class AllergyIntolerance extends fhir.DomainResource {
    /**
     * Default constructor for AllergyIntolerance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AllergyIntolerance';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['onset'] !== undefined) {
            this.onset = new fhir.FhirDateTime({ value: source.onset }, options);
        }
        if (source['_onset']) {
            if (this.onset) {
                this.onset.addExtendedProperties(source._onset);
            }
            else {
                this.onset = new fhir.FhirDateTime(source._onset, options);
            }
        }
        if (source['recordedDate'] !== undefined) {
            this.recordedDate = new fhir.FhirDateTime({ value: source.recordedDate }, options);
        }
        if (source['_recordedDate']) {
            if (this.recordedDate) {
                this.recordedDate.addExtendedProperties(source._recordedDate);
            }
            else {
                this.recordedDate = new fhir.FhirDateTime(source._recordedDate, options);
            }
        }
        if (source['recorder']) {
            this.recorder = new fhir.Reference(source.recorder, options);
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        else {
            this.patient = null;
        }
        if (source['reporter']) {
            this.reporter = new fhir.Reference(source.reporter, options);
        }
        if (source['substance']) {
            this.substance = new fhir.CodeableConcept(source.substance, options);
        }
        else {
            this.substance = null;
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['criticality'] !== undefined) {
            this.criticality = new fhir.FhirCode({ value: source.criticality }, options);
        }
        if (source['_criticality']) {
            if (this.criticality) {
                this.criticality.addExtendedProperties(source._criticality);
            }
            else {
                this.criticality = new fhir.FhirCode(source._criticality, options);
            }
        }
        if (source['type'] !== undefined) {
            this.type = new fhir.FhirCode({ value: source.type }, options);
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type, options);
            }
        }
        if (source['category'] !== undefined) {
            this.category = new fhir.FhirCode({ value: source.category }, options);
        }
        if (source['_category']) {
            if (this.category) {
                this.category.addExtendedProperties(source._category);
            }
            else {
                this.category = new fhir.FhirCode(source._category, options);
            }
        }
        if (source['lastOccurence'] !== undefined) {
            this.lastOccurence = new fhir.FhirDateTime({ value: source.lastOccurence }, options);
        }
        if (source['_lastOccurence']) {
            if (this.lastOccurence) {
                this.lastOccurence.addExtendedProperties(source._lastOccurence);
            }
            else {
                this.lastOccurence = new fhir.FhirDateTime(source._lastOccurence, options);
            }
        }
        if (source['note']) {
            this.note = new fhir.Annotation(source.note, options);
        }
        if (source['reaction']) {
            this.reaction = source.reaction.map((x) => new fhir.AllergyIntoleranceReaction(x, options));
        }
        else {
            this.reaction = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AllergyIntolerance';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('onset', exp));
        iss.push(...this.vOS('recordedDate', exp));
        iss.push(...this.vOS('recorder', exp));
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('reporter', exp));
        iss.push(...this.vRS('substance', exp));
        iss.push(...this.vOSV('status', exp, 'AllergyIntoleranceStatus', AllergyIntoleranceStatusVsValidation, 'r'));
        iss.push(...this.vOSV('criticality', exp, 'AllergyIntoleranceCriticality', AllergyIntoleranceCriticalityVsValidation, 'r'));
        iss.push(...this.vOSV('type', exp, 'AllergyIntoleranceType', AllergyIntoleranceTypeVsValidation, 'r'));
        iss.push(...this.vOSV('category', exp, 'AllergyIntoleranceCategory', AllergyIntoleranceCategoryVsValidation, 'r'));
        iss.push(...this.vOS('lastOccurence', exp));
        iss.push(...this.vOS('note', exp));
        iss.push(...this.vOA('reaction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AllergyIntolerance._fts_dataType = 'AllergyIntolerance';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWxsZXJneUludG9sZXJhbmNlLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9BbGxlcmd5SW50b2xlcmFuY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsa0NBQWtDLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUc1RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGlDQUFpQyxFQUFFLE1BQU0sdURBQXVELENBQUM7QUFHMUcsYUFBYTtBQUNiLE9BQU8sRUFBRSxvQ0FBb0MsRUFBRSxNQUFNLDBEQUEwRCxDQUFDO0FBR2hILGFBQWE7QUFDYixPQUFPLEVBQUUseUNBQXlDLEVBQUUsTUFBTSwrREFBK0QsQ0FBQztBQUcxSCxhQUFhO0FBQ2IsT0FBTyxFQUFFLGtDQUFrQyxFQUFFLE1BQU0sd0RBQXdELENBQUM7QUFHNUcsYUFBYTtBQUNiLE9BQU8sRUFBRSxzQ0FBc0MsRUFBRSxNQUFNLDREQUE0RCxDQUFDO0FBdURwSDs7R0FFRztBQUNILE1BQU0sT0FBTywwQkFBMkIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXFDbEU7O09BRUc7SUFDSCxZQUFZLFNBQWlELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3ZHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDbEcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUks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QUMsd0JBQXdCLEVBQUMsa0NBQWtDLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUMsR0FBRyxFQUFDLDRCQUE0QixFQUFDLHNDQUFzQyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDL0csR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQTFJRDs7R0FFRztBQUM2QixnQ0FBYSxHQUFVLG9CQUFvQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIyLmNvcmUgdmVyc2lvbjogMS4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBBbGxlcmd5SW50b2xlcmFuY2VcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlYWN0aW9uRXZlbnRDZXJ0YWludHlDb2RlcywgIFJlYWN0aW9uRXZlbnRDZXJ0YWludHlDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVhY3Rpb25FdmVudENlcnRhaW50eUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWFjdGlvbkV2ZW50Q2VydGFpbnR5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWFjdGlvbkV2ZW50Q2VydGFpbnR5VnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZWFjdGlvbkV2ZW50U2V2ZXJpdHlDb2RlcywgIFJlYWN0aW9uRXZlbnRTZXZlcml0eUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWFjdGlvbkV2ZW50U2V2ZXJpdHlDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVhY3Rpb25FdmVudFNldmVyaXR5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWFjdGlvbkV2ZW50U2V2ZXJpdHlWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lJbnRvbGVyYW5jZVN0YXR1c0NvZGVzLCAgQWxsZXJneUludG9sZXJhbmNlU3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5SW50b2xlcmFuY2VTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZVN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWxsZXJneUludG9sZXJhbmNlQ3JpdGljYWxpdHlDb2RlcywgIEFsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQWxsZXJneUludG9sZXJhbmNlVHlwZUNvZGVzLCAgQWxsZXJneUludG9sZXJhbmNlVHlwZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lJbnRvbGVyYW5jZVR5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0FsbGVyZ3lJbnRvbGVyYW5jZVR5cGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEFsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kZXMsICBBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWNhdGlvbiBvZiB0aGUgc3BlY2lmaWMgc3Vic3RhbmNlIGNvbnNpZGVyZWQgdG8gYmUgcmVzcG9uc2libGUgZm9yIHRoZSBBZHZlcnNlIFJlYWN0aW9uIGV2ZW50LiBOb3RlOiB0aGUgc3Vic3RhbmNlIGZvciBhIHNwZWNpZmljIHJlYWN0aW9uIG1heSBiZSBkaWZmZXJlbnQgdG8gdGhlIHN1YnN0YW5jZSBpZGVudGlmaWVkIGFzIHRoZSBjYXVzZSBvZiB0aGUgcmlzaywgYnV0IG11c3QgYmUgY29uc2lzdGVudCB3aXRoIGl0LiBGb3IgaW5zdGFuY2UsIGl0IG1heSBiZSBhIG1vcmUgc3BlY2lmaWMgc3Vic3RhbmNlIChlLmcuIGEgYnJhbmQgbWVkaWNhdGlvbikgb3IgYSBjb21wb3NpdGUgc3Vic3RhbmNlIHRoYXQgaW5jbHVkZXMgdGhlIGlkZW50aWZpZWQgc3Vic3RhbmNlLiBJdCBtdXN0IGJlIGNsaW5pY2FsbHkgc2FmZSB0byBvbmx5IHByb2Nlc3MgdGhlIEFsbGVyZ3lJbnRvbGVyYW5jZS5zdWJzdGFuY2UgYW5kIGlnbm9yZSB0aGUgQWxsZXJneUludG9sZXJhbmNlLmV2ZW50LnN1YnN0YW5jZS5cclxuICAgKi9cclxuICBzdWJzdGFuY2U/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN0YXRlbWVudCBhYm91dCB0aGUgZGVncmVlIG9mIGNsaW5pY2FsIGNlcnRhaW50eSB0aGF0IHRoZSBzcGVjaWZpYyBzdWJzdGFuY2Ugd2FzIHRoZSBjYXVzZSBvZiB0aGUgbWFuaWZlc3RhdGlvbiBpbiB0aGlzIHJlYWN0aW9uIGV2ZW50LlxyXG4gICAqL1xyXG4gIGNlcnRhaW50eT86IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudENlcnRhaW50eUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UucmVhY3Rpb24uY2VydGFpbnR5XHJcbiAgICovXHJcbiAgX2NlcnRhaW50eT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ2xpbmljYWwgc3ltcHRvbXMgYW5kL29yIHNpZ25zIHRoYXQgYXJlIG9ic2VydmVkIG9yIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWR2ZXJzZSByZWFjdGlvbiBldmVudC5cclxuICAgKi9cclxuICBtYW5pZmVzdGF0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgZGVzY3JpcHRpb24gYWJvdXQgdGhlIHJlYWN0aW9uIGFzIGEgd2hvbGUsIGluY2x1ZGluZyBkZXRhaWxzIG9mIHRoZSBtYW5pZmVzdGF0aW9uIGlmIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFsbGVyZ3lJbnRvbGVyYW5jZS5yZWFjdGlvbi5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUmVjb3JkIG9mIHRoZSBkYXRlIGFuZC9vciB0aW1lIG9mIHRoZSBvbnNldCBvZiB0aGUgUmVhY3Rpb24uXHJcbiAgICovXHJcbiAgb25zZXQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UucmVhY3Rpb24ub25zZXRcclxuICAgKi9cclxuICBfb25zZXQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENsaW5pY2FsIGFzc2Vzc21lbnQgb2YgdGhlIHNldmVyaXR5IG9mIHRoZSByZWFjdGlvbiBldmVudCBhcyBhIHdob2xlLCBwb3RlbnRpYWxseSBjb25zaWRlcmluZyBtdWx0aXBsZSBkaWZmZXJlbnQgbWFuaWZlc3RhdGlvbnMuXHJcbiAgICovXHJcbiAgc2V2ZXJpdHk/OiBmaGlyLkZoaXJDb2RlPFJlYWN0aW9uRXZlbnRTZXZlcml0eUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UucmVhY3Rpb24uc2V2ZXJpdHlcclxuICAgKi9cclxuICBfc2V2ZXJpdHk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpY2F0aW9uIG9mIHRoZSByb3V0ZSBieSB3aGljaCB0aGUgc3ViamVjdCB3YXMgZXhwb3NlZCB0byB0aGUgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIGV4cG9zdXJlUm91dGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgdGV4dCBhYm91dCB0aGUgYWR2ZXJzZSByZWFjdGlvbiBldmVudCBub3QgY2FwdHVyZWQgaW4gb3RoZXIgZmllbGRzLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkFubm90YXRpb25BcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERldGFpbHMgYWJvdXQgZWFjaCBhZHZlcnNlIHJlYWN0aW9uIGV2ZW50IGxpbmtlZCB0byBleHBvc3VyZSB0byB0aGUgaWRlbnRpZmllZCBTdWJzdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBbGxlcmd5SW50b2xlcmFuY2VSZWFjdGlvbic7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmljYXRpb24gb2YgdGhlIHNwZWNpZmljIHN1YnN0YW5jZSBjb25zaWRlcmVkIHRvIGJlIHJlc3BvbnNpYmxlIGZvciB0aGUgQWR2ZXJzZSBSZWFjdGlvbiBldmVudC4gTm90ZTogdGhlIHN1YnN0YW5jZSBmb3IgYSBzcGVjaWZpYyByZWFjdGlvbiBtYXkgYmUgZGlmZmVyZW50IHRvIHRoZSBzdWJzdGFuY2UgaWRlbnRpZmllZCBhcyB0aGUgY2F1c2Ugb2YgdGhlIHJpc2ssIGJ1dCBtdXN0IGJlIGNvbnNpc3RlbnQgd2l0aCBpdC4gRm9yIGluc3RhbmNlLCBpdCBtYXkgYmUgYSBtb3JlIHNwZWNpZmljIHN1YnN0YW5jZSAoZS5nLiBhIGJyYW5kIG1lZGljYXRpb24pIG9yIGEgY29tcG9zaXRlIHN1YnN0YW5jZSB0aGF0IGluY2x1ZGVzIHRoZSBpZGVudGlmaWVkIHN1YnN0YW5jZS4gSXQgbXVzdCBiZSBjbGluaWNhbGx5IHNhZmUgdG8gb25seSBwcm9jZXNzIHRoZSBBbGxlcmd5SW50b2xlcmFuY2Uuc3Vic3RhbmNlIGFuZCBpZ25vcmUgdGhlIEFsbGVyZ3lJbnRvbGVyYW5jZS5ldmVudC5zdWJzdGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHN1YnN0YW5jZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTdGF0ZW1lbnQgYWJvdXQgdGhlIGRlZ3JlZSBvZiBjbGluaWNhbCBjZXJ0YWludHkgdGhhdCB0aGUgc3BlY2lmaWMgc3Vic3RhbmNlIHdhcyB0aGUgY2F1c2Ugb2YgdGhlIG1hbmlmZXN0YXRpb24gaW4gdGhpcyByZWFjdGlvbiBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgY2VydGFpbnR5PzogZmhpci5GaGlyQ29kZTxSZWFjdGlvbkV2ZW50Q2VydGFpbnR5Q29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDbGluaWNhbCBzeW1wdG9tcyBhbmQvb3Igc2lnbnMgdGhhdCBhcmUgb2JzZXJ2ZWQgb3IgYXNzb2NpYXRlZCB3aXRoIHRoZSBhZHZlcnNlIHJlYWN0aW9uIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtYW5pZmVzdGF0aW9uOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgZGVzY3JpcHRpb24gYWJvdXQgdGhlIHJlYWN0aW9uIGFzIGEgd2hvbGUsIGluY2x1ZGluZyBkZXRhaWxzIG9mIHRoZSBtYW5pZmVzdGF0aW9uIGlmIHJlcXVpcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVjb3JkIG9mIHRoZSBkYXRlIGFuZC9vciB0aW1lIG9mIHRoZSBvbnNldCBvZiB0aGUgUmVhY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG9uc2V0PzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENsaW5pY2FsIGFzc2Vzc21lbnQgb2YgdGhlIHNldmVyaXR5IG9mIHRoZSByZWFjdGlvbiBldmVudCBhcyBhIHdob2xlLCBwb3RlbnRpYWxseSBjb25zaWRlcmluZyBtdWx0aXBsZSBkaWZmZXJlbnQgbWFuaWZlc3RhdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHNldmVyaXR5PzogZmhpci5GaGlyQ29kZTxSZWFjdGlvbkV2ZW50U2V2ZXJpdHlDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpY2F0aW9uIG9mIHRoZSByb3V0ZSBieSB3aGljaCB0aGUgc3ViamVjdCB3YXMgZXhwb3NlZCB0byB0aGUgc3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHBvc3VyZVJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgdGV4dCBhYm91dCB0aGUgYWR2ZXJzZSByZWFjdGlvbiBldmVudCBub3QgY2FwdHVyZWQgaW4gb3RoZXIgZmllbGRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlPzogZmhpci5Bbm5vdGF0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBbGxlcmd5SW50b2xlcmFuY2VSZWFjdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFsbGVyZ3lJbnRvbGVyYW5jZVJlYWN0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3N1YnN0YW5jZSddKSB7IHRoaXMuc3Vic3RhbmNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zdWJzdGFuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydjZXJ0YWludHknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY2VydGFpbnR5ID0gbmV3IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudENlcnRhaW50eUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5jZXJ0YWludHl9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NlcnRhaW50eSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNlcnRhaW50eSkgeyB0aGlzLmNlcnRhaW50eS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jZXJ0YWludHkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jZXJ0YWludHkgPSBuZXcgZmhpci5GaGlyQ29kZTxSZWFjdGlvbkV2ZW50Q2VydGFpbnR5Q29kZVR5cGU+KHNvdXJjZS5fY2VydGFpbnR5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtYW5pZmVzdGF0aW9uJ10pIHsgdGhpcy5tYW5pZmVzdGF0aW9uID0gc291cmNlLm1hbmlmZXN0YXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tYW5pZmVzdGF0aW9uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ29uc2V0J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm9uc2V0ID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLm9uc2V0fSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19vbnNldCddKSB7XHJcbiAgICAgIGlmICh0aGlzLm9uc2V0KSB7IHRoaXMub25zZXQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fb25zZXQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vbnNldCA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX29uc2V0IGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NldmVyaXR5J10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnNldmVyaXR5ID0gbmV3IGZoaXIuRmhpckNvZGU8UmVhY3Rpb25FdmVudFNldmVyaXR5Q29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnNldmVyaXR5fSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zZXZlcml0eSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNldmVyaXR5KSB7IHRoaXMuc2V2ZXJpdHkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc2V2ZXJpdHkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zZXZlcml0eSA9IG5ldyBmaGlyLkZoaXJDb2RlPFJlYWN0aW9uRXZlbnRTZXZlcml0eUNvZGVUeXBlPihzb3VyY2UuX3NldmVyaXR5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydleHBvc3VyZVJvdXRlJ10pIHsgdGhpcy5leHBvc3VyZVJvdXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5leHBvc3VyZVJvdXRlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZSddKSB7IHRoaXMubm90ZSA9IG5ldyBmaGlyLkFubm90YXRpb24oc291cmNlLm5vdGUsIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWxsZXJneUludG9sZXJhbmNlLnJlYWN0aW9uJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc3Vic3RhbmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignY2VydGFpbnR5JyxleHAsJ1JlYWN0aW9uRXZlbnRDZXJ0YWludHknLFJlYWN0aW9uRXZlbnRDZXJ0YWludHlWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSQSgnbWFuaWZlc3RhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGVzY3JpcHRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ29uc2V0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignc2V2ZXJpdHknLGV4cCwnUmVhY3Rpb25FdmVudFNldmVyaXR5JyxSZWFjdGlvbkV2ZW50U2V2ZXJpdHlWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZXhwb3N1cmVSb3V0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbm90ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQWxsZXJneUludG9sZXJhbmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFsbGVyZ3lJbnRvbGVyYW5jZUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkFsbGVyZ3lJbnRvbGVyYW5jZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHJlY29yZHMgaWRlbnRpZmllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgYWxsZXJneS9pbnRvbGVyYW5jZSBjb25jZXJuIHRoYXQgYXJlIGRlZmluZWQgYnkgYnVzaW5lc3MgcHJvY2Vzc2VzIGFuZC9vciB1c2VkIHRvIHJlZmVyIHRvIGl0IHdoZW4gYSBkaXJlY3QgVVJMIHJlZmVyZW5jZSB0byB0aGUgcmVzb3VyY2UgaXRzZWxmIGlzIG5vdCBhcHByb3ByaWF0ZSAoZS5nLiBpbiBDREEgZG9jdW1lbnRzLCBvciBpbiB3cml0dGVuIC8gcHJpbnRlZCBkb2N1bWVudGF0aW9uKS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBSZWNvcmQgb2YgdGhlIGRhdGUgYW5kL29yIHRpbWUgb2YgdGhlIG9uc2V0IG9mIHRoZSBBbGxlcmd5IG9yIEludG9sZXJhbmNlLlxyXG4gICAqL1xyXG4gIG9uc2V0PzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLm9uc2V0XHJcbiAgICovXHJcbiAgX29uc2V0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBEYXRlIHdoZW4gdGhlIHNlbnNpdGl2aXR5IHdhcyByZWNvcmRlZC5cclxuICAgKi9cclxuICByZWNvcmRlZERhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UucmVjb3JkZWREYXRlXHJcbiAgICovXHJcbiAgX3JlY29yZGVkRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW5kaXZpZHVhbCB3aG8gcmVjb3JkZWQgdGhlIHJlY29yZCBhbmQgdGFrZXMgcmVzcG9uc2liaWxpdHkgZm9yIGl0cyBjb250ZW4uXHJcbiAgICovXHJcbiAgcmVjb3JkZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRpZW50IHdobyBoYXMgdGhlIGFsbGVyZ3kgb3IgaW50b2xlcmFuY2UuXHJcbiAgICovXHJcbiAgcGF0aWVudDogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNvdXJjZSBvZiB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFsbGVyZ3kgdGhhdCBpcyByZWNvcmRlZC5cclxuICAgKi9cclxuICByZXBvcnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmljYXRpb24gb2YgYSBzdWJzdGFuY2UsIG9yIGEgY2xhc3Mgb2Ygc3Vic3RhbmNlcywgdGhhdCBpcyBjb25zaWRlcmVkIHRvIGJlIHJlc3BvbnNpYmxlIGZvciB0aGUgYWR2ZXJzZSByZWFjdGlvbiByaXNrLlxyXG4gICAqL1xyXG4gIHN1YnN0YW5jZTogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQXNzZXJ0aW9uIGFib3V0IGNlcnRhaW50eSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3BlbnNpdHksIG9yIHBvdGVudGlhbCByaXNrLCBvZiBhIHJlYWN0aW9uIHRvIHRoZSBpZGVudGlmaWVkIFN1YnN0YW5jZS5cclxuICAgKi9cclxuICBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZVN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2Uuc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRXN0aW1hdGUgb2YgdGhlIHBvdGVudGlhbCBjbGluaWNhbCBoYXJtLCBvciBzZXJpb3VzbmVzcywgb2YgdGhlIHJlYWN0aW9uIHRvIHRoZSBpZGVudGlmaWVkIFN1YnN0YW5jZS5cclxuICAgKi9cclxuICBjcml0aWNhbGl0eT86IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlQ3JpdGljYWxpdHlDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQWxsZXJneUludG9sZXJhbmNlLmNyaXRpY2FsaXR5XHJcbiAgICovXHJcbiAgX2NyaXRpY2FsaXR5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJZGVudGlmaWNhdGlvbiBvZiB0aGUgdW5kZXJseWluZyBwaHlzaW9sb2dpY2FsIG1lY2hhbmlzbSBmb3IgdGhlIHJlYWN0aW9uIHJpc2suXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBbGxlcmd5SW50b2xlcmFuY2UudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBDYXRlZ29yeSBvZiB0aGUgaWRlbnRpZmllZCBTdWJzdGFuY2UuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFsbGVyZ3lJbnRvbGVyYW5jZS5jYXRlZ29yeVxyXG4gICAqL1xyXG4gIF9jYXRlZ29yeT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUmVwcmVzZW50cyB0aGUgZGF0ZSBhbmQvb3IgdGltZSBvZiB0aGUgbGFzdCBrbm93biBvY2N1cnJlbmNlIG9mIGEgcmVhY3Rpb24gZXZlbnQuXHJcbiAgICovXHJcbiAgbGFzdE9jY3VyZW5jZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEFsbGVyZ3lJbnRvbGVyYW5jZS5sYXN0T2NjdXJlbmNlXHJcbiAgICovXHJcbiAgX2xhc3RPY2N1cmVuY2U/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgbmFycmF0aXZlIGFib3V0IHRoZSBwcm9wZW5zaXR5IGZvciB0aGUgQWR2ZXJzZSBSZWFjdGlvbiwgbm90IGNhcHR1cmVkIGluIG90aGVyIGZpZWxkcy5cclxuICAgKi9cclxuICBub3RlPzogZmhpci5Bbm5vdGF0aW9uQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGV0YWlscyBhYm91dCBlYWNoIGFkdmVyc2UgcmVhY3Rpb24gZXZlbnQgbGlua2VkIHRvIGV4cG9zdXJlIHRvIHRoZSBpZGVudGlmaWVkIFN1YnN0YW5jZS5cclxuICAgKi9cclxuICByZWFjdGlvbj86IGZoaXIuQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb25BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogUmlzayBvZiBoYXJtZnVsIG9yIHVuZGVzaXJhYmxlLCBwaHlzaW9sb2dpY2FsIHJlc3BvbnNlIHdoaWNoIGlzIHVuaXF1ZSB0byBhbiBpbmRpdmlkdWFsIGFuZCBhc3NvY2lhdGVkIHdpdGggZXhwb3N1cmUgdG8gYSBzdWJzdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWxsZXJneUludG9sZXJhbmNlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBbGxlcmd5SW50b2xlcmFuY2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQWxsZXJneUludG9sZXJhbmNlXCI7XHJcbiAgLyoqXHJcbiAgICogVGhpcyByZWNvcmRzIGlkZW50aWZpZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGFsbGVyZ3kvaW50b2xlcmFuY2UgY29uY2VybiB0aGF0IGFyZSBkZWZpbmVkIGJ5IGJ1c2luZXNzIHByb2Nlc3NlcyBhbmQvb3IgdXNlZCB0byByZWZlciB0byBpdCB3aGVuIGEgZGlyZWN0IFVSTCByZWZlcmVuY2UgdG8gdGhlIHJlc291cmNlIGl0c2VsZiBpcyBub3QgYXBwcm9wcmlhdGUgKGUuZy4gaW4gQ0RBIGRvY3VtZW50cywgb3IgaW4gd3JpdHRlbiAvIHByaW50ZWQgZG9jdW1lbnRhdGlvbikuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFJlY29yZCBvZiB0aGUgZGF0ZSBhbmQvb3IgdGltZSBvZiB0aGUgb25zZXQgb2YgdGhlIEFsbGVyZ3kgb3IgSW50b2xlcmFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIG9uc2V0PzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERhdGUgd2hlbiB0aGUgc2Vuc2l0aXZpdHkgd2FzIHJlY29yZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNvcmRlZERhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaXZpZHVhbCB3aG8gcmVjb3JkZWQgdGhlIHJlY29yZCBhbmQgdGFrZXMgcmVzcG9uc2liaWxpdHkgZm9yIGl0cyBjb250ZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHJlY29yZGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRpZW50IHdobyBoYXMgdGhlIGFsbGVyZ3kgb3IgaW50b2xlcmFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNvdXJjZSBvZiB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFsbGVyZ3kgdGhhdCBpcyByZWNvcmRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVwb3J0ZXI/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmljYXRpb24gb2YgYSBzdWJzdGFuY2UsIG9yIGEgY2xhc3Mgb2Ygc3Vic3RhbmNlcywgdGhhdCBpcyBjb25zaWRlcmVkIHRvIGJlIHJlc3BvbnNpYmxlIGZvciB0aGUgYWR2ZXJzZSByZWFjdGlvbiByaXNrLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJzdGFuY2U6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQXNzZXJ0aW9uIGFib3V0IGNlcnRhaW50eSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3BlbnNpdHksIG9yIHBvdGVudGlhbCByaXNrLCBvZiBhIHJlYWN0aW9uIHRvIHRoZSBpZGVudGlmaWVkIFN1YnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzPzogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VTdGF0dXNDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEVzdGltYXRlIG9mIHRoZSBwb3RlbnRpYWwgY2xpbmljYWwgaGFybSwgb3Igc2VyaW91c25lc3MsIG9mIHRoZSByZWFjdGlvbiB0byB0aGUgaWRlbnRpZmllZCBTdWJzdGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNyaXRpY2FsaXR5PzogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmljYXRpb24gb2YgdGhlIHVuZGVybHlpbmcgcGh5c2lvbG9naWNhbCBtZWNoYW5pc20gZm9yIHRoZSByZWFjdGlvbiByaXNrLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYXRlZ29yeSBvZiB0aGUgaWRlbnRpZmllZCBTdWJzdGFuY2UuXHJcbiAgICovXHJcbiAgcHVibGljIGNhdGVnb3J5PzogZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUmVwcmVzZW50cyB0aGUgZGF0ZSBhbmQvb3IgdGltZSBvZiB0aGUgbGFzdCBrbm93biBvY2N1cnJlbmNlIG9mIGEgcmVhY3Rpb24gZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGxhc3RPY2N1cmVuY2U/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBuYXJyYXRpdmUgYWJvdXQgdGhlIHByb3BlbnNpdHkgZm9yIHRoZSBBZHZlcnNlIFJlYWN0aW9uLCBub3QgY2FwdHVyZWQgaW4gb3RoZXIgZmllbGRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RlPzogZmhpci5Bbm5vdGF0aW9ufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZXRhaWxzIGFib3V0IGVhY2ggYWR2ZXJzZSByZWFjdGlvbiBldmVudCBsaW5rZWQgdG8gZXhwb3N1cmUgdG8gdGhlIGlkZW50aWZpZWQgU3Vic3RhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFjdGlvbjogZmhpci5BbGxlcmd5SW50b2xlcmFuY2VSZWFjdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEFsbGVyZ3lJbnRvbGVyYW5jZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEFsbGVyZ3lJbnRvbGVyYW5jZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdBbGxlcmd5SW50b2xlcmFuY2UnO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb25zZXQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMub25zZXQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2Uub25zZXR9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX29uc2V0J10pIHtcclxuICAgICAgaWYgKHRoaXMub25zZXQpIHsgdGhpcy5vbnNldC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9vbnNldCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm9uc2V0ID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fb25zZXQgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVjb3JkZWREYXRlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnJlY29yZGVkRGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5yZWNvcmRlZERhdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlY29yZGVkRGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlY29yZGVkRGF0ZSkgeyB0aGlzLnJlY29yZGVkRGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZWNvcmRlZERhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZWNvcmRlZERhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9yZWNvcmRlZERhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVjb3JkZXInXSkgeyB0aGlzLnJlY29yZGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWNvcmRlciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnQnXSkgeyB0aGlzLnBhdGllbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhdGllbnQsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXRpZW50ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVwb3J0ZXInXSkgeyB0aGlzLnJlcG9ydGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZXBvcnRlciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1YnN0YW5jZSddKSB7IHRoaXMuc3Vic3RhbmNlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zdWJzdGFuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJzdGFuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8QWxsZXJneUludG9sZXJhbmNlU3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY3JpdGljYWxpdHknXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuY3JpdGljYWxpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5jcml0aWNhbGl0eX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfY3JpdGljYWxpdHknXSkge1xyXG4gICAgICBpZiAodGhpcy5jcml0aWNhbGl0eSkgeyB0aGlzLmNyaXRpY2FsaXR5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NyaXRpY2FsaXR5ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY3JpdGljYWxpdHkgPSBuZXcgZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eUNvZGVUeXBlPihzb3VyY2UuX2NyaXRpY2FsaXR5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxBbGxlcmd5SW50b2xlcmFuY2VUeXBlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnR5cGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZVR5cGVDb2RlVHlwZT4oc291cmNlLl90eXBlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjYXRlZ29yeSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5jYXRlZ29yeSA9IG5ldyBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kZVR5cGU+KHt2YWx1ZTogc291cmNlLmNhdGVnb3J5fSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jYXRlZ29yeSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNhdGVnb3J5KSB7IHRoaXMuY2F0ZWdvcnkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY2F0ZWdvcnkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jYXRlZ29yeSA9IG5ldyBmaGlyLkZoaXJDb2RlPEFsbGVyZ3lJbnRvbGVyYW5jZUNhdGVnb3J5Q29kZVR5cGU+KHNvdXJjZS5fY2F0ZWdvcnkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2xhc3RPY2N1cmVuY2UnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubGFzdE9jY3VyZW5jZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5sYXN0T2NjdXJlbmNlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19sYXN0T2NjdXJlbmNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubGFzdE9jY3VyZW5jZSkgeyB0aGlzLmxhc3RPY2N1cmVuY2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbGFzdE9jY3VyZW5jZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmxhc3RPY2N1cmVuY2UgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9sYXN0T2NjdXJlbmNlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSkgeyB0aGlzLm5vdGUgPSBuZXcgZmhpci5Bbm5vdGF0aW9uKHNvdXJjZS5ub3RlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhY3Rpb24nXSkgeyB0aGlzLnJlYWN0aW9uID0gc291cmNlLnJlYWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQWxsZXJneUludG9sZXJhbmNlUmVhY3Rpb24oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWFjdGlvbiA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQWxsZXJneUludG9sZXJhbmNlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb25zZXQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlY29yZGVkRGF0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmVjb3JkZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3BhdGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlcG9ydGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdzdWJzdGFuY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdzdGF0dXMnLGV4cCwnQWxsZXJneUludG9sZXJhbmNlU3RhdHVzJyxBbGxlcmd5SW50b2xlcmFuY2VTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ2NyaXRpY2FsaXR5JyxleHAsJ0FsbGVyZ3lJbnRvbGVyYW5jZUNyaXRpY2FsaXR5JyxBbGxlcmd5SW50b2xlcmFuY2VDcml0aWNhbGl0eVZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVigndHlwZScsZXhwLCdBbGxlcmd5SW50b2xlcmFuY2VUeXBlJyxBbGxlcmd5SW50b2xlcmFuY2VUeXBlVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCdjYXRlZ29yeScsZXhwLCdBbGxlcmd5SW50b2xlcmFuY2VDYXRlZ29yeScsQWxsZXJneUludG9sZXJhbmNlQ2F0ZWdvcnlWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbGFzdE9jY3VyZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbm90ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVhY3Rpb24nLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19