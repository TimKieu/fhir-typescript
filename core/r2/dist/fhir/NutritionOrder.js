// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: NutritionOrder
import * as fhir from '../fhir.js';
// @ts-ignore
import { NutritionOrderStatusVsValidation } from '../fhirValueSets/NutritionOrderStatusVsValidation.js';
/**
 * Class that defines the quantity and type of nutrient modifications required for the oral diet.
 */
export class NutritionOrderOralDietNutrient extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDietNutrient - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['modifier']) {
            this.modifier = new fhir.CodeableConcept(source.modifier, options);
        }
        if (source['amount']) {
            this.amount = new fhir.Quantity(source.amount, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet.nutrient';
        }
        iss.push(...this.vOS('modifier', exp));
        iss.push(...this.vOS('amount', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDietNutrient._fts_dataType = 'NutritionOrderOralDietNutrient';
/**
 * Class that describes any texture modifications required for the patient to safely consume various types of solid foods.
 */
export class NutritionOrderOralDietTexture extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDietTexture - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['modifier']) {
            this.modifier = new fhir.CodeableConcept(source.modifier, options);
        }
        if (source['foodType']) {
            this.foodType = new fhir.CodeableConcept(source.foodType, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet.texture';
        }
        iss.push(...this.vOS('modifier', exp));
        iss.push(...this.vOS('foodType', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDietTexture._fts_dataType = 'NutritionOrderOralDietTexture';
/**
 * Diet given orally in contrast to enteral (tube) feeding.
 */
export class NutritionOrderOralDiet extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderOralDiet - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.type = [];
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.Timing(x, options));
        }
        else {
            this.schedule = [];
        }
        if (source['nutrient']) {
            this.nutrient = source.nutrient.map((x) => new fhir.NutritionOrderOralDietNutrient(x, options));
        }
        else {
            this.nutrient = [];
        }
        if (source['texture']) {
            this.texture = source.texture.map((x) => new fhir.NutritionOrderOralDietTexture(x, options));
        }
        else {
            this.texture = [];
        }
        if (source['fluidConsistencyType']) {
            this.fluidConsistencyType = source.fluidConsistencyType.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.fluidConsistencyType = [];
        }
        if (source['instruction'] !== undefined) {
            this.instruction = new fhir.FhirString({ value: source.instruction }, options);
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.oralDiet';
        }
        iss.push(...this.vOA('type', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOA('nutrient', exp));
        iss.push(...this.vOA('texture', exp));
        iss.push(...this.vOA('fluidConsistencyType', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderOralDiet._fts_dataType = 'NutritionOrderOralDiet';
/**
 * Oral nutritional products given in order to add further nutritional value to the patient's diet.
 */
export class NutritionOrderSupplement extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderSupplement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type, options);
        }
        if (source['productName'] !== undefined) {
            this.productName = new fhir.FhirString({ value: source.productName }, options);
        }
        if (source['_productName']) {
            if (this.productName) {
                this.productName.addExtendedProperties(source._productName);
            }
            else {
                this.productName = new fhir.FhirString(source._productName, options);
            }
        }
        if (source['schedule']) {
            this.schedule = source.schedule.map((x) => new fhir.Timing(x, options));
        }
        else {
            this.schedule = [];
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['instruction'] !== undefined) {
            this.instruction = new fhir.FhirString({ value: source.instruction }, options);
        }
        if (source['_instruction']) {
            if (this.instruction) {
                this.instruction.addExtendedProperties(source._instruction);
            }
            else {
                this.instruction = new fhir.FhirString(source._instruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.supplement';
        }
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('productName', exp));
        iss.push(...this.vOA('schedule', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('instruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderSupplement._fts_dataType = 'NutritionOrderSupplement';
/**
 * Formula administration instructions as structured data.  This repeating structure allows for changing the administration rate or volume over time for both bolus and continuous feeding.  An example of this would be an instruction to increase the rate of continuous feeding every 2 hours.
 */
export class NutritionOrderEnteralFormulaAdministration extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderEnteralFormulaAdministration - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['schedule']) {
            this.schedule = new fhir.Timing(source.schedule, options);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateQuantity']) {
            this.rate = new fhir.Quantity(source.rateQuantity, options);
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.enteralFormula.administration';
        }
        iss.push(...this.vOS('schedule', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('rate', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderEnteralFormulaAdministration._fts_dataType = 'NutritionOrderEnteralFormulaAdministration';
/**
 * Internal flag to properly serialize choice-type element NutritionOrder.enteralFormula.administration.rate[x]
 */
NutritionOrderEnteralFormulaAdministration._fts_rateIsChoice = true;
/**
 * Feeding provided through the gastrointestinal tract via a tube, catheter, or stoma that delivers nutrition distal to the oral cavity.
 */
export class NutritionOrderEnteralFormula extends fhir.BackboneElement {
    /**
     * Default constructor for NutritionOrderEnteralFormula - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['baseFormulaType']) {
            this.baseFormulaType = new fhir.CodeableConcept(source.baseFormulaType, options);
        }
        if (source['baseFormulaProductName'] !== undefined) {
            this.baseFormulaProductName = new fhir.FhirString({ value: source.baseFormulaProductName }, options);
        }
        if (source['_baseFormulaProductName']) {
            if (this.baseFormulaProductName) {
                this.baseFormulaProductName.addExtendedProperties(source._baseFormulaProductName);
            }
            else {
                this.baseFormulaProductName = new fhir.FhirString(source._baseFormulaProductName, options);
            }
        }
        if (source['additiveType']) {
            this.additiveType = new fhir.CodeableConcept(source.additiveType, options);
        }
        if (source['additiveProductName'] !== undefined) {
            this.additiveProductName = new fhir.FhirString({ value: source.additiveProductName }, options);
        }
        if (source['_additiveProductName']) {
            if (this.additiveProductName) {
                this.additiveProductName.addExtendedProperties(source._additiveProductName);
            }
            else {
                this.additiveProductName = new fhir.FhirString(source._additiveProductName, options);
            }
        }
        if (source['caloricDensity']) {
            this.caloricDensity = new fhir.Quantity(source.caloricDensity, options);
        }
        if (source['routeofAdministration']) {
            this.routeofAdministration = new fhir.CodeableConcept(source.routeofAdministration, options);
        }
        if (source['administration']) {
            this.administration = source.administration.map((x) => new fhir.NutritionOrderEnteralFormulaAdministration(x, options));
        }
        else {
            this.administration = [];
        }
        if (source['maxVolumeToDeliver']) {
            this.maxVolumeToDeliver = new fhir.Quantity(source.maxVolumeToDeliver, options);
        }
        if (source['administrationInstruction'] !== undefined) {
            this.administrationInstruction = new fhir.FhirString({ value: source.administrationInstruction }, options);
        }
        if (source['_administrationInstruction']) {
            if (this.administrationInstruction) {
                this.administrationInstruction.addExtendedProperties(source._administrationInstruction);
            }
            else {
                this.administrationInstruction = new fhir.FhirString(source._administrationInstruction, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder.enteralFormula';
        }
        iss.push(...this.vOS('baseFormulaType', exp));
        iss.push(...this.vOS('baseFormulaProductName', exp));
        iss.push(...this.vOS('additiveType', exp));
        iss.push(...this.vOS('additiveProductName', exp));
        iss.push(...this.vOS('caloricDensity', exp));
        iss.push(...this.vOS('routeofAdministration', exp));
        iss.push(...this.vOA('administration', exp));
        iss.push(...this.vOS('maxVolumeToDeliver', exp));
        iss.push(...this.vOS('administrationInstruction', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrderEnteralFormula._fts_dataType = 'NutritionOrderEnteralFormula';
/**
 * A request to supply a diet, formula feeding (enteral) or oral nutritional supplement to a patient/resident.
 */
export class NutritionOrder extends fhir.DomainResource {
    /**
     * Default constructor for NutritionOrder - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'NutritionOrder';
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        else {
            this.patient = null;
        }
        if (source['orderer']) {
            this.orderer = new fhir.Reference(source.orderer, options);
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter, options);
        }
        if (source['dateTime'] !== undefined) {
            this.dateTime = new fhir.FhirDateTime({ value: source.dateTime }, options);
        }
        else {
            this.dateTime = null;
        }
        if (source['_dateTime']) {
            if (this.dateTime) {
                this.dateTime.addExtendedProperties(source._dateTime);
            }
            else {
                this.dateTime = new fhir.FhirDateTime(source._dateTime, options);
            }
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['allergyIntolerance']) {
            this.allergyIntolerance = source.allergyIntolerance.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.allergyIntolerance = [];
        }
        if (source['foodPreferenceModifier']) {
            this.foodPreferenceModifier = source.foodPreferenceModifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.foodPreferenceModifier = [];
        }
        if (source['excludeFoodModifier']) {
            this.excludeFoodModifier = source.excludeFoodModifier.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.excludeFoodModifier = [];
        }
        if (source['oralDiet']) {
            this.oralDiet = new fhir.NutritionOrderOralDiet(source.oralDiet, options);
        }
        if (source['supplement']) {
            this.supplement = source.supplement.map((x) => new fhir.NutritionOrderSupplement(x, options));
        }
        else {
            this.supplement = [];
        }
        if (source['enteralFormula']) {
            this.enteralFormula = new fhir.NutritionOrderEnteralFormula(source.enteralFormula, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'NutritionOrder';
        }
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('orderer', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vRS('dateTime', exp));
        iss.push(...this.vOSV('status', exp, 'NutritionOrderStatus', NutritionOrderStatusVsValidation, 'r'));
        iss.push(...this.vOA('allergyIntolerance', exp));
        iss.push(...this.vOA('foodPreferenceModifier', exp));
        iss.push(...this.vOA('excludeFoodModifier', exp));
        iss.push(...this.vOS('oralDiet', exp));
        iss.push(...this.vOA('supplement', exp));
        iss.push(...this.vOS('enteralFormula', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
NutritionOrder._fts_dataType = 'NutritionOrder';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTnV0cml0aW9uT3JkZXIuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL051dHJpdGlvbk9yZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUVoQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sc0RBQXNELENBQUM7QUFleEc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sOEJBQStCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhdEU7O09BRUc7SUFDSCxZQUFZLFNBQXFELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzNHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDL0YsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7SUFDcEYsQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLGtDQUFrQyxDQUFBO1NBQUU7UUFDNUQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FB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QUFHLENBQUMsb0JBQW9CLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNoRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBN0dEOztHQUVHO0FBQzZCLDRCQUFhLEdBQVUsZ0JBQWdCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjIuY29yZSB2ZXJzaW9uOiAxLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IE51dHJpdGlvbk9yZGVyXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBOdXRyaXRpb25PcmRlclN0YXR1c0NvZGVzLCAgTnV0cml0aW9uT3JkZXJTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTnV0cml0aW9uT3JkZXJTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTnV0cml0aW9uT3JkZXJTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL051dHJpdGlvbk9yZGVyU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE51dHJpdGlvbk9yZGVyT3JhbERpZXROdXRyaWVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgbnV0cmllbnQgdGhhdCBpcyBiZWluZyBtb2RpZmllZCBzdWNoIGFzIGNhcmJvaHlkcmF0ZSBvciBzb2RpdW0uXHJcbiAgICovXHJcbiAgbW9kaWZpZXI/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG51dHJpZW50IHRvIGluY2x1ZGUgaW4gZGlldC5cclxuICAgKi9cclxuICBhbW91bnQ/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyB0aGF0IGRlZmluZXMgdGhlIHF1YW50aXR5IGFuZCB0eXBlIG9mIG51dHJpZW50IG1vZGlmaWNhdGlvbnMgcmVxdWlyZWQgZm9yIHRoZSBvcmFsIGRpZXQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50JztcclxuICAvKipcclxuICAgKiBUaGUgbnV0cmllbnQgdGhhdCBpcyBiZWluZyBtb2RpZmllZCBzdWNoIGFzIGNhcmJvaHlkcmF0ZSBvciBzb2RpdW0uXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGlmaWVyPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBxdWFudGl0eSBvZiB0aGUgc3BlY2lmaWVkIG51dHJpZW50IHRvIGluY2x1ZGUgaW4gZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgYW1vdW50PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21vZGlmaWVyJ10pIHsgdGhpcy5tb2RpZmllciA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UubW9kaWZpZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhbW91bnQnXSkgeyB0aGlzLmFtb3VudCA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5hbW91bnQsIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIub3JhbERpZXQubnV0cmllbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtb2RpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYW1vdW50JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEFueSB0ZXh0dXJlIG1vZGlmaWNhdGlvbnMgKGZvciBzb2xpZCBmb29kcykgdGhhdCBzaG91bGQgYmUgbWFkZSwgZS5nLiBlYXN5IHRvIGNoZXcsIGNob3BwZWQsIGdyb3VuZCwgYW5kIHB1cmVlZC5cclxuICAgKi9cclxuICBtb2RpZmllcj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGZvb2QgdHlwZShzKSAoZS5nLiBtZWF0cywgYWxsIGZvb2RzKSAgdGhhdCB0aGUgdGV4dHVyZSBtb2RpZmljYXRpb24gYXBwbGllcyB0by4gIFRoaXMgY291bGQgYmUgYWxsIGZvb2RzIHR5cGVzLlxyXG4gICAqL1xyXG4gIGZvb2RUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENsYXNzIHRoYXQgZGVzY3JpYmVzIGFueSB0ZXh0dXJlIG1vZGlmaWNhdGlvbnMgcmVxdWlyZWQgZm9yIHRoZSBwYXRpZW50IHRvIHNhZmVseSBjb25zdW1lIHZhcmlvdXMgdHlwZXMgb2Ygc29saWQgZm9vZHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZSc7XHJcbiAgLyoqXHJcbiAgICogQW55IHRleHR1cmUgbW9kaWZpY2F0aW9ucyAoZm9yIHNvbGlkIGZvb2RzKSB0aGF0IHNob3VsZCBiZSBtYWRlLCBlLmcuIGVhc3kgdG8gY2hldywgY2hvcHBlZCwgZ3JvdW5kLCBhbmQgcHVyZWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RpZmllcj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZm9vZCB0eXBlKHMpIChlLmcuIG1lYXRzLCBhbGwgZm9vZHMpICB0aGF0IHRoZSB0ZXh0dXJlIG1vZGlmaWNhdGlvbiBhcHBsaWVzIHRvLiAgVGhpcyBjb3VsZCBiZSBhbGwgZm9vZHMgdHlwZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGZvb2RUeXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbW9kaWZpZXInXSkgeyB0aGlzLm1vZGlmaWVyID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tb2RpZmllciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Zvb2RUeXBlJ10pIHsgdGhpcy5mb29kVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZm9vZFR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIub3JhbERpZXQudGV4dHVyZScgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdmb29kVHlwZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXJPcmFsRGlldCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlck9yYWxEaWV0QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGtpbmQgb2YgZGlldCBvciBkaWV0YXJ5IHJlc3RyaWN0aW9uIHN1Y2ggYXMgZmliZXIgcmVzdHJpY3RlZCBkaWV0IG9yIGRpYWJldGljIGRpZXQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgZGlldCBzaG91bGQgYmUgZ2l2ZW4uXHJcbiAgICovXHJcbiAgc2NoZWR1bGU/OiBmaGlyLlRpbWluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZWZpbmVzIHRoZSBxdWFudGl0eSBhbmQgdHlwZSBvZiBudXRyaWVudCBtb2RpZmljYXRpb25zIHJlcXVpcmVkIGZvciB0aGUgb3JhbCBkaWV0LlxyXG4gICAqL1xyXG4gIG51dHJpZW50PzogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0TnV0cmllbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENsYXNzIHRoYXQgZGVzY3JpYmVzIGFueSB0ZXh0dXJlIG1vZGlmaWNhdGlvbnMgcmVxdWlyZWQgZm9yIHRoZSBwYXRpZW50IHRvIHNhZmVseSBjb25zdW1lIHZhcmlvdXMgdHlwZXMgb2Ygc29saWQgZm9vZHMuXHJcbiAgICovXHJcbiAgdGV4dHVyZT86IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldFRleHR1cmVBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXF1aXJlZCBjb25zaXN0ZW5jeSAoZS5nLiBob25leS10aGljaywgbmVjdGFyLXRoaWNrLCB0aGluLCB0aGlja2VuZWQuKSBvZiBsaXF1aWRzIG9yIGZsdWlkcyBzZXJ2ZWQgdG8gdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgZmx1aWRDb25zaXN0ZW5jeVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IG9yIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIG9yIGluZm9ybWF0aW9uIHBlcnRhaW5pbmcgdG8gdGhlIG9yYWwgZGlldC5cclxuICAgKi9cclxuICBpbnN0cnVjdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5vcmFsRGlldC5pbnN0cnVjdGlvblxyXG4gICAqL1xyXG4gIF9pbnN0cnVjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaWV0IGdpdmVuIG9yYWxseSBpbiBjb250cmFzdCB0byBlbnRlcmFsICh0dWJlKSBmZWVkaW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51dHJpdGlvbk9yZGVyT3JhbERpZXQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlck9yYWxEaWV0JztcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBkaWV0IG9yIGRpZXRhcnkgcmVzdHJpY3Rpb24gc3VjaCBhcyBmaWJlciByZXN0cmljdGVkIGRpZXQgb3IgZGlhYmV0aWMgZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgZGlldCBzaG91bGQgYmUgZ2l2ZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHNjaGVkdWxlOiBmaGlyLlRpbWluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIENsYXNzIHRoYXQgZGVmaW5lcyB0aGUgcXVhbnRpdHkgYW5kIHR5cGUgb2YgbnV0cmllbnQgbW9kaWZpY2F0aW9ucyByZXF1aXJlZCBmb3IgdGhlIG9yYWwgZGlldC5cclxuICAgKi9cclxuICBwdWJsaWMgbnV0cmllbnQ6IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldE51dHJpZW50W107XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgdGhhdCBkZXNjcmliZXMgYW55IHRleHR1cmUgbW9kaWZpY2F0aW9ucyByZXF1aXJlZCBmb3IgdGhlIHBhdGllbnQgdG8gc2FmZWx5IGNvbnN1bWUgdmFyaW91cyB0eXBlcyBvZiBzb2xpZCBmb29kcy5cclxuICAgKi9cclxuICBwdWJsaWMgdGV4dHVyZTogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0VGV4dHVyZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZXF1aXJlZCBjb25zaXN0ZW5jeSAoZS5nLiBob25leS10aGljaywgbmVjdGFyLXRoaWNrLCB0aGluLCB0aGlja2VuZWQuKSBvZiBsaXF1aWRzIG9yIGZsdWlkcyBzZXJ2ZWQgdG8gdGhlIHBhdGllbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGZsdWlkQ29uc2lzdGVuY3lUeXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBvciBhZGRpdGlvbmFsIGluc3RydWN0aW9ucyBvciBpbmZvcm1hdGlvbiBwZXJ0YWluaW5nIHRvIHRoZSBvcmFsIGRpZXQuXHJcbiAgICovXHJcbiAgcHVibGljIGluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlck9yYWxEaWV0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJPcmFsRGlldEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gc291cmNlLnR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NjaGVkdWxlJ10pIHsgdGhpcy5zY2hlZHVsZSA9IHNvdXJjZS5zY2hlZHVsZS5tYXAoKHgpID0+IG5ldyBmaGlyLlRpbWluZyh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNjaGVkdWxlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ251dHJpZW50J10pIHsgdGhpcy5udXRyaWVudCA9IHNvdXJjZS5udXRyaWVudC5tYXAoKHgpID0+IG5ldyBmaGlyLk51dHJpdGlvbk9yZGVyT3JhbERpZXROdXRyaWVudCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm51dHJpZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3RleHR1cmUnXSkgeyB0aGlzLnRleHR1cmUgPSBzb3VyY2UudGV4dHVyZS5tYXAoKHgpID0+IG5ldyBmaGlyLk51dHJpdGlvbk9yZGVyT3JhbERpZXRUZXh0dXJlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGV4dHVyZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmbHVpZENvbnNpc3RlbmN5VHlwZSddKSB7IHRoaXMuZmx1aWRDb25zaXN0ZW5jeVR5cGUgPSBzb3VyY2UuZmx1aWRDb25zaXN0ZW5jeVR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5mbHVpZENvbnNpc3RlbmN5VHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnN0cnVjdGlvbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5pbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuaW5zdHJ1Y3Rpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2luc3RydWN0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaW5zdHJ1Y3Rpb24pIHsgdGhpcy5pbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9pbnN0cnVjdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmluc3RydWN0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2luc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIub3JhbERpZXQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzY2hlZHVsZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnbnV0cmllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3RleHR1cmUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2ZsdWlkQ29uc2lzdGVuY3lUeXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbnN0cnVjdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE51dHJpdGlvbk9yZGVyU3VwcGxlbWVudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBraW5kIG9mIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgcHJvZHVjdCByZXF1aXJlZCBzdWNoIGFzIGEgaGlnaCBwcm90ZWluIG9yIHBlZGlhdHJpYyBjbGVhciBsaXF1aWQgc3VwcGxlbWVudC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSBudXRyaXRpb25hbCBzdXBwbGVtZW50IHN1Y2ggYXMgXCJBY21lIFByb3RlaW4gU2hha2VcIi5cclxuICAgKi9cclxuICBwcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5zdXBwbGVtZW50LnByb2R1Y3ROYW1lXHJcbiAgICovXHJcbiAgX3Byb2R1Y3ROYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgc3VwcGxlbWVudChzKSBzaG91bGQgYmUgZ2l2ZW4uXHJcbiAgICovXHJcbiAgc2NoZWR1bGU/OiBmaGlyLlRpbWluZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiB0aGUgbnV0cml0aW9uYWwgc3VwcGxlbWVudCB0byBiZSBnaXZlbi5cclxuICAgKi9cclxuICBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgb3IgYWRkaXRpb25hbCBpbnN0cnVjdGlvbnMgb3IgaW5mb3JtYXRpb24gcGVydGFpbmluZyB0byB0aGUgb3JhbCBzdXBwbGVtZW50LlxyXG4gICAqL1xyXG4gIGluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLnN1cHBsZW1lbnQuaW5zdHJ1Y3Rpb25cclxuICAgKi9cclxuICBfaW5zdHJ1Y3Rpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogT3JhbCBudXRyaXRpb25hbCBwcm9kdWN0cyBnaXZlbiBpbiBvcmRlciB0byBhZGQgZnVydGhlciBudXRyaXRpb25hbCB2YWx1ZSB0byB0aGUgcGF0aWVudCdzIGRpZXQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50JztcclxuICAvKipcclxuICAgKiBUaGUga2luZCBvZiBudXRyaXRpb25hbCBzdXBwbGVtZW50IHByb2R1Y3QgcmVxdWlyZWQgc3VjaCBhcyBhIGhpZ2ggcHJvdGVpbiBvciBwZWRpYXRyaWMgY2xlYXIgbGlxdWlkIHN1cHBsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByb2R1Y3Qgb3IgYnJhbmQgbmFtZSBvZiB0aGUgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBzdWNoIGFzIFwiQWNtZSBQcm90ZWluIFNoYWtlXCIuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y3ROYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdGltZSBwZXJpb2QgYW5kIGZyZXF1ZW5jeSBhdCB3aGljaCB0aGUgc3VwcGxlbWVudChzKSBzaG91bGQgYmUgZ2l2ZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHNjaGVkdWxlOiBmaGlyLlRpbWluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgdGhlIG51dHJpdGlvbmFsIHN1cHBsZW1lbnQgdG8gYmUgZ2l2ZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IG9yIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIG9yIGluZm9ybWF0aW9uIHBlcnRhaW5pbmcgdG8gdGhlIG9yYWwgc3VwcGxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgaW5zdHJ1Y3Rpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE51dHJpdGlvbk9yZGVyU3VwcGxlbWVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE51dHJpdGlvbk9yZGVyU3VwcGxlbWVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZHVjdE5hbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnByb2R1Y3ROYW1lfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wcm9kdWN0TmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb2R1Y3ROYW1lKSB7IHRoaXMucHJvZHVjdE5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcHJvZHVjdE5hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcm9kdWN0TmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wcm9kdWN0TmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2NoZWR1bGUnXSkgeyB0aGlzLnNjaGVkdWxlID0gc291cmNlLnNjaGVkdWxlLm1hcCgoeCkgPT4gbmV3IGZoaXIuVGltaW5nKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2NoZWR1bGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncXVhbnRpdHknXSkgeyB0aGlzLnF1YW50aXR5ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnF1YW50aXR5LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5zdHJ1Y3Rpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuaW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmluc3RydWN0aW9ufSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19pbnN0cnVjdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmluc3RydWN0aW9uKSB7IHRoaXMuaW5zdHJ1Y3Rpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5faW5zdHJ1Y3Rpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5pbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9pbnN0cnVjdGlvbiBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ051dHJpdGlvbk9yZGVyLnN1cHBsZW1lbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd0eXBlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwcm9kdWN0TmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc2NoZWR1bGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3F1YW50aXR5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbnN0cnVjdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBZG1pbmlzdHJhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBhbmQgZnJlcXVlbmN5IGF0IHdoaWNoIHRoZSBlbnRlcmFsIGZvcm11bGEgc2hvdWxkIGJlIGRlbGl2ZXJlZCB0byB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBzY2hlZHVsZT86IGZoaXIuVGltaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZvbHVtZSBvZiBmb3JtdWxhIHRvIHByb3ZpZGUgdG8gdGhlIHBhdGllbnQgcGVyIHRoZSBzcGVjaWZpZWQgYWRtaW5pc3RyYXRpb24gc2NoZWR1bGUuXHJcbiAgICovXHJcbiAgcXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJhdGUgb2YgYWRtaW5pc3RyYXRpb24gb2YgZm9ybXVsYSB2aWEgYSBmZWVkaW5nIHB1bXAsIGUuZy4gNjAgbUwgcGVyIGhvdXIsIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlLlxyXG4gICAqL1xyXG4gIHJhdGU/OiBmaGlyLlF1YW50aXR5fGZoaXIuUmF0aW98dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByYXRlIG9mIGFkbWluaXN0cmF0aW9uIG9mIGZvcm11bGEgdmlhIGEgZmVlZGluZyBwdW1wLCBlLmcuIDYwIG1MIHBlciBob3VyLCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBzY2hlZHVsZS5cclxuICAgKi9cclxuICByYXRlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJhdGUgb2YgYWRtaW5pc3RyYXRpb24gb2YgZm9ybXVsYSB2aWEgYSBmZWVkaW5nIHB1bXAsIGUuZy4gNjAgbUwgcGVyIGhvdXIsIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlLlxyXG4gICAqL1xyXG4gIHJhdGVSYXRpbz86IGZoaXIuUmF0aW9BcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcm11bGEgYWRtaW5pc3RyYXRpb24gaW5zdHJ1Y3Rpb25zIGFzIHN0cnVjdHVyZWQgZGF0YS4gIFRoaXMgcmVwZWF0aW5nIHN0cnVjdHVyZSBhbGxvd3MgZm9yIGNoYW5naW5nIHRoZSBhZG1pbmlzdHJhdGlvbiByYXRlIG9yIHZvbHVtZSBvdmVyIHRpbWUgZm9yIGJvdGggYm9sdXMgYW5kIGNvbnRpbnVvdXMgZmVlZGluZy4gIEFuIGV4YW1wbGUgb2YgdGhpcyB3b3VsZCBiZSBhbiBpbnN0cnVjdGlvbiB0byBpbmNyZWFzZSB0aGUgcmF0ZSBvZiBjb250aW51b3VzIGZlZWRpbmcgZXZlcnkgMiBob3Vycy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHBlcmlvZCBhbmQgZnJlcXVlbmN5IGF0IHdoaWNoIHRoZSBlbnRlcmFsIGZvcm11bGEgc2hvdWxkIGJlIGRlbGl2ZXJlZCB0byB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc2NoZWR1bGU/OiBmaGlyLlRpbWluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZvbHVtZSBvZiBmb3JtdWxhIHRvIHByb3ZpZGUgdG8gdGhlIHBhdGllbnQgcGVyIHRoZSBzcGVjaWZpZWQgYWRtaW5pc3RyYXRpb24gc2NoZWR1bGUuXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJhdGUgb2YgYWRtaW5pc3RyYXRpb24gb2YgZm9ybXVsYSB2aWEgYSBmZWVkaW5nIHB1bXAsIGUuZy4gNjAgbUwgcGVyIGhvdXIsIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByYXRlPzogKGZoaXIuUXVhbnRpdHl8Zmhpci5SYXRpbyl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEuYWRtaW5pc3RyYXRpb24ucmF0ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19yYXRlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3NjaGVkdWxlJ10pIHsgdGhpcy5zY2hlZHVsZSA9IG5ldyBmaGlyLlRpbWluZyhzb3VyY2Uuc2NoZWR1bGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UucXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyYXRlJ10pIHsgdGhpcy5yYXRlID0gc291cmNlLnJhdGU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVF1YW50aXR5J10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnJhdGVRdWFudGl0eSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVJhdGlvJ10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUmF0aW8oc291cmNlLnJhdGVSYXRpbywgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdOdXRyaXRpb25PcmRlci5lbnRlcmFsRm9ybXVsYS5hZG1pbmlzdHJhdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NjaGVkdWxlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdxdWFudGl0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncmF0ZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgZW50ZXJhbCBvciBpbmZhbnQgZm9ybXVsYSBzdWNoIGFzIGFuIGFkdWx0IHN0YW5kYXJkIGZvcm11bGEgd2l0aCBmaWJlciBvciBhIHNveS1iYXNlZCBpbmZhbnQgZm9ybXVsYS5cclxuICAgKi9cclxuICBiYXNlRm9ybXVsYVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIGVudGVyYWwgb3IgaW5mYW50IGZvcm11bGEgcHJvZHVjdCBzdWNoIGFzIFwiQUNNRSBBZHVsdCBTdGFuZGFyZCBGb3JtdWxhXCIuXHJcbiAgICovXHJcbiAgYmFzZUZvcm11bGFQcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5lbnRlcmFsRm9ybXVsYS5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lXHJcbiAgICovXHJcbiAgX2Jhc2VGb3JtdWxhUHJvZHVjdE5hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB0aGUgdHlwZSBvZiBtb2R1bGFyIGNvbXBvbmVudCBzdWNoIGFzIHByb3RlaW4sIGNhcmJvaHlkcmF0ZSwgZmF0IG9yIGZpYmVyIHRvIGJlIHByb3ZpZGVkIGluIGFkZGl0aW9uIHRvIG9yIG1peGVkIHdpdGggdGhlIGJhc2UgZm9ybXVsYS5cclxuICAgKi9cclxuICBhZGRpdGl2ZVR5cGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm9kdWN0IG9yIGJyYW5kIG5hbWUgb2YgdGhlIHR5cGUgb2YgbW9kdWxhciBjb21wb25lbnQgdG8gYmUgYWRkZWQgdG8gdGhlIGZvcm11bGEuXHJcbiAgICovXHJcbiAgYWRkaXRpdmVQcm9kdWN0TmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5lbnRlcmFsRm9ybXVsYS5hZGRpdGl2ZVByb2R1Y3ROYW1lXHJcbiAgICovXHJcbiAgX2FkZGl0aXZlUHJvZHVjdE5hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgZW5lcmd5IChDYWxvcmllcykgdGhhdCB0aGUgZm9ybXVsYSBzaG91bGQgcHJvdmlkZSBwZXIgc3BlY2lmaWVkIHZvbHVtZSwgdHlwaWNhbGx5IHBlciBtTCBvciBmbHVpZCBvei4gIEZvciBleGFtcGxlLCBhbiBpbmZhbnQgbWF5IHJlcXVpcmUgYSBmb3JtdWxhIHRoYXQgcHJvdmlkZXMgMjQgQ2Fsb3JpZXMgcGVyIGZsdWlkIG91bmNlIG9yIGFuIGFkdWx0IG1heSByZXF1aXJlIGFuIGVudGVyYWwgZm9ybXVsYSB0aGF0IHByb3ZpZGVzIDEuNSBDYWxvcmllL21MLlxyXG4gICAqL1xyXG4gIGNhbG9yaWNEZW5zaXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByb3V0ZSBvciBwaHlzaW9sb2dpY2FsIHBhdGggb2YgYWRtaW5pc3RyYXRpb24gaW50byB0aGUgcGF0aWVudCdzIGdhc3Ryb2ludGVzdGluYWwgIHRyYWN0IGZvciBwdXJwb3NlcyBvZiBwcm92aWRpbmcgdGhlIGZvcm11bGEgZmVlZGluZywgZS5nLiBuYXNvZ2FzdHJpYyB0dWJlLlxyXG4gICAqL1xyXG4gIHJvdXRlb2ZBZG1pbmlzdHJhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9ybXVsYSBhZG1pbmlzdHJhdGlvbiBpbnN0cnVjdGlvbnMgYXMgc3RydWN0dXJlZCBkYXRhLiAgVGhpcyByZXBlYXRpbmcgc3RydWN0dXJlIGFsbG93cyBmb3IgY2hhbmdpbmcgdGhlIGFkbWluaXN0cmF0aW9uIHJhdGUgb3Igdm9sdW1lIG92ZXIgdGltZSBmb3IgYm90aCBib2x1cyBhbmQgY29udGludW91cyBmZWVkaW5nLiAgQW4gZXhhbXBsZSBvZiB0aGlzIHdvdWxkIGJlIGFuIGluc3RydWN0aW9uIHRvIGluY3JlYXNlIHRoZSByYXRlIG9mIGNvbnRpbnVvdXMgZmVlZGluZyBldmVyeSAyIGhvdXJzLlxyXG4gICAqL1xyXG4gIGFkbWluaXN0cmF0aW9uPzogZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBtYXhpbXVtIHRvdGFsIHF1YW50aXR5IG9mIGZvcm11bGEgdGhhdCBtYXkgYmUgYWRtaW5pc3RlcmVkIHRvIGEgc3ViamVjdCBvdmVyIHRoZSBwZXJpb2Qgb2YgdGltZSwgZS5nLiAxNDQwIG1MIG92ZXIgMjQgaG91cnMuXHJcbiAgICovXHJcbiAgbWF4Vm9sdW1lVG9EZWxpdmVyPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBmb3JtdWxhIGFkbWluaXN0cmF0aW9uLCBmZWVkaW5nIGluc3RydWN0aW9ucyBvciBhZGRpdGlvbmFsIGluc3RydWN0aW9ucyBvciBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBhZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE51dHJpdGlvbk9yZGVyLmVudGVyYWxGb3JtdWxhLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb25cclxuICAgKi9cclxuICBfYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGZWVkaW5nIHByb3ZpZGVkIHRocm91Z2ggdGhlIGdhc3Ryb2ludGVzdGluYWwgdHJhY3QgdmlhIGEgdHViZSwgY2F0aGV0ZXIsIG9yIHN0b21hIHRoYXQgZGVsaXZlcnMgbnV0cml0aW9uIGRpc3RhbCB0byB0aGUgb3JhbCBjYXZpdHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ051dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGEnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIG9mIGVudGVyYWwgb3IgaW5mYW50IGZvcm11bGEgc3VjaCBhcyBhbiBhZHVsdCBzdGFuZGFyZCBmb3JtdWxhIHdpdGggZmliZXIgb3IgYSBzb3ktYmFzZWQgaW5mYW50IGZvcm11bGEuXHJcbiAgICovXHJcbiAgcHVibGljIGJhc2VGb3JtdWxhVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSBlbnRlcmFsIG9yIGluZmFudCBmb3JtdWxhIHByb2R1Y3Qgc3VjaCBhcyBcIkFDTUUgQWR1bHQgU3RhbmRhcmQgRm9ybXVsYVwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBiYXNlRm9ybXVsYVByb2R1Y3ROYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgbW9kdWxhciBjb21wb25lbnQgc3VjaCBhcyBwcm90ZWluLCBjYXJib2h5ZHJhdGUsIGZhdCBvciBmaWJlciB0byBiZSBwcm92aWRlZCBpbiBhZGRpdGlvbiB0byBvciBtaXhlZCB3aXRoIHRoZSBiYXNlIGZvcm11bGEuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZGl0aXZlVHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHJvZHVjdCBvciBicmFuZCBuYW1lIG9mIHRoZSB0eXBlIG9mIG1vZHVsYXIgY29tcG9uZW50IHRvIGJlIGFkZGVkIHRvIHRoZSBmb3JtdWxhLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRpdGl2ZVByb2R1Y3ROYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYW1vdW50IG9mIGVuZXJneSAoQ2Fsb3JpZXMpIHRoYXQgdGhlIGZvcm11bGEgc2hvdWxkIHByb3ZpZGUgcGVyIHNwZWNpZmllZCB2b2x1bWUsIHR5cGljYWxseSBwZXIgbUwgb3IgZmx1aWQgb3ouICBGb3IgZXhhbXBsZSwgYW4gaW5mYW50IG1heSByZXF1aXJlIGEgZm9ybXVsYSB0aGF0IHByb3ZpZGVzIDI0IENhbG9yaWVzIHBlciBmbHVpZCBvdW5jZSBvciBhbiBhZHVsdCBtYXkgcmVxdWlyZSBhbiBlbnRlcmFsIGZvcm11bGEgdGhhdCBwcm92aWRlcyAxLjUgQ2Fsb3JpZS9tTC5cclxuICAgKi9cclxuICBwdWJsaWMgY2Fsb3JpY0RlbnNpdHk/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcm91dGUgb3IgcGh5c2lvbG9naWNhbCBwYXRoIG9mIGFkbWluaXN0cmF0aW9uIGludG8gdGhlIHBhdGllbnQncyBnYXN0cm9pbnRlc3RpbmFsICB0cmFjdCBmb3IgcHVycG9zZXMgb2YgcHJvdmlkaW5nIHRoZSBmb3JtdWxhIGZlZWRpbmcsIGUuZy4gbmFzb2dhc3RyaWMgdHViZS5cclxuICAgKi9cclxuICBwdWJsaWMgcm91dGVvZkFkbWluaXN0cmF0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvcm11bGEgYWRtaW5pc3RyYXRpb24gaW5zdHJ1Y3Rpb25zIGFzIHN0cnVjdHVyZWQgZGF0YS4gIFRoaXMgcmVwZWF0aW5nIHN0cnVjdHVyZSBhbGxvd3MgZm9yIGNoYW5naW5nIHRoZSBhZG1pbmlzdHJhdGlvbiByYXRlIG9yIHZvbHVtZSBvdmVyIHRpbWUgZm9yIGJvdGggYm9sdXMgYW5kIGNvbnRpbnVvdXMgZmVlZGluZy4gIEFuIGV4YW1wbGUgb2YgdGhpcyB3b3VsZCBiZSBhbiBpbnN0cnVjdGlvbiB0byBpbmNyZWFzZSB0aGUgcmF0ZSBvZiBjb250aW51b3VzIGZlZWRpbmcgZXZlcnkgMiBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgYWRtaW5pc3RyYXRpb246IGZoaXIuTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFkbWluaXN0cmF0aW9uW107XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gdG90YWwgcXVhbnRpdHkgb2YgZm9ybXVsYSB0aGF0IG1heSBiZSBhZG1pbmlzdGVyZWQgdG8gYSBzdWJqZWN0IG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lLCBlLmcuIDE0NDAgbUwgb3ZlciAyNCBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4Vm9sdW1lVG9EZWxpdmVyPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IGZvcm11bGEgYWRtaW5pc3RyYXRpb24sIGZlZWRpbmcgaW5zdHJ1Y3Rpb25zIG9yIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIG9yIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBOdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydiYXNlRm9ybXVsYVR5cGUnXSkgeyB0aGlzLmJhc2VGb3JtdWxhVHlwZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuYmFzZUZvcm11bGFUeXBlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYmFzZUZvcm11bGFQcm9kdWN0TmFtZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5iYXNlRm9ybXVsYVByb2R1Y3ROYW1lfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19iYXNlRm9ybXVsYVByb2R1Y3ROYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYmFzZUZvcm11bGFQcm9kdWN0TmFtZSkgeyB0aGlzLmJhc2VGb3JtdWxhUHJvZHVjdE5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYmFzZUZvcm11bGFQcm9kdWN0TmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmJhc2VGb3JtdWxhUHJvZHVjdE5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYmFzZUZvcm11bGFQcm9kdWN0TmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkaXRpdmVUeXBlJ10pIHsgdGhpcy5hZGRpdGl2ZVR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmFkZGl0aXZlVHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FkZGl0aXZlUHJvZHVjdE5hbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuYWRkaXRpdmVQcm9kdWN0TmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuYWRkaXRpdmVQcm9kdWN0TmFtZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWRkaXRpdmVQcm9kdWN0TmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFkZGl0aXZlUHJvZHVjdE5hbWUpIHsgdGhpcy5hZGRpdGl2ZVByb2R1Y3ROYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FkZGl0aXZlUHJvZHVjdE5hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hZGRpdGl2ZVByb2R1Y3ROYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2FkZGl0aXZlUHJvZHVjdE5hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NhbG9yaWNEZW5zaXR5J10pIHsgdGhpcy5jYWxvcmljRGVuc2l0eSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5jYWxvcmljRGVuc2l0eSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JvdXRlb2ZBZG1pbmlzdHJhdGlvbiddKSB7IHRoaXMucm91dGVvZkFkbWluaXN0cmF0aW9uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yb3V0ZW9mQWRtaW5pc3RyYXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZG1pbmlzdHJhdGlvbiddKSB7IHRoaXMuYWRtaW5pc3RyYXRpb24gPSBzb3VyY2UuYWRtaW5pc3RyYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5OdXRyaXRpb25PcmRlckVudGVyYWxGb3JtdWxhQWRtaW5pc3RyYXRpb24oeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hZG1pbmlzdHJhdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydtYXhWb2x1bWVUb0RlbGl2ZXInXSkgeyB0aGlzLm1heFZvbHVtZVRvRGVsaXZlciA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5tYXhWb2x1bWVUb0RlbGl2ZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmFkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FkbWluaXN0cmF0aW9uSW5zdHJ1Y3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uKSB7IHRoaXMuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9hZG1pbmlzdHJhdGlvbkluc3RydWN0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTnV0cml0aW9uT3JkZXIuZW50ZXJhbEZvcm11bGEnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdiYXNlRm9ybXVsYVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Jhc2VGb3JtdWxhUHJvZHVjdE5hbWUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2FkZGl0aXZlVHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRkaXRpdmVQcm9kdWN0TmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY2Fsb3JpY0RlbnNpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JvdXRlb2ZBZG1pbmlzdHJhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYWRtaW5pc3RyYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heFZvbHVtZVRvRGVsaXZlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRtaW5pc3RyYXRpb25JbnN0cnVjdGlvbicsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTnV0cml0aW9uT3JkZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnV0cml0aW9uT3JkZXJBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJOdXRyaXRpb25PcmRlclwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyc29uIChwYXRpZW50KSB3aG8gbmVlZHMgdGhlIG51dHJpdGlvbiBvcmRlciBmb3IgYW4gb3JhbCBkaWV0LCBudXRyaXRpb25hbCBzdXBwbGVtZW50IGFuZC9vciBlbnRlcmFsIG9yIGZvcm11bGEgZmVlZGluZy5cclxuICAgKi9cclxuICBwYXRpZW50OiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcHJhY3RpdGlvbmVyIHRoYXQgaG9sZHMgbGVnYWwgcmVzcG9uc2liaWxpdHkgZm9yIG9yZGVyaW5nIHRoZSBkaWV0LCBudXRyaXRpb25hbCBzdXBwbGVtZW50LCBvciBmb3JtdWxhIGZlZWRpbmdzLlxyXG4gICAqL1xyXG4gIG9yZGVyZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXJzIGFzc2lnbmVkIHRvIHRoaXMgb3JkZXIgYnkgdGhlIG9yZGVyIHNlbmRlciBvciBieSB0aGUgb3JkZXIgcmVjZWl2ZXIuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gZW5jb3VudGVyIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGVhbHRoY2FyZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVxdWVzdCBpcyBtYWRlLlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgYW5kIHRpbWUgdGhhdCB0aGlzIG51dHJpdGlvbiBvcmRlciB3YXMgcmVxdWVzdGVkLlxyXG4gICAqL1xyXG4gIGRhdGVUaW1lOiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5kYXRlVGltZVxyXG4gICAqL1xyXG4gIF9kYXRlVGltZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHdvcmtmbG93IHN0YXR1cyBvZiB0aGUgbnV0cml0aW9uIG9yZGVyL3JlcXVlc3QuXHJcbiAgICovXHJcbiAgc3RhdHVzPzogZmhpci5GaGlyQ29kZTxOdXRyaXRpb25PcmRlclN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBOdXRyaXRpb25PcmRlci5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGxpbmsgdG8gYSByZWNvcmQgb2YgYWxsZXJnaWVzIG9yIGludG9sZXJhbmNlcyAgd2hpY2ggc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSBudXRyaXRpb24gb3JkZXIuXHJcbiAgICovXHJcbiAgYWxsZXJneUludG9sZXJhbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbW9kaWZpZXIgaXMgdXNlZCB0byBjb252ZXkgb3JkZXItc3BlY2lmaWMgbW9kaWZpZXJzIGFib3V0IHRoZSB0eXBlIG9mIGZvb2QgdGhhdCBzaG91bGQgYmUgZ2l2ZW4uIFRoZXNlIGNhbiBiZSBkZXJpdmVkIGZyb20gcGF0aWVudCBhbGxlcmdpZXMsIGludG9sZXJhbmNlcywgb3IgcHJlZmVyZW5jZXMgc3VjaCBhcyBIYWxhbCwgVmVnYW4gb3IgS29zaGVyLiBUaGlzIG1vZGlmaWVyIGFwcGxpZXMgdG8gdGhlIGVudGlyZSBudXRyaXRpb24gb3JkZXIgaW5jbHVzaXZlIG9mIHRoZSBvcmFsIGRpZXQsIG51dHJpdGlvbmFsIHN1cHBsZW1lbnRzIGFuZCBlbnRlcmFsIGZvcm11bGEgZmVlZGluZ3MuXHJcbiAgICovXHJcbiAgZm9vZFByZWZlcmVuY2VNb2RpZmllcj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIG1vZGlmaWVyIGlzIHVzZWQgdG8gY29udmV5IG9yZGVyLXNwZWNpZmljIG1vZGlmaWVycyBhYm91dCB0aGUgdHlwZSBvZiBmb29kIHRoYXQgc2hvdWxkIE5PVCBiZSBnaXZlbi4gVGhlc2UgY2FuIGJlIGRlcml2ZWQgZnJvbSBwYXRpZW50IGFsbGVyZ2llcywgaW50b2xlcmFuY2VzLCBvciBwcmVmZXJlbmNlcyBzdWNoIGFzIE5vIFJlZCBNZWF0LCBObyBTb3kgb3IgTm8gV2hlYXQgb3IgIEdsdXRlbi1GcmVlLiAgV2hpbGUgaXQgc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnkgdG8gcmVwZWF0IGFsbGVyZ3kgb3IgaW50b2xlcmFuY2UgaW5mb3JtYXRpb24gY2FwdHVyZWQgaW4gdGhlIHJlZmVyZW5jZWQgYWxsZXJneUludG9sZXJhbmNlIHJlc291cmNlIGluIHRoZSBleGNsdWRlRm9vZE1vZGlmaWVyLCB0aGlzIGVsZW1lbnQgbWF5IGJlIHVzZWQgdG8gY29udmV5IGFkZGl0aW9uYWwgc3BlY2lmaWNpdHkgcmVsYXRlZCB0byBmb29kcyB0aGF0IHNob3VsZCBiZSBlbGltaW5hdGVkIGZyb20gdGhlIHBhdGllbnTigJlzIGRpZXQgZm9yIGFueSByZWFzb24uICBUaGlzIG1vZGlmaWVyIGFwcGxpZXMgdG8gdGhlIGVudGlyZSBudXRyaXRpb24gb3JkZXIgaW5jbHVzaXZlIG9mIHRoZSBvcmFsIGRpZXQsIG51dHJpdGlvbmFsIHN1cHBsZW1lbnRzIGFuZCBlbnRlcmFsIGZvcm11bGEgZmVlZGluZ3MuXHJcbiAgICovXHJcbiAgZXhjbHVkZUZvb2RNb2RpZmllcj86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEaWV0IGdpdmVuIG9yYWxseSBpbiBjb250cmFzdCB0byBlbnRlcmFsICh0dWJlKSBmZWVkaW5nLlxyXG4gICAqL1xyXG4gIG9yYWxEaWV0PzogZmhpci5OdXRyaXRpb25PcmRlck9yYWxEaWV0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3JhbCBudXRyaXRpb25hbCBwcm9kdWN0cyBnaXZlbiBpbiBvcmRlciB0byBhZGQgZnVydGhlciBudXRyaXRpb25hbCB2YWx1ZSB0byB0aGUgcGF0aWVudCdzIGRpZXQuXHJcbiAgICovXHJcbiAgc3VwcGxlbWVudD86IGZoaXIuTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGZWVkaW5nIHByb3ZpZGVkIHRocm91Z2ggdGhlIGdhc3Ryb2ludGVzdGluYWwgdHJhY3QgdmlhIGEgdHViZSwgY2F0aGV0ZXIsIG9yIHN0b21hIHRoYXQgZGVsaXZlcnMgbnV0cml0aW9uIGRpc3RhbCB0byB0aGUgb3JhbCBjYXZpdHkuXHJcbiAgICovXHJcbiAgZW50ZXJhbEZvcm11bGE/OiBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGFBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVxdWVzdCB0byBzdXBwbHkgYSBkaWV0LCBmb3JtdWxhIGZlZWRpbmcgKGVudGVyYWwpIG9yIG9yYWwgbnV0cml0aW9uYWwgc3VwcGxlbWVudCB0byBhIHBhdGllbnQvcmVzaWRlbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTnV0cml0aW9uT3JkZXIgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ051dHJpdGlvbk9yZGVyJztcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzb3VyY2VUeXBlOiBcIk51dHJpdGlvbk9yZGVyXCI7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiAocGF0aWVudCkgd2hvIG5lZWRzIHRoZSBudXRyaXRpb24gb3JkZXIgZm9yIGFuIG9yYWwgZGlldCwgbnV0cml0aW9uYWwgc3VwcGxlbWVudCBhbmQvb3IgZW50ZXJhbCBvciBmb3JtdWxhIGZlZWRpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHByYWN0aXRpb25lciB0aGF0IGhvbGRzIGxlZ2FsIHJlc3BvbnNpYmlsaXR5IGZvciBvcmRlcmluZyB0aGUgZGlldCwgbnV0cml0aW9uYWwgc3VwcGxlbWVudCwgb3IgZm9ybXVsYSBmZWVkaW5ncy5cclxuICAgKi9cclxuICBwdWJsaWMgb3JkZXJlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVycyBhc3NpZ25lZCB0byB0aGlzIG9yZGVyIGJ5IHRoZSBvcmRlciBzZW5kZXIgb3IgYnkgdGhlIG9yZGVyIHJlY2VpdmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBBbiBlbmNvdW50ZXIgdGhhdCBwcm92aWRlcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoZWFsdGhjYXJlIGNvbnRleHQgaW4gd2hpY2ggdGhpcyByZXF1ZXN0IGlzIG1hZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhbmQgdGltZSB0aGF0IHRoaXMgbnV0cml0aW9uIG9yZGVyIHdhcyByZXF1ZXN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGVUaW1lOiBmaGlyLkZoaXJEYXRlVGltZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB3b3JrZmxvdyBzdGF0dXMgb2YgdGhlIG51dHJpdGlvbiBvcmRlci9yZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM/OiBmaGlyLkZoaXJDb2RlPE51dHJpdGlvbk9yZGVyU3RhdHVzQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGxpbmsgdG8gYSByZWNvcmQgb2YgYWxsZXJnaWVzIG9yIGludG9sZXJhbmNlcyAgd2hpY2ggc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSBudXRyaXRpb24gb3JkZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGFsbGVyZ3lJbnRvbGVyYW5jZTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGlzIG1vZGlmaWVyIGlzIHVzZWQgdG8gY29udmV5IG9yZGVyLXNwZWNpZmljIG1vZGlmaWVycyBhYm91dCB0aGUgdHlwZSBvZiBmb29kIHRoYXQgc2hvdWxkIGJlIGdpdmVuLiBUaGVzZSBjYW4gYmUgZGVyaXZlZCBmcm9tIHBhdGllbnQgYWxsZXJnaWVzLCBpbnRvbGVyYW5jZXMsIG9yIHByZWZlcmVuY2VzIHN1Y2ggYXMgSGFsYWwsIFZlZ2FuIG9yIEtvc2hlci4gVGhpcyBtb2RpZmllciBhcHBsaWVzIHRvIHRoZSBlbnRpcmUgbnV0cml0aW9uIG9yZGVyIGluY2x1c2l2ZSBvZiB0aGUgb3JhbCBkaWV0LCBudXRyaXRpb25hbCBzdXBwbGVtZW50cyBhbmQgZW50ZXJhbCBmb3JtdWxhIGZlZWRpbmdzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBmb29kUHJlZmVyZW5jZU1vZGlmaWVyOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbW9kaWZpZXIgaXMgdXNlZCB0byBjb252ZXkgb3JkZXItc3BlY2lmaWMgbW9kaWZpZXJzIGFib3V0IHRoZSB0eXBlIG9mIGZvb2QgdGhhdCBzaG91bGQgTk9UIGJlIGdpdmVuLiBUaGVzZSBjYW4gYmUgZGVyaXZlZCBmcm9tIHBhdGllbnQgYWxsZXJnaWVzLCBpbnRvbGVyYW5jZXMsIG9yIHByZWZlcmVuY2VzIHN1Y2ggYXMgTm8gUmVkIE1lYXQsIE5vIFNveSBvciBObyBXaGVhdCBvciAgR2x1dGVuLUZyZWUuICBXaGlsZSBpdCBzaG91bGQgbm90IGJlIG5lY2Vzc2FyeSB0byByZXBlYXQgYWxsZXJneSBvciBpbnRvbGVyYW5jZSBpbmZvcm1hdGlvbiBjYXB0dXJlZCBpbiB0aGUgcmVmZXJlbmNlZCBhbGxlcmd5SW50b2xlcmFuY2UgcmVzb3VyY2UgaW4gdGhlIGV4Y2x1ZGVGb29kTW9kaWZpZXIsIHRoaXMgZWxlbWVudCBtYXkgYmUgdXNlZCB0byBjb252ZXkgYWRkaXRpb25hbCBzcGVjaWZpY2l0eSByZWxhdGVkIHRvIGZvb2RzIHRoYXQgc2hvdWxkIGJlIGVsaW1pbmF0ZWQgZnJvbSB0aGUgcGF0aWVudOKAmXMgZGlldCBmb3IgYW55IHJlYXNvbi4gIFRoaXMgbW9kaWZpZXIgYXBwbGllcyB0byB0aGUgZW50aXJlIG51dHJpdGlvbiBvcmRlciBpbmNsdXNpdmUgb2YgdGhlIG9yYWwgZGlldCwgbnV0cml0aW9uYWwgc3VwcGxlbWVudHMgYW5kIGVudGVyYWwgZm9ybXVsYSBmZWVkaW5ncy5cclxuICAgKi9cclxuICBwdWJsaWMgZXhjbHVkZUZvb2RNb2RpZmllcjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEaWV0IGdpdmVuIG9yYWxseSBpbiBjb250cmFzdCB0byBlbnRlcmFsICh0dWJlKSBmZWVkaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmFsRGlldD86IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogT3JhbCBudXRyaXRpb25hbCBwcm9kdWN0cyBnaXZlbiBpbiBvcmRlciB0byBhZGQgZnVydGhlciBudXRyaXRpb25hbCB2YWx1ZSB0byB0aGUgcGF0aWVudCdzIGRpZXQuXHJcbiAgICovXHJcbiAgcHVibGljIHN1cHBsZW1lbnQ6IGZoaXIuTnV0cml0aW9uT3JkZXJTdXBwbGVtZW50W107XHJcbiAgLyoqXHJcbiAgICogRmVlZGluZyBwcm92aWRlZCB0aHJvdWdoIHRoZSBnYXN0cm9pbnRlc3RpbmFsIHRyYWN0IHZpYSBhIHR1YmUsIGNhdGhldGVyLCBvciBzdG9tYSB0aGF0IGRlbGl2ZXJzIG51dHJpdGlvbiBkaXN0YWwgdG8gdGhlIG9yYWwgY2F2aXR5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRlcmFsRm9ybXVsYT86IGZoaXIuTnV0cml0aW9uT3JkZXJFbnRlcmFsRm9ybXVsYXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTnV0cml0aW9uT3JkZXIgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxOdXRyaXRpb25PcmRlckFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdOdXRyaXRpb25PcmRlcic7XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50J10pIHsgdGhpcy5wYXRpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXRpZW50LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGF0aWVudCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ29yZGVyZXInXSkgeyB0aGlzLm9yZGVyZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm9yZGVyZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydlbmNvdW50ZXInXSkgeyB0aGlzLmVuY291bnRlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UuZW5jb3VudGVyLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZVRpbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZVRpbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGF0ZVRpbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGF0ZVRpbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlVGltZSkgeyB0aGlzLmRhdGVUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RhdGVUaW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8TnV0cml0aW9uT3JkZXJTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8TnV0cml0aW9uT3JkZXJTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2FsbGVyZ3lJbnRvbGVyYW5jZSddKSB7IHRoaXMuYWxsZXJneUludG9sZXJhbmNlID0gc291cmNlLmFsbGVyZ3lJbnRvbGVyYW5jZS5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFsbGVyZ3lJbnRvbGVyYW5jZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmb29kUHJlZmVyZW5jZU1vZGlmaWVyJ10pIHsgdGhpcy5mb29kUHJlZmVyZW5jZU1vZGlmaWVyID0gc291cmNlLmZvb2RQcmVmZXJlbmNlTW9kaWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5mb29kUHJlZmVyZW5jZU1vZGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2V4Y2x1ZGVGb29kTW9kaWZpZXInXSkgeyB0aGlzLmV4Y2x1ZGVGb29kTW9kaWZpZXIgPSBzb3VyY2UuZXhjbHVkZUZvb2RNb2RpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmV4Y2x1ZGVGb29kTW9kaWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3JhbERpZXQnXSkgeyB0aGlzLm9yYWxEaWV0ID0gbmV3IGZoaXIuTnV0cml0aW9uT3JkZXJPcmFsRGlldChzb3VyY2Uub3JhbERpZXQsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydzdXBwbGVtZW50J10pIHsgdGhpcy5zdXBwbGVtZW50ID0gc291cmNlLnN1cHBsZW1lbnQubWFwKCh4KSA9PiBuZXcgZmhpci5OdXRyaXRpb25PcmRlclN1cHBsZW1lbnQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdXBwbGVtZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VudGVyYWxGb3JtdWxhJ10pIHsgdGhpcy5lbnRlcmFsRm9ybXVsYSA9IG5ldyBmaGlyLk51dHJpdGlvbk9yZGVyRW50ZXJhbEZvcm11bGEoc291cmNlLmVudGVyYWxGb3JtdWxhLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ051dHJpdGlvbk9yZGVyJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncGF0aWVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3JkZXJlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZW5jb3VudGVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdkYXRlVGltZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ3N0YXR1cycsZXhwLCdOdXRyaXRpb25PcmRlclN0YXR1cycsTnV0cml0aW9uT3JkZXJTdGF0dXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnYWxsZXJneUludG9sZXJhbmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdmb29kUHJlZmVyZW5jZU1vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdleGNsdWRlRm9vZE1vZGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdvcmFsRGlldCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3VwcGxlbWVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZW50ZXJhbEZvcm11bGEnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19