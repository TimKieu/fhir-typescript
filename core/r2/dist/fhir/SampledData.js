// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR ComplexType: SampledData
import * as fhir from '../fhir.js';
/**
 * A series of measurements taken by a device, with upper and lower limits. There may be more than one dimension in the data.
 */
export class SampledData extends fhir.FhirElement {
    /**
     * Default constructor for SampledData - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['origin']) {
            this.origin = new fhir.Quantity(source.origin);
        }
        else {
            this.origin = null;
        }
        if (source['period']) {
            this.period = new fhir.FhirDecimal({ value: source.period });
        }
        else {
            this.period = null;
        }
        if (source['_period']) {
            if (this.period) {
                this.period.addExtendedProperties(source._period);
            }
            else {
                this.period = new fhir.FhirDecimal(source._period);
            }
        }
        if (source['factor']) {
            this.factor = new fhir.FhirDecimal({ value: source.factor });
        }
        if (source['_factor']) {
            if (this.factor) {
                this.factor.addExtendedProperties(source._factor);
            }
            else {
                this.factor = new fhir.FhirDecimal(source._factor);
            }
        }
        if (source['lowerLimit']) {
            this.lowerLimit = new fhir.FhirDecimal({ value: source.lowerLimit });
        }
        if (source['_lowerLimit']) {
            if (this.lowerLimit) {
                this.lowerLimit.addExtendedProperties(source._lowerLimit);
            }
            else {
                this.lowerLimit = new fhir.FhirDecimal(source._lowerLimit);
            }
        }
        if (source['upperLimit']) {
            this.upperLimit = new fhir.FhirDecimal({ value: source.upperLimit });
        }
        if (source['_upperLimit']) {
            if (this.upperLimit) {
                this.upperLimit.addExtendedProperties(source._upperLimit);
            }
            else {
                this.upperLimit = new fhir.FhirDecimal(source._upperLimit);
            }
        }
        if (source['dimensions']) {
            this.dimensions = new fhir.FhirPositiveInt({ value: source.dimensions });
        }
        else {
            this.dimensions = null;
        }
        if (source['_dimensions']) {
            if (this.dimensions) {
                this.dimensions.addExtendedProperties(source._dimensions);
            }
            else {
                this.dimensions = new fhir.FhirPositiveInt(source._dimensions);
            }
        }
        if (source['data']) {
            this.data = new fhir.FhirString({ value: source.data });
        }
        else {
            this.data = null;
        }
        if (source['_data']) {
            if (this.data) {
                this.data.addExtendedProperties(source._data);
            }
            else {
                this.data = new fhir.FhirString(source._data);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'SampledData';
        }
        this.vRS('origin', exp);
        this.vRS('period', exp);
        this.vOS('factor', exp);
        this.vOS('lowerLimit', exp);
        this.vOS('upperLimit', exp);
        this.vRS('dimensions', exp);
        this.vRS('data', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
SampledData._fts_dataType = 'SampledData';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2FtcGxlZERhdGEuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL1NhbXBsZWREYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUVoQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQTREbkM7O0dBRUc7QUFDSCxNQUFNLE9BQU8sV0FBWSxTQUFRLElBQUksQ0FBQyxXQUFXO0lBaUMvQzs7T0FFRztJQUNILFlBQVksU0FBa0MsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDeEYsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUFFO2FBQ3BFO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FBRTtRQUM1QixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDaEY7WUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxPQUFRLENBQUMsQ0FBQzthQUFFO2lCQUNuRTtnQkFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsT0FBd0Ms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LHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQzthQUFFO2lCQUM3RDtnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBcUMsQ0FBQyxDQUFDO2FBQUU7U0FDeEY7SUFDSCxDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxRCxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7WUFBRSxHQUFHLEdBQUcsYUFBYSxDQUFBO1NBQUU7UUFDdkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDcEIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF2RkQ7O0dBRUc7QUFDNkIseUJBQWEsR0FBVSxhQUFhLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjIuY29yZSB2ZXJzaW9uOiAxLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgQ29tcGxleFR5cGU6IFNhbXBsZWREYXRhXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFNhbXBsZWREYXRhIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFNhbXBsZWREYXRhQXJncyBleHRlbmRzIGZoaXIuRmhpckVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgYmFzZSBxdWFudGl0eSB0aGF0IGEgbWVhc3VyZWQgdmFsdWUgb2YgemVybyByZXByZXNlbnRzLiBJbiBhZGRpdGlvbiwgdGhpcyBwcm92aWRlcyB0aGUgdW5pdHMgb2YgdGhlIGVudGlyZSBtZWFzdXJlbWVudCBzZXJpZXMuXHJcbiAgICovXHJcbiAgb3JpZ2luOiBmaGlyLlF1YW50aXR5QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsZW5ndGggb2YgdGltZSBiZXR3ZWVuIHNhbXBsaW5nIHRpbWVzLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICovXHJcbiAgcGVyaW9kOiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNhbXBsZWREYXRhLnBlcmlvZFxyXG4gICAqL1xyXG4gIF9wZXJpb2Q/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgY29ycmVjdGlvbiBmYWN0b3IgdGhhdCBpcyBhcHBsaWVkIHRvIHRoZSBzYW1wbGVkIGRhdGEgcG9pbnRzIGJlZm9yZSB0aGV5IGFyZSBhZGRlZCB0byB0aGUgb3JpZ2luLlxyXG4gICAqL1xyXG4gIGZhY3Rvcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU2FtcGxlZERhdGEuZmFjdG9yXHJcbiAgICovXHJcbiAgX2ZhY3Rvcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxvd2VyIGxpbWl0IG9mIGRldGVjdGlvbiBvZiB0aGUgbWVhc3VyZWQgcG9pbnRzLiBUaGlzIGlzIG5lZWRlZCBpZiBhbnkgb2YgdGhlIGRhdGEgcG9pbnRzIGhhdmUgdGhlIHZhbHVlIFwiTFwiIChsb3dlciB0aGFuIGRldGVjdGlvbiBsaW1pdCkuXHJcbiAgICovXHJcbiAgbG93ZXJMaW1pdD86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU2FtcGxlZERhdGEubG93ZXJMaW1pdFxyXG4gICAqL1xyXG4gIF9sb3dlckxpbWl0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgdXBwZXIgbGltaXQgb2YgZGV0ZWN0aW9uIG9mIHRoZSBtZWFzdXJlZCBwb2ludHMuIFRoaXMgaXMgbmVlZGVkIGlmIGFueSBvZiB0aGUgZGF0YSBwb2ludHMgaGF2ZSB0aGUgdmFsdWUgXCJVXCIgKGhpZ2hlciB0aGFuIGRldGVjdGlvbiBsaW1pdCkuXHJcbiAgICovXHJcbiAgdXBwZXJMaW1pdD86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogU2FtcGxlZERhdGEudXBwZXJMaW1pdFxyXG4gICAqL1xyXG4gIF91cHBlckxpbWl0PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHNhbXBsZSBwb2ludHMgYXQgZWFjaCB0aW1lIHBvaW50LiBJZiB0aGlzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvbmUsIHRoZW4gdGhlIGRpbWVuc2lvbnMgd2lsbCBiZSBpbnRlcmxhY2VkIC0gYWxsIHRoZSBzYW1wbGUgcG9pbnRzIGZvciBhIHBvaW50IGluIHRpbWUgd2lsbCBiZSByZWNvcmRlZCBhdCBvbmNlLlxyXG4gICAqL1xyXG4gIGRpbWVuc2lvbnM6IGZoaXIuRmhpclBvc2l0aXZlSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNhbXBsZWREYXRhLmRpbWVuc2lvbnNcclxuICAgKi9cclxuICBfZGltZW5zaW9ucz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBzZXJpZXMgb2YgZGF0YSBwb2ludHMgd2hpY2ggYXJlIGRlY2ltYWwgdmFsdWVzIHNlcGFyYXRlZCBieSBhIHNpbmdsZSBzcGFjZSAoY2hhcmFjdGVyIHUyMCkuIFRoZSBzcGVjaWFsIHZhbHVlcyBcIkVcIiAoZXJyb3IpLCBcIkxcIiAoYmVsb3cgZGV0ZWN0aW9uIGxpbWl0KSBhbmQgXCJVXCIgKGFib3ZlIGRldGVjdGlvbiBsaW1pdCkgY2FuIGFsc28gYmUgdXNlZCBpbiBwbGFjZSBvZiBhIGRlY2ltYWwgdmFsdWUuXHJcbiAgICovXHJcbiAgZGF0YTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFNhbXBsZWREYXRhLmRhdGFcclxuICAgKi9cclxuICBfZGF0YT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNlcmllcyBvZiBtZWFzdXJlbWVudHMgdGFrZW4gYnkgYSBkZXZpY2UsIHdpdGggdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy4gVGhlcmUgbWF5IGJlIG1vcmUgdGhhbiBvbmUgZGltZW5zaW9uIGluIHRoZSBkYXRhLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNhbXBsZWREYXRhIGV4dGVuZHMgZmhpci5GaGlyRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdTYW1wbGVkRGF0YSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIGJhc2UgcXVhbnRpdHkgdGhhdCBhIG1lYXN1cmVkIHZhbHVlIG9mIHplcm8gcmVwcmVzZW50cy4gSW4gYWRkaXRpb24sIHRoaXMgcHJvdmlkZXMgdGhlIHVuaXRzIG9mIHRoZSBlbnRpcmUgbWVhc3VyZW1lbnQgc2VyaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcmlnaW46IGZoaXIuUXVhbnRpdHl8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgbGVuZ3RoIG9mIHRpbWUgYmV0d2VlbiBzYW1wbGluZyB0aW1lcywgbWVhc3VyZWQgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwZXJpb2Q6IGZoaXIuRmhpckRlY2ltYWx8bnVsbDtcclxuICAvKipcclxuICAgKiBBIGNvcnJlY3Rpb24gZmFjdG9yIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2FtcGxlZCBkYXRhIHBvaW50cyBiZWZvcmUgdGhleSBhcmUgYWRkZWQgdG8gdGhlIG9yaWdpbi5cclxuICAgKi9cclxuICBwdWJsaWMgZmFjdG9yPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxvd2VyIGxpbWl0IG9mIGRldGVjdGlvbiBvZiB0aGUgbWVhc3VyZWQgcG9pbnRzLiBUaGlzIGlzIG5lZWRlZCBpZiBhbnkgb2YgdGhlIGRhdGEgcG9pbnRzIGhhdmUgdGhlIHZhbHVlIFwiTFwiIChsb3dlciB0aGFuIGRldGVjdGlvbiBsaW1pdCkuXHJcbiAgICovXHJcbiAgcHVibGljIGxvd2VyTGltaXQ/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdXBwZXIgbGltaXQgb2YgZGV0ZWN0aW9uIG9mIHRoZSBtZWFzdXJlZCBwb2ludHMuIFRoaXMgaXMgbmVlZGVkIGlmIGFueSBvZiB0aGUgZGF0YSBwb2ludHMgaGF2ZSB0aGUgdmFsdWUgXCJVXCIgKGhpZ2hlciB0aGFuIGRldGVjdGlvbiBsaW1pdCkuXHJcbiAgICovXHJcbiAgcHVibGljIHVwcGVyTGltaXQ/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbnVtYmVyIG9mIHNhbXBsZSBwb2ludHMgYXQgZWFjaCB0aW1lIHBvaW50LiBJZiB0aGlzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvbmUsIHRoZW4gdGhlIGRpbWVuc2lvbnMgd2lsbCBiZSBpbnRlcmxhY2VkIC0gYWxsIHRoZSBzYW1wbGUgcG9pbnRzIGZvciBhIHBvaW50IGluIHRpbWUgd2lsbCBiZSByZWNvcmRlZCBhdCBvbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkaW1lbnNpb25zOiBmaGlyLkZoaXJQb3NpdGl2ZUludHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgc2VyaWVzIG9mIGRhdGEgcG9pbnRzIHdoaWNoIGFyZSBkZWNpbWFsIHZhbHVlcyBzZXBhcmF0ZWQgYnkgYSBzaW5nbGUgc3BhY2UgKGNoYXJhY3RlciB1MjApLiBUaGUgc3BlY2lhbCB2YWx1ZXMgXCJFXCIgKGVycm9yKSwgXCJMXCIgKGJlbG93IGRldGVjdGlvbiBsaW1pdCkgYW5kIFwiVVwiIChhYm92ZSBkZXRlY3Rpb24gbGltaXQpIGNhbiBhbHNvIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYSBkZWNpbWFsIHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRhOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBTYW1wbGVkRGF0YSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFNhbXBsZWREYXRhQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ29yaWdpbiddKSB7IHRoaXMub3JpZ2luID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLm9yaWdpbik7IH1cclxuICAgIGVsc2UgeyB0aGlzLm9yaWdpbiA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BlcmlvZCddKSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UucGVyaW9kfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnBlcmlvZCA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wZXJpb2QnXSkge1xyXG4gICAgICBpZiAodGhpcy5wZXJpb2QpIHsgdGhpcy5wZXJpb2QuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcGVyaW9kISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMucGVyaW9kID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9wZXJpb2QgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydmYWN0b3InXSkgeyB0aGlzLmZhY3RvciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmZhY3Rvcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZmFjdG9yJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZmFjdG9yKSB7IHRoaXMuZmFjdG9yLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2ZhY3RvciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZhY3RvciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fZmFjdG9yIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbG93ZXJMaW1pdCddKSB7IHRoaXMubG93ZXJMaW1pdCA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmxvd2VyTGltaXR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2xvd2VyTGltaXQnXSkge1xyXG4gICAgICBpZiAodGhpcy5sb3dlckxpbWl0KSB7IHRoaXMubG93ZXJMaW1pdC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9sb3dlckxpbWl0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubG93ZXJMaW1pdCA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fbG93ZXJMaW1pdCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3VwcGVyTGltaXQnXSkgeyB0aGlzLnVwcGVyTGltaXQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS51cHBlckxpbWl0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ191cHBlckxpbWl0J10pIHtcclxuICAgICAgaWYgKHRoaXMudXBwZXJMaW1pdCkgeyB0aGlzLnVwcGVyTGltaXQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXBwZXJMaW1pdCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVwcGVyTGltaXQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX3VwcGVyTGltaXQgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkaW1lbnNpb25zJ10pIHsgdGhpcy5kaW1lbnNpb25zID0gbmV3IGZoaXIuRmhpclBvc2l0aXZlSW50KHt2YWx1ZTogc291cmNlLmRpbWVuc2lvbnN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGltZW5zaW9ucyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kaW1lbnNpb25zJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucykgeyB0aGlzLmRpbWVuc2lvbnMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGltZW5zaW9ucyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgZmhpci5GaGlyUG9zaXRpdmVJbnQoc291cmNlLl9kaW1lbnNpb25zIGFzIFBhcnRpYWw8Zmhpci5GaGlyUG9zaXRpdmVJbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGEnXSkgeyB0aGlzLmRhdGEgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRhdGF9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGF0YSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRhJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0YSkgeyB0aGlzLmRhdGEuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0YSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGEgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGF0YSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1NhbXBsZWREYXRhJyB9XHJcbiAgICB0aGlzLnZSUygnb3JpZ2luJyxleHApXHJcbiAgICB0aGlzLnZSUygncGVyaW9kJyxleHApXHJcbiAgICB0aGlzLnZPUygnZmFjdG9yJyxleHApXHJcbiAgICB0aGlzLnZPUygnbG93ZXJMaW1pdCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3VwcGVyTGltaXQnLGV4cClcclxuICAgIHRoaXMudlJTKCdkaW1lbnNpb25zJyxleHApXHJcbiAgICB0aGlzLnZSUygnZGF0YScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19