// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: VisionPrescription
import * as fhir from '../fhir.js';
// @ts-ignore
import { VisionEyeVsValidation } from '../fhirValueSets/VisionEyeVsValidation.js';
// @ts-ignore
import { VisionBaseVsValidation } from '../fhirValueSets/VisionBaseVsValidation.js';
/**
 * Deals with details of the dispense part of the supply specification.
 */
export class VisionPrescriptionDispense extends fhir.BackboneElement {
    /**
     * Default constructor for VisionPrescriptionDispense - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['product']) {
            this.product = new fhir.Coding(source.product);
        }
        else {
            this.product = null;
        }
        if (source['eye']) {
            this.eye = new fhir.FhirCode({ value: source.eye });
        }
        if (source['_eye']) {
            if (this.eye) {
                this.eye.addExtendedProperties(source._eye);
            }
            else {
                this.eye = new fhir.FhirCode(source._eye);
            }
        }
        if (source['sphere']) {
            this.sphere = new fhir.FhirDecimal({ value: source.sphere });
        }
        if (source['_sphere']) {
            if (this.sphere) {
                this.sphere.addExtendedProperties(source._sphere);
            }
            else {
                this.sphere = new fhir.FhirDecimal(source._sphere);
            }
        }
        if (source['cylinder']) {
            this.cylinder = new fhir.FhirDecimal({ value: source.cylinder });
        }
        if (source['_cylinder']) {
            if (this.cylinder) {
                this.cylinder.addExtendedProperties(source._cylinder);
            }
            else {
                this.cylinder = new fhir.FhirDecimal(source._cylinder);
            }
        }
        if (source['axis']) {
            this.axis = new fhir.FhirInteger({ value: source.axis });
        }
        if (source['_axis']) {
            if (this.axis) {
                this.axis.addExtendedProperties(source._axis);
            }
            else {
                this.axis = new fhir.FhirInteger(source._axis);
            }
        }
        if (source['prism']) {
            this.prism = new fhir.FhirDecimal({ value: source.prism });
        }
        if (source['_prism']) {
            if (this.prism) {
                this.prism.addExtendedProperties(source._prism);
            }
            else {
                this.prism = new fhir.FhirDecimal(source._prism);
            }
        }
        if (source['base']) {
            this.base = new fhir.FhirCode({ value: source.base });
        }
        if (source['_base']) {
            if (this.base) {
                this.base.addExtendedProperties(source._base);
            }
            else {
                this.base = new fhir.FhirCode(source._base);
            }
        }
        if (source['add']) {
            this.add = new fhir.FhirDecimal({ value: source.add });
        }
        if (source['_add']) {
            if (this.add) {
                this.add.addExtendedProperties(source._add);
            }
            else {
                this.add = new fhir.FhirDecimal(source._add);
            }
        }
        if (source['power']) {
            this.power = new fhir.FhirDecimal({ value: source.power });
        }
        if (source['_power']) {
            if (this.power) {
                this.power.addExtendedProperties(source._power);
            }
            else {
                this.power = new fhir.FhirDecimal(source._power);
            }
        }
        if (source['backCurve']) {
            this.backCurve = new fhir.FhirDecimal({ value: source.backCurve });
        }
        if (source['_backCurve']) {
            if (this.backCurve) {
                this.backCurve.addExtendedProperties(source._backCurve);
            }
            else {
                this.backCurve = new fhir.FhirDecimal(source._backCurve);
            }
        }
        if (source['diameter']) {
            this.diameter = new fhir.FhirDecimal({ value: source.diameter });
        }
        if (source['_diameter']) {
            if (this.diameter) {
                this.diameter.addExtendedProperties(source._diameter);
            }
            else {
                this.diameter = new fhir.FhirDecimal(source._diameter);
            }
        }
        if (source['duration']) {
            this.duration = new fhir.Quantity(source.duration);
        }
        if (source['color']) {
            this.color = new fhir.FhirString({ value: source.color });
        }
        if (source['_color']) {
            if (this.color) {
                this.color.addExtendedProperties(source._color);
            }
            else {
                this.color = new fhir.FhirString(source._color);
            }
        }
        if (source['brand']) {
            this.brand = new fhir.FhirString({ value: source.brand });
        }
        if (source['_brand']) {
            if (this.brand) {
                this.brand.addExtendedProperties(source._brand);
            }
            else {
                this.brand = new fhir.FhirString(source._brand);
            }
        }
        if (source['notes']) {
            this.notes = new fhir.FhirString({ value: source.notes });
        }
        if (source['_notes']) {
            if (this.notes) {
                this.notes.addExtendedProperties(source._notes);
            }
            else {
                this.notes = new fhir.FhirString(source._notes);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VisionPrescription.dispense';
        }
        this.vRS('product', exp);
        this.vOSV('eye', exp, 'VisionEye', VisionEyeVsValidation, 'r');
        this.vOS('sphere', exp);
        this.vOS('cylinder', exp);
        this.vOS('axis', exp);
        this.vOS('prism', exp);
        this.vOSV('base', exp, 'VisionBase', VisionBaseVsValidation, 'r');
        this.vOS('add', exp);
        this.vOS('power', exp);
        this.vOS('backCurve', exp);
        this.vOS('diameter', exp);
        this.vOS('duration', exp);
        this.vOS('color', exp);
        this.vOS('brand', exp);
        this.vOS('notes', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VisionPrescriptionDispense._fts_dataType = 'VisionPrescriptionDispense';
/**
 * An authorization for the supply of glasses and/or contact lenses to a patient.
 */
export class VisionPrescription extends fhir.DomainResource {
    /**
     * Default constructor for VisionPrescription - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'VisionPrescription';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['dateWritten']) {
            this.dateWritten = new fhir.FhirDateTime({ value: source.dateWritten });
        }
        if (source['_dateWritten']) {
            if (this.dateWritten) {
                this.dateWritten.addExtendedProperties(source._dateWritten);
            }
            else {
                this.dateWritten = new fhir.FhirDateTime(source._dateWritten);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        if (source['prescriber']) {
            this.prescriber = new fhir.Reference(source.prescriber);
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['reason']) {
            this.reason = source.reason;
        }
        else if (source['reasonCodeableConcept']) {
            this.reason = new fhir.CodeableConcept(source.reasonCodeableConcept);
        }
        else if (source['reasonReference']) {
            this.reason = new fhir.Reference(source.reasonReference);
        }
        if (source['dispense']) {
            this.dispense = source.dispense.map((x) => new fhir.VisionPrescriptionDispense(x));
        }
        else {
            this.dispense = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'VisionPrescription';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOS('dateWritten', exp);
        this.vOS('patient', exp);
        this.vOS('prescriber', exp);
        this.vOS('encounter', exp);
        this.vOS('reason', exp);
        this.vOA('dispense', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
VisionPrescription._fts_dataType = 'VisionPrescription';
/**
 * Internal flag to properly serialize choice-type element VisionPrescription.reason[x]
 */
VisionPrescription._fts_reasonIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmlzaW9uUHJlc2NyaXB0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9WaXNpb25QcmVzY3JpcHRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBRXBDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUdsRixhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNENBQTRDLENBQUM7QUF1SHBGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDBCQUEyQixTQUFRLElBQUksQ0FBQyxlQUFlO0lBaUVsRTs7T0FFRztJQUNILFlBQVksU0FBaUQsRUFBRSxFQUFFLFVBQXNDLEVBQUU7UUFDdkcsS0FBSyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQ3JFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FBRTtRQUM3QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFvQixFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzVGLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2xCLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxJQUFLLENBQUMsQ0FB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QUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUU7YUFDMUc7WUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUFFO0lBQzlCLENBQUM7SUFDRDs7T0FFRztJQUNhLGlCQUFpQixDQUFDLE1BQWEsRUFBRTtRQUMvQyxJQUFJLE1BQU0sR0FBbUIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUFFLEdBQUcsR0FBRyxvQkFBb0IsQ0FBQTtTQUFFO1FBQzlDLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzNCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3pCLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3hCLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O0FBN0VEOztHQUVHO0FBQzZCLGdDQUFhLEdBQVUsb0JBQW9CLENBQUM7QUE2QjVFOztHQUVHO0FBQ3VCLHNDQUFtQixHQUFRLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yMi5jb3JlIHZlcnNpb246IDEuMC4yXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogVmlzaW9uUHJlc2NyaXB0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWaXNpb25FeWVDb2RlcywgIFZpc2lvbkV5ZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WaXNpb25FeWVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmlzaW9uRXllVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WaXNpb25FeWVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZpc2lvbkJhc2VDb2RlcywgIFZpc2lvbkJhc2VDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVmlzaW9uQmFzZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBWaXNpb25CYXNlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WaXNpb25CYXNlVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIFZpc2lvblByZXNjcmlwdGlvbkRpc3BlbnNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZpc2lvblByZXNjcmlwdGlvbkRpc3BlbnNlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgdHlwZSBvZiB2aXNpb24gY29ycmVjdGlvbiBwcm9kdWN0IHdoaWNoIGlzIHJlcXVpcmVkIGZvciB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwcm9kdWN0OiBmaGlyLkNvZGluZ0FyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZXllIGZvciB3aGljaCB0aGUgbGVucyBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIGV5ZT86IGZoaXIuRmhpckNvZGU8VmlzaW9uRXllQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5kaXNwZW5zZS5leWVcclxuICAgKi9cclxuICBfZXllPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBMZW5zIHBvd2VyIG1lYXN1cmVkIGluIGRpb3B0ZXJzICgwLjI1IHVuaXRzKS5cclxuICAgKi9cclxuICBzcGhlcmU/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5kaXNwZW5zZS5zcGhlcmVcclxuICAgKi9cclxuICBfc3BoZXJlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBQb3dlciBhZGp1c3RtZW50IGZvciBhc3RpZ21hdGlzbSBtZWFzdXJlZCBpbiBkaW9wdGVycyAoMC4yNSB1bml0cykuXHJcbiAgICovXHJcbiAgY3lsaW5kZXI/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5kaXNwZW5zZS5jeWxpbmRlclxyXG4gICAqL1xyXG4gIF9jeWxpbmRlcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWRqdXN0bWVudCBmb3IgYXN0aWdtYXRpc20gbWVhc3VyZWQgaW4gaW50ZWdlciBkZWdyZWVzLlxyXG4gICAqL1xyXG4gIGF4aXM/OiBmaGlyLkZoaXJJbnRlZ2VyfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5kaXNwZW5zZS5heGlzXHJcbiAgICovXHJcbiAgX2F4aXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFtb3VudCBvZiBwcmlzbSB0byBjb21wZW5zYXRlIGZvciBleWUgYWxpZ25tZW50IGluIGZyYWN0aW9uYWwgdW5pdHMuXHJcbiAgICovXHJcbiAgcHJpc20/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5kaXNwZW5zZS5wcmlzbVxyXG4gICAqL1xyXG4gIF9wcmlzbT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlbGF0aXZlIGJhc2UsIG9yIHJlZmVyZW5jZSBsZW5zIGVkZ2UsIGZvciB0aGUgcHJpc20uXHJcbiAgICovXHJcbiAgYmFzZT86IGZoaXIuRmhpckNvZGU8VmlzaW9uQmFzZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWaXNpb25QcmVzY3JpcHRpb24uZGlzcGVuc2UuYmFzZVxyXG4gICAqL1xyXG4gIF9iYXNlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBQb3dlciBhZGp1c3RtZW50IGZvciBtdWx0aWZvY2FsIGxlbnNlcyBtZWFzdXJlZCBpbiBkaW9wdGVycyAoMC4yNSB1bml0cykuXHJcbiAgICovXHJcbiAgYWRkPzogZmhpci5GaGlyRGVjaW1hbHxudW1iZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWaXNpb25QcmVzY3JpcHRpb24uZGlzcGVuc2UuYWRkXHJcbiAgICovXHJcbiAgX2FkZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdCBsZW5zIHBvd2VyIG1lYXN1cmVkIGluIGRpb3B0ZXJzICgwLjI1IHVuaXRzKS5cclxuICAgKi9cclxuICBwb3dlcj86IGZoaXIuRmhpckRlY2ltYWx8bnVtYmVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmRpc3BlbnNlLnBvd2VyXHJcbiAgICovXHJcbiAgX3Bvd2VyPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBCYWNrIGN1cnZhdHVyZSBtZWFzdXJlZCBpbiBtaWxsaW1ldGVycy5cclxuICAgKi9cclxuICBiYWNrQ3VydmU/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5kaXNwZW5zZS5iYWNrQ3VydmVcclxuICAgKi9cclxuICBfYmFja0N1cnZlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBDb250YWN0IGxlbnMgZGlhbWV0ZXIgbWVhc3VyZWQgaW4gbWlsbGltZXRlcnMuXHJcbiAgICovXHJcbiAgZGlhbWV0ZXI/OiBmaGlyLkZoaXJEZWNpbWFsfG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IFZpc2lvblByZXNjcmlwdGlvbi5kaXNwZW5zZS5kaWFtZXRlclxyXG4gICAqL1xyXG4gIF9kaWFtZXRlcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlY29tbWVuZGVkIG1heGltdW0gd2VhciBwZXJpb2QgZm9yIHRoZSBsZW5zLlxyXG4gICAqL1xyXG4gIGR1cmF0aW9uPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpYWwgY29sb3Igb3IgcGF0dGVybi5cclxuICAgKi9cclxuICBjb2xvcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBWaXNpb25QcmVzY3JpcHRpb24uZGlzcGVuc2UuY29sb3JcclxuICAgKi9cclxuICBfY29sb3I/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEJyYW5kIHJlY29tbWVuZGF0aW9ucyBvciByZXN0cmljdGlvbnMuXHJcbiAgICovXHJcbiAgYnJhbmQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmRpc3BlbnNlLmJyYW5kXHJcbiAgICovXHJcbiAgX2JyYW5kPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBOb3RlcyBmb3Igc3BlY2lhbCByZXF1aXJlbWVudHMgc3VjaCBhcyBjb2F0aW5ncyBhbmQgbGVucyBtYXRlcmlhbHMuXHJcbiAgICovXHJcbiAgbm90ZXM/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmRpc3BlbnNlLm5vdGVzXHJcbiAgICovXHJcbiAgX25vdGVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIERlYWxzIHdpdGggZGV0YWlscyBvZiB0aGUgZGlzcGVuc2UgcGFydCBvZiB0aGUgc3VwcGx5IHNwZWNpZmljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmlzaW9uUHJlc2NyaXB0aW9uRGlzcGVuc2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdWaXNpb25QcmVzY3JpcHRpb25EaXNwZW5zZSc7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgdHlwZSBvZiB2aXNpb24gY29ycmVjdGlvbiBwcm9kdWN0IHdoaWNoIGlzIHJlcXVpcmVkIGZvciB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZHVjdDogZmhpci5Db2Rpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZXllIGZvciB3aGljaCB0aGUgbGVucyBhcHBsaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleWU/OiBmaGlyLkZoaXJDb2RlPFZpc2lvbkV5ZUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTGVucyBwb3dlciBtZWFzdXJlZCBpbiBkaW9wdGVycyAoMC4yNSB1bml0cykuXHJcbiAgICovXHJcbiAgcHVibGljIHNwaGVyZT86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFBvd2VyIGFkanVzdG1lbnQgZm9yIGFzdGlnbWF0aXNtIG1lYXN1cmVkIGluIGRpb3B0ZXJzICgwLjI1IHVuaXRzKS5cclxuICAgKi9cclxuICBwdWJsaWMgY3lsaW5kZXI/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGp1c3RtZW50IGZvciBhc3RpZ21hdGlzbSBtZWFzdXJlZCBpbiBpbnRlZ2VyIGRlZ3JlZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGF4aXM/OiBmaGlyLkZoaXJJbnRlZ2VyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbW91bnQgb2YgcHJpc20gdG8gY29tcGVuc2F0ZSBmb3IgZXllIGFsaWdubWVudCBpbiBmcmFjdGlvbmFsIHVuaXRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmlzbT86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWxhdGl2ZSBiYXNlLCBvciByZWZlcmVuY2UgbGVucyBlZGdlLCBmb3IgdGhlIHByaXNtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBiYXNlPzogZmhpci5GaGlyQ29kZTxWaXNpb25CYXNlQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQb3dlciBhZGp1c3RtZW50IGZvciBtdWx0aWZvY2FsIGxlbnNlcyBtZWFzdXJlZCBpbiBkaW9wdGVycyAoMC4yNSB1bml0cykuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZD86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgbGVucyBwb3dlciBtZWFzdXJlZCBpbiBkaW9wdGVycyAoMC4yNSB1bml0cykuXHJcbiAgICovXHJcbiAgcHVibGljIHBvd2VyPzogZmhpci5GaGlyRGVjaW1hbHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQmFjayBjdXJ2YXR1cmUgbWVhc3VyZWQgaW4gbWlsbGltZXRlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIGJhY2tDdXJ2ZT86IGZoaXIuRmhpckRlY2ltYWx8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgbGVucyBkaWFtZXRlciBtZWFzdXJlZCBpbiBtaWxsaW1ldGVycy5cclxuICAgKi9cclxuICBwdWJsaWMgZGlhbWV0ZXI/OiBmaGlyLkZoaXJEZWNpbWFsfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVjb21tZW5kZWQgbWF4aW11bSB3ZWFyIHBlcmlvZCBmb3IgdGhlIGxlbnMuXHJcbiAgICovXHJcbiAgcHVibGljIGR1cmF0aW9uPzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lhbCBjb2xvciBvciBwYXR0ZXJuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2xvcj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQnJhbmQgcmVjb21tZW5kYXRpb25zIG9yIHJlc3RyaWN0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgYnJhbmQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vdGVzIGZvciBzcGVjaWFsIHJlcXVpcmVtZW50cyBzdWNoIGFzIGNvYXRpbmdzIGFuZCBsZW5zIG1hdGVyaWFscy5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZXM/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFZpc2lvblByZXNjcmlwdGlvbkRpc3BlbnNlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8VmlzaW9uUHJlc2NyaXB0aW9uRGlzcGVuc2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncHJvZHVjdCddKSB7IHRoaXMucHJvZHVjdCA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UucHJvZHVjdCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2R1Y3QgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydleWUnXSkgeyB0aGlzLmV5ZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFZpc2lvbkV5ZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5leWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2V5ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmV5ZSkgeyB0aGlzLmV5ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9leWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5leWUgPSBuZXcgZmhpci5GaGlyQ29kZTxWaXNpb25FeWVDb2RlVHlwZT4oc291cmNlLl9leWUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NwaGVyZSddKSB7IHRoaXMuc3BoZXJlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2Uuc3BoZXJlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zcGhlcmUnXSkge1xyXG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHsgdGhpcy5zcGhlcmUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3BoZXJlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3BoZXJlID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9zcGhlcmUgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjeWxpbmRlciddKSB7IHRoaXMuY3lsaW5kZXIgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5jeWxpbmRlcn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY3lsaW5kZXInXSkge1xyXG4gICAgICBpZiAodGhpcy5jeWxpbmRlcikgeyB0aGlzLmN5bGluZGVyLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2N5bGluZGVyISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY3lsaW5kZXIgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2N5bGluZGVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYXhpcyddKSB7IHRoaXMuYXhpcyA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHt2YWx1ZTogc291cmNlLmF4aXN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2F4aXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5heGlzKSB7IHRoaXMuYXhpcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9heGlzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYXhpcyA9IG5ldyBmaGlyLkZoaXJJbnRlZ2VyKHNvdXJjZS5fYXhpcyBhcyBQYXJ0aWFsPGZoaXIuRmhpckludGVnZXJBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ByaXNtJ10pIHsgdGhpcy5wcmlzbSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLnByaXNtfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wcmlzbSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnByaXNtKSB7IHRoaXMucHJpc20uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcHJpc20hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wcmlzbSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fcHJpc20gYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydiYXNlJ10pIHsgdGhpcy5iYXNlID0gbmV3IGZoaXIuRmhpckNvZGU8VmlzaW9uQmFzZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5iYXNlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19iYXNlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYmFzZSkgeyB0aGlzLmJhc2UuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYmFzZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmJhc2UgPSBuZXcgZmhpci5GaGlyQ29kZTxWaXNpb25CYXNlQ29kZVR5cGU+KHNvdXJjZS5fYmFzZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkJ10pIHsgdGhpcy5hZGQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbCh7dmFsdWU6IHNvdXJjZS5hZGR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FkZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFkZCkgeyB0aGlzLmFkZC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hZGQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hZGQgPSBuZXcgZmhpci5GaGlyRGVjaW1hbChzb3VyY2UuX2FkZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Bvd2VyJ10pIHsgdGhpcy5wb3dlciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLnBvd2VyfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19wb3dlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLnBvd2VyKSB7IHRoaXMucG93ZXIuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcG93ZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wb3dlciA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fcG93ZXIgYXMgUGFydGlhbDxmaGlyLkZoaXJEZWNpbWFsQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydiYWNrQ3VydmUnXSkgeyB0aGlzLmJhY2tDdXJ2ZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHt2YWx1ZTogc291cmNlLmJhY2tDdXJ2ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYmFja0N1cnZlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYmFja0N1cnZlKSB7IHRoaXMuYmFja0N1cnZlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2JhY2tDdXJ2ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmJhY2tDdXJ2ZSA9IG5ldyBmaGlyLkZoaXJEZWNpbWFsKHNvdXJjZS5fYmFja0N1cnZlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGVjaW1hbEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGlhbWV0ZXInXSkgeyB0aGlzLmRpYW1ldGVyID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoe3ZhbHVlOiBzb3VyY2UuZGlhbWV0ZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RpYW1ldGVyJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGlhbWV0ZXIpIHsgdGhpcy5kaWFtZXRlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kaWFtZXRlciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRpYW1ldGVyID0gbmV3IGZoaXIuRmhpckRlY2ltYWwoc291cmNlLl9kaWFtZXRlciBhcyBQYXJ0aWFsPGZoaXIuRmhpckRlY2ltYWxBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2R1cmF0aW9uJ10pIHsgdGhpcy5kdXJhdGlvbiA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS5kdXJhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbG9yJ10pIHsgdGhpcy5jb2xvciA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29sb3J9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvbG9yJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29sb3IpIHsgdGhpcy5jb2xvci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb2xvciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvbG9yID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2NvbG9yIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydicmFuZCddKSB7IHRoaXMuYnJhbmQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmJyYW5kfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19icmFuZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmJyYW5kKSB7IHRoaXMuYnJhbmQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYnJhbmQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5icmFuZCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9icmFuZCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbm90ZXMnXSkgeyB0aGlzLm5vdGVzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5ub3Rlc30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbm90ZXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5ub3RlcykgeyB0aGlzLm5vdGVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25vdGVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubm90ZXMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbm90ZXMgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdWaXNpb25QcmVzY3JpcHRpb24uZGlzcGVuc2UnIH1cclxuICAgIHRoaXMudlJTKCdwcm9kdWN0JyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ2V5ZScsZXhwLCdWaXNpb25FeWUnLFZpc2lvbkV5ZVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPUygnc3BoZXJlJyxleHApXHJcbiAgICB0aGlzLnZPUygnY3lsaW5kZXInLGV4cClcclxuICAgIHRoaXMudk9TKCdheGlzJyxleHApXHJcbiAgICB0aGlzLnZPUygncHJpc20nLGV4cClcclxuICAgIHRoaXMudk9TVignYmFzZScsZXhwLCdWaXNpb25CYXNlJyxWaXNpb25CYXNlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdhZGQnLGV4cClcclxuICAgIHRoaXMudk9TKCdwb3dlcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2JhY2tDdXJ2ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RpYW1ldGVyJyxleHApXHJcbiAgICB0aGlzLnZPUygnZHVyYXRpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCdjb2xvcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2JyYW5kJyxleHApXHJcbiAgICB0aGlzLnZPUygnbm90ZXMnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBWaXNpb25QcmVzY3JpcHRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmlzaW9uUHJlc2NyaXB0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiVmlzaW9uUHJlc2NyaXB0aW9uXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEJ1c2luZXNzIGlkZW50aWZpZXIgd2hpY2ggbWF5IGJlIHVzZWQgYnkgb3RoZXIgcGFydGllcyB0byByZWZlcmVuY2Ugb3IgaWRlbnRpZnkgdGhlIHByZXNjcmlwdGlvbi5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSAoYW5kIHBlcmhhcHMgdGltZSkgd2hlbiB0aGUgcHJlc2NyaXB0aW9uIHdhcyB3cml0dGVuLlxyXG4gICAqL1xyXG4gIGRhdGVXcml0dGVuPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogVmlzaW9uUHJlc2NyaXB0aW9uLmRhdGVXcml0dGVuXHJcbiAgICovXHJcbiAgX2RhdGVXcml0dGVuPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGxpbmsgdG8gYSByZXNvdXJjZSByZXByZXNlbnRpbmcgdGhlIHBlcnNvbiB0byB3aG9tIHRoZSB2aXNpb24gcHJvZHVjdHMgd2lsbCBiZSBzdXBwbGllZC5cclxuICAgKi9cclxuICBwYXRpZW50PzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaGVhbHRoY2FyZSBwcm9mZXNzaW9uYWwgcmVzcG9uc2libGUgZm9yIGF1dGhvcml6aW5nIHRoZSBwcmVzY3JpcHRpb24uXHJcbiAgICovXHJcbiAgcHJlc2NyaWJlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBsaW5rIHRvIGEgcmVzb3VyY2UgdGhhdCBpZGVudGlmaWVzIHRoZSBwYXJ0aWN1bGFyIG9jY3VycmVuY2Ugb2YgY29udGFjdCBiZXR3ZWVuIHBhdGllbnQgYW5kIGhlYWx0aCBjYXJlIHByb3ZpZGVyLlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FuIGJlIHRoZSByZWFzb24gb3IgdGhlIGluZGljYXRpb24gZm9yIHdyaXRpbmcgdGhlIHByZXNjcmlwdGlvbi5cclxuICAgKi9cclxuICByZWFzb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FuIGJlIHRoZSByZWFzb24gb3IgdGhlIGluZGljYXRpb24gZm9yIHdyaXRpbmcgdGhlIHByZXNjcmlwdGlvbi5cclxuICAgKi9cclxuICByZWFzb25Db2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENhbiBiZSB0aGUgcmVhc29uIG9yIHRoZSBpbmRpY2F0aW9uIGZvciB3cml0aW5nIHRoZSBwcmVzY3JpcHRpb24uXHJcbiAgICovXHJcbiAgcmVhc29uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWFscyB3aXRoIGRldGFpbHMgb2YgdGhlIGRpc3BlbnNlIHBhcnQgb2YgdGhlIHN1cHBseSBzcGVjaWZpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGRpc3BlbnNlPzogZmhpci5WaXNpb25QcmVzY3JpcHRpb25EaXNwZW5zZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbiBhdXRob3JpemF0aW9uIGZvciB0aGUgc3VwcGx5IG9mIGdsYXNzZXMgYW5kL29yIGNvbnRhY3QgbGVuc2VzIHRvIGEgcGF0aWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWaXNpb25QcmVzY3JpcHRpb24gZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ1Zpc2lvblByZXNjcmlwdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJWaXNpb25QcmVzY3JpcHRpb25cIjtcclxuICAvKipcclxuICAgKiBCdXNpbmVzcyBpZGVudGlmaWVyIHdoaWNoIG1heSBiZSB1c2VkIGJ5IG90aGVyIHBhcnRpZXMgdG8gcmVmZXJlbmNlIG9yIGlkZW50aWZ5IHRoZSBwcmVzY3JpcHRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIChhbmQgcGVyaGFwcyB0aW1lKSB3aGVuIHRoZSBwcmVzY3JpcHRpb24gd2FzIHdyaXR0ZW4uXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGVXcml0dGVuPzogZmhpci5GaGlyRGF0ZVRpbWV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgbGluayB0byBhIHJlc291cmNlIHJlcHJlc2VudGluZyB0aGUgcGVyc29uIHRvIHdob20gdGhlIHZpc2lvbiBwcm9kdWN0cyB3aWxsIGJlIHN1cHBsaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50PzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBoZWFsdGhjYXJlIHByb2Zlc3Npb25hbCByZXNwb25zaWJsZSBmb3IgYXV0aG9yaXppbmcgdGhlIHByZXNjcmlwdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJlc2NyaWJlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGxpbmsgdG8gYSByZXNvdXJjZSB0aGF0IGlkZW50aWZpZXMgdGhlIHBhcnRpY3VsYXIgb2NjdXJyZW5jZSBvZiBjb250YWN0IGJldHdlZW4gcGF0aWVudCBhbmQgaGVhbHRoIGNhcmUgcHJvdmlkZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDYW4gYmUgdGhlIHJlYXNvbiBvciB0aGUgaW5kaWNhdGlvbiBmb3Igd3JpdGluZyB0aGUgcHJlc2NyaXB0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb24/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IFZpc2lvblByZXNjcmlwdGlvbi5yZWFzb25beF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfcmVhc29uSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVhbHMgd2l0aCBkZXRhaWxzIG9mIHRoZSBkaXNwZW5zZSBwYXJ0IG9mIHRoZSBzdXBwbHkgc3BlY2lmaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZGlzcGVuc2U6IGZoaXIuVmlzaW9uUHJlc2NyaXB0aW9uRGlzcGVuc2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBWaXNpb25QcmVzY3JpcHRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxWaXNpb25QcmVzY3JpcHRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnVmlzaW9uUHJlc2NyaXB0aW9uJztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGVXcml0dGVuJ10pIHsgdGhpcy5kYXRlV3JpdHRlbiA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlV3JpdHRlbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGF0ZVdyaXR0ZW4nXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlV3JpdHRlbikgeyB0aGlzLmRhdGVXcml0dGVuLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RhdGVXcml0dGVuISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZVdyaXR0ZW4gPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlV3JpdHRlbiBhcyBQYXJ0aWFsPGZoaXIuRmhpckRhdGVUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwYXRpZW50J10pIHsgdGhpcy5wYXRpZW50ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wYXRpZW50KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJlc2NyaWJlciddKSB7IHRoaXMucHJlc2NyaWJlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucHJlc2NyaWJlcik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWFzb24nXSkgeyB0aGlzLnJlYXNvbiA9IHNvdXJjZS5yZWFzb247IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmVhc29uQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5yZWFzb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJlYXNvbkNvZGVhYmxlQ29uY2VwdCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmVhc29uUmVmZXJlbmNlJ10pIHsgdGhpcy5yZWFzb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlYXNvblJlZmVyZW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rpc3BlbnNlJ10pIHsgdGhpcy5kaXNwZW5zZSA9IHNvdXJjZS5kaXNwZW5zZS5tYXAoKHgpID0+IG5ldyBmaGlyLlZpc2lvblByZXNjcmlwdGlvbkRpc3BlbnNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGlzcGVuc2UgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1Zpc2lvblByZXNjcmlwdGlvbicgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cClcclxuICAgIHRoaXMudk9TKCdkYXRlV3JpdHRlbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3BhdGllbnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdwcmVzY3JpYmVyJyxleHApXHJcbiAgICB0aGlzLnZPUygnZW5jb3VudGVyJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVhc29uJyxleHApXHJcbiAgICB0aGlzLnZPQSgnZGlzcGVuc2UnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==