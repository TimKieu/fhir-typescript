// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: Observation
import * as fhir from '../fhir.js';
// @ts-ignore
import { ObservationRelationshiptypesVsValidation } from '../fhirValueSets/ObservationRelationshiptypesVsValidation.js';
// @ts-ignore
import { ObservationStatusVsValidation } from '../fhirValueSets/ObservationStatusVsValidation.js';
/**
 * Knowing what values are considered "normal" can help evaluate the significance of a particular result. Need to be able to provide multiple reference ranges for different contexts.
 */
export class ObservationReferenceRange extends fhir.BackboneElement {
    /**
     * Default constructor for ObservationReferenceRange - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['low']) {
            this.low = new fhir.Quantity(source.low);
        }
        if (source['high']) {
            this.high = new fhir.Quantity(source.high);
        }
        if (source['meaning']) {
            this.meaning = new fhir.CodeableConcept(source.meaning);
        }
        if (source['age']) {
            this.age = new fhir.Range(source.age);
        }
        if (source['text']) {
            this.text = new fhir.FhirString({ value: source.text });
        }
        if (source['_text']) {
            if (this.text) {
                this.text.addExtendedProperties(source._text);
            }
            else {
                this.text = new fhir.FhirString(source._text);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Observation.referenceRange';
        }
        iss.push(...this.vOS('low', exp));
        iss.push(...this.vOS('high', exp));
        iss.push(...this.vOS('meaning', exp));
        iss.push(...this.vOS('age', exp));
        iss.push(...this.vOS('text', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ObservationReferenceRange._fts_dataType = 'ObservationReferenceRange';
/**
 * Normally, an observation will have either a value or a set of related observations. A few observations (e.g. Apgar score) may have both a value and a set of related observations or sometimes QuestionnaireResponse  from which the measure is derived.
 */
export class ObservationRelated extends fhir.BackboneElement {
    /**
     * Default constructor for ObservationRelated - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['target']) {
            this.target = new fhir.Reference(source.target);
        }
        else {
            this.target = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Observation.related';
        }
        iss.push(...this.vOSV('type', exp, 'ObservationRelationshiptypes', ObservationRelationshiptypesVsValidation, 'r'));
        iss.push(...this.vRS('target', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ObservationRelated._fts_dataType = 'ObservationRelated';
/**
 * Component observations share the same attributes in the Observation resource as the primary observation and are always treated a part of a single observation (they are not separable).   However, the reference range for the primary observation value is not inherited by the component values and is required when appropriate for each component observation.
 */
export class ObservationComponent extends fhir.BackboneElement {
    /**
     * Default constructor for ObservationComponent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueRange']) {
            this.value = new fhir.Range(source.valueRange);
        }
        else if (source['valueRatio']) {
            this.value = new fhir.Ratio(source.valueRatio);
        }
        else if (source['valueSampledData']) {
            this.value = new fhir.SampledData(source.valueSampledData);
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment);
        }
        else if (source['valueTime']) {
            this.value = new fhir.FhirTime({ value: source.valueTime });
        }
        else if (source['valueDateTime']) {
            this.value = new fhir.FhirDateTime({ value: source.valueDateTime });
        }
        else if (source['valuePeriod']) {
            this.value = new fhir.Period(source.valuePeriod);
        }
        if (source['dataAbsentReason']) {
            this.dataAbsentReason = new fhir.CodeableConcept(source.dataAbsentReason);
        }
        if (source['referenceRange']) {
            this.referenceRange = source.referenceRange.map((x) => new fhir.ObservationReferenceRange(x));
        }
        else {
            this.referenceRange = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Observation.component';
        }
        iss.push(...this.vRS('code', exp));
        iss.push(...this.vOS('value', exp));
        iss.push(...this.vOS('dataAbsentReason', exp));
        iss.push(...this.vOA('referenceRange', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ObservationComponent._fts_dataType = 'ObservationComponent';
/**
 * Internal flag to properly serialize choice-type element Observation.component.value[x]
 */
ObservationComponent._fts_valueIsChoice = true;
/**
 * Measurements and simple assertions made about a patient, device or other subject.
 */
export class Observation extends fhir.DomainResource {
    /**
     * Default constructor for Observation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Observation';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['category']) {
            this.category = new fhir.CodeableConcept(source.category);
        }
        if (source['code']) {
            this.code = new fhir.CodeableConcept(source.code);
        }
        else {
            this.code = null;
        }
        if (source['subject']) {
            this.subject = new fhir.Reference(source.subject);
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['effective']) {
            this.effective = source.effective;
        }
        else if (source['effectiveDateTime']) {
            this.effective = new fhir.FhirDateTime({ value: source.effectiveDateTime });
        }
        else if (source['effectivePeriod']) {
            this.effective = new fhir.Period(source.effectivePeriod);
        }
        if (source['issued']) {
            this.issued = new fhir.FhirInstant({ value: source.issued });
        }
        if (source['_issued']) {
            if (this.issued) {
                this.issued.addExtendedProperties(source._issued);
            }
            else {
                this.issued = new fhir.FhirInstant(source._issued);
            }
        }
        if (source['performer']) {
            this.performer = source.performer.map((x) => new fhir.Reference(x));
        }
        else {
            this.performer = [];
        }
        if (source['value']) {
            this.value = source.value;
        }
        else if (source['valueQuantity']) {
            this.value = new fhir.Quantity(source.valueQuantity);
        }
        else if (source['valueCodeableConcept']) {
            this.value = new fhir.CodeableConcept(source.valueCodeableConcept);
        }
        else if (source['valueString']) {
            this.value = new fhir.FhirString({ value: source.valueString });
        }
        else if (source['valueRange']) {
            this.value = new fhir.Range(source.valueRange);
        }
        else if (source['valueRatio']) {
            this.value = new fhir.Ratio(source.valueRatio);
        }
        else if (source['valueSampledData']) {
            this.value = new fhir.SampledData(source.valueSampledData);
        }
        else if (source['valueAttachment']) {
            this.value = new fhir.Attachment(source.valueAttachment);
        }
        else if (source['valueTime']) {
            this.value = new fhir.FhirTime({ value: source.valueTime });
        }
        else if (source['valueDateTime']) {
            this.value = new fhir.FhirDateTime({ value: source.valueDateTime });
        }
        else if (source['valuePeriod']) {
            this.value = new fhir.Period(source.valuePeriod);
        }
        if (source['dataAbsentReason']) {
            this.dataAbsentReason = new fhir.CodeableConcept(source.dataAbsentReason);
        }
        if (source['interpretation']) {
            this.interpretation = new fhir.CodeableConcept(source.interpretation);
        }
        if (source['comments']) {
            this.comments = new fhir.FhirString({ value: source.comments });
        }
        if (source['_comments']) {
            if (this.comments) {
                this.comments.addExtendedProperties(source._comments);
            }
            else {
                this.comments = new fhir.FhirString(source._comments);
            }
        }
        if (source['bodySite']) {
            this.bodySite = new fhir.CodeableConcept(source.bodySite);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method);
        }
        if (source['specimen']) {
            this.specimen = new fhir.Reference(source.specimen);
        }
        if (source['device']) {
            this.device = new fhir.Reference(source.device);
        }
        if (source['referenceRange']) {
            this.referenceRange = source.referenceRange.map((x) => new fhir.ObservationReferenceRange(x));
        }
        else {
            this.referenceRange = [];
        }
        if (source['related']) {
            this.related = source.related.map((x) => new fhir.ObservationRelated(x));
        }
        else {
            this.related = [];
        }
        if (source['component']) {
            this.component = source.component.map((x) => new fhir.ObservationComponent(x));
        }
        else {
            this.component = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Observation';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'ObservationStatus', ObservationStatusVsValidation, 'r'));
        iss.push(...this.vOS('category', exp));
        iss.push(...this.vRS('code', exp));
        iss.push(...this.vOS('subject', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vOS('effective', exp));
        iss.push(...this.vOS('issued', exp));
        iss.push(...this.vOA('performer', exp));
        iss.push(...this.vOS('value', exp));
        iss.push(...this.vOS('dataAbsentReason', exp));
        iss.push(...this.vOS('interpretation', exp));
        iss.push(...this.vOS('comments', exp));
        iss.push(...this.vOS('bodySite', exp));
        iss.push(...this.vOS('method', exp));
        iss.push(...this.vOS('specimen', exp));
        iss.push(...this.vOS('device', exp));
        iss.push(...this.vOA('referenceRange', exp));
        iss.push(...this.vOA('related', exp));
        iss.push(...this.vOA('component', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Observation._fts_dataType = 'Observation';
/**
 * Internal flag to properly serialize choice-type element Observation.effective[x]
 */
Observation._fts_effectiveIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element Observation.value[x]
 */
Observation._fts_valueIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT2JzZXJ2YXRpb24uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL09ic2VydmF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDZCQUE2QjtBQUU3QixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHdDQUF3QyxFQUFFLE1BQU0sOERBQThELENBQUM7QUFHeEgsYUFBYTtBQUNiLE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLG1EQUFtRCxDQUFDO0FBK0JsRzs7R0FFRztBQUNILE1BQU0sT0FBTyx5QkFBMEIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXlCakU7O09BRUc7SUFDSCxZQUFZLFNBQWdELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3RHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7U0FBRTtRQUNoRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUFFO1FBQ25FLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDbkYsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENB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LEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBdExEOztHQUVHO0FBQzZCLHlCQUFhLEdBQVUsYUFBYSxDQUFDO0FBaUNyRTs7R0FFRztBQUN1QixrQ0FBc0IsR0FBUSxJQUFJLENBQUM7QUFhN0Q7O0dBRUc7QUFDdUIsOEJBQWtCLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIyLmNvcmUgdmVyc2lvbjogMS4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBPYnNlcnZhdGlvblxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgT2JzZXJ2YXRpb25SZWxhdGlvbnNoaXB0eXBlc0NvZGVzLCAgT2JzZXJ2YXRpb25SZWxhdGlvbnNoaXB0eXBlc0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYnNlcnZhdGlvblJlbGF0aW9uc2hpcHR5cGVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9ic2VydmF0aW9uUmVsYXRpb25zaGlwdHlwZXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL09ic2VydmF0aW9uUmVsYXRpb25zaGlwdHlwZXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE9ic2VydmF0aW9uU3RhdHVzQ29kZXMsICBPYnNlcnZhdGlvblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9PYnNlcnZhdGlvblN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBPYnNlcnZhdGlvblN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvT2JzZXJ2YXRpb25TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgT2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZhdGlvblJlZmVyZW5jZVJhbmdlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBsb3cgYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZS4gIFRoZSBsb3cgYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZSBlbmRwb2ludCBpcyBpbmNsdXNpdmUgb2YgdGhlIHZhbHVlIChlLmcuICByZWZlcmVuY2UgcmFuZ2UgaXMgJmd0Oz01IC0gJmx0Oz05KS4gICBJZiB0aGUgbG93IGJvdW5kIGlzIG9taXR0ZWQsICBpdCBpcyBhc3N1bWVkIHRvIGJlIG1lYW5pbmdsZXNzIChlLmcuIHJlZmVyZW5jZSByYW5nZSBpcyAmbHQ7PTIuMykuXHJcbiAgICovXHJcbiAgbG93PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgaGlnaCBib3VuZCBvZiB0aGUgcmVmZXJlbmNlIHJhbmdlLiAgVGhlIGhpZ2ggYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZSBlbmRwb2ludCBpcyBpbmNsdXNpdmUgb2YgdGhlIHZhbHVlIChlLmcuICByZWZlcmVuY2UgcmFuZ2UgaXMgJmd0Oz01IC0gJmx0Oz05KS4gICBJZiB0aGUgaGlnaCBib3VuZCBpcyBvbWl0dGVkLCAgaXQgaXMgYXNzdW1lZCB0byBiZSBtZWFuaW5nbGVzcyAoZS5nLiByZWZlcmVuY2UgcmFuZ2UgaXMgJmd0Oz0gMi4zKS5cclxuICAgKi9cclxuICBoaWdoPzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5lZWQgdG8gYmUgYWJsZSB0byBzYXkgd2hhdCBraW5kIG9mIHJlZmVyZW5jZSByYW5nZSB0aGlzIGlzIC0gbm9ybWFsLCByZWNvbW1lbmRlZCwgdGhlcmFwZXV0aWMsIG9yIHBlcmhhcHMgd2hhdCBzdGF0ZSB0aGlzIHJlZmVyZW5jZSByYW5nZSBhcHBsaWVzIHRvIChpLmUuIGFnZSwgaG9ybW9uYWwgY3ljbGVzLCBldGMuKS5cclxuICAgKi9cclxuICBtZWFuaW5nPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBTb21lIGFuYWx5dGVzIHZhcnkgZ3JlYXRseSBvdmVyIGFnZS5cclxuICAgKi9cclxuICBhZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGV4dCBiYXNlZCByZWZlcmVuY2UgcmFuZ2UgaW4gYW4gb2JzZXJ2YXRpb24gd2hpY2ggbWF5IGJlIHVzZWQgd2hlbiBhIHF1YW50aXRhdGl2ZSByYW5nZSBpcyBub3QgYXBwcm9wcmlhdGUgZm9yIGFuIG9ic2VydmF0aW9uLiAgQW4gZXhhbXBsZSB3b3VsZCBiZSBhIHJlZmVyZW5jZSB2YWx1ZSBvZiBcIk5lZ2F0aXZlXCIgb3IgYSBsaXN0IG9yIHRhYmxlIG9mICdub3JtYWxzJy5cclxuICAgKi9cclxuICB0ZXh0PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE9ic2VydmF0aW9uLnJlZmVyZW5jZVJhbmdlLnRleHRcclxuICAgKi9cclxuICBfdGV4dD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBLbm93aW5nIHdoYXQgdmFsdWVzIGFyZSBjb25zaWRlcmVkIFwibm9ybWFsXCIgY2FuIGhlbHAgZXZhbHVhdGUgdGhlIHNpZ25pZmljYW5jZSBvZiBhIHBhcnRpY3VsYXIgcmVzdWx0LiBOZWVkIHRvIGJlIGFibGUgdG8gcHJvdmlkZSBtdWx0aXBsZSByZWZlcmVuY2UgcmFuZ2VzIGZvciBkaWZmZXJlbnQgY29udGV4dHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgT2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ09ic2VydmF0aW9uUmVmZXJlbmNlUmFuZ2UnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgbG93IGJvdW5kIG9mIHRoZSByZWZlcmVuY2UgcmFuZ2UuICBUaGUgbG93IGJvdW5kIG9mIHRoZSByZWZlcmVuY2UgcmFuZ2UgZW5kcG9pbnQgaXMgaW5jbHVzaXZlIG9mIHRoZSB2YWx1ZSAoZS5nLiAgcmVmZXJlbmNlIHJhbmdlIGlzICZndDs9NSAtICZsdDs9OSkuICAgSWYgdGhlIGxvdyBib3VuZCBpcyBvbWl0dGVkLCAgaXQgaXMgYXNzdW1lZCB0byBiZSBtZWFuaW5nbGVzcyAoZS5nLiByZWZlcmVuY2UgcmFuZ2UgaXMgJmx0Oz0yLjMpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb3c/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIGhpZ2ggYm91bmQgb2YgdGhlIHJlZmVyZW5jZSByYW5nZS4gIFRoZSBoaWdoIGJvdW5kIG9mIHRoZSByZWZlcmVuY2UgcmFuZ2UgZW5kcG9pbnQgaXMgaW5jbHVzaXZlIG9mIHRoZSB2YWx1ZSAoZS5nLiAgcmVmZXJlbmNlIHJhbmdlIGlzICZndDs9NSAtICZsdDs9OSkuICAgSWYgdGhlIGhpZ2ggYm91bmQgaXMgb21pdHRlZCwgIGl0IGlzIGFzc3VtZWQgdG8gYmUgbWVhbmluZ2xlc3MgKGUuZy4gcmVmZXJlbmNlIHJhbmdlIGlzICZndDs9IDIuMykuXHJcbiAgICovXHJcbiAgcHVibGljIGhpZ2g/OiBmaGlyLlF1YW50aXR5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOZWVkIHRvIGJlIGFibGUgdG8gc2F5IHdoYXQga2luZCBvZiByZWZlcmVuY2UgcmFuZ2UgdGhpcyBpcyAtIG5vcm1hbCwgcmVjb21tZW5kZWQsIHRoZXJhcGV1dGljLCBvciBwZXJoYXBzIHdoYXQgc3RhdGUgdGhpcyByZWZlcmVuY2UgcmFuZ2UgYXBwbGllcyB0byAoaS5lLiBhZ2UsIGhvcm1vbmFsIGN5Y2xlcywgZXRjLikuXHJcbiAgICovXHJcbiAgcHVibGljIG1lYW5pbmc/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU29tZSBhbmFseXRlcyB2YXJ5IGdyZWF0bHkgb3ZlciBhZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIGFnZT86IGZoaXIuUmFuZ2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgYmFzZWQgcmVmZXJlbmNlIHJhbmdlIGluIGFuIG9ic2VydmF0aW9uIHdoaWNoIG1heSBiZSB1c2VkIHdoZW4gYSBxdWFudGl0YXRpdmUgcmFuZ2UgaXMgbm90IGFwcHJvcHJpYXRlIGZvciBhbiBvYnNlcnZhdGlvbi4gIEFuIGV4YW1wbGUgd291bGQgYmUgYSByZWZlcmVuY2UgdmFsdWUgb2YgXCJOZWdhdGl2ZVwiIG9yIGEgbGlzdCBvciB0YWJsZSBvZiAnbm9ybWFscycuXHJcbiAgICovXHJcbiAgcHVibGljIHRleHQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE9ic2VydmF0aW9uUmVmZXJlbmNlUmFuZ2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxPYnNlcnZhdGlvblJlZmVyZW5jZVJhbmdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2xvdyddKSB7IHRoaXMubG93ID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLmxvdyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2hpZ2gnXSkgeyB0aGlzLmhpZ2ggPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UuaGlnaCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21lYW5pbmcnXSkgeyB0aGlzLm1lYW5pbmcgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLm1lYW5pbmcpOyB9XHJcbiAgICBpZiAoc291cmNlWydhZ2UnXSkgeyB0aGlzLmFnZSA9IG5ldyBmaGlyLlJhbmdlKHNvdXJjZS5hZ2UpOyB9XHJcbiAgICBpZiAoc291cmNlWyd0ZXh0J10pIHsgdGhpcy50ZXh0ID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS50ZXh0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190ZXh0J10pIHtcclxuICAgICAgaWYgKHRoaXMudGV4dCkgeyB0aGlzLnRleHQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdGV4dCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnRleHQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fdGV4dCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ09ic2VydmF0aW9uLnJlZmVyZW5jZVJhbmdlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbG93JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdoaWdoJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtZWFuaW5nJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhZ2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3RleHQnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE9ic2VydmF0aW9uUmVsYXRlZCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZhdGlvblJlbGF0ZWRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIHJlbGF0aW9uc2hpcCB0eXBlIFNIT1VMRCBiZSBwcm92aWRlZC5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5GaGlyQ29kZTxPYnNlcnZhdGlvblJlbGF0aW9uc2hpcHR5cGVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE9ic2VydmF0aW9uLnJlbGF0ZWQudHlwZVxyXG4gICAqL1xyXG4gIF90eXBlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgb2JzZXJ2YXRpb24gb3IgW1tbUXVlc3Rpb25uYWlyZVJlc3BvbnNlXV1dIHJlc291cmNlIHRoYXQgaXMgcmVsYXRlZCB0byB0aGlzIG9ic2VydmF0aW9uLlxyXG4gICAqL1xyXG4gIHRhcmdldDogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBOb3JtYWxseSwgYW4gb2JzZXJ2YXRpb24gd2lsbCBoYXZlIGVpdGhlciBhIHZhbHVlIG9yIGEgc2V0IG9mIHJlbGF0ZWQgb2JzZXJ2YXRpb25zLiBBIGZldyBvYnNlcnZhdGlvbnMgKGUuZy4gQXBnYXIgc2NvcmUpIG1heSBoYXZlIGJvdGggYSB2YWx1ZSBhbmQgYSBzZXQgb2YgcmVsYXRlZCBvYnNlcnZhdGlvbnMgb3Igc29tZXRpbWVzIFF1ZXN0aW9ubmFpcmVSZXNwb25zZSAgZnJvbSB3aGljaCB0aGUgbWVhc3VyZSBpcyBkZXJpdmVkLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE9ic2VydmF0aW9uUmVsYXRlZCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ09ic2VydmF0aW9uUmVsYXRlZCc7XHJcbiAgLyoqXHJcbiAgICogQSByZWxhdGlvbnNoaXAgdHlwZSBTSE9VTEQgYmUgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlPE9ic2VydmF0aW9uUmVsYXRpb25zaGlwdHlwZXNDb2RlVHlwZT58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBvYnNlcnZhdGlvbiBvciBbW1tRdWVzdGlvbm5haXJlUmVzcG9uc2VdXV0gcmVzb3VyY2UgdGhhdCBpcyByZWxhdGVkIHRvIHRoaXMgb2JzZXJ2YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHRhcmdldDogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBPYnNlcnZhdGlvblJlbGF0ZWQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxPYnNlcnZhdGlvblJlbGF0ZWRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPE9ic2VydmF0aW9uUmVsYXRpb25zaGlwdHlwZXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdHlwZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUpIHsgdGhpcy50eXBlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3R5cGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGU8T2JzZXJ2YXRpb25SZWxhdGlvbnNoaXB0eXBlc0NvZGVUeXBlPihzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldCddKSB7IHRoaXMudGFyZ2V0ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS50YXJnZXQpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50YXJnZXQgPSBudWxsOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnT2JzZXJ2YXRpb24ucmVsYXRlZCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1NWKCd0eXBlJyxleHAsJ09ic2VydmF0aW9uUmVsYXRpb25zaGlwdHlwZXMnLE9ic2VydmF0aW9uUmVsYXRpb25zaGlwdHlwZXNWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndGFyZ2V0JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBPYnNlcnZhdGlvbkNvbXBvbmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZhdGlvbkNvbXBvbmVudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEtub3dpbmcgd2hhdCBraW5kIG9mIG9ic2VydmF0aW9uIGlzIGJlaW5nIG1hZGUgaXMgZXNzZW50aWFsIHRvIHVuZGVyc3RhbmRpbmcgdGhlIG9ic2VydmF0aW9uLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlPzogZmhpci5RdWFudGl0eXxmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5SYW5nZXxmaGlyLlJhdGlvfGZoaXIuU2FtcGxlZERhdGF8Zmhpci5BdHRhY2htZW50fGZoaXIuRmhpclRpbWV8Zmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgdmFsdWVDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgdmFsdWVSYW5nZT86IGZoaXIuUmFuZ2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhdGlvbiBleGlzdHMgdG8gaGF2ZSBhIHZhbHVlLCB0aG91Z2ggaXQgbWF5IG5vdCBpZiBpdCBpcyBpbiBlcnJvciwgb3IgaXQgcmVwcmVzZW50cyBhIGdyb3VwIG9mIG9ic2VydmF0aW9ucy5cclxuICAgKi9cclxuICB2YWx1ZVJhdGlvPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlU2FtcGxlZERhdGE/OiBmaGlyLlNhbXBsZWREYXRhQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgdmFsdWVBdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgdmFsdWVUaW1lPzogZmhpci5GaGlyVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlUGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgbWFueSByZXN1bHRzIGl0IGlzIG5lY2Vzc2FyeSB0byBoYW5kbGUgZXhjZXB0aW9uYWwgdmFsdWVzIGluIG1lYXN1cmVtZW50cy5cclxuICAgKi9cclxuICBkYXRhQWJzZW50UmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBLbm93aW5nIHdoYXQgdmFsdWVzIGFyZSBjb25zaWRlcmVkIFwibm9ybWFsXCIgY2FuIGhlbHAgZXZhbHVhdGUgdGhlIHNpZ25pZmljYW5jZSBvZiBhIHBhcnRpY3VsYXIgcmVzdWx0LiBOZWVkIHRvIGJlIGFibGUgdG8gcHJvdmlkZSBtdWx0aXBsZSByZWZlcmVuY2UgcmFuZ2VzIGZvciBkaWZmZXJlbnQgY29udGV4dHMuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlUmFuZ2U/OiBmaGlyLk9ic2VydmF0aW9uUmVmZXJlbmNlUmFuZ2VBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ29tcG9uZW50IG9ic2VydmF0aW9ucyBzaGFyZSB0aGUgc2FtZSBhdHRyaWJ1dGVzIGluIHRoZSBPYnNlcnZhdGlvbiByZXNvdXJjZSBhcyB0aGUgcHJpbWFyeSBvYnNlcnZhdGlvbiBhbmQgYXJlIGFsd2F5cyB0cmVhdGVkIGEgcGFydCBvZiBhIHNpbmdsZSBvYnNlcnZhdGlvbiAodGhleSBhcmUgbm90IHNlcGFyYWJsZSkuICAgSG93ZXZlciwgdGhlIHJlZmVyZW5jZSByYW5nZSBmb3IgdGhlIHByaW1hcnkgb2JzZXJ2YXRpb24gdmFsdWUgaXMgbm90IGluaGVyaXRlZCBieSB0aGUgY29tcG9uZW50IHZhbHVlcyBhbmQgaXMgcmVxdWlyZWQgd2hlbiBhcHByb3ByaWF0ZSBmb3IgZWFjaCBjb21wb25lbnQgb2JzZXJ2YXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgT2JzZXJ2YXRpb25Db21wb25lbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdPYnNlcnZhdGlvbkNvbXBvbmVudCc7XHJcbiAgLyoqXHJcbiAgICogS25vd2luZyB3aGF0IGtpbmQgb2Ygb2JzZXJ2YXRpb24gaXMgYmVpbmcgbWFkZSBpcyBlc3NlbnRpYWwgdG8gdW5kZXJzdGFuZGluZyB0aGUgb2JzZXJ2YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlPzogKGZoaXIuUXVhbnRpdHl8Zmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5GaGlyU3RyaW5nfGZoaXIuUmFuZ2V8Zmhpci5SYXRpb3xmaGlyLlNhbXBsZWREYXRhfGZoaXIuQXR0YWNobWVudHxmaGlyLkZoaXJUaW1lfGZoaXIuRmhpckRhdGVUaW1lfGZoaXIuUGVyaW9kKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBPYnNlcnZhdGlvbi5jb21wb25lbnQudmFsdWVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfdmFsdWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBGb3IgbWFueSByZXN1bHRzIGl0IGlzIG5lY2Vzc2FyeSB0byBoYW5kbGUgZXhjZXB0aW9uYWwgdmFsdWVzIGluIG1lYXN1cmVtZW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0YUFic2VudFJlYXNvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBLbm93aW5nIHdoYXQgdmFsdWVzIGFyZSBjb25zaWRlcmVkIFwibm9ybWFsXCIgY2FuIGhlbHAgZXZhbHVhdGUgdGhlIHNpZ25pZmljYW5jZSBvZiBhIHBhcnRpY3VsYXIgcmVzdWx0LiBOZWVkIHRvIGJlIGFibGUgdG8gcHJvdmlkZSBtdWx0aXBsZSByZWZlcmVuY2UgcmFuZ2VzIGZvciBkaWZmZXJlbnQgY29udGV4dHMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZVJhbmdlOiBmaGlyLk9ic2VydmF0aW9uUmVmZXJlbmNlUmFuZ2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBPYnNlcnZhdGlvbkNvbXBvbmVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE9ic2VydmF0aW9uQ29tcG9uZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSkgeyB0aGlzLnZhbHVlID0gc291cmNlLnZhbHVlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlUXVhbnRpdHknXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuUXVhbnRpdHkoc291cmNlLnZhbHVlUXVhbnRpdHkpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UudmFsdWVDb2RlYWJsZUNvbmNlcHQpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlU3RyaW5nJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmFsdWVTdHJpbmd9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVJhbmdlJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlJhbmdlKHNvdXJjZS52YWx1ZVJhbmdlKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVJhdGlvJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS52YWx1ZVJhdGlvKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVNhbXBsZWREYXRhJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlNhbXBsZWREYXRhKHNvdXJjZS52YWx1ZVNhbXBsZWREYXRhKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUF0dGFjaG1lbnQnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuQXR0YWNobWVudChzb3VyY2UudmFsdWVBdHRhY2htZW50KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVRpbWUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpclRpbWUoe3ZhbHVlOiBzb3VyY2UudmFsdWVUaW1lfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVEYXRlVGltZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UudmFsdWVEYXRlVGltZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlUGVyaW9kJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UudmFsdWVQZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRhQWJzZW50UmVhc29uJ10pIHsgdGhpcy5kYXRhQWJzZW50UmVhc29uID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5kYXRhQWJzZW50UmVhc29uKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlUmFuZ2UnXSkgeyB0aGlzLnJlZmVyZW5jZVJhbmdlID0gc291cmNlLnJlZmVyZW5jZVJhbmdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuT2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlZmVyZW5jZVJhbmdlID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdPYnNlcnZhdGlvbi5jb21wb25lbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdjb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd2YWx1ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZGF0YUFic2VudFJlYXNvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVmZXJlbmNlUmFuZ2UnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE9ic2VydmF0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmF0aW9uQXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiT2JzZXJ2YXRpb25cInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQWxsb3dzIG9ic2VydmF0aW9ucyB0byBiZSBkaXN0aW5ndWlzaGVkIGFuZCByZWZlcmVuY2VkLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI/OiBmaGlyLklkZW50aWZpZXJBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5lZWQgdG8gdHJhY2sgdGhlIHN0YXR1cyBvZiBpbmRpdmlkdWFsIHJlc3VsdHMuIFNvbWUgcmVzdWx0cyBhcmUgZmluYWxpemVkIGJlZm9yZSB0aGUgd2hvbGUgcmVwb3J0IGlzIGZpbmFsaXplZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8T2JzZXJ2YXRpb25TdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogT2JzZXJ2YXRpb24uc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgY2xhc3NpZmllcyB0aGUgZ2VuZXJhbCB0eXBlIG9mIG9ic2VydmF0aW9uIGJlaW5nIG1hZGUuICBUaGlzIGlzIHVzZWQgIGZvciBzZWFyY2hpbmcsIHNvcnRpbmcgYW5kIGRpc3BsYXkgcHVycG9zZXMuXHJcbiAgICovXHJcbiAgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEtub3dpbmcgd2hhdCBraW5kIG9mIG9ic2VydmF0aW9uIGlzIGJlaW5nIG1hZGUgaXMgZXNzZW50aWFsIHRvIHVuZGVyc3RhbmRpbmcgdGhlIG9ic2VydmF0aW9uLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIE9ic2VydmF0aW9ucyBoYXZlIG5vIHZhbHVlIGlmIHlvdSBkb24ndCBrbm93IHdobyBvciB3aGF0IHRoZXkncmUgYWJvdXQuXHJcbiAgICovXHJcbiAgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIHNvbWUgb2JzZXJ2YXRpb25zIGl0IG1heSBiZSBpbXBvcnRhbnQgdG8ga25vdyB0aGUgbGluayBiZXR3ZWVuIGFuIG9ic2VydmF0aW9uIGFuZCBhIHBhcnRpY3VsYXIgZW5jb3VudGVyLlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogS25vd2luZyB3aGVuIGFuIG9ic2VydmF0aW9uIHdhcyBkZWVtZWQgdHJ1ZSBpcyBpbXBvcnRhbnQgdG8gaXRzIHJlbGV2YW5jZSBhcyB3ZWxsIGFzIGRldGVybWluaW5nIHRyZW5kcy5cclxuICAgKi9cclxuICBlZmZlY3RpdmU/OiBmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogS25vd2luZyB3aGVuIGFuIG9ic2VydmF0aW9uIHdhcyBkZWVtZWQgdHJ1ZSBpcyBpbXBvcnRhbnQgdG8gaXRzIHJlbGV2YW5jZSBhcyB3ZWxsIGFzIGRldGVybWluaW5nIHRyZW5kcy5cclxuICAgKi9cclxuICBlZmZlY3RpdmVEYXRlVGltZT86IGZoaXIuRmhpckRhdGVUaW1lfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogS25vd2luZyB3aGVuIGFuIG9ic2VydmF0aW9uIHdhcyBkZWVtZWQgdHJ1ZSBpcyBpbXBvcnRhbnQgdG8gaXRzIHJlbGV2YW5jZSBhcyB3ZWxsIGFzIGRldGVybWluaW5nIHRyZW5kcy5cclxuICAgKi9cclxuICBlZmZlY3RpdmVQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIGFuZCB0aW1lIHRoaXMgb2JzZXJ2YXRpb24gd2FzIG1hZGUgYXZhaWxhYmxlIHRvIHByb3ZpZGVycywgdHlwaWNhbGx5IGFmdGVyIHRoZSByZXN1bHRzIGhhdmUgYmVlbiByZXZpZXdlZCBhbmQgdmVyaWZpZWQuXHJcbiAgICovXHJcbiAgaXNzdWVkPzogZmhpci5GaGlySW5zdGFudHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBPYnNlcnZhdGlvbi5pc3N1ZWRcclxuICAgKi9cclxuICBfaXNzdWVkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBNYXkgZ2l2ZSBhIGRlZ3JlZSBvZiBjb25maWRlbmNlIGluIHRoZSBvYnNlcnZhdGlvbiBhbmQgYWxzbyBpbmRpY2F0ZXMgd2hlcmUgZm9sbG93LXVwIHF1ZXN0aW9ucyBzaG91bGQgYmUgZGlyZWN0ZWQuXHJcbiAgICovXHJcbiAgcGVyZm9ybWVyPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlPzogZmhpci5RdWFudGl0eXxmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5SYW5nZXxmaGlyLlJhdGlvfGZoaXIuU2FtcGxlZERhdGF8Zmhpci5BdHRhY2htZW50fGZoaXIuRmhpclRpbWV8Zmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlUXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgdmFsdWVDb2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlU3RyaW5nPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgdmFsdWVSYW5nZT86IGZoaXIuUmFuZ2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhdGlvbiBleGlzdHMgdG8gaGF2ZSBhIHZhbHVlLCB0aG91Z2ggaXQgbWF5IG5vdCBpZiBpdCBpcyBpbiBlcnJvciwgb3IgaXQgcmVwcmVzZW50cyBhIGdyb3VwIG9mIG9ic2VydmF0aW9ucy5cclxuICAgKi9cclxuICB2YWx1ZVJhdGlvPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlU2FtcGxlZERhdGE/OiBmaGlyLlNhbXBsZWREYXRhQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgdmFsdWVBdHRhY2htZW50PzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YXRpb24gZXhpc3RzIHRvIGhhdmUgYSB2YWx1ZSwgdGhvdWdoIGl0IG1heSBub3QgaWYgaXQgaXMgaW4gZXJyb3IsIG9yIGl0IHJlcHJlc2VudHMgYSBncm91cCBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICovXHJcbiAgdmFsdWVUaW1lPzogZmhpci5GaGlyVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIG9ic2VydmF0aW9uIGV4aXN0cyB0byBoYXZlIGEgdmFsdWUsIHRob3VnaCBpdCBtYXkgbm90IGlmIGl0IGlzIGluIGVycm9yLCBvciBpdCByZXByZXNlbnRzIGEgZ3JvdXAgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAqL1xyXG4gIHZhbHVlUGVyaW9kPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3IgbWFueSByZXN1bHRzIGl0IGlzIG5lY2Vzc2FyeSB0byBoYW5kbGUgZXhjZXB0aW9uYWwgdmFsdWVzIGluIG1lYXN1cmVtZW50cy5cclxuICAgKi9cclxuICBkYXRhQWJzZW50UmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3Igc29tZSByZXN1bHRzLCBwYXJ0aWN1bGFybHkgbnVtZXJpYyByZXN1bHRzLCBhbiBpbnRlcnByZXRhdGlvbiBpcyBuZWNlc3NhcnkgdG8gZnVsbHkgdW5kZXJzdGFuZCB0aGUgc2lnbmlmaWNhbmNlIG9mIGEgcmVzdWx0LlxyXG4gICAqL1xyXG4gIGludGVycHJldGF0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBOZWVkIHRvIGJlIGFibGUgdG8gcHJvdmlkZSBmcmVlIHRleHQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cclxuICAgKi9cclxuICBjb21tZW50cz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBPYnNlcnZhdGlvbi5jb21tZW50c1xyXG4gICAqL1xyXG4gIF9jb21tZW50cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogS25vd2luZyB3aGVyZSB0aGUgb2JzZXJ2YXRpb24gaXMgbWFkZSBpcyBpbXBvcnRhbnQgZm9yIHRyYWNraW5nIGlmIG11bHRpcGxlIHNpdGVzIGFyZSBwb3NzaWJsZS5cclxuICAgKi9cclxuICBib2R5U2l0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gc29tZSBjYXNlcywgbWV0aG9kIGNhbiBpbXBhY3QgcmVzdWx0cyBhbmQgaXMgdGh1cyB1c2VkIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHJlc3VsdHMgY2FuIGJlIGNvbXBhcmVkIG9yIGRldGVybWluaW5nIHNpZ25pZmljYW5jZSBvZiByZXN1bHRzLlxyXG4gICAqL1xyXG4gIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpbWVuIHRoYXQgd2FzIHVzZWQgd2hlbiB0aGlzIG9ic2VydmF0aW9uIHdhcyBtYWRlLlxyXG4gICAqL1xyXG4gIHNwZWNpbWVuPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGV2aWNlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIG9ic2VydmF0aW9uIGRhdGEuXHJcbiAgICovXHJcbiAgZGV2aWNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBLbm93aW5nIHdoYXQgdmFsdWVzIGFyZSBjb25zaWRlcmVkIFwibm9ybWFsXCIgY2FuIGhlbHAgZXZhbHVhdGUgdGhlIHNpZ25pZmljYW5jZSBvZiBhIHBhcnRpY3VsYXIgcmVzdWx0LiBOZWVkIHRvIGJlIGFibGUgdG8gcHJvdmlkZSBtdWx0aXBsZSByZWZlcmVuY2UgcmFuZ2VzIGZvciBkaWZmZXJlbnQgY29udGV4dHMuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlUmFuZ2U/OiBmaGlyLk9ic2VydmF0aW9uUmVmZXJlbmNlUmFuZ2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5vcm1hbGx5LCBhbiBvYnNlcnZhdGlvbiB3aWxsIGhhdmUgZWl0aGVyIGEgdmFsdWUgb3IgYSBzZXQgb2YgcmVsYXRlZCBvYnNlcnZhdGlvbnMuIEEgZmV3IG9ic2VydmF0aW9ucyAoZS5nLiBBcGdhciBzY29yZSkgbWF5IGhhdmUgYm90aCBhIHZhbHVlIGFuZCBhIHNldCBvZiByZWxhdGVkIG9ic2VydmF0aW9ucyBvciBzb21ldGltZXMgUXVlc3Rpb25uYWlyZVJlc3BvbnNlICBmcm9tIHdoaWNoIHRoZSBtZWFzdXJlIGlzIGRlcml2ZWQuXHJcbiAgICovXHJcbiAgcmVsYXRlZD86IGZoaXIuT2JzZXJ2YXRpb25SZWxhdGVkQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb21wb25lbnQgb2JzZXJ2YXRpb25zIHNoYXJlIHRoZSBzYW1lIGF0dHJpYnV0ZXMgaW4gdGhlIE9ic2VydmF0aW9uIHJlc291cmNlIGFzIHRoZSBwcmltYXJ5IG9ic2VydmF0aW9uIGFuZCBhcmUgYWx3YXlzIHRyZWF0ZWQgYSBwYXJ0IG9mIGEgc2luZ2xlIG9ic2VydmF0aW9uICh0aGV5IGFyZSBub3Qgc2VwYXJhYmxlKS4gICBIb3dldmVyLCB0aGUgcmVmZXJlbmNlIHJhbmdlIGZvciB0aGUgcHJpbWFyeSBvYnNlcnZhdGlvbiB2YWx1ZSBpcyBub3QgaW5oZXJpdGVkIGJ5IHRoZSBjb21wb25lbnQgdmFsdWVzIGFuZCBpcyByZXF1aXJlZCB3aGVuIGFwcHJvcHJpYXRlIGZvciBlYWNoIGNvbXBvbmVudCBvYnNlcnZhdGlvbi5cclxuICAgKi9cclxuICBjb21wb25lbnQ/OiBmaGlyLk9ic2VydmF0aW9uQ29tcG9uZW50QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1lYXN1cmVtZW50cyBhbmQgc2ltcGxlIGFzc2VydGlvbnMgbWFkZSBhYm91dCBhIHBhdGllbnQsIGRldmljZSBvciBvdGhlciBzdWJqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE9ic2VydmF0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdPYnNlcnZhdGlvbic7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJPYnNlcnZhdGlvblwiO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBvYnNlcnZhdGlvbnMgdG8gYmUgZGlzdGluZ3Vpc2hlZCBhbmQgcmVmZXJlbmNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyW107XHJcbiAgLyoqXHJcbiAgICogTmVlZCB0byB0cmFjayB0aGUgc3RhdHVzIG9mIGluZGl2aWR1YWwgcmVzdWx0cy4gU29tZSByZXN1bHRzIGFyZSBmaW5hbGl6ZWQgYmVmb3JlIHRoZSB3aG9sZSByZXBvcnQgaXMgZmluYWxpemVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8T2JzZXJ2YXRpb25TdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBjbGFzc2lmaWVzIHRoZSBnZW5lcmFsIHR5cGUgb2Ygb2JzZXJ2YXRpb24gYmVpbmcgbWFkZS4gIFRoaXMgaXMgdXNlZCAgZm9yIHNlYXJjaGluZywgc29ydGluZyBhbmQgZGlzcGxheSBwdXJwb3Nlcy5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogS25vd2luZyB3aGF0IGtpbmQgb2Ygb2JzZXJ2YXRpb24gaXMgYmVpbmcgbWFkZSBpcyBlc3NlbnRpYWwgdG8gdW5kZXJzdGFuZGluZyB0aGUgb2JzZXJ2YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuQ29kZWFibGVDb25jZXB0fG51bGw7XHJcbiAgLyoqXHJcbiAgICogT2JzZXJ2YXRpb25zIGhhdmUgbm8gdmFsdWUgaWYgeW91IGRvbid0IGtub3cgd2hvIG9yIHdoYXQgdGhleSdyZSBhYm91dC5cclxuICAgKi9cclxuICBwdWJsaWMgc3ViamVjdD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3Igc29tZSBvYnNlcnZhdGlvbnMgaXQgbWF5IGJlIGltcG9ydGFudCB0byBrbm93IHRoZSBsaW5rIGJldHdlZW4gYW4gb2JzZXJ2YXRpb24gYW5kIGEgcGFydGljdWxhciBlbmNvdW50ZXIuXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBLbm93aW5nIHdoZW4gYW4gb2JzZXJ2YXRpb24gd2FzIGRlZW1lZCB0cnVlIGlzIGltcG9ydGFudCB0byBpdHMgcmVsZXZhbmNlIGFzIHdlbGwgYXMgZGV0ZXJtaW5pbmcgdHJlbmRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBlZmZlY3RpdmU/OiAoZmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2QpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE9ic2VydmF0aW9uLmVmZmVjdGl2ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19lZmZlY3RpdmVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBhbmQgdGltZSB0aGlzIG9ic2VydmF0aW9uIHdhcyBtYWRlIGF2YWlsYWJsZSB0byBwcm92aWRlcnMsIHR5cGljYWxseSBhZnRlciB0aGUgcmVzdWx0cyBoYXZlIGJlZW4gcmV2aWV3ZWQgYW5kIHZlcmlmaWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpc3N1ZWQ/OiBmaGlyLkZoaXJJbnN0YW50fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXkgZ2l2ZSBhIGRlZ3JlZSBvZiBjb25maWRlbmNlIGluIHRoZSBvYnNlcnZhdGlvbiBhbmQgYWxzbyBpbmRpY2F0ZXMgd2hlcmUgZm9sbG93LXVwIHF1ZXN0aW9ucyBzaG91bGQgYmUgZGlyZWN0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHBlcmZvcm1lcjogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhdGlvbiBleGlzdHMgdG8gaGF2ZSBhIHZhbHVlLCB0aG91Z2ggaXQgbWF5IG5vdCBpZiBpdCBpcyBpbiBlcnJvciwgb3IgaXQgcmVwcmVzZW50cyBhIGdyb3VwIG9mIG9ic2VydmF0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgdmFsdWU/OiAoZmhpci5RdWFudGl0eXxmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLkZoaXJTdHJpbmd8Zmhpci5SYW5nZXxmaGlyLlJhdGlvfGZoaXIuU2FtcGxlZERhdGF8Zmhpci5BdHRhY2htZW50fGZoaXIuRmhpclRpbWV8Zmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2QpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE9ic2VydmF0aW9uLnZhbHVlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3ZhbHVlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRm9yIG1hbnkgcmVzdWx0cyBpdCBpcyBuZWNlc3NhcnkgdG8gaGFuZGxlIGV4Y2VwdGlvbmFsIHZhbHVlcyBpbiBtZWFzdXJlbWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGFBYnNlbnRSZWFzb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9yIHNvbWUgcmVzdWx0cywgcGFydGljdWxhcmx5IG51bWVyaWMgcmVzdWx0cywgYW4gaW50ZXJwcmV0YXRpb24gaXMgbmVjZXNzYXJ5IHRvIGZ1bGx5IHVuZGVyc3RhbmQgdGhlIHNpZ25pZmljYW5jZSBvZiBhIHJlc3VsdC5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZXJwcmV0YXRpb24/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTmVlZCB0byBiZSBhYmxlIHRvIHByb3ZpZGUgZnJlZSB0ZXh0IGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvbW1lbnRzPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBLbm93aW5nIHdoZXJlIHRoZSBvYnNlcnZhdGlvbiBpcyBtYWRlIGlzIGltcG9ydGFudCBmb3IgdHJhY2tpbmcgaWYgbXVsdGlwbGUgc2l0ZXMgYXJlIHBvc3NpYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBib2R5U2l0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbiBzb21lIGNhc2VzLCBtZXRob2QgY2FuIGltcGFjdCByZXN1bHRzIGFuZCBpcyB0aHVzIHVzZWQgZm9yIGRldGVybWluaW5nIHdoZXRoZXIgcmVzdWx0cyBjYW4gYmUgY29tcGFyZWQgb3IgZGV0ZXJtaW5pbmcgc2lnbmlmaWNhbmNlIG9mIHJlc3VsdHMuXHJcbiAgICovXHJcbiAgcHVibGljIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgc3BlY2ltZW4gdGhhdCB3YXMgdXNlZCB3aGVuIHRoaXMgb2JzZXJ2YXRpb24gd2FzIG1hZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpbWVuPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkZXZpY2UgdXNlZCB0byBnZW5lcmF0ZSB0aGUgb2JzZXJ2YXRpb24gZGF0YS5cclxuICAgKi9cclxuICBwdWJsaWMgZGV2aWNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEtub3dpbmcgd2hhdCB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgXCJub3JtYWxcIiBjYW4gaGVscCBldmFsdWF0ZSB0aGUgc2lnbmlmaWNhbmNlIG9mIGEgcGFydGljdWxhciByZXN1bHQuIE5lZWQgdG8gYmUgYWJsZSB0byBwcm92aWRlIG11bHRpcGxlIHJlZmVyZW5jZSByYW5nZXMgZm9yIGRpZmZlcmVudCBjb250ZXh0cy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJlbmNlUmFuZ2U6IGZoaXIuT2JzZXJ2YXRpb25SZWZlcmVuY2VSYW5nZVtdO1xyXG4gIC8qKlxyXG4gICAqIE5vcm1hbGx5LCBhbiBvYnNlcnZhdGlvbiB3aWxsIGhhdmUgZWl0aGVyIGEgdmFsdWUgb3IgYSBzZXQgb2YgcmVsYXRlZCBvYnNlcnZhdGlvbnMuIEEgZmV3IG9ic2VydmF0aW9ucyAoZS5nLiBBcGdhciBzY29yZSkgbWF5IGhhdmUgYm90aCBhIHZhbHVlIGFuZCBhIHNldCBvZiByZWxhdGVkIG9ic2VydmF0aW9ucyBvciBzb21ldGltZXMgUXVlc3Rpb25uYWlyZVJlc3BvbnNlICBmcm9tIHdoaWNoIHRoZSBtZWFzdXJlIGlzIGRlcml2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlbGF0ZWQ6IGZoaXIuT2JzZXJ2YXRpb25SZWxhdGVkW107XHJcbiAgLyoqXHJcbiAgICogQ29tcG9uZW50IG9ic2VydmF0aW9ucyBzaGFyZSB0aGUgc2FtZSBhdHRyaWJ1dGVzIGluIHRoZSBPYnNlcnZhdGlvbiByZXNvdXJjZSBhcyB0aGUgcHJpbWFyeSBvYnNlcnZhdGlvbiBhbmQgYXJlIGFsd2F5cyB0cmVhdGVkIGEgcGFydCBvZiBhIHNpbmdsZSBvYnNlcnZhdGlvbiAodGhleSBhcmUgbm90IHNlcGFyYWJsZSkuICAgSG93ZXZlciwgdGhlIHJlZmVyZW5jZSByYW5nZSBmb3IgdGhlIHByaW1hcnkgb2JzZXJ2YXRpb24gdmFsdWUgaXMgbm90IGluaGVyaXRlZCBieSB0aGUgY29tcG9uZW50IHZhbHVlcyBhbmQgaXMgcmVxdWlyZWQgd2hlbiBhcHByb3ByaWF0ZSBmb3IgZWFjaCBjb21wb25lbnQgb2JzZXJ2YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNvbXBvbmVudDogZmhpci5PYnNlcnZhdGlvbkNvbXBvbmVudFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE9ic2VydmF0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8T2JzZXJ2YXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnT2JzZXJ2YXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxPYnNlcnZhdGlvblN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxPYnNlcnZhdGlvblN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2F0ZWdvcnknXSkgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5jYXRlZ29yeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLmNvZGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3ViamVjdCddKSB7IHRoaXMuc3ViamVjdCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc3ViamVjdCk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydlZmZlY3RpdmUnXSkgeyB0aGlzLmVmZmVjdGl2ZSA9IHNvdXJjZS5lZmZlY3RpdmU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnZWZmZWN0aXZlRGF0ZVRpbWUnXSkgeyB0aGlzLmVmZmVjdGl2ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5lZmZlY3RpdmVEYXRlVGltZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZVBlcmlvZCddKSB7IHRoaXMuZWZmZWN0aXZlID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5lZmZlY3RpdmVQZXJpb2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydpc3N1ZWQnXSkgeyB0aGlzLmlzc3VlZCA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHt2YWx1ZTogc291cmNlLmlzc3VlZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfaXNzdWVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuaXNzdWVkKSB7IHRoaXMuaXNzdWVkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2lzc3VlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmlzc3VlZCA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHNvdXJjZS5faXNzdWVkIGFzIFBhcnRpYWw8Zmhpci5GaGlySW5zdGFudEFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncGVyZm9ybWVyJ10pIHsgdGhpcy5wZXJmb3JtZXIgPSBzb3VyY2UucGVyZm9ybWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucGVyZm9ybWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3ZhbHVlJ10pIHsgdGhpcy52YWx1ZSA9IHNvdXJjZS52YWx1ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVF1YW50aXR5J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLlF1YW50aXR5KHNvdXJjZS52YWx1ZVF1YW50aXR5KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZUNvZGVhYmxlQ29uY2VwdCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnZhbHVlQ29kZWFibGVDb25jZXB0KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVN0cmluZyddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZhbHVlU3RyaW5nfSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVSYW5nZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UudmFsdWVSYW5nZSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVSYXRpbyddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5SYXRpbyhzb3VyY2UudmFsdWVSYXRpbyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVTYW1wbGVkRGF0YSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5TYW1wbGVkRGF0YShzb3VyY2UudmFsdWVTYW1wbGVkRGF0YSk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVBdHRhY2htZW50J10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkF0dGFjaG1lbnQoc291cmNlLnZhbHVlQXR0YWNobWVudCk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsndmFsdWVUaW1lJ10pIHsgdGhpcy52YWx1ZSA9IG5ldyBmaGlyLkZoaXJUaW1lKHt2YWx1ZTogc291cmNlLnZhbHVlVGltZX0pOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3ZhbHVlRGF0ZVRpbWUnXSkgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLnZhbHVlRGF0ZVRpbWV9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd2YWx1ZVBlcmlvZCddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLnZhbHVlUGVyaW9kKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0YUFic2VudFJlYXNvbiddKSB7IHRoaXMuZGF0YUFic2VudFJlYXNvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZGF0YUFic2VudFJlYXNvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ludGVycHJldGF0aW9uJ10pIHsgdGhpcy5pbnRlcnByZXRhdGlvbiA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuaW50ZXJwcmV0YXRpb24pOyB9XHJcbiAgICBpZiAoc291cmNlWydjb21tZW50cyddKSB7IHRoaXMuY29tbWVudHMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmNvbW1lbnRzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb21tZW50cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvbW1lbnRzKSB7IHRoaXMuY29tbWVudHMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29tbWVudHMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb21tZW50cyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9jb21tZW50cyBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYm9keVNpdGUnXSkgeyB0aGlzLmJvZHlTaXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5ib2R5U2l0ZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21ldGhvZCddKSB7IHRoaXMubWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZXRob2QpOyB9XHJcbiAgICBpZiAoc291cmNlWydzcGVjaW1lbiddKSB7IHRoaXMuc3BlY2ltZW4gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnNwZWNpbWVuKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV2aWNlJ10pIHsgdGhpcy5kZXZpY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmRldmljZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZVJhbmdlJ10pIHsgdGhpcy5yZWZlcmVuY2VSYW5nZSA9IHNvdXJjZS5yZWZlcmVuY2VSYW5nZS5tYXAoKHgpID0+IG5ldyBmaGlyLk9ic2VydmF0aW9uUmVmZXJlbmNlUmFuZ2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWZlcmVuY2VSYW5nZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWxhdGVkJ10pIHsgdGhpcy5yZWxhdGVkID0gc291cmNlLnJlbGF0ZWQubWFwKCh4KSA9PiBuZXcgZmhpci5PYnNlcnZhdGlvblJlbGF0ZWQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZWxhdGVkID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbXBvbmVudCddKSB7IHRoaXMuY29tcG9uZW50ID0gc291cmNlLmNvbXBvbmVudC5tYXAoKHgpID0+IG5ldyBmaGlyLk9ic2VydmF0aW9uQ29tcG9uZW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29tcG9uZW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdPYnNlcnZhdGlvbicgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlBTKCdyZXNvdXJjZVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnT2JzZXJ2YXRpb25TdGF0dXMnLE9ic2VydmF0aW9uU3RhdHVzVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2NhdGVnb3J5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdjb2RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzdWJqZWN0JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdlbmNvdW50ZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2VmZmVjdGl2ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnaXNzdWVkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdwZXJmb3JtZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3ZhbHVlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkYXRhQWJzZW50UmVhc29uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdpbnRlcnByZXRhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnY29tbWVudHMnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2JvZHlTaXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtZXRob2QnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NwZWNpbWVuJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXZpY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3JlZmVyZW5jZVJhbmdlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdyZWxhdGVkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdjb21wb25lbnQnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuIl19