// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: MedicationStatement
import * as fhir from '../fhir.js';
// @ts-ignore
import { MedicationStatementStatusVsValidation } from '../fhirValueSets/MedicationStatementStatusVsValidation.js';
/**
 * Indicates how the medication is/was used by the patient.
 */
export class MedicationStatementDosage extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationStatementDosage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['text'] !== undefined) {
            this.text = new fhir.FhirString({ value: source.text }, options);
        }
        if (source['_text']) {
            if (this.text) {
                this.text.addExtendedProperties(source._text);
            }
            else {
                this.text = new fhir.FhirString(source._text, options);
            }
        }
        if (source['timing']) {
            this.timing = new fhir.Timing(source.timing, options);
        }
        if (source['asNeeded']) {
            this.asNeeded = source.asNeeded;
        }
        else if (source['asNeededBoolean'] !== undefined) {
            this.asNeeded = new fhir.FhirBoolean({ value: source.asNeededBoolean }, options);
        }
        else if (source['asNeededCodeableConcept']) {
            this.asNeeded = new fhir.CodeableConcept(source.asNeededCodeableConcept, options);
        }
        if (source['site']) {
            this.site = source.site;
        }
        else if (source['siteCodeableConcept']) {
            this.site = new fhir.CodeableConcept(source.siteCodeableConcept, options);
        }
        else if (source['siteReference']) {
            this.site = new fhir.Reference(source.siteReference, options);
        }
        if (source['route']) {
            this.route = new fhir.CodeableConcept(source.route, options);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method, options);
        }
        if (source['quantity']) {
            this.quantity = source.quantity;
        }
        else if (source['quantityQuantity']) {
            this.quantity = new fhir.Quantity(source.quantityQuantity, options);
        }
        else if (source['quantityRange']) {
            this.quantity = new fhir.Range(source.quantityRange, options);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio, options);
        }
        else if (source['rateRange']) {
            this.rate = new fhir.Range(source.rateRange, options);
        }
        if (source['maxDosePerPeriod']) {
            this.maxDosePerPeriod = new fhir.Ratio(source.maxDosePerPeriod, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationStatement.dosage';
        }
        iss.push(...this.vOS('text', exp));
        iss.push(...this.vOS('timing', exp));
        iss.push(...this.vOS('asNeeded', exp));
        iss.push(...this.vOS('site', exp));
        iss.push(...this.vOS('route', exp));
        iss.push(...this.vOS('method', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('rate', exp));
        iss.push(...this.vOS('maxDosePerPeriod', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationStatementDosage._fts_dataType = 'MedicationStatementDosage';
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.dosage.asNeeded[x]
 */
MedicationStatementDosage._fts_asNeededIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.dosage.site[x]
 */
MedicationStatementDosage._fts_siteIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.dosage.quantity[x]
 */
MedicationStatementDosage._fts_quantityIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.dosage.rate[x]
 */
MedicationStatementDosage._fts_rateIsChoice = true;
/**
 * A record of a medication that is being consumed by a patient.   A MedicationStatement may indicate that the patient may be taking the medication now, or has taken the medication in the past or will be taking the medication in the future.  The source of this information can be the patient, significant other (such as a family member or spouse), or a clinician.  A common scenario where this information is captured is during the history taking process during a patient visit or stay.   The medication information may come from e.g. the patient's memory, from a prescription bottle,  or from a list of medications the patient, clinician or other party maintains   The primary difference between a medication statement and a medication administration is that the medication administration has complete administration information and is based on actual administration information from the person who administered the medication.  A medication statement is often, if not always, less specific.  There is no required date/time when the medication was administered, in fact we only know that a source has reported the patient is taking this medication, where details such as time, quantity, or rate or even medication product may be incomplete or missing or less precise.  As stated earlier, the medication statement information may come from the patient's memory, from a prescription bottle or from a list of medications the patient, clinician or other party maintains.  Medication administration is more formal and is not missing detailed information.
 */
export class MedicationStatement extends fhir.DomainResource {
    /**
     * Default constructor for MedicationStatement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MedicationStatement';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        else {
            this.patient = null;
        }
        if (source['informationSource']) {
            this.informationSource = new fhir.Reference(source.informationSource, options);
        }
        if (source['dateAsserted'] !== undefined) {
            this.dateAsserted = new fhir.FhirDateTime({ value: source.dateAsserted }, options);
        }
        if (source['_dateAsserted']) {
            if (this.dateAsserted) {
                this.dateAsserted.addExtendedProperties(source._dateAsserted);
            }
            else {
                this.dateAsserted = new fhir.FhirDateTime(source._dateAsserted, options);
            }
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['wasNotTaken'] !== undefined) {
            this.wasNotTaken = new fhir.FhirBoolean({ value: source.wasNotTaken }, options);
        }
        if (source['_wasNotTaken']) {
            if (this.wasNotTaken) {
                this.wasNotTaken.addExtendedProperties(source._wasNotTaken);
            }
            else {
                this.wasNotTaken = new fhir.FhirBoolean(source._wasNotTaken, options);
            }
        }
        if (source['reasonNotTaken']) {
            this.reasonNotTaken = source.reasonNotTaken.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.reasonNotTaken = [];
        }
        if (source['reasonForUse']) {
            this.reasonForUse = source.reasonForUse;
        }
        else if (source['reasonForUseCodeableConcept']) {
            this.reasonForUse = new fhir.CodeableConcept(source.reasonForUseCodeableConcept, options);
        }
        else if (source['reasonForUseReference']) {
            this.reasonForUse = new fhir.Reference(source.reasonForUseReference, options);
        }
        if (source['effective']) {
            this.effective = source.effective;
        }
        else if (source['effectiveDateTime'] !== undefined) {
            this.effective = new fhir.FhirDateTime({ value: source.effectiveDateTime }, options);
        }
        else if (source['effectivePeriod']) {
            this.effective = new fhir.Period(source.effectivePeriod, options);
        }
        if (source['note'] !== undefined) {
            this.note = new fhir.FhirString({ value: source.note }, options);
        }
        if (source['_note']) {
            if (this.note) {
                this.note.addExtendedProperties(source._note);
            }
            else {
                this.note = new fhir.FhirString(source._note, options);
            }
        }
        if (source['supportingInformation']) {
            this.supportingInformation = source.supportingInformation.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.supportingInformation = [];
        }
        if (source['medication']) {
            this.medication = source.medication;
        }
        else if (source['medicationCodeableConcept']) {
            this.medication = new fhir.CodeableConcept(source.medicationCodeableConcept, options);
        }
        else if (source['medicationReference']) {
            this.medication = new fhir.Reference(source.medicationReference, options);
        }
        else {
            this.medication = null;
        }
        if (source['dosage']) {
            this.dosage = source.dosage.map((x) => new fhir.MedicationStatementDosage(x, options));
        }
        else {
            this.dosage = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationStatement';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('informationSource', exp));
        iss.push(...this.vOS('dateAsserted', exp));
        iss.push(...this.vRSV('status', exp, 'MedicationStatementStatus', MedicationStatementStatusVsValidation, 'r'));
        iss.push(...this.vOS('wasNotTaken', exp));
        iss.push(...this.vOA('reasonNotTaken', exp));
        iss.push(...this.vOS('reasonForUse', exp));
        iss.push(...this.vOS('effective', exp));
        iss.push(...this.vOS('note', exp));
        iss.push(...this.vOA('supportingInformation', exp));
        iss.push(...this.vRS('medication', exp));
        iss.push(...this.vOA('dosage', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationStatement._fts_dataType = 'MedicationStatement';
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.reasonForUse[x]
 */
MedicationStatement._fts_reasonForUseIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.effective[x]
 */
MedicationStatement._fts_effectiveIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element MedicationStatement.medication[x]
 */
MedicationStatement._fts_medicationIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWNhdGlvblN0YXRlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvTWVkaWNhdGlvblN0YXRlbWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyxxQ0FBcUM7QUFFckMsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxxQ0FBcUMsRUFBRSxNQUFNLDJEQUEyRCxDQUFDO0FBK0VsSDs7R0FFRztBQUNILE1BQU0sT0FBTyx5QkFBMEIsU0FBUSxJQUFJLENBQUMsZUFBZTtJQXlEakU7O09BRUc7SUFDSCxZQUFZLFNBQWdELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3RHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQUU7UUFDckcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQUU7aUJBQzdEO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFxQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQUU7U0FDakc7UUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFD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LE9BQU8sQ0FBQyxDQUFDO1NBQUU7SUFDL0csQ0FBQztJQUNEOztPQUVHO0lBQ2EsaUJBQWlCLENBQUMsTUFBYSxFQUFFO1FBQy9DLElBQUksR0FBRyxHQUFtQixLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQUUsR0FBRyxHQUFHLDRCQUE0QixDQUFBO1NBQUU7UUFDdEQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVB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QUM7UUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O0FBN0lEOztHQUVHO0FBQzZCLGlDQUFhLEdBQVUscUJBQXFCLENBQUM7QUFxQzdFOztHQUVHO0FBQ3VCLDZDQUF5QixHQUFRLElBQUksQ0FBQztBQUtoRTs7R0FFRztBQUN1QiwwQ0FBc0IsR0FBUSxJQUFJLENBQUM7QUFhN0Q7O0dBRUc7QUFDdUIsMkNBQXVCLEdBQVEsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIyLmNvcmUgdmVyc2lvbjogMS4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBNZWRpY2F0aW9uU3RhdGVtZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9uU3RhdGVtZW50U3RhdHVzQ29kZXMsICBNZWRpY2F0aW9uU3RhdGVtZW50U3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lZGljYXRpb25TdGF0ZW1lbnRTdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBNZWRpY2F0aW9uU3RhdGVtZW50RG9zYWdlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25TdGF0ZW1lbnREb3NhZ2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBGcmVlIHRleHQgZG9zYWdlIGluZm9ybWF0aW9uIGFzIHJlcG9ydGVkIGFib3V0IGEgcGF0aWVudCdzIG1lZGljYXRpb24gdXNlLiBXaGVuIGNvZGVkIGRvc2FnZSBpbmZvcm1hdGlvbiBpcyBwcmVzZW50LCB0aGUgZnJlZSB0ZXh0IG1heSBzdGlsbCBiZSBwcmVzZW50IGZvciBkaXNwbGF5IHRvIGh1bWFucy5cclxuICAgKi9cclxuICB0ZXh0PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IE1lZGljYXRpb25TdGF0ZW1lbnQuZG9zYWdlLnRleHRcclxuICAgKi9cclxuICBfdGV4dD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRpbWluZyBzY2hlZHVsZSBmb3IgZ2l2aW5nIHRoZSBtZWRpY2F0aW9uIHRvIHRoZSBwYXRpZW50LiAgVGhlIFNjaGVkdWxlIGRhdGEgdHlwZSBhbGxvd3MgbWFueSBkaWZmZXJlbnQgZXhwcmVzc2lvbnMsIGZvciBleGFtcGxlLiAgXCJFdmVyeSAgOCBob3Vyc1wiOyBcIlRocmVlIHRpbWVzIGEgZGF5XCI7IFwiMS8yIGFuIGhvdXIgYmVmb3JlIGJyZWFrZmFzdCBmb3IgMTAgZGF5cyBmcm9tIDIzLURlYyAyMDExOlwiOyAgXCIxNSBPY3QgMjAxMywgMTcgT2N0IDIwMTMgYW5kIDEgTm92IDIwMTNcIi5cclxuICAgKi9cclxuICB0aW1pbmc/OiBmaGlyLlRpbWluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBNZWRpY2F0aW9uIGlzIG9ubHkgdGFrZW4gd2hlbiBuZWVkZWQgd2l0aGluIGEgc3BlY2lmaWMgZG9zaW5nIHNjaGVkdWxlIChCb29sZWFuIG9wdGlvbiksIG9yIGl0IGluZGljYXRlcyB0aGUgcHJlY29uZGl0aW9uIGZvciB0YWtpbmcgdGhlIE1lZGljYXRpb24gKENvZGVhYmxlQ29uY2VwdCkuICAgIFNwZWNpZmljYWxseSBpZiAnYm9vbGVhbicgZGF0YXR5cGUgaXMgc2VsZWN0ZWQsIHRoZW4gdGhlIGZvbGxvd2luZyBsb2dpYyBhcHBsaWVzOiAgSWYgc2V0IHRvIFRydWUsIHRoaXMgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGljYXRpb24gaXMgb25seSB0YWtlbiB3aGVuIG5lZWRlZCwgd2l0aGluIHRoZSBzcGVjaWZpZWQgc2NoZWR1bGUuXHJcbiAgICovXHJcbiAgYXNOZWVkZWQ/OiBmaGlyLkZoaXJCb29sZWFufGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgTWVkaWNhdGlvbiBpcyBvbmx5IHRha2VuIHdoZW4gbmVlZGVkIHdpdGhpbiBhIHNwZWNpZmljIGRvc2luZyBzY2hlZHVsZSAoQm9vbGVhbiBvcHRpb24pLCBvciBpdCBpbmRpY2F0ZXMgdGhlIHByZWNvbmRpdGlvbiBmb3IgdGFraW5nIHRoZSBNZWRpY2F0aW9uIChDb2RlYWJsZUNvbmNlcHQpLiAgICBTcGVjaWZpY2FsbHkgaWYgJ2Jvb2xlYW4nIGRhdGF0eXBlIGlzIHNlbGVjdGVkLCB0aGVuIHRoZSBmb2xsb3dpbmcgbG9naWMgYXBwbGllczogIElmIHNldCB0byBUcnVlLCB0aGlzIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpY2F0aW9uIGlzIG9ubHkgdGFrZW4gd2hlbiBuZWVkZWQsIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlLlxyXG4gICAqL1xyXG4gIGFzTmVlZGVkQm9vbGVhbj86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIE1lZGljYXRpb24gaXMgb25seSB0YWtlbiB3aGVuIG5lZWRlZCB3aXRoaW4gYSBzcGVjaWZpYyBkb3Npbmcgc2NoZWR1bGUgKEJvb2xlYW4gb3B0aW9uKSwgb3IgaXQgaW5kaWNhdGVzIHRoZSBwcmVjb25kaXRpb24gZm9yIHRha2luZyB0aGUgTWVkaWNhdGlvbiAoQ29kZWFibGVDb25jZXB0KS4gICAgU3BlY2lmaWNhbGx5IGlmICdib29sZWFuJyBkYXRhdHlwZSBpcyBzZWxlY3RlZCwgdGhlbiB0aGUgZm9sbG93aW5nIGxvZ2ljIGFwcGxpZXM6ICBJZiBzZXQgdG8gVHJ1ZSwgdGhpcyBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWNhdGlvbiBpcyBvbmx5IHRha2VuIHdoZW4gbmVlZGVkLCB3aXRoaW4gdGhlIHNwZWNpZmllZCBzY2hlZHVsZS5cclxuICAgKi9cclxuICBhc05lZWRlZENvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCBzcGVjaWZpY2F0aW9uIG9mIG9yIGEgcmVmZXJlbmNlIHRvIHRoZSBhbmF0b21pYyBzaXRlIHdoZXJlIHRoZSBtZWRpY2F0aW9uIGZpcnN0IGVudGVycyB0aGUgYm9keS5cclxuICAgKi9cclxuICBzaXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgc3BlY2lmaWNhdGlvbiBvZiBvciBhIHJlZmVyZW5jZSB0byB0aGUgYW5hdG9taWMgc2l0ZSB3aGVyZSB0aGUgbWVkaWNhdGlvbiBmaXJzdCBlbnRlcnMgdGhlIGJvZHkuXHJcbiAgICovXHJcbiAgc2l0ZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCBzcGVjaWZpY2F0aW9uIG9mIG9yIGEgcmVmZXJlbmNlIHRvIHRoZSBhbmF0b21pYyBzaXRlIHdoZXJlIHRoZSBtZWRpY2F0aW9uIGZpcnN0IGVudGVycyB0aGUgYm9keS5cclxuICAgKi9cclxuICBzaXRlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGUgc3BlY2lmeWluZyB0aGUgcm91dGUgb3IgcGh5c2lvbG9naWNhbCBwYXRoIG9mIGFkbWluaXN0cmF0aW9uIG9mIGEgdGhlcmFwZXV0aWMgYWdlbnQgaW50byBvciBvbnRvIGEgc3ViamVjdC5cclxuICAgKi9cclxuICByb3V0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCB2YWx1ZSBpbmRpY2F0aW5nIHRoZSBtZXRob2QgYnkgd2hpY2ggdGhlIG1lZGljYXRpb24gaXMgaW50ZW5kZWQgdG8gYmUgb3Igd2FzIGludHJvZHVjZWQgaW50byBvciBvbiB0aGUgYm9keS4gIFRoaXMgYXR0cmlidXRlIHdpbGwgbW9zdCBvZnRlbiBOT1QgYmUgcG9wdWxhdGVkLiAgSXQgaXMgbW9zdCBjb21tb25seSB1c2VkIGZvciBpbmplY3Rpb25zLiAgRm9yIGV4YW1wbGUsIFNsb3cgUHVzaCwgRGVlcCBJVi5cclxuICAgKi9cclxuICBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBhbW91bnQgb2YgdGhlcmFwZXV0aWMgb3Igb3RoZXIgc3Vic3RhbmNlIGdpdmVuIGF0IG9uZSBhZG1pbmlzdHJhdGlvbiBldmVudC5cclxuICAgKi9cclxuICBxdWFudGl0eT86IGZoaXIuUXVhbnRpdHl8Zmhpci5SYW5nZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiB0aGVyYXBldXRpYyBvciBvdGhlciBzdWJzdGFuY2UgZ2l2ZW4gYXQgb25lIGFkbWluaXN0cmF0aW9uIGV2ZW50LlxyXG4gICAqL1xyXG4gIHF1YW50aXR5UXVhbnRpdHk/OiBmaGlyLlF1YW50aXR5QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiB0aGVyYXBldXRpYyBvciBvdGhlciBzdWJzdGFuY2UgZ2l2ZW4gYXQgb25lIGFkbWluaXN0cmF0aW9uIGV2ZW50LlxyXG4gICAqL1xyXG4gIHF1YW50aXR5UmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgc3BlZWQgd2l0aCB3aGljaCB0aGUgbWVkaWNhdGlvbiB3YXMgb3Igd2lsbCBiZSBpbnRyb2R1Y2VkIGludG8gdGhlIHBhdGllbnQuIFR5cGljYWxseSB0aGUgcmF0ZSBmb3IgYW4gaW5mdXNpb24gZS5nLiAxMDAgbWwgcGVyIDEgaG91ciBvciAxMDAgbWwvaHIuICBNYXkgYWxzbyBiZSBleHByZXNzZWQgYXMgYSByYXRlIHBlciB1bml0IG9mIHRpbWUgZS5nLiA1MDAgbWwgcGVyIDIgaG91cnMuICAgQ3VycmVudGx5IHdlIGRvIG5vdCBzcGVjaWZ5IGEgZGVmYXVsdCBvZiAnMScgaW4gdGhlIGRlbm9taW5hdG9yLCBidXQgdGhpcyBpcyBiZWluZyBkaXNjdXNzZWQuIE90aGVyIGV4YW1wbGVzOiAyMDAgbWNnL21pbiBvciAyMDAgbWNnLzEgbWludXRlOyAxIGxpdGVyLzggaG91cnMuXHJcbiAgICovXHJcbiAgcmF0ZT86IGZoaXIuUmF0aW98Zmhpci5SYW5nZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgc3BlZWQgd2l0aCB3aGljaCB0aGUgbWVkaWNhdGlvbiB3YXMgb3Igd2lsbCBiZSBpbnRyb2R1Y2VkIGludG8gdGhlIHBhdGllbnQuIFR5cGljYWxseSB0aGUgcmF0ZSBmb3IgYW4gaW5mdXNpb24gZS5nLiAxMDAgbWwgcGVyIDEgaG91ciBvciAxMDAgbWwvaHIuICBNYXkgYWxzbyBiZSBleHByZXNzZWQgYXMgYSByYXRlIHBlciB1bml0IG9mIHRpbWUgZS5nLiA1MDAgbWwgcGVyIDIgaG91cnMuICAgQ3VycmVudGx5IHdlIGRvIG5vdCBzcGVjaWZ5IGEgZGVmYXVsdCBvZiAnMScgaW4gdGhlIGRlbm9taW5hdG9yLCBidXQgdGhpcyBpcyBiZWluZyBkaXNjdXNzZWQuIE90aGVyIGV4YW1wbGVzOiAyMDAgbWNnL21pbiBvciAyMDAgbWNnLzEgbWludXRlOyAxIGxpdGVyLzggaG91cnMuXHJcbiAgICovXHJcbiAgcmF0ZVJhdGlvPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIHNwZWVkIHdpdGggd2hpY2ggdGhlIG1lZGljYXRpb24gd2FzIG9yIHdpbGwgYmUgaW50cm9kdWNlZCBpbnRvIHRoZSBwYXRpZW50LiBUeXBpY2FsbHkgdGhlIHJhdGUgZm9yIGFuIGluZnVzaW9uIGUuZy4gMTAwIG1sIHBlciAxIGhvdXIgb3IgMTAwIG1sL2hyLiAgTWF5IGFsc28gYmUgZXhwcmVzc2VkIGFzIGEgcmF0ZSBwZXIgdW5pdCBvZiB0aW1lIGUuZy4gNTAwIG1sIHBlciAyIGhvdXJzLiAgIEN1cnJlbnRseSB3ZSBkbyBub3Qgc3BlY2lmeSBhIGRlZmF1bHQgb2YgJzEnIGluIHRoZSBkZW5vbWluYXRvciwgYnV0IHRoaXMgaXMgYmVpbmcgZGlzY3Vzc2VkLiBPdGhlciBleGFtcGxlczogMjAwIG1jZy9taW4gb3IgMjAwIG1jZy8xIG1pbnV0ZTsgMSBsaXRlci84IGhvdXJzLlxyXG4gICAqL1xyXG4gIHJhdGVSYW5nZT86IGZoaXIuUmFuZ2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSB0b3RhbCBxdWFudGl0eSBvZiBhIHRoZXJhcGV1dGljIHN1YnN0YW5jZSB0aGF0IG1heSBiZSBhZG1pbmlzdGVyZWQgdG8gYSBzdWJqZWN0IG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lLiAgRm9yIGV4YW1wbGUsIDEwMDBtZyBpbiAyNCBob3Vycy5cclxuICAgKi9cclxuICBtYXhEb3NlUGVyUGVyaW9kPzogZmhpci5SYXRpb0FyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5kaWNhdGVzIGhvdyB0aGUgbWVkaWNhdGlvbiBpcy93YXMgdXNlZCBieSB0aGUgcGF0aWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZWRpY2F0aW9uU3RhdGVtZW50RG9zYWdlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnTWVkaWNhdGlvblN0YXRlbWVudERvc2FnZSc7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IGRvc2FnZSBpbmZvcm1hdGlvbiBhcyByZXBvcnRlZCBhYm91dCBhIHBhdGllbnQncyBtZWRpY2F0aW9uIHVzZS4gV2hlbiBjb2RlZCBkb3NhZ2UgaW5mb3JtYXRpb24gaXMgcHJlc2VudCwgdGhlIGZyZWUgdGV4dCBtYXkgc3RpbGwgYmUgcHJlc2VudCBmb3IgZGlzcGxheSB0byBodW1hbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHRleHQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1pbmcgc2NoZWR1bGUgZm9yIGdpdmluZyB0aGUgbWVkaWNhdGlvbiB0byB0aGUgcGF0aWVudC4gIFRoZSBTY2hlZHVsZSBkYXRhIHR5cGUgYWxsb3dzIG1hbnkgZGlmZmVyZW50IGV4cHJlc3Npb25zLCBmb3IgZXhhbXBsZS4gIFwiRXZlcnkgIDggaG91cnNcIjsgXCJUaHJlZSB0aW1lcyBhIGRheVwiOyBcIjEvMiBhbiBob3VyIGJlZm9yZSBicmVha2Zhc3QgZm9yIDEwIGRheXMgZnJvbSAyMy1EZWMgMjAxMTpcIjsgIFwiMTUgT2N0IDIwMTMsIDE3IE9jdCAyMDEzIGFuZCAxIE5vdiAyMDEzXCIuXHJcbiAgICovXHJcbiAgcHVibGljIHRpbWluZz86IGZoaXIuVGltaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgTWVkaWNhdGlvbiBpcyBvbmx5IHRha2VuIHdoZW4gbmVlZGVkIHdpdGhpbiBhIHNwZWNpZmljIGRvc2luZyBzY2hlZHVsZSAoQm9vbGVhbiBvcHRpb24pLCBvciBpdCBpbmRpY2F0ZXMgdGhlIHByZWNvbmRpdGlvbiBmb3IgdGFraW5nIHRoZSBNZWRpY2F0aW9uIChDb2RlYWJsZUNvbmNlcHQpLiAgICBTcGVjaWZpY2FsbHkgaWYgJ2Jvb2xlYW4nIGRhdGF0eXBlIGlzIHNlbGVjdGVkLCB0aGVuIHRoZSBmb2xsb3dpbmcgbG9naWMgYXBwbGllczogIElmIHNldCB0byBUcnVlLCB0aGlzIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpY2F0aW9uIGlzIG9ubHkgdGFrZW4gd2hlbiBuZWVkZWQsIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhc05lZWRlZD86IChmaGlyLkZoaXJCb29sZWFufGZoaXIuQ29kZWFibGVDb25jZXB0KXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBNZWRpY2F0aW9uU3RhdGVtZW50LmRvc2FnZS5hc05lZWRlZFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19hc05lZWRlZElzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgc3BlY2lmaWNhdGlvbiBvZiBvciBhIHJlZmVyZW5jZSB0byB0aGUgYW5hdG9taWMgc2l0ZSB3aGVyZSB0aGUgbWVkaWNhdGlvbiBmaXJzdCBlbnRlcnMgdGhlIGJvZHkuXHJcbiAgICovXHJcbiAgcHVibGljIHNpdGU/OiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25TdGF0ZW1lbnQuZG9zYWdlLnNpdGVbeF1cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9mdHNfc2l0ZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBzcGVjaWZ5aW5nIHRoZSByb3V0ZSBvciBwaHlzaW9sb2dpY2FsIHBhdGggb2YgYWRtaW5pc3RyYXRpb24gb2YgYSB0aGVyYXBldXRpYyBhZ2VudCBpbnRvIG9yIG9udG8gYSBzdWJqZWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByb3V0ZT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGVkIHZhbHVlIGluZGljYXRpbmcgdGhlIG1ldGhvZCBieSB3aGljaCB0aGUgbWVkaWNhdGlvbiBpcyBpbnRlbmRlZCB0byBiZSBvciB3YXMgaW50cm9kdWNlZCBpbnRvIG9yIG9uIHRoZSBib2R5LiAgVGhpcyBhdHRyaWJ1dGUgd2lsbCBtb3N0IG9mdGVuIE5PVCBiZSBwb3B1bGF0ZWQuICBJdCBpcyBtb3N0IGNvbW1vbmx5IHVzZWQgZm9yIGluamVjdGlvbnMuICBGb3IgZXhhbXBsZSwgU2xvdyBQdXNoLCBEZWVwIElWLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiB0aGVyYXBldXRpYyBvciBvdGhlciBzdWJzdGFuY2UgZ2l2ZW4gYXQgb25lIGFkbWluaXN0cmF0aW9uIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWFudGl0eT86IChmaGlyLlF1YW50aXR5fGZoaXIuUmFuZ2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25TdGF0ZW1lbnQuZG9zYWdlLnF1YW50aXR5W3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3F1YW50aXR5SXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgc3BlZWQgd2l0aCB3aGljaCB0aGUgbWVkaWNhdGlvbiB3YXMgb3Igd2lsbCBiZSBpbnRyb2R1Y2VkIGludG8gdGhlIHBhdGllbnQuIFR5cGljYWxseSB0aGUgcmF0ZSBmb3IgYW4gaW5mdXNpb24gZS5nLiAxMDAgbWwgcGVyIDEgaG91ciBvciAxMDAgbWwvaHIuICBNYXkgYWxzbyBiZSBleHByZXNzZWQgYXMgYSByYXRlIHBlciB1bml0IG9mIHRpbWUgZS5nLiA1MDAgbWwgcGVyIDIgaG91cnMuICAgQ3VycmVudGx5IHdlIGRvIG5vdCBzcGVjaWZ5IGEgZGVmYXVsdCBvZiAnMScgaW4gdGhlIGRlbm9taW5hdG9yLCBidXQgdGhpcyBpcyBiZWluZyBkaXNjdXNzZWQuIE90aGVyIGV4YW1wbGVzOiAyMDAgbWNnL21pbiBvciAyMDAgbWNnLzEgbWludXRlOyAxIGxpdGVyLzggaG91cnMuXHJcbiAgICovXHJcbiAgcHVibGljIHJhdGU/OiAoZmhpci5SYXRpb3xmaGlyLlJhbmdlKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBNZWRpY2F0aW9uU3RhdGVtZW50LmRvc2FnZS5yYXRlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3JhdGVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSB0b3RhbCBxdWFudGl0eSBvZiBhIHRoZXJhcGV1dGljIHN1YnN0YW5jZSB0aGF0IG1heSBiZSBhZG1pbmlzdGVyZWQgdG8gYSBzdWJqZWN0IG92ZXIgdGhlIHBlcmlvZCBvZiB0aW1lLiAgRm9yIGV4YW1wbGUsIDEwMDBtZyBpbiAyNCBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgbWF4RG9zZVBlclBlcmlvZD86IGZoaXIuUmF0aW98dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25TdGF0ZW1lbnREb3NhZ2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxNZWRpY2F0aW9uU3RhdGVtZW50RG9zYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3RleHQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudGV4dCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudGV4dH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGV4dCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRleHQpIHsgdGhpcy50ZXh0LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3RleHQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50ZXh0ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3RleHQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3RpbWluZyddKSB7IHRoaXMudGltaW5nID0gbmV3IGZoaXIuVGltaW5nKHNvdXJjZS50aW1pbmcsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydhc05lZWRlZCddKSB7IHRoaXMuYXNOZWVkZWQgPSBzb3VyY2UuYXNOZWVkZWQ7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYXNOZWVkZWRCb29sZWFuJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmFzTmVlZGVkID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuYXNOZWVkZWRCb29sZWFufSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsnYXNOZWVkZWRDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLmFzTmVlZGVkID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5hc05lZWRlZENvZGVhYmxlQ29uY2VwdCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NpdGUnXSkgeyB0aGlzLnNpdGUgPSBzb3VyY2Uuc2l0ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydzaXRlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zaXRlQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydzaXRlUmVmZXJlbmNlJ10pIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zaXRlUmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm91dGUnXSkgeyB0aGlzLnJvdXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yb3V0ZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21ldGhvZCddKSB7IHRoaXMubWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZXRob2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBzb3VyY2UucXVhbnRpdHk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncXVhbnRpdHlRdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UucXVhbnRpdHlRdWFudGl0eSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncXVhbnRpdHlSYW5nZSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UucXVhbnRpdHlSYW5nZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JhdGUnXSkgeyB0aGlzLnJhdGUgPSBzb3VyY2UucmF0ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydyYXRlUmF0aW8nXSkgeyB0aGlzLnJhdGUgPSBuZXcgZmhpci5SYXRpbyhzb3VyY2UucmF0ZVJhdGlvLCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydyYXRlUmFuZ2UnXSkgeyB0aGlzLnJhdGUgPSBuZXcgZmhpci5SYW5nZShzb3VyY2UucmF0ZVJhbmdlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWF4RG9zZVBlclBlcmlvZCddKSB7IHRoaXMubWF4RG9zZVBlclBlcmlvZCA9IG5ldyBmaGlyLlJhdGlvKHNvdXJjZS5tYXhEb3NlUGVyUGVyaW9kLCBvcHRpb25zKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ01lZGljYXRpb25TdGF0ZW1lbnQuZG9zYWdlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndGV4dCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndGltaW5nJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhc05lZWRlZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc2l0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncm91dGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21ldGhvZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21heERvc2VQZXJQZXJpb2QnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25TdGF0ZW1lbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWNhdGlvblN0YXRlbWVudEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIk1lZGljYXRpb25TdGF0ZW1lbnRcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZXJuYWwgaWRlbnRpZmllciAtIEZISVIgd2lsbCBnZW5lcmF0ZSBpdHMgb3duIGludGVybmFsIGlkZW50aWZpZXJzIChwcm9iYWJseSBVUkxzKSB3aGljaCBkbyBub3QgbmVlZCB0byBiZSBleHBsaWNpdGx5IG1hbmFnZWQgYnkgdGhlIHJlc291cmNlLiAgVGhlIGlkZW50aWZpZXIgaGVyZSBpcyBvbmUgdGhhdCB3b3VsZCBiZSB1c2VkIGJ5IGFub3RoZXIgbm9uLUZISVIgc3lzdGVtIC0gZm9yIGV4YW1wbGUgYW4gYXV0b21hdGVkIG1lZGljYXRpb24gcHVtcCB3b3VsZCBwcm92aWRlIGEgcmVjb3JkIGVhY2ggdGltZSBpdCBvcGVyYXRlZDsgYW4gYWRtaW5pc3RyYXRpb24gd2hpbGUgdGhlIHBhdGllbnQgd2FzIG9mZiB0aGUgd2FyZCBtaWdodCBiZSBtYWRlIHdpdGggYSBkaWZmZXJlbnQgc3lzdGVtIGFuZCBlbnRlcmVkIGFmdGVyIHRoZSBldmVudC4gIFBhcnRpY3VsYXJseSBpbXBvcnRhbnQgaWYgdGhlc2UgcmVjb3JkcyBoYXZlIHRvIGJlIHVwZGF0ZWQuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiBvciBhbmltYWwgd2hvIGlzL3dhcyB0YWtpbmcgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcGF0aWVudDogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiB3aG8gcHJvdmlkZWQgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0YWtpbmcgb2YgdGhpcyBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGluZm9ybWF0aW9uU291cmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSB3aGVuIHRoZSBtZWRpY2F0aW9uIHN0YXRlbWVudCB3YXMgYXNzZXJ0ZWQgYnkgdGhlIGluZm9ybWF0aW9uIHNvdXJjZS5cclxuICAgKi9cclxuICBkYXRlQXNzZXJ0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2F0aW9uU3RhdGVtZW50LmRhdGVBc3NlcnRlZFxyXG4gICAqL1xyXG4gIF9kYXRlQXNzZXJ0ZWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSByZXByZXNlbnRpbmcgdGhlIHBhdGllbnQgb3Igb3RoZXIgc291cmNlJ3MganVkZ21lbnQgYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSBtZWRpY2F0aW9uIHVzZWQgdGhhdCB0aGlzIHN0YXRlbWVudCBpcyBhYm91dC4gIEdlbmVyYWxseSB0aGlzIHdpbGwgYmUgYWN0aXZlIG9yIGNvbXBsZXRlZC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8TWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2F0aW9uU3RhdGVtZW50LnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFNldCB0aGlzIHRvIHRydWUgaWYgdGhlIHJlY29yZCBpcyBzYXlpbmcgdGhhdCB0aGUgbWVkaWNhdGlvbiB3YXMgTk9UIHRha2VuLlxyXG4gICAqL1xyXG4gIHdhc05vdFRha2VuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNhdGlvblN0YXRlbWVudC53YXNOb3RUYWtlblxyXG4gICAqL1xyXG4gIF93YXNOb3RUYWtlbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIGluZGljYXRpbmcgd2h5IHRoZSBtZWRpY2F0aW9uIHdhcyBub3QgdGFrZW4uXHJcbiAgICovXHJcbiAgcmVhc29uTm90VGFrZW4/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWFzb24gZm9yIHdoeSB0aGUgbWVkaWNhdGlvbiBpcyBiZWluZy93YXMgdGFrZW4uXHJcbiAgICovXHJcbiAgcmVhc29uRm9yVXNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVhc29uIGZvciB3aHkgdGhlIG1lZGljYXRpb24gaXMgYmVpbmcvd2FzIHRha2VuLlxyXG4gICAqL1xyXG4gIHJlYXNvbkZvclVzZUNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSByZWFzb24gZm9yIHdoeSB0aGUgbWVkaWNhdGlvbiBpcyBiZWluZy93YXMgdGFrZW4uXHJcbiAgICovXHJcbiAgcmVhc29uRm9yVXNlUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaW50ZXJ2YWwgb2YgdGltZSBkdXJpbmcgd2hpY2ggaXQgaXMgYmVpbmcgYXNzZXJ0ZWQgdGhhdCB0aGUgcGF0aWVudCB3YXMgdGFraW5nIHRoZSBtZWRpY2F0aW9uIChvciB3YXMgbm90IHRha2luZywgd2hlbiB0aGUgd2FzTm90R2l2ZW4gZWxlbWVudCBpcyB0cnVlKS5cclxuICAgKi9cclxuICBlZmZlY3RpdmU/OiBmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGludGVydmFsIG9mIHRpbWUgZHVyaW5nIHdoaWNoIGl0IGlzIGJlaW5nIGFzc2VydGVkIHRoYXQgdGhlIHBhdGllbnQgd2FzIHRha2luZyB0aGUgbWVkaWNhdGlvbiAob3Igd2FzIG5vdCB0YWtpbmcsIHdoZW4gdGhlIHdhc05vdEdpdmVuIGVsZW1lbnQgaXMgdHJ1ZSkuXHJcbiAgICovXHJcbiAgZWZmZWN0aXZlRGF0ZVRpbWU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbnRlcnZhbCBvZiB0aW1lIGR1cmluZyB3aGljaCBpdCBpcyBiZWluZyBhc3NlcnRlZCB0aGF0IHRoZSBwYXRpZW50IHdhcyB0YWtpbmcgdGhlIG1lZGljYXRpb24gKG9yIHdhcyBub3QgdGFraW5nLCB3aGVuIHRoZSB3YXNOb3RHaXZlbiBlbGVtZW50IGlzIHRydWUpLlxyXG4gICAqL1xyXG4gIGVmZmVjdGl2ZVBlcmlvZD86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgZXh0cmEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1lZGljYXRpb24gc3RhdGVtZW50IHRoYXQgaXMgbm90IGNvbnZleWVkIGJ5IHRoZSBvdGhlciBhdHRyaWJ1dGVzLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNhdGlvblN0YXRlbWVudC5ub3RlXHJcbiAgICovXHJcbiAgX25vdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBsaW5raW5nIHRoZSBNZWRpY2F0aW9uU3RhdGVtZW50IHRvIHRoZSB1bmRlcmx5aW5nIE1lZGljYXRpb25PcmRlciwgb3IgdG8gb3RoZXIgaW5mb3JtYXRpb24gdGhhdCBzdXBwb3J0cyB0aGUgTWVkaWNhdGlvblN0YXRlbWVudC5cclxuICAgKi9cclxuICBzdXBwb3J0aW5nSW5mb3JtYXRpb24/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgbWVkaWNhdGlvbiBiZWluZyBhZG1pbmlzdGVyZWQuIFRoaXMgaXMgZWl0aGVyIGEgbGluayB0byBhIHJlc291cmNlIHJlcHJlc2VudGluZyB0aGUgZGV0YWlscyBvZiB0aGUgbWVkaWNhdGlvbiBvciBhIHNpbXBsZSBhdHRyaWJ1dGUgY2FycnlpbmcgYSBjb2RlIHRoYXQgaWRlbnRpZmllcyB0aGUgbWVkaWNhdGlvbiBmcm9tIGEga25vd24gbGlzdCBvZiBtZWRpY2F0aW9ucy5cclxuICAgKi9cclxuICBtZWRpY2F0aW9uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIG1lZGljYXRpb24gYmVpbmcgYWRtaW5pc3RlcmVkLiBUaGlzIGlzIGVpdGhlciBhIGxpbmsgdG8gYSByZXNvdXJjZSByZXByZXNlbnRpbmcgdGhlIGRldGFpbHMgb2YgdGhlIG1lZGljYXRpb24gb3IgYSBzaW1wbGUgYXR0cmlidXRlIGNhcnJ5aW5nIGEgY29kZSB0aGF0IGlkZW50aWZpZXMgdGhlIG1lZGljYXRpb24gZnJvbSBhIGtub3duIGxpc3Qgb2YgbWVkaWNhdGlvbnMuXHJcbiAgICovXHJcbiAgbWVkaWNhdGlvbkNvZGVhYmxlQ29uY2VwdD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgbWVkaWNhdGlvbiBiZWluZyBhZG1pbmlzdGVyZWQuIFRoaXMgaXMgZWl0aGVyIGEgbGluayB0byBhIHJlc291cmNlIHJlcHJlc2VudGluZyB0aGUgZGV0YWlscyBvZiB0aGUgbWVkaWNhdGlvbiBvciBhIHNpbXBsZSBhdHRyaWJ1dGUgY2FycnlpbmcgYSBjb2RlIHRoYXQgaWRlbnRpZmllcyB0aGUgbWVkaWNhdGlvbiBmcm9tIGEga25vd24gbGlzdCBvZiBtZWRpY2F0aW9ucy5cclxuICAgKi9cclxuICBtZWRpY2F0aW9uUmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgaG93IHRoZSBtZWRpY2F0aW9uIGlzL3dhcyB1c2VkIGJ5IHRoZSBwYXRpZW50LlxyXG4gICAqL1xyXG4gIGRvc2FnZT86IGZoaXIuTWVkaWNhdGlvblN0YXRlbWVudERvc2FnZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHJlY29yZCBvZiBhIG1lZGljYXRpb24gdGhhdCBpcyBiZWluZyBjb25zdW1lZCBieSBhIHBhdGllbnQuICAgQSBNZWRpY2F0aW9uU3RhdGVtZW50IG1heSBpbmRpY2F0ZSB0aGF0IHRoZSBwYXRpZW50IG1heSBiZSB0YWtpbmcgdGhlIG1lZGljYXRpb24gbm93LCBvciBoYXMgdGFrZW4gdGhlIG1lZGljYXRpb24gaW4gdGhlIHBhc3Qgb3Igd2lsbCBiZSB0YWtpbmcgdGhlIG1lZGljYXRpb24gaW4gdGhlIGZ1dHVyZS4gIFRoZSBzb3VyY2Ugb2YgdGhpcyBpbmZvcm1hdGlvbiBjYW4gYmUgdGhlIHBhdGllbnQsIHNpZ25pZmljYW50IG90aGVyIChzdWNoIGFzIGEgZmFtaWx5IG1lbWJlciBvciBzcG91c2UpLCBvciBhIGNsaW5pY2lhbi4gIEEgY29tbW9uIHNjZW5hcmlvIHdoZXJlIHRoaXMgaW5mb3JtYXRpb24gaXMgY2FwdHVyZWQgaXMgZHVyaW5nIHRoZSBoaXN0b3J5IHRha2luZyBwcm9jZXNzIGR1cmluZyBhIHBhdGllbnQgdmlzaXQgb3Igc3RheS4gICBUaGUgbWVkaWNhdGlvbiBpbmZvcm1hdGlvbiBtYXkgY29tZSBmcm9tIGUuZy4gdGhlIHBhdGllbnQncyBtZW1vcnksIGZyb20gYSBwcmVzY3JpcHRpb24gYm90dGxlLCAgb3IgZnJvbSBhIGxpc3Qgb2YgbWVkaWNhdGlvbnMgdGhlIHBhdGllbnQsIGNsaW5pY2lhbiBvciBvdGhlciBwYXJ0eSBtYWludGFpbnMgICBUaGUgcHJpbWFyeSBkaWZmZXJlbmNlIGJldHdlZW4gYSBtZWRpY2F0aW9uIHN0YXRlbWVudCBhbmQgYSBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uIGlzIHRoYXQgdGhlIG1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24gaGFzIGNvbXBsZXRlIGFkbWluaXN0cmF0aW9uIGluZm9ybWF0aW9uIGFuZCBpcyBiYXNlZCBvbiBhY3R1YWwgYWRtaW5pc3RyYXRpb24gaW5mb3JtYXRpb24gZnJvbSB0aGUgcGVyc29uIHdobyBhZG1pbmlzdGVyZWQgdGhlIG1lZGljYXRpb24uICBBIG1lZGljYXRpb24gc3RhdGVtZW50IGlzIG9mdGVuLCBpZiBub3QgYWx3YXlzLCBsZXNzIHNwZWNpZmljLiAgVGhlcmUgaXMgbm8gcmVxdWlyZWQgZGF0ZS90aW1lIHdoZW4gdGhlIG1lZGljYXRpb24gd2FzIGFkbWluaXN0ZXJlZCwgaW4gZmFjdCB3ZSBvbmx5IGtub3cgdGhhdCBhIHNvdXJjZSBoYXMgcmVwb3J0ZWQgdGhlIHBhdGllbnQgaXMgdGFraW5nIHRoaXMgbWVkaWNhdGlvbiwgd2hlcmUgZGV0YWlscyBzdWNoIGFzIHRpbWUsIHF1YW50aXR5LCBvciByYXRlIG9yIGV2ZW4gbWVkaWNhdGlvbiBwcm9kdWN0IG1heSBiZSBpbmNvbXBsZXRlIG9yIG1pc3Npbmcgb3IgbGVzcyBwcmVjaXNlLiAgQXMgc3RhdGVkIGVhcmxpZXIsIHRoZSBtZWRpY2F0aW9uIHN0YXRlbWVudCBpbmZvcm1hdGlvbiBtYXkgY29tZSBmcm9tIHRoZSBwYXRpZW50J3MgbWVtb3J5LCBmcm9tIGEgcHJlc2NyaXB0aW9uIGJvdHRsZSBvciBmcm9tIGEgbGlzdCBvZiBtZWRpY2F0aW9ucyB0aGUgcGF0aWVudCwgY2xpbmljaWFuIG9yIG90aGVyIHBhcnR5IG1haW50YWlucy4gIE1lZGljYXRpb24gYWRtaW5pc3RyYXRpb24gaXMgbW9yZSBmb3JtYWwgYW5kIGlzIG5vdCBtaXNzaW5nIGRldGFpbGVkIGluZm9ybWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25TdGF0ZW1lbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25TdGF0ZW1lbnQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiTWVkaWNhdGlvblN0YXRlbWVudFwiO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVybmFsIGlkZW50aWZpZXIgLSBGSElSIHdpbGwgZ2VuZXJhdGUgaXRzIG93biBpbnRlcm5hbCBpZGVudGlmaWVycyAocHJvYmFibHkgVVJMcykgd2hpY2ggZG8gbm90IG5lZWQgdG8gYmUgZXhwbGljaXRseSBtYW5hZ2VkIGJ5IHRoZSByZXNvdXJjZS4gIFRoZSBpZGVudGlmaWVyIGhlcmUgaXMgb25lIHRoYXQgd291bGQgYmUgdXNlZCBieSBhbm90aGVyIG5vbi1GSElSIHN5c3RlbSAtIGZvciBleGFtcGxlIGFuIGF1dG9tYXRlZCBtZWRpY2F0aW9uIHB1bXAgd291bGQgcHJvdmlkZSBhIHJlY29yZCBlYWNoIHRpbWUgaXQgb3BlcmF0ZWQ7IGFuIGFkbWluaXN0cmF0aW9uIHdoaWxlIHRoZSBwYXRpZW50IHdhcyBvZmYgdGhlIHdhcmQgbWlnaHQgYmUgbWFkZSB3aXRoIGEgZGlmZmVyZW50IHN5c3RlbSBhbmQgZW50ZXJlZCBhZnRlciB0aGUgZXZlbnQuICBQYXJ0aWN1bGFybHkgaW1wb3J0YW50IGlmIHRoZXNlIHJlY29yZHMgaGF2ZSB0byBiZSB1cGRhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgcGVyc29uIG9yIGFuaW1hbCB3aG8gaXMvd2FzIHRha2luZyB0aGUgbWVkaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0aWVudDogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyc29uIHdobyBwcm92aWRlZCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRha2luZyBvZiB0aGlzIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGluZm9ybWF0aW9uU291cmNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlIHdoZW4gdGhlIG1lZGljYXRpb24gc3RhdGVtZW50IHdhcyBhc3NlcnRlZCBieSB0aGUgaW5mb3JtYXRpb24gc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRlQXNzZXJ0ZWQ/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHJlcHJlc2VudGluZyB0aGUgcGF0aWVudCBvciBvdGhlciBzb3VyY2UncyBqdWRnbWVudCBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIG1lZGljYXRpb24gdXNlZCB0aGF0IHRoaXMgc3RhdGVtZW50IGlzIGFib3V0LiAgR2VuZXJhbGx5IHRoaXMgd2lsbCBiZSBhY3RpdmUgb3IgY29tcGxldGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8TWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c0NvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNldCB0aGlzIHRvIHRydWUgaWYgdGhlIHJlY29yZCBpcyBzYXlpbmcgdGhhdCB0aGUgbWVkaWNhdGlvbiB3YXMgTk9UIHRha2VuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3YXNOb3RUYWtlbj86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBpbmRpY2F0aW5nIHdoeSB0aGUgbWVkaWNhdGlvbiB3YXMgbm90IHRha2VuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFzb25Ob3RUYWtlbjogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBBIHJlYXNvbiBmb3Igd2h5IHRoZSBtZWRpY2F0aW9uIGlzIGJlaW5nL3dhcyB0YWtlbi5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uRm9yVXNlPzogKGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUmVmZXJlbmNlKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBNZWRpY2F0aW9uU3RhdGVtZW50LnJlYXNvbkZvclVzZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19yZWFzb25Gb3JVc2VJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBUaGUgaW50ZXJ2YWwgb2YgdGltZSBkdXJpbmcgd2hpY2ggaXQgaXMgYmVpbmcgYXNzZXJ0ZWQgdGhhdCB0aGUgcGF0aWVudCB3YXMgdGFraW5nIHRoZSBtZWRpY2F0aW9uIChvciB3YXMgbm90IHRha2luZywgd2hlbiB0aGUgd2FzTm90R2l2ZW4gZWxlbWVudCBpcyB0cnVlKS5cclxuICAgKi9cclxuICBwdWJsaWMgZWZmZWN0aXZlPzogKGZoaXIuRmhpckRhdGVUaW1lfGZoaXIuUGVyaW9kKXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBNZWRpY2F0aW9uU3RhdGVtZW50LmVmZmVjdGl2ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19lZmZlY3RpdmVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBQcm92aWRlcyBleHRyYSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbWVkaWNhdGlvbiBzdGF0ZW1lbnQgdGhhdCBpcyBub3QgY29udmV5ZWQgYnkgdGhlIG90aGVyIGF0dHJpYnV0ZXMuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBsaW5raW5nIHRoZSBNZWRpY2F0aW9uU3RhdGVtZW50IHRvIHRoZSB1bmRlcmx5aW5nIE1lZGljYXRpb25PcmRlciwgb3IgdG8gb3RoZXIgaW5mb3JtYXRpb24gdGhhdCBzdXBwb3J0cyB0aGUgTWVkaWNhdGlvblN0YXRlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc3VwcG9ydGluZ0luZm9ybWF0aW9uOiBmaGlyLlJlZmVyZW5jZVtdO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIG1lZGljYXRpb24gYmVpbmcgYWRtaW5pc3RlcmVkLiBUaGlzIGlzIGVpdGhlciBhIGxpbmsgdG8gYSByZXNvdXJjZSByZXByZXNlbnRpbmcgdGhlIGRldGFpbHMgb2YgdGhlIG1lZGljYXRpb24gb3IgYSBzaW1wbGUgYXR0cmlidXRlIGNhcnJ5aW5nIGEgY29kZSB0aGF0IGlkZW50aWZpZXMgdGhlIG1lZGljYXRpb24gZnJvbSBhIGtub3duIGxpc3Qgb2YgbWVkaWNhdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIG1lZGljYXRpb246IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25TdGF0ZW1lbnQubWVkaWNhdGlvblt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19tZWRpY2F0aW9uSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIGhvdyB0aGUgbWVkaWNhdGlvbiBpcy93YXMgdXNlZCBieSB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgZG9zYWdlOiBmaGlyLk1lZGljYXRpb25TdGF0ZW1lbnREb3NhZ2VbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBNZWRpY2F0aW9uU3RhdGVtZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvblN0YXRlbWVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdNZWRpY2F0aW9uU3RhdGVtZW50JztcclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBzb3VyY2UuaWRlbnRpZmllci5tYXAoKHgpID0+IG5ldyBmaGlyLklkZW50aWZpZXIoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnQnXSkgeyB0aGlzLnBhdGllbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhdGllbnQsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXRpZW50ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW5mb3JtYXRpb25Tb3VyY2UnXSkgeyB0aGlzLmluZm9ybWF0aW9uU291cmNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5pbmZvcm1hdGlvblNvdXJjZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGVBc3NlcnRlZCddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kYXRlQXNzZXJ0ZWQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZUFzc2VydGVkfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlQXNzZXJ0ZWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlQXNzZXJ0ZWQpIHsgdGhpcy5kYXRlQXNzZXJ0ZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZUFzc2VydGVkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZUFzc2VydGVkID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZGF0ZUFzc2VydGVkIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3N0YXR1cyddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxNZWRpY2F0aW9uU3RhdGVtZW50U3RhdHVzQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLnN0YXR1c30sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfc3RhdHVzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7IHRoaXMuc3RhdHVzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3N0YXR1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPE1lZGljYXRpb25TdGF0ZW1lbnRTdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3dhc05vdFRha2VuJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLndhc05vdFRha2VuID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2Uud2FzTm90VGFrZW59LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3dhc05vdFRha2VuJ10pIHtcclxuICAgICAgaWYgKHRoaXMud2FzTm90VGFrZW4pIHsgdGhpcy53YXNOb3RUYWtlbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl93YXNOb3RUYWtlbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLndhc05vdFRha2VuID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl93YXNOb3RUYWtlbiBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbk5vdFRha2VuJ10pIHsgdGhpcy5yZWFzb25Ob3RUYWtlbiA9IHNvdXJjZS5yZWFzb25Ob3RUYWtlbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlYXNvbk5vdFRha2VuID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYXNvbkZvclVzZSddKSB7IHRoaXMucmVhc29uRm9yVXNlID0gc291cmNlLnJlYXNvbkZvclVzZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydyZWFzb25Gb3JVc2VDb2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLnJlYXNvbkZvclVzZSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UucmVhc29uRm9yVXNlQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydyZWFzb25Gb3JVc2VSZWZlcmVuY2UnXSkgeyB0aGlzLnJlYXNvbkZvclVzZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVhc29uRm9yVXNlUmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZWZmZWN0aXZlJ10pIHsgdGhpcy5lZmZlY3RpdmUgPSBzb3VyY2UuZWZmZWN0aXZlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZURhdGVUaW1lJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmVmZmVjdGl2ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5lZmZlY3RpdmVEYXRlVGltZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZVBlcmlvZCddKSB7IHRoaXMuZWZmZWN0aXZlID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5lZmZlY3RpdmVQZXJpb2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydub3RlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm5vdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5vdGV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25vdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5ub3RlKSB7IHRoaXMubm90ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9ub3RlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubm90ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9ub3RlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdXBwb3J0aW5nSW5mb3JtYXRpb24nXSkgeyB0aGlzLnN1cHBvcnRpbmdJbmZvcm1hdGlvbiA9IHNvdXJjZS5zdXBwb3J0aW5nSW5mb3JtYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdXBwb3J0aW5nSW5mb3JtYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWVkaWNhdGlvbiddKSB7IHRoaXMubWVkaWNhdGlvbiA9IHNvdXJjZS5tZWRpY2F0aW9uOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ21lZGljYXRpb25Db2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLm1lZGljYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLm1lZGljYXRpb25Db2RlYWJsZUNvbmNlcHQsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ21lZGljYXRpb25SZWZlcmVuY2UnXSkgeyB0aGlzLm1lZGljYXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm1lZGljYXRpb25SZWZlcmVuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tZWRpY2F0aW9uID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9zYWdlJ10pIHsgdGhpcy5kb3NhZ2UgPSBzb3VyY2UuZG9zYWdlLm1hcCgoeCkgPT4gbmV3IGZoaXIuTWVkaWNhdGlvblN0YXRlbWVudERvc2FnZSh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvc2FnZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvblN0YXRlbWVudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3BhdGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2luZm9ybWF0aW9uU291cmNlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkYXRlQXNzZXJ0ZWQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnTWVkaWNhdGlvblN0YXRlbWVudFN0YXR1cycsTWVkaWNhdGlvblN0YXRlbWVudFN0YXR1c1ZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd3YXNOb3RUYWtlbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVhc29uTm90VGFrZW4nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlYXNvbkZvclVzZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnZWZmZWN0aXZlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdub3RlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzdXBwb3J0aW5nSW5mb3JtYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ21lZGljYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2Rvc2FnZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=