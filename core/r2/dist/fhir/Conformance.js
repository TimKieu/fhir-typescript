// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: Conformance
import * as fhir from '../fhir.js';
// @ts-ignore
import { TypeRestfulInteractionVsValidation } from '../fhirValueSets/TypeRestfulInteractionVsValidation.js';
// @ts-ignore
import { SearchParamTypeVsValidation } from '../fhirValueSets/SearchParamTypeVsValidation.js';
// @ts-ignore
import { ResourceTypesVsValidation } from '../fhirValueSets/ResourceTypesVsValidation.js';
// @ts-ignore
import { SearchModifierVsValidation } from '../fhirValueSets/SearchModifierVsValidation.js';
// @ts-ignore
import { VersioningPolicyVsValidation } from '../fhirValueSets/VersioningPolicyVsValidation.js';
// @ts-ignore
import { ConditionalDeleteStatusVsValidation } from '../fhirValueSets/ConditionalDeleteStatusVsValidation.js';
// @ts-ignore
import { SystemRestfulInteractionVsValidation } from '../fhirValueSets/SystemRestfulInteractionVsValidation.js';
// @ts-ignore
import { RestfulConformanceModeVsValidation } from '../fhirValueSets/RestfulConformanceModeVsValidation.js';
// @ts-ignore
import { TransactionModeVsValidation } from '../fhirValueSets/TransactionModeVsValidation.js';
// @ts-ignore
import { MessageSignificanceCategoryVsValidation } from '../fhirValueSets/MessageSignificanceCategoryVsValidation.js';
// @ts-ignore
import { MessageConformanceEventModeVsValidation } from '../fhirValueSets/MessageConformanceEventModeVsValidation.js';
// @ts-ignore
import { DocumentModeVsValidation } from '../fhirValueSets/DocumentModeVsValidation.js';
// @ts-ignore
import { ConformanceResourceStatusVsValidation } from '../fhirValueSets/ConformanceResourceStatusVsValidation.js';
// @ts-ignore
import { ConformanceStatementKindVsValidation } from '../fhirValueSets/ConformanceStatementKindVsValidation.js';
// @ts-ignore
import { UnknownContentVsValidation } from '../fhirValueSets/UnknownContentVsValidation.js';
/**
 * Contacts to assist a user in finding and communicating with the publisher.
 */
export class ConformanceContact extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceContact - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.contact';
        }
        this.vOS('name', exp);
        this.vOA('telecom', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceContact._fts_dataType = 'ConformanceContact';
/**
 * Software that is covered by this conformance statement.  It is used when the conformance statement describes the capabilities of a particular software version, independent of an installation.
 */
export class ConformanceSoftware extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceSoftware - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version);
            }
        }
        if (source['releaseDate']) {
            this.releaseDate = new fhir.FhirDateTime({ value: source.releaseDate });
        }
        if (source['_releaseDate']) {
            if (this.releaseDate) {
                this.releaseDate.addExtendedProperties(source._releaseDate);
            }
            else {
                this.releaseDate = new fhir.FhirDateTime(source._releaseDate);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.software';
        }
        this.vRS('name', exp);
        this.vOS('version', exp);
        this.vOS('releaseDate', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceSoftware._fts_dataType = 'ConformanceSoftware';
/**
 * Identifies a specific implementation instance that is described by the conformance statement - i.e. a particular installation, rather than the capabilities of a software program.
 */
export class ConformanceImplementation extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceImplementation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        else {
            this.description = null;
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.implementation';
        }
        this.vRS('description', exp);
        this.vOS('url', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceImplementation._fts_dataType = 'ConformanceImplementation';
/**
 * Certificates associated with security profiles.
 */
export class ConformanceRestSecurityCertificate extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceRestSecurityCertificate - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['blob']) {
            this.blob = new fhir.FhirBase64Binary({ value: source.blob });
        }
        if (source['_blob']) {
            if (this.blob) {
                this.blob.addExtendedProperties(source._blob);
            }
            else {
                this.blob = new fhir.FhirBase64Binary(source._blob);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.rest.security.certificate';
        }
        this.vOS('type', exp);
        this.vOS('blob', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceRestSecurityCertificate._fts_dataType = 'ConformanceRestSecurityCertificate';
/**
 * Information about security implementation from an interface perspective - what a client needs to know.
 */
export class ConformanceRestSecurity extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceRestSecurity - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['cors']) {
            this.cors = new fhir.FhirBoolean({ value: source.cors });
        }
        if (source['_cors']) {
            if (this.cors) {
                this.cors.addExtendedProperties(source._cors);
            }
            else {
                this.cors = new fhir.FhirBoolean(source._cors);
            }
        }
        if (source['service']) {
            this.service = source.service.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.service = [];
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['certificate']) {
            this.certificate = source.certificate.map((x) => new fhir.ConformanceRestSecurityCertificate(x));
        }
        else {
            this.certificate = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.rest.security';
        }
        this.vOS('cors', exp);
        this.vOA('service', exp);
        this.vOS('description', exp);
        this.vOA('certificate', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceRestSecurity._fts_dataType = 'ConformanceRestSecurity';
/**
 * Identifies a restful operation supported by the solution.
 */
export class ConformanceRestResourceInteraction extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceRestResourceInteraction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        else {
            this.code = null;
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code);
            }
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirString({ value: source.documentation });
        }
        if (source['_documentation']) {
            if (this.documentation) {
                this.documentation.addExtendedProperties(source._documentation);
            }
            else {
                this.documentation = new fhir.FhirString(source._documentation);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.rest.resource.interaction';
        }
        this.vRSV('code', exp, 'TypeRestfulInteraction', TypeRestfulInteractionVsValidation, 'r');
        this.vOS('documentation', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceRestResourceInteraction._fts_dataType = 'ConformanceRestResourceInteraction';
/**
 * Search parameters for implementations to support and/or make use of - either references to ones defined in the specification, or additional ones defined for/by the implementation.
 */
export class ConformanceRestResourceSearchParam extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceRestResourceSearchParam - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['definition']) {
            this.definition = new fhir.FhirUri({ value: source.definition });
        }
        if (source['_definition']) {
            if (this.definition) {
                this.definition.addExtendedProperties(source._definition);
            }
            else {
                this.definition = new fhir.FhirUri(source._definition);
            }
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirString({ value: source.documentation });
        }
        if (source['_documentation']) {
            if (this.documentation) {
                this.documentation.addExtendedProperties(source._documentation);
            }
            else {
                this.documentation = new fhir.FhirString(source._documentation);
            }
        }
        if (source['target']) {
            this.target = source.target.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.target = [];
        }
        if (source['_target']) {
            source._target.forEach((x, i) => {
                if (this.target.length >= i) {
                    if (x) {
                        this.target[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.target.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['modifier']) {
            this.modifier = source.modifier.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.modifier = [];
        }
        if (source['_modifier']) {
            source._modifier.forEach((x, i) => {
                if (this.modifier.length >= i) {
                    if (x) {
                        this.modifier[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.modifier.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['chain']) {
            this.chain = source.chain.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.chain = [];
        }
        if (source['_chain']) {
            source._chain.forEach((x, i) => {
                if (this.chain.length >= i) {
                    if (x) {
                        this.chain[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.chain.push(new fhir.FhirString(x));
                    }
                }
            });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.rest.resource.searchParam';
        }
        this.vRS('name', exp);
        this.vOS('definition', exp);
        this.vRSV('type', exp, 'SearchParamType', SearchParamTypeVsValidation, 'r');
        this.vOS('documentation', exp);
        this.vOAV('target', exp, 'ResourceTypes', ResourceTypesVsValidation, 'r');
        this.vOAV('modifier', exp, 'SearchModifier', SearchModifierVsValidation, 'r');
        this.vOA('chain', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceRestResourceSearchParam._fts_dataType = 'ConformanceRestResourceSearchParam';
/**
 * A specification of the restful capabilities of the solution for a specific resource type.
 */
export class ConformanceRestResource extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceRestResource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
        if (source['profile']) {
            this.profile = new fhir.Reference(source.profile);
        }
        if (source['interaction']) {
            this.interaction = source.interaction.map((x) => new fhir.ConformanceRestResourceInteraction(x));
        }
        else {
            this.interaction = [];
        }
        if (source['versioning']) {
            this.versioning = new fhir.FhirCode({ value: source.versioning });
        }
        if (source['_versioning']) {
            if (this.versioning) {
                this.versioning.addExtendedProperties(source._versioning);
            }
            else {
                this.versioning = new fhir.FhirCode(source._versioning);
            }
        }
        if (source['readHistory']) {
            this.readHistory = new fhir.FhirBoolean({ value: source.readHistory });
        }
        if (source['_readHistory']) {
            if (this.readHistory) {
                this.readHistory.addExtendedProperties(source._readHistory);
            }
            else {
                this.readHistory = new fhir.FhirBoolean(source._readHistory);
            }
        }
        if (source['updateCreate']) {
            this.updateCreate = new fhir.FhirBoolean({ value: source.updateCreate });
        }
        if (source['_updateCreate']) {
            if (this.updateCreate) {
                this.updateCreate.addExtendedProperties(source._updateCreate);
            }
            else {
                this.updateCreate = new fhir.FhirBoolean(source._updateCreate);
            }
        }
        if (source['conditionalCreate']) {
            this.conditionalCreate = new fhir.FhirBoolean({ value: source.conditionalCreate });
        }
        if (source['_conditionalCreate']) {
            if (this.conditionalCreate) {
                this.conditionalCreate.addExtendedProperties(source._conditionalCreate);
            }
            else {
                this.conditionalCreate = new fhir.FhirBoolean(source._conditionalCreate);
            }
        }
        if (source['conditionalUpdate']) {
            this.conditionalUpdate = new fhir.FhirBoolean({ value: source.conditionalUpdate });
        }
        if (source['_conditionalUpdate']) {
            if (this.conditionalUpdate) {
                this.conditionalUpdate.addExtendedProperties(source._conditionalUpdate);
            }
            else {
                this.conditionalUpdate = new fhir.FhirBoolean(source._conditionalUpdate);
            }
        }
        if (source['conditionalDelete']) {
            this.conditionalDelete = new fhir.FhirCode({ value: source.conditionalDelete });
        }
        if (source['_conditionalDelete']) {
            if (this.conditionalDelete) {
                this.conditionalDelete.addExtendedProperties(source._conditionalDelete);
            }
            else {
                this.conditionalDelete = new fhir.FhirCode(source._conditionalDelete);
            }
        }
        if (source['searchInclude']) {
            this.searchInclude = source.searchInclude.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.searchInclude = [];
        }
        if (source['_searchInclude']) {
            source._searchInclude.forEach((x, i) => {
                if (this.searchInclude.length >= i) {
                    if (x) {
                        this.searchInclude[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.searchInclude.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['searchRevInclude']) {
            this.searchRevInclude = source.searchRevInclude.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.searchRevInclude = [];
        }
        if (source['_searchRevInclude']) {
            source._searchRevInclude.forEach((x, i) => {
                if (this.searchRevInclude.length >= i) {
                    if (x) {
                        this.searchRevInclude[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.searchRevInclude.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['searchParam']) {
            this.searchParam = source.searchParam.map((x) => new fhir.ConformanceRestResourceSearchParam(x));
        }
        else {
            this.searchParam = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.rest.resource';
        }
        this.vRSV('type', exp, 'ResourceTypes', ResourceTypesVsValidation, 'r');
        this.vOS('profile', exp);
        this.vRA('interaction', exp);
        this.vOSV('versioning', exp, 'VersioningPolicy', VersioningPolicyVsValidation, 'r');
        this.vOS('readHistory', exp);
        this.vOS('updateCreate', exp);
        this.vOS('conditionalCreate', exp);
        this.vOS('conditionalUpdate', exp);
        this.vOSV('conditionalDelete', exp, 'ConditionalDeleteStatus', ConditionalDeleteStatusVsValidation, 'r');
        this.vOA('searchInclude', exp);
        this.vOA('searchRevInclude', exp);
        this.vOA('searchParam', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceRestResource._fts_dataType = 'ConformanceRestResource';
/**
 * A specification of restful operations supported by the system.
 */
export class ConformanceRestInteraction extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceRestInteraction - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        else {
            this.code = null;
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code);
            }
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirString({ value: source.documentation });
        }
        if (source['_documentation']) {
            if (this.documentation) {
                this.documentation.addExtendedProperties(source._documentation);
            }
            else {
                this.documentation = new fhir.FhirString(source._documentation);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.rest.interaction';
        }
        this.vRSV('code', exp, 'SystemRestfulInteraction', SystemRestfulInteractionVsValidation, 'r');
        this.vOS('documentation', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceRestInteraction._fts_dataType = 'ConformanceRestInteraction';
/**
 * Definition of an operation or a named query and with its parameters and their meaning and type.
 */
export class ConformanceRestOperation extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceRestOperation - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        else {
            this.name = null;
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['definition']) {
            this.definition = new fhir.Reference(source.definition);
        }
        else {
            this.definition = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.rest.operation';
        }
        this.vRS('name', exp);
        this.vRS('definition', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceRestOperation._fts_dataType = 'ConformanceRestOperation';
/**
 * A definition of the restful capabilities of the solution, if any.
 */
export class ConformanceRest extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceRest - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['mode']) {
            this.mode = new fhir.FhirCode({ value: source.mode });
        }
        else {
            this.mode = null;
        }
        if (source['_mode']) {
            if (this.mode) {
                this.mode.addExtendedProperties(source._mode);
            }
            else {
                this.mode = new fhir.FhirCode(source._mode);
            }
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirString({ value: source.documentation });
        }
        if (source['_documentation']) {
            if (this.documentation) {
                this.documentation.addExtendedProperties(source._documentation);
            }
            else {
                this.documentation = new fhir.FhirString(source._documentation);
            }
        }
        if (source['security']) {
            this.security = new fhir.ConformanceRestSecurity(source.security);
        }
        if (source['resource']) {
            this.resource = source.resource.map((x) => new fhir.ConformanceRestResource(x));
        }
        else {
            this.resource = [];
        }
        if (source['interaction']) {
            this.interaction = source.interaction.map((x) => new fhir.ConformanceRestInteraction(x));
        }
        else {
            this.interaction = [];
        }
        if (source['transactionMode']) {
            this.transactionMode = new fhir.FhirCode({ value: source.transactionMode });
        }
        if (source['_transactionMode']) {
            if (this.transactionMode) {
                this.transactionMode.addExtendedProperties(source._transactionMode);
            }
            else {
                this.transactionMode = new fhir.FhirCode(source._transactionMode);
            }
        }
        if (source['searchParam']) {
            this.searchParam = source.searchParam.map((x) => new fhir.ConformanceRestResourceSearchParam(x));
        }
        else {
            this.searchParam = [];
        }
        if (source['operation']) {
            this.operation = source.operation.map((x) => new fhir.ConformanceRestOperation(x));
        }
        else {
            this.operation = [];
        }
        if (source['compartment']) {
            this.compartment = source.compartment.map((x) => new fhir.FhirUri({ value: x }));
        }
        else {
            this.compartment = [];
        }
        if (source['_compartment']) {
            source._compartment.forEach((x, i) => {
                if (this.compartment.length >= i) {
                    if (x) {
                        this.compartment[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.compartment.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.rest';
        }
        this.vRSV('mode', exp, 'RestfulConformanceMode', RestfulConformanceModeVsValidation, 'r');
        this.vOS('documentation', exp);
        this.vOS('security', exp);
        this.vRA('resource', exp);
        this.vOA('interaction', exp);
        this.vOSV('transactionMode', exp, 'TransactionMode', TransactionModeVsValidation, 'r');
        this.vOA('searchParam', exp);
        this.vOA('operation', exp);
        this.vOA('compartment', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceRest._fts_dataType = 'ConformanceRest';
/**
 * An endpoint (network accessible address) to which messages and/or replies are to be sent.
 */
export class ConformanceMessagingEndpoint extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceMessagingEndpoint - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['protocol']) {
            this.protocol = new fhir.Coding(source.protocol);
        }
        else {
            this.protocol = null;
        }
        if (source['address']) {
            this.address = new fhir.FhirUri({ value: source.address });
        }
        else {
            this.address = null;
        }
        if (source['_address']) {
            if (this.address) {
                this.address.addExtendedProperties(source._address);
            }
            else {
                this.address = new fhir.FhirUri(source._address);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.messaging.endpoint';
        }
        this.vRS('protocol', exp);
        this.vRS('address', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceMessagingEndpoint._fts_dataType = 'ConformanceMessagingEndpoint';
/**
 * A description of the solution's support for an event at this end-point.
 */
export class ConformanceMessagingEvent extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceMessagingEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['code']) {
            this.code = new fhir.Coding(source.code);
        }
        else {
            this.code = null;
        }
        if (source['category']) {
            this.category = new fhir.FhirCode({ value: source.category });
        }
        if (source['_category']) {
            if (this.category) {
                this.category.addExtendedProperties(source._category);
            }
            else {
                this.category = new fhir.FhirCode(source._category);
            }
        }
        if (source['mode']) {
            this.mode = new fhir.FhirCode({ value: source.mode });
        }
        else {
            this.mode = null;
        }
        if (source['_mode']) {
            if (this.mode) {
                this.mode.addExtendedProperties(source._mode);
            }
            else {
                this.mode = new fhir.FhirCode(source._mode);
            }
        }
        if (source['focus']) {
            this.focus = new fhir.FhirCode({ value: source.focus });
        }
        else {
            this.focus = null;
        }
        if (source['_focus']) {
            if (this.focus) {
                this.focus.addExtendedProperties(source._focus);
            }
            else {
                this.focus = new fhir.FhirCode(source._focus);
            }
        }
        if (source['request']) {
            this.request = new fhir.Reference(source.request);
        }
        else {
            this.request = null;
        }
        if (source['response']) {
            this.response = new fhir.Reference(source.response);
        }
        else {
            this.response = null;
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirString({ value: source.documentation });
        }
        if (source['_documentation']) {
            if (this.documentation) {
                this.documentation.addExtendedProperties(source._documentation);
            }
            else {
                this.documentation = new fhir.FhirString(source._documentation);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.messaging.event';
        }
        this.vRS('code', exp);
        this.vOSV('category', exp, 'MessageSignificanceCategory', MessageSignificanceCategoryVsValidation, 'r');
        this.vRSV('mode', exp, 'MessageConformanceEventMode', MessageConformanceEventModeVsValidation, 'r');
        this.vRSV('focus', exp, 'ResourceTypes', ResourceTypesVsValidation, 'r');
        this.vRS('request', exp);
        this.vRS('response', exp);
        this.vOS('documentation', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceMessagingEvent._fts_dataType = 'ConformanceMessagingEvent';
/**
 * A description of the messaging capabilities of the solution.
 */
export class ConformanceMessaging extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceMessaging - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['endpoint']) {
            this.endpoint = source.endpoint.map((x) => new fhir.ConformanceMessagingEndpoint(x));
        }
        else {
            this.endpoint = [];
        }
        if (source['reliableCache']) {
            this.reliableCache = new fhir.FhirUnsignedInt({ value: source.reliableCache });
        }
        if (source['_reliableCache']) {
            if (this.reliableCache) {
                this.reliableCache.addExtendedProperties(source._reliableCache);
            }
            else {
                this.reliableCache = new fhir.FhirUnsignedInt(source._reliableCache);
            }
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirString({ value: source.documentation });
        }
        if (source['_documentation']) {
            if (this.documentation) {
                this.documentation.addExtendedProperties(source._documentation);
            }
            else {
                this.documentation = new fhir.FhirString(source._documentation);
            }
        }
        if (source['event']) {
            this.event = source.event.map((x) => new fhir.ConformanceMessagingEvent(x));
        }
        else {
            this.event = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.messaging';
        }
        this.vOA('endpoint', exp);
        this.vOS('reliableCache', exp);
        this.vOS('documentation', exp);
        this.vRA('event', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceMessaging._fts_dataType = 'ConformanceMessaging';
/**
 * A document definition.
 */
export class ConformanceDocument extends fhir.BackboneElement {
    /**
     * Default constructor for ConformanceDocument - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['mode']) {
            this.mode = new fhir.FhirCode({ value: source.mode });
        }
        else {
            this.mode = null;
        }
        if (source['_mode']) {
            if (this.mode) {
                this.mode.addExtendedProperties(source._mode);
            }
            else {
                this.mode = new fhir.FhirCode(source._mode);
            }
        }
        if (source['documentation']) {
            this.documentation = new fhir.FhirString({ value: source.documentation });
        }
        if (source['_documentation']) {
            if (this.documentation) {
                this.documentation.addExtendedProperties(source._documentation);
            }
            else {
                this.documentation = new fhir.FhirString(source._documentation);
            }
        }
        if (source['profile']) {
            this.profile = new fhir.Reference(source.profile);
        }
        else {
            this.profile = null;
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance.document';
        }
        this.vRSV('mode', exp, 'DocumentMode', DocumentModeVsValidation, 'r');
        this.vOS('documentation', exp);
        this.vRS('profile', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConformanceDocument._fts_dataType = 'ConformanceDocument';
/**
 * A conformance statement is a set of capabilities of a FHIR Server that may be used as a statement of actual server functionality or a statement of required or desired server implementation.
 */
export class Conformance extends fhir.DomainResource {
    /**
     * Default constructor for Conformance - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'Conformance';
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url);
            }
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['experimental']) {
            this.experimental = new fhir.FhirBoolean({ value: source.experimental });
        }
        if (source['_experimental']) {
            if (this.experimental) {
                this.experimental.addExtendedProperties(source._experimental);
            }
            else {
                this.experimental = new fhir.FhirBoolean(source._experimental);
            }
        }
        if (source['publisher']) {
            this.publisher = new fhir.FhirString({ value: source.publisher });
        }
        if (source['_publisher']) {
            if (this.publisher) {
                this.publisher.addExtendedProperties(source._publisher);
            }
            else {
                this.publisher = new fhir.FhirString(source._publisher);
            }
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ConformanceContact(x));
        }
        else {
            this.contact = [];
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        else {
            this.date = null;
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['requirements']) {
            this.requirements = new fhir.FhirString({ value: source.requirements });
        }
        if (source['_requirements']) {
            if (this.requirements) {
                this.requirements.addExtendedProperties(source._requirements);
            }
            else {
                this.requirements = new fhir.FhirString(source._requirements);
            }
        }
        if (source['copyright']) {
            this.copyright = new fhir.FhirString({ value: source.copyright });
        }
        if (source['_copyright']) {
            if (this.copyright) {
                this.copyright.addExtendedProperties(source._copyright);
            }
            else {
                this.copyright = new fhir.FhirString(source._copyright);
            }
        }
        if (source['kind']) {
            this.kind = new fhir.FhirCode({ value: source.kind });
        }
        else {
            this.kind = null;
        }
        if (source['_kind']) {
            if (this.kind) {
                this.kind.addExtendedProperties(source._kind);
            }
            else {
                this.kind = new fhir.FhirCode(source._kind);
            }
        }
        if (source['software']) {
            this.software = new fhir.ConformanceSoftware(source.software);
        }
        if (source['implementation']) {
            this.implementation = new fhir.ConformanceImplementation(source.implementation);
        }
        if (source['fhirVersion']) {
            this.fhirVersion = new fhir.FhirId({ value: source.fhirVersion });
        }
        else {
            this.fhirVersion = null;
        }
        if (source['_fhirVersion']) {
            if (this.fhirVersion) {
                this.fhirVersion.addExtendedProperties(source._fhirVersion);
            }
            else {
                this.fhirVersion = new fhir.FhirId(source._fhirVersion);
            }
        }
        if (source['acceptUnknown']) {
            this.acceptUnknown = new fhir.FhirCode({ value: source.acceptUnknown });
        }
        else {
            this.acceptUnknown = null;
        }
        if (source['_acceptUnknown']) {
            if (this.acceptUnknown) {
                this.acceptUnknown.addExtendedProperties(source._acceptUnknown);
            }
            else {
                this.acceptUnknown = new fhir.FhirCode(source._acceptUnknown);
            }
        }
        if (source['format']) {
            this.format = source.format.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.format = [];
        }
        if (source['_format']) {
            source._format.forEach((x, i) => {
                if (this.format.length >= i) {
                    if (x) {
                        this.format[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.format.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['profile']) {
            this.profile = source.profile.map((x) => new fhir.Reference(x));
        }
        else {
            this.profile = [];
        }
        if (source['rest']) {
            this.rest = source.rest.map((x) => new fhir.ConformanceRest(x));
        }
        else {
            this.rest = [];
        }
        if (source['messaging']) {
            this.messaging = source.messaging.map((x) => new fhir.ConformanceMessaging(x));
        }
        else {
            this.messaging = [];
        }
        if (source['document']) {
            this.document = source.document.map((x) => new fhir.ConformanceDocument(x));
        }
        else {
            this.document = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'Conformance';
        }
        this.vRS('resourceType', exp);
        this.vOS('url', exp);
        this.vOS('version', exp);
        this.vOS('name', exp);
        this.vOSV('status', exp, 'ConformanceResourceStatus', ConformanceResourceStatusVsValidation, 'r');
        this.vOS('experimental', exp);
        this.vOS('publisher', exp);
        this.vOA('contact', exp);
        this.vRS('date', exp);
        this.vOS('description', exp);
        this.vOS('requirements', exp);
        this.vOS('copyright', exp);
        this.vRSV('kind', exp, 'ConformanceStatementKind', ConformanceStatementKindVsValidation, 'r');
        this.vOS('software', exp);
        this.vOS('implementation', exp);
        this.vRS('fhirVersion', exp);
        this.vRSV('acceptUnknown', exp, 'UnknownContent', UnknownContentVsValidation, 'r');
        this.vRA('format', exp);
        this.vOA('profile', exp);
        this.vOA('rest', exp);
        this.vOA('messaging', exp);
        this.vOA('document', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
Conformance._fts_dataType = 'Conformance';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uZm9ybWFuY2UuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0NvbmZvcm1hbmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLDZCQUE2QjtBQUU3QixPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLGtDQUFrQyxFQUFFLE1BQU0sd0RBQXdELENBQUM7QUFHNUcsYUFBYTtBQUNiLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGlEQUFpRCxDQUFDO0FBRzlGLGFBQWE7QUFDYixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQUcxRixhQUFhO0FBQ2IsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFHNUYsYUFBYTtBQUNiLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBR2hHLGFBQWE7QUFDYixPQUFPLEVBQUUsbUNBQW1DLEVBQUUsTUFBTSx5REFBeUQsQ0FBQztBQUc5RyxhQUFhO0FBQ2IsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLE1BQU0sMERBQTBELENBQUM7QUFHaEgsYUFBYTtBQUNiLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBRzVHLGFBQWE7QUFDYixPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQU85RixhQUFhO0FBQ2IsT0FBTyxFQUFFLHVDQUF1QyxFQUFFLE1BQU0sNkRBQTZELENBQUM7QUFHdEgsYUFBYTtBQUNiLE9BQU8sRUFBRSx1Q0FBdUMsRUFBRSxNQUFNLDZEQUE2RCxDQUFDO0FBR3RILGFBQWE7QUFDYixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQztBQUd4RixhQUFhO0FBQ2IsT0FBTyxFQUFFLHFDQUFxQyxFQUFF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Q0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUM5QixJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBQyxHQUFHLEVBQUMsZ0JBQWdCLEVBQUMsMEJBQTBCLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDOUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDekIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUF6TkQ7O0dBRUc7QUFDNkIseUJBQWEsR0FBVSxhQUFhLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjIuY29yZSB2ZXJzaW9uOiAxLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IENvbmZvcm1hbmNlXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUeXBlUmVzdGZ1bEludGVyYWN0aW9uQ29kZXMsICBUeXBlUmVzdGZ1bEludGVyYWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1R5cGVSZXN0ZnVsSW50ZXJhY3Rpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVHlwZVJlc3RmdWxJbnRlcmFjdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVHlwZVJlc3RmdWxJbnRlcmFjdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VhcmNoUGFyYW1UeXBlQ29kZXMsICBTZWFyY2hQYXJhbVR5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VhcmNoUGFyYW1UeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlYXJjaFBhcmFtVHlwZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvU2VhcmNoUGFyYW1UeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBSZXNvdXJjZVR5cGVzQ29kZXMsICBSZXNvdXJjZVR5cGVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Jlc291cmNlVHlwZXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVzb3VyY2VUeXBlc1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvUmVzb3VyY2VUeXBlc1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgU2VhcmNoTW9kaWZpZXJDb2RlcywgIFNlYXJjaE1vZGlmaWVyQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1NlYXJjaE1vZGlmaWVyQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFNlYXJjaE1vZGlmaWVyVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9TZWFyY2hNb2RpZmllclZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgVmVyc2lvbmluZ1BvbGljeUNvZGVzLCAgVmVyc2lvbmluZ1BvbGljeUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9WZXJzaW9uaW5nUG9saWN5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFZlcnNpb25pbmdQb2xpY3lWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1ZlcnNpb25pbmdQb2xpY3lWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmRpdGlvbmFsRGVsZXRlU3RhdHVzQ29kZXMsICBDb25kaXRpb25hbERlbGV0ZVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25kaXRpb25hbERlbGV0ZVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25kaXRpb25hbERlbGV0ZVN0YXR1c1ZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uZGl0aW9uYWxEZWxldGVTdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFN5c3RlbVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVzLCAgU3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1N5c3RlbVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBTeXN0ZW1SZXN0ZnVsSW50ZXJhY3Rpb25Wc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1N5c3RlbVJlc3RmdWxJbnRlcmFjdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVzdGZ1bENvbmZvcm1hbmNlTW9kZUNvZGVzLCAgUmVzdGZ1bENvbmZvcm1hbmNlTW9kZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZXN0ZnVsQ29uZm9ybWFuY2VNb2RlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlc3RmdWxDb25mb3JtYW5jZU1vZGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1Jlc3RmdWxDb25mb3JtYW5jZU1vZGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFRyYW5zYWN0aW9uTW9kZUNvZGVzLCAgVHJhbnNhY3Rpb25Nb2RlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RyYW5zYWN0aW9uTW9kZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBUcmFuc2FjdGlvbk1vZGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1RyYW5zYWN0aW9uTW9kZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVzc2FnZUV2ZW50c0NvZGVzLCAgTWVzc2FnZUV2ZW50c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZXNzYWdlRXZlbnRzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lc3NhZ2VFdmVudHNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lc3NhZ2VFdmVudHNWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lc3NhZ2VTaWduaWZpY2FuY2VDYXRlZ29yeUNvZGVzLCAgTWVzc2FnZVNpZ25pZmljYW5jZUNhdGVnb3J5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lc3NhZ2VTaWduaWZpY2FuY2VDYXRlZ29yeUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZXNzYWdlU2lnbmlmaWNhbmNlQ2F0ZWdvcnlWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL01lc3NhZ2VTaWduaWZpY2FuY2VDYXRlZ29yeVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVzc2FnZUNvbmZvcm1hbmNlRXZlbnRNb2RlQ29kZXMsICBNZXNzYWdlQ29uZm9ybWFuY2VFdmVudE1vZGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVzc2FnZUNvbmZvcm1hbmNlRXZlbnRNb2RlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE1lc3NhZ2VDb25mb3JtYW5jZUV2ZW50TW9kZVZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTWVzc2FnZUNvbmZvcm1hbmNlRXZlbnRNb2RlVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBEb2N1bWVudE1vZGVDb2RlcywgIERvY3VtZW50TW9kZUNvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2N1bWVudE1vZGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRG9jdW1lbnRNb2RlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Eb2N1bWVudE1vZGVWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmZvcm1hbmNlUmVzb3VyY2VTdGF0dXNDb2RlcywgIENvbmZvcm1hbmNlUmVzb3VyY2VTdGF0dXNDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQ29uZm9ybWFuY2VSZXNvdXJjZVN0YXR1c0NvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25mb3JtYW5jZVJlc291cmNlU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25mb3JtYW5jZVJlc291cmNlU3RhdHVzVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25mb3JtYW5jZVN0YXRlbWVudEtpbmRDb2RlcywgIENvbmZvcm1hbmNlU3RhdGVtZW50S2luZENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25mb3JtYW5jZVN0YXRlbWVudEtpbmRDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uZm9ybWFuY2VTdGF0ZW1lbnRLaW5kVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25mb3JtYW5jZVN0YXRlbWVudEtpbmRWc1ZhbGlkYXRpb24uanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFVua25vd25Db250ZW50Q29kZXMsICBVbmtub3duQ29udGVudENvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Vbmtub3duQ29udGVudENvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBVbmtub3duQ29udGVudFZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvVW5rbm93bkNvbnRlbnRWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uZm9ybWFuY2VDb250YWN0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZvcm1hbmNlQ29udGFjdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIG9mIGFuIGluZGl2aWR1YWwgdG8gY29udGFjdCByZWdhcmRpbmcgdGhlIGNvbmZvcm1hbmNlLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UuY29udGFjdC5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgZGV0YWlscyBmb3IgaW5kaXZpZHVhbCAoaWYgYSBuYW1lIHdhcyBwcm92aWRlZCkgb3IgdGhlIHB1Ymxpc2hlci5cclxuICAgKi9cclxuICB0ZWxlY29tPzogZmhpci5Db250YWN0UG9pbnRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udGFjdHMgdG8gYXNzaXN0IGEgdXNlciBpbiBmaW5kaW5nIGFuZCBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHB1Ymxpc2hlci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25mb3JtYW5jZUNvbnRhY3QgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25mb3JtYW5jZUNvbnRhY3QnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuYW1lIG9mIGFuIGluZGl2aWR1YWwgdG8gY29udGFjdCByZWdhcmRpbmcgdGhlIGNvbmZvcm1hbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBDb250YWN0IGRldGFpbHMgZm9yIGluZGl2aWR1YWwgKGlmIGEgbmFtZSB3YXMgcHJvdmlkZWQpIG9yIHRoZSBwdWJsaXNoZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHRlbGVjb206IGZoaXIuQ29udGFjdFBvaW50W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uZm9ybWFuY2VDb250YWN0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uZm9ybWFuY2VDb250YWN0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0ZWxlY29tJ10pIHsgdGhpcy50ZWxlY29tID0gc291cmNlLnRlbGVjb20ubWFwKCh4KSA9PiBuZXcgZmhpci5Db250YWN0UG9pbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50ZWxlY29tID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25mb3JtYW5jZS5jb250YWN0JyB9XHJcbiAgICB0aGlzLnZPUygnbmFtZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3RlbGVjb20nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25mb3JtYW5jZVNvZnR3YXJlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZvcm1hbmNlU29mdHdhcmVBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBOYW1lIHNvZnR3YXJlIGlzIGtub3duIGJ5LlxyXG4gICAqL1xyXG4gIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5zb2Z0d2FyZS5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2ZXJzaW9uIGlkZW50aWZpZXIgZm9yIHRoZSBzb2Z0d2FyZSBjb3ZlcmVkIGJ5IHRoaXMgc3RhdGVtZW50LlxyXG4gICAqL1xyXG4gIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2Uuc29mdHdhcmUudmVyc2lvblxyXG4gICAqL1xyXG4gIF92ZXJzaW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBEYXRlIHRoaXMgdmVyc2lvbiBvZiB0aGUgc29mdHdhcmUgcmVsZWFzZWQuXHJcbiAgICovXHJcbiAgcmVsZWFzZURhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5zb2Z0d2FyZS5yZWxlYXNlRGF0ZVxyXG4gICAqL1xyXG4gIF9yZWxlYXNlRGF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTb2Z0d2FyZSB0aGF0IGlzIGNvdmVyZWQgYnkgdGhpcyBjb25mb3JtYW5jZSBzdGF0ZW1lbnQuICBJdCBpcyB1c2VkIHdoZW4gdGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBkZXNjcmliZXMgdGhlIGNhcGFiaWxpdGllcyBvZiBhIHBhcnRpY3VsYXIgc29mdHdhcmUgdmVyc2lvbiwgaW5kZXBlbmRlbnQgb2YgYW4gaW5zdGFsbGF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbmZvcm1hbmNlU29mdHdhcmUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25mb3JtYW5jZVNvZnR3YXJlJztcclxuICAvKipcclxuICAgKiBOYW1lIHNvZnR3YXJlIGlzIGtub3duIGJ5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lOiBmaGlyLkZoaXJTdHJpbmd8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgdmVyc2lvbiBpZGVudGlmaWVyIGZvciB0aGUgc29mdHdhcmUgY292ZXJlZCBieSB0aGlzIHN0YXRlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZSB0aGlzIHZlcnNpb24gb2YgdGhlIHNvZnR3YXJlIHJlbGVhc2VkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxlYXNlRGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25mb3JtYW5jZVNvZnR3YXJlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uZm9ybWFuY2VTb2Z0d2FyZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3ZlcnNpb24nXSkgeyB0aGlzLnZlcnNpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnZlcnNpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZlcnNpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy52ZXJzaW9uKSB7IHRoaXMudmVyc2lvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92ZXJzaW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl92ZXJzaW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZWxlYXNlRGF0ZSddKSB7IHRoaXMucmVsZWFzZURhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UucmVsZWFzZURhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlbGVhc2VEYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVsZWFzZURhdGUpIHsgdGhpcy5yZWxlYXNlRGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZWxlYXNlRGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlbGVhc2VEYXRlID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fcmVsZWFzZURhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NvbmZvcm1hbmNlLnNvZnR3YXJlJyB9XHJcbiAgICB0aGlzLnZSUygnbmFtZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3ZlcnNpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCdyZWxlYXNlRGF0ZScsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbmZvcm1hbmNlSW1wbGVtZW50YXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZm9ybWFuY2VJbXBsZW1lbnRhdGlvbkFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBzcGVjaWZpYyBpbnN0YWxsYXRpb24gdGhhdCB0aGlzIGNvbmZvcm1hbmNlIHN0YXRlbWVudCByZWxhdGVzIHRvLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UuaW1wbGVtZW50YXRpb24uZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIGJhc2UgVVJMIGZvciB0aGUgaW1wbGVtZW50YXRpb24uICBUaGlzIGZvcm1zIHRoZSBiYXNlIGZvciBSRVNUIGludGVyZmFjZXMgYXMgd2VsbCBhcyB0aGUgbWFpbGJveCBhbmQgZG9jdW1lbnQgaW50ZXJmYWNlcy5cclxuICAgKi9cclxuICB1cmw/OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UuaW1wbGVtZW50YXRpb24udXJsXHJcbiAgICovXHJcbiAgX3VybD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJZGVudGlmaWVzIGEgc3BlY2lmaWMgaW1wbGVtZW50YXRpb24gaW5zdGFuY2UgdGhhdCBpcyBkZXNjcmliZWQgYnkgdGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudCAtIGkuZS4gYSBwYXJ0aWN1bGFyIGluc3RhbGxhdGlvbiwgcmF0aGVyIHRoYW4gdGhlIGNhcGFiaWxpdGllcyBvZiBhIHNvZnR3YXJlIHByb2dyYW0uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uZm9ybWFuY2VJbXBsZW1lbnRhdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmZvcm1hbmNlSW1wbGVtZW50YXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBzcGVjaWZpYyBpbnN0YWxsYXRpb24gdGhhdCB0aGlzIGNvbmZvcm1hbmNlIHN0YXRlbWVudCByZWxhdGVzIHRvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbjogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgYmFzZSBVUkwgZm9yIHRoZSBpbXBsZW1lbnRhdGlvbi4gIFRoaXMgZm9ybXMgdGhlIGJhc2UgZm9yIFJFU1QgaW50ZXJmYWNlcyBhcyB3ZWxsIGFzIHRoZSBtYWlsYm94IGFuZCBkb2N1bWVudCBpbnRlcmZhY2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cmw/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmZvcm1hbmNlSW1wbGVtZW50YXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25mb3JtYW5jZUltcGxlbWVudGF0aW9uQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3VybCddKSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS51cmx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3VybCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnVybCkgeyB0aGlzLnVybC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl91cmwhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy51cmwgPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fdXJsIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uZm9ybWFuY2UuaW1wbGVtZW50YXRpb24nIH1cclxuICAgIHRoaXMudlJTKCdkZXNjcmlwdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3VybCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbmZvcm1hbmNlUmVzdFNlY3VyaXR5Q2VydGlmaWNhdGUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZm9ybWFuY2VSZXN0U2VjdXJpdHlDZXJ0aWZpY2F0ZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIE1pbWUgdHlwZSBmb3IgY2VydGlmaWNhdGUuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5zZWN1cml0eS5jZXJ0aWZpY2F0ZS50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFjdHVhbCBjZXJ0aWZpY2F0ZS5cclxuICAgKi9cclxuICBibG9iPzogZmhpci5GaGlyQmFzZTY0QmluYXJ5fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlc3Quc2VjdXJpdHkuY2VydGlmaWNhdGUuYmxvYlxyXG4gICAqL1xyXG4gIF9ibG9iPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIENlcnRpZmljYXRlcyBhc3NvY2lhdGVkIHdpdGggc2VjdXJpdHkgcHJvZmlsZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uZm9ybWFuY2VSZXN0U2VjdXJpdHlDZXJ0aWZpY2F0ZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmZvcm1hbmNlUmVzdFNlY3VyaXR5Q2VydGlmaWNhdGUnO1xyXG4gIC8qKlxyXG4gICAqIE1pbWUgdHlwZSBmb3IgY2VydGlmaWNhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBY3R1YWwgY2VydGlmaWNhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGJsb2I/OiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmZvcm1hbmNlUmVzdFNlY3VyaXR5Q2VydGlmaWNhdGUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25mb3JtYW5jZVJlc3RTZWN1cml0eUNlcnRpZmljYXRlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS50eXBlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydibG9iJ10pIHsgdGhpcy5ibG9iID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeSh7dmFsdWU6IHNvdXJjZS5ibG9ifSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19ibG9iJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYmxvYikgeyB0aGlzLmJsb2IuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYmxvYiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmJsb2IgPSBuZXcgZmhpci5GaGlyQmFzZTY0QmluYXJ5KHNvdXJjZS5fYmxvYiBhcyBQYXJ0aWFsPGZoaXIuRmhpckJhc2U2NEJpbmFyeUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NvbmZvcm1hbmNlLnJlc3Quc2VjdXJpdHkuY2VydGlmaWNhdGUnIH1cclxuICAgIHRoaXMudk9TKCd0eXBlJyxleHApXHJcbiAgICB0aGlzLnZPUygnYmxvYicsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbmZvcm1hbmNlUmVzdFNlY3VyaXR5IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZvcm1hbmNlUmVzdFNlY3VyaXR5QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogU2VydmVyIGFkZHMgQ09SUyBoZWFkZXJzIHdoZW4gcmVzcG9uZGluZyB0byByZXF1ZXN0cyAtIHRoaXMgZW5hYmxlcyBqYXZhc2NyaXB0IGFwcGxpY2F0aW9ucyB0byB1c2UgdGhlIHNlcnZlci5cclxuICAgKi9cclxuICBjb3JzPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5zZWN1cml0eS5jb3JzXHJcbiAgICovXHJcbiAgX2NvcnM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFR5cGVzIG9mIHNlY3VyaXR5IHNlcnZpY2VzIGFyZSBzdXBwb3J0ZWQvcmVxdWlyZWQgYnkgdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBzZXJ2aWNlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEdlbmVyYWwgZGVzY3JpcHRpb24gb2YgaG93IHNlY3VyaXR5IHdvcmtzLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlc3Quc2VjdXJpdHkuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENlcnRpZmljYXRlcyBhc3NvY2lhdGVkIHdpdGggc2VjdXJpdHkgcHJvZmlsZXMuXHJcbiAgICovXHJcbiAgY2VydGlmaWNhdGU/OiBmaGlyLkNvbmZvcm1hbmNlUmVzdFNlY3VyaXR5Q2VydGlmaWNhdGVBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5mb3JtYXRpb24gYWJvdXQgc2VjdXJpdHkgaW1wbGVtZW50YXRpb24gZnJvbSBhbiBpbnRlcmZhY2UgcGVyc3BlY3RpdmUgLSB3aGF0IGEgY2xpZW50IG5lZWRzIHRvIGtub3cuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uZm9ybWFuY2VSZXN0U2VjdXJpdHkgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25mb3JtYW5jZVJlc3RTZWN1cml0eSc7XHJcbiAgLyoqXHJcbiAgICogU2VydmVyIGFkZHMgQ09SUyBoZWFkZXJzIHdoZW4gcmVzcG9uZGluZyB0byByZXF1ZXN0cyAtIHRoaXMgZW5hYmxlcyBqYXZhc2NyaXB0IGFwcGxpY2F0aW9ucyB0byB1c2UgdGhlIHNlcnZlci5cclxuICAgKi9cclxuICBwdWJsaWMgY29ycz86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFR5cGVzIG9mIHNlY3VyaXR5IHNlcnZpY2VzIGFyZSBzdXBwb3J0ZWQvcmVxdWlyZWQgYnkgdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgc2VydmljZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBHZW5lcmFsIGRlc2NyaXB0aW9uIG9mIGhvdyBzZWN1cml0eSB3b3Jrcy5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIENlcnRpZmljYXRlcyBhc3NvY2lhdGVkIHdpdGggc2VjdXJpdHkgcHJvZmlsZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGNlcnRpZmljYXRlOiBmaGlyLkNvbmZvcm1hbmNlUmVzdFNlY3VyaXR5Q2VydGlmaWNhdGVbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25mb3JtYW5jZVJlc3RTZWN1cml0eSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbmZvcm1hbmNlUmVzdFNlY3VyaXR5QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2NvcnMnXSkgeyB0aGlzLmNvcnMgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5jb3JzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb3JzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29ycykgeyB0aGlzLmNvcnMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29ycyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvcnMgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2NvcnMgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZXJ2aWNlJ10pIHsgdGhpcy5zZXJ2aWNlID0gc291cmNlLnNlcnZpY2UubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXJ2aWNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjZXJ0aWZpY2F0ZSddKSB7IHRoaXMuY2VydGlmaWNhdGUgPSBzb3VyY2UuY2VydGlmaWNhdGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db25mb3JtYW5jZVJlc3RTZWN1cml0eUNlcnRpZmljYXRlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2VydGlmaWNhdGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NvbmZvcm1hbmNlLnJlc3Quc2VjdXJpdHknIH1cclxuICAgIHRoaXMudk9TKCdjb3JzJyxleHApXHJcbiAgICB0aGlzLnZPQSgnc2VydmljZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPQSgnY2VydGlmaWNhdGUnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25mb3JtYW5jZVJlc3RSZXNvdXJjZUludGVyYWN0aW9uIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZvcm1hbmNlUmVzdFJlc291cmNlSW50ZXJhY3Rpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBDb2RlZCBpZGVudGlmaWVyIG9mIHRoZSBvcGVyYXRpb24sIHN1cHBvcnRlZCBieSB0aGUgc3lzdGVtIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIGNvZGU6IGZoaXIuRmhpckNvZGU8VHlwZVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLmludGVyYWN0aW9uLmNvZGVcclxuICAgKi9cclxuICBfY29kZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUkVTVCBhbGxvd3MgYSBkZWdyZWUgb2YgdmFyaWFiaWxpdHkgaW4gdGhlIGltcGxlbWVudGF0aW9uIG9mIFJFU1RmdWwgc29sdXRpb25zIHRoYXQgaXMgdXNlZnVsIGZvciBleGNoYW5nZSBwYXJ0bmVycyB0byBiZSBhd2FyZSBvZi5cclxuICAgKi9cclxuICBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlc3QucmVzb3VyY2UuaW50ZXJhY3Rpb24uZG9jdW1lbnRhdGlvblxyXG4gICAqL1xyXG4gIF9kb2N1bWVudGF0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIElkZW50aWZpZXMgYSByZXN0ZnVsIG9wZXJhdGlvbiBzdXBwb3J0ZWQgYnkgdGhlIHNvbHV0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbmZvcm1hbmNlUmVzdFJlc291cmNlSW50ZXJhY3Rpb24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25mb3JtYW5jZVJlc3RSZXNvdXJjZUludGVyYWN0aW9uJztcclxuICAvKipcclxuICAgKiBDb2RlZCBpZGVudGlmaWVyIG9mIHRoZSBvcGVyYXRpb24sIHN1cHBvcnRlZCBieSB0aGUgc3lzdGVtIHJlc291cmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlOiBmaGlyLkZoaXJDb2RlPFR5cGVSZXN0ZnVsSW50ZXJhY3Rpb25Db2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBSRVNUIGFsbG93cyBhIGRlZ3JlZSBvZiB2YXJpYWJpbGl0eSBpbiB0aGUgaW1wbGVtZW50YXRpb24gb2YgUkVTVGZ1bCBzb2x1dGlvbnMgdGhhdCBpcyB1c2VmdWwgZm9yIGV4Y2hhbmdlIHBhcnRuZXJzIHRvIGJlIGF3YXJlIG9mLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25mb3JtYW5jZVJlc3RSZXNvdXJjZUludGVyYWN0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uZm9ybWFuY2VSZXN0UmVzb3VyY2VJbnRlcmFjdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlJ10pIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8VHlwZVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5jb2RlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29kZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvZGUpIHsgdGhpcy5jb2RlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvZGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8VHlwZVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVUeXBlPihzb3VyY2UuX2NvZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RvY3VtZW50YXRpb24nXSkgeyB0aGlzLmRvY3VtZW50YXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRvY3VtZW50YXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RvY3VtZW50YXRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kb2N1bWVudGF0aW9uKSB7IHRoaXMuZG9jdW1lbnRhdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kb2N1bWVudGF0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kb2N1bWVudGF0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS5pbnRlcmFjdGlvbicgfVxyXG4gICAgdGhpcy52UlNWKCdjb2RlJyxleHAsJ1R5cGVSZXN0ZnVsSW50ZXJhY3Rpb24nLFR5cGVSZXN0ZnVsSW50ZXJhY3Rpb25Wc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1MoJ2RvY3VtZW50YXRpb24nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25mb3JtYW5jZVJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZvcm1hbmNlUmVzdFJlc291cmNlU2VhcmNoUGFyYW1BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgc2VhcmNoIHBhcmFtZXRlciB1c2VkIGluIHRoZSBpbnRlcmZhY2UuXHJcbiAgICovXHJcbiAgbmFtZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlc3QucmVzb3VyY2Uuc2VhcmNoUGFyYW0ubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBbiBhYnNvbHV0ZSBVUkkgdGhhdCBpcyBhIGZvcm1hbCByZWZlcmVuY2UgdG8gd2hlcmUgdGhpcyBwYXJhbWV0ZXIgd2FzIGZpcnN0IGRlZmluZWQsIHNvIHRoYXQgYSBjbGllbnQgY2FuIGJlIGNvbmZpZGVudCBvZiB0aGUgbWVhbmluZyBvZiB0aGUgc2VhcmNoIHBhcmFtZXRlciAoYSByZWZlcmVuY2UgdG8gW1tbU2VhcmNoUGFyYW1ldGVyLnVybF1dXSkuXHJcbiAgICovXHJcbiAgZGVmaW5pdGlvbj86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLnNlYXJjaFBhcmFtLmRlZmluaXRpb25cclxuICAgKi9cclxuICBfZGVmaW5pdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdmFsdWUgYSBzZWFyY2ggcGFyYW1ldGVyIHJlZmVycyB0bywgYW5kIGhvdyB0aGUgY29udGVudCBpcyBpbnRlcnByZXRlZC5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkZoaXJDb2RlPFNlYXJjaFBhcmFtVHlwZUNvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLnNlYXJjaFBhcmFtLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBhbGxvd3MgZG9jdW1lbnRhdGlvbiBvZiBhbnkgZGlzdGluY3QgYmVoYXZpb3JzIGFib3V0IGhvdyB0aGUgc2VhcmNoIHBhcmFtZXRlciBpcyB1c2VkLiAgRm9yIGV4YW1wbGUsIHRleHQgbWF0Y2hpbmcgYWxnb3JpdGhtcy5cclxuICAgKi9cclxuICBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlc3QucmVzb3VyY2Uuc2VhcmNoUGFyYW0uZG9jdW1lbnRhdGlvblxyXG4gICAqL1xyXG4gIF9kb2N1bWVudGF0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUeXBlcyBvZiByZXNvdXJjZSAoaWYgYSByZXNvdXJjZSBpcyByZWZlcmVuY2VkKS5cclxuICAgKi9cclxuICB0YXJnZXQ/OiBmaGlyLkZoaXJDb2RlW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS5zZWFyY2hQYXJhbS50YXJnZXRcclxuICAgKi9cclxuICBfdGFyZ2V0PzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBBIG1vZGlmaWVyIHN1cHBvcnRlZCBmb3IgdGhlIHNlYXJjaCBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgbW9kaWZpZXI/OiBmaGlyLkZoaXJDb2RlPFNlYXJjaE1vZGlmaWVyQ29kZVR5cGU+W118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS5zZWFyY2hQYXJhbS5tb2RpZmllclxyXG4gICAqL1xyXG4gIF9tb2RpZmllcj86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogQ29udGFpbnMgdGhlIG5hbWVzIG9mIGFueSBzZWFyY2ggcGFyYW1ldGVycyB3aGljaCBtYXkgYmUgY2hhaW5lZCB0byB0aGUgY29udGFpbmluZyBzZWFyY2ggcGFyYW1ldGVyLiBDaGFpbmVkIHBhcmFtZXRlcnMgbWF5IGJlIGFkZGVkIHRvIHNlYXJjaCBwYXJhbWV0ZXJzIG9mIHR5cGUgcmVmZXJlbmNlLCBhbmQgc3BlY2lmeSB0aGF0IHJlc291cmNlcyB3aWxsIG9ubHkgYmUgcmV0dXJuZWQgaWYgdGhleSBjb250YWluIGEgcmVmZXJlbmNlIHRvIGEgcmVzb3VyY2Ugd2hpY2ggbWF0Y2hlcyB0aGUgY2hhaW5lZCBwYXJhbWV0ZXIgdmFsdWUuIFZhbHVlcyBmb3IgdGhpcyBmaWVsZCBzaG91bGQgYmUgZHJhd24gZnJvbSBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLnNlYXJjaFBhcmFtLm5hbWUgb24gdGhlIHRhcmdldCByZXNvdXJjZSB0eXBlLlxyXG4gICAqL1xyXG4gIGNoYWluPzogZmhpci5GaGlyU3RyaW5nW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS5zZWFyY2hQYXJhbS5jaGFpblxyXG4gICAqL1xyXG4gIF9jaGFpbj86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZWFyY2ggcGFyYW1ldGVycyBmb3IgaW1wbGVtZW50YXRpb25zIHRvIHN1cHBvcnQgYW5kL29yIG1ha2UgdXNlIG9mIC0gZWl0aGVyIHJlZmVyZW5jZXMgdG8gb25lcyBkZWZpbmVkIGluIHRoZSBzcGVjaWZpY2F0aW9uLCBvciBhZGRpdGlvbmFsIG9uZXMgZGVmaW5lZCBmb3IvYnkgdGhlIGltcGxlbWVudGF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbmZvcm1hbmNlUmVzdFJlc291cmNlU2VhcmNoUGFyYW0gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25mb3JtYW5jZVJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtJztcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgc2VhcmNoIHBhcmFtZXRlciB1c2VkIGluIHRoZSBpbnRlcmZhY2UuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIFVSSSB0aGF0IGlzIGEgZm9ybWFsIHJlZmVyZW5jZSB0byB3aGVyZSB0aGlzIHBhcmFtZXRlciB3YXMgZmlyc3QgZGVmaW5lZCwgc28gdGhhdCBhIGNsaWVudCBjYW4gYmUgY29uZmlkZW50IG9mIHRoZSBtZWFuaW5nIG9mIHRoZSBzZWFyY2ggcGFyYW1ldGVyIChhIHJlZmVyZW5jZSB0byBbW1tTZWFyY2hQYXJhbWV0ZXIudXJsXV1dKS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVmaW5pdGlvbj86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgb2YgdmFsdWUgYSBzZWFyY2ggcGFyYW1ldGVyIHJlZmVycyB0bywgYW5kIGhvdyB0aGUgY29udGVudCBpcyBpbnRlcnByZXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyQ29kZTxTZWFyY2hQYXJhbVR5cGVDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIGFsbG93cyBkb2N1bWVudGF0aW9uIG9mIGFueSBkaXN0aW5jdCBiZWhhdmlvcnMgYWJvdXQgaG93IHRoZSBzZWFyY2ggcGFyYW1ldGVyIGlzIHVzZWQuICBGb3IgZXhhbXBsZSwgdGV4dCBtYXRjaGluZyBhbGdvcml0aG1zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUeXBlcyBvZiByZXNvdXJjZSAoaWYgYSByZXNvdXJjZSBpcyByZWZlcmVuY2VkKS5cclxuICAgKi9cclxuICBwdWJsaWMgdGFyZ2V0OiBmaGlyLkZoaXJDb2RlW107XHJcbiAgLyoqXHJcbiAgICogQSBtb2RpZmllciBzdXBwb3J0ZWQgZm9yIHRoZSBzZWFyY2ggcGFyYW1ldGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RpZmllcjogZmhpci5GaGlyQ29kZTxTZWFyY2hNb2RpZmllckNvZGVUeXBlPltdO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhaW5zIHRoZSBuYW1lcyBvZiBhbnkgc2VhcmNoIHBhcmFtZXRlcnMgd2hpY2ggbWF5IGJlIGNoYWluZWQgdG8gdGhlIGNvbnRhaW5pbmcgc2VhcmNoIHBhcmFtZXRlci4gQ2hhaW5lZCBwYXJhbWV0ZXJzIG1heSBiZSBhZGRlZCB0byBzZWFyY2ggcGFyYW1ldGVycyBvZiB0eXBlIHJlZmVyZW5jZSwgYW5kIHNwZWNpZnkgdGhhdCByZXNvdXJjZXMgd2lsbCBvbmx5IGJlIHJldHVybmVkIGlmIHRoZXkgY29udGFpbiBhIHJlZmVyZW5jZSB0byBhIHJlc291cmNlIHdoaWNoIG1hdGNoZXMgdGhlIGNoYWluZWQgcGFyYW1ldGVyIHZhbHVlLiBWYWx1ZXMgZm9yIHRoaXMgZmllbGQgc2hvdWxkIGJlIGRyYXduIGZyb20gQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS5zZWFyY2hQYXJhbS5uYW1lIG9uIHRoZSB0YXJnZXQgcmVzb3VyY2UgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgY2hhaW46IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmZvcm1hbmNlUmVzdFJlc291cmNlU2VhcmNoUGFyYW0gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25mb3JtYW5jZVJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubmFtZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19uYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMubmFtZSkgeyB0aGlzLm5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVmaW5pdGlvbiddKSB7IHRoaXMuZGVmaW5pdGlvbiA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UuZGVmaW5pdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVmaW5pdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRlZmluaXRpb24pIHsgdGhpcy5kZWZpbml0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RlZmluaXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kZWZpbml0aW9uID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX2RlZmluaXRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZTxTZWFyY2hQYXJhbVR5cGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFNlYXJjaFBhcmFtVHlwZUNvZGVUeXBlPihzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RvY3VtZW50YXRpb24nXSkgeyB0aGlzLmRvY3VtZW50YXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRvY3VtZW50YXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RvY3VtZW50YXRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kb2N1bWVudGF0aW9uKSB7IHRoaXMuZG9jdW1lbnRhdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kb2N1bWVudGF0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kb2N1bWVudGF0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0YXJnZXQnXSkgeyB0aGlzLnRhcmdldCA9IHNvdXJjZS50YXJnZXQubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRhcmdldCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGFyZ2V0J10pIHtcclxuICAgICAgc291cmNlLl90YXJnZXQuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0Lmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMudGFyZ2V0W2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMudGFyZ2V0LnB1c2gobmV3IGZoaXIuRmhpckNvZGUoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydtb2RpZmllciddKSB7IHRoaXMubW9kaWZpZXIgPSBzb3VyY2UubW9kaWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyQ29kZTxTZWFyY2hNb2RpZmllckNvZGVUeXBlPih7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vZGlmaWVyID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19tb2RpZmllciddKSB7XHJcbiAgICAgIHNvdXJjZS5fbW9kaWZpZXIuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpZXIubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5tb2RpZmllcltpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLm1vZGlmaWVyLnB1c2gobmV3IGZoaXIuRmhpckNvZGU8U2VhcmNoTW9kaWZpZXJDb2RlVHlwZT4oeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NoYWluJ10pIHsgdGhpcy5jaGFpbiA9IHNvdXJjZS5jaGFpbi5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jaGFpbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfY2hhaW4nXSkge1xyXG4gICAgICBzb3VyY2UuX2NoYWluLmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmNoYWluLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuY2hhaW5baV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5jaGFpbi5wdXNoKG5ldyBmaGlyLkZoaXJTdHJpbmcoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLnNlYXJjaFBhcmFtJyB9XHJcbiAgICB0aGlzLnZSUygnbmFtZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RlZmluaXRpb24nLGV4cClcclxuICAgIHRoaXMudlJTVigndHlwZScsZXhwLCdTZWFyY2hQYXJhbVR5cGUnLFNlYXJjaFBhcmFtVHlwZVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPUygnZG9jdW1lbnRhdGlvbicsZXhwKVxyXG4gICAgdGhpcy52T0FWKCd0YXJnZXQnLGV4cCwnUmVzb3VyY2VUeXBlcycsUmVzb3VyY2VUeXBlc1ZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPQVYoJ21vZGlmaWVyJyxleHAsJ1NlYXJjaE1vZGlmaWVyJyxTZWFyY2hNb2RpZmllclZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPQSgnY2hhaW4nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25mb3JtYW5jZVJlc3RSZXNvdXJjZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25mb3JtYW5jZVJlc3RSZXNvdXJjZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgdHlwZSBvZiByZXNvdXJjZSBleHBvc2VkIHZpYSB0aGUgcmVzdGZ1bCBpbnRlcmZhY2UuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWZpY2F0aW9uIG9mIHRoZSBwcm9maWxlIHRoYXQgZGVzY3JpYmVzIHRoZSBzb2x1dGlvbidzIG92ZXJhbGwgc3VwcG9ydCBmb3IgdGhlIHJlc291cmNlLCBpbmNsdWRpbmcgYW55IGNvbnN0cmFpbnRzIG9uIGNhcmRpbmFsaXR5LCBiaW5kaW5ncywgbGVuZ3RocyBvciBvdGhlciBsaW1pdGF0aW9ucy4gU2VlIGZ1cnRoZXIgZGlzY3Vzc2lvbiBpbiBbVXNpbmcgUHJvZmlsZXNde3Byb2ZpbGluZy5odG1sI3Byb2ZpbGUtdXNlc30uXHJcbiAgICovXHJcbiAgcHJvZmlsZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHJlc3RmdWwgb3BlcmF0aW9uIHN1cHBvcnRlZCBieSB0aGUgc29sdXRpb24uXHJcbiAgICovXHJcbiAgaW50ZXJhY3Rpb246IGZoaXIuQ29uZm9ybWFuY2VSZXN0UmVzb3VyY2VJbnRlcmFjdGlvbkFyZ3NbXXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgaXMgc2V0IHRvIG5vLXZlcnNpb24gdG8gc3BlY2lmeSB0aGF0IHRoZSBzeXN0ZW0gZG9lcyBub3Qgc3VwcG9ydCAoc2VydmVyKSBvciB1c2UgKGNsaWVudCkgdmVyc2lvbmluZyBmb3IgdGhpcyByZXNvdXJjZSB0eXBlLiBJZiB0aGlzIGhhcyBzb21lIG90aGVyIHZhbHVlLCB0aGUgc2VydmVyIG11c3QgYXQgbGVhc3QgY29ycmVjdGx5IHRyYWNrIGFuZCBwb3B1bGF0ZSB0aGUgdmVyc2lvbklkIG1ldGEtcHJvcGVydHkgb24gcmVzb3VyY2VzLiBJZiB0aGUgdmFsdWUgaXMgJ3ZlcnNpb25lZC11cGRhdGUnLCB0aGVuIHRoZSBzZXJ2ZXIgc3VwcG9ydHMgYWxsIHRoZSB2ZXJzaW9uaW5nIGZlYXR1cmVzLCBpbmNsdWRpbmcgdXNpbmcgZS10YWdzIGZvciB2ZXJzaW9uIGludGVncml0eSBpbiB0aGUgQVBJLlxyXG4gICAqL1xyXG4gIHZlcnNpb25pbmc/OiBmaGlyLkZoaXJDb2RlPFZlcnNpb25pbmdQb2xpY3lDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS52ZXJzaW9uaW5nXHJcbiAgICovXHJcbiAgX3ZlcnNpb25pbmc/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgZmxhZyBmb3Igd2hldGhlciB0aGUgc2VydmVyIGlzIGFibGUgdG8gcmV0dXJuIHBhc3QgdmVyc2lvbnMgYXMgcGFydCBvZiB0aGUgdlJlYWQgb3BlcmF0aW9uLlxyXG4gICAqL1xyXG4gIHJlYWRIaXN0b3J5PzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS5yZWFkSGlzdG9yeVxyXG4gICAqL1xyXG4gIF9yZWFkSGlzdG9yeT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgdGhlIHNlcnZlciBhbGxvd3Mgb3IgbmVlZHMgdG8gYWxsb3cgdGhlIGNsaWVudCB0byBjcmVhdGUgbmV3IGlkZW50aXRpZXMgb24gdGhlIHNlcnZlciAoZS5nLiB0aGF0IGlzLCB0aGUgY2xpZW50IFBVVHMgdG8gYSBsb2NhdGlvbiB3aGVyZSB0aGVyZSBpcyBubyBleGlzdGluZyByZXNvdXJjZSkuIEFsbG93aW5nIHRoaXMgb3BlcmF0aW9uIG1lYW5zIHRoYXQgdGhlIHNlcnZlciBhbGxvd3MgdGhlIGNsaWVudCB0byBjcmVhdGUgbmV3IGlkZW50aXRpZXMgb24gdGhlIHNlcnZlci5cclxuICAgKi9cclxuICB1cGRhdGVDcmVhdGU/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLnVwZGF0ZUNyZWF0ZVxyXG4gICAqL1xyXG4gIF91cGRhdGVDcmVhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBzZXJ2ZXIgc3VwcG9ydHMgY29uZGl0aW9uYWwgY3JlYXRlLlxyXG4gICAqL1xyXG4gIGNvbmRpdGlvbmFsQ3JlYXRlPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS5jb25kaXRpb25hbENyZWF0ZVxyXG4gICAqL1xyXG4gIF9jb25kaXRpb25hbENyZWF0ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIHNlcnZlciBzdXBwb3J0cyBjb25kaXRpb25hbCB1cGRhdGUuXHJcbiAgICovXHJcbiAgY29uZGl0aW9uYWxVcGRhdGU/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLmNvbmRpdGlvbmFsVXBkYXRlXHJcbiAgICovXHJcbiAgX2NvbmRpdGlvbmFsVXBkYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBpbmRpY2F0ZXMgaG93IHRoZSBzZXJ2ZXIgc3VwcG9ydHMgY29uZGl0aW9uYWwgZGVsZXRlLlxyXG4gICAqL1xyXG4gIGNvbmRpdGlvbmFsRGVsZXRlPzogZmhpci5GaGlyQ29kZTxDb25kaXRpb25hbERlbGV0ZVN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLmNvbmRpdGlvbmFsRGVsZXRlXHJcbiAgICovXHJcbiAgX2NvbmRpdGlvbmFsRGVsZXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgX2luY2x1ZGUgdmFsdWVzIHN1cHBvcnRlZCBieSB0aGUgc2VydmVyLlxyXG4gICAqL1xyXG4gIHNlYXJjaEluY2x1ZGU/OiBmaGlyLkZoaXJTdHJpbmdbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5yZXN0LnJlc291cmNlLnNlYXJjaEluY2x1ZGVcclxuICAgKi9cclxuICBfc2VhcmNoSW5jbHVkZT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIF9yZXZpbmNsdWRlIChyZXZlcnNlIGluY2x1ZGUpIHZhbHVlcyBzdXBwb3J0ZWQgYnkgdGhlIHNlcnZlci5cclxuICAgKi9cclxuICBzZWFyY2hSZXZJbmNsdWRlPzogZmhpci5GaGlyU3RyaW5nW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5yZXNvdXJjZS5zZWFyY2hSZXZJbmNsdWRlXHJcbiAgICovXHJcbiAgX3NlYXJjaFJldkluY2x1ZGU/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFNlYXJjaCBwYXJhbWV0ZXJzIGZvciBpbXBsZW1lbnRhdGlvbnMgdG8gc3VwcG9ydCBhbmQvb3IgbWFrZSB1c2Ugb2YgLSBlaXRoZXIgcmVmZXJlbmNlcyB0byBvbmVzIGRlZmluZWQgaW4gdGhlIHNwZWNpZmljYXRpb24sIG9yIGFkZGl0aW9uYWwgb25lcyBkZWZpbmVkIGZvci9ieSB0aGUgaW1wbGVtZW50YXRpb24uXHJcbiAgICovXHJcbiAgc2VhcmNoUGFyYW0/OiBmaGlyLkNvbmZvcm1hbmNlUmVzdFJlc291cmNlU2VhcmNoUGFyYW1BcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzcGVjaWZpY2F0aW9uIG9mIHRoZSByZXN0ZnVsIGNhcGFiaWxpdGllcyBvZiB0aGUgc29sdXRpb24gZm9yIGEgc3BlY2lmaWMgcmVzb3VyY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25mb3JtYW5jZVJlc3RSZXNvdXJjZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmZvcm1hbmNlUmVzdFJlc291cmNlJztcclxuICAvKipcclxuICAgKiBBIHR5cGUgb2YgcmVzb3VyY2UgZXhwb3NlZCB2aWEgdGhlIHJlc3RmdWwgaW50ZXJmYWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkZoaXJDb2RlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWZpY2F0aW9uIG9mIHRoZSBwcm9maWxlIHRoYXQgZGVzY3JpYmVzIHRoZSBzb2x1dGlvbidzIG92ZXJhbGwgc3VwcG9ydCBmb3IgdGhlIHJlc291cmNlLCBpbmNsdWRpbmcgYW55IGNvbnN0cmFpbnRzIG9uIGNhcmRpbmFsaXR5LCBiaW5kaW5ncywgbGVuZ3RocyBvciBvdGhlciBsaW1pdGF0aW9ucy4gU2VlIGZ1cnRoZXIgZGlzY3Vzc2lvbiBpbiBbVXNpbmcgUHJvZmlsZXNde3Byb2ZpbGluZy5odG1sI3Byb2ZpbGUtdXNlc30uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2ZpbGU/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHJlc3RmdWwgb3BlcmF0aW9uIHN1cHBvcnRlZCBieSB0aGUgc29sdXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGludGVyYWN0aW9uOiBmaGlyLkNvbmZvcm1hbmNlUmVzdFJlc291cmNlSW50ZXJhY3Rpb25bXTtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIGlzIHNldCB0byBuby12ZXJzaW9uIHRvIHNwZWNpZnkgdGhhdCB0aGUgc3lzdGVtIGRvZXMgbm90IHN1cHBvcnQgKHNlcnZlcikgb3IgdXNlIChjbGllbnQpIHZlcnNpb25pbmcgZm9yIHRoaXMgcmVzb3VyY2UgdHlwZS4gSWYgdGhpcyBoYXMgc29tZSBvdGhlciB2YWx1ZSwgdGhlIHNlcnZlciBtdXN0IGF0IGxlYXN0IGNvcnJlY3RseSB0cmFjayBhbmQgcG9wdWxhdGUgdGhlIHZlcnNpb25JZCBtZXRhLXByb3BlcnR5IG9uIHJlc291cmNlcy4gSWYgdGhlIHZhbHVlIGlzICd2ZXJzaW9uZWQtdXBkYXRlJywgdGhlbiB0aGUgc2VydmVyIHN1cHBvcnRzIGFsbCB0aGUgdmVyc2lvbmluZyBmZWF0dXJlcywgaW5jbHVkaW5nIHVzaW5nIGUtdGFncyBmb3IgdmVyc2lvbiBpbnRlZ3JpdHkgaW4gdGhlIEFQSS5cclxuICAgKi9cclxuICBwdWJsaWMgdmVyc2lvbmluZz86IGZoaXIuRmhpckNvZGU8VmVyc2lvbmluZ1BvbGljeUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBmbGFnIGZvciB3aGV0aGVyIHRoZSBzZXJ2ZXIgaXMgYWJsZSB0byByZXR1cm4gcGFzdCB2ZXJzaW9ucyBhcyBwYXJ0IG9mIHRoZSB2UmVhZCBvcGVyYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHJlYWRIaXN0b3J5PzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgdGhlIHNlcnZlciBhbGxvd3Mgb3IgbmVlZHMgdG8gYWxsb3cgdGhlIGNsaWVudCB0byBjcmVhdGUgbmV3IGlkZW50aXRpZXMgb24gdGhlIHNlcnZlciAoZS5nLiB0aGF0IGlzLCB0aGUgY2xpZW50IFBVVHMgdG8gYSBsb2NhdGlvbiB3aGVyZSB0aGVyZSBpcyBubyBleGlzdGluZyByZXNvdXJjZSkuIEFsbG93aW5nIHRoaXMgb3BlcmF0aW9uIG1lYW5zIHRoYXQgdGhlIHNlcnZlciBhbGxvd3MgdGhlIGNsaWVudCB0byBjcmVhdGUgbmV3IGlkZW50aXRpZXMgb24gdGhlIHNlcnZlci5cclxuICAgKi9cclxuICBwdWJsaWMgdXBkYXRlQ3JlYXRlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIHNlcnZlciBzdXBwb3J0cyBjb25kaXRpb25hbCBjcmVhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbmRpdGlvbmFsQ3JlYXRlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIHNlcnZlciBzdXBwb3J0cyBjb25kaXRpb25hbCB1cGRhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGNvbmRpdGlvbmFsVXBkYXRlPzogZmhpci5GaGlyQm9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgaW5kaWNhdGVzIGhvdyB0aGUgc2VydmVyIHN1cHBvcnRzIGNvbmRpdGlvbmFsIGRlbGV0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgY29uZGl0aW9uYWxEZWxldGU/OiBmaGlyLkZoaXJDb2RlPENvbmRpdGlvbmFsRGVsZXRlU3RhdHVzQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgX2luY2x1ZGUgdmFsdWVzIHN1cHBvcnRlZCBieSB0aGUgc2VydmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWFyY2hJbmNsdWRlOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgX3JldmluY2x1ZGUgKHJldmVyc2UgaW5jbHVkZSkgdmFsdWVzIHN1cHBvcnRlZCBieSB0aGUgc2VydmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWFyY2hSZXZJbmNsdWRlOiBmaGlyLkZoaXJTdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBTZWFyY2ggcGFyYW1ldGVycyBmb3IgaW1wbGVtZW50YXRpb25zIHRvIHN1cHBvcnQgYW5kL29yIG1ha2UgdXNlIG9mIC0gZWl0aGVyIHJlZmVyZW5jZXMgdG8gb25lcyBkZWZpbmVkIGluIHRoZSBzcGVjaWZpY2F0aW9uLCBvciBhZGRpdGlvbmFsIG9uZXMgZGVmaW5lZCBmb3IvYnkgdGhlIGltcGxlbWVudGF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWFyY2hQYXJhbTogZmhpci5Db25mb3JtYW5jZVJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uZm9ybWFuY2VSZXN0UmVzb3VyY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25mb3JtYW5jZVJlc3RSZXNvdXJjZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2ZpbGUnXSkgeyB0aGlzLnByb2ZpbGUgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnByb2ZpbGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbnRlcmFjdGlvbiddKSB7IHRoaXMuaW50ZXJhY3Rpb24gPSBzb3VyY2UuaW50ZXJhY3Rpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db25mb3JtYW5jZVJlc3RSZXNvdXJjZUludGVyYWN0aW9uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaW50ZXJhY3Rpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyc2lvbmluZyddKSB7IHRoaXMudmVyc2lvbmluZyA9IG5ldyBmaGlyLkZoaXJDb2RlPFZlcnNpb25pbmdQb2xpY3lDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UudmVyc2lvbmluZ30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyc2lvbmluZyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcnNpb25pbmcpIHsgdGhpcy52ZXJzaW9uaW5nLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcnNpb25pbmchKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJzaW9uaW5nID0gbmV3IGZoaXIuRmhpckNvZGU8VmVyc2lvbmluZ1BvbGljeUNvZGVUeXBlPihzb3VyY2UuX3ZlcnNpb25pbmcgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlYWRIaXN0b3J5J10pIHsgdGhpcy5yZWFkSGlzdG9yeSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnJlYWRIaXN0b3J5fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19yZWFkSGlzdG9yeSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlYWRIaXN0b3J5KSB7IHRoaXMucmVhZEhpc3RvcnkuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcmVhZEhpc3RvcnkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZWFkSGlzdG9yeSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fcmVhZEhpc3RvcnkgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd1cGRhdGVDcmVhdGUnXSkgeyB0aGlzLnVwZGF0ZUNyZWF0ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnVwZGF0ZUNyZWF0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdXBkYXRlQ3JlYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudXBkYXRlQ3JlYXRlKSB7IHRoaXMudXBkYXRlQ3JlYXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3VwZGF0ZUNyZWF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVwZGF0ZUNyZWF0ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fdXBkYXRlQ3JlYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29uZGl0aW9uYWxDcmVhdGUnXSkgeyB0aGlzLmNvbmRpdGlvbmFsQ3JlYXRlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oe3ZhbHVlOiBzb3VyY2UuY29uZGl0aW9uYWxDcmVhdGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvbmRpdGlvbmFsQ3JlYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29uZGl0aW9uYWxDcmVhdGUpIHsgdGhpcy5jb25kaXRpb25hbENyZWF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb25kaXRpb25hbENyZWF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvbmRpdGlvbmFsQ3JlYXRlID0gbmV3IGZoaXIuRmhpckJvb2xlYW4oc291cmNlLl9jb25kaXRpb25hbENyZWF0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvbmRpdGlvbmFsVXBkYXRlJ10pIHsgdGhpcy5jb25kaXRpb25hbFVwZGF0ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLmNvbmRpdGlvbmFsVXBkYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb25kaXRpb25hbFVwZGF0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvbmRpdGlvbmFsVXBkYXRlKSB7IHRoaXMuY29uZGl0aW9uYWxVcGRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29uZGl0aW9uYWxVcGRhdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb25kaXRpb25hbFVwZGF0ZSA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fY29uZGl0aW9uYWxVcGRhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb25kaXRpb25hbERlbGV0ZSddKSB7IHRoaXMuY29uZGl0aW9uYWxEZWxldGUgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25kaXRpb25hbERlbGV0ZVN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5jb25kaXRpb25hbERlbGV0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29uZGl0aW9uYWxEZWxldGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb25kaXRpb25hbERlbGV0ZSkgeyB0aGlzLmNvbmRpdGlvbmFsRGVsZXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvbmRpdGlvbmFsRGVsZXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29uZGl0aW9uYWxEZWxldGUgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25kaXRpb25hbERlbGV0ZVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX2NvbmRpdGlvbmFsRGVsZXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZWFyY2hJbmNsdWRlJ10pIHsgdGhpcy5zZWFyY2hJbmNsdWRlID0gc291cmNlLnNlYXJjaEluY2x1ZGUubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VhcmNoSW5jbHVkZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfc2VhcmNoSW5jbHVkZSddKSB7XHJcbiAgICAgIHNvdXJjZS5fc2VhcmNoSW5jbHVkZS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hJbmNsdWRlLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuc2VhcmNoSW5jbHVkZVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnNlYXJjaEluY2x1ZGUucHVzaChuZXcgZmhpci5GaGlyU3RyaW5nKHggYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZWFyY2hSZXZJbmNsdWRlJ10pIHsgdGhpcy5zZWFyY2hSZXZJbmNsdWRlID0gc291cmNlLnNlYXJjaFJldkluY2x1ZGUubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogeH0pKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VhcmNoUmV2SW5jbHVkZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfc2VhcmNoUmV2SW5jbHVkZSddKSB7XHJcbiAgICAgIHNvdXJjZS5fc2VhcmNoUmV2SW5jbHVkZS5mb3JFYWNoKCh4LGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hSZXZJbmNsdWRlLmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuc2VhcmNoUmV2SW5jbHVkZVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnNlYXJjaFJldkluY2x1ZGUucHVzaChuZXcgZmhpci5GaGlyU3RyaW5nKHggYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZWFyY2hQYXJhbSddKSB7IHRoaXMuc2VhcmNoUGFyYW0gPSBzb3VyY2Uuc2VhcmNoUGFyYW0ubWFwKCh4KSA9PiBuZXcgZmhpci5Db25mb3JtYW5jZVJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VhcmNoUGFyYW0gPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NvbmZvcm1hbmNlLnJlc3QucmVzb3VyY2UnIH1cclxuICAgIHRoaXMudlJTVigndHlwZScsZXhwLCdSZXNvdXJjZVR5cGVzJyxSZXNvdXJjZVR5cGVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdwcm9maWxlJyxleHApXHJcbiAgICB0aGlzLnZSQSgnaW50ZXJhY3Rpb24nLGV4cClcclxuICAgIHRoaXMudk9TVigndmVyc2lvbmluZycsZXhwLCdWZXJzaW9uaW5nUG9saWN5JyxWZXJzaW9uaW5nUG9saWN5VnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdyZWFkSGlzdG9yeScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3VwZGF0ZUNyZWF0ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NvbmRpdGlvbmFsQ3JlYXRlJyxleHApXHJcbiAgICB0aGlzLnZPUygnY29uZGl0aW9uYWxVcGRhdGUnLGV4cClcclxuICAgIHRoaXMudk9TVignY29uZGl0aW9uYWxEZWxldGUnLGV4cCwnQ29uZGl0aW9uYWxEZWxldGVTdGF0dXMnLENvbmRpdGlvbmFsRGVsZXRlU3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9BKCdzZWFyY2hJbmNsdWRlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnc2VhcmNoUmV2SW5jbHVkZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3NlYXJjaFBhcmFtJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uZm9ybWFuY2VSZXN0SW50ZXJhY3Rpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZm9ybWFuY2VSZXN0SW50ZXJhY3Rpb25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIGNvZGVkIGlkZW50aWZpZXIgb2YgdGhlIG9wZXJhdGlvbiwgc3VwcG9ydGVkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgY29kZTogZmhpci5GaGlyQ29kZTxTeXN0ZW1SZXN0ZnVsSW50ZXJhY3Rpb25Db2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5pbnRlcmFjdGlvbi5jb2RlXHJcbiAgICovXHJcbiAgX2NvZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEd1aWRhbmNlIHNwZWNpZmljIHRvIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIG9wZXJhdGlvbiwgc3VjaCBhcyBsaW1pdGF0aW9ucyBvbiB0aGUga2luZCBvZiB0cmFuc2FjdGlvbnMgYWxsb3dlZCwgb3IgaW5mb3JtYXRpb24gYWJvdXQgc3lzdGVtIHdpZGUgc2VhcmNoIGlzIGltcGxlbWVudGVkLlxyXG4gICAqL1xyXG4gIGRvY3VtZW50YXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5pbnRlcmFjdGlvbi5kb2N1bWVudGF0aW9uXHJcbiAgICovXHJcbiAgX2RvY3VtZW50YXRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzcGVjaWZpY2F0aW9uIG9mIHJlc3RmdWwgb3BlcmF0aW9ucyBzdXBwb3J0ZWQgYnkgdGhlIHN5c3RlbS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25mb3JtYW5jZVJlc3RJbnRlcmFjdGlvbiBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmZvcm1hbmNlUmVzdEludGVyYWN0aW9uJztcclxuICAvKipcclxuICAgKiBBIGNvZGVkIGlkZW50aWZpZXIgb2YgdGhlIG9wZXJhdGlvbiwgc3VwcG9ydGVkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuRmhpckNvZGU8U3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogR3VpZGFuY2Ugc3BlY2lmaWMgdG8gdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgb3BlcmF0aW9uLCBzdWNoIGFzIGxpbWl0YXRpb25zIG9uIHRoZSBraW5kIG9mIHRyYW5zYWN0aW9ucyBhbGxvd2VkLCBvciBpbmZvcm1hdGlvbiBhYm91dCBzeXN0ZW0gd2lkZSBzZWFyY2ggaXMgaW1wbGVtZW50ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGRvY3VtZW50YXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmZvcm1hbmNlUmVzdEludGVyYWN0aW9uIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uZm9ybWFuY2VSZXN0SW50ZXJhY3Rpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFN5c3RlbVJlc3RmdWxJbnRlcmFjdGlvbkNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5jb2RlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29kZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvZGUpIHsgdGhpcy5jb2RlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvZGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8U3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uQ29kZVR5cGU+KHNvdXJjZS5fY29kZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnRhdGlvbiddKSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZG9jdW1lbnRhdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZG9jdW1lbnRhdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50YXRpb24pIHsgdGhpcy5kb2N1bWVudGF0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RvY3VtZW50YXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kb2N1bWVudGF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2RvY3VtZW50YXRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25mb3JtYW5jZS5yZXN0LmludGVyYWN0aW9uJyB9XHJcbiAgICB0aGlzLnZSU1YoJ2NvZGUnLGV4cCwnU3lzdGVtUmVzdGZ1bEludGVyYWN0aW9uJyxTeXN0ZW1SZXN0ZnVsSW50ZXJhY3Rpb25Wc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1MoJ2RvY3VtZW50YXRpb24nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25mb3JtYW5jZVJlc3RPcGVyYXRpb24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZm9ybWFuY2VSZXN0T3BlcmF0aW9uQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgYSBxdWVyeSwgd2hpY2ggaXMgdXNlZCBpbiB0aGUgX3F1ZXJ5IHBhcmFtZXRlciB3aGVuIHRoZSBxdWVyeSBpcyBjYWxsZWQuXHJcbiAgICovXHJcbiAgbmFtZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlc3Qub3BlcmF0aW9uLm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIGZvcm1hbCBkZWZpbml0aW9uIGNhbiBiZSBmb3VuZC5cclxuICAgKi9cclxuICBkZWZpbml0aW9uOiBmaGlyLlJlZmVyZW5jZUFyZ3N8bnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlZmluaXRpb24gb2YgYW4gb3BlcmF0aW9uIG9yIGEgbmFtZWQgcXVlcnkgYW5kIHdpdGggaXRzIHBhcmFtZXRlcnMgYW5kIHRoZWlyIG1lYW5pbmcgYW5kIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uZm9ybWFuY2VSZXN0T3BlcmF0aW9uIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29uZm9ybWFuY2VSZXN0T3BlcmF0aW9uJztcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiBhIHF1ZXJ5LCB3aGljaCBpcyB1c2VkIGluIHRoZSBfcXVlcnkgcGFyYW1ldGVyIHdoZW4gdGhlIHF1ZXJ5IGlzIGNhbGxlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIGZvcm1hbCBkZWZpbml0aW9uIGNhbiBiZSBmb3VuZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVmaW5pdGlvbjogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBDb25mb3JtYW5jZVJlc3RPcGVyYXRpb24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25mb3JtYW5jZVJlc3RPcGVyYXRpb25BcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5uYW1lID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZWZpbml0aW9uJ10pIHsgdGhpcy5kZWZpbml0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5kZWZpbml0aW9uKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVmaW5pdGlvbiA9IG51bGw7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25mb3JtYW5jZS5yZXN0Lm9wZXJhdGlvbicgfVxyXG4gICAgdGhpcy52UlMoJ25hbWUnLGV4cClcclxuICAgIHRoaXMudlJTKCdkZWZpbml0aW9uJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uZm9ybWFuY2VSZXN0IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZvcm1hbmNlUmVzdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgd2hldGhlciB0aGlzIHBvcnRpb24gb2YgdGhlIHN0YXRlbWVudCBpcyBkZXNjcmliaW5nIGFiaWxpdHkgdG8gaW5pdGlhdGUgb3IgcmVjZWl2ZSByZXN0ZnVsIG9wZXJhdGlvbnMuXHJcbiAgICovXHJcbiAgbW9kZTogZmhpci5GaGlyQ29kZTxSZXN0ZnVsQ29uZm9ybWFuY2VNb2RlQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlc3QubW9kZVxyXG4gICAqL1xyXG4gIF9tb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc3lzdGVtJ3MgcmVzdGZ1bCBjYXBhYmlsaXRpZXMgdGhhdCBhcHBseSBhY3Jvc3MgYWxsIGFwcGxpY2F0aW9ucywgc3VjaCBhcyBzZWN1cml0eS5cclxuICAgKi9cclxuICBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlc3QuZG9jdW1lbnRhdGlvblxyXG4gICAqL1xyXG4gIF9kb2N1bWVudGF0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCBzZWN1cml0eSBpbXBsZW1lbnRhdGlvbiBmcm9tIGFuIGludGVyZmFjZSBwZXJzcGVjdGl2ZSAtIHdoYXQgYSBjbGllbnQgbmVlZHMgdG8ga25vdy5cclxuICAgKi9cclxuICBzZWN1cml0eT86IGZoaXIuQ29uZm9ybWFuY2VSZXN0U2VjdXJpdHlBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNwZWNpZmljYXRpb24gb2YgdGhlIHJlc3RmdWwgY2FwYWJpbGl0aWVzIG9mIHRoZSBzb2x1dGlvbiBmb3IgYSBzcGVjaWZpYyByZXNvdXJjZSB0eXBlLlxyXG4gICAqL1xyXG4gIHJlc291cmNlOiBmaGlyLkNvbmZvcm1hbmNlUmVzdFJlc291cmNlQXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWZpY2F0aW9uIG9mIHJlc3RmdWwgb3BlcmF0aW9ucyBzdXBwb3J0ZWQgYnkgdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBpbnRlcmFjdGlvbj86IGZoaXIuQ29uZm9ybWFuY2VSZXN0SW50ZXJhY3Rpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSB0aGF0IGluZGljYXRlcyBob3cgdHJhbnNhY3Rpb25zIGFyZSBzdXBwb3J0ZWQuXHJcbiAgICovXHJcbiAgdHJhbnNhY3Rpb25Nb2RlPzogZmhpci5GaGlyQ29kZTxUcmFuc2FjdGlvbk1vZGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC50cmFuc2FjdGlvbk1vZGVcclxuICAgKi9cclxuICBfdHJhbnNhY3Rpb25Nb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBTZWFyY2ggcGFyYW1ldGVycyB0aGF0IGFyZSBzdXBwb3J0ZWQgZm9yIHNlYXJjaGluZyBhbGwgcmVzb3VyY2VzIGZvciBpbXBsZW1lbnRhdGlvbnMgdG8gc3VwcG9ydCBhbmQvb3IgbWFrZSB1c2Ugb2YgLSBlaXRoZXIgcmVmZXJlbmNlcyB0byBvbmVzIGRlZmluZWQgaW4gdGhlIHNwZWNpZmljYXRpb24sIG9yIGFkZGl0aW9uYWwgb25lcyBkZWZpbmVkIGZvci9ieSB0aGUgaW1wbGVtZW50YXRpb24uXHJcbiAgICovXHJcbiAgc2VhcmNoUGFyYW0/OiBmaGlyLkNvbmZvcm1hbmNlUmVzdFJlc291cmNlU2VhcmNoUGFyYW1BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmluaXRpb24gb2YgYW4gb3BlcmF0aW9uIG9yIGEgbmFtZWQgcXVlcnkgYW5kIHdpdGggaXRzIHBhcmFtZXRlcnMgYW5kIHRoZWlyIG1lYW5pbmcgYW5kIHR5cGUuXHJcbiAgICovXHJcbiAgb3BlcmF0aW9uPzogZmhpci5Db25mb3JtYW5jZVJlc3RPcGVyYXRpb25BcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIFVSSSB3aGljaCBpcyBhIHJlZmVyZW5jZSB0byB0aGUgZGVmaW5pdGlvbiBvZiBhIGNvbXBhcnRtZW50IGhvc3RlZCBieSB0aGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIGNvbXBhcnRtZW50PzogZmhpci5GaGlyVXJpW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucmVzdC5jb21wYXJ0bWVudFxyXG4gICAqL1xyXG4gIF9jb21wYXJ0bWVudD86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGRlZmluaXRpb24gb2YgdGhlIHJlc3RmdWwgY2FwYWJpbGl0aWVzIG9mIHRoZSBzb2x1dGlvbiwgaWYgYW55LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbmZvcm1hbmNlUmVzdCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmZvcm1hbmNlUmVzdCc7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB3aGV0aGVyIHRoaXMgcG9ydGlvbiBvZiB0aGUgc3RhdGVtZW50IGlzIGRlc2NyaWJpbmcgYWJpbGl0eSB0byBpbml0aWF0ZSBvciByZWNlaXZlIHJlc3RmdWwgb3BlcmF0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgbW9kZTogZmhpci5GaGlyQ29kZTxSZXN0ZnVsQ29uZm9ybWFuY2VNb2RlQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHN5c3RlbSdzIHJlc3RmdWwgY2FwYWJpbGl0aWVzIHRoYXQgYXBwbHkgYWNyb3NzIGFsbCBhcHBsaWNhdGlvbnMsIHN1Y2ggYXMgc2VjdXJpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGRvY3VtZW50YXRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHNlY3VyaXR5IGltcGxlbWVudGF0aW9uIGZyb20gYW4gaW50ZXJmYWNlIHBlcnNwZWN0aXZlIC0gd2hhdCBhIGNsaWVudCBuZWVkcyB0byBrbm93LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWN1cml0eT86IGZoaXIuQ29uZm9ybWFuY2VSZXN0U2VjdXJpdHl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2lmaWNhdGlvbiBvZiB0aGUgcmVzdGZ1bCBjYXBhYmlsaXRpZXMgb2YgdGhlIHNvbHV0aW9uIGZvciBhIHNwZWNpZmljIHJlc291cmNlIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIHJlc291cmNlOiBmaGlyLkNvbmZvcm1hbmNlUmVzdFJlc291cmNlW107XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWZpY2F0aW9uIG9mIHJlc3RmdWwgb3BlcmF0aW9ucyBzdXBwb3J0ZWQgYnkgdGhlIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgaW50ZXJhY3Rpb246IGZoaXIuQ29uZm9ybWFuY2VSZXN0SW50ZXJhY3Rpb25bXTtcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBpbmRpY2F0ZXMgaG93IHRyYW5zYWN0aW9ucyBhcmUgc3VwcG9ydGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0cmFuc2FjdGlvbk1vZGU/OiBmaGlyLkZoaXJDb2RlPFRyYW5zYWN0aW9uTW9kZUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2VhcmNoIHBhcmFtZXRlcnMgdGhhdCBhcmUgc3VwcG9ydGVkIGZvciBzZWFyY2hpbmcgYWxsIHJlc291cmNlcyBmb3IgaW1wbGVtZW50YXRpb25zIHRvIHN1cHBvcnQgYW5kL29yIG1ha2UgdXNlIG9mIC0gZWl0aGVyIHJlZmVyZW5jZXMgdG8gb25lcyBkZWZpbmVkIGluIHRoZSBzcGVjaWZpY2F0aW9uLCBvciBhZGRpdGlvbmFsIG9uZXMgZGVmaW5lZCBmb3IvYnkgdGhlIGltcGxlbWVudGF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZWFyY2hQYXJhbTogZmhpci5Db25mb3JtYW5jZVJlc3RSZXNvdXJjZVNlYXJjaFBhcmFtW107XHJcbiAgLyoqXHJcbiAgICogRGVmaW5pdGlvbiBvZiBhbiBvcGVyYXRpb24gb3IgYSBuYW1lZCBxdWVyeSBhbmQgd2l0aCBpdHMgcGFyYW1ldGVycyBhbmQgdGhlaXIgbWVhbmluZyBhbmQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgb3BlcmF0aW9uOiBmaGlyLkNvbmZvcm1hbmNlUmVzdE9wZXJhdGlvbltdO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIFVSSSB3aGljaCBpcyBhIHJlZmVyZW5jZSB0byB0aGUgZGVmaW5pdGlvbiBvZiBhIGNvbXBhcnRtZW50IGhvc3RlZCBieSB0aGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21wYXJ0bWVudDogZmhpci5GaGlyVXJpW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uZm9ybWFuY2VSZXN0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uZm9ybWFuY2VSZXN0QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ21vZGUnXSkgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxSZXN0ZnVsQ29uZm9ybWFuY2VNb2RlQ29kZVR5cGU+KHt2YWx1ZTogc291cmNlLm1vZGV9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubW9kZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19tb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMubW9kZSkgeyB0aGlzLm1vZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbW9kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxSZXN0ZnVsQ29uZm9ybWFuY2VNb2RlQ29kZVR5cGU+KHNvdXJjZS5fbW9kZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnRhdGlvbiddKSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZG9jdW1lbnRhdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZG9jdW1lbnRhdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50YXRpb24pIHsgdGhpcy5kb2N1bWVudGF0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RvY3VtZW50YXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kb2N1bWVudGF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2RvY3VtZW50YXRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NlY3VyaXR5J10pIHsgdGhpcy5zZWN1cml0eSA9IG5ldyBmaGlyLkNvbmZvcm1hbmNlUmVzdFNlY3VyaXR5KHNvdXJjZS5zZWN1cml0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc291cmNlJ10pIHsgdGhpcy5yZXNvdXJjZSA9IHNvdXJjZS5yZXNvdXJjZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbmZvcm1hbmNlUmVzdFJlc291cmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVzb3VyY2UgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnaW50ZXJhY3Rpb24nXSkgeyB0aGlzLmludGVyYWN0aW9uID0gc291cmNlLmludGVyYWN0aW9uLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29uZm9ybWFuY2VSZXN0SW50ZXJhY3Rpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pbnRlcmFjdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyd0cmFuc2FjdGlvbk1vZGUnXSkgeyB0aGlzLnRyYW5zYWN0aW9uTW9kZSA9IG5ldyBmaGlyLkZoaXJDb2RlPFRyYW5zYWN0aW9uTW9kZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS50cmFuc2FjdGlvbk1vZGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3RyYW5zYWN0aW9uTW9kZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uTW9kZSkgeyB0aGlzLnRyYW5zYWN0aW9uTW9kZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90cmFuc2FjdGlvbk1vZGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50cmFuc2FjdGlvbk1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxUcmFuc2FjdGlvbk1vZGVDb2RlVHlwZT4oc291cmNlLl90cmFuc2FjdGlvbk1vZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NlYXJjaFBhcmFtJ10pIHsgdGhpcy5zZWFyY2hQYXJhbSA9IHNvdXJjZS5zZWFyY2hQYXJhbS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbmZvcm1hbmNlUmVzdFJlc291cmNlU2VhcmNoUGFyYW0oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZWFyY2hQYXJhbSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydvcGVyYXRpb24nXSkgeyB0aGlzLm9wZXJhdGlvbiA9IHNvdXJjZS5vcGVyYXRpb24ubWFwKCh4KSA9PiBuZXcgZmhpci5Db25mb3JtYW5jZVJlc3RPcGVyYXRpb24oeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vcGVyYXRpb24gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tcGFydG1lbnQnXSkgeyB0aGlzLmNvbXBhcnRtZW50ID0gc291cmNlLmNvbXBhcnRtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbXBhcnRtZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb21wYXJ0bWVudCddKSB7XHJcbiAgICAgIHNvdXJjZS5fY29tcGFydG1lbnQuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcGFydG1lbnQubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5jb21wYXJ0bWVudFtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLmNvbXBhcnRtZW50LnB1c2gobmV3IGZoaXIuRmhpclVyaSh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NvbmZvcm1hbmNlLnJlc3QnIH1cclxuICAgIHRoaXMudlJTVignbW9kZScsZXhwLCdSZXN0ZnVsQ29uZm9ybWFuY2VNb2RlJyxSZXN0ZnVsQ29uZm9ybWFuY2VNb2RlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdkb2N1bWVudGF0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygnc2VjdXJpdHknLGV4cClcclxuICAgIHRoaXMudlJBKCdyZXNvdXJjZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2ludGVyYWN0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ3RyYW5zYWN0aW9uTW9kZScsZXhwLCdUcmFuc2FjdGlvbk1vZGUnLFRyYW5zYWN0aW9uTW9kZVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZPQSgnc2VhcmNoUGFyYW0nLGV4cClcclxuICAgIHRoaXMudk9BKCdvcGVyYXRpb24nLGV4cClcclxuICAgIHRoaXMudk9BKCdjb21wYXJ0bWVudCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbmZvcm1hbmNlTWVzc2FnaW5nRW5kcG9pbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZm9ybWFuY2VNZXNzYWdpbmdFbmRwb2ludEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEEgbGlzdCBvZiB0aGUgbWVzc2FnaW5nIHRyYW5zcG9ydCBwcm90b2NvbChzKSBpZGVudGlmaWVycywgc3VwcG9ydGVkIGJ5IHRoaXMgZW5kcG9pbnQuXHJcbiAgICovXHJcbiAgcHJvdG9jb2w6IGZoaXIuQ29kaW5nQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBuZXR3b3JrIGFkZHJlc3Mgb2YgdGhlIGVuZC1wb2ludC4gRm9yIHNvbHV0aW9ucyB0aGF0IGRvIG5vdCB1c2UgbmV0d29yayBhZGRyZXNzZXMgZm9yIHJvdXRpbmcsIGl0IGNhbiBiZSBqdXN0IGFuIGlkZW50aWZpZXIuXHJcbiAgICovXHJcbiAgYWRkcmVzczogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLm1lc3NhZ2luZy5lbmRwb2ludC5hZGRyZXNzXHJcbiAgICovXHJcbiAgX2FkZHJlc3M/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogQW4gZW5kcG9pbnQgKG5ldHdvcmsgYWNjZXNzaWJsZSBhZGRyZXNzKSB0byB3aGljaCBtZXNzYWdlcyBhbmQvb3IgcmVwbGllcyBhcmUgdG8gYmUgc2VudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25mb3JtYW5jZU1lc3NhZ2luZ0VuZHBvaW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29uZm9ybWFuY2VNZXNzYWdpbmdFbmRwb2ludCc7XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIHRoZSBtZXNzYWdpbmcgdHJhbnNwb3J0IHByb3RvY29sKHMpIGlkZW50aWZpZXJzLCBzdXBwb3J0ZWQgYnkgdGhpcyBlbmRwb2ludC5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvdG9jb2w6IGZoaXIuQ29kaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5ldHdvcmsgYWRkcmVzcyBvZiB0aGUgZW5kLXBvaW50LiBGb3Igc29sdXRpb25zIHRoYXQgZG8gbm90IHVzZSBuZXR3b3JrIGFkZHJlc3NlcyBmb3Igcm91dGluZywgaXQgY2FuIGJlIGp1c3QgYW4gaWRlbnRpZmllci5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkcmVzczogZmhpci5GaGlyVXJpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uZm9ybWFuY2VNZXNzYWdpbmdFbmRwb2ludCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbmZvcm1hbmNlTWVzc2FnaW5nRW5kcG9pbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsncHJvdG9jb2wnXSkgeyB0aGlzLnByb3RvY29sID0gbmV3IGZoaXIuQ29kaW5nKHNvdXJjZS5wcm90b2NvbCk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb3RvY29sID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWRkcmVzcyddKSB7IHRoaXMuYWRkcmVzcyA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UuYWRkcmVzc30pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hZGRyZXNzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FkZHJlc3MnXSkge1xyXG4gICAgICBpZiAodGhpcy5hZGRyZXNzKSB7IHRoaXMuYWRkcmVzcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hZGRyZXNzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWRkcmVzcyA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl9hZGRyZXNzIGFzIFBhcnRpYWw8Zmhpci5GaGlyVXJpQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uZm9ybWFuY2UubWVzc2FnaW5nLmVuZHBvaW50JyB9XHJcbiAgICB0aGlzLnZSUygncHJvdG9jb2wnLGV4cClcclxuICAgIHRoaXMudlJTKCdhZGRyZXNzJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uZm9ybWFuY2VNZXNzYWdpbmdFdmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25mb3JtYW5jZU1lc3NhZ2luZ0V2ZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlZCBpZGVudGlmaWVyIG9mIGEgc3VwcG9ydGVkIG1lc3NhZ2luZyBldmVudC5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkNvZGluZ0FyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgaW1wYWN0IG9mIHRoZSBjb250ZW50IG9mIHRoZSBtZXNzYWdlLlxyXG4gICAqL1xyXG4gIGNhdGVnb3J5PzogZmhpci5GaGlyQ29kZTxNZXNzYWdlU2lnbmlmaWNhbmNlQ2F0ZWdvcnlDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UubWVzc2FnaW5nLmV2ZW50LmNhdGVnb3J5XHJcbiAgICovXHJcbiAgX2NhdGVnb3J5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgbW9kZSBvZiB0aGlzIGV2ZW50IGRlY2xhcmF0aW9uIC0gd2hldGhlciBhcHBsaWNhdGlvbiBpcyBzZW5kZXIgb3IgcmVjZWl2ZXIuXHJcbiAgICovXHJcbiAgbW9kZTogZmhpci5GaGlyQ29kZTxNZXNzYWdlQ29uZm9ybWFuY2VFdmVudE1vZGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UubWVzc2FnaW5nLmV2ZW50Lm1vZGVcclxuICAgKi9cclxuICBfbW9kZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSByZXNvdXJjZSBhc3NvY2lhdGVkIHdpdGggdGhlIGV2ZW50LiAgVGhpcyBpcyB0aGUgcmVzb3VyY2UgdGhhdCBkZWZpbmVzIHRoZSBldmVudC5cclxuICAgKi9cclxuICBmb2N1czogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5tZXNzYWdpbmcuZXZlbnQuZm9jdXNcclxuICAgKi9cclxuICBfZm9jdXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSByZXF1ZXN0IGZvciB0aGlzIGV2ZW50LlxyXG4gICAqL1xyXG4gIHJlcXVlc3Q6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSByZXNwb25zZSBmb3IgdGhpcyBldmVudC5cclxuICAgKi9cclxuICByZXNwb25zZTogZmhpci5SZWZlcmVuY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogR3VpZGFuY2Ugb24gaG93IHRoaXMgZXZlbnQgaXMgaGFuZGxlZCwgc3VjaCBhcyBpbnRlcm5hbCBzeXN0ZW0gdHJpZ2dlciBwb2ludHMsIGJ1c2luZXNzIHJ1bGVzLCBldGMuXHJcbiAgICovXHJcbiAgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5tZXNzYWdpbmcuZXZlbnQuZG9jdW1lbnRhdGlvblxyXG4gICAqL1xyXG4gIF9kb2N1bWVudGF0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgZGVzY3JpcHRpb24gb2YgdGhlIHNvbHV0aW9uJ3Mgc3VwcG9ydCBmb3IgYW4gZXZlbnQgYXQgdGhpcyBlbmQtcG9pbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uZm9ybWFuY2VNZXNzYWdpbmdFdmVudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmZvcm1hbmNlTWVzc2FnaW5nRXZlbnQnO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgaWRlbnRpZmllciBvZiBhIHN1cHBvcnRlZCBtZXNzYWdpbmcgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGU6IGZoaXIuQ29kaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGltcGFjdCBvZiB0aGUgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cclxuICAgKi9cclxuICBwdWJsaWMgY2F0ZWdvcnk/OiBmaGlyLkZoaXJDb2RlPE1lc3NhZ2VTaWduaWZpY2FuY2VDYXRlZ29yeUNvZGVUeXBlPnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1vZGUgb2YgdGhpcyBldmVudCBkZWNsYXJhdGlvbiAtIHdoZXRoZXIgYXBwbGljYXRpb24gaXMgc2VuZGVyIG9yIHJlY2VpdmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RlOiBmaGlyLkZoaXJDb2RlPE1lc3NhZ2VDb25mb3JtYW5jZUV2ZW50TW9kZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgcmVzb3VyY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBldmVudC4gIFRoaXMgaXMgdGhlIHJlc291cmNlIHRoYXQgZGVmaW5lcyB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGZvY3VzOiBmaGlyLkZoaXJDb2RlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlcXVlc3QgZm9yIHRoaXMgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3Q6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlc3BvbnNlIGZvciB0aGlzIGV2ZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNwb25zZTogZmhpci5SZWZlcmVuY2V8bnVsbDtcclxuICAvKipcclxuICAgKiBHdWlkYW5jZSBvbiBob3cgdGhpcyBldmVudCBpcyBoYW5kbGVkLCBzdWNoIGFzIGludGVybmFsIHN5c3RlbSB0cmlnZ2VyIHBvaW50cywgYnVzaW5lc3MgcnVsZXMsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uZm9ybWFuY2VNZXNzYWdpbmdFdmVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbmZvcm1hbmNlTWVzc2FnaW5nRXZlbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UuY29kZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydjYXRlZ29yeSddKSB7IHRoaXMuY2F0ZWdvcnkgPSBuZXcgZmhpci5GaGlyQ29kZTxNZXNzYWdlU2lnbmlmaWNhbmNlQ2F0ZWdvcnlDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuY2F0ZWdvcnl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NhdGVnb3J5J10pIHtcclxuICAgICAgaWYgKHRoaXMuY2F0ZWdvcnkpIHsgdGhpcy5jYXRlZ29yeS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jYXRlZ29yeSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNhdGVnb3J5ID0gbmV3IGZoaXIuRmhpckNvZGU8TWVzc2FnZVNpZ25pZmljYW5jZUNhdGVnb3J5Q29kZVR5cGU+KHNvdXJjZS5fY2F0ZWdvcnkgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21vZGUnXSkgeyB0aGlzLm1vZGUgPSBuZXcgZmhpci5GaGlyQ29kZTxNZXNzYWdlQ29uZm9ybWFuY2VFdmVudE1vZGVDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UubW9kZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX21vZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5tb2RlKSB7IHRoaXMubW9kZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9tb2RlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubW9kZSA9IG5ldyBmaGlyLkZoaXJDb2RlPE1lc3NhZ2VDb25mb3JtYW5jZUV2ZW50TW9kZUNvZGVUeXBlPihzb3VyY2UuX21vZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2ZvY3VzJ10pIHsgdGhpcy5mb2N1cyA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLmZvY3VzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZvY3VzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2ZvY3VzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZm9jdXMpIHsgdGhpcy5mb2N1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9mb2N1cyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmZvY3VzID0gbmV3IGZoaXIuRmhpckNvZGUoc291cmNlLl9mb2N1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcXVlc3QnXSkgeyB0aGlzLnJlcXVlc3QgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlcXVlc3QpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZXF1ZXN0ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVzcG9uc2UnXSkgeyB0aGlzLnJlc3BvbnNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZXNwb25zZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlc3BvbnNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnRhdGlvbiddKSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZG9jdW1lbnRhdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZG9jdW1lbnRhdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50YXRpb24pIHsgdGhpcy5kb2N1bWVudGF0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RvY3VtZW50YXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kb2N1bWVudGF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2RvY3VtZW50YXRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25mb3JtYW5jZS5tZXNzYWdpbmcuZXZlbnQnIH1cclxuICAgIHRoaXMudlJTKCdjb2RlJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ2NhdGVnb3J5JyxleHAsJ01lc3NhZ2VTaWduaWZpY2FuY2VDYXRlZ29yeScsTWVzc2FnZVNpZ25pZmljYW5jZUNhdGVnb3J5VnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudlJTVignbW9kZScsZXhwLCdNZXNzYWdlQ29uZm9ybWFuY2VFdmVudE1vZGUnLE1lc3NhZ2VDb25mb3JtYW5jZUV2ZW50TW9kZVZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZSU1YoJ2ZvY3VzJyxleHAsJ1Jlc291cmNlVHlwZXMnLFJlc291cmNlVHlwZXNWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52UlMoJ3JlcXVlc3QnLGV4cClcclxuICAgIHRoaXMudlJTKCdyZXNwb25zZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RvY3VtZW50YXRpb24nLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25mb3JtYW5jZU1lc3NhZ2luZyB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25mb3JtYW5jZU1lc3NhZ2luZ0FyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEFuIGVuZHBvaW50IChuZXR3b3JrIGFjY2Vzc2libGUgYWRkcmVzcykgdG8gd2hpY2ggbWVzc2FnZXMgYW5kL29yIHJlcGxpZXMgYXJlIHRvIGJlIHNlbnQuXHJcbiAgICovXHJcbiAgZW5kcG9pbnQ/OiBmaGlyLkNvbmZvcm1hbmNlTWVzc2FnaW5nRW5kcG9pbnRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExlbmd0aCBpZiB0aGUgcmVjZWl2ZXIncyByZWxpYWJsZSBtZXNzYWdpbmcgY2FjaGUgaW4gbWludXRlcyAoaWYgYSByZWNlaXZlcikgb3IgaG93IGxvbmcgdGhlIGNhY2hlIGxlbmd0aCBvbiB0aGUgcmVjZWl2ZXIgc2hvdWxkIGJlIChpZiBhIHNlbmRlcikuXHJcbiAgICovXHJcbiAgcmVsaWFibGVDYWNoZT86IGZoaXIuRmhpclVuc2lnbmVkSW50fG51bWJlcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLm1lc3NhZ2luZy5yZWxpYWJsZUNhY2hlXHJcbiAgICovXHJcbiAgX3JlbGlhYmxlQ2FjaGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIERvY3VtZW50YXRpb24gYWJvdXQgdGhlIHN5c3RlbSdzIG1lc3NhZ2luZyBjYXBhYmlsaXRpZXMgZm9yIHRoaXMgZW5kcG9pbnQgbm90IG90aGVyd2lzZSBkb2N1bWVudGVkIGJ5IHRoZSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQuICBGb3IgZXhhbXBsZSwgcHJvY2VzcyBmb3IgYmVjb21pbmcgYW4gYXV0aG9yaXplZCBtZXNzYWdpbmcgZXhjaGFuZ2UgcGFydG5lci5cclxuICAgKi9cclxuICBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLm1lc3NhZ2luZy5kb2N1bWVudGF0aW9uXHJcbiAgICovXHJcbiAgX2RvY3VtZW50YXRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgZGVzY3JpcHRpb24gb2YgdGhlIHNvbHV0aW9uJ3Mgc3VwcG9ydCBmb3IgYW4gZXZlbnQgYXQgdGhpcyBlbmQtcG9pbnQuXHJcbiAgICovXHJcbiAgZXZlbnQ6IGZoaXIuQ29uZm9ybWFuY2VNZXNzYWdpbmdFdmVudEFyZ3NbXXxudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgbWVzc2FnaW5nIGNhcGFiaWxpdGllcyBvZiB0aGUgc29sdXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uZm9ybWFuY2VNZXNzYWdpbmcgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25mb3JtYW5jZU1lc3NhZ2luZyc7XHJcbiAgLyoqXHJcbiAgICogQW4gZW5kcG9pbnQgKG5ldHdvcmsgYWNjZXNzaWJsZSBhZGRyZXNzKSB0byB3aGljaCBtZXNzYWdlcyBhbmQvb3IgcmVwbGllcyBhcmUgdG8gYmUgc2VudC5cclxuICAgKi9cclxuICBwdWJsaWMgZW5kcG9pbnQ6IGZoaXIuQ29uZm9ybWFuY2VNZXNzYWdpbmdFbmRwb2ludFtdO1xyXG4gIC8qKlxyXG4gICAqIExlbmd0aCBpZiB0aGUgcmVjZWl2ZXIncyByZWxpYWJsZSBtZXNzYWdpbmcgY2FjaGUgaW4gbWludXRlcyAoaWYgYSByZWNlaXZlcikgb3IgaG93IGxvbmcgdGhlIGNhY2hlIGxlbmd0aCBvbiB0aGUgcmVjZWl2ZXIgc2hvdWxkIGJlIChpZiBhIHNlbmRlcikuXHJcbiAgICovXHJcbiAgcHVibGljIHJlbGlhYmxlQ2FjaGU/OiBmaGlyLkZoaXJVbnNpZ25lZEludHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgc3lzdGVtJ3MgbWVzc2FnaW5nIGNhcGFiaWxpdGllcyBmb3IgdGhpcyBlbmRwb2ludCBub3Qgb3RoZXJ3aXNlIGRvY3VtZW50ZWQgYnkgdGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudC4gIEZvciBleGFtcGxlLCBwcm9jZXNzIGZvciBiZWNvbWluZyBhbiBhdXRob3JpemVkIG1lc3NhZ2luZyBleGNoYW5nZSBwYXJ0bmVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudGF0aW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHRoZSBzb2x1dGlvbidzIHN1cHBvcnQgZm9yIGFuIGV2ZW50IGF0IHRoaXMgZW5kLXBvaW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBldmVudDogZmhpci5Db25mb3JtYW5jZU1lc3NhZ2luZ0V2ZW50W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uZm9ybWFuY2VNZXNzYWdpbmcgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25mb3JtYW5jZU1lc3NhZ2luZ0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydlbmRwb2ludCddKSB7IHRoaXMuZW5kcG9pbnQgPSBzb3VyY2UuZW5kcG9pbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Db25mb3JtYW5jZU1lc3NhZ2luZ0VuZHBvaW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZW5kcG9pbnQgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVsaWFibGVDYWNoZSddKSB7IHRoaXMucmVsaWFibGVDYWNoZSA9IG5ldyBmaGlyLkZoaXJVbnNpZ25lZEludCh7dmFsdWU6IHNvdXJjZS5yZWxpYWJsZUNhY2hlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19yZWxpYWJsZUNhY2hlJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVsaWFibGVDYWNoZSkgeyB0aGlzLnJlbGlhYmxlQ2FjaGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fcmVsaWFibGVDYWNoZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlbGlhYmxlQ2FjaGUgPSBuZXcgZmhpci5GaGlyVW5zaWduZWRJbnQoc291cmNlLl9yZWxpYWJsZUNhY2hlIGFzIFBhcnRpYWw8Zmhpci5GaGlyVW5zaWduZWRJbnRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RvY3VtZW50YXRpb24nXSkgeyB0aGlzLmRvY3VtZW50YXRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmRvY3VtZW50YXRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RvY3VtZW50YXRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kb2N1bWVudGF0aW9uKSB7IHRoaXMuZG9jdW1lbnRhdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kb2N1bWVudGF0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9kb2N1bWVudGF0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydldmVudCddKSB7IHRoaXMuZXZlbnQgPSBzb3VyY2UuZXZlbnQubWFwKCh4KSA9PiBuZXcgZmhpci5Db25mb3JtYW5jZU1lc3NhZ2luZ0V2ZW50KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXZlbnQgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NvbmZvcm1hbmNlLm1lc3NhZ2luZycgfVxyXG4gICAgdGhpcy52T0EoJ2VuZHBvaW50JyxleHApXHJcbiAgICB0aGlzLnZPUygncmVsaWFibGVDYWNoZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2RvY3VtZW50YXRpb24nLGV4cClcclxuICAgIHRoaXMudlJBKCdldmVudCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbmZvcm1hbmNlRG9jdW1lbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZm9ybWFuY2VEb2N1bWVudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIE1vZGUgb2YgdGhpcyBkb2N1bWVudCBkZWNsYXJhdGlvbiAtIHdoZXRoZXIgYXBwbGljYXRpb24gaXMgcHJvZHVjZXIgb3IgY29uc3VtZXIuXHJcbiAgICovXHJcbiAgbW9kZTogZmhpci5GaGlyQ29kZTxEb2N1bWVudE1vZGVDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UuZG9jdW1lbnQubW9kZVxyXG4gICAqL1xyXG4gIF9tb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIGhvdyB0aGUgYXBwbGljYXRpb24gc3VwcG9ydHMgb3IgdXNlcyB0aGUgc3BlY2lmaWVkIGRvY3VtZW50IHByb2ZpbGUuICBGb3IgZXhhbXBsZSwgd2hlbiBhcmUgZG9jdW1lbnRzIGNyZWF0ZWQsIHdoYXQgYWN0aW9uIGlzIHRha2VuIHdpdGggY29uc3VtZWQgZG9jdW1lbnRzLCBldGMuXHJcbiAgICovXHJcbiAgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5kb2N1bWVudC5kb2N1bWVudGF0aW9uXHJcbiAgICovXHJcbiAgX2RvY3VtZW50YXRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgY29uc3RyYWludCBvbiBhIHJlc291cmNlIHVzZWQgaW4gdGhlIGRvY3VtZW50LlxyXG4gICAqL1xyXG4gIHByb2ZpbGU6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQSBkb2N1bWVudCBkZWZpbml0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbmZvcm1hbmNlRG9jdW1lbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25mb3JtYW5jZURvY3VtZW50JztcclxuICAvKipcclxuICAgKiBNb2RlIG9mIHRoaXMgZG9jdW1lbnQgZGVjbGFyYXRpb24gLSB3aGV0aGVyIGFwcGxpY2F0aW9uIGlzIHByb2R1Y2VyIG9yIGNvbnN1bWVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtb2RlOiBmaGlyLkZoaXJDb2RlPERvY3VtZW50TW9kZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgZGVzY3JpcHRpb24gb2YgaG93IHRoZSBhcHBsaWNhdGlvbiBzdXBwb3J0cyBvciB1c2VzIHRoZSBzcGVjaWZpZWQgZG9jdW1lbnQgcHJvZmlsZS4gIEZvciBleGFtcGxlLCB3aGVuIGFyZSBkb2N1bWVudHMgY3JlYXRlZCwgd2hhdCBhY3Rpb24gaXMgdGFrZW4gd2l0aCBjb25zdW1lZCBkb2N1bWVudHMsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgZG9jdW1lbnRhdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb25zdHJhaW50IG9uIGEgcmVzb3VyY2UgdXNlZCBpbiB0aGUgZG9jdW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2ZpbGU6IGZoaXIuUmVmZXJlbmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uZm9ybWFuY2VEb2N1bWVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPENvbmZvcm1hbmNlRG9jdW1lbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbW9kZSddKSB7IHRoaXMubW9kZSA9IG5ldyBmaGlyLkZoaXJDb2RlPERvY3VtZW50TW9kZUNvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5tb2RlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLm1vZGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfbW9kZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm1vZGUpIHsgdGhpcy5tb2RlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX21vZGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5tb2RlID0gbmV3IGZoaXIuRmhpckNvZGU8RG9jdW1lbnRNb2RlQ29kZVR5cGU+KHNvdXJjZS5fbW9kZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnRhdGlvbiddKSB7IHRoaXMuZG9jdW1lbnRhdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZG9jdW1lbnRhdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZG9jdW1lbnRhdGlvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50YXRpb24pIHsgdGhpcy5kb2N1bWVudGF0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2RvY3VtZW50YXRpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kb2N1bWVudGF0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2RvY3VtZW50YXRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2ZpbGUnXSkgeyB0aGlzLnByb2ZpbGUgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnByb2ZpbGUpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9maWxlID0gbnVsbDsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NvbmZvcm1hbmNlLmRvY3VtZW50JyB9XHJcbiAgICB0aGlzLnZSU1YoJ21vZGUnLGV4cCwnRG9jdW1lbnRNb2RlJyxEb2N1bWVudE1vZGVWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1MoJ2RvY3VtZW50YXRpb24nLGV4cClcclxuICAgIHRoaXMudlJTKCdwcm9maWxlJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uZm9ybWFuY2UgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZm9ybWFuY2VBcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJDb25mb3JtYW5jZVwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBhYnNvbHV0ZSBVUkwgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgY29uZm9ybWFuY2Ugc3RhdGVtZW50IHdoZW4gaXQgaXMgcmVmZXJlbmNlZCBpbiBhIHNwZWNpZmljYXRpb24sIG1vZGVsLCBkZXNpZ24gb3IgYW4gaW5zdGFuY2UuIFRoaXMgU0hBTEwgYmUgYSBVUkwsIFNIT1VMRCBiZSBnbG9iYWxseSB1bmlxdWUsIGFuZCBTSE9VTEQgYmUgYW4gYWRkcmVzcyBhdCB3aGljaCB0aGlzIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBpcyAob3Igd2lsbCBiZSkgcHVibGlzaGVkLlxyXG4gICAqL1xyXG4gIHVybD86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS51cmxcclxuICAgKi9cclxuICBfdXJsPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgaWRlbnRpZmllciB0aGF0IGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyB2ZXJzaW9uIG9mIHRoZSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgd2hlbiBpdCBpcyByZWZlcmVuY2VkIGluIGEgc3BlY2lmaWNhdGlvbiwgbW9kZWwsIGRlc2lnbiBvciBpbnN0YW5jZS4gVGhpcyBpcyBhbiBhcmJpdHJhcnkgdmFsdWUgbWFuYWdlZCBieSB0aGUgcHJvZmlsZSBhdXRob3IgbWFudWFsbHkgYW5kIHRoZSB2YWx1ZSBzaG91bGQgYmUgYSB0aW1lc3RhbXAuXHJcbiAgICovXHJcbiAgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS52ZXJzaW9uXHJcbiAgICovXHJcbiAgX3ZlcnNpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgZnJlZSB0ZXh0IG5hdHVyYWwgbGFuZ3VhZ2UgbmFtZSBpZGVudGlmeWluZyB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50LlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoaXMgY29uZm9ybWFuY2Ugc3RhdGVtZW50LlxyXG4gICAqL1xyXG4gIHN0YXR1cz86IGZoaXIuRmhpckNvZGU8Q29uZm9ybWFuY2VSZXNvdXJjZVN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5zdGF0dXNcclxuICAgKi9cclxuICBfc3RhdHVzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBpcyBhdXRob3JlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyAob3IgZWR1Y2F0aW9uL2V2YWx1YXRpb24vbWFya2V0aW5nKSwgYW5kIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGZvciBnZW51aW5lIHVzYWdlLlxyXG4gICAqL1xyXG4gIGV4cGVyaW1lbnRhbD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLmV4cGVyaW1lbnRhbFxyXG4gICAqL1xyXG4gIF9leHBlcmltZW50YWw/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEhlbHBzIGVzdGFibGlzaCB0aGUgXCJhdXRob3JpdHkvY3JlZGliaWxpdHlcIiBvZiB0aGUgY29uZm9ybWFuY2UuICBNYXkgYWxzbyBhbGxvdyBmb3IgY29udGFjdC5cclxuICAgKi9cclxuICBwdWJsaXNoZXI/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UucHVibGlzaGVyXHJcbiAgICovXHJcbiAgX3B1Ymxpc2hlcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdHMgdG8gYXNzaXN0IGEgdXNlciBpbiBmaW5kaW5nIGFuZCBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHB1Ymxpc2hlci5cclxuICAgKi9cclxuICBjb250YWN0PzogZmhpci5Db25mb3JtYW5jZUNvbnRhY3RBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkYXRlICAoYW5kIG9wdGlvbmFsbHkgdGltZSkgd2hlbiB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50IHdhcyBwdWJsaXNoZWQuIFRoZSBkYXRlIG11c3QgY2hhbmdlIHdoZW4gdGhlIGJ1c2luZXNzIHZlcnNpb24gY2hhbmdlcywgaWYgaXQgZG9lcywgYW5kIGl0IG11c3QgY2hhbmdlIGlmIHRoZSBzdGF0dXMgY29kZSBjaGFuZ2VzLiBJbiBhZGRpdGlvbiwgaXQgc2hvdWxkIGNoYW5nZSB3aGVuIHRoZSBzdWJzdGFudGl2ZSBjb250ZW50IG9mIHRoZSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgY2hhbmdlcy5cclxuICAgKi9cclxuICBkYXRlOiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5kYXRlXHJcbiAgICovXHJcbiAgX2RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgZnJlZSB0ZXh0IG5hdHVyYWwgbGFuZ3VhZ2UgZGVzY3JpcHRpb24gb2YgdGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBhbmQgaXRzIHVzZS4gVHlwaWNhbGx5LCB0aGlzIGlzIHVzZWQgd2hlbiB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGRlc2NyaWJlcyBhIGRlc2lyZWQgcmF0aGVyIHRoYW4gYW4gYWN0dWFsIHNvbHV0aW9uLCBmb3IgZXhhbXBsZSBhcyBhIGZvcm1hbCBleHByZXNzaW9uIG9mIHJlcXVpcmVtZW50cyBhcyBwYXJ0IG9mIGFuIFJGUC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25mb3JtYW5jZS5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRXhwbGFpbnMgd2h5IHRoaXMgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGlzIG5lZWRlZCBhbmQgd2h5IGl0J3MgYmVlbiBjb25zdHJhaW5lZCBhcyBpdCBoYXMuXHJcbiAgICovXHJcbiAgcmVxdWlyZW1lbnRzPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLnJlcXVpcmVtZW50c1xyXG4gICAqL1xyXG4gIF9yZXF1aXJlbWVudHM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgY29weXJpZ2h0IHN0YXRlbWVudCByZWxhdGluZyB0byB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGFuZC9vciBpdHMgY29udGVudHMuIENvcHlyaWdodCBzdGF0ZW1lbnRzIGFyZSBnZW5lcmFsbHkgbGVnYWwgcmVzdHJpY3Rpb25zIG9uIHRoZSB1c2UgYW5kIHB1Ymxpc2hpbmcgb2YgdGhlIGRldGFpbHMgb2YgdGhlIHN5c3RlbSBkZXNjcmliZWQgYnkgdGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudC5cclxuICAgKi9cclxuICBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UuY29weXJpZ2h0XHJcbiAgICovXHJcbiAgX2NvcHlyaWdodD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWxsb3cgc2VhcmNoaW5nIHRoZSAzIG1vZGVzLlxyXG4gICAqL1xyXG4gIGtpbmQ6IGZoaXIuRmhpckNvZGU8Q29uZm9ybWFuY2VTdGF0ZW1lbnRLaW5kQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLmtpbmRcclxuICAgKi9cclxuICBfa2luZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogU29mdHdhcmUgdGhhdCBpcyBjb3ZlcmVkIGJ5IHRoaXMgY29uZm9ybWFuY2Ugc3RhdGVtZW50LiAgSXQgaXMgdXNlZCB3aGVuIHRoZSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgZGVzY3JpYmVzIHRoZSBjYXBhYmlsaXRpZXMgb2YgYSBwYXJ0aWN1bGFyIHNvZnR3YXJlIHZlcnNpb24sIGluZGVwZW5kZW50IG9mIGFuIGluc3RhbGxhdGlvbi5cclxuICAgKi9cclxuICBzb2Z0d2FyZT86IGZoaXIuQ29uZm9ybWFuY2VTb2Z0d2FyZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgYSBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbiBpbnN0YW5jZSB0aGF0IGlzIGRlc2NyaWJlZCBieSB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50IC0gaS5lLiBhIHBhcnRpY3VsYXIgaW5zdGFsbGF0aW9uLCByYXRoZXIgdGhhbiB0aGUgY2FwYWJpbGl0aWVzIG9mIGEgc29mdHdhcmUgcHJvZ3JhbS5cclxuICAgKi9cclxuICBpbXBsZW1lbnRhdGlvbj86IGZoaXIuQ29uZm9ybWFuY2VJbXBsZW1lbnRhdGlvbkFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBGSElSIHNwZWNpZmljYXRpb24gb24gd2hpY2ggdGhpcyBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgaXMgYmFzZWQuXHJcbiAgICovXHJcbiAgZmhpclZlcnNpb246IGZoaXIuRmhpcklkfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLmZoaXJWZXJzaW9uXHJcbiAgICovXHJcbiAgX2ZoaXJWZXJzaW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvZGUgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgYXBwbGljYXRpb24gYWNjZXB0cyB1bmtub3duIGVsZW1lbnRzIG9yIGV4dGVuc2lvbnMgd2hlbiByZWFkaW5nIHJlc291cmNlcy5cclxuICAgKi9cclxuICBhY2NlcHRVbmtub3duOiBmaGlyLkZoaXJDb2RlPFVua25vd25Db250ZW50Q29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmZvcm1hbmNlLmFjY2VwdFVua25vd25cclxuICAgKi9cclxuICBfYWNjZXB0VW5rbm93bj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIHRoZSBmb3JtYXRzIHN1cHBvcnRlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uIHVzaW5nIHRoZWlyIGNvbnRlbnQgdHlwZXMuXHJcbiAgICovXHJcbiAgZm9ybWF0OiBmaGlyLkZoaXJDb2RlW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uZm9ybWFuY2UuZm9ybWF0XHJcbiAgICovXHJcbiAgX2Zvcm1hdD86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIHByb2ZpbGVzIHRoYXQgcmVwcmVzZW50IGRpZmZlcmVudCB1c2UgY2FzZXMgc3VwcG9ydGVkIGJ5IHRoZSBzeXN0ZW0uIEZvciBhIHNlcnZlciwgXCJzdXBwb3J0ZWQgYnkgdGhlIHN5c3RlbVwiIG1lYW5zIHRoZSBzeXN0ZW0gaG9zdHMvcHJvZHVjZXMgYSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbmZvcm1hbnQgdG8gYSBwYXJ0aWN1bGFyIHByb2ZpbGUsIGFuZCBhbGxvd3MgY2xpZW50cyB0aGF0IHVzZSBpdHMgc2VydmljZXMgdG8gc2VhcmNoIHVzaW5nIHRoaXMgcHJvZmlsZSBhbmQgdG8gZmluZCBhcHByb3ByaWF0ZSBkYXRhLiBGb3IgYSBjbGllbnQsIGl0IG1lYW5zIHRoZSBzeXN0ZW0gd2lsbCBzZWFyY2ggYnkgdGhpcyBwcm9maWxlIGFuZCBwcm9jZXNzIGRhdGEgYWNjb3JkaW5nIHRvIHRoZSBndWlkYW5jZSBpbXBsaWNpdCBpbiB0aGUgcHJvZmlsZS4gU2VlIGZ1cnRoZXIgZGlzY3Vzc2lvbiBpbiBbVXNpbmcgUHJvZmlsZXNde3Byb2ZpbGluZy5odG1sI3Byb2ZpbGUtdXNlc30uXHJcbiAgICovXHJcbiAgcHJvZmlsZT86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRlZmluaXRpb24gb2YgdGhlIHJlc3RmdWwgY2FwYWJpbGl0aWVzIG9mIHRoZSBzb2x1dGlvbiwgaWYgYW55LlxyXG4gICAqL1xyXG4gIHJlc3Q/OiBmaGlyLkNvbmZvcm1hbmNlUmVzdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgbWVzc2FnaW5nIGNhcGFiaWxpdGllcyBvZiB0aGUgc29sdXRpb24uXHJcbiAgICovXHJcbiAgbWVzc2FnaW5nPzogZmhpci5Db25mb3JtYW5jZU1lc3NhZ2luZ0FyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBkb2N1bWVudCBkZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIGRvY3VtZW50PzogZmhpci5Db25mb3JtYW5jZURvY3VtZW50QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGlzIGEgc2V0IG9mIGNhcGFiaWxpdGllcyBvZiBhIEZISVIgU2VydmVyIHRoYXQgbWF5IGJlIHVzZWQgYXMgYSBzdGF0ZW1lbnQgb2YgYWN0dWFsIHNlcnZlciBmdW5jdGlvbmFsaXR5IG9yIGEgc3RhdGVtZW50IG9mIHJlcXVpcmVkIG9yIGRlc2lyZWQgc2VydmVyIGltcGxlbWVudGF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbmZvcm1hbmNlIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25mb3JtYW5jZSc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJDb25mb3JtYW5jZVwiO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIFVSTCB0aGF0IGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgd2hlbiBpdCBpcyByZWZlcmVuY2VkIGluIGEgc3BlY2lmaWNhdGlvbiwgbW9kZWwsIGRlc2lnbiBvciBhbiBpbnN0YW5jZS4gVGhpcyBTSEFMTCBiZSBhIFVSTCwgU0hPVUxEIGJlIGdsb2JhbGx5IHVuaXF1ZSwgYW5kIFNIT1VMRCBiZSBhbiBhZGRyZXNzIGF0IHdoaWNoIHRoaXMgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGlzIChvciB3aWxsIGJlKSBwdWJsaXNoZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHVybD86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgdmVyc2lvbiBvZiB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50IHdoZW4gaXQgaXMgcmVmZXJlbmNlZCBpbiBhIHNwZWNpZmljYXRpb24sIG1vZGVsLCBkZXNpZ24gb3IgaW5zdGFuY2UuIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IHZhbHVlIG1hbmFnZWQgYnkgdGhlIHByb2ZpbGUgYXV0aG9yIG1hbnVhbGx5IGFuZCB0aGUgdmFsdWUgc2hvdWxkIGJlIGEgdGltZXN0YW1wLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2ZXJzaW9uPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGZyZWUgdGV4dCBuYXR1cmFsIGxhbmd1YWdlIG5hbWUgaWRlbnRpZnlpbmcgdGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHN0YXR1cyBvZiB0aGlzIGNvbmZvcm1hbmNlIHN0YXRlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdHVzPzogZmhpci5GaGlyQ29kZTxDb25mb3JtYW5jZVJlc291cmNlU3RhdHVzQ29kZVR5cGU+fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBpcyBhdXRob3JlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyAob3IgZWR1Y2F0aW9uL2V2YWx1YXRpb24vbWFya2V0aW5nKSwgYW5kIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGZvciBnZW51aW5lIHVzYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHBlcmltZW50YWw/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIZWxwcyBlc3RhYmxpc2ggdGhlIFwiYXV0aG9yaXR5L2NyZWRpYmlsaXR5XCIgb2YgdGhlIGNvbmZvcm1hbmNlLiAgTWF5IGFsc28gYWxsb3cgZm9yIGNvbnRhY3QuXHJcbiAgICovXHJcbiAgcHVibGljIHB1Ymxpc2hlcj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdHMgdG8gYXNzaXN0IGEgdXNlciBpbiBmaW5kaW5nIGFuZCBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHB1Ymxpc2hlci5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFjdDogZmhpci5Db25mb3JtYW5jZUNvbnRhY3RbXTtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSAgKGFuZCBvcHRpb25hbGx5IHRpbWUpIHdoZW4gdGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudCB3YXMgcHVibGlzaGVkLiBUaGUgZGF0ZSBtdXN0IGNoYW5nZSB3aGVuIHRoZSBidXNpbmVzcyB2ZXJzaW9uIGNoYW5nZXMsIGlmIGl0IGRvZXMsIGFuZCBpdCBtdXN0IGNoYW5nZSBpZiB0aGUgc3RhdHVzIGNvZGUgY2hhbmdlcy4gSW4gYWRkaXRpb24sIGl0IHNob3VsZCBjaGFuZ2Ugd2hlbiB0aGUgc3Vic3RhbnRpdmUgY29udGVudCBvZiB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGNoYW5nZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU6IGZoaXIuRmhpckRhdGVUaW1lfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBmcmVlIHRleHQgbmF0dXJhbCBsYW5ndWFnZSBkZXNjcmlwdGlvbiBvZiB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGFuZCBpdHMgdXNlLiBUeXBpY2FsbHksIHRoaXMgaXMgdXNlZCB3aGVuIHRoZSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgZGVzY3JpYmVzIGEgZGVzaXJlZCByYXRoZXIgdGhhbiBhbiBhY3R1YWwgc29sdXRpb24sIGZvciBleGFtcGxlIGFzIGEgZm9ybWFsIGV4cHJlc3Npb24gb2YgcmVxdWlyZW1lbnRzIGFzIHBhcnQgb2YgYW4gUkZQLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXhwbGFpbnMgd2h5IHRoaXMgY29uZm9ybWFuY2Ugc3RhdGVtZW50IGlzIG5lZWRlZCBhbmQgd2h5IGl0J3MgYmVlbiBjb25zdHJhaW5lZCBhcyBpdCBoYXMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVpcmVtZW50cz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb3B5cmlnaHQgc3RhdGVtZW50IHJlbGF0aW5nIHRvIHRoZSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgYW5kL29yIGl0cyBjb250ZW50cy4gQ29weXJpZ2h0IHN0YXRlbWVudHMgYXJlIGdlbmVyYWxseSBsZWdhbCByZXN0cmljdGlvbnMgb24gdGhlIHVzZSBhbmQgcHVibGlzaGluZyBvZiB0aGUgZGV0YWlscyBvZiB0aGUgc3lzdGVtIGRlc2NyaWJlZCBieSB0aGUgY29uZm9ybWFuY2Ugc3RhdGVtZW50LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93IHNlYXJjaGluZyB0aGUgMyBtb2Rlcy5cclxuICAgKi9cclxuICBwdWJsaWMga2luZDogZmhpci5GaGlyQ29kZTxDb25mb3JtYW5jZVN0YXRlbWVudEtpbmRDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBTb2Z0d2FyZSB0aGF0IGlzIGNvdmVyZWQgYnkgdGhpcyBjb25mb3JtYW5jZSBzdGF0ZW1lbnQuICBJdCBpcyB1c2VkIHdoZW4gdGhlIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBkZXNjcmliZXMgdGhlIGNhcGFiaWxpdGllcyBvZiBhIHBhcnRpY3VsYXIgc29mdHdhcmUgdmVyc2lvbiwgaW5kZXBlbmRlbnQgb2YgYW4gaW5zdGFsbGF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzb2Z0d2FyZT86IGZoaXIuQ29uZm9ybWFuY2VTb2Z0d2FyZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGluc3RhbmNlIHRoYXQgaXMgZGVzY3JpYmVkIGJ5IHRoZSBjb25mb3JtYW5jZSBzdGF0ZW1lbnQgLSBpLmUuIGEgcGFydGljdWxhciBpbnN0YWxsYXRpb24sIHJhdGhlciB0aGFuIHRoZSBjYXBhYmlsaXRpZXMgb2YgYSBzb2Z0d2FyZSBwcm9ncmFtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbXBsZW1lbnRhdGlvbj86IGZoaXIuQ29uZm9ybWFuY2VJbXBsZW1lbnRhdGlvbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHZlcnNpb24gb2YgdGhlIEZISVIgc3BlY2lmaWNhdGlvbiBvbiB3aGljaCB0aGlzIGNvbmZvcm1hbmNlIHN0YXRlbWVudCBpcyBiYXNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZmhpclZlcnNpb246IGZoaXIuRmhpcklkfG51bGw7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGFwcGxpY2F0aW9uIGFjY2VwdHMgdW5rbm93biBlbGVtZW50cyBvciBleHRlbnNpb25zIHdoZW4gcmVhZGluZyByZXNvdXJjZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGFjY2VwdFVua25vd246IGZoaXIuRmhpckNvZGU8VW5rbm93bkNvbnRlbnRDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBBIGxpc3Qgb2YgdGhlIGZvcm1hdHMgc3VwcG9ydGVkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb24gdXNpbmcgdGhlaXIgY29udGVudCB0eXBlcy5cclxuICAgKi9cclxuICBwdWJsaWMgZm9ybWF0OiBmaGlyLkZoaXJDb2RlW107XHJcbiAgLyoqXHJcbiAgICogQSBsaXN0IG9mIHByb2ZpbGVzIHRoYXQgcmVwcmVzZW50IGRpZmZlcmVudCB1c2UgY2FzZXMgc3VwcG9ydGVkIGJ5IHRoZSBzeXN0ZW0uIEZvciBhIHNlcnZlciwgXCJzdXBwb3J0ZWQgYnkgdGhlIHN5c3RlbVwiIG1lYW5zIHRoZSBzeXN0ZW0gaG9zdHMvcHJvZHVjZXMgYSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbmZvcm1hbnQgdG8gYSBwYXJ0aWN1bGFyIHByb2ZpbGUsIGFuZCBhbGxvd3MgY2xpZW50cyB0aGF0IHVzZSBpdHMgc2VydmljZXMgdG8gc2VhcmNoIHVzaW5nIHRoaXMgcHJvZmlsZSBhbmQgdG8gZmluZCBhcHByb3ByaWF0ZSBkYXRhLiBGb3IgYSBjbGllbnQsIGl0IG1lYW5zIHRoZSBzeXN0ZW0gd2lsbCBzZWFyY2ggYnkgdGhpcyBwcm9maWxlIGFuZCBwcm9jZXNzIGRhdGEgYWNjb3JkaW5nIHRvIHRoZSBndWlkYW5jZSBpbXBsaWNpdCBpbiB0aGUgcHJvZmlsZS4gU2VlIGZ1cnRoZXIgZGlzY3Vzc2lvbiBpbiBbVXNpbmcgUHJvZmlsZXNde3Byb2ZpbGluZy5odG1sI3Byb2ZpbGUtdXNlc30uXHJcbiAgICovXHJcbiAgcHVibGljIHByb2ZpbGU6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogQSBkZWZpbml0aW9uIG9mIHRoZSByZXN0ZnVsIGNhcGFiaWxpdGllcyBvZiB0aGUgc29sdXRpb24sIGlmIGFueS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVzdDogZmhpci5Db25mb3JtYW5jZVJlc3RbXTtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHRoZSBtZXNzYWdpbmcgY2FwYWJpbGl0aWVzIG9mIHRoZSBzb2x1dGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbWVzc2FnaW5nOiBmaGlyLkNvbmZvcm1hbmNlTWVzc2FnaW5nW107XHJcbiAgLyoqXHJcbiAgICogQSBkb2N1bWVudCBkZWZpbml0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb2N1bWVudDogZmhpci5Db25mb3JtYW5jZURvY3VtZW50W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uZm9ybWFuY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25mb3JtYW5jZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdDb25mb3JtYW5jZSc7XHJcbiAgICBpZiAoc291cmNlWyd1cmwnXSkgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UudXJsfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ191cmwnXSkge1xyXG4gICAgICBpZiAodGhpcy51cmwpIHsgdGhpcy51cmwuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdXJsISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudXJsID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX3VybCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyc2lvbiddKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcnNpb24pIHsgdGhpcy52ZXJzaW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcnNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZlcnNpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPENvbmZvcm1hbmNlUmVzb3VyY2VTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Q29uZm9ybWFuY2VSZXNvdXJjZVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhwZXJpbWVudGFsJ10pIHsgdGhpcy5leHBlcmltZW50YWwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5leHBlcmltZW50YWx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2V4cGVyaW1lbnRhbCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmV4cGVyaW1lbnRhbCkgeyB0aGlzLmV4cGVyaW1lbnRhbC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9leHBlcmltZW50YWwhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5leHBlcmltZW50YWwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2V4cGVyaW1lbnRhbCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3B1Ymxpc2hlciddKSB7IHRoaXMucHVibGlzaGVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wdWJsaXNoZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3B1Ymxpc2hlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLnB1Ymxpc2hlcikgeyB0aGlzLnB1Ymxpc2hlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wdWJsaXNoZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wdWJsaXNoZXIgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcHVibGlzaGVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWN0J10pIHsgdGhpcy5jb250YWN0ID0gc291cmNlLmNvbnRhY3QubWFwKCh4KSA9PiBuZXcgZmhpci5Db25mb3JtYW5jZUNvbnRhY3QoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb250YWN0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2RhdGUnXSkgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRlKSB7IHRoaXMuZGF0ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZShzb3VyY2UuX2RhdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcXVpcmVtZW50cyddKSB7IHRoaXMucmVxdWlyZW1lbnRzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5yZXF1aXJlbWVudHN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlcXVpcmVtZW50cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlcXVpcmVtZW50cykgeyB0aGlzLnJlcXVpcmVtZW50cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZXF1aXJlbWVudHMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZXF1aXJlbWVudHMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcmVxdWlyZW1lbnRzIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb3B5cmlnaHQnXSkgeyB0aGlzLmNvcHlyaWdodCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29weXJpZ2h0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb3B5cmlnaHQnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb3B5cmlnaHQpIHsgdGhpcy5jb3B5cmlnaHQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29weXJpZ2h0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29weXJpZ2h0ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2NvcHlyaWdodCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsna2luZCddKSB7IHRoaXMua2luZCA9IG5ldyBmaGlyLkZoaXJDb2RlPENvbmZvcm1hbmNlU3RhdGVtZW50S2luZENvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5raW5kfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmtpbmQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfa2luZCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmtpbmQpIHsgdGhpcy5raW5kLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2tpbmQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5raW5kID0gbmV3IGZoaXIuRmhpckNvZGU8Q29uZm9ybWFuY2VTdGF0ZW1lbnRLaW5kQ29kZVR5cGU+KHNvdXJjZS5fa2luZCBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc29mdHdhcmUnXSkgeyB0aGlzLnNvZnR3YXJlID0gbmV3IGZoaXIuQ29uZm9ybWFuY2VTb2Z0d2FyZShzb3VyY2Uuc29mdHdhcmUpOyB9XHJcbiAgICBpZiAoc291cmNlWydpbXBsZW1lbnRhdGlvbiddKSB7IHRoaXMuaW1wbGVtZW50YXRpb24gPSBuZXcgZmhpci5Db25mb3JtYW5jZUltcGxlbWVudGF0aW9uKHNvdXJjZS5pbXBsZW1lbnRhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2ZoaXJWZXJzaW9uJ10pIHsgdGhpcy5maGlyVmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJJZCh7dmFsdWU6IHNvdXJjZS5maGlyVmVyc2lvbn0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5maGlyVmVyc2lvbiA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19maGlyVmVyc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLmZoaXJWZXJzaW9uKSB7IHRoaXMuZmhpclZlcnNpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZmhpclZlcnNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5maGlyVmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJJZChzb3VyY2UuX2ZoaXJWZXJzaW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlySWRBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2FjY2VwdFVua25vd24nXSkgeyB0aGlzLmFjY2VwdFVua25vd24gPSBuZXcgZmhpci5GaGlyQ29kZTxVbmtub3duQ29udGVudENvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5hY2NlcHRVbmtub3dufSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmFjY2VwdFVua25vd24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWNjZXB0VW5rbm93biddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFjY2VwdFVua25vd24pIHsgdGhpcy5hY2NlcHRVbmtub3duLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FjY2VwdFVua25vd24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hY2NlcHRVbmtub3duID0gbmV3IGZoaXIuRmhpckNvZGU8VW5rbm93bkNvbnRlbnRDb2RlVHlwZT4oc291cmNlLl9hY2NlcHRVbmtub3duIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydmb3JtYXQnXSkgeyB0aGlzLmZvcm1hdCA9IHNvdXJjZS5mb3JtYXQubWFwKCh4KSA9PiBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmZvcm1hdCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydfZm9ybWF0J10pIHtcclxuICAgICAgc291cmNlLl9mb3JtYXQuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9ybWF0Lmxlbmd0aCA+PSBpKSB7IGlmICh4KSB7IHRoaXMuZm9ybWF0W2ldLmFkZEV4dGVuZGVkUHJvcGVydGllcyh4KTsgfSB9XHJcbiAgICAgICAgZWxzZSB7IGlmICh4KSB7IHRoaXMuZm9ybWF0LnB1c2gobmV3IGZoaXIuRmhpckNvZGUoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPikpOyB9IH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwcm9maWxlJ10pIHsgdGhpcy5wcm9maWxlID0gc291cmNlLnByb2ZpbGUubWFwKCh4KSA9PiBuZXcgZmhpci5SZWZlcmVuY2UoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wcm9maWxlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Jlc3QnXSkgeyB0aGlzLnJlc3QgPSBzb3VyY2UucmVzdC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbmZvcm1hbmNlUmVzdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJlc3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWVzc2FnaW5nJ10pIHsgdGhpcy5tZXNzYWdpbmcgPSBzb3VyY2UubWVzc2FnaW5nLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29uZm9ybWFuY2VNZXNzYWdpbmcoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tZXNzYWdpbmcgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZG9jdW1lbnQnXSkgeyB0aGlzLmRvY3VtZW50ID0gc291cmNlLmRvY3VtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29uZm9ybWFuY2VEb2N1bWVudCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRvY3VtZW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25mb3JtYW5jZScgfVxyXG4gICAgdGhpcy52UlMoJ3Jlc291cmNlVHlwZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3VybCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3ZlcnNpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCduYW1lJyxleHApXHJcbiAgICB0aGlzLnZPU1YoJ3N0YXR1cycsZXhwLCdDb25mb3JtYW5jZVJlc291cmNlU3RhdHVzJyxDb25mb3JtYW5jZVJlc291cmNlU3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdleHBlcmltZW50YWwnLGV4cClcclxuICAgIHRoaXMudk9TKCdwdWJsaXNoZXInLGV4cClcclxuICAgIHRoaXMudk9BKCdjb250YWN0JyxleHApXHJcbiAgICB0aGlzLnZSUygnZGF0ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPUygncmVxdWlyZW1lbnRzJyxleHApXHJcbiAgICB0aGlzLnZPUygnY29weXJpZ2h0JyxleHApXHJcbiAgICB0aGlzLnZSU1YoJ2tpbmQnLGV4cCwnQ29uZm9ybWFuY2VTdGF0ZW1lbnRLaW5kJyxDb25mb3JtYW5jZVN0YXRlbWVudEtpbmRWc1ZhbGlkYXRpb24sJ3InKVxyXG4gICAgdGhpcy52T1MoJ3NvZnR3YXJlJyxleHApXHJcbiAgICB0aGlzLnZPUygnaW1wbGVtZW50YXRpb24nLGV4cClcclxuICAgIHRoaXMudlJTKCdmaGlyVmVyc2lvbicsZXhwKVxyXG4gICAgdGhpcy52UlNWKCdhY2NlcHRVbmtub3duJyxleHAsJ1Vua25vd25Db250ZW50JyxVbmtub3duQ29udGVudFZzVmFsaWRhdGlvbiwncicpXHJcbiAgICB0aGlzLnZSQSgnZm9ybWF0JyxleHApXHJcbiAgICB0aGlzLnZPQSgncHJvZmlsZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3Jlc3QnLGV4cClcclxuICAgIHRoaXMudk9BKCdtZXNzYWdpbmcnLGV4cClcclxuICAgIHRoaXMudk9BKCdkb2N1bWVudCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuIl19