// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: ReferralRequest
import * as fhir from '../fhir.js';
// @ts-ignore
import { ReferralstatusVsValidation } from '../fhirValueSets/ReferralstatusVsValidation.js';
/**
 * Used to record and send details about a request for referral service or transfer of a patient to the care of another provider or provider organization.
 */
export class ReferralRequest extends fhir.DomainResource {
    /**
     * Default constructor for ReferralRequest - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ReferralRequest';
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        if (source['specialty']) {
            this.specialty = new fhir.CodeableConcept(source.specialty);
        }
        if (source['priority']) {
            this.priority = new fhir.CodeableConcept(source.priority);
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient);
        }
        if (source['requester']) {
            this.requester = new fhir.Reference(source.requester);
        }
        if (source['recipient']) {
            this.recipient = source.recipient.map((x) => new fhir.Reference(x));
        }
        else {
            this.recipient = [];
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter);
        }
        if (source['dateSent']) {
            this.dateSent = new fhir.FhirDateTime({ value: source.dateSent });
        }
        if (source['_dateSent']) {
            if (this.dateSent) {
                this.dateSent.addExtendedProperties(source._dateSent);
            }
            else {
                this.dateSent = new fhir.FhirDateTime(source._dateSent);
            }
        }
        if (source['reason']) {
            this.reason = new fhir.CodeableConcept(source.reason);
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['serviceRequested']) {
            this.serviceRequested = source.serviceRequested.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.serviceRequested = [];
        }
        if (source['supportingInformation']) {
            this.supportingInformation = source.supportingInformation.map((x) => new fhir.Reference(x));
        }
        else {
            this.supportingInformation = [];
        }
        if (source['fulfillmentTime']) {
            this.fulfillmentTime = new fhir.Period(source.fulfillmentTime);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ReferralRequest';
        }
        iss.push(...this.vRPS('resourceType', exp));
        iss.push(...this.vRSV('status', exp, 'Referralstatus', ReferralstatusVsValidation, 'r'));
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vOS('date', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('specialty', exp));
        iss.push(...this.vOS('priority', exp));
        iss.push(...this.vOS('patient', exp));
        iss.push(...this.vOS('requester', exp));
        iss.push(...this.vOA('recipient', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vOS('dateSent', exp));
        iss.push(...this.vOS('reason', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOA('serviceRequested', exp));
        iss.push(...this.vOA('supportingInformation', exp));
        iss.push(...this.vOS('fulfillmentTime', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ReferralRequest._fts_dataType = 'ReferralRequest';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVmZXJyYWxSZXF1ZXN0LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9SZWZlcnJhbFJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsaUNBQWlDO0FBRWpDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQStGNUY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sZUFBZ0IsU0FBUSxJQUFJLENBQUMsY0FBYztJQXlFdEQ7O09BRUc7SUFDSCxZQUFZLFNBQXNDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzVGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksR0FBRyxpQkFBaUIsQ0FBQztRQUN0QyxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUF5QixFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztTQUFFO2FBQ3JHO1lBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FBRTtRQUM1QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsT0FBUSxDQUFDLENBQUM7YUFBRTtpQkFDbkU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQXlCLE1BQU0sQ0FBQyxPQUFpQyxDQUFDLENBQUM7YUFBRTtTQUM1RztRQUNELElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lB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aUJBQWlCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjIuY29yZSB2ZXJzaW9uOiAxLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IFJlZmVycmFsUmVxdWVzdFxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgUmVmZXJyYWxzdGF0dXNDb2RlcywgIFJlZmVycmFsc3RhdHVzQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL1JlZmVycmFsc3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IFJlZmVycmFsc3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9SZWZlcnJhbHN0YXR1c1ZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGlhZ25vc3RpY09yZGVyUHJpb3JpdHlDb2RlcywgIERpYWdub3N0aWNPcmRlclByaW9yaXR5Q29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RpYWdub3N0aWNPcmRlclByaW9yaXR5Q29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERpYWdub3N0aWNPcmRlclByaW9yaXR5VnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EaWFnbm9zdGljT3JkZXJQcmlvcml0eVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBSZWZlcnJhbFJlcXVlc3QgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVmZXJyYWxSZXF1ZXN0QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiUmVmZXJyYWxSZXF1ZXN0XCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB3b3JrZmxvdyBzdGF0dXMgb2YgdGhlIHJlZmVycmFsIG9yIHRyYW5zZmVyIG9mIGNhcmUgcmVxdWVzdC5cclxuICAgKi9cclxuICBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UmVmZXJyYWxzdGF0dXNDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogUmVmZXJyYWxSZXF1ZXN0LnN0YXR1c1xyXG4gICAqL1xyXG4gIF9zdGF0dXM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEJ1c2luZXNzIGlkZW50aWZpZXIgdGhhdCB1bmlxdWVseSBpZGVudGlmaWVzIHRoZSByZWZlcnJhbC9jYXJlIHRyYW5zZmVyIHJlcXVlc3QgaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZS9EYXRlVGltZSBvZiBjcmVhdGlvbiBmb3IgZHJhZnQgcmVxdWVzdHMgYW5kIGRhdGUgb2YgYWN0aXZhdGlvbiBmb3IgYWN0aXZlIHJlcXVlc3RzLlxyXG4gICAqL1xyXG4gIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBSZWZlcnJhbFJlcXVlc3QuZGF0ZVxyXG4gICAqL1xyXG4gIF9kYXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBbiBpbmRpY2F0aW9uIG9mIHRoZSB0eXBlIG9mIHJlZmVycmFsIChvciB3aGVyZSBhcHBsaWNhYmxlIHRoZSB0eXBlIG9mIHRyYW5zZmVyIG9mIGNhcmUpIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGlvbiBvZiB0aGUgY2xpbmljYWwgZG9tYWluIG9yIGRpc2NpcGxpbmUgdG8gd2hpY2ggdGhlIHJlZmVycmFsIG9yIHRyYW5zZmVyIG9mIGNhcmUgcmVxdWVzdCBpcyBzZW50LiAgRm9yIGV4YW1wbGU6IENhcmRpb2xvZ3kgR2FzdHJvZW50ZXJvbG9neSBEaWFiZXRvbG9neS5cclxuICAgKi9cclxuICBzcGVjaWFsdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFuIGluZGljYXRpb24gb2YgdGhlIHVyZ2VuY3kgb2YgcmVmZXJyYWwgKG9yIHdoZXJlIGFwcGxpY2FibGUgdGhlIHR5cGUgb2YgdHJhbnNmZXIgb2YgY2FyZSkgcmVxdWVzdC5cclxuICAgKi9cclxuICBwcmlvcml0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBhdGllbnQgd2hvIGlzIHRoZSBzdWJqZWN0IG9mIGEgcmVmZXJyYWwgb3IgdHJhbnNmZXIgb2YgY2FyZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHBhdGllbnQ/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBoZWFsdGhjYXJlIHByb3ZpZGVyIG9yIHByb3ZpZGVyIG9yZ2FuaXphdGlvbiB3aG8vd2hpY2ggaW5pdGlhdGVkIHRoZSByZWZlcnJhbC90cmFuc2ZlciBvZiBjYXJlIHJlcXVlc3QuIENhbiBhbHNvIGJlICBQYXRpZW50IChhIHNlbGYgcmVmZXJyYWwpLlxyXG4gICAqL1xyXG4gIHJlcXVlc3Rlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGhlYWx0aGNhcmUgcHJvdmlkZXIocykgb3IgcHJvdmlkZXIgb3JnYW5pemF0aW9uKHMpIHdoby93aGljaCBpcyB0byByZWNlaXZlIHRoZSByZWZlcnJhbC90cmFuc2ZlciBvZiBjYXJlIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgcmVjaXBpZW50PzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBlbmNvdW50ZXIgYXQgd2hpY2ggdGhlIHJlcXVlc3QgZm9yIHJlZmVycmFsIG9yIHRyYW5zZmVyIG9mIGNhcmUgaXMgaW5pdGlhdGVkLlxyXG4gICAqL1xyXG4gIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGF0ZS9EYXRlVGltZSB0aGUgcmVxdWVzdCBmb3IgcmVmZXJyYWwgb3IgdHJhbnNmZXIgb2YgY2FyZSBpcyBzZW50IGJ5IHRoZSBhdXRob3IuXHJcbiAgICovXHJcbiAgZGF0ZVNlbnQ/OiBmaGlyLkZoaXJEYXRlVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBSZWZlcnJhbFJlcXVlc3QuZGF0ZVNlbnRcclxuICAgKi9cclxuICBfZGF0ZVNlbnQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIERlc2NyaXB0aW9uIG9mIGNsaW5pY2FsIGNvbmRpdGlvbiBpbmRpY2F0aW5nIHdoeSByZWZlcnJhbC90cmFuc2ZlciBvZiBjYXJlIGlzIHJlcXVlc3RlZC4gIEZvciBleGFtcGxlOiAgUGF0aG9sb2dpY2FsIEFub21hbGllcywgRGlzYWJsZWQgKHBoeXNpY2FsIG9yIG1lbnRhbCksICBCZWhhdmlvcmFsIE1hbmFnZW1lbnQuXHJcbiAgICovXHJcbiAgcmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVhc29uIGVsZW1lbnQgZ2l2ZXMgYSBzaG9ydCBkZXNjcmlwdGlvbiBvZiB3aHkgdGhlIHJlZmVycmFsIGlzIGJlaW5nIG1hZGUsIHRoZSBkZXNjcmlwdGlvbiBleHBhbmRzIG9uIHRoaXMgdG8gc3VwcG9ydCBhIG1vcmUgY29tcGxldGUgY2xpbmljYWwgc3VtbWFyeS5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBSZWZlcnJhbFJlcXVlc3QuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzZXJ2aWNlKHMpIHRoYXQgaXMvYXJlIHJlcXVlc3RlZCB0byBiZSBwcm92aWRlZCB0byB0aGUgcGF0aWVudC4gIEZvciBleGFtcGxlOiBjYXJkaWFjIHBhY2VtYWtlciBpbnNlcnRpb24uXHJcbiAgICovXHJcbiAgc2VydmljZVJlcXVlc3RlZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbnkgYWRkaXRpb25hbCAoYWRtaW5pc3RyYXRpdmUsIGZpbmFuY2lhbCBvciBjbGluaWNhbCkgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gc3VwcG9ydCByZXF1ZXN0IGZvciByZWZlcnJhbCBvciB0cmFuc2ZlciBvZiBjYXJlLiAgRm9yIGV4YW1wbGU6IFByZXNlbnRpbmcgcHJvYmxlbXMvY2hpZWYgY29tcGxhaW50cyBNZWRpY2FsIEhpc3RvcnkgRmFtaWx5IEhpc3RvcnkgQWxlcnRzIEFsbGVyZ3kvSW50b2xlcmFuY2UgYW5kIEFkdmVyc2UgUmVhY3Rpb25zIE1lZGljYXRpb25zIE9ic2VydmF0aW9ucy9Bc3Nlc3NtZW50cyAobWF5IGluY2x1ZGUgY29nbml0aXZlIGFuZCBmdW5kdGlvbmFsIGFzc2Vzc21lbnRzKSBEaWFnbm9zdGljIFJlcG9ydHMgQ2FyZSBQbGFuLlxyXG4gICAqL1xyXG4gIHN1cHBvcnRpbmdJbmZvcm1hdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBVc2UgY2FzZXM6ICgxKSB0byBpbmRpY2F0ZSB0aGF0IHRoZSByZXF1ZXN0ZWQgc2VydmljZSBpcyBub3QgdG8gaGFwcGVuIGJlZm9yZSBhIHNwZWNpZmllZCBkYXRlLCBhbmQgc2F2aW5nIHRoZSBzdGFydCBkYXRlIGluIFBlcmlvZC5zdGFydDsgKDIpIHRvIGluZGljYXRlIHRoYXQgdGhlIHJlcXVlc3RlZCBzZXJ2aWNlIG11c3QgaGFwcGVuIGJlZm9yZSBhIHNwZWNpZmllZCBkYXRlLCBhbmQgc2F2aW5nIHRoZSBlbmQgZGF0ZSBpbiBQZXJpb2QuZW5kOyAoMykgdG8gaW5kaWNhdGUgdGhhdCB0aGUgcmVxdWVzdGVkIHNlcnZpY2UgbXVzdCBoYXBwZW4gZHVyaW5nIHRoZSBzcGVjaWZpZWQgZGF0ZXMgKFwic3RhcnRcIiBhbmQgXCJlbmRcIiB2YWx1ZXMpLlxyXG4gICAqL1xyXG4gIGZ1bGZpbGxtZW50VGltZT86IGZoaXIuUGVyaW9kQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIHJlY29yZCBhbmQgc2VuZCBkZXRhaWxzIGFib3V0IGEgcmVxdWVzdCBmb3IgcmVmZXJyYWwgc2VydmljZSBvciB0cmFuc2ZlciBvZiBhIHBhdGllbnQgdG8gdGhlIGNhcmUgb2YgYW5vdGhlciBwcm92aWRlciBvciBwcm92aWRlciBvcmdhbml6YXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmVmZXJyYWxSZXF1ZXN0IGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdSZWZlcnJhbFJlcXVlc3QnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiUmVmZXJyYWxSZXF1ZXN0XCI7XHJcbiAgLyoqXHJcbiAgICogVGhlIHdvcmtmbG93IHN0YXR1cyBvZiB0aGUgcmVmZXJyYWwgb3IgdHJhbnNmZXIgb2YgY2FyZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8UmVmZXJyYWxzdGF0dXNDb2RlVHlwZT58bnVsbDtcclxuICAvKipcclxuICAgKiBCdXNpbmVzcyBpZGVudGlmaWVyIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgcmVmZXJyYWwvY2FyZSB0cmFuc2ZlciByZXF1ZXN0IGluc3RhbmNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBEYXRlL0RhdGVUaW1lIG9mIGNyZWF0aW9uIGZvciBkcmFmdCByZXF1ZXN0cyBhbmQgZGF0ZSBvZiBhY3RpdmF0aW9uIGZvciBhY3RpdmUgcmVxdWVzdHMuXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGU/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gaW5kaWNhdGlvbiBvZiB0aGUgdHlwZSBvZiByZWZlcnJhbCAob3Igd2hlcmUgYXBwbGljYWJsZSB0aGUgdHlwZSBvZiB0cmFuc2ZlciBvZiBjYXJlKSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRpb24gb2YgdGhlIGNsaW5pY2FsIGRvbWFpbiBvciBkaXNjaXBsaW5lIHRvIHdoaWNoIHRoZSByZWZlcnJhbCBvciB0cmFuc2ZlciBvZiBjYXJlIHJlcXVlc3QgaXMgc2VudC4gIEZvciBleGFtcGxlOiBDYXJkaW9sb2d5IEdhc3Ryb2VudGVyb2xvZ3kgRGlhYmV0b2xvZ3kuXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpYWx0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpbmRpY2F0aW9uIG9mIHRoZSB1cmdlbmN5IG9mIHJlZmVycmFsIChvciB3aGVyZSBhcHBsaWNhYmxlIHRoZSB0eXBlIG9mIHRyYW5zZmVyIG9mIGNhcmUpIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgcHVibGljIHByaW9yaXR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwYXRpZW50IHdobyBpcyB0aGUgc3ViamVjdCBvZiBhIHJlZmVycmFsIG9yIHRyYW5zZmVyIG9mIGNhcmUgcmVxdWVzdC5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0aWVudD86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgaGVhbHRoY2FyZSBwcm92aWRlciBvciBwcm92aWRlciBvcmdhbml6YXRpb24gd2hvL3doaWNoIGluaXRpYXRlZCB0aGUgcmVmZXJyYWwvdHJhbnNmZXIgb2YgY2FyZSByZXF1ZXN0LiBDYW4gYWxzbyBiZSAgUGF0aWVudCAoYSBzZWxmIHJlZmVycmFsKS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdGVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBoZWFsdGhjYXJlIHByb3ZpZGVyKHMpIG9yIHByb3ZpZGVyIG9yZ2FuaXphdGlvbihzKSB3aG8vd2hpY2ggaXMgdG8gcmVjZWl2ZSB0aGUgcmVmZXJyYWwvdHJhbnNmZXIgb2YgY2FyZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWNpcGllbnQ6IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVGhlIGVuY291bnRlciBhdCB3aGljaCB0aGUgcmVxdWVzdCBmb3IgcmVmZXJyYWwgb3IgdHJhbnNmZXIgb2YgY2FyZSBpcyBpbml0aWF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEYXRlL0RhdGVUaW1lIHRoZSByZXF1ZXN0IGZvciByZWZlcnJhbCBvciB0cmFuc2ZlciBvZiBjYXJlIGlzIHNlbnQgYnkgdGhlIGF1dGhvci5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZVNlbnQ/OiBmaGlyLkZoaXJEYXRlVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpcHRpb24gb2YgY2xpbmljYWwgY29uZGl0aW9uIGluZGljYXRpbmcgd2h5IHJlZmVycmFsL3RyYW5zZmVyIG9mIGNhcmUgaXMgcmVxdWVzdGVkLiAgRm9yIGV4YW1wbGU6ICBQYXRob2xvZ2ljYWwgQW5vbWFsaWVzLCBEaXNhYmxlZCAocGh5c2ljYWwgb3IgbWVudGFsKSwgIEJlaGF2aW9yYWwgTWFuYWdlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVhc29uPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWFzb24gZWxlbWVudCBnaXZlcyBhIHNob3J0IGRlc2NyaXB0aW9uIG9mIHdoeSB0aGUgcmVmZXJyYWwgaXMgYmVpbmcgbWFkZSwgdGhlIGRlc2NyaXB0aW9uIGV4cGFuZHMgb24gdGhpcyB0byBzdXBwb3J0IGEgbW9yZSBjb21wbGV0ZSBjbGluaWNhbCBzdW1tYXJ5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNlcnZpY2UocykgdGhhdCBpcy9hcmUgcmVxdWVzdGVkIHRvIGJlIHByb3ZpZGVkIHRvIHRoZSBwYXRpZW50LiAgRm9yIGV4YW1wbGU6IGNhcmRpYWMgcGFjZW1ha2VyIGluc2VydGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc2VydmljZVJlcXVlc3RlZDogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBBbnkgYWRkaXRpb25hbCAoYWRtaW5pc3RyYXRpdmUsIGZpbmFuY2lhbCBvciBjbGluaWNhbCkgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gc3VwcG9ydCByZXF1ZXN0IGZvciByZWZlcnJhbCBvciB0cmFuc2ZlciBvZiBjYXJlLiAgRm9yIGV4YW1wbGU6IFByZXNlbnRpbmcgcHJvYmxlbXMvY2hpZWYgY29tcGxhaW50cyBNZWRpY2FsIEhpc3RvcnkgRmFtaWx5IEhpc3RvcnkgQWxlcnRzIEFsbGVyZ3kvSW50b2xlcmFuY2UgYW5kIEFkdmVyc2UgUmVhY3Rpb25zIE1lZGljYXRpb25zIE9ic2VydmF0aW9ucy9Bc3Nlc3NtZW50cyAobWF5IGluY2x1ZGUgY29nbml0aXZlIGFuZCBmdW5kdGlvbmFsIGFzc2Vzc21lbnRzKSBEaWFnbm9zdGljIFJlcG9ydHMgQ2FyZSBQbGFuLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdXBwb3J0aW5nSW5mb3JtYXRpb246IGZoaXIuUmVmZXJlbmNlW107XHJcbiAgLyoqXHJcbiAgICogVXNlIGNhc2VzOiAoMSkgdG8gaW5kaWNhdGUgdGhhdCB0aGUgcmVxdWVzdGVkIHNlcnZpY2UgaXMgbm90IHRvIGhhcHBlbiBiZWZvcmUgYSBzcGVjaWZpZWQgZGF0ZSwgYW5kIHNhdmluZyB0aGUgc3RhcnQgZGF0ZSBpbiBQZXJpb2Quc3RhcnQ7ICgyKSB0byBpbmRpY2F0ZSB0aGF0IHRoZSByZXF1ZXN0ZWQgc2VydmljZSBtdXN0IGhhcHBlbiBiZWZvcmUgYSBzcGVjaWZpZWQgZGF0ZSwgYW5kIHNhdmluZyB0aGUgZW5kIGRhdGUgaW4gUGVyaW9kLmVuZDsgKDMpIHRvIGluZGljYXRlIHRoYXQgdGhlIHJlcXVlc3RlZCBzZXJ2aWNlIG11c3QgaGFwcGVuIGR1cmluZyB0aGUgc3BlY2lmaWVkIGRhdGVzIChcInN0YXJ0XCIgYW5kIFwiZW5kXCIgdmFsdWVzKS5cclxuICAgKi9cclxuICBwdWJsaWMgZnVsZmlsbG1lbnRUaW1lPzogZmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIFJlZmVycmFsUmVxdWVzdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPFJlZmVycmFsUmVxdWVzdEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdSZWZlcnJhbFJlcXVlc3QnO1xyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10pIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxSZWZlcnJhbHN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxSZWZlcnJhbHN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZSkgeyB0aGlzLmRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnR5cGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydzcGVjaWFsdHknXSkgeyB0aGlzLnNwZWNpYWx0eSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2Uuc3BlY2lhbHR5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJpb3JpdHknXSkgeyB0aGlzLnByaW9yaXR5ID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5wcmlvcml0eSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnQnXSkgeyB0aGlzLnBhdGllbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhdGllbnQpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZXF1ZXN0ZXInXSkgeyB0aGlzLnJlcXVlc3RlciA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVxdWVzdGVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVjaXBpZW50J10pIHsgdGhpcy5yZWNpcGllbnQgPSBzb3VyY2UucmVjaXBpZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVjaXBpZW50ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlU2VudCddKSB7IHRoaXMuZGF0ZVNlbnQgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoe3ZhbHVlOiBzb3VyY2UuZGF0ZVNlbnR9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGVTZW50J10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZVNlbnQpIHsgdGhpcy5kYXRlU2VudC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlU2VudCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGVTZW50ID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHNvdXJjZS5fZGF0ZVNlbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJEYXRlVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uJ10pIHsgdGhpcy5yZWFzb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnJlYXNvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzZXJ2aWNlUmVxdWVzdGVkJ10pIHsgdGhpcy5zZXJ2aWNlUmVxdWVzdGVkID0gc291cmNlLnNlcnZpY2VSZXF1ZXN0ZWQubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXJ2aWNlUmVxdWVzdGVkID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3N1cHBvcnRpbmdJbmZvcm1hdGlvbiddKSB7IHRoaXMuc3VwcG9ydGluZ0luZm9ybWF0aW9uID0gc291cmNlLnN1cHBvcnRpbmdJbmZvcm1hdGlvbi5tYXAoKHgpID0+IG5ldyBmaGlyLlJlZmVyZW5jZSh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN1cHBvcnRpbmdJbmZvcm1hdGlvbiA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydmdWxmaWxsbWVudFRpbWUnXSkgeyB0aGlzLmZ1bGZpbGxtZW50VGltZSA9IG5ldyBmaGlyLlBlcmlvZChzb3VyY2UuZnVsZmlsbG1lbnRUaW1lKTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ1JlZmVycmFsUmVxdWVzdCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlBTKCdyZXNvdXJjZVR5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlNWKCdzdGF0dXMnLGV4cCwnUmVmZXJyYWxzdGF0dXMnLFJlZmVycmFsc3RhdHVzVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RhdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3R5cGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3NwZWNpYWx0eScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHJpb3JpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3BhdGllbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlcXVlc3RlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVjaXBpZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdlbmNvdW50ZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2RhdGVTZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdyZWFzb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzZXJ2aWNlUmVxdWVzdGVkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzdXBwb3J0aW5nSW5mb3JtYXRpb24nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Z1bGZpbGxtZW50VGltZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=