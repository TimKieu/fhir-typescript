// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: ConceptMap
import * as fhir from '../fhir.js';
// @ts-ignore
import { ConceptMapEquivalenceVsValidation } from '../fhirValueSets/ConceptMapEquivalenceVsValidation.js';
// @ts-ignore
import { ConformanceResourceStatusVsValidation } from '../fhirValueSets/ConformanceResourceStatusVsValidation.js';
/**
 * Contacts to assist a user in finding and communicating with the publisher.
 */
export class ConceptMapContact extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapContact - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ConceptMap.contact';
        }
        this.vOS('name', exp);
        this.vOA('telecom', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapContact._fts_dataType = 'ConceptMapContact';
/**
 * A set of additional dependencies for this mapping to hold. This mapping is only applicable if the specified element can be resolved, and it has the specified value.
 */
export class ConceptMapElementTargetDependsOn extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapElementTargetDependsOn - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['element']) {
            this.element = new fhir.FhirUri({ value: source.element });
        }
        else {
            this.element = null;
        }
        if (source['_element']) {
            if (this.element) {
                this.element.addExtendedProperties(source._element);
            }
            else {
                this.element = new fhir.FhirUri(source._element);
            }
        }
        if (source['codeSystem']) {
            this.codeSystem = new fhir.FhirUri({ value: source.codeSystem });
        }
        else {
            this.codeSystem = null;
        }
        if (source['_codeSystem']) {
            if (this.codeSystem) {
                this.codeSystem.addExtendedProperties(source._codeSystem);
            }
            else {
                this.codeSystem = new fhir.FhirUri(source._codeSystem);
            }
        }
        if (source['code']) {
            this.code = new fhir.FhirString({ value: source.code });
        }
        else {
            this.code = null;
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirString(source._code);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ConceptMap.element.target.dependsOn';
        }
        this.vRS('element', exp);
        this.vRS('codeSystem', exp);
        this.vRS('code', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapElementTargetDependsOn._fts_dataType = 'ConceptMapElementTargetDependsOn';
/**
 * A concept from the target value set that this concept maps to.
 */
export class ConceptMapElementTarget extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapElementTarget - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['codeSystem']) {
            this.codeSystem = new fhir.FhirUri({ value: source.codeSystem });
        }
        if (source['_codeSystem']) {
            if (this.codeSystem) {
                this.codeSystem.addExtendedProperties(source._codeSystem);
            }
            else {
                this.codeSystem = new fhir.FhirUri(source._codeSystem);
            }
        }
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code);
            }
        }
        if (source['equivalence']) {
            this.equivalence = new fhir.FhirCode({ value: source.equivalence });
        }
        else {
            this.equivalence = null;
        }
        if (source['_equivalence']) {
            if (this.equivalence) {
                this.equivalence.addExtendedProperties(source._equivalence);
            }
            else {
                this.equivalence = new fhir.FhirCode(source._equivalence);
            }
        }
        if (source['comments']) {
            this.comments = new fhir.FhirString({ value: source.comments });
        }
        if (source['_comments']) {
            if (this.comments) {
                this.comments.addExtendedProperties(source._comments);
            }
            else {
                this.comments = new fhir.FhirString(source._comments);
            }
        }
        if (source['dependsOn']) {
            this.dependsOn = source.dependsOn.map((x) => new fhir.ConceptMapElementTargetDependsOn(x));
        }
        else {
            this.dependsOn = [];
        }
        if (source['product']) {
            this.product = source.product.map((x) => new fhir.ConceptMapElementTargetDependsOn(x));
        }
        else {
            this.product = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ConceptMap.element.target';
        }
        this.vOS('codeSystem', exp);
        this.vOS('code', exp);
        this.vRSV('equivalence', exp, 'ConceptMapEquivalence', ConceptMapEquivalenceVsValidation, 'r');
        this.vOS('comments', exp);
        this.vOA('dependsOn', exp);
        this.vOA('product', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapElementTarget._fts_dataType = 'ConceptMapElementTarget';
/**
 * Mappings for an individual concept in the source to one or more concepts in the target.
 */
export class ConceptMapElement extends fhir.BackboneElement {
    /**
     * Default constructor for ConceptMapElement - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['codeSystem']) {
            this.codeSystem = new fhir.FhirUri({ value: source.codeSystem });
        }
        if (source['_codeSystem']) {
            if (this.codeSystem) {
                this.codeSystem.addExtendedProperties(source._codeSystem);
            }
            else {
                this.codeSystem = new fhir.FhirUri(source._codeSystem);
            }
        }
        if (source['code']) {
            this.code = new fhir.FhirCode({ value: source.code });
        }
        if (source['_code']) {
            if (this.code) {
                this.code.addExtendedProperties(source._code);
            }
            else {
                this.code = new fhir.FhirCode(source._code);
            }
        }
        if (source['target']) {
            this.target = source.target.map((x) => new fhir.ConceptMapElementTarget(x));
        }
        else {
            this.target = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ConceptMap.element';
        }
        this.vOS('codeSystem', exp);
        this.vOS('code', exp);
        this.vOA('target', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMapElement._fts_dataType = 'ConceptMapElement';
/**
 * A statement of relationships from one set of concepts to one or more other concepts - either code systems or data elements, or classes in class models.
 */
export class ConceptMap extends fhir.DomainResource {
    /**
     * Default constructor for ConceptMap - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'ConceptMap';
        if (source['url']) {
            this.url = new fhir.FhirUri({ value: source.url });
        }
        if (source['_url']) {
            if (this.url) {
                this.url.addExtendedProperties(source._url);
            }
            else {
                this.url = new fhir.FhirUri(source._url);
            }
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['version']) {
            this.version = new fhir.FhirString({ value: source.version });
        }
        if (source['_version']) {
            if (this.version) {
                this.version.addExtendedProperties(source._version);
            }
            else {
                this.version = new fhir.FhirString(source._version);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['status']) {
            this.status = new fhir.FhirCode({ value: source.status });
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status);
            }
        }
        if (source['experimental']) {
            this.experimental = new fhir.FhirBoolean({ value: source.experimental });
        }
        if (source['_experimental']) {
            if (this.experimental) {
                this.experimental.addExtendedProperties(source._experimental);
            }
            else {
                this.experimental = new fhir.FhirBoolean(source._experimental);
            }
        }
        if (source['publisher']) {
            this.publisher = new fhir.FhirString({ value: source.publisher });
        }
        if (source['_publisher']) {
            if (this.publisher) {
                this.publisher.addExtendedProperties(source._publisher);
            }
            else {
                this.publisher = new fhir.FhirString(source._publisher);
            }
        }
        if (source['contact']) {
            this.contact = source.contact.map((x) => new fhir.ConceptMapContact(x));
        }
        else {
            this.contact = [];
        }
        if (source['date']) {
            this.date = new fhir.FhirDateTime({ value: source.date });
        }
        if (source['_date']) {
            if (this.date) {
                this.date.addExtendedProperties(source._date);
            }
            else {
                this.date = new fhir.FhirDateTime(source._date);
            }
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['useContext']) {
            this.useContext = source.useContext.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.useContext = [];
        }
        if (source['requirements']) {
            this.requirements = new fhir.FhirString({ value: source.requirements });
        }
        if (source['_requirements']) {
            if (this.requirements) {
                this.requirements.addExtendedProperties(source._requirements);
            }
            else {
                this.requirements = new fhir.FhirString(source._requirements);
            }
        }
        if (source['copyright']) {
            this.copyright = new fhir.FhirString({ value: source.copyright });
        }
        if (source['_copyright']) {
            if (this.copyright) {
                this.copyright.addExtendedProperties(source._copyright);
            }
            else {
                this.copyright = new fhir.FhirString(source._copyright);
            }
        }
        if (source['source']) {
            this.source = source.source;
        }
        else if (source['sourceUri']) {
            this.source = new fhir.FhirUri({ value: source.sourceUri });
        }
        else if (source['sourceReference']) {
            this.source = new fhir.Reference(source.sourceReference);
        }
        else {
            this.source = null;
        }
        if (source['target']) {
            this.target = source.target;
        }
        else if (source['targetUri']) {
            this.target = new fhir.FhirUri({ value: source.targetUri });
        }
        else if (source['targetReference']) {
            this.target = new fhir.Reference(source.targetReference);
        }
        else {
            this.target = null;
        }
        if (source['element']) {
            this.element = source.element.map((x) => new fhir.ConceptMapElement(x));
        }
        else {
            this.element = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'ConceptMap';
        }
        this.vRS('resourceType', exp);
        this.vOS('url', exp);
        this.vOS('identifier', exp);
        this.vOS('version', exp);
        this.vOS('name', exp);
        this.vRSV('status', exp, 'ConformanceResourceStatus', ConformanceResourceStatusVsValidation, 'r');
        this.vOS('experimental', exp);
        this.vOS('publisher', exp);
        this.vOA('contact', exp);
        this.vOS('date', exp);
        this.vOS('description', exp);
        this.vOA('useContext', exp);
        this.vOS('requirements', exp);
        this.vOS('copyright', exp);
        this.vRS('source', exp);
        this.vRS('target', exp);
        this.vOA('element', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
ConceptMap._fts_dataType = 'ConceptMap';
/**
 * Internal flag to properly serialize choice-type element ConceptMap.source[x]
 */
ConceptMap._fts_sourceIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element ConceptMap.target[x]
 */
ConceptMap._fts_targetIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uY2VwdE1hcC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQ29uY2VwdE1hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSxpQ0FBaUMsRUFBRSxNQUFNLHVEQUF1RCxDQUFDO0FBRzFHLGFBQWE7QUFDYixPQUFPLEVBQUUscUNBQXFDLEVBQUUsTUFBTSwyREFBMkQsQ0FBQztBQW1CbEg7O0dBRUc7QUFDSCxNQUFNLE9BQU8saUJBQWtCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhekQ7O09BRUc7SUFDSCxZQUFZLFNBQXdDLEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQzlGLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztTQUFFO1FBQzlFLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ25CLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQzthQUFFO2lCQUM3RDtnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBcUMsQ0FBQyxDQUFDO2FBQUU7U0FDeEY7UUFDRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FB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QUcsQ0FBQyxZQUFZLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDekIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7QUFqTEQ7O0dBRUc7QUFDNkIsd0JBQWEsR0FBVSxZQUFZLENBQUM7QUE2RHBFOztHQUVHO0FBQ3VCLDhCQUFtQixHQUFRLElBQUksQ0FBQztBQUsxRDs7R0FFRztBQUN1Qiw4QkFBbUIsR0FBUSxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjIuY29yZSB2ZXJzaW9uOiAxLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IENvbmNlcHRNYXBcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGVzLCAgQ29uY2VwdE1hcEVxdWl2YWxlbmNlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBDb25jZXB0TWFwRXF1aXZhbGVuY2VWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmNlcHRNYXBFcXVpdmFsZW5jZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQ29uZm9ybWFuY2VSZXNvdXJjZVN0YXR1c0NvZGVzLCAgQ29uZm9ybWFuY2VSZXNvdXJjZVN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9Db25mb3JtYW5jZVJlc291cmNlU3RhdHVzQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IENvbmZvcm1hbmNlUmVzb3VyY2VTdGF0dXNWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0NvbmZvcm1hbmNlUmVzb3VyY2VTdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uY2VwdE1hcENvbnRhY3QgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uY2VwdE1hcENvbnRhY3RBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiBhbiBpbmRpdmlkdWFsIHRvIGNvbnRhY3QgcmVnYXJkaW5nIHRoZSBjb25jZXB0IG1hcC5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuY29udGFjdC5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3QgZGV0YWlscyBmb3IgaW5kaXZpZHVhbCAoaWYgYSBuYW1lIHdhcyBwcm92aWRlZCkgb3IgdGhlIHB1Ymxpc2hlci5cclxuICAgKi9cclxuICB0ZWxlY29tPzogZmhpci5Db250YWN0UG9pbnRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udGFjdHMgdG8gYXNzaXN0IGEgdXNlciBpbiBmaW5kaW5nIGFuZCBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHB1Ymxpc2hlci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25jZXB0TWFwQ29udGFjdCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmNlcHRNYXBDb250YWN0JztcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiBhbiBpbmRpdmlkdWFsIHRvIGNvbnRhY3QgcmVnYXJkaW5nIHRoZSBjb25jZXB0IG1hcC5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdCBkZXRhaWxzIGZvciBpbmRpdmlkdWFsIChpZiBhIG5hbWUgd2FzIHByb3ZpZGVkKSBvciB0aGUgcHVibGlzaGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZWxlY29tOiBmaGlyLkNvbnRhY3RQb2ludFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmNlcHRNYXBDb250YWN0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uY2VwdE1hcENvbnRhY3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnbmFtZSddKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3RlbGVjb20nXSkgeyB0aGlzLnRlbGVjb20gPSBzb3VyY2UudGVsZWNvbS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3RQb2ludCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRlbGVjb20gPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0NvbmNlcHRNYXAuY29udGFjdCcgfVxyXG4gICAgdGhpcy52T1MoJ25hbWUnLGV4cClcclxuICAgIHRoaXMudk9BKCd0ZWxlY29tJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQ29uY2VwdE1hcEVsZW1lbnRUYXJnZXREZXBlbmRzT24gdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uY2VwdE1hcEVsZW1lbnRUYXJnZXREZXBlbmRzT25BcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSB0byBhIHNwZWNpZmljIGNvbmNlcHQgdGhhdCBob2xkcyBhIGNvZGVkIHZhbHVlLiBUaGlzIGNhbiBiZSBhbiBlbGVtZW50IGluIGEgRkhJUiByZXNvdXJjZSwgb3IgYSBzcGVjaWZpYyByZWZlcmVuY2UgdG8gYSBkYXRhIGVsZW1lbnQgaW4gYSBkaWZmZXJlbnQgc3BlY2lmaWNhdGlvbiAoZS5nLiBITDcgdjIpIG9yIGEgZ2VuZXJhbCByZWZlcmVuY2UgdG8gYSBraW5kIG9mIGRhdGEgZmllbGQsIG9yIGEgcmVmZXJlbmNlIHRvIGEgdmFsdWUgc2V0IHdpdGggYW4gYXBwcm9wcmlhdGVseSBuYXJyb3cgZGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBlbGVtZW50OiBmaGlyLkZoaXJVcml8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uY2VwdE1hcC5lbGVtZW50LnRhcmdldC5kZXBlbmRzT24uZWxlbWVudFxyXG4gICAqL1xyXG4gIF9lbGVtZW50PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBbiBhYnNvbHV0ZSBVUkkgdGhhdCBpZGVudGlmaWVzIHRoZSBjb2RlIHN5c3RlbSBvZiB0aGUgZGVwZW5kZW5jeSBjb2RlIChpZiB0aGUgc291cmNlL2RlcGVuZGVuY3kgaXMgYSB2YWx1ZSBzZXQgdGhhdCBjcm9zc2VzIGNvZGUgc3lzdGVtcykuXHJcbiAgICovXHJcbiAgY29kZVN5c3RlbTogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuZWxlbWVudC50YXJnZXQuZGVwZW5kc09uLmNvZGVTeXN0ZW1cclxuICAgKi9cclxuICBfY29kZVN5c3RlbT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpdHkgKGNvZGUgb3IgcGF0aCkgb3IgdGhlIGVsZW1lbnQvaXRlbS9WYWx1ZVNldCB0aGF0IHRoZSBtYXAgZGVwZW5kcyBvbiAvIHJlZmVycyB0by5cclxuICAgKi9cclxuICBjb2RlOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uY2VwdE1hcC5lbGVtZW50LnRhcmdldC5kZXBlbmRzT24uY29kZVxyXG4gICAqL1xyXG4gIF9jb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgc2V0IG9mIGFkZGl0aW9uYWwgZGVwZW5kZW5jaWVzIGZvciB0aGlzIG1hcHBpbmcgdG8gaG9sZC4gVGhpcyBtYXBwaW5nIGlzIG9ubHkgYXBwbGljYWJsZSBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgY2FuIGJlIHJlc29sdmVkLCBhbmQgaXQgaGFzIHRoZSBzcGVjaWZpZWQgdmFsdWUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uY2VwdE1hcEVsZW1lbnRUYXJnZXREZXBlbmRzT24gZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25jZXB0TWFwRWxlbWVudFRhcmdldERlcGVuZHNPbic7XHJcbiAgLyoqXHJcbiAgICogQSByZWZlcmVuY2UgdG8gYSBzcGVjaWZpYyBjb25jZXB0IHRoYXQgaG9sZHMgYSBjb2RlZCB2YWx1ZS4gVGhpcyBjYW4gYmUgYW4gZWxlbWVudCBpbiBhIEZISVIgcmVzb3VyY2UsIG9yIGEgc3BlY2lmaWMgcmVmZXJlbmNlIHRvIGEgZGF0YSBlbGVtZW50IGluIGEgZGlmZmVyZW50IHNwZWNpZmljYXRpb24gKGUuZy4gSEw3IHYyKSBvciBhIGdlbmVyYWwgcmVmZXJlbmNlIHRvIGEga2luZCBvZiBkYXRhIGZpZWxkLCBvciBhIHJlZmVyZW5jZSB0byBhIHZhbHVlIHNldCB3aXRoIGFuIGFwcHJvcHJpYXRlbHkgbmFycm93IGRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGVsZW1lbnQ6IGZoaXIuRmhpclVyaXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIFVSSSB0aGF0IGlkZW50aWZpZXMgdGhlIGNvZGUgc3lzdGVtIG9mIHRoZSBkZXBlbmRlbmN5IGNvZGUgKGlmIHRoZSBzb3VyY2UvZGVwZW5kZW5jeSBpcyBhIHZhbHVlIHNldCB0aGF0IGNyb3NzZXMgY29kZSBzeXN0ZW1zKS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZVN5c3RlbTogZmhpci5GaGlyVXJpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpdHkgKGNvZGUgb3IgcGF0aCkgb3IgdGhlIGVsZW1lbnQvaXRlbS9WYWx1ZVNldCB0aGF0IHRoZSBtYXAgZGVwZW5kcyBvbiAvIHJlZmVycyB0by5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uY2VwdE1hcEVsZW1lbnRUYXJnZXREZXBlbmRzT24gLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25jZXB0TWFwRWxlbWVudFRhcmdldERlcGVuZHNPbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydlbGVtZW50J10pIHsgdGhpcy5lbGVtZW50ID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5lbGVtZW50fSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmVsZW1lbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZWxlbWVudCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHsgdGhpcy5lbGVtZW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2VsZW1lbnQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5lbGVtZW50ID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX2VsZW1lbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGVTeXN0ZW0nXSkgeyB0aGlzLmNvZGVTeXN0ZW0gPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLmNvZGVTeXN0ZW19KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY29kZVN5c3RlbSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb2RlU3lzdGVtJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29kZVN5c3RlbSkgeyB0aGlzLmNvZGVTeXN0ZW0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29kZVN5c3RlbSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvZGVTeXN0ZW0gPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fY29kZVN5c3RlbSBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29kZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb2RlKSB7IHRoaXMuY29kZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb2RlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9jb2RlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uY2VwdE1hcC5lbGVtZW50LnRhcmdldC5kZXBlbmRzT24nIH1cclxuICAgIHRoaXMudlJTKCdlbGVtZW50JyxleHApXHJcbiAgICB0aGlzLnZSUygnY29kZVN5c3RlbScsZXhwKVxyXG4gICAgdGhpcy52UlMoJ2NvZGUnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25jZXB0TWFwRWxlbWVudFRhcmdldCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25jZXB0TWFwRWxlbWVudFRhcmdldEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIFVSSSB0aGF0IGlkZW50aWZpZXMgdGhlIGNvZGUgc3lzdGVtIG9mIHRoZSB0YXJnZXQgY29kZSAoaWYgdGhlIHRhcmdldCBpcyBhIHZhbHVlIHNldCB0aGF0IGNyb3NzIGNvZGUgc3lzdGVtcykuXHJcbiAgICovXHJcbiAgY29kZVN5c3RlbT86IGZoaXIuRmhpclVyaXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25jZXB0TWFwLmVsZW1lbnQudGFyZ2V0LmNvZGVTeXN0ZW1cclxuICAgKi9cclxuICBfY29kZVN5c3RlbT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpdHkgKGNvZGUgb3IgcGF0aCkgb3IgdGhlIGVsZW1lbnQvaXRlbSB0aGF0IHRoZSBtYXAgcmVmZXJzIHRvLlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuZWxlbWVudC50YXJnZXQuY29kZVxyXG4gICAqL1xyXG4gIF9jb2RlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgZXF1aXZhbGVuY2UgYmV0d2VlbiB0aGUgc291cmNlIGFuZCB0YXJnZXQgY29uY2VwdHMgKGNvdW50aW5nIGZvciB0aGUgZGVwZW5kZW5jaWVzIGFuZCBwcm9kdWN0cykuIFRoZSBlcXVpdmFsZW5jZSBpcyByZWFkIGZyb20gdGFyZ2V0IHRvIHNvdXJjZSAoZS5nLiB0aGUgdGFyZ2V0IGlzICd3aWRlcicgdGhhbiB0aGUgc291cmNlKS5cclxuICAgKi9cclxuICBlcXVpdmFsZW5jZTogZmhpci5GaGlyQ29kZTxDb25jZXB0TWFwRXF1aXZhbGVuY2VDb2RlVHlwZT58c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uY2VwdE1hcC5lbGVtZW50LnRhcmdldC5lcXVpdmFsZW5jZVxyXG4gICAqL1xyXG4gIF9lcXVpdmFsZW5jZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBkZXNjcmlwdGlvbiBvZiBzdGF0dXMvaXNzdWVzIGluIG1hcHBpbmcgdGhhdCBjb252ZXlzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gbm90IHJlcHJlc2VudGVkIGluICB0aGUgc3RydWN0dXJlZCBkYXRhLlxyXG4gICAqL1xyXG4gIGNvbW1lbnRzPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuZWxlbWVudC50YXJnZXQuY29tbWVudHNcclxuICAgKi9cclxuICBfY29tbWVudHM/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgc2V0IG9mIGFkZGl0aW9uYWwgZGVwZW5kZW5jaWVzIGZvciB0aGlzIG1hcHBpbmcgdG8gaG9sZC4gVGhpcyBtYXBwaW5nIGlzIG9ubHkgYXBwbGljYWJsZSBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgY2FuIGJlIHJlc29sdmVkLCBhbmQgaXQgaGFzIHRoZSBzcGVjaWZpZWQgdmFsdWUuXHJcbiAgICovXHJcbiAgZGVwZW5kc09uPzogZmhpci5Db25jZXB0TWFwRWxlbWVudFRhcmdldERlcGVuZHNPbkFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzZXQgb2YgYWRkaXRpb25hbCBvdXRjb21lcyBmcm9tIHRoaXMgbWFwcGluZyB0byBvdGhlciBlbGVtZW50cy4gVG8gcHJvcGVybHkgZXhlY3V0ZSB0aGlzIG1hcHBpbmcsIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBtdXN0IGJlIG1hcHBlZCB0byBzb21lIGRhdGEgZWxlbWVudCBvciBzb3VyY2UgdGhhdCBpcyBpbiBjb250ZXh0LiBUaGUgbWFwcGluZyBtYXkgc3RpbGwgYmUgdXNlZnVsIHdpdGhvdXQgYSBwbGFjZSBmb3IgdGhlIGFkZGl0aW9uYWwgZGF0YSBlbGVtZW50cywgYnV0IHRoZSBlcXVpdmFsZW5jZSBjYW5ub3QgYmUgcmVsaWVkIG9uLlxyXG4gICAqL1xyXG4gIHByb2R1Y3Q/OiBmaGlyLkNvbmNlcHRNYXBFbGVtZW50VGFyZ2V0RGVwZW5kc09uQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgY29uY2VwdCBmcm9tIHRoZSB0YXJnZXQgdmFsdWUgc2V0IHRoYXQgdGhpcyBjb25jZXB0IG1hcHMgdG8uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uY2VwdE1hcEVsZW1lbnRUYXJnZXQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdDb25jZXB0TWFwRWxlbWVudFRhcmdldCc7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgVVJJIHRoYXQgaWRlbnRpZmllcyB0aGUgY29kZSBzeXN0ZW0gb2YgdGhlIHRhcmdldCBjb2RlIChpZiB0aGUgdGFyZ2V0IGlzIGEgdmFsdWUgc2V0IHRoYXQgY3Jvc3MgY29kZSBzeXN0ZW1zKS5cclxuICAgKi9cclxuICBwdWJsaWMgY29kZVN5c3RlbT86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpdHkgKGNvZGUgb3IgcGF0aCkgb3IgdGhlIGVsZW1lbnQvaXRlbSB0aGF0IHRoZSBtYXAgcmVmZXJzIHRvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGVxdWl2YWxlbmNlIGJldHdlZW4gdGhlIHNvdXJjZSBhbmQgdGFyZ2V0IGNvbmNlcHRzIChjb3VudGluZyBmb3IgdGhlIGRlcGVuZGVuY2llcyBhbmQgcHJvZHVjdHMpLiBUaGUgZXF1aXZhbGVuY2UgaXMgcmVhZCBmcm9tIHRhcmdldCB0byBzb3VyY2UgKGUuZy4gdGhlIHRhcmdldCBpcyAnd2lkZXInIHRoYW4gdGhlIHNvdXJjZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGVxdWl2YWxlbmNlOiBmaGlyLkZoaXJDb2RlPENvbmNlcHRNYXBFcXVpdmFsZW5jZUNvZGVUeXBlPnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEEgZGVzY3JpcHRpb24gb2Ygc3RhdHVzL2lzc3VlcyBpbiBtYXBwaW5nIHRoYXQgY29udmV5cyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIG5vdCByZXByZXNlbnRlZCBpbiAgdGhlIHN0cnVjdHVyZWQgZGF0YS5cclxuICAgKi9cclxuICBwdWJsaWMgY29tbWVudHM/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc2V0IG9mIGFkZGl0aW9uYWwgZGVwZW5kZW5jaWVzIGZvciB0aGlzIG1hcHBpbmcgdG8gaG9sZC4gVGhpcyBtYXBwaW5nIGlzIG9ubHkgYXBwbGljYWJsZSBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgY2FuIGJlIHJlc29sdmVkLCBhbmQgaXQgaGFzIHRoZSBzcGVjaWZpZWQgdmFsdWUuXHJcbiAgICovXHJcbiAgcHVibGljIGRlcGVuZHNPbjogZmhpci5Db25jZXB0TWFwRWxlbWVudFRhcmdldERlcGVuZHNPbltdO1xyXG4gIC8qKlxyXG4gICAqIEEgc2V0IG9mIGFkZGl0aW9uYWwgb3V0Y29tZXMgZnJvbSB0aGlzIG1hcHBpbmcgdG8gb3RoZXIgZWxlbWVudHMuIFRvIHByb3Blcmx5IGV4ZWN1dGUgdGhpcyBtYXBwaW5nLCB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgbXVzdCBiZSBtYXBwZWQgdG8gc29tZSBkYXRhIGVsZW1lbnQgb3Igc291cmNlIHRoYXQgaXMgaW4gY29udGV4dC4gVGhlIG1hcHBpbmcgbWF5IHN0aWxsIGJlIHVzZWZ1bCB3aXRob3V0IGEgcGxhY2UgZm9yIHRoZSBhZGRpdGlvbmFsIGRhdGEgZWxlbWVudHMsIGJ1dCB0aGUgZXF1aXZhbGVuY2UgY2Fubm90IGJlIHJlbGllZCBvbi5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZHVjdDogZmhpci5Db25jZXB0TWFwRWxlbWVudFRhcmdldERlcGVuZHNPbltdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmNlcHRNYXBFbGVtZW50VGFyZ2V0IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8Q29uY2VwdE1hcEVsZW1lbnRUYXJnZXRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnY29kZVN5c3RlbSddKSB7IHRoaXMuY29kZVN5c3RlbSA9IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiBzb3VyY2UuY29kZVN5c3RlbX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29kZVN5c3RlbSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvZGVTeXN0ZW0pIHsgdGhpcy5jb2RlU3lzdGVtLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvZGVTeXN0ZW0hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb2RlU3lzdGVtID0gbmV3IGZoaXIuRmhpclVyaShzb3VyY2UuX2NvZGVTeXN0ZW0gYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2NvZGUnXSkgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS5jb2RlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb2RlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29kZSkgeyB0aGlzLmNvZGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29kZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvZGUgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX2NvZGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydlcXVpdmFsZW5jZSddKSB7IHRoaXMuZXF1aXZhbGVuY2UgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25jZXB0TWFwRXF1aXZhbGVuY2VDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2UuZXF1aXZhbGVuY2V9KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXF1aXZhbGVuY2UgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZXF1aXZhbGVuY2UnXSkge1xyXG4gICAgICBpZiAodGhpcy5lcXVpdmFsZW5jZSkgeyB0aGlzLmVxdWl2YWxlbmNlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2VxdWl2YWxlbmNlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZXF1aXZhbGVuY2UgPSBuZXcgZmhpci5GaGlyQ29kZTxDb25jZXB0TWFwRXF1aXZhbGVuY2VDb2RlVHlwZT4oc291cmNlLl9lcXVpdmFsZW5jZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tbWVudHMnXSkgeyB0aGlzLmNvbW1lbnRzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5jb21tZW50c30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29tbWVudHMnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb21tZW50cykgeyB0aGlzLmNvbW1lbnRzLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvbW1lbnRzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29tbWVudHMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fY29tbWVudHMgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2RlcGVuZHNPbiddKSB7IHRoaXMuZGVwZW5kc09uID0gc291cmNlLmRlcGVuZHNPbi5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbmNlcHRNYXBFbGVtZW50VGFyZ2V0RGVwZW5kc09uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVwZW5kc09uID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3Byb2R1Y3QnXSkgeyB0aGlzLnByb2R1Y3QgPSBzb3VyY2UucHJvZHVjdC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbmNlcHRNYXBFbGVtZW50VGFyZ2V0RGVwZW5kc09uKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucHJvZHVjdCA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQ29uY2VwdE1hcC5lbGVtZW50LnRhcmdldCcgfVxyXG4gICAgdGhpcy52T1MoJ2NvZGVTeXN0ZW0nLGV4cClcclxuICAgIHRoaXMudk9TKCdjb2RlJyxleHApXHJcbiAgICB0aGlzLnZSU1YoJ2VxdWl2YWxlbmNlJyxleHAsJ0NvbmNlcHRNYXBFcXVpdmFsZW5jZScsQ29uY2VwdE1hcEVxdWl2YWxlbmNlVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdjb21tZW50cycsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2RlcGVuZHNPbicsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3Byb2R1Y3QnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBDb25jZXB0TWFwRWxlbWVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25jZXB0TWFwRWxlbWVudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEFuIGFic29sdXRlIFVSSSB0aGF0IGlkZW50aWZpZXMgdGhlIENvZGUgU3lzdGVtIChpZiB0aGUgc291cmNlIGlzIGEgdmFsdWUgc2V0IHRoYXQgY3Jvc3NlcyBtb3JlIHRoYW4gb25lIGNvZGUgc3lzdGVtKS5cclxuICAgKi9cclxuICBjb2RlU3lzdGVtPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuZWxlbWVudC5jb2RlU3lzdGVtXHJcbiAgICovXHJcbiAgX2NvZGVTeXN0ZW0/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aXR5IChjb2RlIG9yIHBhdGgpIG9yIHRoZSBlbGVtZW50L2l0ZW0gYmVpbmcgbWFwcGVkLlxyXG4gICAqL1xyXG4gIGNvZGU/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuZWxlbWVudC5jb2RlXHJcbiAgICovXHJcbiAgX2NvZGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgY29uY2VwdCBmcm9tIHRoZSB0YXJnZXQgdmFsdWUgc2V0IHRoYXQgdGhpcyBjb25jZXB0IG1hcHMgdG8uXHJcbiAgICovXHJcbiAgdGFyZ2V0PzogZmhpci5Db25jZXB0TWFwRWxlbWVudFRhcmdldEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYXBwaW5ncyBmb3IgYW4gaW5kaXZpZHVhbCBjb25jZXB0IGluIHRoZSBzb3VyY2UgdG8gb25lIG9yIG1vcmUgY29uY2VwdHMgaW4gdGhlIHRhcmdldC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25jZXB0TWFwRWxlbWVudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0NvbmNlcHRNYXBFbGVtZW50JztcclxuICAvKipcclxuICAgKiBBbiBhYnNvbHV0ZSBVUkkgdGhhdCBpZGVudGlmaWVzIHRoZSBDb2RlIFN5c3RlbSAoaWYgdGhlIHNvdXJjZSBpcyBhIHZhbHVlIHNldCB0aGF0IGNyb3NzZXMgbW9yZSB0aGFuIG9uZSBjb2RlIHN5c3RlbSkuXHJcbiAgICovXHJcbiAgcHVibGljIGNvZGVTeXN0ZW0/OiBmaGlyLkZoaXJVcml8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aXR5IChjb2RlIG9yIHBhdGgpIG9yIHRoZSBlbGVtZW50L2l0ZW0gYmVpbmcgbWFwcGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb2RlPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb25jZXB0IGZyb20gdGhlIHRhcmdldCB2YWx1ZSBzZXQgdGhhdCB0aGlzIGNvbmNlcHQgbWFwcyB0by5cclxuICAgKi9cclxuICBwdWJsaWMgdGFyZ2V0OiBmaGlyLkNvbmNlcHRNYXBFbGVtZW50VGFyZ2V0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQ29uY2VwdE1hcEVsZW1lbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25jZXB0TWFwRWxlbWVudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydjb2RlU3lzdGVtJ10pIHsgdGhpcy5jb2RlU3lzdGVtID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5jb2RlU3lzdGVtfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb2RlU3lzdGVtJ10pIHtcclxuICAgICAgaWYgKHRoaXMuY29kZVN5c3RlbSkgeyB0aGlzLmNvZGVTeXN0ZW0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29kZVN5c3RlbSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmNvZGVTeXN0ZW0gPSBuZXcgZmhpci5GaGlyVXJpKHNvdXJjZS5fY29kZVN5c3RlbSBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29kZSddKSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLmNvZGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2NvZGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb2RlKSB7IHRoaXMuY29kZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9jb2RlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29kZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fY29kZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3RhcmdldCddKSB7IHRoaXMudGFyZ2V0ID0gc291cmNlLnRhcmdldC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbmNlcHRNYXBFbGVtZW50VGFyZ2V0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGFyZ2V0ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25jZXB0TWFwLmVsZW1lbnQnIH1cclxuICAgIHRoaXMudk9TKCdjb2RlU3lzdGVtJyxleHApXHJcbiAgICB0aGlzLnZPUygnY29kZScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3RhcmdldCcsZXhwKVxyXG4gICAgcmV0dXJuIGlzc3VlcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIENvbmNlcHRNYXAgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uY2VwdE1hcEFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkNvbmNlcHRNYXBcInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgVVJMIHRoYXQgaXMgdXNlZCB0byBpZGVudGlmeSB0aGlzIGNvbmNlcHQgbWFwIHdoZW4gaXQgaXMgcmVmZXJlbmNlZCBpbiBhIHNwZWNpZmljYXRpb24sIG1vZGVsLCBkZXNpZ24gb3IgYW4gaW5zdGFuY2UuIFRoaXMgU0hBTEwgYmUgYSBVUkwsIFNIT1VMRCBiZSBnbG9iYWxseSB1bmlxdWUsIGFuZCBTSE9VTEQgYmUgYW4gYWRkcmVzcyBhdCB3aGljaCB0aGlzIGNvbmNlcHQgbWFwIGlzIChvciB3aWxsIGJlKSBwdWJsaXNoZWQuXHJcbiAgICovXHJcbiAgdXJsPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAudXJsXHJcbiAgICovXHJcbiAgX3VybD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRm9ybWFsIGlkZW50aWZpZXIgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgY29uY2VwdCBtYXAgd2hlbiBpdCBpcyByZXByZXNlbnRlZCBpbiBvdGhlciBmb3JtYXRzLCBvciByZWZlcmVuY2VkIGluIGEgc3BlY2lmaWNhdGlvbiwgbW9kZWwsIGRlc2lnbiBvciBhbiBpbnN0YW5jZS5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgdmVyc2lvbiBvZiB0aGUgY29uY2VwdCBtYXAgd2hlbiBpdCBpcyByZWZlcmVuY2VkIGluIGEgc3BlY2lmaWNhdGlvbiwgbW9kZWwsIGRlc2lnbiBvciBpbnN0YW5jZS4gVGhpcyBpcyBhbiBhcmJpdHJhcnkgdmFsdWUgbWFuYWdlZCBieSB0aGUgcHJvZmlsZSBhdXRob3IgbWFudWFsbHkgYW5kIHRoZSB2YWx1ZSBzaG91bGQgYmUgYSB0aW1lc3RhbXAuXHJcbiAgICovXHJcbiAgdmVyc2lvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25jZXB0TWFwLnZlcnNpb25cclxuICAgKi9cclxuICBfdmVyc2lvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogU3VwcG9ydCBodW1hbiBuYXZpZ2F0aW9uLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uY2VwdE1hcC5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZ5IHdoZW4vaWYgdGhlIGNvbmNlcHQgbWFwIHNob3VsZCBiZSB1c2VkLlxyXG4gICAqL1xyXG4gIHN0YXR1czogZmhpci5GaGlyQ29kZTxDb25mb3JtYW5jZVJlc291cmNlU3RhdHVzQ29kZVR5cGU+fHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBDb25jZXB0TWFwIHdhcyBhdXRob3JlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyAob3IgZWR1Y2F0aW9uL2V2YWx1YXRpb24vbWFya2V0aW5nKSwgYW5kIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGZvciBnZW51aW5lIHVzYWdlLlxyXG4gICAqL1xyXG4gIGV4cGVyaW1lbnRhbD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuZXhwZXJpbWVudGFsXHJcbiAgICovXHJcbiAgX2V4cGVyaW1lbnRhbD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSGVscHMgZXN0YWJsaXNoIHRoZSBcImF1dGhvcml0eS9jcmVkaWJpbGl0eVwiIG9mIHRoZSBjb25jZXB0IG1hcC4gIE1heSBhbHNvIGFsbG93IGZvciBjb250YWN0LlxyXG4gICAqL1xyXG4gIHB1Ymxpc2hlcj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBDb25jZXB0TWFwLnB1Ymxpc2hlclxyXG4gICAqL1xyXG4gIF9wdWJsaXNoZXI/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIENvbnRhY3RzIHRvIGFzc2lzdCBhIHVzZXIgaW4gZmluZGluZyBhbmQgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBwdWJsaXNoZXIuXHJcbiAgICovXHJcbiAgY29udGFjdD86IGZoaXIuQ29uY2VwdE1hcENvbnRhY3RBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIE5lZWQgdG8ga25vdyB3aGVuIGEgY29uY2VwdCBtYXAgd2FzIGZpcnN0IGxlZ2FsIGZvciB1c2Ugb3IgYmVjYW1lIHdpdGhkcmF3biBvciByZXBsYWNlZC5cclxuICAgKi9cclxuICBkYXRlPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uY2VwdE1hcC5kYXRlXHJcbiAgICovXHJcbiAgX2RhdGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEh1bWFuIHVuZGVyc3RhbmRhYmlsaXR5LlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEFzc2lzdCBpbiBzZWFyY2hpbmcgZm9yIGFwcHJvcHJpYXRlIGNvbmNlcHQgbWFwIGluc3RhbmNlcy5cclxuICAgKi9cclxuICB1c2VDb250ZXh0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4cGxhaW5zIHdoeSB0aGlzIGNvbmNlcHQgbWFwIGlzIG5lZWRlZCBhbmQgd2h5IGl0IGhhcyBiZWVuIGNvbnN0cmFpbmVkIGFzIGl0IGhhcy5cclxuICAgKi9cclxuICByZXF1aXJlbWVudHM/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQ29uY2VwdE1hcC5yZXF1aXJlbWVudHNcclxuICAgKi9cclxuICBfcmVxdWlyZW1lbnRzPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgcmVsYXRpbmcgdG8gdGhlIGNvbmNlcHQgbWFwIGFuZC9vciBpdHMgY29udGVudHMuXHJcbiAgICovXHJcbiAgY29weXJpZ2h0PzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IENvbmNlcHRNYXAuY29weXJpZ2h0XHJcbiAgICovXHJcbiAgX2NvcHlyaWdodD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNvdXJjZSB2YWx1ZSBzZXQgdGhhdCBzcGVjaWZpZXMgdGhlIGNvbmNlcHRzIHRoYXQgYXJlIGJlaW5nIG1hcHBlZC5cclxuICAgKi9cclxuICBzb3VyY2U/OiBmaGlyLkZoaXJVcml8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzb3VyY2UgdmFsdWUgc2V0IHRoYXQgc3BlY2lmaWVzIHRoZSBjb25jZXB0cyB0aGF0IGFyZSBiZWluZyBtYXBwZWQuXHJcbiAgICovXHJcbiAgc291cmNlVXJpPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNvdXJjZSB2YWx1ZSBzZXQgdGhhdCBzcGVjaWZpZXMgdGhlIGNvbmNlcHRzIHRoYXQgYXJlIGJlaW5nIG1hcHBlZC5cclxuICAgKi9cclxuICBzb3VyY2VSZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0YXJnZXQgdmFsdWUgc2V0IHByb3ZpZGVzIGNvbnRleHQgdG8gdGhlIG1hcHBpbmdzLiBOb3RlIHRoYXQgdGhlIG1hcHBpbmcgaXMgbWFkZSBiZXR3ZWVuIGNvbmNlcHRzLCBub3QgYmV0d2VlbiB2YWx1ZSBzZXRzLCBidXQgdGhlIHZhbHVlIHNldCBwcm92aWRlcyBpbXBvcnRhbnQgY29udGV4dCBhYm91dCBob3cgdGhlIGNvbmNlcHQgbWFwcGluZyBjaG9pY2VzIGFyZSBtYWRlLlxyXG4gICAqL1xyXG4gIHRhcmdldD86IGZoaXIuRmhpclVyaXxmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCB2YWx1ZSBzZXQgcHJvdmlkZXMgY29udGV4dCB0byB0aGUgbWFwcGluZ3MuIE5vdGUgdGhhdCB0aGUgbWFwcGluZyBpcyBtYWRlIGJldHdlZW4gY29uY2VwdHMsIG5vdCBiZXR3ZWVuIHZhbHVlIHNldHMsIGJ1dCB0aGUgdmFsdWUgc2V0IHByb3ZpZGVzIGltcG9ydGFudCBjb250ZXh0IGFib3V0IGhvdyB0aGUgY29uY2VwdCBtYXBwaW5nIGNob2ljZXMgYXJlIG1hZGUuXHJcbiAgICovXHJcbiAgdGFyZ2V0VXJpPzogZmhpci5GaGlyVXJpfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHRhcmdldCB2YWx1ZSBzZXQgcHJvdmlkZXMgY29udGV4dCB0byB0aGUgbWFwcGluZ3MuIE5vdGUgdGhhdCB0aGUgbWFwcGluZyBpcyBtYWRlIGJldHdlZW4gY29uY2VwdHMsIG5vdCBiZXR3ZWVuIHZhbHVlIHNldHMsIGJ1dCB0aGUgdmFsdWUgc2V0IHByb3ZpZGVzIGltcG9ydGFudCBjb250ZXh0IGFib3V0IGhvdyB0aGUgY29uY2VwdCBtYXBwaW5nIGNob2ljZXMgYXJlIG1hZGUuXHJcbiAgICovXHJcbiAgdGFyZ2V0UmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBNYXBwaW5ncyBmb3IgYW4gaW5kaXZpZHVhbCBjb25jZXB0IGluIHRoZSBzb3VyY2UgdG8gb25lIG9yIG1vcmUgY29uY2VwdHMgaW4gdGhlIHRhcmdldC5cclxuICAgKi9cclxuICBlbGVtZW50PzogZmhpci5Db25jZXB0TWFwRWxlbWVudEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHN0YXRlbWVudCBvZiByZWxhdGlvbnNoaXBzIGZyb20gb25lIHNldCBvZiBjb25jZXB0cyB0byBvbmUgb3IgbW9yZSBvdGhlciBjb25jZXB0cyAtIGVpdGhlciBjb2RlIHN5c3RlbXMgb3IgZGF0YSBlbGVtZW50cywgb3IgY2xhc3NlcyBpbiBjbGFzcyBtb2RlbHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uY2VwdE1hcCBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQ29uY2VwdE1hcCc7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHJlc291cmNlVHlwZTogXCJDb25jZXB0TWFwXCI7XHJcbiAgLyoqXHJcbiAgICogQW4gYWJzb2x1dGUgVVJMIHRoYXQgaXMgdXNlZCB0byBpZGVudGlmeSB0aGlzIGNvbmNlcHQgbWFwIHdoZW4gaXQgaXMgcmVmZXJlbmNlZCBpbiBhIHNwZWNpZmljYXRpb24sIG1vZGVsLCBkZXNpZ24gb3IgYW4gaW5zdGFuY2UuIFRoaXMgU0hBTEwgYmUgYSBVUkwsIFNIT1VMRCBiZSBnbG9iYWxseSB1bmlxdWUsIGFuZCBTSE9VTEQgYmUgYW4gYWRkcmVzcyBhdCB3aGljaCB0aGlzIGNvbmNlcHQgbWFwIGlzIChvciB3aWxsIGJlKSBwdWJsaXNoZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHVybD86IGZoaXIuRmhpclVyaXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRm9ybWFsIGlkZW50aWZpZXIgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgY29uY2VwdCBtYXAgd2hlbiBpdCBpcyByZXByZXNlbnRlZCBpbiBvdGhlciBmb3JtYXRzLCBvciByZWZlcmVuY2VkIGluIGEgc3BlY2lmaWNhdGlvbiwgbW9kZWwsIGRlc2lnbiBvciBhbiBpbnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGlkZW50aWZpZXIgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgdmVyc2lvbiBvZiB0aGUgY29uY2VwdCBtYXAgd2hlbiBpdCBpcyByZWZlcmVuY2VkIGluIGEgc3BlY2lmaWNhdGlvbiwgbW9kZWwsIGRlc2lnbiBvciBpbnN0YW5jZS4gVGhpcyBpcyBhbiBhcmJpdHJhcnkgdmFsdWUgbWFuYWdlZCBieSB0aGUgcHJvZmlsZSBhdXRob3IgbWFudWFsbHkgYW5kIHRoZSB2YWx1ZSBzaG91bGQgYmUgYSB0aW1lc3RhbXAuXHJcbiAgICovXHJcbiAgcHVibGljIHZlcnNpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFN1cHBvcnQgaHVtYW4gbmF2aWdhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZnkgd2hlbi9pZiB0aGUgY29uY2VwdCBtYXAgc2hvdWxkIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXR1czogZmhpci5GaGlyQ29kZTxDb25mb3JtYW5jZVJlc291cmNlU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBDb25jZXB0TWFwIHdhcyBhdXRob3JlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyAob3IgZWR1Y2F0aW9uL2V2YWx1YXRpb24vbWFya2V0aW5nKSwgYW5kIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGZvciBnZW51aW5lIHVzYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBleHBlcmltZW50YWw/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIZWxwcyBlc3RhYmxpc2ggdGhlIFwiYXV0aG9yaXR5L2NyZWRpYmlsaXR5XCIgb2YgdGhlIGNvbmNlcHQgbWFwLiAgTWF5IGFsc28gYWxsb3cgZm9yIGNvbnRhY3QuXHJcbiAgICovXHJcbiAgcHVibGljIHB1Ymxpc2hlcj86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQ29udGFjdHMgdG8gYXNzaXN0IGEgdXNlciBpbiBmaW5kaW5nIGFuZCBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHB1Ymxpc2hlci5cclxuICAgKi9cclxuICBwdWJsaWMgY29udGFjdDogZmhpci5Db25jZXB0TWFwQ29udGFjdFtdO1xyXG4gIC8qKlxyXG4gICAqIE5lZWQgdG8ga25vdyB3aGVuIGEgY29uY2VwdCBtYXAgd2FzIGZpcnN0IGxlZ2FsIGZvciB1c2Ugb3IgYmVjYW1lIHdpdGhkcmF3biBvciByZXBsYWNlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZT86IGZoaXIuRmhpckRhdGVUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBIdW1hbiB1bmRlcnN0YW5kYWJpbGl0eS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEFzc2lzdCBpbiBzZWFyY2hpbmcgZm9yIGFwcHJvcHJpYXRlIGNvbmNlcHQgbWFwIGluc3RhbmNlcy5cclxuICAgKi9cclxuICBwdWJsaWMgdXNlQ29udGV4dDogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBFeHBsYWlucyB3aHkgdGhpcyBjb25jZXB0IG1hcCBpcyBuZWVkZWQgYW5kIHdoeSBpdCBoYXMgYmVlbiBjb25zdHJhaW5lZCBhcyBpdCBoYXMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVpcmVtZW50cz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb3B5cmlnaHQgc3RhdGVtZW50IHJlbGF0aW5nIHRvIHRoZSBjb25jZXB0IG1hcCBhbmQvb3IgaXRzIGNvbnRlbnRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb3B5cmlnaHQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBzb3VyY2UgdmFsdWUgc2V0IHRoYXQgc3BlY2lmaWVzIHRoZSBjb25jZXB0cyB0aGF0IGFyZSBiZWluZyBtYXBwZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZTogKGZoaXIuRmhpclVyaXxmaGlyLlJlZmVyZW5jZSl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IENvbmNlcHRNYXAuc291cmNlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3NvdXJjZUlzQ2hvaWNlOnRydWUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0YXJnZXQgdmFsdWUgc2V0IHByb3ZpZGVzIGNvbnRleHQgdG8gdGhlIG1hcHBpbmdzLiBOb3RlIHRoYXQgdGhlIG1hcHBpbmcgaXMgbWFkZSBiZXR3ZWVuIGNvbmNlcHRzLCBub3QgYmV0d2VlbiB2YWx1ZSBzZXRzLCBidXQgdGhlIHZhbHVlIHNldCBwcm92aWRlcyBpbXBvcnRhbnQgY29udGV4dCBhYm91dCBob3cgdGhlIGNvbmNlcHQgbWFwcGluZyBjaG9pY2VzIGFyZSBtYWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YXJnZXQ6IChmaGlyLkZoaXJVcml8Zmhpci5SZWZlcmVuY2UpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBDb25jZXB0TWFwLnRhcmdldFt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c190YXJnZXRJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBNYXBwaW5ncyBmb3IgYW4gaW5kaXZpZHVhbCBjb25jZXB0IGluIHRoZSBzb3VyY2UgdG8gb25lIG9yIG1vcmUgY29uY2VwdHMgaW4gdGhlIHRhcmdldC5cclxuICAgKi9cclxuICBwdWJsaWMgZWxlbWVudDogZmhpci5Db25jZXB0TWFwRWxlbWVudFtdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIENvbmNlcHRNYXAgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxDb25jZXB0TWFwQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIHRoaXMucmVzb3VyY2VUeXBlID0gJ0NvbmNlcHRNYXAnO1xyXG4gICAgaWYgKHNvdXJjZVsndXJsJ10pIHsgdGhpcy51cmwgPSBuZXcgZmhpci5GaGlyVXJpKHt2YWx1ZTogc291cmNlLnVybH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdXJsJ10pIHtcclxuICAgICAgaWYgKHRoaXMudXJsKSB7IHRoaXMudXJsLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3VybCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnVybCA9IG5ldyBmaGlyLkZoaXJVcmkoc291cmNlLl91cmwgYXMgUGFydGlhbDxmaGlyLkZoaXJVcmlBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndmVyc2lvbiddKSB7IHRoaXMudmVyc2lvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudmVyc2lvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfdmVyc2lvbiddKSB7XHJcbiAgICAgIGlmICh0aGlzLnZlcnNpb24pIHsgdGhpcy52ZXJzaW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3ZlcnNpb24hKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy52ZXJzaW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3ZlcnNpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydzdGF0dXMnXSkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPENvbmZvcm1hbmNlUmVzb3VyY2VTdGF0dXNDb2RlVHlwZT4oe3ZhbHVlOiBzb3VyY2Uuc3RhdHVzfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnN0YXR1cyA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zdGF0dXMnXSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMpIHsgdGhpcy5zdGF0dXMuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc3RhdHVzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbmV3IGZoaXIuRmhpckNvZGU8Q29uZm9ybWFuY2VSZXNvdXJjZVN0YXR1c0NvZGVUeXBlPihzb3VyY2UuX3N0YXR1cyBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGU+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZXhwZXJpbWVudGFsJ10pIHsgdGhpcy5leHBlcmltZW50YWwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5leHBlcmltZW50YWx9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2V4cGVyaW1lbnRhbCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmV4cGVyaW1lbnRhbCkgeyB0aGlzLmV4cGVyaW1lbnRhbC5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9leHBlcmltZW50YWwhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5leHBlcmltZW50YWwgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2V4cGVyaW1lbnRhbCBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3B1Ymxpc2hlciddKSB7IHRoaXMucHVibGlzaGVyID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5wdWJsaXNoZXJ9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3B1Ymxpc2hlciddKSB7XHJcbiAgICAgIGlmICh0aGlzLnB1Ymxpc2hlcikgeyB0aGlzLnB1Ymxpc2hlci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9wdWJsaXNoZXIhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5wdWJsaXNoZXIgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcHVibGlzaGVyIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb250YWN0J10pIHsgdGhpcy5jb250YWN0ID0gc291cmNlLmNvbnRhY3QubWFwKCh4KSA9PiBuZXcgZmhpci5Db25jZXB0TWFwQ29udGFjdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmNvbnRhY3QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGF0ZSddKSB7IHRoaXMuZGF0ZSA9IG5ldyBmaGlyLkZoaXJEYXRlVGltZSh7dmFsdWU6IHNvdXJjZS5kYXRlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZSkgeyB0aGlzLmRhdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGUgPSBuZXcgZmhpci5GaGlyRGF0ZVRpbWUoc291cmNlLl9kYXRlIGFzIFBhcnRpYWw8Zmhpci5GaGlyRGF0ZVRpbWVBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd1c2VDb250ZXh0J10pIHsgdGhpcy51c2VDb250ZXh0ID0gc291cmNlLnVzZUNvbnRleHQubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy51c2VDb250ZXh0ID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcXVpcmVtZW50cyddKSB7IHRoaXMucmVxdWlyZW1lbnRzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5yZXF1aXJlbWVudHN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlcXVpcmVtZW50cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlcXVpcmVtZW50cykgeyB0aGlzLnJlcXVpcmVtZW50cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZXF1aXJlbWVudHMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZXF1aXJlbWVudHMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fcmVxdWlyZW1lbnRzIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydjb3B5cmlnaHQnXSkgeyB0aGlzLmNvcHlyaWdodCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29weXJpZ2h0fSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19jb3B5cmlnaHQnXSkge1xyXG4gICAgICBpZiAodGhpcy5jb3B5cmlnaHQpIHsgdGhpcy5jb3B5cmlnaHQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fY29weXJpZ2h0ISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuY29weXJpZ2h0ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2NvcHlyaWdodCBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnc291cmNlJ10pIHsgdGhpcy5zb3VyY2UgPSBzb3VyY2Uuc291cmNlOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3NvdXJjZVVyaSddKSB7IHRoaXMuc291cmNlID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS5zb3VyY2VVcml9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydzb3VyY2VSZWZlcmVuY2UnXSkgeyB0aGlzLnNvdXJjZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2Uuc291cmNlUmVmZXJlbmNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc291cmNlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndGFyZ2V0J10pIHsgdGhpcy50YXJnZXQgPSBzb3VyY2UudGFyZ2V0OyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ3RhcmdldFVyaSddKSB7IHRoaXMudGFyZ2V0ID0gbmV3IGZoaXIuRmhpclVyaSh7dmFsdWU6IHNvdXJjZS50YXJnZXRVcml9KTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWyd0YXJnZXRSZWZlcmVuY2UnXSkgeyB0aGlzLnRhcmdldCA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UudGFyZ2V0UmVmZXJlbmNlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudGFyZ2V0ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZWxlbWVudCddKSB7IHRoaXMuZWxlbWVudCA9IHNvdXJjZS5lbGVtZW50Lm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29uY2VwdE1hcEVsZW1lbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lbGVtZW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3N1ZXM6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdDb25jZXB0TWFwJyB9XHJcbiAgICB0aGlzLnZSUygncmVzb3VyY2VUeXBlJyxleHApXHJcbiAgICB0aGlzLnZPUygndXJsJyxleHApXHJcbiAgICB0aGlzLnZPUygnaWRlbnRpZmllcicsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3ZlcnNpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCduYW1lJyxleHApXHJcbiAgICB0aGlzLnZSU1YoJ3N0YXR1cycsZXhwLCdDb25mb3JtYW5jZVJlc291cmNlU3RhdHVzJyxDb25mb3JtYW5jZVJlc291cmNlU3RhdHVzVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdleHBlcmltZW50YWwnLGV4cClcclxuICAgIHRoaXMudk9TKCdwdWJsaXNoZXInLGV4cClcclxuICAgIHRoaXMudk9BKCdjb250YWN0JyxleHApXHJcbiAgICB0aGlzLnZPUygnZGF0ZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2Rlc2NyaXB0aW9uJyxleHApXHJcbiAgICB0aGlzLnZPQSgndXNlQ29udGV4dCcsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3JlcXVpcmVtZW50cycsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NvcHlyaWdodCcsZXhwKVxyXG4gICAgdGhpcy52UlMoJ3NvdXJjZScsZXhwKVxyXG4gICAgdGhpcy52UlMoJ3RhcmdldCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2VsZW1lbnQnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbiJdfQ==