// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: MedicationAdministration
import * as fhir from '../fhir.js';
// @ts-ignore
import { MedicationAdminStatusVsValidation } from '../fhirValueSets/MedicationAdminStatusVsValidation.js';
/**
 * Describes the medication dosage information details e.g. dose, rate, site, route, etc.
 */
export class MedicationAdministrationDosage extends fhir.BackboneElement {
    /**
     * Default constructor for MedicationAdministrationDosage - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['text'] !== undefined) {
            this.text = new fhir.FhirString({ value: source.text }, options);
        }
        if (source['_text']) {
            if (this.text) {
                this.text.addExtendedProperties(source._text);
            }
            else {
                this.text = new fhir.FhirString(source._text, options);
            }
        }
        if (source['site']) {
            this.site = source.site;
        }
        else if (source['siteCodeableConcept']) {
            this.site = new fhir.CodeableConcept(source.siteCodeableConcept, options);
        }
        else if (source['siteReference']) {
            this.site = new fhir.Reference(source.siteReference, options);
        }
        if (source['route']) {
            this.route = new fhir.CodeableConcept(source.route, options);
        }
        if (source['method']) {
            this.method = new fhir.CodeableConcept(source.method, options);
        }
        if (source['quantity']) {
            this.quantity = new fhir.Quantity(source.quantity, options);
        }
        if (source['rate']) {
            this.rate = source.rate;
        }
        else if (source['rateRatio']) {
            this.rate = new fhir.Ratio(source.rateRatio, options);
        }
        else if (source['rateRange']) {
            this.rate = new fhir.Range(source.rateRange, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationAdministration.dosage';
        }
        iss.push(...this.vOS('text', exp));
        iss.push(...this.vOS('site', exp));
        iss.push(...this.vOS('route', exp));
        iss.push(...this.vOS('method', exp));
        iss.push(...this.vOS('quantity', exp));
        iss.push(...this.vOS('rate', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationAdministrationDosage._fts_dataType = 'MedicationAdministrationDosage';
/**
 * Internal flag to properly serialize choice-type element MedicationAdministration.dosage.site[x]
 */
MedicationAdministrationDosage._fts_siteIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element MedicationAdministration.dosage.rate[x]
 */
MedicationAdministrationDosage._fts_rateIsChoice = true;
/**
 * Describes the event of a patient consuming or otherwise being administered a medication.  This may be as simple as swallowing a tablet or it may be a long running infusion.  Related resources tie this event to the authorizing prescription, and the specific encounter between patient and health care practitioner.
 */
export class MedicationAdministration extends fhir.DomainResource {
    /**
     * Default constructor for MedicationAdministration - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'MedicationAdministration';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x, options));
        }
        else {
            this.identifier = [];
        }
        if (source['status'] !== undefined) {
            this.status = new fhir.FhirCode({ value: source.status }, options);
        }
        else {
            this.status = null;
        }
        if (source['_status']) {
            if (this.status) {
                this.status.addExtendedProperties(source._status);
            }
            else {
                this.status = new fhir.FhirCode(source._status, options);
            }
        }
        if (source['patient']) {
            this.patient = new fhir.Reference(source.patient, options);
        }
        else {
            this.patient = null;
        }
        if (source['practitioner']) {
            this.practitioner = new fhir.Reference(source.practitioner, options);
        }
        if (source['encounter']) {
            this.encounter = new fhir.Reference(source.encounter, options);
        }
        if (source['prescription']) {
            this.prescription = new fhir.Reference(source.prescription, options);
        }
        if (source['wasNotGiven'] !== undefined) {
            this.wasNotGiven = new fhir.FhirBoolean({ value: source.wasNotGiven }, options);
        }
        if (source['_wasNotGiven']) {
            if (this.wasNotGiven) {
                this.wasNotGiven.addExtendedProperties(source._wasNotGiven);
            }
            else {
                this.wasNotGiven = new fhir.FhirBoolean(source._wasNotGiven, options);
            }
        }
        if (source['reasonNotGiven']) {
            this.reasonNotGiven = source.reasonNotGiven.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.reasonNotGiven = [];
        }
        if (source['reasonGiven']) {
            this.reasonGiven = source.reasonGiven.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.reasonGiven = [];
        }
        if (source['effectiveTime']) {
            this.effectiveTime = source.effectiveTime;
        }
        else if (source['effectiveTimeDateTime'] !== undefined) {
            this.effectiveTime = new fhir.FhirDateTime({ value: source.effectiveTimeDateTime }, options);
        }
        else if (source['effectiveTimePeriod']) {
            this.effectiveTime = new fhir.Period(source.effectiveTimePeriod, options);
        }
        else {
            this.effectiveTime = null;
        }
        if (source['medication']) {
            this.medication = source.medication;
        }
        else if (source['medicationCodeableConcept']) {
            this.medication = new fhir.CodeableConcept(source.medicationCodeableConcept, options);
        }
        else if (source['medicationReference']) {
            this.medication = new fhir.Reference(source.medicationReference, options);
        }
        else {
            this.medication = null;
        }
        if (source['device']) {
            this.device = source.device.map((x) => new fhir.Reference(x, options));
        }
        else {
            this.device = [];
        }
        if (source['note'] !== undefined) {
            this.note = new fhir.FhirString({ value: source.note }, options);
        }
        if (source['_note']) {
            if (this.note) {
                this.note.addExtendedProperties(source._note);
            }
            else {
                this.note = new fhir.FhirString(source._note, options);
            }
        }
        if (source['dosage']) {
            this.dosage = new fhir.MedicationAdministrationDosage(source.dosage, options);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'MedicationAdministration';
        }
        iss.push(...this.vOA('identifier', exp));
        iss.push(...this.vRSV('status', exp, 'MedicationAdminStatus', MedicationAdminStatusVsValidation, 'r'));
        iss.push(...this.vRS('patient', exp));
        iss.push(...this.vOS('practitioner', exp));
        iss.push(...this.vOS('encounter', exp));
        iss.push(...this.vOS('prescription', exp));
        iss.push(...this.vOS('wasNotGiven', exp));
        iss.push(...this.vOA('reasonNotGiven', exp));
        iss.push(...this.vOA('reasonGiven', exp));
        iss.push(...this.vRS('effectiveTime', exp));
        iss.push(...this.vRS('medication', exp));
        iss.push(...this.vOA('device', exp));
        iss.push(...this.vOS('note', exp));
        iss.push(...this.vOS('dosage', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
MedicationAdministration._fts_dataType = 'MedicationAdministration';
/**
 * Internal flag to properly serialize choice-type element MedicationAdministration.effectiveTime[x]
 */
MedicationAdministration._fts_effectiveTimeIsChoice = true;
/**
 * Internal flag to properly serialize choice-type element MedicationAdministration.medication[x]
 */
MedicationAdministration._fts_medicationIsChoice = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiZmhpci9NZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLCtDQUErQztBQUMvQyxrQ0FBa0M7QUFDbEMsMENBQTBDO0FBRTFDLE9BQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBSW5DLGFBQWE7QUFDYixPQUFPLEVBQUUsaUNBQWlDLEVBQUUsTUFBTSx1REFBdUQsQ0FBQztBQW1EMUc7O0dBRUc7QUFDSCxNQUFNLE9BQU8sOEJBQStCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFxQ3RFOztPQUVHO0lBQ0gsWUFBWSxTQUFxRCxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUMzRyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO1FBQ3JHLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ25CLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQzthQUFFO2lCQUM3RDtnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBcUMsRUFBRSxPQUFPLENBQUMsQ0FBQzthQUFFO1NBQ2pHO1FBQ0QsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJ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SUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzNDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUExSUQ7O0dBRUc7QUFDNkIsc0NBQWEsR0FBVSwwQkFBMEIsQ0FBQztBQTZDbEY7O0dBRUc7QUFDdUIsbURBQTBCLEdBQVEsSUFBSSxDQUFDO0FBS2pFOztHQUVHO0FBQ3VCLGdEQUF1QixHQUFRLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIDxhdXRvLWdlbmVyYXRlZC8+XHJcbi8vIENvbnRlbnRzIG9mOiBobDcuZmhpci5yMi5jb3JlIHZlcnNpb246IDEuMC4yXHJcbi8vIE1pbmltdW0gVHlwZVNjcmlwdCBWZXJzaW9uOiAzLjdcclxuLy8gRkhJUiBSZXNvdXJjZTogTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNZWRpY2F0aW9uQWRtaW5TdGF0dXNDb2RlcywgIE1lZGljYXRpb25BZG1pblN0YXR1c0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9uQWRtaW5TdGF0dXNDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTWVkaWNhdGlvbkFkbWluU3RhdHVzVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9NZWRpY2F0aW9uQWRtaW5TdGF0dXNWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uRG9zYWdlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbkRvc2FnZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEZyZWUgdGV4dCBkb3NhZ2UgaW5zdHJ1Y3Rpb25zIGNhbiBiZSB1c2VkIGZvciBjYXNlcyB3aGVyZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZSB0b28gY29tcGxleCB0byBjb2RlLiBXaGVuIGNvZGVkIGluc3RydWN0aW9ucyBhcmUgcHJlc2VudCwgdGhlIGZyZWUgdGV4dCBpbnN0cnVjdGlvbnMgbWF5IHN0aWxsIGJlIHByZXNlbnQgZm9yIGRpc3BsYXkgdG8gaHVtYW5zIHRha2luZyBvciBhZG1pbmlzdGVyaW5nIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHRleHQ/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLmRvc2FnZS50ZXh0XHJcbiAgICovXHJcbiAgX3RleHQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgc3BlY2lmaWNhdGlvbiBvZiB0aGUgYW5hdG9taWMgc2l0ZSB3aGVyZSB0aGUgbWVkaWNhdGlvbiBmaXJzdCBlbnRlcmVkIHRoZSBib2R5LiAgRm9yIGV4YW1wbGUsIFwibGVmdCBhcm1cIi5cclxuICAgKi9cclxuICBzaXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgc3BlY2lmaWNhdGlvbiBvZiB0aGUgYW5hdG9taWMgc2l0ZSB3aGVyZSB0aGUgbWVkaWNhdGlvbiBmaXJzdCBlbnRlcmVkIHRoZSBib2R5LiAgRm9yIGV4YW1wbGUsIFwibGVmdCBhcm1cIi5cclxuICAgKi9cclxuICBzaXRlQ29kZWFibGVDb25jZXB0PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGVkIHNwZWNpZmljYXRpb24gb2YgdGhlIGFuYXRvbWljIHNpdGUgd2hlcmUgdGhlIG1lZGljYXRpb24gZmlyc3QgZW50ZXJlZCB0aGUgYm9keS4gIEZvciBleGFtcGxlLCBcImxlZnQgYXJtXCIuXHJcbiAgICovXHJcbiAgc2l0ZVJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBjb2RlIHNwZWNpZnlpbmcgdGhlIHJvdXRlIG9yIHBoeXNpb2xvZ2ljYWwgcGF0aCBvZiBhZG1pbmlzdHJhdGlvbiBvZiBhIHRoZXJhcGV1dGljIGFnZW50IGludG8gb3Igb250byB0aGUgcGF0aWVudC4gIEZvciBleGFtcGxlLCB0b3BpY2FsLCBpbnRyYXZlbm91cywgZXRjLlxyXG4gICAqL1xyXG4gIHJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGNvZGVkIHZhbHVlIGluZGljYXRpbmcgdGhlIG1ldGhvZCBieSB3aGljaCB0aGUgbWVkaWNhdGlvbiBpcyBpbnRlbmRlZCB0byBiZSBvciB3YXMgaW50cm9kdWNlZCBpbnRvIG9yIG9uIHRoZSBib2R5LiAgVGhpcyBhdHRyaWJ1dGUgd2lsbCBtb3N0IG9mdGVuIE5PVCBiZSBwb3B1bGF0ZWQuICBJdCBpcyBtb3N0IGNvbW1vbmx5IHVzZWQgZm9yIGluamVjdGlvbnMuICBGb3IgZXhhbXBsZSwgU2xvdyBQdXNoLCBEZWVwIElWLlxyXG4gICAqL1xyXG4gIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGFtb3VudCBvZiB0aGUgbWVkaWNhdGlvbiBnaXZlbiBhdCBvbmUgYWRtaW5pc3RyYXRpb24gZXZlbnQuICAgVXNlIHRoaXMgdmFsdWUgd2hlbiB0aGUgYWRtaW5pc3RyYXRpb24gaXMgZXNzZW50aWFsbHkgYW4gaW5zdGFudGFuZW91cyBldmVudCBzdWNoIGFzIGEgc3dhbGxvd2luZyBhIHRhYmxldCBvciBnaXZpbmcgYW4gaW5qZWN0aW9uLlxyXG4gICAqL1xyXG4gIHF1YW50aXR5PzogZmhpci5RdWFudGl0eUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIHNwZWVkIHdpdGggd2hpY2ggdGhlIG1lZGljYXRpb24gd2FzIG9yIHdpbGwgYmUgaW50cm9kdWNlZCBpbnRvIHRoZSBwYXRpZW50LiAgVHlwaWNhbGx5IHRoZSByYXRlIGZvciBhbiBpbmZ1c2lvbiBlLmcuIDEwMCBtbCBwZXIgMSBob3VyIG9yIDEwMCBtbC9oci4gIE1heSBhbHNvIGJlIGV4cHJlc3NlZCBhcyBhIHJhdGUgcGVyIHVuaXQgb2YgdGltZSBlLmcuIDUwMCBtbCBwZXIgMiBob3Vycy4gIEN1cnJlbnRseSB3ZSBkbyBub3Qgc3BlY2lmeSBhIGRlZmF1bHQgb2YgJzEnIGluIHRoZSBkZW5vbWluYXRvciwgYnV0IHRoaXMgaXMgYmVpbmcgZGlzY3Vzc2VkLiAgT3RoZXIgZXhhbXBsZXM6ICAyMDAgbWNnL21pbiBvciAyMDAgbWNnLzEgbWludXRlOyAxIGxpdGVyLzggaG91cnMuXHJcbiAgICovXHJcbiAgcmF0ZT86IGZoaXIuUmF0aW98Zmhpci5SYW5nZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgc3BlZWQgd2l0aCB3aGljaCB0aGUgbWVkaWNhdGlvbiB3YXMgb3Igd2lsbCBiZSBpbnRyb2R1Y2VkIGludG8gdGhlIHBhdGllbnQuICBUeXBpY2FsbHkgdGhlIHJhdGUgZm9yIGFuIGluZnVzaW9uIGUuZy4gMTAwIG1sIHBlciAxIGhvdXIgb3IgMTAwIG1sL2hyLiAgTWF5IGFsc28gYmUgZXhwcmVzc2VkIGFzIGEgcmF0ZSBwZXIgdW5pdCBvZiB0aW1lIGUuZy4gNTAwIG1sIHBlciAyIGhvdXJzLiAgQ3VycmVudGx5IHdlIGRvIG5vdCBzcGVjaWZ5IGEgZGVmYXVsdCBvZiAnMScgaW4gdGhlIGRlbm9taW5hdG9yLCBidXQgdGhpcyBpcyBiZWluZyBkaXNjdXNzZWQuICBPdGhlciBleGFtcGxlczogIDIwMCBtY2cvbWluIG9yIDIwMCBtY2cvMSBtaW51dGU7IDEgbGl0ZXIvOCBob3Vycy5cclxuICAgKi9cclxuICByYXRlUmF0aW8/OiBmaGlyLlJhdGlvQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgc3BlZWQgd2l0aCB3aGljaCB0aGUgbWVkaWNhdGlvbiB3YXMgb3Igd2lsbCBiZSBpbnRyb2R1Y2VkIGludG8gdGhlIHBhdGllbnQuICBUeXBpY2FsbHkgdGhlIHJhdGUgZm9yIGFuIGluZnVzaW9uIGUuZy4gMTAwIG1sIHBlciAxIGhvdXIgb3IgMTAwIG1sL2hyLiAgTWF5IGFsc28gYmUgZXhwcmVzc2VkIGFzIGEgcmF0ZSBwZXIgdW5pdCBvZiB0aW1lIGUuZy4gNTAwIG1sIHBlciAyIGhvdXJzLiAgQ3VycmVudGx5IHdlIGRvIG5vdCBzcGVjaWZ5IGEgZGVmYXVsdCBvZiAnMScgaW4gdGhlIGRlbm9taW5hdG9yLCBidXQgdGhpcyBpcyBiZWluZyBkaXNjdXNzZWQuICBPdGhlciBleGFtcGxlczogIDIwMCBtY2cvbWluIG9yIDIwMCBtY2cvMSBtaW51dGU7IDEgbGl0ZXIvOCBob3Vycy5cclxuICAgKi9cclxuICByYXRlUmFuZ2U/OiBmaGlyLlJhbmdlQXJnc3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXNjcmliZXMgdGhlIG1lZGljYXRpb24gZG9zYWdlIGluZm9ybWF0aW9uIGRldGFpbHMgZS5nLiBkb3NlLCByYXRlLCBzaXRlLCByb3V0ZSwgZXRjLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbkRvc2FnZSBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ01lZGljYXRpb25BZG1pbmlzdHJhdGlvbkRvc2FnZSc7XHJcbiAgLyoqXHJcbiAgICogRnJlZSB0ZXh0IGRvc2FnZSBpbnN0cnVjdGlvbnMgY2FuIGJlIHVzZWQgZm9yIGNhc2VzIHdoZXJlIHRoZSBpbnN0cnVjdGlvbnMgYXJlIHRvbyBjb21wbGV4IHRvIGNvZGUuIFdoZW4gY29kZWQgaW5zdHJ1Y3Rpb25zIGFyZSBwcmVzZW50LCB0aGUgZnJlZSB0ZXh0IGluc3RydWN0aW9ucyBtYXkgc3RpbGwgYmUgcHJlc2VudCBmb3IgZGlzcGxheSB0byBodW1hbnMgdGFraW5nIG9yIGFkbWluaXN0ZXJpbmcgdGhlIG1lZGljYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHRleHQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgc3BlY2lmaWNhdGlvbiBvZiB0aGUgYW5hdG9taWMgc2l0ZSB3aGVyZSB0aGUgbWVkaWNhdGlvbiBmaXJzdCBlbnRlcmVkIHRoZSBib2R5LiAgRm9yIGV4YW1wbGUsIFwibGVmdCBhcm1cIi5cclxuICAgKi9cclxuICBwdWJsaWMgc2l0ZT86IChmaGlyLkNvZGVhYmxlQ29uY2VwdHxmaGlyLlJlZmVyZW5jZSl8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZsYWcgdG8gcHJvcGVybHkgc2VyaWFsaXplIGNob2ljZS10eXBlIGVsZW1lbnQgTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLmRvc2FnZS5zaXRlW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX3NpdGVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBBIGNvZGUgc3BlY2lmeWluZyB0aGUgcm91dGUgb3IgcGh5c2lvbG9naWNhbCBwYXRoIG9mIGFkbWluaXN0cmF0aW9uIG9mIGEgdGhlcmFwZXV0aWMgYWdlbnQgaW50byBvciBvbnRvIHRoZSBwYXRpZW50LiAgRm9yIGV4YW1wbGUsIHRvcGljYWwsIGludHJhdmVub3VzLCBldGMuXHJcbiAgICovXHJcbiAgcHVibGljIHJvdXRlPzogZmhpci5Db2RlYWJsZUNvbmNlcHR8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZWQgdmFsdWUgaW5kaWNhdGluZyB0aGUgbWV0aG9kIGJ5IHdoaWNoIHRoZSBtZWRpY2F0aW9uIGlzIGludGVuZGVkIHRvIGJlIG9yIHdhcyBpbnRyb2R1Y2VkIGludG8gb3Igb24gdGhlIGJvZHkuICBUaGlzIGF0dHJpYnV0ZSB3aWxsIG1vc3Qgb2Z0ZW4gTk9UIGJlIHBvcHVsYXRlZC4gIEl0IGlzIG1vc3QgY29tbW9ubHkgdXNlZCBmb3IgaW5qZWN0aW9ucy4gIEZvciBleGFtcGxlLCBTbG93IFB1c2gsIERlZXAgSVYuXHJcbiAgICovXHJcbiAgcHVibGljIG1ldGhvZD86IGZoaXIuQ29kZWFibGVDb25jZXB0fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgYW1vdW50IG9mIHRoZSBtZWRpY2F0aW9uIGdpdmVuIGF0IG9uZSBhZG1pbmlzdHJhdGlvbiBldmVudC4gICBVc2UgdGhpcyB2YWx1ZSB3aGVuIHRoZSBhZG1pbmlzdHJhdGlvbiBpcyBlc3NlbnRpYWxseSBhbiBpbnN0YW50YW5lb3VzIGV2ZW50IHN1Y2ggYXMgYSBzd2FsbG93aW5nIGEgdGFibGV0IG9yIGdpdmluZyBhbiBpbmplY3Rpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHF1YW50aXR5PzogZmhpci5RdWFudGl0eXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgc3BlZWQgd2l0aCB3aGljaCB0aGUgbWVkaWNhdGlvbiB3YXMgb3Igd2lsbCBiZSBpbnRyb2R1Y2VkIGludG8gdGhlIHBhdGllbnQuICBUeXBpY2FsbHkgdGhlIHJhdGUgZm9yIGFuIGluZnVzaW9uIGUuZy4gMTAwIG1sIHBlciAxIGhvdXIgb3IgMTAwIG1sL2hyLiAgTWF5IGFsc28gYmUgZXhwcmVzc2VkIGFzIGEgcmF0ZSBwZXIgdW5pdCBvZiB0aW1lIGUuZy4gNTAwIG1sIHBlciAyIGhvdXJzLiAgQ3VycmVudGx5IHdlIGRvIG5vdCBzcGVjaWZ5IGEgZGVmYXVsdCBvZiAnMScgaW4gdGhlIGRlbm9taW5hdG9yLCBidXQgdGhpcyBpcyBiZWluZyBkaXNjdXNzZWQuICBPdGhlciBleGFtcGxlczogIDIwMCBtY2cvbWluIG9yIDIwMCBtY2cvMSBtaW51dGU7IDEgbGl0ZXIvOCBob3Vycy5cclxuICAgKi9cclxuICBwdWJsaWMgcmF0ZT86IChmaGlyLlJhdGlvfGZoaXIuUmFuZ2UpfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbi5kb3NhZ2UucmF0ZVt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19yYXRlSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uRG9zYWdlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8TWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uRG9zYWdlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3RleHQnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudGV4dCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudGV4dH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfdGV4dCddKSB7XHJcbiAgICAgIGlmICh0aGlzLnRleHQpIHsgdGhpcy50ZXh0LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3RleHQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy50ZXh0ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3RleHQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3NpdGUnXSkgeyB0aGlzLnNpdGUgPSBzb3VyY2Uuc2l0ZTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydzaXRlQ29kZWFibGVDb25jZXB0J10pIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5zaXRlQ29kZWFibGVDb25jZXB0LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSBpZiAoc291cmNlWydzaXRlUmVmZXJlbmNlJ10pIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5zaXRlUmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncm91dGUnXSkgeyB0aGlzLnJvdXRlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5yb3V0ZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ21ldGhvZCddKSB7IHRoaXMubWV0aG9kID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS5tZXRob2QsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydxdWFudGl0eSddKSB7IHRoaXMucXVhbnRpdHkgPSBuZXcgZmhpci5RdWFudGl0eShzb3VyY2UucXVhbnRpdHksIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyYXRlJ10pIHsgdGhpcy5yYXRlID0gc291cmNlLnJhdGU7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVJhdGlvJ10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUmF0aW8oc291cmNlLnJhdGVSYXRpbywgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgaWYgKHNvdXJjZVsncmF0ZVJhbmdlJ10pIHsgdGhpcy5yYXRlID0gbmV3IGZoaXIuUmFuZ2Uoc291cmNlLnJhdGVSYW5nZSwgb3B0aW9ucyk7IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24uZG9zYWdlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndGV4dCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc2l0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncm91dGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ21ldGhvZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVhbnRpdHknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JhdGUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25BcmdzIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZUFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHJlc291cmNlVHlwZTogXCJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25cInx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZXJuYWwgaWRlbnRpZmllciAtIEZISVIgd2lsbCBnZW5lcmF0ZSBpdHMgb3duIGludGVybmFsIGlkZW50aWZpZXJzIChwcm9iYWJseSBVUkxzKSB3aGljaCBkbyBub3QgbmVlZCB0byBiZSBleHBsaWNpdGx5IG1hbmFnZWQgYnkgdGhlIHJlc291cmNlLiAgVGhlIGlkZW50aWZpZXIgaGVyZSBpcyBvbmUgdGhhdCB3b3VsZCBiZSB1c2VkIGJ5IGFub3RoZXIgbm9uLUZISVIgc3lzdGVtIC0gZm9yIGV4YW1wbGUgYW4gYXV0b21hdGVkIG1lZGljYXRpb24gcHVtcCB3b3VsZCBwcm92aWRlIGEgcmVjb3JkIGVhY2ggdGltZSBpdCBvcGVyYXRlZDsgYW4gYWRtaW5pc3RyYXRpb24gd2hpbGUgdGhlIHBhdGllbnQgd2FzIG9mZiB0aGUgd2FyZCBtaWdodCBiZSBtYWRlIHdpdGggYSBkaWZmZXJlbnQgc3lzdGVtIGFuZCBlbnRlcmVkIGFmdGVyIHRoZSBldmVudC4gIFBhcnRpY3VsYXJseSBpbXBvcnRhbnQgaWYgdGhlc2UgcmVjb3JkcyBoYXZlIHRvIGJlIHVwZGF0ZWQuXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogV2lsbCBnZW5lcmFsbHkgYmUgc2V0IHRvIHNob3cgdGhhdCB0aGUgYWRtaW5pc3RyYXRpb24gaGFzIGJlZW4gY29tcGxldGVkLiAgRm9yIHNvbWUgbG9uZyBydW5uaW5nIGFkbWluaXN0cmF0aW9ucyBzdWNoIGFzIGluZnVzaW9ucyBpdCBpcyBwb3NzaWJsZSBmb3IgYW4gYWRtaW5pc3RyYXRpb24gdG8gYmUgc3RhcnRlZCBidXQgbm90IGNvbXBsZXRlZCBvciBpdCBtYXkgYmUgcGF1c2VkIHdoaWxlIHNvbWUgb3RoZXIgcHJvY2VzcyBpcyB1bmRlciB3YXkuXHJcbiAgICovXHJcbiAgc3RhdHVzOiBmaGlyLkZoaXJDb2RlPE1lZGljYXRpb25BZG1pblN0YXR1c0NvZGVUeXBlPnxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24uc3RhdHVzXHJcbiAgICovXHJcbiAgX3N0YXR1cz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiBvciBhbmltYWwgcmVjZWl2aW5nIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHBhdGllbnQ6IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIHdobyB3YXMgcmVzcG9uc2libGUgZm9yIGdpdmluZyB0aGUgbWVkaWNhdGlvbiB0byB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwcmFjdGl0aW9uZXI/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2aXNpdCwgYWRtaXNzaW9uIG9yIG90aGVyIGNvbnRhY3QgYmV0d2VlbiBwYXRpZW50IGFuZCBoZWFsdGggY2FyZSBwcm92aWRlciB0aGUgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiB3YXMgcGVyZm9ybWVkIGFzIHBhcnQgb2YuXHJcbiAgICovXHJcbiAgZW5jb3VudGVyPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JpZ2luYWwgcmVxdWVzdCwgaW5zdHJ1Y3Rpb24gb3IgYXV0aG9yaXR5IHRvIHBlcmZvcm0gdGhlIGFkbWluaXN0cmF0aW9uLlxyXG4gICAqL1xyXG4gIHByZXNjcmlwdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB0aGUgcmVjb3JkIGlzIHNheWluZyB0aGF0IHRoZSBtZWRpY2F0aW9uIHdhcyBOT1QgYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIHdhc05vdEdpdmVuPzogZmhpci5GaGlyQm9vbGVhbnxib29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLndhc05vdEdpdmVuXHJcbiAgICovXHJcbiAgX3dhc05vdEdpdmVuPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBIGNvZGUgaW5kaWNhdGluZyB3aHkgdGhlIGFkbWluaXN0cmF0aW9uIHdhcyBub3QgcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIHJlYXNvbk5vdEdpdmVuPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBpbmRpY2F0aW5nIHdoeSB0aGUgbWVkaWNhdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICovXHJcbiAgcmVhc29uR2l2ZW4/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWZpYyBkYXRlL3RpbWUgb3IgaW50ZXJ2YWwgb2YgdGltZSBkdXJpbmcgd2hpY2ggdGhlIGFkbWluaXN0cmF0aW9uIHRvb2sgcGxhY2UgKG9yIGRpZCBub3QgdGFrZSBwbGFjZSwgd2hlbiB0aGUgJ25vdEdpdmVuJyBhdHRyaWJ1dGUgaXMgdHJ1ZSkuIEZvciBtYW55IGFkbWluaXN0cmF0aW9ucywgc3VjaCBhcyBzd2FsbG93aW5nIGEgdGFibGV0IHRoZSB1c2Ugb2YgZGF0ZVRpbWUgaXMgbW9yZSBhcHByb3ByaWF0ZS5cclxuICAgKi9cclxuICBlZmZlY3RpdmVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8Zmhpci5QZXJpb2R8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2lmaWMgZGF0ZS90aW1lIG9yIGludGVydmFsIG9mIHRpbWUgZHVyaW5nIHdoaWNoIHRoZSBhZG1pbmlzdHJhdGlvbiB0b29rIHBsYWNlIChvciBkaWQgbm90IHRha2UgcGxhY2UsIHdoZW4gdGhlICdub3RHaXZlbicgYXR0cmlidXRlIGlzIHRydWUpLiBGb3IgbWFueSBhZG1pbmlzdHJhdGlvbnMsIHN1Y2ggYXMgc3dhbGxvd2luZyBhIHRhYmxldCB0aGUgdXNlIG9mIGRhdGVUaW1lIGlzIG1vcmUgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgZWZmZWN0aXZlVGltZURhdGVUaW1lPzogZmhpci5GaGlyRGF0ZVRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIHNwZWNpZmljIGRhdGUvdGltZSBvciBpbnRlcnZhbCBvZiB0aW1lIGR1cmluZyB3aGljaCB0aGUgYWRtaW5pc3RyYXRpb24gdG9vayBwbGFjZSAob3IgZGlkIG5vdCB0YWtlIHBsYWNlLCB3aGVuIHRoZSAnbm90R2l2ZW4nIGF0dHJpYnV0ZSBpcyB0cnVlKS4gRm9yIG1hbnkgYWRtaW5pc3RyYXRpb25zLCBzdWNoIGFzIHN3YWxsb3dpbmcgYSB0YWJsZXQgdGhlIHVzZSBvZiBkYXRlVGltZSBpcyBtb3JlIGFwcHJvcHJpYXRlLlxyXG4gICAqL1xyXG4gIGVmZmVjdGl2ZVRpbWVQZXJpb2Q/OiBmaGlyLlBlcmlvZEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIG1lZGljYXRpb24gdGhhdCB3YXMgYWRtaW5pc3RlcmVkLiBUaGlzIGlzIGVpdGhlciBhIGxpbmsgdG8gYSByZXNvdXJjZSByZXByZXNlbnRpbmcgdGhlIGRldGFpbHMgb2YgdGhlIG1lZGljYXRpb24gb3IgYSBzaW1wbGUgYXR0cmlidXRlIGNhcnJ5aW5nIGEgY29kZSB0aGF0IGlkZW50aWZpZXMgdGhlIG1lZGljYXRpb24gZnJvbSBhIGtub3duIGxpc3Qgb2YgbWVkaWNhdGlvbnMuXHJcbiAgICovXHJcbiAgbWVkaWNhdGlvbj86IGZoaXIuQ29kZWFibGVDb25jZXB0fGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHRoZSBtZWRpY2F0aW9uIHRoYXQgd2FzIGFkbWluaXN0ZXJlZC4gVGhpcyBpcyBlaXRoZXIgYSBsaW5rIHRvIGEgcmVzb3VyY2UgcmVwcmVzZW50aW5nIHRoZSBkZXRhaWxzIG9mIHRoZSBtZWRpY2F0aW9uIG9yIGEgc2ltcGxlIGF0dHJpYnV0ZSBjYXJyeWluZyBhIGNvZGUgdGhhdCBpZGVudGlmaWVzIHRoZSBtZWRpY2F0aW9uIGZyb20gYSBrbm93biBsaXN0IG9mIG1lZGljYXRpb25zLlxyXG4gICAqL1xyXG4gIG1lZGljYXRpb25Db2RlYWJsZUNvbmNlcHQ/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIG1lZGljYXRpb24gdGhhdCB3YXMgYWRtaW5pc3RlcmVkLiBUaGlzIGlzIGVpdGhlciBhIGxpbmsgdG8gYSByZXNvdXJjZSByZXByZXNlbnRpbmcgdGhlIGRldGFpbHMgb2YgdGhlIG1lZGljYXRpb24gb3IgYSBzaW1wbGUgYXR0cmlidXRlIGNhcnJ5aW5nIGEgY29kZSB0aGF0IGlkZW50aWZpZXMgdGhlIG1lZGljYXRpb24gZnJvbSBhIGtub3duIGxpc3Qgb2YgbWVkaWNhdGlvbnMuXHJcbiAgICovXHJcbiAgbWVkaWNhdGlvblJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRldmljZSB1c2VkIGluIGFkbWluaXN0ZXJpbmcgdGhlIG1lZGljYXRpb24gdG8gdGhlIHBhdGllbnQuICBGb3IgZXhhbXBsZSwgYSBwYXJ0aWN1bGFyIGluZnVzaW9uIHB1bXAuXHJcbiAgICovXHJcbiAgZGV2aWNlPzogZmhpci5SZWZlcmVuY2VBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dHJhIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtZWRpY2F0aW9uIGFkbWluaXN0cmF0aW9uIHRoYXQgaXMgbm90IGNvbnZleWVkIGJ5IHRoZSBvdGhlciBhdHRyaWJ1dGVzLlxyXG4gICAqL1xyXG4gIG5vdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLm5vdGVcclxuICAgKi9cclxuICBfbm90ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBtZWRpY2F0aW9uIGRvc2FnZSBpbmZvcm1hdGlvbiBkZXRhaWxzIGUuZy4gZG9zZSwgcmF0ZSwgc2l0ZSwgcm91dGUsIGV0Yy5cclxuICAgKi9cclxuICBkb3NhZ2U/OiBmaGlyLk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbkRvc2FnZUFyZ3N8dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogRGVzY3JpYmVzIHRoZSBldmVudCBvZiBhIHBhdGllbnQgY29uc3VtaW5nIG9yIG90aGVyd2lzZSBiZWluZyBhZG1pbmlzdGVyZWQgYSBtZWRpY2F0aW9uLiAgVGhpcyBtYXkgYmUgYXMgc2ltcGxlIGFzIHN3YWxsb3dpbmcgYSB0YWJsZXQgb3IgaXQgbWF5IGJlIGEgbG9uZyBydW5uaW5nIGluZnVzaW9uLiAgUmVsYXRlZCByZXNvdXJjZXMgdGllIHRoaXMgZXZlbnQgdG8gdGhlIGF1dGhvcml6aW5nIHByZXNjcmlwdGlvbiwgYW5kIHRoZSBzcGVjaWZpYyBlbmNvdW50ZXIgYmV0d2VlbiBwYXRpZW50IGFuZCBoZWFsdGggY2FyZSBwcmFjdGl0aW9uZXIuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIGV4dGVuZHMgZmhpci5Eb21haW5SZXNvdXJjZSB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24nO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uXCI7XHJcbiAgLyoqXHJcbiAgICogRXh0ZXJuYWwgaWRlbnRpZmllciAtIEZISVIgd2lsbCBnZW5lcmF0ZSBpdHMgb3duIGludGVybmFsIGlkZW50aWZpZXJzIChwcm9iYWJseSBVUkxzKSB3aGljaCBkbyBub3QgbmVlZCB0byBiZSBleHBsaWNpdGx5IG1hbmFnZWQgYnkgdGhlIHJlc291cmNlLiAgVGhlIGlkZW50aWZpZXIgaGVyZSBpcyBvbmUgdGhhdCB3b3VsZCBiZSB1c2VkIGJ5IGFub3RoZXIgbm9uLUZISVIgc3lzdGVtIC0gZm9yIGV4YW1wbGUgYW4gYXV0b21hdGVkIG1lZGljYXRpb24gcHVtcCB3b3VsZCBwcm92aWRlIGEgcmVjb3JkIGVhY2ggdGltZSBpdCBvcGVyYXRlZDsgYW4gYWRtaW5pc3RyYXRpb24gd2hpbGUgdGhlIHBhdGllbnQgd2FzIG9mZiB0aGUgd2FyZCBtaWdodCBiZSBtYWRlIHdpdGggYSBkaWZmZXJlbnQgc3lzdGVtIGFuZCBlbnRlcmVkIGFmdGVyIHRoZSBldmVudC4gIFBhcnRpY3VsYXJseSBpbXBvcnRhbnQgaWYgdGhlc2UgcmVjb3JkcyBoYXZlIHRvIGJlIHVwZGF0ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGlkZW50aWZpZXI6IGZoaXIuSWRlbnRpZmllcltdO1xyXG4gIC8qKlxyXG4gICAqIFdpbGwgZ2VuZXJhbGx5IGJlIHNldCB0byBzaG93IHRoYXQgdGhlIGFkbWluaXN0cmF0aW9uIGhhcyBiZWVuIGNvbXBsZXRlZC4gIEZvciBzb21lIGxvbmcgcnVubmluZyBhZG1pbmlzdHJhdGlvbnMgc3VjaCBhcyBpbmZ1c2lvbnMgaXQgaXMgcG9zc2libGUgZm9yIGFuIGFkbWluaXN0cmF0aW9uIHRvIGJlIHN0YXJ0ZWQgYnV0IG5vdCBjb21wbGV0ZWQgb3IgaXQgbWF5IGJlIHBhdXNlZCB3aGlsZSBzb21lIG90aGVyIHByb2Nlc3MgaXMgdW5kZXIgd2F5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0dXM6IGZoaXIuRmhpckNvZGU8TWVkaWNhdGlvbkFkbWluU3RhdHVzQ29kZVR5cGU+fG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBlcnNvbiBvciBhbmltYWwgcmVjZWl2aW5nIHRoZSBtZWRpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRpZW50OiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbmRpdmlkdWFsIHdobyB3YXMgcmVzcG9uc2libGUgZm9yIGdpdmluZyB0aGUgbWVkaWNhdGlvbiB0byB0aGUgcGF0aWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgcHJhY3RpdGlvbmVyPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB2aXNpdCwgYWRtaXNzaW9uIG9yIG90aGVyIGNvbnRhY3QgYmV0d2VlbiBwYXRpZW50IGFuZCBoZWFsdGggY2FyZSBwcm92aWRlciB0aGUgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiB3YXMgcGVyZm9ybWVkIGFzIHBhcnQgb2YuXHJcbiAgICovXHJcbiAgcHVibGljIGVuY291bnRlcj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3JpZ2luYWwgcmVxdWVzdCwgaW5zdHJ1Y3Rpb24gb3IgYXV0aG9yaXR5IHRvIHBlcmZvcm0gdGhlIGFkbWluaXN0cmF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmVzY3JpcHRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB0aGUgcmVjb3JkIGlzIHNheWluZyB0aGF0IHRoZSBtZWRpY2F0aW9uIHdhcyBOT1QgYWRtaW5pc3RlcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB3YXNOb3RHaXZlbj86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBpbmRpY2F0aW5nIHdoeSB0aGUgYWRtaW5pc3RyYXRpb24gd2FzIG5vdCBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHJlYXNvbk5vdEdpdmVuOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEEgY29kZSBpbmRpY2F0aW5nIHdoeSB0aGUgbWVkaWNhdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICovXHJcbiAgcHVibGljIHJlYXNvbkdpdmVuOiBmaGlyLkNvZGVhYmxlQ29uY2VwdFtdO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2lmaWMgZGF0ZS90aW1lIG9yIGludGVydmFsIG9mIHRpbWUgZHVyaW5nIHdoaWNoIHRoZSBhZG1pbmlzdHJhdGlvbiB0b29rIHBsYWNlIChvciBkaWQgbm90IHRha2UgcGxhY2UsIHdoZW4gdGhlICdub3RHaXZlbicgYXR0cmlidXRlIGlzIHRydWUpLiBGb3IgbWFueSBhZG1pbmlzdHJhdGlvbnMsIHN1Y2ggYXMgc3dhbGxvd2luZyBhIHRhYmxldCB0aGUgdXNlIG9mIGRhdGVUaW1lIGlzIG1vcmUgYXBwcm9wcmlhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGVmZmVjdGl2ZVRpbWU6IChmaGlyLkZoaXJEYXRlVGltZXxmaGlyLlBlcmlvZCl8bnVsbDtcclxuICAvKipcclxuICAgKiBJbnRlcm5hbCBmbGFnIHRvIHByb3Blcmx5IHNlcmlhbGl6ZSBjaG9pY2UtdHlwZSBlbGVtZW50IE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbi5lZmZlY3RpdmVUaW1lW3hdXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfZnRzX2VmZmVjdGl2ZVRpbWVJc0Nob2ljZTp0cnVlID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIHRoZSBtZWRpY2F0aW9uIHRoYXQgd2FzIGFkbWluaXN0ZXJlZC4gVGhpcyBpcyBlaXRoZXIgYSBsaW5rIHRvIGEgcmVzb3VyY2UgcmVwcmVzZW50aW5nIHRoZSBkZXRhaWxzIG9mIHRoZSBtZWRpY2F0aW9uIG9yIGEgc2ltcGxlIGF0dHJpYnV0ZSBjYXJyeWluZyBhIGNvZGUgdGhhdCBpZGVudGlmaWVzIHRoZSBtZWRpY2F0aW9uIGZyb20gYSBrbm93biBsaXN0IG9mIG1lZGljYXRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZWRpY2F0aW9uOiAoZmhpci5Db2RlYWJsZUNvbmNlcHR8Zmhpci5SZWZlcmVuY2UpfG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZmxhZyB0byBwcm9wZXJseSBzZXJpYWxpemUgY2hvaWNlLXR5cGUgZWxlbWVudCBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24ubWVkaWNhdGlvblt4XVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX2Z0c19tZWRpY2F0aW9uSXNDaG9pY2U6dHJ1ZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRldmljZSB1c2VkIGluIGFkbWluaXN0ZXJpbmcgdGhlIG1lZGljYXRpb24gdG8gdGhlIHBhdGllbnQuICBGb3IgZXhhbXBsZSwgYSBwYXJ0aWN1bGFyIGluZnVzaW9uIHB1bXAuXHJcbiAgICovXHJcbiAgcHVibGljIGRldmljZTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBFeHRyYSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbWVkaWNhdGlvbiBhZG1pbmlzdHJhdGlvbiB0aGF0IGlzIG5vdCBjb252ZXllZCBieSB0aGUgb3RoZXIgYXR0cmlidXRlcy5cclxuICAgKi9cclxuICBwdWJsaWMgbm90ZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBtZWRpY2F0aW9uIGRvc2FnZSBpbmZvcm1hdGlvbiBkZXRhaWxzIGUuZy4gZG9zZSwgcmF0ZSwgc2l0ZSwgcm91dGUsIGV0Yy5cclxuICAgKi9cclxuICBwdWJsaWMgZG9zYWdlPzogZmhpci5NZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25Eb3NhZ2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbkFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24nO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IHNvdXJjZS5pZGVudGlmaWVyLm1hcCgoeCkgPT4gbmV3IGZoaXIuSWRlbnRpZmllcih4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmlkZW50aWZpZXIgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3RhdHVzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnN0YXR1cyA9IG5ldyBmaGlyLkZoaXJDb2RlPE1lZGljYXRpb25BZG1pblN0YXR1c0NvZGVUeXBlPih7dmFsdWU6IHNvdXJjZS5zdGF0dXN9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3RhdHVzID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3N0YXR1cyddKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cykgeyB0aGlzLnN0YXR1cy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9zdGF0dXMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zdGF0dXMgPSBuZXcgZmhpci5GaGlyQ29kZTxNZWRpY2F0aW9uQWRtaW5TdGF0dXNDb2RlVHlwZT4oc291cmNlLl9zdGF0dXMgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3BhdGllbnQnXSkgeyB0aGlzLnBhdGllbnQgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnBhdGllbnQsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXRpZW50ID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJhY3RpdGlvbmVyJ10pIHsgdGhpcy5wcmFjdGl0aW9uZXIgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnByYWN0aXRpb25lciwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2VuY291bnRlciddKSB7IHRoaXMuZW5jb3VudGVyID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5lbmNvdW50ZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwcmVzY3JpcHRpb24nXSkgeyB0aGlzLnByZXNjcmlwdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucHJlc2NyaXB0aW9uLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnd2FzTm90R2l2ZW4nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMud2FzTm90R2l2ZW4gPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS53YXNOb3RHaXZlbn0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfd2FzTm90R2l2ZW4nXSkge1xyXG4gICAgICBpZiAodGhpcy53YXNOb3RHaXZlbikgeyB0aGlzLndhc05vdEdpdmVuLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3dhc05vdEdpdmVuISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMud2FzTm90R2l2ZW4gPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX3dhc05vdEdpdmVuIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uTm90R2l2ZW4nXSkgeyB0aGlzLnJlYXNvbk5vdEdpdmVuID0gc291cmNlLnJlYXNvbk5vdEdpdmVuLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVhc29uTm90R2l2ZW4gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVhc29uR2l2ZW4nXSkgeyB0aGlzLnJlYXNvbkdpdmVuID0gc291cmNlLnJlYXNvbkdpdmVuLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVhc29uR2l2ZW4gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZWZmZWN0aXZlVGltZSddKSB7IHRoaXMuZWZmZWN0aXZlVGltZSA9IHNvdXJjZS5lZmZlY3RpdmVUaW1lOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZVRpbWVEYXRlVGltZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5lZmZlY3RpdmVUaW1lID0gbmV3IGZoaXIuRmhpckRhdGVUaW1lKHt2YWx1ZTogc291cmNlLmVmZmVjdGl2ZVRpbWVEYXRlVGltZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ2VmZmVjdGl2ZVRpbWVQZXJpb2QnXSkgeyB0aGlzLmVmZmVjdGl2ZVRpbWUgPSBuZXcgZmhpci5QZXJpb2Qoc291cmNlLmVmZmVjdGl2ZVRpbWVQZXJpb2QsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5lZmZlY3RpdmVUaW1lID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnbWVkaWNhdGlvbiddKSB7IHRoaXMubWVkaWNhdGlvbiA9IHNvdXJjZS5tZWRpY2F0aW9uOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ21lZGljYXRpb25Db2RlYWJsZUNvbmNlcHQnXSkgeyB0aGlzLm1lZGljYXRpb24gPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLm1lZGljYXRpb25Db2RlYWJsZUNvbmNlcHQsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIGlmIChzb3VyY2VbJ21lZGljYXRpb25SZWZlcmVuY2UnXSkgeyB0aGlzLm1lZGljYXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLm1lZGljYXRpb25SZWZlcmVuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5tZWRpY2F0aW9uID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGV2aWNlJ10pIHsgdGhpcy5kZXZpY2UgPSBzb3VyY2UuZGV2aWNlLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGV2aWNlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25vdGUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubm90ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2Uubm90ZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfbm90ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5vdGUpIHsgdGhpcy5ub3RlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25vdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5ub3RlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25vdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2Rvc2FnZSddKSB7IHRoaXMuZG9zYWdlID0gbmV3IGZoaXIuTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uRG9zYWdlKHNvdXJjZS5kb3NhZ2UsIG9wdGlvbnMpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSU1YoJ3N0YXR1cycsZXhwLCdNZWRpY2F0aW9uQWRtaW5TdGF0dXMnLE1lZGljYXRpb25BZG1pblN0YXR1c1ZzVmFsaWRhdGlvbiwncicpKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdwYXRpZW50JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdwcmFjdGl0aW9uZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2VuY291bnRlcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncHJlc2NyaXB0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCd3YXNOb3RHaXZlbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncmVhc29uTm90R2l2ZW4nLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3JlYXNvbkdpdmVuJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdlZmZlY3RpdmVUaW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdtZWRpY2F0aW9uJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdkZXZpY2UnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ25vdGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2Rvc2FnZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4iXX0=