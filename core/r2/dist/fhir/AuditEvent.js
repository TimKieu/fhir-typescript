// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: AuditEvent
import * as fhir from '../fhir.js';
// @ts-ignore
import { AuditEventActionVsValidation } from '../fhirValueSets/AuditEventActionVsValidation.js';
// @ts-ignore
import { AuditEventOutcomeVsValidation } from '../fhirValueSets/AuditEventOutcomeVsValidation.js';
// @ts-ignore
import { NetworkTypeVsValidation } from '../fhirValueSets/NetworkTypeVsValidation.js';
/**
 * The event must be identified.
 */
export class AuditEventEvent extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.Coding(source.type, options);
        }
        else {
            this.type = null;
        }
        if (source['subtype']) {
            this.subtype = source.subtype.map((x) => new fhir.Coding(x, options));
        }
        else {
            this.subtype = [];
        }
        if (source['action'] !== undefined) {
            this.action = new fhir.FhirCode({ value: source.action }, options);
        }
        if (source['_action']) {
            if (this.action) {
                this.action.addExtendedProperties(source._action);
            }
            else {
                this.action = new fhir.FhirCode(source._action, options);
            }
        }
        if (source['dateTime'] !== undefined) {
            this.dateTime = new fhir.FhirInstant({ value: source.dateTime }, options);
        }
        else {
            this.dateTime = null;
        }
        if (source['_dateTime']) {
            if (this.dateTime) {
                this.dateTime.addExtendedProperties(source._dateTime);
            }
            else {
                this.dateTime = new fhir.FhirInstant(source._dateTime, options);
            }
        }
        if (source['outcome'] !== undefined) {
            this.outcome = new fhir.FhirCode({ value: source.outcome }, options);
        }
        if (source['_outcome']) {
            if (this.outcome) {
                this.outcome.addExtendedProperties(source._outcome);
            }
            else {
                this.outcome = new fhir.FhirCode(source._outcome, options);
            }
        }
        if (source['outcomeDesc'] !== undefined) {
            this.outcomeDesc = new fhir.FhirString({ value: source.outcomeDesc }, options);
        }
        if (source['_outcomeDesc']) {
            if (this.outcomeDesc) {
                this.outcomeDesc.addExtendedProperties(source._outcomeDesc);
            }
            else {
                this.outcomeDesc = new fhir.FhirString(source._outcomeDesc, options);
            }
        }
        if (source['purposeOfEvent']) {
            this.purposeOfEvent = source.purposeOfEvent.map((x) => new fhir.Coding(x, options));
        }
        else {
            this.purposeOfEvent = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.event';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOA('subtype', exp));
        iss.push(...this.vOSV('action', exp, 'AuditEventAction', AuditEventActionVsValidation, 'r'));
        iss.push(...this.vRS('dateTime', exp));
        iss.push(...this.vOSV('outcome', exp, 'AuditEventOutcome', AuditEventOutcomeVsValidation, 'r'));
        iss.push(...this.vOS('outcomeDesc', exp));
        iss.push(...this.vOA('purposeOfEvent', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventEvent._fts_dataType = 'AuditEventEvent';
/**
 * Logical network location for application activity, if the activity has a network location.
 */
export class AuditEventParticipantNetwork extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventParticipantNetwork - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['address'] !== undefined) {
            this.address = new fhir.FhirString({ value: source.address }, options);
        }
        if (source['_address']) {
            if (this.address) {
                this.address.addExtendedProperties(source._address);
            }
            else {
                this.address = new fhir.FhirString(source._address, options);
            }
        }
        if (source['type'] !== undefined) {
            this.type = new fhir.FhirCode({ value: source.type }, options);
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.participant.network';
        }
        iss.push(...this.vOS('address', exp));
        iss.push(...this.vOSV('type', exp, 'NetworkType', NetworkTypeVsValidation, 'r'));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventParticipantNetwork._fts_dataType = 'AuditEventParticipantNetwork';
/**
 * The event has one or more active participants.
 */
export class AuditEventParticipant extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventParticipant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['role']) {
            this.role = source.role.map((x) => new fhir.CodeableConcept(x, options));
        }
        else {
            this.role = [];
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference, options);
        }
        if (source['userId']) {
            this.userId = new fhir.Identifier(source.userId, options);
        }
        if (source['altId'] !== undefined) {
            this.altId = new fhir.FhirString({ value: source.altId }, options);
        }
        if (source['_altId']) {
            if (this.altId) {
                this.altId.addExtendedProperties(source._altId);
            }
            else {
                this.altId = new fhir.FhirString(source._altId, options);
            }
        }
        if (source['name'] !== undefined) {
            this.name = new fhir.FhirString({ value: source.name }, options);
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name, options);
            }
        }
        if (source['requestor'] !== undefined) {
            this.requestor = new fhir.FhirBoolean({ value: source.requestor }, options);
        }
        else {
            this.requestor = null;
        }
        if (source['_requestor']) {
            if (this.requestor) {
                this.requestor.addExtendedProperties(source._requestor);
            }
            else {
                this.requestor = new fhir.FhirBoolean(source._requestor, options);
            }
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location, options);
        }
        if (source['policy'] !== undefined) {
            this.policy = source.policy.map((x) => new fhir.FhirUri({ value: x }, options));
        }
        else {
            this.policy = [];
        }
        if (source['_policy']) {
            source._policy.forEach((x, i) => {
                if (this.policy.length >= i) {
                    if (x) {
                        this.policy[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.policy.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['media']) {
            this.media = new fhir.Coding(source.media, options);
        }
        if (source['network']) {
            this.network = new fhir.AuditEventParticipantNetwork(source.network, options);
        }
        if (source['purposeOfUse']) {
            this.purposeOfUse = source.purposeOfUse.map((x) => new fhir.Coding(x, options));
        }
        else {
            this.purposeOfUse = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.participant';
        }
        iss.push(...this.vOA('role', exp));
        iss.push(...this.vOS('reference', exp));
        iss.push(...this.vOS('userId', exp));
        iss.push(...this.vOS('altId', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vRS('requestor', exp));
        iss.push(...this.vOS('location', exp));
        iss.push(...this.vOA('policy', exp));
        iss.push(...this.vOS('media', exp));
        iss.push(...this.vOS('network', exp));
        iss.push(...this.vOA('purposeOfUse', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventParticipant._fts_dataType = 'AuditEventParticipant';
/**
 * The event is reported by one source.
 */
export class AuditEventSource extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventSource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['site'] !== undefined) {
            this.site = new fhir.FhirString({ value: source.site }, options);
        }
        if (source['_site']) {
            if (this.site) {
                this.site.addExtendedProperties(source._site);
            }
            else {
                this.site = new fhir.FhirString(source._site, options);
            }
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier, options);
        }
        else {
            this.identifier = null;
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.Coding(x, options));
        }
        else {
            this.type = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.source';
        }
        iss.push(...this.vOS('site', exp));
        iss.push(...this.vRS('identifier', exp));
        iss.push(...this.vOA('type', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventSource._fts_dataType = 'AuditEventSource';
/**
 * Additional Information about the Object.
 */
export class AuditEventObjectDetail extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventObjectDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type'] !== undefined) {
            this.type = new fhir.FhirString({ value: source.type }, options);
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirString(source._type, options);
            }
        }
        if (source['value'] !== undefined) {
            this.value = new fhir.FhirBase64Binary({ value: source.value }, options);
        }
        else {
            this.value = null;
        }
        if (source['_value']) {
            if (this.value) {
                this.value.addExtendedProperties(source._value);
            }
            else {
                this.value = new fhir.FhirBase64Binary(source._value, options);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.object.detail';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vRS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventObjectDetail._fts_dataType = 'AuditEventObjectDetail';
/**
 * The event may have other objects involved.
 */
export class AuditEventObject extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventObject - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier, options);
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference, options);
        }
        if (source['type']) {
            this.type = new fhir.Coding(source.type, options);
        }
        if (source['role']) {
            this.role = new fhir.Coding(source.role, options);
        }
        if (source['lifecycle']) {
            this.lifecycle = new fhir.Coding(source.lifecycle, options);
        }
        if (source['securityLabel']) {
            this.securityLabel = source.securityLabel.map((x) => new fhir.Coding(x, options));
        }
        else {
            this.securityLabel = [];
        }
        if (source['name'] !== undefined) {
            this.name = new fhir.FhirString({ value: source.name }, options);
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name, options);
            }
        }
        if (source['description'] !== undefined) {
            this.description = new fhir.FhirString({ value: source.description }, options);
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description, options);
            }
        }
        if (source['query'] !== undefined) {
            this.query = new fhir.FhirBase64Binary({ value: source.query }, options);
        }
        if (source['_query']) {
            if (this.query) {
                this.query.addExtendedProperties(source._query);
            }
            else {
                this.query = new fhir.FhirBase64Binary(source._query, options);
            }
        }
        if (source['detail']) {
            this.detail = source.detail.map((x) => new fhir.AuditEventObjectDetail(x, options));
        }
        else {
            this.detail = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.object';
        }
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vOS('reference', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('role', exp));
        iss.push(...this.vOS('lifecycle', exp));
        iss.push(...this.vOA('securityLabel', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('query', exp));
        iss.push(...this.vOA('detail', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventObject._fts_dataType = 'AuditEventObject';
/**
 * A record of an event made for purposes of maintaining a security log. Typical uses include detection of intrusion attempts and monitoring for inappropriate usage.
 */
export class AuditEvent extends fhir.DomainResource {
    /**
     * Default constructor for AuditEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AuditEvent';
        if (source['event']) {
            this.event = new fhir.AuditEventEvent(source.event, options);
        }
        else {
            this.event = null;
        }
        if (source['participant']) {
            this.participant = source.participant.map((x) => new fhir.AuditEventParticipant(x, options));
        }
        else {
            this.participant = [];
        }
        if (source['source']) {
            this.source = new fhir.AuditEventSource(source.source, options);
        }
        else {
            this.source = null;
        }
        if (source['object']) {
            this.object = source.object.map((x) => new fhir.AuditEventObject(x, options));
        }
        else {
            this.object = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent';
        }
        iss.push(...this.vRS('event', exp));
        iss.push(...this.vRA('participant', exp));
        iss.push(...this.vRS('source', exp));
        iss.push(...this.vOA('object', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEvent._fts_dataType = 'AuditEvent';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXVkaXRFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQXVkaXRFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBR2hHLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQUdsRyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sNkNBQTZDLENBQUM7QUFtRHRGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGVBQWdCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQ3ZEOztPQUVHO0lBQ0gsWUFBWSxTQUFzQyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM1RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztTQUFFO2FBQ3JFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7U0FBRTtRQUMxQixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQzVGO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7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QVUsWUFBWSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIyLmNvcmUgdmVyc2lvbjogMS4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBBdWRpdEV2ZW50XHJcblxyXG5pbXBvcnQgKiBhcyBmaGlyIGZyb20gJy4uL2ZoaXIuanMnO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50QWN0aW9uQ29kZXMsICBBdWRpdEV2ZW50QWN0aW9uQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRBY3Rpb25Db2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudEFjdGlvblZzVmFsaWRhdGlvbiB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudEFjdGlvblZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudE91dGNvbWVDb2RlcywgIEF1ZGl0RXZlbnRPdXRjb21lQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRPdXRjb21lQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRPdXRjb21lVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEV2ZW50T3V0Y29tZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTmV0d29ya1R5cGVDb2RlcywgIE5ldHdvcmtUeXBlQ29kZVR5cGUgfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL05ldHdvcmtUeXBlQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IE5ldHdvcmtUeXBlVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9OZXR3b3JrVHlwZVZzVmFsaWRhdGlvbi5qcyc7XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50RXZlbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRFdmVudEV2ZW50QXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBpZGVudGlmaWVzIHRoZSBwZXJmb3JtZWQgZnVuY3Rpb24uIEZvciBcIkV4ZWN1dGVcIiBFdmVudCBBY3Rpb24gQ29kZSBhdWRpdCByZWNvcmRzLCB0aGlzIGlkZW50aWZpZXMgdGhlIGFwcGxpY2F0aW9uIGZ1bmN0aW9uIHBlcmZvcm1lZC5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkNvZGluZ0FyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIGVuYWJsZXMgcXVlcmllcyBvZiBtZXNzYWdlcyBieSBpbXBsZW1lbnRhdGlvbi1kZWZpbmVkIGV2ZW50IGNhdGVnb3JpZXMuXHJcbiAgICovXHJcbiAgc3VidHlwZT86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGJyb2FkbHkgaW5kaWNhdGVzIHdoYXQga2luZCBvZiBhY3Rpb24gd2FzIGRvbmUgb24gdGhlIFBhcnRpY2lwYW50IE9iamVjdC5cclxuICAgKi9cclxuICBhY3Rpb24/OiBmaGlyLkZoaXJDb2RlfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuZXZlbnQuYWN0aW9uXHJcbiAgICovXHJcbiAgX2FjdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB0aWVzIGFuIGV2ZW50IHRvIGEgc3BlY2lmaWMgZGF0ZSBhbmQgdGltZS4gU2VjdXJpdHkgYXVkaXRzIHR5cGljYWxseSByZXF1aXJlIGEgY29uc2lzdGVudCB0aW1lIGJhc2UgKGUuZy4gVVRDKSwgdG8gZWxpbWluYXRlIHRpbWUtem9uZSBpc3N1ZXMgYXJpc2luZyBmcm9tIGdlb2dyYXBoaWNhbCBkaXN0cmlidXRpb24uXHJcbiAgICovXHJcbiAgZGF0ZVRpbWU6IGZoaXIuRmhpckluc3RhbnR8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5ldmVudC5kYXRlVGltZVxyXG4gICAqL1xyXG4gIF9kYXRlVGltZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGV2ZW50IHN1Y2NlZWRlZCBvciBmYWlsZWQuXHJcbiAgICovXHJcbiAgb3V0Y29tZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5ldmVudC5vdXRjb21lXHJcbiAgICovXHJcbiAgX291dGNvbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEEgZnJlZSB0ZXh0IGRlc2NyaXB0aW9uIG9mIHRoZSBvdXRjb21lIG9mIHRoZSBldmVudC5cclxuICAgKi9cclxuICBvdXRjb21lRGVzYz86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmV2ZW50Lm91dGNvbWVEZXNjXHJcbiAgICovXHJcbiAgX291dGNvbWVEZXNjPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgcHVycG9zZU9mVXNlIChyZWFzb24pIHRoYXQgd2FzIHVzZWQgZHVyaW5nIHRoZSBldmVudCBiZWluZyByZWNvcmRlZC5cclxuICAgKi9cclxuICBwdXJwb3NlT2ZFdmVudD86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBldmVudCBtdXN0IGJlIGlkZW50aWZpZWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXVkaXRFdmVudEV2ZW50IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudEV2ZW50JztcclxuICAvKipcclxuICAgKiBUaGlzIGlkZW50aWZpZXMgdGhlIHBlcmZvcm1lZCBmdW5jdGlvbi4gRm9yIFwiRXhlY3V0ZVwiIEV2ZW50IEFjdGlvbiBDb2RlIGF1ZGl0IHJlY29yZHMsIHRoaXMgaWRlbnRpZmllcyB0aGUgYXBwbGljYXRpb24gZnVuY3Rpb24gcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgZW5hYmxlcyBxdWVyaWVzIG9mIG1lc3NhZ2VzIGJ5IGltcGxlbWVudGF0aW9uLWRlZmluZWQgZXZlbnQgY2F0ZWdvcmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgc3VidHlwZTogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGJyb2FkbHkgaW5kaWNhdGVzIHdoYXQga2luZCBvZiBhY3Rpb24gd2FzIGRvbmUgb24gdGhlIFBhcnRpY2lwYW50IE9iamVjdC5cclxuICAgKi9cclxuICBwdWJsaWMgYWN0aW9uPzogZmhpci5GaGlyQ29kZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB0aWVzIGFuIGV2ZW50IHRvIGEgc3BlY2lmaWMgZGF0ZSBhbmQgdGltZS4gU2VjdXJpdHkgYXVkaXRzIHR5cGljYWxseSByZXF1aXJlIGEgY29uc2lzdGVudCB0aW1lIGJhc2UgKGUuZy4gVVRDKSwgdG8gZWxpbWluYXRlIHRpbWUtem9uZSBpc3N1ZXMgYXJpc2luZyBmcm9tIGdlb2dyYXBoaWNhbCBkaXN0cmlidXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGRhdGVUaW1lOiBmaGlyLkZoaXJJbnN0YW50fG51bGw7XHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGV2ZW50IHN1Y2NlZWRlZCBvciBmYWlsZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG91dGNvbWU/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGZyZWUgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgb3V0Y29tZSBvZiB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgcHVibGljIG91dGNvbWVEZXNjPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcHVycG9zZU9mVXNlIChyZWFzb24pIHRoYXQgd2FzIHVzZWQgZHVyaW5nIHRoZSBldmVudCBiZWluZyByZWNvcmRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZU9mRXZlbnQ6IGZoaXIuQ29kaW5nW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudEV2ZW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudEV2ZW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnR5cGUsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc3VidHlwZSddKSB7IHRoaXMuc3VidHlwZSA9IHNvdXJjZS5zdWJ0eXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc3VidHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydhY3Rpb24nXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuYWN0aW9ufSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hY3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hY3Rpb24pIHsgdGhpcy5hY3Rpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoc291cmNlLl9hY3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlVGltZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kYXRlVGltZSA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHt2YWx1ZTogc291cmNlLmRhdGVUaW1lfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRhdGVUaW1lID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RhdGVUaW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGF0ZVRpbWUpIHsgdGhpcy5kYXRlVGltZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kYXRlVGltZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRhdGVUaW1lID0gbmV3IGZoaXIuRmhpckluc3RhbnQoc291cmNlLl9kYXRlVGltZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckluc3RhbnRBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ291dGNvbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMub3V0Y29tZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLm91dGNvbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX291dGNvbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5vdXRjb21lKSB7IHRoaXMub3V0Y29tZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9vdXRjb21lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3V0Y29tZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fb3V0Y29tZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ291dGNvbWVEZXNjJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm91dGNvbWVEZXNjID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5vdXRjb21lRGVzY30sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3V0Y29tZURlc2MnXSkge1xyXG4gICAgICBpZiAodGhpcy5vdXRjb21lRGVzYykgeyB0aGlzLm91dGNvbWVEZXNjLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX291dGNvbWVEZXNjISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3V0Y29tZURlc2MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fb3V0Y29tZURlc2MgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3B1cnBvc2VPZkV2ZW50J10pIHsgdGhpcy5wdXJwb3NlT2ZFdmVudCA9IHNvdXJjZS5wdXJwb3NlT2ZFdmVudC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnB1cnBvc2VPZkV2ZW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBdWRpdEV2ZW50LmV2ZW50JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3VidHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ2FjdGlvbicsZXhwLCdBdWRpdEV2ZW50QWN0aW9uJyxBdWRpdEV2ZW50QWN0aW9uVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2RhdGVUaW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignb3V0Y29tZScsZXhwLCdBdWRpdEV2ZW50T3V0Y29tZScsQXVkaXRFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3V0Y29tZURlc2MnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3B1cnBvc2VPZkV2ZW50JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50UGFydGljaXBhbnROZXR3b3JrIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRQYXJ0aWNpcGFudE5ldHdvcmtBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIGRhdHVtIGlkZW50aWZpZXMgdGhlIHVzZXIncyBuZXR3b3JrIGFjY2VzcyBwb2ludCwgd2hpY2ggbWF5IGJlIGRpc3RpbmN0IGZyb20gdGhlIHNlcnZlciB0aGF0IHBlcmZvcm1lZCB0aGUgYWN0aW9uLiBJdCBpcyBhbiBvcHRpb25hbCB2YWx1ZSB0aGF0IG1heSBiZSB1c2VkIHRvIGdyb3VwIGV2ZW50cyByZWNvcmRlZCBvbiBzZXBhcmF0ZSBzZXJ2ZXJzIGZvciBhbmFseXNpcyBvZiBhIHNwZWNpZmljIG5ldHdvcmsgYWNjZXNzIHBvaW50J3MgZGF0YSBhY2Nlc3MgYWNyb3NzIGFsbCBzZXJ2ZXJzLlxyXG4gICAqL1xyXG4gIGFkZHJlc3M/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5wYXJ0aWNpcGFudC5uZXR3b3JrLmFkZHJlc3NcclxuICAgKi9cclxuICBfYWRkcmVzcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkYXR1bSBpZGVudGlmaWVzIHRoZSB0eXBlIG9mIG5ldHdvcmsgYWNjZXNzIHBvaW50IGlkZW50aWZpZXIgb2YgdGhlIHVzZXIgZGV2aWNlIGZvciB0aGUgYXVkaXQgZXZlbnQuIEl0IGlzIGFuIG9wdGlvbmFsIHZhbHVlIHRoYXQgbWF5IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIHJlY29yZGVkIG9uIHNlcGFyYXRlIHNlcnZlcnMgZm9yIGFuYWx5c2lzIG9mIGFjY2VzcyBhY2NvcmRpbmcgdG8gYSBuZXR3b3JrIGFjY2VzcyBwb2ludCdzIHR5cGUuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5wYXJ0aWNpcGFudC5uZXR3b3JrLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2dpY2FsIG5ldHdvcmsgbG9jYXRpb24gZm9yIGFwcGxpY2F0aW9uIGFjdGl2aXR5LCBpZiB0aGUgYWN0aXZpdHkgaGFzIGEgbmV0d29yayBsb2NhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50UGFydGljaXBhbnROZXR3b3JrIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudFBhcnRpY2lwYW50TmV0d29yayc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkYXR1bSBpZGVudGlmaWVzIHRoZSB1c2VyJ3MgbmV0d29yayBhY2Nlc3MgcG9pbnQsIHdoaWNoIG1heSBiZSBkaXN0aW5jdCBmcm9tIHRoZSBzZXJ2ZXIgdGhhdCBwZXJmb3JtZWQgdGhlIGFjdGlvbi4gSXQgaXMgYW4gb3B0aW9uYWwgdmFsdWUgdGhhdCBtYXkgYmUgdXNlZCB0byBncm91cCBldmVudHMgcmVjb3JkZWQgb24gc2VwYXJhdGUgc2VydmVycyBmb3IgYW5hbHlzaXMgb2YgYSBzcGVjaWZpYyBuZXR3b3JrIGFjY2VzcyBwb2ludCdzIGRhdGEgYWNjZXNzIGFjcm9zcyBhbGwgc2VydmVycy5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkcmVzcz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkYXR1bSBpZGVudGlmaWVzIHRoZSB0eXBlIG9mIG5ldHdvcmsgYWNjZXNzIHBvaW50IGlkZW50aWZpZXIgb2YgdGhlIHVzZXIgZGV2aWNlIGZvciB0aGUgYXVkaXQgZXZlbnQuIEl0IGlzIGFuIG9wdGlvbmFsIHZhbHVlIHRoYXQgbWF5IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIHJlY29yZGVkIG9uIHNlcGFyYXRlIHNlcnZlcnMgZm9yIGFuYWx5c2lzIG9mIGFjY2VzcyBhY2NvcmRpbmcgdG8gYSBuZXR3b3JrIGFjY2VzcyBwb2ludCdzIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50UGFydGljaXBhbnROZXR3b3JrIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudFBhcnRpY2lwYW50TmV0d29ya0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmFkZHJlc3MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmFkZHJlc3N9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FkZHJlc3MnXSkge1xyXG4gICAgICBpZiAodGhpcy5hZGRyZXNzKSB7IHRoaXMuYWRkcmVzcy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hZGRyZXNzISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWRkcmVzcyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9hZGRyZXNzIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZSh7dmFsdWU6IHNvdXJjZS50eXBlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyQ29kZShzb3VyY2UuX3R5cGUgYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudC5wYXJ0aWNpcGFudC5uZXR3b3JrJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnYWRkcmVzcycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ3R5cGUnLGV4cCwnTmV0d29ya1R5cGUnLE5ldHdvcmtUeXBlVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEF1ZGl0RXZlbnRQYXJ0aWNpcGFudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50UGFydGljaXBhbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIHRpZXMgYW4gYXVkaXRlZCBldmVudCB0byBhIHVzZXIncyByb2xlKHMpLiBJdCBpcyBhbiBvcHRpb25hbCB2YWx1ZSB0aGF0IG1pZ2h0IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIGZvciBhbmFseXNpcyBieSB1c2VyIGZ1bmN0aW9uYWwgcm9sZSBjYXRlZ29yaWVzLlxyXG4gICAqL1xyXG4gIHJvbGU/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCB0aWVzIGFuIGF1ZGl0IGV2ZW50IHRvIGEgc3BlY2lmaWMgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIHRpZXMgYW4gYXVkaXQgZXZlbnQgdG8gYSBzcGVjaWZpYyB1c2VyLlxyXG4gICAqL1xyXG4gIHVzZXJJZD86IGZoaXIuSWRlbnRpZmllckFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluIHNvbWUgc2l0dWF0aW9ucyBhIGh1bWFuIHVzZXIgbWF5IGF1dGhlbnRpY2F0ZSB3aXRoIG9uZSBpZGVudGl0eSBidXQsIHRvIGFjY2VzcyBhIHNwZWNpZmljIGFwcGxpY2F0aW9uIHN5c3RlbSwgbWF5IHVzZSBhIHN5bm9ueW1vdXMgaWRlbnRpZnkuIEZvciBleGFtcGxlLCBzb21lIFwic2luZ2xlIHNpZ24gb25cIiBpbXBsZW1lbnRhdGlvbnMgd2lsbCBkbyB0aGlzLiBUaGUgYWx0ZXJuYXRpdmUgaWRlbnRpZmllciB3b3VsZCB0aGVuIGJlIHRoZSBvcmlnaW5hbCBpZGVudGlmeSAgdXNlZCBmb3IgYXV0aGVudGljYXRpb24sIGFuZCB0aGUgVXNlciBJRCBpcyB0aGUgb25lIGtub3duIHRvIGFuZCB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvbi5cclxuICAgKi9cclxuICBhbHRJZD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LnBhcnRpY2lwYW50LmFsdElkXHJcbiAgICovXHJcbiAgX2FsdElkPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgVXNlciBJRCBhbmQgQXV0aG9yaXphdGlvbiBVc2VyIElEIG1heSBiZSBpbnRlcm5hbCBvciBvdGhlcndpc2Ugb2JzY3VyZSB2YWx1ZXMuIFRoaXMgZmllbGQgYXNzaXN0cyB0aGUgYXVkaXRvciBpbiBpZGVudGlmeWluZyB0aGUgYWN0dWFsIHVzZXIuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LnBhcnRpY2lwYW50Lm5hbWVcclxuICAgKi9cclxuICBfbmFtZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gcmVxdWVzdG9yLXVzZXJzIGFuZCByZWNpcGllbnQtdXNlcnMuIEZvciBleGFtcGxlLCBvbmUgcGVyc29uIG1heSBpbml0aWF0ZSBhIHJlcG9ydC1vdXRwdXQgdG8gYmUgc2VudCB0byBhbm90aGVyIHVzZXIuXHJcbiAgICovXHJcbiAgcmVxdWVzdG9yOiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LnBhcnRpY2lwYW50LnJlcXVlc3RvclxyXG4gICAqL1xyXG4gIF9yZXF1ZXN0b3I/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHJldHJvc3BlY3RpdmVseSB0byBkZXRlcm1pbmUgdGhlIGF1dGhvcml6YXRpb24gcG9saWNpZXMuXHJcbiAgICovXHJcbiAgcG9saWN5PzogZmhpci5GaGlyVXJpW118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5wYXJ0aWNpcGFudC5wb2xpY3lcclxuICAgKi9cclxuICBfcG9saWN5PzooZmhpci5GaGlyRWxlbWVudEFyZ3N8bnVsbClbXTtcclxuICAvKipcclxuICAgKiBVc3VhbGx5LCB0aGlzIGlzIHVzZWQgaW5zdGVhZCBvZiBzcGVjaWZ5aW5nIGEgbmV0d29yayBhZGRyZXNzLiBUaGlzIGZpZWxkIGlzIG5vdCB1c2VkIGZvciBNZWRpYSBJZCAoaS5lLiB0aGUgc2VyaWFsIG51bWJlciBvZiBhIENEKS5cclxuICAgKi9cclxuICBtZWRpYT86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTG9naWNhbCBuZXR3b3JrIGxvY2F0aW9uIGZvciBhcHBsaWNhdGlvbiBhY3Rpdml0eSwgaWYgdGhlIGFjdGl2aXR5IGhhcyBhIG5ldHdvcmsgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgbmV0d29yaz86IGZoaXIuQXVkaXRFdmVudFBhcnRpY2lwYW50TmV0d29ya0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWFzb24gKHB1cnBvc2Ugb2YgdXNlKSwgc3BlY2lmaWMgdG8gdGhpcyBwYXJ0aWNpcGFudCwgdGhhdCB3YXMgdXNlZCBkdXJpbmcgdGhlIGV2ZW50IGJlaW5nIHJlY29yZGVkLlxyXG4gICAqL1xyXG4gIHB1cnBvc2VPZlVzZT86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBldmVudCBoYXMgb25lIG9yIG1vcmUgYWN0aXZlIHBhcnRpY2lwYW50cy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50UGFydGljaXBhbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50UGFydGljaXBhbnQnO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgdmFsdWUgdGllcyBhbiBhdWRpdGVkIGV2ZW50IHRvIGEgdXNlcidzIHJvbGUocykuIEl0IGlzIGFuIG9wdGlvbmFsIHZhbHVlIHRoYXQgbWlnaHQgYmUgdXNlZCB0byBncm91cCBldmVudHMgZm9yIGFuYWx5c2lzIGJ5IHVzZXIgZnVuY3Rpb25hbCByb2xlIGNhdGVnb3JpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHJvbGU6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCB0aWVzIGFuIGF1ZGl0IGV2ZW50IHRvIGEgc3BlY2lmaWMgcmVzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIHRpZXMgYW4gYXVkaXQgZXZlbnQgdG8gYSBzcGVjaWZpYyB1c2VyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB1c2VySWQ/OiBmaGlyLklkZW50aWZpZXJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluIHNvbWUgc2l0dWF0aW9ucyBhIGh1bWFuIHVzZXIgbWF5IGF1dGhlbnRpY2F0ZSB3aXRoIG9uZSBpZGVudGl0eSBidXQsIHRvIGFjY2VzcyBhIHNwZWNpZmljIGFwcGxpY2F0aW9uIHN5c3RlbSwgbWF5IHVzZSBhIHN5bm9ueW1vdXMgaWRlbnRpZnkuIEZvciBleGFtcGxlLCBzb21lIFwic2luZ2xlIHNpZ24gb25cIiBpbXBsZW1lbnRhdGlvbnMgd2lsbCBkbyB0aGlzLiBUaGUgYWx0ZXJuYXRpdmUgaWRlbnRpZmllciB3b3VsZCB0aGVuIGJlIHRoZSBvcmlnaW5hbCBpZGVudGlmeSAgdXNlZCBmb3IgYXV0aGVudGljYXRpb24sIGFuZCB0aGUgVXNlciBJRCBpcyB0aGUgb25lIGtub3duIHRvIGFuZCB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgYWx0SWQ/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBVc2VyIElEIGFuZCBBdXRob3JpemF0aW9uIFVzZXIgSUQgbWF5IGJlIGludGVybmFsIG9yIG90aGVyd2lzZSBvYnNjdXJlIHZhbHVlcy4gVGhpcyBmaWVsZCBhc3Npc3RzIHRoZSBhdWRpdG9yIGluIGlkZW50aWZ5aW5nIHRoZSBhY3R1YWwgdXNlci5cclxuICAgKi9cclxuICBwdWJsaWMgbmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gcmVxdWVzdG9yLXVzZXJzIGFuZCByZWNpcGllbnQtdXNlcnMuIEZvciBleGFtcGxlLCBvbmUgcGVyc29uIG1heSBpbml0aWF0ZSBhIHJlcG9ydC1vdXRwdXQgdG8gYmUgc2VudCB0byBhbm90aGVyIHVzZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3RvcjogZmhpci5GaGlyQm9vbGVhbnxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgbG9jYXRpb24/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHJldHJvc3BlY3RpdmVseSB0byBkZXRlcm1pbmUgdGhlIGF1dGhvcml6YXRpb24gcG9saWNpZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHBvbGljeTogZmhpci5GaGlyVXJpW107XHJcbiAgLyoqXHJcbiAgICogVXN1YWxseSwgdGhpcyBpcyB1c2VkIGluc3RlYWQgb2Ygc3BlY2lmeWluZyBhIG5ldHdvcmsgYWRkcmVzcy4gVGhpcyBmaWVsZCBpcyBub3QgdXNlZCBmb3IgTWVkaWEgSWQgKGkuZS4gdGhlIHNlcmlhbCBudW1iZXIgb2YgYSBDRCkuXHJcbiAgICovXHJcbiAgcHVibGljIG1lZGlhPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIExvZ2ljYWwgbmV0d29yayBsb2NhdGlvbiBmb3IgYXBwbGljYXRpb24gYWN0aXZpdHksIGlmIHRoZSBhY3Rpdml0eSBoYXMgYSBuZXR3b3JrIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuZXR3b3JrPzogZmhpci5BdWRpdEV2ZW50UGFydGljaXBhbnROZXR3b3JrfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgcmVhc29uIChwdXJwb3NlIG9mIHVzZSksIHNwZWNpZmljIHRvIHRoaXMgcGFydGljaXBhbnQsIHRoYXQgd2FzIHVzZWQgZHVyaW5nIHRoZSBldmVudCBiZWluZyByZWNvcmRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcHVycG9zZU9mVXNlOiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgY29uc3RydWN0b3IgZm9yIEF1ZGl0RXZlbnRQYXJ0aWNpcGFudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRQYXJ0aWNpcGFudEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydyb2xlJ10pIHsgdGhpcy5yb2xlID0gc291cmNlLnJvbGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yb2xlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3JlZmVyZW5jZSddKSB7IHRoaXMucmVmZXJlbmNlID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5yZWZlcmVuY2UsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyd1c2VySWQnXSkgeyB0aGlzLnVzZXJJZCA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLnVzZXJJZCwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ2FsdElkJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLmFsdElkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hbHRJZH0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWx0SWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5hbHRJZCkgeyB0aGlzLmFsdElkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FsdElkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWx0SWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYWx0SWQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UubmFtZX0sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydfbmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm5hbWUpIHsgdGhpcy5uYW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX25hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX25hbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3JlcXVlc3RvciddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5yZXF1ZXN0b3IgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5yZXF1ZXN0b3J9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVxdWVzdG9yID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3JlcXVlc3RvciddKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlcXVlc3RvcikgeyB0aGlzLnJlcXVlc3Rvci5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9yZXF1ZXN0b3IhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5yZXF1ZXN0b3IgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX3JlcXVlc3RvciBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPiwgb3B0aW9ucyk7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2xvY2F0aW9uJ10pIHsgdGhpcy5sb2NhdGlvbiA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UubG9jYXRpb24sIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydwb2xpY3knXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMucG9saWN5ID0gc291cmNlLnBvbGljeS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiB4fSwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wb2xpY3kgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3BvbGljeSddKSB7XHJcbiAgICAgIHNvdXJjZS5fcG9saWN5LmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnBvbGljeS5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLnBvbGljeVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnBvbGljeS5wdXNoKG5ldyBmaGlyLkZoaXJVcmkoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21lZGlhJ10pIHsgdGhpcy5tZWRpYSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UubWVkaWEsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWyduZXR3b3JrJ10pIHsgdGhpcy5uZXR3b3JrID0gbmV3IGZoaXIuQXVkaXRFdmVudFBhcnRpY2lwYW50TmV0d29yayhzb3VyY2UubmV0d29yaywgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3B1cnBvc2VPZlVzZSddKSB7IHRoaXMucHVycG9zZU9mVXNlID0gc291cmNlLnB1cnBvc2VPZlVzZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4LCBvcHRpb25zKSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnB1cnBvc2VPZlVzZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudC5wYXJ0aWNpcGFudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3JvbGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlZmVyZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndXNlcklkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhbHRJZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncmVxdWVzdG9yJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdsb2NhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncG9saWN5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtZWRpYScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmV0d29yaycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHVycG9zZU9mVXNlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50U291cmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRTb3VyY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGRpZmZlcmVudGlhdGVzIGFtb25nIHRoZSBzaXRlcyBpbiBhIG11bHRpLXNpdGUgZW50ZXJwcmlzZSBoZWFsdGggaW5mb3JtYXRpb24gc3lzdGVtLlxyXG4gICAqL1xyXG4gIHNpdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5zb3VyY2Uuc2l0ZVxyXG4gICAqL1xyXG4gIF9zaXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIHRpZXMgdGhlIGV2ZW50IHRvIGEgc3BlY2lmaWMgc291cmNlIHN5c3RlbS4gSXQgbWF5IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIGZvciBhbmFseXNpcyBhY2NvcmRpbmcgdG8gd2hlcmUgdGhlIGV2ZW50IHdhcyBkZXRlY3RlZC5cclxuICAgKi9cclxuICBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBpbmRpY2F0ZXMgd2hpY2ggdHlwZSBvZiBzb3VyY2UgaXMgaWRlbnRpZmllZCBieSB0aGUgQXVkaXQgU291cmNlIElELiBJdCBpcyBhbiBvcHRpb25hbCB2YWx1ZSB0aGF0IG1heSBiZSB1c2VkIHRvIGdyb3VwIGV2ZW50cyBmb3IgYW5hbHlzaXMgYWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIHNvdXJjZSB3aGVyZSB0aGUgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBldmVudCBpcyByZXBvcnRlZCBieSBvbmUgc291cmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRTb3VyY2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50U291cmNlJztcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGRpZmZlcmVudGlhdGVzIGFtb25nIHRoZSBzaXRlcyBpbiBhIG11bHRpLXNpdGUgZW50ZXJwcmlzZSBoZWFsdGggaW5mb3JtYXRpb24gc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzaXRlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIHRpZXMgdGhlIGV2ZW50IHRvIGEgc3BlY2lmaWMgc291cmNlIHN5c3RlbS4gSXQgbWF5IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIGZvciBhbmFseXNpcyBhY2NvcmRpbmcgdG8gd2hlcmUgdGhlIGV2ZW50IHdhcyBkZXRlY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBpbmRpY2F0ZXMgd2hpY2ggdHlwZSBvZiBzb3VyY2UgaXMgaWRlbnRpZmllZCBieSB0aGUgQXVkaXQgU291cmNlIElELiBJdCBpcyBhbiBvcHRpb25hbCB2YWx1ZSB0aGF0IG1heSBiZSB1c2VkIHRvIGdyb3VwIGV2ZW50cyBmb3IgYW5hbHlzaXMgYWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIHNvdXJjZSB3aGVyZSB0aGUgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kaW5nW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudFNvdXJjZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRTb3VyY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2l0ZSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5zaXRlfSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zaXRlJ10pIHtcclxuICAgICAgaWYgKHRoaXMuc2l0ZSkgeyB0aGlzLnNpdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc2l0ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnNpdGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fc2l0ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmlkZW50aWZpZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5pZGVudGlmaWVyID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IHNvdXJjZS50eXBlLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudC5zb3VyY2UnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdzaXRlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdpZGVudGlmaWVyJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCd0eXBlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50T2JqZWN0RGV0YWlsIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRPYmplY3REZXRhaWxBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBOYW1lIG9mIHRoZSBwcm9wZXJ0eS5cclxuICAgKi9cclxuICB0eXBlOiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5vYmplY3QuZGV0YWlsLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUHJvcGVydHkgdmFsdWUuXHJcbiAgICovXHJcbiAgdmFsdWU6IGZoaXIuRmhpckJhc2U2NEJpbmFyeXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50Lm9iamVjdC5kZXRhaWwudmFsdWVcclxuICAgKi9cclxuICBfdmFsdWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG59XHJcblxyXG4vKipcclxuICogQWRkaXRpb25hbCBJbmZvcm1hdGlvbiBhYm91dCB0aGUgT2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRPYmplY3REZXRhaWwgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50T2JqZWN0RGV0YWlsJztcclxuICAvKipcclxuICAgKiBOYW1lIG9mIHRoZSBwcm9wZXJ0eS5cclxuICAgKi9cclxuICBwdWJsaWMgdHlwZTogZmhpci5GaGlyU3RyaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogUHJvcGVydHkgdmFsdWUuXHJcbiAgICovXHJcbiAgcHVibGljIHZhbHVlOiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8bnVsbDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50T2JqZWN0RGV0YWlsIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudE9iamVjdERldGFpbEFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnR5cGV9LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ190eXBlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudHlwZSkgeyB0aGlzLnR5cGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fdHlwZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+LCBvcHRpb25zKTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndmFsdWUnXSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyQmFzZTY0QmluYXJ5KHt2YWx1ZTogc291cmNlLnZhbHVlfSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZhbHVlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudmFsdWUpIHsgdGhpcy52YWx1ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92YWx1ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeShzb3VyY2UuX3ZhbHVlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQmFzZTY0QmluYXJ5QXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudC5vYmplY3QuZGV0YWlsJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndmFsdWUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEF1ZGl0RXZlbnRPYmplY3QgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRFdmVudE9iamVjdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgYSBzcGVjaWZpYyBpbnN0YW5jZSBvZiB0aGUgcGFydGljaXBhbnQgb2JqZWN0LiBUaGUgcmVmZXJlbmNlIHNob3VsZCBhbHdheXMgYmUgdmVyc2lvbiBzcGVjaWZpYy5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGluc3RhbmNlIG9mIHRoZSBwYXJ0aWNpcGFudCBvYmplY3QuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGFsd2F5cyBiZSB2ZXJzaW9uIHNwZWNpZmljLlxyXG4gICAqL1xyXG4gIHJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gZGVzY3JpYmUgdGhlIG9iamVjdCBiZWluZyBhY3RlZCB1cG9uLiBJbiBhZGRpdGlvbiB0byBxdWVyaWVzIG9uIHRoZSBzdWJqZWN0IG9mIHRoZSBhY3Rpb24gaW4gYW4gYXVkaXRhYmxlIGV2ZW50LCBpdCBpcyBhbHNvIGltcG9ydGFudCB0byBiZSBhYmxlIHRvIHF1ZXJ5IG9uIHRoZSBvYmplY3QgdHlwZSBmb3IgdGhlIGFjdGlvbi5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3Igc29tZSBkZXRhaWxlZCBhdWRpdCBhbmFseXNpcyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIGluZGljYXRlIGEgbW9yZSBncmFudWxhciB0eXBlIG9mIHBhcnRpY2lwYW50LCBiYXNlZCBvbiB0aGUgYXBwbGljYXRpb24gcm9sZSBpdCBzZXJ2ZXMuXHJcbiAgICovXHJcbiAgcm9sZT86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5zdGl0dXRpb25hbCBwb2xpY2llcyBmb3IgcHJpdmFjeSBhbmQgc2VjdXJpdHkgbWF5IG9wdGlvbmFsbHkgZmFsbCB1bmRlciBkaWZmZXJlbnQgYWNjb3VudGFiaWxpdHkgcnVsZXMgYmFzZWQgb24gZGF0YSBsaWZlIGN5Y2xlLiBUaGlzIHByb3ZpZGVzIGEgZGlmZmVyZW50aWF0aW5nIHZhbHVlIGZvciB0aG9zZSBjYXNlcy5cclxuICAgKi9cclxuICBsaWZlY3ljbGU/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgaWRlbnRpZmllcyB0aGUgc2VjdXJpdHkgbGFiZWxzIGZvciBhIHNwZWNpZmljIGluc3RhbmNlIG9mIGFuIG9iamVjdCwgc3VjaCBhcyBhIHBhdGllbnQsIHRvIGRldGVjdC90cmFjayBwcml2YWN5IGFuZCBzZWN1cml0eSBpc3N1ZXMuXHJcbiAgICovXHJcbiAgc2VjdXJpdHlMYWJlbD86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpbnN0YW5jZS1zcGVjaWZpYyBkZXNjcmlwdG9yIG9mIHRoZSBQYXJ0aWNpcGFudCBPYmplY3QgSUQgYXVkaXRlZCwgc3VjaCBhcyBhIHBlcnNvbidzIG5hbWUuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50Lm9iamVjdC5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgdGhhdCBkZXNjcmliZXMgdGhlIG9iamVjdCBpbiBtb3JlIGRldGFpbC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50Lm9iamVjdC5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRm9yIHF1ZXJ5IGV2ZW50cyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIGNhcHR1cmUgdGhlIGFjdHVhbCBxdWVyeSBpbnB1dCB0byB0aGUgcXVlcnkgcHJvY2VzcyBpbiBvcmRlciB0byBpZGVudGlmeSB0aGUgc3BlY2lmaWMgZXZlbnQuIEJlY2F1c2Ugb2YgZGlmZmVyZW5jZXMgYW1vbmcgcXVlcnkgaW1wbGVtZW50YXRpb25zIGFuZCBkYXRhIGVuY29kaW5nIGZvciB0aGVtLCB0aGlzIGlzIGEgYmFzZSA2NCBlbmNvZGVkIGRhdGEgYmxvYi4gSXQgbWF5IGJlIHN1YnNlcXVlbnRseSBkZWNvZGVkIG9yIGludGVycHJldGVkIGJ5IGRvd25zdHJlYW0gYXVkaXQgYW5hbHlzaXMgcHJvY2Vzc2luZy5cclxuICAgKi9cclxuICBxdWVyeT86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50Lm9iamVjdC5xdWVyeVxyXG4gICAqL1xyXG4gIF9xdWVyeT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBJbmZvcm1hdGlvbiBhYm91dCB0aGUgT2JqZWN0LlxyXG4gICAqL1xyXG4gIGRldGFpbD86IGZoaXIuQXVkaXRFdmVudE9iamVjdERldGFpbEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgZXZlbnQgbWF5IGhhdmUgb3RoZXIgb2JqZWN0cyBpbnZvbHZlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50T2JqZWN0IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudE9iamVjdCc7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGluc3RhbmNlIG9mIHRoZSBwYXJ0aWNpcGFudCBvYmplY3QuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGFsd2F5cyBiZSB2ZXJzaW9uIHNwZWNpZmljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIGEgc3BlY2lmaWMgaW5zdGFuY2Ugb2YgdGhlIHBhcnRpY2lwYW50IG9iamVjdC4gVGhlIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHZlcnNpb24gc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUbyBkZXNjcmliZSB0aGUgb2JqZWN0IGJlaW5nIGFjdGVkIHVwb24uIEluIGFkZGl0aW9uIHRvIHF1ZXJpZXMgb24gdGhlIHN1YmplY3Qgb2YgdGhlIGFjdGlvbiBpbiBhbiBhdWRpdGFibGUgZXZlbnQsIGl0IGlzIGFsc28gaW1wb3J0YW50IHRvIGJlIGFibGUgdG8gcXVlcnkgb24gdGhlIG9iamVjdCB0eXBlIGZvciB0aGUgYWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBzb21lIGRldGFpbGVkIGF1ZGl0IGFuYWx5c2lzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gaW5kaWNhdGUgYSBtb3JlIGdyYW51bGFyIHR5cGUgb2YgcGFydGljaXBhbnQsIGJhc2VkIG9uIHRoZSBhcHBsaWNhdGlvbiByb2xlIGl0IHNlcnZlcy5cclxuICAgKi9cclxuICBwdWJsaWMgcm9sZT86IGZoaXIuQ29kaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnN0aXR1dGlvbmFsIHBvbGljaWVzIGZvciBwcml2YWN5IGFuZCBzZWN1cml0eSBtYXkgb3B0aW9uYWxseSBmYWxsIHVuZGVyIGRpZmZlcmVudCBhY2NvdW50YWJpbGl0eSBydWxlcyBiYXNlZCBvbiBkYXRhIGxpZmUgY3ljbGUuIFRoaXMgcHJvdmlkZXMgYSBkaWZmZXJlbnRpYXRpbmcgdmFsdWUgZm9yIHRob3NlIGNhc2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsaWZlY3ljbGU/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBpZGVudGlmaWVzIHRoZSBzZWN1cml0eSBsYWJlbHMgZm9yIGEgc3BlY2lmaWMgaW5zdGFuY2Ugb2YgYW4gb2JqZWN0LCBzdWNoIGFzIGEgcGF0aWVudCwgdG8gZGV0ZWN0L3RyYWNrIHByaXZhY3kgYW5kIHNlY3VyaXR5IGlzc3Vlcy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VjdXJpdHlMYWJlbDogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBBbiBpbnN0YW5jZS1zcGVjaWZpYyBkZXNjcmlwdG9yIG9mIHRoZSBQYXJ0aWNpcGFudCBPYmplY3QgSUQgYXVkaXRlZCwgc3VjaCBhcyBhIHBlcnNvbidzIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgdGhhdCBkZXNjcmliZXMgdGhlIG9iamVjdCBpbiBtb3JlIGRldGFpbC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBxdWVyeSBldmVudHMgaXQgbWF5IGJlIG5lY2Vzc2FyeSB0byBjYXB0dXJlIHRoZSBhY3R1YWwgcXVlcnkgaW5wdXQgdG8gdGhlIHF1ZXJ5IHByb2Nlc3MgaW4gb3JkZXIgdG8gaWRlbnRpZnkgdGhlIHNwZWNpZmljIGV2ZW50LiBCZWNhdXNlIG9mIGRpZmZlcmVuY2VzIGFtb25nIHF1ZXJ5IGltcGxlbWVudGF0aW9ucyBhbmQgZGF0YSBlbmNvZGluZyBmb3IgdGhlbSwgdGhpcyBpcyBhIGJhc2UgNjQgZW5jb2RlZCBkYXRhIGJsb2IuIEl0IG1heSBiZSBzdWJzZXF1ZW50bHkgZGVjb2RlZCBvciBpbnRlcnByZXRlZCBieSBkb3duc3RyZWFtIGF1ZGl0IGFuYWx5c2lzIHByb2Nlc3NpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHF1ZXJ5PzogZmhpci5GaGlyQmFzZTY0QmluYXJ5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIEluZm9ybWF0aW9uIGFib3V0IHRoZSBPYmplY3QuXHJcbiAgICovXHJcbiAgcHVibGljIGRldGFpbDogZmhpci5BdWRpdEV2ZW50T2JqZWN0RGV0YWlsW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudE9iamVjdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRPYmplY3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmlkZW50aWZpZXIsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2UnXSkgeyB0aGlzLnJlZmVyZW5jZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVmZXJlbmNlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudHlwZSwgb3B0aW9ucyk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JvbGUnXSkgeyB0aGlzLnJvbGUgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnJvbGUsIG9wdGlvbnMpOyB9XHJcbiAgICBpZiAoc291cmNlWydsaWZlY3ljbGUnXSkgeyB0aGlzLmxpZmVjeWNsZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UubGlmZWN5Y2xlLCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VjdXJpdHlMYWJlbCddKSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IHNvdXJjZS5zZWN1cml0eUxhYmVsLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXNjcmlwdGlvbiddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2Rlc2NyaXB0aW9uJ10pIHtcclxuICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsgdGhpcy5kZXNjcmlwdGlvbi5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9kZXNjcmlwdGlvbiEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2Rlc2NyaXB0aW9uIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydxdWVyeSddICE9PSB1bmRlZmluZWQpIHsgdGhpcy5xdWVyeSA9IG5ldyBmaGlyLkZoaXJCYXNlNjRCaW5hcnkoe3ZhbHVlOiBzb3VyY2UucXVlcnl9LCBvcHRpb25zKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3F1ZXJ5J10pIHtcclxuICAgICAgaWYgKHRoaXMucXVlcnkpIHsgdGhpcy5xdWVyeS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9xdWVyeSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnF1ZXJ5ID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeShzb3VyY2UuX3F1ZXJ5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQmFzZTY0QmluYXJ5QXJncz4sIG9wdGlvbnMpOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXRhaWwnXSkgeyB0aGlzLmRldGFpbCA9IHNvdXJjZS5kZXRhaWwubWFwKCh4KSA9PiBuZXcgZmhpci5BdWRpdEV2ZW50T2JqZWN0RGV0YWlsKHgsIG9wdGlvbnMpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGV0YWlsID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBdWRpdEV2ZW50Lm9iamVjdCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlZmVyZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncm9sZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbGlmZWN5Y2xlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzZWN1cml0eUxhYmVsJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCduYW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVlcnknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2RldGFpbCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQXVkaXRFdmVudFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZXZlbnQgbXVzdCBiZSBpZGVudGlmaWVkLlxyXG4gICAqL1xyXG4gIGV2ZW50OiBmaGlyLkF1ZGl0RXZlbnRFdmVudEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZXZlbnQgaGFzIG9uZSBvciBtb3JlIGFjdGl2ZSBwYXJ0aWNpcGFudHMuXHJcbiAgICovXHJcbiAgcGFydGljaXBhbnQ6IGZoaXIuQXVkaXRFdmVudFBhcnRpY2lwYW50QXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGV2ZW50IGlzIHJlcG9ydGVkIGJ5IG9uZSBzb3VyY2UuXHJcbiAgICovXHJcbiAgc291cmNlOiBmaGlyLkF1ZGl0RXZlbnRTb3VyY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGV2ZW50IG1heSBoYXZlIG90aGVyIG9iamVjdHMgaW52b2x2ZWQuXHJcbiAgICovXHJcbiAgb2JqZWN0PzogZmhpci5BdWRpdEV2ZW50T2JqZWN0QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVjb3JkIG9mIGFuIGV2ZW50IG1hZGUgZm9yIHB1cnBvc2VzIG9mIG1haW50YWluaW5nIGEgc2VjdXJpdHkgbG9nLiBUeXBpY2FsIHVzZXMgaW5jbHVkZSBkZXRlY3Rpb24gb2YgaW50cnVzaW9uIGF0dGVtcHRzIGFuZCBtb25pdG9yaW5nIGZvciBpbmFwcHJvcHJpYXRlIHVzYWdlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0F1ZGl0RXZlbnQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQXVkaXRFdmVudFwiO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBldmVudCBtdXN0IGJlIGlkZW50aWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGV2ZW50OiBmaGlyLkF1ZGl0RXZlbnRFdmVudHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBldmVudCBoYXMgb25lIG9yIG1vcmUgYWN0aXZlIHBhcnRpY2lwYW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydGljaXBhbnQ6IGZoaXIuQXVkaXRFdmVudFBhcnRpY2lwYW50W107XHJcbiAgLyoqXHJcbiAgICogVGhlIGV2ZW50IGlzIHJlcG9ydGVkIGJ5IG9uZSBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZTogZmhpci5BdWRpdEV2ZW50U291cmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGV2ZW50IG1heSBoYXZlIG90aGVyIG9iamVjdHMgaW52b2x2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG9iamVjdDogZmhpci5BdWRpdEV2ZW50T2JqZWN0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQXVkaXRFdmVudCc7XHJcbiAgICBpZiAoc291cmNlWydldmVudCddKSB7IHRoaXMuZXZlbnQgPSBuZXcgZmhpci5BdWRpdEV2ZW50RXZlbnQoc291cmNlLmV2ZW50LCBvcHRpb25zKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXZlbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0aWNpcGFudCddKSB7IHRoaXMucGFydGljaXBhbnQgPSBzb3VyY2UucGFydGljaXBhbnQubWFwKCh4KSA9PiBuZXcgZmhpci5BdWRpdEV2ZW50UGFydGljaXBhbnQoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXJ0aWNpcGFudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2UnXSkgeyB0aGlzLnNvdXJjZSA9IG5ldyBmaGlyLkF1ZGl0RXZlbnRTb3VyY2Uoc291cmNlLnNvdXJjZSwgb3B0aW9ucyk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNvdXJjZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ29iamVjdCddKSB7IHRoaXMub2JqZWN0ID0gc291cmNlLm9iamVjdC5tYXAoKHgpID0+IG5ldyBmaGlyLkF1ZGl0RXZlbnRPYmplY3QoeCwgb3B0aW9ucykpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vYmplY3QgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0F1ZGl0RXZlbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdldmVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSQSgncGFydGljaXBhbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3NvdXJjZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnb2JqZWN0JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==