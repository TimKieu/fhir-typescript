// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: AuditEvent
import * as fhir from '../fhir.js';
// @ts-ignore
import { AuditEventActionVsValidation } from '../fhirValueSets/AuditEventActionVsValidation.js';
// @ts-ignore
import { AuditEventOutcomeVsValidation } from '../fhirValueSets/AuditEventOutcomeVsValidation.js';
// @ts-ignore
import { NetworkTypeVsValidation } from '../fhirValueSets/NetworkTypeVsValidation.js';
/**
 * The event must be identified.
 */
export class AuditEventEvent extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        else {
            this.type = null;
        }
        if (source['subtype']) {
            this.subtype = source.subtype.map((x) => new fhir.Coding(x));
        }
        else {
            this.subtype = [];
        }
        if (source['action']) {
            this.action = new fhir.FhirCode({ value: source.action });
        }
        if (source['_action']) {
            if (this.action) {
                this.action.addExtendedProperties(source._action);
            }
            else {
                this.action = new fhir.FhirCode(source._action);
            }
        }
        if (source['dateTime']) {
            this.dateTime = new fhir.FhirInstant({ value: source.dateTime });
        }
        else {
            this.dateTime = null;
        }
        if (source['_dateTime']) {
            if (this.dateTime) {
                this.dateTime.addExtendedProperties(source._dateTime);
            }
            else {
                this.dateTime = new fhir.FhirInstant(source._dateTime);
            }
        }
        if (source['outcome']) {
            this.outcome = new fhir.FhirCode({ value: source.outcome });
        }
        if (source['_outcome']) {
            if (this.outcome) {
                this.outcome.addExtendedProperties(source._outcome);
            }
            else {
                this.outcome = new fhir.FhirCode(source._outcome);
            }
        }
        if (source['outcomeDesc']) {
            this.outcomeDesc = new fhir.FhirString({ value: source.outcomeDesc });
        }
        if (source['_outcomeDesc']) {
            if (this.outcomeDesc) {
                this.outcomeDesc.addExtendedProperties(source._outcomeDesc);
            }
            else {
                this.outcomeDesc = new fhir.FhirString(source._outcomeDesc);
            }
        }
        if (source['purposeOfEvent']) {
            this.purposeOfEvent = source.purposeOfEvent.map((x) => new fhir.Coding(x));
        }
        else {
            this.purposeOfEvent = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.event';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vOA('subtype', exp));
        iss.push(...this.vOSV('action', exp, 'AuditEventAction', AuditEventActionVsValidation, 'r'));
        iss.push(...this.vRS('dateTime', exp));
        iss.push(...this.vOSV('outcome', exp, 'AuditEventOutcome', AuditEventOutcomeVsValidation, 'r'));
        iss.push(...this.vOS('outcomeDesc', exp));
        iss.push(...this.vOA('purposeOfEvent', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventEvent._fts_dataType = 'AuditEventEvent';
/**
 * Logical network location for application activity, if the activity has a network location.
 */
export class AuditEventParticipantNetwork extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventParticipantNetwork - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['address']) {
            this.address = new fhir.FhirString({ value: source.address });
        }
        if (source['_address']) {
            if (this.address) {
                this.address.addExtendedProperties(source._address);
            }
            else {
                this.address = new fhir.FhirString(source._address);
            }
        }
        if (source['type']) {
            this.type = new fhir.FhirCode({ value: source.type });
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirCode(source._type);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.participant.network';
        }
        iss.push(...this.vOS('address', exp));
        iss.push(...this.vOSV('type', exp, 'NetworkType', NetworkTypeVsValidation, 'r'));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventParticipantNetwork._fts_dataType = 'AuditEventParticipantNetwork';
/**
 * The event has one or more active participants.
 */
export class AuditEventParticipant extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventParticipant - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['role']) {
            this.role = source.role.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.role = [];
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference);
        }
        if (source['userId']) {
            this.userId = new fhir.Identifier(source.userId);
        }
        if (source['altId']) {
            this.altId = new fhir.FhirString({ value: source.altId });
        }
        if (source['_altId']) {
            if (this.altId) {
                this.altId.addExtendedProperties(source._altId);
            }
            else {
                this.altId = new fhir.FhirString(source._altId);
            }
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['requestor']) {
            this.requestor = new fhir.FhirBoolean({ value: source.requestor });
        }
        else {
            this.requestor = null;
        }
        if (source['_requestor']) {
            if (this.requestor) {
                this.requestor.addExtendedProperties(source._requestor);
            }
            else {
                this.requestor = new fhir.FhirBoolean(source._requestor);
            }
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        if (source['policy']) {
            this.policy = source.policy.map((x) => new fhir.FhirUri({ value: x }));
        }
        else {
            this.policy = [];
        }
        if (source['_policy']) {
            source._policy.forEach((x, i) => {
                if (this.policy.length >= i) {
                    if (x) {
                        this.policy[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.policy.push(new fhir.FhirUri(x));
                    }
                }
            });
        }
        if (source['media']) {
            this.media = new fhir.Coding(source.media);
        }
        if (source['network']) {
            this.network = new fhir.AuditEventParticipantNetwork(source.network);
        }
        if (source['purposeOfUse']) {
            this.purposeOfUse = source.purposeOfUse.map((x) => new fhir.Coding(x));
        }
        else {
            this.purposeOfUse = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.participant';
        }
        iss.push(...this.vOA('role', exp));
        iss.push(...this.vOS('reference', exp));
        iss.push(...this.vOS('userId', exp));
        iss.push(...this.vOS('altId', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vRS('requestor', exp));
        iss.push(...this.vOS('location', exp));
        iss.push(...this.vOA('policy', exp));
        iss.push(...this.vOS('media', exp));
        iss.push(...this.vOS('network', exp));
        iss.push(...this.vOA('purposeOfUse', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventParticipant._fts_dataType = 'AuditEventParticipant';
/**
 * The event is reported by one source.
 */
export class AuditEventSource extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventSource - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['site']) {
            this.site = new fhir.FhirString({ value: source.site });
        }
        if (source['_site']) {
            if (this.site) {
                this.site.addExtendedProperties(source._site);
            }
            else {
                this.site = new fhir.FhirString(source._site);
            }
        }
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        else {
            this.identifier = null;
        }
        if (source['type']) {
            this.type = source.type.map((x) => new fhir.Coding(x));
        }
        else {
            this.type = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.source';
        }
        iss.push(...this.vOS('site', exp));
        iss.push(...this.vRS('identifier', exp));
        iss.push(...this.vOA('type', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventSource._fts_dataType = 'AuditEventSource';
/**
 * Additional Information about the Object.
 */
export class AuditEventObjectDetail extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventObjectDetail - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.FhirString({ value: source.type });
        }
        else {
            this.type = null;
        }
        if (source['_type']) {
            if (this.type) {
                this.type.addExtendedProperties(source._type);
            }
            else {
                this.type = new fhir.FhirString(source._type);
            }
        }
        if (source['value']) {
            this.value = new fhir.FhirBase64Binary({ value: source.value });
        }
        else {
            this.value = null;
        }
        if (source['_value']) {
            if (this.value) {
                this.value.addExtendedProperties(source._value);
            }
            else {
                this.value = new fhir.FhirBase64Binary(source._value);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.object.detail';
        }
        iss.push(...this.vRS('type', exp));
        iss.push(...this.vRS('value', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventObjectDetail._fts_dataType = 'AuditEventObjectDetail';
/**
 * The event may have other objects involved.
 */
export class AuditEventObject extends fhir.BackboneElement {
    /**
     * Default constructor for AuditEventObject - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['identifier']) {
            this.identifier = new fhir.Identifier(source.identifier);
        }
        if (source['reference']) {
            this.reference = new fhir.Reference(source.reference);
        }
        if (source['type']) {
            this.type = new fhir.Coding(source.type);
        }
        if (source['role']) {
            this.role = new fhir.Coding(source.role);
        }
        if (source['lifecycle']) {
            this.lifecycle = new fhir.Coding(source.lifecycle);
        }
        if (source['securityLabel']) {
            this.securityLabel = source.securityLabel.map((x) => new fhir.Coding(x));
        }
        else {
            this.securityLabel = [];
        }
        if (source['name']) {
            this.name = new fhir.FhirString({ value: source.name });
        }
        if (source['_name']) {
            if (this.name) {
                this.name.addExtendedProperties(source._name);
            }
            else {
                this.name = new fhir.FhirString(source._name);
            }
        }
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['query']) {
            this.query = new fhir.FhirBase64Binary({ value: source.query });
        }
        if (source['_query']) {
            if (this.query) {
                this.query.addExtendedProperties(source._query);
            }
            else {
                this.query = new fhir.FhirBase64Binary(source._query);
            }
        }
        if (source['detail']) {
            this.detail = source.detail.map((x) => new fhir.AuditEventObjectDetail(x));
        }
        else {
            this.detail = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent.object';
        }
        iss.push(...this.vOS('identifier', exp));
        iss.push(...this.vOS('reference', exp));
        iss.push(...this.vOS('type', exp));
        iss.push(...this.vOS('role', exp));
        iss.push(...this.vOS('lifecycle', exp));
        iss.push(...this.vOA('securityLabel', exp));
        iss.push(...this.vOS('name', exp));
        iss.push(...this.vOS('description', exp));
        iss.push(...this.vOS('query', exp));
        iss.push(...this.vOA('detail', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEventObject._fts_dataType = 'AuditEventObject';
/**
 * A record of an event made for purposes of maintaining a security log. Typical uses include detection of intrusion attempts and monitoring for inappropriate usage.
 */
export class AuditEvent extends fhir.DomainResource {
    /**
     * Default constructor for AuditEvent - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'AuditEvent';
        if (source['event']) {
            this.event = new fhir.AuditEventEvent(source.event);
        }
        else {
            this.event = null;
        }
        if (source['participant']) {
            this.participant = source.participant.map((x) => new fhir.AuditEventParticipant(x));
        }
        else {
            this.participant = [];
        }
        if (source['source']) {
            this.source = new fhir.AuditEventSource(source.source);
        }
        else {
            this.source = null;
        }
        if (source['object']) {
            this.object = source.object.map((x) => new fhir.AuditEventObject(x));
        }
        else {
            this.object = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let iss = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'AuditEvent';
        }
        iss.push(...this.vRS('event', exp));
        iss.push(...this.vRA('participant', exp));
        iss.push(...this.vRS('source', exp));
        iss.push(...this.vOA('object', exp));
        return iss;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
AuditEvent._fts_dataType = 'AuditEvent';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXVkaXRFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImZoaXIvQXVkaXRFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEIsK0NBQStDO0FBQy9DLGtDQUFrQztBQUNsQyw0QkFBNEI7QUFFNUIsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFJbkMsYUFBYTtBQUNiLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBR2hHLGFBQWE7QUFDYixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQUdsRyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sNkNBQTZDLENBQUM7QUFtRHRGOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGVBQWdCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFpQ3ZEOztPQUVHO0lBQ0gsWUFBWSxTQUFzQyxFQUFFLEVBQUUsVUFBc0MsRUFBRTtRQUM1RixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUU7YUFDNUQ7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUFFO1FBQzFCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FBRTthQUNuRjtZQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1NBQUU7UUFDM0IsSUFBSSxNQUFN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LENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7QUFsREQ7O0dBRUc7QUFDNkIsd0JBQWEsR0FBVSxZQUFZLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA8YXV0by1nZW5lcmF0ZWQvPlxyXG4vLyBDb250ZW50cyBvZjogaGw3LmZoaXIucjIuY29yZSB2ZXJzaW9uOiAxLjAuMlxyXG4vLyBNaW5pbXVtIFR5cGVTY3JpcHQgVmVyc2lvbjogMy43XHJcbi8vIEZISVIgUmVzb3VyY2U6IEF1ZGl0RXZlbnRcclxuXHJcbmltcG9ydCAqIGFzIGZoaXIgZnJvbSAnLi4vZmhpci5qcyc7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IEF1ZGl0RXZlbnRBY3Rpb25Db2RlcywgIEF1ZGl0RXZlbnRBY3Rpb25Db2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudEFjdGlvbkNvZGVzLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50QWN0aW9uVnNWYWxpZGF0aW9uIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9BdWRpdEV2ZW50QWN0aW9uVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBdWRpdEV2ZW50T3V0Y29tZUNvZGVzLCAgQXVkaXRFdmVudE91dGNvbWVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvQXVkaXRFdmVudE91dGNvbWVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgQXVkaXRFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0F1ZGl0RXZlbnRPdXRjb21lVnNWYWxpZGF0aW9uLmpzJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBOZXR3b3JrVHlwZUNvZGVzLCAgTmV0d29ya1R5cGVDb2RlVHlwZSB9IGZyb20gJy4uL2ZoaXJWYWx1ZVNldHMvTmV0d29ya1R5cGVDb2Rlcy5qcyc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgTmV0d29ya1R5cGVWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL05ldHdvcmtUeXBlVnNWYWxpZGF0aW9uLmpzJztcclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEF1ZGl0RXZlbnRFdmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50RXZlbnRBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIGlkZW50aWZpZXMgdGhlIHBlcmZvcm1lZCBmdW5jdGlvbi4gRm9yIFwiRXhlY3V0ZVwiIEV2ZW50IEFjdGlvbiBDb2RlIGF1ZGl0IHJlY29yZHMsIHRoaXMgaWRlbnRpZmllcyB0aGUgYXBwbGljYXRpb24gZnVuY3Rpb24gcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kaW5nQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgZW5hYmxlcyBxdWVyaWVzIG9mIG1lc3NhZ2VzIGJ5IGltcGxlbWVudGF0aW9uLWRlZmluZWQgZXZlbnQgY2F0ZWdvcmllcy5cclxuICAgKi9cclxuICBzdWJ0eXBlPzogZmhpci5Db2RpbmdBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYnJvYWRseSBpbmRpY2F0ZXMgd2hhdCBraW5kIG9mIGFjdGlvbiB3YXMgZG9uZSBvbiB0aGUgUGFydGljaXBhbnQgT2JqZWN0LlxyXG4gICAqL1xyXG4gIGFjdGlvbj86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5ldmVudC5hY3Rpb25cclxuICAgKi9cclxuICBfYWN0aW9uPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIHRpZXMgYW4gZXZlbnQgdG8gYSBzcGVjaWZpYyBkYXRlIGFuZCB0aW1lLiBTZWN1cml0eSBhdWRpdHMgdHlwaWNhbGx5IHJlcXVpcmUgYSBjb25zaXN0ZW50IHRpbWUgYmFzZSAoZS5nLiBVVEMpLCB0byBlbGltaW5hdGUgdGltZS16b25lIGlzc3VlcyBhcmlzaW5nIGZyb20gZ2VvZ3JhcGhpY2FsIGRpc3RyaWJ1dGlvbi5cclxuICAgKi9cclxuICBkYXRlVGltZTogZmhpci5GaGlySW5zdGFudHxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmV2ZW50LmRhdGVUaW1lXHJcbiAgICovXHJcbiAgX2RhdGVUaW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZXZlbnQgc3VjY2VlZGVkIG9yIGZhaWxlZC5cclxuICAgKi9cclxuICBvdXRjb21lPzogZmhpci5GaGlyQ29kZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LmV2ZW50Lm91dGNvbWVcclxuICAgKi9cclxuICBfb3V0Y29tZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBmcmVlIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIG91dGNvbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIG91dGNvbWVEZXNjPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQuZXZlbnQub3V0Y29tZURlc2NcclxuICAgKi9cclxuICBfb3V0Y29tZURlc2M/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwdXJwb3NlT2ZVc2UgKHJlYXNvbikgdGhhdCB3YXMgdXNlZCBkdXJpbmcgdGhlIGV2ZW50IGJlaW5nIHJlY29yZGVkLlxyXG4gICAqL1xyXG4gIHB1cnBvc2VPZkV2ZW50PzogZmhpci5Db2RpbmdBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGV2ZW50IG11c3QgYmUgaWRlbnRpZmllZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50RXZlbnQgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50RXZlbnQnO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaWRlbnRpZmllcyB0aGUgcGVyZm9ybWVkIGZ1bmN0aW9uLiBGb3IgXCJFeGVjdXRlXCIgRXZlbnQgQWN0aW9uIENvZGUgYXVkaXQgcmVjb3JkcywgdGhpcyBpZGVudGlmaWVzIHRoZSBhcHBsaWNhdGlvbiBmdW5jdGlvbiBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kaW5nfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBlbmFibGVzIHF1ZXJpZXMgb2YgbWVzc2FnZXMgYnkgaW1wbGVtZW50YXRpb24tZGVmaW5lZCBldmVudCBjYXRlZ29yaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdWJ0eXBlOiBmaGlyLkNvZGluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgYnJvYWRseSBpbmRpY2F0ZXMgd2hhdCBraW5kIG9mIGFjdGlvbiB3YXMgZG9uZSBvbiB0aGUgUGFydGljaXBhbnQgT2JqZWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhY3Rpb24/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHRpZXMgYW4gZXZlbnQgdG8gYSBzcGVjaWZpYyBkYXRlIGFuZCB0aW1lLiBTZWN1cml0eSBhdWRpdHMgdHlwaWNhbGx5IHJlcXVpcmUgYSBjb25zaXN0ZW50IHRpbWUgYmFzZSAoZS5nLiBVVEMpLCB0byBlbGltaW5hdGUgdGltZS16b25lIGlzc3VlcyBhcmlzaW5nIGZyb20gZ2VvZ3JhcGhpY2FsIGRpc3RyaWJ1dGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZGF0ZVRpbWU6IGZoaXIuRmhpckluc3RhbnR8bnVsbDtcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZXZlbnQgc3VjY2VlZGVkIG9yIGZhaWxlZC5cclxuICAgKi9cclxuICBwdWJsaWMgb3V0Y29tZT86IGZoaXIuRmhpckNvZGV8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgZnJlZSB0ZXh0IGRlc2NyaXB0aW9uIG9mIHRoZSBvdXRjb21lIG9mIHRoZSBldmVudC5cclxuICAgKi9cclxuICBwdWJsaWMgb3V0Y29tZURlc2M/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBwdXJwb3NlT2ZVc2UgKHJlYXNvbikgdGhhdCB3YXMgdXNlZCBkdXJpbmcgdGhlIGV2ZW50IGJlaW5nIHJlY29yZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdXJwb3NlT2ZFdmVudDogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50RXZlbnQgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxBdWRpdEV2ZW50RXZlbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudHlwZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzdWJ0eXBlJ10pIHsgdGhpcy5zdWJ0eXBlID0gc291cmNlLnN1YnR5cGUubWFwKCh4KSA9PiBuZXcgZmhpci5Db2RpbmcoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zdWJ0eXBlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2FjdGlvbiddKSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2UuYWN0aW9ufSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hY3Rpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5hY3Rpb24pIHsgdGhpcy5hY3Rpb24uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWN0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWN0aW9uID0gbmV3IGZoaXIuRmhpckNvZGUoc291cmNlLl9hY3Rpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJDb2RlQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkYXRlVGltZSddKSB7IHRoaXMuZGF0ZVRpbWUgPSBuZXcgZmhpci5GaGlySW5zdGFudCh7dmFsdWU6IHNvdXJjZS5kYXRlVGltZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5kYXRlVGltZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ19kYXRlVGltZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGVUaW1lKSB7IHRoaXMuZGF0ZVRpbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZGF0ZVRpbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5kYXRlVGltZSA9IG5ldyBmaGlyLkZoaXJJbnN0YW50KHNvdXJjZS5fZGF0ZVRpbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJJbnN0YW50QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydvdXRjb21lJ10pIHsgdGhpcy5vdXRjb21lID0gbmV3IGZoaXIuRmhpckNvZGUoe3ZhbHVlOiBzb3VyY2Uub3V0Y29tZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3V0Y29tZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLm91dGNvbWUpIHsgdGhpcy5vdXRjb21lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX291dGNvbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5vdXRjb21lID0gbmV3IGZoaXIuRmhpckNvZGUoc291cmNlLl9vdXRjb21lIGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnb3V0Y29tZURlc2MnXSkgeyB0aGlzLm91dGNvbWVEZXNjID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5vdXRjb21lRGVzY30pOyB9XHJcbiAgICBpZiAoc291cmNlWydfb3V0Y29tZURlc2MnXSkge1xyXG4gICAgICBpZiAodGhpcy5vdXRjb21lRGVzYykgeyB0aGlzLm91dGNvbWVEZXNjLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX291dGNvbWVEZXNjISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMub3V0Y29tZURlc2MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fb3V0Y29tZURlc2MgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3B1cnBvc2VPZkV2ZW50J10pIHsgdGhpcy5wdXJwb3NlT2ZFdmVudCA9IHNvdXJjZS5wdXJwb3NlT2ZFdmVudC5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnB1cnBvc2VPZkV2ZW50ID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBdWRpdEV2ZW50LmV2ZW50JyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnc3VidHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPU1YoJ2FjdGlvbicsZXhwLCdBdWRpdEV2ZW50QWN0aW9uJyxBdWRpdEV2ZW50QWN0aW9uVnNWYWxpZGF0aW9uLCdyJykpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ2RhdGVUaW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVignb3V0Y29tZScsZXhwLCdBdWRpdEV2ZW50T3V0Y29tZScsQXVkaXRFdmVudE91dGNvbWVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnb3V0Y29tZURlc2MnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3B1cnBvc2VPZkV2ZW50JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50UGFydGljaXBhbnROZXR3b3JrIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRQYXJ0aWNpcGFudE5ldHdvcmtBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIGRhdHVtIGlkZW50aWZpZXMgdGhlIHVzZXIncyBuZXR3b3JrIGFjY2VzcyBwb2ludCwgd2hpY2ggbWF5IGJlIGRpc3RpbmN0IGZyb20gdGhlIHNlcnZlciB0aGF0IHBlcmZvcm1lZCB0aGUgYWN0aW9uLiBJdCBpcyBhbiBvcHRpb25hbCB2YWx1ZSB0aGF0IG1heSBiZSB1c2VkIHRvIGdyb3VwIGV2ZW50cyByZWNvcmRlZCBvbiBzZXBhcmF0ZSBzZXJ2ZXJzIGZvciBhbmFseXNpcyBvZiBhIHNwZWNpZmljIG5ldHdvcmsgYWNjZXNzIHBvaW50J3MgZGF0YSBhY2Nlc3MgYWNyb3NzIGFsbCBzZXJ2ZXJzLlxyXG4gICAqL1xyXG4gIGFkZHJlc3M/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5wYXJ0aWNpcGFudC5uZXR3b3JrLmFkZHJlc3NcclxuICAgKi9cclxuICBfYWRkcmVzcz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkYXR1bSBpZGVudGlmaWVzIHRoZSB0eXBlIG9mIG5ldHdvcmsgYWNjZXNzIHBvaW50IGlkZW50aWZpZXIgb2YgdGhlIHVzZXIgZGV2aWNlIGZvciB0aGUgYXVkaXQgZXZlbnQuIEl0IGlzIGFuIG9wdGlvbmFsIHZhbHVlIHRoYXQgbWF5IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIHJlY29yZGVkIG9uIHNlcGFyYXRlIHNlcnZlcnMgZm9yIGFuYWx5c2lzIG9mIGFjY2VzcyBhY2NvcmRpbmcgdG8gYSBuZXR3b3JrIGFjY2VzcyBwb2ludCdzIHR5cGUuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuRmhpckNvZGV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5wYXJ0aWNpcGFudC5uZXR3b3JrLnR5cGVcclxuICAgKi9cclxuICBfdHlwZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2dpY2FsIG5ldHdvcmsgbG9jYXRpb24gZm9yIGFwcGxpY2F0aW9uIGFjdGl2aXR5LCBpZiB0aGUgYWN0aXZpdHkgaGFzIGEgbmV0d29yayBsb2NhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50UGFydGljaXBhbnROZXR3b3JrIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudFBhcnRpY2lwYW50TmV0d29yayc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkYXR1bSBpZGVudGlmaWVzIHRoZSB1c2VyJ3MgbmV0d29yayBhY2Nlc3MgcG9pbnQsIHdoaWNoIG1heSBiZSBkaXN0aW5jdCBmcm9tIHRoZSBzZXJ2ZXIgdGhhdCBwZXJmb3JtZWQgdGhlIGFjdGlvbi4gSXQgaXMgYW4gb3B0aW9uYWwgdmFsdWUgdGhhdCBtYXkgYmUgdXNlZCB0byBncm91cCBldmVudHMgcmVjb3JkZWQgb24gc2VwYXJhdGUgc2VydmVycyBmb3IgYW5hbHlzaXMgb2YgYSBzcGVjaWZpYyBuZXR3b3JrIGFjY2VzcyBwb2ludCdzIGRhdGEgYWNjZXNzIGFjcm9zcyBhbGwgc2VydmVycy5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkcmVzcz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBkYXR1bSBpZGVudGlmaWVzIHRoZSB0eXBlIG9mIG5ldHdvcmsgYWNjZXNzIHBvaW50IGlkZW50aWZpZXIgb2YgdGhlIHVzZXIgZGV2aWNlIGZvciB0aGUgYXVkaXQgZXZlbnQuIEl0IGlzIGFuIG9wdGlvbmFsIHZhbHVlIHRoYXQgbWF5IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIHJlY29yZGVkIG9uIHNlcGFyYXRlIHNlcnZlcnMgZm9yIGFuYWx5c2lzIG9mIGFjY2VzcyBhY2NvcmRpbmcgdG8gYSBuZXR3b3JrIGFjY2VzcyBwb2ludCdzIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU/OiBmaGlyLkZoaXJDb2RlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBBdWRpdEV2ZW50UGFydGljaXBhbnROZXR3b3JrIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudFBhcnRpY2lwYW50TmV0d29ya0FyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWydhZGRyZXNzJ10pIHsgdGhpcy5hZGRyZXNzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hZGRyZXNzfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hZGRyZXNzJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYWRkcmVzcykgeyB0aGlzLmFkZHJlc3MuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYWRkcmVzcyEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFkZHJlc3MgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYWRkcmVzcyBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHt2YWx1ZTogc291cmNlLnR5cGV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJDb2RlKHNvdXJjZS5fdHlwZSBhcyBQYXJ0aWFsPGZoaXIuRmhpckNvZGVBcmdzPik7IH1cclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBdWRpdEV2ZW50LnBhcnRpY2lwYW50Lm5ldHdvcmsnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhZGRyZXNzJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TVigndHlwZScsZXhwLCdOZXR3b3JrVHlwZScsTmV0d29ya1R5cGVWc1ZhbGlkYXRpb24sJ3InKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudFBhcnRpY2lwYW50IHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRQYXJ0aWNpcGFudEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgdmFsdWUgdGllcyBhbiBhdWRpdGVkIGV2ZW50IHRvIGEgdXNlcidzIHJvbGUocykuIEl0IGlzIGFuIG9wdGlvbmFsIHZhbHVlIHRoYXQgbWlnaHQgYmUgdXNlZCB0byBncm91cCBldmVudHMgZm9yIGFuYWx5c2lzIGJ5IHVzZXIgZnVuY3Rpb25hbCByb2xlIGNhdGVnb3JpZXMuXHJcbiAgICovXHJcbiAgcm9sZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIHRpZXMgYW4gYXVkaXQgZXZlbnQgdG8gYSBzcGVjaWZpYyByZXNvdXJjZS5cclxuICAgKi9cclxuICByZWZlcmVuY2U/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgdGllcyBhbiBhdWRpdCBldmVudCB0byBhIHNwZWNpZmljIHVzZXIuXHJcbiAgICovXHJcbiAgdXNlcklkPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gc29tZSBzaXR1YXRpb25zIGEgaHVtYW4gdXNlciBtYXkgYXV0aGVudGljYXRlIHdpdGggb25lIGlkZW50aXR5IGJ1dCwgdG8gYWNjZXNzIGEgc3BlY2lmaWMgYXBwbGljYXRpb24gc3lzdGVtLCBtYXkgdXNlIGEgc3lub255bW91cyBpZGVudGlmeS4gRm9yIGV4YW1wbGUsIHNvbWUgXCJzaW5nbGUgc2lnbiBvblwiIGltcGxlbWVudGF0aW9ucyB3aWxsIGRvIHRoaXMuIFRoZSBhbHRlcm5hdGl2ZSBpZGVudGlmaWVyIHdvdWxkIHRoZW4gYmUgdGhlIG9yaWdpbmFsIGlkZW50aWZ5ICB1c2VkIGZvciBhdXRoZW50aWNhdGlvbiwgYW5kIHRoZSBVc2VyIElEIGlzIHRoZSBvbmUga25vd24gdG8gYW5kIHVzZWQgYnkgdGhlIGFwcGxpY2F0aW9uLlxyXG4gICAqL1xyXG4gIGFsdElkPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQucGFydGljaXBhbnQuYWx0SWRcclxuICAgKi9cclxuICBfYWx0SWQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBVc2VyIElEIGFuZCBBdXRob3JpemF0aW9uIFVzZXIgSUQgbWF5IGJlIGludGVybmFsIG9yIG90aGVyd2lzZSBvYnNjdXJlIHZhbHVlcy4gVGhpcyBmaWVsZCBhc3Npc3RzIHRoZSBhdWRpdG9yIGluIGlkZW50aWZ5aW5nIHRoZSBhY3R1YWwgdXNlci5cclxuICAgKi9cclxuICBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQucGFydGljaXBhbnQubmFtZVxyXG4gICAqL1xyXG4gIF9uYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiByZXF1ZXN0b3ItdXNlcnMgYW5kIHJlY2lwaWVudC11c2Vycy4gRm9yIGV4YW1wbGUsIG9uZSBwZXJzb24gbWF5IGluaXRpYXRlIGEgcmVwb3J0LW91dHB1dCB0byBiZSBzZW50IHRvIGFub3RoZXIgdXNlci5cclxuICAgKi9cclxuICByZXF1ZXN0b3I6IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQucGFydGljaXBhbnQucmVxdWVzdG9yXHJcbiAgICovXHJcbiAgX3JlcXVlc3Rvcj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIGV2ZW50IG9jY3VycmVkLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uPzogZmhpci5SZWZlcmVuY2VBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgcmV0cm9zcGVjdGl2ZWx5IHRvIGRldGVybWluZSB0aGUgYXV0aG9yaXphdGlvbiBwb2xpY2llcy5cclxuICAgKi9cclxuICBwb2xpY3k/OiBmaGlyLkZoaXJVcmlbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50LnBhcnRpY2lwYW50LnBvbGljeVxyXG4gICAqL1xyXG4gIF9wb2xpY3k/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIFVzdWFsbHksIHRoaXMgaXMgdXNlZCBpbnN0ZWFkIG9mIHNwZWNpZnlpbmcgYSBuZXR3b3JrIGFkZHJlc3MuIFRoaXMgZmllbGQgaXMgbm90IHVzZWQgZm9yIE1lZGlhIElkIChpLmUuIHRoZSBzZXJpYWwgbnVtYmVyIG9mIGEgQ0QpLlxyXG4gICAqL1xyXG4gIG1lZGlhPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBMb2dpY2FsIG5ldHdvcmsgbG9jYXRpb24gZm9yIGFwcGxpY2F0aW9uIGFjdGl2aXR5LCBpZiB0aGUgYWN0aXZpdHkgaGFzIGEgbmV0d29yayBsb2NhdGlvbi5cclxuICAgKi9cclxuICBuZXR3b3JrPzogZmhpci5BdWRpdEV2ZW50UGFydGljaXBhbnROZXR3b3JrQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlYXNvbiAocHVycG9zZSBvZiB1c2UpLCBzcGVjaWZpYyB0byB0aGlzIHBhcnRpY2lwYW50LCB0aGF0IHdhcyB1c2VkIGR1cmluZyB0aGUgZXZlbnQgYmVpbmcgcmVjb3JkZWQuXHJcbiAgICovXHJcbiAgcHVycG9zZU9mVXNlPzogZmhpci5Db2RpbmdBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGV2ZW50IGhhcyBvbmUgb3IgbW9yZSBhY3RpdmUgcGFydGljaXBhbnRzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRQYXJ0aWNpcGFudCBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0F1ZGl0RXZlbnRQYXJ0aWNpcGFudCc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyB2YWx1ZSB0aWVzIGFuIGF1ZGl0ZWQgZXZlbnQgdG8gYSB1c2VyJ3Mgcm9sZShzKS4gSXQgaXMgYW4gb3B0aW9uYWwgdmFsdWUgdGhhdCBtaWdodCBiZSB1c2VkIHRvIGdyb3VwIGV2ZW50cyBmb3IgYW5hbHlzaXMgYnkgdXNlciBmdW5jdGlvbmFsIHJvbGUgY2F0ZWdvcmllcy5cclxuICAgKi9cclxuICBwdWJsaWMgcm9sZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIHRpZXMgYW4gYXVkaXQgZXZlbnQgdG8gYSBzcGVjaWZpYyByZXNvdXJjZS5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJlbmNlPzogZmhpci5SZWZlcmVuY2V8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgdGllcyBhbiBhdWRpdCBldmVudCB0byBhIHNwZWNpZmljIHVzZXIuXHJcbiAgICovXHJcbiAgcHVibGljIHVzZXJJZD86IGZoaXIuSWRlbnRpZmllcnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW4gc29tZSBzaXR1YXRpb25zIGEgaHVtYW4gdXNlciBtYXkgYXV0aGVudGljYXRlIHdpdGggb25lIGlkZW50aXR5IGJ1dCwgdG8gYWNjZXNzIGEgc3BlY2lmaWMgYXBwbGljYXRpb24gc3lzdGVtLCBtYXkgdXNlIGEgc3lub255bW91cyBpZGVudGlmeS4gRm9yIGV4YW1wbGUsIHNvbWUgXCJzaW5nbGUgc2lnbiBvblwiIGltcGxlbWVudGF0aW9ucyB3aWxsIGRvIHRoaXMuIFRoZSBhbHRlcm5hdGl2ZSBpZGVudGlmaWVyIHdvdWxkIHRoZW4gYmUgdGhlIG9yaWdpbmFsIGlkZW50aWZ5ICB1c2VkIGZvciBhdXRoZW50aWNhdGlvbiwgYW5kIHRoZSBVc2VyIElEIGlzIHRoZSBvbmUga25vd24gdG8gYW5kIHVzZWQgYnkgdGhlIGFwcGxpY2F0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbHRJZD86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIFVzZXIgSUQgYW5kIEF1dGhvcml6YXRpb24gVXNlciBJRCBtYXkgYmUgaW50ZXJuYWwgb3Igb3RoZXJ3aXNlIG9ic2N1cmUgdmFsdWVzLiBUaGlzIGZpZWxkIGFzc2lzdHMgdGhlIGF1ZGl0b3IgaW4gaWRlbnRpZnlpbmcgdGhlIGFjdHVhbCB1c2VyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBuYW1lPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiByZXF1ZXN0b3ItdXNlcnMgYW5kIHJlY2lwaWVudC11c2Vycy4gRm9yIGV4YW1wbGUsIG9uZSBwZXJzb24gbWF5IGluaXRpYXRlIGEgcmVwb3J0LW91dHB1dCB0byBiZSBzZW50IHRvIGFub3RoZXIgdXNlci5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdG9yOiBmaGlyLkZoaXJCb29sZWFufG51bGw7XHJcbiAgLyoqXHJcbiAgICogV2hlcmUgdGhlIGV2ZW50IG9jY3VycmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsb2NhdGlvbj86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgcmV0cm9zcGVjdGl2ZWx5IHRvIGRldGVybWluZSB0aGUgYXV0aG9yaXphdGlvbiBwb2xpY2llcy5cclxuICAgKi9cclxuICBwdWJsaWMgcG9saWN5OiBmaGlyLkZoaXJVcmlbXTtcclxuICAvKipcclxuICAgKiBVc3VhbGx5LCB0aGlzIGlzIHVzZWQgaW5zdGVhZCBvZiBzcGVjaWZ5aW5nIGEgbmV0d29yayBhZGRyZXNzLiBUaGlzIGZpZWxkIGlzIG5vdCB1c2VkIGZvciBNZWRpYSBJZCAoaS5lLiB0aGUgc2VyaWFsIG51bWJlciBvZiBhIENEKS5cclxuICAgKi9cclxuICBwdWJsaWMgbWVkaWE/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTG9naWNhbCBuZXR3b3JrIGxvY2F0aW9uIGZvciBhcHBsaWNhdGlvbiBhY3Rpdml0eSwgaWYgdGhlIGFjdGl2aXR5IGhhcyBhIG5ldHdvcmsgbG9jYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG5ldHdvcms/OiBmaGlyLkF1ZGl0RXZlbnRQYXJ0aWNpcGFudE5ldHdvcmt8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWFzb24gKHB1cnBvc2Ugb2YgdXNlKSwgc3BlY2lmaWMgdG8gdGhpcyBwYXJ0aWNpcGFudCwgdGhhdCB3YXMgdXNlZCBkdXJpbmcgdGhlIGV2ZW50IGJlaW5nIHJlY29yZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdXJwb3NlT2ZVc2U6IGZoaXIuQ29kaW5nW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudFBhcnRpY2lwYW50IC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8QXVkaXRFdmVudFBhcnRpY2lwYW50QXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ3JvbGUnXSkgeyB0aGlzLnJvbGUgPSBzb3VyY2Uucm9sZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnJvbGUgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJlbmNlJ10pIHsgdGhpcy5yZWZlcmVuY2UgPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLnJlZmVyZW5jZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3VzZXJJZCddKSB7IHRoaXMudXNlcklkID0gbmV3IGZoaXIuSWRlbnRpZmllcihzb3VyY2UudXNlcklkKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWx0SWQnXSkgeyB0aGlzLmFsdElkID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5hbHRJZH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYWx0SWQnXSkge1xyXG4gICAgICBpZiAodGhpcy5hbHRJZCkgeyB0aGlzLmFsdElkLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2FsdElkISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYWx0SWQgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fYWx0SWQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ25hbWUnXSkgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLm5hbWV9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX25hbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5uYW1lKSB7IHRoaXMubmFtZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9uYW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMubmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9uYW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydyZXF1ZXN0b3InXSkgeyB0aGlzLnJlcXVlc3RvciA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHt2YWx1ZTogc291cmNlLnJlcXVlc3Rvcn0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5yZXF1ZXN0b3IgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfcmVxdWVzdG9yJ10pIHtcclxuICAgICAgaWYgKHRoaXMucmVxdWVzdG9yKSB7IHRoaXMucmVxdWVzdG9yLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3JlcXVlc3RvciEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnJlcXVlc3RvciA9IG5ldyBmaGlyLkZoaXJCb29sZWFuKHNvdXJjZS5fcmVxdWVzdG9yIGFzIFBhcnRpYWw8Zmhpci5GaGlyQm9vbGVhbkFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnbG9jYXRpb24nXSkgeyB0aGlzLmxvY2F0aW9uID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5sb2NhdGlvbik7IH1cclxuICAgIGlmIChzb3VyY2VbJ3BvbGljeSddKSB7IHRoaXMucG9saWN5ID0gc291cmNlLnBvbGljeS5tYXAoKHgpID0+IG5ldyBmaGlyLkZoaXJVcmkoe3ZhbHVlOiB4fSkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wb2xpY3kgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3BvbGljeSddKSB7XHJcbiAgICAgIHNvdXJjZS5fcG9saWN5LmZvckVhY2goKHgsaSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnBvbGljeS5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLnBvbGljeVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnBvbGljeS5wdXNoKG5ldyBmaGlyLkZoaXJVcmkoeCBhcyBQYXJ0aWFsPGZoaXIuRmhpclVyaUFyZ3M+KSk7IH0gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ21lZGlhJ10pIHsgdGhpcy5tZWRpYSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UubWVkaWEpOyB9XHJcbiAgICBpZiAoc291cmNlWyduZXR3b3JrJ10pIHsgdGhpcy5uZXR3b3JrID0gbmV3IGZoaXIuQXVkaXRFdmVudFBhcnRpY2lwYW50TmV0d29yayhzb3VyY2UubmV0d29yayk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3B1cnBvc2VPZlVzZSddKSB7IHRoaXMucHVycG9zZU9mVXNlID0gc291cmNlLnB1cnBvc2VPZlVzZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnB1cnBvc2VPZlVzZSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudC5wYXJ0aWNpcGFudCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ3JvbGUnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlZmVyZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndXNlcklkJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdhbHRJZCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmFtZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygncmVxdWVzdG9yJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdsb2NhdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncG9saWN5JyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdtZWRpYScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbmV0d29yaycsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgncHVycG9zZU9mVXNlJyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBBdWRpdEV2ZW50U291cmNlIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnRTb3VyY2VBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGRpZmZlcmVudGlhdGVzIGFtb25nIHRoZSBzaXRlcyBpbiBhIG11bHRpLXNpdGUgZW50ZXJwcmlzZSBoZWFsdGggaW5mb3JtYXRpb24gc3lzdGVtLlxyXG4gICAqL1xyXG4gIHNpdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5zb3VyY2Uuc2l0ZVxyXG4gICAqL1xyXG4gIF9zaXRlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIHRpZXMgdGhlIGV2ZW50IHRvIGEgc3BlY2lmaWMgc291cmNlIHN5c3RlbS4gSXQgbWF5IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIGZvciBhbmFseXNpcyBhY2NvcmRpbmcgdG8gd2hlcmUgdGhlIGV2ZW50IHdhcyBkZXRlY3RlZC5cclxuICAgKi9cclxuICBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBpbmRpY2F0ZXMgd2hpY2ggdHlwZSBvZiBzb3VyY2UgaXMgaWRlbnRpZmllZCBieSB0aGUgQXVkaXQgU291cmNlIElELiBJdCBpcyBhbiBvcHRpb25hbCB2YWx1ZSB0aGF0IG1heSBiZSB1c2VkIHRvIGdyb3VwIGV2ZW50cyBmb3IgYW5hbHlzaXMgYWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIHNvdXJjZSB3aGVyZSB0aGUgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgdHlwZT86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBldmVudCBpcyByZXBvcnRlZCBieSBvbmUgc291cmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnRTb3VyY2UgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdBdWRpdEV2ZW50U291cmNlJztcclxuICAvKipcclxuICAgKiBUaGlzIHZhbHVlIGRpZmZlcmVudGlhdGVzIGFtb25nIHRoZSBzaXRlcyBpbiBhIG11bHRpLXNpdGUgZW50ZXJwcmlzZSBoZWFsdGggaW5mb3JtYXRpb24gc3lzdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzaXRlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGlzIGZpZWxkIHRpZXMgdGhlIGV2ZW50IHRvIGEgc3BlY2lmaWMgc291cmNlIHN5c3RlbS4gSXQgbWF5IGJlIHVzZWQgdG8gZ3JvdXAgZXZlbnRzIGZvciBhbmFseXNpcyBhY2NvcmRpbmcgdG8gd2hlcmUgdGhlIGV2ZW50IHdhcyBkZXRlY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgaWRlbnRpZmllcjogZmhpci5JZGVudGlmaWVyfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBpbmRpY2F0ZXMgd2hpY2ggdHlwZSBvZiBzb3VyY2UgaXMgaWRlbnRpZmllZCBieSB0aGUgQXVkaXQgU291cmNlIElELiBJdCBpcyBhbiBvcHRpb25hbCB2YWx1ZSB0aGF0IG1heSBiZSB1c2VkIHRvIGdyb3VwIGV2ZW50cyBmb3IgYW5hbHlzaXMgYWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIHNvdXJjZSB3aGVyZSB0aGUgZXZlbnQgb2NjdXJyZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuQ29kaW5nW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudFNvdXJjZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRTb3VyY2VBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnc2l0ZSddKSB7IHRoaXMuc2l0ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2Uuc2l0ZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfc2l0ZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNpdGUpIHsgdGhpcy5zaXRlLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3NpdGUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zaXRlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX3NpdGUgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2lkZW50aWZpZXInXSkgeyB0aGlzLmlkZW50aWZpZXIgPSBuZXcgZmhpci5JZGVudGlmaWVyKHNvdXJjZS5pZGVudGlmaWVyKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3R5cGUnXSkgeyB0aGlzLnR5cGUgPSBzb3VyY2UudHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGluZyh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnR5cGUgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0F1ZGl0RXZlbnQuc291cmNlJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnc2l0ZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygnaWRlbnRpZmllcicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgndHlwZScsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudE9iamVjdERldGFpbCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50T2JqZWN0RGV0YWlsQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogTmFtZSBvZiB0aGUgcHJvcGVydHkuXHJcbiAgICovXHJcbiAgdHlwZTogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEF1ZGl0RXZlbnQub2JqZWN0LmRldGFpbC50eXBlXHJcbiAgICovXHJcbiAgX3R5cGU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFByb3BlcnR5IHZhbHVlLlxyXG4gICAqL1xyXG4gIHZhbHVlOiBmaGlyLkZoaXJCYXNlNjRCaW5hcnl8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogQXVkaXRFdmVudC5vYmplY3QuZGV0YWlsLnZhbHVlXHJcbiAgICovXHJcbiAgX3ZhbHVlPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZGl0aW9uYWwgSW5mb3JtYXRpb24gYWJvdXQgdGhlIE9iamVjdC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50T2JqZWN0RGV0YWlsIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudE9iamVjdERldGFpbCc7XHJcbiAgLyoqXHJcbiAgICogTmFtZSBvZiB0aGUgcHJvcGVydHkuXHJcbiAgICovXHJcbiAgcHVibGljIHR5cGU6IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFByb3BlcnR5IHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB2YWx1ZTogZmhpci5GaGlyQmFzZTY0QmluYXJ5fG51bGw7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudE9iamVjdERldGFpbCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRPYmplY3REZXRhaWxBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UudHlwZX0pOyB9XHJcbiAgICBlbHNlIHsgdGhpcy50eXBlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3R5cGUnXSkge1xyXG4gICAgICBpZiAodGhpcy50eXBlKSB7IHRoaXMudHlwZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl90eXBlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl90eXBlIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWyd2YWx1ZSddKSB7IHRoaXMudmFsdWUgPSBuZXcgZmhpci5GaGlyQmFzZTY0QmluYXJ5KHt2YWx1ZTogc291cmNlLnZhbHVlfSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbnVsbDsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3ZhbHVlJ10pIHtcclxuICAgICAgaWYgKHRoaXMudmFsdWUpIHsgdGhpcy52YWx1ZS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl92YWx1ZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnZhbHVlID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeShzb3VyY2UuX3ZhbHVlIGFzIFBhcnRpYWw8Zmhpci5GaGlyQmFzZTY0QmluYXJ5QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnQXVkaXRFdmVudC5vYmplY3QuZGV0YWlsJyB9XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSUygndmFsdWUnLGV4cCkpO1xyXG4gICAgcmV0dXJuIGlzcztcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIFZhbGlkIGFyZ3VtZW50cyBmb3IgdGhlIEF1ZGl0RXZlbnRPYmplY3QgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRFdmVudE9iamVjdEFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgYSBzcGVjaWZpYyBpbnN0YW5jZSBvZiB0aGUgcGFydGljaXBhbnQgb2JqZWN0LiBUaGUgcmVmZXJlbmNlIHNob3VsZCBhbHdheXMgYmUgdmVyc2lvbiBzcGVjaWZpYy5cclxuICAgKi9cclxuICBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGluc3RhbmNlIG9mIHRoZSBwYXJ0aWNpcGFudCBvYmplY3QuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGFsd2F5cyBiZSB2ZXJzaW9uIHNwZWNpZmljLlxyXG4gICAqL1xyXG4gIHJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVG8gZGVzY3JpYmUgdGhlIG9iamVjdCBiZWluZyBhY3RlZCB1cG9uLiBJbiBhZGRpdGlvbiB0byBxdWVyaWVzIG9uIHRoZSBzdWJqZWN0IG9mIHRoZSBhY3Rpb24gaW4gYW4gYXVkaXRhYmxlIGV2ZW50LCBpdCBpcyBhbHNvIGltcG9ydGFudCB0byBiZSBhYmxlIHRvIHF1ZXJ5IG9uIHRoZSBvYmplY3QgdHlwZSBmb3IgdGhlIGFjdGlvbi5cclxuICAgKi9cclxuICB0eXBlPzogZmhpci5Db2RpbmdBcmdzfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBGb3Igc29tZSBkZXRhaWxlZCBhdWRpdCBhbmFseXNpcyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIGluZGljYXRlIGEgbW9yZSBncmFudWxhciB0eXBlIG9mIHBhcnRpY2lwYW50LCBiYXNlZCBvbiB0aGUgYXBwbGljYXRpb24gcm9sZSBpdCBzZXJ2ZXMuXHJcbiAgICovXHJcbiAgcm9sZT86IGZoaXIuQ29kaW5nQXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSW5zdGl0dXRpb25hbCBwb2xpY2llcyBmb3IgcHJpdmFjeSBhbmQgc2VjdXJpdHkgbWF5IG9wdGlvbmFsbHkgZmFsbCB1bmRlciBkaWZmZXJlbnQgYWNjb3VudGFiaWxpdHkgcnVsZXMgYmFzZWQgb24gZGF0YSBsaWZlIGN5Y2xlLiBUaGlzIHByb3ZpZGVzIGEgZGlmZmVyZW50aWF0aW5nIHZhbHVlIGZvciB0aG9zZSBjYXNlcy5cclxuICAgKi9cclxuICBsaWZlY3ljbGU/OiBmaGlyLkNvZGluZ0FyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgZmllbGQgaWRlbnRpZmllcyB0aGUgc2VjdXJpdHkgbGFiZWxzIGZvciBhIHNwZWNpZmljIGluc3RhbmNlIG9mIGFuIG9iamVjdCwgc3VjaCBhcyBhIHBhdGllbnQsIHRvIGRldGVjdC90cmFjayBwcml2YWN5IGFuZCBzZWN1cml0eSBpc3N1ZXMuXHJcbiAgICovXHJcbiAgc2VjdXJpdHlMYWJlbD86IGZoaXIuQ29kaW5nQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBbiBpbnN0YW5jZS1zcGVjaWZpYyBkZXNjcmlwdG9yIG9mIHRoZSBQYXJ0aWNpcGFudCBPYmplY3QgSUQgYXVkaXRlZCwgc3VjaCBhcyBhIHBlcnNvbidzIG5hbWUuXHJcbiAgICovXHJcbiAgbmFtZT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50Lm9iamVjdC5uYW1lXHJcbiAgICovXHJcbiAgX25hbWU/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgdGhhdCBkZXNjcmliZXMgdGhlIG9iamVjdCBpbiBtb3JlIGRldGFpbC5cclxuICAgKi9cclxuICBkZXNjcmlwdGlvbj86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50Lm9iamVjdC5kZXNjcmlwdGlvblxyXG4gICAqL1xyXG4gIF9kZXNjcmlwdGlvbj86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogRm9yIHF1ZXJ5IGV2ZW50cyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIGNhcHR1cmUgdGhlIGFjdHVhbCBxdWVyeSBpbnB1dCB0byB0aGUgcXVlcnkgcHJvY2VzcyBpbiBvcmRlciB0byBpZGVudGlmeSB0aGUgc3BlY2lmaWMgZXZlbnQuIEJlY2F1c2Ugb2YgZGlmZmVyZW5jZXMgYW1vbmcgcXVlcnkgaW1wbGVtZW50YXRpb25zIGFuZCBkYXRhIGVuY29kaW5nIGZvciB0aGVtLCB0aGlzIGlzIGEgYmFzZSA2NCBlbmNvZGVkIGRhdGEgYmxvYi4gSXQgbWF5IGJlIHN1YnNlcXVlbnRseSBkZWNvZGVkIG9yIGludGVycHJldGVkIGJ5IGRvd25zdHJlYW0gYXVkaXQgYW5hbHlzaXMgcHJvY2Vzc2luZy5cclxuICAgKi9cclxuICBxdWVyeT86IGZoaXIuRmhpckJhc2U2NEJpbmFyeXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBBdWRpdEV2ZW50Lm9iamVjdC5xdWVyeVxyXG4gICAqL1xyXG4gIF9xdWVyeT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQWRkaXRpb25hbCBJbmZvcm1hdGlvbiBhYm91dCB0aGUgT2JqZWN0LlxyXG4gICAqL1xyXG4gIGRldGFpbD86IGZoaXIuQXVkaXRFdmVudE9iamVjdERldGFpbEFyZ3NbXXx1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgZXZlbnQgbWF5IGhhdmUgb3RoZXIgb2JqZWN0cyBpbnZvbHZlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdEV2ZW50T2JqZWN0IGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnQXVkaXRFdmVudE9iamVjdCc7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyBhIHNwZWNpZmljIGluc3RhbmNlIG9mIHRoZSBwYXJ0aWNpcGFudCBvYmplY3QuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGFsd2F5cyBiZSB2ZXJzaW9uIHNwZWNpZmljLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyPzogZmhpci5JZGVudGlmaWVyfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJZGVudGlmaWVzIGEgc3BlY2lmaWMgaW5zdGFuY2Ugb2YgdGhlIHBhcnRpY2lwYW50IG9iamVjdC4gVGhlIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHZlcnNpb24gc3BlY2lmaWMuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZmVyZW5jZT86IGZoaXIuUmVmZXJlbmNlfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUbyBkZXNjcmliZSB0aGUgb2JqZWN0IGJlaW5nIGFjdGVkIHVwb24uIEluIGFkZGl0aW9uIHRvIHF1ZXJpZXMgb24gdGhlIHN1YmplY3Qgb2YgdGhlIGFjdGlvbiBpbiBhbiBhdWRpdGFibGUgZXZlbnQsIGl0IGlzIGFsc28gaW1wb3J0YW50IHRvIGJlIGFibGUgdG8gcXVlcnkgb24gdGhlIG9iamVjdCB0eXBlIGZvciB0aGUgYWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlPzogZmhpci5Db2Rpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBzb21lIGRldGFpbGVkIGF1ZGl0IGFuYWx5c2lzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gaW5kaWNhdGUgYSBtb3JlIGdyYW51bGFyIHR5cGUgb2YgcGFydGljaXBhbnQsIGJhc2VkIG9uIHRoZSBhcHBsaWNhdGlvbiByb2xlIGl0IHNlcnZlcy5cclxuICAgKi9cclxuICBwdWJsaWMgcm9sZT86IGZoaXIuQ29kaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBJbnN0aXR1dGlvbmFsIHBvbGljaWVzIGZvciBwcml2YWN5IGFuZCBzZWN1cml0eSBtYXkgb3B0aW9uYWxseSBmYWxsIHVuZGVyIGRpZmZlcmVudCBhY2NvdW50YWJpbGl0eSBydWxlcyBiYXNlZCBvbiBkYXRhIGxpZmUgY3ljbGUuIFRoaXMgcHJvdmlkZXMgYSBkaWZmZXJlbnRpYXRpbmcgdmFsdWUgZm9yIHRob3NlIGNhc2VzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBsaWZlY3ljbGU/OiBmaGlyLkNvZGluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBmaWVsZCBpZGVudGlmaWVzIHRoZSBzZWN1cml0eSBsYWJlbHMgZm9yIGEgc3BlY2lmaWMgaW5zdGFuY2Ugb2YgYW4gb2JqZWN0LCBzdWNoIGFzIGEgcGF0aWVudCwgdG8gZGV0ZWN0L3RyYWNrIHByaXZhY3kgYW5kIHNlY3VyaXR5IGlzc3Vlcy5cclxuICAgKi9cclxuICBwdWJsaWMgc2VjdXJpdHlMYWJlbDogZmhpci5Db2RpbmdbXTtcclxuICAvKipcclxuICAgKiBBbiBpbnN0YW5jZS1zcGVjaWZpYyBkZXNjcmlwdG9yIG9mIHRoZSBQYXJ0aWNpcGFudCBPYmplY3QgSUQgYXVkaXRlZCwgc3VjaCBhcyBhIHBlcnNvbidzIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIG5hbWU/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgdGhhdCBkZXNjcmliZXMgdGhlIG9iamVjdCBpbiBtb3JlIGRldGFpbC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb24/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEZvciBxdWVyeSBldmVudHMgaXQgbWF5IGJlIG5lY2Vzc2FyeSB0byBjYXB0dXJlIHRoZSBhY3R1YWwgcXVlcnkgaW5wdXQgdG8gdGhlIHF1ZXJ5IHByb2Nlc3MgaW4gb3JkZXIgdG8gaWRlbnRpZnkgdGhlIHNwZWNpZmljIGV2ZW50LiBCZWNhdXNlIG9mIGRpZmZlcmVuY2VzIGFtb25nIHF1ZXJ5IGltcGxlbWVudGF0aW9ucyBhbmQgZGF0YSBlbmNvZGluZyBmb3IgdGhlbSwgdGhpcyBpcyBhIGJhc2UgNjQgZW5jb2RlZCBkYXRhIGJsb2IuIEl0IG1heSBiZSBzdWJzZXF1ZW50bHkgZGVjb2RlZCBvciBpbnRlcnByZXRlZCBieSBkb3duc3RyZWFtIGF1ZGl0IGFuYWx5c2lzIHByb2Nlc3NpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHF1ZXJ5PzogZmhpci5GaGlyQmFzZTY0QmluYXJ5fHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBZGRpdGlvbmFsIEluZm9ybWF0aW9uIGFib3V0IHRoZSBPYmplY3QuXHJcbiAgICovXHJcbiAgcHVibGljIGRldGFpbDogZmhpci5BdWRpdEV2ZW50T2JqZWN0RGV0YWlsW107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudE9iamVjdCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRPYmplY3RBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnaWRlbnRpZmllciddKSB7IHRoaXMuaWRlbnRpZmllciA9IG5ldyBmaGlyLklkZW50aWZpZXIoc291cmNlLmlkZW50aWZpZXIpOyB9XHJcbiAgICBpZiAoc291cmNlWydyZWZlcmVuY2UnXSkgeyB0aGlzLnJlZmVyZW5jZSA9IG5ldyBmaGlyLlJlZmVyZW5jZShzb3VyY2UucmVmZXJlbmNlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsndHlwZSddKSB7IHRoaXMudHlwZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UudHlwZSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3JvbGUnXSkgeyB0aGlzLnJvbGUgPSBuZXcgZmhpci5Db2Rpbmcoc291cmNlLnJvbGUpOyB9XHJcbiAgICBpZiAoc291cmNlWydsaWZlY3ljbGUnXSkgeyB0aGlzLmxpZmVjeWNsZSA9IG5ldyBmaGlyLkNvZGluZyhzb3VyY2UubGlmZWN5Y2xlKTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VjdXJpdHlMYWJlbCddKSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IHNvdXJjZS5zZWN1cml0eUxhYmVsLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kaW5nKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuc2VjdXJpdHlMYWJlbCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWyduYW1lJ10pIHsgdGhpcy5uYW1lID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5uYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19uYW1lJ10pIHtcclxuICAgICAgaWYgKHRoaXMubmFtZSkgeyB0aGlzLm5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fbmFtZSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLm5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fbmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnZGVzY3JpcHRpb24nXSkgeyB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5kZXNjcmlwdGlvbn0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ3F1ZXJ5J10pIHsgdGhpcy5xdWVyeSA9IG5ldyBmaGlyLkZoaXJCYXNlNjRCaW5hcnkoe3ZhbHVlOiBzb3VyY2UucXVlcnl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX3F1ZXJ5J10pIHtcclxuICAgICAgaWYgKHRoaXMucXVlcnkpIHsgdGhpcy5xdWVyeS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9xdWVyeSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnF1ZXJ5ID0gbmV3IGZoaXIuRmhpckJhc2U2NEJpbmFyeShzb3VyY2UuX3F1ZXJ5IGFzIFBhcnRpYWw8Zmhpci5GaGlyQmFzZTY0QmluYXJ5QXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydkZXRhaWwnXSkgeyB0aGlzLmRldGFpbCA9IHNvdXJjZS5kZXRhaWwubWFwKCh4KSA9PiBuZXcgZmhpci5BdWRpdEV2ZW50T2JqZWN0RGV0YWlsKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGV0YWlsID0gW107IH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcGVyZm9ybSBiYXNpYyBtb2RlbCB2YWxpZGF0aW9uIChlLmcuLCBjaGVjayBpZiByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudCkuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRvTW9kZWxWYWxpZGF0aW9uKGV4cDpzdHJpbmcgPSAnJyk6Zmhpci5GdHNJc3N1ZVtdIHtcclxuICAgIGxldCBpc3M6Zmhpci5GdHNJc3N1ZVtdID0gc3VwZXIuZG9Nb2RlbFZhbGlkYXRpb24oZXhwKTtcclxuICAgIGlmIChleHAgPT09ICcnKSB7IGV4cCA9ICdBdWRpdEV2ZW50Lm9iamVjdCcgfVxyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ2lkZW50aWZpZXInLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T1MoJ3JlZmVyZW5jZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygndHlwZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncm9sZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygnbGlmZWN5Y2xlJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9BKCdzZWN1cml0eUxhYmVsJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCduYW1lJyxleHApKTtcclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudk9TKCdkZXNjcmlwdGlvbicsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPUygncXVlcnknLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52T0EoJ2RldGFpbCcsZXhwKSk7XHJcbiAgICByZXR1cm4gaXNzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgQXVkaXRFdmVudCB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpdEV2ZW50QXJncyBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2VBcmdzIHtcclxuICAvKipcclxuICAgKiBSZXNvdXJjZSBUeXBlIE5hbWVcclxuICAgKi9cclxuICByZXNvdXJjZVR5cGU6IFwiQXVkaXRFdmVudFwifHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgZXZlbnQgbXVzdCBiZSBpZGVudGlmaWVkLlxyXG4gICAqL1xyXG4gIGV2ZW50OiBmaGlyLkF1ZGl0RXZlbnRFdmVudEFyZ3N8bnVsbDtcclxuICAvKipcclxuICAgKiBUaGUgZXZlbnQgaGFzIG9uZSBvciBtb3JlIGFjdGl2ZSBwYXJ0aWNpcGFudHMuXHJcbiAgICovXHJcbiAgcGFydGljaXBhbnQ6IGZoaXIuQXVkaXRFdmVudFBhcnRpY2lwYW50QXJnc1tdfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGV2ZW50IGlzIHJlcG9ydGVkIGJ5IG9uZSBzb3VyY2UuXHJcbiAgICovXHJcbiAgc291cmNlOiBmaGlyLkF1ZGl0RXZlbnRTb3VyY2VBcmdzfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGV2ZW50IG1heSBoYXZlIG90aGVyIG9iamVjdHMgaW52b2x2ZWQuXHJcbiAgICovXHJcbiAgb2JqZWN0PzogZmhpci5BdWRpdEV2ZW50T2JqZWN0QXJnc1tdfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgcmVjb3JkIG9mIGFuIGV2ZW50IG1hZGUgZm9yIHB1cnBvc2VzIG9mIG1haW50YWluaW5nIGEgc2VjdXJpdHkgbG9nLiBUeXBpY2FsIHVzZXMgaW5jbHVkZSBkZXRlY3Rpb24gb2YgaW50cnVzaW9uIGF0dGVtcHRzIGFuZCBtb25pdG9yaW5nIGZvciBpbmFwcHJvcHJpYXRlIHVzYWdlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGl0RXZlbnQgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlIHtcclxuICAvKipcclxuICAgKiBNYXBwaW5nIG9mIHRoaXMgZGF0YXR5cGUgdG8gYSBGSElSIGVxdWl2YWxlbnRcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9mdHNfZGF0YVR5cGU6c3RyaW5nID0gJ0F1ZGl0RXZlbnQnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiQXVkaXRFdmVudFwiO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBldmVudCBtdXN0IGJlIGlkZW50aWZpZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGV2ZW50OiBmaGlyLkF1ZGl0RXZlbnRFdmVudHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBldmVudCBoYXMgb25lIG9yIG1vcmUgYWN0aXZlIHBhcnRpY2lwYW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgcGFydGljaXBhbnQ6IGZoaXIuQXVkaXRFdmVudFBhcnRpY2lwYW50W107XHJcbiAgLyoqXHJcbiAgICogVGhlIGV2ZW50IGlzIHJlcG9ydGVkIGJ5IG9uZSBzb3VyY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHNvdXJjZTogZmhpci5BdWRpdEV2ZW50U291cmNlfG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGV2ZW50IG1heSBoYXZlIG90aGVyIG9iamVjdHMgaW52b2x2ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIG9iamVjdDogZmhpci5BdWRpdEV2ZW50T2JqZWN0W107XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgQXVkaXRFdmVudCAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEF1ZGl0RXZlbnRBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5yZXNvdXJjZVR5cGUgPSAnQXVkaXRFdmVudCc7XHJcbiAgICBpZiAoc291cmNlWydldmVudCddKSB7IHRoaXMuZXZlbnQgPSBuZXcgZmhpci5BdWRpdEV2ZW50RXZlbnQoc291cmNlLmV2ZW50KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZXZlbnQgPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydwYXJ0aWNpcGFudCddKSB7IHRoaXMucGFydGljaXBhbnQgPSBzb3VyY2UucGFydGljaXBhbnQubWFwKCh4KSA9PiBuZXcgZmhpci5BdWRpdEV2ZW50UGFydGljaXBhbnQoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5wYXJ0aWNpcGFudCA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydzb3VyY2UnXSkgeyB0aGlzLnNvdXJjZSA9IG5ldyBmaGlyLkF1ZGl0RXZlbnRTb3VyY2Uoc291cmNlLnNvdXJjZSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNvdXJjZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ29iamVjdCddKSB7IHRoaXMub2JqZWN0ID0gc291cmNlLm9iamVjdC5tYXAoKHgpID0+IG5ldyBmaGlyLkF1ZGl0RXZlbnRPYmplY3QoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5vYmplY3QgPSBbXTsgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0F1ZGl0RXZlbnQnIH1cclxuICAgIGlzcy5wdXNoKC4uLnRoaXMudlJTKCdldmVudCcsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZSQSgncGFydGljaXBhbnQnLGV4cCkpO1xyXG4gICAgaXNzLnB1c2goLi4udGhpcy52UlMoJ3NvdXJjZScsZXhwKSk7XHJcbiAgICBpc3MucHVzaCguLi50aGlzLnZPQSgnb2JqZWN0JyxleHApKTtcclxuICAgIHJldHVybiBpc3M7XHJcbiAgfVxyXG59XHJcbiJdfQ==