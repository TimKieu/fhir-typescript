// <auto-generated/>
// Contents of: hl7.fhir.r2.core version: 1.0.2
// Minimum TypeScript Version: 3.7
// FHIR Resource: HealthcareService
import * as fhir from '../fhir.js';
// @ts-ignore
import { DaysOfWeekVsValidation } from '../fhirValueSets/DaysOfWeekVsValidation.js';
/**
 * A specific type of service that may be delivered or performed.
 */
export class HealthcareServiceServiceType extends fhir.BackboneElement {
    /**
     * Default constructor for HealthcareServiceServiceType - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['type']) {
            this.type = new fhir.CodeableConcept(source.type);
        }
        else {
            this.type = null;
        }
        if (source['specialty']) {
            this.specialty = source.specialty.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.specialty = [];
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'HealthcareService.serviceType';
        }
        this.vRS('type', exp);
        this.vOA('specialty', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
HealthcareServiceServiceType._fts_dataType = 'HealthcareServiceServiceType';
/**
 * A collection of times that the Service Site is available.
 */
export class HealthcareServiceAvailableTime extends fhir.BackboneElement {
    /**
     * Default constructor for HealthcareServiceAvailableTime - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['daysOfWeek']) {
            this.daysOfWeek = source.daysOfWeek.map((x) => new fhir.FhirCode({ value: x }));
        }
        else {
            this.daysOfWeek = [];
        }
        if (source['_daysOfWeek']) {
            source._daysOfWeek.forEach((x, i) => {
                if (this.daysOfWeek.length >= i) {
                    if (x) {
                        this.daysOfWeek[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.daysOfWeek.push(new fhir.FhirCode(x));
                    }
                }
            });
        }
        if (source['allDay']) {
            this.allDay = new fhir.FhirBoolean({ value: source.allDay });
        }
        if (source['_allDay']) {
            if (this.allDay) {
                this.allDay.addExtendedProperties(source._allDay);
            }
            else {
                this.allDay = new fhir.FhirBoolean(source._allDay);
            }
        }
        if (source['availableStartTime']) {
            this.availableStartTime = new fhir.FhirTime({ value: source.availableStartTime });
        }
        if (source['_availableStartTime']) {
            if (this.availableStartTime) {
                this.availableStartTime.addExtendedProperties(source._availableStartTime);
            }
            else {
                this.availableStartTime = new fhir.FhirTime(source._availableStartTime);
            }
        }
        if (source['availableEndTime']) {
            this.availableEndTime = new fhir.FhirTime({ value: source.availableEndTime });
        }
        if (source['_availableEndTime']) {
            if (this.availableEndTime) {
                this.availableEndTime.addExtendedProperties(source._availableEndTime);
            }
            else {
                this.availableEndTime = new fhir.FhirTime(source._availableEndTime);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'HealthcareService.availableTime';
        }
        this.vOAV('daysOfWeek', exp, 'DaysOfWeek', DaysOfWeekVsValidation, 'r');
        this.vOS('allDay', exp);
        this.vOS('availableStartTime', exp);
        this.vOS('availableEndTime', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
HealthcareServiceAvailableTime._fts_dataType = 'HealthcareServiceAvailableTime';
/**
 * The HealthcareService is not available during this period of time due to the provided reason.
 */
export class HealthcareServiceNotAvailable extends fhir.BackboneElement {
    /**
     * Default constructor for HealthcareServiceNotAvailable - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        if (source['description']) {
            this.description = new fhir.FhirString({ value: source.description });
        }
        else {
            this.description = null;
        }
        if (source['_description']) {
            if (this.description) {
                this.description.addExtendedProperties(source._description);
            }
            else {
                this.description = new fhir.FhirString(source._description);
            }
        }
        if (source['during']) {
            this.during = new fhir.Period(source.during);
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'HealthcareService.notAvailable';
        }
        this.vRS('description', exp);
        this.vOS('during', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
HealthcareServiceNotAvailable._fts_dataType = 'HealthcareServiceNotAvailable';
/**
 * The details of a healthcare service available at a location.
 */
export class HealthcareService extends fhir.DomainResource {
    /**
     * Default constructor for HealthcareService - initializes any required elements to null if a value is not provided.
     */
    constructor(source = {}, options = {}) {
        super(source, options);
        this.resourceType = 'HealthcareService';
        if (source['identifier']) {
            this.identifier = source.identifier.map((x) => new fhir.Identifier(x));
        }
        else {
            this.identifier = [];
        }
        if (source['providedBy']) {
            this.providedBy = new fhir.Reference(source.providedBy);
        }
        if (source['serviceCategory']) {
            this.serviceCategory = new fhir.CodeableConcept(source.serviceCategory);
        }
        if (source['serviceType']) {
            this.serviceType = source.serviceType.map((x) => new fhir.HealthcareServiceServiceType(x));
        }
        else {
            this.serviceType = [];
        }
        if (source['location']) {
            this.location = new fhir.Reference(source.location);
        }
        else {
            this.location = null;
        }
        if (source['serviceName']) {
            this.serviceName = new fhir.FhirString({ value: source.serviceName });
        }
        if (source['_serviceName']) {
            if (this.serviceName) {
                this.serviceName.addExtendedProperties(source._serviceName);
            }
            else {
                this.serviceName = new fhir.FhirString(source._serviceName);
            }
        }
        if (source['comment']) {
            this.comment = new fhir.FhirString({ value: source.comment });
        }
        if (source['_comment']) {
            if (this.comment) {
                this.comment.addExtendedProperties(source._comment);
            }
            else {
                this.comment = new fhir.FhirString(source._comment);
            }
        }
        if (source['extraDetails']) {
            this.extraDetails = new fhir.FhirString({ value: source.extraDetails });
        }
        if (source['_extraDetails']) {
            if (this.extraDetails) {
                this.extraDetails.addExtendedProperties(source._extraDetails);
            }
            else {
                this.extraDetails = new fhir.FhirString(source._extraDetails);
            }
        }
        if (source['photo']) {
            this.photo = new fhir.Attachment(source.photo);
        }
        if (source['telecom']) {
            this.telecom = source.telecom.map((x) => new fhir.ContactPoint(x));
        }
        else {
            this.telecom = [];
        }
        if (source['coverageArea']) {
            this.coverageArea = source.coverageArea.map((x) => new fhir.Reference(x));
        }
        else {
            this.coverageArea = [];
        }
        if (source['serviceProvisionCode']) {
            this.serviceProvisionCode = source.serviceProvisionCode.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.serviceProvisionCode = [];
        }
        if (source['eligibility']) {
            this.eligibility = new fhir.CodeableConcept(source.eligibility);
        }
        if (source['eligibilityNote']) {
            this.eligibilityNote = new fhir.FhirString({ value: source.eligibilityNote });
        }
        if (source['_eligibilityNote']) {
            if (this.eligibilityNote) {
                this.eligibilityNote.addExtendedProperties(source._eligibilityNote);
            }
            else {
                this.eligibilityNote = new fhir.FhirString(source._eligibilityNote);
            }
        }
        if (source['programName']) {
            this.programName = source.programName.map((x) => new fhir.FhirString({ value: x }));
        }
        else {
            this.programName = [];
        }
        if (source['_programName']) {
            source._programName.forEach((x, i) => {
                if (this.programName.length >= i) {
                    if (x) {
                        this.programName[i].addExtendedProperties(x);
                    }
                }
                else {
                    if (x) {
                        this.programName.push(new fhir.FhirString(x));
                    }
                }
            });
        }
        if (source['characteristic']) {
            this.characteristic = source.characteristic.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.characteristic = [];
        }
        if (source['referralMethod']) {
            this.referralMethod = source.referralMethod.map((x) => new fhir.CodeableConcept(x));
        }
        else {
            this.referralMethod = [];
        }
        if (source['publicKey']) {
            this.publicKey = new fhir.FhirString({ value: source.publicKey });
        }
        if (source['_publicKey']) {
            if (this.publicKey) {
                this.publicKey.addExtendedProperties(source._publicKey);
            }
            else {
                this.publicKey = new fhir.FhirString(source._publicKey);
            }
        }
        if (source['appointmentRequired']) {
            this.appointmentRequired = new fhir.FhirBoolean({ value: source.appointmentRequired });
        }
        if (source['_appointmentRequired']) {
            if (this.appointmentRequired) {
                this.appointmentRequired.addExtendedProperties(source._appointmentRequired);
            }
            else {
                this.appointmentRequired = new fhir.FhirBoolean(source._appointmentRequired);
            }
        }
        if (source['availableTime']) {
            this.availableTime = source.availableTime.map((x) => new fhir.HealthcareServiceAvailableTime(x));
        }
        else {
            this.availableTime = [];
        }
        if (source['notAvailable']) {
            this.notAvailable = source.notAvailable.map((x) => new fhir.HealthcareServiceNotAvailable(x));
        }
        else {
            this.notAvailable = [];
        }
        if (source['availabilityExceptions']) {
            this.availabilityExceptions = new fhir.FhirString({ value: source.availabilityExceptions });
        }
        if (source['_availabilityExceptions']) {
            if (this.availabilityExceptions) {
                this.availabilityExceptions.addExtendedProperties(source._availabilityExceptions);
            }
            else {
                this.availabilityExceptions = new fhir.FhirString(source._availabilityExceptions);
            }
        }
    }
    /**
     * Function to perform basic model validation (e.g., check if required elements are present).
     */
    doModelValidation(exp = '') {
        let issues = super.doModelValidation(exp);
        if (exp === '') {
            exp = 'HealthcareService';
        }
        this.vRS('resourceType', exp);
        this.vOA('identifier', exp);
        this.vOS('providedBy', exp);
        this.vOS('serviceCategory', exp);
        this.vOA('serviceType', exp);
        this.vRS('location', exp);
        this.vOS('serviceName', exp);
        this.vOS('comment', exp);
        this.vOS('extraDetails', exp);
        this.vOS('photo', exp);
        this.vOA('telecom', exp);
        this.vOA('coverageArea', exp);
        this.vOA('serviceProvisionCode', exp);
        this.vOS('eligibility', exp);
        this.vOS('eligibilityNote', exp);
        this.vOA('programName', exp);
        this.vOA('characteristic', exp);
        this.vOA('referralMethod', exp);
        this.vOS('publicKey', exp);
        this.vOS('appointmentRequired', exp);
        this.vOA('availableTime', exp);
        this.vOA('notAvailable', exp);
        this.vOS('availabilityExceptions', exp);
        return issues;
    }
}
/**
 * Mapping of this datatype to a FHIR equivalent
 */
HealthcareService._fts_dataType = 'HealthcareService';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGVhbHRoY2FyZVNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJmaGlyL0hlYWx0aGNhcmVTZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQiwrQ0FBK0M7QUFDL0Msa0NBQWtDO0FBQ2xDLG1DQUFtQztBQUVuQyxPQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUluQyxhQUFhO0FBQ2IsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFlcEY7O0dBRUc7QUFDSCxNQUFNLE9BQU8sNEJBQTZCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFhcEU7O09BRUc7SUFDSCxZQUFZLFNBQW1ELEVBQUUsRUFBRSxVQUFzQyxFQUFFO1FBQ3pHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRTthQUNyRTtZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQUU7UUFDMUIsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFO2FBQ2xHO1lBQUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FBRTtJQUMvQixDQUFDO0lBQ0Q7O09BRUc7SUFDYSxpQkFBaUIsQ0FBQyxNQUFhLEVBQUU7UUFDL0MsSUFBSSxNQUFNLEdBQW1CLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMx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LEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDbkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDN0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQyxHQUFHLENBQUMsQ0FBQTtRQUN0QyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOztBQXhNRDs7R0FFRztBQUM2QiwrQkFBYSxHQUFVLG1CQUFtQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPGF1dG8tZ2VuZXJhdGVkLz5cclxuLy8gQ29udGVudHMgb2Y6IGhsNy5maGlyLnIyLmNvcmUgdmVyc2lvbjogMS4wLjJcclxuLy8gTWluaW11bSBUeXBlU2NyaXB0IFZlcnNpb246IDMuN1xyXG4vLyBGSElSIFJlc291cmNlOiBIZWFsdGhjYXJlU2VydmljZVxyXG5cclxuaW1wb3J0ICogYXMgZmhpciBmcm9tICcuLi9maGlyLmpzJztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0IHsgRGF5c09mV2Vla0NvZGVzLCAgRGF5c09mV2Vla0NvZGVUeXBlIH0gZnJvbSAnLi4vZmhpclZhbHVlU2V0cy9EYXlzT2ZXZWVrQ29kZXMuanMnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCB7IERheXNPZldlZWtWc1ZhbGlkYXRpb24gfSBmcm9tICcuLi9maGlyVmFsdWVTZXRzL0RheXNPZldlZWtWc1ZhbGlkYXRpb24uanMnO1xyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSGVhbHRoY2FyZVNlcnZpY2VTZXJ2aWNlVHlwZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBIZWFsdGhjYXJlU2VydmljZVNlcnZpY2VUeXBlQXJncyBleHRlbmRzIGZoaXIuQmFja2JvbmVFbGVtZW50QXJncyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIHR5cGUgb2Ygc2VydmljZSBiZWluZyBkZWxpdmVyZWQgb3IgcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIHR5cGU6IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIENvbGxlY3Rpb24gb2Ygc3BlY2lhbHRpZXMgaGFuZGxlZCBieSB0aGUgc2VydmljZSBzaXRlLiBUaGlzIGlzIG1vcmUgb2YgYSBtZWRpY2FsIHRlcm0uXHJcbiAgICovXHJcbiAgc3BlY2lhbHR5PzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzcGVjaWZpYyB0eXBlIG9mIHNlcnZpY2UgdGhhdCBtYXkgYmUgZGVsaXZlcmVkIG9yIHBlcmZvcm1lZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIZWFsdGhjYXJlU2VydmljZVNlcnZpY2VUeXBlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSGVhbHRoY2FyZVNlcnZpY2VTZXJ2aWNlVHlwZSc7XHJcbiAgLyoqXHJcbiAgICogVGhlIHNwZWNpZmljIHR5cGUgb2Ygc2VydmljZSBiZWluZyBkZWxpdmVyZWQgb3IgcGVyZm9ybWVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0eXBlOiBmaGlyLkNvZGVhYmxlQ29uY2VwdHxudWxsO1xyXG4gIC8qKlxyXG4gICAqIENvbGxlY3Rpb24gb2Ygc3BlY2lhbHRpZXMgaGFuZGxlZCBieSB0aGUgc2VydmljZSBzaXRlLiBUaGlzIGlzIG1vcmUgb2YgYSBtZWRpY2FsIHRlcm0uXHJcbiAgICovXHJcbiAgcHVibGljIHNwZWNpYWx0eTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBIZWFsdGhjYXJlU2VydmljZVNlcnZpY2VUeXBlIC0gaW5pdGlhbGl6ZXMgYW55IHJlcXVpcmVkIGVsZW1lbnRzIHRvIG51bGwgaWYgYSB2YWx1ZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlOlBhcnRpYWw8SGVhbHRoY2FyZVNlcnZpY2VTZXJ2aWNlVHlwZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoc291cmNlWyd0eXBlJ10pIHsgdGhpcy50eXBlID0gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHNvdXJjZS50eXBlKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMudHlwZSA9IG51bGw7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NwZWNpYWx0eSddKSB7IHRoaXMuc3BlY2lhbHR5ID0gc291cmNlLnNwZWNpYWx0eS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNwZWNpYWx0eSA9IFtdOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnSGVhbHRoY2FyZVNlcnZpY2Uuc2VydmljZVR5cGUnIH1cclxuICAgIHRoaXMudlJTKCd0eXBlJyxleHApXHJcbiAgICB0aGlzLnZPQSgnc3BlY2lhbHR5JyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSGVhbHRoY2FyZVNlcnZpY2VBdmFpbGFibGVUaW1lIHR5cGUuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aGNhcmVTZXJ2aWNlQXZhaWxhYmxlVGltZUFyZ3MgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudEFyZ3Mge1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGljaCBkYXlzIG9mIHRoZSB3ZWVrIGFyZSBhdmFpbGFibGUgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZCBUaW1lcy5cclxuICAgKi9cclxuICBkYXlzT2ZXZWVrPzogZmhpci5GaGlyQ29kZTxEYXlzT2ZXZWVrQ29kZVR5cGU+W118KHN0cmluZ3xudWxsKVtdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSGVhbHRoY2FyZVNlcnZpY2UuYXZhaWxhYmxlVGltZS5kYXlzT2ZXZWVrXHJcbiAgICovXHJcbiAgX2RheXNPZldlZWs/OihmaGlyLkZoaXJFbGVtZW50QXJnc3xudWxsKVtdO1xyXG4gIC8qKlxyXG4gICAqIElzIHRoaXMgYWx3YXlzIGF2YWlsYWJsZT8gKGhlbmNlIHRpbWVzIGFyZSBpcnJlbGV2YW50KSBlLmcuIDI0IGhvdXIgc2VydmljZS5cclxuICAgKi9cclxuICBhbGxEYXk/OiBmaGlyLkZoaXJCb29sZWFufGJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5hdmFpbGFibGVUaW1lLmFsbERheVxyXG4gICAqL1xyXG4gIF9hbGxEYXk/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBvcGVuaW5nIHRpbWUgb2YgZGF5LiBOb3RlOiBJZiB0aGUgQWxsRGF5IGZsYWcgaXMgc2V0LCB0aGVuIHRoaXMgdGltZSBpcyBpZ25vcmVkLlxyXG4gICAqL1xyXG4gIGF2YWlsYWJsZVN0YXJ0VGltZT86IGZoaXIuRmhpclRpbWV8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSGVhbHRoY2FyZVNlcnZpY2UuYXZhaWxhYmxlVGltZS5hdmFpbGFibGVTdGFydFRpbWVcclxuICAgKi9cclxuICBfYXZhaWxhYmxlU3RhcnRUaW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBUaGUgY2xvc2luZyB0aW1lIG9mIGRheS4gTm90ZTogSWYgdGhlIEFsbERheSBmbGFnIGlzIHNldCwgdGhlbiB0aGlzIHRpbWUgaXMgaWdub3JlZC5cclxuICAgKi9cclxuICBhdmFpbGFibGVFbmRUaW1lPzogZmhpci5GaGlyVGltZXxzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5hdmFpbGFibGVUaW1lLmF2YWlsYWJsZUVuZFRpbWVcclxuICAgKi9cclxuICBfYXZhaWxhYmxlRW5kVGltZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGNvbGxlY3Rpb24gb2YgdGltZXMgdGhhdCB0aGUgU2VydmljZSBTaXRlIGlzIGF2YWlsYWJsZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIZWFsdGhjYXJlU2VydmljZUF2YWlsYWJsZVRpbWUgZXh0ZW5kcyBmaGlyLkJhY2tib25lRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogTWFwcGluZyBvZiB0aGlzIGRhdGF0eXBlIHRvIGEgRkhJUiBlcXVpdmFsZW50XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBfZnRzX2RhdGFUeXBlOnN0cmluZyA9ICdIZWFsdGhjYXJlU2VydmljZUF2YWlsYWJsZVRpbWUnO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGljaCBkYXlzIG9mIHRoZSB3ZWVrIGFyZSBhdmFpbGFibGUgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZCBUaW1lcy5cclxuICAgKi9cclxuICBwdWJsaWMgZGF5c09mV2VlazogZmhpci5GaGlyQ29kZTxEYXlzT2ZXZWVrQ29kZVR5cGU+W107XHJcbiAgLyoqXHJcbiAgICogSXMgdGhpcyBhbHdheXMgYXZhaWxhYmxlPyAoaGVuY2UgdGltZXMgYXJlIGlycmVsZXZhbnQpIGUuZy4gMjQgaG91ciBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhbGxEYXk/OiBmaGlyLkZoaXJCb29sZWFufHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgb3BlbmluZyB0aW1lIG9mIGRheS4gTm90ZTogSWYgdGhlIEFsbERheSBmbGFnIGlzIHNldCwgdGhlbiB0aGlzIHRpbWUgaXMgaWdub3JlZC5cclxuICAgKi9cclxuICBwdWJsaWMgYXZhaWxhYmxlU3RhcnRUaW1lPzogZmhpci5GaGlyVGltZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNsb3NpbmcgdGltZSBvZiBkYXkuIE5vdGU6IElmIHRoZSBBbGxEYXkgZmxhZyBpcyBzZXQsIHRoZW4gdGhpcyB0aW1lIGlzIGlnbm9yZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGF2YWlsYWJsZUVuZFRpbWU/OiBmaGlyLkZoaXJUaW1lfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBIZWFsdGhjYXJlU2VydmljZUF2YWlsYWJsZVRpbWUgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxIZWFsdGhjYXJlU2VydmljZUF2YWlsYWJsZVRpbWVBcmdzPiA9IHt9LCBvcHRpb25zOmZoaXIuRmhpckNvbnN0cnVjdG9yT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xyXG4gICAgaWYgKHNvdXJjZVsnZGF5c09mV2VlayddKSB7IHRoaXMuZGF5c09mV2VlayA9IHNvdXJjZS5kYXlzT2ZXZWVrLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpckNvZGU8RGF5c09mV2Vla0NvZGVUeXBlPih7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLmRheXNPZldlZWsgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2RheXNPZldlZWsnXSkge1xyXG4gICAgICBzb3VyY2UuX2RheXNPZldlZWsuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF5c09mV2Vlay5sZW5ndGggPj0gaSkgeyBpZiAoeCkgeyB0aGlzLmRheXNPZldlZWtbaV0uYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHgpOyB9IH1cclxuICAgICAgICBlbHNlIHsgaWYgKHgpIHsgdGhpcy5kYXlzT2ZXZWVrLnB1c2gobmV3IGZoaXIuRmhpckNvZGU8RGF5c09mV2Vla0NvZGVUeXBlPih4IGFzIFBhcnRpYWw8Zmhpci5GaGlyQ29kZT4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnYWxsRGF5J10pIHsgdGhpcy5hbGxEYXkgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5hbGxEYXl9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2FsbERheSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmFsbERheSkgeyB0aGlzLmFsbERheS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hbGxEYXkhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hbGxEYXkgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2FsbERheSBhcyBQYXJ0aWFsPGZoaXIuRmhpckJvb2xlYW5BcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2F2YWlsYWJsZVN0YXJ0VGltZSddKSB7IHRoaXMuYXZhaWxhYmxlU3RhcnRUaW1lID0gbmV3IGZoaXIuRmhpclRpbWUoe3ZhbHVlOiBzb3VyY2UuYXZhaWxhYmxlU3RhcnRUaW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hdmFpbGFibGVTdGFydFRpbWUnXSkge1xyXG4gICAgICBpZiAodGhpcy5hdmFpbGFibGVTdGFydFRpbWUpIHsgdGhpcy5hdmFpbGFibGVTdGFydFRpbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXZhaWxhYmxlU3RhcnRUaW1lISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYXZhaWxhYmxlU3RhcnRUaW1lID0gbmV3IGZoaXIuRmhpclRpbWUoc291cmNlLl9hdmFpbGFibGVTdGFydFRpbWUgYXMgUGFydGlhbDxmaGlyLkZoaXJUaW1lQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdmFpbGFibGVFbmRUaW1lJ10pIHsgdGhpcy5hdmFpbGFibGVFbmRUaW1lID0gbmV3IGZoaXIuRmhpclRpbWUoe3ZhbHVlOiBzb3VyY2UuYXZhaWxhYmxlRW5kVGltZX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfYXZhaWxhYmxlRW5kVGltZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLmF2YWlsYWJsZUVuZFRpbWUpIHsgdGhpcy5hdmFpbGFibGVFbmRUaW1lLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2F2YWlsYWJsZUVuZFRpbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5hdmFpbGFibGVFbmRUaW1lID0gbmV3IGZoaXIuRmhpclRpbWUoc291cmNlLl9hdmFpbGFibGVFbmRUaW1lIGFzIFBhcnRpYWw8Zmhpci5GaGlyVGltZUFyZ3M+KTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBwZXJmb3JtIGJhc2ljIG1vZGVsIHZhbGlkYXRpb24gKGUuZy4sIGNoZWNrIGlmIHJlcXVpcmVkIGVsZW1lbnRzIGFyZSBwcmVzZW50KS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgZG9Nb2RlbFZhbGlkYXRpb24oZXhwOnN0cmluZyA9ICcnKTpmaGlyLkZ0c0lzc3VlW10ge1xyXG4gICAgbGV0IGlzc3VlczpmaGlyLkZ0c0lzc3VlW10gPSBzdXBlci5kb01vZGVsVmFsaWRhdGlvbihleHApO1xyXG4gICAgaWYgKGV4cCA9PT0gJycpIHsgZXhwID0gJ0hlYWx0aGNhcmVTZXJ2aWNlLmF2YWlsYWJsZVRpbWUnIH1cclxuICAgIHRoaXMudk9BVignZGF5c09mV2VlaycsZXhwLCdEYXlzT2ZXZWVrJyxEYXlzT2ZXZWVrVnNWYWxpZGF0aW9uLCdyJylcclxuICAgIHRoaXMudk9TKCdhbGxEYXknLGV4cClcclxuICAgIHRoaXMudk9TKCdhdmFpbGFibGVTdGFydFRpbWUnLGV4cClcclxuICAgIHRoaXMudk9TKCdhdmFpbGFibGVFbmRUaW1lJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4vKipcclxuICogVmFsaWQgYXJndW1lbnRzIGZvciB0aGUgSGVhbHRoY2FyZVNlcnZpY2VOb3RBdmFpbGFibGUgdHlwZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoY2FyZVNlcnZpY2VOb3RBdmFpbGFibGVBcmdzIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnRBcmdzIHtcclxuICAvKipcclxuICAgKiBUaGUgcmVhc29uIHRoYXQgY2FuIGJlIHByZXNlbnRlZCB0byB0aGUgdXNlciBhcyB0byB3aHkgdGhpcyB0aW1lIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgZGVzY3JpcHRpb246IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5ub3RBdmFpbGFibGUuZGVzY3JpcHRpb25cclxuICAgKi9cclxuICBfZGVzY3JpcHRpb24/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIFNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZSAoc2Vhc29uYWxseSBvciBmb3IgYSBwdWJsaWMgaG9saWRheSkgZnJvbSB0aGlzIGRhdGUuXHJcbiAgICovXHJcbiAgZHVyaW5nPzogZmhpci5QZXJpb2RBcmdzfHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBIZWFsdGhjYXJlU2VydmljZSBpcyBub3QgYXZhaWxhYmxlIGR1cmluZyB0aGlzIHBlcmlvZCBvZiB0aW1lIGR1ZSB0byB0aGUgcHJvdmlkZWQgcmVhc29uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEhlYWx0aGNhcmVTZXJ2aWNlTm90QXZhaWxhYmxlIGV4dGVuZHMgZmhpci5CYWNrYm9uZUVsZW1lbnQge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSGVhbHRoY2FyZVNlcnZpY2VOb3RBdmFpbGFibGUnO1xyXG4gIC8qKlxyXG4gICAqIFRoZSByZWFzb24gdGhhdCBjYW4gYmUgcHJlc2VudGVkIHRvIHRoZSB1c2VyIGFzIHRvIHdoeSB0aGlzIHRpbWUgaXMgbm90IGF2YWlsYWJsZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVzY3JpcHRpb246IGZoaXIuRmhpclN0cmluZ3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZSAoc2Vhc29uYWxseSBvciBmb3IgYSBwdWJsaWMgaG9saWRheSkgZnJvbSB0aGlzIGRhdGUuXHJcbiAgICovXHJcbiAgcHVibGljIGR1cmluZz86IGZoaXIuUGVyaW9kfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBIZWFsdGhjYXJlU2VydmljZU5vdEF2YWlsYWJsZSAtIGluaXRpYWxpemVzIGFueSByZXF1aXJlZCBlbGVtZW50cyB0byBudWxsIGlmIGEgdmFsdWUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNvdXJjZTpQYXJ0aWFsPEhlYWx0aGNhcmVTZXJ2aWNlTm90QXZhaWxhYmxlQXJncz4gPSB7fSwgb3B0aW9uczpmaGlyLkZoaXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSB7fSkge1xyXG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcclxuICAgIGlmIChzb3VyY2VbJ2Rlc2NyaXB0aW9uJ10pIHsgdGhpcy5kZXNjcmlwdGlvbiA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZGVzY3JpcHRpb259KTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydfZGVzY3JpcHRpb24nXSkge1xyXG4gICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgeyB0aGlzLmRlc2NyaXB0aW9uLmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2Rlc2NyaXB0aW9uISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZGVzY3JpcHRpb24gPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZGVzY3JpcHRpb24gYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2R1cmluZyddKSB7IHRoaXMuZHVyaW5nID0gbmV3IGZoaXIuUGVyaW9kKHNvdXJjZS5kdXJpbmcpOyB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnSGVhbHRoY2FyZVNlcnZpY2Uubm90QXZhaWxhYmxlJyB9XHJcbiAgICB0aGlzLnZSUygnZGVzY3JpcHRpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCdkdXJpbmcnLGV4cClcclxuICAgIHJldHVybiBpc3N1ZXM7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBWYWxpZCBhcmd1bWVudHMgZm9yIHRoZSBIZWFsdGhjYXJlU2VydmljZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBIZWFsdGhjYXJlU2VydmljZUFyZ3MgZXh0ZW5kcyBmaGlyLkRvbWFpblJlc291cmNlQXJncyB7XHJcbiAgLyoqXHJcbiAgICogUmVzb3VyY2UgVHlwZSBOYW1lXHJcbiAgICovXHJcbiAgcmVzb3VyY2VUeXBlOiBcIkhlYWx0aGNhcmVTZXJ2aWNlXCJ8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVybmFsIGlkZW50aWZpZXJzIGZvciB0aGlzIGl0ZW0uXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcj86IGZoaXIuSWRlbnRpZmllckFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9yZ2FuaXphdGlvbiB0aGF0IHByb3ZpZGVzIHRoaXMgaGVhbHRoY2FyZSBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHByb3ZpZGVkQnk/OiBmaGlyLlJlZmVyZW5jZUFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpZXMgdGhlIGJyb2FkIGNhdGVnb3J5IG9mIHNlcnZpY2UgYmVpbmcgcGVyZm9ybWVkIG9yIGRlbGl2ZXJlZC5cclxuICAgKi9cclxuICBzZXJ2aWNlQ2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3N8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgc3BlY2lmaWMgdHlwZSBvZiBzZXJ2aWNlIHRoYXQgbWF5IGJlIGRlbGl2ZXJlZCBvciBwZXJmb3JtZWQuXHJcbiAgICovXHJcbiAgc2VydmljZVR5cGU/OiBmaGlyLkhlYWx0aGNhcmVTZXJ2aWNlU2VydmljZVR5cGVBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb2NhdGlvbiB3aGVyZSB0aGlzIGhlYWx0aGNhcmUgc2VydmljZSBtYXkgYmUgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgbG9jYXRpb246IGZoaXIuUmVmZXJlbmNlQXJnc3xudWxsO1xyXG4gIC8qKlxyXG4gICAqIEZ1cnRoZXIgZGVzY3JpcHRpb24gb2YgdGhlIHNlcnZpY2UgYXMgaXQgd291bGQgYmUgcHJlc2VudGVkIHRvIGEgY29uc3VtZXIgd2hpbGUgc2VhcmNoaW5nLlxyXG4gICAqL1xyXG4gIHNlcnZpY2VOYW1lPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEhlYWx0aGNhcmVTZXJ2aWNlLnNlcnZpY2VOYW1lXHJcbiAgICovXHJcbiAgX3NlcnZpY2VOYW1lPzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBBbnkgYWRkaXRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgc2VydmljZSBhbmQvb3IgYW55IHNwZWNpZmljIGlzc3VlcyBub3QgY292ZXJlZCBieSB0aGUgb3RoZXIgYXR0cmlidXRlcywgd2hpY2ggY2FuIGJlIGRpc3BsYXllZCBhcyBmdXJ0aGVyIGRldGFpbCB1bmRlciB0aGUgc2VydmljZU5hbWUuXHJcbiAgICovXHJcbiAgY29tbWVudD86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5jb21tZW50XHJcbiAgICovXHJcbiAgX2NvbW1lbnQ/OmZoaXIuRmhpckVsZW1lbnRBcmdzO1xyXG4gIC8qKlxyXG4gICAqIEV4dHJhIGRldGFpbHMgYWJvdXQgdGhlIHNlcnZpY2UgdGhhdCBjYW4ndCBiZSBwbGFjZWQgaW4gdGhlIG90aGVyIGZpZWxkcy5cclxuICAgKi9cclxuICBleHRyYURldGFpbHM/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSGVhbHRoY2FyZVNlcnZpY2UuZXh0cmFEZXRhaWxzXHJcbiAgICovXHJcbiAgX2V4dHJhRGV0YWlscz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgaXMgYSBwaG90by9zeW1ib2wgYXNzb2NpYXRlZCB3aXRoIHRoaXMgSGVhbHRoY2FyZVNlcnZpY2UsIGl0IG1heSBiZSBpbmNsdWRlZCBoZXJlIHRvIGZhY2lsaXRhdGUgcXVpY2sgaWRlbnRpZmljYXRpb24gb2YgdGhlIHNlcnZpY2UgaW4gYSBsaXN0LlxyXG4gICAqL1xyXG4gIHBob3RvPzogZmhpci5BdHRhY2htZW50QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTGlzdCBvZiBjb250YWN0cyByZWxhdGVkIHRvIHRoaXMgc3BlY2lmaWMgaGVhbHRoY2FyZSBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHRlbGVjb20/OiBmaGlyLkNvbnRhY3RQb2ludEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxvY2F0aW9uKHMpIHRoYXQgdGhpcyBzZXJ2aWNlIGlzIGF2YWlsYWJsZSB0byAobm90IHdoZXJlIHRoZSBzZXJ2aWNlIGlzIHByb3ZpZGVkKS5cclxuICAgKi9cclxuICBjb3ZlcmFnZUFyZWE/OiBmaGlyLlJlZmVyZW5jZUFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIGNvZGUocykgdGhhdCBkZXRhaWwgdGhlIGNvbmRpdGlvbnMgdW5kZXIgd2hpY2ggdGhlIGhlYWx0aGNhcmUgc2VydmljZSBpcyBhdmFpbGFibGUvb2ZmZXJlZC5cclxuICAgKi9cclxuICBzZXJ2aWNlUHJvdmlzaW9uQ29kZT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBEb2VzIHRoaXMgc2VydmljZSBoYXZlIHNwZWNpZmljIGVsaWdpYmlsaXR5IHJlcXVpcmVtZW50cyB0aGF0IG5lZWQgdG8gYmUgbWV0IGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZT9cclxuICAgKi9cclxuICBlbGlnaWJpbGl0eT86IGZoaXIuQ29kZWFibGVDb25jZXB0QXJnc3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBlbGlnaWJpbGl0eSBjb25kaXRpb25zIGZvciB0aGUgc2VydmljZS5cclxuICAgKi9cclxuICBlbGlnaWJpbGl0eU5vdGU/OiBmaGlyLkZoaXJTdHJpbmd8c3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRlbmRlZCBwcm9wZXJ0aWVzIGZvciBwcmltaXRpdmUgZWxlbWVudDogSGVhbHRoY2FyZVNlcnZpY2UuZWxpZ2liaWxpdHlOb3RlXHJcbiAgICovXHJcbiAgX2VsaWdpYmlsaXR5Tm90ZT86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogUHJvZ3JhbSBOYW1lcyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhdGVnb3JpemUgdGhlIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHJvZ3JhbU5hbWU/OiBmaGlyLkZoaXJTdHJpbmdbXXwoc3RyaW5nfG51bGwpW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5wcm9ncmFtTmFtZVxyXG4gICAqL1xyXG4gIF9wcm9ncmFtTmFtZT86KGZoaXIuRmhpckVsZW1lbnRBcmdzfG51bGwpW107XHJcbiAgLyoqXHJcbiAgICogQ29sbGVjdGlvbiBvZiBjaGFyYWN0ZXJpc3RpY3MgKGF0dHJpYnV0ZXMpLlxyXG4gICAqL1xyXG4gIGNoYXJhY3RlcmlzdGljPzogZmhpci5Db2RlYWJsZUNvbmNlcHRBcmdzW118dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIFdheXMgdGhhdCB0aGUgc2VydmljZSBhY2NlcHRzIHJlZmVycmFscywgaWYgdGhpcyBpcyBub3QgcHJvdmlkZWQgdGhlbiBpdCBpcyBpbXBsaWVkIHRoYXQgbm8gcmVmZXJyYWwgaXMgcmVxdWlyZWQuXHJcbiAgICovXHJcbiAgcmVmZXJyYWxNZXRob2Q/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdEFyZ3NbXXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHB1YmxpYyBwYXJ0IG9mIHRoZSAna2V5cycgYWxsb2NhdGVkIHRvIGFuIE9yZ2FuaXphdGlvbiBieSBhbiBhY2NyZWRpdGVkIGJvZHkgdG8gc3VwcG9ydCBzZWN1cmUgZXhjaGFuZ2Ugb2YgZGF0YSBvdmVyIHRoZSBpbnRlcm5ldC4gVG8gYmUgcHJvdmlkZWQgYnkgdGhlIE9yZ2FuaXphdGlvbiwgd2hlcmUgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpY0tleT86IGZoaXIuRmhpclN0cmluZ3xzdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEV4dGVuZGVkIHByb3BlcnRpZXMgZm9yIHByaW1pdGl2ZSBlbGVtZW50OiBIZWFsdGhjYXJlU2VydmljZS5wdWJsaWNLZXlcclxuICAgKi9cclxuICBfcHVibGljS2V5PzpmaGlyLkZoaXJFbGVtZW50QXJncztcclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgYSBwcm9zcGVjdGl2ZSBjb25zdW1lciB3aWxsIHJlcXVpcmUgYW4gYXBwb2ludG1lbnQgZm9yIGEgcGFydGljdWxhciBzZXJ2aWNlIGF0IGEgc2l0ZSB0byBiZSBwcm92aWRlZCBieSB0aGUgT3JnYW5pemF0aW9uLiBJbmRpY2F0ZXMgaWYgYW4gYXBwb2ludG1lbnQgaXMgcmVxdWlyZWQgZm9yIGFjY2VzcyB0byB0aGlzIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgYXBwb2ludG1lbnRSZXF1aXJlZD86IGZoaXIuRmhpckJvb2xlYW58Ym9vbGVhbnx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEhlYWx0aGNhcmVTZXJ2aWNlLmFwcG9pbnRtZW50UmVxdWlyZWRcclxuICAgKi9cclxuICBfYXBwb2ludG1lbnRSZXF1aXJlZD86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbiAgLyoqXHJcbiAgICogQSBjb2xsZWN0aW9uIG9mIHRpbWVzIHRoYXQgdGhlIFNlcnZpY2UgU2l0ZSBpcyBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgYXZhaWxhYmxlVGltZT86IGZoaXIuSGVhbHRoY2FyZVNlcnZpY2VBdmFpbGFibGVUaW1lQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBUaGUgSGVhbHRoY2FyZVNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZSBkdXJpbmcgdGhpcyBwZXJpb2Qgb2YgdGltZSBkdWUgdG8gdGhlIHByb3ZpZGVkIHJlYXNvbi5cclxuICAgKi9cclxuICBub3RBdmFpbGFibGU/OiBmaGlyLkhlYWx0aGNhcmVTZXJ2aWNlTm90QXZhaWxhYmxlQXJnc1tdfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHNpdGUgYXZhaWxhYmlsaXR5IGV4Y2VwdGlvbnMsIGUuZy4gcHVibGljIGhvbGlkYXkgYXZhaWxhYmlsaXR5LiBTdWNjaW5jdGx5IGRlc2NyaWJpbmcgYWxsIHBvc3NpYmxlIGV4Y2VwdGlvbnMgdG8gbm9ybWFsIHNpdGUgYXZhaWxhYmlsaXR5IGFzIGRldGFpbHMgaW4gdGhlIGF2YWlsYWJsZSBUaW1lcyBhbmQgbm90IGF2YWlsYWJsZSBUaW1lcy5cclxuICAgKi9cclxuICBhdmFpbGFiaWxpdHlFeGNlcHRpb25zPzogZmhpci5GaGlyU3RyaW5nfHN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kZWQgcHJvcGVydGllcyBmb3IgcHJpbWl0aXZlIGVsZW1lbnQ6IEhlYWx0aGNhcmVTZXJ2aWNlLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnNcclxuICAgKi9cclxuICBfYXZhaWxhYmlsaXR5RXhjZXB0aW9ucz86Zmhpci5GaGlyRWxlbWVudEFyZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgZGV0YWlscyBvZiBhIGhlYWx0aGNhcmUgc2VydmljZSBhdmFpbGFibGUgYXQgYSBsb2NhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIZWFsdGhjYXJlU2VydmljZSBleHRlbmRzIGZoaXIuRG9tYWluUmVzb3VyY2Uge1xyXG4gIC8qKlxyXG4gICAqIE1hcHBpbmcgb2YgdGhpcyBkYXRhdHlwZSB0byBhIEZISVIgZXF1aXZhbGVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2Z0c19kYXRhVHlwZTpzdHJpbmcgPSAnSGVhbHRoY2FyZVNlcnZpY2UnO1xyXG4gIC8qKlxyXG4gICAqIFJlc291cmNlIFR5cGUgTmFtZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNvdXJjZVR5cGU6IFwiSGVhbHRoY2FyZVNlcnZpY2VcIjtcclxuICAvKipcclxuICAgKiBFeHRlcm5hbCBpZGVudGlmaWVycyBmb3IgdGhpcyBpdGVtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpZGVudGlmaWVyOiBmaGlyLklkZW50aWZpZXJbXTtcclxuICAvKipcclxuICAgKiBUaGUgb3JnYW5pemF0aW9uIHRoYXQgcHJvdmlkZXMgdGhpcyBoZWFsdGhjYXJlIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgcHVibGljIHByb3ZpZGVkQnk/OiBmaGlyLlJlZmVyZW5jZXx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWRlbnRpZmllcyB0aGUgYnJvYWQgY2F0ZWdvcnkgb2Ygc2VydmljZSBiZWluZyBwZXJmb3JtZWQgb3IgZGVsaXZlcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJ2aWNlQ2F0ZWdvcnk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQSBzcGVjaWZpYyB0eXBlIG9mIHNlcnZpY2UgdGhhdCBtYXkgYmUgZGVsaXZlcmVkIG9yIHBlcmZvcm1lZC5cclxuICAgKi9cclxuICBwdWJsaWMgc2VydmljZVR5cGU6IGZoaXIuSGVhbHRoY2FyZVNlcnZpY2VTZXJ2aWNlVHlwZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb2NhdGlvbiB3aGVyZSB0aGlzIGhlYWx0aGNhcmUgc2VydmljZSBtYXkgYmUgcHJvdmlkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGxvY2F0aW9uOiBmaGlyLlJlZmVyZW5jZXxudWxsO1xyXG4gIC8qKlxyXG4gICAqIEZ1cnRoZXIgZGVzY3JpcHRpb24gb2YgdGhlIHNlcnZpY2UgYXMgaXQgd291bGQgYmUgcHJlc2VudGVkIHRvIGEgY29uc3VtZXIgd2hpbGUgc2VhcmNoaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJ2aWNlTmFtZT86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogQW55IGFkZGl0aW9uYWwgZGVzY3JpcHRpb24gb2YgdGhlIHNlcnZpY2UgYW5kL29yIGFueSBzcGVjaWZpYyBpc3N1ZXMgbm90IGNvdmVyZWQgYnkgdGhlIG90aGVyIGF0dHJpYnV0ZXMsIHdoaWNoIGNhbiBiZSBkaXNwbGF5ZWQgYXMgZnVydGhlciBkZXRhaWwgdW5kZXIgdGhlIHNlcnZpY2VOYW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb21tZW50PzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBFeHRyYSBkZXRhaWxzIGFib3V0IHRoZSBzZXJ2aWNlIHRoYXQgY2FuJ3QgYmUgcGxhY2VkIGluIHRoZSBvdGhlciBmaWVsZHMuXHJcbiAgICovXHJcbiAgcHVibGljIGV4dHJhRGV0YWlscz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlcmUgaXMgYSBwaG90by9zeW1ib2wgYXNzb2NpYXRlZCB3aXRoIHRoaXMgSGVhbHRoY2FyZVNlcnZpY2UsIGl0IG1heSBiZSBpbmNsdWRlZCBoZXJlIHRvIGZhY2lsaXRhdGUgcXVpY2sgaWRlbnRpZmljYXRpb24gb2YgdGhlIHNlcnZpY2UgaW4gYSBsaXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwaG90bz86IGZoaXIuQXR0YWNobWVudHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogTGlzdCBvZiBjb250YWN0cyByZWxhdGVkIHRvIHRoaXMgc3BlY2lmaWMgaGVhbHRoY2FyZSBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0ZWxlY29tOiBmaGlyLkNvbnRhY3RQb2ludFtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBsb2NhdGlvbihzKSB0aGF0IHRoaXMgc2VydmljZSBpcyBhdmFpbGFibGUgdG8gKG5vdCB3aGVyZSB0aGUgc2VydmljZSBpcyBwcm92aWRlZCkuXHJcbiAgICovXHJcbiAgcHVibGljIGNvdmVyYWdlQXJlYTogZmhpci5SZWZlcmVuY2VbXTtcclxuICAvKipcclxuICAgKiBUaGUgY29kZShzKSB0aGF0IGRldGFpbCB0aGUgY29uZGl0aW9ucyB1bmRlciB3aGljaCB0aGUgaGVhbHRoY2FyZSBzZXJ2aWNlIGlzIGF2YWlsYWJsZS9vZmZlcmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXJ2aWNlUHJvdmlzaW9uQ29kZTogZmhpci5Db2RlYWJsZUNvbmNlcHRbXTtcclxuICAvKipcclxuICAgKiBEb2VzIHRoaXMgc2VydmljZSBoYXZlIHNwZWNpZmljIGVsaWdpYmlsaXR5IHJlcXVpcmVtZW50cyB0aGF0IG5lZWQgdG8gYmUgbWV0IGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZT9cclxuICAgKi9cclxuICBwdWJsaWMgZWxpZ2liaWxpdHk/OiBmaGlyLkNvZGVhYmxlQ29uY2VwdHx1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIHRoZSBlbGlnaWJpbGl0eSBjb25kaXRpb25zIGZvciB0aGUgc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgZWxpZ2liaWxpdHlOb3RlPzogZmhpci5GaGlyU3RyaW5nfHVuZGVmaW5lZDtcclxuICAvKipcclxuICAgKiBQcm9ncmFtIE5hbWVzIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2F0ZWdvcml6ZSB0aGUgc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHJvZ3JhbU5hbWU6IGZoaXIuRmhpclN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIENvbGxlY3Rpb24gb2YgY2hhcmFjdGVyaXN0aWNzIChhdHRyaWJ1dGVzKS5cclxuICAgKi9cclxuICBwdWJsaWMgY2hhcmFjdGVyaXN0aWM6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogV2F5cyB0aGF0IHRoZSBzZXJ2aWNlIGFjY2VwdHMgcmVmZXJyYWxzLCBpZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIGl0IGlzIGltcGxpZWQgdGhhdCBubyByZWZlcnJhbCBpcyByZXF1aXJlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVmZXJyYWxNZXRob2Q6IGZoaXIuQ29kZWFibGVDb25jZXB0W107XHJcbiAgLyoqXHJcbiAgICogVGhlIHB1YmxpYyBwYXJ0IG9mIHRoZSAna2V5cycgYWxsb2NhdGVkIHRvIGFuIE9yZ2FuaXphdGlvbiBieSBhbiBhY2NyZWRpdGVkIGJvZHkgdG8gc3VwcG9ydCBzZWN1cmUgZXhjaGFuZ2Ugb2YgZGF0YSBvdmVyIHRoZSBpbnRlcm5ldC4gVG8gYmUgcHJvdmlkZWQgYnkgdGhlIE9yZ2FuaXphdGlvbiwgd2hlcmUgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwdWJsaWNLZXk/OiBmaGlyLkZoaXJTdHJpbmd8dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCBhIHByb3NwZWN0aXZlIGNvbnN1bWVyIHdpbGwgcmVxdWlyZSBhbiBhcHBvaW50bWVudCBmb3IgYSBwYXJ0aWN1bGFyIHNlcnZpY2UgYXQgYSBzaXRlIHRvIGJlIHByb3ZpZGVkIGJ5IHRoZSBPcmdhbml6YXRpb24uIEluZGljYXRlcyBpZiBhbiBhcHBvaW50bWVudCBpcyByZXF1aXJlZCBmb3IgYWNjZXNzIHRvIHRoaXMgc2VydmljZS5cclxuICAgKi9cclxuICBwdWJsaWMgYXBwb2ludG1lbnRSZXF1aXJlZD86IGZoaXIuRmhpckJvb2xlYW58dW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIEEgY29sbGVjdGlvbiBvZiB0aW1lcyB0aGF0IHRoZSBTZXJ2aWNlIFNpdGUgaXMgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhdmFpbGFibGVUaW1lOiBmaGlyLkhlYWx0aGNhcmVTZXJ2aWNlQXZhaWxhYmxlVGltZVtdO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBIZWFsdGhjYXJlU2VydmljZSBpcyBub3QgYXZhaWxhYmxlIGR1cmluZyB0aGlzIHBlcmlvZCBvZiB0aW1lIGR1ZSB0byB0aGUgcHJvdmlkZWQgcmVhc29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBub3RBdmFpbGFibGU6IGZoaXIuSGVhbHRoY2FyZVNlcnZpY2VOb3RBdmFpbGFibGVbXTtcclxuICAvKipcclxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHNpdGUgYXZhaWxhYmlsaXR5IGV4Y2VwdGlvbnMsIGUuZy4gcHVibGljIGhvbGlkYXkgYXZhaWxhYmlsaXR5LiBTdWNjaW5jdGx5IGRlc2NyaWJpbmcgYWxsIHBvc3NpYmxlIGV4Y2VwdGlvbnMgdG8gbm9ybWFsIHNpdGUgYXZhaWxhYmlsaXR5IGFzIGRldGFpbHMgaW4gdGhlIGF2YWlsYWJsZSBUaW1lcyBhbmQgbm90IGF2YWlsYWJsZSBUaW1lcy5cclxuICAgKi9cclxuICBwdWJsaWMgYXZhaWxhYmlsaXR5RXhjZXB0aW9ucz86IGZoaXIuRmhpclN0cmluZ3x1bmRlZmluZWQ7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSGVhbHRoY2FyZVNlcnZpY2UgLSBpbml0aWFsaXplcyBhbnkgcmVxdWlyZWQgZWxlbWVudHMgdG8gbnVsbCBpZiBhIHZhbHVlIGlzIG5vdCBwcm92aWRlZC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6UGFydGlhbDxIZWFsdGhjYXJlU2VydmljZUFyZ3M+ID0ge30sIG9wdGlvbnM6Zmhpci5GaGlyQ29uc3RydWN0b3JPcHRpb25zID0ge30pIHtcclxuICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLnJlc291cmNlVHlwZSA9ICdIZWFsdGhjYXJlU2VydmljZSc7XHJcbiAgICBpZiAoc291cmNlWydpZGVudGlmaWVyJ10pIHsgdGhpcy5pZGVudGlmaWVyID0gc291cmNlLmlkZW50aWZpZXIubWFwKCh4KSA9PiBuZXcgZmhpci5JZGVudGlmaWVyKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuaWRlbnRpZmllciA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydwcm92aWRlZEJ5J10pIHsgdGhpcy5wcm92aWRlZEJ5ID0gbmV3IGZoaXIuUmVmZXJlbmNlKHNvdXJjZS5wcm92aWRlZEJ5KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnc2VydmljZUNhdGVnb3J5J10pIHsgdGhpcy5zZXJ2aWNlQ2F0ZWdvcnkgPSBuZXcgZmhpci5Db2RlYWJsZUNvbmNlcHQoc291cmNlLnNlcnZpY2VDYXRlZ29yeSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcnZpY2VUeXBlJ10pIHsgdGhpcy5zZXJ2aWNlVHlwZSA9IHNvdXJjZS5zZXJ2aWNlVHlwZS5tYXAoKHgpID0+IG5ldyBmaGlyLkhlYWx0aGNhcmVTZXJ2aWNlU2VydmljZVR5cGUoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5zZXJ2aWNlVHlwZSA9IFtdOyB9XHJcbiAgICBpZiAoc291cmNlWydsb2NhdGlvbiddKSB7IHRoaXMubG9jYXRpb24gPSBuZXcgZmhpci5SZWZlcmVuY2Uoc291cmNlLmxvY2F0aW9uKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubG9jYXRpb24gPSBudWxsOyB9XHJcbiAgICBpZiAoc291cmNlWydzZXJ2aWNlTmFtZSddKSB7IHRoaXMuc2VydmljZU5hbWUgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnNlcnZpY2VOYW1lfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19zZXJ2aWNlTmFtZSddKSB7XHJcbiAgICAgIGlmICh0aGlzLnNlcnZpY2VOYW1lKSB7IHRoaXMuc2VydmljZU5hbWUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fc2VydmljZU5hbWUhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5zZXJ2aWNlTmFtZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9zZXJ2aWNlTmFtZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY29tbWVudCddKSB7IHRoaXMuY29tbWVudCA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuY29tbWVudH0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfY29tbWVudCddKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvbW1lbnQpIHsgdGhpcy5jb21tZW50LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX2NvbW1lbnQhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5jb21tZW50ID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2NvbW1lbnQgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2V4dHJhRGV0YWlscyddKSB7IHRoaXMuZXh0cmFEZXRhaWxzID0gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHNvdXJjZS5leHRyYURldGFpbHN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2V4dHJhRGV0YWlscyddKSB7XHJcbiAgICAgIGlmICh0aGlzLmV4dHJhRGV0YWlscykgeyB0aGlzLmV4dHJhRGV0YWlscy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9leHRyYURldGFpbHMhKTsgfVxyXG4gICAgICBlbHNlIHsgdGhpcy5leHRyYURldGFpbHMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHNvdXJjZS5fZXh0cmFEZXRhaWxzIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydwaG90byddKSB7IHRoaXMucGhvdG8gPSBuZXcgZmhpci5BdHRhY2htZW50KHNvdXJjZS5waG90byk7IH1cclxuICAgIGlmIChzb3VyY2VbJ3RlbGVjb20nXSkgeyB0aGlzLnRlbGVjb20gPSBzb3VyY2UudGVsZWNvbS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvbnRhY3RQb2ludCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnRlbGVjb20gPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnY292ZXJhZ2VBcmVhJ10pIHsgdGhpcy5jb3ZlcmFnZUFyZWEgPSBzb3VyY2UuY292ZXJhZ2VBcmVhLm1hcCgoeCkgPT4gbmV3IGZoaXIuUmVmZXJlbmNlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY292ZXJhZ2VBcmVhID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ3NlcnZpY2VQcm92aXNpb25Db2RlJ10pIHsgdGhpcy5zZXJ2aWNlUHJvdmlzaW9uQ29kZSA9IHNvdXJjZS5zZXJ2aWNlUHJvdmlzaW9uQ29kZS5tYXAoKHgpID0+IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdCh4KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnNlcnZpY2VQcm92aXNpb25Db2RlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2VsaWdpYmlsaXR5J10pIHsgdGhpcy5lbGlnaWJpbGl0eSA9IG5ldyBmaGlyLkNvZGVhYmxlQ29uY2VwdChzb3VyY2UuZWxpZ2liaWxpdHkpOyB9XHJcbiAgICBpZiAoc291cmNlWydlbGlnaWJpbGl0eU5vdGUnXSkgeyB0aGlzLmVsaWdpYmlsaXR5Tm90ZSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoe3ZhbHVlOiBzb3VyY2UuZWxpZ2liaWxpdHlOb3RlfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19lbGlnaWJpbGl0eU5vdGUnXSkge1xyXG4gICAgICBpZiAodGhpcy5lbGlnaWJpbGl0eU5vdGUpIHsgdGhpcy5lbGlnaWJpbGl0eU5vdGUuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fZWxpZ2liaWxpdHlOb3RlISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuZWxpZ2liaWxpdHlOb3RlID0gbmV3IGZoaXIuRmhpclN0cmluZyhzb3VyY2UuX2VsaWdpYmlsaXR5Tm90ZSBhcyBQYXJ0aWFsPGZoaXIuRmhpclN0cmluZ0FyZ3M+KTsgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsncHJvZ3JhbU5hbWUnXSkgeyB0aGlzLnByb2dyYW1OYW1lID0gc291cmNlLnByb2dyYW1OYW1lLm1hcCgoeCkgPT4gbmV3IGZoaXIuRmhpclN0cmluZyh7dmFsdWU6IHh9KSk7IH1cclxuICAgIGVsc2UgeyB0aGlzLnByb2dyYW1OYW1lID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ19wcm9ncmFtTmFtZSddKSB7XHJcbiAgICAgIHNvdXJjZS5fcHJvZ3JhbU5hbWUuZm9yRWFjaCgoeCxpKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbU5hbWUubGVuZ3RoID49IGkpIHsgaWYgKHgpIHsgdGhpcy5wcm9ncmFtTmFtZVtpXS5hZGRFeHRlbmRlZFByb3BlcnRpZXMoeCk7IH0gfVxyXG4gICAgICAgIGVsc2UgeyBpZiAoeCkgeyB0aGlzLnByb2dyYW1OYW1lLnB1c2gobmV3IGZoaXIuRmhpclN0cmluZyh4IGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pKTsgfSB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNvdXJjZVsnY2hhcmFjdGVyaXN0aWMnXSkgeyB0aGlzLmNoYXJhY3RlcmlzdGljID0gc291cmNlLmNoYXJhY3RlcmlzdGljLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMuY2hhcmFjdGVyaXN0aWMgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncmVmZXJyYWxNZXRob2QnXSkgeyB0aGlzLnJlZmVycmFsTWV0aG9kID0gc291cmNlLnJlZmVycmFsTWV0aG9kLm1hcCgoeCkgPT4gbmV3IGZoaXIuQ29kZWFibGVDb25jZXB0KHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMucmVmZXJyYWxNZXRob2QgPSBbXTsgfVxyXG4gICAgaWYgKHNvdXJjZVsncHVibGljS2V5J10pIHsgdGhpcy5wdWJsaWNLZXkgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLnB1YmxpY0tleX0pOyB9XHJcbiAgICBpZiAoc291cmNlWydfcHVibGljS2V5J10pIHtcclxuICAgICAgaWYgKHRoaXMucHVibGljS2V5KSB7IHRoaXMucHVibGljS2V5LmFkZEV4dGVuZGVkUHJvcGVydGllcyhzb3VyY2UuX3B1YmxpY0tleSEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLnB1YmxpY0tleSA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9wdWJsaWNLZXkgYXMgUGFydGlhbDxmaGlyLkZoaXJTdHJpbmdBcmdzPik7IH1cclxuICAgIH1cclxuICAgIGlmIChzb3VyY2VbJ2FwcG9pbnRtZW50UmVxdWlyZWQnXSkgeyB0aGlzLmFwcG9pbnRtZW50UmVxdWlyZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbih7dmFsdWU6IHNvdXJjZS5hcHBvaW50bWVudFJlcXVpcmVkfSk7IH1cclxuICAgIGlmIChzb3VyY2VbJ19hcHBvaW50bWVudFJlcXVpcmVkJ10pIHtcclxuICAgICAgaWYgKHRoaXMuYXBwb2ludG1lbnRSZXF1aXJlZCkgeyB0aGlzLmFwcG9pbnRtZW50UmVxdWlyZWQuYWRkRXh0ZW5kZWRQcm9wZXJ0aWVzKHNvdXJjZS5fYXBwb2ludG1lbnRSZXF1aXJlZCEpOyB9XHJcbiAgICAgIGVsc2UgeyB0aGlzLmFwcG9pbnRtZW50UmVxdWlyZWQgPSBuZXcgZmhpci5GaGlyQm9vbGVhbihzb3VyY2UuX2FwcG9pbnRtZW50UmVxdWlyZWQgYXMgUGFydGlhbDxmaGlyLkZoaXJCb29sZWFuQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlWydhdmFpbGFibGVUaW1lJ10pIHsgdGhpcy5hdmFpbGFibGVUaW1lID0gc291cmNlLmF2YWlsYWJsZVRpbWUubWFwKCh4KSA9PiBuZXcgZmhpci5IZWFsdGhjYXJlU2VydmljZUF2YWlsYWJsZVRpbWUoeCkpOyB9XHJcbiAgICBlbHNlIHsgdGhpcy5hdmFpbGFibGVUaW1lID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ25vdEF2YWlsYWJsZSddKSB7IHRoaXMubm90QXZhaWxhYmxlID0gc291cmNlLm5vdEF2YWlsYWJsZS5tYXAoKHgpID0+IG5ldyBmaGlyLkhlYWx0aGNhcmVTZXJ2aWNlTm90QXZhaWxhYmxlKHgpKTsgfVxyXG4gICAgZWxzZSB7IHRoaXMubm90QXZhaWxhYmxlID0gW107IH1cclxuICAgIGlmIChzb3VyY2VbJ2F2YWlsYWJpbGl0eUV4Y2VwdGlvbnMnXSkgeyB0aGlzLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnMgPSBuZXcgZmhpci5GaGlyU3RyaW5nKHt2YWx1ZTogc291cmNlLmF2YWlsYWJpbGl0eUV4Y2VwdGlvbnN9KTsgfVxyXG4gICAgaWYgKHNvdXJjZVsnX2F2YWlsYWJpbGl0eUV4Y2VwdGlvbnMnXSkge1xyXG4gICAgICBpZiAodGhpcy5hdmFpbGFiaWxpdHlFeGNlcHRpb25zKSB7IHRoaXMuYXZhaWxhYmlsaXR5RXhjZXB0aW9ucy5hZGRFeHRlbmRlZFByb3BlcnRpZXMoc291cmNlLl9hdmFpbGFiaWxpdHlFeGNlcHRpb25zISk7IH1cclxuICAgICAgZWxzZSB7IHRoaXMuYXZhaWxhYmlsaXR5RXhjZXB0aW9ucyA9IG5ldyBmaGlyLkZoaXJTdHJpbmcoc291cmNlLl9hdmFpbGFiaWxpdHlFeGNlcHRpb25zIGFzIFBhcnRpYWw8Zmhpci5GaGlyU3RyaW5nQXJncz4pOyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHBlcmZvcm0gYmFzaWMgbW9kZWwgdmFsaWRhdGlvbiAoZS5nLiwgY2hlY2sgaWYgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnQpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBkb01vZGVsVmFsaWRhdGlvbihleHA6c3RyaW5nID0gJycpOmZoaXIuRnRzSXNzdWVbXSB7XHJcbiAgICBsZXQgaXNzdWVzOmZoaXIuRnRzSXNzdWVbXSA9IHN1cGVyLmRvTW9kZWxWYWxpZGF0aW9uKGV4cCk7XHJcbiAgICBpZiAoZXhwID09PSAnJykgeyBleHAgPSAnSGVhbHRoY2FyZVNlcnZpY2UnIH1cclxuICAgIHRoaXMudlJTKCdyZXNvdXJjZVR5cGUnLGV4cClcclxuICAgIHRoaXMudk9BKCdpZGVudGlmaWVyJyxleHApXHJcbiAgICB0aGlzLnZPUygncHJvdmlkZWRCeScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ3NlcnZpY2VDYXRlZ29yeScsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3NlcnZpY2VUeXBlJyxleHApXHJcbiAgICB0aGlzLnZSUygnbG9jYXRpb24nLGV4cClcclxuICAgIHRoaXMudk9TKCdzZXJ2aWNlTmFtZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2NvbW1lbnQnLGV4cClcclxuICAgIHRoaXMudk9TKCdleHRyYURldGFpbHMnLGV4cClcclxuICAgIHRoaXMudk9TKCdwaG90bycsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3RlbGVjb20nLGV4cClcclxuICAgIHRoaXMudk9BKCdjb3ZlcmFnZUFyZWEnLGV4cClcclxuICAgIHRoaXMudk9BKCdzZXJ2aWNlUHJvdmlzaW9uQ29kZScsZXhwKVxyXG4gICAgdGhpcy52T1MoJ2VsaWdpYmlsaXR5JyxleHApXHJcbiAgICB0aGlzLnZPUygnZWxpZ2liaWxpdHlOb3RlJyxleHApXHJcbiAgICB0aGlzLnZPQSgncHJvZ3JhbU5hbWUnLGV4cClcclxuICAgIHRoaXMudk9BKCdjaGFyYWN0ZXJpc3RpYycsZXhwKVxyXG4gICAgdGhpcy52T0EoJ3JlZmVycmFsTWV0aG9kJyxleHApXHJcbiAgICB0aGlzLnZPUygncHVibGljS2V5JyxleHApXHJcbiAgICB0aGlzLnZPUygnYXBwb2ludG1lbnRSZXF1aXJlZCcsZXhwKVxyXG4gICAgdGhpcy52T0EoJ2F2YWlsYWJsZVRpbWUnLGV4cClcclxuICAgIHRoaXMudk9BKCdub3RBdmFpbGFibGUnLGV4cClcclxuICAgIHRoaXMudk9TKCdhdmFpbGFiaWxpdHlFeGNlcHRpb25zJyxleHApXHJcbiAgICByZXR1cm4gaXNzdWVzO1xyXG4gIH1cclxufVxyXG4iXX0=